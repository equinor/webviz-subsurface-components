/*! For license information please see async-webviz-well-log-viewer.js.LICENSE.txt */
(self.webpackChunkwebviz_subsurface_components=self.webpackChunkwebviz_subsurface_components||[]).push([[824],{42285:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var o=n(54991),i=n.n(o),r=n(76314),s=n.n(r)()(i());s.push([t.id,".side-panel{min-width:255px;max-width:255px;font-size:12px;display:flex;flex-direction:column;height:100%}.side-panel .readout{overflow-y:auto;overflow-x:hidden}.side-panel .readout table{border-spacing:0px;width:100%}.side-panel .readout table .group-row{cursor:pointer}.side-panel .readout table .group-row .group-row-name{font-weight:bold}.side-panel .readout table .row-info{font-size:smaller}.side-panel .readout table .row-name{min-width:110px;max-width:110px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.side-panel .readout table .row-name:before{content:attr(title)}.side-panel .readout table .row-value{min-width:50px;max-width:50px;padding-left:.5em;text-align:right;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.side-panel .readout table .row-value:before{content:attr(title)}.side-panel .readout table .row-units{min-width:35px;max-width:35px;padding-left:.5em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.side-panel .readout table .row-units:before{content:attr(title)}.side-panel .zoom{padding-top:5px;padding-left:10px;display:flex}.side-panel .zoom .zoom-label{padding-top:6px;padding-right:8px}.side-panel .zoom .zoom-value{flex:1 1 100px;padding:0 20px 0 10px}.side-panel .scale{padding-left:10px;display:flex}.side-panel .scale .scale-label{padding-top:4px;padding-right:8px}","",{version:3,sources:["webpack://./../typescript/packages/well-log-viewer/dist/components/SidePanel.scss"],names:[],mappings:"AACA,YACE,eAAA,CACA,eAAA,CACA,cAAA,CACA,YAAA,CACA,qBAAA,CACA,WAAA,CAMA,qBACE,eAAA,CACA,iBAAA,CAIA,2BACE,kBAAA,CACA,UAAA,CAEA,sCACE,cAAA,CACA,sDACE,gBAAA,CAIJ,qCACE,iBAAA,CAGF,qCACE,eAAA,CACA,eAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,4CACE,mBAAA,CAIJ,sCACE,cAAA,CACA,cAAA,CACA,iBAAA,CACA,gBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,6CACE,mBAAA,CAIJ,sCACE,cAAA,CACA,cAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,6CACE,mBAAA,CAKR,kBACE,eAAA,CACA,iBAAA,CACA,YAAA,CACA,8BACI,eAAA,CACA,iBAAA,CAEJ,8BACI,cAAA,CACA,qBAAA,CAGN,mBACE,iBAAA,CACA,YAAA,CACA,gCACE,eAAA,CACA,iBAAA",sourcesContent:["\n.side-panel {\n  min-width: 255px;\n  max-width: 255px;  \n  font-size: 12px;    \n  display: flex;\n  flex-direction: column;\n  height: 100%;\n\n  /*.axis-selector {\n    legend {\n    }\n  }*/\n  .readout {\n    overflow-y: auto;\n    overflow-x: hidden;\n\n    /*legend {\n    }*/\n    table {\n      border-spacing: 0px;\n      width: 100%;\n\n      .group-row {\n        cursor: pointer;\n        .group-row-name {\n          font-weight: bold\n        }\n      }\n\n      .row-info {\n        font-size: smaller;\n      }\n\n      .row-name {\n        min-width: 110px;\n        max-width: 110px;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        &:before {\n          content: attr(title);\n        }\n      }\n\n      .row-value {\n        min-width: 50px;\n        max-width: 50px;\n        padding-left: 0.5em;\n        text-align: right;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        &:before {\n          content: attr(title);\n        }\n      }\n\n      .row-units {\n        min-width: 35px;\n        max-width: 35px;\n        padding-left: 0.5em;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        &:before {\n          content: attr(title);\n        }\n      }\n    }\n  }\n  .zoom {\n    padding-top: 5px;\n    padding-left: 10px;\n    display: flex;\n    .zoom-label {\n        padding-top: 6px;\n        padding-right: 8px;\n    }\n    .zoom-value {\n        flex: 1 1 100px;\n        padding: 0 20px 0 10px;\n    }\n  } \n  .scale {\n    padding-left: 10px;\n    display: flex;\n    .scale-label {\n      padding-top: 4px;\n      padding-right: 8px;\n    }\n    .scale-value {\n    }\n  }\n}"],sourceRoot:""}]);const l=s},49722:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var o=n(54991),i=n.n(o),r=n(76314),s=n.n(r)()(i());s.push([t.id,".welllog-layout{height:100%;width:100%;display:flex;flex-direction:column}.welllog-layout .header-footer{flex:0;width:100%}.welllog-layout .interior{flex:1;height:0pt;width:100%;display:flex;flex-direction:row}.welllog-layout .top-bottom{flex:0}.welllog-layout .middle{flex:1;height:100%;width:0pt;display:flex;flex-direction:column}.welllog-layout .left-right{flex:0;height:100%}","",{version:3,sources:["webpack://./../typescript/packages/well-log-viewer/dist/components/WellLogLayout.scss"],names:[],mappings:"AAAA,gBACE,WAAA,CACA,UAAA,CACA,YAAA,CACA,qBAAA,CACA,+BACE,MAAA,CACA,UAAA,CAEF,0BACE,MAAA,CACA,UAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CAEF,4BACE,MAAA,CAEF,wBACE,MAAA,CACA,WAAA,CACA,SAAA,CACA,YAAA,CACA,qBAAA,CAEF,4BACE,MAAA,CACA,WAAA",sourcesContent:[".welllog-layout {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  .header-footer { \n    flex: 0;\n    width: 100%;\n  }\n  .interior {\n    flex: 1;\n    height: 0pt;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n  }\n  .top-bottom { \n    flex: 0;\n  }\n  .middle{\n    flex: 1;\n    height: 100%;\n    width: 0pt;\n    display: flex;\n    flex-direction: column;\n  }\n  .left-right { \n    flex: 0; \n    height: 100%;\n  }\n}\n"],sourceRoot:""}]);const l=s},2980:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var o=n(54991),i=n.n(o),r=n(76314),s=n.n(r)()(i());s.push([t.id,'.log-controller{position:relative;user-select:none;flex:1 1 0%;flex-direction:row;display:flex;font-family:Verdana,Tahoma,sans-serif;background-color:#fff;pointer-events:none;overflow:hidden}.log-controller .track{border-right:1px solid #333;overflow:hidden;padding:0;display:flex;flex-direction:column}.log-controller .track .track-title{display:flex;justify-content:center;align-items:center;font-family:sans-serif;font-weight:bold;overflow:hidden;background-color:rgba(0,0,0,0);color:#555;text-align:center;text-anchor:middle;white-space:nowrap;border-bottom:1px solid #333;pointer-events:auto;cursor:help}.log-controller .track .track-legend{pointer-events:all;overflow:hidden;border-bottom:1px solid #333}.log-controller .track .track-container{flex:1 1 auto;overflow:hidden}.log-controller .track .track-container canvas,.log-controller .track .track-container svg{overflow:hidden}.log-controller .track:last-child{border-right:none}.log-controller .track .error{background:repeating-linear-gradient(-45deg, #f99, #f99 10px, #fff 10px, #fff 20px)}.log-controller .overlay{pointer-events:auto;min-height:0;position:absolute;z-index:200}.log-controller .hidden{display:none !important}.log-controller.horizontal{flex-direction:column}.log-controller.horizontal .track{flex-direction:row;border-right:none;border-bottom:1px solid #333}.log-controller.horizontal .track .track-title{writing-mode:vertical-lr;transform:rotate(180deg);border-bottom:none;border-left:1px solid #333}.log-controller.horizontal .track .track-legend{border-bottom:none;border-right:1px solid #333}.log-controller.horizontal .track:last-child{border-bottom:none}.scale-track{stroke:#555}.scale-track .label-bg{stroke:#fff;fill:#fff}.slave-scale{background-color:#f9f9f9}.slave-scale .label-bg{stroke:#f9f9f9;fill:#f9f9f9}.slave-scale text{stroke:#777;fill:#777}.slave-scale .major-tick-line{stroke-width:.5;stroke:#777}.master-scale .major-tick .label-bg{stroke:#fff;fill:#fff}.master-scale .major-tick text{stroke:#555;fill:#555}.master-scale .minor-tick-line{stroke-width:.5;stroke:#555}.welllogview{width:100%;height:100%;display:flex;height:inherit}.welllogview .track .track-title{background-color:#ccc;font-weight:normal;color:#000;font-family:inherit;white-space:nowrap;display:block;text-overflow:ellipsis;overflow:hidden}.welllogview .selected{background-color:rgba(255,155,79,.1)}.welllogview .slave-scale{background-color:rgba(255,255,255,.0235)}.welllogview .track-container{pointer-events:all}.welllogview .overlay .depth{right:5px;bottom:5px;display:inline-block;padding:2px;border-radius:4px;text-align:right;background-color:rgba(0,0,0,.5);color:#fff}.welllogview .overlay .rubber-band{background-color:rgba(255,0,0,.1)}.welllogview .overlay .rubber-band div{background-color:rgba(255,0,0,.7)}.welllogview .overlay .pinned{background-color:rgba(0,0,0,.1)}.welllogview .overlay .pinned div{background-color:rgba(0,255,0,.7)}.welllogview .title{color:#000;background-color:#f1f1f1;font-size:14px;text-align:center;flex:"0, 0"}.welllogview .title-horizontal{writing-mode:vertical-lr;transform:rotate(180deg)}.welllogview .view{width:100%;height:100%;flex:1,1;display:flex;flex-direction:column}.welllogview .view container{flex:1,1}.welllogview .error{flex:0,0;color:#ff4040;background-color:#ffffc0}.welllogview .wellpick{font-size:9px}.welllogview .wellpick .vertical-text{writing-mode:vertical-lr;transform:rotate(180deg)}.welllogview .wellpick-fill{opacity:.3}.welllogview .wellpick-pattern{opacity:.57}.welllogspacer{width:100%;height:100%;display:flex}.welllogspacer .welllogspacer-distance-horizontal{writing-mode:vertical-lr;transform:rotate(180deg)}.welllogspacer .distance{font-size:12;text-align:center}.welllogspacer .wellpick{opacity:.9}.welllogspacer .wellpick-fill{opacity:.3}.welllogspacer .wellpick-pattern{opacity:.57}',"",{version:3,sources:["webpack://./../typescript/node_modules/@equinor/videx-wellog/dist/styles/log-styles.scss","webpack://./../typescript/node_modules/@equinor/videx-wellog/dist/styles/scale-styles.scss","webpack://./../typescript/packages/well-log-viewer/dist/components/styles.scss"],names:[],mappings:"AAKA,gBACE,iBAAA,CACA,gBAAA,CACA,WAAA,CACA,kBAAA,CACA,YAAA,CACA,qCAAA,CACA,qBAZQ,CAaR,mBAAA,CACA,eAAA,CACA,uBACE,2BAAA,CACA,eAAA,CACA,SAAA,CACA,YAAA,CACA,qBAAA,CACA,oCACE,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,sBAAA,CACA,gBAAA,CACA,eAAA,CACA,8BAzBU,CA0BV,UA3Ba,CA4Bb,iBAAA,CACA,kBAAA,CACA,kBAAA,CACA,4BAAA,CACA,mBAAA,CACA,WAAA,CAEF,qCACE,kBAAA,CACA,eAAA,CACA,4BAAA,CAEF,wCACE,aAAA,CACA,eAAA,CACA,2FACE,eAAA,CAIN,kCACE,iBAAA,CAEF,8BACE,mFAAA,CAQF,yBACE,mBAAA,CACA,YAAA,CACA,iBAAA,CACA,WAAA,CAGF,wBACE,uBAAA,CAIJ,2BACE,qBAAA,CACA,kCACE,kBAAA,CACA,iBAAA,CACA,4BAAA,CACA,+CACE,wBAAA,CACA,wBAAA,CACA,kBAAA,CACA,0BAAA,CAEF,gDACE,kBAAA,CACA,2BAAA,CAGJ,6CACE,kBAAA,CCtFJ,aACE,WAPmB,CAQnB,uBACE,WANO,CAOP,SAPO,CAUX,aACE,wBAZqB,CAevB,uBACE,cAhBqB,CAiBrB,YAjBqB,CAoBvB,kBACE,WAtBkB,CAuBlB,SAvBkB,CA0BpB,8BACE,eAAA,CACA,WA5BkB,CA+BpB,oCACE,WA9BS,CA+BT,SA/BS,CAkCX,+BACE,WAtCmB,CAuCnB,SAvCmB,CA0CrB,+BACE,eAAA,CACA,WA5CmB,CCQrB,aACE,UAAA,CACA,WAAA,CACA,YAAA,CAGA,cAAA,CAGE,iCACE,qBAAA,CACA,kBAAA,CACA,UAAA,CACA,mBAAA,CACA,kBAAA,CACA,aAAA,CACA,sBAAA,CACA,eAAA,CAWJ,uBACE,oCAAA,CAGF,0BACE,wCAAA,CAGF,8BACE,kBAAA,CAIA,6BAEE,SAAA,CACA,UAAA,CACA,oBAAA,CAEA,WAAA,CACA,iBAAA,CACA,gBAAA,CACA,+BAAA,CACA,UAAA,CAGF,mCACE,iCAAA,CAEA,uCACE,iCAAA,CAIJ,8BACE,+BAAA,CAEA,kCACE,iCAAA,CAKN,oBACE,UAAA,CACA,wBAAA,CACA,cAAA,CACA,iBAAA,CACA,WAAA,CAEF,+BACE,wBAAA,CACA,wBAAA,CAGF,mBACE,UAAA,CACA,WAAA,CACA,QAAA,CACA,YAAA,CACA,qBAAA,CAEA,6BACE,QAAA,CAIJ,oBACE,QAAA,CACA,aAAA,CACA,wBAAA,CAGF,uBACE,aAAA,CAEA,sCACE,wBAAA,CACA,wBAAA,CAIJ,4BACE,UAAA,CAGF,+BACE,WAAA,CAKJ,eACE,UAAA,CACA,WAAA,CACA,YAAA,CAEA,kDACE,wBAAA,CACA,wBAAA,CAEF,yBACE,YAAA,CACA,iBAAA,CAGF,yBACE,UAAA,CAGF,8BACE,UAAA,CAGF,iCACE,WAAA",sourcesContent:["$plot_bg: white;\n$plot_border_color: #333;\n$plot_title_color: #555;\n$plot_title_bg: transparent;\n\n.log-controller {\n  position: relative;\n  user-select: none;\n  flex: 1 1 0%;\n  flex-direction: row;\n  display: flex;\n  font-family: Verdana, Tahoma, sans-serif;\n  background-color: $plot_bg;\n  pointer-events: none;\n  overflow: hidden;\n  .track {\n    border-right: 1px solid $plot_border_color;\n    overflow: hidden;\n    padding: 0;\n    display: flex;\n    flex-direction: column;\n    .track-title {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-family: sans-serif;\n      font-weight: bold;\n      overflow: hidden;\n      background-color: $plot_title_bg;\n      color: $plot_title_color;\n      text-align: center;\n      text-anchor: middle;\n      white-space: nowrap;\n      border-bottom: 1px solid $plot_border_color;\n      pointer-events: auto;\n      cursor: help;\n    }\n    .track-legend {\n      pointer-events: all;\n      overflow: hidden;\n      border-bottom: 1px solid $plot_border_color;\n    }\n    .track-container {\n      flex: 1 1 auto;\n      overflow: hidden;\n      canvas,svg {\n        overflow: hidden;\n      }\n    }\n  }\n  .track:last-child {\n    border-right: none;\n  }\n  .track .error {\n    background: repeating-linear-gradient(\n      -45deg,\n      #f99,\n      #f99 10px,\n      #fff 10px,\n      #fff 20px\n    );\n  }\n  .overlay {\n    pointer-events: auto;\n    min-height: 0;\n    position: absolute;\n    z-index: 200;\n  }\n\n  .hidden {\n    display: none !important;\n  }\n}\n\n.log-controller.horizontal {\n  flex-direction: column;\n  .track {\n    flex-direction: row;\n    border-right: none;\n    border-bottom: 1px solid $plot_border_color;\n    .track-title {\n      writing-mode: vertical-lr;\n      transform: rotate(180deg);\n      border-bottom: none;\n      border-left: 1px solid $plot_border_color;\n    }\n    .track-legend {\n      border-bottom: none;\n      border-right: 1px solid $plot_border_color;\n    }\n  }\n  .track:last-child {\n    border-bottom: none;\n  }\n}\n","$scale_master_color: #555;\n$scale_minor_color: #777;\n$scale_slave_scale_bg: #f9f9f9;\n$scale_bg: white;\n\n\n.scale-track {\n  stroke: $scale_master_color; }\n  .scale-track .label-bg {\n    stroke: $scale_bg;\n    fill: $scale_bg;\n}\n\n.slave-scale {\n  background-color: $scale_slave_scale_bg;\n}\n\n.slave-scale .label-bg {\n  stroke: $scale_slave_scale_bg;\n  fill: $scale_slave_scale_bg;\n}\n\n.slave-scale text {\n  stroke: $scale_minor_color;\n  fill: $scale_minor_color;\n}\n\n.slave-scale .major-tick-line {\n  stroke-width: 0.5;\n  stroke: $scale_minor_color;\n}\n\n.master-scale .major-tick .label-bg {\n  stroke: $scale_bg;\n  fill: $scale_bg;\n}\n\n.master-scale .major-tick text {\n  stroke: $scale_master_color;\n  fill: $scale_master_color;\n}\n\n.master-scale .minor-tick-line {\n  stroke-width: 0.5;\n  stroke: $scale_master_color;\n}\n\n","// These are important to properly display the component\n@import '@equinor/videx-wellog/dist/styles/log-styles.scss';\n//@import '@equinor/videx-wellog/dist/styles/loader-styles.scss';\n@import '@equinor/videx-wellog/dist/styles/scale-styles.scss';\n\n\n//$scale_slave_scale_bg: #ff0000;\n\n.welllogview {\n  width: 100%;\n  height: 100%;\n  display: flex;\n\n  // redefine videx-wellog log-controller\n  height: inherit;\n\n  .track {\n    .track-title {\n      background-color: #ccc;\n      font-weight: normal;\n      color: black;\n      font-family: inherit;\n      white-space: nowrap;\n      display: block;\n      text-overflow: ellipsis;\n      overflow: hidden;\n    }\n    .track-legend {\n      /*.scale-title {\n        display: block;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }*/\n    }\n  }\n\n  .selected {\n    background-color: rgba(255, 155, 79, 0.1);\n  }\n\n  .slave-scale {\n    background-color: rgba(255, 255, 255, 0.0235); // to make track selection background visible\n  }\n\n  .track-container {\n    pointer-events: all; // to allow mouse events handling\n  }\n\n  .overlay {\n    .depth {\n      //not work?? position : absolute;\n      right: 5px;\n      bottom: 5px;\n      display: inline-block;\n\n      padding: 2px;\n      border-radius: 4px;\n      text-align: right;\n      background-color: rgba(0, 0, 0, 0.5);\n      color: white;\n    }\n\n    .rubber-band {\n      background-color: rgba(255, 0, 0, 0.1);\n\n      div {\n        background-color: rgba(255, 0, 0, 0.7);\n      }\n    }\n\n    .pinned {\n      background-color: rgba(0, 0, 0, 0.1);\n\n      div {\n        background-color: rgba(0, 255, 0, 0.7);\n      }\n    }\n  }\n\n  .title {\n    color: rgb(0, 0, 0);\n    background-color: rgb(241, 241, 241);\n    font-size: 14px;\n    text-align: center;\n    flex: \"0, 0\",\n  }\n  .title-horizontal {\n    writing-mode: vertical-lr;\n    transform: rotate(180deg);\n  }                          \n\n  .view {\n    width: 100%;\n    height: 100%;\n    flex: 1, 1;\n    display: flex;\n    flex-direction: column;\n\n    container { \n      flex: 1, 1;\n    }\n  }  \n\n  .error {\n    flex: 0, 0;\n    color: rgb(255, 64, 64);\n    background-color: rgb(255, 255, 192)\n  }\n\n  .wellpick {\n    font-size: 9px;\n\n    .vertical-text {\n      writing-mode: vertical-lr;\n      transform: rotate(180deg);\n    }\n  }\n\n  .wellpick-fill {\n    opacity: 0.3;\n  }\n\n  .wellpick-pattern {\n    opacity: 0.57\n  }\n}\n\n\n.welllogspacer {\n  width: 100%;\n  height: 100%;\n  display: flex;\n\n  .welllogspacer-distance-horizontal {\n    writing-mode: vertical-lr;\n    transform: rotate(180deg);\n  }\n  .distance { \n    font-size: 12;\n    text-align: center;\n  }\n\n  .wellpick {\n    opacity: 0.9\n  }\n\n  .wellpick-fill {\n    opacity: 0.3\n  }\n\n  .wellpick-pattern {\n    opacity: 0.57\n  }\n}\n\n"],sourceRoot:""}]);const l=s},41462:(t,e,n)=>{"use strict";n.r(e),n.d(e,{SyncLogViewer:()=>Sa,WellLogSpacer:()=>ba,WellLogView:()=>Vl,WellLogViewWithScroller:()=>Yl,WellLogViewer:()=>da,default:()=>da});var o=n(11460),i=n.n(o),r=n(29144),s=n.n(r),l=n(85072),a=n.n(l),c=n(97825),u=n.n(c),d=n(77659),h=n.n(d),p=n(55056),f=n.n(p),m=n(10540),g=n.n(m),v=n(41113),b=n.n(v),y=n(49722),A={};A.styleTagTransform=b(),A.setAttributes=f(),A.insert=h().bind(null,"head"),A.domAPI=u(),A.insertStyleElement=g(),a()(y.A,A),y.A&&y.A.locals&&y.A.locals;class x extends o.Component{constructor(t){super(t)}createPanel(t){return"function"==typeof t?t(this.props.parent):t}render(){const t=this.createPanel(this.props.center);let e,n,o,r,s,l;const a=this.props.layout;return a?(e=this.createPanel(a.header),n=this.createPanel(a.left),o=this.createPanel(a.right),r=this.createPanel(a.top),s=this.createPanel(a.bottom),l=this.createPanel(a.footer)):(e=void 0,n=void 0,o=void 0,r=void 0,s=void 0,l=void 0),i().createElement("div",{className:"welllog-layout"},e&&i().createElement("div",{className:"header-footer"},e),i().createElement("div",{className:"interior"},n&&i().createElement("div",{className:"left-right"},n),i().createElement("div",{className:"middle"},r&&i().createElement("div",{className:"top-bottom"},r),t,s&&i().createElement("div",{className:"top-bottom"},s)),o&&i().createElement("div",{className:"left-right"},o)),l&&i().createElement("div",{className:"header-footer"},l))}}const w=x;class C extends o.Component{createItem(t,e){return i().createElement("div",{key:e},i().createElement("input",{type:"radio",value:e,checked:this.props.value===e,onChange:t=>{this.props.onChange(t.target.value)}}),t)}render(){return this.props.autoHide&&this.props.axes.length<=1?i().createElement(i().Fragment,null):i().createElement("div",{className:"axis-selector"},i().createElement("fieldset",null,i().createElement("legend",null,this.props.header),this.props.axes.map((t=>this.createItem(this.props.axisTitles?this.props.axisTitles[t]:t,t)))))}}const k=C;var S=n(67109),M=n(32665);function T(t,e,n){const o=(0,M.Ltv)(t),{horizontal:i,label:r,abbr:s}=n.options,l=i;let{height:a,width:c,top:u}=e;if(a+=u,i!=l){u=0;const t=a;a=c,c=t}const d=Math.min(12,a/3.3),h=.1*d,p=c/2;u=5;let f=u+a;f-=(a-3.3*d)/2;const m=f-d/1.2,g=m-d+h,v=g-d-h,b=!(n instanceof S.StackedTrack);let y=d;y=Math.max(6,Math.min(y,c*(b?.25:.15)));const A=o.select(".legend"),x=A.select("text.scale-title");if((0,S.setAttrs)(x,{transform:l?`translate(${b?v:g}, ${p})rotate(-90)`:`translate(${p},${b?v:g})`,"font-size":`${y}px`,fill:n instanceof S.DualScaleTrack&&n.isMaster?"black":"#555"}),x.text(s||r||"???"),b&&n.extent){const t=A.select("text.scale-range");(0,S.setAttrs)(t,{transform:l?`translate(${g},${p})rotate(-90)`:`translate(${p},${g})`,"font-size":`${y}px`});const[e,o]=n.extent,i=Math.round(2*(o-e))/2;t.text(Number.isNaN(i)?"-":i);const r=A.select("text.scale-units");(0,S.setAttrs)(r,{transform:l?`translate(${m},${p})rotate(-90)`:`translate(${p},${m})`,"font-size":y/1.2+"px"}),r.text(n.options.units||"units")}}const _={elementType:"svg",getLegendRows:()=>2,onInit:(t,e,n)=>{e.legendUpdate=n;const o=(0,M.Ltv)(t);o.selectAll("g.legend").remove();const i=o.append("g").attr("class","legend");i.append("text").classed("scale-title",!0).attr("font-weight","600").style("text-anchor","middle"),i.append("text").attr("class","scale-range").style("text-anchor","middle"),i.append("text").attr("class","scale-units").style("text-anchor","middle")},onUpdate:T},E={elementType:"svg",getLegendRows:()=>2,onInit:(t,e,n)=>{e.legendUpdate=n;const o=(0,M.Ltv)(t);o.selectAll("g.legend").remove(),o.append("g").attr("class","legend").append("text").classed("scale-title",!0).style("text-anchor","middle")},onUpdate:T};function N(t){return!!t&&!!t.func}function z(t,e){let n=-1,o=t.length;for(;1+n<o;){const i=n+(o-n>>1);t[i][0]>e?o=i:n=i}return o}function I(t,e){return t?"#"+(16777216|t[0]<<16|t[1]<<8|t[2]).toString(16).substring(1):e}function P(t){return"#"+(16777216|t[1]<<16|t[2]<<8|t[3]).toString(16).substring(1)}function R(t,e){if(N(t))return t.func(e);const n=t,o=n.colorNaN?n.colorNaN:[255,255,255];if(Number.isNaN(e))return o;const i=n.colors,r=z(i,e),s=n.colorBelow?n.colorBelow:o;if(r<=0)return s;const l=n.colorAbove?n.colorAbove:s;if(r>=i.length)return l;const a=i[r-1],c=i[r],u=(e-a[0])/(c[0]-a[0]);return[a[1]+u*(c[1]-a[1]),a[2]+u*(c[2]-a[2]),a[3]+u*(c[3]-a[3])]}function L(t,e){if(N(t))return I(t.func(e),"#ffffff");const n=t,o=I(n.colorNaN,"#ffffff");if(Number.isNaN(e))return o;const i=I(n.colorBelow,o),r=I(n.colorAbove,i),s=n.colors,l=z(s,e);let a;if(l<=0)a=i;else if(l>=s.length)a=r;else{const t=s[l-1],n=s[l],i=(e-t[0])/(n[0]-t[0]),r=16777216|t[1]+i*(n[1]-t[1])<<16|t[2]+i*(n[2]-t[2])<<8|t[3]+i*(n[3]-t[3]);if(a="#"+r.toString(16).substring(1),7!==a.length)return console.error("wrong color table "),console.log(a,r,r.toString(16),i,n,t),o}return a}function F(t,e){null!==e&&(t[0]===Number.POSITIVE_INFINITY?t[0]=t[1]=e:t[0]>e?t[0]=e:t[1]<e&&(t[1]=e))}function $(t,e){t[0]===Number.POSITIVE_INFINITY?(t[0]=e[0],t[1]=e[1]):(t[0]>e[0]&&(t[0]=e[0]),t[1]<e[1]&&(t[1]=e[1]))}function B(t){let e=t[0],n=t[1];if(!isFinite(e)||!isFinite(n))return[e,n];if(!e&&!n)return[e,n];let o=n-e;if(o<0)return[e,n];o?(n-=1e-7*o,e+=1e-7*o,o=n-e):o=1;const i=Math.floor(Math.log10(o));let r=Math.pow(10,i+1),s=(e+.5*o)/r;Math.abs(s)>1e9?s*=r:s=Math.floor(s)*r;let l=.5,a=i,c=0,u=0,d=u-c;for(;a>-20;a--){for(r*=.1;l>=.5&&(o=r*l,u=Math.floor((n-s)/o),n>=s&&u++,c=Math.floor((e-s)/o),e<s&&c--,d=u-c,!(d>=9));)l*=.5;if(d>=9)break;l=2}if(d>=9)for(;a<i;a++){for(;l<=2&&(o=r*l,u=Math.floor((n-s)/o),n>=s&&u++,c=Math.floor((e-s)/o),e<s&&c--,d=u-c,!(d<=9));)l*=2;if(d<=9)break;l=.5,r*=10}if(d<6){const t=2===l?5:2;d=c>=0?c/t*t:(c-t+1)/t*t,u-d>6?(d=u<0?u/t*t:(u+t-1)/t*t,u=d-c>6?(u+c+6)/2:d):(c=u-6,u=c+6),c=d}const h=u*o+s;return[parseFloat((c*o+s).toPrecision(5)),parseFloat(h.toPrecision(5))]}function O(t){const e=B(t);return e[0]<=0&&(e[0]=t[0],e[0]<=0&&console.error("Wrong data range for logarithm scale "+t)),[parseFloat(e[0].toPrecision(5)),parseFloat(e[1].toPrecision(5))]}function D(t,e){return t?e?t[0]===e[0]&&t[1]===e[1]:!t:!e}function j(t,e){if(Number.isNaN(t[1])||Number.isNaN(t[0])||Number.isNaN(e[1])||Number.isNaN(e[0]))return!0;const n=1e-5*Math.abs(t[1]-t[0]+(e[1]-e[0]));return Math.abs(t[0]-e[0])<n&&Math.abs(t[1]-e[1])<n}function W(t,e){if(t.elm){const n=t.elm.parentElement;if(n){const t=e?"flex":"none";if(n.style.display!==t)return n.style.display=t,!0}}return!1}function V(t,e){if(e.elm){const t=e.elm.parentElement;if(t)return t.classList.contains("selected")}return!1}function H(t,e,n){if(e.elm){const t=e.elm.parentElement;if(t&&V(0,e)!==n)return t.classList.toggle("selected"),!0}return!1}function U(t,e){return!j(t.domain,e)&&(t.zoomTo(e),j(t.domain,e)||(t.zoomTo(e),j(t.domain,e)||(console.warn("zoomContentTo failed. Try to set "+e+" but get "+t.domain),t.zoomTo(e))),!0)}function q(t,e){const[n,o]=t.scaleHandler.baseDomain();return(n!==e[0]||o!==e[1])&&(t.domain=e,!0)}function Y(t,e){let n=!1;if(t&&e){let o=0;for(const i of t.tracks)H(0,i,e.indexOf(o)>=0)&&(n=!0),o++}return n}function G(t){t.updateLegendRows()}function X(t){return JSON.parse(JSON.stringify(t))}var K=n(77123),Z=n.n(K);function Q(t,e){let n=-1,o=-1;for(const i of t)if(n=J(i.curves,e),o++,n>-1)return{iSet:o,iCurve:n};return{iCurve:-1,iSet:-1}}function J(t,e){return e=e.toUpperCase(),t.findIndex((({name:t})=>t.toUpperCase()===e))}function tt(t,e){var n,o;if(!e.mnemos)return{primary:-1,secondary:-1};const i=null!==(n=e.mnemos[e.primaryAxis])&&void 0!==n?n:[],r=null!==(o=e.mnemos[e.secondaryAxis])&&void 0!==o?o:[];return{primary:et(t,i),secondary:et(t,r)}}function et(t,e){return e=e.map((t=>t.toUpperCase())),t.findIndex((({name:t})=>e.includes(t.toUpperCase())))}function nt(t){var e,n;let o=[];const i=null!==(n=null!==(e=t.wellLogSets)&&void 0!==e?e:t.welllog)&&void 0!==n?n:[];return o=Array.isArray(i)?i:[i],Z().chain(o).map("header.well").uniq().value().length>1&&console.warn("Got logs for different wells. WellLogView should only receive logs for the same well. For multiple wells, use SyncLogViewer instead."),o}let ot=0;function it(t,e,n){const o="grad"+ ++ot,i=t.append("defs").append("linearGradient").attr("id",o).attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%");if(void 0!==n){const t=Math.log(n),o=n-1,r=25;for(let n=0;n<=r;n++){const s=n/r,l=1+s*o,a=L(e,Math.log(l)/t);i.append("stop").attr("offset",100*s+"%").style("stop-color",a)}}else if(N(e)){const t=25;for(let n=0;n<=t;n++){const o=n/t,r=L(e,o);i.append("stop").attr("offset",100*o+"%").style("stop-color",r)}}else{const t=e.colors;for(let e=0;e<t.length;e++){const n=t[e],o=P(n);i.append("stop").attr("offset",100*n[0]+"%").style("stop-color",o)}}return o}function rt(t,e,n,o){const i=o.options,{top:r,left:s,width:l,height:a}=e,c=a/2,u=r,d=Math.min((i.fillOpacity||0)+.25,1);if(i.inverseColor||i.inverseColorMapFunction){const[e,n]=o.scale.domain(),r=e<=n,a=s+l/2,h=void 0===i.useMinAsBase||i.useMinAsBase,p=Math.max(0,l-2);let f=h&&r?o.options.color:i.inverseColor,m=h&&r?i.inverseColor:o.options.color,g=h&&r?i.colorMapFunction:i.inverseColorMapFunction;g&&(f="url(#"+it(t,g,"linear"===i.scale&&"log"===i.colorScale?n/e:void 0)+")"),g=h&&r?i.inverseColorMapFunction:i.colorMapFunction,g&&(m="url(#"+it(t,g,"linear"===i.scale&&"log"===(i.inverseColorScale||i.colorScale)?n/e:void 0)+")"),(0,S.setAttrs)(t.append("rect"),{x:s+2,y:u,width:p/2,height:c,fill:f,"fill-opacity":d}),(0,S.setAttrs)(t.append("rect"),{x:a,y:u,width:p/2,height:c,fill:m,"fill-opacity":d})}else{let e=o.options.color;const n=i.colorMapFunction;if(n){const[r,s]=o.scale.domain();e="url(#"+it(t,n,"linear"===i.scale&&"log"===i.colorScale?s/r:void 0)+")"}(0,S.setAttrs)(t.append("rect"),{x:s+2,y:u,width:Math.max(0,l-4),height:c,fill:e,"fill-opacity":d})}!function(t,e,n,o,i,r,s=!1){const l=e.left+2,a=Math.max(l,e.left+e.width-2),c=e.top+.5*e.height,u=.1*e.height,d=t.append("line");(0,S.setProps)(d,{attrs:{x1:l,x2:a,y1:c,y2:c},styles:{"stroke-width":u,stroke:r,fill:r}}),function(t,e,n,o,i,r,s=!1){const{height:l,width:a,top:c,left:u}=e,d=.35*l,h=.85*d,p=c+.5*l+h,f=u+a/2,[m,g]=i,v=`translate(${f},${c+d})`;let b;s&&(b=t.append("rect").classed("label-bg",!0).attr("fill","white"));const y=t.append("text").text(n);if((0,S.setProps)(y,{styles:{"text-anchor":"middle",fill:r},attrs:{class:"legend-label","font-size":`${d}px`,transform:v}}),s){const t=y.node().getBBox();(0,S.setAttrs)(b,{x:f+t.x-1,y:c+1,width:t.width+2,height:.5*l-2})}if(o){const e=`translate(${f},${p})`,n=t.append("text").text(o);(0,S.setProps)(n,{styles:{"text-anchor":"middle",fill:r},attrs:{class:"legend-unit","font-size":`${h}px`,transform:e}})}const A=Math.abs(m)>1e3&&m%1e3==0?`${Math.round(m/1e3)}k`:`${m}`,x=Math.abs(g)>1e3&&g%1e3==0?`${Math.round(g/1e3)}k`:`${g}`,w=t.append("text").text(A);(0,S.setProps)(w,{styles:{"text-anchor":"start",fill:r},attrs:{class:"legend-domain","font-size":`${h}px`,x:u+2,y:p}});const C=t.append("text").text(x);(0,S.setProps)(C,{styles:{"text-anchor":"end",fill:r},attrs:{class:"legend-domain","font-size":`${h}px`,x:u+a-2,y:p}})}(t,e,n,o,i,r,s)}(t,e,n.label?n.label:"",n.unit?n.unit:"",o.scale.domain(),o.options.color?o.options.color:"",!0)}function st(t,e,n,o,i,r,s){const l=o[0],a=o[o.length-1],c=e(l[0]),u=e(a[0]),d=n?t.createLinearGradient(c,0,u,0):t.createLinearGradient(0,c,0,u);if("log"===s){const[t,e]=i.domain(),n=l[0],s=a[0]-n,c=Math.log(t),u=Math.log(e)-c;for(const t of o){const e=(t[0]-n)/s;if(0<=e&&e<=1){const n=L(r,(Math.log(t[1])-c)/u);d.addColorStop(e,n)}}}else{const t=l[0],e=a[0]-t,n=i.domain()[0],s=i.domain()[1]-n;for(const i of o){const o=(i[0]-t)/e;if(0<=o&&o<=1){const t=L(r,(i[1]-n)/s);d.addColorStop(o,t)}}}return d}class lt extends S.Plot{constructor(t,e={}){super(t,e),this.options.renderLegend=rt}plot(t,e){const{scale:n,data:o}=this;if(!n)return;const i=this.options;if(i.hidden)return;const r=void 0===i.useMinAsBase||i.useMinAsBase,[s,l]=n.domain(),a=Math.min(s,l),c=Math.max(s,l),u=n(a),d=n(c),h=r?u:d;t.save();const p=(0,M.Wcw)().defined((t=>i.defined(t[1],t[0]))).context(t);if(i.horizontal?p.y1((t=>n(t[1]))).y0(h).x((t=>e(t[0]))):p.x1((t=>n(t[1]))).x0(h).y((t=>e(t[0]))),t.globalAlpha=i.fillOpacity||1,i.inverseColor||i.inverseColorMapFunction){const s=r?d:u,l=(0,M.Wcw)().defined((t=>i.defined(t[1],t[0]))).context(t);i.horizontal?l.y1((t=>n(t[1]))).y0(s).x((t=>e(t[0]))):l.x1((t=>n(t[1]))).x0(s).y((t=>e(t[0]))),t.beginPath(),l(o),t.fillStyle=i.inverseColor||"";const a=i.inverseColorMapFunction;a&&(t.fillStyle=st(t,e,i.horizontal,o,n,a,i.inverseColorScale||i.colorScale||i.scale)),t.fill()}t.beginPath(),p(o),t.lineWidth=i.width||0,t.fillStyle=i.fill||i.color||"";const f=i.colorMapFunction;f&&(t.fillStyle=st(t,e,i.horizontal,o,n,f,i.colorScale||i.scale)),t.fill(),t.globalAlpha=1,t.strokeStyle=i.color||"",t.stroke(),t.restore()}}var at=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{a(o.next(t))}catch(t){r(t)}}function l(t){try{a(o.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};function ct(t,e){if(t&&e){const n=e.toUpperCase();let o=0;for(const e of t){if(e.name&&e.name.toUpperCase()===n)return o;o++}}return-1}function ut(t,e){if(t&&e){let n=0;for(const o of t){if(o.name&&e.indexOf(o.name.toUpperCase())>=0)return n;n++}}return-1}const dt=["red","blue","orange","green","red","magenta","gray","brown"];let ht=0;function pt(){return dt[ht++%dt.length]}const ft="line";class mt{constructor(){this.minmax=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],this.minmaxPrimaryAxis=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],this.data=[]}}function gt(t,e,n){const o=new mt;let i=0;for(const r of t){let t=r[e];"number"==typeof t&&F(o.minmax,t);const s=n>=0?r[n]:i++;null===s&&(t=null),F(o.minmaxPrimaryAxis,s),o.data.push([s,t])}return o}function vt(t,e){if(e.title)return e.title;const n=e.plots;if(n&&n[0]){const e=n[0],o=ct(t,e.name);if(o<0)return e.name;const i=t[o];return i.description?function(t){if("0"<=t[0]&&t[0]<="9"){if(" "===t[1])return t.substring(2);if("0"<=t[1]&&t[2]<="9"&&" "===t[2])return t.substring(3)}return t}(i.description):i.name}return""}class bt{constructor(){this.tracks=[],this.minmaxPrimaryAxis=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],this.minmaxSecondaryAxis=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],this.primaries=new Float32Array(0),this.secondaries=new Float32Array(0)}}function yt(t,e){const n=[],o=function(t){const e=Z().iteratee("curves");return Z().flatMap(t,e)}(t);for(const t in e)ut(o,e[t])>=0&&n.push(t);return n}function At(t){return t instanceof lt?"gradientfill":t instanceof S.LinePlot?"line":t instanceof S.AreaPlot?"area":t instanceof S.DotPlot?"dot":t instanceof S.DifferentialPlot?"differential":t instanceof S.LineStepPlot?"linestep":""}function xt(t,e){const n=t.style&&e?ct(e,t.style):-1,o=n>=0&&e?Object.assign(Object.assign({},e[n]),t):Object.assign({},t);var i;return o.type||(o.type=ft),i=o.type,["line","linestep","dot","area","differential","gradientfill","stacked"].indexOf(i)>=0||(console.error("unknown plot type '"+o.type+"': use default type '"+ft+"'"),o.type=ft),"stacked"!==o.type&&(o.color||(o.color=pt())),"area"===o.type?o.fill||(o.fillOpacity=0):"gradientfill"===o.type?o.colorMapFunctionName||(o.fillOpacity=0):"differential"===o.type&&(o.fill||(o.fill=pt()),o.color2||(o.color2=pt()),o.fill2||(o.fill2=pt())),o}function wt(t,e){var n,o;const i=null!==(n=t.plots[0])&&void 0!==n?n:{};if("stacked"===i.type)return!0;if(!i.style||!e)return!1;const r=ct(e,i.style);return!(r<0)&&"stacked"===(null===(o=e[r])||void 0===o?void 0:o.type)}class Ct{constructor(t){this.iData=t}dataAccessor(t){return t[this.iData]}}function kt(t){const e=new Ct(t);return e.dataAccessor.bind(e)}class St{constructor(t,e){this.iData=t,this.iData2=e}dataAccessor(t){return[t[this.iData],t[this.iData2]]}}function Mt(t,e){const n=new St(t,e);return n.dataAccessor.bind(n)}function Tt(t,e){if(t){if("string"!=typeof t)return void console.log("colorMapFunction name='"+t+"' is not a string");if(e){return e.find((e=>e.name===t))||void console.error("colorMapFunction id='"+t+"' is not found in getColorFunction()")}console.log("colorMapFunctions is not given in getColorFunction()")}}function _t(t,e,n,o,i,r,s,l){const a=t.scale||e||"linear",c=("log"===a||"gradientfill"===t.type&&"log"===t.colorScale?O:B)(n),u={dataAccessor:r?Mt(i,s):kt(i),scale:a,domain:t.domain||c,color:t.color,inverseColor:t.inverseColor,fill:t.fill,fillOpacity:t.fillOpacity?t.fillOpacity:.25,useMinAsBase:!0,colorMapFunction:Tt(t.colorMapFunctionName,l),inverseColorMapFunction:Tt(t.inverseColorMapFunctionName,l),colorScale:t.colorScale,inverseColorScale:t.inverseColorScale,legendInfo:()=>({label:o.name,unit:o.unit?o.unit:"",serie1:{show:!0,label:o.name,unit:o.unit?o.unit:""},serie2:{show:!0,label:r?r.name:"",unit:r&&r.unit?r.unit:""}})};return u.serie1={scale:a,domain:c,color:t.color,fill:t.fill},u.serie2={scale:a,domain:c,color:t.color2,fill:t.fill2},u}function Et(t,e,n,o,i,r,s,l,a){return{id:t,type:void 0===e.type?"":e.type,options:_t(e,n,o,i,r,s,l,a)}}function Nt(t){var e;const n=t.options,o=n.__template;if(o){if(o.plots.length){const e=o.plots[0];t.options.scale=e.scale,t.options.domain=e.domain,t.options.label||(t.options.label=e.name)}n.__template.scale&&(t.options.scale=n.__template.scale),t.options.scale||(t.options.scale="linear")}if(null===(e=t.plots)||void 0===e?void 0:e.length){const e=t.plots[0];t.options.domain=e.options.domain}if(t.options.domain||(console.log("Empty track.options.domain!"),t.options.domain="log"===t.options.scale?[1,100]:[0,100]),"log"===t.options.scale&&t.options.domain&&t.options.domain[0]<0&&console.error("wrong data range for logarithm scale "+t.options.domain),!t.options.scale)throw Error("Invalid track.options.scale!");t.trackScale=function(t,e){if("linear"===t)return(0,M.m4Y)().domain(e);if("log"===t)return(0,M.ZEH)().domain(e);throw Error("Invalid input!")}(t.options.scale,t.options.domain)}function zt(t){const e=t.options.__template;if(e&&e.plots.length){const n=e.plots[0];t.options.label||(t.options.label=n.name)}}function It(t,e,n,o){const i=n?function(t,e,n,o){const i=Wt(e),r=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],s=t.getAxesInfo(),l=e.options.plotFactory,a=t.wellLogSets,c=e.options.data,u=e.plots;if(l&&a.length){const d=qt(a,o.name,s);if(!d)return r;const{plotData:h,curve:p,iCurve:f,iSet:m,minmax:g}=d,v=Yt(a,o,s);Gt(d,v,r);const b=t.props.colorMapFunctions,y=Et(`${m}-${f}`,xt(o,[]),i.scale,g,p,c.length,null==v?void 0:v.curve,c.length+1,b);c.push(h.data),v&&c.push(v.plotData.data);const A=l[y.type];if(!A)throw Error(`No factory function for creating '${y.type}'-plot!`);const x=u.indexOf(n);if(x<0)console.error("Error!","Edited plot not found!");else{const t=A(y,e.trackScale);t&&(u[x]=t,i.plots[x]=o,Nt(e),e.prepareData())}}return r}(t,e,n,o):function(t,e,n){const o=Wt(e),i=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],r=t.getAxesInfo(),s=e.options.plotFactory,l=t.wellLogSets,a=t.props.colorMapFunctions,c=e.options.data,u=e.plots;if(s&&l.length){const t=qt(l,n.name,r);if(!t)return i;const{plotData:d,curve:h,iCurve:p,minmax:f,iSet:m}=t,g=Yt(l,n,r);Gt(t,g,i);const v=Et(`${m}-${p}`,xt(n,[]),o.scale,f,h,c.length,null==g?void 0:g.curve,c.length+1,a);c.push(d.data),g&&c.push(g.plotData.data);const b=s[v.type];if(!b)throw Error(`No factory function for creating '${v.type}'-plot!`);const y=b(v,e.trackScale);y&&(u.push(y),o.plots.push(n),Nt(e),e.prepareData())}return i}(t,e,o);if(t.logController){{const e=t.logController.scaleHandler.baseDomain();e[0]>i[0]&&(e[0]=i[0]),e[1]<i[1]&&(e[1]=i[1]),t.logController.rescale()}G(t.logController),t.logController.updateTracks()}}function Pt(t,e,n,o){return new S.DualScaleTrack(void 0,{mode:t,maxWidth:50,width:2,label:e,abbr:n||e,units:o||"",legendConfig:_})}let Rt=0;const Lt=new Map;function Ft(t,e,n){let o,i;if(null===t&&(t=Number.NaN),n){const{objects:r,iColor:s,iCode:l}=n;let a;if("string"==typeof t)i=t,a=r[t];else{i=t.toString();for(const e in r){const n=r[e];if(t===n[l]){i=e,a=n;break}}}o=e?R(e,a?parseFloat(a[l].toString()):Number.NaN):a?a[s]:[255,25,25]}else if(i=t.toString(),e)if("string"==typeof t){let n;Lt.has(t)?n=Lt.get(t):(Lt.set(t,Rt),n=Rt,Rt++),o=R(e,n)}else o=R(e,parseInt(t.toString()));else o=[224,224,224];return{color:o,name:i}}function $t(t,e,n,o,i){const{color:r,name:s}=Ft(n,o,i);return{from:t,to:e,name:s,color:{r:r[0],g:r[1],b:r[2]}}}function Bt(t,e,n){return at(this,void 0,void 0,(function*(){const o=new Array;let i=null,r=null;for(const s of t){let t=s[0];if(null===t){r&&(o.push(r),r=null);continue}if(i&&(t=i[0],null===t))continue;r&&(r.to=t);const l=s[1];i&&l!==i[1]&&r&&(o.push(r),r=null),r||null==l||null===s[0]||(r=$t(t,s[0],l,e,n)),i=s}return r&&o.push(r),o}))}function Ot(t){return new S.StackedTrack(void 0,t)}function Dt(t,e){const n=function(t,e){const n=t.metadata_discrete;e=e.toUpperCase();for(const t in n)if(t.toUpperCase()===e)return n[t];return null}(t,e);if(n){const t=n.attributes;if(t){const e=t.indexOf("code"),o=t.indexOf("color");if(o>=0&&e>=0)return{iCode:e,iColor:o,objects:n.objects}}}return null}const jt={plotFactory:Object.assign(Object.assign({},S.defaultPlotFactory),{gradientfill:(0,S.createPlotType)(lt)}),legendConfig:S.graphLegendConfig};function Wt(t){const e=t.options;if(e.__template)return e.__template;{console.error("No __template given in track!");const e=t.options;return{title:e.label?e.label:"",scale:"log"===e.scale?"log":"linear",plots:[]}}}function Vt(t){return new S.GraphTrack(void 0,Object.assign(Object.assign({},jt),t))}function Ht(t){return t instanceof S.ScaleTrack||t instanceof S.DualScaleTrack}function Ut(t,e){return t.titles?t.titles[e]:e}function qt(t,e,n){var o;const{iCurve:i,iSet:r}=Q(t,e);if(i<0)return null;const s=t[r],l=s.data,a=s.curves[i];if(1!==(null!==(o=a.dimensions)&&void 0!==o?o:1))return null;if("string"===a.valueType)return null;const c=gt(l,i,tt(s.curves,n).primary);return{iCurve:i,iSet:r,sourceLogSet:s,curve:a,plotData:c,minmax:[c.minmax[0],c.minmax[1]]}}function Yt(t,e,n){return"differential"!==e.type?null:qt(t,e.name2,n)}function Gt(t,e,n){$(n,t.plotData.minmaxPrimaryAxis),e&&($(t.minmax,e.minmax),$(n,e.plotData.minmaxPrimaryAxis))}function Xt(t,e,n,o,i,r){const s=[],l=[],a=[];if(o.plots)for(const c of o.plots){const u=qt(e,c.name,n);if(!u)continue;const{plotData:d,curve:h,minmax:p,iCurve:f,iSet:m}=u,g=Yt(e,c,n);Gt(u,g,t.minmaxPrimaryAxis);const v=Et(`${m}-${f}`,xt(c,i),o.scale,p,h,s.length,null==g?void 0:g.curve,s.length+1,r);l.push(v),a.push(h),s.push(d.data),g&&(a.push(g.curve),s.push(g.plotData.data))}if(l.length||o.required){const e=vt(a,o),n={data:s,plots:l};Jt(n,o),n.label=e;const i=Vt(n);Nt(i),t.tracks.push(i)}}function Kt(t,e,n,o,i,r){var s;const l=o.plots[0],a=l.name,c=qt(e,a,n);if(!c)return;const{plotData:u,curve:d,sourceLogSet:h}=c,p=xt(l,i),f=X(o),m=vt([d],o),g=Dt(h,a);let v;f.title=m,f.plots[0].type=p.type,g||"integer"!==d.valueType||console.log("Discrete meta information for '"+a+"' not found. Use default"),p.colorMapFunctionName?r?(v=r.find((t=>t.name===p.colorMapFunctionName)),v||console.error("Missed '"+p.colorMapFunctionName+"' color function/table")):console.error("No color function/table array given for '"+p.colorMapFunctionName+"' color function"):g||console.error("No color function/table given in template plot props");const b=f.plots[0];b&&(b.showLabels=p.showLabels,b.showLines=p.showLines,b.labelRotation=null!==(s=p.labelRotation)&&void 0!==s?s:0);const y={abbr:a,legendConfig:E,data:Bt.bind(null,u.data,v,g)};te(y,f);const A=Ot(y);zt(A),$(t.minmaxPrimaryAxis,u.minmaxPrimaryAxis),t.tracks.push(A)}function Zt(t,e,n,o){if(t.logController){let i=0;for(const r of t.logController.tracks)r.order=i++,n===r&&(o?e.order=i++:(e.order=r.order,r.order=i++));t.logController.addTrack(e)}}function Qt(t,e){t.label=e.title,void 0!==e.width&&(t.width=e.width),t.__template=X(e)}function Jt(t,e){e.scale?t.scale=e.scale:delete t.scale,Qt(t,e)}function te(t,e){var n;const o=e.plots[0];o&&(t.showLabels=o.showLabels,t.showLines=o.showLines,t.labelRotation=null!==(n=o.labelRotation)&&void 0!==n?n:0),Qt(t,e)}function ee(t,e,n,o,i){if(e)Jt(e.options,n),Nt(e);else{const r={plots:[],data:[]};Jt(r,n),Zt(t,e=Vt(r),o,i)}return t.logController&&t.logController.updateTracks(),e}function ne(t,e,n,o,i){var r;const s=t.props,l=t.wellLogSets,a=n.plots[0];if(!l||!a)return null;const c=a.name,u=xt(a,s.template.styles),d=null===(r=s.colorMapFunctions)||void 0===r?void 0:r.find((t=>t.name===u.colorMapFunctionName)),{iCurve:h,iSet:p}=Q(l,c);if(h<0)return null;const f=l[p],m=Dt(f,c),g=f.data,v=f.curves,b=t.getAxesInfo(),y=gt(g,h,ut(v,b.mnemos[b.primaryAxis])),A=Bt.bind(null,y.data,d,m);if(e)e.data=null,t.logController&&t.logController.updateTracks(),e.options.abbr=c,e.options.data=A,e.data=e.options.data,te(e.options,n),zt(e),t.logController&&t.logController.refresh();else{const r={abbr:c,data:A,legendConfig:E};te(r,n),Zt(t,e=Ot(r),o,i)}return t.logController&&t.logController.updateTracks(),e}function oe(t,e){const n=t.indexOf(e);n<0?t.push(e):t.splice(n,1)}class ie extends o.Component{constructor(t){var e;super(t),this.wellLogSets=null!==(e=this.props.callbackManager.getWellLogSets())&&void 0!==e?e:[];const n=yt(this.wellLogSets,this.props.axisMnemos);this.state={axes:n,primaryAxis:this.props.primaryAxis},this.onChangePrimaryAxis=this.onChangePrimaryAxis.bind(this)}registerCallbacks(t){null==t||t.registerCallback("onChangePrimaryAxis",this.onChangePrimaryAxis)}unregisterCallbacks(t){null==t||t.unregisterCallback("onChangePrimaryAxis",this.onChangePrimaryAxis)}componentDidMount(){this.registerCallbacks(this.props.callbackManager)}componentWillUnmount(){this.unregisterCallbacks(this.props.callbackManager)}componentDidUpdate(t){var e,n;t.callbackManager!==this.props.callbackManager&&(this.unregisterCallbacks(t.callbackManager),this.registerCallbacks(this.props.callbackManager));const o=null===(e=this.props.callbackManager)||void 0===e?void 0:e.getWellLogSets();if(this.wellLogSets!==o||t.axisMnemos!==this.props.axisMnemos){this.wellLogSets=o;const t=yt(null!==(n=this.wellLogSets)&&void 0!==n?n:[],this.props.axisMnemos);this.setState({axes:t})}}onChangePrimaryAxis(t){this.setState({primaryAxis:t})}render(){return i().createElement("div",{className:"axes-selector"},i().createElement(k,{header:this.props.header,axes:this.state.axes,value:this.state.primaryAxis,axisTitles:this.props.axisTitles,onChange:t=>this.props.onChangePrimaryAxis(t),autoHide:this.props.autoHide}))}}const re=ie;class se extends o.Component{constructor(t){super(t),this.createRow=this.createRow.bind(this)}onRowClick(t){var e,n;null===(n=(e=this.props).onGroupClick)||void 0===n||n.call(e,t)}createGroupRow(t){return i().createElement("tr",{className:"group-row",key:"_group_"+t.trackId+"."+t.name,onClick:()=>this.onRowClick(t)},i().createElement("td",{style:{color:t.color}},t.collapsed?"►":"▼"),i().createElement("td",{colSpan:3,className:"group-row-name"},t.name))}createRow(t){if("separator"===t.type)return function(t){return i().createElement("tr",{key:"_separator_"+t.trackId+"."+t.name},i().createElement("td",{colSpan:4}," ",i().createElement("hr",null)))}(t);if(void 0!==t.groupStart)return this.createGroupRow(t);let e=t.name||"?";const n=e;e.length>11&&(e=e.substring(0,9)+"…");let o=function(t){if(!Number.isFinite(t))return"";if(Number.isInteger(t))return t.toFixed(0);let e=t.toPrecision(4);if(e.indexOf(".")>=0)for(;;){let t=e.length;if(!t--)break;if("0"!==e[t])break;e=e.substring(0,t)}return e}(t.value);return t.discrete&&(o=t.discrete+(o?" ("+o+")":"")),""===o&&(o=" "),i().createElement("tr",{key:t.trackId+"."+t.name},i().createElement("td",{className:"row-info",style:{color:t.color}},"⬤"),i().createElement("td",{className:"row-name",title:n}),i().createElement("td",{className:"row-value",colSpan:t.discrete?2:1,title:o}),!t.discrete&&i().createElement("td",{className:"row-units",title:t.units}))}render(){var t;const e=this.props.header;return i().createElement("div",{className:"readout"},i().createElement("fieldset",null,e&&i().createElement("legend",null,e),i().createElement("table",null,i().createElement("tbody",null,null===(t=this.props.infos)||void 0===t?void 0:t.map(this.createRow.bind(this))))))}}const le=se;var ae=n(42285),ce={};ce.styleTagTransform=b(),ce.setAttributes=f(),ce.insert=h().bind(null,"head"),ce.domAPI=u(),ce.insertStyleElement=g(),a()(ae.A,ce),ae.A&&ae.A.locals&&ae.A.locals;class ue extends o.Component{constructor(t){super(t),this.state={infos:[]},this.collapsedTrackIds=[],this.onInfoFilled=this.onInfoFilled.bind(this),this.onGroupClick=void 0}registerCallBacks(t){t&&(t.registerCallback("onInfoFilled",this.onInfoFilled),this.onGroupClick=t.callCallbacks.bind(t,"onInfoGroupClick"))}unregisterCallBacks(t){t&&(this.onGroupClick=void 0,t.unregisterCallback("onInfoFilled",this.onInfoFilled))}componentDidMount(){const t=this.props.callbackManager;this.registerCallBacks(t),t.updateInfo()}componentWillUnmount(){const t=this.props.callbackManager;this.unregisterCallBacks(t)}componentDidUpdate(t){t.callbackManager!==this.props.callbackManager&&(this.unregisterCallBacks(t.callbackManager),this.registerCallBacks(this.props.callbackManager)),!this.props.readoutOptions||t.readoutOptions&&this.props.readoutOptions.allTracks===t.readoutOptions.allTracks&&this.props.readoutOptions.grouping===t.readoutOptions.grouping||this.props.callbackManager.updateInfo()}onInfoFilled(t){this.setState({infos:t})}render(){return i().createElement(le,{header:this.props.header,infos:this.state.infos,onGroupClick:this.onGroupClick})}}const de=ue;var he=n(57307),pe=n(42328),fe=n(95284),me=n(65943),ge=n(64535),ve=n(78467),be=n(36061);function ye({controlled:t,default:e,name:n,state:i="value"}){const{current:r}=o.useRef(void 0!==t),[s,l]=o.useState(e);return[r?t:s,o.useCallback((t=>{r||l(t)}),[])]}var Ae=n(51965),xe=n(28196);let we=!0,Ce=!1;const ke=new xe.E,Se={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Me(t){t.metaKey||t.altKey||t.ctrlKey||(we=!0)}function Te(){we=!1}function _e(){"hidden"===this.visibilityState&&Ce&&(we=!0)}function Ee(){const t=o.useCallback((t=>{var e;null!=t&&((e=t.ownerDocument).addEventListener("keydown",Me,!0),e.addEventListener("mousedown",Te,!0),e.addEventListener("pointerdown",Te,!0),e.addEventListener("touchstart",Te,!0),e.addEventListener("visibilitychange",_e,!0))}),[]),e=o.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(t){return!!function(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch(t){}return we||function(t){const{type:e,tagName:n}=t;return!("INPUT"!==n||!Se[e]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable}(e)}(t)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(Ce=!0,ke.start(100,(()=>{Ce=!1})),e.current=!1,!0)},ref:t}}var Ne=n(12635),ze=n(83198),Ie=n(10675);const Pe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};var Re=n(23338);function Le(t,e){return t-e}function Fe(t,e){var n;const{index:o}=null!=(n=t.reduce(((t,n,o)=>{const i=Math.abs(e-n);return null===t||i<t.distance||i===t.distance?{distance:i,index:o}:t}),null))?n:{};return o}function $e(t,e){if(void 0!==e.current&&t.changedTouches){const n=t;for(let t=0;t<n.changedTouches.length;t+=1){const o=n.changedTouches[t];if(o.identifier===e.current)return{x:o.clientX,y:o.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Be(t,e,n){return 100*(t-e)/(n-e)}function Oe({values:t,newValue:e,index:n}){const o=t.slice();return o[n]=e,o.sort(Le)}function De({sliderRef:t,activeIndex:e,setActive:n}){var o,i;const r=(0,be.A)(t.current);var s;null!=(o=t.current)&&o.contains(r.activeElement)&&Number(null==r||null==(i=r.activeElement)?void 0:i.getAttribute("data-index"))===e||null==(s=t.current)||s.querySelector(`[type="range"][data-index="${e}"]`).focus(),n&&n(e)}function je(t,e){return"number"==typeof t&&"number"==typeof e?t===e:"object"==typeof t&&"object"==typeof e&&function(t,e,n=(t,e)=>t===e){return t.length===e.length&&t.every(((t,o)=>n(t,e[o])))}(t,e)}const We={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Ve=t=>t;let He;function Ue(){return void 0===He&&(He="undefined"==typeof CSS||"function"!=typeof CSS.supports||CSS.supports("touch-action","none")),He}function qe(t){const{"aria-labelledby":e,defaultValue:n,disabled:i=!1,disableSwap:r=!1,isRtl:s=!1,marks:l=!1,max:a=100,min:c=0,name:u,onChange:d,onChangeCommitted:h,orientation:p="horizontal",rootRef:f,scale:m=Ve,step:g=1,shiftStep:v=10,tabIndex:b,value:y}=t,A=o.useRef(),[x,w]=o.useState(-1),[C,k]=o.useState(-1),[S,M]=o.useState(!1),T=o.useRef(0),[_,E]=ye({controlled:y,default:null!=n?n:c,name:"Slider"}),N=d&&((t,e,n)=>{const o=t.nativeEvent||t,i=new o.constructor(o.type,o);Object.defineProperty(i,"target",{writable:!0,value:{value:e,name:u}}),d(i,e,n)}),z=Array.isArray(_);let I=z?_.slice().sort(Le):[_];I=I.map((t=>null==t?c:(0,Ae.A)(t,c,a)));const P=!0===l&&null!==g?[...Array(Math.floor((a-c)/g)+1)].map(((t,e)=>({value:c+g*e}))):l||[],R=P.map((t=>t.value)),{isFocusVisibleRef:L,onBlur:F,onFocus:$,ref:B}=Ee(),[O,D]=o.useState(-1),j=o.useRef(),W=(0,Ne.A)(B,j),V=(0,Ne.A)(f,W),H=t=>e=>{var n;const o=Number(e.currentTarget.getAttribute("data-index"));$(e),!0===L.current&&D(o),k(o),null==t||null==(n=t.onFocus)||n.call(t,e)},U=t=>e=>{var n;F(e),!1===L.current&&D(-1),k(-1),null==t||null==(n=t.onBlur)||n.call(t,e)},q=(t,e)=>{const n=Number(t.currentTarget.getAttribute("data-index")),o=I[n],i=R.indexOf(o);let s=e;if(P&&null==g){const t=R[R.length-1];s=s>t?t:s<R[0]?R[0]:s<o?R[i-1]:R[i+1]}if(s=(0,Ae.A)(s,c,a),z){r&&(s=(0,Ae.A)(s,I[n-1]||-1/0,I[n+1]||1/0));const t=s;s=Oe({values:I,newValue:s,index:n});let e=n;r||(e=s.indexOf(t)),De({sliderRef:j,activeIndex:e})}E(s),D(n),N&&!je(s,_)&&N(t,s,n),h&&h(t,s)},Y=t=>e=>{var n;if(null!==g){const t=Number(e.currentTarget.getAttribute("data-index")),n=I[t];let o=null;("ArrowLeft"===e.key||"ArrowDown"===e.key)&&e.shiftKey||"PageDown"===e.key?o=Math.max(n-v,c):(("ArrowRight"===e.key||"ArrowUp"===e.key)&&e.shiftKey||"PageUp"===e.key)&&(o=Math.min(n+v,a)),null!==o&&(q(e,o),e.preventDefault())}null==t||null==(n=t.onKeyDown)||n.call(t,e)};(0,ze.A)((()=>{var t;i&&j.current.contains(document.activeElement)&&(null==(t=document.activeElement)||t.blur())}),[i]),i&&-1!==x&&w(-1),i&&-1!==O&&D(-1);const G=o.useRef();let X=p;s&&"horizontal"===p&&(X+="-reverse");const K=({finger:t,move:e=!1})=>{const{current:n}=j,{width:o,height:i,bottom:s,left:l}=n.getBoundingClientRect();let u,d;if(u=0===X.indexOf("vertical")?(s-t.y)/i:(t.x-l)/o,-1!==X.indexOf("-reverse")&&(u=1-u),d=function(t,e,n){return(n-e)*t+e}(u,c,a),g)d=function(t,e,n){const o=Math.round((t-n)/e)*e+n;return Number(o.toFixed(function(t){if(Math.abs(t)<1){const e=t.toExponential().split("e-"),n=e[0].split(".")[1];return(n?n.length:0)+parseInt(e[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}(e)))}(d,g,c);else{const t=Fe(R,d);d=R[t]}d=(0,Ae.A)(d,c,a);let h=0;if(z){h=e?G.current:Fe(I,d),r&&(d=(0,Ae.A)(d,I[h-1]||-1/0,I[h+1]||1/0));const t=d;d=Oe({values:I,newValue:d,index:h}),r&&e||(h=d.indexOf(t),G.current=h)}return{newValue:d,activeIndex:h}},Z=(0,Ie.A)((t=>{const e=$e(t,A);if(!e)return;if(T.current+=1,"mousemove"===t.type&&0===t.buttons)return void Q(t);const{newValue:n,activeIndex:o}=K({finger:e,move:!0});De({sliderRef:j,activeIndex:o,setActive:w}),E(n),!S&&T.current>2&&M(!0),N&&!je(n,_)&&N(t,n,o)})),Q=(0,Ie.A)((t=>{const e=$e(t,A);if(M(!1),!e)return;const{newValue:n}=K({finger:e,move:!0});w(-1),"touchend"===t.type&&k(-1),h&&h(t,n),A.current=void 0,tt()})),J=(0,Ie.A)((t=>{if(i)return;Ue()||t.preventDefault();const e=t.changedTouches[0];null!=e&&(A.current=e.identifier);const n=$e(t,A);if(!1!==n){const{newValue:e,activeIndex:o}=K({finger:n});De({sliderRef:j,activeIndex:o,setActive:w}),E(e),N&&!je(e,_)&&N(t,e,o)}T.current=0;const o=(0,be.A)(j.current);o.addEventListener("touchmove",Z,{passive:!0}),o.addEventListener("touchend",Q,{passive:!0})})),tt=o.useCallback((()=>{const t=(0,be.A)(j.current);t.removeEventListener("mousemove",Z),t.removeEventListener("mouseup",Q),t.removeEventListener("touchmove",Z),t.removeEventListener("touchend",Q)}),[Q,Z]);o.useEffect((()=>{const{current:t}=j;return t.addEventListener("touchstart",J,{passive:Ue()}),()=>{t.removeEventListener("touchstart",J),tt()}}),[tt,J]),o.useEffect((()=>{i&&tt()}),[i,tt]);const et=Be(z?I[0]:c,c,a),nt=Be(I[I.length-1],c,a)-et,ot=t=>e=>{var n;null==(n=t.onMouseLeave)||n.call(t,e),k(-1)};return{active:x,axis:X,axisProps:We,dragging:S,focusedThumbIndex:O,getHiddenInputProps:(n={})=>{var o;const r=(0,Re.h)(n),l={onChange:(d=r||{},t=>{var e;null==(e=d.onChange)||e.call(d,t),q(t,t.target.valueAsNumber)}),onFocus:H(r||{}),onBlur:U(r||{}),onKeyDown:Y(r||{})};var d;const h=(0,pe.A)({},r,l);return(0,pe.A)({tabIndex:b,"aria-labelledby":e,"aria-orientation":p,"aria-valuemax":m(a),"aria-valuemin":m(c),name:u,type:"range",min:t.min,max:t.max,step:null===t.step&&t.marks?"any":null!=(o=t.step)?o:void 0,disabled:i},n,h,{style:(0,pe.A)({},Pe,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:(t={})=>{const e=(0,Re.h)(t),n={onMouseDown:(o=e||{},t=>{var e;if(null==(e=o.onMouseDown)||e.call(o,t),i)return;if(t.defaultPrevented)return;if(0!==t.button)return;t.preventDefault();const n=$e(t,A);if(!1!==n){const{newValue:e,activeIndex:o}=K({finger:n});De({sliderRef:j,activeIndex:o,setActive:w}),E(e),N&&!je(e,_)&&N(t,e,o)}T.current=0;const r=(0,be.A)(j.current);r.addEventListener("mousemove",Z,{passive:!0}),r.addEventListener("mouseup",Q)})};var o;const r=(0,pe.A)({},e,n);return(0,pe.A)({},t,{ref:V},r)},getThumbProps:(t={})=>{const e=(0,Re.h)(t),n={onMouseOver:(o=e||{},t=>{var e;null==(e=o.onMouseOver)||e.call(o,t);const n=Number(t.currentTarget.getAttribute("data-index"));k(n)}),onMouseLeave:ot(e||{})};var o;return(0,pe.A)({},t,e,n)},marks:P,open:C,range:z,rootRef:V,trackLeap:nt,trackOffset:et,values:I,getThumbStyle:t=>({pointerEvents:-1!==x&&x!==t?"none":void 0})}}var Ye=n(67303),Ge=n(29332);const Xe=o.createContext(),Ke=()=>{const t=o.useContext(Xe);return null!=t&&t};var Ze=n(16317),Qe=n(25236),Je=n(6666);var tn=n(28894),en=n(53413),nn=n(46673);function on(t){return(0,nn.Ay)("MuiSlider",t)}const rn=(0,en.A)("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),sn=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],ln=Ze.A;function an(t){return t}const cn=(0,Qe.Ay)("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${(0,tn.A)(n.color)}`],"medium"!==n.size&&e[`size${(0,tn.A)(n.size)}`],n.marked&&e.marked,"vertical"===n.orientation&&e.vertical,"inverted"===n.track&&e.trackInverted,!1===n.track&&e.trackFalse]}})((({theme:t})=>{var e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${rn.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${rn.dragging}`]:{[`& .${rn.thumb}, & .${rn.track}`]:{transition:"none"}},variants:[...Object.keys((null!=(e=t.vars)?e:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}})),un=(0,Qe.Ay)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),dn=(0,Qe.Ay)("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})((({theme:t})=>{var e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(e=t.vars)?e:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e,track:"inverted"},style:(0,pe.A)({},t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:(0,pe.A)({backgroundColor:(0,Ye.a)(t.palette[e].main,.62),borderColor:(0,Ye.a)(t.palette[e].main,.62)},t.applyStyles("dark",{backgroundColor:(0,Ye.e$)(t.palette[e].main,.5)}),t.applyStyles("dark",{borderColor:(0,Ye.e$)(t.palette[e].main,.5)})))})))]}})),hn=(0,Qe.Ay)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${(0,tn.A)(n.color)}`],"medium"!==n.size&&e[`thumbSize${(0,tn.A)(n.size)}`]]}})((({theme:t})=>{var e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${rn.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[...Object.keys((null!=(e=t.vars)?e:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e},style:{[`&:hover, &.${rn.focusVisible}`]:(0,pe.A)({},t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${(0,Ye.X4)(t.palette[e].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${rn.active}`]:(0,pe.A)({},t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[e].mainChannel} / 0.16)}`}:{boxShadow:`0px 0px 0px 14px ${(0,Ye.X4)(t.palette[e].main,.16)}`})}}))),{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}}]}})),pn=(0,Qe.Ay)((function(t){const{children:e,className:n,value:i}=t,r=(t=>{const{open:e}=t;return{offset:(0,fe.A)(e&&rn.valueLabelOpen),circle:rn.valueLabelCircle,label:rn.valueLabelLabel}})(t);return e?o.cloneElement(e,{className:(0,fe.A)(e.props.className)},(0,Ge.jsxs)(o.Fragment,{children:[e.props.children,(0,Ge.jsx)("span",{className:(0,fe.A)(r.offset,n),"aria-hidden":!0,children:(0,Ge.jsx)("span",{className:r.circle,children:(0,Ge.jsx)("span",{className:r.label,children:i})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})((({theme:t})=>(0,pe.A)({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${rn.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${rn.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),fn=(0,Qe.Ay)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>(0,Je.A)(t)&&"markActive"!==t,overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})((({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),mn=(0,Qe.Ay)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>(0,Je.A)(t)&&"markLabelActive"!==t,overridesResolver:(t,e)=>e.markLabel})((({theme:t})=>(0,pe.A)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),gn=({children:t})=>t,vn=o.forwardRef((function(t,e){var n,i,r,s,l,a,c,u,d,h,p,f,m,g,v,b,y,A,x,w,C,k,S,M;const T=ln({props:t,name:"MuiSlider"}),_=Ke(),{"aria-label":E,"aria-valuetext":N,"aria-labelledby":z,component:I="span",components:P={},componentsProps:R={},color:L="primary",classes:F,className:$,disableSwap:B=!1,disabled:O=!1,getAriaLabel:D,getAriaValueText:j,marks:W=!1,max:V=100,min:H=0,orientation:U="horizontal",shiftStep:q=10,size:Y="medium",step:G=1,scale:X=an,slotProps:K,slots:Z,track:Q="normal",valueLabelDisplay:J="off",valueLabelFormat:tt=an}=T,et=(0,he.A)(T,sn),nt=(0,pe.A)({},T,{isRtl:_,max:V,min:H,classes:F,disabled:O,disableSwap:B,orientation:U,marks:W,color:L,size:Y,step:G,shiftStep:q,scale:X,track:Q,valueLabelDisplay:J,valueLabelFormat:tt}),{axisProps:ot,getRootProps:it,getHiddenInputProps:rt,getThumbProps:st,open:lt,active:at,axis:ct,focusedThumbIndex:ut,range:dt,dragging:ht,marks:pt,values:ft,trackOffset:mt,trackLeap:gt,getThumbStyle:vt}=qe((0,pe.A)({},nt,{rootRef:e}));nt.marked=pt.length>0&&pt.some((t=>t.label)),nt.dragging=ht,nt.focusedThumbIndex=ut;const bt=(t=>{const{disabled:e,dragging:n,marked:o,orientation:i,track:r,classes:s,color:l,size:a}=t,c={root:["root",e&&"disabled",n&&"dragging",o&&"marked","vertical"===i&&"vertical","inverted"===r&&"trackInverted",!1===r&&"trackFalse",l&&`color${(0,tn.A)(l)}`,a&&`size${(0,tn.A)(a)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",a&&`thumbSize${(0,tn.A)(a)}`,l&&`thumbColor${(0,tn.A)(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,ve.A)(c,on,s)})(nt),yt=null!=(n=null!=(i=null==Z?void 0:Z.root)?i:P.Root)?n:cn,At=null!=(r=null!=(s=null==Z?void 0:Z.rail)?s:P.Rail)?r:un,xt=null!=(l=null!=(a=null==Z?void 0:Z.track)?a:P.Track)?l:dn,wt=null!=(c=null!=(u=null==Z?void 0:Z.thumb)?u:P.Thumb)?c:hn,Ct=null!=(d=null!=(h=null==Z?void 0:Z.valueLabel)?h:P.ValueLabel)?d:pn,kt=null!=(p=null!=(f=null==Z?void 0:Z.mark)?f:P.Mark)?p:fn,St=null!=(m=null!=(g=null==Z?void 0:Z.markLabel)?g:P.MarkLabel)?m:mn,Mt=null!=(v=null!=(b=null==Z?void 0:Z.input)?b:P.Input)?v:"input",Tt=null!=(y=null==K?void 0:K.root)?y:R.root,_t=null!=(A=null==K?void 0:K.rail)?A:R.rail,Et=null!=(x=null==K?void 0:K.track)?x:R.track,Nt=null!=(w=null==K?void 0:K.thumb)?w:R.thumb,zt=null!=(C=null==K?void 0:K.valueLabel)?C:R.valueLabel,It=null!=(k=null==K?void 0:K.mark)?k:R.mark,Pt=null!=(S=null==K?void 0:K.markLabel)?S:R.markLabel,Rt=null!=(M=null==K?void 0:K.input)?M:R.input,Lt=(0,me.Q)({elementType:yt,getSlotProps:it,externalSlotProps:Tt,externalForwardedProps:et,additionalProps:(0,pe.A)({},(Vt=yt,(!Vt||!(0,ge.g)(Vt))&&{as:I})),ownerState:(0,pe.A)({},nt,null==Tt?void 0:Tt.ownerState),className:[bt.root,$]}),Ft=(0,me.Q)({elementType:At,externalSlotProps:_t,ownerState:nt,className:bt.rail}),$t=(0,me.Q)({elementType:xt,externalSlotProps:Et,additionalProps:{style:(0,pe.A)({},ot[ct].offset(mt),ot[ct].leap(gt))},ownerState:(0,pe.A)({},nt,null==Et?void 0:Et.ownerState),className:bt.track}),Bt=(0,me.Q)({elementType:wt,getSlotProps:st,externalSlotProps:Nt,ownerState:(0,pe.A)({},nt,null==Nt?void 0:Nt.ownerState),className:bt.thumb}),Ot=(0,me.Q)({elementType:Ct,externalSlotProps:zt,ownerState:(0,pe.A)({},nt,null==zt?void 0:zt.ownerState),className:bt.valueLabel}),Dt=(0,me.Q)({elementType:kt,externalSlotProps:It,ownerState:nt,className:bt.mark}),jt=(0,me.Q)({elementType:St,externalSlotProps:Pt,ownerState:nt,className:bt.markLabel}),Wt=(0,me.Q)({elementType:Mt,getSlotProps:rt,externalSlotProps:Rt,ownerState:nt});var Vt;return(0,Ge.jsxs)(yt,(0,pe.A)({},Lt,{children:[(0,Ge.jsx)(At,(0,pe.A)({},Ft)),(0,Ge.jsx)(xt,(0,pe.A)({},$t)),pt.filter((t=>t.value>=H&&t.value<=V)).map(((t,e)=>{const n=Be(t.value,H,V),i=ot[ct].offset(n);let r;return r=!1===Q?-1!==ft.indexOf(t.value):"normal"===Q&&(dt?t.value>=ft[0]&&t.value<=ft[ft.length-1]:t.value<=ft[0])||"inverted"===Q&&(dt?t.value<=ft[0]||t.value>=ft[ft.length-1]:t.value>=ft[0]),(0,Ge.jsxs)(o.Fragment,{children:[(0,Ge.jsx)(kt,(0,pe.A)({"data-index":e},Dt,!(0,ge.g)(kt)&&{markActive:r},{style:(0,pe.A)({},i,Dt.style),className:(0,fe.A)(Dt.className,r&&bt.markActive)})),null!=t.label?(0,Ge.jsx)(St,(0,pe.A)({"aria-hidden":!0,"data-index":e},jt,!(0,ge.g)(St)&&{markLabelActive:r},{style:(0,pe.A)({},i,jt.style),className:(0,fe.A)(bt.markLabel,jt.className,r&&bt.markLabelActive),children:t.label})):null]},e)})),ft.map(((t,e)=>{const n=Be(t,H,V),o=ot[ct].offset(n),i="off"===J?gn:Ct;return(0,Ge.jsx)(i,(0,pe.A)({},!(0,ge.g)(i)&&{valueLabelFormat:tt,valueLabelDisplay:J,value:"function"==typeof tt?tt(X(t),e):tt,index:e,open:lt===e||at===e||"on"===J,disabled:O},Ot,{children:(0,Ge.jsx)(wt,(0,pe.A)({"data-index":e},Bt,{className:(0,fe.A)(bt.thumb,Bt.className,at===e&&bt.active,ut===e&&bt.focusVisible),style:(0,pe.A)({},o,vt(e),Bt.style),children:(0,Ge.jsx)(Mt,(0,pe.A)({"data-index":e,"aria-label":D?D(e):E,"aria-valuenow":X(t),"aria-labelledby":z,"aria-valuetext":j?j(X(t),e):N,value:ft[e]},Wt))}))}),e)}))]}))})),bn=vn;function yn(t){return Math.pow(2,t)}function An(t){return t>0?Math.log2(t):0}function xn(t){return t.toFixed(Number.isInteger(t)||t>20?0:1)}class wn extends o.Component{constructor(t){super(t);const e=An(this.props.value);this.state={level:e},this.onChange=this.onChange.bind(this)}componentDidUpdate(t){this.props.value!==t.value&&this.setState((t=>{const e=An(this.props.value);return t.level===e?null:{level:e}}))}onChange(t,e){"number"==typeof e&&this.setState((t=>t.level===e?null:(this.props.onChange?this.props.onChange(yn(e)):console.error("ZoomSlider props.onChange not set"),{level:e})))}render(){return i().createElement(bn,{value:this.state.level,defaultValue:0,min:0,step:this.props.step||.5,max:An(this.props.max||256),scale:yn,onChange:this.onChange,getAriaValueText:xn,valueLabelFormat:xn,"aria-labelledby":"non-linear-slider",valueLabelDisplay:"auto"})}}const Cn=wn;class kn extends o.Component{constructor(t){super(t),this.state={zoomValue:1},this.onContentRescale=this.onContentRescale.bind(this),this.onZoomSliderChange=this.onZoomSliderChange.bind(this)}registerCallbacks(t){null==t||t.registerCallback("onContentRescale",this.onContentRescale)}unregisterCallbacks(t){null==t||t.unregisterCallback("onContentRescale",this.onContentRescale)}componentDidMount(){this.registerCallbacks(this.props.callbackManager)}componentWillUnmount(){this.unregisterCallbacks(this.props.callbackManager)}componentDidUpdate(t){t.callbackManager!==this.props.callbackManager&&(this.unregisterCallbacks(t.callbackManager),this.registerCallbacks(this.props.callbackManager))}onContentRescale(){this.setState((t=>{var e;const n=null===(e=this.props.callbackManager)||void 0===e?void 0:e.controller;if(!n)return null;const o=n.getContentZoom();return Math.abs(Math.log(t.zoomValue/o))<.01?null:{zoomValue:o}}))}onZoomSliderChange(t){var e,n;null===(n=null===(e=this.props.callbackManager)||void 0===e?void 0:e.controller)||void 0===n||n.zoomContent(t)}render(){return i().createElement("div",{className:"zoom"},this.props.label&&i().createElement("span",{className:"zoom-label"},this.props.label),i().createElement("span",{className:"zoom-value"},i().createElement(Cn,{value:this.state.zoomValue,max:this.props.max,onChange:this.onZoomSliderChange})))}}const Sn=kn,Mn={right:function(t){var e;return i().createElement("div",{className:"side-panel"},i().createElement(re,{header:"Primary scale",axisTitles:t.props.axisTitles,axisMnemos:t.props.axisMnemos,primaryAxis:t.getPrimaryAxis(),onChangePrimaryAxis:t.onChangePrimaryAxis,callbackManager:t.callbackManager}),i().createElement(de,{header:"Readout",readoutOptions:t.props.readoutOptions,callbackManager:t.callbackManager}),i().createElement(Sn,{label:"Zoom:",max:null===(e=t.props.options)||void 0===e?void 0:e.maxContentZoom,callbackManager:t.callbackManager}))}};var Tn=n(48742),_n=n(2980),En={};En.styleTagTransform=b(),En.setAttributes=f(),En.insert=h().bind(null,"head"),En.domAPI=u(),En.insertStyleElement=g(),a()(_n.A,En),_n.A&&_n.A.locals&&_n.A.locals;var Nn=n(64325);const zn=s().array,In=s().shape({patternSize:s().number.isRequired,patternImages:s().arrayOf(s().string).isRequired,patternNames:s().arrayOf(s().string)}),Pn=s().oneOfType([s().func,s().object]),Rn=s().oneOf(["linear","log"]),Ln=s().oneOf(["","line","linestep","dot","area","differential","gradientfill","stacked"]),Fn=s().string,$n={type:Ln,scale:Rn,domain:s().arrayOf(s().number),color:Fn,inverseColor:Fn,fill:Fn,fillOpacity:s().number,colorMapFunctionName:s().string,inverseColorMapFunctionName:s().string,colorScale:Rn,inverseColorScale:Rn,color2:Fn,fill2:Fn,showLabels:s().bool,showLines:s().bool,labelRotation:s().number},Bn=(s().shape($n),s().shape(Object.assign(Object.assign({},$n),{name:s().string.isRequired,style:s().string,scale:Rn,name2:s().string}))),On=s().shape(Object.assign(Object.assign({},$n),{name:s().string})),Dn=s().shape({title:s().string,required:s().bool,width:s().number,plots:s().arrayOf(Bn).isRequired,scale:Rn,domain:s().arrayOf(s().number)}),jn=s().shape({name:s().string.isRequired,scale:s().shape({primary:s().string.isRequired,allowSecondary:s().bool}).isRequired,tracks:s().arrayOf(Dn).isRequired,styles:s().arrayOf(On)});function Wn(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function Vn(t,e=!1){return t&&(Wn(t.value)&&""!==t.value||e&&Wn(t.defaultValue)&&""!==t.defaultValue)}const Hn=function(t,e){var n,i;return o.isValidElement(t)&&-1!==e.indexOf(null!=(n=t.type.muiName)?n:null==(i=t.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)},Un=o.createContext(void 0);function qn(t){return(0,nn.Ay)("MuiFormControl",t)}(0,en.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Yn=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Gn=(0,Qe.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>(0,pe.A)({},e.root,e[`margin${(0,tn.A)(t.margin)}`],t.fullWidth&&e.fullWidth)})((({ownerState:t})=>(0,pe.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"}))),Xn=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiFormControl"}),{children:i,className:r,color:s="primary",component:l="div",disabled:a=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:m="medium",variant:g="outlined"}=n,v=(0,he.A)(n,Yn),b=(0,pe.A)({},n,{color:s,component:l,disabled:a,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:m,variant:g}),y=(t=>{const{classes:e,margin:n,fullWidth:o}=t,i={root:["root","none"!==n&&`margin${(0,tn.A)(n)}`,o&&"fullWidth"]};return(0,ve.A)(i,qn,e)})(b),[A,x]=o.useState((()=>{let t=!1;return i&&o.Children.forEach(i,(e=>{if(!Hn(e,["Input","Select"]))return;const n=Hn(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)})),t})),[w,C]=o.useState((()=>{let t=!1;return i&&o.Children.forEach(i,(e=>{Hn(e,["Input","Select"])&&(Vn(e.props,!0)||Vn(e.props.inputProps,!0))&&(t=!0)})),t})),[k,S]=o.useState(!1);a&&k&&S(!1);const M=void 0===u||a?k:u;let T;const _=o.useMemo((()=>({adornedStart:A,setAdornedStart:x,color:s,disabled:a,error:c,filled:w,focused:M,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{S(!1)},onEmpty:()=>{C(!1)},onFilled:()=>{C(!0)},onFocus:()=>{S(!0)},registerEffect:T,required:f,variant:g})),[A,s,a,c,w,M,d,h,T,f,m,g]);return(0,Ge.jsx)(Un.Provider,{value:_,children:(0,Ge.jsx)(Gn,(0,pe.A)({as:l,ownerState:b,className:(0,fe.A)(y.root,r),ref:e},v,{children:i}))})}));function Kn({props:t,states:e,muiFormControl:n}){return e.reduce(((e,o)=>(e[o]=t[o],n&&void 0===t[o]&&(e[o]=n[o]),e)),{})}function Zn(){return o.useContext(Un)}function Qn(t){return(0,nn.Ay)("MuiFormLabel",t)}const Jn=(0,en.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),to=["children","className","color","component","disabled","error","filled","focused","required"],eo=(0,Qe.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>(0,pe.A)({},e.root,"secondary"===t.color&&e.colorSecondary,t.filled&&e.filled)})((({theme:t,ownerState:e})=>(0,pe.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Jn.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Jn.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Jn.error}`]:{color:(t.vars||t).palette.error.main}}))),no=(0,Qe.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})((({theme:t})=>({[`&.${Jn.error}`]:{color:(t.vars||t).palette.error.main}}))),oo=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiFormLabel"}),{children:o,className:i,component:r="label"}=n,s=(0,he.A)(n,to),l=Kn({props:n,muiFormControl:Zn(),states:["color","required","focused","disabled","error","filled"]}),a=(0,pe.A)({},n,{color:l.color||"primary",component:r,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),c=(t=>{const{classes:e,color:n,focused:o,disabled:i,error:r,filled:s,required:l}=t,a={root:["root",`color${(0,tn.A)(n)}`,i&&"disabled",r&&"error",s&&"filled",o&&"focused",l&&"required"],asterisk:["asterisk",r&&"error"]};return(0,ve.A)(a,Qn,e)})(a);return(0,Ge.jsxs)(eo,(0,pe.A)({as:r,ownerState:a,className:(0,fe.A)(c.root,i),ref:e},s,{children:[o,l.required&&(0,Ge.jsxs)(no,{ownerState:a,"aria-hidden":!0,className:c.asterisk,children:[" ","*"]})]}))}));var io=n(53838);function ro(t){return(0,nn.Ay)("MuiInputLabel",t)}(0,en.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const so=["disableAnimation","margin","shrink","variant","className"],lo=(0,Qe.Ay)(oo,{shouldForwardProp:t=>(0,io.A)(t)||"classes"===t,name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Jn.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,"small"===n.size&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})((({theme:t,ownerState:e})=>(0,pe.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===e.size&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===e.variant&&(0,pe.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===e.size&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&(0,pe.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===e.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===e.variant&&(0,pe.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===e.size&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"})))),ao=o.forwardRef((function(t,e){const n=(0,Ze.A)({name:"MuiInputLabel",props:t}),{disableAnimation:o=!1,shrink:i,className:r}=n,s=(0,he.A)(n,so),l=Zn();let a=i;void 0===a&&l&&(a=l.filled||l.focused||l.adornedStart);const c=Kn({props:n,muiFormControl:l,states:["size","variant","required","focused"]}),u=(0,pe.A)({},n,{disableAnimation:o,formControl:l,shrink:a,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),d=(t=>{const{classes:e,formControl:n,size:o,shrink:i,disableAnimation:r,variant:s,required:l}=t,a={root:["root",n&&"formControl",!r&&"animated",i&&"shrink",o&&"normal"!==o&&`size${(0,tn.A)(o)}`,s],asterisk:[l&&"asterisk"]},c=(0,ve.A)(a,ro,e);return(0,pe.A)({},e,c)})(u);return(0,Ge.jsx)(lo,(0,pe.A)({"data-shrink":a,ownerState:u,ref:e,className:(0,fe.A)(d.root,r)},s,{classes:d}))}));function co(t){return(0,nn.Ay)("MuiNativeSelect",t)}const uo=(0,en.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ho=["className","disabled","error","IconComponent","inputRef","variant"],po=({ownerState:t,theme:e})=>(0,pe.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,pe.A)({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===e.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${uo.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),fo=(0,Qe.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:io.A,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${uo.multiple}`]:e.multiple}]}})(po),mo=({ownerState:t,theme:e})=>(0,pe.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${uo.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7}),go=(0,Qe.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${(0,tn.A)(n.variant)}`],n.open&&e.iconOpen]}})(mo),vo=o.forwardRef((function(t,e){const{className:n,disabled:i,error:r,IconComponent:s,inputRef:l,variant:a="standard"}=t,c=(0,he.A)(t,ho),u=(0,pe.A)({},t,{disabled:i,variant:a,error:r}),d=(t=>{const{classes:e,variant:n,disabled:o,multiple:i,open:r,error:s}=t,l={select:["select",n,o&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${(0,tn.A)(n)}`,r&&"iconOpen",o&&"disabled"]};return(0,ve.A)(l,co,e)})(u);return(0,Ge.jsxs)(o.Fragment,{children:[(0,Ge.jsx)(fo,(0,pe.A)({ownerState:u,className:(0,fe.A)(d.select,n),disabled:i,ref:l||e},c)),t.multiple?null:(0,Ge.jsx)(go,{as:s,ownerState:u,className:d.icon})]})}));function bo(t){return(0,nn.Ay)("MuiSvgIcon",t)}(0,en.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const yo=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Ao=(0,Qe.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,"inherit"!==n.color&&e[`color${(0,tn.A)(n.color)}`],e[`fontSize${(0,tn.A)(n.fontSize)}`]]}})((({theme:t,ownerState:e})=>{var n,o,i,r,s,l,a,c,u,d,h,p,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=t.transitions)||null==(o=n.create)?void 0:o.call(n,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(r=t.typography)||null==(s=r.pxToRem)?void 0:s.call(r,20))||"1.25rem",medium:(null==(l=t.typography)||null==(a=l.pxToRem)?void 0:a.call(l,24))||"1.5rem",large:(null==(c=t.typography)||null==(u=c.pxToRem)?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:null!=(d=null==(h=(t.vars||t).palette)||null==(h=h[e.color])?void 0:h.main)?d:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.disabled,inherit:void 0}[e.color]}})),xo=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiSvgIcon"}),{children:i,className:r,color:s="inherit",component:l="svg",fontSize:a="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=n,p=(0,he.A)(n,yo),f=o.isValidElement(i)&&"svg"===i.type,m=(0,pe.A)({},n,{color:s,component:l,fontSize:a,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f}),g={};u||(g.viewBox=h);const v=(t=>{const{color:e,fontSize:n,classes:o}=t,i={root:["root","inherit"!==e&&`color${(0,tn.A)(e)}`,`fontSize${(0,tn.A)(n)}`]};return(0,ve.A)(i,bo,o)})(m);return(0,Ge.jsxs)(Ao,(0,pe.A)({as:l,className:(0,fe.A)(v.root,r),focusable:"false",color:c,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:e},g,p,f&&i.props,{ownerState:m,children:[f?i.props.children:i,d?(0,Ge.jsx)("title",{children:d}):null]}))}));xo.muiName="SvgIcon";const wo=xo,Co=function(t){function e(e,n){return(0,Ge.jsx)(wo,(0,pe.A)({"data-testid":"ArrowDropDownIcon",ref:n},e,{children:t}))}return e.muiName=wo.muiName,o.memo(o.forwardRef(e))}((0,Ge.jsx)("path",{d:"M7 10l5 5 5-5z"}));var ko=n(81165),So=n(59557),Mo=n(58917);function To(t,e=166){let n;function o(...o){clearTimeout(n),n=setTimeout((()=>{t.apply(this,o)}),e)}return o.clear=()=>{clearTimeout(n)},o}const _o=["onChange","maxRows","minRows","style","value"];function Eo(t){return parseInt(t,10)||0}const No={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},zo=o.forwardRef((function(t,e){const{onChange:n,maxRows:i,minRows:r=1,style:s,value:l}=t,a=(0,he.A)(t,_o),{current:c}=o.useRef(null!=l),u=o.useRef(null),d=(0,Ne.A)(e,u),h=o.useRef(null),p=o.useCallback((()=>{const e=u.current,n=(0,Mo.A)(e).getComputedStyle(e);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const o=h.current;o.style.width=n.width,o.value=e.value||t.placeholder||"x","\n"===o.value.slice(-1)&&(o.value+=" ");const s=n.boxSizing,l=Eo(n.paddingBottom)+Eo(n.paddingTop),a=Eo(n.borderBottomWidth)+Eo(n.borderTopWidth),c=o.scrollHeight;o.value="x";const d=o.scrollHeight;let p=c;return r&&(p=Math.max(Number(r)*d,p)),i&&(p=Math.min(Number(i)*d,p)),p=Math.max(p,d),{outerHeightStyle:p+("border-box"===s?l+a:0),overflowing:Math.abs(p-c)<=1}}),[i,r,t.placeholder]),f=o.useCallback((()=>{const t=p();if(null==(e=t)||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflowing)return;var e;const n=u.current;n.style.height=`${t.outerHeightStyle}px`,n.style.overflow=t.overflowing?"hidden":""}),[p]);return(0,ze.A)((()=>{const t=()=>{f()};const e=To(t),n=u.current,o=(0,Mo.A)(n);let i;return o.addEventListener("resize",e),"undefined"!=typeof ResizeObserver&&(i=new ResizeObserver(t),i.observe(n)),()=>{e.clear(),cancelAnimationFrame(undefined),o.removeEventListener("resize",e),i&&i.disconnect()}}),[p,f]),(0,ze.A)((()=>{f()})),(0,Ge.jsxs)(o.Fragment,{children:[(0,Ge.jsx)("textarea",(0,pe.A)({value:l,onChange:t=>{c||f(),n&&n(t)},ref:d,rows:r,style:s},a)),(0,Ge.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:h,tabIndex:-1,style:(0,pe.A)({},No,s,{paddingTop:0,paddingBottom:0})})]})}));var Io=n(1944);const Po=ze.A;var Ro=n(2320),Lo=n(59307);const Fo=function({styles:t,themeId:e,defaultTheme:n={}}){const o=(0,Lo.A)(n),i="function"==typeof t?t(e&&o[e]||o):t;return(0,Ge.jsx)(Ro.A,{styles:i})};var $o=n(57129),Bo=n(94676);const Oo=function(t){return(0,Ge.jsx)(Fo,(0,pe.A)({},t,{defaultTheme:$o.A,themeId:Bo.A}))};function Do(t){return(0,nn.Ay)("MuiInputBase",t)}const jo=(0,en.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Wo=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Vo=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,"small"===n.size&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${(0,tn.A)(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Ho=(t,e)=>{const{ownerState:n}=t;return[e.input,"small"===n.size&&e.inputSizeSmall,n.multiline&&e.inputMultiline,"search"===n.type&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Uo=(0,Qe.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Vo})((({theme:t,ownerState:e})=>(0,pe.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${jo.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&(0,pe.A)({padding:"4px 0 5px"},"small"===e.size&&{paddingTop:1}),e.fullWidth&&{width:"100%"}))),qo=(0,Qe.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ho})((({theme:t,ownerState:e})=>{const n="light"===t.palette.mode,o=(0,pe.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},r=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return(0,pe.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${jo.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus:-ms-input-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${jo.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===e.size&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===e.type&&{MozAppearance:"textfield"})})),Yo=(0,Ge.jsx)(Oo,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Go=o.forwardRef((function(t,e){var n;const i=(0,Ze.A)({props:t,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:l,className:a,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,fullWidth:m=!1,id:g,inputComponent:v="input",inputProps:b={},inputRef:y,maxRows:A,minRows:x,multiline:w=!1,name:C,onBlur:k,onChange:S,onClick:M,onFocus:T,onKeyDown:_,onKeyUp:E,placeholder:N,readOnly:z,renderSuffix:I,rows:P,slotProps:R={},slots:L={},startAdornment:F,type:$="text",value:B}=i,O=(0,he.A)(i,Wo),D=null!=b.value?b.value:B,{current:j}=o.useRef(null!=D),W=o.useRef(),V=o.useCallback((t=>{}),[]),H=(0,Io.A)(W,y,b.ref,V),[U,q]=o.useState(!1),Y=Zn(),G=Kn({props:i,muiFormControl:Y,states:["color","disabled","error","hiddenLabel","size","required","filled"]});G.focused=Y?Y.focused:U,o.useEffect((()=>{!Y&&h&&U&&(q(!1),k&&k())}),[Y,h,U,k]);const X=Y&&Y.onFilled,K=Y&&Y.onEmpty,Z=o.useCallback((t=>{Vn(t)?X&&X():K&&K()}),[X,K]);Po((()=>{j&&Z({value:D})}),[D,Z,j]),o.useEffect((()=>{Z(W.current)}),[]);let Q=v,J=b;w&&"input"===Q&&(J=P?(0,pe.A)({type:void 0,minRows:P,maxRows:P},J):(0,pe.A)({type:void 0,maxRows:A,minRows:x},J),Q=zo),o.useEffect((()=>{Y&&Y.setAdornedStart(Boolean(F))}),[Y,F]);const tt=(0,pe.A)({},i,{color:G.color||"primary",disabled:G.disabled,endAdornment:f,error:G.error,focused:G.focused,formControl:Y,fullWidth:m,hiddenLabel:G.hiddenLabel,multiline:w,size:G.size,startAdornment:F,type:$}),et=(t=>{const{classes:e,color:n,disabled:o,error:i,endAdornment:r,focused:s,formControl:l,fullWidth:a,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=t,m={root:["root",`color${(0,tn.A)(n)}`,o&&"disabled",i&&"error",a&&"fullWidth",s&&"focused",l&&"formControl",h&&"medium"!==h&&`size${(0,tn.A)(h)}`,u&&"multiline",p&&"adornedStart",r&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",o&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",r&&"inputAdornedEnd",d&&"readOnly"]};return(0,ve.A)(m,Do,e)})(tt),nt=L.root||c.Root||Uo,ot=R.root||u.root||{},it=L.input||c.Input||qo;return J=(0,pe.A)({},J,null!=(n=R.input)?n:u.input),(0,Ge.jsxs)(o.Fragment,{children:[!p&&Yo,(0,Ge.jsxs)(nt,(0,pe.A)({},ot,!(0,ge.g)(nt)&&{ownerState:(0,pe.A)({},tt,ot.ownerState)},{ref:e,onClick:t=>{W.current&&t.currentTarget===t.target&&W.current.focus(),M&&M(t)}},O,{className:(0,fe.A)(et.root,ot.className,a,z&&"MuiInputBase-readOnly"),children:[F,(0,Ge.jsx)(Un.Provider,{value:null,children:(0,Ge.jsx)(it,(0,pe.A)({ownerState:tt,"aria-invalid":G.error,"aria-describedby":r,autoComplete:s,autoFocus:l,defaultValue:d,disabled:G.disabled,id:g,onAnimationStart:t=>{Z("mui-auto-fill-cancel"===t.animationName?W.current:{value:"x"})},name:C,placeholder:N,readOnly:z,required:G.required,rows:P,value:D,onKeyDown:_,onKeyUp:E,type:$},J,!(0,ge.g)(it)&&{as:Q,ownerState:(0,pe.A)({},tt,J.ownerState)},{ref:H,className:(0,fe.A)(et.input,J.className,z&&"MuiInputBase-readOnly"),onBlur:t=>{k&&k(t),b.onBlur&&b.onBlur(t),Y&&Y.onBlur?Y.onBlur(t):q(!1)},onChange:(t,...e)=>{if(!j){const e=t.target||W.current;if(null==e)throw new Error((0,So.A)(1));Z({value:e.value})}b.onChange&&b.onChange(t,...e),S&&S(t,...e)},onFocus:t=>{G.disabled?t.stopPropagation():(T&&T(t),b.onFocus&&b.onFocus(t),Y&&Y.onFocus?Y.onFocus(t):q(!0))}}))}),f,I?I((0,pe.A)({},G,{startAdornment:F})):null]}))]})})),Xo=Go;function Ko(t){return(0,nn.Ay)("MuiInput",t)}const Zo=(0,pe.A)({},jo,(0,en.A)("MuiInput",["root","underline","input"])),Qo=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Jo=(0,Qe.Ay)(Uo,{shouldForwardProp:t=>(0,io.A)(t)||"classes"===t,name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Vo(t,e),!n.disableUnderline&&e.underline]}})((({theme:t,ownerState:e})=>{let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,pe.A)({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Zo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Zo.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Zo.disabled}, .${Zo.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Zo.disabled}:before`]:{borderBottomStyle:"dotted"}})})),ti=(0,Qe.Ay)(qo,{name:"MuiInput",slot:"Input",overridesResolver:Ho})({}),ei=o.forwardRef((function(t,e){var n,o,i,r;const s=(0,Ze.A)({props:t,name:"MuiInput"}),{disableUnderline:l,components:a={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:f={},type:m="text"}=s,g=(0,he.A)(s,Qo),v=(t=>{const{classes:e,disableUnderline:n}=t,o={root:["root",!n&&"underline"],input:["input"]},i=(0,ve.A)(o,Ko,e);return(0,pe.A)({},e,i)})(s),b={root:{ownerState:{disableUnderline:l}}},y=(null!=p?p:c)?(0,ko.A)(null!=p?p:c,b):b,A=null!=(n=null!=(o=f.root)?o:a.Root)?n:Jo,x=null!=(i=null!=(r=f.input)?r:a.Input)?i:ti;return(0,Ge.jsx)(Xo,(0,pe.A)({slots:{root:A,input:x},slotProps:y,fullWidth:u,inputComponent:d,multiline:h,ref:e,type:m},g,{classes:v}))}));ei.muiName="Input";const ni=ei,oi=["className","children","classes","IconComponent","input","inputProps","variant"],ii=["root"],ri=(0,Ge.jsx)(ni,{}),si=o.forwardRef((function(t,e){const n=(0,Ze.A)({name:"MuiNativeSelect",props:t}),{className:i,children:r,classes:s={},IconComponent:l=Co,input:a=ri,inputProps:c}=n,u=(0,he.A)(n,oi),d=Kn({props:n,muiFormControl:Zn(),states:["variant"]}),h=(t=>{const{classes:e}=t;return(0,ve.A)({root:["root"]},co,e)})((0,pe.A)({},n,{classes:s})),p=(0,he.A)(s,ii);return(0,Ge.jsx)(o.Fragment,{children:o.cloneElement(a,(0,pe.A)({inputComponent:vo,inputProps:(0,pe.A)({children:r,classes:p,IconComponent:l,variant:d.variant,type:void 0},c,a?a.props.inputProps:{}),ref:e},u,{className:(0,fe.A)(h.root,a.props.className,i)}))})}));si.muiName="Select";const li=si;var ai=n(47859),ci=n(86643);function ui(t){return(0,nn.Ay)("MuiTypography",t)}(0,en.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const di=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],hi=(0,Qe.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],"inherit"!==n.align&&e[`align${(0,tn.A)(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})((({theme:t,ownerState:e})=>(0,pe.A)({margin:0},"inherit"===e.variant&&{font:"inherit"},"inherit"!==e.variant&&t.typography[e.variant],"inherit"!==e.align&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16}))),pi={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fi={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},mi=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiTypography"}),o=(t=>fi[t]||t)(n.color),i=(0,ci.A)((0,pe.A)({},n,{color:o})),{align:r="inherit",className:s,component:l,gutterBottom:a=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=pi}=i,p=(0,he.A)(i,di),f=(0,pe.A)({},i,{align:r,color:o,className:s,component:l,gutterBottom:a,noWrap:c,paragraph:u,variant:d,variantMapping:h}),m=l||(u?"p":h[d]||pi[d])||"span",g=(t=>{const{align:e,gutterBottom:n,noWrap:o,paragraph:i,variant:r,classes:s}=t,l={root:["root",r,"inherit"!==t.align&&`align${(0,tn.A)(e)}`,n&&"gutterBottom",o&&"noWrap",i&&"paragraph"]};return(0,ve.A)(l,ui,s)})(f);return(0,Ge.jsx)(hi,(0,pe.A)({as:m,ref:e,ownerState:f,className:(0,fe.A)(g.root,s)},p))}));function gi(t){return(0,nn.Ay)("MuiDialogTitle",t)}const vi=(0,en.A)("MuiDialogTitle",["root"]);var bi=n(80842);const yi=["className","id"],Ai=(0,Qe.Ay)(mi,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),xi=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiDialogTitle"}),{className:i,id:r}=n,s=(0,he.A)(n,yi),l=n,a=(t=>{const{classes:e}=t;return(0,ve.A)({root:["root"]},gi,e)})(l),{titleId:c=r}=o.useContext(bi.A);return(0,Ge.jsx)(Ai,(0,pe.A)({component:"h2",className:(0,fe.A)(a.root,i),ownerState:l,ref:e,variant:"h6",id:null!=r?r:c},s))}));function wi(t){return(0,nn.Ay)("MuiDialogContent",t)}(0,en.A)("MuiDialogContent",["root","dividers"]);const Ci=["className","dividers"],ki=(0,Qe.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})((({theme:t,ownerState:e})=>(0,pe.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${vi.root} + &`]:{paddingTop:0}}))),Si=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiDialogContent"}),{className:o,dividers:i=!1}=n,r=(0,he.A)(n,Ci),s=(0,pe.A)({},n,{dividers:i}),l=(t=>{const{classes:e,dividers:n}=t,o={root:["root",n&&"dividers"]};return(0,ve.A)(o,wi,e)})(s);return(0,Ge.jsx)(ki,(0,pe.A)({className:(0,fe.A)(l.root,o),ownerState:s,ref:e},r))}));function Mi(t){return(0,nn.Ay)("MuiDialogActions",t)}(0,en.A)("MuiDialogActions",["root","spacing"]);const Ti=["className","disableSpacing"],_i=(0,Qe.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})((({ownerState:t})=>(0,pe.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}}))),Ei=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiDialogActions"}),{className:o,disableSpacing:i=!1}=n,r=(0,he.A)(n,Ti),s=(0,pe.A)({},n,{disableSpacing:i}),l=(t=>{const{classes:e,disableSpacing:n}=t,o={root:["root",!n&&"spacing"]};return(0,ve.A)(o,Mi,e)})(s);return(0,Ge.jsx)(_i,(0,pe.A)({className:(0,fe.A)(l.root,o),ownerState:s,ref:e},r))}));var Ni=n(59947);const zi=Ie.A,Ii=Ee;var Pi=n(69796),Ri=n(25821);function Li(t,e){var n=Object.create(null);return t&&o.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,o.isValidElement)(t)?e(t):t}(t)})),n}function Fi(t,e,n){return null!=n[e]?n[e]:t.props[e]}function $i(t,e,n){var i=Li(t.children),r=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var o,i=Object.create(null),r=[];for(var s in t)s in e?r.length&&(i[s]=r,r=[]):r.push(s);var l={};for(var a in e){if(i[a])for(o=0;o<i[a].length;o++){var c=i[a][o];l[i[a][o]]=n(c)}l[a]=n(a)}for(o=0;o<r.length;o++)l[r[o]]=n(r[o]);return l}(e,i);return Object.keys(r).forEach((function(s){var l=r[s];if((0,o.isValidElement)(l)){var a=s in e,c=s in i,u=e[s],d=(0,o.isValidElement)(u)&&!u.props.in;!c||a&&!d?c||!a||d?c&&a&&(0,o.isValidElement)(u)&&(r[s]=(0,o.cloneElement)(l,{onExited:n.bind(null,l),in:u.props.in,exit:Fi(l,"exit",t),enter:Fi(l,"enter",t)})):r[s]=(0,o.cloneElement)(l,{in:!1}):r[s]=(0,o.cloneElement)(l,{onExited:n.bind(null,l),in:!0,exit:Fi(l,"exit",t),enter:Fi(l,"enter",t)})}})),r}var Bi=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},Oi=function(t){function e(e,n){var o,i=(o=t.call(this,e,n)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o));return o.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},o}(0,Pi.A)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,i,r=e.children,s=e.handleExited;return{children:e.firstRender?(n=t,i=s,Li(n.children,(function(t){return(0,o.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:Fi(t,"appear",n),enter:Fi(t,"enter",n),exit:Fi(t,"exit",n)})}))):$i(t,r,s),firstRender:!1}},n.handleExited=function(t,e){var n=Li(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=(0,pe.A)({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,o=(0,he.A)(t,["component","childFactory"]),r=this.state.contextValue,s=Bi(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===e?i().createElement(Ri.A.Provider,{value:r},s):i().createElement(Ri.A.Provider,{value:r},i().createElement(e,o,s))},e}(i().Component);Oi.propTypes={},Oi.defaultProps={component:"div",childFactory:function(t){return t}};const Di=Oi;var ji=n(83537);const Wi=(0,en.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Vi=["center","classes","className"];let Hi,Ui,qi,Yi,Gi=t=>t;const Xi=(0,ji.i7)(Hi||(Hi=Gi`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Ki=(0,ji.i7)(Ui||(Ui=Gi`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Zi=(0,ji.i7)(qi||(qi=Gi`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Qi=(0,Qe.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ji=(0,Qe.Ay)((function(t){const{className:e,classes:n,pulsate:i=!1,rippleX:r,rippleY:s,rippleSize:l,in:a,onExited:c,timeout:u}=t,[d,h]=o.useState(!1),p=(0,fe.A)(e,n.ripple,n.rippleVisible,i&&n.ripplePulsate),f={width:l,height:l,top:-l/2+s,left:-l/2+r},m=(0,fe.A)(n.child,d&&n.childLeaving,i&&n.childPulsate);return a||d||h(!0),o.useEffect((()=>{if(!a&&null!=c){const t=setTimeout(c,u);return()=>{clearTimeout(t)}}}),[c,a,u]),(0,Ge.jsx)("span",{className:p,style:f,children:(0,Ge.jsx)("span",{className:m})})}),{name:"MuiTouchRipple",slot:"Ripple"})(Yi||(Yi=Gi`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Wi.rippleVisible,Xi,550,(({theme:t})=>t.transitions.easing.easeInOut),Wi.ripplePulsate,(({theme:t})=>t.transitions.duration.shorter),Wi.child,Wi.childLeaving,Ki,550,(({theme:t})=>t.transitions.easing.easeInOut),Wi.childPulsate,Zi,(({theme:t})=>t.transitions.easing.easeInOut)),tr=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:r={},className:s}=n,l=(0,he.A)(n,Vi),[a,c]=o.useState([]),u=o.useRef(0),d=o.useRef(null);o.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[a]);const h=o.useRef(!1),p=(0,xe.A)(),f=o.useRef(null),m=o.useRef(null),g=o.useCallback((t=>{const{pulsate:e,rippleX:n,rippleY:o,rippleSize:i,cb:s}=t;c((t=>[...t,(0,Ge.jsx)(Ji,{classes:{ripple:(0,fe.A)(r.ripple,Wi.ripple),rippleVisible:(0,fe.A)(r.rippleVisible,Wi.rippleVisible),ripplePulsate:(0,fe.A)(r.ripplePulsate,Wi.ripplePulsate),child:(0,fe.A)(r.child,Wi.child),childLeaving:(0,fe.A)(r.childLeaving,Wi.childLeaving),childPulsate:(0,fe.A)(r.childPulsate,Wi.childPulsate)},timeout:550,pulsate:e,rippleX:n,rippleY:o,rippleSize:i},u.current)])),u.current+=1,d.current=s}),[r]),v=o.useCallback(((t={},e={},n=()=>{})=>{const{pulsate:o=!1,center:r=i||e.pulsate,fakeElement:s=!1}=e;if("mousedown"===(null==t?void 0:t.type)&&h.current)return void(h.current=!1);"touchstart"===(null==t?void 0:t.type)&&(h.current=!0);const l=s?null:m.current,a=l?l.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(r||void 0===t||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)c=Math.round(a.width/2),u=Math.round(a.height/2);else{const{clientX:e,clientY:n}=t.touches&&t.touches.length>0?t.touches[0]:t;c=Math.round(e-a.left),u=Math.round(n-a.top)}if(r)d=Math.sqrt((2*a.width**2+a.height**2)/3),d%2==0&&(d+=1);else{const t=2*Math.max(Math.abs((l?l.clientWidth:0)-c),c)+2,e=2*Math.max(Math.abs((l?l.clientHeight:0)-u),u)+2;d=Math.sqrt(t**2+e**2)}null!=t&&t.touches?null===f.current&&(f.current=()=>{g({pulsate:o,rippleX:c,rippleY:u,rippleSize:d,cb:n})},p.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:o,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[i,g,p]),b=o.useCallback((()=>{v({},{pulsate:!0})}),[v]),y=o.useCallback(((t,e)=>{if(p.clear(),"touchend"===(null==t?void 0:t.type)&&f.current)return f.current(),f.current=null,void p.start(0,(()=>{y(t,e)}));f.current=null,c((t=>t.length>0?t.slice(1):t)),d.current=e}),[p]);return o.useImperativeHandle(e,(()=>({pulsate:b,start:v,stop:y})),[b,v,y]),(0,Ge.jsx)(Qi,(0,pe.A)({className:(0,fe.A)(Wi.root,r.root,s),ref:m},l,{children:(0,Ge.jsx)(Di,{component:null,exit:!0,children:a})}))})),er=tr;function nr(t){return(0,nn.Ay)("MuiButtonBase",t)}const or=(0,en.A)("MuiButtonBase",["root","disabled","focusVisible"]),ir=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],rr=(0,Qe.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${or.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),sr=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:r=!1,children:s,className:l,component:a="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:m,onContextMenu:g,onDragLeave:v,onFocus:b,onFocusVisible:y,onKeyDown:A,onKeyUp:x,onMouseDown:w,onMouseLeave:C,onMouseUp:k,onTouchEnd:S,onTouchMove:M,onTouchStart:T,tabIndex:_=0,TouchRippleProps:E,touchRippleRef:N,type:z}=n,I=(0,he.A)(n,ir),P=o.useRef(null),R=o.useRef(null),L=(0,Io.A)(R,N),{isFocusVisibleRef:F,onFocus:$,onBlur:B,ref:O}=Ii(),[D,j]=o.useState(!1);c&&D&&j(!1),o.useImperativeHandle(i,(()=>({focusVisible:()=>{j(!0),P.current.focus()}})),[]);const[W,V]=o.useState(!1);o.useEffect((()=>{V(!0)}),[]);const H=W&&!u&&!c;function U(t,e,n=d){return zi((o=>(e&&e(o),!n&&R.current&&R.current[t](o),!0)))}o.useEffect((()=>{D&&h&&!u&&W&&R.current.pulsate()}),[u,h,D,W]);const q=U("start",w),Y=U("stop",g),G=U("stop",v),X=U("stop",k),K=U("stop",(t=>{D&&t.preventDefault(),C&&C(t)})),Z=U("start",T),Q=U("stop",S),J=U("stop",M),tt=U("stop",(t=>{B(t),!1===F.current&&j(!1),f&&f(t)}),!1),et=zi((t=>{P.current||(P.current=t.currentTarget),$(t),!0===F.current&&(j(!0),y&&y(t)),b&&b(t)})),nt=()=>{const t=P.current;return a&&"button"!==a&&!("A"===t.tagName&&t.href)},ot=o.useRef(!1),it=zi((t=>{h&&!ot.current&&D&&R.current&&" "===t.key&&(ot.current=!0,R.current.stop(t,(()=>{R.current.start(t)}))),t.target===t.currentTarget&&nt()&&" "===t.key&&t.preventDefault(),A&&A(t),t.target===t.currentTarget&&nt()&&"Enter"===t.key&&!c&&(t.preventDefault(),m&&m(t))})),rt=zi((t=>{h&&" "===t.key&&R.current&&D&&!t.defaultPrevented&&(ot.current=!1,R.current.stop(t,(()=>{R.current.pulsate(t)}))),x&&x(t),m&&t.target===t.currentTarget&&nt()&&" "===t.key&&!t.defaultPrevented&&m(t)}));let st=a;"button"===st&&(I.href||I.to)&&(st=p);const lt={};"button"===st?(lt.type=void 0===z?"button":z,lt.disabled=c):(I.href||I.to||(lt.role="button"),c&&(lt["aria-disabled"]=c));const at=(0,Io.A)(e,O,P),ct=(0,pe.A)({},n,{centerRipple:r,component:a,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:_,focusVisible:D}),ut=(t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:o,classes:i}=t,r={root:["root",e&&"disabled",n&&"focusVisible"]},s=(0,ve.A)(r,nr,i);return n&&o&&(s.root+=` ${o}`),s})(ct);return(0,Ge.jsxs)(rr,(0,pe.A)({as:st,className:(0,fe.A)(ut.root,l),ownerState:ct,onBlur:tt,onClick:m,onContextMenu:Y,onFocus:et,onKeyDown:it,onKeyUp:rt,onMouseDown:q,onMouseLeave:K,onMouseUp:X,onDragLeave:G,onTouchEnd:Q,onTouchMove:J,onTouchStart:Z,ref:at,tabIndex:c?-1:_,type:z},lt,I,{children:[s,H?(0,Ge.jsx)(er,(0,pe.A)({ref:L,center:r},E)):null]}))})),lr=sr;function ar(t){return(0,nn.Ay)("MuiButton",t)}const cr=(0,en.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),ur=o.createContext({}),dr=o.createContext(void 0),hr=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],pr=t=>(0,pe.A)({},"small"===t.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===t.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===t.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),fr=(0,Qe.Ay)(lr,{shouldForwardProp:t=>(0,io.A)(t)||"classes"===t,name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${(0,tn.A)(n.color)}`],e[`size${(0,tn.A)(n.size)}`],e[`${n.variant}Size${(0,tn.A)(n.size)}`],"inherit"===n.color&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})((({theme:t,ownerState:e})=>{var n,o;const i="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,pe.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,pe.A)({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Ye.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===e.variant&&"inherit"!==e.color&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Ye.X4)(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===e.variant&&"inherit"!==e.color&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Ye.X4)(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===e.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===e.variant&&"inherit"!==e.color&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":(0,pe.A)({},"contained"===e.variant&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${cr.focusVisible}`]:(0,pe.A)({},"contained"===e.variant&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${cr.disabled}`]:(0,pe.A)({color:(t.vars||t).palette.action.disabled},"outlined"===e.variant&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"contained"===e.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===e.variant&&{padding:"6px 8px"},"text"===e.variant&&"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main},"outlined"===e.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===e.variant&&"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${(0,Ye.X4)(t.palette[e.color].main,.5)}`},"contained"===e.variant&&{color:t.vars?t.vars.palette.text.primary:null==(n=(o=t.palette).getContrastText)?void 0:n.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},"contained"===e.variant&&"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},"inherit"===e.color&&{color:"inherit",borderColor:"currentColor"},"small"===e.size&&"text"===e.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===e.size&&"text"===e.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===e.size&&"outlined"===e.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===e.size&&"outlined"===e.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===e.size&&"contained"===e.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===e.size&&"contained"===e.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})}),(({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${cr.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${cr.disabled}`]:{boxShadow:"none"}})),mr=(0,Qe.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${(0,tn.A)(n.size)}`]]}})((({ownerState:t})=>(0,pe.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},pr(t)))),gr=(0,Qe.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${(0,tn.A)(n.size)}`]]}})((({ownerState:t})=>(0,pe.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},pr(t)))),vr=o.forwardRef((function(t,e){const n=o.useContext(ur),i=o.useContext(dr),r=(0,Ni.A)(n,t),s=(0,Ze.A)({props:r,name:"MuiButton"}),{children:l,color:a="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:f,focusVisibleClassName:m,fullWidth:g=!1,size:v="medium",startIcon:b,type:y,variant:A="text"}=s,x=(0,he.A)(s,hr),w=(0,pe.A)({},s,{color:a,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:g,size:v,type:y,variant:A}),C=(t=>{const{color:e,disableElevation:n,fullWidth:o,size:i,variant:r,classes:s}=t,l={root:["root",r,`${r}${(0,tn.A)(e)}`,`size${(0,tn.A)(i)}`,`${r}Size${(0,tn.A)(i)}`,`color${(0,tn.A)(e)}`,n&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,tn.A)(i)}`],endIcon:["icon","endIcon",`iconSize${(0,tn.A)(i)}`]},a=(0,ve.A)(l,ar,s);return(0,pe.A)({},s,a)})(w),k=b&&(0,Ge.jsx)(mr,{className:C.startIcon,ownerState:w,children:b}),S=f&&(0,Ge.jsx)(gr,{className:C.endIcon,ownerState:w,children:f}),M=i||"";return(0,Ge.jsxs)(fr,(0,pe.A)({ownerState:w,className:(0,fe.A)(n.className,C.root,u,M),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:(0,fe.A)(C.focusVisible,m),ref:e,type:y},x,{classes:C,children:[k,l,S]}))})),br={line:"Line",linestep:"Line Step",dot:"Dot",area:"Area",gradientfill:"Gradient Fill",differential:"Differential"},yr={linear:"Linear",log:"Logarithmic"},Ar={black:"Black",red:"Red",green:"Green",blue:"Blue",brown:"Brown",magenta:"Magenta",orange:"Orange",gray:"Gray",darkred:"Dark red",lightgreen:"Light green",lightblue:"Light blue",yellow:"Yellow",white:"White"},xr={false:"No",true:"Yes"},wr="-";function Cr(t){const e=[];for(const n in t)e.push(i().createElement("option",{key:n,value:n},t[n]));return e}function kr(){return Cr(yr)}function Sr(){return Cr(Ar)}function Mr(){return Cr(xr)}function Tr(t){const e=[];if(t&&t.length)for(const n of t){const t=n.name;t||console.error("colorMapFunction.name is empty in createColorFunctionItems()"),e.push(i().createElement("option",{key:t},t))}else console.error("colorMapFunctions are missed or empty in createColorFunctionItems()");return e}function _r(t){return i().createElement("option",{key:t,value:t},t)}function Er(t,e,n){const o=new Set;for(const i of t){const t=!!e,r=e?e.plots:void 0,s=e?e.options.abbr:void 0,l=i.curves;let a=0;for(const e of l){if(n&&"string"!==e.valueType&&"integer"!==e.valueType)continue;let i=!1;if(r){for(const t of r)if(t.id===a){i=!0;break}}else s===e.name&&(i=!0);i&&t||o.add(e.name),a++}}return Array.from(o)}const Nr={display:"grid",gridTemplateColumns:"1fr 1fr 1fr",paddingTop:20,gap:10};class zr extends o.Component{constructor(t){var e,n;super(t);let o="",i="";const r=this.dataNames(!0);r[0]&&(i=o=r[0]),r[1]&&(i=r[1]);const s=Wt(this.props.track),l=this.props.templatePlot;this.state=l?Object.assign(Object.assign({},l),{open:!0}):{type:s.scale?"":"line",name:o,name2:i,scale:void 0,color:"black",fill:"red",fillOpacity:.25,inverseColor:"",colorMapFunctionName:null===(n=null===(e=this.props.wellLogView.props.colorMapFunctions)||void 0===e?void 0:e[0])||void 0===n?void 0:n.name,inverseColorMapFunctionName:void 0,colorScale:void 0,inverseColorScale:void 0,color2:"black",fill2:"green",open:!0},this.closeDialog=this.closeDialog.bind(this),this.onOK=this.onOK.bind(this)}componentDidUpdate(t,e){if(this.state.type!==e.type)if("area"===this.state.type)this.state.fill||this.setState({fill:"black"});else if("gradientfill"===this.state.type)this.state.inverseColor&&this.setState({inverseColor:""});else if("differential"===this.state.type&&!this.state.name2){const t=!this.props.templatePlot;this.setState({name2:this.dataNames(t)[0]})}}onOK(){this.props.onOK(this.state),this.closeDialog()}closeDialog(){this.setState({open:!1})}dataNames(t){return Er(this.props.wellLogView.wellLogSets,t?this.props.track:null)}createDataItems(t){return this.dataNames(t).map((t=>_r(t)))}createSelectControl(t,e,n,o){let r=this.state[t];return o&&(r||(r=wr),n.unshift(i().createElement("option",{key:wr,value:wr},!0===o?"—":o))),i().createElement(Xn,{fullWidth:!0,key:t},i().createElement(ao,null,e),i().createElement(li,{value:r,onChange:e=>{const n=e.currentTarget.value===wr?"":e.currentTarget.value,o=new Object;o[t]=n,this.setState(o)}},n))}createSelectControlFromType(t){if("area"===t||"differential"===t)return[this.createSelectControl("fill","Fill Color",Sr()),i().createElement(Xn,{fullWidth:!0,key:"112"}),i().createElement(Xn,{fullWidth:!0,key:"113"}),"area"===this.state.type?this.createSelectControl("inverseColor","Inverse Color",Sr(),!0):i().createElement(Xn,{fullWidth:!0,key:"114"})];if("gradientfill"===t){const t=this.props.wellLogView.props.colorMapFunctions;return[this.createSelectControl("colorMapFunctionName","Fill Color function/table",Tr(t)),i().createElement(Xn,{fullWidth:!0,key:"211"}),i().createElement(Xn,{fullWidth:!0,key:"212"}),this.createSelectControl("inverseColorMapFunctionName","Inverse Color function/table",Tr(t),!0)]}return[]}render(){const t=Wt(this.props.track),e=this.props.templatePlot?"Edit plot":"Add New Plot",n=!this.props.templatePlot,o=this.state.scale||t.scale;return i().createElement(ai.A,{open:this.state.open,maxWidth:"sm",fullWidth:!0,onClose:()=>this.setState({open:!1})},i().createElement(xi,null,e),i().createElement(Si,{style:Nr},this.createSelectControl("type","Type",Cr(br)),this.createSelectControl("scale","Scale",kr(),"Track scale"),"gradientfill"===this.state.type&&"linear"===o?[this.createSelectControl("colorScale","Color Scale",kr())]:[i().createElement(Xn,{fullWidth:!0,key:"12"})],this.createSelectControl("name","Data",this.createDataItems(n)),this.createSelectControl("color","dot"===this.state.type?"Dot Color":"Line Color",Sr()),this.createSelectControlFromType(this.state.type),"differential"===this.state.type?[this.createSelectControl("name2","Data 2",this.createDataItems(n)),this.createSelectControl("color2","Line Color 2",Sr()),this.createSelectControl("fill2","Fill Color 2",Sr())]:[]),i().createElement(Ei,null,i().createElement(vr,{color:"secondary",variant:"contained",onClick:this.closeDialog},"Cancel"),i().createElement(vr,{color:"primary",variant:"contained",onClick:this.onOK},"OK")))}}var Ir=n(49149);function Pr(t){return(0,nn.Ay)("MuiFilledInput",t)}const Rr=(0,pe.A)({},jo,(0,en.A)("MuiFilledInput",["root","underline","input"])),Lr=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Fr=(0,Qe.Ay)(Uo,{shouldForwardProp:t=>(0,io.A)(t)||"classes"===t,name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Vo(t,e),!n.disableUnderline&&e.underline]}})((({theme:t,ownerState:e})=>{var n;const o="light"===t.palette.mode,i=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,pe.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Rr.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Rr.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(n=(t.vars||t).palette[e.color||"primary"])?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Rr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Rr.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Rr.disabled}, .${Rr.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Rr.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&(0,pe.A)({padding:"25px 12px 8px"},"small"===e.size&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&"small"===e.size&&{paddingTop:8,paddingBottom:9}))})),$r=(0,Qe.Ay)(qo,{name:"MuiFilledInput",slot:"Input",overridesResolver:Ho})((({theme:t,ownerState:e})=>(0,pe.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===e.size&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&"small"===e.size&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}))),Br=o.forwardRef((function(t,e){var n,o,i,r;const s=(0,Ze.A)({props:t,name:"MuiFilledInput"}),{components:l={},componentsProps:a,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:p={},type:f="text"}=s,m=(0,he.A)(s,Lr),g=(0,pe.A)({},s,{fullWidth:c,inputComponent:u,multiline:d,type:f}),v=(t=>{const{classes:e,disableUnderline:n}=t,o={root:["root",!n&&"underline"],input:["input"]},i=(0,ve.A)(o,Pr,e);return(0,pe.A)({},e,i)})(s),b={root:{ownerState:g},input:{ownerState:g}},y=(null!=h?h:a)?(0,ko.A)(b,null!=h?h:a):b,A=null!=(n=null!=(o=p.root)?o:l.Root)?n:Fr,x=null!=(i=null!=(r=p.input)?r:l.Input)?i:$r;return(0,Ge.jsx)(Xo,(0,pe.A)({slots:{root:A,input:x},componentsProps:y,fullWidth:c,inputComponent:u,multiline:d,ref:e,type:f},m,{classes:v}))}));Br.muiName="Input";const Or=Br;var Dr;const jr=["children","classes","className","label","notched"],Wr=(0,Qe.Ay)("fieldset",{shouldForwardProp:io.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Vr=(0,Qe.Ay)("legend",{shouldForwardProp:io.A})((({ownerState:t,theme:e})=>(0,pe.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&(0,pe.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}))));function Hr(t){return(0,nn.Ay)("MuiOutlinedInput",t)}const Ur=(0,pe.A)({},jo,(0,en.A)("MuiOutlinedInput",["root","notchedOutline","input"])),qr=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Yr=(0,Qe.Ay)(Uo,{shouldForwardProp:t=>(0,io.A)(t)||"classes"===t,name:"MuiOutlinedInput",slot:"Root",overridesResolver:Vo})((({theme:t,ownerState:e})=>{const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,pe.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ur.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ur.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Ur.focused} .${Ur.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Ur.error} .${Ur.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ur.disabled} .${Ur.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&(0,pe.A)({padding:"16.5px 14px"},"small"===e.size&&{padding:"8.5px 14px"}))})),Gr=(0,Qe.Ay)((function(t){const{className:e,label:n,notched:o}=t,i=(0,he.A)(t,jr),r=null!=n&&""!==n,s=(0,pe.A)({},t,{notched:o,withLabel:r});return(0,Ge.jsx)(Wr,(0,pe.A)({"aria-hidden":!0,className:e,ownerState:s},i,{children:(0,Ge.jsx)(Vr,{ownerState:s,children:r?(0,Ge.jsx)("span",{children:n}):Dr||(Dr=(0,Ge.jsx)("span",{className:"notranslate",children:"​"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})((({theme:t})=>{const e="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),Xr=(0,Qe.Ay)(qo,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Ho})((({theme:t,ownerState:e})=>(0,pe.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===e.size&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0}))),Kr=o.forwardRef((function(t,e){var n,i,r,s,l;const a=(0,Ze.A)({props:t,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:f,slots:m={},type:g="text"}=a,v=(0,he.A)(a,qr),b=(t=>{const{classes:e}=t,n=(0,ve.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Hr,e);return(0,pe.A)({},e,n)})(a),y=Zn(),A=Kn({props:a,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x=(0,pe.A)({},a,{color:A.color||"primary",disabled:A.disabled,error:A.error,focused:A.focused,formControl:y,fullWidth:u,hiddenLabel:A.hiddenLabel,multiline:p,size:A.size,type:g}),w=null!=(n=null!=(i=m.root)?i:c.Root)?n:Yr,C=null!=(r=null!=(s=m.input)?s:c.Input)?r:Xr;return(0,Ge.jsx)(Xo,(0,pe.A)({slots:{root:w,input:C},renderSuffix:t=>(0,Ge.jsx)(Gr,{ownerState:x,className:b.notchedOutline,label:null!=h&&""!==h&&A.required?l||(l=(0,Ge.jsxs)(o.Fragment,{children:[h," ","*"]})):h,notched:void 0!==f?f:Boolean(t.startAdornment||t.filled||t.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:e,type:g},v,{classes:(0,pe.A)({},b,{notchedOutline:null})}))}));Kr.muiName="Input";const Zr=Kr;function Qr(t){return(0,nn.Ay)("MuiFormHelperText",t)}const Jr=(0,en.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var ts;const es=["children","className","component","disabled","error","filled","focused","margin","required","variant"],ns=(0,Qe.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${(0,tn.A)(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})((({theme:t,ownerState:e})=>(0,pe.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Jr.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Jr.error}`]:{color:(t.vars||t).palette.error.main}},"small"===e.size&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14}))),os=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiFormHelperText"}),{children:o,className:i,component:r="p"}=n,s=(0,he.A)(n,es),l=Kn({props:n,muiFormControl:Zn(),states:["variant","size","disabled","error","filled","focused","required"]}),a=(0,pe.A)({},n,{component:r,contained:"filled"===l.variant||"outlined"===l.variant,variant:l.variant,size:l.size,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),c=(t=>{const{classes:e,contained:n,size:o,disabled:i,error:r,filled:s,focused:l,required:a}=t,c={root:["root",i&&"disabled",r&&"error",o&&`size${(0,tn.A)(o)}`,n&&"contained",l&&"focused",s&&"filled",a&&"required"]};return(0,ve.A)(c,Qr,e)})(a);return(0,Ge.jsx)(ns,(0,pe.A)({as:r,ownerState:a,className:(0,fe.A)(c.root,i),ref:e},s,{children:" "===o?ts||(ts=(0,Ge.jsx)("span",{className:"notranslate",children:"​"})):o}))}));n(60102);const is=be.A,rs=o.createContext({});function ss(t){return(0,nn.Ay)("MuiList",t)}(0,en.A)("MuiList",["root","padding","dense","subheader"]);const ls=["children","className","component","dense","disablePadding","subheader"],as=(0,Qe.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})((({ownerState:t})=>(0,pe.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0}))),cs=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiList"}),{children:i,className:r,component:s="ul",dense:l=!1,disablePadding:a=!1,subheader:c}=n,u=(0,he.A)(n,ls),d=o.useMemo((()=>({dense:l})),[l]),h=(0,pe.A)({},n,{component:s,dense:l,disablePadding:a}),p=(t=>{const{classes:e,disablePadding:n,dense:o,subheader:i}=t,r={root:["root",!n&&"padding",o&&"dense",i&&"subheader"]};return(0,ve.A)(r,ss,e)})(h);return(0,Ge.jsx)(rs.Provider,{value:d,children:(0,Ge.jsxs)(as,(0,pe.A)({as:s,className:(0,fe.A)(p.root,r),ref:e,ownerState:h},u,{children:[c,i]}))})})),us=n(58797).A,ds=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function hs(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function ps(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function fs(t,e){if(void 0===e)return!0;let n=t.innerText;return void 0===n&&(n=t.textContent),n=n.trim().toLowerCase(),0!==n.length&&(e.repeating?n[0]===e.keys[0]:0===n.indexOf(e.keys.join("")))}function ms(t,e,n,o,i,r){let s=!1,l=i(t,e,!!e&&n);for(;l;){if(l===t.firstChild){if(s)return!1;s=!0}const e=!o&&(l.disabled||"true"===l.getAttribute("aria-disabled"));if(l.hasAttribute("tabindex")&&fs(l,r)&&!e)return l.focus(),!0;l=i(t,l,n)}return!1}const gs=o.forwardRef((function(t,e){const{actions:n,autoFocus:i=!1,autoFocusItem:r=!1,children:s,className:l,disabledItemsFocusable:a=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=t,h=(0,he.A)(t,ds),p=o.useRef(null),f=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Po((()=>{i&&p.current.focus()}),[i]),o.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(t,{direction:e})=>{const n=!p.current.style.width;if(t.clientHeight<p.current.clientHeight&&n){const n=`${us(is(t))}px`;p.current.style["rtl"===e?"paddingLeft":"paddingRight"]=n,p.current.style.width=`calc(100% + ${n})`}return p.current}})),[]);const m=(0,Io.A)(p,e);let g=-1;o.Children.forEach(s,((t,e)=>{o.isValidElement(t)?(t.props.disabled||("selectedMenu"===d&&t.props.selected||-1===g)&&(g=e),g===e&&(t.props.disabled||t.props.muiSkipListHighlight||t.type.muiSkipListHighlight)&&(g+=1,g>=s.length&&(g=-1))):g===e&&(g+=1,g>=s.length&&(g=-1))}));const v=o.Children.map(s,((t,e)=>{if(e===g){const e={};return r&&(e.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===d&&(e.tabIndex=0),o.cloneElement(t,e)}return t}));return(0,Ge.jsx)(cs,(0,pe.A)({role:"menu",ref:m,className:l,onKeyDown:t=>{const e=p.current,n=t.key,o=is(e).activeElement;if("ArrowDown"===n)t.preventDefault(),ms(e,o,c,a,hs);else if("ArrowUp"===n)t.preventDefault(),ms(e,o,c,a,ps);else if("Home"===n)t.preventDefault(),ms(e,null,c,a,hs);else if("End"===n)t.preventDefault(),ms(e,null,c,a,ps);else if(1===n.length){const i=f.current,r=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&r!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(r);const l=o&&!i.repeating&&fs(o,i);i.previousKeyMatched&&(l||ms(e,o,!1,a,hs,i))?t.preventDefault():i.previousKeyMatched=!1}u&&u(t)},tabIndex:i?0:-1},h,{children:v}))})),vs=To,bs=Mo.A;var ys=n(70845),As=n(24175),xs=n(36278);const ws=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Cs(t){return`scale(${t}, ${t**2})`}const ks={entering:{opacity:1,transform:Cs(1)},entered:{opacity:1,transform:"none"}},Ss="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ms=o.forwardRef((function(t,e){const{addEndListener:n,appear:i=!0,children:r,easing:s,in:l,onEnter:a,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=ys.Ay}=t,v=(0,he.A)(t,ws),b=(0,xe.A)(),y=o.useRef(),A=(0,As.A)(),x=o.useRef(null),w=(0,Io.A)(x,r.ref,e),C=t=>e=>{if(t){const n=x.current;void 0===e?t(n):t(n,e)}},k=C(u),S=C(((t,e)=>{(0,xs.q)(t);const{duration:n,delay:o,easing:i}=(0,xs.c)({style:f,timeout:m,easing:s},{mode:"enter"});let r;"auto"===m?(r=A.transitions.getAutoHeightDuration(t.clientHeight),y.current=r):r=n,t.style.transition=[A.transitions.create("opacity",{duration:r,delay:o}),A.transitions.create("transform",{duration:Ss?r:.666*r,delay:o,easing:i})].join(","),a&&a(t,e)})),M=C(c),T=C(p),_=C((t=>{const{duration:e,delay:n,easing:o}=(0,xs.c)({style:f,timeout:m,easing:s},{mode:"exit"});let i;"auto"===m?(i=A.transitions.getAutoHeightDuration(t.clientHeight),y.current=i):i=e,t.style.transition=[A.transitions.create("opacity",{duration:i,delay:n}),A.transitions.create("transform",{duration:Ss?i:.666*i,delay:Ss?n:n||.333*i,easing:o})].join(","),t.style.opacity=0,t.style.transform=Cs(.75),d&&d(t)})),E=C(h);return(0,Ge.jsx)(g,(0,pe.A)({appear:i,in:l,nodeRef:x,onEnter:S,onEntered:M,onEntering:k,onExit:_,onExited:E,onExiting:T,addEndListener:t=>{"auto"===m&&b.start(y.current||0,t),n&&n(x.current,t)},timeout:"auto"===m?null:m},v,{children:(t,e)=>o.cloneElement(r,(0,pe.A)({style:(0,pe.A)({opacity:0,transform:Cs(.75),visibility:"exited"!==t||l?void 0:"hidden"},ks[t],f,r.props.style),ref:w},e))}))}));Ms.muiSupportAuto=!0;const Ts=Ms;var _s=n(61076),Es=n(40054);function Ns(t){return(0,nn.Ay)("MuiPopover",t)}(0,en.A)("MuiPopover",["root","paper"]);const zs=["onEntering"],Is=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Ps=["slotProps"];function Rs(t,e){let n=0;return"number"==typeof e?n=e:"center"===e?n=t.height/2:"bottom"===e&&(n=t.height),n}function Ls(t,e){let n=0;return"number"==typeof e?n=e:"center"===e?n=t.width/2:"right"===e&&(n=t.width),n}function Fs(t){return[t.horizontal,t.vertical].map((t=>"number"==typeof t?`${t}px`:t)).join(" ")}function $s(t){return"function"==typeof t?t():t}const Bs=(0,Qe.Ay)(_s.A,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Os=(0,Qe.Ay)(Es.A,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ds=o.forwardRef((function(t,e){var n,i,r;const s=(0,Ze.A)({props:t,name:"MuiPopover"}),{action:l,anchorEl:a,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:f,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:b={},slots:y,slotProps:A,transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:w=Ts,transitionDuration:C="auto",TransitionProps:{onEntering:k}={},disableScrollLock:S=!1}=s,M=(0,he.A)(s.TransitionProps,zs),T=(0,he.A)(s,Is),_=null!=(n=null==A?void 0:A.paper)?n:b,E=o.useRef(),N=(0,Io.A)(E,_.ref),z=(0,pe.A)({},s,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:_,transformOrigin:x,TransitionComponent:w,transitionDuration:C,TransitionProps:M}),I=(t=>{const{classes:e}=t;return(0,ve.A)({root:["root"],paper:["paper"]},Ns,e)})(z),P=o.useCallback((()=>{if("anchorPosition"===d)return u;const t=$s(a),e=(t&&1===t.nodeType?t:is(E.current).body).getBoundingClientRect();return{top:e.top+Rs(e,c.vertical),left:e.left+Ls(e,c.horizontal)}}),[a,c.horizontal,c.vertical,u,d]),R=o.useCallback((t=>({vertical:Rs(t,x.vertical),horizontal:Ls(t,x.horizontal)})),[x.horizontal,x.vertical]),L=o.useCallback((t=>{const e={width:t.offsetWidth,height:t.offsetHeight},n=R(e);if("none"===d)return{top:null,left:null,transformOrigin:Fs(n)};const o=P();let i=o.top-n.vertical,r=o.left-n.horizontal;const s=i+e.height,l=r+e.width,c=bs($s(a)),u=c.innerHeight-g,h=c.innerWidth-g;if(null!==g&&i<g){const t=i-g;i-=t,n.vertical+=t}else if(null!==g&&s>u){const t=s-u;i-=t,n.vertical+=t}if(null!==g&&r<g){const t=r-g;r-=t,n.horizontal+=t}else if(l>h){const t=l-h;r-=t,n.horizontal+=t}return{top:`${Math.round(i)}px`,left:`${Math.round(r)}px`,transformOrigin:Fs(n)}}),[a,d,P,R,g]),[F,$]=o.useState(v),B=o.useCallback((()=>{const t=E.current;if(!t)return;const e=L(t);null!==e.top&&(t.style.top=e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin,$(!0)}),[L]);o.useEffect((()=>(S&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B))),[a,S,B]),o.useEffect((()=>{v&&B()})),o.useImperativeHandle(l,(()=>v?{updatePosition:()=>{B()}}:null),[v,B]),o.useEffect((()=>{if(!v)return;const t=vs((()=>{B()})),e=bs(a);return e.addEventListener("resize",t),()=>{t.clear(),e.removeEventListener("resize",t)}}),[a,v,B]);let O=C;"auto"!==C||w.muiSupportAuto||(O=void 0);const D=f||(a?is($s(a)).body:void 0),j=null!=(i=null==y?void 0:y.root)?i:Bs,W=null!=(r=null==y?void 0:y.paper)?r:Os,V=(0,me.Q)({elementType:W,externalSlotProps:(0,pe.A)({},_,{style:F?_.style:(0,pe.A)({},_.style,{opacity:0})}),additionalProps:{elevation:m,ref:N},ownerState:z,className:(0,fe.A)(I.paper,null==_?void 0:_.className)}),H=(0,me.Q)({elementType:j,externalSlotProps:(null==A?void 0:A.root)||{},externalForwardedProps:T,additionalProps:{ref:e,slotProps:{backdrop:{invisible:!0}},container:D,open:v},ownerState:z,className:(0,fe.A)(I.root,p)}),{slotProps:U}=H,q=(0,he.A)(H,Ps);return(0,Ge.jsx)(j,(0,pe.A)({},q,!(0,ge.g)(j)&&{slotProps:U,disableScrollLock:S},{children:(0,Ge.jsx)(w,(0,pe.A)({appear:!0,in:v,onEntering:(t,e)=>{k&&k(t,e),B()},onExited:()=>{$(!1)},timeout:O},M,{children:(0,Ge.jsx)(W,(0,pe.A)({},V,{children:h}))}))}))}));function js(t){return(0,nn.Ay)("MuiMenu",t)}(0,en.A)("MuiMenu",["root","paper","list"]);const Ws=["onEntering"],Vs=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Hs={vertical:"top",horizontal:"right"},Us={vertical:"top",horizontal:"left"},qs=(0,Qe.Ay)(Ds,{shouldForwardProp:t=>(0,io.A)(t)||"classes"===t,name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ys=(0,Qe.Ay)(Os,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Gs=(0,Qe.Ay)(gs,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Xs=o.forwardRef((function(t,e){var n,i;const r=(0,Ze.A)({props:t,name:"MuiMenu"}),{autoFocus:s=!0,children:l,className:a,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:b={},slotProps:y={}}=r,A=(0,he.A)(r.TransitionProps,Ws),x=(0,he.A)(r,Vs),w=Ke(),C=(0,pe.A)({},r,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:p,transitionDuration:m,TransitionProps:A,variant:v}),k=(t=>{const{classes:e}=t;return(0,ve.A)({root:["root"],paper:["paper"],list:["list"]},js,e)})(C),S=s&&!c&&h,M=o.useRef(null);let T=-1;o.Children.map(l,((t,e)=>{o.isValidElement(t)&&(t.props.disabled||("selectedMenu"===v&&t.props.selected||-1===T)&&(T=e))}));const _=null!=(n=b.paper)?n:Ys,E=null!=(i=y.paper)?i:p,N=(0,me.Q)({elementType:b.root,externalSlotProps:y.root,ownerState:C,className:[k.root,a]}),z=(0,me.Q)({elementType:_,externalSlotProps:E,ownerState:C,className:k.paper});return(0,Ge.jsx)(qs,(0,pe.A)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?Hs:Us,slots:{paper:_,root:b.root},slotProps:{root:N,paper:z},open:h,ref:e,transitionDuration:m,TransitionProps:(0,pe.A)({onEntering:(t,e)=>{M.current&&M.current.adjustStyleForScrollbar(t,{direction:w?"rtl":"ltr"}),g&&g(t,e)}},A),ownerState:C},x,{classes:f,children:(0,Ge.jsx)(Gs,(0,pe.A)({onKeyDown:t=>{"Tab"===t.key&&(t.preventDefault(),d&&d(t,"tabKeyDown"))},actions:M,autoFocus:s&&(-1===T||c),autoFocusItem:S,variant:v},u,{className:(0,fe.A)(k.list,u.className),children:l}))}))})),Ks=ye;function Zs(t){return(0,nn.Ay)("MuiSelect",t)}const Qs=(0,en.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Js;const tl=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],el=(0,Qe.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Qs.select}`]:e.select},{[`&.${Qs.select}`]:e[n.variant]},{[`&.${Qs.error}`]:e.error},{[`&.${Qs.multiple}`]:e.multiple}]}})(po,{[`&.${Qs.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),nl=(0,Qe.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${(0,tn.A)(n.variant)}`],n.open&&e.iconOpen]}})(mo),ol=(0,Qe.Ay)("input",{shouldForwardProp:t=>(0,Je.A)(t)&&"classes"!==t,name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function il(t,e){return"object"==typeof e&&null!==e?t===e:String(t)===String(e)}function rl(t){return null==t||"string"==typeof t&&!t.trim()}const sl=o.forwardRef((function(t,e){var n;const{"aria-describedby":i,"aria-label":r,autoFocus:s,autoWidth:l,children:a,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:f=!1,IconComponent:m,inputRef:g,labelId:v,MenuProps:b={},multiple:y,name:A,onBlur:x,onChange:w,onClose:C,onFocus:k,onOpen:S,open:M,readOnly:T,renderValue:_,SelectDisplayProps:E={},tabIndex:N,value:z,variant:I="standard"}=t,P=(0,he.A)(t,tl),[R,L]=Ks({controlled:z,default:d,name:"Select"}),[F,$]=Ks({controlled:M,default:u,name:"Select"}),B=o.useRef(null),O=o.useRef(null),[D,j]=o.useState(null),{current:W}=o.useRef(null!=M),[V,H]=o.useState(),U=(0,Io.A)(e,g),q=o.useCallback((t=>{O.current=t,t&&j(t)}),[]),Y=null==D?void 0:D.parentNode;o.useImperativeHandle(U,(()=>({focus:()=>{O.current.focus()},node:B.current,value:R})),[R]),o.useEffect((()=>{u&&F&&D&&!W&&(H(l?null:Y.clientWidth),O.current.focus())}),[D,l]),o.useEffect((()=>{s&&O.current.focus()}),[s]),o.useEffect((()=>{if(!v)return;const t=is(O.current).getElementById(v);if(t){const e=()=>{getSelection().isCollapsed&&O.current.focus()};return t.addEventListener("click",e),()=>{t.removeEventListener("click",e)}}}),[v]);const G=(t,e)=>{t?S&&S(e):C&&C(e),W||(H(l?null:Y.clientWidth),$(t))},X=o.Children.toArray(a),K=t=>e=>{let n;if(e.currentTarget.hasAttribute("tabindex")){if(y){n=Array.isArray(R)?R.slice():[];const e=R.indexOf(t.props.value);-1===e?n.push(t.props.value):n.splice(e,1)}else n=t.props.value;if(t.props.onClick&&t.props.onClick(e),R!==n&&(L(n),w)){const o=e.nativeEvent||e,i=new o.constructor(o.type,o);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:A}}),w(i,t)}y||G(!1,e)}},Z=null!==D&&F;let Q,J;delete P["aria-invalid"];const tt=[];let et=!1,nt=!1;(Vn({value:R})||p)&&(_?Q=_(R):et=!0);const ot=X.map((t=>{if(!o.isValidElement(t))return null;let e;if(y){if(!Array.isArray(R))throw new Error((0,So.A)(2));e=R.some((e=>il(e,t.props.value))),e&&et&&tt.push(t.props.children)}else e=il(R,t.props.value),e&&et&&(J=t.props.children);return e&&(nt=!0),o.cloneElement(t,{"aria-selected":e?"true":"false",onClick:K(t),onKeyUp:e=>{" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:e,value:void 0,"data-value":t.props.value})}));et&&(Q=y?0===tt.length?null:tt.reduce(((t,e,n)=>(t.push(e),n<tt.length-1&&t.push(", "),t)),[]):J);let it,rt=V;!l&&W&&D&&(rt=Y.clientWidth),it=void 0!==N?N:h?null:0;const st=E.id||(A?`mui-component-select-${A}`:void 0),lt=(0,pe.A)({},t,{variant:I,value:R,open:Z,error:f}),at=(t=>{const{classes:e,variant:n,disabled:o,multiple:i,open:r,error:s}=t,l={select:["select",n,o&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${(0,tn.A)(n)}`,r&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return(0,ve.A)(l,Zs,e)})(lt),ct=(0,pe.A)({},b.PaperProps,null==(n=b.slotProps)?void 0:n.paper),ut=(0,Ir.A)();return(0,Ge.jsxs)(o.Fragment,{children:[(0,Ge.jsx)(el,(0,pe.A)({ref:q,tabIndex:it,role:"combobox","aria-controls":ut,"aria-disabled":h?"true":void 0,"aria-expanded":Z?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[v,st].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:t=>{T||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(t.key)&&(t.preventDefault(),G(!0,t))},onMouseDown:h||T?null:t=>{0===t.button&&(t.preventDefault(),O.current.focus(),G(!0,t))},onBlur:t=>{!Z&&x&&(Object.defineProperty(t,"target",{writable:!0,value:{value:R,name:A}}),x(t))},onFocus:k},E,{ownerState:lt,className:(0,fe.A)(E.className,at.select,c),id:st,children:rl(Q)?Js||(Js=(0,Ge.jsx)("span",{className:"notranslate",children:"​"})):Q})),(0,Ge.jsx)(ol,(0,pe.A)({"aria-invalid":f,value:Array.isArray(R)?R.join(","):R,name:A,ref:B,"aria-hidden":!0,onChange:t=>{const e=X.find((e=>e.props.value===t.target.value));void 0!==e&&(L(e.props.value),w&&w(t,e))},tabIndex:-1,disabled:h,className:at.nativeInput,autoFocus:s,ownerState:lt},P)),(0,Ge.jsx)(nl,{as:m,className:at.icon,ownerState:lt}),(0,Ge.jsx)(Xs,(0,pe.A)({id:`menu-${A||""}`,anchorEl:Y,open:Z,onClose:t=>{G(!1,t)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},b,{MenuListProps:(0,pe.A)({"aria-labelledby":v,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:ut},b.MenuListProps),slotProps:(0,pe.A)({},b.slotProps,{paper:(0,pe.A)({},ct,{style:(0,pe.A)({minWidth:rt},null!=ct?ct.style:null)})}),children:ot}))]})})),ll=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],al=["root"],cl={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>(0,io.A)(t)&&"variant"!==t,slot:"Root"},ul=(0,Qe.Ay)(ni,cl)(""),dl=(0,Qe.Ay)(Zr,cl)(""),hl=(0,Qe.Ay)(Or,cl)(""),pl=o.forwardRef((function(t,e){const n=(0,Ze.A)({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:r,classes:s={},className:l,defaultOpen:a=!1,displayEmpty:c=!1,IconComponent:u=Co,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:g,multiple:v=!1,native:b=!1,onClose:y,onOpen:A,open:x,renderValue:w,SelectDisplayProps:C,variant:k="outlined"}=n,S=(0,he.A)(n,ll),M=b?vo:sl,T=Kn({props:n,muiFormControl:Zn(),states:["variant","error"]}),_=T.variant||k,E=(0,pe.A)({},n,{variant:_,classes:s}),N=(t=>{const{classes:e}=t;return e})(E),z=(0,he.A)(N,al),I=h||{standard:(0,Ge.jsx)(ul,{ownerState:E}),outlined:(0,Ge.jsx)(dl,{label:f,ownerState:E}),filled:(0,Ge.jsx)(hl,{ownerState:E})}[_],P=(0,Io.A)(e,I.ref);return(0,Ge.jsx)(o.Fragment,{children:o.cloneElement(I,(0,pe.A)({inputComponent:M,inputProps:(0,pe.A)({children:r,error:T.error,IconComponent:u,variant:_,type:void 0,multiple:v},b?{id:d}:{autoWidth:i,defaultOpen:a,displayEmpty:c,labelId:m,MenuProps:g,onClose:y,onOpen:A,open:x,renderValue:w,SelectDisplayProps:(0,pe.A)({id:d},C)},p,{classes:p?(0,ko.A)(z,p.classes):z},h?h.props.inputProps:{})},(v&&b||c)&&"outlined"===_?{notched:!0}:{},{ref:P,className:(0,fe.A)(I.props.className,l,N.root)},!h&&{variant:_},S))})}));pl.muiName="Select";const fl=pl;function ml(t){return(0,nn.Ay)("MuiTextField",t)}(0,en.A)("MuiTextField",["root"]);const gl=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],vl={standard:ni,filled:Or,outlined:Zr},bl=(0,Qe.Ay)(Xn,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),yl=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiTextField"}),{autoComplete:o,autoFocus:i=!1,children:r,className:s,color:l="primary",defaultValue:a,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:p,id:f,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:b,label:y,maxRows:A,minRows:x,multiline:w=!1,name:C,onBlur:k,onChange:S,onFocus:M,placeholder:T,required:_=!1,rows:E,select:N=!1,SelectProps:z,type:I,value:P,variant:R="outlined"}=n,L=(0,he.A)(n,gl),F=(0,pe.A)({},n,{autoFocus:i,color:l,disabled:c,error:u,fullWidth:h,multiline:w,required:_,select:N,variant:R}),$=(t=>{const{classes:e}=t;return(0,ve.A)({root:["root"]},ml,e)})(F),B={};"outlined"===R&&(m&&void 0!==m.shrink&&(B.notched=m.shrink),B.label=y),N&&(z&&z.native||(B.id=void 0),B["aria-describedby"]=void 0);const O=(0,Ir.A)(f),D=p&&O?`${O}-helper-text`:void 0,j=y&&O?`${O}-label`:void 0,W=vl[R],V=(0,Ge.jsx)(W,(0,pe.A)({"aria-describedby":D,autoComplete:o,autoFocus:i,defaultValue:a,fullWidth:h,multiline:w,name:C,rows:E,maxRows:A,minRows:x,type:I,value:P,id:O,inputRef:b,onBlur:k,onChange:S,onFocus:M,placeholder:T,inputProps:g},B,v));return(0,Ge.jsxs)(bl,(0,pe.A)({className:(0,fe.A)($.root,s),disabled:c,error:u,fullWidth:h,ref:e,required:_,color:l,variant:R,ownerState:F},L,{children:[null!=y&&""!==y&&(0,Ge.jsx)(ao,(0,pe.A)({htmlFor:O,id:j},m,{children:y})),N?(0,Ge.jsx)(fl,(0,pe.A)({"aria-describedby":D,id:O,labelId:j,value:P,input:V},z,{children:r})):V,p&&(0,Ge.jsx)(os,(0,pe.A)({id:D},d,{children:p}))]}))})),Al="-";class xl extends o.Component{constructor(t){var e,n,o,i;super(t);let r="";const s=Er(this.props.wellLogView.wellLogSets,null,!0);s[0]&&(r=s[0]);const l=this.props.templateTrack;this.bStacked=l&&l.plots&&l.plots[0]&&"stacked"===l.plots[0].type,this.state=l?Object.assign(Object.assign({},l),{stacked:this.bStacked?"1":"0",stackedName:null===(e=l.plots[0])||void 0===e?void 0:e.name,showLabels:!1!==(null===(n=l.plots[0])||void 0===n?void 0:n.showLabels)?"true":"false",showLines:!1!==(null===(o=l.plots[0])||void 0===o?void 0:o.showLines)?"true":"false",labelRotation:(null===(i=l.plots[0])||void 0===i?void 0:i.labelRotation)||0,open:!0}):{title:"New Track",scale:void 0,domain:void 0,plots:[],stacked:"0",stackedName:r,showLabels:"true",showLines:"true",labelRotation:0,open:!0},this.closeDialog=this.closeDialog.bind(this),this.onOK=this.onOK.bind(this),this.onChange=this.onChange.bind(this),this.onChangeChecked=this.onChangeChecked.bind(this)}onOK(){if(parseInt(this.state.stacked)){const t=this.state.plots[0];this.state.plots.splice(0,this.state.plots.length);const e=Object.assign(Object.assign({},t),{type:"stacked",name:this.state.stackedName,showLabels:"true"===this.state.showLabels,showLines:"true"===this.state.showLines,labelRotation:this.state.labelRotation||0});this.state.plots.push(e)}this.props.onOK(this.state),this.closeDialog()}onChange(t){this.setState({[t.target.id]:t.target.value})}onChangeChecked(t){this.setState({[t.target.id]:t.target.checked})}closeDialog(){this.setState({open:!1})}createSelectControl(t,e,n,o){let r=this.state[t];return o&&(r||(r=Al),n.unshift(i().createElement("option",{key:Al,value:Al},"—"))),i().createElement(Xn,{fullWidth:!0,key:t},i().createElement(ao,null,e),i().createElement(li,{value:r,onChange:e=>{const n=e.currentTarget.value===Al?"":e.currentTarget.value,o=new Object;o[t]=n,this.setState(o)}},n))}render(){const t=this.props.templateTrack,e=t?"Edit track":"Add New Track";return i().createElement(ai.A,{open:this.state.open,maxWidth:"sm",fullWidth:!0,onClose:()=>this.setState({open:!1})},i().createElement(xi,null,e),i().createElement(Si,{style:Nr},i().createElement(yl,{id:"title",label:"Title",value:this.state.title,onChange:this.onChange,variant:"standard"}),t?i().createElement(i().Fragment,null):this.createSelectControl("stacked","Type",Cr({0:"Graph",1:"Stacked"}),!1),parseInt(this.state.stacked)?[this.createSelectControl("stackedName","Data",(n=this.props.wellLogView.wellLogSets,Er(n,null,true).map((t=>_r(t))))),this.createSelectControl("showLines","Lines",Mr()),this.createSelectControl("showLabels","Labels",Mr()),i().createElement(yl,{type:"number",id:"labelRotation",label:"Labels Rotation",key:"labelRotation",value:this.state.labelRotation,onChange:t=>{this.setState({[t.target.id]:Number(t.target.value)})},variant:"standard",InputProps:{inputProps:{min:-180,max:180,step:10}}})]:[this.createSelectControl("scale","Scale",kr(),!0)]),i().createElement(Ei,null,i().createElement(vr,{color:"secondary",variant:"contained",onClick:this.closeDialog},"Cancel"),i().createElement(vr,{color:"primary",variant:"contained",onClick:this.onOK},"OK")));var n}}const wl=9,Cl=wl/2;function kl(t,e,n,o,i,r){if(void 0===n)return t.style.visibility="hidden",void(e.style.visibility="hidden");const s=r.scale(n);if(!Number.isFinite(s))return t.style.visibility="hidden",void(e.style.visibility="hidden");if(t.style[i?"left":"top"]=s-Cl+"px",t.style.visibility="visible",void 0!==o&&Number.isFinite(o)){const t=e.firstElementChild;let s,l;o<n?(t.style[i?"left":"top"]=`${Cl}px`,t.style[i?"right":"bottom"]="",s=o,l=n):(t.style[i?"right":"bottom"]=`${Cl}px`,t.style[i?"left":"top"]="",s=n,l=o),s=r.scale(s),l=r.scale(l);const a=s-Cl,c=l-s+wl;e.style[i?"left":"top"]=`${a}px`,e.style[i?"width":"height"]=`${c}px`}else e.style.visibility="hidden"}const Sl=s().shape({wellpick:s().object.isRequired,name:s().string.isRequired,md:s().string,colorMapFunctions:s().arrayOf(Pn).isRequired,colorMapFunctionName:s().string.isRequired}),Ml=3,Tl=Ml/2;function _l(t,e,n,o){if(void 0===e)return void(t.style.visibility="hidden");const i=o.scale(e);Number.isFinite(i)?(t.style[n?"left":"top"]=i-Tl+"px",t.style.visibility="visible"):t.style.visibility="hidden"}function El(t,e,n,o,i){if(void 0===e)return void(t.style.visibility="hidden");const r=i.scale(e);if(!Number.isFinite(r))return void(t.style.visibility="hidden");if(void 0===n)return void(t.style.visibility="hidden");const s=i.scale(n);if(!Number.isFinite(s))return void(t.style.visibility="hidden");t.style[o?"left":"top"]=`${r}px`,t.style[o?"width":"height"]=s-r+"px",t.style.visibility="visible";const l=t.querySelector("div.wellpick-pattern");if(l){const t="background-position-"+(o?"x":"y");l.style[t]=-r+"px"}}function Nl(t){const e=[],n=t.props.wellpick;if(!n)return e;if(!n.wellpick)return console.error("No WellLog object in WellLogView prop.wellpick given"),e;const o=n.wellpick.curves,i=n.md?n.md:"MD",r=function(t,e){for(const n of e){const e=n.toLowerCase(),o=t.findIndex((t=>t.name.toLowerCase()===e));if(o>=0)return o}return-1}(o,[i]);if(r<0)return console.error("Depth log '"+i+"' is not found for wellpicks"),e;const s=t.props.primaryAxis,l=t.scaleInterpolator;for(const t in o){if(o[t].name!==n.name)continue;const i=n.wellpick.data;for(const o of i){if(null===o[r])continue;const i=o[t];if(null===i)continue;const a=o[r],c="md"===s?a:null==l?void 0:l.forward(a),u="md"===s?null==l?void 0:l.reverse(a):a,d=n.colorMapFunctions.find((t=>t.name===n.colorMapFunctionName)),h=Dt(n.wellpick,n.name),{color:p}=Ft(o[t],d,h),f={vMD:a,vPrimary:c,vSecondary:u,horizon:i,color:p};e.push(f)}break}return e}function zl(t,e){if(e.logController&&e.props.wellpick){const n=t.overlay.elm.node();if(n){const t=e.props.horizontal;let o=0;for(const i of e.logController.tracks){if(!Ht(i))continue;const e=i.elm,r="wp-title-"+o;for(const o of n.querySelectorAll("td."+r)){const n=o;n.style.position="absolute",t?n.style.top=e.offsetTop+"px":(n.style.left=e.offsetLeft+"px",e.offsetWidth<38?(n.style.width="",n.style.top="-11px",n.classList.add("vertical-text")):(n.style.width=e.offsetWidth+"px",n.style.top="",n.classList.remove("vertical-text")))}o++}}}}function Il(t,e){var n,o;for(const e in t.overlay.elements)"wp"===e.substring(0,2)&&t.overlay.remove(e);if(!e.props.wellpick)return;const i=Nl(e);if(!i.length)return;const r=e.props.horizontal,s=null===(n=e.props.options)||void 0===n?void 0:n.wellpickColorFill,l=e.props.patternsTable,a=e.props.patterns,c=l&&a&&(null===(o=e.props.options)||void 0===o?void 0:o.wellpickPatternFill),u=null==l?void 0:l.patternSize,d=null==l?void 0:l.patternImages;for(const e of i){const n=e.horizon,o=e.vPrimary,i=e.vSecondary,l=e.color,h=Number.isFinite(o)?null==o?void 0:o.toFixed(0):"",p=Number.isFinite(i)?null==i?void 0:i.toFixed(0):"",f="wp"+n,m=t.overlay.create(f,{}),g="rgba("+l[0]+","+l[1]+","+l[2]+",0.8)",v="style='background-color:rgba("+l[0]+","+l[1]+","+l[2]+",0.16)'";(0,M.Ltv)(m).classed("wellpick",!0).style(r?"width":"height",`${Ml}px`).style(r?"height":"width","100%").style(r?"top":"left","0px").style("position","absolute").style("background-color",g).style("visibility","false").append("div").html(r?"<table height=100%'><tr><td class='wp-title-0'><span "+v+">"+h+"</span></td></tr><tr><td class='wp-title-1'><span "+v+">"+p+"</span></td></tr><tr><td height=100%><span "+v+">"+n+"</span></td></tr></table>":"<table width=100% style='position:relative; top:-1.5em;'><tr><td class='wp-title-0'><span "+v+">"+h+"</span></td><td class='wp-title-1'><span "+v+">"+p+"</span></td><td align=center><span "+v+">"+n+"</span></td></tr></table>").style("position","absolute").style(r?"width":"height","1px").style(r?"height":"width","100%").style("background-color",g);{const e="wpFill"+n;if(c||s){const o=t.overlay.create(e,{}),i=(0,M.Ltv)(o).style("position","absolute").style(r?"width":"height",`${Ml}px`).style(r?"height":"width","100%").style(r?"top":"left","0px").style("visibility","false");if(s&&i.append("div").classed("wellpick-fill",!0).style("width","100%").style("height","100%").style("background-color",g),c){const t=a.find((t=>t[0]===n));if(void 0!==t){const e=d[t[1]];i.append("div").classed("wellpick-pattern",!0).style("position","absolute").style("left","0px").style("top","0px").style("width","100%").style("height","100%").style("background-size",u+"px "+u+"px").style("background-image","url('"+e+"')")}}}}}}function Pl(t,e){const n=new Float32Array(t.length),o=t.length;for(let i=0;i<o;i++)if(i){const o=t[i]-t[i-1];n[i]=o?(e[i]-e[i-1])/o:1}else n[i]=0;return(i,r)=>{for(let s=0;s<o;s++)if(i<t[s])return s?(i-t[s])*n[s]+e[s]:r?e[0]:Number.NaN;return r?e[o?o-1:0]:Number.NaN}}function Rl(t,e,n,o,i){const{tracks:r,minmaxPrimaryAxis:s,primaries:l,secondaries:a}=function(t,e,n,o,i){if(!(null==t?void 0:t.length))return new bt;const r=new bt;!function(t,e,n){const o=n[0].data,i=n[0].curves,r=tt(i,e);if(r.primary<0)return;const s=r.primary,l=Ut(e,e.primaryAxis),a=i[s];var c,u,d;r.secondary>=0?function(t,e,n,o,i){const r=i.primary,s=i.secondary,l=Ut(e,e.primaryAxis),a=Ut(e,e.secondaryAxis),c=n[r],u=n[s];t.tracks.push(Pt(0,l,c.name,c.unit),Pt(1,a,u.name,u.unit)),t.primaries=new Float32Array(o.length),t.secondaries=new Float32Array(o.length);{let e=0;for(const n of o){const o=n[s];if(F(t.minmaxSecondaryAxis,o),null!==o){const i=n[r];null!==i&&(t.secondaries[e]=o,t.primaries[e]=i,e++)}}e<t.primaries.length&&(t.primaries=t.primaries.subarray(0,e),t.secondaries=t.secondaries.subarray(0,e))}}(t,e,i,o,r):t.tracks.push((c=l,u=a.name,d=a.unit,new S.ScaleTrack(void 0,{maxWidth:50,width:2,label:c,abbr:u||c,units:d||"",legendConfig:_})))}(r,e,t);for(const s of n)wt(s,o)?Kt(r,t,e,s,o,i):Xt(r,t,e,s,o,i);return r}(n,e,o.tracks,o.styles,i);t.reset();const c=function(t,e){const n=Pl(t,e),o=Pl(e,t);return{forward:t=>o(t,!1),reverse:t=>n(t,!1),forwardInterpolatedDomain:t=>t.map((t=>o(t,!0))),reverseInterpolatedDomain:t=>t.map((t=>n(t,!0)))}}(l,a);return t.scaleHandler=new S.InterpolatedScaleHandler(c),q(t,s),t.setTracks(r),c}function Ll(t,e,n,o,i){n.addEventListener(t,(r=>{i({track:o,plot:null,element:n,ev:r,type:t,area:e}),r.preventDefault()}))}const Fl=["contextmenu","click","dblclick"],$l=["title","legend","container"];function Bl(t,e){if(t){const n=t.getContentBaseDomain(),o=t.logController;if(o){const t=null==o?void 0:o.overlay,i=null==t?void 0:t.elm.node();if(i){const t=(e?i.clientWidth:i.clientHeight)*(.0254/96);return(n[1]-n[0])/t}}}return 16e3}function Ol(t,e){var n,o,i,r,s,l,a,c,u,d,h,p,f,m;return t.horizontal!==e.horizontal||t.wellLogSets!==e.wellLogSets||t.welllog!==e.welllog||t.template!==e.template||t.colorMapFunctions!==e.colorMapFunctions||t.wellpick!==e.wellpick||t.primaryAxis!==e.primaryAxis||t.axisTitles!==e.axisTitles||t.axisMnemos!==e.axisMnemos||t.viewTitle!==e.viewTitle||!D(t.domain,e.domain)||!D(t.selection,e.selection)||(null===(n=t.options)||void 0===n?void 0:n.hideTrackTitle)!==(null===(o=e.options)||void 0===o?void 0:o.hideTrackTitle)||(null===(i=t.options)||void 0===i?void 0:i.hideTrackLegend)!==(null===(r=e.options)||void 0===r?void 0:r.hideTrackLegend)||(null===(s=t.options)||void 0===s?void 0:s.maxVisibleTrackNum)!==(null===(l=e.options)||void 0===l?void 0:l.maxVisibleTrackNum)||(null===(a=t.options)||void 0===a?void 0:a.maxContentZoom)!==(null===(c=e.options)||void 0===c?void 0:c.maxContentZoom)||(null===(u=t.options)||void 0===u?void 0:u.checkDatafileSchema)!==(null===(d=e.options)||void 0===d?void 0:d.checkDatafileSchema)||(null===(h=t.options)||void 0===h?void 0:h.wellpickColorFill)!==(null===(p=e.options)||void 0===p?void 0:p.wellpickColorFill)||(null===(f=t.options)||void 0===f?void 0:f.wellpickPatternFill)!==(null===(m=e.options)||void 0===m?void 0:m.wellpickPatternFill)}class Dl extends o.Component{constructor(t){var e,n;super(t),this.wellLogSets=nt(t),this.container=void 0,this.logController=void 0,this.selCurrent=void 0,this.selPinned=void 0,this.selPersistent=void 0,this.isDefZoom=!1,this.resizeObserver=new ResizeObserver((t=>{const e=t[0];e&&e.target&&(this.logController&&zl(this.logController,this),e.contentRect.width>0&&e.contentRect.height>0&&this.onContentRescale())})),this.template={name:"",scale:{primary:""},tracks:[],styles:[]},this.scaleInterpolator=void 0,this.state={infos:[],scrollTrackPos:0},this.onTrackMouseEvent=this.onTrackMouseEvent.bind(this),null===(n=(e=this.props).onCreateController)||void 0===n||n.call(e,this),this._isMount=!1}componentDidMount(){this._isMount=!0,this.template=X(this.props.template),this.logController||(this.createLogViewer(),this.setTracks(!0))}componentWillUnmount(){this._isMount=!1}shouldComponentUpdate(t,e){return!!Ol(this.props,t)||this.state.scrollTrackPos!==e.scrollTrackPos||this.state.errorText!==e.errorText}componentDidUpdate(t,e){var n,o,i,r,s,l,a,c,u,d,h,p,f,m,g,v;this.props.onCreateController!==t.onCreateController&&(null===(o=(n=this.props).onCreateController)||void 0===o||o.call(n,this));let b,y=[],A=!1,x=!1;this.props.horizontal===t.horizontal&&(null===(i=this.props.options)||void 0===i?void 0:i.hideTrackTitle)===(null===(r=t.options)||void 0===r?void 0:r.hideTrackTitle)&&(null===(s=this.props.options)||void 0===s?void 0:s.hideTrackLegend)===(null===(l=t.options)||void 0===l?void 0:l.hideTrackLegend)&&(null===(a=this.props.options)||void 0===a?void 0:a.maxContentZoom)===(null===(c=t.options)||void 0===c?void 0:c.maxContentZoom)||(b=this.getContentSelection(),y=this.getSelectedTrackIndices(),this.createLogViewer(),A=!0),this.props.welllog===t.welllog&&this.props.wellLogSets===t.wellLogSets&&(null===(u=this.props.options)||void 0===u?void 0:u.checkDatafileSchema)===(null===(d=t.options)||void 0===d?void 0:d.checkDatafileSchema)||(b=this.props.selection,y=this.getSelectedTrackIndices(),A=!0,x=!0,this.wellLogSets=nt(this.props)),this.props.template!==t.template&&(this.props.template&&(this.template=X(this.props.template)),A=!0,x=!0),this.props.primaryAxis!==t.primaryAxis&&(this.selectContent([void 0,void 0]),y=this.getSelectedTrackIndices(),A=!0),this.props.colorMapFunctions!==t.colorMapFunctions&&(b=this.getContentSelection(),y=this.getSelectedTrackIndices(),A=!0),this.props.axisTitles===t.axisTitles&&this.props.axisMnemos===t.axisMnemos||(b=this.getContentSelection(),y=this.getSelectedTrackIndices(),A=!0),this.props.wellpick===t.wellpick&&(null===(h=this.props.options)||void 0===h?void 0:h.wellpickPatternFill)===(null===(p=t.options)||void 0===p?void 0:p.wellpickPatternFill)&&(null===(f=this.props.options)||void 0===f?void 0:f.wellpickColorFill)===(null===(m=t.options)||void 0===m?void 0:m.wellpickColorFill)||this.logController&&(Il(this.logController,this),this.showSelection()),A?(this.setTracks(x),Y(this.logController,y),this.setControllerZoom(),b&&this.selectContent(b)):this.state.scrollTrackPos===e.scrollTrackPos&&(null===(g=this.props.options)||void 0===g?void 0:g.maxVisibleTrackNum)===(null===(v=t.options)||void 0===v?void 0:v.maxVisibleTrackNum)||(this.onTrackScroll(),this.onTrackSelection(),this.updateInfo()),!this.props.domain||t.domain&&this.props.domain[0]===t.domain[0]&&this.props.domain[1]===t.domain[1]||this.setControllerZoom(),!this.props.selection||t.selection&&this.props.selection[0]===t.selection[0]&&this.props.selection[1]===t.selection[1]||this.setControllerSelection()}createLogViewer(){var t,e,n,o,i;this.selPersistent=void 0,this.logController&&(this.logController.reset(),this.logController.onUnmount(),this.logController.container.select(".overlay").remove(),this.logController=void 0),this.container&&(this.logController=new S.LogViewer({horizontal:this.props.horizontal,showTitles:!(null===(t=this.props.options)||void 0===t?void 0:t.hideTrackTitle),showLegend:!(null===(e=this.props.options)||void 0===e?void 0:e.hideTrackLegend),maxZoom:null===(n=this.props.options)||void 0===n?void 0:n.maxContentZoom,onTrackEnter:(t,e)=>function(t,e,n){for(const o of $l){const i=t.getElementsByClassName("track-"+o);for(const t of i)for(const i of Fl)Ll(i,o,t,e,n)}}(t,e,this.onTrackMouseEvent)}),this.logController.init(this.container),this.container&&this.resizeObserver.observe(this.container),o=this.logController,i=this,o.overlay.elm.style("overflow","hidden"),function(t,e){const n=e.props.horizontal,o=t.overlay.create("depth",{onClick:t=>{var o,i;if((null===(o=e.props.options)||void 0===o?void 0:o.hideCurrentPosition)||(null===(i=e.props.options)||void 0===i?void 0:i.hideSelectionInterval))return;const{caller:r,x:s,y:l}=t,a=r.scale.invert(n?s:l),c=t.target;if(c){const t=e.props.axisTitles&&e.props.primaryAxis?e.props.axisTitles[e.props.primaryAxis]:void 0;c.textContent=Number.isFinite(a)?`Pinned ${t||""}: ${a.toFixed(1)}`:"-",c.style.visibility="visible"}},onMouseMove:t=>{if(e.selPersistent)return;const{caller:n,x:o,y:i}=t,r=n.scale.invert(e.props.horizontal?o:i),s=t.target;if(s){const t=e.props.axisTitles;let n;t&&(n=e.props.primaryAxis?t[e.props.primaryAxis]:t[0]),s.textContent=Number.isFinite(r)?`${n||""}: ${r.toFixed(1)}`:"-",s.style.visibility="visible"}},onMouseExit:t=>{const n=t.target;n&&(n.style.visibility="hidden"),e.onTrackMouseLeaveEvent()},onRescale:t=>{const n=t.target;if(n&&t.transform){e.onContentRescale();const o=t.transform.k;Number.isFinite(o)?(n.style.visibility="visible",n.textContent=`Zoom: x${o.toFixed(1)}`):n.style.visibility="hidden"}}});o.className="depth",o.style.visibility="hidden",o.style.position="absolute"}(o,i),function(t,e){const n=e.props.horizontal,o=t.overlay.create("rubber-band",{onMouseMove:o=>{if(e.selPersistent)return;const i=n?o.x:o.y;e.selCurrent=t.scale.invert(i);const r=o.target,s=t.overlay.elements.pinned;r&&s&&kl(r,s,e.selCurrent,e.selPinned,n,t),e.setInfo(e.selCurrent),e.onContentSelection()},onMouseExit:t=>{t.target}});(0,M.Ltv)(o).classed("rubber-band",!0).style(n?"width":"height",`${wl}px`).style(n?"height":"width","100%").style("visibility","hidden").append("div").style(n?"width":"height","1px").style(n?"height":"width","100%").style(n?"left":"top",`${Cl}px`).style("position","relative")}(o,i),function(t,e){const n=e.props.horizontal,o=t.overlay.create("pinned",{onClick:o=>{var i;const r=n?o.x:o.y,s=o.target;if(s)if("visible"===s.style.visibility)e.selPersistent?(e.selPersistent=!1,e.selCurrent=t.scale.invert(r),s.style.visibility="hidden",e.selPinned=void 0,e.onContentSelection()):e.selPersistent=!0;else{e.selPinned=t.scale.invert(r),void 0!==e.selCurrent||(null===(i=e.props.options)||void 0===i?void 0:i.hideCurrentPosition)||(e.selCurrent=e.selPinned);const o=t.overlay.elements["rubber-band"];o&&s&&kl(o,s,e.selCurrent,e.selPinned,n,t)}}});(0,M.Ltv)(o).classed("pinned",!0).style(n?"width":"height",`${wl}px`).style(n?"height":"width","100%").style(n?"top":"left","0px").style("position","absolute").style("visibility","hidden").append("div").style(n?"width":"height","1px").style(n?"height":"width","100%").style(n?"left":"top",`${Cl}px`).style("position","absolute")}(o,i),Il(o,i)),this.updateInfo()}getAxesInfo(){const t=yt(this.wellLogSets,this.props.axisMnemos),e=t.findIndex((t=>t===this.props.primaryAxis));return{primaryAxis:this.props.primaryAxis||"",secondaryAxis:this.props.template&&this.props.template.scale&&this.props.template.scale.allowSecondary&&t.length>1?t[e+1]||t[0]:"",titles:this.props.axisTitles,mnemos:this.props.axisMnemos}}setTracks(t){var e;if(this.selCurrent=this.selPinned=void 0,t)try{(0,Nn.i6)(this.template,"WellLogTemplate"),(null===(e=this.props.options)||void 0===e?void 0:e.checkDatafileSchema)&&this.wellLogSets.forEach((t=>(0,Nn.i6)(t,"WellLog")))}catch(t){this.setState({errorText:String(t)})}if(this.logController){const t=this.getAxesInfo();this.scaleInterpolator=Rl(this.logController,t,this.wellLogSets,this.template,this.props.colorMapFunctions),Il(this.logController,this),this._updateWellLogTitle()}this.setControllerZoom(),this.setControllerSelection(),this.setControllerZoom(),this.onTrackScroll(),this.onTrackSelection(),this.updateInfo()}findTrackById(t){var e;return null===(e=this.logController)||void 0===e?void 0:e.tracks.find((function(e){return e.id===t}))}setControllerZoom(){this.props.domain&&this.zoomContentTo(this.props.domain)}setControllerSelection(){this.props.selection&&this.selectContent(this.props.selection)}setControllerDefaultZoom(){this.props.domain?this.zoomContentTo(this.props.domain):this.zoomContentTo(this.getContentBaseDomain()),this.isDefZoom=!0}onTrackScroll(){var t,e;const n=this.getTrackScrollPos(),o=n+this._maxVisibleTrackNum();this.logController&&function(t,e,n){let o=!1,i=0;for(const r of t.tracks)Ht(r)||(W(r,e<=i&&i<n)&&(o=!0),i++);o&&t.updateTracks()}(this.logController,n,o),null===(e=(t=this.props).onTrackScroll)||void 0===e||e.call(t)}onTrackSelection(){var t,e;null===(e=(t=this.props).onTrackSelection)||void 0===e||e.call(t)}setInfo(t=Number.NaN){if(!this.props.onInfo)return;if(!this.logController)return;isNaN(t)&&void 0!==this.selCurrent&&(t=this.selCurrent);const e=this.getTrackScrollPos(),n=e+this._maxVisibleTrackNum();this.props.onInfo(t,this.logController,e,n)}onContentRescale(){var t,e;this.showSelection(),null===(e=(t=this.props).onContentRescale)||void 0===e||e.call(t)}onContentSelection(){var t,e;this.showSelection(),null===(e=(t=this.props).onContentSelection)||void 0===e||e.call(t)}onTrackMouseEvent(t){var e,n;null===(n=(e=this.props).onTrackMouseEvent)||void 0===n||n.call(e,this,t)}onTrackMouseLeaveEvent(){var t,e;null===(e=(t=this.props).onTrackMouseLeaveEvent)||void 0===e||e.call(t)}onTemplateChanged(){var t,e;this.updateInfo(),this.template=this._generateTemplate(),null===(e=(t=this.props).onTemplateChanged)||void 0===e||e.call(t)}zoomContentTo(t){return!!this.logController&&U(this.logController,t)}scrollContentTo(t){return this.isDefZoom?(this.isDefZoom=!1,!1):!!this.logController&&function(t,e){const[n,o]=t.scaleHandler.baseDomain(),[i,r]=t.domain,s=r-i,l=n+e*(o-n-s);return U(t,[l,l+s])}(this.logController,t)}zoomContent(t){return!!this.logController&&function(t,e){e||(e=1);const[n,o]=t.scaleHandler.baseDomain(),[i,r]=t.domain,s=Math.abs(o-n)/Math.abs(r-i);if(Math.abs(Math.log(s/e))>.01){let l=.5*(r-i),a=i+l;return l*=s/e,a+l>o&&(a=o-l),a-l<n&&(a=n+l),U(t,[a-l,a+l])}return!1}(this.logController,t)}showSelection(){var t,e;if(!this.logController)return;(null===(t=this.props.options)||void 0===t?void 0:t.hideCurrentPosition)&&(this.selCurrent=void 0),(null===(e=this.props.options)||void 0===e?void 0:e.hideSelectionInterval)&&(this.selPinned=void 0);const n=this.props.horizontal,o=this.logController.overlay.elements,i=o["rubber-band"],r=o.pinned;if(i&&r&&(i.style.visibility=void 0===this.selCurrent?"hidden":"visible",r.style.visibility=void 0===this.selPinned?"hidden":"visible",kl(i,r,this.selCurrent,this.selPinned,n,this.logController)),this.props.wellpick){const t=Nl(this);if(!t.length)return;let e=0;for(const i of t){const r=i.horizon,s=i.vPrimary,l=o["wp"+r];if(l){if(_l(l,s,n,this.logController),this.props.patterns){const i=o["wpFill"+r];if(i){const o=t[e+1];El(i,s,null==o?void 0:o.vPrimary,n,this.logController)}}e++}}zl(this.logController,this)}}selectContent(t){const e=t[1];this.selCurrent===t[0]&&this.selPinned===e||(this.selCurrent=t[0],this.selPinned=e,this.selPersistent=void 0!==this.selPinned,this.showSelection(),this.updateInfo())}setContentBaseDomain(t){return!!this.logController&&q(this.logController,t)}getContentBaseDomain(){return this.logController?function(t){const[e,n]=t.scaleHandler.baseDomain();return[e,n]}(this.logController):[0,0]}getContentDomain(){return this.logController?function(t){const[e,n]=t.domain;return[e,n]}(this.logController):[0,0]}getContentZoom(){return this.logController?function(t){const[e,n]=t.scaleHandler.baseDomain(),[o,i]=t.domain;return Math.abs(n-e)/Math.abs(i-o)}(this.logController):1}getContentSelection(){return this.logController?[this.selCurrent,this.selPinned]:[void 0,void 0]}setContentScale(t){return function(t,e,n){if(t){const o=Bl(t,e)/n;t.zoomContent(o)}}(this,this.props.horizontal,t)}getContentScale(){const t=this.getContentZoom();return Bl(this,this.props.horizontal)/t}_graphTrackMax(){if(!this.logController)return 0;const t=function(t){let e=0;for(const n of t)Ht(n)&&e++;return e}(this.logController.tracks);return this.logController.tracks.length-t}_newTrackScrollPos(t){let e=t;const n=this.getTrackScrollPosMax();return e>n&&(e=n),e<0&&(e=0),e}_maxVisibleTrackNum(){var t,e;return(null===(t=this.props.options)||void 0===t?void 0:t.maxVisibleTrackNum)?null===(e=this.props.options)||void 0===e?void 0:e.maxVisibleTrackNum:this.props.horizontal?3:5}_forceUpdateTitleTooltips(){if(!this.container)return;const t=this.container.getElementsByClassName("track-title");for(const e of t)e.textContent&&e.setAttribute("title",e.textContent)}_updateWellLogTitle(){var t,e;this.title&&!0===this.props.viewTitle&&(this.title.textContent=null!==(e=null===(t=this.wellLogSets[0])||void 0===t?void 0:t.header.well)&&void 0!==e?e:null)}scrollTrackBy(t){this.setState((e=>({scrollTrackPos:this._newTrackScrollPos(e.scrollTrackPos+t)})))}scrollTrackTo(t){this._isMount&&this.setState((e=>{const n=this._newTrackScrollPos(t);return e.scrollTrackPos===n?null:{scrollTrackPos:n}}))}getTrackScrollPos(){return this.state.scrollTrackPos}getTrackScrollPosMax(){let t=this._graphTrackMax()-this._maxVisibleTrackNum();return t<0&&(t=0),t}getTrackZoom(){return this._graphTrackMax()/this._maxVisibleTrackNum()}getSelectedTrackIndices(){return function(t){const e=[];if(t){let n=0;for(const o of t.tracks)V(0,o)&&e.push(n),n++}return e}(this.logController)}setSelectedTrackIndices(t){const e=Y(this.logController,t);return e&&this.onTrackSelection(),e}updateInfo(){this.setInfo()}getWellLog(){var t;return null!==(t=this.props.wellLogSets)&&void 0!==t?t:this.props.welllog}getWellLogSets(){var t;return null!==(t=this.props.wellLogSets)&&void 0!==t?t:this.props.welllog}getTemplate(){return this.template}setTemplate(t){const e=JSON.stringify(t);JSON.stringify(this.template)!==e&&(this.template=JSON.parse(e),this.setTracks(!0),this.onTemplateChanged())}_generateTemplate(){var t;const e=this.template,n=[];if(this.logController)for(const t of this.logController.tracks){if(Ht(t))continue;const e=Wt(t);n.push(X(e))}const o=yt(this.wellLogSets,this.props.axisMnemos);return{name:e.name,scale:{primary:this.props.primaryAxis||"",allowSecondary:(null===(t=e.scale)||void 0===t?void 0:t.allowSecondary)&&o.length>1},tracks:n,styles:e.styles}}_addTrack(t,e){e.required=!0;const n=!0;let o;o=e.plots&&e.plots[0]&&"stacked"===e.plots[0].type?ne(this,null,e,t,n):ee(this,null,e,t,n),o&&(this.onTemplateChanged(),this.scrollTrackBy(1),this.selectTrack(o,!0))}_editTrack(t,e){let n;n=e.title?t.options.label?t.options.label.localeCompare(e.title):-1:t.options.label?1:0,e.plots&&e.plots[0]&&"stacked"===e.plots[0].type?ne(this,t,e,t,!1):ee(this,t,e,t,!1),n&&this._forceUpdateTitleTooltips(),this.onTemplateChanged()}removeTrack(t){this.logController&&(this.logController.removeTrack(t),this.onTrackScroll(),this.onTrackSelection(),this.onTemplateChanged())}isTrackSelected(t){return!!this.logController&&V(this.logController,t)}selectTrack(t,e){let n=!1;if(this.logController)for(const o of this.logController.tracks)H(this.logController,o,e&&t===o)&&(n=!0);return n&&this.onTrackSelection(),n}addTrackPlot(t,e){It(this,t,null,e),this.onTemplateChanged()}_editTrackPlot(t,e,n){It(this,t,e,Object.assign({},n)),this.onTemplateChanged()}removeTrackPlot(t,e){!function(t,e,n){!function(t,e){const n=Wt(t),o=t.plots;let i=0;for(const t of o){if(t===e){o.splice(i,1),n.plots.splice(i,1);break}i++}}(e,n),Nt(e),t.logController&&(G(t.logController),t.logController.updateTracks()),e.prepareData()}(this,t,e),Wt(t).required=!0,this.onTemplateChanged()}addTrack(t,e){t&&function(t,e,n){const o=document.createElement("div");o.style.width="10px",o.style.height="13px",t.appendChild(o),(0,Tn.H)(o).render(i().createElement(xl,{wellLogView:e,onOK:n}))}(t,this,this._addTrack.bind(this,e))}editTrack(t,e){t&&function(t,e,n,o){const r=document.createElement("div");r.style.width="10px",r.style.height="13px",t.appendChild(r),(0,Tn.H)(r).render(i().createElement(xl,{templateTrack:n,wellLogView:e,onOK:o}))}(t,this,Wt(e),this._editTrack.bind(this,e))}addPlot(t,e){t&&function(t,e,n){const o=document.createElement("div");o.style.width="10px",o.style.height="13px",t.appendChild(o),(0,Tn.H)(o).render(i().createElement(zr,{wellLogView:e,track:n,onOK:e.addTrackPlot.bind(e,n)}))}(t,this,e)}editPlot(t,e,n){if(t){const o=function(t,e){var n,o,i,r;const s=e.options,l=e.options,a=l.serie1,c=l.serie2,u=s.legendInfo(),d=u,h=d.serie1,p=d.serie2,f=(null==t?void 0:t.scale)!==s.scale?s.scale:void 0;return{style:void 0,type:At(e),scale:"log"===f||"linear"===f?f:void 0,name:(h&&h.label?h.label:u.label)||"",name2:p&&p.label?p.label:"",color:(a?a.color:s.color)||"",color2:c?c.color:"",inverseColor:s.inverseColor||"",fill:(a?a.fill:s.fill)||"",fill2:c?c.fill:"",colorMapFunctionName:null!==(o=null===(n=s.colorMapFunction)||void 0===n?void 0:n.name)&&void 0!==o?o:"",inverseColorMapFunctionName:null!==(r=null===(i=s.inverseColorMapFunction)||void 0===i?void 0:i.name)&&void 0!==r?r:"",colorScale:s.colorScale,inverseColorScale:s.inverseColorScale}}(Wt(e),n);!function(t,e,n,o,r){const s=document.createElement("div");s.style.width="10px",s.style.height="13px",t.appendChild(s),(0,Tn.H)(s).render(i().createElement(zr,{templatePlot:o,wellLogView:e,track:n,onOK:r}))}(t,this,e,o,this._editTrackPlot.bind(this,e,n))}}createViewTitle(t){var e;return"object"==typeof t?t:!0===t?null===(e=this.wellLogSets[0])||void 0===e?void 0:e.header.well:t}render(){const t=this.props.horizontal,e=this.props.viewTitle;return i().createElement("div",{className:"welllogview",style:{flexDirection:t?"row":"column"}},e&&i().createElement("div",{className:t?"title title-horizontal":"title",ref:t=>this.title=t},this.createViewTitle(e)),i().createElement("div",{className:"view"},i().createElement("div",{className:"container",ref:t=>this.container=t}),this.state.errorText&&i().createElement("div",{className:"error"},this.state.errorText)))}}const jl=s().shape({maxContentZoom:s().number,maxVisibleTrackNum:s().number,checkDatafileSchema:s().bool,hideTrackTitle:s().bool,hideTrackLegend:s().bool,hideCurrentPosition:s().bool,hideSelectionInterval:s().bool});function Wl(){return{id:s().string,welllog:s().oneOfType([s().object,s().array]),wellLogSets:s().arrayOf(s().object),template:jn.isRequired,colorMapFunctions:s().arrayOf(Pn).isRequired,wellpicks:s().arrayOf(Sl),patternsTable:In,patterns:s().arrayOf(zn),horizontal:s().bool,primaryAxis:s().string,axisTitles:s().object,axisMnemos:s().object,viewTitle:s().oneOfType([s().bool,s().string,s().element]),domain:s().arrayOf(s().number),selection:s().arrayOf(s().number),options:jl}}Dl.propTypes=Wl();const Vl=Dl;class Hl extends o.Component{constructor(t){super(t),this.scroller=null,this.scrollable=null,this.content=null,this.resizeObserver=new ResizeObserver((t=>{const e=t[0];if(e&&e.target){const t=e.target.offsetWidth,n=e.target.offsetHeight;if(this.content){const{vertical:e,horizontal:o}=function(){const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=t.offsetWidth-t.clientWidth,n=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),{vertical:e,horizontal:n}}();this.content.style.width=t-e+"px",this.content.style.height=n-o+"px"}}})),this.onScroll=this.onScroll.bind(this)}componentDidMount(){this.scroller&&this.resizeObserver.observe(this.scroller)}componentWillUnmount(){this.scroller&&this.resizeObserver.unobserve(this.scroller)}getScrollX(){const t=this.scroller;if(!t)return 0;const e=t.scrollWidth-t.clientWidth;return e?t.scrollLeft/e:0}getScrollY(){const t=this.scroller;if(!t)return 0;const e=t.scrollHeight-t.clientHeight;return e?t.scrollTop/e:0}getScrollPos(t){return t?this.getScrollY():this.getScrollX()}onScroll(){var t,e;this.scroller&&(null===(e=(t=this.props).onScroll)||void 0===e||e.call(t,this.getScrollX(),this.getScrollY()))}scrollTo(t,e){t<0?t=0:t>1&&(t=1),e<0?e=0:e>1&&(e=1);const n=this.scroller;if(!n)return!1;const o=Math.round(t*(n.scrollWidth-n.clientWidth)),i=Math.round(e*(n.scrollHeight-n.clientHeight));return(n.scrollLeft!==o||n.scrollTop!==i)&&(n.scrollTo(o,i),!0)}zoom(t,e){const n=this.scroller;if(!n)return!1;const o=this.scrollable;if(!o)return!1;const i=Math.round(n.clientWidth*t)+"px",r=Math.round(n.clientHeight*e)+"px";return(o.style.width!==i||o.style.height!==r)&&(o.style.width=i,o.style.height=r,!0)}render(){return i().createElement("div",{ref:t=>this.scroller=t,style:{overflow:"scroll",width:"100%",height:"100%"},onScroll:this.onScroll},i().createElement("div",{ref:t=>this.scrollable=t},i().createElement("div",{ref:t=>this.content=t,style:{position:"absolute"}},this.props.children)))}}const Ul=Hl;class ql extends o.Component{constructor(t){super(t),this.skipScrollNotification=0,this.controller=null,this.scroller=null,this.onCreateController=this.onCreateController.bind(this),this.onScrollerScroll=this.onScrollerScroll.bind(this),this.onTrackScroll=this.onTrackScroll.bind(this),this.onTrackSelection=this.onTrackSelection.bind(this),this.onContentRescale=this.onContentRescale.bind(this),this.onContentSelection=this.onContentSelection.bind(this)}componentDidMount(){this.setScrollerPosAndZoom()}shouldComponentUpdate(t){return!Object.is(this.props,t)}updateReadoutPanel(){const t=this.controller;t&&t.updateInfo()}onCreateController(t){var e,n;this.controller=t,null===(n=(e=this.props).onCreateController)||void 0===n||n.call(e,t)}onTrackScroll(){var t,e;this.setScrollerPosAndZoom(),null===(e=(t=this.props).onTrackScroll)||void 0===e||e.call(t)}onTrackSelection(){var t,e;null===(e=(t=this.props).onTrackSelection)||void 0===e||e.call(t)}onContentRescale(){var t,e;this.setScrollerPosAndZoom(),null===(e=(t=this.props).onContentRescale)||void 0===e||e.call(t)}onContentSelection(){var t,e;null===(e=(t=this.props).onContentSelection)||void 0===e||e.call(t)}onScrollerScroll(t,e){if(this.skipScrollNotification)return void this.skipScrollNotification--;const n=this.controller;if(!n)return;const o=this.props.horizontal?t:e;n.scrollContentTo(o);const i=this.calcPosTrack(this.props.horizontal?e:t);n.scrollTrackTo(i)}calcPosTrack(t){const e=this.controller;if(!e)return 0;const n=t*e.getTrackScrollPosMax();return Math.round(n)}getContentPosFraction(){const t=this.controller;if(!t)return 0;const e=t.getContentBaseDomain(),n=t.getContentDomain(),o=e[1]-e[0]-(n[1]-n[0]);return o?(n[0]-e[0])/o:0}getTrackPosFraction(){const t=this.controller;return t&&t.getTrackScrollPosMax()?t.getTrackScrollPos()/t.getTrackScrollPosMax():0}setScrollerPosAndZoom(){let t,e,n,o;const i=this.scroller;if(!i)return;const r=this.controller;if(r){const i=r.getContentZoom(),s=r.getTrackZoom();n=this.props.horizontal?i:s,o=this.props.horizontal?s:i;const l=this.getContentPosFraction(),a=this.getTrackPosFraction();t=this.props.horizontal?l:a,e=this.props.horizontal?a:l}else t=e=0,n=o=1;i.zoom(n,o);let s=2;{const n=i.getScrollX(),o=i.getScrollY(),r=this.calcPosTrack(this.props.horizontal?o:n);this.calcPosTrack(this.props.horizontal?e:t)===r&&(s--,this.props.horizontal?e=o:t=n);const l=this.props.horizontal?n:o,a=this.props.horizontal?t:e;Math.abs(a-l)<.001&&(s--,this.props.horizontal?t=n:e=o)}s&&i.scrollTo(t,e)&&this.skipScrollNotification++}render(){return i().createElement(Ul,{ref:t=>this.scroller=t,onScroll:this.onScrollerScroll},i().createElement(Vl,Object.assign({},this.props,{onCreateController:this.onCreateController,onTrackScroll:this.onTrackScroll,onTrackSelection:this.onTrackSelection,onContentRescale:this.onContentRescale,onContentSelection:this.onContentSelection})))}}ql.propTypes=Wl();const Yl=ql,Gl=(0,en.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Xl=(0,en.A)("MuiListItemIcon",["root","alignItemsFlexStart"]),Kl=(0,en.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Zl(t){return(0,nn.Ay)("MuiMenuItem",t)}const Ql=(0,en.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Jl=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ta=(0,Qe.Ay)(lr,{shouldForwardProp:t=>(0,io.A)(t)||"classes"===t,name:"MuiMenuItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]}})((({theme:t,ownerState:e})=>(0,pe.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ql.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Ye.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ql.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Ye.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Ql.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Ye.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Ye.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Ql.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ql.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Gl.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Gl.inset}`]:{marginLeft:52},[`& .${Kl.root}`]:{marginTop:0,marginBottom:0},[`& .${Kl.inset}`]:{paddingLeft:36},[`& .${Xl.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&(0,pe.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${Xl.root} svg`]:{fontSize:"1.25rem"}})))),ea=o.forwardRef((function(t,e){const n=(0,Ze.A)({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:r="li",dense:s=!1,divider:l=!1,disableGutters:a=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=n,p=(0,he.A)(n,Jl),f=o.useContext(rs),m=o.useMemo((()=>({dense:s||f.dense||!1,disableGutters:a})),[f.dense,s,a]),g=o.useRef(null);Po((()=>{i&&g.current&&g.current.focus()}),[i]);const v=(0,pe.A)({},n,{dense:m.dense,divider:l,disableGutters:a}),b=(t=>{const{disabled:e,dense:n,divider:o,disableGutters:i,selected:r,classes:s}=t,l={root:["root",n&&"dense",e&&"disabled",!i&&"gutters",o&&"divider",r&&"selected"]},a=(0,ve.A)(l,Zl,s);return(0,pe.A)({},s,a)})(n),y=(0,Io.A)(g,e);let A;return n.disabled||(A=void 0!==d?d:-1),(0,Ge.jsx)(rs.Provider,{value:m,children:(0,Ge.jsx)(ta,(0,pe.A)({ref:y,role:u,tabIndex:A,component:r,focusVisibleClassName:(0,fe.A)(b.focusVisible,c),className:(0,fe.A)(b.root,h)},p,{ownerState:v,classes:b}))})}));function na(t,e){var n,o;let i="";const r=t.options.legendInfo();if(r){r.label&&(i=r.label);const t=r;t.serie1&&t.serie1.label&&(i=t.serie1.label),t.serie2&&t.serie2.label&&(i+=" – "+t.serie2.label)}return i||(i=null!==(o=null===(n=function(t,e){var n;if(!e.match(/^\d+-\d+$/))throw new Error(`Wrong pattern for track-id ${e}`);const[o,i]=e.split("-").map(Number);return null===(n=t[o])||void 0===n?void 0:n.curves[i]}(e,t.id))||void 0===n?void 0:n.name)&&void 0!==o?o:""),i}class oa extends o.Component{constructor(t){super(t),this.state={anchorEl:this.props.anchorEl};const e=this.props.wellLogView;this.addTrack=e.addTrack.bind(e,this.state.anchorEl,this.props.track),this.editTrack=e.editTrack.bind(e,this.state.anchorEl,this.props.track),this.removeTrack=e.removeTrack.bind(e,this.props.track),this.addPlot=e.addPlot.bind(e,this.state.anchorEl,this.props.track),this.editPlots=ia.bind(null,this.state.anchorEl,e,this.props.track),this.removePlots=ra.bind(null,this.state.anchorEl,e,this.props.track)}componentDidUpdate(t){this.props.anchorEl!==t.anchorEl&&this.setState(((t,e)=>({anchorEl:e.anchorEl})))}closeMenu(){this.setState({anchorEl:null})}handleContextMenu(t){t.preventDefault(),this.closeMenu()}handleCloseMenu(){this.closeMenu()}handleClickItem(t){t&&t(),this.closeMenu()}createRemovePlotMenuItem(t,e){return i().createElement(ea,{key:e.id,onClick:()=>this.handleClickItem(this.props.wellLogView.removeTrackPlot.bind(this.props.wellLogView,this.props.track,e))},"    ",t)}menuRemovePlotItems(){const t=[],e=this.props.wellLogView.wellLogSets;if(!e.length)return t;const n=this.props.track.plots;for(const o of n){const n=na(o,e);t.push(this.createRemovePlotMenuItem(n,o))}return t}createEditPlotMenuItem(t,e){return i().createElement(ea,{key:e.id,onClick:()=>this.handleClickItem(this.props.wellLogView.editPlot.bind(this.props.wellLogView,this.state.anchorEl,this.props.track,e))},"    ",t)}menuEditPlotItems(){const t=[],e=this.props.wellLogView.wellLogSets;if(!e.length)return t;const n=this.props.track.plots;for(const o of n){const n=na(o,e);t.push(this.createEditPlotMenuItem(n,o))}return t}createMenuItem(t,e){return i().createElement(ea,{key:t,onClick:()=>this.handleClickItem(e)},"    ",t)}render(){if("removePlots"===this.props.type)return i().createElement("div",{className:"local-menu"},i().createElement(Xs,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleCloseMenu.bind(this),onContextMenu:this.handleContextMenu.bind(this)},this.menuRemovePlotItems()));if("editPlots"===this.props.type)return i().createElement("div",{className:"local-menu"},i().createElement(Xs,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleCloseMenu.bind(this),onContextMenu:this.handleContextMenu.bind(this)},this.menuEditPlotItems()));if("title"===this.props.type)return i().createElement("div",{className:"local-menu"},i().createElement(Xs,{id:"simple-menu",anchorEl:this.state.anchorEl,open:Boolean(this.state.anchorEl),onClose:this.handleCloseMenu.bind(this),onContextMenu:this.handleContextMenu.bind(this)},this.createMenuItem("Add track",this.addTrack),this.createMenuItem("Edit track",this.editTrack),this.createMenuItem("Remove track",this.removeTrack)));const t=this.props.track,e=t.plots;return i().createElement("div",{className:"local-menu"},i().createElement(Xs,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleCloseMenu.bind(this),onContextMenu:this.handleContextMenu.bind(this)},(t=>t.options.plotFactory?[this.createMenuItem("Add plot",this.addPlot)]:Ht(t)?[]:[this.createMenuItem("Edit track",this.editTrack)])(t),e&&e.length?[this.createMenuItem("Edit plot",this.editPlots),this.createMenuItem("Remove plot",this.removePlots)]:[]))}}function ia(t,e,n){const o=n.plots;if(o&&o.length<=1)return void(1===o.length&&e.editPlot(t,n,o[0]));const r=document.createElement("div");r.style.width="10px",r.style.height="13px",t&&t.appendChild(r),(0,Tn.H)(r).render(i().createElement(oa,{type:"editPlots",anchorEl:r,wellLogView:e,track:n}))}function ra(t,e,n){const o=n.plots;if(o&&o.length<=1)return void(1===o.length&&e.removeTrackPlot(n,o[0]));const r=document.createElement("div");r.style.width="10px",r.style.height="13px",t&&t.appendChild(r),(0,Tn.H)(r).render(i().createElement(oa,{type:"removePlots",anchorEl:r,wellLogView:e,track:n}))}function sa(t,e){const n=e.track;if("click"===e.type)t.selectTrack(n,!t.isTrackSelected(n));else if("dblclick"===e.type)if(t.selectTrack(n,!0),"title"===e.area)t.editTrack(e.element,e.track);else{const n=e.plot;n?t.editPlot(e.element,e.track,n):ia(e.element,t,e.track)}else if("contextmenu"===e.type){t.selectTrack(n,!0);const o=document.createElement("div");o.style.width="10px",o.style.height="3px",e.element.appendChild(o),(0,Tn.H)(o).render(i().createElement(oa,{type:e.area,anchorEl:o,wellLogView:t,track:n}))}}class la{constructor(t){this.getWellLogSets=t,this.welllog=()=>{var t;return null===(t=this.getWellLogSets())||void 0===t?void 0:t[0]},this.controller=null,this.onCreateControllerCallbacks=[],this.onInfoCallbacks=[],this.onContentRescaleCallbacks=[],this.onContentSelectionCallbacks=[],this.onTemplateChangedCallbacks=[],this.onChangePrimaryAxisCallbacks=[],this.onInfoFilledCallbacks=[],this.onCreateController=this.onCreateController.bind(this),this.onInfo=this.onInfo.bind(this),this.onInfoFilled=this.onInfoFilled.bind(this),this.onContentRescale=this.onContentRescale.bind(this),this.onContentSelection=this.onContentSelection.bind(this),this.onTemplateChanged=this.onTemplateChanged.bind(this),this.onChangePrimaryAxis=this.onChangePrimaryAxis.bind(this)}unregisterAll(){for(const t in this)t.indexOf("Callbacks")>=0&&(this[t].length=0)}registerCallback(t,e,n){let o=this[t+"Callbacks"];if(!o){if(!n)return void console.log("CallbackManager.registerCallback: "+t+"s not found");o=this[t+"Callbacks"]=[]}o.push(e)}unregisterCallback(t,e){const n=this[t+"Callbacks"];n?this[t+"Callbacks"]=n.filter((t=>t!==e)):console.log("CallbackManager.unregisterCallback: "+t+"Callbacks not found")}callCallbacks(t,...e){const n=this[t+"Callbacks"];if(n)for(const t of n)t(...e)}onCreateController(t){this.controller=t;for(const e of this.onCreateControllerCallbacks)e(t)}onInfo(t,e,n,o){for(const i of this.onInfoCallbacks)i(t,e,n,o)}onInfoFilled(t){for(const e of this.onInfoFilledCallbacks)e(t)}onContentRescale(){for(const t of this.onContentRescaleCallbacks)t()}onContentSelection(){for(const t of this.onContentSelectionCallbacks)t()}onTemplateChanged(){for(const t of this.onTemplateChangedCallbacks)t()}onChangePrimaryAxis(t){for(const e of this.onChangePrimaryAxisCallbacks)e(t)}updateInfo(){const t=this.controller;null==t||t.setInfo()}}function aa(t,e,n,o){if(null===e[0])return Number.NaN;if("linestep"===o)return null===n[1]?Number.NaN:n[1];const i=n[0]-e[0],r=t-e[0];return"dot"===o?r<.5*i?null===e[1]?Number.NaN:e[1]:null===n[1]?Number.NaN:n[1]:null===e[1]||null===n[1]?Number.NaN:r*(i?(n[1]-e[1])/i:1)+e[1]}function ca(t,e,n){const o=Number.NaN;if(Number.isFinite(t)){const o=e.length;for(let i=0;i<o;i++){const o=e[i];if(t<o[0]){if(!i)break;return aa(t,e[i-1],o,n)}}}return o}function ua(t,e,n,o,i,r){const s=[],l=e.tracks;!function(t,e,n,o){var i;const r=n.scaleHandler.interpolator,s=r&&!isNaN(e)?r.reverse(e):Number.NaN;let l=0;for(const n of o){if(!Ht(n))continue;const o=n,i=o.options.mode?s:e;t.push({name:o.options.abbr,units:o.options.units,color:0===l?"black":"grey",value:i,type:"",iTrack:-1,trackId:o.id}),l++}t.push({color:"",value:Number.NaN,type:"separator",iTrack:-1,trackId:(null===(i=o[0])||void 0===i?void 0:i.id)||"separator"})}(s,t,e,l);const a=null==r?void 0:r.allTracks,c=null==r?void 0:r.grouping;let u=0;for(const e of l){if(Ht(e))continue;const r=a||n<=u&&u<o;if(u++,!r)continue;const l=i&&i.indexOf(e.id)>=0,d=e;if("by_track"===c&&d.plots&&d.plots.length&&s.push({name:d.options.label,color:"",value:Number.NaN,type:"track",collapsed:l,iTrack:u-1,trackId:d.id,groupStart:"!"}),!l)if(e instanceof S.StackedTrack){const n=e,o=n.data;let i="",r=Number.NaN,l="";if(o)for(let e=0;e<o.length;e++){const n=o[e];if(n.from<=t&&t<=n.to){r=n.code,i=n.name,l="rgb("+n.color.r+","+n.color.g+","+n.color.b+")";break}}s.push({name:n.options.abbr,units:"",color:l,value:r,discrete:i,type:"stacked",iTrack:u-1,trackId:n.id})}else for(const e of d.plots){const n=At(e);let o=e.data;"differential"===n&&(o=e.data[0]);const i=e.options,r=e.options,l=r.serie1,a=r.serie2,c=i.legendInfo(),h=c,p=h.serie1,f=h.serie2;s.push({name:p?p.label:c.label,units:p?p.unit:c.unit,color:(l?l.color:i.color)||"",value:ca(t,o,n),type:n,iTrack:u-1,trackId:d.id}),"differential"===n&&(o=e.data[1],s.push({name:f.label,units:f.unit,color:(a?a.color:i.color)||"",value:ca(t,o,n),type:n,iTrack:u-1,trackId:"_"+d.id}))}}return s}Object.assign(Object.assign({},{horizontal:{description:"Orientation of the track plots on the screen."},welllog:{description:"JSON object describing well log data.\n<i>Depreacted — Use <b>wellLogSets</b> instead.</i>"},wellLogSets:{description:"Array from JSON file; describes a series of well log data sets. Assumes each set is for the same well. (For differing wells, use SyncLogViewer instead)"},template:{description:"Prop containing track template data."},colorMapFunctions:{description:"Prop containing color function tablefor discrete well logs and gradient plots."},wellpick:{description:"Well Picks data"},patternsTable:{description:"Patterns table"},patterns:{description:"Horizon to pattern index map"},domain:{description:"Initial visible range"},selection:{description:"Initial selected range"},primaryAxis:{description:"Primary axis id"},axisMnemos:{description:"Log mnemonics for axes"},axisTitles:{description:"Names for axes"},viewTitle:{description:"The view title. Set desired string or react element or true for default value from well log file"},options:{description:"Additional options:<br/>maxContentZoom: The maximum zoom value (default 256)<br/>maxVisibleTrackNum: The maximum number of visible tracks<br/>checkDatafileSchema: Validate JSON datafile against schema<br/>hideTrackTitle: Hide titles on the tracks<br/>hideLegend: Hide legends on the tracks."}}),{readoutOptions:{description:"Options for readout panel.<br/>allTracks: boolean — Show not only visible tracks,<br/>grouping: string — How group values."},layout:{description:"Side panels layout (default is layout with default right panel"}});class da extends o.Component{constructor(t){super(t),this.wellLogSets=nt(t),this.state={primaryAxis:this.getDefaultPrimaryAxis()},this.callbackManager=new la((()=>this.wellLogSets)),this.collapsedTrackIds=[],this.onCreateController=this.onCreateController.bind(this),this.onInfo=this.onInfo.bind(this),this.onContentRescale=this.onContentRescale.bind(this),this.onContentSelection=this.onContentSelection.bind(this),this.onTemplateChanged=this.onTemplateChanged.bind(this),this.fillInfo=this.fillInfo.bind(this),this.onInfoGroupClick=this.onInfoGroupClick.bind(this),this.onChangePrimaryAxis=this.onChangePrimaryAxis.bind(this)}onInfoGroupClick(t){oe(this.collapsedTrackIds,t.trackId),this.callbackManager.updateInfo()}onCreateController(t){var e,n;this.callbackManager.onCreateController(t),null===(n=(e=this.props).onCreateController)||void 0===n||n.call(e,t)}onContentRescale(){var t,e;this.callbackManager.onContentRescale(),null===(e=(t=this.props).onContentRescale)||void 0===e||e.call(t)}onContentSelection(){var t,e;this.callbackManager.onContentSelection(),null===(e=(t=this.props).onContentSelection)||void 0===e||e.call(t)}onTemplateChanged(){var t,e;this.callbackManager.onTemplateChanged(),null===(e=(t=this.props).onTemplateChanged)||void 0===e||e.call(t)}onChangePrimaryAxis(t){this.setState({primaryAxis:t}),this.callbackManager.onChangePrimaryAxis(t)}onInfo(t,e,n,o){var i,r;this.callbackManager.onInfo(t,e,n,o),null===(r=(i=this.props).onInfo)||void 0===r||r.call(i,t,e,n,o),this.fillInfo(t,e,n,o)}fillInfo(t,e,n,o){if(this.callbackManager.onInfoFilledCallbacks.length<1)return;const i=this.props.readoutOptions,r=ua(t,e,n,o,this.collapsedTrackIds,i);this.callbackManager.onInfoFilled(r)}componentDidMount(){var t;this.callbackManager.registerCallback("onInfoGroupClick",this.onInfoGroupClick,!0),this.props.onInfoFilled&&this.callbackManager.registerCallback("onInfoFilled",this.props.onInfoFilled),this.onContentRescale();const e=null===(t=this.callbackManager)||void 0===t?void 0:t.controller;if(e){const t=e.getTrackScrollPos();e.scrollTrackTo(t)}}componentWillUnmount(){this.callbackManager.unregisterAll()}shouldComponentUpdate(t,e){return!!Ol(this.props,t)||!Object.is(this.props,t)||!Object.is(this.state,e)}componentDidUpdate(t){if(this.props.wellLogSets!==t.wellLogSets||this.props.welllog!==t.welllog||this.props.template!==t.template||this.props.axisMnemos!==t.axisMnemos||this.props.primaryAxis!==t.primaryAxis){this.wellLogSets=nt(this.props);const t=this.getDefaultPrimaryAxis();this.onChangePrimaryAxis(t)}}getPrimaryAxis(){return this.state.primaryAxis}getDefaultPrimaryAxis(){if(this.props.primaryAxis)return this.props.primaryAxis;const t=yt(this.wellLogSets,this.props.axisMnemos);let e=t[0];const n=this.props.template;if(n){const o=n.scale;if(o){let n=o.primary;n||(n="tvd"),n&&t&&t.indexOf(n)>=0&&(e=n)}}return e}render(){const t=this.props,{primaryAxis:e}=t,n=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]])}return n}(t,["primaryAxis"]);return i().createElement(w,{parent:this,center:i().createElement(Yl,Object.assign({},n,{primaryAxis:this.state.primaryAxis,onInfo:this.onInfo,onCreateController:this.onCreateController,onTrackMouseEvent:this.props.onTrackMouseEvent||sa,onTrackMouseLeaveEvent:this.props.onTrackMouseLeaveEvent,onContentRescale:this.onContentRescale,onContentSelection:this.onContentSelection,onTemplateChanged:this.onTemplateChanged})),layout:this.props.layout||Mn})}}const ha=s().shape({maxContentZoom:s().number,maxVisibleTrackNum:s().number,checkDatafileSchema:s().bool,hideTrackTitle:s().bool,hideTrackLegend:s().bool}),pa=s().shape({allTracks:s().bool,grouping:s().string});function fa(t,e){return"pattern"+t+"_"+e}function ma(t,e){return e?i().createElement("defs",{key:"defs"},e.patternImages.map(((n,o)=>function(t,e,n){const o=n.patternSize,r=n.patternImages[e],s=fa(t,e);return i().createElement("pattern",{key:s,id:s,width:o,height:o,patternUnits:"userSpaceOnUse"},i().createElement("image",{width:o,height:o,href:r}))}(t,o,e)))):null}da.propTypes={id:s().string.isRequired,welllog:s().oneOfType([s().object,s().array]),wellLogSets:s().arrayOf(s().object),template:jn.isRequired,colorMapFunctions:s().arrayOf(Pn).isRequired,horizontal:s().bool,domain:s().arrayOf(s().number),selection:s().arrayOf(s().number),wellpicks:s().arrayOf(Sl),primaryAxis:s().string,axisTitles:s().object,axisMnemos:s().object,viewTitle:s().oneOfType([s().bool,s().string,s().element]),options:ha,readoutOptions:pa};let ga=0;class va extends o.Component{constructor(t){var e;super(t),this.container=void 0,this.uid=ga++,this.defs=(null===(e=this.props.options)||void 0===e?void 0:e.wellpickPatternFill)&&this.props.patterns&&ma(this.uid,this.props.patternsTable),this._isMount=!1}update(){this._isMount&&this.forceUpdate()}componentDidUpdate(t){var e,n,o,i,r;this.props.onCreateSpacer!==t.onCreateSpacer&&(null===(n=(e=this.props).onCreateSpacer)||void 0===n||n.call(e,this)),this.props.patternsTable===t.patternsTable&&this.props.patterns===t.patterns&&(null===(o=this.props.options)||void 0===o?void 0:o.wellpickPatternFill)===(null===(i=t.options)||void 0===i?void 0:i.wellpickPatternFill)||(this.defs=(null===(r=this.props.options)||void 0===r?void 0:r.wellpickPatternFill)&&this.props.patterns&&ma(this.uid,this.props.patternsTable),this.forceUpdate())}shouldComponentUpdate(t){var e,n,o,i;return this.props.colorMapFunctions!==t.colorMapFunctions||this.props.controllers!==t.controllers||this.props.wellpicks!==t.wellpicks||this.props.width!==t.width||(null===(e=this.props.options)||void 0===e?void 0:e.wellpickColorFill)!==(null===(n=t.options)||void 0===n?void 0:n.wellpickColorFill)||(null===(o=this.props.options)||void 0===o?void 0:o.wellpickPatternFill)!==(null===(i=t.options)||void 0===i?void 0:i.wellpickPatternFill)}componentDidMount(){this._isMount=!0}componentWillUnmount(){this._isMount=!1}render(){var t,e,n,o,r,s,l,a,c,u,d,h;const p=this.props.horizontal;let f=0;const m=[];let g=3e3,v=3e3,b=1,y=null!==(t=this.props.width)&&void 0!==t?t:1;const A=this.props.controllers[0],x=null==A?void 0:A.logController,w=this.props.controllers[1],C=null==w?void 0:w.logController,k=A?Nl(A):null,S=w?Nl(w):null;if(k&&S&&x){const t=null==x?void 0:x.overlay,n=null==t?void 0:t.elm.node();n&&(g=n.offsetTop,v=n.offsetLeft,n.offsetParent&&(p?v+=n.offsetParent.offsetLeft:g+=n.offsetParent.offsetTop),b=n.clientHeight,y=n.clientWidth),p?b=this.container?this.container.clientHeight:10:y=this.container?this.container.clientWidth:10;const o=(null===(e=this.props.options)||void 0===e?void 0:e.wellpickPatternFill)&&this.props.patternsTable&&this.props.patterns;for(const t of k){const e=t.horizon,n=t.vPrimary,i=t.color,r="rgba("+i[0]+","+i[1]+","+i[2]+",0.8)";let s="";if(o){const t=o.find((t=>t[0]===e));t&&(s="url(#"+fa(this.uid,t[1])+")")}const l=n;if(void 0===l)continue;const a=null==x?void 0:x.scale(l);if(Number.isFinite(a)&&void 0!==a)for(const t of S){const n=t.horizon;if(e===n){const e=t.vPrimary;if(void 0===e)continue;const n=null==C?void 0:C.scale(e);if(!Number.isFinite(n)||void 0===n)continue;f<a&&(f=a),f<n&&(f=n),m.push({from:a,to:n,color:r,pattern:s});break}}}}const M=null==A?void 0:A.getContentSelection(),T=null==w?void 0:w.getContentSelection(),_=[{from:void 0===(null==M?void 0:M[0])||null==x?void 0:x.scale(null==M?void 0:M[0]),to:void 0===(null==T?void 0:T[0])||null==C?void 0:C.scale(null==T?void 0:T[0])},{from:void 0===(null==M?void 0:M[1])||null==x?void 0:x.scale(null==M?void 0:M[1]),to:void 0===(null==T?void 0:T[1])||null==C?void 0:C.scale(null==T?void 0:T[1])}];if(void 0!==_[0].from&&void 0!==_[1].from&&void 0!==_[0].to&&void 0!==_[1].to&&_[0].from<_[1].from!=_[0].to<_[1].to){const t=_[0].to;_[0].to=_[1].to,_[1].to=t}const E=null===(o=null===(n=_[0])||void 0===n?void 0:n.from)||void 0===o?void 0:o.toFixed(1),N=null===(s=null===(r=_[0])||void 0===r?void 0:r.to)||void 0===s?void 0:s.toFixed(1),z=null===(a=null===(l=_[1])||void 0===l?void 0:l.from)||void 0===a?void 0:a.toFixed(1),I=null===(u=null===(c=_[1])||void 0===c?void 0:c.to)||void 0===u?void 0:u.toFixed(1),P=void 0!==E&&void 0!==N,R=void 0!==z&&void 0!==I,L=P&&R;let F="",$="",B="";P&&(B=p?"M "+E+" 0 L "+N+" "+b:"M 0 "+E+" L "+y+" "+N),R&&($=p?"M "+z+" 0 L "+I+" "+b:"M 0 "+z+" L "+y+" "+I),L&&(F=p?E+" 0 "+N+" "+b+" "+I+" "+b+" "+z+" 0":"0 "+E+" "+y+" "+N+" "+y+" "+I+" 0 "+z);const O=[];m.map(((t,e)=>{if(e+1>=m.length)return;const n=m[e+1];O.push(p?t.from.toFixed(1)+" 0 "+t.to.toFixed(1)+" "+b+" "+n.to.toFixed(1)+" "+b+" "+n.from.toFixed(1)+" 0":"0 "+t.from.toFixed(1)+" "+y+" "+t.to.toFixed(1)+" "+y+" "+n.to.toFixed(1)+" 0 "+n.from.toFixed(1))}));const D=this.props.distance;return i().createElement("div",{className:"welllogspacer",style:{flexDirection:p?"row":"column"},ref:t=>this.container=t},i().createElement("div",{className:p?"welllogspacer-distance-horizontal":"",style:p?{width:v+"px",height:b+"px"}:{height:g+"px",width:y+"px"}},(null===(d=null==A?void 0:A.props.options)||void 0===d?void 0:d.hideTrackTitle)?null:i().createElement("br",null),(null===(h=null==A?void 0:A.props.options)||void 0===h?void 0:h.hideTrackLegend)||void 0===D||void 0===D.value?null:i().createElement("div",{className:"distance"},"←"+D.value.toFixed(0)+D.units+"→")),i().createElement("div",{className:"wellpick",style:p?{height:b+"px"}:{width:y+"px"}},i().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+y+" "+b,width:y,height:b,stroke:"currentColor",strokeWidth:3},this.defs,m.map(((t,e)=>{var n;return e+1<m.length&&[(null===(n=this.props.options)||void 0===n?void 0:n.wellpickColorFill)&&t.color&&i().createElement("polygon",{key:e,fill:t.color,className:"wellpick-fill",stroke:"none",points:O[e]}),t.pattern&&i().createElement("polygon",{key:"p"+e,fill:t.pattern,className:"wellpick-pattern",stroke:"none",points:O[e]})]})),m.map(((t,e)=>i().createElement("path",{key:e,fill:"none",stroke:t.color,d:p?"M "+t.from.toFixed(1)+"0 L "+t.to.toFixed(1)+" "+b:"M 0 "+t.from.toFixed(1)+" L "+y+" "+t.to.toFixed(1)}))),L&&i().createElement("polygon",{fill:"rgba(0, 0, 0, 0.1)",stroke:"none",points:F}),P&&i().createElement("path",{fill:"none",stroke:"rgba(255, 0, 0, 0.1)",d:B}),R&&i().createElement("path",{fill:"none",stroke:"rgba(0, 255, 0, 0.1)",d:$}))))}}const ba=va,ya={right:function(t){var e,n;return i().createElement("div",{className:"side-panel"},i().createElement(re,{header:"Primary scale",axisTitles:t.props.axisTitles,axisMnemos:t.props.axisMnemos,primaryAxis:t.getPrimaryAxis(),onChangePrimaryAxis:t.onChangePrimaryAxis,callbackManager:t.callbackManagers[0]}),null===(e=t.wellLogCollections)||void 0===e?void 0:e.map(((e,n)=>{var o;return i().createElement(de,{key:n,header:"Readout "+(null===(o=e[0])||void 0===o?void 0:o.header.well),readoutOptions:t.props.readoutOptions,callbackManager:t.callbackManagers[n]})})),i().createElement(Sn,{label:"Zoom:",max:null===(n=t.props.welllogOptions)||void 0===n?void 0:n.maxContentZoom,callbackManager:t.callbackManagers[0]}))}},Aa=s().shape({units:s().string.isRequired,distances:s().array.isRequired});class xa extends o.Component{constructor(t){super(t),this.skipSiblings=[],this.wellLogCollections=wa(t),this.spacers=[],this.callbacks=[],this.callbackManagers=[],this.collapsedTrackIds=[],this.controllers=[],this._isMounted=!1,this._inInfoGroupClick=0,this.state={primaryAxis:this.getDefaultPrimaryAxis()},this.onChangePrimaryAxis=this.onChangePrimaryAxis.bind(this),this.beforeRender(this.props)}componentDidMount(){this._isMounted=!0,this.wellLogCollections.length&&(this.syncTrackScrollPos(0),this.syncContentScrollPos(0)),this.setControllersZoom(),this.wellLogCollections.length&&this.syncContentSelection(0)}componentWillUnmount(){for(const t of this.callbackManagers)t.unregisterAll();this._isMounted=!1}shouldComponentUpdate(t,e){const n=!Object.is(this.props,t)||!Object.is(this.state,e);return n&&this.beforeRender(t),n}beforeRender(t){this.wellLogCollections=wa(t),this.callbackManagers.length!==this.wellLogCollections.length&&(this.spacers.length=this.wellLogCollections.length,this.fillViewsCallbacks(this.wellLogCollections.length))}componentDidUpdate(t){var e,n,o,i,r,s;const l=this.props.wellLogCollections?"wellLogCollections":"welllogs";if(this.props[l]!==t[l]||this.props.templates!==t.templates||this.props.axisMnemos!==t.axisMnemos||this.props.primaryAxis!==t.primaryAxis){const t=this.getDefaultPrimaryAxis();this.onChangePrimaryAxis(t)}this.props.syncContentDomain===t.syncContentDomain&&D(this.props.domain,t.domain)||this.setControllersZoom(),this.props.syncContentDomain===t.syncContentDomain&&this.props.wellpicks===t.wellpicks&&function(t,e){if(!t)return!e;if(!e)return!t;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}(this.props.wellpickFlatting,t.wellpickFlatting)&&(null===(e=this.props[l])||void 0===e?void 0:e.length)===(null===(n=t[l])||void 0===n?void 0:n.length)||(null===(o=this.props[l])||void 0===o?void 0:o.length)&&this.syncContentScrollPos(0),D(this.props.selection,t.selection)||this.setControllersSelection(),this.props.syncContentSelection===t.syncContentSelection&&(null===(i=this.props[l])||void 0===i?void 0:i.length)===(null===(r=t[l])||void 0===r?void 0:r.length)||(null===(s=this.props[l])||void 0===s?void 0:s.length)&&this.syncContentSelection(0)}fillViewCallbacks(t){this.collapsedTrackIds.push([]);const e=new la((()=>this.wellLogCollections[t]));this.callbackManagers.push(e);const n=this.onInfoGroupClick.bind(this,t);e.registerCallback("onInfoGroupClick",n,!0);this.props.onInfoFilled&&e.registerCallback("onInfoFilled",(e=>{var n,o;null===(o=(n=this.props).onInfoFilled)||void 0===o||o.call(n,t,e)})),this.callbacks.push({onInfoBind:this.onInfo.bind(this,t),onCreateControllerBind:this.onCreateController.bind(this,t),onTrackScrollBind:this.onTrackScroll.bind(this,t),onTrackSelectionBind:this.onTrackSelection.bind(this,t),onContentRescaleBind:this.onContentRescale.bind(this,t),onContentSelectionBind:this.onContentSelection.bind(this,t),onTemplateChangedBind:this.onTemplateChanged.bind(this,t)})}fillViewsCallbacks(t){for(let e=this.callbacks.length;e<t;e++)this.fillViewCallbacks(e);this.callbacks.length=t,this.callbackManagers.length=t;for(let e=t;e<this.controllers.length;e++)console.assert(this.controllers[e]),this.onDeleteController(e,this.controllers[e]);this.controllers.length=t}getPrimaryAxis(){return this.state.primaryAxis}getDefaultPrimaryAxis(){var t,e;if(this.props.primaryAxis)return this.props.primaryAxis;const n=null===(t=this.wellLogCollections)||void 0===t?void 0:t.map((t=>yt(t,this.props.axisMnemos))),o=null==n?void 0:n[0];let i=null==o?void 0:o[0];const r=null===(e=this.props.templates)||void 0===e?void 0:e[0];if(r){const t=r.scale;if(t){let e=t.primary;e||(e="tvd"),e&&o&&o.indexOf(e)>=0&&(i=e)}}return i}onInfoGroupClick(t,e){if(this._inInfoGroupClick)return;this._inInfoGroupClick++;let n=0;for(const o of this.callbackManagers)n!=t&&o.callCallbacks("onInfoGroupClick",e),n++;oe(this.collapsedTrackIds[t],e.trackId),this.callbackManagers[t].updateInfo(),this._inInfoGroupClick--}onInfo(t,e,n,o,i){var r,s;this.callbackManagers[t].onInfo(e,n,o,i),null===(s=(r=this.props).onInfo)||void 0===s||s.call(r,t,e,n,o,i),this.fillInfo(t,e,n,o,i)}fillInfo(t,e,n,o,i){if(this.callbackManagers[t].onInfoFilledCallbacks.length<1)return;const r=ua(e,n,o,i,this.collapsedTrackIds[t],this.props.readoutOptions);this.callbackManagers[t].onInfoFilled(r)}onCreateController(t,e){var n,o,i;null===(n=this.callbackManagers[t])||void 0===n||n.onCreateController(e),null===(i=(o=this.props).onCreateController)||void 0===i||i.call(o,t,e),this.setControllersZoom(),this.syncTrackScrollPos(t),this.syncContentScrollPos(t),this.syncContentSelection(t),this.controllers[t]=e}onDeleteController(t,e){var n,o;null===(o=(n=this.props).onDeleteController)||void 0===o||o.call(n,t,e)}onTrackScroll(t){this.syncTrackScrollPos(t)}onTrackSelection(t){this.syncTrackSelection(t)}onContentRescale(t){var e,n,o;null===(e=this.callbackManagers[t])||void 0===e||e.onContentRescale(),this.syncTrackScrollPos(t),this.syncContentScrollPos(t),this.syncContentSelection(t),null===(o=(n=this.props).onContentRescale)||void 0===o||o.call(n,t)}onContentSelection(t){var e,n,o;null===(e=this.callbackManagers[t])||void 0===e||e.onContentSelection(),this.syncContentSelection(t),null===(o=(n=this.props).onContentSelection)||void 0===o||o.call(n,t)}onTemplateChanged(t){var e,n,o;null===(e=this.callbackManagers[t])||void 0===e||e.onTemplateChanged(),this.syncTemplate(t),null===(o=(n=this.props).onTemplateChanged)||void 0===o||o.call(n,t)}onChangePrimaryAxis(t){for(const e of this.callbackManagers)e.onChangePrimaryAxis(t);this._isMounted&&this.setState({primaryAxis:t})}syncTrackScrollPos(t){var e;const n=null===(e=this.callbackManagers[t])||void 0===e?void 0:e.controller;if(!n)return;const o=n.getTrackScrollPos();for(const t of this.callbackManagers){const e=null==t?void 0:t.controller;e&&e!==n&&this.props.syncTrackPos&&e.scrollTrackTo(o)}}syncTrackSelection(t){var e;const n=null===(e=this.callbackManagers[t])||void 0===e?void 0:e.controller;if(!n)return;const o=n.getSelectedTrackIndices();for(const t of this.callbackManagers){const e=null==t?void 0:t.controller;e&&e!==n&&this.props.syncTemplate&&e.setSelectedTrackIndices(o)}}getCommonContentBaseDomain(){const t=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const e of this.callbackManagers){const n=null==e?void 0:e.controller;n&&$(t,n.getContentBaseDomain())}return t}syncContentBaseDomain(){let t=!1;if((!this.props.wellpickFlatting||!this.props.wellpicks)&&this.props.syncContentDomain){const e=this.getCommonContentBaseDomain();for(const n of this.callbackManagers){const o=null==n?void 0:n.controller;o&&(j(o.getContentBaseDomain(),e)||o.setContentBaseDomain(e)&&(t=!0))}}return t}makeFlattingCoeffs(){const t=this.props.wellpickFlatting;if(!t)return{A:[],B:[],newBaseDomain:[]};const e=[],n=[],o=this.callbackManagers.length,i=[];for(let t=0;t<o;t++)i.push([Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]);for(const o of this.callbackManagers){const r=o.controller,s=r?Nl(r):[];let l,a;for(const e of s)t[0]===e.horizon&&(l=e.vPrimary),t[1]===e.horizon&&(a=e.vPrimary);const c=[],u=[];let d=-1;for(const e of this.callbackManagers){const n=e.controller;if(d++,!n||!r){c.push(0),u.push(0);continue}const o=Nl(n);let s,h;for(const e of o)t[0]===e.horizon&&(s=e.vPrimary),t[1]===e.horizon&&(h=e.vPrimary);if(Number.isFinite(l)&&Number.isFinite(s)&&void 0!==l&&void 0!==s){let t;if(Number.isFinite(a)&&Number.isFinite(h)&&void 0!==a&&void 0!==h&&a-l)t=(h-s)/(a-l);else if(this.props.syncContentDomain)t=1;else{const e=r.getContentDomain(),o=n.getContentDomain();t=o[1]-o[0]&&e[1]-e[0]?(o[1]-o[0])/(e[1]-e[0]):1}const e=s-t*l;c.push(t),u.push(e);const o=r.getContentBaseDomain(),p=[t*o[0]+e,t*o[1]+e];$(i[d],p)}else c.push(r===n?1:0),u.push(0)}e.push(c),n.push(u)}return{A:e,B:n,newBaseDomain:i}}syncContentScrollPos(t){var e;const n=null===(e=this.callbackManagers[t])||void 0===e?void 0:e.controller;if(!n)return;const o=n.getContentDomain();if(0===o[0]&&0===o[1])return;let i=!1;const r=this.props.wellpickFlatting,s=this.props.syncContentDomain;let l=null;this.props.wellpicks&&r&&(l=this.makeFlattingCoeffs()),i=this.syncContentBaseDomain();let a=-1;const c=this.skipSiblings.findIndex((e=>e===t));if(c>=0)this.skipSiblings.splice(c,1);else for(const e of this.callbackManagers){const r=null==e?void 0:e.controller;if(a++,r&&r!==n)if(l){const e=l.A[t][a],n=l.B[t][a],s=[e*o[0]+n,e*o[1]+n],c=r.getContentDomain();if(Number.isFinite(s[0])&&Number.isFinite(s[1])){j(c,s)||r.zoomContentTo(s)&&(this.skipSiblings.push(a),i=!0);const t=r.getContentBaseDomain(),e=[s[0],s[1]];t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),Number.isFinite(e[0])&&Number.isFinite(e[1])&&j(t,e)}}else s&&(j(r.getContentDomain(),o)||r.zoomContentTo(o)&&(this.skipSiblings.push(a),i=!0))}if(i)for(let e=t-1;e<=t;e++){j(n.getContentDomain(),o)||n.zoomContentTo(o);const t=this.spacers[e];t&&t.update()}}syncContentSelection(t){var e;const n=null===(e=this.callbackManagers[t])||void 0===e?void 0:e.controller;if(!n)return;const o=n.getContentSelection();for(const t of this.callbackManagers){const e=null==t?void 0:t.controller;e&&e!==n&&this.props.syncContentSelection&&(D(e.getContentSelection(),o)||e.selectContent(o))}for(const t of this.spacers)t&&t.update()}syncTemplate(t){var e;const n=null===(e=this.callbackManagers[t])||void 0===e?void 0:e.controller;if(!n)return;const o=n.getTemplate();for(const t of this.callbackManagers){const e=null==t?void 0:t.controller;e&&e!==n&&this.props.syncTemplate&&e.setTemplate(o)}}setControllersZoom(){for(const t of this.callbackManagers){const e=null==t?void 0:t.controller;if(e&&this.props.domain&&(e.zoomContentTo(this.props.domain),this.props.syncContentDomain))break}}setControllersSelection(){if(this.props.selection){for(const t of this.callbackManagers){const e=null==t?void 0:t.controller;e&&e.selectContent(this.props.selection)}for(const t of this.spacers)t&&t.update()}}createView(t){var e,n;const o=this.callbacks[t],r=this.wellLogCollections[t],s=this.props.templates,l=s[t]?s[t]:s[0],a=this.props.viewTitles,c=a&&(!0===a||a[t]),u=Object.assign(Object.assign({},this.props.welllogOptions),{maxVisibleTrackNum:(null===(e=this.props.welllogOptions)||void 0===e?void 0:e.maxVisibleTrackNum)||(this.props.horizontal?2:3)});return i().createElement(Yl,{iWellLogView:t,key:t,welllog:r,viewTitle:c,template:l,colorMapFunctions:this.props.colorMapFunctions,wellpick:null===(n=this.props.wellpicks)||void 0===n?void 0:n[t],patternsTable:this.props.patternsTable,patterns:this.props.patterns,horizontal:this.props.horizontal,axisTitles:this.props.axisTitles,axisMnemos:this.props.axisMnemos,domain:this.props.domain,selection:this.props.selection,primaryAxis:this.state.primaryAxis,options:u,onInfo:o.onInfoBind,onCreateController:o.onCreateControllerBind,onTrackMouseEvent:this.props.onTrackMouseEvent||sa,onTrackMouseLeaveEvent:this.props.onTrackMouseLeaveEvent,onTrackScroll:o.onTrackScrollBind,onTrackSelection:o.onTrackSelectionBind,onContentRescale:o.onContentRescaleBind,onContentSelection:o.onContentSelectionBind,onTemplateChanged:o.onTemplateChangedBind})}createSpacer(t){var e;if(!this.props.spacers)return null;const n=t-1;let o=75;return"boolean"!=typeof this.props.spacers&&(o="number"==typeof this.props.spacers?this.props.spacers:this.props.spacers[n]),void 0===o&&(o=75),o?i().createElement("div",{style:this.props.horizontal?{height:o+"px"}:{width:o+"px"},key:"s"+t},i().createElement(ba,{controllers:[this.callbackManagers[n].controller,this.callbackManagers[t].controller],distance:{units:this.props.wellDistances?this.props.wellDistances.units:"",value:null===(e=this.props.wellDistances)||void 0===e?void 0:e.distances[n]},colorMapFunctions:this.props.colorMapFunctions,wellpicks:this.props.wellpicks?[this.props.wellpicks[n],this.props.wellpicks[t]]:[],width:o,patternsTable:this.props.patternsTable,patterns:this.props.patterns,options:this.props.spacerOptions,horizontal:this.props.horizontal,onCreateSpacer:e=>{this.spacers[t]=e}})):null}render(){return i().createElement(w,{parent:this,center:i().createElement("div",{style:{height:"0%",flex:"1",display:"flex",flexDirection:this.props.horizontal?"column":"row"}},this.wellLogCollections.map(((t,e)=>[e?this.createSpacer(e):null,this.createView(e)]))),layout:this.props.layout||ya})}}function wa(t){var e,n;return(null!==(n=null!==(e=t.wellLogCollections)&&void 0!==e?e:t.welllogs)&&void 0!==n?n:[]).map((t=>Array.isArray(t)?t:[t]))}const Ca=s().shape({maxContentZoom:s().number,maxVisibleTrackNum:s().number,checkDatafileSchema:s().bool,hideTrackTitle:s().bool,hideTrackLegend:s().bool,hideCurrentPosition:s().bool,hideSelectionInterval:s().bool}),ka=s().shape({allTracks:s().bool,grouping:s().string});xa.propTypes={id:s().string.isRequired,welllogs:s().array,wellLogCollections:s().arrayOf(s().arrayOf(s().object)),templates:s().array.isRequired,colorMapFunctions:s().arrayOf(Pn).isRequired,wellpicks:s().arrayOf(Sl),patternsTable:In,patterns:s().arrayOf(zn),wellpickFlatting:s().arrayOf(s().string),spacers:s().oneOfType([s().bool,s().number,s().arrayOf(s().number)]),wellDistances:Aa,horizontal:s().bool,primaryAxis:s().string,axisTitles:s().object,axisMnemos:s().object,maxContentZoom:s().number,domain:s().arrayOf(s().number),selection:s().arrayOf(s().number),viewTitles:s().oneOfType([s().bool,s().arrayOf(s().oneOfType([s().bool,s().string,s().object]))]),welllogOptions:Ca,readoutOptions:ka,syncTrackPos:s().bool,syncContentDomain:s().bool,syncContentSelection:s().bool,syncTemplate:s().bool};const Sa=xa},67109:function(t,e){!function(t){"use strict";var e="http://www.w3.org/1999/xhtml",n={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(t){var e=t+="",o=e.indexOf(":");return o>=0&&"xmlns"!==(e=t.slice(0,o))&&(t=t.slice(o+1)),n.hasOwnProperty(e)?{space:n[e],local:t}:t}function i(t){return function(){var n=this.ownerDocument,o=this.namespaceURI;return o===e&&n.documentElement.namespaceURI===e?n.createElement(t):n.createElementNS(o,t)}}function r(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function s(t){var e=o(t);return(e.local?r:i)(e)}function l(){}function a(t){return null==t?l:function(){return this.querySelector(t)}}function c(){return[]}function u(t){return null==t?c:function(){return this.querySelectorAll(t)}}function d(t){return function(){return this.matches(t)}}function h(t){return function(e){return e.matches(t)}}var p=Array.prototype.find;function f(){return this.firstElementChild}var m=Array.prototype.filter;function g(){return Array.from(this.children)}function v(t){return new Array(t.length)}function b(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function y(t,e,n,o,i,r){for(var s,l=0,a=e.length,c=r.length;l<c;++l)(s=e[l])?(s.__data__=r[l],o[l]=s):n[l]=new b(t,r[l]);for(;l<a;++l)(s=e[l])&&(i[l]=s)}function A(t,e,n,o,i,r,s){var l,a,c,u=new Map,d=e.length,h=r.length,p=new Array(d);for(l=0;l<d;++l)(a=e[l])&&(p[l]=c=s.call(a,a.__data__,l,e)+"",u.has(c)?i[l]=a:u.set(c,a));for(l=0;l<h;++l)c=s.call(t,r[l],l,r)+"",(a=u.get(c))?(o[l]=a,a.__data__=r[l],u.delete(c)):n[l]=new b(t,r[l]);for(l=0;l<d;++l)(a=e[l])&&u.get(p[l])===a&&(i[l]=a)}function x(t){return t.__data__}function w(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function C(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function k(t){return function(){this.removeAttribute(t)}}function S(t){return function(){this.removeAttributeNS(t.space,t.local)}}function M(t,e){return function(){this.setAttribute(t,e)}}function T(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function E(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function N(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function z(t){return function(){this.style.removeProperty(t)}}function I(t,e,n){return function(){this.style.setProperty(t,e,n)}}function P(t,e,n){return function(){var o=e.apply(this,arguments);null==o?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function R(t,e){return t.style.getPropertyValue(e)||N(t).getComputedStyle(t,null).getPropertyValue(e)}function L(t){return function(){delete this[t]}}function F(t,e){return function(){this[t]=e}}function $(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function B(t){return t.trim().split(/^|\s+/)}function O(t){return t.classList||new D(t)}function D(t){this._node=t,this._names=B(t.getAttribute("class")||"")}function j(t,e){for(var n=O(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function W(t,e){for(var n=O(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function V(t){return function(){j(this,t)}}function H(t){return function(){W(this,t)}}function U(t,e){return function(){(e.apply(this,arguments)?j:W)(this,t)}}function q(){this.textContent=""}function Y(t){return function(){this.textContent=t}}function G(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function X(){this.innerHTML=""}function K(t){return function(){this.innerHTML=t}}function Z(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Q(){this.nextSibling&&this.parentNode.appendChild(this)}function J(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tt(){return null}function et(){var t=this.parentNode;t&&t.removeChild(this)}function nt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ot(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function it(t){return function(){var e=this.__on;if(e){for(var n,o=0,i=-1,r=e.length;o<r;++o)n=e[o],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function rt(t,e,n){return function(){var o,i=this.__on,r=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===t.type&&o.name===t.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),void(o.value=e);this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function st(t,e,n){var o=N(t),i=o.CustomEvent;"function"==typeof i?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function lt(t,e){return function(){return st(this,t,e)}}function at(t,e){return function(){return st(this,t,e.apply(this,arguments))}}b.prototype={constructor:b,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},D.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ct=[null];function ut(t,e){this._groups=t,this._parents=e}function dt(){return new ut([[document.documentElement]],ct)}function ht(t){return"string"==typeof t?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],ct)}function pt(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=t.clientX,o.y=t.clientY,[(o=o.matrixTransform(e.getScreenCTM().inverse())).x,o.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}ut.prototype=dt.prototype={constructor:ut,select:function(t){"function"!=typeof t&&(t=a(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,s,l=e[i],c=l.length,u=o[i]=new Array(c),d=0;d<c;++d)(r=l[d])&&(s=t.call(r,r.__data__,d,l))&&("__data__"in r&&(s.__data__=r.__data__),u[d]=s);return new ut(o,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return function(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}(t):u(t);for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var s,l=e[r],a=l.length,c=0;c<a;++c)(s=l[c])&&(o.push(t.call(s,s.__data__,c,l)),i.push(s));return new ut(o,i)},selectChild:function(t){return this.select(null==t?f:function(t){return function(){return p.call(this.children,t)}}("function"==typeof t?t:h(t)))},selectChildren:function(t){return this.selectAll(null==t?g:function(t){return function(){return m.call(this.children,t)}}("function"==typeof t?t:h(t)))},filter:function(t){"function"!=typeof t&&(t=d(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,s=e[i],l=s.length,a=o[i]=[],c=0;c<l;++c)(r=s[c])&&t.call(r,r.__data__,c,s)&&a.push(r);return new ut(o,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,x);var n=e?A:y,o=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var r=i.length,s=new Array(r),l=new Array(r),a=new Array(r),c=0;c<r;++c){var u=o[c],d=i[c],h=d.length,p=w(t.call(u,u&&u.__data__,c,o)),f=p.length,m=l[c]=new Array(f),g=s[c]=new Array(f);n(u,d,m,g,a[c]=new Array(h),p,e);for(var v,b,C=0,k=0;C<f;++C)if(v=m[C]){for(C>=k&&(k=C+1);!(b=g[k])&&++k<f;);v._next=b||null}}return(s=new ut(s,o))._enter=l,s._exit=a,s},enter:function(){return new ut(this._enter||this._groups.map(v),this._parents)},exit:function(){return new ut(this._exit||this._groups.map(v),this._parents)},join:function(t,e,n){var o=this.enter(),i=this,r=this.exit();return"function"==typeof t?(o=t(o))&&(o=o.selection()):o=o.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?r.remove():n(r),o&&i?o.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,i=n.length,r=o.length,s=Math.min(i,r),l=new Array(i),a=0;a<s;++a)for(var c,u=n[a],d=o[a],h=u.length,p=l[a]=new Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(p[f]=c);for(;a<i;++a)l[a]=n[a];return new ut(l,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o,i=t[e],r=i.length-1,s=i[r];--r>=0;)(o=i[r])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=C);for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var s,l=n[r],a=l.length,c=i[r]=new Array(a),u=0;u<a;++u)(s=l[u])&&(c[u]=s);c.sort(e)}return new ut(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var s=o[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i,r=e[n],s=0,l=r.length;s<l;++s)(i=r[s])&&t.call(i,i.__data__,s,r);return this},attr:function(t,e){var n=o(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?S:k:"function"==typeof e?n.local?E:_:n.local?T:M)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?z:"function"==typeof e?P:I)(t,e,null==n?"":n)):R(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?L:"function"==typeof e?$:F)(t,e)):this.node()[t]},classed:function(t,e){var n=B(t+"");if(arguments.length<2){for(var o=O(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?U:e?V:H)(n,e))},text:function(t){return arguments.length?this.each(null==t?q:("function"==typeof t?G:Y)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?Z:K)(t)):this.node().innerHTML},raise:function(){return this.each(Q)},lower:function(){return this.each(J)},append:function(t){var e="function"==typeof t?t:s(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:s(t),o=null==e?tt:"function"==typeof e?e:a(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))},remove:function(){return this.each(et)},clone:function(t){return this.select(t?ot:nt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var o,i,r=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),s=r.length;if(!(arguments.length<2)){for(l=e?rt:it,o=0;o<s;++o)this.each(l(r[o],e,n));return this}var l=this.node().__on;if(l)for(var a,c=0,u=l.length;c<u;++c)for(o=0,a=l[c];o<s;++o)if((i=r[o]).type===a.type&&i.name===a.name)return a.value},dispatch:function(t,e){return this.each(("function"==typeof e?at:lt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o,i=t[e],r=0,s=i.length;r<s;++r)(o=i[r])&&(yield o)}};var ft={value:function(){}};function mt(){for(var t,e=0,n=arguments.length,o={};e<n;++e){if(!(t=arguments[e]+"")||t in o||/[\s.]/.test(t))throw new Error("illegal type: "+t);o[t]=[]}return new gt(o)}function gt(t){this._=t}function vt(t,e){for(var n,o=0,i=t.length;o<i;++o)if((n=t[o]).name===e)return n.value}function bt(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=ft,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=n&&t.push({name:e,value:n}),t}gt.prototype=mt.prototype={constructor:gt,on:function(t,e){var n,o,i=this._,r=(o=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!o.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),s=-1,l=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<l;)if(n=(t=r[s]).type)i[n]=bt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=bt(i[n],t.name,null);return this}for(;++s<l;)if((n=(t=r[s]).type)&&(n=vt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,o,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,n=(o=this._[t]).length;r<n;++r)o[r].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};const yt={capture:!0,passive:!1};function At(t){t.preventDefault(),t.stopImmediatePropagation()}function xt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wt(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function Ct(){}var kt=1/.7,St="\\s*([+-]?\\d+)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_t=/^#([0-9a-f]{3,8})$/,Et=new RegExp(`^rgb\\(${St},${St},${St}\\)$`),Nt=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),zt=new RegExp(`^rgba\\(${St},${St},${St},${Mt}\\)$`),It=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Mt}\\)$`),Pt=new RegExp(`^hsl\\(${Mt},${Tt},${Tt}\\)$`),Rt=new RegExp(`^hsla\\(${Mt},${Tt},${Tt},${Mt}\\)$`),Lt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ft(){return this.rgb().formatHex()}function $t(){return this.rgb().formatRgb()}function Bt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_t.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ot(e):3===n?new Wt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Dt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Dt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Et.exec(t))?new Wt(e[1],e[2],e[3],1):(e=Nt.exec(t))?new Wt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=zt.exec(t))?Dt(e[1],e[2],e[3],e[4]):(e=It.exec(t))?Dt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Pt.exec(t))?Gt(e[1],e[2]/100,e[3]/100,1):(e=Rt.exec(t))?Gt(e[1],e[2]/100,e[3]/100,e[4]):Lt.hasOwnProperty(t)?Ot(Lt[t]):"transparent"===t?new Wt(NaN,NaN,NaN,0):null}function Ot(t){return new Wt(t>>16&255,t>>8&255,255&t,1)}function Dt(t,e,n,o){return o<=0&&(t=e=n=NaN),new Wt(t,e,n,o)}function jt(t,e,n,o){return 1===arguments.length?((i=t)instanceof Ct||(i=Bt(i)),i?new Wt((i=i.rgb()).r,i.g,i.b,i.opacity):new Wt):new Wt(t,e,n,null==o?1:o);var i}function Wt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}function Vt(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}`}function Ht(){const t=Ut(this.opacity);return`${1===t?"rgb(":"rgba("}${qt(this.r)}, ${qt(this.g)}, ${qt(this.b)}${1===t?")":`, ${t})`}`}function Ut(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yt(t){return((t=qt(t))<16?"0":"")+t.toString(16)}function Gt(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Kt(t,e,n,o)}function Xt(t){if(t instanceof Kt)return new Kt(t.h,t.s,t.l,t.opacity);if(t instanceof Ct||(t=Bt(t)),!t)return new Kt;if(t instanceof Kt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),s=NaN,l=r-i,a=(r+i)/2;return l?(s=e===r?(n-o)/l+6*(n<o):n===r?(o-e)/l+2:(e-n)/l+4,l/=a<.5?r+i:2-r-i,s*=60):l=a>0&&a<1?0:s,new Kt(s,l,a,t.opacity)}function Kt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}function Zt(t){return(t=(t||0)%360)<0?t+360:t}function Qt(t){return Math.max(0,Math.min(1,t||0))}function Jt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}xt(Ct,Bt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ft,formatHex:Ft,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Xt(this).formatHsl()},formatRgb:$t,toString:$t}),xt(Wt,jt,wt(Ct,{brighter(t){return t=null==t?kt:Math.pow(kt,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wt(qt(this.r),qt(this.g),qt(this.b),Ut(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vt,formatHex:Vt,formatHex8:function(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}${Yt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ht,toString:Ht})),xt(Kt,(function(t,e,n,o){return 1===arguments.length?Xt(t):new Kt(t,e,n,null==o?1:o)}),wt(Ct,{brighter(t){return t=null==t?kt:Math.pow(kt,t),new Kt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Kt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new Wt(Jt(t>=240?t-240:t+120,i,o),Jt(t,i,o),Jt(t<120?t+240:t-120,i,o),this.opacity)},clamp(){return new Kt(Zt(this.h),Qt(this.s),Qt(this.l),Ut(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ut(this.opacity);return`${1===t?"hsl(":"hsla("}${Zt(this.h)}, ${100*Qt(this.s)}%, ${100*Qt(this.l)}%${1===t?")":`, ${t})`}`}}));var te=t=>()=>t;function ee(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):te(isNaN(t)?e:t)}var ne=function t(e){var n=function(t){return 1==(t=+t)?ee:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}(e,n,t):te(isNaN(e)?n:e)}}(e);function o(t,e){var o=n((t=jt(t)).r,(e=jt(e)).r),i=n(t.g,e.g),r=n(t.b,e.b),s=ee(t.opacity,e.opacity);return function(e){return t.r=o(e),t.g=i(e),t.b=r(e),t.opacity=s(e),t+""}}return o.gamma=t,o}(1);function oe(t,e){e||(e=[]);var n,o=t?Math.min(e.length,t.length):0,i=e.slice();return function(r){for(n=0;n<o;++n)i[n]=t[n]*(1-r)+e[n]*r;return i}}function ie(t,e){var n,o=e?e.length:0,i=t?Math.min(o,t.length):0,r=new Array(i),s=new Array(o);for(n=0;n<i;++n)r[n]=de(t[n],e[n]);for(;n<o;++n)s[n]=e[n];return function(t){for(n=0;n<i;++n)s[n]=r[n](t);return s}}function re(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function se(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function le(t,e){var n,o={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?o[n]=de(t[n],e[n]):i[n]=e[n];return function(t){for(n in o)i[n]=o[n](t);return i}}var ae=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ce=new RegExp(ae.source,"g");function ue(t,e){var n,o,i,r=ae.lastIndex=ce.lastIndex=0,s=-1,l=[],a=[];for(t+="",e+="";(n=ae.exec(t))&&(o=ce.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:se(n,o)})),r=ce.lastIndex;return r<e.length&&(i=e.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?function(t){return function(e){return t(e)+""}}(a[0].x):function(t){return function(){return t}}(e):(e=a.length,function(t){for(var n,o=0;o<e;++o)l[(n=a[o]).i]=n.x(t);return l.join("")})}function de(t,e){var n,o=typeof e;return null==e||"boolean"===o?te(e):("number"===o?se:"string"===o?(n=Bt(e))?(e=n,ne):ue:e instanceof Bt?ne:e instanceof Date?re:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?oe:Array.isArray(e)?ie:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?le:se)(t,e)}function he(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var pe,fe=180/Math.PI,me={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ge(t,e,n,o,i,r){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*o)&&(n-=t*a,o-=e*a),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,a/=l),t*o<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*fe,skewX:Math.atan(a)*fe,scaleX:s,scaleY:l}}function ve(t,e,n,o){function i(t){return t.length?t.pop()+" ":""}return function(r,s){var l=[],a=[];return r=t(r),s=t(s),function(t,o,i,r,s,l){if(t!==i||o!==r){var a=s.push("translate(",null,e,null,n);l.push({i:a-4,x:se(t,i)},{i:a-2,x:se(o,r)})}else(i||r)&&s.push("translate("+i+e+r+n)}(r.translateX,r.translateY,s.translateX,s.translateY,l,a),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(i(n)+"rotate(",null,o)-2,x:se(t,e)})):e&&n.push(i(n)+"rotate("+e+o)}(r.rotate,s.rotate,l,a),function(t,e,n,r){t!==e?r.push({i:n.push(i(n)+"skewX(",null,o)-2,x:se(t,e)}):e&&n.push(i(n)+"skewX("+e+o)}(r.skewX,s.skewX,l,a),function(t,e,n,o,r,s){if(t!==n||e!==o){var l=r.push(i(r)+"scale(",null,",",null,")");s.push({i:l-4,x:se(t,n)},{i:l-2,x:se(e,o)})}else 1===n&&1===o||r.push(i(r)+"scale("+n+","+o+")")}(r.scaleX,r.scaleY,s.scaleX,s.scaleY,l,a),r=s=null,function(t){for(var e,n=-1,o=a.length;++n<o;)l[(e=a[n]).i]=e.x(t);return l.join("")}}}var be=ve((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?me:ge(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),ye=ve((function(t){return null==t?me:(pe||(pe=document.createElementNS("http://www.w3.org/2000/svg","g")),pe.setAttribute("transform",t),(t=pe.transform.baseVal.consolidate())?ge((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):me)}),", ",")",")");function Ae(t){return((t=Math.exp(t))+1/t)/2}var xe,we,Ce=function t(e,n,o){function i(t,i){var r,s,l=t[0],a=t[1],c=t[2],u=i[0],d=i[1],h=i[2],p=u-l,f=d-a,m=p*p+f*f;if(m<1e-12)s=Math.log(h/c)/e,r=function(t){return[l+t*p,a+t*f,c*Math.exp(e*t*s)]};else{var g=Math.sqrt(m),v=(h*h-c*c+o*m)/(2*c*n*g),b=(h*h-c*c-o*m)/(2*h*n*g),y=Math.log(Math.sqrt(v*v+1)-v),A=Math.log(Math.sqrt(b*b+1)-b);s=(A-y)/e,r=function(t){var o=t*s,i=Ae(y),r=c/(n*g)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*o+y)-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[l+r*p,a+r*f,c*i/Ae(e*o+y)]}}return r.duration=1e3*s*e/Math.SQRT2,r}return i.rho=function(e){var n=Math.max(.001,+e),o=n*n;return t(n,o,o*o)},i}(Math.SQRT2,2,4),ke=0,Se=0,Me=0,Te=1e3,_e=0,Ee=0,Ne=0,ze="object"==typeof performance&&performance.now?performance:Date,Ie="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Pe(){return Ee||(Ie(Re),Ee=ze.now()+Ne)}function Re(){Ee=0}function Le(){this._call=this._time=this._next=null}function Fe(t,e,n){var o=new Le;return o.restart(t,e,n),o}function $e(){Ee=(_e=ze.now())+Ne,ke=Se=0;try{!function(){Pe(),++ke;for(var t,e=xe;e;)(t=Ee-e._time)>=0&&e._call.call(null,t),e=e._next;--ke}()}finally{ke=0,function(){for(var t,e,n=xe,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:xe=e);we=t,Oe(o)}(),Ee=0}}function Be(){var t=ze.now(),e=t-_e;e>Te&&(Ne-=e,_e=t)}function Oe(t){ke||(Se&&(Se=clearTimeout(Se)),t-Ee>24?(t<1/0&&(Se=setTimeout($e,t-ze.now()-Ne)),Me&&(Me=clearInterval(Me))):(Me||(_e=ze.now(),Me=setInterval(Be,Te)),ke=1,Ie($e)))}function De(t,e,n){var o=new Le;return e=null==e?0:+e,o.restart((function(n){o.stop(),t(n+e)}),e,n),o}Le.prototype=Fe.prototype={constructor:Le,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Pe():+n)+(null==e?0:+e),this._next||we===this||(we?we._next=this:xe=this,we=this),this._call=t,this._time=n,Oe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Oe())}};var je=mt("start","end","cancel","interrupt"),We=[],Ve=0,He=2,Ue=3,qe=5,Ye=6;function Ge(t,e,n,o,i,r){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var o,i=t.__transition;function r(a){var c,u,d,h;if(1!==n.state)return l();for(c in i)if((h=i[c]).name===n.name){if(h.state===Ue)return De(r);4===h.state?(h.state=Ye,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=Ye,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(De((function(){n.state===Ue&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=He,n.on.call("start",t,t.__data__,n.index,n.group),n.state===He){for(n.state=Ue,o=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(o[++u]=h);o.length=u+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=qe,1),r=-1,s=o.length;++r<s;)o[r].call(t,i);n.state===qe&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var o in n.state=Ye,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Fe((function(t){n.state=1,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}),0,n.time)}(t,n,{name:e,index:o,group:i,on:je,tween:We,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Ve})}function Xe(t,e){var n=Ze(t,e);if(n.state>Ve)throw new Error("too late; already scheduled");return n}function Ke(t,e){var n=Ze(t,e);if(n.state>Ue)throw new Error("too late; already running");return n}function Ze(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Qe(t,e){var n,o,i,r=t.__transition,s=!0;if(r){for(i in e=null==e?null:e+"",r)(n=r[i]).name===e?(o=n.state>He&&n.state<qe,n.state=Ye,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[i]):s=!1;s&&delete t.__transition}}function Je(t,e){var n,o;return function(){var i=Ke(this,t),r=i.tween;if(r!==n)for(var s=0,l=(o=n=r).length;s<l;++s)if(o[s].name===e){(o=o.slice()).splice(s,1);break}i.tween=o}}function tn(t,e,n){var o,i;if("function"!=typeof n)throw new Error;return function(){var r=Ke(this,t),s=r.tween;if(s!==o){i=(o=s).slice();for(var l={name:e,value:n},a=0,c=i.length;a<c;++a)if(i[a].name===e){i[a]=l;break}a===c&&i.push(l)}r.tween=i}}function en(t,e,n){var o=t._id;return t.each((function(){var t=Ke(this,o);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ze(t,o).value[e]}}function nn(t,e){var n;return("number"==typeof e?se:e instanceof Bt?ne:(n=Bt(e))?(e=n,ne):ue)(t,e)}function on(t){return function(){this.removeAttribute(t)}}function rn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sn(t,e,n){var o,i,r=n+"";return function(){var s=this.getAttribute(t);return s===r?null:s===o?i:i=e(o=s,n)}}function ln(t,e,n){var o,i,r=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===o?i:i=e(o=s,n)}}function an(t,e,n){var o,i,r;return function(){var s,l,a=n(this);if(null!=a)return(s=this.getAttribute(t))===(l=a+"")?null:s===o&&l===i?r:(i=l,r=e(o=s,a));this.removeAttribute(t)}}function cn(t,e,n){var o,i,r;return function(){var s,l,a=n(this);if(null!=a)return(s=this.getAttributeNS(t.space,t.local))===(l=a+"")?null:s===o&&l===i?r:(i=l,r=e(o=s,a));this.removeAttributeNS(t.space,t.local)}}function un(t,e){var n,o;function i(){var i=e.apply(this,arguments);return i!==o&&(n=(o=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function dn(t,e){var n,o;function i(){var i=e.apply(this,arguments);return i!==o&&(n=(o=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function hn(t,e){return function(){Xe(this,t).delay=+e.apply(this,arguments)}}function pn(t,e){return e=+e,function(){Xe(this,t).delay=e}}function fn(t,e){return function(){Ke(this,t).duration=+e.apply(this,arguments)}}function mn(t,e){return e=+e,function(){Ke(this,t).duration=e}}var gn=dt.prototype.constructor;function vn(t){return function(){this.style.removeProperty(t)}}var bn=0;function yn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function An(){return++bn}var xn=dt.prototype;yn.prototype={constructor:yn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=a(t));for(var o=this._groups,i=o.length,r=new Array(i),s=0;s<i;++s)for(var l,c,u=o[s],d=u.length,h=r[s]=new Array(d),p=0;p<d;++p)(l=u[p])&&(c=t.call(l,l.__data__,p,u))&&("__data__"in l&&(c.__data__=l.__data__),h[p]=c,Ge(h[p],e,n,p,h,Ze(l,n)));return new yn(r,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=u(t));for(var o=this._groups,i=o.length,r=[],s=[],l=0;l<i;++l)for(var a,c=o[l],d=c.length,h=0;h<d;++h)if(a=c[h]){for(var p,f=t.call(a,a.__data__,h,c),m=Ze(a,n),g=0,v=f.length;g<v;++g)(p=f[g])&&Ge(p,e,n,g,f,m);r.push(f),s.push(a)}return new yn(r,s,e,n)},selectChild:xn.selectChild,selectChildren:xn.selectChildren,filter:function(t){"function"!=typeof t&&(t=d(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,s=e[i],l=s.length,a=o[i]=[],c=0;c<l;++c)(r=s[c])&&t.call(r,r.__data__,c,s)&&a.push(r);return new yn(o,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),s=new Array(o),l=0;l<r;++l)for(var a,c=e[l],u=n[l],d=c.length,h=s[l]=new Array(d),p=0;p<d;++p)(a=c[p]||u[p])&&(h[p]=a);for(;l<o;++l)s[l]=e[l];return new yn(s,this._parents,this._name,this._id)},selection:function(){return new gn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=An(),o=this._groups,i=o.length,r=0;r<i;++r)for(var s,l=o[r],a=l.length,c=0;c<a;++c)if(s=l[c]){var u=Ze(s,e);Ge(s,t,n,c,l,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new yn(o,this._parents,t,n)},call:xn.call,nodes:xn.nodes,node:xn.node,size:xn.size,empty:xn.empty,each:xn.each,on:function(t,e){var n=this._id;return arguments.length<2?Ze(this.node(),n).on.on(t):this.each(function(t,e,n){var o,i,r=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Xe:Ke;return function(){var s=r(this,t),l=s.on;l!==o&&(i=(o=l).copy()).on(e,n),s.on=i}}(n,t,e))},attr:function(t,e){var n=o(t),i="transform"===n?ye:nn;return this.attrTween(t,"function"==typeof e?(n.local?cn:an)(n,i,en(this,"attr."+t,e)):null==e?(n.local?rn:on)(n):(n.local?ln:sn)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=o(t);return this.tween(n,(i.local?un:dn)(i,e))},style:function(t,e,n){var o="transform"==(t+="")?be:nn;return null==e?this.styleTween(t,function(t,e){var n,o,i;return function(){var r=R(this,t),s=(this.style.removeProperty(t),R(this,t));return r===s?null:r===n&&s===o?i:i=e(n=r,o=s)}}(t,o)).on("end.style."+t,vn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var o,i,r;return function(){var s=R(this,t),l=n(this),a=l+"";return null==l&&(this.style.removeProperty(t),a=l=R(this,t)),s===a?null:s===o&&a===i?r:(i=a,r=e(o=s,l))}}(t,o,en(this,"style."+t,e))).each(function(t,e){var n,o,i,r,s="style."+e,l="end."+s;return function(){var a=Ke(this,t),c=a.on,u=null==a.value[s]?r||(r=vn(e)):void 0;c===n&&i===u||(o=(n=c).copy()).on(l,i=u),a.on=o}}(this._id,t)):this.styleTween(t,function(t,e,n){var o,i,r=n+"";return function(){var s=R(this,t);return s===r?null:s===o?i:i=e(o=s,n)}}(t,o,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==e)return this.tween(o,null);if("function"!=typeof e)throw new Error;return this.tween(o,function(t,e,n){var o,i;function r(){var r=e.apply(this,arguments);return r!==i&&(o=(i=r)&&function(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}(t,r,n)),o}return r._value=e,r}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(en(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function o(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&function(t){return function(e){this.textContent=t.call(this,e)}}(o)),e}return o._value=t,o}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o,i=Ze(this.node(),n).tween,r=0,s=i.length;r<s;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((null==e?Je:tn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?hn:pn)(e,t)):Ze(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?fn:mn)(e,t)):Ze(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Ke(this,t).ease=e}}(e,t)):Ze(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Ke(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,o=n._id,i=n.size();return new Promise((function(r,s){var l={value:s},a={value:function(){0==--i&&r()}};n.each((function(){var n=Ke(this,o),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),n.on=e})),0===i&&r()}))},[Symbol.iterator]:xn[Symbol.iterator]};var wn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Cn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}dt.prototype.interrupt=function(t){return this.each((function(){Qe(this,t)}))},dt.prototype.transition=function(t){var e,n;t instanceof yn?(e=t._id,t=t._name):(e=An(),(n=wn).time=Pe(),t=null==t?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var s,l=o[r],a=l.length,c=0;c<a;++c)(s=l[c])&&Ge(s,t,e,c,l,n||Cn(s,e));return new yn(o,this._parents,t,e)};var kn=t=>()=>t;function Sn(t,{sourceEvent:e,target:n,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function Mn(t,e,n){this.k=t,this.x=e,this.y=n}Mn.prototype={constructor:Mn,scale:function(t){return 1===t?this:new Mn(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Mn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Tn=new Mn(1,0,0);function _n(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Tn;return t.__zoom}function En(t){t.stopImmediatePropagation()}function Nn(t){t.preventDefault(),t.stopImmediatePropagation()}function zn(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function In(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Pn(){return this.__zoom||Tn}function Rn(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ln(){return navigator.maxTouchPoints||"ontouchstart"in this}function Fn(t,e,n){var o=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function $n(){var t,e,n,o=zn,i=In,r=Fn,s=Rn,l=Ln,a=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Ce,h=mt("start","zoom","end"),p=500,f=150,m=0,g=10;function v(t){t.property("__zoom",Pn).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",M).filter(l).on("touchstart.zoom",T).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(t,e){return(e=Math.max(a[0],Math.min(a[1],e)))===t.k?t:new Mn(e,t.x,t.y)}function y(t,e,n){var o=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return o===t.x&&i===t.y?t:new Mn(t.k,o,i)}function A(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,o){t.on("start.zoom",(function(){w(this,arguments).event(o).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(o).end()})).tween("zoom",(function(){var t=arguments,r=w(this,t).event(o),s=i.apply(this,t),l=null==n?A(s):"function"==typeof n?n.apply(this,t):n,a=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),c=this.__zoom,u="function"==typeof e?e.apply(this,t):e,h=d(c.invert(l).concat(a/c.k),u.invert(l).concat(a/u.k));return function(t){if(1===t)t=u;else{var e=h(t),n=a/e[2];t=new Mn(n,l[0]-e[0]*n,l[1]-e[1]*n)}r.zoom(null,t)}}))}function w(t,e,n){return!n&&t.__zooming||new C(t,e)}function C(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function k(t,...e){if(o.apply(this,arguments)){var n=w(this,e).event(t),i=this.__zoom,l=Math.max(a[0],Math.min(a[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=pt(t);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===l)return;n.mouse=[u,i.invert(u)],Qe(this),n.start()}Nn(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),f),n.zoom("mouse",r(y(b(i,l),n.mouse[0],n.mouse[1]),n.extent,c))}}function S(t,...e){if(!n&&o.apply(this,arguments)){var i=t.currentTarget,s=w(this,e,!0).event(t),l=ht(t.view).on("mousemove.zoom",(function(t){if(Nn(t),!s.moved){var e=t.clientX-u,n=t.clientY-d;s.moved=e*e+n*n>m}s.event(t).zoom("mouse",r(y(s.that.__zoom,s.mouse[0]=pt(t,i),s.mouse[1]),s.extent,c))}),!0).on("mouseup.zoom",(function(t){l.on("mousemove.zoom mouseup.zoom",null),function(t,e){var n=t.document.documentElement,o=ht(t).on("dragstart.drag",null);e&&(o.on("click.drag",At,yt),setTimeout((function(){o.on("click.drag",null)}),0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(t.view,s.moved),Nn(t),s.event(t).end()}),!0),a=pt(t,i),u=t.clientX,d=t.clientY;!function(t){var e=t.document.documentElement,n=ht(t).on("dragstart.drag",At,yt);"onselectstart"in e?n.on("selectstart.drag",At,yt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(t.view),En(t),s.mouse=[a,this.__zoom.invert(a)],Qe(this),s.start()}}function M(t,...e){if(o.apply(this,arguments)){var n=this.__zoom,s=pt(t.changedTouches?t.changedTouches[0]:t,this),l=n.invert(s),a=n.k*(t.shiftKey?.5:2),d=r(y(b(n,a),s,l),i.apply(this,e),c);Nn(t),u>0?ht(this).transition().duration(u).call(x,d,s,t):ht(this).call(v.transform,d,s,t)}}function T(n,...i){if(o.apply(this,arguments)){var r,s,l,a,c=n.touches,u=c.length,d=w(this,i,n.changedTouches.length===u).event(n);for(En(n),s=0;s<u;++s)a=[a=pt(l=c[s],this),this.__zoom.invert(a),l.identifier],d.touch0?d.touch1||d.touch0[2]===a[2]||(d.touch1=a,d.taps=0):(d.touch0=a,r=!0,d.taps=1+!!t);t&&(t=clearTimeout(t)),r&&(d.taps<2&&(e=a[0],t=setTimeout((function(){t=null}),p)),Qe(this),d.start())}}function _(t,...e){if(this.__zooming){var n,o,i,s,l=w(this,e).event(t),a=t.changedTouches,u=a.length;for(Nn(t),n=0;n<u;++n)i=pt(o=a[n],this),l.touch0&&l.touch0[2]===o.identifier?l.touch0[0]=i:l.touch1&&l.touch1[2]===o.identifier&&(l.touch1[0]=i);if(o=l.that.__zoom,l.touch1){var d=l.touch0[0],h=l.touch0[1],p=l.touch1[0],f=l.touch1[1],m=(m=p[0]-d[0])*m+(m=p[1]-d[1])*m,g=(g=f[0]-h[0])*g+(g=f[1]-h[1])*g;o=b(o,Math.sqrt(m/g)),i=[(d[0]+p[0])/2,(d[1]+p[1])/2],s=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!l.touch0)return;i=l.touch0[0],s=l.touch0[1]}l.zoom("touch",r(y(o,i,s),l.extent,c))}}function E(t,...o){if(this.__zooming){var i,r,s=w(this,o).event(t),l=t.changedTouches,a=l.length;for(En(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),i=0;i<a;++i)r=l[i],s.touch0&&s.touch0[2]===r.identifier?delete s.touch0:s.touch1&&s.touch1[2]===r.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(r=pt(r,this),Math.hypot(e[0]-r[0],e[1]-r[1])<g)){var c=ht(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return v.transform=function(t,e,n,o){var i=t.selection?t.selection():t;i.property("__zoom",Pn),t!==i?x(t,e,n,o):i.interrupt().each((function(){w(this,arguments).event(o).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},v.scaleBy=function(t,e,n,o){v.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,o)},v.scaleTo=function(t,e,n,o){v.transform(t,(function(){var t=i.apply(this,arguments),o=this.__zoom,s=null==n?A(t):"function"==typeof n?n.apply(this,arguments):n,l=o.invert(s),a="function"==typeof e?e.apply(this,arguments):e;return r(y(b(o,a),s,l),t,c)}),n,o)},v.translateBy=function(t,e,n,o){v.transform(t,(function(){return r(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,o)},v.translateTo=function(t,e,n,o,s){v.transform(t,(function(){var t=i.apply(this,arguments),s=this.__zoom,l=null==o?A(t):"function"==typeof o?o.apply(this,arguments):o;return r(Tn.translate(l[0],l[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),o,s)},C.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=ht(this.that).datum();h.call(t,this.that,new Sn(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:h}),e)}},v.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:kn(+t),v):s},v.filter=function(t){return arguments.length?(o="function"==typeof t?t:kn(!!t),v):o},v.touchable=function(t){return arguments.length?(l="function"==typeof t?t:kn(!!t),v):l},v.extent=function(t){return arguments.length?(i="function"==typeof t?t:kn([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):i},v.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],v):[a[0],a[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(r=t,v):r},v.duration=function(t){return arguments.length?(u=+t,v):u},v.interpolate=function(t){return arguments.length?(d=t,v):d},v.on=function(){var t=h.on.apply(h,arguments);return t===h?v:t},v.clickDistance=function(t){return arguments.length?(m=(t=+t)*t,v):Math.sqrt(m)},v.tapDistance=function(t){return arguments.length?(g=+t,v):g},v}_n.prototype=Mn.prototype;class Bn{static getPixelRatio(t){const[e,n]=t.domain(),[o,i]=t.range(),r=Math.abs(n-e);return Math.abs(i-o)/r}static getDomainRatio(t){const[e,n]=t.domain(),[o,i]=t.range();return Math.abs(n-e)/Math.abs(i-o)}static getDomainSpan(t,e=!0){const[n,o]=t.domain(),i=o-n;return e?Math.abs(i):i}static getDomainPixelSpan(t,e){const[n,o]=e||t.domain(),i=t(n),r=t(o);return Math.max(0,Math.abs(r-i))}static getRangeSpan(t){const[e,n]=t.range();return Math.abs(n-e)}static createLogTicks(t){const[,e]=t.domain(),n=[],o={major:[],minor:[]};let i=1;for(;i<e;)n.push(i),i*=10;return t.ticks().splice(1).forEach((t=>{n.includes(t)?o.major.push(t):o.minor.push(t)})),o}static createLinearTicks(t,e=10){const n=e,o=Bn.getRangeSpan(t)/n,i=n/2,r={major:[],minor:[]};for(let e=1;e<n;e+=1){const n=e*o;i&&e%i==0?r.major.push(t.invert(n)):r.minor.push(t.invert(n))}return r}static createMinorTicks(t,e,n){const o=[];for(let i=1;i<e;i+=1){const e=t+i*n;o.push(e)}return o}static createTicks(t){const[e,n]=t.domain(),o=Bn.getRangeSpan(t),i=[],r=[];if(o>0){const s=Math.min(Math.ceil(o/60),2*Math.floor(Math.abs(n-e)));i.push(...t.ticks(s));const l=o/i.length,a=i.length>1?i[1]-i[0]:i[0]||0;let c=a<=1?10*a:Math.min(10,a);if(c){l<10*c&&(c=5*Math.round(l/10/5));const t=a/c;r.push(...Bn.createMinorTicks(i[0]-a,c,t)),i.forEach((e=>{r.push(...Bn.createMinorTicks(e,c,t))}))}}return{major:i,minor:r.filter((t=>t>=e&&t<=n))}}}class On{static mean(t){if(t.length<=2)return t;let e=0,n=0;for(let o=0;o<t.length;o++)n+=t[o][0],e+=t[o][1];return[[n/t.length,e/t.length]]}static minmax(t){if(t.length<=2)return t;let e=t[0][1],n=-1/0,o=!1;for(let i=0;i<t.length;i++)t[i][1]>n?(n=t[i][1],o=!1):t[i][1]<e&&(e=t[i][1],o=!0);return[[t[0][0],o?n:e],[t[t.length-1][0],o?e:n]]}static isWithinBounds(t,e){if(!e||e.length<1)return!1;const[n,o]=t.domain(),i=e[0],r=e[e.length-1];return!(i[0]>o||r[0]<n)}static trimUndefinedValues(t){let e=0;return null==t?void 0:t.filter((t=>{let n=!0;return null===t[1]&&null===e&&(n=!1),e=t[1],n}))}static filterData(t,e,n=.5){const[o,i]=e,r=n*(i-o),s=o-r,l=i+r;return null==t?void 0:t.filter(((e,n)=>{if(e[0]>=s&&e[0]<=l)return!0;const o=e[0]<s&&n+1<t.length&&t[n+1][0]>s,i=e[0]>l&&n-1>=0&&t[n-1][0]<l;return o||i}))}static findNextDefined(t,e=0){for(let n=e;n<t.length;n++)if(Number.isFinite(t[n][1]))return n;return-1}static findNextUndefined(t,e=0){for(let n=e;n<t.length;n++)if(!Number.isFinite(t[n][1]))return n;return-1}static resample(t,e,n=On.mean){if(e<=2||t.length<100)return t;e=Math.floor(e);const o=t.length-1,i=t[0],r=t[o];let s=1;const l=[];let a=0;for(;s<o;){let i=Math.min(s+e,o);const r=t.slice(s,i),c=On.findNextUndefined(r);if(c>-1){i=s+1;const t=r[c],e=r[c+1];r.splice(c),c>0&&(r.pop(),i++),r.length>0&&(l.push(...n(r)),i+=r.length),l.push(t),e&&(l.push(e),i++)}else r.length>0&&l.push(...n(r));if(s=i,a++,a>1e6)throw Error("Infinite loop terminated!")}return[i,...l,r]}static downsample(t,e,n=On.minmax){if(t.length<10)return t;const o=Bn.getDomainRatio(e),i=t.length-1,r=On.findNextDefined(t),s=t[r],l=t[i],a=[];a.push(s);let c=r+1,u=c+1;for(;u<=i;){const e=t[u],r=Number.isFinite(e[1]);if(!r||e[0]-t[c][0]>o||u===i){const o=u-c>0?t.slice(c,u):[];if(1===o.length?a.push(o[0]):0!==o.length&&a.push(...n(o)),r?c=u:(a.push(e),c=On.findNextDefined(t,u+1)),-1===c)break;u=c+1}else u++}return a.push(l),a}static mergeDataSeries(t,e){const n=[];let o=0;if(t.length>0&&e.length>0){let i=Math.min(t[0][0],e[0][0]),r=0,s=0;if(t[0][0]<e[0][0]&&t[t.length-1][0]<e[0][0])return[];if(e[0][0]<t[0][0]&&e[e.length-1][0]<t[0][0])return[];for(;r<t.length&&s<e.length;){i=t[r][0];let l=0,a=0;for(;e[s][0]>i&&r<t.length;)s>0?s--:(n[o++]=[i,t[r][1],null],i=t[++r][0]);for(;s<e.length&&e[s][0]<=i;){if(null===e[s][1]){n[o++]=[e[s][0],t[r][1],e[s][1]],s++;break}l+=e[s][1],a++,s++}a>0&&(n[o++]=[i,t[r][1],l/a]),r++}for(;r<t.length;)n[o++]=[t[r][0],t[r][1],null],r++;for(;s<e.length;)n[o++]=[e[s][0],null,e[s][1]],s++;return n}return t.length>0?t.map((t=>[t[0],t[1],null])):e.length>0?e.map((t=>[t[0],null,t[1]])):[]}static queryContinuousData(t,e){try{if(t<e[0][0]||t>e[e.length-1][0])return null;let n=e.findIndex((e=>t<=e[0]));if(n>0){const o=e[n][0],i=e[n-1][0];t-i<o-t&&(n-=1)}if(-1!==n)return e[n][1]}catch(t){console.error(t)}return null}static queryPointData(t,e,n=0){try{const o=e.filter((e=>t-n<=e[0]&&e[0]<=t+n)).reduce(((e,n)=>{const o=Math.abs(t-n[0]);return null===e.rank||o<e.rank?{data:n,rank:o}:e}),{data:null,rank:null}).data;if(null!==o)return o[1]}catch(t){console.error(t)}return null}static queryZoneData(t,e){try{const n=e.findIndex(((e,n,o)=>n<o.length-1&&null!==e[1]&&e[0]<=t&&o[n+1][0]>t));return n>-1?e[n][1]:null}catch(t){console.error(t)}return null}}class Dn{static drawGrid(t,e,n,o,i){const[r,s]=e.range(),[l,a]=o.range();t.save(),t.strokeStyle="#ddd",t.lineWidth=.5,n.minor.forEach((n=>{const o=e(n);t.beginPath(),t.moveTo(o,l),t.lineTo(o,a),t.stroke()})),t.strokeStyle="#ccc",t.lineWidth=1,n.major.forEach((n=>{const o=e(n);t.beginPath(),t.moveTo(o,l),t.lineTo(o,a),t.stroke()})),t.strokeStyle="#ddd",t.lineWidth=1,i.minor.forEach((e=>{const n=o(e);t.beginPath(),t.moveTo(r,n),t.lineTo(s,n),t.stroke()})),t.strokeStyle="#ccc",t.lineWidth=2,i.major.forEach((e=>{const n=o(e);t.beginPath(),t.moveTo(r,n),t.lineTo(s,n),t.stroke()})),t.restore()}}class jn{static basicLegendSvgConfig(t,e){return{elementType:"svg",getLegendRows:e=>t(e),onInit:(t,e,n)=>{e.legendUpdate=n;const o=ht(t);o.selectAll("*").remove(),o.append("g").attr("class","svg-legend")},onUpdate:e}}static renderBasicVerticalSvgLabel(t,e,n,o,i=!1){const{width:r,height:s,left:l=0,top:a=0}=e,c=a+.9*s,u=l+Math.max(0,r/2),d=Math.min(12,Math.min(r,40)/3),h=i?`translate(${c},${u})`:`translate(${u},${c})rotate(90)`,p=t.append("text").attr("transform",h).attr("font-size",`${d}px`).attr("dominant-baseline","middle").style("text-anchor","end");p.text(n),p.node().getBBox().width>.8*s&&p.text(o||n)}static basicVerticalLabel(t,e){return jn.basicLegendSvgConfig((()=>3),((n,o,i)=>{const r=ht(n);r.selectAll("*").remove(),jn.renderBasicVerticalSvgLabel(r,o,t||i.options.label,e||i.options.abbr,i.options.horizontal)}))}}function Wn(t,e){const n=10**e;return Math.round(t*n)/n}function Vn(t){let e=0;if(0===t.length)return e;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e}function Hn(t=20){const e={};return function(n,...o){const i=Vn(n.name||n.toString()).toString();e[i]&&clearTimeout(e[i]),e[i]=setTimeout((()=>{delete e[i],n(...o)}),t)}}function Un(t){const e=t.replace(/[^\d,.]/g,"").split(",");return(299*parseFloat(e[0])+587*parseFloat(e[1])+114*parseFloat(e[2]))/1e3>=110?"black":"white"}function qn(t,e){return"function"==typeof e?(t.each((function(t){const n=e(t);Object.entries(n).forEach((t=>{this.setAttribute(t[0],t[1])}))})),t):(Object.entries(e).forEach((e=>{t.attr(e[0],e[1])})),t)}function Yn(t,e){return"function"==typeof e?(t.each((function(t){const n=e(t);Object.entries(n).forEach((t=>{this.style.setProperty(t[0],t[1])}))})),t):(Object.entries(e).forEach((e=>{t.style(e[0],e[1])})),t)}function Gn(t,e){return e.attrs&&qn(t,e.attrs),e.styles&&Yn(t,e.styles),t}function Xn(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kn(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zn(t){let e,n,o;function i(t,o,i=0,r=t.length){if(i<r){if(0!==e(o,o))return r;do{const e=i+r>>>1;n(t[e],o)<0?i=e+1:r=e}while(i<r)}return i}return 2!==t.length?(e=Xn,n=(e,n)=>Xn(t(e),n),o=(e,n)=>t(e)-n):(e=t===Xn||t===Kn?t:Qn,n=t,o=t),{left:i,center:function(t,e,n=0,r=t.length){const s=i(t,e,n,r-1);return s>n&&o(t[s-1],e)>-o(t[s],e)?s-1:s},right:function(t,o,i=0,r=t.length){if(i<r){if(0!==e(o,o))return r;do{const e=i+r>>>1;n(t[e],o)<=0?i=e+1:r=e}while(i<r)}return i}}}function Qn(){return 0}const Jn=Zn(Xn).right;Zn((function(t){return null===t?NaN:+t})).center;var to=Math.sqrt(50),eo=Math.sqrt(10),no=Math.sqrt(2);function oo(t,e,n){var o,i,r,s,l=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((o=e<t)&&(i=t,t=e,e=i),0===(s=io(t,e,n))||!isFinite(s))return[];if(s>0){let n=Math.round(t/s),o=Math.round(e/s);for(n*s<t&&++n,o*s>e&&--o,r=new Array(i=o-n+1);++l<i;)r[l]=(n+l)*s}else{s=-s;let n=Math.round(t*s),o=Math.round(e*s);for(n/s<t&&++n,o/s>e&&--o,r=new Array(i=o-n+1);++l<i;)r[l]=(n+l)/s}return o&&r.reverse(),r}function io(t,e,n){var o=(e-t)/Math.max(0,n),i=Math.floor(Math.log(o)/Math.LN10),r=o/Math.pow(10,i);return i>=0?(r>=to?10:r>=eo?5:r>=no?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(r>=to?10:r>=eo?5:r>=no?2:1)}function ro(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function so(t){return+t}var lo=[0,1];function ao(t){return t}function co(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function uo(t,e,n){var o=t[0],i=t[1],r=e[0],s=e[1];return i<o?(o=co(i,o),r=n(s,r)):(o=co(o,i),r=n(r,s)),function(t){return r(o(t))}}function ho(t,e,n){var o=Math.min(t.length,e.length)-1,i=new Array(o),r=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<o;)i[s]=co(t[s],t[s+1]),r[s]=n(e[s],e[s+1]);return function(e){var n=Jn(t,e,1,o)-1;return r[n](i[n](e))}}function po(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fo(){var t,e,n,o,i,r,s=lo,l=lo,a=de,c=ao;function u(){var t,e,n,a=Math.min(s.length,l.length);return c!==ao&&(t=s[0],e=s[a-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),o=a>2?ho:uo,i=r=null,d}function d(e){return null==e||isNaN(e=+e)?n:(i||(i=o(s.map(t),l,a)))(t(c(e)))}return d.invert=function(n){return c(e((r||(r=o(l,s.map(t),se)))(n)))},d.domain=function(t){return arguments.length?(s=Array.from(t,so),u()):s.slice()},d.range=function(t){return arguments.length?(l=Array.from(t),u()):l.slice()},d.rangeRound=function(t){return l=Array.from(t),a=he,u()},d.clamp=function(t){return arguments.length?(c=!!t||ao,u()):c!==ao},d.interpolate=function(t){return arguments.length?(a=t,u()):a},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,o){return t=n,e=o,u()}}function mo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function go(t){return(t=mo(Math.abs(t)))?t[1]:NaN}var vo,bo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yo(t){if(!(e=bo.exec(t)))throw new Error("invalid format: "+t);var e;return new Ao({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ao(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function xo(t,e){var n=mo(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}yo.prototype=Ao.prototype,Ao.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var wo={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return xo(100*t,e)},r:xo,s:function(t,e){var n=mo(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(vo=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=o.length;return r===s?o:r>s?o+new Array(r-s+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+mo(t,Math.max(0,e+r-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Co(t){return t}var ko,So,Mo,To=Array.prototype.map,_o=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Eo(){var t=fo()(ao,ao);return t.copy=function(){return po(t,Eo())},ro.apply(t,arguments),function(t){var e=t.domain;return t.ticks=function(t){var n=e();return oo(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var o=e();return function(t,e,n,o){var i,r=function(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),r=o/i;return r>=to?i*=10:r>=eo?i*=5:r>=no&&(i*=2),e<t?-i:i}(t,e,n);switch((o=yo(null==o?",f":o)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=o.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(go(e)/3)))-go(Math.abs(t)))}(r,s))||(o.precision=i),Mo(o,s);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,go(e)-go(t))+1}(r,Math.max(Math.abs(t),Math.abs(e))))||(o.precision=i-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(i=function(t){return Math.max(0,-go(Math.abs(t)))}(r))||(o.precision=i-2*("%"===o.type))}return So(o)}(o[0],o[o.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var o,i,r=e(),s=0,l=r.length-1,a=r[s],c=r[l],u=10;for(c<a&&(i=a,a=c,c=i,i=s,s=l,l=i);u-- >0;){if((i=io(a,c,n))===o)return r[s]=a,r[l]=c,e(r);if(i>0)a=Math.floor(a/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;a=Math.ceil(a*i)/i,c=Math.floor(c*i)/i}o=i}return t},t}(t)}function No(t){return Math.log(t)}function zo(t){return Math.exp(t)}function Io(t){return-Math.log(-t)}function Po(t){return-Math.exp(-t)}function Ro(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Lo(t){return(e,n)=>-t(-e,n)}function Fo(){const t=function(t){const e=t(No,zo),n=e.domain;let o,i,r=10;function s(){return o=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(r),i=function(t){return 10===t?Ro:t===Math.E?Math.exp:e=>Math.pow(t,e)}(r),n()[0]<0?(o=Lo(o),i=Lo(i),t(Io,Po)):t(No,zo),e}return e.base=function(t){return arguments.length?(r=+t,s()):r},e.domain=function(t){return arguments.length?(n(t),s()):n()},e.ticks=t=>{const e=n();let s=e[0],l=e[e.length-1];const a=l<s;a&&([s,l]=[l,s]);let c,u,d=o(s),h=o(l);const p=null==t?10:+t;let f=[];if(!(r%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<r;++c)if(u=d<0?c/i(-d):c*i(d),!(u<s)){if(u>l)break;f.push(u)}}else for(;d<=h;++d)for(c=r-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<s)){if(u>l)break;f.push(u)}2*f.length<p&&(f=oo(s,l,p))}else f=oo(d,h,Math.min(h-d,p)).map(i);return a?f.reverse():f},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===r?"s":","),"function"!=typeof n&&(r%1||null!=(n=yo(n)).precision||(n.trim=!0),n=So(n)),t===1/0)return n;const s=Math.max(1,r*t/e.ticks().length);return t=>{let e=t/i(Math.round(o(t)));return e*r<r-.5&&(e*=r),e<=s?n(t):""}},e.nice=()=>n(function(t,e){var n,o=0,i=(t=t.slice()).length-1,r=t[o],s=t[i];return s<r&&(n=o,o=i,i=n,n=r,r=s,s=n),t[o]=e.floor(r),t[i]=e.ceil(s),t}(n(),{floor:t=>i(Math.floor(o(t))),ceil:t=>i(Math.ceil(o(t)))})),e}(fo()).domain([1,10]);return t.copy=()=>po(t,Fo()).base(t.base()),ro.apply(t,arguments),t}ko=function(t){var e,n,o=void 0===t.grouping||void 0===t.thousands?Co:(e=To.call(t.grouping,Number),n=t.thousands+"",function(t,o){for(var i=t.length,r=[],s=0,l=e[0],a=0;i>0&&l>0&&(a+l+1>o&&(l=Math.max(1,o-a)),r.push(t.substring(i-=l,i+l)),!((a+=l+1)>o));)l=e[s=(s+1)%e.length];return r.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?Co:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(To.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=yo(t)).fill,n=t.align,d=t.sign,h=t.symbol,p=t.zero,f=t.width,m=t.comma,g=t.precision,v=t.trim,b=t.type;"n"===b?(m=!0,b="g"):wo[b]||(void 0===g&&(g=12),v=!0,b="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var y="$"===h?i:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",A="$"===h?r:/[%p]/.test(b)?a:"",x=wo[b],w=/[defgprs%]/.test(b);function C(t){var i,r,a,h=y,C=A;if("c"===b)C=x(t)+C,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,o=1,i=-1;o<n;++o)switch(t[o]){case".":i=e=o;break;case"0":0===i&&(i=o),e=o;break;default:if(!+t[o])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==d&&(k=!1),h=(k?"("===d?d:c:"-"===d||"("===d?"":d)+h,C=("s"===b?_o[8+vo/3]:"")+C+(k&&"("===d?")":""),w)for(i=-1,r=t.length;++i<r;)if(48>(a=t.charCodeAt(i))||a>57){C=(46===a?s+t.slice(i+1):t.slice(i))+C,t=t.slice(0,i);break}}m&&!p&&(t=o(t,1/0));var S=h.length+t.length+C.length,M=S<f?new Array(f-S+1).join(e):"";switch(m&&p&&(t=o(M+t,M.length?f-C.length:1/0),M=""),n){case"<":t=h+t+C+M;break;case"=":t=h+M+t+C;break;case"^":t=M.slice(0,S=M.length>>1)+h+t+C+M.slice(S);break;default:t=M+h+t+C}return l(t)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),C.toString=function(){return t+""},C}return{format:d,formatPrefix:function(t,e){var n=d(((t=yo(t)).type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(go(e)/3))),i=Math.pow(10,-o),r=_o[8+o/3];return function(t){return n(i*t)+r}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),So=ko.format,Mo=ko.formatPrefix;class $o{constructor(t=[0,100]){this._baseDomain=t,this.scale=Eo().domain(t).range([0,100]),this.rescale=this.rescale.bind(this),this.ticks=this.ticks.bind(this)}rescale(t,e="y"){const n=this.scale.copy().domain(this.baseDomain()),o=n.range().map("x"===e?t.invertX:t.invertY,t);if(o[0]===o[1])return this;const i=o.map(n.invert,n);return this.scale.domain(i),this}ticks(){return Bn.createTicks(this.scale)}baseDomain(t){return t?(this._baseDomain=t,this.scale.domain(t),this):this._baseDomain}range(t){return t?(this.scale.range(t),this):this.scale.range()}get dataScale(){return this.scale}}const Bo={forward:t=>t,reverse:t=>t,forwardInterpolatedDomain:t=>t,reverseInterpolatedDomain:t=>t},Oo={domain:[0,1e3],showTitles:!0,showLegend:!0,autoResize:!0,horizontal:!1,transitionDuration:0};class Do{constructor(t={}){this._deferredUpdate=null,this.options=Object.assign(Object.assign({},Oo),t),this.tracks=[],this.container=null,this.zoom=null,this.width=0,this.height=0,this.legendRows=0,this.debounce=Hn(),this.legends={},this._scaleHandler=this.options.scaleHandler||new $o,this._scaleHandler.baseDomain(this.options.domain),this.init=this.init.bind(this),this.onMount=this.onMount.bind(this),this.onUnmount=this.onUnmount.bind(this),this.rescale=this.rescale.bind(this),this.refresh=this.refresh.bind(this),this.zoomTo=this.zoomTo.bind(this),this.zoomed=this.zoomed.bind(this),this.adjustZoomTransform=this.adjustZoomTransform.bind(this),this.addTrack=this.addTrack.bind(this),this.setTracks=this.setTracks.bind(this),this.removeTrack=this.removeTrack.bind(this),this.adjustToSize=this.adjustToSize.bind(this),this.updateTracks=this.updateTracks.bind(this),this.postUpdateTracks=this.postUpdateTracks.bind(this),this.updateLegendRows=this.updateLegendRows.bind(this),this.updateLegend=this.updateLegend.bind(this),this.processLegendConfig=this.processLegendConfig.bind(this),this.setup=this.setup.bind(this),this._trackExit=this._trackExit.bind(this),this._trackEnter=this._trackEnter.bind(this),this._trackUpdate=this._trackUpdate.bind(this)}static basic(t=!0){return new Do({showTitles:t,showLegend:!1})}init(t){return this.onMount(t),this}onMount(t){this.setup(t),this.zoom=$n().on("zoom",this.zoomed),this.adjustToSize(),this._initialized=!0}onUnmount(){this._observer&&this._observer.disconnect()}setTracks(...t){return this.tracks=1===t.length&&Array.isArray(t[0])?t[0]:t,this.tracks.sort(((t,e)=>t.order-e.order)),this.options.showLegend&&this.updateLegendRows(),this._initialized&&this.updateTracks(),this}addTrack(t){return this.tracks.push(t),this.tracks.sort(((t,e)=>t.order-e.order)),this.options.showLegend&&t.options.legendConfig&&t.options.legendConfig.getLegendRows(t)>this.legendRows&&this.updateLegendRows(),this._initialized&&this.updateTracks(),this}removeTrack(t){const e=this.tracks.findIndex((e=>e.id===t.id));return e>=0&&(this.options.showLegend&&this.legends[t.id]&&delete this.legends[t.id],this.tracks.splice(e,1),this.options.showLegend&&t.options.legendConfig&&t.options.legendConfig.getLegendRows(t)>=this.legendRows&&this.updateLegendRows(),this._initialized&&this.updateTracks()),this}adjustToSize(t=!1){const{container:e,width:n,height:o,options:{showLegend:i,showTitles:r},innerBounds:s,_trackHeight:l}=this,{width:a,height:c}=e.node().getBoundingClientRect();if(this.width=a,this.height=c,!t&&n===this.width&&o===this.height)return;const u=this.innerBounds;this._uiScale=Math.max(Math.min(1,this.width/800),.7),this._titleHeight=r?18*this._uiScale:0,this._titleFontSize=r?.7*this._titleHeight:0,this._legendHeight=i?25*this.legendRows*this._uiScale:0,this._trackHeight=u.length-this._titleHeight-this._legendHeight,this._trackHeight<=0||u.length<=0||(this._trackHeight!==l&&(this.scale.range([0,this._trackHeight]),this.adjustZoomTransform(),this.rescale()),u.span!==s.span&&r&&this.adjustTrackTitles(),u.span===s.span&&this._trackHeight===l||this.updateTracks())}zoomTo(t,e=0,n){const[o,i]=t;if(o===i)return this;const r=_n(this.zoomHandler.node()),[s,l]=this.scaleHandler.baseDomain(),a=Math.abs(l-s)/Math.abs(i-o),c=this.options.horizontal?r.x:r.y,u=(this.scale(o)-c)/r.k*a;let d;d=this.options.horizontal?Tn.translate(-u,0).scale(a):Tn.translate(0,-u).scale(a);const h=this.zoomHandler;return h.interrupt(),Number.isFinite(e)&&e>0?this.zoom.transform(h.transition().duration(e).on("end",n),d):(this.zoom.transform(h,d),n&&n()),this}rescale(){const t=_n(this.zoomHandler.node()),e=this.scaleHandler.dataScale;this.tracks.forEach((n=>{n.isMounted&&requestAnimationFrame((()=>{n.onRescale({scale:e,transform:t})}))}))}refresh(){this.updateTracks(),this.rescale()}updateTracks(){const{container:t,tracks:e,_trackEnter:n,_trackUpdate:o,_trackExit:i}=this,r=t.selectAll(".track").data(e,(t=>t.id)),s=r.exit(),l=r.enter();return s.call(i),l.call(n),r.call(o),s.empty()&&l.empty()&&this.postUpdateTracks(),this}reset(){return this.container.selectAll(".track").remove(),this.setTracks([])}setup(t){this.options.autoResize&&(this._observer=new ResizeObserver((()=>{this.debounce((()=>this.adjustToSize()))})),requestAnimationFrame((()=>this._observer.observe(t))));const e=ht(t).classed("log-controller",!0).classed("horizontal",this.options.horizontal);this.container=e}processLegendConfig(t,e){const{legendConfig:n}=t.options;if(!n)return;let o=e;if("svg"===n.elementType){const t=ht(e).append("svg");Gn(t,{attrs:{width:"100%",height:"100%"},styles:{flex:"1 1 auto"}}),o=t.node()}n.onInit&&n.onInit(o,t,(()=>this.updateLegend(t.id))),this.legends[t.id]={elm:o,track:t}}zoomed(t){const{transform:e}=t;this.options.horizontal?this.scaleHandler.rescale(e,"x"):this.scaleHandler.rescale(e,"y"),this.rescale()}adjustZoomTransform(){const{zoomHandler:t,scaleHandler:e,options:{horizontal:n}}=this,[o,i]=e.baseDomain();if(o===i)return;const r=e.scale(o),s=e.scale(i),[l,a]=e.scale.range(),c=a-l;let u;u=n?Tn.translate(r,0).scale((s-r)/c):Tn.translate(0,r).scale((s-r)/c),this.zoom.transform(t,u)}updateLegendRows(){const{tracks:t}=this,e=t.reduce(((t,e)=>{if(e.options.legendConfig){const n=+e.options.legendConfig.getLegendRows(e);if(Number.isFinite(n))return Math.max(t,n)}return t}),0);e!==this.legendRows&&(this.legendRows=e,this.adjustToSize(!0))}updateLegend(t){if(this.options.showLegend&&this.legends&&this.legends[t]){const{legends:e,_uiScale:n,_legendHeight:o}=this,{elm:i,track:r}=e[t],{legendConfig:s,horizontal:l}=r.options,a=25*(s.getLegendRows(r)||0)*n,c=i.getBoundingClientRect(),u={left:0,height:a,top:o-a,width:l?c.height:c.width};s.onUpdate&&s.onUpdate(i,u,r)}}adjustTrackTitles(){const{horizontal:t}=this.options,e=t?t=>t.clientHeight<t.scrollHeight:t=>t.clientWidth<t.scrollWidth;this.container.selectAll(".track-title").text((t=>t.options.label||t.id)).each((function(t){e(this)&&t.options.abbr&&ht(this).text(t.options.abbr)}))}postUpdateTracks(){const{container:t,scaleHandler:e,updateLegend:n,options:{showLegend:o,showTitles:i}}=this;0!==t.node().clientWidth&&(this.tracks&&this.tracks.some((t=>{var e;return(null===(e=null==t?void 0:t.elm)||void 0===e?void 0:e.clientWidth)>0}))?(this.tracks.forEach((t=>{const i=t.elm;if(t.onUpdate){if(!t.isMounted)return;t.onUpdate({elm:i,scale:e.dataScale}),t.options.legendConfig&&o&&n(t.id)}})),i&&this.adjustTrackTitles()):(this._deferredUpdate&&clearTimeout(this._deferredUpdate),this._deferredUpdate=setTimeout((()=>{this._deferredUpdate=null,this.postUpdateTracks()}),200)))}_trackExit(t){t.each((t=>t.onUnmount&&t.onUnmount())),t.interrupt().transition().duration(this.options.transitionDuration).style("flex","0 0 0%").end().catch((()=>({}))).finally((()=>{t.remove(),this.postUpdateTracks()})),this.options.onTrackExit&&this.options.onTrackExit()}_trackEnter(t){const{scaleHandler:e,processLegendConfig:n,_titleHeight:o,_legendHeight:i,_titleFontSize:r,options:{showTitles:s,showLegend:l,horizontal:a}}=this,c=a?{maxSpan:"max-height",size:"width"}:{maxSpan:"max-width",size:"height"},u=t.append("div").attr("class","track");Yn(u,{flex:"0 0 0%",[c.maxSpan]:t=>t.options.maxWidth?`${t.options.maxWidth}px`:null}),s&&Gn(u.append("div"),{attrs:t=>({class:"track-title",title:t.options.label||t.id}),styles:{[c.size]:`${o}px`,"font-size":`${r}px`}}),l&&u.append("div").classed("track-legend",!0).classed("hidden",i<=0).style([c.size],`${i}px`),u.append("div").attr("class","track-container");const d=this;u.each((function(t){d.options.onTrackEnter&&d.options.onTrackEnter(this,t);const o={elm:this.querySelector(".track-container"),scale:e.dataScale,scaleHandler:e};t.options.horizontal=a,t.onMount&&t.onMount(o),t.options.legendConfig&&n(t,this.querySelector(".track-legend"))})),u.interrupt().transition().duration(this.options.transitionDuration).style("flex",(t=>`${t.options.width}`)).end().catch((()=>({}))).finally((()=>this.postUpdateTracks()))}_trackUpdate(t){const{_titleHeight:e,_legendHeight:n,_titleFontSize:o,options:{showTitles:i,showLegend:r,horizontal:s}}=this,l=s?"width":"height";t.interrupt().style("flex",(t=>`${t.options.width}`)),i&&Yn(t.select(".track-title"),{[l]:`${e}px`,"font-size":`${o}px`}),r&&t.select(".track-legend").style([l],`${n}px`).classed("hidden",n<=0)}get zoomHandler(){return this.container}get innerBounds(){return this.options.horizontal?{length:this.width,span:this.height}:{length:this.height,span:this.width}}get domain(){return this.scale.domain()}set domain(t){t&&Array.isArray(t)&&(this.scaleHandler.baseDomain(t),this.rescale())}get scaleHandler(){return this._scaleHandler}set scaleHandler(t){t.range(this._scaleHandler.range()),this._scaleHandler=t}get scale(){return this.scaleHandler.scale}}class jo extends Do{constructor(t={}){super(t)}static basic(t=!0){return new jo({showTitles:t,showLegend:!1})}onMount(t){super.setup(t);const e=function(t,e){const n={elm:e.append("div").classed("overlay",!0),elements:{},listeners:{},enabled:!0},o=n.elm.node();return n.elm.on("click",(function(e){if(!n.enabled)return;const[i,r]=pt(e,this);Object.keys(n.listeners).forEach((e=>{const s=n.elements[e]||null,l=n.listeners[e];l&&l.onClick&&requestAnimationFrame((()=>l.onClick({x:i,y:r,target:s,source:o,caller:t})))}))})),n.elm.on("mousemove",(function(e){if(!n.enabled)return;const[i,r]=pt(e,this);Object.keys(n.listeners).forEach((e=>{const s=n.elements[e]||null,l=n.listeners[e];l&&l.onMouseMove&&requestAnimationFrame((()=>l.onMouseMove({x:i,y:r,target:s,source:o,caller:t})))}))})),n.elm.on("mouseout",(()=>{n.enabled&&Object.keys(n.listeners).forEach((e=>{const i=n.elements[e]||null,r=n.listeners[e];r&&r.onMouseExit&&requestAnimationFrame((()=>r.onMouseExit({target:i,source:o,caller:t})))}))})),n.elm.on("resize",(e=>{const{top:i,left:r,width:s,height:l}=e.detail;Yn(n.elm,{width:`${s}px`,height:`${l}px`,left:`${r}px`,top:`${i}px`}),n.enabled&&Object.keys(n.listeners).forEach((e=>{const i=n.elements[e]||null,r=n.listeners[e];r&&r.onResize&&requestAnimationFrame((()=>r.onResize({target:i,source:o,caller:t,width:s,height:l})))}))})),n.elm.on("rescale",(e=>{if(!n.enabled)return;const{transform:i}=e.detail;Object.keys(n.listeners).forEach((e=>{const r=n.elements[e]||null,s=n.listeners[e];s&&s.onRescale&&requestAnimationFrame((()=>s.onRescale({target:r,source:o,caller:t,transform:i})))}))})),Object.assign(Object.assign({},n),{create:function(t,e){const o=n.elm.append("div").style("position","relative").style("pointer-events","none").node();return n.elements[t]=o,e&&(n.listeners[t]=e),o},register:function(t,e){n.listeners[t]=e},remove:function(t){const e=n.elements[t];e&&(ht(e).remove(),delete n.elements[t]),delete n.listeners[t]}})}(this,this.container);this.zoom=$n().scaleExtent([1,this.options.maxZoom||256]).on("zoom",this.zoomed),e.elm.call(this.zoom);const n=e.elm.on("wheel.zoom").bind(e.elm.node()),o=e.elm.on("dblclick.zoom").bind(e.elm.node());e.elm.on("dblclick.zoom",(t=>{this.overlay.enabled&&o(t)})),e.elm.on("wheel.zoom",(t=>{if(this.overlay.enabled)if(t.ctrlKey||t.shiftKey){const n=_n(e.elm.node()).k/3,o=t.wheelDeltaY/50/n;this.options.horizontal?this.zoom.translateBy(e.elm,o,0):this.zoom.translateBy(e.elm,0,o)}else n(t);t.preventDefault()})),this.overlay=e,this.adjustToSize(),this._initialized=!0}adjustToSize(t=!1){super.adjustToSize(t);const{container:e,innerBounds:n,width:o,height:i,overlay:r,_trackHeight:s,options:{horizontal:l,onResize:a}}=this,c={top:0,left:0,width:0,height:0};l?(c.left=n.length-s+1,c.width=s,c.height=n.span):(c.top=n.length-s+1,c.height=s,c.width=n.span),r.elm.dispatch("resize",{detail:c}),a&&a({elm:e.node(),width:o,height:i,trackHeight:s,source:this})}rescale(){super.rescale();const t=_n(this.zoomHandler.node());this.overlay.elm.dispatch("rescale",{detail:{transform:t}})}zoomed(t){const{transform:e,sourceEvent:n}=t;if(!this.overlay.enabled&&null!==n)return;const{k:o}=e,i=this.options.panExcess||[0,0];this.options.horizontal?(this.scaleHandler.rescale(e,"x"),this.zoom.translateExtent([[-Math.abs(i[0]/o),0],[this._trackHeight+Math.abs(i[1]/o),0]])):(this.scaleHandler.rescale(e,"y"),this.zoom.translateExtent([[0,-Math.abs(i[0]/o)],[0,this._trackHeight+Math.abs(i[1]/o)]])),this.rescale()}get zoomHandler(){return this.overlay.elm}}const Wo={width:3,maxWidth:null,horizontal:!1};class Vo{constructor(t,e={}){this.options=Object.assign(Object.assign({},Wo),e),this.id=void 0===t?Math.round(Math.random()*Date.now()):t,this.elm=null,this.order=0,this.loader=e.loader||null,this._isLoading=!1,this._data=null,this.transform={k:1,y:0,x:0},this.onMount=this.onMount.bind(this),this.onUnmount=this.onUnmount.bind(this),this.onRescale=this.onRescale.bind(this),this.onUpdate=this.onUpdate.bind(this),this.refresh=this.refresh.bind(this),this.loadData=this.loadData.bind(this),this.onError=this.onError.bind(this)}init(t,e){this.onMount({elm:t,scale:e}),this.onUpdate({elm:t,scale:e})}onMount(t){const{elm:e,scale:n}=t;this.elm=e,this.scale=n,this.options.onMount&&this.options.onMount(t,this),this._mounted=!0}onUnmount(t={}){this.options.onUnmount&&this.options.onUnmount(t,this),ht(this.elm).selectAll("*").remove()}onUpdate(t){this._mounted&&(this.scale=t.scale,this.options.onUpdate&&this.options.onUpdate(t,this))}onRescale(t){const{domain:e,scale:n,transform:o}=t;if(this._mounted){if(n)this.scale=n;else{if(!e)throw Error("Event is missing updated scale or domain!");this.scale.domain(e)}this.transform=o,this.options.onRescale&&this.options.onRescale(t,this)}}onError(t){this._mounted=!1,this.isLoading=!1,this.error=t,this.elm&&ht(this.elm).classed("error",!0).selectAll("*").remove(),this.options.onError&&this.options.onError(t,this)}onDataLoaded(t){this.isLoading&&(this.isLoading=!1)}loadData(t,e=!0){e&&(this.isLoading=!0);const n=t=>{this._data=t,this.isLoading&&(this.isLoading=!1),this.onDataLoaded&&this.onDataLoaded(t),this.legendUpdate&&this.legendUpdate()},o=t();o.then?o.then(n,this.onError):"object"==typeof o?n(o):this.onError("Invalid data")}clearData(){this._data=null,this.onDataLoaded(null)}refresh(){const{scale:t}=this;t&&this.onUpdate({elm:this.elm,scale:t})}get isLoading(){return this._isLoading}set isLoading(t){this._isLoading=!!t,this.loader&&ht(this.loader).classed("hidden",!this._isLoading),ht(this.elm).classed("hidden",this._isLoading),this.refresh()}get isMounted(){return this._mounted}get data(){return this._data}set data(t){"function"==typeof t?this.loadData(t,!1):(this._data=t,this.legendUpdate&&this.legendUpdate(),this.onDataLoaded&&this.onDataLoaded(t))}}class Ho extends Vo{onMount(t){super.onMount(t),this.plotGroup=ht(t.elm).append("svg").style("position","absolute")}onUpdate(t){super.onUpdate(t);const e=this.elm.getBoundingClientRect();Yn(this.plotGroup,{height:`${this.elm.clientHeight}px`,width:`${e.width}px`})}}class Uo extends Vo{onMount(t){super.onMount(t);const e=ht(t.elm).append("canvas").style("position","absolute");this.ctx=e.node().getContext("2d")}onUpdate(t){super.onUpdate(t);const{ctx:e,elm:n}=this,o=n.getBoundingClientRect();e&&Gn(ht(e.canvas),{styles:{width:`${o.width}px`,height:`${n.clientHeight}px`},attrs:{width:o.width,height:n.clientHeight}})}}class qo{constructor(t,e={}){this.id=t,this.options=Object.assign({defined:t=>null!==t,horizontal:!0},e),this.data=[],this.scale=e.scale&&"function"!=typeof e.domain?fi(e.scale,e.domain||[0,1]):null,this.setRange=this.setRange.bind(this),this.setData=this.setData.bind(this)}get offset(){return this.options.offset||0}setRange(t){return this.scale&&this.scale.range(t),this.range=t,this}setData(t,e,n){let o=t;if(this.options.dataAccessor&&"function"==typeof this.options.dataAccessor&&(o=this.options.dataAccessor(t,n)),this.options.filterToScale&&e){const t=this.options.filterOverlapFactor||.5;o=On.filterData(o,e.domain(),t)}return this.data=o,this}setOption(t,e){if(this.options||(this.options={}),this.options[t]=e,"domain"===t&&this.scale)this.scale.domain(e);else if("scale"===t&&this.scale){const t=this.scale.domain(),n=this.scale.range();this.scale=fi(e,t),this.scale.range(n.slice())}return this}setOptions(t){return Object.entries(t).forEach((t=>{this.setOption(t[0],t[1])})),this}updateDynamicScale(t,e){const{options:n,range:o}=this;if("function"==typeof n.domain){const o=n.domain(t);this.scale=fi(n.scale||e.scale,o)}o&&this.scale.range(o)}plot(t,e){}}var Yo=Math.PI,Go=2*Yo,Xo=Go-1e-6;function Ko(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Zo(){return new Ko}function Qo(t){return function(){return t}}function Jo(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ti(t){this._context=t}function ei(t){return new ti(t)}function ni(t){return t[0]}function oi(t){return t[1]}function ii(t,e){var n=Qo(!0),o=null,i=ei,r=null;function s(s){var l,a,c,u=(s=Jo(s)).length,d=!1;for(null==o&&(r=i(c=Zo())),l=0;l<=u;++l)!(l<u&&n(a=s[l],l,s))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+t(a,l,s),+e(a,l,s));if(c)return r=null,c+""||null}return t="function"==typeof t?t:void 0===t?ni:Qo(t),e="function"==typeof e?e:void 0===e?oi:Qo(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:Qo(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:Qo(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:Qo(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=o&&(r=i(o)),s):i},s.context=function(t){return arguments.length?(null==t?o=r=null:r=i(o=t),s):o},s}function ri(t,e,n){var o=null,i=Qo(!0),r=null,s=ei,l=null;function a(a){var c,u,d,h,p,f=(a=Jo(a)).length,m=!1,g=new Array(f),v=new Array(f);for(null==r&&(l=s(p=Zo())),c=0;c<=f;++c){if(!(c<f&&i(h=a[c],c,a))===m)if(m=!m)u=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),d=c-1;d>=u;--d)l.point(g[d],v[d]);l.lineEnd(),l.areaEnd()}m&&(g[c]=+t(h,c,a),v[c]=+e(h,c,a),l.point(o?+o(h,c,a):g[c],n?+n(h,c,a):v[c]))}if(p)return l=null,p+""||null}function c(){return ii().defined(i).curve(s).context(r)}return t="function"==typeof t?t:void 0===t?ni:Qo(+t),e="function"==typeof e?e:Qo(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?oi:Qo(+n),a.x=function(e){return arguments.length?(t="function"==typeof e?e:Qo(+e),o=null,a):t},a.x0=function(e){return arguments.length?(t="function"==typeof e?e:Qo(+e),a):t},a.x1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:Qo(+t),a):o},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Qo(+t),n=null,a):e},a.y0=function(t){return arguments.length?(e="function"==typeof t?t:Qo(+t),a):e},a.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Qo(+t),a):n},a.lineX0=a.lineY0=function(){return c().x(t).y(e)},a.lineY1=function(){return c().x(t).y(n)},a.lineX1=function(){return c().x(o).y(e)},a.defined=function(t){return arguments.length?(i="function"==typeof t?t:Qo(!!t),a):i},a.curve=function(t){return arguments.length?(s=t,null!=r&&(l=s(r)),a):s},a.context=function(t){return arguments.length?(null==t?r=l=null:l=s(r=t),a):r},a}Ko.prototype=Zo.prototype={constructor:Ko,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,o){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+o)},bezierCurveTo:function(t,e,n,o,i,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +o+","+(this._x1=+i)+","+(this._y1=+r)},arcTo:function(t,e,n,o,i){t=+t,e=+e,n=+n,o=+o,i=+i;var r=this._x1,s=this._y1,l=n-t,a=o-e,c=r-t,u=s-e,d=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>1e-6)if(Math.abs(u*l-a*c)>1e-6&&i){var h=n-r,p=o-s,f=l*l+a*a,m=h*h+p*p,g=Math.sqrt(f),v=Math.sqrt(d),b=i*Math.tan((Yo-Math.acos((f+d-m)/(2*g*v)))/2),y=b/v,A=b/g;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*c)+","+(e+y*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>c*p)+","+(this._x1=t+A*l)+","+(this._y1=e+A*a)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,o,i,r){t=+t,e=+e,r=!!r;var s=(n=+n)*Math.cos(o),l=n*Math.sin(o),a=t+s,c=e+l,u=1^r,d=r?o-i:i-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+a+","+c:(Math.abs(this._x1-a)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+a+","+c),n&&(d<0&&(d=d%Go+Go),d>Xo?this._+="A"+n+","+n+",0,1,"+u+","+(t-s)+","+(e-l)+"A"+n+","+n+",0,1,"+u+","+(this._x1=a)+","+(this._y1=c):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=Yo)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,o){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +o+"h"+-n+"Z"},toString:function(){return this._}},ti.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class si extends qo{plot(t,e){const{scale:n,data:o,options:i}=this;if(!n||i.hidden)return;t.save();const r=ii().defined((t=>i.defined(t[1],t[0]))).context(t);if(i.horizontal?r.y((t=>n(t[1]))).x((t=>e(t[0]))):r.x((t=>n(t[1]))).y((t=>e(t[0]))),t.beginPath(),r(o),t.lineWidth=i.width,t.strokeStyle=i.color,i.dash&&Array.isArray(i.dash)?(t.setLineDash(i.dash),t.stroke(),t.setLineDash([])):t.stroke(),i.allowWrapping&&this.plotWrapped(t,r),i.showIsolatedPoints){const r=2*Math.PI;t.fillStyle=i.color,o.filter(((t,e)=>{var n,r;if(!i.defined(t[1],t[0]))return!1;const s=null===(n=o[e-1])||void 0===n?void 0:n[1],l=null===(r=o[e+1])||void 0===r?void 0:r[1];return 0===e?!i.defined(l):e===o.length-1?!i.defined(s):!i.defined(s)&&!i.defined(l)})).forEach((o=>{t.beginPath(),i.horizontal?t.arc(e(o[0]),n(o[1]),1,0,r):t.arc(n(o[1]),e(o[0]),1,0,r),t.fill()}))}t.restore()}plotWrapped(t,e){const{scale:n,data:o,options:i}=this,r="log"===i.scale;if(!(null==o?void 0:o.length)||i.horizontal)return;t.setLineDash(i.dashWrapped||[2,3]);const s=(n,o)=>{t.beginPath(),e(n.map((([t,e])=>r?[t,10**(Math.log10(e)+o)]:[t,e+o]))),t.stroke()},[l,a]=r?n.domain().map(Math.log10):n.domain(),c=a-l;let u,d,h=[];for(let t=0;t<o.length;t++){const e=o[t];if(null===e[1]||void 0===e[1]){u=null;continue}const n=r?Math.log10(e[1]):e[1];n>a||n<l?(d=n>a?-c:c,0===h.length&&u&&h.push(u),h.push(e)):h.length>0&&(h.push(e),s(h,d),h=[]),u=e}h.length>0&&s(h,d),t.setLineDash([])}}class li extends qo{plot(t,e){const{scale:n,data:o,options:i}=this;if(!n||i.hidden)return;const r=void 0===i.useMinAsBase||i.useMinAsBase,[s,l]=n.domain(),a=Math.min(s,l),c=Math.max(s,l),u=n(a),d=n(c),h=r?u:d;let p=0;o.reduce(((t,e)=>(t.length>0&&null===e[1]?t[++p]=[]:t[p].push(e),t)),[[]]).forEach((o=>{t.save();const s=ri().context(t);if(i.horizontal?s.y1((t=>n(t[1]))).y0(h).x((t=>e(t[0]))):s.x1((t=>n(t[1]))).x0(h).y((t=>e(t[0]))),t.globalAlpha=i.fillOpacity||1,i.inverseColor){const s=r?d:u,l=ri().context(t);i.horizontal?l.y1((t=>n(t[1]))).y0(s).x((t=>e(t[0]))):l.x1((t=>n(t[1]))).x0(s).y((t=>e(t[0]))),t.beginPath(),l(o),t.fillStyle=i.inverseColor,t.fill()}t.beginPath(),s(o),t.lineWidth=i.width,t.fillStyle=i.fill||i.color,t.fill(),t.globalAlpha=1,t.strokeStyle=i.color,t.stroke(),t.restore()}))}}class ai extends qo{plot(t,e){const{scale:n,data:o,options:i}=this;if(!n||i.hidden)return;const r=i.radius||Math.min(5,.04*Bn.getRangeSpan(n));t.save(),t.fillStyle=i.color;const s=2*Math.PI;null==o||o.forEach((o=>{i.defined(o[1],o[0])&&(t.beginPath(),i.horizontal?t.arc(e(o[0]),n(o[1]),r,0,s):t.arc(n(o[1]),e(o[0]),r,0,s),t.fill())})),t.restore()}}class ci extends qo{constructor(t,e={}){super(t,Object.assign({serie1:{color:"red",fill:"red"},serie2:{color:"darkblue",fill:"darkblue"}},e)),this.scale1=null,this.scale2=null,this.setRange=this.setRange.bind(this);const{serie1:n,serie2:o}=e;e.scale&&e.domain&&"function"!=typeof e.domain&&(this.scale=fi(e.scale,e.domain||[0,1]),this.scale1=this.scale,this.scale2=this.scale),(null==n?void 0:n.scale)&&"function"!=typeof n.domain&&(this.scale1=fi(n.scale,n.domain||[0,1])),(null==o?void 0:o.scale)&&"function"!=typeof o.domain&&(this.scale2=fi(o.scale,o.domain||[0,1]))}setData(t,e,n){let o=t;if(this.options.dataAccessor&&"function"==typeof this.options.dataAccessor&&(o=this.options.dataAccessor(t,n)),this.options.filterToScale&&e){const t=this.options.filterOverlapFactor||.5;o=o.map((n=>On.filterData(n,e.domain(),t)))}return this.data=o,this}setRange(t){return this.scale1&&this.scale1.range(t),this.scale2&&this.scale2.range(t),this.range=t,this}setOption(t,e){this.options||(this.options={});let n=this.options;const o=t.split(".");if(2===o.length&&o[0].match(/serie(1|2)/)){if(n[o[0]]||(n[o[0]]={}),n=n[o[0]],"domain"===o[1])"serie2"===o[0]&&this.scale2?this.scale2.domain(e):"serie1"===o[0]&&this.scale1&&this.scale1.domain(e);else if("scale"===o[1])if("serie2"===o[0]&&this.scale2){const t=this.scale2.range();this.scale2=fi(e,this.scale2.domain()).range(t)}else if("serie1"===o[0]&&this.scale1){const t=this.scale1.range();this.scale1=fi(e,this.scale1.domain()).range(t)}t=o[1]}return n[t]=e,this}updateDynamicScale(t,e){const{options:n,range:o}=this;if("function"==typeof n.domain){const o=n.domain(t);this.scale=fi(n.scale||e.scale,o),this.scale1=this.scale,this.scale2=this.scale}if("function"==typeof n.serie1.domain){const o=n.serie1.domain(t);this.scale1=fi(n.scale||e.scale,o)}if("function"==typeof n.serie2.domain){const o=n.serie2.domain(t);this.scale2=fi(n.scale||e.scale,o)}o&&(this.scale1.range(o),this.scale2.range(o))}plot(t,e){const{scale1:n,scale2:o,data:i,options:{serie1:r,serie2:s,fillOpacity:l,horizontal:a,defined:c,hidden:u}}=this;if(2!==i.length||!n||!o||u)return;const d=Math.max(i[0].length,i[1].length),h=[[],[]];let p=1/0,f=-1/0;for(let t=0;t<d;t++){const r=i[0][t],s=i[1][t];r&&(h[0][t]=c(r[1],r[0])?[e(r[0]),n(r[1])]:[e(r[0]),r[1]],h[0][t][1]<p&&(p=h[0][t][1]),h[0][t][1]>f&&(f=h[0][t][1])),s&&(h[1][t]=c(s[1],s[0])?[e(s[0]),o(s[1])]:[e(s[0]),s[1]],h[1][t][1]<p&&(p=h[1][t][1]),h[1][t][1]>f&&(f=h[1][t][1]))}const m=On.mergeDataSeries(h[0]||[],h[1]||[]),g=ri().context(t),v=ri().context(t);a?(g.defined((t=>c(t[1],t[0])&&c(t[2],t[0]))).y0(f).y1((t=>t[1])).x((t=>t[0])),v.defined((t=>c(t[1],t[0])&&c(t[2],t[0]))).y0(p).y1((t=>t[2])).x((t=>t[0]))):(g.defined((t=>c(t[1],t[0])&&c(t[2],t[0]))).x0(p).x1((t=>t[1])).y((t=>t[0])),v.defined((t=>c(t[1],t[0])&&c(t[2],t[0]))).x0(f).x1((t=>t[2])).y((t=>t[0]))),t.save(),t.globalAlpha=l||.5,t.beginPath(),v(m),t.clip(),t.beginPath(),g(m),t.fillStyle=r.fill,t.fill(),t.restore(),a?(g.y0(p),v.y0(f)):(g.x0(f),v.x0(p)),t.save(),t.globalAlpha=l||.5,t.beginPath(),g(m),t.clip(),t.beginPath(),v(m),t.fillStyle=s.fill,t.fill(),t.restore();const b=ii().defined((t=>c(t[1],t[0]))).context(t);a?b.y((t=>t[1])).x((t=>t[0])):b.x((t=>t[1])).y((t=>t[0])),t.save(),t.globalAlpha=1,t.beginPath(),b(h[0]),t.lineWidth=r.lineWidth||1,t.strokeStyle=r.color||"red",t.stroke();const y=ii().defined((t=>c(t[1],t[0]))).context(t);a?y.y((t=>t[1])).x((t=>t[0])):y.x((t=>t[1])).y((t=>t[0])),t.beginPath(),y(h[1]),t.lineWidth=s.lineWidth||1,t.strokeStyle=s.color||"blue",t.stroke(),t.restore()}}class ui{constructor(t){this._ctx=t,this._line=void 0,this._x=NaN,this._y=NaN}areaStart(){this._line=!0}areaEnd(){this._line=!1}lineStart(){this._x=NaN,this._y=NaN}lineEnd(){this._line&&this._ctx.closePath()}point(t,e){Number.isNaN(t)||Number.isNaN(e)?Number.isNaN(t)||Number.isNaN(this._x)||Number.isNaN(this._y)||this._ctx.lineTo(t,this._y):Number.isNaN(this._y)?this._ctx.moveTo(t,e):(e!==this._y&&this._ctx.lineTo(t,this._y),this._ctx.lineTo(t,e)),this._x=t,this._y=e}}function di(t){return new ui(t)}class hi extends qo{plot(t,e){const{scale:n,data:o,options:i}=this;if(!n||i.hidden)return;t.save();const r=ii().defined((()=>!0)).curve(di).context(t);i.horizontal?r.y((t=>null===t[1]?NaN:n(t[1]))).x((t=>null===t[0]?NaN:e(t[0]))):r.x((t=>null==t[1]?NaN:n(t[1]))).y((t=>null==t[0]?NaN:e(t[0]))),t.beginPath(),r(o),t.lineWidth=i.width,t.lineCap="square",t.strokeStyle=i.color,i.dash&&Array.isArray(i.dash)?(t.setLineDash(i.dash),t.stroke(),t.setLineDash([])):t.stroke(),t.restore()}}function pi(t){return t?(t&&t.data&&(t.dataAccessor=t.data,delete t.data),t):{}}function fi(t,e){if("linear"===t)return Eo().domain(e);if("log"===t)return Fo().domain(e);throw Error("Invalid input!")}function mi(t){return(e,n)=>{const o=Object.assign({legendRows:1,filterToScale:!0,dataAccessor:t=>t},pi(e.options)),i=new t(e.id,o);return o.scale||(i.scale=n),i}}const gi={line:mi(si),area:mi(li),dot:mi(ai),differential:function(t,e){const n=Object.assign({legendRows:2,filterToScale:!0},pi(t.options)),o=new ci(t.id,n);return n.serie1.scale||(o.scale1=e),n.serie2.scale||(o.scale2=e),o},linestep:mi(hi)},vi={scale:"linear",domain:[0,100],togglePlotFromLegend:!0,forceDataUpdateOnToggle:!1,plotFactory:gi},bi=(t,e)=>{const n=e.node().getBBox();Gn(t,{styles:{fill:"white"},attrs:{x:n.x-2,y:n.y-2,width:n.width+4,height:n.height+4}})};function yi(t,e,n,o,i,r,{addLabelBg:s,largeFontEnabled:l}={}){const{height:a,width:c,top:u,left:d}=e,h=u+.5*a,p=.35*a,f=d+c/2,[m,g]=i,v=l&&c>90,b=.85*p,y=h+b,A=v?1.1*p:b,x=v?h+A/2-.05*a:h+A,w=`translate(${f},${u+p})`;let C;s&&(C=t.append("rect").classed("label-bg",!0).attr("fill","white"));const k=t.append("text").text(n);if(Gn(k,{styles:{"text-anchor":"middle",fill:r},attrs:{class:"legend-label","font-size":`${p}px`,transform:w}}),s){const t=k.node().getBBox();qn(C,{x:f+t.x-1,y:u+1,width:t.width+2,height:.5*a-2})}if(o){const e=`translate(${f},${y})`;Gn(t.append("text").text(o),{styles:{"text-anchor":"middle",fill:r},attrs:{class:"legend-unit","font-size":`${b}px`,transform:e}})}let S,M;v&&(S=t.append("rect"),M=t.append("rect"));const T=Math.abs(m)>1e3&&m%1e3==0?`${Math.round(m/1e3)}k`:`${m}`,_=Math.abs(g)>1e3&&g%1e3==0?`${Math.round(g/1e3)}k`:`${g}`,E=t.append("text").text(T);Gn(E,{styles:{"text-anchor":"start",fill:r},attrs:{class:"legend-domain","font-size":`${A}px`,x:d+2,y:x}});const N=t.append("text").text(_);Gn(N,{styles:{"text-anchor":"end",fill:r},attrs:{class:"legend-domain","font-size":`${A}px`,x:d+c-2,y:x}}),v&&(bi(S,E),bi(M,N))}function Ai(t,e,n,o,i,r,s={}){const l=e.left+2,a=Math.max(l,e.left+e.width-2),c=e.top+.5*e.height,u=.1*e.height;Gn(t.append("rect"),{attrs:{width:Math.max(0,e.width-4),height:e.height-4,x:2,y:2,visibility:"hidden"}}),Gn(t.append("line"),{attrs:{x1:l,x2:a,y1:c,y2:c},styles:{"stroke-width":u,stroke:r,fill:r}}),yi(t,e,n,o,i,r,s)}function xi(t){return t.plots.reduce(((t,e)=>t+e.options.legendRows||0),0)}function wi(t,e,n){const{horizontal:o}=n.options;let i=e.top;const r=e.width,s=xi(n),l=e.height/s;t.each((function(t){const s=ht(this);s.selectAll("*").remove();const a=t.offset*r;n.options.togglePlotFromLegend&&(s.style("cursor","pointer"),s.append("title").text("Toggle plot on/off"),s.on("click",(()=>{const e=!t.options.hidden;s.attr("opacity",e?.25:1),t.setOption("hidden",e),t.options.forceDataUpdateOnToggle&&n.prepareData(),n.plot()})));const c={top:0,left:a,width:r-a,height:(t.options.legendRows||0)*l};o?s.attr("transform",`translate(${i},${e.width})rotate(-90)`):s.attr("transform",`translate(0,${i})`),i+=c.height;const u=n.data&&t.options.legendInfo?t.options.legendInfo(n.data):{};t.options.renderLegend?t.options.renderLegend(s,c,u,t):t instanceof si?function(t,e,n,o){var i;Ai(t,e,n.label,n.unit,(null===(i=o.scale)||void 0===i?void 0:i.domain())||[0,1],o.options.color,{largeFontEnabled:!0})}(s,c,u,t):t instanceof li?function(t,e,n,o){const{top:i,left:r,width:s,height:l}=e,a=l/2,c=i,[u,d]=o.scale.domain(),h=u<=d,p=Math.min(o.options.fillOpacity+.25,1),f=r+s/2,m=void 0===o.options.useMinAsBase||o.options.useMinAsBase;if(o.options.inverseColor){const e=Math.max(0,s-2),n=m&&h?o.options.color:o.options.inverseColor,i=m&&h?o.options.inverseColor:o.options.color;qn(t.append("rect"),{x:r+2,y:c,width:e/2,height:a,fill:n,"fill-opacity":p}),qn(t.append("rect"),{x:f,y:c,width:e/2,height:a,fill:i,"fill-opacity":p})}else qn(t.append("rect"),{x:r+2,y:c,width:Math.max(0,s-4),height:a,fill:o.options.color,"fill-opacity":p});Ai(t,e,n.label,n.unit,o.scale.domain(),o.options.color,{addLabelBg:!0})}(s,c,u,t):t instanceof ai?function(t,e,n,o){const{top:i,left:r,width:s}=e,l=Math.min(5,.04*(r+s)),a=r+4+l,c=Math.max(a,r+s-4-l),u=i+l+2,{scale:d,options:h}=o,{label:p,unit:f}=n;Gn(t.append("circle"),{attrs:{cx:a,cy:u,r:l},styles:{fill:h.color}}),Gn(t.append("circle"),{attrs:{cx:c,cy:u,r:l},styles:{fill:h.color}}),yi(t,e,p,f,d.domain(),h.color)}(s,c,u,t):t instanceof ci?function(t,e,n,o){var i,r;const{top:s,left:l,width:a,height:c}=e,{legendRows:u,serie1:d,serie2:h}=o.options,{serie1:p,serie2:f}=n,m=2===u&&null!=f,g=(null===(i=o.scale1)||void 0===i?void 0:i.domain())||[0,1],v=(null===(r=o.scale2)||void 0===r?void 0:r.domain())||[0,1],b=Math.min(o.options.fillOpacity+.25,1),y=l+a/2,A=s,x=m?s+.5*c:s+c,w=s+c,C=m?c/4:c/2,k=Math.max(0,a/2-2),S=A;p&&p.show&&(qn(t.append("rect"),{x:l+2,y:S,width:k,height:C,fill:d.fill,"fill-opacity":b}),qn(t.append("rect"),{x:y,y:S,width:k,height:C,fill:h.fill,"fill-opacity":b}),Ai(t,Object.assign(Object.assign({},e),{height:x-A}),p.label,p.unit,g,d.color,{addLabelBg:!0})),f&&f.show&&Ai(t,Object.assign(Object.assign({},e),{top:x,height:w-x}),f.label,f.unit,v,h.color,{largeFontEnabled:!0})}(s,c,u,t):t instanceof hi?function(t,e,n,o){Ai(t,e,n.label,n.unit,o.scale.domain(),o.options.color)}(s,c,u,t):function(t,e,n,o){var i;Ai(t,e,n.label,n.unit,(null===(i=o.scale)||void 0===i?void 0:i.domain())||[0,1],o.options.color,{largeFontEnabled:!0})}(s,c,u,t)}))}var Ci=jn.basicLegendSvgConfig(xi,(function(t,e,n){const o=ht(t).select(".svg-legend").selectAll(".legend-row").data(n.plots).call(wi,e,n);o.enter().append("g").classed("legend-row",!0).call(wi,e,n),o.exit().remove()}));class ki extends Ho{constructor(t,e={}){super(t,Object.assign({mode:0},e)),this.xscale=Eo().domain([0,10]),this.viewMode=void 0===e.mode?0:e.mode,this.createMeasures=this.createMeasures.bind(this),this.createTicks=this.createTicks.bind(this),this.createRuler=this.createRuler.bind(this)}clearData(){this.scaleHandler=null}refresh(){this.onUpdate({elm:this.elm,scale:this.scale})}onMount(t){super.onMount(t),this.scaleHandler=t.scaleHandler,this.createTicks()}onRescale(t){super.onRescale(t),this.createTicks(),this.legendUpdate&&this.legendUpdate(),this.plot()}onUpdate(t){super.onUpdate(t);const{elm:e}=this;this.xscale.range([0,this.options.horizontal?e.clientHeight:e.clientWidth]),this.plot()}createTicks(){const{scaleHandler:t}=this;this.ticks=t?Bn.createTicks(t.scale).major:[]}createRuler(t){const{xscale:e,scaleHandler:n,labelBounds:o,ticks:i,options:{horizontal:r}}=this,[,s]=e.domain(),l=i.map((t=>({y:n.scale(t),v:t})));t.selectAll("g.major-tick").data(l).call(r?Mi:Si,e,o,s)}createMeasures(t){const{xscale:e,scaleHandler:n,labelBounds:o,viewMode:i,options:{horizontal:r}}=this,[,s]=e.domain(),l=(null==n?void 0:n.ticks(i).major)||[];let a=[];a=1===i?l.map((t=>({y:n.scale(n.interpolator.forward(t)),v:t}))):l.map((t=>({y:n.dataScale(t),v:t}))),t.selectAll("g.major-tick").data(a).call(r?Mi:Si,e,o,s)}plot(){const{createRuler:t,createMeasures:e,plotGroup:n,isMaster:o,xscale:i,options:{horizontal:r}}=this;if(!n)return;this.labelBounds=r?_i(i):Ti(i);const s=o?"master-scale":"slave-scale";n.attr("class",`scale-track ${s}`),o?t(n):e(n)}get isMaster(){const{viewMode:t,scaleHandler:e}=this;return!!e&&(void 0===e.mode||t===e.mode)}get extent(){var t,e,n;const{viewMode:o,scaleHandler:i}=this;return(null==i?void 0:i.mode)===o?null===(t=null==i?void 0:i.scale)||void 0===t?void 0:t.domain():1===o?null===(e=null==i?void 0:i.interpolator)||void 0===e?void 0:e.reverseInterpolatedDomain(i.scale.domain()):null===(n=null==i?void 0:i.interpolator)||void 0===n?void 0:n.forwardInterpolatedDomain(i.scale.domain())}}function Si(t,e,n,o){let i,r,s;n.rotateText?(i=n.offsetX+(n.size-1.5),r=-n.offsetY-n.length/2,s=`translate(${i},${r})rotate(-90)`):(i=n.offsetX+n.length/2,r=-n.offsetY-n.size/6,s=`translate(${i},${r})`),t.attr("transform",(t=>`translate(0,${t.y})`)),t.select("line").attr("x2",e(o)),qn(t.select("rect"),{x:n.offsetX,y:n.offsetY,width:n.rotateText?n.size:n.length,height:n.rotateText?n.length:n.size}),t.select("text").text((t=>t.v)).attr("font-size",`${n.size}px`).attr("transform",s);const l=t.enter().append("g").classed("major-tick",!0).attr("transform",(t=>`translate(0,${t.y})`));qn(l.append("line"),{x1:0,x2:e(o),class:"major-tick-line"}),qn(l.append("rect"),{x:n.offsetX,y:n.offsetY,class:"label-bg",width:n.rotateText?n.size:n.length,height:n.rotateText?n.length:n.size}),qn(l.append("text").text((t=>t.v)).classed("label",!0).style("text-anchor","middle"),{"font-size":`${n.size}px`,"stroke-width":.5,"font-family":"Verdana Tahoma Arial",transform:s}),t.exit().remove()}function Mi(t,e,n,o){const i=`translate(${-(n.offsetX+n.size/2)},${n.offsetY+n.length/2+1.5})`;t.attr("transform",(t=>`translate(${t.y},0)`)),t.select("line").attr("y2",e(o)),qn(t.select("rect"),{x:-n.length/2,y:n.offsetY+n.size/2,width:n.length,height:n.size}),t.select("text").text((t=>t.v)).attr("font-size",`${n.size}px`).attr("transform",i);const r=t.enter().append("g").classed("major-tick",!0).attr("transform",(t=>`translate(${t.y},0)`));qn(r.append("line"),{y1:0,y2:e(o),class:"major-tick-line"}),qn(r.append("rect"),{x:-n.length/2,y:n.offsetY+n.size/2,class:"label-bg",width:n.length,height:n.size}),qn(r.append("text").text((t=>t.v)).classed("label",!0).style("text-anchor","middle"),{"font-size":`${n.size}px`,"stroke-width":.5,"font-family":"Verdana Tahoma Arial",transform:i}),t.exit().remove()}function Ti(t){const[,e]=t.domain(),[,n]=t.range();let o=!1,i=t(e-4),r=.4*i;return r<9?(r=9,i=r/.4,r<12&&(r=Math.max(i,9),i=.4*r,o=!0)):r>12&&(r=12,i=r/.4),{offsetX:(n-i)/2,offsetY:-r/2,length:o?r:i,size:o?i:r,rotateText:o}}function _i(t){const[,e]=t.domain(),[,n]=t.range();let o=t(e-4),i=.4*o;return i<9?(i=9,o=i/.4):i>12&&(i=12,o=i/.4),{offsetX:-i/2,offsetY:(n-o)/2,length:o,size:i,rotateText:!1}}const Ei={elementType:"svg",getLegendRows:()=>2,onInit:(t,e,n)=>{e.legendUpdate=n;const o=ht(t);o.selectAll("g.scale-legend").remove();const i=o.append("g").attr("class","scale-legend");i.append("text").classed("scale-title",!0).attr("font-weight","600").style("text-anchor","middle"),i.append("text").attr("class","scale-range").style("text-anchor","middle"),i.append("text").attr("class","scale-units").style("text-anchor","middle")},onUpdate:function(t,e,n){const o=ht(t);if(!n.extent)return;const{horizontal:i,label:r,abbr:s}=n.options,[l,a]=n.extent,c=Math.round(2*(a-l))/2,{height:u,width:d,top:h}=e,p=Math.min(12,.22*d),f=.1*p,m=i?u:d/2,g=(i?d/2+2*(p+f):h+u)-p/1.2,v=g-p+f,b=v-p-f,y=o.select(".scale-legend"),A=y.select("text.scale-title");qn(A,{transform:`translate(${m},${b})`,"font-size":`${p}px`,fill:n instanceof ki&&n.isMaster?"black":"#555"}),A.text(s||r);const x=y.select("text.scale-range");qn(x,{transform:`translate(${m},${v})`,"font-size":`${p}px`}),x.text(Number.isNaN(c)?"-":c);const w=y.select("text.scale-units");qn(w,{transform:`translate(${m},${g})`,"font-size":p/1.2+"px"}),w.text(n.options.units||"units")}},Ni={showLines:!0,showLabels:!0,labelRotation:0},zi={discreteHeight:10,interpolate:!1},Ii=(t,e,n,o,i,r)=>{t.fillRect(r?n:e,r?e:n,r?i:o,r?o:i)},Pi=(t,{x:e,y:n,width:o,height:i},r)=>r?t.attr("x",n).attr("y",e).attr("width",i).attr("height",o):t.attr("x",e).attr("y",n).attr("width",o).attr("height",i);var Ri=jn.basicLegendSvgConfig((function(t){var e,n,o,i;const r=Object.keys(null!==(n=null===(e=t.options)||void 0===e?void 0:e.components)&&void 0!==n?n:{}).length||3;return null!==(i=null===(o=t.options)||void 0===o?void 0:o.legendEntries)&&void 0!==i?i:r}),(function(t,e,n){const o=ht(t);o.selectAll("*").remove(),function(t,e,n){var o,i;const{width:r,height:s,left:l=0,top:a=0}=e,{horizontal:c=!1,legendEntries:u}=n,d=Object.entries(null!==(o=n.components)&&void 0!==o?o:{});if(0===d.length)return;const h=Math.min(d.length,null!=u?u:d.length),p=s/h,f=.1*p,m=.1*p,g=p-f,v=r-2*f,b=g-4*m,y=l+r/2;for(let e=0;e<h;e++){const[n,o]=d[e],r=o.color,s=null!==(i=o.textColor)&&void 0!==i?i:r,u=a+e*p+f/2,h=u+g/2;Pi(t.append("rect"),{x:l+f,y:u,width:v,height:g},c).attr("fill",r);const A=c?`translate(${h},${y})rotate(-90)`:`translate(${y},${h})`,x=t.append("text").attr("transform",A).attr("font-size",`${b}px`).attr("dominant-baseline","middle").style("text-anchor","middle").style("font-weight","bold").attr("fill",s).text(n),w=x.node(),C=w.getBBox(),k=C.width+4*m,S=k>v?v/k:1;x.attr("transform",`${A}scale(${S})`);const M=C.width*S,T=C.height*S;Pi(t.insert("rect",(()=>w)),{x:y-M/2-m/2,y:h-T/2-m/2,width:M+m,height:T+m},c).attr("fill","white")}}(o,e,n.options)}));t.AreaPlot=li,t.BasicScaleHandler=$o,t.CanvasTrack=Uo,t.DataHelper=On,t.DifferentialPlot=ci,t.DistributionTrack=class extends Uo{constructor(t,e={}){super(t,Object.assign(Object.assign({},zi),e)),this.xscale=Eo().domain([0,1])}onMount(t){var e;super.onMount(t);const{options:n,loader:o}=this;if(n.data){const t=null!==(e=n.showLoader)&&void 0!==e?e:Boolean(o);t&&"function"==typeof n.data?this.loadData(n.data,t):this.data=n.data}}onUpdate(t){super.onUpdate(t),this.options.horizontal?this.xscale.range([0,this.elm.clientHeight]):this.xscale.range([0,this.elm.clientWidth]),this.plot()}onRescale(t){super.onRescale(t),this.plot()}plot(){const{ctx:t,data:e,options:n}=this;t&&(t.clearRect(0,0,t.canvas.width,t.canvas.height),(null==e?void 0:e.length)&&(n.interpolate?this.plotInterpolated():this.plotDiscrete()))}plotDiscrete(){const{ctx:t,scale:e,xscale:n,data:o,options:i}=this,{discreteHeight:r}=i,[s,l]=e.domain(),a=o.filter((t=>t&&t.depth+r>=s&&t.depth-r<=l));(null==a?void 0:a.length)&&a.map((t=>({depth:e(t.depth),composition:t.composition}))).forEach((e=>{let o=0;e.composition.forEach((({key:s,value:l})=>{var a;const c=n(l/100),u=(null===(a=i.components[s])||void 0===a?void 0:a.color)||"black";t.fillStyle=u,Ii(t,o,e.depth-r/2,c,r,i.horizontal),o+=c}))}))}plotInterpolated(){const{ctx:t,scale:e,xscale:n,data:o,options:i}=this,[r,s]=e.domain(),l=o.filter(((t,e)=>{var n,i;const l=(null===(n=o[e-1])||void 0===n?void 0:n.depth)||-1/0,a=(null===(i=o[e+1])||void 0===i?void 0:i.depth)||1/0;return t.depth>=r&&t.depth<=s||a>r||l<s}));if(!(null==l?void 0:l.length))return;const a={};Object.entries(i.components).forEach((([t,e])=>{a[t]={color:e.color,points:[]}})),l.forEach((t=>{const o=e(t.depth);let i=0;Object.keys(a).forEach((e=>{const r=t.composition.find((t=>t.key===e));r&&(i+=n(r.value/100)),a[e].points.push({depth:o,value:i})}))})),Object.values(a).reverse().forEach(((e,o)=>{if(0===o){const o=e.points[0],r=e.points[e.points.length-1];return t.fillStyle=e.color,void Ii(t,0,o.depth,n(1),r.depth-o.depth,i.horizontal)}const r=(t=>{const e=[],n=(t,n)=>e.push(i.horizontal?[n,t]:[t,n]),o=t[0];n(0,o.depth),t.forEach((({depth:t,value:e})=>n(e,t)));const r=t[t.length-1];return n(0,r.depth),e})(e.points);t.fillStyle=e.color,t.beginPath(),r.forEach((([e,n],o)=>{0===o?t.moveTo(e,n):t.lineTo(e,n)})),t.closePath(),t.fill()}))}},t.DotPlot=ai,t.DualScaleTrack=ki,t.GraphTrack=class extends Uo{constructor(t,e={}){super(t,Object.assign(Object.assign({},vi),e)),this._transformCondition=null,this.trackScale=fi(this.options.scale,this.options.domain),this.plots=[],this.options.plots&&(this.plots=e.plots.map((t=>{const e=this.options.plotFactory[t.type];if(!e)throw Error(`No factory function for creating '${t.type}'-plot!`);return e(t,this.trackScale)}))),this.plot=this.plot.bind(this),this.prepareData=this.prepareData.bind(this),this.debounce=Hn()}onMount(t){var e;super.onMount(t);const{options:n,loader:o}=this;if(n.data){const t=null!==(e=n.showLoader)&&void 0!==e?e:Boolean(o);t&&"function"==typeof n.data?this.loadData(n.data,t):this.data=n.data}}onRescale(t){super.onRescale(t),this.prepareData(),this.plot()}onUpdate(t){super.onUpdate(t),this.updateRange(),this.plot()}onDataLoaded(t){this._transformCondition=null,this._transformedData=null,this.prepareData(),this.updateDynamicScales(),this.plot()}updateRange(){const t=this.options.horizontal?[this.elm.clientHeight,0]:[0,this.elm.clientWidth];this.trackScale.range(t),this.plots.forEach((e=>{let n=t;if(Number.isFinite(e.options.offset)){const[o,i]=t;n=this.options.horizontal?[o-e.options.offset*Math.abs(o-i),i]:[e.options.offset*(i-o),i]}e.options.horizontal=this.options.horizontal,e.setRange(n)}))}prepareData(){const{data:t,options:e,_transformCondition:n}=this;if(this.setPlotData(this._transformedData||t),e.transform){const t=this.getCurrentCondition();!e.alwaysTransform&&n&&n===t||(this._transformedData?this.scheduleUpdateTransform(t):this.updateTransform(t))}}updateDynamicScales(){const{plots:t,data:e}=this;t.forEach((t=>{t.updateDynamicScale(e,this.options)}))}getCurrentCondition(){return Math.round(10*Bn.getDomainSpan(this.scale,!1))}scheduleUpdateTransform(t){this.debounce((()=>this.updateTransform(t)))}updateTransform(t){const{data:e,scale:n,options:o,plot:i}=this;this._transformCondition=t,o.transform(e,n).then((e=>{this._transformCondition===t&&(this._transformedData=e,this.setPlotData(e),i())}))}setPlotOption(t,e,n){const o=this.plots.find((e=>e.id===t));if(o)return o.setOption(e,n),this.plot(),this;throw Error(`Plot not found with id ${t}`)}plot(){const{ctx:t,scale:e,trackScale:n,plots:o,options:{horizontal:i,scale:r}}=this;if(!t)return;let s,l;t.save(),t.clearRect(0,0,t.canvas.clientWidth,t.canvas.clientHeight),i?(l="log"===r?Bn.createLogTicks(n):Bn.createLinearTicks(n),s=Bn.createTicks(e),Dn.drawGrid(t,e,s,n,l)):(s="log"===r?Bn.createLogTicks(n):Bn.createLinearTicks(n),l=Bn.createTicks(e),Dn.drawGrid(t,n,s,e,l)),t.restore(),o.forEach((n=>n.plot(t,e)))}setPlotData(t){const e=new Map;this.plots.forEach((t=>{e.set(t.id,t.options)})),this.plots.forEach((n=>n.setData(t,this.scale,e)))}},t.GridHelper=Dn,t.HtmlTrack=class extends Vo{onMount(t){super.onMount(t),this.container=ht(t.elm).append("div").style("position","relative")}onUpdate(t){super.onUpdate(t);const{container:e,elm:n}=this;e&&Yn(e,{width:`${n.clientWidth}px`,height:`${n.clientHeight}px`})}},t.InterpolatedScaleHandler=class extends $o{constructor(t,e=[0,100]){super(e),this._mode=0,this.interpolator=t||Bo,this._alternateBase=this.interpolator.reverseInterpolatedDomain(e),this.ticks=this.ticks.bind(this)}createInterpolatedScale(){const{interpolator:t}=this,e=this,n=t.forwardInterpolatedDomain(e.scale.domain()),o=n=>{const o=t.reverse(n);return e.scale(o)};return o.invert=n=>t.forward(e.scale.invert(n)),o.domain=function(t){if(t)throw Error("Scale is read-only and may not be altered!");return n},o.range=function(t){if(t)throw Error("Scale is read-only and may not be altered!");return e.scale.range()},o.ticks=Eo().domain(n).range(o.range().slice()).ticks,o.copy=()=>this.createInterpolatedScale(),o}setMode(t){if(0===t||1===t)return this._mode=t,this.rescaleToMode(),this;throw Error("Invalid scale mode!")}rescaleToMode(){const{_mode:t,interpolator:e,scale:n}=this;let o;return o=1===t?e.reverseInterpolatedDomain(n.domain()):e.forwardInterpolatedDomain(n.domain()),n.domain(o),this}ticks(t){const{_mode:e,scale:n,interpolator:o}=this;if(void 0===t||t===e)return Bn.createTicks(n);let i;i=0===t?o.forwardInterpolatedDomain(n.domain()):o.reverseInterpolatedDomain(n.domain());const r=Eo().domain(i).range(n.range());return Bn.createTicks(r)}baseDomain(t){if(t){const{_mode:e,interpolator:n,scale:o}=this;return this._baseDomain=t,this._alternateBase=1===e?[...t]:n.reverseInterpolatedDomain(t),o.domain(t),this}return 1===this._mode?this._alternateBase:this._baseDomain}get mode(){return this._mode}get dataScale(){return 1===this._mode?this.createInterpolatedScale():this.scale}},t.LegendHelper=jn,t.LinePlot=si,t.LineStepPlot=hi,t.LogController=Do,t.LogViewer=jo,t.Plot=qo,t.ScaleHelper=Bn,t.ScaleTrack=class extends Ho{constructor(t,e){super(t,e),this.xscale=Eo().domain([0,10]),this.ticks=[],this.createTicks=this.createTicks.bind(this),this.createRuler=this.createRuler.bind(this),this.plot=this.plot.bind(this)}onMount(t){super.onMount(t),this.createTicks()}onRescale(t){super.onRescale(t),this.createTicks(),this.legendUpdate&&this.legendUpdate(),this.plot()}onUpdate(t){super.onUpdate(t);const{elm:e}=this;this.xscale.range([0,this.options.horizontal?e.clientHeight:e.clientWidth]),this.plot()}createTicks(){const{scale:t}=this;this.ticks=t?Bn.createTicks(t).major:[]}createRuler(t){const{xscale:e,scale:n,labelBounds:o,ticks:i,options:{horizontal:r}}=this,[,s]=e.domain(),l=i.map((t=>({y:n(t),v:t})));t.selectAll("g.major-tick").data(l).call(r?Mi:Si,e,o,s,r)}plot(){const{createRuler:t,plotGroup:e,xscale:n,options:{horizontal:o}}=this;e&&(this.labelBounds=o?_i(n):Ti(n),e.attr("class","scale-track master-scale"),t(e))}get extent(){return this.scale.domain()}},t.StackedTrack=class extends Ho{constructor(t,e){super(t,Object.assign(Object.assign({},Ni),e))}onMount(t){super.onMount(t);const{options:e}=this;this.xscale=Eo().domain([0,1]),e.data&&(this.isLoading=!0,e.data().then((t=>{t.sort(((t,e)=>t.from-e.from));for(let e=1;e<t.length;e++){const n=t[e],o=t[e-1];o.name===n.name&&o.color.r===n.color.r&&o.color.g===n.color.g&&o.color.b===n.color.b&&o.color.a===n.color.a&&o.to===n.from&&(o.to=n.to,t.splice(e,1),e--)}this.data=t,this.isLoading=!1,this.plot()}),(t=>super.onError(t))))}onUpdate(t){super.onUpdate(t),this.options.horizontal?this.xscale.range([0,this.elm.clientHeight]):this.xscale.range([0,this.elm.clientWidth]),this.plot()}onRescale(t){super.onRescale(t),this.plot()}plot(){const{plotGroup:t,scale:e,xscale:n,data:o,options:i}=this;if(!t)return;if(!o||0===o.length)return void t.selectAll("g.area").remove();const[r,s]=e.domain(),l=[];o.filter((t=>t.to>r&&t.from<s)).forEach((t=>{const n={name:t.name,yFrom:e(t.from),yTo:e(t.to),color:`rgb(${t.color.r},${t.color.g},${t.color.b})`,opacity:null!=t.color.a?t.color.a:1},o=l.length-1;o>=0&&n.yTo-l[o].yFrom<.5?l[o].yTo=n.yTo:l.push(n)}));const a=t.selectAll("g.area").data(l,(t=>t.name)),c=i.horizontal?t=>`translate(${t.yFrom}, 0)`:t=>`translate(0, ${t.yFrom})`;a.attr("transform",c);const u=i.horizontal?t=>({x:0,y:n(0),width:Math.max(0,t.yTo-t.yFrom),height:n(1),fill:t.color,"fill-opacity":t.opacity}):t=>({x:n(0),y:0,width:n(1),height:Math.max(0,t.yTo-t.yFrom),fill:t.color,"fill-opacity":t.opacity});qn(a.select("rect"),u);const d=a.enter().append("g").classed("area",!0).attr("transform",c);if(qn(d.append("rect"),u),!1!==i.showLines){const t={stroke:"black"},e=n(.25),o=n(.5),r=n(.75),s=[{className:"line-top",x1:()=>0,x2:()=>0,y1:()=>e,y2:()=>r},{className:"line-bottom",x1:t=>t.yTo-t.yFrom,x2:t=>t.yTo-t.yFrom,y1:()=>e,y2:()=>r},{className:"line-middle",x1:()=>0,x2:t=>t.yTo-t.yFrom,y1:()=>o,y2:()=>o}],l=[{className:"line-top",x1:()=>e,x2:()=>r,y1:()=>0,y2:()=>0},{className:"line-bottom",x1:()=>e,x2:()=>r,y1:t=>t.yTo-t.yFrom,y2:t=>t.yTo-t.yFrom},{className:"line-middle",x1:()=>o,x2:()=>o,y1:()=>0,y2:t=>t.yTo-t.yFrom}];(i.horizontal?s:l).forEach((e=>{const{className:n,x1:o,y1:i,x2:r,y2:s}=e;qn(a.select(`line.${n}`),(t=>({x1:o(t),y1:i(t),x2:r(t),y2:s(t)}))),qn(d.append("line"),(e=>Object.assign({x1:o(e),y1:i(e),x2:r(e),y2:s(e),class:`${n}`},t)))}))}if(!1!==i.showLabels){const[,o]=e.range(),r=n(1)-n(0);t.selectAll("g.area").each(((t,e,n)=>{const s=ht(n[e]),l=[Math.max(0,-t.yFrom),Math.max(0,t.yTo-o)];!function(t,e,n,o,i,r){let s=e.yTo-e.yFrom-o[0]-o[1],l=n;i&&([l,s]=[s,l]),t.select("g.label").remove();let a=Math.min(.5*l,.1*s);var c;if(a=(c=a)<8?8:c>18?18:c,a+2>s||a+2>l)return;i||(r+=90);let u=l/2,d=o[0]+s/2;i&&(u=o[0]+l/2,d=s/2);const h=r*Math.PI/180,p=`translate(${u},${d})rotate(${r})`,f=t.append("g").attr("class","label").attr("transform",p),m=f.append("rect"),g=f.append("text").text(e.name);Gn(g,{styles:{"dominant-baseline":"middle","text-anchor":"middle","text-rendering":"optimizeSpeed","stroke-width":.5},attrs:{class:"label",fill:Un(e.color),stroke:Un(e.color),"text-anchor":"middle","font-size":`${a}px`}});const v=g.node().getBBox(),b=Math.abs(Math.cos(h)*(v.width+2))+Math.abs(Math.sin(h)*(v.height+2)),y=Math.abs(Math.cos(h)*(v.height+2))+Math.abs(Math.sin(h)*(v.width+2));b>l||y>s?f.remove():qn(m,{x:v.x-1,y:v.y-1,width:v.width+2,height:v.height+2,fill:e.color})}(s,t,r,l,i.horizontal,i.labelRotation)}))}a.exit().remove()}},t.SvgTrack=Ho,t.Track=Vo,t.UIHelper=class{static pickHStackedElement(t,e){for(let n=0;n<t.length;n++){const o=t[n];if(o&&e>=o.offsetLeft&&e<=o.offsetLeft+o.clientWidth)return o}return null}static pickVStackedElement(t,e){for(let n=0;n<t.length;n++){const o=t[n];if(o&&e>=o.offsetTop&&e<=o.offsetTop+o.clientHeight)return o}return null}static attachTrackLoader(t,e){const n=ht(t).append("div").classed("loader hidden",!0);for(let t=0;t<3;t++)n.append("div").classed("loading-dots",!0);e.loader=n.node()}},t.createPlotType=mi,t.debouncer=Hn,t.defaultPlotFactory=gi,t.distributionLegendConfig=Ri,t.getContrastYIQ=Un,t.graphLegendConfig=Ci,t.hashString=Vn,t.numberFormatter=function(t,e=1){return null===t||Number.isNaN(+t)?"-":Wn(t,e).toFixed(e)},t.round=Wn,t.scaleLegendConfig=Ei,t.setAttrs=qn,t.setProps=Gn,t.setStyles=Yn}(e)},38186:(t,e)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen");Symbol.for("react.module.reference")},60102:(t,e,n)=>{"use strict";n(38186)},48742:(t,e,n)=>{"use strict";var o=n(23339);e.H=o.createRoot,o.hydrateRoot}}]);
//# sourceMappingURL=async-webviz-well-log-viewer.js.map