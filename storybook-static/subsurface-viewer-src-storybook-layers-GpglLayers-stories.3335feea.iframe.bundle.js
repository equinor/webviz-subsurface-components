"use strict";(self.webpackChunk_webviz_subsurface_components=self.webpackChunk_webviz_subsurface_components||[]).push([[715],{"./packages/subsurface-viewer/src/storybook/layers/GpglLayers.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GpglTextureWithExplicitMesh:function(){return GpglTextureWithExplicitMesh},GpglValueMap:function(){return GpglValueMap},GpglValueMapWithMaterial:function(){return GpglValueMapWithMaterial},GpglWithoutTexture:function(){return GpglWithoutTexture},TypedArrayGpglTexture:function(){return TypedArrayGpglTexture},__namedExportsOrder:function(){return __namedExportsOrder}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/src/SubsurfaceViewer.tsx"),_sharedSettings__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/src/storybook/sharedSettings.tsx"),_sharedHelperFunctions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/src/storybook/sharedHelperFunctions.ts");const stories={component:_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.A,title:"SubsurfaceViewer / GpGl Layers",args:{triggerHome:0}};function preprocessProps(props,nonJsonLayerProps){return(0,_sharedHelperFunctions__WEBPACK_IMPORTED_MODULE_3__.VR)(props.layers),(0,_sharedHelperFunctions__WEBPACK_IMPORTED_MODULE_3__.zp)(props,nonJsonLayerProps)}__webpack_exports__.default=stories;const sectionZ0Vertices=[-2808.4,-6505.9,1071.3,3426.2,-6358,1071.3,-3083.9,5103.5,1071.3,3150.7,5251.4,1071.3],sectionZ0TexCoords=[0,0,1,0,0,1,1,1],sectionZ0Indices=[0,1,2,3],section0Props={topology:"triangle-strip",vertices:sectionZ0Vertices,vertexIndices:{value:sectionZ0Indices,size:4}},section0TexProps={...section0Props,texCoords:sectionZ0TexCoords,valueMap:{width:115,height:103,values:"seismic_Z0_115_103.float32"}},section0MeshProps={topology:"line-strip",vertices:sectionZ0Vertices,vertexIndices:{value:sectionZ0Indices}},njTextureLayerId="nj_texture_layer",nonJsonLayerArgs={[njTextureLayerId]:{valueMappedTriangles:[{vertices:new Float32Array(sectionZ0Vertices),texCoords:new Float32Array(sectionZ0TexCoords),vertexIndices:{value:new Uint32Array(sectionZ0Indices)}}]}},njSection0TexProps={topology:"triangle-strip",vertices:new Float32Array(sectionZ0Vertices),texCoords:new Float32Array(sectionZ0TexCoords),valueMap:{width:115,height:103,values:"seismic_Z0_115_103.float32"},vertexIndices:{value:new Uint32Array(sectionZ0Indices)}},noTextureLayer={"@@type":"GpglValueMappedSurfaceLayer",id:"no_texture_layer",valueMappedTriangles:[section0Props],color:[100,100,255],showMesh:!0,ZIncreasingDownwards:!0},colormapSetup={valueRange:[-1,1],clampRange:void 0,clampColor:void 0,undefinedColor:[255,0,0,200],smooth:!0},textureLayer={"@@type":"GpglValueMappedSurfaceLayer",id:"texture_layer",valueMappedTriangles:[section0TexProps],colormap:{colormapName:"seismic"},colormapSetup:colormapSetup,showMesh:!1,ZIncreasingDownwards:!0},textureWithMeshLayer={...textureLayer,id:"texture_with_mesh_layer",triangleMeshes:[section0MeshProps],showMesh:!0},njTextureLayer={"@@type":"GpglValueMappedSurfaceLayer","@@typedArraySupport":!0,id:"nj_texture_layer",valueMappedTriangles:[njSection0TexProps],colormap:{colormapName:"seismic"},colormapSetup:colormapSetup,showMesh:!0,ZIncreasingDownwards:!0},smallAxesLayer={"@@type":"AxesLayer",id:"small_axes_layer",bounds:[-3083.9,-6505.9,-1071.3,3426.2,5251.4,-2374.3],ZIncreasingDownwards:!1,pickable:!1},GpglWithoutTexture={args:{id:"gpgl_texture",layers:[smallAxesLayer,noTextureLayer],views:_sharedSettings__WEBPACK_IMPORTED_MODULE_2__.Hf},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_2__.dr.docs,description:{story:"Display the cage of seismic."}}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.A,preprocessProps(args,nonJsonLayerArgs))},GpglValueMap={args:{id:"gpgl_texture",layers:[smallAxesLayer,textureLayer],views:_sharedSettings__WEBPACK_IMPORTED_MODULE_2__.Hf},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_2__.dr.docs,description:{story:"Display the cage of seismic."}}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.A,preprocessProps(args,nonJsonLayerArgs))},GpglTextureWithExplicitMesh={args:{id:"gpgl_texture",layers:[smallAxesLayer,textureWithMeshLayer],views:_sharedSettings__WEBPACK_IMPORTED_MODULE_2__.Hf},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_2__.dr.docs,description:{story:"Display the cage of seismic."}}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.A,preprocessProps(args,nonJsonLayerArgs))},GpglValueMapWithMaterial={args:{id:"gpgl_texture",layers:[smallAxesLayer,{...textureLayer,id:"texture_with_material_layer",material:{ambient:.35,diffuse:.9,shininess:32,specularColor:[38,38,38]}}],views:_sharedSettings__WEBPACK_IMPORTED_MODULE_2__.Hf},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_2__.dr.docs,description:{story:"Display the cage of seismic."}}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.A,preprocessProps(args,nonJsonLayerArgs))},TypedArrayGpglTexture={args:{id:"njTextureLayerId",layers:[smallAxesLayer,njTextureLayer],views:_sharedSettings__WEBPACK_IMPORTED_MODULE_2__.Hf},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_2__.dr.docs,description:{story:"Display the cage of seismic."}}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.A,preprocessProps(args,nonJsonLayerArgs))},__namedExportsOrder=["GpglWithoutTexture","GpglValueMap","GpglTextureWithExplicitMesh","GpglValueMapWithMaterial","TypedArrayGpglTexture"];GpglWithoutTexture.parameters={...GpglWithoutTexture.parameters,docs:{...GpglWithoutTexture.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "gpgl_texture",\n    layers: [smallAxesLayer, noTextureLayer],\n    views: default3DViews\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: "Display the cage of seismic."\n      }\n    }\n  },\n  render: args => <SubsurfaceViewer {...preprocessProps(args, nonJsonLayerArgs)} />\n}',...GpglWithoutTexture.parameters?.docs?.source}}},GpglValueMap.parameters={...GpglValueMap.parameters,docs:{...GpglValueMap.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "gpgl_texture",\n    layers: [smallAxesLayer, textureLayer],\n    views: default3DViews\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: "Display the cage of seismic."\n      }\n    }\n  },\n  render: args => <SubsurfaceViewer {...preprocessProps(args, nonJsonLayerArgs)} />\n}',...GpglValueMap.parameters?.docs?.source}}},GpglTextureWithExplicitMesh.parameters={...GpglTextureWithExplicitMesh.parameters,docs:{...GpglTextureWithExplicitMesh.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "gpgl_texture",\n    layers: [smallAxesLayer, textureWithMeshLayer],\n    views: default3DViews\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: "Display the cage of seismic."\n      }\n    }\n  },\n  render: args => <SubsurfaceViewer {...preprocessProps(args, nonJsonLayerArgs)} />\n}',...GpglTextureWithExplicitMesh.parameters?.docs?.source}}},GpglValueMapWithMaterial.parameters={...GpglValueMapWithMaterial.parameters,docs:{...GpglValueMapWithMaterial.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "gpgl_texture",\n    layers: [smallAxesLayer, textureWithMaterialLayer],\n    views: default3DViews\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: "Display the cage of seismic."\n      }\n    }\n  },\n  render: args => <SubsurfaceViewer {...preprocessProps(args, nonJsonLayerArgs)} />\n}',...GpglValueMapWithMaterial.parameters?.docs?.source}}},TypedArrayGpglTexture.parameters={...TypedArrayGpglTexture.parameters,docs:{...TypedArrayGpglTexture.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "njTextureLayerId",\n    layers: [smallAxesLayer, njTextureLayer],\n    views: default3DViews\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: "Display the cage of seismic."\n      }\n    }\n  },\n  render: args => <SubsurfaceViewer {...preprocessProps(args, nonJsonLayerArgs)} />\n}',...TypedArrayGpglTexture.parameters?.docs?.source}}}},"./packages/subsurface-viewer/src/storybook/sharedHelperFunctions.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{MO:function(){return createMathWithSeed},VR:function(){return convertUndefNull},zp:function(){return replaceNonJsonArgs}});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/lodash.js"),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__),mathjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/core/create.js"),mathjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/entry/allFactoriesAny.js");function replaceNonJsonArgs(args,nonJsonLayerProps){return args.layers?.forEach((layer=>{if(layer&&void 0!==layer?.id){const layerNonJsonProps=nonJsonLayerProps[layer.id];layerNonJsonProps&&(!0!==layer["@@typedArraySupport"]&&console.error(`Storybook story handles ${layer["@@type"]??"layer"} "${layer.id}" as using non-json properties; the layer is missing "@@typedArraySupport" set to true.`),lodash__WEBPACK_IMPORTED_MODULE_0___default().mergeWith(layer,layerNonJsonProps,customizer))}})),args}function convertUndefNull(layers){for(const key in layers){const value=layers[key];"object"!=typeof value||null===value||Array.isArray(value)?("undefined"===value&&(layers[key]=void 0),"null"===value&&(layers[key]=null)):convertUndefNull(value)}}function customizer(objValue,srcValue){if(lodash__WEBPACK_IMPORTED_MODULE_0___default().isUndefined(objValue)||lodash__WEBPACK_IMPORTED_MODULE_0___default().isNull(srcValue))return objValue;if(ArrayBuffer.isView(srcValue))return srcValue;if(Array.isArray(srcValue)&&Array.isArray(objValue)){for(let i=0;i<srcValue.length&&i<objValue.length;i++)objValue[i]=lodash__WEBPACK_IMPORTED_MODULE_0___default().mergeWith(objValue[i],srcValue[i],customizer);return objValue}return lodash__WEBPACK_IMPORTED_MODULE_0___default().mergeWith(objValue,srcValue,customizer)}function createMathWithSeed(seed){return(0,mathjs__WEBPACK_IMPORTED_MODULE_1__.v)(mathjs__WEBPACK_IMPORTED_MODULE_2__.Q,{randomSeed:seed})}},"./packages/subsurface-viewer/src/storybook/sharedSettings.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{C9:function(){return hugin25mDepthMapLayer},Cp:function(){return hugin3DBounds},D8:function(){return hugin2DBounds},FS:function(){return volveWellsResources},HU:function(){return hugin25mKhNetmapMapLayer},Hf:function(){return default3DViews},Ly:function(){return classes},OU:function(){return customLayerWithTextData},Or:function(){return EditedDataTemplate},RT:function(){return colormapLayer},Uz:function(){return volveWellsWithLogsLayer},XC:function(){return customLayerWithPolylineData},bL:function(){return Root},c8:function(){return volveWellsFromResourcesLayer},d6:function(){return hugin5mKhNetmapMapLayer},dr:function(){return defaultStoryParameters},eD:function(){return default2DViews},j1:function(){return mainStyle},kn:function(){return redAxes2DLayer},lC:function(){return hillshadingLayer},oS:function(){return subsufaceProps},rz:function(){return volveWellsLayer},un:function(){return northArrowLayer},vq:function(){return huginAxes3DLayer},wi:function(){return hugin25mKhNetmapMapLayerPng},xR:function(){return customLayerWithPolygonData},z6:function(){return customLayerWithPolygonDataProps},zJ:function(){return volveWellsBounds}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_mui_material_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/src/SubsurfaceViewer.tsx"),_example_data_deckgl_map_json__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../example-data/deckgl-map.json");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const defaultStoryParameters={docs:{inlineStories:!1,iframeHeight:500}},classes={main:"default-main"},mainStyle={[`& .${classes.main}`]:{width:750,height:500,top:"50%",left:"50%",transform:"translate(-50%, -50%)",border:"1px solid black",background:"azure",position:"absolute"}},Root=(0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_3__.Ay)("div")(mainStyle),subsufaceProps=_example_data_deckgl_map_json__WEBPACK_IMPORTED_MODULE_2__[0],colormapLayer={..._example_data_deckgl_map_json__WEBPACK_IMPORTED_MODULE_2__[0].layers[0],id:"colormap-layer"},hillshadingLayer={..._example_data_deckgl_map_json__WEBPACK_IMPORTED_MODULE_2__[0].layers[1],id:"hillshading-layer"},redAxes2DLayer={"@@type":"Axes2DLayer",id:"axes-layer",marginH:80,marginV:30,isLeftRuler:!0,isRightRuler:!1,isBottomRuler:!0,isTopRuler:!1,backgroundColor:[155,0,0,255]},hugin2DOrigin=[432150,6475800],hugin2DBounds=[432150,6475800,439400,6481500],hugin3DBounds=[432150,6475800,-2e3,439400,6481500,-3500],huginAxes3DLayer={"@@type":"AxesLayer",id:"axes-layer2",bounds:[432150,6475800,2e3,439400,6481500,3500]},northArrowLayer={"@@type":"NorthArrow3DLayer",id:"north-arrow-layer"},volveWellsResources={resources:{wellsData:"./volve_wells.json"}},volveWellsFromResourcesLayer={"@@type":"WellsLayer",id:"volve-wells",data:"@@#resources.wellsData",ZIncreasingDownwards:!1},volveWellsLayer={"@@type":"WellsLayer",id:"volve-wells",data:"./volve_wells.json",ZIncreasingDownwards:!1},volveWellsBounds=[432150,6475800,439400,6481500],volveWellsWithLogsLayer={"@@type":"WellsLayer",id:"volve-wells-with-logs",data:"./volve_wells.json",logData:"./volve_logs.json",logrunName:"BLOCKING",logName:"ZONELOG",logColor:"Stratigraphy",ZIncreasingDownwards:!1},hugin25mDepthMapLayer={"@@type":"MapLayer",id:"hugin_depth",meshData:"hugin_depth_25_m.float32",frame:{origin:hugin2DOrigin,count:[291,229],increment:[25,25],rotDeg:0},propertiesData:"hugin_depth_25_m.float32",contours:[0,100],isContoursDepth:!0,gridLines:!1,smoothShading:!0,material:!0},hugin25mKhNetmapMapLayer={...hugin25mDepthMapLayer,id:"hugin_kh_netmap",propertiesData:"kh_netmap_25_m.float32",colorMapName:"Physics"},hugin25mKhNetmapMapLayerPng={...hugin25mDepthMapLayer,meshData:"hugin_depth_25_m.png",propertiesData:"kh_netmap_25_m.png",colorMapName:"Physics"},hugin5mKhNetmapMapLayer={"@@type":"MapLayer",id:"mesh-layer",meshUrl:"hugin_depth_5_m.float32",frame:{origin:hugin2DOrigin,count:[1451,1141],increment:[5,5],rotDeg:0},propertiesUrl:"kh_netmap_5_m.float32",contours:[0,100],colorMapName:"Physics"},default2DViews={layout:[1,1],viewports:[{id:"view_1",show3D:!1}]},default3DViews={layout:[1,1],viewports:[{id:"view_1",show3D:!0}]},customLayerWithPolylineData={"@@type":"GeoJsonLayer",id:"geojson-line-layer",name:"Line",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[434e3,6477500],[435500,6477500]]}}]},getLineWidth:20,lineWidthMinPixels:2},customLayerWithPolygonDataProps={id:"geojson-layer",data:{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[434562,6477595],[434562,6478595],[435062,6478595],[435062,6477595],[434562,6477595]]]}},getLineWidth:1,lineWidthMinPixels:1,lineWidthMaxPixels:1,getLineColor:[0,0,0],getFillColor:[255,255,0],opacity:1},customLayerWithPolygonData={...customLayerWithPolygonDataProps,"@@type":"GeoJsonLayer"},customLayerWithTextData={"@@type":"TextLayer",id:"text-layer",name:"Text",data:[{name:"Custom GeoJson layer",coordinates:[434800,6478695]}],pickable:!0,getPosition:d=>d.coordinates,getText:d=>d.name,getColor:[255,0,0],getSize:16,getAngle:0,getTextAnchor:"middle",getAlignmentBaseline:"center"},EditedDataTemplate=args=>{const[editedData,setEditedData]=react__WEBPACK_IMPORTED_MODULE_0__.useState(args.editedData);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{setEditedData(args.editedData)}),[args.editedData]),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.A,_extends({},args,{editedData:editedData,setProps:updatedProps=>{setEditedData(updatedProps.editedData)}}))};EditedDataTemplate.__docgenInfo={description:"",methods:[],displayName:"EditedDataTemplate",props:{layers:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"| Record<string, unknown>\n| Layer\n| false\n| null\n| undefined",elements:[{name:"Record",elements:[{name:"string"},{name:"unknown"}],raw:"Record<string, unknown>"},{name:"Layer"},{name:"literal",value:"false"},{name:"null"},{name:"undefined"}]}],raw:"TLayerDefinition[]"},description:"Array of externally created layers or layer definition records or JSON strings.\nAdd '@@typedArraySupport' : true in a layer definition in order to\nuse typed arrays as inputs."},setProps:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: Record<string, unknown>) => void",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"unknown"}],raw:"Record<string, unknown>"},name:"data"}],return:{name:"void"}}},description:"@deprecated Used by layers to propagate state to component, eg. selected\nwells from the Wells layer. Use client code to handle layer state\ninstead."}},composes:["Omit"]}},"../example-data/deckgl-map.json":function(module){module.exports=JSON.parse('[{"id":"DeckGL-Map","coords":{"visible":true,"multiPicking":true,"pickDepth":10},"scale":{"visible":true,"incrementValue":100,"widthPerUnit":100,"cssStyle":{"left":10,"top":10}},"coordinateUnit":"m","resources":{"propertyMap":"propertyMap.png","depthMap":"propertyMap.png","wellsData":"volve_wells.json","logData":"volve_logs.json"},"bounds":[432205,6475078,437720,6481113],"layers":[{"@@type":"ColormapLayer","image":"@@#resources.propertyMap","rotDeg":0,"bounds":[432205,6475078,437720,6481113],"colorMapName":"Rainbow","valueRange":[2782,3513],"colorMapRange":[2782,3513]},{"@@type":"Hillshading2DLayer","bounds":[432205,6475078,437720,6481113],"valueRange":[2782,3513],"rotDeg":0,"image":"@@#resources.depthMap"},{"@@type":"WellsLayer","data":"@@#resources.wellsData","logData":"@@#resources.logData","logrunName":"BLOCKING","logName":"ZONELOG","logColor":"Stratigraphy"},{"@@type":"FaultPolygonsLayer","data":"fault_polygons.geojson"},{"@@type":"PieChartLayer","data":"piechart.json"},{"@@type":"NorthArrow3DLayer","visible":true},{"@@type":"DrawingLayer"}],"editedData":{},"views":{"layout":[1,1],"showLabel":false,"viewports":[{"id":"view_1","show3D":false,"layerIds":[]}]}}]')}}]);