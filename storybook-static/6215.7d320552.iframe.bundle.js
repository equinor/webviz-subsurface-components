/*! For license information please see 6215.7d320552.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_webviz_subsurface_components=self.webpackChunk_webviz_subsurface_components||[]).push([[6215],{"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function toPropertyKey(t){var i=function toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}function _defineProperty(e,r,t){return(r=toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}__webpack_require__.d(__webpack_exports__,{Z:function(){return _defineProperty}})},"./node_modules/@deck.gl-community/editable-layers/dist/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{kP:function(){return DrawLineStringMode},H3:function(){return DrawPointMode},d6:function(){return draw_polygon_mode_DrawPolygonMode},nk:function(){return editable_geojson_layer_EditableGeoJsonLayer},aj:function(){return immutable_feature_collection_ImmutableFeatureCollection},xd:function(){return ModifyMode},Xr:function(){return SelectionLayer},Qe:function(){return TransformMode},wO:function(){return ViewMode}});var es=__webpack_require__("./node_modules/@turf/helpers/dist/es/index.js"),dist_es=__webpack_require__("./node_modules/@turf/meta/dist/es/index.js");function bbox(geojson){var result=[1/0,1/0,-1/0,-1/0];return(0,dist_es.pZ)(geojson,(function(coord){result[0]>coord[0]&&(result[0]=coord[0]),result[1]>coord[1]&&(result[1]=coord[1]),result[2]<coord[0]&&(result[2]=coord[0]),result[3]<coord[1]&&(result[3]=coord[1])})),result}bbox.default=bbox;var bbox_dist_es=bbox;function bboxPolygon(bbox,options){void 0===options&&(options={});var west=Number(bbox[0]),south=Number(bbox[1]),east=Number(bbox[2]),north=Number(bbox[3]);if(6===bbox.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var lowLeft=[west,south],topLeft=[west,north],topRight=[east,north],lowRight=[east,south];return(0,es.yu)([[lowLeft,lowRight,topRight,topLeft,lowLeft]],options.properties,{bbox:bbox,id:options.id})}var center_dist_es=function center(geojson,options){void 0===options&&(options={});var ext=bbox_dist_es(geojson),x=(ext[0]+ext[2])/2,y=(ext[1]+ext[3])/2;return(0,es.xm)([x,y],options.properties,options)},jsts_min=__webpack_require__("./node_modules/turf-jsts/jsts.min.js");function adder(){return new Adder}function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(y){add(temp,y,this.t),add(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add(adder,a,b){var x=adder.s=a+b,bv=x-a,av=x-bv;adder.t=a-av+(b-bv)}var math_epsilon=1e-6,math_pi=Math.PI,math_halfPi=math_pi/2,quarterPi=math_pi/4,math_tau=2*math_pi,math_degrees=180/math_pi,math_radians=math_pi/180,math_abs=Math.abs,math_atan=Math.atan,math_atan2=Math.atan2,math_cos=Math.cos,exp=(Math.ceil,Math.exp),math_log=(Math.floor,Math.log),math_sin=(Math.pow,Math.sin),math_sqrt=(Math.sign,Math.sqrt),math_tan=Math.tan;function acos(x){return x>1?0:x<-1?math_pi:Math.acos(x)}function math_asin(x){return x>1?math_halfPi:x<-1?-math_halfPi:Math.asin(x)}function noop(){}function streamGeometry(geometry,stream){geometry&&streamGeometryType.hasOwnProperty(geometry.type)&&streamGeometryType[geometry.type](geometry,stream)}var streamObjectType={Feature:function(object,stream){streamGeometry(object.geometry,stream)},FeatureCollection:function(object,stream){for(var features=object.features,i=-1,n=features.length;++i<n;)streamGeometry(features[i].geometry,stream)}},streamGeometryType={Sphere:function(object,stream){stream.sphere()},Point:function(object,stream){object=object.coordinates,stream.point(object[0],object[1],object[2])},MultiPoint:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)object=coordinates[i],stream.point(object[0],object[1],object[2])},LineString:function(object,stream){streamLine(object.coordinates,stream,0)},MultiLineString:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamLine(coordinates[i],stream,0)},Polygon:function(object,stream){streamPolygon(object.coordinates,stream)},MultiPolygon:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamPolygon(coordinates[i],stream)},GeometryCollection:function(object,stream){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)streamGeometry(geometries[i],stream)}};function streamLine(coordinates,stream,closed){var coordinate,i=-1,n=coordinates.length-closed;for(stream.lineStart();++i<n;)coordinate=coordinates[i],stream.point(coordinate[0],coordinate[1],coordinate[2]);stream.lineEnd()}function streamPolygon(coordinates,stream){var i=-1,n=coordinates.length;for(stream.polygonStart();++i<n;)streamLine(coordinates[i],stream,1);stream.polygonEnd()}function src_stream(object,stream){object&&streamObjectType.hasOwnProperty(object.type)?streamObjectType[object.type](object,stream):streamGeometry(object,stream)}adder(),adder();function spherical(cartesian){return[math_atan2(cartesian[1],cartesian[0]),math_asin(cartesian[2])]}function cartesian(spherical){var lambda=spherical[0],phi=spherical[1],cosPhi=math_cos(phi);return[cosPhi*math_cos(lambda),cosPhi*math_sin(lambda),math_sin(phi)]}function cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function cartesianAddInPlace(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function cartesianNormalizeInPlace(d){var l=math_sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}adder();function compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}return a.invert&&b.invert&&(compose.invert=function(x,y){return(x=b.invert(x,y))&&a.invert(x[0],x[1])}),compose}function rotationIdentity(lambda,phi){return[lambda>math_pi?lambda-math_tau:lambda<-math_pi?lambda+math_tau:lambda,phi]}function rotation_rotateRadians(deltaLambda,deltaPhi,deltaGamma){return(deltaLambda%=math_tau)?deltaPhi||deltaGamma?compose(rotationLambda(deltaLambda),rotationPhiGamma(deltaPhi,deltaGamma)):rotationLambda(deltaLambda):deltaPhi||deltaGamma?rotationPhiGamma(deltaPhi,deltaGamma):rotationIdentity}function forwardRotationLambda(deltaLambda){return function(lambda,phi){return[(lambda+=deltaLambda)>math_pi?lambda-math_tau:lambda<-math_pi?lambda+math_tau:lambda,phi]}}function rotationLambda(deltaLambda){var rotation=forwardRotationLambda(deltaLambda);return rotation.invert=forwardRotationLambda(-deltaLambda),rotation}function rotationPhiGamma(deltaPhi,deltaGamma){var cosDeltaPhi=math_cos(deltaPhi),sinDeltaPhi=math_sin(deltaPhi),cosDeltaGamma=math_cos(deltaGamma),sinDeltaGamma=math_sin(deltaGamma);function rotation(lambda,phi){var cosPhi=math_cos(phi),x=math_cos(lambda)*cosPhi,y=math_sin(lambda)*cosPhi,z=math_sin(phi),k=z*cosDeltaPhi+x*sinDeltaPhi;return[math_atan2(y*cosDeltaGamma-k*sinDeltaGamma,x*cosDeltaPhi-z*sinDeltaPhi),math_asin(k*cosDeltaGamma+y*sinDeltaGamma)]}return rotation.invert=function(lambda,phi){var cosPhi=math_cos(phi),x=math_cos(lambda)*cosPhi,y=math_sin(lambda)*cosPhi,z=math_sin(phi),k=z*cosDeltaGamma-y*sinDeltaGamma;return[math_atan2(y*cosDeltaGamma+z*sinDeltaGamma,x*cosDeltaPhi+k*sinDeltaPhi),math_asin(k*cosDeltaPhi-x*sinDeltaPhi)]},rotation}function circleStream(stream,radius,delta,direction,t0,t1){if(delta){var cosRadius=math_cos(radius),sinRadius=math_sin(radius),step=direction*delta;null==t0?(t0=radius+direction*math_tau,t1=radius-step/2):(t0=circleRadius(cosRadius,t0),t1=circleRadius(cosRadius,t1),(direction>0?t0<t1:t0>t1)&&(t0+=direction*math_tau));for(var point,t=t0;direction>0?t>t1:t<t1;t-=step)point=spherical([cosRadius,-sinRadius*math_cos(t),-sinRadius*math_sin(t)]),stream.point(point[0],point[1])}}function circleRadius(cosRadius,point){(point=cartesian(point))[0]-=cosRadius,cartesianNormalizeInPlace(point);var radius=acos(-point[1]);return((-point[2]<0?-radius:radius)+math_tau-math_epsilon)%math_tau}function buffer(){var line,lines=[];return{point:function(x,y){line.push([x,y])},lineStart:function(){lines.push(line=[])},lineEnd:noop,rejoin:function(){lines.length>1&&lines.push(lines.pop().concat(lines.shift()))},result:function(){var result=lines;return lines=[],line=null,result}}}function pointEqual(a,b){return math_abs(a[0]-b[0])<math_epsilon&&math_abs(a[1]-b[1])<math_epsilon}function Intersection(point,points,other,entry){this.x=point,this.z=points,this.o=other,this.e=entry,this.v=!1,this.n=this.p=null}function clip_polygon(segments,compareIntersection,startInside,interpolate,stream){var i,n,subject=[],clip=[];if(segments.forEach((function(segment){if(!((n=segment.length-1)<=0)){var n,x,p0=segment[0],p1=segment[n];if(pointEqual(p0,p1)){for(stream.lineStart(),i=0;i<n;++i)stream.point((p0=segment[i])[0],p0[1]);stream.lineEnd()}else subject.push(x=new Intersection(p0,segment,null,!0)),clip.push(x.o=new Intersection(p0,null,x,!1)),subject.push(x=new Intersection(p1,segment,null,!1)),clip.push(x.o=new Intersection(p1,null,x,!0))}})),subject.length){for(clip.sort(compareIntersection),polygon_link(subject),polygon_link(clip),i=0,n=clip.length;i<n;++i)clip[i].e=startInside=!startInside;for(var points,point,start=subject[0];;){for(var current=start,isSubject=!0;current.v;)if((current=current.n)===start)return;points=current.z,stream.lineStart();do{if(current.v=current.o.v=!0,current.e){if(isSubject)for(i=0,n=points.length;i<n;++i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.n.x,1,stream);current=current.n}else{if(isSubject)for(points=current.p.z,i=points.length-1;i>=0;--i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.p.x,-1,stream);current=current.p}points=(current=current.o).z,isSubject=!isSubject}while(!current.v);stream.lineEnd()}}}function polygon_link(array){if(n=array.length){for(var n,b,i=0,a=array[0];++i<n;)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0],b.p=a}}function src_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}rotationIdentity.invert=rotationIdentity;var ascendingBisect=function bisector(compare){return 1===compare.length&&(compare=function ascendingComparator(f){return function(d,x){return src_ascending(f(d),x)}}(compare)),{left:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}(src_ascending),array=(ascendingBisect.right,ascendingBisect.left,Array.prototype);array.slice,array.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function merge(arrays){for(var m,merged,array,n=arrays.length,i=-1,j=0;++i<n;)j+=arrays[i].length;for(merged=new Array(j);--n>=0;)for(m=(array=arrays[n]).length;--m>=0;)merged[--j]=array[m];return merged}var clipMax=1e9,clipMin=-clipMax;function extent_clipExtent(x0,y0,x1,y1){function visible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function interpolate(from,to,direction,stream){var a=0,a1=0;if(null==from||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoint(from,to)<0^direction>0)do{stream.point(0===a||3===a?x0:x1,a>1?y1:y0)}while((a=(a+direction+4)%4)!==a1);else stream.point(to[0],to[1])}function corner(p,direction){return math_abs(p[0]-x0)<math_epsilon?direction>0?0:3:math_abs(p[0]-x1)<math_epsilon?direction>0?2:1:math_abs(p[1]-y0)<math_epsilon?direction>0?1:0:direction>0?3:2}function compareIntersection(a,b){return comparePoint(a.x,b.x)}function comparePoint(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:0===ca?b[1]-a[1]:1===ca?a[0]-b[0]:2===ca?a[1]-b[1]:b[0]-a[0]}return function(stream){var segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean,activeStream=stream,bufferStream=buffer(),clipStream={point:point,lineStart:function lineStart(){clipStream.point=linePoint,polygon&&polygon.push(ring=[]);first=!0,v_=!1,x_=y_=NaN},lineEnd:function lineEnd(){segments&&(linePoint(x__,y__),v__&&v_&&bufferStream.rejoin(),segments.push(bufferStream.result()));clipStream.point=point,v_&&activeStream.lineEnd()},polygonStart:function polygonStart(){activeStream=bufferStream,segments=[],polygon=[],clean=!0},polygonEnd:function polygonEnd(){var startInside=function polygonInside(){for(var winding=0,i=0,n=polygon.length;i<n;++i)for(var a0,a1,ring=polygon[i],j=1,m=ring.length,point=ring[0],b0=point[0],b1=point[1];j<m;++j)a0=b0,a1=b1,b0=(point=ring[j])[0],b1=point[1],a1<=y1?b1>y1&&(b0-a0)*(y1-a1)>(b1-a1)*(x0-a0)&&++winding:b1<=y1&&(b0-a0)*(y1-a1)<(b1-a1)*(x0-a0)&&--winding;return winding}(),cleanInside=clean&&startInside,visible=(segments=merge(segments)).length;(cleanInside||visible)&&(stream.polygonStart(),cleanInside&&(stream.lineStart(),interpolate(null,null,1,stream),stream.lineEnd()),visible&&clip_polygon(segments,compareIntersection,startInside,interpolate,stream),stream.polygonEnd());activeStream=stream,segments=polygon=ring=null}};function point(x,y){visible(x,y)&&activeStream.point(x,y)}function linePoint(x,y){var v=visible(x,y);if(polygon&&ring.push([x,y]),first)x__=x,y__=y,v__=v,first=!1,v&&(activeStream.lineStart(),activeStream.point(x,y));else if(v&&v_)activeStream.point(x,y);else{var a=[x_=Math.max(clipMin,Math.min(clipMax,x_)),y_=Math.max(clipMin,Math.min(clipMax,y_))],b=[x=Math.max(clipMin,Math.min(clipMax,x)),y=Math.max(clipMin,Math.min(clipMax,y))];!function line(a,b,x0,y0,x1,y1){var r,ax=a[0],ay=a[1],t0=0,t1=1,dx=b[0]-ax,dy=b[1]-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(r<0)){if(r/=dx,dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(r<0)){if(r/=dy,dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return t0>0&&(a[0]=ax+t0*dx,a[1]=ay+t0*dy),t1<1&&(b[0]=ax+t1*dx,b[1]=ay+t1*dy),!0}}}}}(a,b,x0,y0,x1,y1)?v&&(activeStream.lineStart(),activeStream.point(x,y),clean=!1):(v_||(activeStream.lineStart(),activeStream.point(a[0],a[1])),activeStream.point(b[0],b[1]),v||activeStream.lineEnd(),clean=!1)}x_=x,y_=y,v_=v}return clipStream}}var sum=adder();function polygonContains(polygon,point){var lambda=point[0],phi=point[1],normal=[math_sin(lambda),-math_cos(lambda),0],angle=0,winding=0;sum.reset();for(var i=0,n=polygon.length;i<n;++i)if(m=(ring=polygon[i]).length)for(var ring,m,point0=ring[m-1],lambda0=point0[0],phi0=point0[1]/2+quarterPi,sinPhi0=math_sin(phi0),cosPhi0=math_cos(phi0),j=0;j<m;++j,lambda0=lambda1,sinPhi0=sinPhi1,cosPhi0=cosPhi1,point0=point1){var point1=ring[j],lambda1=point1[0],phi1=point1[1]/2+quarterPi,sinPhi1=math_sin(phi1),cosPhi1=math_cos(phi1),delta=lambda1-lambda0,sign=delta>=0?1:-1,absDelta=sign*delta,antimeridian=absDelta>math_pi,k=sinPhi0*sinPhi1;if(sum.add(math_atan2(k*sign*math_sin(absDelta),cosPhi0*cosPhi1+k*math_cos(absDelta))),angle+=antimeridian?delta+sign*math_tau:delta,antimeridian^lambda0>=lambda^lambda1>=lambda){var arc=cartesianCross(cartesian(point0),cartesian(point1));cartesianNormalizeInPlace(arc);var intersection=cartesianCross(normal,arc);cartesianNormalizeInPlace(intersection);var phiArc=(antimeridian^delta>=0?-1:1)*math_asin(intersection[2]);(phi>phiArc||phi===phiArc&&(arc[0]||arc[1]))&&(winding+=antimeridian^delta>=0?1:-1)}}return(angle<-math_epsilon||angle<math_epsilon&&sum<-math_epsilon)^1&winding}adder();adder(),adder();var bounds_x0=1/0,bounds_y0=bounds_x0,x1=-bounds_x0,y1=x1,bounds_boundsStream={point:function bounds_boundsPoint(x,y){x<bounds_x0&&(bounds_x0=x);x>x1&&(x1=x);y<bounds_y0&&(bounds_y0=y);y>y1&&(y1=y)},lineStart:noop,lineEnd:noop,polygonStart:noop,polygonEnd:noop,result:function(){var bounds=[[bounds_x0,bounds_y0],[x1,y1]];return x1=y1=-(bounds_y0=bounds_x0=1/0),bounds}};var path_bounds=bounds_boundsStream;adder();function string_circle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}function clip(pointVisible,clipLine,interpolate,start){return function(rotate,sink){var polygon,segments,ring,line=clipLine(sink),rotatedStart=rotate.invert(start[0],start[1]),ringBuffer=buffer(),ringSink=clipLine(ringBuffer),polygonStarted=!1,clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing,clip.lineStart=ringStart,clip.lineEnd=ringEnd,segments=[],polygon=[]},polygonEnd:function(){clip.point=point,clip.lineStart=lineStart,clip.lineEnd=lineEnd,segments=merge(segments);var startInside=polygonContains(polygon,rotatedStart);segments.length?(polygonStarted||(sink.polygonStart(),polygonStarted=!0),clip_polygon(segments,compareIntersection,startInside,interpolate,sink)):startInside&&(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd()),polygonStarted&&(sink.polygonEnd(),polygonStarted=!1),segments=polygon=null},sphere:function(){sink.polygonStart(),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd(),sink.polygonEnd()}};function point(lambda,phi){var point=rotate(lambda,phi);pointVisible(lambda=point[0],phi=point[1])&&sink.point(lambda,phi)}function pointLine(lambda,phi){var point=rotate(lambda,phi);line.point(point[0],point[1])}function lineStart(){clip.point=pointLine,line.lineStart()}function lineEnd(){clip.point=point,line.lineEnd()}function pointRing(lambda,phi){ring.push([lambda,phi]);var point=rotate(lambda,phi);ringSink.point(point[0],point[1])}function ringStart(){ringSink.lineStart(),ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]),ringSink.lineEnd();var i,m,segment,point,clean=ringSink.clean(),ringSegments=ringBuffer.result(),n=ringSegments.length;if(ring.pop(),polygon.push(ring),ring=null,n)if(1&clean){if((m=(segment=ringSegments[0]).length-1)>0){for(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),i=0;i<m;++i)sink.point((point=segment[i])[0],point[1]);sink.lineEnd()}}else n>1&&2&clean&&ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(validSegment))}return clip}}function validSegment(segment){return segment.length>1}function compareIntersection(a,b){return((a=a.x)[0]<0?a[1]-math_halfPi-math_epsilon:math_halfPi-a[1])-((b=b.x)[0]<0?b[1]-math_halfPi-math_epsilon:math_halfPi-b[1])}string_circle(4.5);var antimeridian=clip((function(){return!0}),(function clipAntimeridianLine(stream){var clean,lambda0=NaN,phi0=NaN,sign0=NaN;return{lineStart:function(){stream.lineStart(),clean=1},point:function(lambda1,phi1){var sign1=lambda1>0?math_pi:-math_pi,delta=math_abs(lambda1-lambda0);math_abs(delta-math_pi)<math_epsilon?(stream.point(lambda0,phi0=(phi0+phi1)/2>0?math_halfPi:-math_halfPi),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),stream.point(lambda1,phi0),clean=0):sign0!==sign1&&delta>=math_pi&&(math_abs(lambda0-sign0)<math_epsilon&&(lambda0-=sign0*math_epsilon),math_abs(lambda1-sign1)<math_epsilon&&(lambda1-=sign1*math_epsilon),phi0=function clipAntimeridianIntersect(lambda0,phi0,lambda1,phi1){var cosPhi0,cosPhi1,sinLambda0Lambda1=math_sin(lambda0-lambda1);return math_abs(sinLambda0Lambda1)>math_epsilon?math_atan((math_sin(phi0)*(cosPhi1=math_cos(phi1))*math_sin(lambda1)-math_sin(phi1)*(cosPhi0=math_cos(phi0))*math_sin(lambda0))/(cosPhi0*cosPhi1*sinLambda0Lambda1)):(phi0+phi1)/2}(lambda0,phi0,lambda1,phi1),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),clean=0),stream.point(lambda0=lambda1,phi0=phi1),sign0=sign1},lineEnd:function(){stream.lineEnd(),lambda0=phi0=NaN},clean:function(){return 2-clean}}}),(function clipAntimeridianInterpolate(from,to,direction,stream){var phi;if(null==from)phi=direction*math_halfPi,stream.point(-math_pi,phi),stream.point(0,phi),stream.point(math_pi,phi),stream.point(math_pi,0),stream.point(math_pi,-phi),stream.point(0,-phi),stream.point(-math_pi,-phi),stream.point(-math_pi,0),stream.point(-math_pi,phi);else if(math_abs(from[0]-to[0])>math_epsilon){var lambda=from[0]<to[0]?math_pi:-math_pi;phi=direction*lambda/2,stream.point(-lambda,phi),stream.point(0,phi),stream.point(lambda,phi)}else stream.point(to[0],to[1])}),[-math_pi,-math_halfPi]);function src_identity(x){return x}function transform_transformer(methods){return function(stream){var s=new TransformStream;for(var key in methods)s[key]=methods[key];return s.stream=stream,s}}function TransformStream(){}function fit_fitExtent(projection,extent,object){var w=extent[1][0]-extent[0][0],h=extent[1][1]-extent[0][1],clip=projection.clipExtent&&projection.clipExtent();projection.scale(150).translate([0,0]),null!=clip&&projection.clipExtent(null),src_stream(object,projection.stream(path_bounds));var b=path_bounds.result(),k=Math.min(w/(b[1][0]-b[0][0]),h/(b[1][1]-b[0][1])),x=+extent[0][0]+(w-k*(b[1][0]+b[0][0]))/2,y=+extent[0][1]+(h-k*(b[1][1]+b[0][1]))/2;return null!=clip&&projection.clipExtent(clip),projection.scale(150*k).translate([x,y])}TransformStream.prototype={constructor:TransformStream,point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var maxDepth=16,cosMinDistance=math_cos(30*math_radians);function resample(project,delta2){return+delta2?function resample_resample(project,delta2){function resampleLineTo(x0,y0,lambda0,a0,b0,c0,x1,y1,lambda1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*delta2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=math_sqrt(a*a+b*b+c*c),phi2=math_asin(c/=m),lambda2=math_abs(math_abs(c)-1)<math_epsilon||math_abs(lambda0-lambda1)<math_epsilon?(lambda0+lambda1)/2:math_atan2(b,a),p=project(lambda2,phi2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;(dz*dz/d2>delta2||math_abs((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance)&&(resampleLineTo(x0,y0,lambda0,a0,b0,c0,x2,y2,lambda2,a/=m,b/=m,c,depth,stream),stream.point(x2,y2),resampleLineTo(x2,y2,lambda2,a,b,c,x1,y1,lambda1,a1,b1,c1,depth,stream))}}return function(stream){var lambda00,x00,y00,a00,b00,c00,lambda0,x0,y0,a0,b0,c0,resampleStream={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart(),resampleStream.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd(),resampleStream.lineStart=lineStart}};function point(x,y){x=project(x,y),stream.point(x[0],x[1])}function lineStart(){x0=NaN,resampleStream.point=linePoint,stream.lineStart()}function linePoint(lambda,phi){var c=cartesian([lambda,phi]),p=project(lambda,phi);resampleLineTo(x0,y0,lambda0,a0,b0,c0,x0=p[0],y0=p[1],lambda0=lambda,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream),stream.point(x0,y0)}function lineEnd(){resampleStream.point=point,stream.lineEnd()}function ringStart(){lineStart(),resampleStream.point=ringPoint,resampleStream.lineEnd=ringEnd}function ringPoint(lambda,phi){linePoint(lambda00=lambda,phi),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0,resampleStream.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,lambda0,a0,b0,c0,x00,y00,lambda00,a00,b00,c00,maxDepth,stream),resampleStream.lineEnd=lineEnd,lineEnd()}return resampleStream}}(project,delta2):function resampleNone(project){return transform_transformer({point:function(x,y){x=project(x,y),this.stream.point(x[0],x[1])}})}(project)}var transformRadians=transform_transformer({point:function(x,y){this.stream.point(x*math_radians,y*math_radians)}});function projection_projection(project){return function projection_projectionMutator(projectAt){var project,dx,dy,rotate,projectRotate,y0,x1,y1,cache,cacheStream,k=150,x=480,y=250,lambda=0,phi=0,deltaLambda=0,deltaPhi=0,deltaGamma=0,theta=null,preclip=antimeridian,x0=null,postclip=src_identity,delta2=.5,projectResample=resample(projectTransform,delta2);function projection(point){return[(point=projectRotate(point[0]*math_radians,point[1]*math_radians))[0]*k+dx,dy-point[1]*k]}function invert(point){return(point=projectRotate.invert((point[0]-dx)/k,(dy-point[1])/k))&&[point[0]*math_degrees,point[1]*math_degrees]}function projectTransform(x,y){return[(x=project(x,y))[0]*k+dx,dy-x[1]*k]}function recenter(){projectRotate=compose(rotate=rotation_rotateRadians(deltaLambda,deltaPhi,deltaGamma),project);var center=project(lambda,phi);return dx=x-center[0]*k,dy=y+center[1]*k,reset()}function reset(){return cache=cacheStream=null,projection}return projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transformRadians(preclip(rotate,projectResample(postclip(cacheStream=stream))))},projection.clipAngle=function(_){return arguments.length?(preclip=+_?function clip_circle(radius,delta){var cr=math_cos(radius),smallRadius=cr>0,notHemisphere=math_abs(cr)>math_epsilon;function visible(lambda,phi){return math_cos(lambda)*math_cos(phi)>cr}function intersect(a,b,two){var n1=[1,0,0],n2=cartesianCross(cartesian(a),cartesian(b)),n2n2=cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=cartesianCross(n1,n2),A=cartesianScale(n1,c1);cartesianAddInPlace(A,cartesianScale(n2,c2));var u=n1xn2,w=cartesianDot(A,u),uu=cartesianDot(u,u),t2=w*w-uu*(cartesianDot(A,A)-1);if(!(t2<0)){var t=math_sqrt(t2),q=cartesianScale(u,(-w-t)/uu);if(cartesianAddInPlace(q,A),q=spherical(q),!two)return q;var z,lambda0=a[0],lambda1=b[0],phi0=a[1],phi1=b[1];lambda1<lambda0&&(z=lambda0,lambda0=lambda1,lambda1=z);var delta=lambda1-lambda0,polar=math_abs(delta-math_pi)<math_epsilon;if(!polar&&phi1<phi0&&(z=phi0,phi0=phi1,phi1=z),polar||delta<math_epsilon?polar?phi0+phi1>0^q[1]<(math_abs(q[0]-lambda0)<math_epsilon?phi0:phi1):phi0<=q[1]&&q[1]<=phi1:delta>math_pi^(lambda0<=q[0]&&q[0]<=lambda1)){var q1=cartesianScale(u,(-w+t)/uu);return cartesianAddInPlace(q1,A),[q,spherical(q1)]}}}function code(lambda,phi){var r=smallRadius?radius:math_pi-radius,code=0;return lambda<-r?code|=1:lambda>r&&(code|=2),phi<-r?code|=4:phi>r&&(code|=8),code}return clip(visible,(function clipLine(stream){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=!1,clean=1},point:function(lambda,phi){var point2,point1=[lambda,phi],v=visible(lambda,phi),c=smallRadius?v?0:code(lambda,phi):v?code(lambda+(lambda<0?math_pi:-math_pi),phi):0;if(!point0&&(v00=v0=v)&&stream.lineStart(),v!==v0&&(!(point2=intersect(point0,point1))||pointEqual(point0,point2)||pointEqual(point1,point2))&&(point1[0]+=math_epsilon,point1[1]+=math_epsilon,v=visible(point1[0],point1[1])),v!==v0)clean=0,v?(stream.lineStart(),point2=intersect(point1,point0),stream.point(point2[0],point2[1])):(point2=intersect(point0,point1),stream.point(point2[0],point2[1]),stream.lineEnd()),point0=point2;else if(notHemisphere&&point0&&smallRadius^v){var t;c&c0||!(t=intersect(point1,point0,!0))||(clean=0,smallRadius?(stream.lineStart(),stream.point(t[0][0],t[0][1]),stream.point(t[1][0],t[1][1]),stream.lineEnd()):(stream.point(t[1][0],t[1][1]),stream.lineEnd(),stream.lineStart(),stream.point(t[0][0],t[0][1])))}!v||point0&&pointEqual(point0,point1)||stream.point(point1[0],point1[1]),point0=point1,v0=v,c0=c},lineEnd:function(){v0&&stream.lineEnd(),point0=null},clean:function(){return clean|(v00&&v0)<<1}}}),(function interpolate(from,to,direction,stream){circleStream(stream,radius,delta,direction,from,to)}),smallRadius?[0,-radius]:[-math_pi,radius-math_pi])}(theta=_*math_radians,6*math_radians):(theta=null,antimeridian),reset()):theta*math_degrees},projection.clipExtent=function(_){return arguments.length?(postclip=null==_?(x0=y0=x1=y1=null,src_identity):extent_clipExtent(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):null==x0?null:[[x0,y0],[x1,y1]]},projection.scale=function(_){return arguments.length?(k=+_,recenter()):k},projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],recenter()):[x,y]},projection.center=function(_){return arguments.length?(lambda=_[0]%360*math_radians,phi=_[1]%360*math_radians,recenter()):[lambda*math_degrees,phi*math_degrees]},projection.rotate=function(_){return arguments.length?(deltaLambda=_[0]%360*math_radians,deltaPhi=_[1]%360*math_radians,deltaGamma=_.length>2?_[2]%360*math_radians:0,recenter()):[deltaLambda*math_degrees,deltaPhi*math_degrees,deltaGamma*math_degrees]},projection.precision=function(_){return arguments.length?(projectResample=resample(projectTransform,delta2=_*_),reset()):math_sqrt(delta2)},projection.fitExtent=function(extent,object){return fit_fitExtent(projection,extent,object)},projection.fitSize=function(size,object){return function fit_fitSize(projection,size,object){return fit_fitExtent(projection,[[0,0],size],object)}(projection,size,object)},function(){return project=projectAt.apply(this,arguments),projection.invert=project.invert&&invert,recenter()}}((function(){return project}))()}function azimuthalRaw(scale){return function(x,y){var cx=math_cos(x),cy=math_cos(y),k=scale(cx*cy);return[k*cy*math_sin(x),k*math_sin(y)]}}function azimuthalInvert(angle){return function(x,y){var z=math_sqrt(x*x+y*y),c=angle(z),sc=math_sin(c),cc=math_cos(c);return[math_atan2(x*sc,z*cc),math_asin(z&&y*sc/z)]}}var azimuthalEqualAreaRaw=azimuthalRaw((function(cxcy){return math_sqrt(2/(1+cxcy))}));azimuthalEqualAreaRaw.invert=azimuthalInvert((function(z){return 2*math_asin(z/2)}));var azimuthalEquidistantRaw=azimuthalRaw((function(c){return(c=acos(c))&&c/math_sin(c)}));function mercator_mercatorRaw(lambda,phi){return[lambda,math_log(math_tan((math_halfPi+phi)/2))]}function equirectangular_equirectangularRaw(lambda,phi){return[lambda,phi]}function gnomonicRaw(x,y){var cy=math_cos(y),k=math_cos(x)*cy;return[cy*math_sin(x)/k,math_sin(y)/k]}function naturalEarth1Raw(lambda,phi){var phi2=phi*phi,phi4=phi2*phi2;return[lambda*(.8707-.131979*phi2+phi4*(phi4*(.003971*phi2-.001529*phi4)-.013791)),phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))]}function orthographicRaw(x,y){return[math_cos(y)*math_sin(x),math_sin(y)]}function stereographicRaw(x,y){var cy=math_cos(y),k=1+math_cos(x)*cy;return[cy*math_sin(x)/k,math_sin(y)/k]}function transverseMercatorRaw(lambda,phi){return[math_log(math_tan((math_halfPi+phi)/2)),-lambda]}function bufferFeature(geojson,radius,units,steps){var properties=geojson.properties||{},geometry="Feature"===geojson.type?geojson.geometry:geojson;if("GeometryCollection"===geometry.type){var results=[];return(0,dist_es.on)(geojson,(function(geometry){var buffered=bufferFeature(geometry,radius,units,steps);buffered&&results.push(buffered)})),(0,es.uf)(results)}var projection=function defineProjection(geojson){var coords=center_dist_es(geojson).geometry.coordinates,rotation=[-coords[0],-coords[1]];return function azimuthalEquidistant(){return projection_projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}().rotate(rotation).scale(es.rQ)}(geometry),projected={type:geometry.type,coordinates:projectCoords(geometry.coordinates,projection)},geom=(new jsts_min.GeoJSONReader).read(projected),distance=(0,es.DL)((0,es.lF)(radius,units),"meters"),buffered=jsts_min.BufferOp.bufferOp(geom,distance,steps);if(!coordsIsNaN((buffered=(new jsts_min.GeoJSONWriter).write(buffered)).coordinates)){var result={type:buffered.type,coordinates:unprojectCoords(buffered.coordinates,projection)};return(0,es.zL)(result,properties)}}function coordsIsNaN(coords){return Array.isArray(coords[0])?coordsIsNaN(coords[0]):isNaN(coords[0])}function projectCoords(coords,proj){return"object"!=typeof coords[0]?proj(coords):coords.map((function(coord){return projectCoords(coord,proj)}))}function unprojectCoords(coords,proj){return"object"!=typeof coords[0]?proj.invert(coords):coords.map((function(coord){return unprojectCoords(coord,proj)}))}azimuthalEquidistantRaw.invert=azimuthalInvert((function(z){return z})),mercator_mercatorRaw.invert=function(x,y){return[x,2*math_atan(exp(y))-math_halfPi]},equirectangular_equirectangularRaw.invert=equirectangular_equirectangularRaw,gnomonicRaw.invert=azimuthalInvert(math_atan),naturalEarth1Raw.invert=function(x,y){var delta,phi=y,i=25;do{var phi2=phi*phi,phi4=phi2*phi2;phi-=delta=(phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))-y)/(1.007226+phi2*(.045255+phi4*(.259866*phi2-.311325-.005916*11*phi4)))}while(math_abs(delta)>math_epsilon&&--i>0);return[x/(.8707+(phi2=phi*phi)*(phi2*(phi2*phi2*phi2*(.003971-.001529*phi2)-.013791)-.131979)),phi]},orthographicRaw.invert=azimuthalInvert(math_asin),stereographicRaw.invert=azimuthalInvert((function(z){return 2*math_atan(z)})),transverseMercatorRaw.invert=function(x,y){return[-y,2*math_atan(exp(x))-math_halfPi]};var buffer_dist_es=function es_buffer(geojson,radius,options){var units=(options=options||{}).units||"kilometers",steps=options.steps||8;if(!geojson)throw new Error("geojson is required");if("object"!=typeof options)throw new Error("options must be an object");if("number"!=typeof steps)throw new Error("steps must be an number");if(void 0===radius)throw new Error("radius is required");if(steps<=0)throw new Error("steps must be greater than 0");var results=[];switch(geojson.type){case"GeometryCollection":return(0,dist_es.on)(geojson,(function(geometry){var buffered=bufferFeature(geometry,radius,units,steps);buffered&&results.push(buffered)})),(0,es.uf)(results);case"FeatureCollection":return(0,dist_es.By)(geojson,(function(feature){var multiBuffered=bufferFeature(feature,radius,units,steps);multiBuffered&&(0,dist_es.By)(multiBuffered,(function(buffered){buffered&&results.push(buffered)}))})),(0,es.uf)(results)}return bufferFeature(geojson,radius,units,steps)},polygon_clipping_umd=__webpack_require__("./node_modules/polygon-clipping/dist/polygon-clipping.umd.js"),polygon_clipping_umd_default=__webpack_require__.n(polygon_clipping_umd);function getCoord(coord){if(!coord)throw new Error("coord is required");if(!Array.isArray(coord)){if("Feature"===coord.type&&null!==coord.geometry&&"Point"===coord.geometry.type)return coord.geometry.coordinates;if("Point"===coord.type)return coord.coordinates}if(Array.isArray(coord)&&coord.length>=2&&!Array.isArray(coord[0])&&!Array.isArray(coord[1]))return coord;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function getCoords(coords){if(Array.isArray(coords))return coords;if("Feature"===coords.type){if(null!==coords.geometry)return coords.geometry.coordinates}else if(coords.coordinates)return coords.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function featureOf(feature,type,name){if(!feature)throw new Error("No feature passed");if(!name)throw new Error(".featureOf() requires a name");if(!feature||"Feature"!==feature.type||!feature.geometry)throw new Error("Invalid input to "+name+", Feature with geometry required");if(!feature.geometry||feature.geometry.type!==type)throw new Error("Invalid input to "+name+": must be a "+type+", given "+feature.geometry.type)}function getGeom(geojson){return"Feature"===geojson.type?geojson.geometry:geojson}var difference_dist_es=function difference(polygon1,polygon2){var geom1=getGeom(polygon1),geom2=getGeom(polygon2),properties=polygon1.properties||{},differenced=polygon_clipping_umd_default().difference(geom1.coordinates,geom2.coordinates);return 0===differenced.length?null:1===differenced.length?(0,es.yu)(differenced[0],properties):(0,es.tw)(differenced,properties)};var distance_dist_es=function es_distance(from,to,options){void 0===options&&(options={});var coordinates1=getCoord(from),coordinates2=getCoord(to),dLat=(0,es.Ht)(coordinates2[1]-coordinates1[1]),dLon=(0,es.Ht)(coordinates2[0]-coordinates1[0]),lat1=(0,es.Ht)(coordinates1[1]),lat2=(0,es.Ht)(coordinates2[1]),a=Math.pow(Math.sin(dLat/2),2)+Math.pow(Math.sin(dLon/2),2)*Math.cos(lat1)*Math.cos(lat2);return(0,es.DL)(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),options.units)};__webpack_require__("./node_modules/eventemitter3/index.js");function es_destination(origin,distance,bearing,options){void 0===options&&(options={});var coordinates1=getCoord(origin),longitude1=(0,es.Ht)(coordinates1[0]),latitude1=(0,es.Ht)(coordinates1[1]),bearingRad=(0,es.Ht)(bearing),radians=(0,es.lF)(distance,options.units),latitude2=Math.asin(Math.sin(latitude1)*Math.cos(radians)+Math.cos(latitude1)*Math.sin(radians)*Math.cos(bearingRad)),longitude2=longitude1+Math.atan2(Math.sin(bearingRad)*Math.sin(radians)*Math.cos(latitude1),Math.cos(radians)-Math.sin(latitude1)*Math.sin(latitude2)),lng=(0,es.vi)(longitude2),lat=(0,es.vi)(latitude2);return(0,es.xm)([lng,lat],options.properties)}function es_bearing(start,end,options){if(void 0===options&&(options={}),!0===options.final)return function calculateFinalBearing(start,end){var bear=es_bearing(end,start);return bear=(bear+180)%360}(start,end);var coordinates1=getCoord(start),coordinates2=getCoord(end),lon1=(0,es.Ht)(coordinates1[0]),lon2=(0,es.Ht)(coordinates2[0]),lat1=(0,es.Ht)(coordinates1[1]),lat2=(0,es.Ht)(coordinates2[1]),a=Math.sin(lon2-lon1)*Math.cos(lat2),b=Math.cos(lat1)*Math.sin(lat2)-Math.sin(lat1)*Math.cos(lat2)*Math.cos(lon2-lon1);return(0,es.vi)(Math.atan2(a,b))}var rhumb_distance_dist_es=function rhumbDistance(from,to,options){void 0===options&&(options={});var origin=getCoord(from),destination=getCoord(to);destination[0]+=destination[0]-origin[0]>180?-360:origin[0]-destination[0]>180?360:0;var distanceInMeters=function calculateRhumbDistance(origin,destination,radius){var R=radius=void 0===radius?es.rQ:Number(radius),phi1=origin[1]*Math.PI/180,phi2=destination[1]*Math.PI/180,DeltaPhi=phi2-phi1,DeltaLambda=Math.abs(destination[0]-origin[0])*Math.PI/180;DeltaLambda>Math.PI&&(DeltaLambda-=2*Math.PI);var DeltaPsi=Math.log(Math.tan(phi2/2+Math.PI/4)/Math.tan(phi1/2+Math.PI/4)),q=Math.abs(DeltaPsi)>1e-11?DeltaPhi/DeltaPsi:Math.cos(phi1),dist=Math.sqrt(DeltaPhi*DeltaPhi+q*q*DeltaLambda*DeltaLambda)*R;return dist}(origin,destination);return(0,es.vs)(distanceInMeters,"meters",options.units)};function dot(u,v){return u[0]*v[0]+u[1]*v[1]}function calcDistance(a,b,options){return"planar"===options.method?rhumb_distance_dist_es(a,b,options):distance_dist_es(a,b,options)}var point_to_line_distance_dist_es=function es_pointToLineDistance(pt,line,options){if(void 0===options&&(options={}),options.method||(options.method="geodesic"),options.units||(options.units="kilometers"),!pt)throw new Error("pt is required");if(Array.isArray(pt)?pt=(0,es.xm)(pt):"Point"===pt.type?pt=(0,es.zL)(pt):featureOf(pt,"Point","point"),!line)throw new Error("line is required");Array.isArray(line)?line=(0,es.Tu)(line):"LineString"===line.type?line=(0,es.zL)(line):featureOf(line,"LineString","line");var distance=1/0,p=pt.geometry.coordinates;return(0,dist_es.Vf)(line,(function(segment){var a=segment.geometry.coordinates[0],b=segment.geometry.coordinates[1],d=function distanceToSegment(p,a,b,options){var v=[b[0]-a[0],b[1]-a[1]],w=[p[0]-a[0],p[1]-a[1]],c1=dot(w,v);if(c1<=0)return calcDistance(p,a,{method:options.method,units:"degrees"});var c2=dot(v,v);if(c2<=c1)return calcDistance(p,b,{method:options.method,units:"degrees"});var b2=c1/c2,Pb=[a[0]+b2*v[0],a[1]+b2*v[1]];return calcDistance(p,Pb,{method:options.method,units:"degrees"})}(p,a,b,options);d<distance&&(distance=d)})),(0,es.vs)(distance,"degrees",options.units)},defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),vec4=__webpack_require__("./node_modules/gl-matrix/esm/vec4.js");function transformVector(matrix,vector){const result=(0,vec4.fF)([],vector,matrix);return(0,vec4.bA)(result,result,1/result[3]),result}function clamp(x,min,max){return x<min?min:x>max?max:x}const math_utils_log2=Math.log2||function ieLog2(x){return Math.log(x)*Math.LOG2E};var common=__webpack_require__("./node_modules/gl-matrix/esm/common.js");function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=b0*a00+b1*a10+b2*a20+b3*a30,out[1]=b0*a01+b1*a11+b2*a21+b3*a31,out[2]=b0*a02+b1*a12+b2*a22+b3*a32,out[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],out[4]=b0*a00+b1*a10+b2*a20+b3*a30,out[5]=b0*a01+b1*a11+b2*a21+b3*a31,out[6]=b0*a02+b1*a12+b2*a22+b3*a32,out[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],out[8]=b0*a00+b1*a10+b2*a20+b3*a30,out[9]=b0*a01+b1*a11+b2*a21+b3*a31,out[10]=b0*a02+b1*a12+b2*a22+b3*a32,out[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],out[12]=b0*a00+b1*a10+b2*a20+b3*a30,out[13]=b0*a01+b1*a11+b2*a21+b3*a31,out[14]=b0*a02+b1*a12+b2*a22+b3*a32,out[15]=b0*a03+b1*a13+b2*a23+b3*a33,out}function translate(out,a,v){var a00,a01,a02,a03,a10,a11,a12,a13,a20,a21,a22,a23,x=v[0],y=v[1],z=v[2];return a===out?(out[12]=a[0]*x+a[4]*y+a[8]*z+a[12],out[13]=a[1]*x+a[5]*y+a[9]*z+a[13],out[14]=a[2]*x+a[6]*y+a[10]*z+a[14],out[15]=a[3]*x+a[7]*y+a[11]*z+a[15]):(a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a03,out[4]=a10,out[5]=a11,out[6]=a12,out[7]=a13,out[8]=a20,out[9]=a21,out[10]=a22,out[11]=a23,out[12]=a00*x+a10*y+a20*z+a[12],out[13]=a01*x+a11*y+a21*z+a[13],out[14]=a02*x+a12*y+a22*z+a[14],out[15]=a03*x+a13*y+a23*z+a[15]),out}function mat4_scale(out,a,v){var x=v[0],y=v[1],z=v[2];return out[0]=a[0]*x,out[1]=a[1]*x,out[2]=a[2]*x,out[3]=a[3]*x,out[4]=a[4]*y,out[5]=a[5]*y,out[6]=a[6]*y,out[7]=a[7]*y,out[8]=a[8]*z,out[9]=a[9]*z,out[10]=a[10]*z,out[11]=a[11]*z,out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}var perspective=function perspectiveNO(out,fovy,aspect,near,far){var nf,f=1/Math.tan(fovy/2);return out[0]=f/aspect,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=f,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[11]=-1,out[12]=0,out[13]=0,out[15]=0,null!=far&&far!==1/0?(nf=1/(near-far),out[10]=(far+near)*nf,out[14]=2*far*near*nf):(out[10]=-1,out[14]=-2*near),out};function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],a9=a[9],a10=a[10],a11=a[11],a12=a[12],a13=a[13],a14=a[14],a15=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];return Math.abs(a0-b0)<=common.Ib*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=common.Ib*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=common.Ib*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=common.Ib*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=common.Ib*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=common.Ib*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=common.Ib*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=common.Ib*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=common.Ib*Math.max(1,Math.abs(a8),Math.abs(b8))&&Math.abs(a9-b9)<=common.Ib*Math.max(1,Math.abs(a9),Math.abs(b9))&&Math.abs(a10-b10)<=common.Ib*Math.max(1,Math.abs(a10),Math.abs(b10))&&Math.abs(a11-b11)<=common.Ib*Math.max(1,Math.abs(a11),Math.abs(b11))&&Math.abs(a12-b12)<=common.Ib*Math.max(1,Math.abs(a12),Math.abs(b12))&&Math.abs(a13-b13)<=common.Ib*Math.max(1,Math.abs(a13),Math.abs(b13))&&Math.abs(a14-b14)<=common.Ib*Math.max(1,Math.abs(a14),Math.abs(b14))&&Math.abs(a15-b15)<=common.Ib*Math.max(1,Math.abs(a15),Math.abs(b15))}function vec2_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out}function vec2_lerp(out,a,b,t){var ax=a[0],ay=a[1];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out}var vec;vec=function vec2_create(){var out=new common.WT(2);return common.WT!=Float32Array&&(out[0]=0,out[1]=0),out}();var vec3_mul=function vec3_multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out};!function(){var vec=function vec3_create(){var out=new common.WT(3);return common.WT!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out}()}();function assert_assert(condition,message){if(!condition)throw new Error(message||"@math.gl/web-mercator: assertion failed.")}const PI=Math.PI,PI_4=PI/4,DEGREES_TO_RADIANS=PI/180,RADIANS_TO_DEGREES=180/PI,TILE_SIZE=512,EARTH_CIRCUMFERENCE=4003e4,DEFAULT_ALTITUDE=1.5;function web_mercator_utils_lngLatToWorld(lngLat){const[lng,lat]=lngLat;assert_assert(Number.isFinite(lng)),assert_assert(Number.isFinite(lat)&&lat>=-90&&lat<=90,"invalid latitude");const phi2=lat*DEGREES_TO_RADIANS;return[TILE_SIZE*(lng*DEGREES_TO_RADIANS+PI)/(2*PI),TILE_SIZE*(PI+Math.log(Math.tan(PI_4+.5*phi2)))/(2*PI)]}function web_mercator_utils_worldToLngLat(xy){const[x,y]=xy,lambda2=x/TILE_SIZE*(2*PI)-PI,phi2=2*(Math.atan(Math.exp(y/TILE_SIZE*(2*PI)-PI))-PI_4);return[lambda2*RADIANS_TO_DEGREES,phi2*RADIANS_TO_DEGREES]}function getDistanceScales(options){const{latitude:latitude,longitude:longitude,highPrecision:highPrecision=!1}=options;assert_assert(Number.isFinite(latitude)&&Number.isFinite(longitude));const worldSize=TILE_SIZE,latCosine=Math.cos(latitude*DEGREES_TO_RADIANS),unitsPerDegreeX=worldSize/360,unitsPerDegreeY=unitsPerDegreeX/latCosine,altUnitsPerMeter=worldSize/EARTH_CIRCUMFERENCE/latCosine,result={unitsPerMeter:[altUnitsPerMeter,altUnitsPerMeter,altUnitsPerMeter],metersPerUnit:[1/altUnitsPerMeter,1/altUnitsPerMeter,1/altUnitsPerMeter],unitsPerDegree:[unitsPerDegreeX,unitsPerDegreeY,altUnitsPerMeter],degreesPerUnit:[1/unitsPerDegreeX,1/unitsPerDegreeY,1/altUnitsPerMeter]};if(highPrecision){const latCosine2=DEGREES_TO_RADIANS*Math.tan(latitude*DEGREES_TO_RADIANS)/latCosine,unitsPerDegreeY2=unitsPerDegreeX*latCosine2/2,altUnitsPerDegree2=worldSize/EARTH_CIRCUMFERENCE*latCosine2,altUnitsPerMeter2=altUnitsPerDegree2/unitsPerDegreeY*altUnitsPerMeter;result.unitsPerDegree2=[0,unitsPerDegreeY2,altUnitsPerDegree2],result.unitsPerMeter2=[altUnitsPerMeter2,0,altUnitsPerMeter2]}return result}function getViewMatrix(options){const{height:height,pitch:pitch,bearing:bearing,altitude:altitude,scale:scale,center:center}=options,vm=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];translate(vm,vm,[0,0,-altitude]),function rotateX(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[4]=a10*c+a20*s,out[5]=a11*c+a21*s,out[6]=a12*c+a22*s,out[7]=a13*c+a23*s,out[8]=a20*c-a10*s,out[9]=a21*c-a11*s,out[10]=a22*c-a12*s,out[11]=a23*c-a13*s,out}(vm,vm,-pitch*DEGREES_TO_RADIANS),function rotateZ(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];return a!==out&&(out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c+a10*s,out[1]=a01*c+a11*s,out[2]=a02*c+a12*s,out[3]=a03*c+a13*s,out[4]=a10*c-a00*s,out[5]=a11*c-a01*s,out[6]=a12*c-a02*s,out[7]=a13*c-a03*s,out}(vm,vm,bearing*DEGREES_TO_RADIANS);const relativeScale=scale/height;return mat4_scale(vm,vm,[relativeScale,relativeScale,relativeScale]),center&&translate(vm,vm,function vec3_negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out}([],center)),vm}function getProjectionMatrix(options){const{fov:fov,aspect:aspect,near:near,far:far}=function getProjectionParameters(options){const{width:width,height:height,altitude:altitude,pitch:pitch=0,offset:offset,center:center,scale:scale,nearZMultiplier:nearZMultiplier=1,farZMultiplier:farZMultiplier=1}=options;let{fovy:fovy=altitudeToFovy(DEFAULT_ALTITUDE)}=options;void 0!==altitude&&(fovy=altitudeToFovy(altitude));const fovRadians=fovy*DEGREES_TO_RADIANS,pitchRadians=pitch*DEGREES_TO_RADIANS,focalDistance=fovyToAltitude(fovy);let cameraToSeaLevelDistance=focalDistance;center&&(cameraToSeaLevelDistance+=center[2]*scale/Math.cos(pitchRadians)/height);const fovAboveCenter=fovRadians*(.5+(offset?offset[1]:0)/height),topHalfSurfaceDistance=Math.sin(fovAboveCenter)*cameraToSeaLevelDistance/Math.sin(clamp(Math.PI/2-pitchRadians-fovAboveCenter,.01,Math.PI-.01)),furthestDistance=Math.sin(pitchRadians)*topHalfSurfaceDistance+cameraToSeaLevelDistance,horizonDistance=10*cameraToSeaLevelDistance;return{fov:fovRadians,aspect:width/height,focalDistance:focalDistance,near:nearZMultiplier,far:Math.min(furthestDistance*farZMultiplier,horizonDistance)}}(options);return perspective([],fov,aspect,near,far)}function altitudeToFovy(altitude){return 2*Math.atan(.5/altitude)*RADIANS_TO_DEGREES}function fovyToAltitude(fovy){return.5/Math.tan(.5*fovy*DEGREES_TO_RADIANS)}function pixelsToWorld(xyz,pixelUnprojectionMatrix,targetZ=0){const[x,y,z]=xyz;if(assert_assert(Number.isFinite(x)&&Number.isFinite(y),"invalid pixel coordinate"),Number.isFinite(z)){return transformVector(pixelUnprojectionMatrix,[x,y,z,1])}const coord0=transformVector(pixelUnprojectionMatrix,[x,y,0,1]),coord1=transformVector(pixelUnprojectionMatrix,[x,y,1,1]),z0=coord0[2],z1=coord1[2];return vec2_lerp([],coord0,coord1,z0===z1?0:((targetZ||0)-z0)/(z1-z0))}function fitBounds(options){const{width:width,height:height,bounds:bounds,minExtent:minExtent=0,maxZoom:maxZoom=24,offset:offset=[0,0]}=options,[[west,south],[east,north]]=bounds,padding=function getPaddingObject(padding=0){if("number"==typeof padding)return{top:padding,bottom:padding,left:padding,right:padding};return assert_assert(Number.isFinite(padding.top)&&Number.isFinite(padding.bottom)&&Number.isFinite(padding.left)&&Number.isFinite(padding.right)),padding}(options.padding),nw=web_mercator_utils_lngLatToWorld([west,clamp(north,-85.051129,85.051129)]),se=web_mercator_utils_lngLatToWorld([east,clamp(south,-85.051129,85.051129)]),size=[Math.max(Math.abs(se[0]-nw[0]),minExtent),Math.max(Math.abs(se[1]-nw[1]),minExtent)],targetSize=[width-padding.left-padding.right-2*Math.abs(offset[0]),height-padding.top-padding.bottom-2*Math.abs(offset[1])];assert_assert(targetSize[0]>0&&targetSize[1]>0);const scaleX=targetSize[0]/size[0],scaleY=targetSize[1]/size[1],offsetX=(padding.right-padding.left)/2/scaleX,offsetY=(padding.top-padding.bottom)/2/scaleY,centerLngLat=web_mercator_utils_worldToLngLat([(se[0]+nw[0])/2+offsetX,(se[1]+nw[1])/2+offsetY]),zoom=Math.min(maxZoom,math_utils_log2(Math.abs(Math.min(scaleX,scaleY))));return assert_assert(Number.isFinite(zoom)),{longitude:centerLngLat[0],latitude:centerLngLat[1],zoom:zoom}}const get_bounds_DEGREES_TO_RADIANS=Math.PI/180;function unprojectOnFarPlane(viewport,x,targetZ){const{pixelUnprojectionMatrix:pixelUnprojectionMatrix}=viewport,coord0=transformVector(pixelUnprojectionMatrix,[x,0,1,1]),coord1=transformVector(pixelUnprojectionMatrix,[x,viewport.height,1,1]),result=web_mercator_utils_worldToLngLat(vec2_lerp([],coord0,coord1,(targetZ*viewport.distanceScales.unitsPerMeter[2]-coord0[2])/(coord1[2]-coord0[2])));return result.push(targetZ),result}class web_mercator_viewport_WebMercatorViewport{constructor(props={width:1,height:1}){(0,defineProperty.Z)(this,"latitude",void 0),(0,defineProperty.Z)(this,"longitude",void 0),(0,defineProperty.Z)(this,"zoom",void 0),(0,defineProperty.Z)(this,"pitch",void 0),(0,defineProperty.Z)(this,"bearing",void 0),(0,defineProperty.Z)(this,"altitude",void 0),(0,defineProperty.Z)(this,"fovy",void 0),(0,defineProperty.Z)(this,"meterOffset",void 0),(0,defineProperty.Z)(this,"center",void 0),(0,defineProperty.Z)(this,"width",void 0),(0,defineProperty.Z)(this,"height",void 0),(0,defineProperty.Z)(this,"scale",void 0),(0,defineProperty.Z)(this,"distanceScales",void 0),(0,defineProperty.Z)(this,"viewMatrix",void 0),(0,defineProperty.Z)(this,"projectionMatrix",void 0),(0,defineProperty.Z)(this,"viewProjectionMatrix",void 0),(0,defineProperty.Z)(this,"pixelProjectionMatrix",void 0),(0,defineProperty.Z)(this,"pixelUnprojectionMatrix",void 0),(0,defineProperty.Z)(this,"equals",(viewport=>viewport instanceof web_mercator_viewport_WebMercatorViewport&&(viewport.width===this.width&&viewport.height===this.height&&equals(viewport.projectionMatrix,this.projectionMatrix)&&equals(viewport.viewMatrix,this.viewMatrix)))),(0,defineProperty.Z)(this,"project",((lngLatZ,options={})=>{const{topLeft:topLeft=!0}=options,coord=function worldToPixels(xyz,pixelProjectionMatrix){const[x,y,z=0]=xyz;return assert_assert(Number.isFinite(x)&&Number.isFinite(y)&&Number.isFinite(z)),transformVector(pixelProjectionMatrix,[x,y,z,1])}(this.projectPosition(lngLatZ),this.pixelProjectionMatrix),[x,y]=coord,y2=topLeft?y:this.height-y;return 2===lngLatZ.length?[x,y2]:[x,y2,coord[2]]})),(0,defineProperty.Z)(this,"unproject",((xyz,options={})=>{const{topLeft:topLeft=!0,targetZ:targetZ}=options,[x,y,z]=xyz,y2=topLeft?y:this.height-y,targetZWorld=targetZ&&targetZ*this.distanceScales.unitsPerMeter[2],coord=pixelsToWorld([x,y2,z],this.pixelUnprojectionMatrix,targetZWorld),[X,Y,Z]=this.unprojectPosition(coord);return Number.isFinite(z)?[X,Y,Z]:Number.isFinite(targetZ)?[X,Y,targetZ]:[X,Y]})),(0,defineProperty.Z)(this,"projectPosition",(xyz=>{const[X,Y]=web_mercator_utils_lngLatToWorld(xyz);return[X,Y,(xyz[2]||0)*this.distanceScales.unitsPerMeter[2]]})),(0,defineProperty.Z)(this,"unprojectPosition",(xyz=>{const[X,Y]=web_mercator_utils_worldToLngLat(xyz);return[X,Y,(xyz[2]||0)*this.distanceScales.metersPerUnit[2]]}));let{width:width,height:height,altitude:altitude=null,fovy:fovy=null}=props;const{latitude:latitude=0,longitude:longitude=0,zoom:zoom=0,pitch:pitch=0,bearing:bearing=0,position:position=null,nearZMultiplier:nearZMultiplier=.02,farZMultiplier:farZMultiplier=1.01}=props;width=width||1,height=height||1,null===fovy&&null===altitude?(altitude=DEFAULT_ALTITUDE,fovy=altitudeToFovy(altitude)):null===fovy?fovy=altitudeToFovy(altitude):null===altitude&&(altitude=fovyToAltitude(fovy));const scale=function web_mercator_utils_zoomToScale(zoom){return Math.pow(2,zoom)}(zoom);altitude=Math.max(.75,altitude);const distanceScales=getDistanceScales({longitude:longitude,latitude:latitude}),center=web_mercator_utils_lngLatToWorld([longitude,latitude]);center.push(0),position&&function vec3_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out}(center,center,vec3_mul([],position,distanceScales.unitsPerMeter)),this.projectionMatrix=getProjectionMatrix({width:width,height:height,scale:scale,center:center,pitch:pitch,fovy:fovy,nearZMultiplier:nearZMultiplier,farZMultiplier:farZMultiplier}),this.viewMatrix=getViewMatrix({height:height,scale:scale,center:center,pitch:pitch,bearing:bearing,altitude:altitude}),this.width=width,this.height=height,this.scale=scale,this.latitude=latitude,this.longitude=longitude,this.zoom=zoom,this.pitch=pitch,this.bearing=bearing,this.altitude=altitude,this.fovy=fovy,this.center=center,this.meterOffset=position||[0,0,0],this.distanceScales=distanceScales,this._initMatrices(),Object.freeze(this)}_initMatrices(){const{width:width,height:height,projectionMatrix:projectionMatrix,viewMatrix:viewMatrix}=this,vpm=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];multiply(vpm,vpm,projectionMatrix),multiply(vpm,vpm,viewMatrix),this.viewProjectionMatrix=vpm;const m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];mat4_scale(m,m,[width/2,-height/2,1]),translate(m,m,[1,-1,0]),multiply(m,m,vpm);const mInverse=function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a02*b10-a01*b11-a03*b09)*det,out[2]=(a31*b05-a32*b04+a33*b03)*det,out[3]=(a22*b04-a21*b05-a23*b03)*det,out[4]=(a12*b08-a10*b11-a13*b07)*det,out[5]=(a00*b11-a02*b08+a03*b07)*det,out[6]=(a32*b02-a30*b05-a33*b01)*det,out[7]=(a20*b05-a22*b02+a23*b01)*det,out[8]=(a10*b10-a11*b08+a13*b06)*det,out[9]=(a01*b08-a00*b10-a03*b06)*det,out[10]=(a30*b04-a31*b02+a33*b00)*det,out[11]=(a21*b02-a20*b04-a23*b00)*det,out[12]=(a11*b07-a10*b09-a12*b06)*det,out[13]=(a00*b09-a01*b07+a02*b06)*det,out[14]=(a31*b01-a30*b03-a32*b00)*det,out[15]=(a20*b03-a21*b01+a22*b00)*det,out):null}([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m);if(!mInverse)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=m,this.pixelUnprojectionMatrix=mInverse}projectFlat(lngLat){return web_mercator_utils_lngLatToWorld(lngLat)}unprojectFlat(xy){return web_mercator_utils_worldToLngLat(xy)}getMapCenterByLngLatPosition({lngLat:lngLat,pos:pos}){const fromLocation=pixelsToWorld(pos,this.pixelUnprojectionMatrix),translate=vec2_add([],web_mercator_utils_lngLatToWorld(lngLat),function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out}([],fromLocation));return web_mercator_utils_worldToLngLat(vec2_add([],this.center,translate))}fitBounds(bounds,options={}){const{width:width,height:height}=this,{longitude:longitude,latitude:latitude,zoom:zoom}=fitBounds(Object.assign({width:width,height:height,bounds:bounds},options));return new web_mercator_viewport_WebMercatorViewport({width:width,height:height,longitude:longitude,latitude:latitude,zoom:zoom})}getBounds(options){const corners=this.getBoundingRegion(options),west=Math.min(...corners.map((p=>p[0]))),east=Math.max(...corners.map((p=>p[0])));return[[west,Math.min(...corners.map((p=>p[1])))],[east,Math.max(...corners.map((p=>p[1])))]]}getBoundingRegion(options={}){return function getBounds(viewport,z=0){const{width:width,height:height,unproject:unproject}=viewport,unprojectOps={targetZ:z},bottomLeft=unproject([0,height],unprojectOps),bottomRight=unproject([width,height],unprojectOps);let topLeft,topRight;return(viewport.fovy?.5*viewport.fovy*get_bounds_DEGREES_TO_RADIANS:Math.atan(.5/viewport.altitude))>(90-viewport.pitch)*get_bounds_DEGREES_TO_RADIANS-.01?(topLeft=unprojectOnFarPlane(viewport,0,z),topRight=unprojectOnFarPlane(viewport,width,z)):(topLeft=unproject([0,0],unprojectOps),topRight=unproject([width,0],unprojectOps)),[bottomLeft,bottomRight,topRight,topLeft]}(this,options.z||0)}getLocationAtPoint({lngLat:lngLat,pos:pos}){return this.getMapCenterByLngLatPosition({lngLat:lngLat,pos:pos})}}var composite_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/composite-layer.js"),scatterplot_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/scatterplot-layer/scatterplot-layer.js");composite_layer.Z,scatterplot_layer.Z.defaultProps;var geojson_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/geojson-layer/geojson-layer.js"),icon_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/icon-layer/icon-layer.js"),text_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/text-layer/text-layer.js");var union_dist_es=function union(poly1,poly2,options){void 0===options&&(options={});var geom1=getGeom(poly1),geom2=getGeom(poly2),unioned=polygon_clipping_umd_default().union(geom1.coordinates,geom2.coordinates);return 0===unioned.length?null:1===unioned.length?(0,es.yu)(unioned[0],options.properties):(0,es.tw)(unioned,options.properties)};function cloneFeature(geojson){var cloned={type:"Feature"};return Object.keys(geojson).forEach((function(key){switch(key){case"type":case"properties":case"geometry":return;default:cloned[key]=geojson[key]}})),cloned.properties=cloneProperties(geojson.properties),cloned.geometry=cloneGeometry(geojson.geometry),cloned}function cloneProperties(properties){var cloned={};return properties?(Object.keys(properties).forEach((function(key){var value=properties[key];"object"==typeof value?null===value?cloned[key]=null:Array.isArray(value)?cloned[key]=value.map((function(item){return item})):cloned[key]=cloneProperties(value):cloned[key]=value})),cloned):cloned}function cloneGeometry(geometry){var geom={type:geometry.type};return geometry.bbox&&(geom.bbox=geometry.bbox),"GeometryCollection"===geometry.type?(geom.geometries=geometry.geometries.map((function(g){return cloneGeometry(g)})),geom):(geom.coordinates=deepSlice(geometry.coordinates),geom)}function deepSlice(coords){var cloned=coords;return"object"!=typeof cloned[0]?cloned.slice():cloned.map((function(coord){return deepSlice(coord)}))}var clone_dist_es=function es_clone(geojson){if(!geojson)throw new Error("geojson is required");switch(geojson.type){case"Feature":return cloneFeature(geojson);case"FeatureCollection":return function cloneFeatureCollection(geojson){var cloned={type:"FeatureCollection"};return Object.keys(geojson).forEach((function(key){switch(key){case"type":case"features":return;default:cloned[key]=geojson[key]}})),cloned.features=geojson.features.map((function(feature){return cloneFeature(feature)})),cloned}(geojson);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return cloneGeometry(geojson);default:throw new Error("unknown GeoJSON type")}};function booleanClockwise(line){for(var prev,cur,ring=getCoords(line),sum=0,i=1;i<ring.length;)prev=cur||ring[0],sum+=((cur=ring[i])[0]-prev[0])*(cur[1]+prev[1]),i++;return sum>0}function rewindFeature(geojson,reverse){switch("Feature"===geojson.type?geojson.geometry.type:geojson.type){case"GeometryCollection":return(0,dist_es.on)(geojson,(function(geometry){rewindFeature(geometry,reverse)})),geojson;case"LineString":return rewindLineString(getCoords(geojson),reverse),geojson;case"Polygon":return rewindPolygon(getCoords(geojson),reverse),geojson;case"MultiLineString":return getCoords(geojson).forEach((function(lineCoords){rewindLineString(lineCoords,reverse)})),geojson;case"MultiPolygon":return getCoords(geojson).forEach((function(lineCoords){rewindPolygon(lineCoords,reverse)})),geojson;case"Point":case"MultiPoint":return geojson}}function rewindLineString(coords,reverse){booleanClockwise(coords)===reverse&&coords.reverse()}function rewindPolygon(coords,reverse){booleanClockwise(coords[0])!==reverse&&coords[0].reverse();for(var i=1;i<coords.length;i++)booleanClockwise(coords[i])===reverse&&coords[i].reverse()}var rewind_dist_es=function rewind(geojson,options){if(options=options||{},!(0,es.Kn)(options))throw new Error("options is invalid");var reverse=options.reverse||!1,mutate=options.mutate||!1;if(!geojson)throw new Error("<geojson> is required");if("boolean"!=typeof reverse)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof mutate)throw new Error("<mutate> must be a boolean");!1===mutate&&(geojson=clone_dist_es(geojson));var results=[];switch(geojson.type){case"GeometryCollection":return(0,dist_es.on)(geojson,(function(geometry){rewindFeature(geometry,reverse)})),geojson;case"FeatureCollection":return(0,dist_es.By)(geojson,(function(feature){(0,dist_es.By)(rewindFeature(feature,reverse),(function(result){results.push(result)}))})),(0,es.uf)(results)}return rewindFeature(geojson,reverse)};function edit_modes_utils_recursivelyTraverseNestedArrays(array,prefix,fn){if(!Array.isArray(array[0]))return!0;for(let i=0;i<array.length;i++)if(edit_modes_utils_recursivelyTraverseNestedArrays(array[i],[...prefix,i],fn)){fn(array,prefix);break}return!1}function utils_generatePointsParallelToLinePoints(p1,p2,mapCoords){const lineString={type:"LineString",coordinates:[p1,p2]},pt=(0,es.xm)(mapCoords),ddistance=point_to_line_distance_dist_es(pt,lineString),lineBearing=es_bearing(p1,p2),orthogonalBearing=(mapCoords[0]-p1[0])*(p2[1]-p1[1])-(mapCoords[1]-p1[1])*(p2[0]-p1[0])<0?lineBearing-90:lineBearing-270,p3=es_destination(p2,ddistance,orthogonalBearing),p4=es_destination(p1,ddistance,orthogonalBearing);return[p3.geometry.coordinates,p4.geometry.coordinates]}function utils_distance2d(x1,y1,x2,y2){const dx=x1-x2,dy=y1-y2;return Math.sqrt(dx*dx+dy*dy)}function utils_getPickedEditHandle(picks){const handles=utils_getPickedEditHandles(picks);return handles.length?handles[0]:null}function getPickedExistingEditHandle(picks){return utils_getPickedEditHandles(picks).find((({properties:properties})=>properties.featureIndex>=0&&"existing"===properties.editHandleType))}function getPickedIntermediateEditHandle(picks){return utils_getPickedEditHandles(picks).find((({properties:properties})=>properties.featureIndex>=0&&"intermediate"===properties.editHandleType))}function utils_getPickedEditHandles(picks){return picks&&picks.filter((pick=>pick.isGuide&&"editHandle"===pick.object.properties.guideType)).map((pick=>pick.object))||[]}function getEditHandlesForGeometry(geometry,featureIndex,editHandleType="existing"){let handles=[];switch(geometry.type){case"Point":handles=[{type:"Feature",properties:{guideType:"editHandle",editHandleType:editHandleType,positionIndexes:[],featureIndex:featureIndex},geometry:{type:"Point",coordinates:geometry.coordinates}}];break;case"MultiPoint":case"LineString":handles=handles.concat(getEditHandlesForCoordinates(geometry.coordinates,[],featureIndex,editHandleType));break;case"Polygon":case"MultiLineString":for(let a=0;a<geometry.coordinates.length;a++)handles=handles.concat(getEditHandlesForCoordinates(geometry.coordinates[a],[a],featureIndex,editHandleType)),"Polygon"===geometry.type&&(handles=handles.slice(0,-1));break;case"MultiPolygon":for(let a=0;a<geometry.coordinates.length;a++)for(let b=0;b<geometry.coordinates[a].length;b++)handles=handles.concat(getEditHandlesForCoordinates(geometry.coordinates[a][b],[a,b],featureIndex,editHandleType)),handles=handles.slice(0,-1);break;default:throw Error(`Unhandled geometry type: ${geometry.type}`)}return handles}function getEditHandlesForCoordinates(coordinates,positionIndexPrefix,featureIndex,editHandleType="existing"){const editHandles=[];for(let i=0;i<coordinates.length;i++){const position=coordinates[i];editHandles.push({type:"Feature",properties:{guideType:"editHandle",positionIndexes:[...positionIndexPrefix,i],featureIndex:featureIndex,editHandleType:editHandleType},geometry:{type:"Point",coordinates:position}})}return editHandles}function mapCoords(coords,callback){return"number"==typeof coords[0]?!isNaN(coords[0])&&isFinite(coords[0])?callback(coords):coords:coords.map((coord=>mapCoords(coord,callback))).filter(Boolean)}class immutable_feature_collection_ImmutableFeatureCollection{featureCollection;constructor(featureCollection){this.featureCollection=featureCollection}getObject(){return this.featureCollection}replacePosition(featureIndex,positionIndexes,updatedPosition){const geometry=this.featureCollection.features[featureIndex].geometry,isPolygonal="Polygon"===geometry.type||"MultiPolygon"===geometry.type,updatedGeometry={...geometry,coordinates:immutablyReplacePosition(geometry.coordinates,positionIndexes,updatedPosition,isPolygonal)};return this.replaceGeometry(featureIndex,updatedGeometry)}removePosition(featureIndex,positionIndexes){const geometry=this.featureCollection.features[featureIndex].geometry;if("Point"===geometry.type)throw Error("Can't remove a position from a Point or there'd be nothing left");if("MultiPoint"===geometry.type&&geometry.coordinates.length<2)throw Error("Can't remove the last point of a MultiPoint or there'd be nothing left");if("LineString"===geometry.type&&geometry.coordinates.length<3)throw Error("Can't remove position. LineString must have at least two positions");if("Polygon"===geometry.type&&geometry.coordinates[0].length<5&&Array.isArray(positionIndexes)&&0===positionIndexes[0])throw Error("Can't remove position. Polygon's outer ring must have at least four positions");if("MultiLineString"===geometry.type&&1===geometry.coordinates.length&&geometry.coordinates[0].length<3)throw Error("Can't remove position. MultiLineString must have at least two positions");if("MultiPolygon"===geometry.type&&1===geometry.coordinates.length&&geometry.coordinates[0][0].length<5&&Array.isArray(positionIndexes)&&0===positionIndexes[0]&&0===positionIndexes[1])throw Error("Can't remove position. MultiPolygon's outer ring must have at least four positions");const isPolygonal="Polygon"===geometry.type||"MultiPolygon"===geometry.type,updatedGeometry={...geometry,coordinates:immutablyRemovePosition(geometry.coordinates,positionIndexes,isPolygonal)};return function pruneGeometryIfNecessary(geometry){switch(geometry.type){case"Polygon":!function prunePolygonIfNecessary(geometry){const polygon=geometry.coordinates;for(let holeIndex=1;holeIndex<polygon.length;holeIndex++)removeHoleIfNecessary(polygon,holeIndex)&&holeIndex--}(geometry);break;case"MultiLineString":!function pruneMultiLineStringIfNecessary(geometry){for(let lineStringIndex=0;lineStringIndex<geometry.coordinates.length;lineStringIndex++){1===geometry.coordinates[lineStringIndex].length&&(geometry.coordinates.splice(lineStringIndex,1),lineStringIndex--)}}(geometry);break;case"MultiPolygon":!function pruneMultiPolygonIfNecessary(geometry){for(let polygonIndex=0;polygonIndex<geometry.coordinates.length;polygonIndex++){const polygon=geometry.coordinates[polygonIndex];polygon[0].length<=3&&(geometry.coordinates.splice(polygonIndex,1),polygonIndex--);for(let holeIndex=1;holeIndex<polygon.length;holeIndex++)removeHoleIfNecessary(polygon,holeIndex)&&holeIndex--}}(geometry)}}(updatedGeometry),this.replaceGeometry(featureIndex,updatedGeometry)}addPosition(featureIndex,positionIndexes,positionToAdd){const geometry=this.featureCollection.features[featureIndex].geometry;if("Point"===geometry.type)throw new Error("Unable to add a position to a Point feature");const isPolygonal="Polygon"===geometry.type||"MultiPolygon"===geometry.type,updatedGeometry={...geometry,coordinates:immutablyAddPosition(geometry.coordinates,positionIndexes,positionToAdd,isPolygonal)};return this.replaceGeometry(featureIndex,updatedGeometry)}replaceGeometry(featureIndex,geometry){const updatedFeature={...this.featureCollection.features[featureIndex],geometry:geometry},updatedFeatureCollection={...this.featureCollection,features:[...this.featureCollection.features.slice(0,featureIndex),updatedFeature,...this.featureCollection.features.slice(featureIndex+1)]};return new immutable_feature_collection_ImmutableFeatureCollection(updatedFeatureCollection)}addFeature(feature){return this.addFeatures([feature])}addFeatures(features){const updatedFeatureCollection={...this.featureCollection,features:[...this.featureCollection.features,...features]};return new immutable_feature_collection_ImmutableFeatureCollection(updatedFeatureCollection)}deleteFeature(featureIndex){return this.deleteFeatures([featureIndex])}deleteFeatures(featureIndexes){const features=[...this.featureCollection.features];featureIndexes.sort();for(let i=featureIndexes.length-1;i>=0;i--){const featureIndex=featureIndexes[i];featureIndex>=0&&featureIndex<features.length&&features.splice(featureIndex,1)}const updatedFeatureCollection={...this.featureCollection,features:features};return new immutable_feature_collection_ImmutableFeatureCollection(updatedFeatureCollection)}}function getUpdatedPosition(updatedPosition,previousPosition){if(2===updatedPosition.length&&3===previousPosition.length){const elevation=previousPosition[2];return[updatedPosition[0],updatedPosition[1],elevation]}return updatedPosition}function immutablyReplacePosition(coordinates,positionIndexes,updatedPosition,isPolygonal){if(!positionIndexes)return coordinates;if(0===positionIndexes.length)return getUpdatedPosition(updatedPosition,coordinates);if(1===positionIndexes.length){const updated=[...coordinates.slice(0,positionIndexes[0]),getUpdatedPosition(updatedPosition,coordinates[positionIndexes[0]]),...coordinates.slice(positionIndexes[0]+1)];return!isPolygonal||0!==positionIndexes[0]&&positionIndexes[0]!==coordinates.length-1||(updated[0]=getUpdatedPosition(updatedPosition,coordinates[0]),updated[coordinates.length-1]=getUpdatedPosition(updatedPosition,coordinates[0])),updated}return[...coordinates.slice(0,positionIndexes[0]),immutablyReplacePosition(coordinates[positionIndexes[0]],positionIndexes.slice(1,positionIndexes.length),updatedPosition,isPolygonal),...coordinates.slice(positionIndexes[0]+1)]}function immutablyRemovePosition(coordinates,positionIndexes,isPolygonal){if(!positionIndexes)return coordinates;if(0===positionIndexes.length)throw Error("Must specify the index of the position to remove");if(1===positionIndexes.length){const updated=[...coordinates.slice(0,positionIndexes[0]),...coordinates.slice(positionIndexes[0]+1)];return!isPolygonal||0!==positionIndexes[0]&&positionIndexes[0]!==coordinates.length-1||(0===positionIndexes[0]?updated[updated.length-1]=updated[0]:positionIndexes[0]===coordinates.length-1&&(updated[0]=updated[updated.length-1])),updated}return[...coordinates.slice(0,positionIndexes[0]),immutablyRemovePosition(coordinates[positionIndexes[0]],positionIndexes.slice(1,positionIndexes.length),isPolygonal),...coordinates.slice(positionIndexes[0]+1)]}function immutablyAddPosition(coordinates,positionIndexes,positionToAdd,isPolygonal){if(!positionIndexes)return coordinates;if(0===positionIndexes.length)throw Error("Must specify the index of the position to remove");if(1===positionIndexes.length){return[...coordinates.slice(0,positionIndexes[0]),positionToAdd,...coordinates.slice(positionIndexes[0])]}return[...coordinates.slice(0,positionIndexes[0]),immutablyAddPosition(coordinates[positionIndexes[0]],positionIndexes.slice(1,positionIndexes.length),positionToAdd,isPolygonal),...coordinates.slice(positionIndexes[0]+1)]}function removeHoleIfNecessary(polygon,holeIndex){return polygon[holeIndex].length<=3&&(polygon.splice(holeIndex,1),!0)}const DEFAULT_GUIDES={type:"FeatureCollection",features:[]},DEFAULT_TOOLTIPS=[];class geojson_edit_mode_GeoJsonEditMode{_clickSequence=[];getGuides(props){return DEFAULT_GUIDES}getTooltips(props){return DEFAULT_TOOLTIPS}getSelectedFeature(props){return 1===props.selectedIndexes.length?props.data.features[props.selectedIndexes[0]]:null}getSelectedGeometry(props){const feature=this.getSelectedFeature(props);return feature?feature.geometry:null}getSelectedFeaturesAsFeatureCollection(props){const{features:features}=props.data;return{type:"FeatureCollection",features:props.selectedIndexes.map((selectedIndex=>features[selectedIndex]))}}getClickSequence(){return this._clickSequence}addClickSequence({mapCoords:mapCoords}){this._clickSequence.push(mapCoords)}resetClickSequence(){this._clickSequence=[]}getTentativeGuide(props){return this.getGuides(props).features.find((f=>f.properties&&"tentative"===f.properties.guideType))}isSelectionPicked(picks,props){if(!picks.length)return!1;const pickedFeatures=function getNonGuidePicks(picks){return picks&&picks.filter((pick=>!pick.isGuide))}(picks).map((({index:index})=>index)),pickedHandles=utils_getPickedEditHandles(picks).map((({properties:properties})=>properties.featureIndex)),pickedIndexes=new Set([...pickedFeatures,...pickedHandles]);return props.selectedIndexes.some((index=>pickedIndexes.has(index)))}rewindPolygon(feature){const{geometry:geometry}=feature;return"Polygon"===geometry.type||"MultiPolygon"===geometry.type?rewind_dist_es(feature):feature}getAddFeatureAction(featureOrGeometry,features){const featureOrGeometryAsAny=featureOrGeometry,feature="Feature"===featureOrGeometryAsAny.type?featureOrGeometryAsAny:{type:"Feature",properties:{},geometry:featureOrGeometryAsAny},rewindFeature=this.rewindPolygon(feature),updatedData=new immutable_feature_collection_ImmutableFeatureCollection(features).addFeature(rewindFeature).getObject();return{updatedData:updatedData,editType:"addFeature",editContext:{featureIndexes:[updatedData.features.length-1]}}}getAddManyFeaturesAction({features:featuresToAdd},features){let updatedData=new immutable_feature_collection_ImmutableFeatureCollection(features);const initialIndex=updatedData.getObject().features.length,updatedIndexes=[];for(const feature of featuresToAdd){const{properties:properties,geometry:geometry}=feature,geometryAsAny=geometry;updatedData=updatedData.addFeature({type:"Feature",properties:properties,geometry:geometryAsAny}),updatedIndexes.push(initialIndex+updatedIndexes.length)}return{updatedData:updatedData.getObject(),editType:"addFeature",editContext:{featureIndexes:updatedIndexes}}}getAddFeatureOrBooleanPolygonAction(featureOrGeometry,props){const featureOrGeometryAsAny=featureOrGeometry,selectedFeature=this.getSelectedFeature(props),{modeConfig:modeConfig}=props;if(modeConfig&&modeConfig.booleanOperation){if(!selectedFeature||"Polygon"!==selectedFeature.geometry.type&&"MultiPolygon"!==selectedFeature.geometry.type)return console.warn("booleanOperation only supported for single Polygon or MultiPolygon selection"),null;const feature="Feature"===featureOrGeometryAsAny.type?featureOrGeometryAsAny:{type:"Feature",geometry:featureOrGeometryAsAny};let updatedGeometry;if("union"===modeConfig.booleanOperation)updatedGeometry=union_dist_es(selectedFeature,feature);else if("difference"===modeConfig.booleanOperation)updatedGeometry=difference_dist_es(selectedFeature,feature);else{if("intersection"!==modeConfig.booleanOperation)return console.warn(`Invalid booleanOperation ${modeConfig.booleanOperation}`),null;updatedGeometry=function intersect(poly1,poly2,options){void 0===options&&(options={});var geom1=getGeom(poly1),geom2=getGeom(poly2),intersection=polygon_clipping_umd_default().intersection(geom1.coordinates,geom2.coordinates);return 0===intersection.length?null:1===intersection.length?(0,es.yu)(intersection[0],options.properties):(0,es.tw)(intersection,options.properties)}(selectedFeature,feature)}if(!updatedGeometry)return console.warn("Canceling edit. Boolean operation erased entire polygon."),null;const featureIndex=props.selectedIndexes[0];return{updatedData:new immutable_feature_collection_ImmutableFeatureCollection(props.data).replaceGeometry(featureIndex,updatedGeometry.geometry).getObject(),editType:"unionGeometry",editContext:{featureIndexes:[featureIndex]}}}return this.getAddFeatureAction(featureOrGeometry,props.data)}createTentativeFeature(props){return null}handleClick(event,props){}handlePointerMove(event,props){const tentativeFeature=this.createTentativeFeature(props);tentativeFeature&&props.onEdit({updatedData:props.data,editType:"updateTentativeFeature",editContext:{feature:tentativeFeature}})}handleStartDragging(event,props){}handleStopDragging(event,props){}handleDragging(event,props){}handleKeyUp(event,props){"Escape"===event.key&&(this.resetClickSequence(),props.onEdit({updatedData:props.data,editType:"cancelFeature",editContext:{}}))}}function getIntermediatePosition(position1,position2){return[(position1[0]+position2[0])/2,(position1[1]+position2[1])/2]}class ViewMode extends geojson_edit_mode_GeoJsonEditMode{}function calculateRhumbBearing(from,to){var phi1=(0,es.Ht)(from[1]),phi2=(0,es.Ht)(to[1]),deltaLambda=(0,es.Ht)(to[0]-from[0]);deltaLambda>Math.PI&&(deltaLambda-=2*Math.PI),deltaLambda<-Math.PI&&(deltaLambda+=2*Math.PI);var deltaPsi=Math.log(Math.tan(phi2/2+Math.PI/4)/Math.tan(phi1/2+Math.PI/4)),theta=Math.atan2(deltaLambda,deltaPsi);return((0,es.vi)(theta)+360)%360}var rhumb_bearing_dist_es=function rhumbBearing(start,end,options){var bear360;return void 0===options&&(options={}),(bear360=options.final?calculateRhumbBearing(getCoord(end),getCoord(start)):calculateRhumbBearing(getCoord(start),getCoord(end)))>180?-(360-bear360):bear360};var rhumb_destination_dist_es=function rhumbDestination(origin,distance,bearing,options){void 0===options&&(options={});var wasNegativeDistance=distance<0,distanceInMeters=(0,es.vs)(Math.abs(distance),options.units,"meters");wasNegativeDistance&&(distanceInMeters=-Math.abs(distanceInMeters));var coords=getCoord(origin),destination=function calculateRhumbDestination(origin,distance,bearing,radius){radius=void 0===radius?es.rQ:Number(radius);var delta=distance/radius,lambda1=origin[0]*Math.PI/180,phi1=(0,es.Ht)(origin[1]),theta=(0,es.Ht)(bearing),DeltaPhi=delta*Math.cos(theta),phi2=phi1+DeltaPhi;Math.abs(phi2)>Math.PI/2&&(phi2=phi2>0?Math.PI-phi2:-Math.PI-phi2);var DeltaPsi=Math.log(Math.tan(phi2/2+Math.PI/4)/Math.tan(phi1/2+Math.PI/4)),q=Math.abs(DeltaPsi)>1e-11?DeltaPhi/DeltaPsi:Math.cos(phi1),DeltaLambda=delta*Math.sin(theta)/q,lambda2=lambda1+DeltaLambda;return[(180*lambda2/Math.PI+540)%360-180,180*phi2/Math.PI]}(coords,distanceInMeters,bearing);return destination[0]+=destination[0]-coords[0]>180?-360:coords[0]-destination[0]>180?360:0,(0,es.xm)(destination,options.properties)};class TranslateMode extends geojson_edit_mode_GeoJsonEditMode{_geometryBeforeTranslate;_isTranslatable=void 0;handleDragging(event,props){if(this._isTranslatable){if(this._geometryBeforeTranslate){const editAction=this.getTranslateAction(event.pointerDownMapCoords,event.mapCoords,"translating",props);editAction&&props.onEdit(editAction)}event.cancelPan()}}handlePointerMove(event,props){this._isTranslatable=this.isSelectionPicked(event.pointerDownPicks||event.picks,props),this.updateCursor(props)}handleStartDragging(event,props){this._isTranslatable&&(this._geometryBeforeTranslate=this.getSelectedFeaturesAsFeatureCollection(props))}handleStopDragging(event,props){if(this._geometryBeforeTranslate){const editAction=this.getTranslateAction(event.pointerDownMapCoords,event.mapCoords,"translated",props);editAction&&props.onEdit(editAction),this._geometryBeforeTranslate=null}}updateCursor(props){this._isTranslatable?props.onUpdateCursor("move"):props.onUpdateCursor(null)}getTranslateAction(startDragPoint,currentPoint,editType,props){if(!this._geometryBeforeTranslate)return null;let updatedData=new immutable_feature_collection_ImmutableFeatureCollection(props.data);const selectedIndexes=props.selectedIndexes,{viewport:viewportDesc,screenSpace:screenSpace}=props.modeConfig||{};if(viewportDesc&&screenSpace){const viewport=viewportDesc.project?viewportDesc:new web_mercator_viewport_WebMercatorViewport(viewportDesc),from=viewport.project(startDragPoint),to=viewport.project(currentPoint),dx=to[0]-from[0],dy=to[1]-from[1];for(let i=0;i<selectedIndexes.length;i++){const selectedIndex=selectedIndexes[i],feature=this._geometryBeforeTranslate.features[i];let coordinates=feature.geometry.coordinates;coordinates&&(coordinates=mapCoords(coordinates,(coord=>{const pixels=viewport.project(coord);return pixels?(pixels[0]+=dx,pixels[1]+=dy,viewport.unproject(pixels)):null})),updatedData=updatedData.replaceGeometry(selectedIndex,{type:feature.geometry.type,coordinates:coordinates}))}}else{const p1=(0,es.xm)(startDragPoint),p2=(0,es.xm)(currentPoint),distanceMoved=distance_dist_es(p1,p2),direction=es_bearing(p1,p2),movedFeatures=this._geometryBeforeTranslate.features.map((feature=>function translateFromCenter(feature,distance,direction){const initialCenterPoint=center_dist_es(feature),movedCenterPoint=rhumb_destination_dist_es(initialCenterPoint,distance,direction),movedCoordinates=mapCoords(feature.geometry.coordinates,(coordinate=>{const distance=rhumb_distance_dist_es(initialCenterPoint.geometry.coordinates,coordinate),direction=rhumb_bearing_dist_es(initialCenterPoint.geometry.coordinates,coordinate);return rhumb_destination_dist_es(movedCenterPoint.geometry.coordinates,distance,direction).geometry.coordinates}));return feature.geometry.coordinates=movedCoordinates,feature}(clone_dist_es(feature),distanceMoved,direction)));for(let i=0;i<selectedIndexes.length;i++){const selectedIndex=selectedIndexes[i],movedFeature=movedFeatures[i];updatedData=updatedData.replaceGeometry(selectedIndex,movedFeature.geometry)}}return{updatedData:updatedData.getObject(),editType:editType,editContext:{featureIndexes:selectedIndexes}}}}class ModifyMode extends geojson_edit_mode_GeoJsonEditMode{getGuides(props){const handles=[],{data:data,lastPointerMoveEvent:lastPointerMoveEvent}=props,{features:features}=data,picks=lastPointerMoveEvent&&lastPointerMoveEvent.picks,mapCoords=lastPointerMoveEvent&&lastPointerMoveEvent.mapCoords;for(const index of props.selectedIndexes)if(index<features.length){const{geometry:geometry}=features[index];handles.push(...getEditHandlesForGeometry(geometry,index))}else console.warn(`selectedFeatureIndexes out of range ${index}`);if(picks&&picks.length&&mapCoords){const featureAsPick=!getPickedExistingEditHandle(picks)&&picks.find((pick=>!pick.isGuide));if(featureAsPick&&!featureAsPick.object.geometry.type.includes("Point")&&(!props.modeConfig?.lockRectangles||"Rectangle"!==featureAsPick.object.properties.shape)&&props.selectedIndexes.includes(featureAsPick.index)){let intermediatePoint=null,positionIndexPrefix=[];const referencePoint=(0,es.xm)(mapCoords);if(edit_modes_utils_recursivelyTraverseNestedArrays(featureAsPick.object.geometry.coordinates,[],((lineString,prefix)=>{const lineStringFeature=(0,es.Tu)(lineString),candidateIntermediatePoint=this.getNearestPoint(lineStringFeature,referencePoint,props.modeConfig&&props.modeConfig.viewport);(!intermediatePoint||candidateIntermediatePoint.properties.dist<intermediatePoint.properties.dist)&&(intermediatePoint=candidateIntermediatePoint,positionIndexPrefix=prefix)})),intermediatePoint){const{geometry:{coordinates:position},properties:{index:index}}=intermediatePoint;handles.push({type:"Feature",properties:{guideType:"editHandle",editHandleType:"intermediate",featureIndex:featureAsPick.index,positionIndexes:[...positionIndexPrefix,index+1]},geometry:{type:"Point",coordinates:position}})}}}return{type:"FeatureCollection",features:handles}}getNearestPoint(line,inPoint,viewport){const{coordinates:coordinates}=line.geometry;if(coordinates.some((coord=>coord.length>2))){if(viewport)return function edit_modes_utils_nearestPointOnProjectedLine(line,inPoint,viewport){const wmViewport=new web_mercator_viewport_WebMercatorViewport(viewport),projectedCoords=line.geometry.coordinates.map((([x,y,z=0])=>wmViewport.project([x,y,z]))),[x,y]=wmViewport.project(inPoint.geometry.coordinates);let minDistance=1/0,minPointInfo={};projectedCoords.forEach((([x2,y2],index)=>{if(0===index)return;const[x1,y1]=projectedCoords[index-1],A=y1-y2,B=x2-x1,C=x1*y2-x2*y1,div=A*A+B*B,distance=Math.abs(A*x+B*y+C)/Math.sqrt(div);distance<minDistance&&(minDistance=distance,minPointInfo={index:index,x0:(B*(B*x-A*y)-A*C)/div,y0:(A*(-B*x+A*y)-B*C)/div})}));const{index:index,x0:x0,y0:y0}=minPointInfo,[x1,y1,z1=0]=projectedCoords[index-1],[x2,y2,z2=0]=projectedCoords[index],lineLength=utils_distance2d(x1,y1,x2,y2),z0=function utils_mix(a,b,ratio){return b*ratio+a*(1-ratio)}(z1,z2,utils_distance2d(x1,y1,x0,y0)/lineLength);return{type:"Feature",geometry:{type:"Point",coordinates:wmViewport.unproject([x0,y0,z0])},properties:{dist:minDistance,index:index-1}}}(line,inPoint,viewport);console.log("Editing 3D point but modeConfig.viewport not provided. Falling back to 2D logic.")}return function utils_nearestPointOnLine(lines,inPoint,viewport){let mercator;viewport&&(mercator=new web_mercator_viewport_WebMercatorViewport(viewport));let closestPoint=(0,es.xm)([1/0,1/0],{dist:1/0});return!lines.geometry?.coordinates.length||lines.geometry?.coordinates.length<2||(0,dist_es.nG)(lines,(line=>{const coords=getCoords(line),pointCoords=getCoords(inPoint);let minDist,to,from,x,y,segmentIdx,dist;if(coords.length>1&&pointCoords.length){let lineCoordinates,pointCoordinate;mercator?(lineCoordinates=coords.map((lineCoordinate=>mercator.project(lineCoordinate))),pointCoordinate=mercator.project(pointCoords)):(lineCoordinates=coords,pointCoordinate=pointCoords);for(let n=1;n<lineCoordinates.length;n++){if(lineCoordinates[n][0]!==lineCoordinates[n-1][0]){const slope=(lineCoordinates[n][1]-lineCoordinates[n-1][1])/(lineCoordinates[n][0]-lineCoordinates[n-1][0]),inverseSlope=lineCoordinates[n][1]-slope*lineCoordinates[n][0];dist=Math.abs(slope*pointCoordinate[0]+inverseSlope-pointCoordinate[1])/Math.sqrt(slope*slope+1)}else dist=Math.abs(pointCoordinate[0]-lineCoordinates[n][0]);const rl2=Math.pow(lineCoordinates[n][1]-lineCoordinates[n-1][1],2)+Math.pow(lineCoordinates[n][0]-lineCoordinates[n-1][0],2),ln2=Math.pow(lineCoordinates[n][1]-pointCoordinate[1],2)+Math.pow(lineCoordinates[n][0]-pointCoordinate[0],2),lnm12=Math.pow(lineCoordinates[n-1][1]-pointCoordinate[1],2)+Math.pow(lineCoordinates[n-1][0]-pointCoordinate[0],2),dist2=Math.pow(dist,2),calcrl2=ln2-dist2+lnm12-dist2;calcrl2>rl2&&(dist=Math.sqrt(Math.min(ln2,lnm12))),(null==minDist||minDist>dist)&&(calcrl2>rl2?lnm12<ln2?(to=0,from=1):(from=0,to=1):(to=Math.sqrt(lnm12-dist2)/Math.sqrt(rl2),from=Math.sqrt(ln2-dist2)/Math.sqrt(rl2)),minDist=dist,segmentIdx=n)}const dx=lineCoordinates[segmentIdx-1][0]-lineCoordinates[segmentIdx][0],dy=lineCoordinates[segmentIdx-1][1]-lineCoordinates[segmentIdx][1];x=lineCoordinates[segmentIdx-1][0]-dx*to,y=lineCoordinates[segmentIdx-1][1]-dy*to}let snapPoint={x:x,y:y,idx:segmentIdx-1,to:to,from:from};if(mercator){const pixelToLatLong=mercator.unproject([snapPoint.x,snapPoint.y]);snapPoint={x:pixelToLatLong[0],y:pixelToLatLong[1],idx:segmentIdx-1,to:to,from:from}}closestPoint=(0,es.xm)([snapPoint.x,snapPoint.y],{dist:Math.abs(snapPoint.from-snapPoint.to),index:snapPoint.idx})})),closestPoint}(line,inPoint,viewport)}handleClick(event,props){const pickedExistingHandle=getPickedExistingEditHandle(event.picks),pickedIntermediateHandle=getPickedIntermediateEditHandle(event.picks);if(pickedExistingHandle){const{featureIndex:featureIndex,positionIndexes:positionIndexes}=pickedExistingHandle.properties;let updatedData;try{updatedData=new immutable_feature_collection_ImmutableFeatureCollection(props.data).removePosition(featureIndex,positionIndexes).getObject()}catch(ignored){}updatedData&&props.onEdit({updatedData:updatedData,editType:"removePosition",editContext:{featureIndexes:[featureIndex],positionIndexes:positionIndexes,position:pickedExistingHandle.geometry.coordinates}})}else if(pickedIntermediateHandle){const{featureIndex:featureIndex,positionIndexes:positionIndexes}=pickedIntermediateHandle.properties,feature=props.data.features[featureIndex];if(!(props.modeConfig?.lockRectangles&&"Rectangle"===feature?.properties.shape)){const updatedData=new immutable_feature_collection_ImmutableFeatureCollection(props.data).addPosition(featureIndex,positionIndexes,pickedIntermediateHandle.geometry.coordinates).getObject();updatedData&&props.onEdit({updatedData:updatedData,editType:"addPosition",editContext:{featureIndexes:[featureIndex],positionIndexes:positionIndexes,position:pickedIntermediateHandle.geometry.coordinates}})}}}handleDragging(event,props){const editHandle=utils_getPickedEditHandle(event.pointerDownPicks);editHandle&&(event.cancelPan(),this._dragEditHandle("movePosition",props,editHandle,event))}_dragEditHandle(editType,props,editHandle,event){const editHandleProperties=editHandle.properties,editedFeature=props.data.features[editHandleProperties.featureIndex];let updatedData;if(props.modeConfig?.lockRectangles&&"Rectangle"===editedFeature.properties.shape){const coordinates=function updateRectanglePosition(feature,editHandleIndex,mapCoords){const coordinates=feature.geometry.coordinates;if(!coordinates)return null;const points=coordinates[0].slice(0,4);points[editHandleIndex%4]=mapCoords;const p0=points[(editHandleIndex+2)%4],p2=points[editHandleIndex%4];return points[(editHandleIndex+1)%4]=[p2[0],p0[1]],points[(editHandleIndex+3)%4]=[p0[0],p2[1]],[[...points,points[0]]]}(editedFeature,editHandleProperties.positionIndexes[1],event.mapCoords);updatedData=new immutable_feature_collection_ImmutableFeatureCollection(props.data).replaceGeometry(editHandleProperties.featureIndex,{coordinates:coordinates,type:"Polygon"}).getObject()}else updatedData=new immutable_feature_collection_ImmutableFeatureCollection(props.data).replacePosition(editHandleProperties.featureIndex,editHandleProperties.positionIndexes,event.mapCoords).getObject();props.onEdit({updatedData:updatedData,editType:editType,editContext:{featureIndexes:[editHandleProperties.featureIndex],positionIndexes:editHandleProperties.positionIndexes,position:event.mapCoords}})}handlePointerMove(event,props){const cursor=this.getCursor(event);props.onUpdateCursor(cursor)}handleStartDragging(event,props){const selectedFeatureIndexes=props.selectedIndexes,editHandle=getPickedIntermediateEditHandle(event.picks);if(selectedFeatureIndexes.length&&editHandle){const editHandleProperties=editHandle.properties,updatedData=new immutable_feature_collection_ImmutableFeatureCollection(props.data).addPosition(editHandleProperties.featureIndex,editHandleProperties.positionIndexes,event.mapCoords).getObject();props.onEdit({updatedData:updatedData,editType:"addPosition",editContext:{featureIndexes:[editHandleProperties.featureIndex],positionIndexes:editHandleProperties.positionIndexes,position:event.mapCoords}})}}handleStopDragging(event,props){const selectedFeatureIndexes=props.selectedIndexes,editHandle=utils_getPickedEditHandle(event.picks);selectedFeatureIndexes.length&&editHandle&&this._dragEditHandle("finishMovePosition",props,editHandle,event)}getCursor(event){return utils_getPickedEditHandles(event&&event.picks||[]).length?"cell":null}}var centroid_dist_es=function es_centroid(geojson,options){void 0===options&&(options={});var xSum=0,ySum=0,len=0;return(0,dist_es.pZ)(geojson,(function(coord){xSum+=coord[0],ySum+=coord[1],len++}),!0),(0,es.xm)([xSum/len,ySum/len],options.properties)};function polygon_to_line_dist_es(poly,options){void 0===options&&(options={});var geom=getGeom(poly);switch(options.properties||"Feature"!==poly.type||(options.properties=poly.properties),geom.type){case"Polygon":return function polygonToLine(poly,options){void 0===options&&(options={});var geom=getGeom(poly),coords=geom.coordinates,properties=options.properties?options.properties:"Feature"===poly.type?poly.properties:{};return coordsToLine(coords,properties)}(geom,options);case"MultiPolygon":return function multiPolygonToLine(multiPoly,options){void 0===options&&(options={});var geom=getGeom(multiPoly),coords=geom.coordinates,properties=options.properties?options.properties:"Feature"===multiPoly.type?multiPoly.properties:{},lines=[];return coords.forEach((function(coord){lines.push(coordsToLine(coord,properties))})),(0,es.uf)(lines)}(geom,options);default:throw new Error("invalid poly")}}function coordsToLine(coords,properties){return coords.length>1?(0,es._R)(coords,properties):(0,es.Tu)(coords[0],properties)}function es_scale(feature,factor,origin){var isPoint="Point"===function getType(geojson,_name){return"FeatureCollection"===geojson.type?"FeatureCollection":"GeometryCollection"===geojson.type?"GeometryCollection":"Feature"===geojson.type&&null!==geojson.geometry?geojson.geometry.type:geojson.type}(feature);return origin=function defineOrigin(geojson,origin){null==origin&&(origin="centroid");if(Array.isArray(origin)||"object"==typeof origin)return getCoord(origin);var bbox=geojson.bbox?geojson.bbox:bbox_dist_es(geojson),west=bbox[0],south=bbox[1],east=bbox[2],north=bbox[3];switch(origin){case"sw":case"southwest":case"westsouth":case"bottomleft":return(0,es.xm)([west,south]);case"se":case"southeast":case"eastsouth":case"bottomright":return(0,es.xm)([east,south]);case"nw":case"northwest":case"westnorth":case"topleft":return(0,es.xm)([west,north]);case"ne":case"northeast":case"eastnorth":case"topright":return(0,es.xm)([east,north]);case"center":return center_dist_es(geojson);case void 0:case null:case"centroid":return centroid_dist_es(geojson);default:throw new Error("invalid origin")}}(feature,origin),1===factor||isPoint||(0,dist_es.pZ)(feature,(function(coord){var originalDistance=rhumb_distance_dist_es(origin,coord),bearing=rhumb_bearing_dist_es(origin,coord),newCoord=getCoords(rhumb_destination_dist_es(origin,originalDistance*factor,bearing));coord[0]=newCoord[0],coord[1]=newCoord[1],3===coord.length&&(coord[2]*=factor)})),feature}var transform_scale_dist_es=function transformScale(geojson,factor,options){if(options=options||{},!(0,es.Kn)(options))throw new Error("options is invalid");var origin=options.origin,mutate=options.mutate;if(!geojson)throw new Error("geojson required");if("number"!=typeof factor||0===factor)throw new Error("invalid factor");var originIsPoint=Array.isArray(origin)||"object"==typeof origin;return!0!==mutate&&(geojson=clone_dist_es(geojson)),"FeatureCollection"!==geojson.type||originIsPoint?es_scale(geojson,factor,origin):((0,dist_es.By)(geojson,(function(feature,index){geojson.features[index]=es_scale(feature,factor,origin)})),geojson)};class ScaleMode extends geojson_edit_mode_GeoJsonEditMode{_geometryBeingScaled;_selectedEditHandle;_cornerGuidePoints=[];_cursor;_isScaling=!1;_isSinglePointGeometrySelected=geometry=>{const{features:features}=geometry||{};if(Array.isArray(features)&&1===features.length){const{type:type}=getGeom(features[0]);return"Point"===type}return!1};_getOppositeScaleHandle=selectedHandle=>{const selectedHandleIndex=selectedHandle&&selectedHandle.properties&&Array.isArray(selectedHandle.properties.positionIndexes)&&selectedHandle.properties.positionIndexes[0];if("number"!=typeof selectedHandleIndex)return null;const guidePointCount=this._cornerGuidePoints.length,oppositeIndex=(selectedHandleIndex+guidePointCount/2)%guidePointCount;return this._cornerGuidePoints.find((p=>!!Array.isArray(p.properties.positionIndexes)&&p.properties.positionIndexes[0]===oppositeIndex))||null};_getUpdatedData=(props,editedData)=>{let updatedData=new immutable_feature_collection_ImmutableFeatureCollection(props.data);const selectedIndexes=props.selectedIndexes;for(let i=0;i<selectedIndexes.length;i++){const selectedIndex=selectedIndexes[i],movedFeature=editedData.features[i];updatedData=updatedData.replaceGeometry(selectedIndex,movedFeature.geometry)}return updatedData.getObject()};isEditHandleSelected=()=>Boolean(this._selectedEditHandle);getScaleAction=(startDragPoint,currentPoint,editType,props)=>{if(!this._selectedEditHandle)return null;const origin=getCoord(this._getOppositeScaleHandle(this._selectedEditHandle)),scaleFactor=function getScaleFactor(centroid,startDragPoint,currentPoint){const startDistance=distance_dist_es(centroid,startDragPoint),endDistance=distance_dist_es(centroid,currentPoint);return endDistance/startDistance}(origin,startDragPoint,currentPoint),scaledFeatures=transform_scale_dist_es(this._geometryBeingScaled,scaleFactor,{origin:origin});return{updatedData:this._getUpdatedData(props,scaledFeatures),editType:editType,editContext:{featureIndexes:props.selectedIndexes}}};updateCursor=props=>{if(this._selectedEditHandle){this._cursor&&props.onUpdateCursor(this._cursor);const cursorGeometry=this.getSelectedFeaturesAsFeatureCollection(props),bearing=es_bearing(centroid_dist_es(cursorGeometry),this._selectedEditHandle),positiveBearing=bearing<0?bearing+180:bearing;positiveBearing>=0&&positiveBearing<=90||positiveBearing>=180&&positiveBearing<=270?(this._cursor="nesw-resize",props.onUpdateCursor("nesw-resize")):(this._cursor="nwse-resize",props.onUpdateCursor("nwse-resize"))}else props.onUpdateCursor(null),this._cursor=null};handlePointerMove(event,props){if(!this._isScaling){const selectedEditHandle=utils_getPickedEditHandle(event.picks);this._selectedEditHandle=selectedEditHandle&&"scale"===selectedEditHandle.properties.editHandleType?selectedEditHandle:null,this.updateCursor(props)}}handleStartDragging(event,props){this._selectedEditHandle&&(this._isScaling=!0,this._geometryBeingScaled=this.getSelectedFeaturesAsFeatureCollection(props))}handleDragging(event,props){if(!this._isScaling)return;props.onUpdateCursor(this._cursor);const scaleAction=this.getScaleAction(event.pointerDownMapCoords,event.mapCoords,"scaling",props);scaleAction&&props.onEdit(scaleAction),event.cancelPan()}handleStopDragging(event,props){if(this._isScaling){const scaleAction=this.getScaleAction(event.pointerDownMapCoords,event.mapCoords,"scaled",props);scaleAction&&props.onEdit(scaleAction),props.onUpdateCursor(null),this._geometryBeingScaled=null,this._selectedEditHandle=null,this._cursor=null,this._isScaling=!1}}getGuides(props){this._cornerGuidePoints=[];const selectedGeometry=this.getSelectedFeaturesAsFeatureCollection(props);if(this._isSinglePointGeometrySelected(selectedGeometry))return{type:"FeatureCollection",features:[]};const boundingBox=bboxPolygon(bbox_dist_es(selectedGeometry));boundingBox.properties.mode="scale";const cornerGuidePoints=[];return(0,dist_es.pZ)(boundingBox,((coord,coordIndex)=>{if(coordIndex<4){const cornerPoint=(0,es.xm)(coord,{guideType:"editHandle",editHandleType:"scale",positionIndexes:[coordIndex]});cornerGuidePoints.push(cornerPoint)}})),this._cornerGuidePoints=cornerGuidePoints,(0,es.uf)([polygon_to_line_dist_es(boundingBox),...this._cornerGuidePoints])}}var transform_rotate_dist_es=function transformRotate(geojson,angle,options){if(options=options||{},!(0,es.Kn)(options))throw new Error("options is invalid");var pivot=options.pivot,mutate=options.mutate;if(!geojson)throw new Error("geojson is required");if(null==angle||isNaN(angle))throw new Error("angle is required");return 0===angle||(pivot||(pivot=centroid_dist_es(geojson)),!1!==mutate&&void 0!==mutate||(geojson=clone_dist_es(geojson)),(0,dist_es.pZ)(geojson,(function(pointCoords){var finalAngle=rhumb_bearing_dist_es(pivot,pointCoords)+angle,distance=rhumb_distance_dist_es(pivot,pointCoords),newCoords=getCoords(rhumb_destination_dist_es(pivot,distance,finalAngle));pointCoords[0]=newCoords[0],pointCoords[1]=newCoords[1]}))),geojson};class RotateMode extends geojson_edit_mode_GeoJsonEditMode{_selectedEditHandle;_geometryBeingRotated;_isRotating=!1;_isSinglePointGeometrySelected=geometry=>{const{features:features}=geometry||{};if(Array.isArray(features)&&1===features.length){const{type:type}=getGeom(features[0]);return"Point"===type}return!1};getIsRotating=()=>this._isRotating;getGuides(props){const selectedGeometry=this._geometryBeingRotated||this.getSelectedFeaturesAsFeatureCollection(props);if(this._isSinglePointGeometrySelected(selectedGeometry))return{type:"FeatureCollection",features:[]};if(this._isRotating)return(0,es.uf)([centroid_dist_es(selectedGeometry)]);const boundingBox=bboxPolygon(bbox_dist_es(selectedGeometry));let previousCoord=null,topEdgeMidpointCoords=null,longestEdgeLength=0;(0,dist_es.pZ)(boundingBox,(coord=>{if(previousCoord){const edgeMidpoint=getIntermediatePosition(coord,previousCoord);(!topEdgeMidpointCoords||edgeMidpoint[1]>topEdgeMidpointCoords[1])&&(topEdgeMidpointCoords=edgeMidpoint);const edgeDistance=distance_dist_es(coord,previousCoord);longestEdgeLength=Math.max(longestEdgeLength,edgeDistance)}previousCoord=coord}));const rotateHandleCoords=topEdgeMidpointCoords&&[topEdgeMidpointCoords[0],topEdgeMidpointCoords[1]+longestEdgeLength/1e3],lineFromEnvelopeToRotateHandle=(0,es.Tu)([topEdgeMidpointCoords,rotateHandleCoords]),rotateHandle=(0,es.xm)(rotateHandleCoords,{guideType:"editHandle",editHandleType:"rotate"}),outFeatures=[polygon_to_line_dist_es(boundingBox),rotateHandle,lineFromEnvelopeToRotateHandle];return(0,es.uf)(outFeatures)}handleDragging(event,props){if(!this._isRotating)return;const rotateAction=this.getRotateAction(event.pointerDownMapCoords,event.mapCoords,"rotating",props);rotateAction&&props.onEdit(rotateAction),event.cancelPan()}handlePointerMove(event,props){if(!this._isRotating){const selectedEditHandle=utils_getPickedEditHandle(event.picks);this._selectedEditHandle=selectedEditHandle&&"rotate"===selectedEditHandle.properties.editHandleType?selectedEditHandle:null}this.updateCursor(props)}handleStartDragging(event,props){this._selectedEditHandle&&(this._isRotating=!0,this._geometryBeingRotated=this.getSelectedFeaturesAsFeatureCollection(props))}handleStopDragging(event,props){if(this._isRotating){const rotateAction=this.getRotateAction(event.pointerDownMapCoords,event.mapCoords,"rotated",props);rotateAction&&props.onEdit(rotateAction),this._geometryBeingRotated=null,this._selectedEditHandle=null,this._isRotating=!1}}updateCursor(props){this._selectedEditHandle?props.onUpdateCursor("crosshair"):props.onUpdateCursor(null)}getRotateAction(startDragPoint,currentPoint,editType,props){if(!this._geometryBeingRotated)return null;const centroid=centroid_dist_es(this._geometryBeingRotated),angle=function getRotationAngle(centroid,startDragPoint,currentPoint){const bearing1=es_bearing(centroid,startDragPoint),bearing2=es_bearing(centroid,currentPoint);return bearing2-bearing1}(centroid,startDragPoint,currentPoint),rotatedFeatures=transform_rotate_dist_es(this._geometryBeingRotated,angle,{pivot:centroid});let updatedData=new immutable_feature_collection_ImmutableFeatureCollection(props.data);const selectedIndexes=props.selectedIndexes;for(let i=0;i<selectedIndexes.length;i++){const selectedIndex=selectedIndexes[i],movedFeature=rotatedFeatures.features[i];updatedData=updatedData.replaceGeometry(selectedIndex,movedFeature.geometry)}return{updatedData:updatedData.getObject(),editType:editType,editContext:{featureIndexes:selectedIndexes}}}}function inRing(pt,ring,ignoreBoundary){var isInside=!1;ring[0][0]===ring[ring.length-1][0]&&ring[0][1]===ring[ring.length-1][1]&&(ring=ring.slice(0,ring.length-1));for(var i=0,j=ring.length-1;i<ring.length;j=i++){var xi=ring[i][0],yi=ring[i][1],xj=ring[j][0],yj=ring[j][1];if(pt[1]*(xi-xj)+yi*(xj-pt[0])+yj*(pt[0]-xi)==0&&(xi-pt[0])*(xj-pt[0])<=0&&(yi-pt[1])*(yj-pt[1])<=0)return!ignoreBoundary;yi>pt[1]!=yj>pt[1]&&pt[0]<(xj-xi)*(pt[1]-yi)/(yj-yi)+xi&&(isInside=!isInside)}return isInside}var line_segment_dist_es=function lineSegment(geojson){if(!geojson)throw new Error("geojson is required");var results=[];return(0,dist_es.nG)(geojson,(function(feature){!function lineSegmentFeature(geojson,results){var coords=[],geometry=geojson.geometry;if(null!==geometry){switch(geometry.type){case"Polygon":coords=getCoords(geometry);break;case"LineString":coords=[getCoords(geometry)]}coords.forEach((function(coord){var segments=function createSegments(coords,properties){var segments=[];return coords.reduce((function(previousCoords,currentCoords){var segment=(0,es.Tu)([previousCoords,currentCoords],properties);return segment.bbox=function es_bbox(coords1,coords2){var x1=coords1[0],y1=coords1[1],x2=coords2[0],y2=coords2[1],west=x1<x2?x1:x2,south=y1<y2?y1:y2,east=x1>x2?x1:x2,north=y1>y2?y1:y2;return[west,south,east,north]}(previousCoords,currentCoords),segments.push(segment),currentCoords})),segments}(coord,geojson.properties);segments.forEach((function(segment){segment.id=results.length,results.push(segment)}))}))}}(feature,results)})),(0,es.uf)(results)},geojson_rbush=__webpack_require__("./node_modules/geojson-rbush/index.js"),geojson_rbush_default=__webpack_require__.n(geojson_rbush);function intersects(line1,line2){var coords1=getCoords(line1),coords2=getCoords(line2);if(2!==coords1.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==coords2.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var x1=coords1[0][0],y1=coords1[0][1],x2=coords1[1][0],y2=coords1[1][1],x3=coords2[0][0],y3=coords2[0][1],x4=coords2[1][0],y4=coords2[1][1],denom=(y4-y3)*(x2-x1)-(x4-x3)*(y2-y1),numeA=(x4-x3)*(y1-y3)-(y4-y3)*(x1-x3),numeB=(x2-x1)*(y1-y3)-(y2-y1)*(x1-x3);if(0===denom)return null;var uA=numeA/denom,uB=numeB/denom;if(uA>=0&&uA<=1&&uB>=0&&uB<=1){var x=x1+uA*(x2-x1),y=y1+uA*(y2-y1);return(0,es.xm)([x,y])}return null}var line_intersect_dist_es=function lineIntersect(line1,line2){var unique={},results=[];if("LineString"===line1.type&&(line1=(0,es.zL)(line1)),"LineString"===line2.type&&(line2=(0,es.zL)(line2)),"Feature"===line1.type&&"Feature"===line2.type&&null!==line1.geometry&&null!==line2.geometry&&"LineString"===line1.geometry.type&&"LineString"===line2.geometry.type&&2===line1.geometry.coordinates.length&&2===line2.geometry.coordinates.length){var intersect=intersects(line1,line2);return intersect&&results.push(intersect),(0,es.uf)(results)}var tree=geojson_rbush_default()();return tree.load(line_segment_dist_es(line2)),(0,dist_es.By)(line_segment_dist_es(line1),(function(segment){(0,dist_es.By)(tree.search(segment),(function(match){var intersect=intersects(segment,match);if(intersect){var key=getCoords(intersect).join(",");unique[key]||(unique[key]=!0,results.push(intersect))}}))})),(0,es.uf)(results)};var nearest_point_on_line_dist_es=function es_nearestPointOnLine(lines,pt,options){void 0===options&&(options={});var closestPt=(0,es.xm)([1/0,1/0],{dist:1/0}),length=0;return(0,dist_es.nG)(lines,(function(line){for(var coords=getCoords(line),i=0;i<coords.length-1;i++){var start=(0,es.xm)(coords[i]);start.properties.dist=distance_dist_es(pt,start,options);var stop_1=(0,es.xm)(coords[i+1]);stop_1.properties.dist=distance_dist_es(pt,stop_1,options);var sectionLength=distance_dist_es(start,stop_1,options),heightDistance=Math.max(start.properties.dist,stop_1.properties.dist),direction=es_bearing(start,stop_1),perpendicularPt1=es_destination(pt,heightDistance,direction+90,options),perpendicularPt2=es_destination(pt,heightDistance,direction-90,options),intersect=line_intersect_dist_es((0,es.Tu)([perpendicularPt1.geometry.coordinates,perpendicularPt2.geometry.coordinates]),(0,es.Tu)([start.geometry.coordinates,stop_1.geometry.coordinates])),intersectPt=null;intersect.features.length>0&&((intersectPt=intersect.features[0]).properties.dist=distance_dist_es(pt,intersectPt,options),intersectPt.properties.location=length+distance_dist_es(start,intersectPt,options)),start.properties.dist<closestPt.properties.dist&&((closestPt=start).properties.index=i,closestPt.properties.location=length),stop_1.properties.dist<closestPt.properties.dist&&((closestPt=stop_1).properties.index=i+1,closestPt.properties.location=length+sectionLength),intersectPt&&intersectPt.properties.dist<closestPt.properties.dist&&((closestPt=intersectPt).properties.index=i),length+=sectionLength}})),closestPt};function defaultCalculateElevationChange({pointerDownScreenCoords:pointerDownScreenCoords,screenCoords:screenCoords}){return 10*(pointerDownScreenCoords[1]-screenCoords[1])}class DrawPointMode extends geojson_edit_mode_GeoJsonEditMode{createTentativeFeature(props){const{lastPointerMoveEvent:lastPointerMoveEvent}=props;return{type:"Feature",properties:{guideType:"tentative"},geometry:{type:"Point",coordinates:(lastPointerMoveEvent?[lastPointerMoveEvent.mapCoords]:[])[0]}}}handleClick({mapCoords:mapCoords},props){const geometry={type:"Point",coordinates:mapCoords};props.onEdit(this.getAddFeatureAction(geometry,props.data))}handlePointerMove(event,props){props.onUpdateCursor("cell"),super.handlePointerMove(event,props)}}function isEqual(a,b){if(a===b)return!0;if(Array.isArray(a)){const len=a.length;if(!b||b.length!==len)return!1;for(let i=0;i<len;i++)if(a[i]!==b[i])return!1;return!0}return!1}function memoize_memoize(compute){let cachedResult,cachedArgs={};return args=>{for(const key in args)if(!isEqual(args[key],cachedArgs[key])){cachedResult=compute(args),cachedArgs=args;break}return cachedResult}}class DrawLineStringMode extends geojson_edit_mode_GeoJsonEditMode{dist=0;position=null;elems=[];handleClick(event,props){const{picks:picks}=event,clickedEditHandle=utils_getPickedEditHandle(picks);let positionAdded=!1;clickedEditHandle||(this.addClickSequence(event),positionAdded=!0);const clickSequence=this.getClickSequence();if(clickedEditHandle||this.calculateInfoDraw(clickSequence),clickSequence.length>1&&clickedEditHandle&&Array.isArray(clickedEditHandle.properties.positionIndexes)&&clickedEditHandle.properties.positionIndexes[0]===clickSequence.length-1){this.dist=0;const lineStringToAdd={type:"LineString",coordinates:[...clickSequence]};this.resetClickSequence();const editAction=this.getAddFeatureAction(lineStringToAdd,props.data);editAction&&props.onEdit(editAction)}else positionAdded&&props.onEdit({updatedData:props.data,editType:"addTentativePosition",editContext:{position:event.mapCoords}})}handleKeyUp(event,props){const{key:key}=event;if("Enter"===key){const clickSequence=this.getClickSequence();if(clickSequence.length>1){const lineStringToAdd={type:"LineString",coordinates:[...clickSequence]};this.resetClickSequence();const editAction=this.getAddFeatureAction(lineStringToAdd,props.data);editAction&&props.onEdit(editAction)}}else"Escape"===key&&(this.resetClickSequence(),props.onEdit({updatedData:props.data,editType:"cancelFeature",editContext:{}}))}getGuides(props){const{lastPointerMoveEvent:lastPointerMoveEvent}=props,clickSequence=this.getClickSequence(),lastCoords=lastPointerMoveEvent?[lastPointerMoveEvent.mapCoords]:[],guides={type:"FeatureCollection",features:[]};let tentativeFeature;clickSequence.length>0&&(tentativeFeature={type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[...clickSequence,...lastCoords]}}),tentativeFeature&&guides.features.push(tentativeFeature);const editHandles=clickSequence.map(((clickedCoord,index)=>({type:"Feature",properties:{guideType:"editHandle",editHandleType:"existing",featureIndex:-1,positionIndexes:[index]},geometry:{type:"Point",coordinates:clickedCoord}})));return guides.features.push(...editHandles),guides}handlePointerMove(event,props){props.onUpdateCursor("cell")}getTooltips(props){return this._getTooltips({modeConfig:props.modeConfig,dist:this.dist})}calculateInfoDraw(clickSequence){clickSequence.length>1&&(this.position=clickSequence[clickSequence.length-1],this.dist+=distance_dist_es(clickSequence[clickSequence.length-2],clickSequence[clickSequence.length-1]))}_getTooltips=memoize_memoize((({modeConfig:modeConfig,dist:dist})=>{let tooltips=[];const{formatTooltip:formatTooltip}=modeConfig||{};let text;return dist&&(text=formatTooltip?formatTooltip(dist):`Distance: ${parseFloat(dist).toFixed(2)} kilometers`,tooltips=[{position:this.position,text:text}]),tooltips}))}class draw_polygon_mode_DrawPolygonMode extends geojson_edit_mode_GeoJsonEditMode{createTentativeFeature(props){const{lastPointerMoveEvent:lastPointerMoveEvent}=props,clickSequence=this.getClickSequence(),lastCoords=lastPointerMoveEvent?[lastPointerMoveEvent.mapCoords]:[];let tentativeFeature;return 1===clickSequence.length||2===clickSequence.length?tentativeFeature={type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[...clickSequence,...lastCoords]}}:clickSequence.length>2&&(tentativeFeature={type:"Feature",properties:{guideType:"tentative"},geometry:{type:"Polygon",coordinates:[[...clickSequence,...lastCoords,clickSequence[0]]]}}),tentativeFeature}getGuides(props){const clickSequence=this.getClickSequence(),guides={type:"FeatureCollection",features:[]},tentativeFeature=this.createTentativeFeature(props);tentativeFeature&&guides.features.push(tentativeFeature);const editHandles=clickSequence.map(((clickedCoord,index)=>({type:"Feature",properties:{guideType:"editHandle",editHandleType:"existing",featureIndex:-1,positionIndexes:[index]},geometry:{type:"Point",coordinates:clickedCoord}})));return guides.features.push(...editHandles),guides}handleClick(event,props){const{picks:picks}=event,clickedEditHandle=utils_getPickedEditHandle(picks),clickSequence=this.getClickSequence();let overlappingLines=!1;if(clickSequence.length>2&&props.modeConfig&&props.modeConfig.preventOverlappingLines){const currentLine=(0,es.Tu)([clickSequence[clickSequence.length-1],event.mapCoords]),otherLines=(0,es.Tu)([...clickSequence.slice(0,clickSequence.length-1)]);line_intersect_dist_es(currentLine,otherLines).features.length>0&&(overlappingLines=!0)}let positionAdded=!1;if(clickedEditHandle||overlappingLines||(this.addClickSequence(event),positionAdded=!0),clickSequence.length>2&&clickedEditHandle&&Array.isArray(clickedEditHandle.properties.positionIndexes)&&(0===clickedEditHandle.properties.positionIndexes[0]||clickedEditHandle.properties.positionIndexes[0]===clickSequence.length-1)){const polygonToAdd={type:"Polygon",coordinates:[[...clickSequence,clickSequence[0]]]};this.resetClickSequence();const editAction=this.getAddFeatureOrBooleanPolygonAction(polygonToAdd,props);editAction&&props.onEdit(editAction)}else positionAdded&&props.onEdit({updatedData:props.data,editType:"addTentativePosition",editContext:{position:event.mapCoords}})}handleKeyUp(event,props){if("Enter"===event.key){const clickSequence=this.getClickSequence();if(clickSequence.length>2){const polygonToAdd={type:"Polygon",coordinates:[[...clickSequence,clickSequence[0]]]};this.resetClickSequence();const editAction=this.getAddFeatureOrBooleanPolygonAction(polygonToAdd,props);editAction&&props.onEdit(editAction)}}else"Escape"===event.key&&(this.resetClickSequence(),props.onEdit({updatedData:props.data,editType:"cancelFeature",editContext:{}}))}handlePointerMove(event,props){props.onUpdateCursor("cell"),super.handlePointerMove(event,props)}}class TwoClickPolygonMode extends geojson_edit_mode_GeoJsonEditMode{handleClick(event,props){props.modeConfig&&props.modeConfig.dragToDraw||(this.addClickSequence(event),this.checkAndFinishPolygon(props))}handleStartDragging(event,props){props.modeConfig&&props.modeConfig.dragToDraw&&(this.addClickSequence(event),event.cancelPan())}handleStopDragging(event,props){props.modeConfig&&props.modeConfig.dragToDraw&&(this.addClickSequence(event),this.checkAndFinishPolygon(props))}checkAndFinishPolygon(props){const clickSequence=this.getClickSequence(),tentativeFeature=this.getTentativeGuide(props);if(clickSequence.length>1&&tentativeFeature&&"Polygon"===tentativeFeature.geometry.type){const feature={type:"Feature",properties:{shape:tentativeFeature.properties.shape},geometry:{type:"Polygon",coordinates:tentativeFeature.geometry.coordinates}},editAction=this.getAddFeatureOrBooleanPolygonAction(feature,props);this.resetClickSequence(),editAction&&props.onEdit(editAction)}}getGuides(props){const{lastPointerMoveEvent:lastPointerMoveEvent,modeConfig:modeConfig}=props,clickSequence=this.getClickSequence(),guides={type:"FeatureCollection",features:[]};if(0===clickSequence.length||!lastPointerMoveEvent)return guides;const corner1=clickSequence[0],corner2=lastPointerMoveEvent.mapCoords,polygon=this.getTwoClickPolygon(corner1,corner2,modeConfig);return polygon&&guides.features.push({type:"Feature",properties:{shape:polygon.properties&&polygon.properties.shape,guideType:"tentative"},geometry:polygon.geometry}),guides}getTwoClickPolygon(coord1,coord2,modeConfig){return null}handlePointerMove(event,props){props.onUpdateCursor("cell"),super.handlePointerMove(event,props)}createTentativeFeature(props){const{lastPointerMoveEvent:lastPointerMoveEvent}=props,clickSequence=this.getClickSequence(),lastCoords=lastPointerMoveEvent?[lastPointerMoveEvent.mapCoords]:[];let tentativeFeature;return 1===clickSequence.length&&(tentativeFeature=this.getTwoClickPolygon(clickSequence[0],lastCoords[0],props.modeConfig)),tentativeFeature}}class DrawRectangleMode extends TwoClickPolygonMode{getTwoClickPolygon(coord1,coord2,modeConfig){const rectangle=bboxPolygon([coord1[0],coord1[1],coord2[0],coord2[1]]);return rectangle.properties=rectangle.properties||{},rectangle.properties.shape="Rectangle",rectangle}}function along(line,distance,options){void 0===options&&(options={});for(var coords=getGeom(line).coordinates,travelled=0,i=0;i<coords.length&&!(distance>=travelled&&i===coords.length-1);i++){if(travelled>=distance){var overshot=distance-travelled;if(overshot){var direction=es_bearing(coords[i],coords[i-1])-180;return es_destination(coords[i],overshot,direction,options)}return(0,es.xm)(coords[i])}travelled+=distance_dist_es(coords[i],coords[i+1],options)}return(0,es.xm)(coords[coords.length-1])}var circle_dist_es=function es_circle(center,radius,options){void 0===options&&(options={});for(var steps=options.steps||64,properties=options.properties?options.properties:!Array.isArray(center)&&"Feature"===center.type&&center.properties?center.properties:{},coordinates=[],i=0;i<steps;i++)coordinates.push(es_destination(center,radius,-360*i/steps,options).geometry.coordinates);return coordinates.push(coordinates[0]),(0,es.yu)([coordinates],properties)},RADIUS=6378137;function es_area(geojson){return(0,dist_es.mm)(geojson,(function(value,geom){return value+function calculateArea(geom){var i,total=0;switch(geom.type){case"Polygon":return polygonArea(geom.coordinates);case"MultiPolygon":for(i=0;i<geom.coordinates.length;i++)total+=polygonArea(geom.coordinates[i]);return total;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(geom)}),0)}function polygonArea(coords){var total=0;if(coords&&coords.length>0){total+=Math.abs(ringArea(coords[0]));for(var i=1;i<coords.length;i++)total-=Math.abs(ringArea(coords[i]))}return total}function ringArea(coords){var p1,p2,lowerIndex,middleIndex,upperIndex,i,total=0,coordsLength=coords.length;if(coordsLength>2){for(i=0;i<coordsLength;i++)i===coordsLength-2?(lowerIndex=coordsLength-2,middleIndex=coordsLength-1,upperIndex=0):i===coordsLength-1?(lowerIndex=coordsLength-1,middleIndex=0,upperIndex=1):(lowerIndex=i,middleIndex=i+1,upperIndex=i+2),p1=coords[lowerIndex],p2=coords[middleIndex],total+=(rad(coords[upperIndex][0])-rad(p1[0]))*Math.sin(rad(p2[1]));total=total*RADIUS*RADIUS/2}return total}function rad(num){return num*Math.PI/180}function getTanDeg(deg){var rad=deg*Math.PI/180;return Math.tan(rad)}var ellipse_dist_es=function ellipse(center,xSemiAxis,ySemiAxis,options){var steps=(options=options||{}).steps||64,units=options.units||"kilometers",angle=options.angle||0,pivot=options.pivot||center,properties=options.properties||center.properties||{};if(!center)throw new Error("center is required");if(!xSemiAxis)throw new Error("xSemiAxis is required");if(!ySemiAxis)throw new Error("ySemiAxis is required");if(!(0,es.Kn)(options))throw new Error("options must be an object");if(!(0,es.hj)(steps))throw new Error("steps must be a number");if(!(0,es.hj)(angle))throw new Error("angle must be a number");var centerCoords=getCoord(center);if("degrees"===units)var angleRad=(0,es.Ht)(angle);else xSemiAxis=rhumb_destination_dist_es(center,xSemiAxis,90,{units:units}),ySemiAxis=rhumb_destination_dist_es(center,ySemiAxis,0,{units:units}),xSemiAxis=getCoord(xSemiAxis)[0]-centerCoords[0],ySemiAxis=getCoord(ySemiAxis)[1]-centerCoords[1];for(var coordinates=[],i=0;i<steps;i+=1){var stepAngle=-360*i/steps,x=xSemiAxis*ySemiAxis/Math.sqrt(Math.pow(ySemiAxis,2)+Math.pow(xSemiAxis,2)*Math.pow(getTanDeg(stepAngle),2)),y=xSemiAxis*ySemiAxis/Math.sqrt(Math.pow(xSemiAxis,2)+Math.pow(ySemiAxis,2)/Math.pow(getTanDeg(stepAngle),2));if(stepAngle<-90&&stepAngle>=-270&&(x=-x),stepAngle<-180&&stepAngle>=-360&&(y=-y),"degrees"===units){var newx=x*Math.cos(angleRad)+y*Math.sin(angleRad),newy=y*Math.cos(angleRad)-x*Math.sin(angleRad);x=newx,y=newy}coordinates.push([x+centerCoords[0],y+centerCoords[1]])}return coordinates.push(coordinates[0]),"degrees"===units?(0,es.yu)([coordinates],properties):transform_rotate_dist_es((0,es.yu)([coordinates],properties),angle,{pivot:pivot})};class ThreeClickPolygonMode extends geojson_edit_mode_GeoJsonEditMode{handleClick(event,props){this.addClickSequence(event);const clickSequence=this.getClickSequence(),tentativeFeature=this.getTentativeGuide(props);if(clickSequence.length>2&&tentativeFeature&&"Polygon"===tentativeFeature.geometry.type){const editAction=this.getAddFeatureOrBooleanPolygonAction(tentativeFeature.geometry,props);this.resetClickSequence(),editAction&&props.onEdit(editAction)}}getGuides(props){const{lastPointerMoveEvent:lastPointerMoveEvent,modeConfig:modeConfig}=props,clickSequence=this.getClickSequence(),guides={type:"FeatureCollection",features:[]};if(0===clickSequence.length)return guides;const hoveredCoord=lastPointerMoveEvent.mapCoords;if(1===clickSequence.length)guides.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[clickSequence[0],hoveredCoord]}});else{const polygon=this.getThreeClickPolygon(clickSequence[0],clickSequence[1],hoveredCoord,modeConfig);polygon&&guides.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:polygon.geometry})}return guides}getThreeClickPolygon(coord1,coord2,coord3,modeConfig){return null}handlePointerMove(event,props){props.onUpdateCursor("cell"),super.handlePointerMove(event,props)}createTentativeFeature(props){const{lastPointerMoveEvent:lastPointerMoveEvent}=props,clickSequence=this.getClickSequence(),lastCoords=lastPointerMoveEvent?[lastPointerMoveEvent.mapCoords]:[];let tentativeFeature;return 2===clickSequence.length&&(tentativeFeature=this.getThreeClickPolygon(clickSequence[0],clickSequence[1],lastCoords[0],props.modeConfig)),tentativeFeature}}var lodash_throttle=__webpack_require__("./node_modules/lodash.throttle/index.js"),lodash_throttle_default=__webpack_require__.n(lodash_throttle);class SnappableMode extends geojson_edit_mode_GeoJsonEditMode{_handler;constructor(handler){super(),this._handler=handler}_getSnappedMouseEvent(event,snapSource,snapTarget){return Object.assign(event,{mapCoords:snapTarget.geometry.coordinates,pointerDownMapCoords:snapSource&&snapSource.geometry.coordinates})}_getPickedSnapTarget(picks){return utils_getPickedEditHandles(picks).find((handle=>"snap-target"===handle.properties.editHandleType))}_getPickedSnapSource(pointerDownPicks){return function getPickedSnapSourceEditHandle(picks){return utils_getPickedEditHandles(picks).find((handle=>"snap-source"===handle.properties.editHandleType))}(pointerDownPicks)}_getUpdatedSnapSourceHandle(snapSourceHandle,data){const{featureIndex:featureIndex,positionIndexes:positionIndexes}=snapSourceHandle.properties;if(!Array.isArray(positionIndexes))return snapSourceHandle;const snapSourceFeature=data.features[featureIndex],snapSourceCoordinates=positionIndexes.reduce(((a,b)=>a[b]),snapSourceFeature.geometry.coordinates);return{...snapSourceHandle,geometry:{type:"Point",coordinates:snapSourceCoordinates}}}_getSnapTargets(props){let{additionalSnapTargets:additionalSnapTargets}=props.modeConfig||{};additionalSnapTargets=additionalSnapTargets||[];return[...props.data.features,...additionalSnapTargets]}_getSnapTargetHandles(props){const handles=[],features=this._getSnapTargets(props);for(let i=0;i<features.length;i++){if(!props.selectedIndexes.includes(i)){const{geometry:geometry}=features[i];handles.push(...getEditHandlesForGeometry(geometry,i,"snap-target"))}}return handles}getGuides(props){const{modeConfig:modeConfig,lastPointerMoveEvent:lastPointerMoveEvent}=props,{enableSnapping:enableSnapping}=modeConfig||{},guides={type:"FeatureCollection",features:[...this._handler.getGuides(props).features]};if(!enableSnapping)return guides;const snapSourceHandle=lastPointerMoveEvent&&this._getPickedSnapSource(lastPointerMoveEvent.pointerDownPicks);if(snapSourceHandle)return guides.features.push(...this._getSnapTargetHandles(props),this._getUpdatedSnapSourceHandle(snapSourceHandle,props.data)),guides;const{features:features}=props.data;for(const index of props.selectedIndexes)if(index<features.length){const{geometry:geometry}=features[index];guides.features.push(...getEditHandlesForGeometry(geometry,index,"snap-source"))}return guides}_getSnapAwareEvent(event,props){const snapSource=this._getPickedSnapSource(props.lastPointerMoveEvent.pointerDownPicks),snapTarget=this._getPickedSnapTarget(event.picks);return snapSource&&snapTarget?this._getSnappedMouseEvent(event,snapSource,snapTarget):event}handleStartDragging(event,props){this._handler.handleStartDragging(event,props)}handleStopDragging(event,props){this._handler.handleStopDragging(this._getSnapAwareEvent(event,props),props)}handleDragging(event,props){this._handler.handleDragging(this._getSnapAwareEvent(event,props),props)}handlePointerMove(event,props){this._handler.handlePointerMove(this._getSnapAwareEvent(event,props),props)}}class CompositeMode extends geojson_edit_mode_GeoJsonEditMode{_modes;constructor(modes){super(),this._modes=modes}_coalesce(callback,resultEval=null){let result=null;for(let i=0;i<this._modes.length&&(result=callback(this._modes[i]),!(resultEval?resultEval(result):result));i++);return result}handleClick(event,props){this._coalesce((handler=>handler.handleClick(event,props)))}handlePointerMove(event,props){return this._coalesce((handler=>handler.handlePointerMove(event,props)))}handleStartDragging(event,props){return this._coalesce((handler=>handler.handleStartDragging(event,props)))}handleStopDragging(event,props){return this._coalesce((handler=>handler.handleStopDragging(event,props)))}handleDragging(event,props){return this._coalesce((handler=>handler.handleDragging(event,props)))}getGuides(props){const allGuides=[];for(const mode of this._modes)allGuides.push(...mode.getGuides(props).features);return{type:"FeatureCollection",features:allGuides}}}class TransformMode extends CompositeMode{constructor(){super([new TranslateMode,new ScaleMode,new RotateMode])}handlePointerMove(event,props){let updatedCursor=null;super.handlePointerMove(event,{...props,onUpdateCursor:cursor=>{updatedCursor=cursor||updatedCursor}}),props.onUpdateCursor(updatedCursor)}handleStartDragging(event,props){let scaleMode=null,translateMode=null;const filteredModes=[];this._modes.forEach((mode=>{mode instanceof TranslateMode?translateMode=mode:(mode instanceof ScaleMode&&(scaleMode=mode),filteredModes.push(mode))})),scaleMode instanceof ScaleMode&&!scaleMode.isEditHandleSelected()&&filteredModes.push(translateMode),filteredModes.filter(Boolean).forEach((mode=>mode.handleStartDragging(event,props)))}getGuides(props){let compositeGuides=super.getGuides(props);const rotateMode=(this._modes||[]).find((mode=>mode instanceof RotateMode));if(rotateMode instanceof RotateMode){const nonEnvelopeGuides=compositeGuides.features.filter((guide=>{const{editHandleType:editHandleType,mode:mode}=guide.properties||{},guidesToFilterOut=[mode];return rotateMode.getIsRotating()&&guidesToFilterOut.push(editHandleType),!guidesToFilterOut.includes("scale")}));compositeGuides=(0,es.uf)(nonEnvelopeGuides)}return compositeGuides}}const EVENT_TYPES=["anyclick","pointermove","panstart","panmove","panend","keyup"];class editable_layer_EditableLayer extends composite_layer.Z{static layerName="EditableLayer";state=void 0;onLayerClick(event){}onStartDragging(event){}onStopDragging(event){}onDragging(event){}onPointerMove(event){}onLayerKeyUp(event){}initializeState(){this.setState({_editableLayerState:{pointerDownPicks:null,pointerDownScreenCoords:null,pointerDownMapCoords:null,eventHandler:this._forwardEventToCurrentLayer.bind(this)}}),this._addEventHandlers()}finalizeState(){this._removeEventHandlers()}_addEventHandlers(){const{eventManager:eventManager}=this.context.deck,{eventHandler:eventHandler}=this.state._editableLayerState;for(const eventType of EVENT_TYPES)eventManager.on(eventType,eventHandler,{priority:100})}_removeEventHandlers(){const{eventManager:eventManager}=this.context.deck,{eventHandler:eventHandler}=this.state._editableLayerState;for(const eventType of EVENT_TYPES)eventManager.off(eventType,eventHandler)}_forwardEventToCurrentLayer(event){const currentLayer=this.getCurrentLayer(),func=currentLayer[`_on${event.type}`].bind(currentLayer);func?func(event):console.warn(`no handler for mjolnir.js event ${event.type}`)}_onanyclick({srcEvent:srcEvent}){const screenCoords=this.getScreenCoords(srcEvent),mapCoords=this.getMapCoords(screenCoords),picks=this.getPicks(screenCoords);this.onLayerClick({mapCoords:mapCoords,screenCoords:screenCoords,picks:picks,sourceEvent:srcEvent})}_onkeyup({srcEvent:srcEvent}){this.onLayerKeyUp(srcEvent)}_onpanstart(event){const screenCoords=this.getScreenCoords(event.srcEvent),mapCoords=this.getMapCoords(screenCoords),picks=this.getPicks(screenCoords);this.setState({_editableLayerState:{...this.state._editableLayerState,pointerDownScreenCoords:screenCoords,pointerDownMapCoords:mapCoords,pointerDownPicks:picks}}),this.onStartDragging({picks:picks,screenCoords:screenCoords,mapCoords:mapCoords,pointerDownScreenCoords:screenCoords,pointerDownMapCoords:mapCoords,cancelPan:event.stopImmediatePropagation,sourceEvent:event.srcEvent})}_onpanmove(event){const{srcEvent:srcEvent}=event,screenCoords=this.getScreenCoords(srcEvent),mapCoords=this.getMapCoords(screenCoords),{pointerDownPicks:pointerDownPicks,pointerDownScreenCoords:pointerDownScreenCoords,pointerDownMapCoords:pointerDownMapCoords}=this.state._editableLayerState,picks=this.getPicks(screenCoords);this.onDragging({screenCoords:screenCoords,mapCoords:mapCoords,picks:picks,pointerDownPicks:pointerDownPicks,pointerDownScreenCoords:pointerDownScreenCoords,pointerDownMapCoords:pointerDownMapCoords,sourceEvent:srcEvent,cancelPan:event.stopImmediatePropagation})}_onpanend({srcEvent:srcEvent}){const screenCoords=this.getScreenCoords(srcEvent),mapCoords=this.getMapCoords(screenCoords),{pointerDownPicks:pointerDownPicks,pointerDownScreenCoords:pointerDownScreenCoords,pointerDownMapCoords:pointerDownMapCoords}=this.state._editableLayerState,picks=this.getPicks(screenCoords);this.onStopDragging({picks:picks,screenCoords:screenCoords,mapCoords:mapCoords,pointerDownPicks:pointerDownPicks,pointerDownScreenCoords:pointerDownScreenCoords,pointerDownMapCoords:pointerDownMapCoords,sourceEvent:srcEvent}),this.setState({_editableLayerState:{...this.state._editableLayerState,pointerDownScreenCoords:null,pointerDownMapCoords:null,pointerDownPicks:null}})}_onpointermove(event){const{srcEvent:srcEvent}=event,screenCoords=this.getScreenCoords(srcEvent),mapCoords=this.getMapCoords(screenCoords),{pointerDownPicks:pointerDownPicks,pointerDownScreenCoords:pointerDownScreenCoords,pointerDownMapCoords:pointerDownMapCoords}=this.state._editableLayerState,picks=this.getPicks(screenCoords);this.onPointerMove({screenCoords:screenCoords,mapCoords:mapCoords,picks:picks,pointerDownPicks:pointerDownPicks,pointerDownScreenCoords:pointerDownScreenCoords,pointerDownMapCoords:pointerDownMapCoords,sourceEvent:srcEvent,cancelPan:event.stopImmediatePropagation})}getPicks(screenCoords){return this.context.deck.pickMultipleObjects({x:screenCoords[0],y:screenCoords[1],layerIds:[this.props.id],radius:this.props.pickingRadius,depth:this.props.pickingDepth})}getScreenCoords(pointerEvent){return[pointerEvent.clientX-this.context.gl.canvas.getBoundingClientRect().left,pointerEvent.clientY-this.context.gl.canvas.getBoundingClientRect().top]}getMapCoords(screenCoords){return this.context.viewport.unproject([screenCoords[0],screenCoords[1]])}}var path_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/path-layer/path-layer.js");const defaultProps={...path_layer.Z.defaultProps,pickingLineWidthExtraPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER}};class EditablePathLayer extends path_layer.Z{getShaders(){const shaders=super.getShaders();return shaders.vs=function insertBefore(base,insertBefore,toInsert){const at=base.indexOf(insertBefore);return at<0?base:base.slice(0,at)+toInsert+base.slice(at)}(shaders.vs,"vec3 width;","\n       if(bool(picking.isActive)){\n        widthPixels.xy += pickingLineWidthExtraPixels;\n       }\n      "),{...shaders,inject:{...shaders.inject||{},"vs:#decl":(shaders.inject?.["vs:#decl"]||"").concat("uniform float pickingLineWidthExtraPixels;")}}}draw(props){super.draw({...props,uniforms:{...props.uniforms,pickingLineWidthExtraPixels:this.props.pickingLineWidthExtraPixels}})}}EditablePathLayer.defaultProps=defaultProps,EditablePathLayer.layerName="EditablePathLayer";const DEFAULT_LINE_COLOR=[0,0,0,153],DEFAULT_FILL_COLOR=[0,0,0,144],DEFAULT_SELECTED_LINE_COLOR=[0,0,0,255],DEFAULT_SELECTED_FILL_COLOR=[0,0,144,144],DEFAULT_TENTATIVE_LINE_COLOR=[144,144,144,255],DEFAULT_TENTATIVE_FILL_COLOR=[144,144,144,144],DEFAULT_EDITING_EXISTING_POINT_COLOR=[192,0,0,255],DEFAULT_EDITING_INTERMEDIATE_POINT_COLOR=[0,0,0,128],DEFAULT_EDITING_SNAP_POINT_COLOR=[124,0,192,255],DEFAULT_EDITING_POINT_OUTLINE_COLOR=[255,255,255,255],DEFAULT_EDIT_MODE=draw_polygon_mode_DrawPolygonMode;function guideAccessor(accessor){return accessor&&"function"==typeof accessor?guideMaybeWrapped=>accessor(function unwrapGuide(guideMaybeWrapped){if(guideMaybeWrapped.__source)return guideMaybeWrapped.__source.object;if(guideMaybeWrapped.sourceFeature)return guideMaybeWrapped.sourceFeature.feature;return guideMaybeWrapped}(guideMaybeWrapped)):accessor}function getEditHandleColor(handle){switch(handle.properties.editHandleType){case"existing":return DEFAULT_EDITING_EXISTING_POINT_COLOR;case"snap-source":return DEFAULT_EDITING_SNAP_POINT_COLOR;default:return DEFAULT_EDITING_INTERMEDIATE_POINT_COLOR}}const editable_geojson_layer_defaultProps={mode:DEFAULT_EDIT_MODE,onEdit:()=>{},pickable:!0,pickingRadius:10,pickingDepth:5,fp64:!1,filled:!0,stroked:!0,lineWidthScale:.6666666666666666,lineWidthMinPixels:1,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,pickingLineWidthExtraPixels:0,lineWidthUnits:"pixels",lineJointRounded:!1,lineCapRounded:!1,lineMiterLimit:4,pointRadiusScale:1,pointRadiusMinPixels:2,pointRadiusMaxPixels:Number.MAX_SAFE_INTEGER,getLineColor:(feature,isSelected,mode)=>isSelected?DEFAULT_SELECTED_LINE_COLOR:DEFAULT_LINE_COLOR,getFillColor:(feature,isSelected,mode)=>isSelected?DEFAULT_SELECTED_FILL_COLOR:DEFAULT_FILL_COLOR,getRadius:f=>f&&f.properties&&f.properties.radius||f&&f.properties&&f.properties.size||1,getLineWidth:f=>f&&f.properties&&f.properties.lineWidth||3,getTentativeLineColor:f=>DEFAULT_TENTATIVE_LINE_COLOR,getTentativeFillColor:f=>DEFAULT_TENTATIVE_FILL_COLOR,getTentativeLineWidth:f=>f&&f.properties&&f.properties.lineWidth||3,editHandleType:"point",editHandlePointRadiusScale:1,editHandlePointOutline:!0,editHandlePointStrokeWidth:2,editHandlePointRadiusUnits:"pixels",editHandlePointRadiusMinPixels:4,editHandlePointRadiusMaxPixels:8,getEditHandlePointColor:getEditHandleColor,getEditHandlePointOutlineColor:function getEditHandleOutlineColor(handle){return DEFAULT_EDITING_POINT_OUTLINE_COLOR},getEditHandlePointRadius:function getEditHandleRadius(handle){switch(handle.properties.editHandleType){case"existing":return 5;case"snap":return 7;default:return 3}},editHandleIconAtlas:null,editHandleIconMapping:null,editHandleIconSizeScale:1,editHandleIconSizeUnits:"pixels",getEditHandleIcon:handle=>handle.properties.editHandleType,getEditHandleIconSize:10,getEditHandleIconColor:getEditHandleColor,getEditHandleIconAngle:0,billboard:!0},modeNameMapping={view:ViewMode,modify:ModifyMode,translate:new SnappableMode(new TranslateMode),transform:new SnappableMode(new TransformMode),scale:ScaleMode,rotate:RotateMode,duplicate:class DuplicateMode extends TranslateMode{handleStartDragging(event,props){super.handleStartDragging(event,props),this._geometryBeforeTranslate&&props.onEdit(this.getAddManyFeaturesAction(this._geometryBeforeTranslate,props.data))}updateCursor(props){this._isTranslatable?props.onUpdateCursor("copy"):props.onUpdateCursor(null)}},split:class SplitPolygonMode extends geojson_edit_mode_GeoJsonEditMode{calculateMapCoords(clickSequence,mapCoords,props){const modeConfig=props.modeConfig;if(!modeConfig||!modeConfig.lock90Degree||!clickSequence.length)return mapCoords;if(1===clickSequence.length){const firstPoint=clickSequence[0],feature=polygon_to_line_dist_es(this.getSelectedGeometry(props)),lines="FeatureCollection"===feature.type?feature.features:[feature];let minDistance=Number.MAX_SAFE_INTEGER,closestPoint=null;if(lines.forEach((line=>{const snapPoint=nearest_point_on_line_dist_es(line,firstPoint),distanceFromOrigin=distance_dist_es(snapPoint,firstPoint);minDistance>distanceFromOrigin&&(minDistance=distanceFromOrigin,closestPoint=snapPoint)})),closestPoint){const lastBearing=es_bearing(firstPoint,closestPoint),currentDistance=distance_dist_es(firstPoint,mapCoords,{units:"meters"});return es_destination(firstPoint,currentDistance,lastBearing,{units:"meters"}).geometry.coordinates}return mapCoords}const lastPoint=clickSequence[clickSequence.length-1],[approximatePoint]=utils_generatePointsParallelToLinePoints(clickSequence[clickSequence.length-2],lastPoint,mapCoords);return nearest_point_on_line_dist_es((0,es.Tu)([lastPoint,approximatePoint]),mapCoords).geometry.coordinates}getGuides(props){const clickSequence=this.getClickSequence(),guides={type:"FeatureCollection",features:[]};if(0===clickSequence.length||!props.lastPointerMoveEvent)return guides;const{mapCoords:mapCoords}=props.lastPointerMoveEvent;return guides.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[...clickSequence,this.calculateMapCoords(clickSequence,mapCoords,props)]}}),guides}handleClick(event,props){const tentativeFeature=this.getTentativeGuide(props),selectedGeometry=this.getSelectedGeometry(props);if(!selectedGeometry)return void console.warn("A polygon must be selected for splitting");const clickSequence=this.getClickSequence();tentativeFeature&&"LineString"===tentativeFeature.geometry.type?clickSequence.push(tentativeFeature.geometry.coordinates[tentativeFeature.geometry.coordinates.length-1]):this.addClickSequence(event);const isPointInPolygon=function booleanPointInPolygon(point,polygon,options){if(void 0===options&&(options={}),!point)throw new Error("point is required");if(!polygon)throw new Error("polygon is required");var pt=getCoord(point),geom=getGeom(polygon),type=geom.type,bbox=polygon.bbox,polys=geom.coordinates;if(bbox&&!1===function inBBox(pt,bbox){return bbox[0]<=pt[0]&&bbox[1]<=pt[1]&&bbox[2]>=pt[0]&&bbox[3]>=pt[1]}(pt,bbox))return!1;"Polygon"===type&&(polys=[polys]);for(var insidePoly=!1,i=0;i<polys.length&&!insidePoly;i++)if(inRing(pt,polys[i][0],options.ignoreBoundary)){for(var inHole=!1,k=1;k<polys[i].length&&!inHole;)inRing(pt,polys[i][k],!options.ignoreBoundary)&&(inHole=!0),k++;inHole||(insidePoly=!0)}return insidePoly}({type:"Point",coordinates:clickSequence[clickSequence.length-1]},selectedGeometry);if(clickSequence.length>1&&tentativeFeature&&!isPointInPolygon){this.resetClickSequence();if(0===line_intersect_dist_es(tentativeFeature,selectedGeometry).features.length)return;const editAction=this.splitPolygon(tentativeFeature,props);editAction&&props.onEdit(editAction)}}handlePointerMove(event,props){props.onUpdateCursor("cell")}splitPolygon(tentativeFeature,props){const selectedGeometry=this.getSelectedGeometry(props),featureIndex=props.selectedIndexes[0],modeConfig=props.modeConfig||{};let{gap:gap=.1,units:units="centimeters"}=modeConfig;0===gap&&(gap=.1,units="centimeters");const buffer=buffer_dist_es(tentativeFeature,gap,{units:units}),updatedGeometry=difference_dist_es(selectedGeometry,buffer);if(!updatedGeometry)return console.warn("Canceling edit. Split Polygon erased"),null;const{type:type,coordinates:coordinates}=updatedGeometry.geometry;let updatedCoordinates=[];updatedCoordinates="Polygon"===type?coordinates.map((c=>[c])):coordinates.reduce(((agg,prev)=>(prev.forEach((p=>{agg.push([p])})),agg)),[]);return{updatedData:new immutable_feature_collection_ImmutableFeatureCollection(props.data).replaceGeometry(featureIndex,{type:"MultiPolygon",coordinates:updatedCoordinates}).getObject(),editType:"split",editContext:{featureIndexes:[featureIndex]}}}},extrude:class ExtrudeMode extends ModifyMode{isPointAdded=!1;handleDragging(event,props){const editHandle=utils_getPickedEditHandle(event.pointerDownPicks);if(editHandle){const{featureIndex:featureIndex}=editHandle.properties;let{positionIndexes:positionIndexes}=editHandle.properties;const size=this.coordinatesSize(positionIndexes,featureIndex,props.data);positionIndexes=this.isPointAdded?this.nextPositionIndexes(positionIndexes,size):positionIndexes;const p1=this.getPointForPositionIndexes(this.prevPositionIndexes(positionIndexes,size),featureIndex,props.data),p2=this.getPointForPositionIndexes(positionIndexes,featureIndex,props.data);if(p1&&p2){const[p3,p4]=utils_generatePointsParallelToLinePoints(p1,p2,event.mapCoords),updatedData=new immutable_feature_collection_ImmutableFeatureCollection(props.data).replacePosition(featureIndex,this.prevPositionIndexes(positionIndexes,size),p4).replacePosition(featureIndex,positionIndexes,p3).getObject();props.onEdit({updatedData:updatedData,editType:"extruding",editContext:{featureIndexes:[featureIndex],positionIndexes:this.nextPositionIndexes(positionIndexes,size),position:p3}}),event.cancelPan()}}}handleStartDragging(event,props){const selectedFeatureIndexes=props.selectedIndexes,editHandle=getPickedIntermediateEditHandle(event.picks);if(selectedFeatureIndexes.length&&editHandle){const{positionIndexes:positionIndexes,featureIndex:featureIndex}=editHandle.properties,size=this.coordinatesSize(positionIndexes,featureIndex,props.data),p1=this.getPointForPositionIndexes(this.prevPositionIndexes(positionIndexes,size),featureIndex,props.data),p2=this.getPointForPositionIndexes(positionIndexes,featureIndex,props.data);if(p1&&p2){let updatedData=new immutable_feature_collection_ImmutableFeatureCollection(props.data);this.isOrthogonal(positionIndexes,featureIndex,size,props.data)||(updatedData=updatedData.addPosition(featureIndex,positionIndexes,p2)),this.isOrthogonal(this.prevPositionIndexes(positionIndexes,size),featureIndex,size,props.data)||(updatedData=updatedData.addPosition(featureIndex,positionIndexes,p1),this.isPointAdded=!0),props.onEdit({updatedData:updatedData.getObject(),editType:"startExtruding",editContext:{featureIndexes:[featureIndex],positionIndexes:positionIndexes,position:p1}})}}}handleStopDragging(event,props){const selectedFeatureIndexes=props.selectedIndexes,editHandle=utils_getPickedEditHandle(event.pointerDownPicks);if(selectedFeatureIndexes.length&&editHandle){const{featureIndex:featureIndex}=editHandle.properties;let{positionIndexes:positionIndexes}=editHandle.properties;const size=this.coordinatesSize(positionIndexes,featureIndex,props.data);positionIndexes=this.isPointAdded?this.nextPositionIndexes(positionIndexes,size):positionIndexes;const p1=this.getPointForPositionIndexes(this.prevPositionIndexes(positionIndexes,size),featureIndex,props.data),p2=this.getPointForPositionIndexes(positionIndexes,featureIndex,props.data);if(p1&&p2){const[p3,p4]=utils_generatePointsParallelToLinePoints(p1,p2,event.mapCoords),updatedData=new immutable_feature_collection_ImmutableFeatureCollection(props.data).replacePosition(featureIndex,this.prevPositionIndexes(positionIndexes,size),p4).replacePosition(featureIndex,positionIndexes,p3).getObject();props.onEdit({updatedData:updatedData,editType:"extruded",editContext:{featureIndexes:[featureIndex],positionIndexes:positionIndexes,position:p3}})}}this.isPointAdded=!1}coordinatesSize(positionIndexes,featureIndex,{features:features}){let size=0;if(Array.isArray(positionIndexes)){const coordinates=features[featureIndex].geometry.coordinates;if(3===positionIndexes.length){const[a,b]=positionIndexes;coordinates.length&&coordinates[a].length&&(size=coordinates[a][b].length)}else{const[b]=positionIndexes;coordinates.length&&coordinates[b].length&&(size=coordinates[b].length)}}return size}getBearing(p1,p2){const angle=es_bearing(p1,p2);return angle<0?Math.floor(360+angle):Math.floor(angle)}isOrthogonal(positionIndexes,featureIndex,size,features){if(!Array.isArray(positionIndexes))return!1;positionIndexes[positionIndexes.length-1]===size-1&&(positionIndexes[positionIndexes.length-1]=0);const prevPoint=this.getPointForPositionIndexes(this.prevPositionIndexes(positionIndexes,size),featureIndex,features),nextPoint=this.getPointForPositionIndexes(this.nextPositionIndexes(positionIndexes,size),featureIndex,features),currentPoint=this.getPointForPositionIndexes(positionIndexes,featureIndex,features),prevAngle=this.getBearing(currentPoint,prevPoint),nextAngle=this.getBearing(currentPoint,nextPoint);return[89,90,91,269,270,271].includes(Math.abs(prevAngle-nextAngle))}nextPositionIndexes(positionIndexes,size){if(!Array.isArray(positionIndexes))return[];const next=[...positionIndexes];return next.length&&(next[next.length-1]=next[next.length-1]===size-1?0:next[next.length-1]+1),next}prevPositionIndexes(positionIndexes,size){if(!Array.isArray(positionIndexes))return[];const prev=[...positionIndexes];return prev.length&&(prev[prev.length-1]=0===prev[prev.length-1]?size-2:prev[prev.length-1]-1),prev}getPointForPositionIndexes(positionIndexes,featureIndex,{features:features}){let p1;if(Array.isArray(positionIndexes)){const coordinates=features[featureIndex].geometry.coordinates;if(3===positionIndexes.length){const[a,b,c]=positionIndexes;coordinates.length&&coordinates[a].length&&(p1=coordinates[a][b][c])}else{const[b,c]=positionIndexes;coordinates.length&&coordinates[b].length&&(p1=coordinates[b][c])}}return p1}},elevation:class ElevationMode extends ModifyMode{makeElevatedEvent(event,position,props){const{minElevation:minElevation=0,maxElevation:maxElevation=2e4,calculateElevationChange:calculateElevationChange=defaultCalculateElevationChange}=props.modeConfig||{};if(!event.pointerDownScreenCoords)return event;let elevation=3===position.length?position[2]:0;return elevation+=calculateElevationChange({pointerDownScreenCoords:event.pointerDownScreenCoords,screenCoords:event.screenCoords}),elevation=Math.min(elevation,maxElevation),elevation=Math.max(elevation,minElevation),Object.assign({},event,{mapCoords:[position[0],position[1],elevation]})}handlePointerMove(event,props){const editHandle=utils_getPickedEditHandle(event.pointerDownPicks),position=editHandle?editHandle.geometry.coordinates:event.mapCoords;super.handlePointerMove(this.makeElevatedEvent(event,position,props),props)}handleStopDragging(event,props){const editHandle=utils_getPickedEditHandle(event.picks),position=editHandle?editHandle.geometry.coordinates:event.mapCoords;super.handleStopDragging(this.makeElevatedEvent(event,position,props),props)}getCursor(event){let cursor=super.getCursor(event);return"cell"===cursor&&(cursor="ns-resize"),cursor}static calculateElevationChangeWithViewport(viewport,{pointerDownScreenCoords:pointerDownScreenCoords,screenCoords:screenCoords}){return 156543.03392*Math.cos(viewport.latitude*Math.PI/180)/Math.pow(2,viewport.zoom)*(pointerDownScreenCoords[1]-screenCoords[1])/2}},drawPoint:DrawPointMode,drawLineString:DrawLineStringMode,drawPolygon:draw_polygon_mode_DrawPolygonMode,drawRectangle:DrawRectangleMode,drawSquare:class DrawSquareMode extends TwoClickPolygonMode{getTwoClickPolygon(coord1,coord2,modeConfig){const coord3=[coord2[0],coord1[1]],coord4=[coord1[0],coord2[1]],distance1=distance_dist_es((0,es.xm)(coord3),(0,es.xm)(coord1)),distance2=distance_dist_es((0,es.xm)(coord4),(0,es.xm)(coord1)),shortestDistance=distance1<=distance2?distance1:distance2,closestPoint=distance1<=distance2?coord3:coord4,corner=along((0,es.Tu)([closestPoint,coord2]),shortestDistance).geometry.coordinates,square=bboxPolygon([coord1[0],coord1[1],corner[0],corner[1]]);return square.properties=square.properties||{},square.properties.shape="Square",square}},drawRectangleFromCenter:class DrawRectangleFromCenterMode extends TwoClickPolygonMode{getTwoClickPolygon(coord1,coord2,modeConfig){const rectangle=bboxPolygon([coord1[0]>coord2[0]?coord1[0]+Math.abs(coord1[0]-coord2[0]):coord1[0]-Math.abs(coord1[0]-coord2[0]),coord1[1]>coord2[1]?coord1[1]+Math.abs(coord1[1]-coord2[1]):coord1[1]-Math.abs(coord1[1]-coord2[1]),coord2[0],coord2[1]]);return rectangle.properties=rectangle.properties||{},rectangle.properties.shape="Rectangle",rectangle}},drawSquareFromCenter:class DrawSquareFromCenterMode extends TwoClickPolygonMode{getTwoClickPolygon(coord1,coord2,modeConfig){const coord3=[coord2[0],coord1[1]],coord4=[coord1[0],coord2[1]],distance1=distance_dist_es((0,es.xm)(coord3),(0,es.xm)(coord1)),distance2=distance_dist_es((0,es.xm)(coord4),(0,es.xm)(coord1)),shortestDistance=distance1<=distance2?distance1:distance2,closestPoint=distance1<=distance2?coord3:coord4,corner=along((0,es.Tu)([closestPoint,coord2]),shortestDistance).geometry.coordinates,square=bboxPolygon([coord1[0]>corner[0]?coord1[0]+Math.abs(coord1[0]-corner[0]):coord1[0]-Math.abs(coord1[0]-corner[0]),coord1[1]>corner[1]?coord1[1]+Math.abs(coord1[1]-corner[1]):coord1[1]-Math.abs(coord1[1]-corner[1]),corner[0],corner[1]]);return square.properties=square.properties||{},square.properties.shape="Square",square}},drawCircleFromCenter:class DrawCircleFromCenterMode extends TwoClickPolygonMode{radius=null;position=null;areaCircle=null;getTwoClickPolygon(coord1,coord2,modeConfig){const{steps:steps=64}=modeConfig||{},options={steps:steps};this.position=coord2,steps<4&&(console.warn("Minimum steps to draw a circle is 4 "),options.steps=4),this.radius=Math.max(distance_dist_es(coord1,coord2),.001);const geometry=circle_dist_es(coord1,this.radius,options);return geometry.properties=geometry.properties||{},geometry.properties.shape="Circle",this.areaCircle=es_area(geometry),geometry}getTooltips(props){return this._getTooltips({modeConfig:props?.modeConfig,radius:this.radius,areaCircle:this.areaCircle})}_getTooltips=memoize_memoize((({modeConfig:modeConfig,radius:radius,areaCircle:areaCircle})=>{let tooltips=[];const{formatTooltip:formatTooltip}=modeConfig||{};let text;return radius&&areaCircle&&(text=formatTooltip?formatTooltip(radius):`Radius: ${parseFloat(radius).toFixed(2)} kilometers\n      \n Area: ${parseFloat(areaCircle).toFixed(2)}`,tooltips=[{position:this.position,text:text}]),tooltips}))},drawCircleByBoundingBox:class DrawCircleByDiameterMode extends TwoClickPolygonMode{radius=null;position=null;areaCircle=null;diameter=null;getTwoClickPolygon(coord1,coord2,modeConfig){const{steps:steps=64}=modeConfig||{},options={steps:steps};steps<4&&(console.warn("Minimum steps to draw a circle is 4 "),options.steps=4);const centerCoordinates=getIntermediatePosition(coord1,coord2);this.radius=Math.max(distance_dist_es(coord1,centerCoordinates),.001),this.diameter=Math.max(distance_dist_es(coord1,coord2),.001),this.position=centerCoordinates;const geometry=circle_dist_es(centerCoordinates,this.radius,options);return geometry.properties=geometry.properties||{},geometry.properties.shape="Circle",this.areaCircle=es_area(geometry),geometry}getTooltips(props){return this._getTooltips({modeConfig:props.modeConfig,radius:this.radius,areaCircle:this.areaCircle,diameter:this.diameter})}_getTooltips=memoize_memoize((({modeConfig:modeConfig,radius:radius,areaCircle:areaCircle,diameter:diameter})=>{let tooltips=[];const{formatTooltip:formatTooltip}=modeConfig||{};let text;return radius&&areaCircle&&(text=formatTooltip?formatTooltip(radius):`Radius: ${parseFloat(radius).toFixed(2)} kilometers\n      \n Area: ${parseFloat(areaCircle).toFixed(2)}\n      \n Diameter: ${parseFloat(diameter).toFixed(2)} kilometers`,tooltips=[{position:this.position,text:text}]),tooltips}))},drawEllipseByBoundingBox:class DrawEllipseByBoundingBoxMode extends TwoClickPolygonMode{getTwoClickPolygon(coord1,coord2,modeConfig){const polygonPoints=bboxPolygon([Math.min(coord1[0],coord2[0]),Math.min(coord1[1],coord2[1]),Math.max(coord1[0],coord2[0]),Math.max(coord1[1],coord2[1])]).geometry.coordinates[0],centerCoordinates=getIntermediatePosition(coord1,coord2),xSemiAxis=Math.max(distance_dist_es((0,es.xm)(polygonPoints[0]),(0,es.xm)(polygonPoints[1])),.001),ySemiAxis=Math.max(distance_dist_es((0,es.xm)(polygonPoints[0]),(0,es.xm)(polygonPoints[3])),.001);return ellipse_dist_es(centerCoordinates,xSemiAxis,ySemiAxis)}},drawRectangleUsing3Points:class DrawRectangleUsingThreePointsMode extends ThreeClickPolygonMode{getThreeClickPolygon(coord1,coord2,coord3,modeConfig){const[p3,p4]=utils_generatePointsParallelToLinePoints(coord1,coord2,coord3);return{type:"Feature",properties:{shape:"Rectangle"},geometry:{type:"Polygon",coordinates:[[coord1,coord2,p3,p4,coord1]]}}}},drawEllipseUsing3Points:class DrawEllipseUsingThreePointsMode extends ThreeClickPolygonMode{getThreeClickPolygon(coord1,coord2,coord3,modeConfig){const centerCoordinates=getIntermediatePosition(coord1,coord2),xSemiAxis=Math.max(distance_dist_es(centerCoordinates,(0,es.xm)(coord3)),.001),ySemiAxis=Math.max(distance_dist_es(coord1,coord2),.001)/2,options={angle:es_bearing(coord1,coord2)};return ellipse_dist_es(centerCoordinates,xSemiAxis,ySemiAxis,options)}},draw90DegreePolygon:class Draw90DegreePolygonMode extends geojson_edit_mode_GeoJsonEditMode{createTentativeFeature(props){const clickSequence=this.getClickSequence(),{mapCoords:mapCoords}=props.lastPointerMoveEvent;let p3,tentativeFeature;if(clickSequence.length<=1)p3=mapCoords;else{const p1=clickSequence[clickSequence.length-2],p2=clickSequence[clickSequence.length-1];[p3]=utils_generatePointsParallelToLinePoints(p1,p2,mapCoords)}return tentativeFeature=clickSequence.length<3?{type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[...clickSequence,p3]}}:{type:"Feature",properties:{guideType:"tentative"},geometry:{type:"Polygon",coordinates:[[...clickSequence,p3,clickSequence[0]]]}},tentativeFeature}getGuides(props){const guides={type:"FeatureCollection",features:[]};if(0===this.getClickSequence().length||!props.lastPointerMoveEvent)return guides;const tentativeFeature=this.createTentativeFeature(props);return guides.features.push(tentativeFeature),guides.features=guides.features.concat(getEditHandlesForGeometry(tentativeFeature.geometry,-1)),guides.features=guides.features.slice(0,-1),guides}handlePointerMove(event,props){props.onUpdateCursor("cell"),super.handlePointerMove(event,props)}handleClick(event,props){const{picks:picks}=event,tentativeFeature=this.getTentativeGuide(props);this.addClickSequence(event);const clickSequence=this.getClickSequence();if(tentativeFeature)if(3===clickSequence.length&&"LineString"===tentativeFeature.geometry.type){const lineString=tentativeFeature.geometry;clickSequence[clickSequence.length-1]=lineString.coordinates[lineString.coordinates.length-1]}else if(clickSequence.length>3&&"Polygon"===tentativeFeature.geometry.type){const polygon=tentativeFeature.geometry;clickSequence[clickSequence.length-1]=polygon.coordinates[0][polygon.coordinates[0].length-2];const clickedEditHandle=utils_getPickedEditHandle(picks);if(clickedEditHandle&&Array.isArray(clickedEditHandle.properties.positionIndexes)&&(0===clickedEditHandle.properties.positionIndexes[1]||clickedEditHandle.properties.positionIndexes[1]===polygon.coordinates[0].length-3)){const polygonToAdd={type:"Polygon",coordinates:this.finalizedCoordinates([...polygon.coordinates[0]])};this.resetClickSequence();const editAction=this.getAddFeatureOrBooleanPolygonAction(polygonToAdd,props);editAction&&props.onEdit(editAction)}}else{const fakePointerMoveEvent={screenCoords:[-1,-1],mapCoords:event.mapCoords,picks:[],pointerDownPicks:null,pointerDownScreenCoords:null,pointerDownMapCoords:null,cancelPan:()=>{},sourceEvent:null};this.handlePointerMove(fakePointerMoveEvent,props)}}finalizedCoordinates(coords){let coordinates=[[...coords.slice(0,-2),coords[0]]],pt=this.getIntermediatePoint([...coords]);if(pt)coordinates=[[...coords.slice(0,-2),pt,coords[0]]];else{const tc=[...coords];tc.splice(-3,1),pt=this.getIntermediatePoint([...tc]),pt&&(coordinates=[[...coords.slice(0,-3),pt,coords[0]]])}return coordinates}getIntermediatePoint(coordinates){let pt=null;if(coordinates.length>4){const[p1,p2]=[...coordinates],angle1=es_bearing(p1,p2),p3=coordinates[coordinates.length-3],p4=coordinates[coordinates.length-4],angle2=es_bearing(p3,p4),angles={first:[],second:[]};[1,2,3].forEach((factor=>{const newAngle1=angle1+90*factor;angles.first.push(newAngle1>180?newAngle1-360:newAngle1);const newAngle2=angle2+90*factor;angles.second.push(newAngle2>180?newAngle2-360:newAngle2)}));const distance=distance_dist_es((0,es.xm)(p1),(0,es.xm)(p3));[0,1,2].forEach((indexFirst=>{const line1=(0,es.Tu)([p1,es_destination(p1,distance,angles.first[indexFirst]).geometry.coordinates]);[0,1,2].forEach((indexSecond=>{const line2=(0,es.Tu)([p3,es_destination(p3,distance,angles.second[indexSecond]).geometry.coordinates]),fc=line_intersect_dist_es(line1,line2);fc&&fc.features.length&&(pt=fc.features[0].geometry.coordinates)}))}))}return pt}},drawPolygonByDragging:class DrawPolygonByDraggingMode extends draw_polygon_mode_DrawPolygonMode{handleDraggingThrottled=null;handleClick(event,props){}handleStartDragging(event,props){event.cancelPan(),props.modeConfig&&props.modeConfig.throttleMs?this.handleDraggingThrottled=lodash_throttle_default()(this.handleDraggingAux,props.modeConfig.throttleMs):this.handleDraggingThrottled=this.handleDraggingAux}handleStopDragging(event,props){this.addClickSequence(event);const clickSequence=this.getClickSequence();if(this.handleDraggingThrottled&&this.handleDraggingThrottled.cancel&&this.handleDraggingThrottled.cancel(),clickSequence.length>2){const polygonToAdd={type:"Polygon",coordinates:[[...clickSequence,clickSequence[0]]]},editAction=this.getAddFeatureOrBooleanPolygonAction(polygonToAdd,props);editAction&&props.onEdit(editAction)}this.resetClickSequence()}handleDraggingAux(event,props){const{picks:picks}=event;utils_getPickedEditHandle(picks)||(this.addClickSequence(event),props.onEdit({updatedData:props.data,editType:"addTentativePosition",editContext:{position:event.mapCoords}}))}handleDragging(event,props){this.handleDraggingThrottled&&this.handleDraggingThrottled(event,props)}handleKeyUp(event,props){if("Enter"===event.key){const clickSequence=this.getClickSequence();if(clickSequence.length>2){const polygonToAdd={type:"Polygon",coordinates:[[...clickSequence,clickSequence[0]]]};this.resetClickSequence();const editAction=this.getAddFeatureOrBooleanPolygonAction(polygonToAdd,props);editAction&&props.onEdit(editAction)}}else"Escape"===event.key&&(this.resetClickSequence(),this.handleDraggingThrottled&&(this.handleDraggingThrottled=null),props.onEdit({updatedData:props.data,editType:"cancelFeature",editContext:{}}))}}};class editable_geojson_layer_EditableGeoJsonLayer extends editable_layer_EditableLayer{static layerName="EditableGeoJsonLayer";static defaultProps=editable_geojson_layer_defaultProps;state=void 0;renderLayers(){const subLayerProps=this.getSubLayerProps({id:"geojson",data:this.props.data,fp64:this.props.fp64,filled:this.props.filled,stroked:this.props.stroked,lineWidthScale:this.props.lineWidthScale,lineWidthMinPixels:this.props.lineWidthMinPixels,lineWidthMaxPixels:this.props.lineWidthMaxPixels,lineWidthUnits:this.props.lineWidthUnits,lineJointRounded:this.props.lineJointRounded,lineCapRounded:this.props.lineCapRounded,lineMiterLimit:this.props.lineMiterLimit,pointRadiusScale:this.props.pointRadiusScale,pointRadiusMinPixels:this.props.pointRadiusMinPixels,pointRadiusMaxPixels:this.props.pointRadiusMaxPixels,getLineColor:this.selectionAwareAccessor(this.props.getLineColor),getFillColor:this.selectionAwareAccessor(this.props.getFillColor),getPointRadius:this.selectionAwareAccessor(this.props.getRadius),getLineWidth:this.selectionAwareAccessor(this.props.getLineWidth),_subLayerProps:{linestrings:{billboard:this.props.billboard,updateTriggers:{all:[this.props.selectedFeatureIndexes,this.props.mode]}},"polygons-stroke":{billboard:this.props.billboard,pickingLineWidthExtraPixels:this.props.pickingLineWidthExtraPixels,type:EditablePathLayer,updateTriggers:{all:[this.props.selectedFeatureIndexes,this.props.mode]}}},updateTriggers:{getLineColor:[this.props.selectedFeatureIndexes,this.props.mode],getFillColor:[this.props.selectedFeatureIndexes,this.props.mode],getPointRadius:[this.props.selectedFeatureIndexes,this.props.mode],getLineWidth:[this.props.selectedFeatureIndexes,this.props.mode]}});let layers=[new geojson_layer.Z(subLayerProps)];return layers=layers.concat(this.createGuidesLayers(),this.createTooltipsLayers()),layers}initializeState(){super.initializeState(),this.setState({selectedFeatures:[],editHandles:[]})}shouldUpdateState(opts){return super.shouldUpdateState(opts)||opts.changeFlags.stateChanged}updateState({props:props,oldProps:oldProps,changeFlags:changeFlags,context:context}){if(super.updateState({oldProps:oldProps,props:props,changeFlags:changeFlags,context:context}),changeFlags.propsOrDataChanged){if(0===Object.keys(oldProps).length||props.mode!==oldProps.mode){let mode;if("function"==typeof props.mode){mode=new(0,props.mode)}else"string"==typeof props.mode?(mode=modeNameMapping[props.mode],console.warn("Deprecated use of passing `mode` as a string. Pass the mode's class constructor instead.")):mode=props.mode;mode||(console.warn(`No mode configured for ${String(props.mode)}`),mode=new DEFAULT_EDIT_MODE),mode!==this.state.mode&&this.setState({mode:mode,cursor:null})}}let selectedFeatures=[];if(Array.isArray(props.selectedFeatureIndexes)&&"object"==typeof props.data&&"features"in props.data){const propsData=props.data;selectedFeatures=props.selectedFeatureIndexes.map((elem=>propsData.features[elem]))}this.setState({selectedFeatures:selectedFeatures})}getModeProps(props){return{modeConfig:props.modeConfig,data:props.data,selectedIndexes:props.selectedFeatureIndexes,lastPointerMoveEvent:this.state.lastPointerMoveEvent,cursor:this.state.cursor,onEdit:editAction=>{this.setNeedsUpdate(),props.onEdit(editAction)},onUpdateCursor:cursor=>{this.setState({cursor:cursor})}}}selectionAwareAccessor(accessor){return"function"!=typeof accessor?accessor:feature=>accessor(feature,this.isFeatureSelected(feature),this.props.mode)}isFeatureSelected(feature){return!(!this.props.data||!this.props.selectedFeatureIndexes)&&(!!this.props.selectedFeatureIndexes.length&&this.state.selectedFeatures.includes(feature))}getPickingInfo({info:info,sourceLayer:sourceLayer}){return sourceLayer.id.endsWith("guides")&&(info.isGuide=!0),info}_updateAutoHighlight(info){if(info?.sourceLayer)if(info.isGuide)for(const layer of info.sourceLayer.getSubLayers())layer.updateAutoHighlight(info);else info.sourceLayer.updateAutoHighlight(info)}createGuidesLayers(){const guides=this.getActiveMode().getGuides(this.getModeProps(this.props));if(!guides||!guides.features.length)return[];const subLayerProps={linestrings:{billboard:this.props.billboard,autoHighlight:!1},"polygons-fill":{autoHighlight:!1},"polygons-stroke":{billboard:this.props.billboard}};"icon"===this.props.editHandleType?subLayerProps["points-icon"]={type:icon_layer.Z,iconAtlas:this.props.editHandleIconAtlas,iconMapping:this.props.editHandleIconMapping,sizeUnits:this.props.editHandleIconSizeUnits,sizeScale:this.props.editHandleIconSizeScale,getIcon:guideAccessor(this.props.getEditHandleIcon),getSize:guideAccessor(this.props.getEditHandleIconSize),getColor:guideAccessor(this.props.getEditHandleIconColor),getAngle:guideAccessor(this.props.getEditHandleIconAngle),billboard:this.props.billboard}:subLayerProps["points-circle"]={type:scatterplot_layer.Z,radiusScale:this.props.editHandlePointRadiusScale,stroked:this.props.editHandlePointOutline,getLineWidth:this.props.editHandlePointStrokeWidth,radiusUnits:this.props.editHandlePointRadiusUnits,radiusMinPixels:this.props.editHandlePointRadiusMinPixels,radiusMaxPixels:this.props.editHandlePointRadiusMaxPixels,getRadius:guideAccessor(this.props.getEditHandlePointRadius),getFillColor:guideAccessor(this.props.getEditHandlePointColor),getLineColor:guideAccessor(this.props.getEditHandlePointOutlineColor),billboard:this.props.billboard};return[new geojson_layer.Z(this.getSubLayerProps({id:"guides",data:guides,fp64:this.props.fp64,_subLayerProps:subLayerProps,lineWidthScale:this.props.lineWidthScale,lineWidthMinPixels:this.props.lineWidthMinPixels,lineWidthMaxPixels:this.props.lineWidthMaxPixels,lineWidthUnits:this.props.lineWidthUnits,lineJointRounded:this.props.lineJointRounded,lineCapRounded:this.props.lineCapRounded,lineMiterLimit:this.props.lineMiterLimit,getLineColor:guideAccessor(this.props.getTentativeLineColor),getLineWidth:guideAccessor(this.props.getTentativeLineWidth),getFillColor:guideAccessor(this.props.getTentativeFillColor),pointType:"icon"===this.props.editHandleType?"icon":"circle",iconAtlas:this.props.editHandleIconAtlas}))]}createTooltipsLayers(){const tooltips=this.getActiveMode().getTooltips(this.getModeProps(this.props));return[new text_layer.Z({getSize:21.333333333333332,...this.getSubLayerProps({id:"tooltips",data:tooltips})})]}onLayerClick(event){this.getActiveMode().handleClick(event,this.getModeProps(this.props))}onLayerKeyUp(event){this.getActiveMode().handleKeyUp(event,this.getModeProps(this.props))}onStartDragging(event){this.getActiveMode().handleStartDragging(event,this.getModeProps(this.props))}onDragging(event){this.getActiveMode().handleDragging(event,this.getModeProps(this.props))}onStopDragging(event){this.getActiveMode().handleStopDragging(event,this.getModeProps(this.props))}onPointerMove(event){this.setState({lastPointerMoveEvent:event}),this.getActiveMode().handlePointerMove(event,this.getModeProps(this.props))}getCursor({isDragging:isDragging}){if(null===this.state||void 0===this.state)return null;let{cursor:cursor}=this.state;return cursor||(cursor=isDragging?"grabbing":"grab"),cursor}getActiveMode(){return this.state.mode}}Number.MAX_SAFE_INTEGER;var polygon_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/polygon-layer/polygon-layer.js");const selection_layer_SELECTION_TYPE_RECTANGLE="rectangle",selection_layer_SELECTION_TYPE_POLYGON="polygon",MODE_MAP={[selection_layer_SELECTION_TYPE_RECTANGLE]:DrawRectangleMode,[selection_layer_SELECTION_TYPE_POLYGON]:draw_polygon_mode_DrawPolygonMode},MODE_CONFIG_MAP={[selection_layer_SELECTION_TYPE_RECTANGLE]:{dragToDraw:!0}},selection_layer_defaultProps={selectionType:selection_layer_SELECTION_TYPE_RECTANGLE,layerIds:[],onSelect:()=>{}},EMPTY_DATA={type:"FeatureCollection",features:[]},PASS_THROUGH_PROPS=["lineWidthScale","lineWidthMinPixels","lineWidthMaxPixels","lineWidthUnits","lineJointRounded","lineCapRounded","lineMiterLimit","pointRadiusScale","pointRadiusMinPixels","pointRadiusMaxPixels","lineDashJustified","getLineColor","getFillColor","getRadius","getLineWidth","getLineDashArray","getTentativeLineDashArray","getTentativeLineColor","getTentativeFillColor","getTentativeLineWidth"];class SelectionLayer extends composite_layer.Z{static layerName="SelectionLayer";static defaultProps=selection_layer_defaultProps;state=void 0;_selectRectangleObjects(coordinates){const{layerIds:layerIds,onSelect:onSelect}=this.props,[x1,y1]=this.context.viewport.project(coordinates[0][0]),[x2,y2]=this.context.viewport.project(coordinates[0][2]);onSelect({pickingInfos:this.context.deck.pickObjects({x:Math.min(x1,x2),y:Math.min(y1,y2),width:Math.abs(x2-x1),height:Math.abs(y2-y1),layerIds:layerIds})})}_selectPolygonObjects(coordinates){const{layerIds:layerIds,onSelect:onSelect}=this.props,mousePoints=coordinates[0].map((c=>this.context.viewport.project(c))),allX=mousePoints.map((mousePoint=>mousePoint[0])),allY=mousePoints.map((mousePoint=>mousePoint[1])),x=Math.min(...allX),y=Math.min(...allY),maxX=Math.max(...allX),maxY=Math.max(...allY),landPointsPoly=(0,es.yu)(coordinates),bigBuffer=buffer_dist_es(landPointsPoly,50);let bigPolygon;try{bigPolygon=difference_dist_es(bigBuffer,landPointsPoly)}catch(e){return void console.log("turfDifference() error",e)}this.setState({pendingPolygonSelection:{bigPolygon:bigPolygon}});const blockerId=`${this.props.id}-selection-blocker`;setTimeout((()=>{const pickingInfos=this.context.deck.pickObjects({x:x,y:y,width:maxX-x,height:maxY-y,layerIds:[blockerId,...layerIds]});onSelect({pickingInfos:pickingInfos.filter((item=>item.layer.id!==this.props.id))})}),250)}renderLayers(){const{pendingPolygonSelection:pendingPolygonSelection}=this.state,mode=MODE_MAP[this.props.selectionType]||ViewMode,modeConfig=MODE_CONFIG_MAP[this.props.selectionType],inheritedProps={};PASS_THROUGH_PROPS.forEach((p=>{void 0!==this.props[p]&&(inheritedProps[p]=this.props[p])}));const layers=[new editable_geojson_layer_EditableGeoJsonLayer(this.getSubLayerProps({id:"selection-geojson",pickable:!0,mode:mode,modeConfig:modeConfig,selectedFeatureIndexes:[],data:EMPTY_DATA,onEdit:({updatedData:updatedData,editType:editType})=>{if("addFeature"===editType){const{coordinates:coordinates}=updatedData.features[0].geometry;this.props.selectionType===selection_layer_SELECTION_TYPE_RECTANGLE?this._selectRectangleObjects(coordinates):this.props.selectionType===selection_layer_SELECTION_TYPE_POLYGON&&this._selectPolygonObjects(coordinates)}},...inheritedProps}))];if(pendingPolygonSelection){const{bigPolygon:bigPolygon}=pendingPolygonSelection;layers.push(new polygon_layer.Z(this.getSubLayerProps({id:"selection-blocker",pickable:!0,stroked:!1,opacity:1,data:[bigPolygon],getLineColor:obj=>[0,0,0,1],getFillColor:obj=>[0,0,0,1],getPolygon:o=>o.geometry.coordinates})))}return layers}shouldUpdateState({changeFlags:{stateChanged:stateChanged,propsOrDataChanged:propsOrDataChanged}}){return stateChanged||propsOrDataChanged}}},"./node_modules/@deck.gl/core/dist/effects/lighting/camera-light.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return CameraLight}});var _point_light_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/effects/lighting/point-light.js"),_shaderlib_project_viewport_uniforms_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project/viewport-uniforms.js");class CameraLight extends _point_light_js__WEBPACK_IMPORTED_MODULE_0__.c{getProjectedLight({layer:layer}){const{projectedLight:projectedLight}=this,viewport=layer.context.viewport,{coordinateSystem:coordinateSystem,coordinateOrigin:coordinateOrigin,modelMatrix:modelMatrix}=layer.props,{project_uCameraPosition:project_uCameraPosition}=(0,_shaderlib_project_viewport_uniforms_js__WEBPACK_IMPORTED_MODULE_1__.C)({viewport:viewport,modelMatrix:modelMatrix,coordinateSystem:coordinateSystem,coordinateOrigin:coordinateOrigin});return projectedLight.color=this.color,projectedLight.intensity=this.intensity,projectedLight.position=project_uCameraPosition,projectedLight}}},"./node_modules/@deck.gl/core/dist/effects/lighting/point-light.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return PointLight}});var _shaderlib_project_project_functions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project/project-functions.js"),_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js");const DEFAULT_LIGHT_COLOR=[255,255,255],DEFAULT_LIGHT_INTENSITY=1,DEFAULT_ATTENUATION=[0,0,1],DEFAULT_LIGHT_POSITION=[0,0,1];let idCount=0;class PointLight{constructor(props={}){this.type="point";const{color:color=DEFAULT_LIGHT_COLOR}=props,{intensity:intensity=DEFAULT_LIGHT_INTENSITY}=props,{position:position=DEFAULT_LIGHT_POSITION}=props;this.id=props.id||"point-"+idCount++,this.color=color,this.intensity=intensity,this.type="point",this.position=position,this.attenuation=function getAttenuation(props){if(props.attenuation)return props.attenuation;if("intensity"in props)return[0,0,props.intensity||0];return DEFAULT_ATTENUATION}(props),this.projectedLight={...this}}getProjectedLight({layer:layer}){const{projectedLight:projectedLight}=this,viewport=layer.context.viewport,{coordinateSystem:coordinateSystem,coordinateOrigin:coordinateOrigin}=layer.props,position=(0,_shaderlib_project_project_functions_js__WEBPACK_IMPORTED_MODULE_0__.D)(this.position,{viewport:viewport,coordinateSystem:coordinateSystem,coordinateOrigin:coordinateOrigin,fromCoordinateSystem:viewport.isGeospatial?_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.COORDINATE_SYSTEM.LNGLAT:_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.COORDINATE_SYSTEM.CARTESIAN,fromCoordinateOrigin:[0,0,0]});return projectedLight.color=this.color,projectedLight.intensity=this.intensity,projectedLight.position=position,projectedLight}}},"./node_modules/@deck.gl/core/dist/lib/layer-extension.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return LayerExtension}});var _utils_deep_equal_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/deep-equal.js");class LayerExtension{static{this.defaultProps={}}static{this.extensionName="LayerExtension"}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"extensionName")?this.extensionName:""}constructor(opts){opts&&(this.opts=opts)}equals(extension){return this===extension||this.constructor===extension.constructor&&(0,_utils_deep_equal_js__WEBPACK_IMPORTED_MODULE_0__.v)(this.opts,extension.opts,1)}getShaders(extension){return null}getSubLayerProps(extension){const{defaultProps:defaultProps}=extension.constructor,newProps={updateTriggers:{}};for(const key in defaultProps)if(key in this.props){const propDef=defaultProps[key],propValue=this.props[key];newProps[key]=propValue,propDef&&"accessor"===propDef.type&&(newProps.updateTriggers[key]=this.props.updateTriggers[key],"function"==typeof propValue&&(newProps[key]=this.getSubLayerAccessor(propValue)))}return newProps}initializeState(context,extension){}updateState(params,extension){}onNeedsRedraw(extension){}getNeedsPickingBuffer(extension){return!1}draw(params,extension){}finalizeState(context,extension){}}},"./node_modules/@deck.gl/core/dist/utils/tesselator.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return Tesselator}});var _iterable_utils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/iterable-utils.js"),_typed_array_manager_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/typed-array-manager.js"),_assert_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/assert.js"),_luma_gl_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@luma.gl/core/dist/adapter/resources/buffer.js");class Tesselator{constructor(opts){this.indexStarts=[0],this.vertexStarts=[0],this.vertexCount=0,this.instanceCount=0;const{attributes:attributes={}}=opts;this.typedArrayManager=_typed_array_manager_js__WEBPACK_IMPORTED_MODULE_0__.Z,this.attributes={},this._attributeDefs=attributes,this.opts=opts,this.updateGeometry(opts)}updateGeometry(opts){Object.assign(this.opts,opts);const{data:data,buffers:buffers={},getGeometry:getGeometry,geometryBuffer:geometryBuffer,positionFormat:positionFormat,dataChanged:dataChanged,normalize:normalize=!0}=this.opts;if(this.data=data,this.getGeometry=getGeometry,this.positionSize=geometryBuffer&&geometryBuffer.size||("XY"===positionFormat?2:3),this.buffers=buffers,this.normalize=normalize,geometryBuffer&&((0,_assert_js__WEBPACK_IMPORTED_MODULE_1__.Z)(data.startIndices),this.getGeometry=this.getGeometryFromBuffer(geometryBuffer),normalize||(buffers.vertexPositions=geometryBuffer)),this.geometryBuffer=buffers.vertexPositions,Array.isArray(dataChanged))for(const dataRange of dataChanged)this._rebuildGeometry(dataRange);else this._rebuildGeometry()}updatePartialGeometry({startRow:startRow,endRow:endRow}){this._rebuildGeometry({startRow:startRow,endRow:endRow})}getGeometryFromBuffer(geometryBuffer){const value=geometryBuffer.value||geometryBuffer;return ArrayBuffer.isView(value)?(0,_iterable_utils_js__WEBPACK_IMPORTED_MODULE_2__.jr)(value,{size:this.positionSize,offset:geometryBuffer.offset,stride:geometryBuffer.stride,startIndices:this.data.startIndices}):null}_allocate(instanceCount,copy){const{attributes:attributes,buffers:buffers,_attributeDefs:_attributeDefs,typedArrayManager:typedArrayManager}=this;for(const name in _attributeDefs)if(name in buffers)typedArrayManager.release(attributes[name]),attributes[name]=null;else{const def=_attributeDefs[name];def.copy=copy,attributes[name]=typedArrayManager.allocate(attributes[name],instanceCount,def)}}_forEachGeometry(visitor,startRow,endRow){const{data:data,getGeometry:getGeometry}=this,{iterable:iterable,objectInfo:objectInfo}=(0,_iterable_utils_js__WEBPACK_IMPORTED_MODULE_2__.jB)(data,startRow,endRow);for(const object of iterable){objectInfo.index++;visitor(getGeometry?getGeometry(object,objectInfo):null,objectInfo.index)}}_rebuildGeometry(dataRange){if(!this.data)return;let{indexStarts:indexStarts,vertexStarts:vertexStarts,instanceCount:instanceCount}=this;const{data:data,geometryBuffer:geometryBuffer}=this,{startRow:startRow=0,endRow:endRow=1/0}=dataRange||{},normalizedData={};if(dataRange||(indexStarts=[0],vertexStarts=[0]),this.normalize||!geometryBuffer)this._forEachGeometry(((geometry,dataIndex)=>{const normalizedGeometry=geometry&&this.normalizeGeometry(geometry);normalizedData[dataIndex]=normalizedGeometry,vertexStarts[dataIndex+1]=vertexStarts[dataIndex]+(normalizedGeometry?this.getGeometrySize(normalizedGeometry):0)}),startRow,endRow),instanceCount=vertexStarts[vertexStarts.length-1];else if(vertexStarts=data.startIndices,instanceCount=vertexStarts[data.length]||0,ArrayBuffer.isView(geometryBuffer))instanceCount=instanceCount||geometryBuffer.length/this.positionSize;else if(geometryBuffer instanceof _luma_gl_core__WEBPACK_IMPORTED_MODULE_3__.l){const byteStride=4*this.positionSize;instanceCount=instanceCount||geometryBuffer.byteLength/byteStride}else if(geometryBuffer.buffer){const byteStride=geometryBuffer.stride||4*this.positionSize;instanceCount=instanceCount||geometryBuffer.buffer.byteLength/byteStride}else if(geometryBuffer.value){const bufferValue=geometryBuffer.value,elementStride=geometryBuffer.stride/bufferValue.BYTES_PER_ELEMENT||this.positionSize;instanceCount=instanceCount||bufferValue.length/elementStride}this._allocate(instanceCount,Boolean(dataRange)),this.indexStarts=indexStarts,this.vertexStarts=vertexStarts,this.instanceCount=instanceCount;const context={};this._forEachGeometry(((geometry,dataIndex)=>{const normalizedGeometry=normalizedData[dataIndex]||geometry;context.vertexStart=vertexStarts[dataIndex],context.indexStart=indexStarts[dataIndex];const vertexEnd=dataIndex<vertexStarts.length-1?vertexStarts[dataIndex+1]:instanceCount;context.geometrySize=vertexEnd-vertexStarts[dataIndex],context.geometryIndex=dataIndex,this.updateGeometryAttributes(normalizedGeometry,context)}),startRow,endRow),this.vertexCount=indexStarts[indexStarts.length-1]}}},"./node_modules/@deck.gl/core/dist/viewports/orbit-viewport.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return OrbitViewport}});var _viewports_viewport_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/core/dist/viewports/viewport.js"),_math_gl_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@math.gl/core/dist/classes/matrix4.js"),_math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@math.gl/web-mercator/dist/index.js");const DEGREES_TO_RADIANS=Math.PI/180;function getViewMatrix({height:height,focalDistance:focalDistance,orbitAxis:orbitAxis,rotationX:rotationX,rotationOrbit:rotationOrbit,zoom:zoom}){const up="Z"===orbitAxis?[0,0,1]:[0,1,0],eye="Z"===orbitAxis?[0,-focalDistance,0]:[0,0,focalDistance],viewMatrix=(new _math_gl_core__WEBPACK_IMPORTED_MODULE_1__.y).lookAt({eye:eye,up:up});viewMatrix.rotateX(rotationX*DEGREES_TO_RADIANS),"Z"===orbitAxis?viewMatrix.rotateZ(rotationOrbit*DEGREES_TO_RADIANS):viewMatrix.rotateY(rotationOrbit*DEGREES_TO_RADIANS);const projectionScale=Math.pow(2,zoom)/height;return viewMatrix.scale(projectionScale),viewMatrix}class OrbitViewport extends _viewports_viewport_js__WEBPACK_IMPORTED_MODULE_2__.Z{constructor(props){const{height:height,projectionMatrix:projectionMatrix,fovy:fovy=50,orbitAxis:orbitAxis="Z",target:target=[0,0,0],rotationX:rotationX=0,rotationOrbit:rotationOrbit=0,zoom:zoom=0}=props,focalDistance=projectionMatrix?projectionMatrix[5]/2:(0,_math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.sj)(fovy);super({...props,longitude:void 0,viewMatrix:getViewMatrix({height:height||1,focalDistance:focalDistance,orbitAxis:orbitAxis,rotationX:rotationX,rotationOrbit:rotationOrbit,zoom:zoom}),fovy:fovy,focalDistance:focalDistance,position:target,zoom:zoom}),this.projectedCenter=this.project(this.center)}unproject(xyz,{topLeft:topLeft=!0}={}){const[x,y,z=this.projectedCenter[2]]=xyz,y2=topLeft?y:this.height-y,[X,Y,Z]=(0,_math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.CT)([x,y2,z],this.pixelUnprojectionMatrix);return[X,Y,Z]}panByPosition(coords,pixel){const p0=this.project(coords),nextCenter=[this.width/2+p0[0]-pixel[0],this.height/2+p0[1]-pixel[1],this.projectedCenter[2]];return{target:this.unproject(nextCenter)}}}},"./node_modules/@deck.gl/core/dist/views/first-person-view.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return FirstPersonView}});var view=__webpack_require__("./node_modules/@deck.gl/core/dist/views/view.js"),viewport=__webpack_require__("./node_modules/@deck.gl/core/dist/viewports/viewport.js"),dist=__webpack_require__("./node_modules/@math.gl/web-mercator/dist/index.js"),vector3=__webpack_require__("./node_modules/@math.gl/core/dist/classes/vector3.js"),common=__webpack_require__("./node_modules/@math.gl/core/dist/lib/common.js"),vec3=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/vec3.js");class SphericalCoordinates{constructor({phi:phi=0,theta:theta=0,radius:radius=1,bearing:bearing,pitch:pitch,altitude:altitude,radiusScale:radiusScale=6371e3}={}){this.phi=phi,this.theta=theta,this.radius=radius||altitude||1,this.radiusScale=radiusScale||1,void 0!==bearing&&(this.bearing=bearing),void 0!==pitch&&(this.pitch=pitch),this.check()}toString(){return this.formatString(common.vc)}formatString({printTypes:printTypes=!1}){const f=common.Bw;return`${printTypes?"Spherical":""}[rho:${f(this.radius)},theta:${f(this.theta)},phi:${f(this.phi)}]`}equals(other){return(0,common.fS)(this.radius,other.radius)&&(0,common.fS)(this.theta,other.theta)&&(0,common.fS)(this.phi,other.phi)}exactEquals(other){return this.radius===other.radius&&this.theta===other.theta&&this.phi===other.phi}get bearing(){return 180-(0,common.RW)(this.phi)}set bearing(v){this.phi=Math.PI-(0,common.uR)(v)}get pitch(){return(0,common.RW)(this.theta)}set pitch(v){this.theta=(0,common.uR)(v)}get longitude(){return(0,common.RW)(this.phi)}get latitude(){return(0,common.RW)(this.theta)}get lng(){return(0,common.RW)(this.phi)}get lat(){return(0,common.RW)(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(radius,phi,theta){return this.radius=radius,this.phi=phi,this.theta=theta,this.check()}clone(){return(new SphericalCoordinates).copy(this)}copy(other){return this.radius=other.radius,this.phi=other.phi,this.theta=other.theta,this.check()}fromLngLatZ([lng,lat,z]){return this.radius=1+z/this.radiusScale,this.phi=(0,common.uR)(lat),this.theta=(0,common.uR)(lng),this.check()}fromVector3(v){return this.radius=vec3.kE(v),this.radius>0&&(this.theta=Math.atan2(v[0],v[1]),this.phi=Math.acos((0,common.uZ)(v[2]/this.radius,-1,1))),this.check()}toVector3(){return new vector3.P(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}var matrix4=__webpack_require__("./node_modules/@math.gl/core/dist/classes/matrix4.js");class FirstPersonViewport extends viewport.Z{constructor(props){const{longitude:longitude,latitude:latitude,modelMatrix:modelMatrix,bearing:bearing=0,pitch:pitch=0,up:up=[0,0,1]}=props,dir=new SphericalCoordinates({bearing:bearing,pitch:-90===pitch?1e-4:90+pitch}).toVector3().normalize(),center=modelMatrix?new matrix4.y(modelMatrix).transformAsVector(dir):dir,zoom=Number.isFinite(latitude)?(0,dist.Bf)({latitude:latitude}):0,scale=Math.pow(2,zoom),viewMatrix=(new matrix4.y).lookAt({eye:[0,0,0],center:center,up:up}).scale(scale);super({...props,zoom:zoom,viewMatrix:viewMatrix}),this.latitude=latitude,this.longitude=longitude}}var controller=__webpack_require__("./node_modules/@deck.gl/core/dist/controllers/controller.js"),view_state=__webpack_require__("./node_modules/@deck.gl/core/dist/controllers/view-state.js"),math_utils=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/math-utils.js"),linear_interpolator=__webpack_require__("./node_modules/@deck.gl/core/dist/transitions/linear-interpolator.js");class FirstPersonState extends view_state.Z{constructor(options){const{width:width,height:height,position:position=[0,0,0],bearing:bearing=0,pitch:pitch=0,longitude:longitude=null,latitude:latitude=null,maxPitch:maxPitch=90,minPitch:minPitch=-90,startRotatePos:startRotatePos,startBearing:startBearing,startPitch:startPitch,startZoomPosition:startZoomPosition,startPanPos:startPanPos,startPanPosition:startPanPosition}=options;super({width:width,height:height,position:position,bearing:bearing,pitch:pitch,longitude:longitude,latitude:latitude,maxPitch:maxPitch,minPitch:minPitch},{startRotatePos:startRotatePos,startBearing:startBearing,startPitch:startPitch,startZoomPosition:startZoomPosition,startPanPos:startPanPos,startPanPosition:startPanPosition}),this.makeViewport=options.makeViewport}panStart({pos:pos}){const{position:position}=this.getViewportProps();return this._getUpdatedState({startPanPos:pos,startPanPosition:position})}pan({pos:pos}){if(!pos)return this;const{startPanPos:startPanPos=[0,0],startPanPosition:startPanPosition=[0,0]}=this.getState(),{width:width,height:height,bearing:bearing,pitch:pitch}=this.getViewportProps(),deltaScaleX=500*(pos[0]-startPanPos[0])/width,deltaScaleY=500*(pos[1]-startPanPos[1])/height,up=new SphericalCoordinates({bearing:bearing,pitch:pitch}),forward=new SphericalCoordinates({bearing:bearing,pitch:-90}),yDirection=up.toVector3().normalize(),xDirection=forward.toVector3().cross(yDirection).normalize();return this._getUpdatedState({position:new vector3.P(startPanPosition).add(xDirection.scale(deltaScaleX)).add(yDirection.scale(deltaScaleY))})}panEnd(){return this._getUpdatedState({startPanPos:null,startPanPosition:null})}rotateStart({pos:pos}){return this._getUpdatedState({startRotatePos:pos,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:pos,deltaAngleX:deltaAngleX=0,deltaAngleY:deltaAngleY=0}){const{startRotatePos:startRotatePos,startBearing:startBearing,startPitch:startPitch}=this.getState(),{width:width,height:height}=this.getViewportProps();if(!startRotatePos||void 0===startBearing||void 0===startPitch)return this;let newRotation;if(pos){newRotation={bearing:startBearing-180*((pos[0]-startRotatePos[0])/width),pitch:startPitch-90*((pos[1]-startRotatePos[1])/height)}}else newRotation={bearing:startBearing-deltaAngleX,pitch:startPitch-deltaAngleY};return this._getUpdatedState(newRotation)}rotateEnd(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})}zoomStart(){return this._getUpdatedState({startZoomPosition:this.getViewportProps().position})}zoom({pos:pos,scale:scale}){const viewportProps=this.getViewportProps(),startZoomPosition=this.getState().startZoomPosition||viewportProps.position,viewport=this.makeViewport(viewportProps),{projectionMatrix:projectionMatrix,width:width}=viewport,angle=2*Math.atan(1/projectionMatrix[0])*(pos[0]/width-.5),direction=this.getDirection(!0);return this._move(direction.rotateZ({radians:-angle}),20*Math.log2(scale),startZoomPosition)}zoomEnd(){return this._getUpdatedState({startZoomPosition:null})}moveLeft(speed=20){const direction=this.getDirection(!0);return this._move(direction.rotateZ({radians:Math.PI/2}),speed)}moveRight(speed=20){const direction=this.getDirection(!0);return this._move(direction.rotateZ({radians:-Math.PI/2}),speed)}moveUp(speed=20){const direction=this.getDirection(!0);return this._move(direction,speed)}moveDown(speed=20){const direction=this.getDirection(!0);return this._move(direction.negate(),speed)}rotateLeft(speed=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-speed})}rotateRight(speed=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+speed})}rotateUp(speed=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+speed})}rotateDown(speed=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-speed})}zoomIn(speed=20){return this._move(new vector3.P(0,0,1),speed)}zoomOut(speed=20){return this._move(new vector3.P(0,0,-1),speed)}shortestPathFrom(viewState){const fromProps=viewState.getViewportProps(),props={...this.getViewportProps()},{bearing:bearing,longitude:longitude}=props;return Math.abs(bearing-fromProps.bearing)>180&&(props.bearing=bearing<0?bearing+360:bearing-360),null!==longitude&&null!==fromProps.longitude&&Math.abs(longitude-fromProps.longitude)>180&&(props.longitude=longitude<0?longitude+360:longitude-360),props}_move(direction,speed,fromPosition=this.getViewportProps().position){const delta=direction.scale(speed);return this._getUpdatedState({position:new vector3.P(fromPosition).add(delta)})}getDirection(use2D=!1){return new SphericalCoordinates({bearing:this.getViewportProps().bearing,pitch:use2D?90:90+this.getViewportProps().pitch}).toVector3().normalize()}_getUpdatedState(newProps){return new FirstPersonState({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...newProps})}applyConstraints(props){const{pitch:pitch,maxPitch:maxPitch,minPitch:minPitch,longitude:longitude,bearing:bearing}=props;return props.pitch=(0,common.uZ)(pitch,minPitch,maxPitch),null!==longitude&&(longitude<-180||longitude>180)&&(props.longitude=(0,math_utils.wQ)(longitude+180,360)-180),(bearing<-180||bearing>180)&&(props.bearing=(0,math_utils.wQ)(bearing+180,360)-180),props}}class FirstPersonController extends controller.Z{constructor(){super(...arguments),this.ControllerState=FirstPersonState,this.transition={transitionDuration:300,transitionInterpolator:new linear_interpolator.Z(["position","pitch","bearing"])}}}class FirstPersonView extends view.Z{static{this.displayName="FirstPersonView"}constructor(props={}){super(props)}get ViewportType(){return FirstPersonViewport}get ControllerType(){return FirstPersonController}}},"./node_modules/@deck.gl/core/dist/views/orbit-view.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return OrbitView}});var _view_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/views/view.js"),_viewports_orbit_viewport_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/viewports/orbit-viewport.js"),_controllers_orbit_controller_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/core/dist/controllers/orbit-controller.js");class OrbitView extends _view_js__WEBPACK_IMPORTED_MODULE_0__.Z{static{this.displayName="OrbitView"}constructor(props={}){super(props),this.props.orbitAxis=props.orbitAxis||"Z"}get ViewportType(){return _viewports_orbit_viewport_js__WEBPACK_IMPORTED_MODULE_1__.Z}get ControllerType(){return _controllers_orbit_controller_js__WEBPACK_IMPORTED_MODULE_2__.Z}}},"./node_modules/@deck.gl/extensions/dist/clip/clip-extension.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return ClipExtension}});var _deck_gl_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer-extension.js");const defaultProps={clipBounds:[0,0,1,1],clipByInstance:void 0},shaderFunction="\nuniform vec4 clip_bounds;\nbool clip_isInBounds(vec2 position) {\nreturn position.x >= clip_bounds[0] && position.y >= clip_bounds[1] && position.x < clip_bounds[2] && position.y < clip_bounds[3];\n}\n",shaderModuleVs={name:"clip-vs",vs:shaderFunction},injectionVs={"vs:#decl":"\nout float clip_isVisible;\n","vs:DECKGL_FILTER_GL_POSITION":"\nclip_isVisible = float(clip_isInBounds(geometry.worldPosition.xy));\n","fs:#decl":"\nin float clip_isVisible;\n","fs:DECKGL_FILTER_COLOR":"\nif (clip_isVisible < 0.5) discard;\n"},shaderModuleFs={name:"clip-fs",fs:shaderFunction},injectionFs={"vs:#decl":"\nout vec2 clip_commonPosition;\n","vs:DECKGL_FILTER_GL_POSITION":"\nclip_commonPosition = geometry.position.xy;\n","fs:#decl":"\nin vec2 clip_commonPosition;\n","fs:DECKGL_FILTER_COLOR":"\nif (!clip_isInBounds(clip_commonPosition)) discard;\n"};class ClipExtension extends _deck_gl_core__WEBPACK_IMPORTED_MODULE_0__.Z{static{this.defaultProps=defaultProps}static{this.extensionName="ClipExtension"}getShaders(){let clipByInstance="instancePositions"in this.getAttributeManager().attributes;return void 0!==this.props.clipByInstance&&(clipByInstance=Boolean(this.props.clipByInstance)),this.state.clipByInstance=clipByInstance,clipByInstance?{modules:[shaderModuleVs],inject:injectionVs}:{modules:[shaderModuleFs],inject:injectionFs}}draw({uniforms:uniforms}){const{clipBounds:clipBounds}=this.props;if(this.state.clipByInstance)uniforms.clip_bounds=clipBounds;else{const corner0=this.projectPosition([clipBounds[0],clipBounds[1],0]),corner1=this.projectPosition([clipBounds[2],clipBounds[3],0]);uniforms.clip_bounds=[Math.min(corner0[0],corner1[0]),Math.min(corner0[1],corner1[1]),Math.max(corner0[0],corner1[0]),Math.max(corner0[1],corner1[1])]}}}},"./node_modules/@deck.gl/extensions/dist/path-style/path-style-extension.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return PathStyleExtension}});var layer_extension=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer-extension.js"),shader=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/shader.js"),vec3=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/vec3.js");const dashShaders={inject:{"vs:#decl":"\nin vec2 instanceDashArrays;\nin float instanceDashOffsets;\nout vec2 vDashArray;\nout float vDashOffset;\n","vs:#main-end":"\nvDashArray = instanceDashArrays;\nvDashOffset = instanceDashOffsets / width.x;\n","fs:#decl":"\nuniform float dashAlignMode;\nuniform float capType;\nuniform bool dashGapPickable;\nin vec2 vDashArray;\nin float vDashOffset;\n","fs:#main-start":"\nfloat solidLength = vDashArray.x;\nfloat gapLength = vDashArray.y;\nfloat unitLength = solidLength + gapLength;\nfloat offset;\nif (unitLength > 0.0) {\nif (dashAlignMode == 0.0) {\noffset = vDashOffset;\n} else {\nunitLength = vPathLength / round(vPathLength / unitLength);\noffset = solidLength / 2.0;\n}\nfloat unitOffset = mod(vPathPosition.y + offset, unitLength);\nif (gapLength > 0.0 && unitOffset > solidLength) {\nif (capType <= 0.5) {\nif (!(dashGapPickable && bool(picking.isActive))) {\ndiscard;\n}\n} else {\nfloat distToEnd = length(vec2(\nmin(unitOffset - solidLength, unitLength - unitOffset),\nvPathPosition.x\n));\nif (distToEnd > 1.0) {\nif (!(dashGapPickable && bool(picking.isActive))) {\ndiscard;\n}\n}\n}\n}\n}\n"}},offsetShaders={inject:{"vs:#decl":"\nin float instanceOffsets;\n","vs:DECKGL_FILTER_SIZE":"\nfloat offsetWidth = abs(instanceOffsets * 2.0) + 1.0;\nsize *= offsetWidth;\n","vs:#main-end":"\nfloat offsetWidth = abs(instanceOffsets * 2.0) + 1.0;\nfloat offsetDir = sign(instanceOffsets);\nvPathPosition.x = (vPathPosition.x + offsetDir) * offsetWidth - offsetDir;\nvPathPosition.y *= offsetWidth;\nvPathLength *= offsetWidth;\n","fs:#main-start":"\nfloat isInside;\nisInside = step(-1.0, vPathPosition.x) * step(vPathPosition.x, 1.0);\nif (isInside == 0.0) {\ndiscard;\n}\n"}},defaultProps={getDashArray:{type:"accessor",value:[0,0]},getOffset:{type:"accessor",value:0},dashJustified:!1,dashGapPickable:!1};class PathStyleExtension extends layer_extension.Z{static{this.defaultProps=defaultProps}static{this.extensionName="PathStyleExtension"}constructor({dash:dash=!1,offset:offset=!1,highPrecisionDash:highPrecisionDash=!1}={}){super({dash:dash||highPrecisionDash,offset:offset,highPrecisionDash:highPrecisionDash})}isEnabled(layer){return"pathTesselator"in layer.state}getShaders(extension){if(!extension.isEnabled(this))return null;let result={};return extension.opts.dash&&(result=(0,shader.l)(result,dashShaders)),extension.opts.offset&&(result=(0,shader.l)(result,offsetShaders)),result}initializeState(context,extension){const attributeManager=this.getAttributeManager();attributeManager&&extension.isEnabled(this)&&(extension.opts.dash&&attributeManager.addInstanced({instanceDashArrays:{size:2,accessor:"getDashArray"},instanceDashOffsets:extension.opts.highPrecisionDash?{size:1,accessor:"getPath",transform:extension.getDashOffsets.bind(this)}:{size:1,update:attribute=>{attribute.constant=!0,attribute.value=[0]}}}),extension.opts.offset&&attributeManager.addInstanced({instanceOffsets:{size:1,accessor:"getOffset"}}))}updateState(params,extension){if(!extension.isEnabled(this))return;const uniforms={};extension.opts.dash&&(uniforms.dashAlignMode=this.props.dashJustified?1:0,uniforms.dashGapPickable=Boolean(this.props.dashGapPickable)),this.state.model?.setUniforms(uniforms)}getDashOffsets(path){const result=[0],positionSize="XY"===this.props.positionFormat?2:3,isNested=Array.isArray(path[0]),geometrySize=isNested?path.length:path.length/positionSize;let p,prevP;for(let i=0;i<geometrySize-1;i++)p=isNested?path[i]:path.slice(i*positionSize,i*positionSize+positionSize),p=this.projectPosition(p),i>0&&(result[i]=result[i-1]+vec3.TK(prevP,p)),prevP=p;return result[geometrySize-1]=0,result}}},"./node_modules/@deck.gl/geo-layers/dist/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GeohashLayer:function(){return GeohashLayer},GreatCircleLayer:function(){return GreatCircleLayer},H3ClusterLayer:function(){return H3ClusterLayer},H3HexagonLayer:function(){return H3HexagonLayer},MVTLayer:function(){return MVTLayer},QuadkeyLayer:function(){return QuadkeyLayer},S2Layer:function(){return S2Layer},TerrainLayer:function(){return TerrainLayer},Tile3DLayer:function(){return Tile3DLayer},TileLayer:function(){return TileLayer},TripsLayer:function(){return TripsLayer},_GeoCellLayer:function(){return GeoCellLayer},_Tile2DHeader:function(){return Tile2DHeader},_Tileset2D:function(){return Tileset2D},_WMSLayer:function(){return WMSLayer},_getURLFromTemplate:function(){return getURLFromTemplate}});var composite_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/composite-layer.js"),deep_equal=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/deep-equal.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js"),bitmap_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/bitmap-layer/bitmap-layer.js");class DataSource{fetch;loadOptions;_needsRefresh=!0;props;constructor(props){this.props={...props},this.loadOptions={...props.loadOptions},this.fetch=function getFetchFunction(options){const fetchFunction=options?.fetch;if(fetchFunction&&"function"==typeof fetchFunction)return(url,fetchOptions)=>fetchFunction(url,fetchOptions);const fetchOptions=options?.fetch;if(fetchOptions&&"function"!=typeof fetchOptions)return url=>fetch(url,fetchOptions);return url=>fetch(url)}(this.loadOptions)}setProps(props){this.props=Object.assign(this.props,props),this.setNeedsRefresh()}setNeedsRefresh(){this._needsRefresh=!0}getNeedsRefresh(clear=!0){const needsRefresh=this._needsRefresh;return clear&&(this._needsRefresh=!1),needsRefresh}}class ImageSource extends DataSource{static type="template";static testURL=url=>!1}var image_loader=__webpack_require__("./node_modules/@loaders.gl/images/dist/image-loader.js"),merge_loader_options=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/lib/option-utils/merge-loader-options.js");function uncapitalizeKeys(object){if(Array.isArray(object))return object.map((element=>uncapitalizeKeys(element)));if(object&&"object"==typeof object){const newObject={};for(const[key,value]of Object.entries(object))newObject[(str=key,"string"==typeof str?str.charAt(0).toLowerCase()+str.slice(1):str)]=uncapitalizeKeys(value);return newObject}var str;return object}var fxp=__webpack_require__("./node_modules/fast-xml-parser/src/fxp.js");function parseXMLSync(text,options){if(options?._parser&&"fast-xml-parser"!==options._parser)throw new Error(options?._parser);const fastXMLOptions={allowBooleanAttributes:!0,ignoreDeclaration:!0,removeNSPrefix:options?.removeNSPrefix,textNodeName:options?.textNodeName,isArray:(name,jpath,isLeafNode,isAttribute)=>{const array=Boolean(options?.arrayPaths?.some((path=>jpath===path)));return array},...options?._fastXML},xml=function fastParseXML(text,options){const parser=new fxp.XMLParser({ignoreAttributes:!1,attributeNamePrefix:"",...options}),parsedXML=parser.parse(text);return parsedXML}(text,fastXMLOptions);return options?.uncapitalizeKeys?uncapitalizeKeys(xml):xml}const XMLLoader={dataType:null,batchType:null,name:"XML",id:"xml",module:"xml",version:"4.2.1",worker:!1,extensions:["xml"],mimeTypes:["application/xml","text/xml"],testText:function testXMLFile(text){return text.startsWith("<?xml")},options:{xml:{_parser:"fast-xml-parser",uncapitalizeKeys:!1,removeNSPrefix:!1,textNodeName:"value",arrayPaths:[]}},parse:async(arrayBuffer,options)=>parseXMLSync((new TextDecoder).decode(arrayBuffer),{...XMLLoader.options.xml,...options?.xml}),parseTextSync:(text,options)=>parseXMLSync(text,{...XMLLoader.options.xml,...options?.xml})};function getXMLArray(xmlValue){return Array.isArray(xmlValue)?xmlValue:xmlValue?[xmlValue]:[]}function getXMLStringArray(xmlValue){const xmlArray=getXMLArray(xmlValue);return xmlArray.length>0&&xmlArray.every((_=>"string"==typeof _))?xmlArray:[]}function getXMLFloat(xmlValue,defaultValue=void 0){switch(typeof xmlValue){case"number":return xmlValue;case"string":return parseFloat(xmlValue);default:return}}function getXMLInteger(xmlValue,defaultValue=void 0){switch(typeof xmlValue){case"number":return xmlValue;case"string":return parseInt(xmlValue,10);default:return}}function getXMLBoolean(xmlValue){switch(xmlValue){case"true":case"1":return!0;default:return!1}}function parseWMSCapabilities(xmlText,options){const parsedXML=XMLLoader.parseTextSync?.(xmlText,options),xmlCapabilities=parsedXML.WMT_MS_Capabilities||parsedXML.WMS_Capabilities||parsedXML,capabilities=function extractCapabilities(xml){const capabilities={version:String(xml.version||""),name:String(xml.Service?.Name||"unnamed"),title:xml.Service?.Title?String(xml.Service?.Title):void 0,abstract:xml.Service?.Abstract?String(xml.Service?.Abstract):void 0,keywords:getXMLStringArray(xml.Service?.KeywordList?.Keyword),fees:xml.Service?.Fees?JSON.stringify(xml.Service?.Fees):void 0,accessConstraints:xml.Service?.AccessConstraints?JSON.stringify(xml.Service?.AccessConstraints):void 0,layerLimit:getXMLInteger(xml.Service?.LayerLimit),maxWidth:getXMLInteger(xml.Service?.maxWidth),maxHeight:getXMLInteger(xml.Service?.maxHeight),layers:[],requests:extractRequests(xml.Capability?.Request),exceptions:extractExceptions(xml.Exception)},xmlLayers=getXMLArray(xml.Capability?.Layer);for(const xmlSubLayer of xmlLayers)capabilities.layers.push(extractLayer(xmlSubLayer));for(const[key,value]of Object.entries(capabilities))void 0===value&&delete capabilities[key];return capabilities}(xmlCapabilities);if(options?.inheritedLayerProps)for(const layer of capabilities.layers)addInheritedLayerProps(layer,null);return options?.includeRawJSON&&(capabilities.json=xmlCapabilities),options?.includeXMLText&&(capabilities.xml=xmlText),capabilities}function extractRequests(xmlRequests){const requests={};for(const[name,xmlRequest]of Object.entries(xmlRequests||{})){const mimeTypes=getXMLStringArray(xmlRequest?.Format);requests[name]={mimeTypes:mimeTypes}}return requests}function extractExceptions(xmlException){if(getXMLArray(xmlException?.Format).length>0)return{mimeTypes:getXMLStringArray(xmlException)}}function extractLayer(xmlLayer){const layer={title:String(xmlLayer?.Title||""),name:xmlLayer?.Name&&String(xmlLayer?.Name),abstract:xmlLayer?.Name&&String(xmlLayer?.Abstract),keywords:getXMLStringArray(xmlLayer.KeywordList?.Keyword)},crs=xmlLayer?.CRS||xmlLayer?.SRS;crs&&Array.isArray(crs)&&crs.every((_=>"string"==typeof _))&&(layer.crs=crs);let geographicBoundingBox=xmlLayer?.EX_GeographicBoundingBox&&function extractEXBoundingBox(xmlBoundingBox){const{westBoundLongitude:w,northBoundLatitude:n,eastBoundLongitude:e,southBoundLatitude:s}=xmlBoundingBox;return[[w,s],[e,n]]}(xmlLayer?.EX_GeographicBoundingBox);geographicBoundingBox&&(layer.geographicBoundingBox=geographicBoundingBox),geographicBoundingBox=xmlLayer?.LatLonBoundingBox&&function extractLatLonBoundingBox(xmlBoundingBox){const{minx:minx,miny:miny,maxx:maxx,maxy:maxy}=xmlBoundingBox;return[[minx,miny],[maxx,maxy]]}(xmlLayer?.LatLonBoundingBox),geographicBoundingBox&&(layer.geographicBoundingBox=geographicBoundingBox);const boundingBoxes=xmlLayer?.BoundingBox&&function extractWMSBoundingBoxes(xmlBoundingBoxes){return getXMLArray(xmlBoundingBoxes).map((xmlBox=>function extractWMSBoundingBox(xmlBoundingBox){const{CRS:CRS,SRS:SRS,minx:minx,miny:miny,maxx:maxx,maxy:maxy,resx:resx,resy:resy}=xmlBoundingBox,boundingBox={crs:CRS||SRS,boundingBox:[[getXMLFloat(minx),getXMLFloat(miny)],[getXMLFloat(maxx),getXMLFloat(maxy)]]};resx&&(boundingBox.xResolution=resx);resy&&(boundingBox.yResolution=resy);return boundingBox}(xmlBox)))}(xmlLayer?.BoundingBox);boundingBoxes&&boundingBoxes.length>0&&(layer.boundingBoxes=boundingBoxes);const dimensions=getXMLArray(xmlLayer?.Dimension).map((xml=>function extractDimension(xmlDimension){const{name:name,units:units,value:extent}=xmlDimension,dimension={name:name,units:units,extent:extent};xmlDimension.unitSymbol&&(dimension.unitSymbol=xmlDimension.unitSymbol);xmlDimension.default&&(dimension.defaultValue=xmlDimension.default);xmlDimension.multipleValues&&(dimension.multipleValues=getXMLBoolean(xmlDimension.multipleValues));xmlDimension.nearestValue&&(dimension.nearestValue=getXMLBoolean(xmlDimension.nearestValue));xmlDimension.current&&(dimension.current=getXMLBoolean(xmlDimension.current));return dimension}(xml)));dimensions.length&&(layer.dimensions=dimensions),xmlLayer?.opaque&&(layer.opaque=getXMLBoolean(xmlLayer?.opaque)),xmlLayer?.cascaded&&(layer.cascaded=getXMLBoolean(xmlLayer?.cascaded)),xmlLayer?.queryable&&(layer.queryable=getXMLBoolean(xmlLayer?.queryable));const xmlLayers=getXMLArray(xmlLayer?.Layer),layers=[];for(const xmlSubLayer of xmlLayers)layers.push(extractLayer(xmlSubLayer));layers.length>0&&(layer.layers=layers);for(const[key,value]of Object.entries(layer))void 0===value&&delete layer[key];return layer}function addInheritedLayerProps(layer,parent){parent?.geographicBoundingBox&&!layer.geographicBoundingBox&&(layer.geographicBoundingBox=[...parent.geographicBoundingBox]),parent?.crs&&!layer.crs&&(layer.crs=[...parent.crs]),parent?.boundingBoxes&&!layer.boundingBoxes&&(layer.boundingBoxes=[...parent.boundingBoxes]),parent?.dimensions&&!layer.dimensions&&(layer.dimensions=[...parent.dimensions]);for(const subLayer of layer.layers||[])addInheritedLayerProps(subLayer,layer)}const WMSCapabilitiesLoader={dataType:null,batchType:null,id:"wms-capabilities",name:"WMS Capabilities",module:"wms",version:"4.2.1",worker:!1,extensions:["xml"],mimeTypes:["application/vnd.ogc.wms_xml","application/xml","text/xml"],testText:function wms_capabilities_loader_testXMLFile(text){return text.startsWith("<?xml")},options:{wms:{}},parse:async(arrayBuffer,options)=>parseWMSCapabilities((new TextDecoder).decode(arrayBuffer),options?.wms),parseTextSync:(text,options)=>parseWMSCapabilities(text,options?.wms)};function parseWMSFeatureInfo(text,options){const parsedXML=XMLLoader.parseTextSync?.(text,options),xmlFeatureInfo=parsedXML.FeatureInfoResponse?.FIELDS||[];return{features:(Array.isArray(xmlFeatureInfo)?xmlFeatureInfo:[xmlFeatureInfo]).map((xmlFeature=>function extractFeature(xmlFeature){const xmlFields=xmlFeature||{};return{attributes:xmlFields,type:"",bounds:{bottom:0,top:0,left:0,right:0}}}(xmlFeature)))}}const WMSFeatureInfoLoader={...WMSCapabilitiesLoader,dataType:null,id:"wms-feature-info",name:"WMS FeatureInfo",parse:async(arrayBuffer,options)=>parseWMSFeatureInfo((new TextDecoder).decode(arrayBuffer),options),parseTextSync:(text,options)=>parseWMSFeatureInfo(text,options)};function parseWMSLayerDescription(text,options){const parsedXML=XMLLoader.parseTextSync?.(text,options);return parsedXML}const WMSLayerDescriptionLoader={...WMSCapabilitiesLoader,dataType:null,id:"wms-layer-description",name:"WMS DescribeLayer",parse:async(arrayBuffer,options)=>parseWMSLayerDescription((new TextDecoder).decode(arrayBuffer),options),parseTextSync:(text,options)=>parseWMSLayerDescription(text,options)};const WMSErrorLoader={dataType:null,batchType:null,id:"wms-error",name:"WMS Error",module:"wms",version:"4.2.1",worker:!1,extensions:["xml"],mimeTypes:["application/vnd.ogc.se_xml","application/xml","text/xml"],testText:function wms_error_loader_testXMLFile(text){return text.startsWith("<?xml")},options:{wms:{throwOnError:!1}},parse:async(arrayBuffer,options)=>parseTextSync((new TextDecoder).decode(arrayBuffer),options),parseSync:(arrayBuffer,options)=>parseTextSync((new TextDecoder).decode(arrayBuffer),options),parseTextSync:(text,options)=>parseTextSync(text,options)};function parseTextSync(text,options){const wmsOptions={...WMSErrorLoader.options.wms,...options?.wms},error=function parseWMSError(text,options){const parsedXML=XMLLoader.parseTextSync?.(text,options),serviceExceptionXML=parsedXML?.ServiceExceptionReport?.ServiceException||parsedXML?.["ogc:ServiceExceptionReport"]?.["ogc:ServiceException"];return"string"==typeof serviceExceptionXML?serviceExceptionXML:serviceExceptionXML.value||serviceExceptionXML.code||"Unknown error"}(text,wmsOptions),message=wmsOptions.minimalErrors?error:`WMS Service error: ${error}`;if(wmsOptions.throwOnError)throw new Error(message);return message}const WMSService={type:"wms",testURL:url=>url.toLowerCase().includes("wms"),create:props=>new WMSSource(props)};class WMSSource extends ImageSource{url;data;substituteCRS84;flipCRS;wmsParameters;vendorParameters;capabilities=null;constructor(props){super(props),this.url=props.url,this.data=props.url,this.substituteCRS84=props.substituteCRS84??!1,this.flipCRS=["EPSG:4326"],this.wmsParameters={layers:void 0,query_layers:void 0,styles:void 0,version:"1.3.0",crs:"EPSG:4326",format:"image/png",info_format:"text/plain",transparent:void 0,time:void 0,elevation:void 0,...props.wmsParameters},this.vendorParameters=props.vendorParameters||{}}async getMetadata(){const capabilities=await this.getCapabilities();return this.normalizeMetadata(capabilities)}async getImage(parameters){const{boundingBox:boundingBox,bbox:bbox,...rest}=parameters,wmsParameters={bbox:boundingBox?[...boundingBox[0],...boundingBox[1]]:bbox,...rest};return await this.getMap(wmsParameters)}normalizeMetadata(capabilities){return capabilities}async getCapabilities(wmsParameters,vendorParameters){const url=this.getCapabilitiesURL(wmsParameters,vendorParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();this._checkResponse(response,arrayBuffer);const capabilities=await WMSCapabilitiesLoader.parse(arrayBuffer,this.loadOptions);return this.capabilities=capabilities,capabilities}async getMap(wmsParameters,vendorParameters){const url=this.getMapURL(wmsParameters,vendorParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();this._checkResponse(response,arrayBuffer);try{return await image_loader.S.parse(arrayBuffer,this.loadOptions)}catch{throw this._parseError(arrayBuffer)}}async getFeatureInfo(wmsParameters,vendorParameters){const url=this.getFeatureInfoURL(wmsParameters,vendorParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();return this._checkResponse(response,arrayBuffer),await WMSFeatureInfoLoader.parse(arrayBuffer,this.loadOptions)}async getFeatureInfoText(wmsParameters,vendorParameters){const url=this.getFeatureInfoURL(wmsParameters,vendorParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();return this._checkResponse(response,arrayBuffer),(new TextDecoder).decode(arrayBuffer)}async describeLayer(wmsParameters,vendorParameters){const url=this.describeLayerURL(wmsParameters,vendorParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();return this._checkResponse(response,arrayBuffer),await WMSLayerDescriptionLoader.parse(arrayBuffer,this.loadOptions)}async getLegendGraphic(wmsParameters,vendorParameters){const url=this.getLegendGraphicURL(wmsParameters,vendorParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();this._checkResponse(response,arrayBuffer);try{return await image_loader.S.parse(arrayBuffer,this.loadOptions)}catch{throw this._parseError(arrayBuffer)}}getCapabilitiesURL(wmsParameters,vendorParameters){const options={version:this.wmsParameters.version,...wmsParameters};return this._getWMSUrl("GetCapabilities",options,vendorParameters)}getMapURL(wmsParameters,vendorParameters){wmsParameters=this._getWMS130Parameters(wmsParameters);const options={version:this.wmsParameters.version,format:this.wmsParameters.format,transparent:this.wmsParameters.transparent,time:this.wmsParameters.time,elevation:this.wmsParameters.elevation,layers:this.wmsParameters.layers,styles:this.wmsParameters.styles,crs:this.wmsParameters.crs,...wmsParameters};return this._getWMSUrl("GetMap",options,vendorParameters)}getFeatureInfoURL(wmsParameters,vendorParameters){wmsParameters=this._getWMS130Parameters(wmsParameters);const{boundingBox:boundingBox,bbox:bbox}=wmsParameters;wmsParameters.bbox=boundingBox?[...boundingBox[0],...boundingBox[1]]:bbox;const options={version:this.wmsParameters.version,info_format:this.wmsParameters.info_format,layers:this.wmsParameters.layers,query_layers:this.wmsParameters.query_layers,styles:this.wmsParameters.styles,crs:this.wmsParameters.crs,...wmsParameters};return this._getWMSUrl("GetFeatureInfo",options,vendorParameters)}describeLayerURL(wmsParameters,vendorParameters){const options={version:this.wmsParameters.version,...wmsParameters};return this._getWMSUrl("DescribeLayer",options,vendorParameters)}getLegendGraphicURL(wmsParameters,vendorParameters){const options={version:this.wmsParameters.version,...wmsParameters};return this._getWMSUrl("GetLegendGraphic",options,vendorParameters)}_parseWMSUrl(url){const[baseUrl,search]=url.split("?"),searchParams=search.split("&"),parameters={};for(const parameter of searchParams){const[key,value]=parameter.split("=");parameters[key]=value}return{url:baseUrl,parameters:parameters}}_getWMSUrl(request,wmsParameters,vendorParameters){let url=this.url,first=!0;const allParameters={service:"WMS",version:wmsParameters.version,request:request,...wmsParameters,...this.vendorParameters,...vendorParameters},IGNORE_EMPTY_KEYS=["transparent","time","elevation"];for(const[key,value]of Object.entries(allParameters))IGNORE_EMPTY_KEYS.includes(key)&&!value||(url+=first?"?":"&",first=!1,url+=this._getURLParameter(key,value,wmsParameters));return encodeURI(url)}_getWMS130Parameters(wmsParameters){const newParameters={...wmsParameters};return newParameters.srs&&(newParameters.crs=newParameters.crs||newParameters.srs,delete newParameters.srs),newParameters}_getURLParameter(key,value,wmsParameters){switch(key){case"crs":"1.3.0"!==wmsParameters.version?key="srs":this.substituteCRS84&&"EPSG:4326"===value&&(value="CRS:84");break;case"srs":"1.3.0"===wmsParameters.version&&(key="crs");break;case"bbox":const bbox=this._flipBoundingBox(value,wmsParameters);bbox&&(value=bbox);break;case"x":"1.3.0"===wmsParameters.version&&(key="i");break;case"y":"1.3.0"===wmsParameters.version&&(key="j")}return key=key.toUpperCase(),Array.isArray(value)?`${key}=${value.join(",")}`:`${key}=${value?String(value):""}`}_flipBoundingBox(bboxValue,wmsParameters){if(!Array.isArray(bboxValue)||4!==bboxValue.length)return null;const bbox=bboxValue;return"1.3.0"===wmsParameters.version&&this.flipCRS.includes(wmsParameters.crs||"")&&!(this.substituteCRS84&&"EPSG:4326"===wmsParameters.crs)?[bbox[1],bbox[0],bbox[3],bbox[2]]:bbox}async _fetchArrayBuffer(url){const response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();return this._checkResponse(response,arrayBuffer),arrayBuffer}_checkResponse(response,arrayBuffer){const contentType=response.headers["content-type"];if(!response.ok||WMSErrorLoader.mimeTypes.includes(contentType)){const loadOptions=(0,merge_loader_options.N)(this.loadOptions,{wms:{throwOnError:!0}}),error=WMSErrorLoader.parseSync?.(arrayBuffer,loadOptions);throw new Error(error)}}_parseError(arrayBuffer){const error=WMSErrorLoader.parseSync?.(arrayBuffer,this.loadOptions);return new Error(error)}}class ImageService extends ImageSource{static type="template";static testURL=url=>url.toLowerCase().includes("{");constructor(props){super(props)}async getMetadata(){throw new Error("ImageSource.getMetadata not implemented")}async getImage(parameters){const granularParameters=this.getGranularParameters(parameters),url=this.getURLFromTemplate(granularParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();return await image_loader.S.parse(arrayBuffer)}getGranularParameters(parameters){const[[east,north],[west,south]]=parameters.boundingBox;return{...parameters,east:east,north:north,south:south,west:west}}getURLFromTemplate(parameters){let url=this.props.url;for(const[key,value]of Object.entries(parameters))url=url.replace(`\${${key}}`,String(value)),url=url.replace(`{${key}}`,String(value));return url}}class ArcGISImageSource extends ImageService{data;constructor(props){super(props),this.data=props.url}async getMetadata(){return await this.metadata()}async getImage(parameters){throw new Error("not implemented")}async metadata(){throw new Error("not implemented")}exportImage(options){throw new Error("not implemented")}metadataURL(options){return`${this.props.url}?f=pjson`}exportImageURL(options){const bbox=`bbox=${options.bbox[0]},${options.bbox[1]},${options.bbox[2]},${options.bbox[3]}`,size=`size=${options.width},${options.height}`,arcgisOptions={...options,bbox:bbox,size:size};return delete arcgisOptions.width,delete arcgisOptions.height,this.getUrl("exportImage",arcgisOptions)}getUrl(path,options,extra){let url=`${this.props.url}/${path}`,first=!0;for(const[key,value]of Object.entries(options))url+=first?"?":"&",first=!1,Array.isArray(value)?url+=`${key.toUpperCase()}=${value.join(",")}`:url+=`${key.toUpperCase()}=${value?String(value):""}`;return url}async checkResponse(response){if(!response.ok)throw new Error("error")}}const SERVICES=[WMSService,{type:"arcgis-image-server",testURL:url=>url.toLowerCase().includes("ImageServer"),create:props=>new ArcGISImageSource(props)}];function createImageSource(props){return function createImageService(props,services){const{type:type="auto"}=props,service="auto"===type?function guessServiceType(url,services){for(const service of services)if(service.testURL&&service.testURL(url))return service;return null}(props.url,services):function getServiceOfType(type,services){for(const service of services)if(service.type===type)return service;return null}(type,services);if(!service)throw new Error("Not a valid image source type");return service.create(props)}(props,SERVICES)}var dist=__webpack_require__("./node_modules/@math.gl/web-mercator/dist/index.js");const HALF_EARTH_CIRCUMFERENCE=6378137*Math.PI;function WGS84ToPseudoMercator(coord){const mercator=(0,dist.w5)(coord);return mercator[0]=(mercator[0]/256-1)*HALF_EARTH_CIRCUMFERENCE,mercator[1]=(mercator[1]/256-1)*HALF_EARTH_CIRCUMFERENCE,mercator}const defaultProps={id:"imagery-layer",data:"",serviceType:"auto",srs:"auto",layers:{type:"array",compare:!0,value:[]},onMetadataLoad:{type:"function",value:()=>{}},onMetadataLoadError:{type:"function",value:console.error},onImageLoadStart:{type:"function",value:()=>{}},onImageLoad:{type:"function",value:()=>{}},onImageLoadError:{type:"function",compare:!1,value:(requestId,error)=>console.error(error,requestId)}};class WMSLayer extends composite_layer.Z{static{this.layerName="WMSLayer"}static{this.defaultProps=defaultProps}get isLoaded(){return 0===this.state?.loadCounter&&super.isLoaded}shouldUpdateState(){return!0}initializeState(){this.state._nextRequestId=0,this.state.lastRequestId=-1,this.state.loadCounter=0}updateState({changeFlags:changeFlags,props:props,oldProps:oldProps}){const{viewport:viewport}=this.context;changeFlags.dataChanged||props.serviceType!==oldProps.serviceType?(this.state.imageSource=this._createImageSource(props),this._loadMetadata(),this.debounce((()=>this.loadImage(viewport,"image source changed")),0)):(0,deep_equal.v)(props.layers,oldProps.layers,1)?changeFlags.viewportChanged&&this.debounce((()=>this.loadImage(viewport,"viewport changed"))):this.debounce((()=>this.loadImage(viewport,"layers changed")),0)}finalizeState(){}renderLayers(){const{bounds:bounds,image:image,lastRequestParameters:lastRequestParameters}=this.state;return image&&new bitmap_layer.Z({...this.getSubLayerProps({id:"bitmap"}),_imageCoordinateSystem:"EPSG:4326"===lastRequestParameters.srs?constants.COORDINATE_SYSTEM.LNGLAT:constants.COORDINATE_SYSTEM.CARTESIAN,bounds:bounds,image:image})}async getFeatureInfoText(x,y){const{lastRequestParameters:lastRequestParameters}=this.state;if(lastRequestParameters){return await(this.state.imageSource.getFeatureInfoText?.({...lastRequestParameters,query_layers:lastRequestParameters.layers,x:x,y:y,info_format:"application/vnd.ogc.gml"}))}return""}_createImageSource(props){if(props.data instanceof ImageSource)return props.data;if("string"==typeof props.data)return createImageSource({url:props.data,loadOptions:props.loadOptions,type:props.serviceType});throw new Error("invalid image source in props.data")}async _loadMetadata(){const{imageSource:imageSource}=this.state;try{this.state.loadCounter++;const metadata=await imageSource.getMetadata();this.state.imageSource===imageSource&&this.getCurrentLayer()?.props.onMetadataLoad(metadata)}catch(error){this.getCurrentLayer()?.props.onMetadataLoadError(error)}finally{this.state.loadCounter--}}async loadImage(viewport,reason){const{layers:layers,serviceType:serviceType}=this.props;if("wms"===serviceType&&0===layers.length)return;const bounds=viewport.getBounds(),{width:width,height:height}=viewport,requestId=this.getRequestId();let{srs:srs}=this.props;"auto"===srs&&(srs=viewport.resolution?"EPSG:4326":"EPSG:3857");const requestParams={width:width,height:height,boundingBox:[[bounds[0],bounds[1]],[bounds[2],bounds[3]]],layers:layers,crs:srs};if("EPSG:3857"===srs){const min=WGS84ToPseudoMercator([bounds[0],bounds[1]]),max=WGS84ToPseudoMercator([bounds[2],bounds[3]]);requestParams.boundingBox=[min,max]}try{this.state.loadCounter++,this.props.onImageLoadStart(requestId);const image=await this.state.imageSource.getImage(requestParams);this.state.lastRequestId<requestId&&(this.getCurrentLayer()?.props.onImageLoad(requestId),this.setState({image:image,bounds:bounds,lastRequestParameters:requestParams,lastRequestId:requestId}))}catch(error){this.raiseError(error,"Load image"),this.getCurrentLayer()?.props.onImageLoadError(requestId,error)}finally{this.state.loadCounter--}}getRequestId(){return this.state._nextRequestId++}debounce(fn,ms=500){clearTimeout(this.state._timeoutId),this.state._timeoutId=setTimeout((()=>fn()),ms)}}var arc_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/arc-layer/arc-layer.js");const great_circle_layer_defaultProps={getHeight:{type:"accessor",value:0},greatCircle:!0};class GreatCircleLayer extends arc_layer.Z{static{this.layerName="GreatCircleLayer"}static{this.defaultProps=great_circle_layer_defaultProps}}var polygon_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/polygon-layer/polygon-layer.js");const GeoCellLayer_defaultProps={...polygon_layer.Z.defaultProps};class GeoCellLayer extends composite_layer.Z{static{this.layerName="GeoCellLayer"}static{this.defaultProps=GeoCellLayer_defaultProps}indexToBounds(){return null}renderLayers(){const{elevationScale:elevationScale,extruded:extruded,wireframe:wireframe,filled:filled,stroked:stroked,lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels,lineJointRounded:lineJointRounded,lineMiterLimit:lineMiterLimit,lineDashJustified:lineDashJustified,getElevation:getElevation,getFillColor:getFillColor,getLineColor:getLineColor,getLineWidth:getLineWidth}=this.props,{updateTriggers:updateTriggers,material:material,transitions:transitions}=this.props,CellLayer=this.getSubLayerClass("cell",polygon_layer.Z),{updateTriggers:boundsUpdateTriggers,...boundsProps}=this.indexToBounds()||{};return new CellLayer({filled:filled,wireframe:wireframe,extruded:extruded,elevationScale:elevationScale,stroked:stroked,lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels,lineJointRounded:lineJointRounded,lineMiterLimit:lineMiterLimit,lineDashJustified:lineDashJustified,material:material,transitions:transitions,getElevation:getElevation,getFillColor:getFillColor,getLineColor:getLineColor,getLineWidth:getLineWidth},this.getSubLayerProps({id:"cell",updateTriggers:updateTriggers&&{...boundsUpdateTriggers,getElevation:updateTriggers.getElevation,getFillColor:updateTriggers.getFillColor,getLineColor:updateTriggers.getLineColor,getLineWidth:updateTriggers.getLineWidth}}),boundsProps)}}var dist_long=__webpack_require__("./node_modules/long/dist/long.js"),long_default=__webpack_require__.n(dist_long);const FACE_BITS=3,POS_BITS=61,RADIAN_TO_DEGREE=180/Math.PI;function IJToST(ij,order,offsets){const maxSize=1<<order;return[(ij[0]+offsets[0])/maxSize,(ij[1]+offsets[1])/maxSize]}function singleSTtoUV(st){return st>=.5?1/3*(4*st*st-1):1/3*(1-4*(1-st)*(1-st))}function STToUV(st){return[singleSTtoUV(st[0]),singleSTtoUV(st[1])]}function FaceUVToXYZ(face,[u,v]){switch(face){case 0:return[1,u,v];case 1:return[-u,1,v];case 2:return[-u,-v,1];case 3:return[-1,-v,-u];case 4:return[v,-1,-u];case 5:return[v,u,-1];default:throw new Error("Invalid face")}}function XYZToLngLat([x,y,z]){const lat=Math.atan2(z,Math.sqrt(x*x+y*y));return[Math.atan2(y,x)*RADIAN_TO_DEGREE,lat*RADIAN_TO_DEGREE]}function rotateAndFlipQuadrant(n,point,rx,ry){if(0===ry){1===rx&&(point[0]=n-1-point[0],point[1]=n-1-point[1]);const x=point[0];point[0]=point[1],point[1]=x}}const MAX_RESOLUTION=100;function getS2QuadKey(token){if("string"==typeof token){if(token.indexOf("/")>0)return token;token=function getIdFromToken(token){const paddedToken=token.padEnd(16,"0");return long_default().fromString(paddedToken,16)}(token)}return function toHilbertQuadkey(idS){let bin=long_default().fromString(idS,!0,10).toString(2);for(;bin.length<FACE_BITS+POS_BITS;)bin="0"+bin;const lsbIndex=bin.lastIndexOf("1"),faceB=bin.substring(0,3),posB=bin.substring(3,lsbIndex),levelN=posB.length/2,faceS=long_default().fromString(faceB,!0,2).toString(10);let posS=long_default().fromString(posB,!0,2).toString(4);for(;posS.length<levelN;)posS="0"+posS;return`${faceS}/${posS}`}(token.toString())}function getS2Polygon(token){const s2cell=function FromHilbertQuadKey(hilbertQuadkey){const parts=hilbertQuadkey.split("/"),face=parseInt(parts[0],10),position=parts[1],maxLevel=position.length,point=[0,0];let level;for(let i=maxLevel-1;i>=0;i--){level=maxLevel-i;const bit=position[i];let rx=0,ry=0;"1"===bit?ry=1:"2"===bit?(rx=1,ry=1):"3"===bit&&(rx=1);const val=Math.pow(2,level-1);rotateAndFlipQuadrant(val,point,rx,ry),point[0]+=val*rx,point[1]+=val*ry}if(face%2==1){const t=point[0];point[0]=point[1],point[1]=t}return{face:face,ij:point,level:level}}(getS2QuadKey(token));return function getGeoBounds({face:face,ij:ij,level:level}){const offsets=[[0,0],[0,1],[1,1],[1,0],[0,0]],resolution=Math.max(1,Math.ceil(MAX_RESOLUTION*Math.pow(2,-level))),result=new Float64Array(4*resolution*2+2);let ptIndex=0,prevLng=0;for(let i=0;i<4;i++){const offset=offsets[i].slice(0),nextOffset=offsets[i+1],stepI=(nextOffset[0]-offset[0])/resolution,stepJ=(nextOffset[1]-offset[1])/resolution;for(let j=0;j<resolution;j++){offset[0]+=stepI,offset[1]+=stepJ;const lngLat=XYZToLngLat(FaceUVToXYZ(face,STToUV(IJToST(ij,level,offset))));Math.abs(lngLat[1])>89.999&&(lngLat[0]=prevLng);const deltaLng=lngLat[0]-prevLng;lngLat[0]+=deltaLng>180?-360:deltaLng<-180?360:0,result[ptIndex++]=lngLat[0],result[ptIndex++]=lngLat[1],prevLng=lngLat[0]}}return result[ptIndex++]=result[0],result[ptIndex++]=result[1],result}(s2cell)}const s2_layer_defaultProps={getS2Token:{type:"accessor",value:d=>d.token}};class S2Layer extends GeoCellLayer{static{this.layerName="S2Layer"}static{this.defaultProps=s2_layer_defaultProps}indexToBounds(){const{data:data,getS2Token:getS2Token}=this.props;return{data:data,_normalize:!1,positionFormat:"XY",getPolygon:(x,objectInfo)=>getS2Polygon(getS2Token(x,objectInfo))}}}const TILE_SIZE=512;function getQuadkeyPolygon(quadkey,coverage=1){const[topLeft,bottomRight]=function quadkeyToWorldBounds(quadkey,coverage){let x=0,y=0,mask=1<<quadkey.length;const scale=mask/TILE_SIZE;for(let i=0;i<quadkey.length;i++){mask>>=1;const q=parseInt(quadkey[i]);q%2&&(x|=mask),q>1&&(y|=mask)}return[[x/scale,TILE_SIZE-y/scale],[(x+coverage)/scale,TILE_SIZE-(y+coverage)/scale]]}(quadkey,coverage),[w,n]=(0,dist.es)(topLeft),[e,s]=(0,dist.es)(bottomRight);return[e,n,e,s,w,s,w,n,e,n]}const quadkey_layer_defaultProps={getQuadkey:{type:"accessor",value:d=>d.quadkey}};class QuadkeyLayer extends GeoCellLayer{static{this.layerName="QuadkeyLayer"}static{this.defaultProps=quadkey_layer_defaultProps}indexToBounds(){const{data:data,extruded:extruded,getQuadkey:getQuadkey}=this.props,coverage=extruded?.99:1;return{data:data,_normalize:!1,positionFormat:"XY",getPolygon:(x,objectInfo)=>getQuadkeyPolygon(getQuadkey(x,objectInfo),coverage),updateTriggers:{getPolygon:coverage}}}}var flatten=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/flatten.js"),geojson_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/geojson-layer/geojson-layer.js"),stats_dist=__webpack_require__("./node_modules/@probe.gl/stats/dist/index.js");const DEFAULT_PROPS={id:"request-scheduler",throttleRequests:!0,maxRequests:6,debounceTime:0};class RequestScheduler{props;stats;activeRequestCount=0;requestQueue=[];requestMap=new Map;updateTimer=null;constructor(props={}){this.props={...DEFAULT_PROPS,...props},this.stats=new stats_dist.jk({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}scheduleRequest(handle,getPriority=(()=>0)){if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(handle))return this.requestMap.get(handle);const request={handle:handle,priority:0,getPriority:getPriority},promise=new Promise((resolve=>(request.resolve=resolve,request)));return this.requestQueue.push(request),this.requestMap.set(handle,promise),this._issueNewRequests(),promise}_issueRequest(request){const{handle:handle,resolve:resolve}=request;let isDone=!1;const done=()=>{isDone||(isDone=!0,this.requestMap.delete(handle),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,resolve?resolve({done:done}):Promise.resolve({done:done})}_issueNewRequests(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=setTimeout((()=>this._issueNewRequestsAsync()),this.props.debounceTime)}_issueNewRequestsAsync(){null!==this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=null;const freeSlots=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==freeSlots){this._updateAllRequests();for(let i=0;i<freeSlots;++i){const request=this.requestQueue.shift();request&&this._issueRequest(request)}}}_updateAllRequests(){const requestQueue=this.requestQueue;for(let i=0;i<requestQueue.length;++i){const request=requestQueue[i];this._updateRequest(request)||(requestQueue.splice(i,1),this.requestMap.delete(request.handle),i--)}requestQueue.sort(((a,b)=>a.priority-b.priority))}_updateRequest(request){return request.priority=request.getPriority(request.handle),!(request.priority<0)||(request.resolve(null),!1)}}var matrix4=__webpack_require__("./node_modules/@math.gl/core/dist/classes/matrix4.js"),common=__webpack_require__("./node_modules/@math.gl/core/dist/lib/common.js");class Tile2DHeader{constructor(index){this.index=index,this.isVisible=!1,this.isSelected=!1,this.parent=null,this.children=[],this.content=null,this._loader=void 0,this._abortController=null,this._loaderId=0,this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1}get bbox(){return this._bbox}set bbox(value){this._bbox||(this._bbox=value,this.boundingBox="west"in value?[[value.west,value.south],[value.east,value.north]]:[[value.left,value.top],[value.right,value.bottom]])}get data(){return this.isLoading&&this._loader?this._loader.then((()=>this.data)):this.content}get isLoaded(){return this._isLoaded&&!this._needsReload}get isLoading(){return Boolean(this._loader)&&!this._isCancelled}get needsReload(){return this._needsReload||this._isCancelled}get byteLength(){const result=this.content?this.content.byteLength:0;return Number.isFinite(result)||console.error("byteLength not defined in tile data"),result}async _loadData({getData:getData,requestScheduler:requestScheduler,onLoad:onLoad,onError:onError}){const{index:index,id:id,bbox:bbox,userData:userData,zoom:zoom}=this,loaderId=this._loaderId;this._abortController=new AbortController;const{signal:signal}=this._abortController,requestToken=await requestScheduler.scheduleRequest(this,(tile=>tile.isSelected?1:-1));if(!requestToken)return void(this._isCancelled=!0);if(this._isCancelled)return void requestToken.done();let error,tileData=null;try{tileData=await getData({index:index,id:id,bbox:bbox,userData:userData,zoom:zoom,signal:signal})}catch(err){error=err||!0}finally{requestToken.done()}loaderId===this._loaderId&&(this._loader=void 0,this.content=tileData,!this._isCancelled||tileData?(this._isLoaded=!0,this._isCancelled=!1,error?onError(error,this):onLoad(this)):this._isLoaded=!1)}loadData(opts){return this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1,this._loaderId++,this._loader=this._loadData(opts),this._loader}setNeedsReload(){this.isLoading&&(this.abort(),this._loader=void 0),this._needsReload=!0}abort(){this.isLoaded||(this._isCancelled=!0,this._abortController?.abort())}}var viewport=__webpack_require__("./node_modules/@deck.gl/core/dist/viewports/viewport.js"),vec3=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/vec3.js"),vec4=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/vec4.js");const DEGREES_TO_RADIANS=Math.PI/180,RADIANS_TO_DEGREES=180/Math.PI;function getDistanceScales(){const unitsPerMeter=256/6370972,unitsPerDegree=Math.PI/180*256;return{unitsPerMeter:[unitsPerMeter,unitsPerMeter,unitsPerMeter],unitsPerMeter2:[0,0,0],metersPerUnit:[24886.609375,24886.609375,24886.609375],unitsPerDegree:[unitsPerDegree,unitsPerDegree,unitsPerMeter],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/unitsPerDegree,1/unitsPerDegree,24886.609375]}}class GlobeViewport extends viewport.Z{constructor(opts={}){const{latitude:latitude=0,longitude:longitude=0,zoom:zoom=0,nearZMultiplier:nearZMultiplier=.1,farZMultiplier:farZMultiplier=2,resolution:resolution=10}=opts;let{height:height,altitude:altitude=1.5}=opts;height=height||1,altitude=Math.max(.75,altitude);const viewMatrix=(new matrix4.y).lookAt({eye:[0,-altitude,0],up:[0,0,1]}),scale=Math.pow(2,zoom);viewMatrix.rotateX(latitude*DEGREES_TO_RADIANS),viewMatrix.rotateZ(-longitude*DEGREES_TO_RADIANS),viewMatrix.scale(scale/height);const halfFov=Math.atan(.5/altitude),relativeScale=512*scale/height;super({...opts,height:height,viewMatrix:viewMatrix,longitude:longitude,latitude:latitude,zoom:zoom,distanceScales:getDistanceScales(),fovyRadians:2*halfFov,focalDistance:altitude,near:nearZMultiplier,far:Math.min(2,1/relativeScale+1)*altitude*farZMultiplier}),this.latitude=latitude,this.longitude=longitude,this.resolution=resolution}get projectionMode(){return constants.zG.GLOBE}getDistanceScales(){return this.distanceScales}getBounds(options={}){const unprojectOption={targetZ:options.z||0},left=this.unproject([0,this.height/2],unprojectOption),top=this.unproject([this.width/2,0],unprojectOption),right=this.unproject([this.width,this.height/2],unprojectOption),bottom=this.unproject([this.width/2,this.height],unprojectOption);return right[0]<this.longitude&&(right[0]+=360),left[0]>this.longitude&&(left[0]-=360),[Math.min(left[0],right[0],top[0],bottom[0]),Math.min(left[1],right[1],top[1],bottom[1]),Math.max(left[0],right[0],top[0],bottom[0]),Math.max(left[1],right[1],top[1],bottom[1])]}unproject(xyz,{topLeft:topLeft=!0,targetZ:targetZ}={}){const[x,y,z]=xyz,y2=topLeft?y:this.height-y,{pixelUnprojectionMatrix:pixelUnprojectionMatrix}=this;let coord;if(Number.isFinite(z))coord=transformVector(pixelUnprojectionMatrix,[x,y2,z,1]);else{const coord0=transformVector(pixelUnprojectionMatrix,[x,y2,-1,1]),coord1=transformVector(pixelUnprojectionMatrix,[x,y2,1,1]),lt=256*((targetZ||0)/6370972+1),lSqr=vec3.x9(vec3.lu([],coord0,coord1)),l0Sqr=vec3.x9(coord0),l1Sqr=vec3.x9(coord1),dSqr=4*((4*l0Sqr*l1Sqr-(lSqr-l0Sqr-l1Sqr)**2)/16)/lSqr,t=(Math.sqrt(l0Sqr-dSqr)-Math.sqrt(Math.max(0,lt*lt-dSqr)))/Math.sqrt(lSqr);coord=vec3.t7([],coord0,coord1,t)}const[X,Y,Z]=this.unprojectPosition(coord);return Number.isFinite(z)?[X,Y,Z]:Number.isFinite(targetZ)?[X,Y,targetZ]:[X,Y]}projectPosition(xyz){const[lng,lat,Z=0]=xyz,lambda=lng*DEGREES_TO_RADIANS,phi=lat*DEGREES_TO_RADIANS,cosPhi=Math.cos(phi),D=256*(Z/6370972+1);return[Math.sin(lambda)*cosPhi*D,-Math.cos(lambda)*cosPhi*D,Math.sin(phi)*D]}unprojectPosition(xyz){const[x,y,z]=xyz,D=vec3.Zh(xyz),phi=Math.asin(z/D);return[Math.atan2(x,-y)*RADIANS_TO_DEGREES,phi*RADIANS_TO_DEGREES,6370972*(D/256-1)]}projectFlat(xyz){return xyz}unprojectFlat(xyz){return xyz}panByPosition(coords,pixel){const fromPosition=this.unproject(pixel);return{longitude:coords[0]-fromPosition[0]+this.longitude,latitude:coords[1]-fromPosition[1]+this.latitude}}}function transformVector(matrix,vector){const result=vec4.fF([],vector,matrix);return vec4.bA(result,result,1/result[3]),result}var web_mercator_viewport=__webpack_require__("./node_modules/@deck.gl/core/dist/viewports/web-mercator-viewport.js");const INTERSECTION_OUTSIDE=-1,INTERSECTION_INTERSECTING=0,INTERSECTION_INSIDE=1;var vector3=__webpack_require__("./node_modules/@math.gl/core/dist/classes/vector3.js");const scratchVector=new vector3.P,scratchNormal=new vector3.P;class axis_aligned_bounding_box_AxisAlignedBoundingBox{constructor(minimum=[0,0,0],maximum=[0,0,0],center){center=center||scratchVector.copy(minimum).add(maximum).scale(.5),this.center=new vector3.P(center),this.halfDiagonal=new vector3.P(maximum).subtract(this.center),this.minimum=new vector3.P(minimum),this.maximum=new vector3.P(maximum)}clone(){return new axis_aligned_bounding_box_AxisAlignedBoundingBox(this.minimum,this.maximum,this.center)}equals(right){return this===right||Boolean(right)&&this.minimum.equals(right.minimum)&&this.maximum.equals(right.maximum)}transform(transform){return this.center.transformAsPoint(transform),this.halfDiagonal.transform(transform),this.minimum.transform(transform),this.maximum.transform(transform),this}intersectPlane(plane){const{halfDiagonal:halfDiagonal}=this,normal=scratchNormal.from(plane.normal),e=halfDiagonal.x*Math.abs(normal.x)+halfDiagonal.y*Math.abs(normal.y)+halfDiagonal.z*Math.abs(normal.z),s=this.center.dot(normal)+plane.distance;return s-e>0?INTERSECTION_INSIDE:s+e<0?INTERSECTION_OUTSIDE:INTERSECTION_INTERSECTING}distanceTo(point){return Math.sqrt(this.distanceSquaredTo(point))}distanceSquaredTo(point){const offset=scratchVector.from(point).subtract(this.center),{halfDiagonal:halfDiagonal}=this;let d,distanceSquared=0;return d=Math.abs(offset.x)-halfDiagonal.x,d>0&&(distanceSquared+=d*d),d=Math.abs(offset.y)-halfDiagonal.y,d>0&&(distanceSquared+=d*d),d=Math.abs(offset.z)-halfDiagonal.z,d>0&&(distanceSquared+=d*d),distanceSquared}}var mat4=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/mat4.js");const bounding_sphere_scratchVector=new vector3.P,scratchVector2=new vector3.P;class bounding_sphere_BoundingSphere{constructor(center=[0,0,0],radius=0){this.radius=-0,this.center=new vector3.P,this.fromCenterRadius(center,radius)}fromCenterRadius(center,radius){return this.center.from(center),this.radius=radius,this}fromCornerPoints(corner,oppositeCorner){return oppositeCorner=bounding_sphere_scratchVector.from(oppositeCorner),this.center=(new vector3.P).from(corner).add(oppositeCorner).scale(.5),this.radius=this.center.distance(oppositeCorner),this}equals(right){return this===right||Boolean(right)&&this.center.equals(right.center)&&this.radius===right.radius}clone(){return new bounding_sphere_BoundingSphere(this.center,this.radius)}union(boundingSphere){const leftCenter=this.center,leftRadius=this.radius,rightCenter=boundingSphere.center,rightRadius=boundingSphere.radius,toRightCenter=bounding_sphere_scratchVector.copy(rightCenter).subtract(leftCenter),centerSeparation=toRightCenter.magnitude();if(leftRadius>=centerSeparation+rightRadius)return this.clone();if(rightRadius>=centerSeparation+leftRadius)return boundingSphere.clone();const halfDistanceBetweenTangentPoints=.5*(leftRadius+centerSeparation+rightRadius);return scratchVector2.copy(toRightCenter).scale((-leftRadius+halfDistanceBetweenTangentPoints)/centerSeparation).add(leftCenter),this.center.copy(scratchVector2),this.radius=halfDistanceBetweenTangentPoints,this}expand(point){const radius=bounding_sphere_scratchVector.from(point).subtract(this.center).magnitude();return radius>this.radius&&(this.radius=radius),this}transform(transform){this.center.transform(transform);const scale=mat4.Q$(bounding_sphere_scratchVector,transform);return this.radius=Math.max(scale[0],Math.max(scale[1],scale[2]))*this.radius,this}distanceSquaredTo(point){const d=this.distanceTo(point);return d*d}distanceTo(point){const delta=bounding_sphere_scratchVector.from(point).subtract(this.center);return Math.max(0,delta.len()-this.radius)}intersectPlane(plane){const center=this.center,radius=this.radius,distanceToPlane=plane.normal.dot(center)+plane.distance;return distanceToPlane<-radius?INTERSECTION_OUTSIDE:distanceToPlane<radius?INTERSECTION_INTERSECTING:INTERSECTION_INSIDE}}var matrix3=__webpack_require__("./node_modules/@math.gl/core/dist/classes/matrix3.js"),classes_quaternion=__webpack_require__("./node_modules/@math.gl/core/dist/classes/quaternion.js");const scratchVector3=new vector3.P,scratchOffset=new vector3.P,scratchVectorU=new vector3.P,scratchVectorV=new vector3.P,scratchVectorW=new vector3.P,scratchCorner=new vector3.P,scratchToCenter=new vector3.P,MATRIX3_COLUMN0ROW0=0,MATRIX3_COLUMN0ROW1=1,MATRIX3_COLUMN0ROW2=2,MATRIX3_COLUMN1ROW0=3,MATRIX3_COLUMN1ROW1=4,MATRIX3_COLUMN1ROW2=5,MATRIX3_COLUMN2ROW0=6,MATRIX3_COLUMN2ROW1=7,MATRIX3_COLUMN2ROW2=8;class OrientedBoundingBox{constructor(center=[0,0,0],halfAxes=[0,0,0,0,0,0,0,0,0]){this.center=(new vector3.P).from(center),this.halfAxes=new matrix3.V(halfAxes)}get halfSize(){const xAxis=this.halfAxes.getColumn(0),yAxis=this.halfAxes.getColumn(1),zAxis=this.halfAxes.getColumn(2);return[new vector3.P(xAxis).len(),new vector3.P(yAxis).len(),new vector3.P(zAxis).len()]}get quaternion(){const xAxis=this.halfAxes.getColumn(0),yAxis=this.halfAxes.getColumn(1),zAxis=this.halfAxes.getColumn(2),normXAxis=new vector3.P(xAxis).normalize(),normYAxis=new vector3.P(yAxis).normalize(),normZAxis=new vector3.P(zAxis).normalize();return(new classes_quaternion._).fromMatrix3(new matrix3.V([...normXAxis,...normYAxis,...normZAxis]))}fromCenterHalfSizeQuaternion(center,halfSize,quaternion){const quaternionObject=new classes_quaternion._(quaternion),directionsMatrix=(new matrix3.V).fromQuaternion(quaternionObject);return directionsMatrix[0]=directionsMatrix[0]*halfSize[0],directionsMatrix[1]=directionsMatrix[1]*halfSize[0],directionsMatrix[2]=directionsMatrix[2]*halfSize[0],directionsMatrix[3]=directionsMatrix[3]*halfSize[1],directionsMatrix[4]=directionsMatrix[4]*halfSize[1],directionsMatrix[5]=directionsMatrix[5]*halfSize[1],directionsMatrix[6]=directionsMatrix[6]*halfSize[2],directionsMatrix[7]=directionsMatrix[7]*halfSize[2],directionsMatrix[8]=directionsMatrix[8]*halfSize[2],this.center=(new vector3.P).from(center),this.halfAxes=directionsMatrix,this}clone(){return new OrientedBoundingBox(this.center,this.halfAxes)}equals(right){return this===right||Boolean(right)&&this.center.equals(right.center)&&this.halfAxes.equals(right.halfAxes)}getBoundingSphere(result=new bounding_sphere_BoundingSphere){const halfAxes=this.halfAxes,u=halfAxes.getColumn(0,scratchVectorU),v=halfAxes.getColumn(1,scratchVectorV),w=halfAxes.getColumn(2,scratchVectorW),cornerVector=scratchVector3.copy(u).add(v).add(w);return result.center.copy(this.center),result.radius=cornerVector.magnitude(),result}intersectPlane(plane){const center=this.center,normal=plane.normal,halfAxes=this.halfAxes,normalX=normal.x,normalY=normal.y,normalZ=normal.z,radEffective=Math.abs(normalX*halfAxes[MATRIX3_COLUMN0ROW0]+normalY*halfAxes[MATRIX3_COLUMN0ROW1]+normalZ*halfAxes[MATRIX3_COLUMN0ROW2])+Math.abs(normalX*halfAxes[MATRIX3_COLUMN1ROW0]+normalY*halfAxes[MATRIX3_COLUMN1ROW1]+normalZ*halfAxes[MATRIX3_COLUMN1ROW2])+Math.abs(normalX*halfAxes[MATRIX3_COLUMN2ROW0]+normalY*halfAxes[MATRIX3_COLUMN2ROW1]+normalZ*halfAxes[MATRIX3_COLUMN2ROW2]),distanceToPlane=normal.dot(center)+plane.distance;return distanceToPlane<=-radEffective?INTERSECTION_OUTSIDE:distanceToPlane>=radEffective?INTERSECTION_INSIDE:INTERSECTION_INTERSECTING}distanceTo(point){return Math.sqrt(this.distanceSquaredTo(point))}distanceSquaredTo(point){const offset=scratchOffset.from(point).subtract(this.center),halfAxes=this.halfAxes,u=halfAxes.getColumn(0,scratchVectorU),v=halfAxes.getColumn(1,scratchVectorV),w=halfAxes.getColumn(2,scratchVectorW),uHalf=u.magnitude(),vHalf=v.magnitude(),wHalf=w.magnitude();u.normalize(),v.normalize(),w.normalize();let d,distanceSquared=0;return d=Math.abs(offset.dot(u))-uHalf,d>0&&(distanceSquared+=d*d),d=Math.abs(offset.dot(v))-vHalf,d>0&&(distanceSquared+=d*d),d=Math.abs(offset.dot(w))-wHalf,d>0&&(distanceSquared+=d*d),distanceSquared}computePlaneDistances(position,direction,result=[-0,-0]){let minDist=Number.POSITIVE_INFINITY,maxDist=Number.NEGATIVE_INFINITY;const center=this.center,halfAxes=this.halfAxes,u=halfAxes.getColumn(0,scratchVectorU),v=halfAxes.getColumn(1,scratchVectorV),w=halfAxes.getColumn(2,scratchVectorW),corner=scratchCorner.copy(u).add(v).add(w).add(center),toCenter=scratchToCenter.copy(corner).subtract(position);let mag=direction.dot(toCenter);return minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),corner.copy(center).add(u).add(v).subtract(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),corner.copy(center).add(u).subtract(v).add(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),corner.copy(center).add(u).subtract(v).subtract(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),center.copy(corner).subtract(u).add(v).add(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),center.copy(corner).subtract(u).add(v).subtract(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),center.copy(corner).subtract(u).subtract(v).add(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),center.copy(corner).subtract(u).subtract(v).subtract(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),result[0]=minDist,result[1]=maxDist,result}transform(transformation){this.center.transformAsPoint(transformation);const xAxis=this.halfAxes.getColumn(0,scratchVectorU);xAxis.transformAsPoint(transformation);const yAxis=this.halfAxes.getColumn(1,scratchVectorV);yAxis.transformAsPoint(transformation);const zAxis=this.halfAxes.getColumn(2,scratchVectorW);return zAxis.transformAsPoint(transformation),this.halfAxes=new matrix3.V([...xAxis,...yAxis,...zAxis]),this}getTransform(){throw new Error("not implemented")}}var lib_assert=__webpack_require__("./node_modules/@math.gl/core/dist/lib/assert.js");const scratchPosition=new vector3.P,plane_scratchNormal=new vector3.P;class plane_Plane{constructor(normal=[0,0,1],distance=0){this.normal=new vector3.P,this.distance=-0,this.fromNormalDistance(normal,distance)}fromNormalDistance(normal,distance){return(0,lib_assert.h)(Number.isFinite(distance)),this.normal.from(normal).normalize(),this.distance=distance,this}fromPointNormal(point,normal){point=scratchPosition.from(point),this.normal.from(normal).normalize();const distance=-this.normal.dot(point);return this.distance=distance,this}fromCoefficients(a,b,c,d){return this.normal.set(a,b,c),(0,lib_assert.h)((0,common.fS)(this.normal.len(),1)),this.distance=d,this}clone(){return new plane_Plane(this.normal,this.distance)}equals(right){return(0,common.fS)(this.distance,right.distance)&&(0,common.fS)(this.normal,right.normal)}getPointDistance(point){return this.normal.dot(point)+this.distance}transform(matrix4){const normal=plane_scratchNormal.copy(this.normal).transformAsVector(matrix4).normalize(),point=this.normal.scale(-this.distance).transform(matrix4);return this.fromPointNormal(point,normal)}projectPointOntoPlane(point,result=[0,0,0]){const scratchPoint=scratchPosition.from(point),pointDistance=this.getPointDistance(scratchPoint),scaledNormal=plane_scratchNormal.copy(this.normal).scale(pointDistance);return scratchPoint.subtract(scaledNormal).to(result)}}const faces=[new vector3.P([1,0,0]),new vector3.P([0,1,0]),new vector3.P([0,0,1])],scratchPlaneCenter=new vector3.P,scratchPlaneNormal=new vector3.P;class culling_volume_CullingVolume{constructor(planes=[]){this.planes=planes}fromBoundingSphere(boundingSphere){this.planes.length=2*faces.length;const center=boundingSphere.center,radius=boundingSphere.radius;let planeIndex=0;for(const faceNormal of faces){let plane0=this.planes[planeIndex],plane1=this.planes[planeIndex+1];plane0||(plane0=this.planes[planeIndex]=new plane_Plane),plane1||(plane1=this.planes[planeIndex+1]=new plane_Plane);const plane0Center=scratchPlaneCenter.copy(faceNormal).scale(-radius).add(center);plane0.fromPointNormal(plane0Center,faceNormal);const plane1Center=scratchPlaneCenter.copy(faceNormal).scale(radius).add(center),negatedFaceNormal=scratchPlaneNormal.copy(faceNormal).negate();plane1.fromPointNormal(plane1Center,negatedFaceNormal),planeIndex+=2}return this}computeVisibility(boundingVolume){let intersect=INTERSECTION_INSIDE;for(const plane of this.planes){switch(boundingVolume.intersectPlane(plane)){case INTERSECTION_OUTSIDE:return INTERSECTION_OUTSIDE;case INTERSECTION_INTERSECTING:intersect=INTERSECTION_INTERSECTING}}return intersect}computeVisibilityWithPlaneMask(boundingVolume,parentPlaneMask){if((0,lib_assert.h)(Number.isFinite(parentPlaneMask),"parentPlaneMask is required."),parentPlaneMask===culling_volume_CullingVolume.MASK_OUTSIDE||parentPlaneMask===culling_volume_CullingVolume.MASK_INSIDE)return parentPlaneMask;let mask=culling_volume_CullingVolume.MASK_INSIDE;const planes=this.planes;for(let k=0;k<this.planes.length;++k){const flag=k<31?1<<k:0;if(k<31&&0==(parentPlaneMask&flag))continue;const plane=planes[k],result=boundingVolume.intersectPlane(plane);if(result===INTERSECTION_OUTSIDE)return culling_volume_CullingVolume.MASK_OUTSIDE;result===INTERSECTION_INTERSECTING&&(mask|=flag)}return mask}}culling_volume_CullingVolume.MASK_OUTSIDE=4294967295,culling_volume_CullingVolume.MASK_INSIDE=0,culling_volume_CullingVolume.MASK_INDETERMINATE=2147483647;new vector3.P,new vector3.P,new vector3.P,new vector3.P,new vector3.P;new vector3.P,new vector3.P,new vector3.P,new vector3.P,new vector3.P,new vector3.P,new vector3.P,new vector3.P,new vector3.P,new vector3.P,new vector3.P,new vector3.P;const EPSILON15=1e-15,EPSILON20=1e-20,scratchMatrix=(Math.PI,Math.PI,Math.PI,Math.PI,new matrix3.V),scratchUnitary=new matrix3.V,scratchDiagonal=new matrix3.V,jMatrix=new matrix3.V,jMatrixTranspose=new matrix3.V;function computeEigenDecomposition(matrix,result={}){const EIGEN_TOLERANCE=EPSILON20;let count=0,sweep=0;const unitaryMatrix=scratchUnitary,diagonalMatrix=scratchDiagonal;unitaryMatrix.identity(),diagonalMatrix.copy(matrix);const epsilon=EIGEN_TOLERANCE*function computeFrobeniusNorm(matrix){let norm=0;for(let i=0;i<9;++i){const temp=matrix[i];norm+=temp*temp}return Math.sqrt(norm)}(diagonalMatrix);for(;sweep<10&&offDiagonalFrobeniusNorm(diagonalMatrix)>epsilon;)shurDecomposition(diagonalMatrix,jMatrix),jMatrixTranspose.copy(jMatrix).transpose(),diagonalMatrix.multiplyRight(jMatrix),diagonalMatrix.multiplyLeft(jMatrixTranspose),unitaryMatrix.multiplyRight(jMatrix),++count>2&&(++sweep,count=0);return result.unitary=unitaryMatrix.toTarget(result.unitary),result.diagonal=diagonalMatrix.toTarget(result.diagonal),result}const rowVal=[1,0,0],colVal=[2,2,1];function offDiagonalFrobeniusNorm(matrix){let norm=0;for(let i=0;i<3;++i){const temp=matrix[scratchMatrix.getElementIndex(colVal[i],rowVal[i])];norm+=2*temp*temp}return Math.sqrt(norm)}function shurDecomposition(matrix,result){const tolerance=EPSILON15;let maxDiagonal=0,rotAxis=1;for(let i=0;i<3;++i){const temp=Math.abs(matrix[scratchMatrix.getElementIndex(colVal[i],rowVal[i])]);temp>maxDiagonal&&(rotAxis=i,maxDiagonal=temp)}const p=rowVal[rotAxis],q=colVal[rotAxis];let c=1,s=0;if(Math.abs(matrix[scratchMatrix.getElementIndex(q,p)])>tolerance){const tau=(matrix[scratchMatrix.getElementIndex(q,q)]-matrix[scratchMatrix.getElementIndex(p,p)])/2/matrix[scratchMatrix.getElementIndex(q,p)];let t;t=tau<0?-1/(-tau+Math.sqrt(1+tau*tau)):1/(tau+Math.sqrt(1+tau*tau)),c=1/Math.sqrt(1+t*t),s=t*c}return matrix3.V.IDENTITY.to(result),result[scratchMatrix.getElementIndex(p,p)]=result[scratchMatrix.getElementIndex(q,q)]=c,result[scratchMatrix.getElementIndex(q,p)]=s,result[scratchMatrix.getElementIndex(p,q)]=-s,result}const bounding_box_from_points_scratchVector2=new vector3.P,bounding_box_from_points_scratchVector3=new vector3.P,scratchVector4=new vector3.P,scratchVector5=new vector3.P,scratchVector6=new vector3.P,scratchCovarianceResult=new matrix3.V,scratchEigenResult={diagonal:new matrix3.V,unitary:new matrix3.V};function makeOrientedBoundingBoxFromPoints(positions,result=new OrientedBoundingBox){if(!positions||0===positions.length)return result.halfAxes=new matrix3.V([0,0,0,0,0,0,0,0,0]),result.center=new vector3.P,result;const length=positions.length,meanPoint=new vector3.P(0,0,0);for(const position of positions)meanPoint.add(position);const invLength=1/length;meanPoint.multiplyByScalar(invLength);let exx=0,exy=0,exz=0,eyy=0,eyz=0,ezz=0;for(const position of positions){const p=bounding_box_from_points_scratchVector2.copy(position).subtract(meanPoint);exx+=p.x*p.x,exy+=p.x*p.y,exz+=p.x*p.z,eyy+=p.y*p.y,eyz+=p.y*p.z,ezz+=p.z*p.z}exx*=invLength,exy*=invLength,exz*=invLength,eyy*=invLength,eyz*=invLength,ezz*=invLength;const covarianceMatrix=scratchCovarianceResult;covarianceMatrix[0]=exx,covarianceMatrix[1]=exy,covarianceMatrix[2]=exz,covarianceMatrix[3]=exy,covarianceMatrix[4]=eyy,covarianceMatrix[5]=eyz,covarianceMatrix[6]=exz,covarianceMatrix[7]=eyz,covarianceMatrix[8]=ezz;const{unitary:unitary}=computeEigenDecomposition(covarianceMatrix,scratchEigenResult),rotation=result.halfAxes.copy(unitary);let v1=rotation.getColumn(0,scratchVector4),v2=rotation.getColumn(1,scratchVector5),v3=rotation.getColumn(2,scratchVector6),u1=-Number.MAX_VALUE,u2=-Number.MAX_VALUE,u3=-Number.MAX_VALUE,l1=Number.MAX_VALUE,l2=Number.MAX_VALUE,l3=Number.MAX_VALUE;for(const position of positions)bounding_box_from_points_scratchVector2.copy(position),u1=Math.max(bounding_box_from_points_scratchVector2.dot(v1),u1),u2=Math.max(bounding_box_from_points_scratchVector2.dot(v2),u2),u3=Math.max(bounding_box_from_points_scratchVector2.dot(v3),u3),l1=Math.min(bounding_box_from_points_scratchVector2.dot(v1),l1),l2=Math.min(bounding_box_from_points_scratchVector2.dot(v2),l2),l3=Math.min(bounding_box_from_points_scratchVector2.dot(v3),l3);v1=v1.multiplyByScalar(.5*(l1+u1)),v2=v2.multiplyByScalar(.5*(l2+u2)),v3=v3.multiplyByScalar(.5*(l3+u3)),result.center.copy(v1).add(v2).add(v3);const scale=bounding_box_from_points_scratchVector3.set(u1-l1,u2-l2,u3-l3).multiplyByScalar(.5),scaleMatrix=new matrix3.V([scale[0],0,0,0,scale[1],0,0,0,scale[2]]);return result.halfAxes.multiplyRight(scaleMatrix),result}const tile_2d_traversal_TILE_SIZE=512,MAX_MAPS=3,REF_POINTS_5=[[.5,.5],[0,0],[0,1],[1,0],[1,1]],REF_POINTS_9=REF_POINTS_5.concat([[0,.5],[.5,0],[1,.5],[.5,1]]),REF_POINTS_11=REF_POINTS_9.concat([[.25,.5],[.75,.5]]);class OSMNode{constructor(x,y,z){this.x=x,this.y=y,this.z=z}get children(){if(!this._children){const x=2*this.x,y=2*this.y,z=this.z+1;this._children=[new OSMNode(x,y,z),new OSMNode(x,y+1,z),new OSMNode(x+1,y,z),new OSMNode(x+1,y+1,z)]}return this._children}update(params){const{viewport:viewport,cullingVolume:cullingVolume,elevationBounds:elevationBounds,minZ:minZ,maxZ:maxZ,bounds:bounds,offset:offset,project:project}=params,boundingVolume=this.getBoundingVolume(elevationBounds,offset,project);if(bounds&&!this.insideBounds(bounds))return!1;if(cullingVolume.computeVisibility(boundingVolume)<0)return!1;if(!this.childVisible){let{z:z}=this;if(z<maxZ&&z>=minZ){const distance=boundingVolume.distanceTo(viewport.cameraPosition)*viewport.scale/viewport.height;z+=Math.floor(Math.log2(distance))}if(z>=maxZ)return this.selected=!0,!0}this.selected=!1,this.childVisible=!0;for(const child of this.children)child.update(params);return!0}getSelected(result=[]){if(this.selected&&result.push(this),this._children)for(const node of this._children)node.getSelected(result);return result}insideBounds([minX,minY,maxX,maxY]){const scale=Math.pow(2,this.z),extent=tile_2d_traversal_TILE_SIZE/scale;return this.x*extent<maxX&&this.y*extent<maxY&&(this.x+1)*extent>minX&&(this.y+1)*extent>minY}getBoundingVolume(zRange,worldOffset,project){if(project){const refPoints=this.z<1?REF_POINTS_11:this.z<2?REF_POINTS_9:REF_POINTS_5,refPointPositions=[];for(const p of refPoints){const lngLat=osmTile2lngLat(this.x+p[0],this.y+p[1],this.z);lngLat[2]=zRange[0],refPointPositions.push(project(lngLat)),zRange[0]!==zRange[1]&&(lngLat[2]=zRange[1],refPointPositions.push(project(lngLat)))}return makeOrientedBoundingBoxFromPoints(refPointPositions)}const scale=Math.pow(2,this.z),extent=tile_2d_traversal_TILE_SIZE/scale,originX=this.x*extent+worldOffset*tile_2d_traversal_TILE_SIZE,originY=tile_2d_traversal_TILE_SIZE-(this.y+1)*extent;return new axis_aligned_bounding_box_AxisAlignedBoundingBox([originX,originY,zRange[0]],[originX+extent,originY+extent,zRange[1]])}}const utils_TILE_SIZE=512,DEFAULT_EXTENT=[-1/0,-1/0,1/0,1/0],urlType={type:"object",value:null,validate:(value,propType)=>propType.optional&&null===value||"string"==typeof value||Array.isArray(value)&&value.every((url=>"string"==typeof url)),equal:(value1,value2)=>{if(value1===value2)return!0;if(!Array.isArray(value1)||!Array.isArray(value2))return!1;const len=value1.length;if(len!==value2.length)return!1;for(let i=0;i<len;i++)if(value1[i]!==value2[i])return!1;return!0}};function transformBox(bbox,modelMatrix){const transformedCoords=[modelMatrix.transformAsPoint([bbox[0],bbox[1]]),modelMatrix.transformAsPoint([bbox[2],bbox[1]]),modelMatrix.transformAsPoint([bbox[0],bbox[3]]),modelMatrix.transformAsPoint([bbox[2],bbox[3]])],transformedBox=[Math.min(...transformedCoords.map((i=>i[0]))),Math.min(...transformedCoords.map((i=>i[1]))),Math.max(...transformedCoords.map((i=>i[0]))),Math.max(...transformedCoords.map((i=>i[1])))];return transformedBox}function getURLFromTemplate(template,tile){if(!template||!template.length)return null;const{index:index,id:id}=tile;if(Array.isArray(template)){template=template[function stringHash(s){return Math.abs(s.split("").reduce(((a,b)=>(a<<5)-a+b.charCodeAt(0)|0),0))}(id)%template.length]}let url=template;for(const key of Object.keys(index)){const regex=new RegExp(`{${key}}`,"g");url=url.replace(regex,String(index[key]))}return Number.isInteger(index.y)&&Number.isInteger(index.z)&&(url=url.replace(/\{-y\}/g,String(Math.pow(2,index.z)-index.y-1))),url}function getCullBounds({viewport:viewport,z:z,cullRect:cullRect}){return(viewport.subViewports||[viewport]).map((v=>getCullBoundsInViewport(v,z||0,cullRect)))}function getCullBoundsInViewport(viewport,z,cullRect){if(!Array.isArray(z)){const x=cullRect.x-viewport.x,y=cullRect.y-viewport.y,{width:width,height:height}=cullRect,unprojectOption={targetZ:z},topLeft=viewport.unproject([x,y],unprojectOption),topRight=viewport.unproject([x+width,y],unprojectOption),bottomLeft=viewport.unproject([x,y+height],unprojectOption),bottomRight=viewport.unproject([x+width,y+height],unprojectOption);return[Math.min(topLeft[0],topRight[0],bottomLeft[0],bottomRight[0]),Math.min(topLeft[1],topRight[1],bottomLeft[1],bottomRight[1]),Math.max(topLeft[0],topRight[0],bottomLeft[0],bottomRight[0]),Math.max(topLeft[1],topRight[1],bottomLeft[1],bottomRight[1])]}const bounds0=getCullBoundsInViewport(viewport,z[0],cullRect),bounds1=getCullBoundsInViewport(viewport,z[1],cullRect);return[Math.min(bounds0[0],bounds1[0]),Math.min(bounds0[1],bounds1[1]),Math.max(bounds0[2],bounds1[2]),Math.max(bounds0[3],bounds1[3])]}function getScale(z,tileSize){return Math.pow(2,z)*utils_TILE_SIZE/tileSize}function osmTile2lngLat(x,y,z){const scale=getScale(z,utils_TILE_SIZE),lng=x/scale*360-180,n=Math.PI-2*Math.PI*y/scale;return[lng,180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))]}function tile2XY(x,y,z,tileSize){const scale=getScale(z,tileSize);return[x/scale*utils_TILE_SIZE,y/scale*utils_TILE_SIZE]}function tileToBoundingBox(viewport,x,y,z,tileSize=utils_TILE_SIZE){if(viewport.isGeospatial){const[west,north]=osmTile2lngLat(x,y,z),[east,south]=osmTile2lngLat(x+1,y+1,z);return{west:west,north:north,east:east,south:south}}const[left,top]=tile2XY(x,y,z,tileSize),[right,bottom]=tile2XY(x+1,y+1,z,tileSize);return{left:left,top:top,right:right,bottom:bottom}}function getIdentityTileIndices(viewport,z,tileSize,extent,modelMatrixInverse){const bbox=function getBoundingBox(viewport,zRange,extent){let bounds;if(zRange&&2===zRange.length){const[minZ,maxZ]=zRange,bounds0=viewport.getBounds({z:minZ}),bounds1=viewport.getBounds({z:maxZ});bounds=[Math.min(bounds0[0],bounds1[0]),Math.min(bounds0[1],bounds1[1]),Math.max(bounds0[2],bounds1[2]),Math.max(bounds0[3],bounds1[3])]}else bounds=viewport.getBounds();return viewport.isGeospatial?[Math.max(bounds[0],extent[0]),Math.max(bounds[1],extent[1]),Math.min(bounds[2],extent[2]),Math.min(bounds[3],extent[3])]:[Math.max(Math.min(bounds[0],extent[2]),extent[0]),Math.max(Math.min(bounds[1],extent[3]),extent[1]),Math.min(Math.max(bounds[2],extent[0]),extent[2]),Math.min(Math.max(bounds[3],extent[1]),extent[3])]}(viewport,null,extent),scale=getScale(z,tileSize),[minX,minY,maxX,maxY]=function getIndexingCoords(bbox,scale,modelMatrixInverse){if(modelMatrixInverse){const transformedTileIndex=transformBox(bbox,modelMatrixInverse).map((i=>i*scale/utils_TILE_SIZE));return transformedTileIndex}return bbox.map((i=>i*scale/utils_TILE_SIZE))}(bbox,scale,modelMatrixInverse),indices=[];for(let x=Math.floor(minX);x<maxX;x++)for(let y=Math.floor(minY);y<maxY;y++)indices.push({x:x,y:y,z:z});return indices}function getTileIndices({viewport:viewport,maxZoom:maxZoom,minZoom:minZoom,zRange:zRange,extent:extent,tileSize:tileSize=utils_TILE_SIZE,modelMatrix:modelMatrix,modelMatrixInverse:modelMatrixInverse,zoomOffset:zoomOffset=0}){let z=viewport.isGeospatial?Math.round(viewport.zoom+Math.log2(utils_TILE_SIZE/tileSize))+zoomOffset:Math.ceil(viewport.zoom)+zoomOffset;if("number"==typeof minZoom&&Number.isFinite(minZoom)&&z<minZoom){if(!extent)return[];z=minZoom}"number"==typeof maxZoom&&Number.isFinite(maxZoom)&&z>maxZoom&&(z=maxZoom);let transformedExtent=extent;return modelMatrix&&modelMatrixInverse&&extent&&!viewport.isGeospatial&&(transformedExtent=transformBox(extent,modelMatrix)),viewport.isGeospatial?function getOSMTileIndices(viewport,maxZ,zRange,bounds){const project=viewport instanceof GlobeViewport&&viewport.resolution?viewport.projectPosition:null,planes=Object.values(viewport.getFrustumPlanes()).map((({normal:normal,distance:distance})=>new plane_Plane(normal.clone().negate(),distance))),cullingVolume=new culling_volume_CullingVolume(planes),unitsPerMeter=viewport.distanceScales.unitsPerMeter[2],elevationMin=zRange&&zRange[0]*unitsPerMeter||0,elevationMax=zRange&&zRange[1]*unitsPerMeter||0,minZ=viewport instanceof web_mercator_viewport.Z&&viewport.pitch<=60?maxZ:0;if(bounds){const[minLng,minLat,maxLng,maxLat]=bounds,topLeft=(0,dist.w5)([minLng,maxLat]),bottomRight=(0,dist.w5)([maxLng,minLat]);bounds=[topLeft[0],tile_2d_traversal_TILE_SIZE-topLeft[1],bottomRight[0],tile_2d_traversal_TILE_SIZE-bottomRight[1]]}const root=new OSMNode(0,0,0),traversalParams={viewport:viewport,project:project,cullingVolume:cullingVolume,elevationBounds:[elevationMin,elevationMax],minZ:minZ,maxZ:maxZ,bounds:bounds,offset:0};if(root.update(traversalParams),viewport instanceof web_mercator_viewport.Z&&viewport.subViewports&&viewport.subViewports.length>1){for(traversalParams.offset=-1;root.update(traversalParams)&&!(--traversalParams.offset<-MAX_MAPS););for(traversalParams.offset=1;root.update(traversalParams)&&!(++traversalParams.offset>MAX_MAPS););}return root.getSelected()}(viewport,z,zRange,extent):getIdentityTileIndices(viewport,z,tileSize,transformedExtent||DEFAULT_EXTENT,modelMatrixInverse)}function isEqual(a,b){if(a===b)return!0;if(Array.isArray(a)){const len=a.length;if(!b||b.length!==len)return!1;for(let i=0;i<len;i++)if(a[i]!==b[i])return!1;return!0}return!1}const TILE_STATE_VISIBLE=2,STRATEGIES={"best-available":function updateTileStateDefault(allTiles){for(const tile of allTiles)tile.state=0;for(const tile of allTiles)tile.isSelected&&!getPlaceholderInAncestors(tile)&&getPlaceholderInChildren(tile);for(const tile of allTiles)tile.isVisible=Boolean(tile.state&TILE_STATE_VISIBLE)},"no-overlap":function updateTileStateReplace(allTiles){for(const tile of allTiles)tile.state=0;for(const tile of allTiles)tile.isSelected&&getPlaceholderInAncestors(tile);const sortedTiles=Array.from(allTiles).sort(((t1,t2)=>t1.zoom-t2.zoom));for(const tile of sortedTiles)if(tile.isVisible=Boolean(tile.state&TILE_STATE_VISIBLE),tile.children&&(tile.isVisible||1&tile.state))for(const child of tile.children)child.state=1;else tile.isSelected&&getPlaceholderInChildren(tile)},never:()=>{}},DEFAULT_TILESET2D_PROPS={extent:null,tileSize:512,maxZoom:null,minZoom:null,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:"best-available",zRange:null,maxRequests:6,debounceTime:0,zoomOffset:0,onTileLoad:()=>{},onTileUnload:()=>{},onTileError:()=>{}};class Tileset2D{constructor(opts){this._getCullBounds=function memoize(compute){let cachedResult,cachedArgs={};return args=>{for(const key in args)if(!isEqual(args[key],cachedArgs[key])){cachedResult=compute(args),cachedArgs=args;break}return cachedResult}}(getCullBounds),this.opts={...DEFAULT_TILESET2D_PROPS,...opts},this.setOptions(this.opts),this.onTileLoad=tile=>{this.opts.onTileLoad?.(tile),this.opts.maxCacheByteSize&&(this._cacheByteSize+=tile.byteLength,this._resizeCache())},this._requestScheduler=new RequestScheduler({throttleRequests:this.opts.maxRequests>0||this.opts.debounceTime>0,maxRequests:this.opts.maxRequests,debounceTime:this.opts.debounceTime}),this._cache=new Map,this._tiles=[],this._dirty=!1,this._cacheByteSize=0,this._viewport=null,this._zRange=null,this._selectedTiles=null,this._frameNumber=0,this._modelMatrix=new matrix4.y,this._modelMatrixInverse=new matrix4.y}get tiles(){return this._tiles}get selectedTiles(){return this._selectedTiles}get isLoaded(){return null!==this._selectedTiles&&this._selectedTiles.every((tile=>tile.isLoaded))}get needsReload(){return null!==this._selectedTiles&&this._selectedTiles.some((tile=>tile.needsReload))}setOptions(opts){Object.assign(this.opts,opts),Number.isFinite(opts.maxZoom)&&(this._maxZoom=Math.floor(opts.maxZoom)),Number.isFinite(opts.minZoom)&&(this._minZoom=Math.ceil(opts.minZoom))}finalize(){for(const tile of this._cache.values())tile.isLoading&&tile.abort();this._cache.clear(),this._tiles=[],this._selectedTiles=null}reloadAll(){for(const id of this._cache.keys()){const tile=this._cache.get(id);this._selectedTiles&&this._selectedTiles.includes(tile)?tile.setNeedsReload():this._cache.delete(id)}}update(viewport,{zRange:zRange,modelMatrix:modelMatrix}={zRange:null,modelMatrix:null}){const modelMatrixAsMatrix4=modelMatrix?new matrix4.y(modelMatrix):new matrix4.y,isModelMatrixNew=!modelMatrixAsMatrix4.equals(this._modelMatrix);if(this._viewport&&viewport.equals(this._viewport)&&(0,common.fS)(this._zRange,zRange)&&!isModelMatrixNew)this.needsReload&&(this._selectedTiles=this._selectedTiles.map((tile=>this._getTile(tile.index,!0))));else{isModelMatrixNew&&(this._modelMatrixInverse=modelMatrixAsMatrix4.clone().invert(),this._modelMatrix=modelMatrixAsMatrix4),this._viewport=viewport,this._zRange=zRange;const tileIndices=this.getTileIndices({viewport:viewport,maxZoom:this._maxZoom,minZoom:this._minZoom,zRange:zRange,modelMatrix:this._modelMatrix,modelMatrixInverse:this._modelMatrixInverse});this._selectedTiles=tileIndices.map((index=>this._getTile(index,!0))),this._dirty&&this._rebuildTree()}const changed=this.updateTileStates();return this._pruneRequests(),this._dirty&&this._resizeCache(),changed&&this._frameNumber++,this._frameNumber}isTileVisible(tile,cullRect){if(!tile.isVisible)return!1;if(cullRect&&this._viewport){const boundsArr=this._getCullBounds({viewport:this._viewport,z:this._zRange,cullRect:cullRect}),{bbox:bbox}=tile;for(const[minX,minY,maxX,maxY]of boundsArr){let overlaps;if("west"in bbox)overlaps=bbox.west<maxX&&bbox.east>minX&&bbox.south<maxY&&bbox.north>minY;else{const y0=Math.min(bbox.top,bbox.bottom),y1=Math.max(bbox.top,bbox.bottom);overlaps=bbox.left<maxX&&bbox.right>minX&&y0<maxY&&y1>minY}if(overlaps)return!0}return!1}return!0}getTileIndices({viewport:viewport,maxZoom:maxZoom,minZoom:minZoom,zRange:zRange,modelMatrix:modelMatrix,modelMatrixInverse:modelMatrixInverse}){const{tileSize:tileSize,extent:extent,zoomOffset:zoomOffset}=this.opts;return getTileIndices({viewport:viewport,maxZoom:maxZoom,minZoom:minZoom,zRange:zRange,tileSize:tileSize,extent:extent,modelMatrix:modelMatrix,modelMatrixInverse:modelMatrixInverse,zoomOffset:zoomOffset})}getTileId(index){return`${index.x}-${index.y}-${index.z}`}getTileZoom(index){return index.z}getTileMetadata(index){const{tileSize:tileSize}=this.opts;return{bbox:tileToBoundingBox(this._viewport,index.x,index.y,index.z,tileSize)}}getParentIndex(index){return{x:Math.floor(index.x/2),y:Math.floor(index.y/2),z:index.z-1}}updateTileStates(){const refinementStrategy=this.opts.refinementStrategy||"best-available",visibilities=new Array(this._cache.size);let i=0;for(const tile of this._cache.values())visibilities[i++]=tile.isVisible,tile.isSelected=!1,tile.isVisible=!1;for(const tile of this._selectedTiles)tile.isSelected=!0,tile.isVisible=!0;("function"==typeof refinementStrategy?refinementStrategy:STRATEGIES[refinementStrategy])(Array.from(this._cache.values())),i=0;for(const tile of this._cache.values())if(visibilities[i++]!==tile.isVisible)return!0;return!1}_pruneRequests(){const{maxRequests:maxRequests=0}=this.opts,abortCandidates=[];let ongoingRequestCount=0;for(const tile of this._cache.values())tile.isLoading&&(ongoingRequestCount++,tile.isSelected||tile.isVisible||abortCandidates.push(tile));for(;maxRequests>0&&ongoingRequestCount>maxRequests&&abortCandidates.length>0;){abortCandidates.shift().abort(),ongoingRequestCount--}}_rebuildTree(){const{_cache:_cache}=this;for(const tile of _cache.values())tile.parent=null,tile.children&&(tile.children.length=0);for(const tile of _cache.values()){const parent=this._getNearestAncestor(tile);tile.parent=parent,parent?.children&&parent.children.push(tile)}}_resizeCache(){const{_cache:_cache,opts:opts}=this,maxCacheSize=opts.maxCacheSize||(opts.maxCacheByteSize?1/0:5*this.selectedTiles.length),maxCacheByteSize=opts.maxCacheByteSize||1/0;if(_cache.size>maxCacheSize||this._cacheByteSize>maxCacheByteSize){for(const[id,tile]of _cache)if(tile.isVisible||tile.isSelected||(this._cacheByteSize-=opts.maxCacheByteSize?tile.byteLength:0,_cache.delete(id),this.opts.onTileUnload?.(tile)),_cache.size<=maxCacheSize&&this._cacheByteSize<=maxCacheByteSize)break;this._rebuildTree(),this._dirty=!0}this._dirty&&(this._tiles=Array.from(this._cache.values()).sort(((t1,t2)=>t1.zoom-t2.zoom)),this._dirty=!1)}_getTile(index,create){const id=this.getTileId(index);let tile=this._cache.get(id),needsReload=!1;return!tile&&create?(tile=new Tile2DHeader(index),Object.assign(tile,this.getTileMetadata(tile.index)),Object.assign(tile,{id:id,zoom:this.getTileZoom(tile.index)}),needsReload=!0,this._cache.set(id,tile),this._dirty=!0):tile&&tile.needsReload&&(needsReload=!0),tile&&needsReload&&tile.loadData({getData:this.opts.getTileData,requestScheduler:this._requestScheduler,onLoad:this.onTileLoad,onError:this.opts.onTileError}),tile}_getNearestAncestor(tile){const{_minZoom:_minZoom=0}=this;let index=tile.index;for(;this.getTileZoom(index)>_minZoom;){index=this.getParentIndex(index);const parent=this._getTile(index);if(parent)return parent}return null}}function getPlaceholderInAncestors(startTile){let tile=startTile;for(;tile;){if(tile.isLoaded||tile.content)return tile.state|=TILE_STATE_VISIBLE,!0;tile=tile.parent}return!1}function getPlaceholderInChildren(tile){for(const child of tile.children)child.isLoaded||child.content?child.state|=TILE_STATE_VISIBLE:getPlaceholderInChildren(child)}const tile_layer_defaultProps={TilesetClass:Tileset2D,data:{type:"data",value:[]},dataComparator:urlType.equal,renderSubLayers:{type:"function",value:props=>new geojson_layer.Z(props)},getTileData:{type:"function",optional:!0,value:null},onViewportLoad:{type:"function",optional:!0,value:null},onTileLoad:{type:"function",value:tile=>{}},onTileUnload:{type:"function",value:tile=>{}},onTileError:{type:"function",value:err=>console.error(err)},extent:{type:"array",optional:!0,value:null,compare:!0},tileSize:512,maxZoom:null,minZoom:0,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:"best-available",zRange:null,maxRequests:6,debounceTime:0,zoomOffset:0};class TileLayer extends composite_layer.Z{static{this.defaultProps=tile_layer_defaultProps}static{this.layerName="TileLayer"}initializeState(){this.state={tileset:null,isLoaded:!1}}finalizeState(){this.state?.tileset?.finalize()}get isLoaded(){return Boolean(this.state?.tileset?.selectedTiles?.every((tile=>tile.isLoaded&&tile.layers&&tile.layers.every((layer=>layer.isLoaded)))))}shouldUpdateState({changeFlags:changeFlags}){return changeFlags.somethingChanged}updateState({changeFlags:changeFlags}){let{tileset:tileset}=this.state;const propsChanged=changeFlags.propsOrDataChanged||changeFlags.updateTriggersChanged,dataChanged=changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getTileData);tileset?propsChanged&&(tileset.setOptions(this._getTilesetOptions()),dataChanged?tileset.reloadAll():tileset.tiles.forEach((tile=>{tile.layers=null}))):(tileset=new this.props.TilesetClass(this._getTilesetOptions()),this.setState({tileset:tileset})),this._updateTileset()}_getTilesetOptions(){const{tileSize:tileSize,maxCacheSize:maxCacheSize,maxCacheByteSize:maxCacheByteSize,refinementStrategy:refinementStrategy,extent:extent,maxZoom:maxZoom,minZoom:minZoom,maxRequests:maxRequests,debounceTime:debounceTime,zoomOffset:zoomOffset}=this.props;return{maxCacheSize:maxCacheSize,maxCacheByteSize:maxCacheByteSize,maxZoom:maxZoom,minZoom:minZoom,tileSize:tileSize,refinementStrategy:refinementStrategy,extent:extent,maxRequests:maxRequests,debounceTime:debounceTime,zoomOffset:zoomOffset,getTileData:this.getTileData.bind(this),onTileLoad:this._onTileLoad.bind(this),onTileError:this._onTileError.bind(this),onTileUnload:this._onTileUnload.bind(this)}}_updateTileset(){const tileset=this.state.tileset,{zRange:zRange,modelMatrix:modelMatrix}=this.props,frameNumber=tileset.update(this.context.viewport,{zRange:zRange,modelMatrix:modelMatrix}),{isLoaded:isLoaded}=tileset,loadingStateChanged=this.state.isLoaded!==isLoaded,tilesetChanged=this.state.frameNumber!==frameNumber;isLoaded&&(loadingStateChanged||tilesetChanged)&&this._onViewportLoad(),tilesetChanged&&this.setState({frameNumber:frameNumber}),this.state.isLoaded=isLoaded}_onViewportLoad(){const{tileset:tileset}=this.state,{onViewportLoad:onViewportLoad}=this.props;onViewportLoad&&onViewportLoad(tileset.selectedTiles)}_onTileLoad(tile){this.props.onTileLoad(tile),tile.layers=null,this.setNeedsUpdate()}_onTileError(error,tile){this.props.onTileError(error),tile.layers=null,this.setNeedsUpdate()}_onTileUnload(tile){this.props.onTileUnload(tile)}getTileData(tile){const{data:data,getTileData:getTileData,fetch:fetch}=this.props,{signal:signal}=tile;return tile.url="string"==typeof data||Array.isArray(data)?getURLFromTemplate(data,tile):null,getTileData?getTileData(tile):fetch&&tile.url?fetch(tile.url,{propName:"data",layer:this,signal:signal}):null}renderSubLayers(props){return this.props.renderSubLayers(props)}getSubLayerPropsByTile(tile){return null}getPickingInfo(params){const sourceLayer=params.sourceLayer,sourceTile=sourceLayer.props.tile,info=params.info;return info.picked&&(info.tile=sourceTile),info.sourceTile=sourceTile,info.sourceTileSubLayer=sourceLayer,info}_updateAutoHighlight(info){info.sourceTileSubLayer.updateAutoHighlight(info)}renderLayers(){return this.state.tileset.tiles.map((tile=>{const subLayerProps=this.getSubLayerPropsByTile(tile);if(tile.isLoaded||tile.content)if(tile.layers)subLayerProps&&tile.layers[0]&&Object.keys(subLayerProps).some((propName=>tile.layers[0].props[propName]!==subLayerProps[propName]))&&(tile.layers=tile.layers.map((layer=>layer.clone(subLayerProps))));else{const layers=this.renderSubLayers({...this.props,...this.getSubLayerProps({id:tile.id,updateTriggers:this.props.updateTriggers}),data:tile.content,_offset:0,tile:tile});tile.layers=(0,flatten.x)(layers,Boolean).map((layer=>layer.clone({tile:tile,...subLayerProps})))}else;return tile.layers}))}filterSubLayer({layer:layer,cullRect:cullRect}){const{tile:tile}=layer.props;return this.state.tileset.isTileVisible(tile,cullRect)}}var path_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/path-layer/path-layer.js");const trips_layer_defaultProps={fadeTrail:!0,trailLength:{type:"number",value:120,min:0},currentTime:{type:"number",value:0,min:0},getTimestamps:{type:"accessor",value:d=>d.timestamps}};class TripsLayer extends path_layer.Z{static{this.layerName="TripsLayer"}static{this.defaultProps=trips_layer_defaultProps}getShaders(){const shaders=super.getShaders();return shaders.inject={"vs:#decl":"uniform float trailLength;\nin float instanceTimestamps;\nin float instanceNextTimestamps;\nout float vTime;\n","vs:#main-end":"vTime = instanceTimestamps + (instanceNextTimestamps - instanceTimestamps) * vPathPosition.y / vPathLength;\n","fs:#decl":"uniform bool fadeTrail;\nuniform float trailLength;\nuniform float currentTime;\nin float vTime;\n","fs:#main-start":"if(vTime > currentTime || (fadeTrail && (vTime < currentTime - trailLength))) {\n  discard;\n}\n","fs:DECKGL_FILTER_COLOR":"if(fadeTrail) {\n  color.a *= 1.0 - (currentTime - vTime) / trailLength;\n}\n"},shaders}initializeState(){super.initializeState();this.getAttributeManager().addInstanced({timestamps:{size:1,accessor:"getTimestamps",shaderAttributes:{instanceTimestamps:{vertexOffset:0},instanceNextTimestamps:{vertexOffset:1}}}})}draw(params){const{fadeTrail:fadeTrail,trailLength:trailLength,currentTime:currentTime}=this.props;params.uniforms={...params.uniforms,fadeTrail:fadeTrail,trailLength:trailLength,currentTime:currentTime},super.draw(params)}}var libh3=function(libh3){var key,Module=void 0!==(libh3=libh3||{})?libh3:{},moduleOverrides={};for(key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var readAsync,arguments_=[],scriptDirectory="";"undefined"!=typeof document&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=0!==scriptDirectory.indexOf("blob:")?scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1):"",readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.responseType="arraybuffer",xhr.onload=function xhr_onload(){if(200==xhr.status||0==xhr.status&&xhr.response)onload(xhr.response);else{var data=tryParseAsDataURI(url);data?onload(data.buffer):onerror()}},xhr.onerror=onerror,xhr.send(null)};var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);for(key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments);var tempRet0=0;var ABORT=!1;function getCFunc(ident){var func=Module["_"+ident];return function assert(condition,text){condition||abort("Assertion failed: "+text)}(func,"Cannot call unknown function "+ident+", make sure it is exported"),func}function ccall(ident,returnType,argTypes,args,opts){var toC={string:function(str){var ret=0;if(null!=str&&0!==str){var len=1+(str.length<<2);(function stringToUTF8(str,outPtr,maxBytesToWrite){return function stringToUTF8Array(str,outU8Array,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;for(var startIdx=outIdx,endIdx=outIdx+maxBytesToWrite-1,i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((1023&u)<<10)|1023&str.charCodeAt(++i);if(u<=127){if(outIdx>=endIdx)break;outU8Array[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;outU8Array[outIdx++]=192|u>>6,outU8Array[outIdx++]=128|63&u}else if(u<=65535){if(outIdx+2>=endIdx)break;outU8Array[outIdx++]=224|u>>12,outU8Array[outIdx++]=128|u>>6&63,outU8Array[outIdx++]=128|63&u}else{if(outIdx+3>=endIdx)break;outU8Array[outIdx++]=240|u>>18,outU8Array[outIdx++]=128|u>>12&63,outU8Array[outIdx++]=128|u>>6&63,outU8Array[outIdx++]=128|63&u}}return outU8Array[outIdx]=0,outIdx-startIdx}(str,HEAPU8,outPtr,maxBytesToWrite)})(str,ret=stackAlloc(len),len)}return ret},array:function(arr){var ret=stackAlloc(arr.length);return function writeArrayToMemory(array,buffer){HEAP8.set(array,buffer)}(arr,ret),ret}};var func=getCFunc(ident),cArgs=[],stack=0;if(args)for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];converter?(0===stack&&(stack=stackSave()),cArgs[i]=converter(args[i])):cArgs[i]=args[i]}var ret=func.apply(null,cArgs);return ret=function convertReturnValue(ret){return"string"===returnType?UTF8ToString(ret):"boolean"===returnType?Boolean(ret):ret}(ret),0!==stack&&stackRestore(stack),ret}var UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function UTF8ToString(ptr,maxBytesToRead){return ptr?function UTF8ArrayToString(u8Array,idx,maxBytesToRead){for(var endIdx=idx+maxBytesToRead,endPtr=idx;u8Array[endPtr]&&!(endPtr>=endIdx);)++endPtr;if(endPtr-idx>16&&u8Array.subarray&&UTF8Decoder)return UTF8Decoder.decode(u8Array.subarray(idx,endPtr));for(var str="";idx<endPtr;){var u0=u8Array[idx++];if(128&u0){var u1=63&u8Array[idx++];if(192!=(224&u0)){var u2=63&u8Array[idx++];if((u0=224==(240&u0)?(15&u0)<<12|u1<<6|u2:(7&u0)<<18|u1<<12|u2<<6|63&u8Array[idx++])<65536)str+=String.fromCharCode(u0);else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|1023&ch)}}else str+=String.fromCharCode((31&u0)<<6|u1)}else str+=String.fromCharCode(u0)}return str}(HEAPU8,ptr,maxBytesToRead):""}var buffer,HEAP8,HEAPU8,HEAP16,HEAP32,HEAPF32,HEAPF64;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function alignUp(x,multiple){return x%multiple>0&&(x+=multiple-x%multiple),x}function updateGlobalBufferAndViews(buf){buffer=buf,Module.HEAP8=HEAP8=new Int8Array(buf),Module.HEAP16=HEAP16=new Int16Array(buf),Module.HEAP32=HEAP32=new Int32Array(buf),Module.HEAPU8=HEAPU8=new Uint8Array(buf),Module.HEAPU16=new Uint16Array(buf),Module.HEAPU32=new Uint32Array(buf),Module.HEAPF32=HEAPF32=new Float32Array(buf),Module.HEAPF64=HEAPF64=new Float64Array(buf)}var INITIAL_TOTAL_MEMORY=Module.TOTAL_MEMORY||33554432;function callRuntimeCallbacks(callbacks){for(;callbacks.length>0;){var callback=callbacks.shift();if("function"!=typeof callback){var func=callback.func;"number"==typeof func?void 0===callback.arg?Module.dynCall_v(func):Module.dynCall_vi(func,callback.arg):func(void 0===callback.arg?null:callback.arg)}else callback()}}INITIAL_TOTAL_MEMORY=(buffer=Module.buffer?Module.buffer:new ArrayBuffer(INITIAL_TOTAL_MEMORY)).byteLength,updateGlobalBufferAndViews(buffer),HEAP32[6032]=5267040;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[];var Math_abs=Math.abs,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_min=Math.min,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;Module.preloadedImages={},Module.preloadedAudios={};var tempDouble,tempI64,memoryInitializer=null,dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return String.prototype.startsWith?filename.startsWith(dataURIPrefix):0===filename.indexOf(dataURIPrefix)}memoryInitializer="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAOgehWlKfUEEz1zLi+JsiQa2og3wcMfVAWCbHorc0yEDi+Yn/Y6mbQJ11/mfsnG9At6bnG4UQQkBvMCQWKqUUQJVmwwswmOc/3hVgVBL3uj//qqOEOdGOPw/WDN4gnGE/H3ANkCUgND+AA8btKgAHPwTXBqJVSdo+XfRQAqsKrj4fc+zLYbSPQklEmCZHv2FCUP+uDso1NEKYtPhwphUHQptxnyFXYdpB7CddZAMmrkGAt1AxSTqBQUibBVdTsFNBSuX3MV+AJkFocv82SLf5QAqmgj7AY81A23VDSEnLoEDGEJVSeDFzQDYrqvBk70VA8U157pcRGUBWfEF+ZKbsP7KBdLHZTpFAqKYk69AqekDbeGY41MdjQD8AZzHK501A1vcrrjubNkD5LnquvBYhQCbiRRD71QlAqt72EbOH8z8Eu+jL1YbdP4uaox/xUcY/abedg1XfsD+BsUdzJ4KZP5wE9YFySIM/rW1kAKMpbT+rZFthVRhWPy4PKlXIs0A/qMZLlwDnMEHByqEF0I0ZQQYSFD8lUQNBPpY+dFs07UAH8BZImBPWQN9RY0I0sMBA2T7kLfc6qUByFYvfhBKTQMq+0Mis1XxA0XQbeQXMZUBJJ5aEGXpQQP7/SY0a6ThAaMD92b/UIkAs8s8yqXoMQNIegOvCk/U/aOi7NZJP4D8AAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAD/////AAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAA/////wAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAP////8AAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////BQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAEAAQAAAQEAAAAAAAEAAAABAAAAAQABAAAAAAAAAAAAAAAAAAAAAAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAGFsZ29zLmMAaDNOZWlnaGJvclJvdGF0aW9ucwBjb29yZGlqay5jAF91cEFwN0NoZWNrZWQAX3VwQXA3ckNoZWNrZWQAZGlyZWN0ZWRFZGdlLmMAZGlyZWN0ZWRFZGdlVG9Cb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0NlbGxCb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbY2VudGVySUpLLmZhY2VdW2ZhY2UyXSA9PSBLSQBfZmFjZUlqa1RvQ2VsbEJvdW5kYXJ5AGgzSW5kZXguYwBjb21wYWN0Q2VsbHMAbGF0TG5nVG9DZWxsAGNlbGxUb0NoaWxkUG9zAHZhbGlkYXRlQ2hpbGRQb3MAbGF0TG5nLmMAY2VsbEFyZWFSYWRzMgBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGNlbGxUb0xvY2FsSWprAGJhc2VDZWxsICE9IG9yaWdpbkJhc2VDZWxsACEob3JpZ2luT25QZW50ICYmIGluZGV4T25QZW50KQBiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvQ2VsbAAhX2lzQmFzZUNlbGxQZW50YWdvbihiYXNlQ2VsbCkAYmFzZUNlbGxSb3RhdGlvbnMgPj0gMABncmlkUGF0aENlbGxzADAAdmVydGV4LmMAY2VsbFRvVmVydGV4AGdyYXBoLT5idWNrZXRzICE9IE5VTEwAdmVydGV4R3JhcGguYwBpbml0VmVydGV4R3JhcGgAbm9kZSAhPSBOVUxMAGFkZFZlcnRleE5vZGU=";function demangle(func){return func}function demangleAll(text){return text.replace(/\b__Z[\w\d_]+/g,(function(x){return x===x?x:x+" ["+x+"]"}))}function jsStackTrace(){var err=new Error;if(!err.stack){try{throw new Error(0)}catch(e){err=e}if(!err.stack)return"(no stack trace available)"}return err.stack.toString()}function _emscripten_get_heap_size(){return HEAP8.length}function emscripten_realloc_buffer(size){try{var newBuffer=new ArrayBuffer(size);if(newBuffer.byteLength!=size)return;return new Int8Array(newBuffer).set(HEAP8),_emscripten_replace_memory(newBuffer),updateGlobalBufferAndViews(newBuffer),1}catch(e){}}var decodeBase64="function"==typeof atob?atob:function(input){var chr1,chr2,chr3,enc2,enc3,enc4,keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",output="",i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{chr1=keyStr.indexOf(input.charAt(i++))<<2|(enc2=keyStr.indexOf(input.charAt(i++)))>>4,chr2=(15&enc2)<<4|(enc3=keyStr.indexOf(input.charAt(i++)))>>2,chr3=(3&enc3)<<6|(enc4=keyStr.indexOf(input.charAt(i++))),output+=String.fromCharCode(chr1),64!==enc3&&(output+=String.fromCharCode(chr2)),64!==enc4&&(output+=String.fromCharCode(chr3))}while(i<input.length);return output};function tryParseAsDataURI(filename){if(isDataURI(filename))return function intArrayFromBase64(s){try{for(var decoded=decodeBase64(s),bytes=new Uint8Array(decoded.length),i=0;i<decoded.length;++i)bytes[i]=decoded.charCodeAt(i);return bytes}catch(_){throw new Error("Converting base64 string to bytes failed.")}}(filename.slice(dataURIPrefix.length))}var calledRun,asm=function(global,env,buffer){var a=new global.Int8Array(buffer),b=new global.Int32Array(buffer),e=(new global.Uint8Array(buffer),new global.Float32Array(buffer),new global.Float64Array(buffer)),f=0|env.o,g=0|env.p,p=global.Math.floor,q=global.Math.abs,r=global.Math.sqrt,s=global.Math.pow,t=global.Math.cos,u=global.Math.sin,v=global.Math.tan,w=global.Math.acos,x=global.Math.asin,y=global.Math.atan,z=global.Math.atan2,A=global.Math.ceil,B=global.Math.imul,C=global.Math.min,D=global.Math.max,E=global.Math.clz32,G=env.b,H=env.c,I=env.d,J=env.e,K=env.f,L=env.g,M=env.h,N=env.i,T=24160;function aa(a,b,c,d){return 0|ba(a|=0,b|=0,c|=0,d|=0,0)}function ba(a,c,d,e,f){var j,g=0,h=0,i=0,k=0;if(j=T,T=T+16|0,h=j,!(0|ca(a|=0,c|=0,d|=0,e|=0,f|=0)))return T=j,0|(e=0);do{if((0|d)>=0){if((0|d)>13780509){if(0|(g=0|ic(15,h)))break;h=0|b[(i=h)>>2],i=0|b[i+4>>2]}else k=0|rd(0|d,0|(g=((0|d)<0)<<31>>31),3,0),i=0|H(),g=0|ld(0|d,0|g,1,0),g=0|ld(0|(g=0|rd(0|k,0|i,0|g,0|H())),0|H(),1,0),i=0|H(),b[h>>2]=g,b[h+4>>2]=i,h=g;if(Bd(0|e,0,h<<3|0),0|f){Bd(0|f,0,h<<2|0),g=0|da(a,c,d,e,f,h,i,0);break}(g=0|kd(h,4))?(k=0|da(a,c,d,e,g,h,i,0),jd(g),g=k):g=13}else g=2}while(0);return T=j,0|(k=g)}function ca(a,c,d,e,f){a|=0,c|=0,d|=0,e|=0,f|=0;var o,q,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,p=0;if(q=T,T=T+16|0,p=q+8|0,b[(n=o=q)>>2]=a,b[n+4>>2]=c,(0|d)<0)return T=q,0|(p=2);if(b[(g=e)>>2]=a,b[g+4>>2]=c,(g=0!=(0|f))&&(b[f>>2]=0),0|xb(a,c))return T=q,0|(p=9);b[p>>2]=0;a:do{if((0|d)>=1)if(g)for(l=1,k=0,m=0,n=1,g=a;;){if(!(k|m)){if(0|(g=0|ea(g,c,4,p,o)))break a;if(0|xb(g=0|b[(c=o)>>2],c=0|b[c+4>>2])){g=9;break a}}if(0|(g=0|ea(g,c,0|b[22384+(m<<2)>>2],p,o)))break a;if(g=0|b[(c=o)>>2],c=0|b[c+4>>2],b[(a=e+(l<<3)|0)>>2]=g,b[a+4>>2]=c,b[f+(l<<2)>>2]=n,h=(0|(a=k+1|0))==(0|n),j=6==(0|(i=m+1|0)),0|xb(g,c)){g=9;break a}if((0|(n=n+(j&h&1)|0))>(0|d)){g=0;break}l=l+1|0,k=h?0:a,m=h?j?0:i:m}else for(l=1,k=0,m=0,n=1,g=a;;){if(!(k|m)){if(0|(g=0|ea(g,c,4,p,o)))break a;if(0|xb(g=0|b[(c=o)>>2],c=0|b[c+4>>2])){g=9;break a}}if(0|(g=0|ea(g,c,0|b[22384+(m<<2)>>2],p,o)))break a;if(g=0|b[(c=o)>>2],c=0|b[c+4>>2],b[(a=e+(l<<3)|0)>>2]=g,b[a+4>>2]=c,h=(0|(a=k+1|0))==(0|n),j=6==(0|(i=m+1|0)),0|xb(g,c)){g=9;break a}if((0|(n=n+(j&h&1)|0))>(0|d)){g=0;break}l=l+1|0,k=h?0:a,m=h?j?0:i:m}else g=0}while(0);return T=q,0|(p=g)}function da(a,c,d,e,f,g,h,i){d|=0,e|=0,f|=0,i|=0;var o,p,q,j=0,k=0,l=0,m=0,n=0,r=0,s=0;if(q=T,T=T+16|0,o=q+8|0,p=q,j=0|td(0|(a|=0),0|(c|=0),0|(g|=0),0|(h|=0)),l=0|H(),!(0==(0|(s=0|b[(r=m=e+(j<<3)|0)>>2]))&0==(0|(r=0|b[r+4>>2]))|(k=(0|s)==(0|a)&(0|r)==(0|c))))do{j=0|sd(0|(j=0|ld(0|j,0|l,1,0)),0|H(),0|g,0|h),l=0|H(),k=(0|(r=0|b[(s=m=e+(j<<3)|0)>>2]))==(0|a)&(0|(s=0|b[s+4>>2]))==(0|c)}while(!(0==(0|r)&0==(0|s)|k));if(j=f+(j<<2)|0,k&&(0|b[j>>2])<=(0|i))return T=q,0|(s=0);if(b[(s=m)>>2]=a,b[s+4>>2]=c,b[j>>2]=i,(0|i)>=(0|d))return T=q,0|(s=0);switch(k=i+1|0,b[o>>2]=0,0|(j=0|ea(a,c,2,o,p))){case 9:n=9;break;case 0:(j=0|da(0|b[(j=p)>>2],0|b[j+4>>2],d,e,f,g,h,k))||(n=9)}a:do{if(9==(0|n)){switch(b[o>>2]=0,0|(j=0|ea(a,c,3,o,p))){case 9:break;case 0:if(0|(j=0|da(0|b[(j=p)>>2],0|b[j+4>>2],d,e,f,g,h,k)))break a;break;default:break a}switch(b[o>>2]=0,0|(j=0|ea(a,c,1,o,p))){case 9:break;case 0:if(0|(j=0|da(0|b[(j=p)>>2],0|b[j+4>>2],d,e,f,g,h,k)))break a;break;default:break a}switch(b[o>>2]=0,0|(j=0|ea(a,c,5,o,p))){case 9:break;case 0:if(0|(j=0|da(0|b[(j=p)>>2],0|b[j+4>>2],d,e,f,g,h,k)))break a;break;default:break a}switch(b[o>>2]=0,0|(j=0|ea(a,c,4,o,p))){case 9:break;case 0:if(0|(j=0|da(0|b[(j=p)>>2],0|b[j+4>>2],d,e,f,g,h,k)))break a;break;default:break a}switch(b[o>>2]=0,0|(j=0|ea(a,c,6,o,p))){case 9:break;case 0:if(0|(j=0|da(0|b[(j=p)>>2],0|b[j+4>>2],d,e,f,g,h,k)))break a;break;default:break a}return T=q,0|(s=0)}}while(0);return T=q,0|(s=j)}function ea(a,c,d,e,f){a|=0,c|=0,f|=0;var j,l,g=0,h=0,i=0,k=0,m=0,n=0,p=0;if((d|=0)>>>0>6)return 0|(f=1);if(m=(0|b[(e|=0)>>2])%6|0,b[e>>2]=m,(0|m)>0){g=0;do{d=0|Sa(d),g=g+1|0}while((0|g)<(0|b[e>>2]))}if(m=0|vd(0|a,0|c,45),H(),(l=127&m)>>>0>121)return 0|(f=5);j=0|Fb(a,c),g=0|vd(0|a,0|c,52),H(),g&=15;a:do{if(g){for(;;){if(i=0|vd(0|a,0|c,0|(h=3*(15-g|0)|0)),H(),7==(0|(i&=7))){c=5;break}if(p=0==(0|Lb(g)),g=g+-1|0,n=0|wd(7,0,0|h),c&=~(0|H()),a=0|wd(0|b[(p?432:16)+(28*i|0)+(d<<2)>>2],0,0|h)|a&~n,c|=h=0|H(),!(d=0|b[(p?640:224)+(28*i|0)+(d<<2)>>2])){d=0;break a}if(!g){k=8;break a}}return 0|c}k=8}while(0);8==(0|k)&&(a|=0|wd(0|(p=0|b[848+(28*l|0)+(d<<2)>>2]),0,45),c=0|H()|-1040385&c,d=0|b[4272+(28*l|0)+(d<<2)>>2],127==(127&p|0)&&(p=0|wd(0|b[848+(28*l|0)+20>>2],0,45),c=0|H()|-1040385&c,d=0|b[4272+(28*l|0)+20>>2],a=0|Hb(p|a,c),c=0|H(),b[e>>2]=1+(0|b[e>>2]))),i=0|vd(0|a,0|c,45),H(),i&=127;b:do{if(0|ma(i)){c:do{if(1==(0|Fb(a,c))){if((0|l)!=(0|i)){if(0|sa(i,0|b[7696+(28*l|0)>>2])){a=0|Jb(a,c),h=1,c=0|H();break}I(23313,22416,436,22424)}switch(0|j){case 3:a=0|Hb(a,c),c=0|H(),b[e>>2]=1+(0|b[e>>2]),h=0;break c;case 5:a=0|Jb(a,c),c=0|H(),b[e>>2]=5+(0|b[e>>2]),h=0;break c;case 0:return 0|(p=9);default:return 0|(p=1)}}else h=0}while(0);if((0|d)>0){g=0;do{a=0|Gb(a,c),c=0|H(),g=g+1|0}while((0|g)!=(0|d))}if((0|l)!=(0|i)){if(!(0|na(i))){if(0!=(0|h)|5!=(0|Fb(a,c)))break;b[e>>2]=1+(0|b[e>>2]);break}switch(127&m){case 8:case 118:break b}3!=(0|Fb(a,c))&&(b[e>>2]=1+(0|b[e>>2]))}}else if((0|d)>0){g=0;do{a=0|Hb(a,c),c=0|H(),g=g+1|0}while((0|g)!=(0|d))}}while(0);return b[e>>2]=((0|b[e>>2])+d|0)%6|0,b[(p=f)>>2]=a,b[p+4>>2]=c,0|(p=0)}function fa(a,c,d,e){d|=0,e|=0;var g,h,i,f=0,j=0;for(i=T,T=T+16|0,g=i,h=i+8|0,f=(f=0==(0|xb(a|=0,c|=0)))?1:2;;){if(b[h>>2]=0,0==(0|ea(a,c,f,h,g))&((0|b[(j=g)>>2])==(0|d)?(0|b[j+4>>2])==(0|e):0)){a=4;break}if((f=f+1|0)>>>0>=7){f=7,a=4;break}}return 4==(0|a)?(T=i,0|f):0}function ia(a,c,d,f,g,h,i){c|=0,d|=0,f|=0,g|=0,h|=0,i|=0;var x,y,z,A,B,C,D,E,F,I,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,G=0,J=0,K=0,L=0,M=0;if(I=T,T=T+64|0,D=I+48|0,E=I+32|0,F=I+24|0,x=I+8|0,y=I,(0|(k=0|b[(a|=0)>>2]))<=0)return T=I,0|(G=0);for(z=a+4|0,A=D+8|0,B=E+8|0,C=x+8|0,j=0,v=0;;){u=(l=0|b[z>>2])+(v<<4)|0,b[D>>2]=b[u>>2],b[D+4>>2]=b[u+4>>2],b[D+8>>2]=b[u+8>>2],b[D+12>>2]=b[u+12>>2],(0|v)==(k+-1|0)?(b[E>>2]=b[l>>2],b[E+4>>2]=b[l+4>>2],b[E+8>>2]=b[l+8>>2],b[E+12>>2]=b[l+12>>2]):(u=l+(v+1<<4)|0,b[E>>2]=b[u>>2],b[E+4>>2]=b[u+4>>2],b[E+8>>2]=b[u+8>>2],b[E+12>>2]=b[u+12>>2]),k=0|Aa(D,E,f,F);a:do{if(k)l=0,j=k;else if(k=0|b[(l=F)>>2],(0|(l=0|b[l+4>>2]))>0|0==(0|l)&k>>>0>0){t=0,u=0;b:for(;;){if(M=+e[D>>3],L=+((s=0|md(0|k,0|l,0|t,0|u))>>>0)+4294967296*+(0|H()),J=+(k>>>0)+4294967296*+(0|l),K=+(t>>>0)+4294967296*+(0|u),e[x>>3]=M*L/J+ +e[E>>3]*K/J,e[C>>3]=+e[A>>3]*L/J+ +e[B>>3]*K/J,0|(k=0|Mb(x,f,y))){j=k;break}o=0|td(0|(r=0|b[(s=y)>>2]),0|(s=0|b[s+4>>2]),0|c,0|d),m=0|H(),l=0|b[(n=k=i+(o<<3)|0)>>2],n=0|b[n+4>>2];c:do{if(0==(0|l)&0==(0|n))w=k,G=16;else for(p=0,q=0;;){if((0|p)>(0|d)|(0|p)==(0|d)&q>>>0>c>>>0){j=1;break b}if((0|l)==(0|r)&(0|n)==(0|s))break c;if(o=0|sd(0|(k=0|ld(0|o,0|m,1,0)),0|H(),0|c,0|d),m=0|H(),q=0|ld(0|q,0|p,1,0),p=0|H(),0==(0|(l=0|b[(n=k=i+(o<<3)|0)>>2]))&0==(0|(n=0|b[n+4>>2]))){w=k,G=16;break}}}while(0);if(16!=(0|G)||(G=0,0==(0|r)&0==(0|s))||(b[(q=w)>>2]=r,b[q+4>>2]=s,q=h+(b[g>>2]<<3)|0,b[q>>2]=r,b[q+4>>2]=s,q=0|ld(0|b[(q=g)>>2],0|b[q+4>>2],1,0),r=0|H(),b[(s=g)>>2]=q,b[s+4>>2]=r),t=0|ld(0|t,0|u,1,0),u=0|H(),k=0|b[(l=F)>>2],!((0|(l=0|b[l+4>>2]))>(0|u)|(0|l)==(0|u)&k>>>0>t>>>0)){l=1;break a}}l=0}else l=1}while(0);if(v=v+1|0,!l){G=21;break}if((0|v)>=(0|(k=0|b[a>>2]))){j=0,G=21;break}}return 21==(0|G)?(T=I,0|j):0}function ma(a){return(a|=0)>>>0>121?0|(a=0):0|(a=0|b[7696+(28*a|0)+16>>2])}function na(a){return 4==(0|(a|=0))|117==(0|a)|0}function oa(a){return 0|b[11120+(216*(0|b[(a|=0)>>2])|0)+(72*(0|b[a+4>>2])|0)+(24*(0|b[a+8>>2])|0)+(b[a+12>>2]<<3)>>2]}function pa(a){return 0|b[11120+(216*(0|b[(a|=0)>>2])|0)+(72*(0|b[a+4>>2])|0)+(24*(0|b[a+8>>2])|0)+(b[a+12>>2]<<3)+4>>2]}function sa(a,c){return c|=0,(0|b[7696+(28*(a|=0)|0)+20>>2])==(0|c)?0|(c=1):0|(c=(0|b[7696+(28*a|0)+24>>2])==(0|c))}function ta(a,c){return 0|b[848+(28*(a|=0)|0)+((c|=0)<<2)>>2]}function ua(a,c){return c|=0,(0|b[848+(28*(a|=0)|0)>>2])==(0|c)?0|(c=0):(0|b[848+(28*a|0)+4>>2])==(0|c)?0|(c=1):(0|b[848+(28*a|0)+8>>2])==(0|c)?0|(c=2):(0|b[848+(28*a|0)+12>>2])==(0|c)?0|(c=3):(0|b[848+(28*a|0)+16>>2])==(0|c)?0|(c=4):(0|b[848+(28*a|0)+20>>2])==(0|c)?0|(c=5):0|((0|b[848+(28*a|0)+24>>2])==(0|c)?6:7)}function xa(a){return+e[(a|=0)+16>>3]<+e[a+24>>3]|0}function ya(a,b){a|=0;var d,f,c=0;return(c=+e[(b|=0)>>3])>=+e[a+8>>3]&&c<=+e[a>>3]?(d=+e[a+16>>3],c=+e[a+24>>3],b=(f=+e[b+8>>3])>=c,a=f<=d&1,d<c?b&&(a=1):b||(a=0),0|(b=0!=(0|a))):0|(b=0)}function za(a,c,d){a|=0,c|=0,d|=0;var g,h,i,j,n,t,u,k=0,l=0,m=0,o=0,r=0,s=0,v=0;t=T,T=T+288|0,n=t+264|0,o=t+96|0,l=(k=m=t)+96|0;do{b[k>>2]=0,k=k+4|0}while((0|k)<(0|l));return 0|(c=0|Ub(c,m))?(T=t,0|(s=c)):(Pb(m=0|b[(l=m)>>2],l=0|b[l+4>>2],n),Qb(m,l,o),j=+ac(n,o+8|0),e[n>>3]=+e[a>>3],e[(l=n+8|0)>>3]=+e[a+16>>3],e[o>>3]=+e[a+8>>3],e[(m=o+8|0)>>3]=+e[a+24>>3],h=+ac(n,o),v=+e[l>>3]-+e[m>>3],i=+q(+v),u=+e[n>>3]-+e[o>>3],g=+q(+u),0==v|0==u||(v=+xd(+i,+g),v=+A(+h*h/+yd(+v/+yd(+i,+g),3)/(j*(2.59807621135*j)*.8)),e[f>>3]=v,r=~~v>>>0,s=+q(v)>=1?v>0?~~+C(+p(v/4294967296),4294967295)>>>0:~~+A((v-+(~~v>>>0))/4294967296)>>>0:0,2146435072==(2146435072&b[f+4>>2]|0))?c=1:(o=0==(0|r)&0==(0|s),b[(c=d)>>2]=o?1:r,b[c+4>>2]=o?0:s,c=0),T=t,0|(s=c))}function Aa(a,c,d,g){a|=0,c|=0,d|=0,g|=0;var i,j,k,m,h=0,l=0,n=0;m=T,T=T+288|0,j=m+264|0,k=m+96|0,i=(h=l=m)+96|0;do{b[h>>2]=0,h=h+4|0}while((0|h)<(0|i));return 0|(d=0|Ub(d,l))?(T=m,0|(g=d)):(Pb(h=0|b[(d=l)>>2],d=0|b[d+4>>2],j),Qb(h,d,k),n=+ac(j,k+8|0),n=+A(+ +ac(a,c)/(2*n)),e[f>>3]=n,d=~~n>>>0,h=+q(n)>=1?n>0?~~+C(+p(n/4294967296),4294967295)>>>0:~~+A((n-+(~~n>>>0))/4294967296)>>>0:0,2146435072==(2146435072&b[f+4>>2]|0)?(T=m,0|(g=1)):(l=0==(0|d)&0==(0|h),b[g>>2]=l?1:d,b[g+4>>2]=l?0:h,T=m,0|(g=0)))}function Ba(a,c,d,e){c|=0,d|=0,e|=0,b[(a|=0)>>2]=c,b[a+4>>2]=d,b[a+8>>2]=e}function Ca(a,c){a|=0;var h,k,l,n,d=0,f=0,g=0,i=0,j=0,m=0,o=0;b[(n=(c|=0)+8|0)>>2]=0,k=+e[a>>3],i=+q(+k),l=+e[a+8>>3],i+=.5*(j=+q(+l)/.8660254037844386),i-=+(0|(d=~~i)),j-=+(0|(a=~~j));do{if(i<.5){if(i<.3333333333333333){if(b[c>>2]=d,j<.5*(i+1)){b[c+4>>2]=a;break}a=a+1|0,b[c+4>>2]=a;break}if(a=(1&!(j<(o=1-i)))+a|0,b[c+4>>2]=a,o<=j&j<2*i){d=d+1|0,b[c>>2]=d;break}b[c>>2]=d;break}if(!(i<.6666666666666666)){if(d=d+1|0,b[c>>2]=d,j<.5*i){b[c+4>>2]=a;break}a=a+1|0,b[c+4>>2]=a;break}if(j<1-i){if(b[c+4>>2]=a,2*i-1<j){b[c>>2]=d;break}}else a=a+1|0,b[c+4>>2]=a;d=d+1|0,b[c>>2]=d}while(0);do{if(k<0){if(1&a){d=~~(+(0|d)-(2*(+((m=0|md(0|d,((0|d)<0)<<31>>31|0,0|(m=(a+1|0)/2|0),((0|m)<0)<<31>>31|0))>>>0)+4294967296*+(0|H()))+1)),b[c>>2]=d;break}d=~~(+(0|d)-2*(+((m=0|md(0|d,((0|d)<0)<<31>>31|0,0|(m=(0|a)/2|0),((0|m)<0)<<31>>31|0))>>>0)+4294967296*+(0|H()))),b[c>>2]=d;break}}while(0);m=c+4|0,l<0&&(d=d-((1|a<<1)/2|0)|0,b[c>>2]=d,a=0-a|0,b[m>>2]=a),f=a-d|0,(0|d)<0?(g=0-d|0,b[m>>2]=f,b[n>>2]=g,b[c>>2]=0,a=f,d=0):g=0,(0|a)<0&&(d=d-a|0,b[c>>2]=d,g=g-a|0,b[n>>2]=g,b[m>>2]=0,a=0),h=d-g|0,f=a-g|0,(0|g)<0&&(b[c>>2]=h,b[m>>2]=f,b[n>>2]=0,a=f,d=h,g=0),(0|(f=(0|g)<(0|(f=(0|a)<(0|d)?a:d))?g:f))<=0||(b[c>>2]=d-f,b[m>>2]=a-f,b[n>>2]=g-f)}function Da(a){var h,c=0,d=0,e=0,f=0,g=0;c=0|b[(a|=0)>>2],d=0|b[(h=a+4|0)>>2],(0|c)<0&&(d=d-c|0,b[h>>2]=d,b[(g=a+8|0)>>2]=(0|b[g>>2])-c,b[a>>2]=0,c=0),(0|d)<0?(c=c-d|0,b[a>>2]=c,f=(0|b[(g=a+8|0)>>2])-d|0,b[g>>2]=f,b[h>>2]=0,d=0):(g=f=a+8|0,f=0|b[f>>2]),(0|f)<0&&(c=c-f|0,b[a>>2]=c,d=d-f|0,b[h>>2]=d,b[g>>2]=0,f=0),(0|(e=(0|f)<(0|(e=(0|d)<(0|c)?d:c))?f:e))<=0||(b[a>>2]=c-e,b[h>>2]=d-e,b[g>>2]=f-e)}function Ea(a,c){c|=0;var d,f;f=0|b[(a|=0)+8>>2],d=+((0|b[a+4>>2])-f|0),e[c>>3]=+((0|b[a>>2])-f|0)-.5*d,e[c+8>>3]=.8660254037844386*d}function Fa(a,c,d){a|=0,c|=0,b[(d|=0)>>2]=(0|b[c>>2])+(0|b[a>>2]),b[d+4>>2]=(0|b[c+4>>2])+(0|b[a+4>>2]),b[d+8>>2]=(0|b[c+8>>2])+(0|b[a+8>>2])}function Ga(a,c,d){a|=0,c|=0,b[(d|=0)>>2]=(0|b[a>>2])-(0|b[c>>2]),b[d+4>>2]=(0|b[a+4>>2])-(0|b[c+4>>2]),b[d+8>>2]=(0|b[a+8>>2])-(0|b[c+8>>2])}function Ha(a,c){c|=0;var e,d=0;d=0|B(0|b[(a|=0)>>2],c),b[a>>2]=d,e=0|B(0|b[(d=a+4|0)>>2],c),b[d>>2]=e,c=0|B(0|b[(a=a+8|0)>>2],c),b[a>>2]=c}function Ia(a){var g,h,c=0,d=0,e=0,f=0,i=0;i=(0|(h=0|b[(a|=0)>>2]))<0,a=(a=(d=(0|(f=((g=(0|(e=(0|b[a+4>>2])-(i?h:0)|0))<0)?0-e|0:0)+((0|b[a+8>>2])-(i?h:0))|0))<0)?0:f)-((e=(0|(d=(0|a)<(0|(d=(0|(c=(g?0:e)-(d?f:0)|0))<(0|(f=(i?0:h)-(g?e:0)-(d?f:0)|0))?c:f))?a:d))>0)?d:0)|0,c=c-(e?d:0)|0;a:do{switch(f-(e?d:0)|0){case 0:switch(0|c){case 0:return 0|(i=0==(0|a)?0:1==(0|a)?1:7);case 1:return 0|(i=0==(0|a)?2:1==(0|a)?3:7);default:break a}case 1:switch(0|c){case 0:return 0|(i=0==(0|a)?4:1==(0|a)?5:7);case 1:if(a)break a;return 0|(a=6);default:break a}}}while(0);return 0|(i=7)}function Ja(a){var h,c=0,d=0,e=0,f=0,g=0,i=0;f=0|b[(h=(a|=0)+8|0)>>2],g=(0|b[a>>2])-f|0,f=(0|b[(i=a+4|0)>>2])-f|0;do{if(g>>>0>715827881|f>>>0>715827881){if(d=(0|g)>0){if((2147483647-g|0)<(0|g))return 0|(i=1);if((2147483647-(g<<1)|0)<(0|g))return 0|(i=1)}else{if((-2147483648-g|0)>(0|g))return 0|(i=1);if((-2147483648-(g<<1)|0)>(0|g))return 0|(i=1)}if(c=3*g|0,(0|f)>0){if((2147483647-f|0)<(0|f))return 0|(i=1)}else if((-2147483648-f|0)>(0|f))return 0|(i=1);if(e=f<<1,(0|g)>-1){if((-2147483648|c|0)>=(0|f))return 0|(i=1)}else if((-2147483648^c|0)<(0|f))return 0|(i=1);if(d){if(!((2147483647-g|0)<(0|e))){d=e;break}return 0|(c=1)}if(!((-2147483648-g|0)>(0|e))){d=e;break}return 0|(c=1)}d=f<<1,c=3*g|0}while(0);e=0|hd(+(c-f|0)/7),b[a>>2]=e,f=0|hd(+(d+g|0)/7),b[i>>2]=f,b[h>>2]=0,c=(d=(0|f)<(0|e))?e:f,d=d?f:e;do{if((0|d)<0){if((0|c)>0){if((-2147483648|c|0)<(0|d)&-2147483648!=(0|d)&(2147483647-c|0)>=(0|d))break;I(23313,22444,355,22455)}if(-2147483648==(0|d)|(-2147483648-c|0)>(0|d)&&I(23313,22444,355,22455),(0|c)>-1){if((-2147483648|c|0)<(0|d))break;I(23313,22444,355,22455)}else{if((-2147483648^c|0)>=(0|d))break;I(23313,22444,355,22455)}}}while(0);return c=f-e|0,(0|e)<0?(d=0-e|0,b[i>>2]=c,b[h>>2]=d,b[a>>2]=0,e=0):(c=f,d=0),(0|c)<0&&(e=e-c|0,b[a>>2]=e,d=d-c|0,b[h>>2]=d,b[i>>2]=0,c=0),g=e-d|0,f=c-d|0,(0|d)<0?(b[a>>2]=g,b[i>>2]=f,b[h>>2]=0,c=f,f=g,d=0):f=e,(0|(e=(0|d)<(0|(e=(0|c)<(0|f)?c:f))?d:e))<=0||(b[a>>2]=f-e,b[i>>2]=c-e,b[h>>2]=d-e),0|(i=0)}function Ka(a){var h,c=0,d=0,e=0,f=0,g=0,i=0;f=0|b[(h=(a|=0)+8|0)>>2],g=(0|b[a>>2])-f|0,f=(0|b[(i=a+4|0)>>2])-f|0;do{if(g>>>0>715827881|f>>>0>715827881){if(d=(0|g)>0){if((2147483647-g|0)<(0|g))return 0|(i=1)}else if((-2147483648-g|0)>(0|g))return 0|(i=1);if(c=g<<1,(0|f)>0){if((2147483647-f|0)<(0|f))return 0|(i=1);if((2147483647-(f<<1)|0)<(0|f))return 0|(i=1)}else{if((-2147483648-f|0)>(0|f))return 0|(i=1);if((-2147483648-(f<<1)|0)>(0|f))return 0|(i=1)}if(e=3*f|0,d){if((2147483647-c|0)<(0|f))return 0|(i=1)}else if((-2147483648-c|0)>(0|f))return 0|(i=1);if((0|f)>-1){if((-2147483648|e|0)<(0|g)){d=e;break}return 0|(c=1)}if(!((-2147483648^e|0)<(0|g))){d=e;break}return 0|(c=1)}d=3*f|0,c=g<<1}while(0);e=0|hd(+(c+f|0)/7),b[a>>2]=e,f=0|hd(+(d-g|0)/7),b[i>>2]=f,b[h>>2]=0,c=(d=(0|f)<(0|e))?e:f,d=d?f:e;do{if((0|d)<0){if((0|c)>0){if((-2147483648|c|0)<(0|d)&-2147483648!=(0|d)&(2147483647-c|0)>=(0|d))break;I(23313,22444,404,22469)}if(-2147483648==(0|d)|(-2147483648-c|0)>(0|d)&&I(23313,22444,404,22469),(0|c)>-1){if((-2147483648|c|0)<(0|d))break;I(23313,22444,404,22469)}else{if((-2147483648^c|0)>=(0|d))break;I(23313,22444,404,22469)}}}while(0);return c=f-e|0,(0|e)<0?(d=0-e|0,b[i>>2]=c,b[h>>2]=d,b[a>>2]=0,e=0):(c=f,d=0),(0|c)<0&&(e=e-c|0,b[a>>2]=e,d=d-c|0,b[h>>2]=d,b[i>>2]=0,c=0),g=e-d|0,f=c-d|0,(0|d)<0?(b[a>>2]=g,b[i>>2]=f,b[h>>2]=0,c=f,f=g,d=0):f=e,(0|(e=(0|d)<(0|(e=(0|c)<(0|f)?c:f))?d:e))<=0||(b[a>>2]=f-e,b[i>>2]=c-e,b[h>>2]=d-e),0|(i=0)}function La(a){var h,i,c=0,d=0,e=0,f=0,g=0;d=0|b[(h=(a|=0)+8|0)>>2],e=0|hd(+((3*(c=(0|b[a>>2])-d|0)|0)-(d=(0|b[(i=a+4|0)>>2])-d|0)|0)/7),b[a>>2]=e,c=0|hd(+((d<<1)+c|0)/7),b[i>>2]=c,b[h>>2]=0,d=c-e|0,(0|e)<0?(g=0-e|0,b[i>>2]=d,b[h>>2]=g,b[a>>2]=0,c=d,e=0,d=g):d=0,(0|c)<0&&(e=e-c|0,b[a>>2]=e,d=d-c|0,b[h>>2]=d,b[i>>2]=0,c=0),g=e-d|0,f=c-d|0,(0|d)<0?(b[a>>2]=g,b[i>>2]=f,b[h>>2]=0,c=f,f=g,d=0):f=e,(0|(e=(0|d)<(0|(e=(0|c)<(0|f)?c:f))?d:e))<=0||(b[a>>2]=f-e,b[i>>2]=c-e,b[h>>2]=d-e)}function Ma(a){var h,i,c=0,d=0,e=0,f=0,g=0;d=0|b[(h=(a|=0)+8|0)>>2],e=0|hd(+(((c=(0|b[a>>2])-d|0)<<1)+(d=(0|b[(i=a+4|0)>>2])-d|0)|0)/7),b[a>>2]=e,c=0|hd(+((3*d|0)-c|0)/7),b[i>>2]=c,b[h>>2]=0,d=c-e|0,(0|e)<0?(g=0-e|0,b[i>>2]=d,b[h>>2]=g,b[a>>2]=0,c=d,e=0,d=g):d=0,(0|c)<0&&(e=e-c|0,b[a>>2]=e,d=d-c|0,b[h>>2]=d,b[i>>2]=0,c=0),g=e-d|0,f=c-d|0,(0|d)<0?(b[a>>2]=g,b[i>>2]=f,b[h>>2]=0,c=f,f=g,d=0):f=e,(0|(e=(0|d)<(0|(e=(0|c)<(0|f)?c:f))?d:e))<=0||(b[a>>2]=f-e,b[i>>2]=c-e,b[h>>2]=d-e)}function Na(a){var g,h,i,c=0,d=0,e=0,f=0;c=0|b[(a|=0)>>2],d=0|b[(h=a+4|0)>>2],e=0|b[(i=a+8|0)>>2],f=d+(3*c|0)|0,b[a>>2]=f,d=e+(3*d|0)|0,b[h>>2]=d,c=(3*e|0)+c|0,b[i>>2]=c,e=d-f|0,(0|f)<0?(c=c-f|0,b[h>>2]=e,b[i>>2]=c,b[a>>2]=0,d=e,e=0):e=f,(0|d)<0&&(e=e-d|0,b[a>>2]=e,c=c-d|0,b[i>>2]=c,b[h>>2]=0,d=0),g=e-c|0,f=d-c|0,(0|c)<0?(b[a>>2]=g,b[h>>2]=f,b[i>>2]=0,e=g,c=0):f=d,(0|(d=(0|c)<(0|(d=(0|f)<(0|e)?f:e))?c:d))<=0||(b[a>>2]=e-d,b[h>>2]=f-d,b[i>>2]=c-d)}function Oa(a){var g,h,i,c=0,d=0,e=0,f=0;f=0|b[(a|=0)>>2],e=(3*(c=0|b[(h=a+4|0)>>2])|0)+f|0,f=(d=0|b[(i=a+8|0)>>2])+(3*f|0)|0,b[a>>2]=f,b[h>>2]=e,c=(3*d|0)+c|0,b[i>>2]=c,d=e-f|0,(0|f)<0?(c=c-f|0,b[h>>2]=d,b[i>>2]=c,b[a>>2]=0,f=0):d=e,(0|d)<0&&(f=f-d|0,b[a>>2]=f,c=c-d|0,b[i>>2]=c,b[h>>2]=0,d=0),g=f-c|0,e=d-c|0,(0|c)<0?(b[a>>2]=g,b[h>>2]=e,b[i>>2]=0,f=g,c=0):e=d,(0|(d=(0|c)<(0|(d=(0|e)<(0|f)?e:f))?c:d))<=0||(b[a>>2]=f-d,b[h>>2]=e-d,b[i>>2]=c-d)}function Pa(a,c){a|=0;var g,h,i,d=0,e=0,f=0;((c|=0)+-1|0)>>>0>=6||(f=(0|b[15440+(12*c|0)>>2])+(0|b[a>>2])|0,b[a>>2]=f,i=a+4|0,e=(0|b[15440+(12*c|0)+4>>2])+(0|b[i>>2])|0,b[i>>2]=e,h=a+8|0,c=(0|b[15440+(12*c|0)+8>>2])+(0|b[h>>2])|0,b[h>>2]=c,d=e-f|0,(0|f)<0?(c=c-f|0,b[i>>2]=d,b[h>>2]=c,b[a>>2]=0,e=0):(d=e,e=f),(0|d)<0&&(e=e-d|0,b[a>>2]=e,c=c-d|0,b[h>>2]=c,b[i>>2]=0,d=0),g=e-c|0,f=d-c|0,(0|c)<0?(b[a>>2]=g,b[i>>2]=f,b[h>>2]=0,e=g,c=0):f=d,(0|(d=(0|c)<(0|(d=(0|f)<(0|e)?f:e))?c:d))<=0||(b[a>>2]=e-d,b[i>>2]=f-d,b[h>>2]=c-d))}function Qa(a){var g,h,i,c=0,d=0,e=0,f=0;f=0|b[(a|=0)>>2],e=(c=0|b[(h=a+4|0)>>2])+f|0,f=(d=0|b[(i=a+8|0)>>2])+f|0,b[a>>2]=f,b[h>>2]=e,c=d+c|0,b[i>>2]=c,d=e-f|0,(0|f)<0?(c=c-f|0,b[h>>2]=d,b[i>>2]=c,b[a>>2]=0,e=0):(d=e,e=f),(0|d)<0&&(e=e-d|0,b[a>>2]=e,c=c-d|0,b[i>>2]=c,b[h>>2]=0,d=0),g=e-c|0,f=d-c|0,(0|c)<0?(b[a>>2]=g,b[h>>2]=f,b[i>>2]=0,e=g,c=0):f=d,(0|(d=(0|c)<(0|(d=(0|f)<(0|e)?f:e))?c:d))<=0||(b[a>>2]=e-d,b[h>>2]=f-d,b[i>>2]=c-d)}function Ra(a){var g,h,i,c=0,d=0,e=0,f=0;c=0|b[(a|=0)>>2],e=0|b[(h=a+4|0)>>2],d=0|b[(i=a+8|0)>>2],f=e+c|0,b[a>>2]=f,e=d+e|0,b[h>>2]=e,c=d+c|0,b[i>>2]=c,d=e-f|0,(0|f)<0?(c=c-f|0,b[h>>2]=d,b[i>>2]=c,b[a>>2]=0,e=0):(d=e,e=f),(0|d)<0&&(e=e-d|0,b[a>>2]=e,c=c-d|0,b[i>>2]=c,b[h>>2]=0,d=0),g=e-c|0,f=d-c|0,(0|c)<0?(b[a>>2]=g,b[h>>2]=f,b[i>>2]=0,e=g,c=0):f=d,(0|(d=(0|c)<(0|(d=(0|f)<(0|e)?f:e))?c:d))<=0||(b[a>>2]=e-d,b[h>>2]=f-d,b[i>>2]=c-d)}function Sa(a){switch(0|(a|=0)){case 1:a=5;break;case 5:a=4;break;case 4:a=6;break;case 6:a=2;break;case 2:a=3;break;case 3:a=1}return 0|a}function Ta(a){switch(0|(a|=0)){case 1:a=3;break;case 3:a=2;break;case 2:a=6;break;case 6:a=4;break;case 4:a=5;break;case 5:a=1}return 0|a}function Ua(a){var g,h,i,c=0,d=0,e=0,f=0;c=0|b[(a|=0)>>2],d=0|b[(h=a+4|0)>>2],e=0|b[(i=a+8|0)>>2],f=d+(c<<1)|0,b[a>>2]=f,d=e+(d<<1)|0,b[h>>2]=d,c=(e<<1)+c|0,b[i>>2]=c,e=d-f|0,(0|f)<0?(c=c-f|0,b[h>>2]=e,b[i>>2]=c,b[a>>2]=0,d=e,e=0):e=f,(0|d)<0&&(e=e-d|0,b[a>>2]=e,c=c-d|0,b[i>>2]=c,b[h>>2]=0,d=0),g=e-c|0,f=d-c|0,(0|c)<0?(b[a>>2]=g,b[h>>2]=f,b[i>>2]=0,e=g,c=0):f=d,(0|(d=(0|c)<(0|(d=(0|f)<(0|e)?f:e))?c:d))<=0||(b[a>>2]=e-d,b[h>>2]=f-d,b[i>>2]=c-d)}function Va(a){var g,h,i,c=0,d=0,e=0,f=0;f=0|b[(a|=0)>>2],e=((c=0|b[(h=a+4|0)>>2])<<1)+f|0,f=(d=0|b[(i=a+8|0)>>2])+(f<<1)|0,b[a>>2]=f,b[h>>2]=e,c=(d<<1)+c|0,b[i>>2]=c,d=e-f|0,(0|f)<0?(c=c-f|0,b[h>>2]=d,b[i>>2]=c,b[a>>2]=0,f=0):d=e,(0|d)<0&&(f=f-d|0,b[a>>2]=f,c=c-d|0,b[i>>2]=c,b[h>>2]=0,d=0),g=f-c|0,e=d-c|0,(0|c)<0?(b[a>>2]=g,b[h>>2]=e,b[i>>2]=0,f=g,c=0):e=d,(0|(d=(0|c)<(0|(d=(0|e)<(0|f)?e:f))?c:d))<=0||(b[a>>2]=f-d,b[h>>2]=e-d,b[i>>2]=c-d)}function Wa(a,c){c|=0;var g,h,i,d=0,e=0,f=0;return i=(0|(h=(0|b[(a|=0)>>2])-(0|b[c>>2])|0))<0,g=(0|(e=(0|b[a+4>>2])-(0|b[c+4>>2])-(i?h:0)|0))<0,c=(c=(a=(0|(f=(i?0-h|0:0)+(0|b[a+8>>2])-(0|b[c+8>>2])+(g?0-e|0:0)|0))<0)?0:f)-((e=(0|(a=(0|c)<(0|(a=(0|(d=(g?0:e)-(a?f:0)|0))<(0|(f=(i?0:h)-(g?e:0)-(a?f:0)|0))?d:f))?c:a))>0)?a:0)|0,d=d-(e?a:0)|0,0|((0|(a=(0|(a=f-(e?a:0)|0))>-1?a:0-a|0))>(0|(c=(0|(d=(0|d)>-1?d:0-d|0))>(0|(c=(0|c)>-1?c:0-c|0))?d:c))?a:c)}function Xa(a,c){c|=0;var d;d=0|b[(a|=0)+8>>2],b[c>>2]=(0|b[a>>2])-d,b[c+4>>2]=(0|b[a+4>>2])-d}function Ya(a,c){c|=0;var g,h,i,d=0,e=0,f=0;e=0|b[(a|=0)>>2],b[c>>2]=e,f=0|b[a+4>>2],b[(h=c+4|0)>>2]=f,b[(i=c+8|0)>>2]=0,a=(d=(0|f)<(0|e))?e:f,d=d?f:e;do{if((0|d)<0){if((0|a)>0){if((-2147483648|a|0)<(0|d)&-2147483648!=(0|d)&(2147483647-a|0)>=(0|d))break;return 0|(a=1)}if(-2147483648==(0|d)|(-2147483648-a|0)>(0|d))return 0|(c=1);if((0|a)>-1){if((-2147483648|a|0)<(0|d))break;return 0|(a=1)}if(!((-2147483648^a|0)<(0|d)))break;return 0|(a=1)}}while(0);return a=f-e|0,(0|e)<0?(d=0-e|0,b[h>>2]=a,b[i>>2]=d,b[c>>2]=0,e=0):(a=f,d=0),(0|a)<0&&(e=e-a|0,b[c>>2]=e,d=d-a|0,b[i>>2]=d,b[h>>2]=0,a=0),g=e-d|0,f=a-d|0,(0|d)<0?(b[c>>2]=g,b[h>>2]=f,b[i>>2]=0,a=f,f=g,d=0):f=e,(0|(e=(0|d)<(0|(e=(0|a)<(0|f)?a:f))?d:e))<=0||(b[c>>2]=f-e,b[h>>2]=a-e,b[i>>2]=d-e),0|(c=0)}function Za(a){var c,d,e,f;d=(f=0|b[(c=(a|=0)+8|0)>>2])-(0|b[a>>2])|0,b[a>>2]=d,a=(0|b[(e=a+4|0)>>2])-f|0,b[e>>2]=a,b[c>>2]=0-(a+d)}function _a(a){var h,i,c=0,d=0,e=0,f=0,g=0;c=0-(d=0|b[(a|=0)>>2])|0,b[a>>2]=c,b[(h=a+8|0)>>2]=0,f=(e=0|b[(i=a+4|0)>>2])+d|0,(0|d)>0?(b[i>>2]=f,b[h>>2]=d,b[a>>2]=0,c=0,e=f):d=0,(0|e)<0?(g=c-e|0,b[a>>2]=g,d=d-e|0,b[h>>2]=d,b[i>>2]=0,f=g-d|0,c=0-d|0,(0|d)<0?(b[a>>2]=f,b[i>>2]=c,b[h>>2]=0,e=c,d=0):(e=0,f=g)):f=c,(0|(c=(0|d)<(0|(c=(0|e)<(0|f)?e:f))?d:c))<=0||(b[a>>2]=f-c,b[i>>2]=e-c,b[h>>2]=d-c)}function gb(a,c,d){d|=0;var f,h,e=0,g=0;return h=T,T=T+16|0,f=h,g=-2130706433&(c|=0)|134217728,!0&268435456==(2013265920&c|0)?(e=0|vd(0|(a|=0),0|c,56),H(),e=0|function Uc(a,c,d){a|=0,c|=0,d|=0;var e=0,f=0,g=0;if(g=T,T=T+16|0,f=g,e=0|xb(a,c),(d+-1|0)>>>0>5)return T=g,0|(f=-1);if(e=0!=(0|e),1==(0|d)&e)return T=g,0|(f=-1);do{if(!(0|Vc(a,c,f))){if(e){e=(5+(0|b[21936+(d<<2)>>2])-(0|b[f>>2])|0)%5|0;break}e=(6+(0|b[21968+(d<<2)>>2])-(0|b[f>>2])|0)%6|0;break}e=-1}while(0);return f=e,T=g,0|f}(a,g,7&e),-1==(0|e)?(b[d>>2]=0,T=h,0|(g=6)):(0|Ob(a,g,f)&&I(23313,22484,282,22499),c=0|vd(0|a,0|c,52),H(),c&=15,0|xb(a,g)?mb(f,c,e,2,d):qb(f,c,e,2,d),T=h,0|(g=0))):(T=h,0|(g=6))}function ib(a,c,d,f){c|=0,f|=0;var j,g=0,h=0,i=0,k=0;if(j=T,T=T+16|0,function jb(a,c,d){a|=0,c|=0,d|=0;var f=0,g=0,h=0;h=T,T=T+32|0,g=h,function Tc(a,b){a|=0,b|=0;var c=0,d=0,f=0;return c=+e[a>>3],d=+t(+c),c=+u(+c),e[b+16>>3]=c,c=+e[a+8>>3],f=d*+t(+c),e[b>>3]=f,c=d*+u(+c),void(e[b+8>>3]=c)}(a,g),b[c>>2]=0,e[d>>3]=5,f=+Sc(16400,g),f<+e[d>>3]&&(b[c>>2]=0,e[d>>3]=f);f=+Sc(16424,g),f<+e[d>>3]&&(b[c>>2]=1,e[d>>3]=f);f=+Sc(16448,g),f<+e[d>>3]&&(b[c>>2]=2,e[d>>3]=f);f=+Sc(16472,g),f<+e[d>>3]&&(b[c>>2]=3,e[d>>3]=f);f=+Sc(16496,g),f<+e[d>>3]&&(b[c>>2]=4,e[d>>3]=f);f=+Sc(16520,g),f<+e[d>>3]&&(b[c>>2]=5,e[d>>3]=f);f=+Sc(16544,g),f<+e[d>>3]&&(b[c>>2]=6,e[d>>3]=f);f=+Sc(16568,g),f<+e[d>>3]&&(b[c>>2]=7,e[d>>3]=f);f=+Sc(16592,g),f<+e[d>>3]&&(b[c>>2]=8,e[d>>3]=f);f=+Sc(16616,g),f<+e[d>>3]&&(b[c>>2]=9,e[d>>3]=f);f=+Sc(16640,g),f<+e[d>>3]&&(b[c>>2]=10,e[d>>3]=f);f=+Sc(16664,g),f<+e[d>>3]&&(b[c>>2]=11,e[d>>3]=f);f=+Sc(16688,g),f<+e[d>>3]&&(b[c>>2]=12,e[d>>3]=f);f=+Sc(16712,g),f<+e[d>>3]&&(b[c>>2]=13,e[d>>3]=f);f=+Sc(16736,g),f<+e[d>>3]&&(b[c>>2]=14,e[d>>3]=f);f=+Sc(16760,g),f<+e[d>>3]&&(b[c>>2]=15,e[d>>3]=f);f=+Sc(16784,g),f<+e[d>>3]&&(b[c>>2]=16,e[d>>3]=f);f=+Sc(16808,g),f<+e[d>>3]&&(b[c>>2]=17,e[d>>3]=f);f=+Sc(16832,g),f<+e[d>>3]&&(b[c>>2]=18,e[d>>3]=f);if(f=+Sc(16856,g),!(f<+e[d>>3]))return void(T=h);return b[c>>2]=19,e[d>>3]=f,void(T=h)}(a|=0,d|=0,k=j),(h=+w(+(1-.5*+e[k>>3])))<1e-16)return b[f>>2]=0,b[f+4>>2]=0,b[f+8>>2]=0,b[f+12>>2]=0,void(T=j);if(k=0|b[d>>2],g=+Zb((g=+e[15920+(24*k|0)>>3])-+Zb(+function cc(a,b){a|=0,b|=0;var c=0,d=0,f=0,g=0,h=0;return g=+e[b>>3],d=+t(+g),f=+e[b+8>>3]-+e[a+8>>3],h=d*+u(+f),c=+e[a>>3],+ +z(+h,+(+u(+g)*+t(+c)-+t(+f)*(d*+u(+c))))}(15600+(k<<4)|0,a))),i=0|Lb(c)?+Zb(g+-.3334731722518321):g,g=+v(+h)/.381966011250105,(0|c)>0){a=0;do{g*=2.6457513110645907,a=a+1|0}while((0|a)!=(0|c))}h=+t(+i)*g,e[f>>3]=h,i=+u(+i)*g,e[f+8>>3]=i,T=j}function kb(a,c,d,f,g){c|=0,d|=0,f|=0,g|=0;var h=0,i=0;if(h=+function Pc(a){a|=0;var b=0,c=0;return c=+e[a>>3],b=+e[a+8>>3],+ +r(+(c*c+b*b))}(a|=0),h<1e-16)return c=15600+(c<<4)|0,b[g>>2]=b[c>>2],b[g+4>>2]=b[c+4>>2],b[g+8>>2]=b[c+8>>2],void(b[g+12>>2]=b[c+12>>2]);if(i=+z(+ +e[a+8>>3],+ +e[a>>3]),(0|d)>0){a=0;do{h/=2.6457513110645907,a=a+1|0}while((0|a)!=(0|d))}f?(h/=3,d=0==(0|Lb(d)),h=+y(.381966011250105*(d?h:h/2.6457513110645907))):(h=+y(.381966011250105*h),0|Lb(d)&&(i=+Zb(i+.3334731722518321))),function dc(a,c,d,f){a|=0,c=+c,d=+d,f|=0;var g=0,h=0,i=0,j=0;if(d<1e-16)return b[f>>2]=b[a>>2],b[f+4>>2]=b[a+4>>2],b[f+8>>2]=b[a+8>>2],void(b[f+12>>2]=b[a+12>>2]);h=c<0?c+6.283185307179586:c,h=c>=6.283185307179586?h+-6.283185307179586:h;do{if(!(h<1e-16)){if(g=+q(+(h+-3.141592653589793))<1e-16,c=+e[a>>3],g){c-=d,e[f>>3]=c,g=f;break}if(i=+t(+d),d=+u(+d),c=i*+u(+c)+ +t(+h)*(d*+t(+c)),c=+x(+((c=c>1?1:c)<-1?-1:c)),e[f>>3]=c,+q(+(c+-1.5707963267948966))<1e-16)return e[f>>3]=1.5707963267948966,void(e[f+8>>3]=0);if(+q(+(c+1.5707963267948966))<1e-16)return e[f>>3]=-1.5707963267948966,void(e[f+8>>3]=0);if(j=+t(+c),h=d*+u(+h)/j,d=+e[a>>3],c=(i-+u(+c)*+u(+d))/+t(+d)/j,i=h>1?1:h,c=c>1?1:c,(c=+e[a+8>>3]+ +z(+(i<-1?-1:i),+(c<-1?-1:c)))>3.141592653589793)do{c+=-6.283185307179586}while(c>3.141592653589793);if(c<-3.141592653589793)do{c+=6.283185307179586}while(c<-3.141592653589793);return void(e[f+8>>3]=c)}c=+e[a>>3]+d,e[f>>3]=c,g=f}while(0);if(+q(+(c+-1.5707963267948966))<1e-16)return e[g>>3]=1.5707963267948966,void(e[f+8>>3]=0);if(+q(+(c+1.5707963267948966))<1e-16)return e[g>>3]=-1.5707963267948966,void(e[f+8>>3]=0);if(c=+e[a+8>>3],c>3.141592653589793)do{c+=-6.283185307179586}while(c>3.141592653589793);if(c<-3.141592653589793)do{c+=6.283185307179586}while(c<-3.141592653589793);return void(e[f+8>>3]=c)}(15600+(c<<4)|0,+Zb(+e[15920+(24*c|0)>>3]-i),h,g)}function lb(a,c,d){c|=0,d|=0;var e,f;e=T,T=T+16|0,Ea((a|=0)+4|0,f=e),kb(f,0|b[a>>2],c,0,d),T=e}function mb(a,c,d,f,g){a|=0,c|=0,d|=0,f|=0,g|=0;var k,l,m,n,o,p,q,r,s,t,v,w,x,y,z,A,B,C,D,E,F,G,h=0,i=0,j=0,u=0,H=0,J=0;if(G=T,T=T+272|0,u=G+240|0,D=G,E=G+224|0,F=G+208|0,v=G+176|0,w=G+160|0,x=G+192|0,y=G+144|0,z=G+128|0,A=G+112|0,B=G+96|0,C=G+80|0,b[(h=G+256|0)>>2]=c,b[u>>2]=b[a>>2],b[u+4>>2]=b[a+4>>2],b[u+8>>2]=b[a+8>>2],b[u+12>>2]=b[a+12>>2],nb(u,h,D),b[g>>2]=0,(0|(u=f+d+(5==(0|f)&1)|0))<=(0|d))T=G;else{l=E+4|0,m=v+4|0,n=d+5|0,o=16880+((k=0|b[h>>2])<<2)|0,p=16960+(k<<2)|0,q=z+8|0,r=A+8|0,s=B+8|0,t=F+4|0,j=d;a:for(;;){i=D+(((0|j)%5|0)<<4)|0,b[F>>2]=b[i>>2],b[F+4>>2]=b[i+4>>2],b[F+8>>2]=b[i+8>>2],b[F+12>>2]=b[i+12>>2];do{}while(2==(0|ob(F,k,0,1)));if((0|j)>(0|d)&0!=(0|Lb(c))){if(b[v>>2]=b[F>>2],b[v+4>>2]=b[F+4>>2],b[v+8>>2]=b[F+8>>2],b[v+12>>2]=b[F+12>>2],Ea(l,w),f=0|b[v>>2],h=0|b[17040+(80*f|0)+(b[E>>2]<<2)>>2],b[v>>2]=b[18640+(80*f|0)+(20*h|0)>>2],(0|(i=0|b[18640+(80*f|0)+(20*h|0)+16>>2]))>0){a=0;do{Qa(m),a=a+1|0}while((0|a)<(0|i))}switch(i=18640+(80*f|0)+(20*h|0)+4|0,b[x>>2]=b[i>>2],b[x+4>>2]=b[i+4>>2],b[x+8>>2]=b[i+8>>2],Ha(x,3*(0|b[o>>2])|0),Fa(m,x,m),Da(m),Ea(m,y),H=+(0|b[p>>2]),e[z>>3]=3*H,e[q>>3]=0,J=-1.5*H,e[A>>3]=J,e[r>>3]=2.598076211353316*H,e[B>>3]=J,e[s>>3]=-2.598076211353316*H,0|b[17040+(80*(0|b[v>>2])|0)+(b[F>>2]<<2)>>2]){case 1:a=A,f=z;break;case 3:a=B,f=A;break;case 2:a=z,f=B;break;default:a=12;break a}Qc(w,y,f,a,C),kb(C,0|b[v>>2],k,1,g+8+(b[g>>2]<<4)|0),b[g>>2]=1+(0|b[g>>2])}if((0|j)<(0|n)&&(Ea(t,v),kb(v,0|b[F>>2],k,1,g+8+(b[g>>2]<<4)|0),b[g>>2]=1+(0|b[g>>2])),b[E>>2]=b[F>>2],b[E+4>>2]=b[F+4>>2],b[E+8>>2]=b[F+8>>2],b[E+12>>2]=b[F+12>>2],(0|(j=j+1|0))>=(0|u)){a=3;break}}3!=(0|a)?12==(0|a)&&I(22522,22569,571,22579):T=G}}function nb(a,c,d){a|=0,c|=0,d|=0;var j,e=0,f=0,g=0,h=0,i=0;j=T,T=T+128|0,f=j,h=20240,i=(g=e=j+64|0)+60|0;do{b[g>>2]=b[h>>2],g=g+4|0,h=h+4|0}while((0|g)<(0|i));h=20304,i=(g=f)+60|0;do{b[g>>2]=b[h>>2],g=g+4|0,h=h+4|0}while((0|g)<(0|i));e=(i=0==(0|Lb(0|b[c>>2])))?e:f,Ua(f=a+4|0),Va(f),0|Lb(0|b[c>>2])&&(Oa(f),b[c>>2]=1+(0|b[c>>2])),b[d>>2]=b[a>>2],Fa(f,e,c=d+4|0),Da(c),b[d+16>>2]=b[a>>2],Fa(f,e+12|0,c=d+20|0),Da(c),b[d+32>>2]=b[a>>2],Fa(f,e+24|0,c=d+36|0),Da(c),b[d+48>>2]=b[a>>2],Fa(f,e+36|0,c=d+52|0),Da(c),b[d+64>>2]=b[a>>2],Fa(f,e+48|0,d=d+68|0),Da(d),T=j}function ob(a,c,d,e){d|=0,e|=0;var h,i,k,l,n,p,f=0,g=0,j=0,m=0,o=0;if(p=T,T=T+32|0,n=p+12|0,i=p,o=(a|=0)+4|0,m=0|b[16960+((c|=0)<<2)>>2],m=(l=0!=(0|e))?3*m|0:m,f=0|b[o>>2],h=0|b[(k=a+8|0)>>2],l){if((0|(f=h+f+(e=0|b[(g=a+12|0)>>2])|0))==(0|m))return T=p,0|(o=1);j=g}else f=h+f+(e=0|b[(j=a+12|0)>>2])|0;if((0|f)<=(0|m))return T=p,0|(o=0);do{if((0|e)>0){if(e=0|b[a>>2],(0|h)>0){g=18640+(80*e|0)+60|0,e=a;break}e=18640+(80*e|0)+40|0,d?(Ba(n,m,0,0),Ga(o,n,i),Ra(i),Fa(i,n,o),g=e,e=a):(g=e,e=a)}else g=18640+(80*(0|b[a>>2])|0)+20|0,e=a}while(0);if(b[e>>2]=b[g>>2],(0|b[(f=g+16|0)>>2])>0){e=0;do{Qa(o),e=e+1|0}while((0|e)<(0|b[f>>2]))}return a=g+4|0,b[n>>2]=b[a>>2],b[n+4>>2]=b[a+4>>2],b[n+8>>2]=b[a+8>>2],c=0|b[16880+(c<<2)>>2],Ha(n,l?3*c|0:c),Fa(o,n,o),Da(o),e=l&&((0|b[k>>2])+(0|b[o>>2])+(0|b[j>>2])|0)==(0|m)?1:2,T=p,0|(o=e)}function pb(a,b){a|=0,b|=0;var c=0;do{c=0|ob(a,b,0,1)}while(2==(0|c));return 0|c}function qb(a,c,d,f,g){a|=0,c|=0,d|=0,f|=0,g|=0;var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,h=0,i=0,j=0,C=0,D=0;if(B=T,T=T+240|0,x=B+208|0,y=B,z=B+192|0,A=B+176|0,s=B+160|0,t=B+144|0,u=B+128|0,v=B+112|0,w=B+96|0,b[(h=B+224|0)>>2]=c,b[x>>2]=b[a>>2],b[x+4>>2]=b[a+4>>2],b[x+8>>2]=b[a+8>>2],b[x+12>>2]=b[a+12>>2],rb(x,h,y),b[g>>2]=0,(0|(r=f+d+(6==(0|f)&1)|0))<=(0|d))T=B;else{l=d+6|0,m=16960+((k=0|b[h>>2])<<2)|0,n=t+8|0,o=u+8|0,p=v+8|0,q=z+4|0,i=0,j=d,f=-1;a:for(;;){if(a=y+((h=(0|j)%6|0)<<4)|0,b[z>>2]=b[a>>2],b[z+4>>2]=b[a+4>>2],b[z+8>>2]=b[a+8>>2],b[z+12>>2]=b[a+12>>2],a=i,i=0|ob(z,k,0,1),(0|j)>(0|d)&0!=(0|Lb(c))&&(1!=(0|a)&&(0|b[z>>2])!=(0|f))){switch(Ea(y+(((h+5|0)%6|0)<<4)+4|0,A),Ea(y+(h<<4)+4|0,s),C=+(0|b[m>>2]),e[t>>3]=3*C,e[n>>3]=0,D=-1.5*C,e[u>>3]=D,e[o>>3]=2.598076211353316*C,e[v>>3]=D,e[p>>3]=-2.598076211353316*C,h=0|b[x>>2],0|b[17040+(80*h|0)+(((0|f)==(0|h)?0|b[z>>2]:f)<<2)>>2]){case 1:a=u,f=t;break;case 3:a=v,f=u;break;case 2:a=t,f=v;break;default:a=8;break a}Qc(A,s,f,a,w),0|Rc(A,w)||0|Rc(s,w)||(kb(w,0|b[x>>2],k,1,g+8+(b[g>>2]<<4)|0),b[g>>2]=1+(0|b[g>>2]))}if((0|j)<(0|l)&&(Ea(q,A),kb(A,0|b[z>>2],k,1,g+8+(b[g>>2]<<4)|0),b[g>>2]=1+(0|b[g>>2])),(0|(j=j+1|0))>=(0|r)){a=3;break}f=0|b[z>>2]}3!=(0|a)?8==(0|a)&&I(22606,22569,736,22651):T=B}}function rb(a,c,d){a|=0,c|=0,d|=0;var j,e=0,f=0,g=0,h=0,i=0;j=T,T=T+160|0,f=j,h=20368,i=(g=e=j+80|0)+72|0;do{b[g>>2]=b[h>>2],g=g+4|0,h=h+4|0}while((0|g)<(0|i));h=20448,i=(g=f)+72|0;do{b[g>>2]=b[h>>2],g=g+4|0,h=h+4|0}while((0|g)<(0|i));e=(i=0==(0|Lb(0|b[c>>2])))?e:f,Ua(f=a+4|0),Va(f),0|Lb(0|b[c>>2])&&(Oa(f),b[c>>2]=1+(0|b[c>>2])),b[d>>2]=b[a>>2],Fa(f,e,c=d+4|0),Da(c),b[d+16>>2]=b[a>>2],Fa(f,e+12|0,c=d+20|0),Da(c),b[d+32>>2]=b[a>>2],Fa(f,e+24|0,c=d+36|0),Da(c),b[d+48>>2]=b[a>>2],Fa(f,e+36|0,c=d+52|0),Da(c),b[d+64>>2]=b[a>>2],Fa(f,e+48|0,c=d+68|0),Da(c),b[d+80>>2]=b[a>>2],Fa(f,e+60|0,d=d+84|0),Da(d),T=j}function tb(a,b){return b=0|vd(0|(a|=0),0|(b|=0),45),H(),127&b|0}function ub(a,b){var c=0,d=0,e=0,f=0,g=0,h=0;if(!(!0&134217728==(-16777216&(b|=0)|0)))return 0|(b=0);if(g=0|vd(0|(a|=0),0|b,45),H(),(g&=127)>>>0>121)return 0|(b=0);c=0|vd(0|a,0|b,52),H(),c&=15;do{if(0|c){for(e=1,d=0;;){if(f=0|vd(0|a,0|b,3*(15-e|0)|0),H(),0!=(0|(f&=7))&(1^d)){if(1==(0|f)&0!=(0|ma(g))){h=0,d=13;break}d=1}if(7==(0|f)){h=0,d=13;break}if(!(e>>>0<c>>>0)){d=9;break}e=e+1|0}if(9==(0|d)){if(15!=(0|c))break;return 0|(h=1)}if(13==(0|d))return 0|h}}while(0);for(;;){if(h=0|vd(0|a,0|b,3*(14-c|0)|0),H(),!(7==(7&h|0)&!0)){h=0,d=13;break}if(!(c>>>0<14)){h=1,d=13;break}c=c+1|0}return 13==(0|d)?0|h:0}function vb(a,c,d,e){d|=0,e|=0;var f=0,g=0;if(g=0|vd(0|(a|=0),0|(c|=0),52),H(),d>>>0>15)return 0|(e=4);if((0|(g&=15))<(0|d))return 0|(e=12);if((0|g)==(0|d))return b[e>>2]=a,b[e+4>>2]=c,0|(e=0);if(f=0|wd(0|d,0,52),f|=a,a=0|H()|-15728641&c,(0|g)>(0|d))do{c=0|wd(7,0,3*(14-d|0)|0),d=d+1|0,f|=c,a=0|H()|a}while((0|d)<(0|g));return b[e>>2]=f,b[e+4>>2]=a,0|(e=0)}function wb(a,c,d,e){d|=0,e|=0;var f=0,g=0,h=0;if(g=0|vd(0|(a|=0),0|(c|=0),52),H(),!((0|d)<16&(0|(g&=15))<=(0|d)))return 0|(e=4);f=d-g|0,d=0|vd(0|a,0|c,45),H();a:do{if(0|ma(127&d)){b:do{if(0|g){for(d=1;0==((h=0|wd(7,0,3*(15-d|0)|0))&a|0)&0==((0|H())&c|0);){if(!(d>>>0<g>>>0))break b;d=d+1|0}d=0|Cc(7,0,f,((0|f)<0)<<31>>31),f=0|H();break a}}while(0);d=0|ld(0|(d=0|rd(0|(d=0|Cc(7,0,f,((0|f)<0)<<31>>31)),0|H(),5,0)),0|H(),-5,-1),d=0|ld(0|(d=0|pd(0|d,0|H(),6,0)),0|H(),1,0),f=0|H()}else d=0|Cc(7,0,f,((0|f)<0)<<31>>31),f=0|H()}while(0);return b[(h=e)>>2]=d,b[h+4>>2]=f,0|(h=0)}function xb(a,b){var c=0,d=0,e=0;if(e=0|vd(0|(a|=0),0|(b|=0),45),H(),!(0|ma(127&e)))return 0|(e=0);e=0|vd(0|a,0|b,52),H(),e&=15;a:do{if(e)for(d=1;;){if(c=0|vd(0|a,0|b,3*(15-d|0)|0),H(),0|(c&=7))break a;if(!(d>>>0<e>>>0)){c=0;break}d=d+1|0}else c=0}while(0);return 0|(e=0==(0|c)&1)}function Fb(a,b){var c=0,d=0,e=0;if(e=0|vd(0|(a|=0),0|(b|=0),52),H(),!(e&=15))return 0|(e=0);for(d=1;;){if(c=0|vd(0|a,0|b,3*(15-d|0)|0),H(),0|(c&=7)){d=5;break}if(!(d>>>0<e>>>0)){c=0,d=5;break}d=d+1|0}return 5==(0|d)?0|c:0}function Gb(a,b){var c=0,d=0,e=0,f=0,g=0,h=0,i=0;if(i=0|vd(0|(a|=0),0|(b|=0),52),H(),!(i&=15))return i=a,G(0|(h=b)),0|i;for(h=1,c=0;;){d=0|wd(7,0,0|(f=3*(15-h|0)|0)),e=0|H(),g=0|vd(0|a,0|b,0|f),H(),a=(f=0|wd(0|Sa(7&g),0,0|f))|a&~d,b=(g=0|H())|b&~e;a:do{if(!c)if(0==(f&d|0)&0==(g&e|0))c=0;else if(d=0|vd(0|a,0|b,52),H(),d&=15){c=1;b:for(;;){switch(g=0|vd(0|a,0|b,3*(15-c|0)|0),H(),7&g){case 1:break b;case 0:break;default:c=1;break a}if(!(c>>>0<d>>>0)){c=1;break a}c=c+1|0}for(c=1;;){if(e=0|vd(0|a,0|b,0|(g=3*(15-c|0)|0)),H(),f=0|wd(7,0,0|g),b&=~(0|H()),a=a&~f|(g=0|wd(0|Sa(7&e),0,0|g)),b=0|b|H(),!(c>>>0<d>>>0)){c=1;break}c=c+1|0}}else c=1}while(0);if(!(h>>>0<i>>>0))break;h=h+1|0}return G(0|b),0|a}function Hb(a,b){var c=0,d=0,e=0,f=0,g=0;if(d=0|vd(0|(a|=0),0|(b|=0),52),H(),!(d&=15))return d=a,G(0|(c=b)),0|d;for(c=1;g=0|vd(0|a,0|b,0|(f=3*(15-c|0)|0)),H(),e=0|wd(7,0,0|f),b&=~(0|H()),a=(f=0|wd(0|Sa(7&g),0,0|f))|a&~e,b=0|H()|b,c>>>0<d>>>0;)c=c+1|0;return G(0|b),0|a}function Ib(a,b){var c=0,d=0,e=0,f=0,g=0,h=0,i=0;if(i=0|vd(0|(a|=0),0|(b|=0),52),H(),!(i&=15))return i=a,G(0|(h=b)),0|i;for(h=1,c=0;;){d=0|wd(7,0,0|(f=3*(15-h|0)|0)),e=0|H(),g=0|vd(0|a,0|b,0|f),H(),a=(f=0|wd(0|Ta(7&g),0,0|f))|a&~d,b=(g=0|H())|b&~e;a:do{if(!c)if(0==(f&d|0)&0==(g&e|0))c=0;else if(d=0|vd(0|a,0|b,52),H(),d&=15){c=1;b:for(;;){switch(g=0|vd(0|a,0|b,3*(15-c|0)|0),H(),7&g){case 1:break b;case 0:break;default:c=1;break a}if(!(c>>>0<d>>>0)){c=1;break a}c=c+1|0}for(c=1;;){if(f=0|wd(7,0,0|(e=3*(15-c|0)|0)),g=b&~(0|H()),b=0|vd(0|a,0|b,0|e),H(),a=a&~f|(b=0|wd(0|Ta(7&b),0,0|e)),b=0|g|H(),!(c>>>0<d>>>0)){c=1;break}c=c+1|0}}else c=1}while(0);if(!(h>>>0<i>>>0))break;h=h+1|0}return G(0|b),0|a}function Jb(a,b){var c=0,d=0,e=0,f=0,g=0;if(d=0|vd(0|(a|=0),0|(b|=0),52),H(),!(d&=15))return d=a,G(0|(c=b)),0|d;for(c=1;f=0|wd(7,0,0|(g=3*(15-c|0)|0)),e=b&~(0|H()),b=0|vd(0|a,0|b,0|g),H(),a=(b=0|wd(0|Ta(7&b),0,0|g))|a&~f,b=0|H()|e,c>>>0<d>>>0;)c=c+1|0;return G(0|b),0|a}function Lb(a){return 0|(0|(a|=0))%2}function Mb(a,c,d){d|=0;var f,e=0;return f=T,T=T+16|0,e=f,(c|=0)>>>0>15?(T=f,0|(e=4)):2146435072==(2146435072&b[(a|=0)+4>>2]|0)||2146435072==(2146435072&b[a+8+4>>2]|0)?(T=f,0|(e=3)):(function hb(a,b,c){var d,e;d=T,T=T+16|0,ib(a|=0,b|=0,c|=0,e=d),Ca(e,c+4|0),T=d}(a,c,e),c=0|function Kb(a,c){a|=0;var j,d=0,e=0,f=0,g=0,h=0,i=0,k=0,l=0;if(j=T,T=T+64|0,i=j+40|0,e=j+24|0,f=j+12|0,g=j,wd(0|(c|=0),0,52),d=134225919|H(),!c)return(0|b[a+4>>2])>2||(0|b[a+8>>2])>2||(0|b[a+12>>2])>2?(i=0,G(0|(h=0)),T=j,0|i):(wd(0|oa(a),0,45),h=0|H()|d,i=-1,G(0|h),T=j,0|i);if(b[i>>2]=b[a>>2],b[i+4>>2]=b[a+4>>2],b[i+8>>2]=b[a+8>>2],b[i+12>>2]=b[a+12>>2],h=i+4|0,(0|c)>0)for(a=-1;b[e>>2]=b[h>>2],b[e+4>>2]=b[h+4>>2],b[e+8>>2]=b[h+8>>2],1&c?(La(h),b[f>>2]=b[h>>2],b[f+4>>2]=b[h+4>>2],b[f+8>>2]=b[h+8>>2],Na(f)):(Ma(h),b[f>>2]=b[h>>2],b[f+4>>2]=b[h+4>>2],b[f+8>>2]=b[h+8>>2],Oa(f)),Ga(e,f,g),Da(g),k=0|wd(7,0,0|(l=3*(15-c|0)|0)),d&=~(0|H()),a=(l=0|wd(0|Ia(g),0,0|l))|a&~k,d=0|H()|d,(0|c)>1;)c=c+-1|0;else a=-1;a:do{if((0|b[h>>2])<=2&&(0|b[i+8>>2])<=2&&(0|b[i+12>>2])<=2){if(c=0|wd(0|(e=0|oa(i)),0,45),c|=a,a=0|H()|-1040385&d,g=0|pa(i),!(0|ma(e))){if((0|g)<=0)break;for(f=0;;){if(e=0|vd(0|c,0|a,52),H(),e&=15)for(d=1;i=0|vd(0|c,0|a,0|(l=3*(15-d|0)|0)),H(),k=0|wd(7,0,0|l),a&=~(0|H()),c=c&~k|(l=0|wd(0|Sa(7&i),0,0|l)),a=0|a|H(),d>>>0<e>>>0;)d=d+1|0;if((0|(f=f+1|0))==(0|g))break a}}f=0|vd(0|c,0|a,52),H(),f&=15;b:do{if(f){d=1;c:for(;;){switch(l=0|vd(0|c,0|a,3*(15-d|0)|0),H(),7&l){case 1:break c;case 0:break;default:break b}if(!(d>>>0<f>>>0))break b;d=d+1|0}if(0|sa(e,0|b[i>>2]))for(d=1;k=0|wd(7,0,0|(i=3*(15-d|0)|0)),l=a&~(0|H()),a=0|vd(0|c,0|a,0|i),H(),c=c&~k|(a=0|wd(0|Ta(7&a),0,0|i)),a=0|l|H(),d>>>0<f>>>0;)d=d+1|0;else for(d=1;i=0|vd(0|c,0|a,0|(l=3*(15-d|0)|0)),H(),k=0|wd(7,0,0|l),a&=~(0|H()),c=c&~k|(l=0|wd(0|Sa(7&i),0,0|l)),a=0|a|H(),d>>>0<f>>>0;)d=d+1|0}}while(0);if((0|g)>0){d=0;do{c=0|Gb(c,a),a=0|H(),d=d+1|0}while((0|d)!=(0|g))}}else c=0,a=0}while(0);return l=c,G(0|(k=a)),T=j,0|l}(e,c),e=0|H(),b[d>>2]=c,b[d+4>>2]=e,0==(0|c)&0==(0|e)&&I(23313,22674,786,22697),T=f,0|(e=0))}function Nb(a,c,d){var f,e=0,g=0,h=0;if(f=(d|=0)+4|0,g=0|vd(0|(a|=0),0|(c|=0),52),H(),g&=15,h=0|vd(0|a,0|c,45),H(),e=0==(0|g),0|ma(127&h)){if(e)return 0|(h=1);e=1}else{if(e)return 0|(h=0);e=0==(0|b[f>>2])&&0==(0|b[d+8>>2])?0!=(0|b[d+12>>2])&1:1}for(d=1;1&d?Na(f):Oa(f),h=0|vd(0|a,0|c,3*(15-d|0)|0),H(),Pa(f,7&h),d>>>0<g>>>0;)d=d+1|0;return 0|e}function Ob(a,c,d){d|=0;var j,l,e=0,f=0,g=0,h=0,i=0,k=0;if(l=T,T=T+16|0,j=l,k=0|vd(0|(a|=0),0|(c|=0),45),H(),(k&=127)>>>0>121)return b[d>>2]=0,b[d+4>>2]=0,b[d+8>>2]=0,b[d+12>>2]=0,T=l,0|(k=5);a:do{if(0!=(0|ma(k))&&(g=0|vd(0|a,0|c,52),H(),0!=(0|(g&=15)))){e=1;b:for(;;){switch(i=0|vd(0|a,0|c,3*(15-e|0)|0),H(),7&i){case 5:break b;case 0:break;default:e=c;break a}if(!(e>>>0<g>>>0)){e=c;break a}e=e+1|0}for(f=1,e=c;h=0|wd(7,0,0|(c=3*(15-f|0)|0)),i=e&~(0|H()),e=0|vd(0|a,0|e,0|c),H(),a=a&~h|(e=0|wd(0|Ta(7&e),0,0|c)),e=0|i|H(),f>>>0<g>>>0;)f=f+1|0}else e=c}while(0);if(i=7696+(28*k|0)|0,b[d>>2]=b[i>>2],b[d+4>>2]=b[i+4>>2],b[d+8>>2]=b[i+8>>2],b[d+12>>2]=b[i+12>>2],!(0|Nb(a,e,d)))return T=l,0|(k=0);if(h=d+4|0,b[j>>2]=b[h>>2],b[j+4>>2]=b[h+4>>2],b[j+8>>2]=b[h+8>>2],g=0|vd(0|a,0|e,52),H(),i=15&g,1&g?(Oa(h),g=i+1|0):g=i,0|ma(k)){c:do{if(i)for(c=1;;){if(f=0|vd(0|a,0|e,3*(15-c|0)|0),H(),0|(f&=7)){e=f;break c}if(!(c>>>0<i>>>0)){e=0;break}c=c+1|0}else e=0}while(0);e=4==(0|e)&1}else e=0;if(0|ob(d,g,e,0)){if(0|ma(k))do{}while(0!=(0|ob(d,g,0,0)));(0|g)!=(0|i)&&Ma(h)}else(0|g)!=(0|i)&&(b[h>>2]=b[j>>2],b[h+4>>2]=b[j+4>>2],b[h+8>>2]=b[j+8>>2]);return T=l,0|(k=0)}function Pb(a,b,c){c|=0;var d,f,e=0;return f=T,T=T+16|0,0|(e=0|Ob(a|=0,b|=0,d=f))?(T=f,0|e):(e=0|vd(0|a,0|b,52),H(),lb(d,15&e,c),T=f,0|(e=0))}function Qb(a,b,c){c|=0;var g,d=0,e=0,f=0;if(g=T,T=T+16|0,0|(d=0|Ob(a|=0,b|=0,f=g)))return T=g,0|(f=d);d=0|vd(0|a,0|b,45),H(),d=0==(0|ma(127&d)),e=0|vd(0|a,0|b,52),H(),e&=15;a:do{if(!d){if(0|e)for(d=1;;){if(!(0==((0|wd(7,0,3*(15-d|0)|0))&a|0)&0==((0|H())&b|0)))break a;if(!(d>>>0<e>>>0))break;d=d+1|0}return mb(f,e,0,5,c),T=g,0|0}}while(0);return qb(f,e,0,6,c),T=g,0|0}function Ub(a,c){c|=0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0;if((a|=0)>>>0>15)return 0|(i=4);if(wd(0|a,0,52),i=134225919|H(),!a){d=0,e=0;do{0|ma(e)&&(wd(0|e,0,45),h=0|i|H(),b[(a=c+(d<<3)|0)>>2]=-1,b[a+4>>2]=h,d=d+1|0),e=e+1|0}while(122!=(0|e));return 0|(d=0)}d=0,h=0;do{if(0|ma(h)){for(wd(0|h,0,45),e=1,f=-1,g=0|i|H();f&=~(j=0|wd(7,0,3*(15-e|0)|0)),g&=~(0|H()),(0|e)!=(0|a);)e=e+1|0;b[(j=c+(d<<3)|0)>>2]=f,b[j+4>>2]=g,d=d+1|0}h=h+1|0}while(122!=(0|h));return 0|(d=0)}function Xb(a,c,d,e){a|=0,e|=0;var f=0,g=0;f=0|vd(0|(c|=0),0|(d|=0),52),H(),0==(0|c)&0==(0|d)|(0|e)>15|(0|(f&=15))>(0|e)?(e=-1,f=-1,c=0,d=0):(g=0|function zb(a,b,c,d){return a|=0,b|=0,(0|(d|=0))<(0|(c|=0))?(d=a,G(0|(c=b)),0|d):(c=0|wd(-1,-1,3+(3*(d-c|0)|0)|0),d=0|wd(0|~c,0|~(0|H()),3*(15-d|0)|0),c=~(0|H())&b,d=~d&a,G(0|c),0|d)}(c,d,f+1|0,e),d=-15728641&(0|H()),c=0|wd(0|e,0,52),e=(g=0==(0|xb(c|=g,d=0|d|H())))?-1:e),b[(g=a)>>2]=c,b[g+4>>2]=d,b[a+8>>2]=f,b[a+12>>2]=e}function Yb(a){var j,c=0,d=0,e=0,f=0,g=0,h=0,i=0,k=0;if(!(0==(0|(c=0|b[(d=a|=0)>>2]))&0==(0|(d=0|b[d+4>>2]))||(e=0|vd(0|c,0|d,52),H(),c=0|ld(0|(i=0|wd(1,0,3*(15^(e&=15))|0)),0|H(),0|c,0|d),d=0|H(),b[(i=a)>>2]=c,b[i+4>>2]=d,(0|e)<(0|(h=0|b[(i=a+8|0)>>2]))))){for(j=a+12|0,g=e;;){if((0|g)==(0|h)){e=5;break}if(k=(0|g)==(0|b[j>>2]),e=0|vd(0|c,0|d,0|(f=3*(15-g|0)|0)),H(),k&1==(0|(e&=7))&!0){e=7;break}if(!(7==(0|e)&!0)){e=10;break}if(c=0|ld(0|c,0|d,0|(k=0|wd(1,0,0|f)),0|H()),d=0|H(),b[(k=a)>>2]=c,b[k+4>>2]=d,!((0|g)>(0|h))){e=10;break}g=g+-1|0}if(5==(0|e))return b[(k=a)>>2]=0,b[k+4>>2]=0,b[i>>2]=-1,void(b[j>>2]=-1);if(7==(0|e))return h=0|ld(0|c,0|d,0|(h=0|wd(1,0,0|f)),0|H()),i=0|H(),b[(k=a)>>2]=h,b[k+4>>2]=i,void(b[j>>2]=g+-1)}}function Zb(a){var b;return b=(a=+a)<0?a+6.283185307179586:a,+(a>=6.283185307179586?b+-6.283185307179586:b)}function _b(a,b){return b|=0,+q(+(+e[(a|=0)>>3]-+e[b>>3]))<17453292519943298e-27?0|(b=+q(+(+e[a+8>>3]-+e[b+8>>3]))<17453292519943298e-27):0|(b=0)}function ac(a,b){a|=0;var d,f,g,c=0;return f=+e[(b|=0)>>3],d=+e[a>>3],c=(g=+u(.5*(f-d)))*g+(c=+u(.5*(+e[b+8>>3]-+e[a+8>>3])))*(+t(+f)*+t(+d)*c),2*+z(+ +r(+c),+ +r(+(1-c)))*6371.007180918475}function ic(a,c){c|=0;var d=0;return(a|=0)>>>0>15?0|(c=4):(d=0|rd(0|(d=0|Cc(7,0,a,((0|a)<0)<<31>>31)),0|H(),120,0),a=0|H(),b[c>>2]=2|d,b[c+4>>2]=a,0|(c=0))}function jc(a,b,c){a|=0,c|=0;var i,k,l,m,d=0,f=0,g=0,h=0,j=0,n=0;return n=+e[(b|=0)>>3],l=+e[a>>3],j=+u(.5*(n-l)),g=+e[b+8>>3],k=+e[a+8>>3],h=+u(.5*(g-k)),i=+t(+l),m=+t(+n),h=2*+z(+ +r(+(h=j*j+h*(m*i*h))),+ +r(+(1-h))),j=+e[c>>3],n=+u(.5*(j-n)),d=+e[c+8>>3],g=+u(.5*(d-g)),f=+t(+j),g=2*+z(+ +r(+(g=n*n+g*(m*f*g))),+ +r(+(1-g))),j=+u(.5*(l-j)),d=+u(.5*(k-d)),d=2*+z(+ +r(+(d=j*j+d*(i*f*d))),+ +r(+(1-d))),4*+y(+ +r(+ +v(.5*(f=.5*(h+g+d)))*+v(.5*(f-h))*+v(.5*(f-g))*+v(.5*(f-d))))}function kc(a,c,d){d|=0;var h,i,j,f=0,g=0;if(j=T,T=T+192|0,i=j,0|(g=0|Pb(a|=0,c|=0,h=j+168|0)))return T=j,0|(d=g);if(0|Qb(a,c,i)&&I(23313,22742,386,22751),(0|(c=0|b[i>>2]))>0){if(f=+jc(i+8|0,i+8+((1!=(0|c)&1)<<4)|0,h)+0,1!=(0|c)){a=1;do{f+=+jc(i+8+((g=a)<<4)|0,i+8+(((0|(a=a+1|0))%(0|c)|0)<<4)|0,h)}while((0|a)<(0|c))}}else f=0;return e[d>>3]=f,T=j,0|(d=0)}function qc(a){a|=0;var c,d,e=0;return(c=0|kd(1,12))||I(22832,22787,49,22845),0|(e=0|b[(d=a+4|0)>>2])?(b[(e=e+8|0)>>2]=c,b[d>>2]=c,0|c):(0|b[a>>2]&&I(22862,22787,61,22885),b[(e=a)>>2]=c,b[d>>2]=c,0|c)}function rc(a,c){a|=0,c|=0;var d,e;return(e=0|id(24))||I(22899,22787,78,22913),b[e>>2]=b[c>>2],b[e+4>>2]=b[c+4>>2],b[e+8>>2]=b[c+8>>2],b[e+12>>2]=b[c+12>>2],b[e+16>>2]=0,0|(d=0|b[(c=a+4|0)>>2])?(b[d+16>>2]=e,b[c>>2]=e,0|e):(0|b[a>>2]&&I(22928,22787,82,22913),b[a>>2]=e,b[c>>2]=e,0|e)}function sc(a){var c=0,d=0,e=0,f=0;if(a|=0)for(e=1;;){if(0|(c=0|b[a>>2]))do{if(0|(d=0|b[c>>2]))do{f=d,d=0|b[d+16>>2],jd(f)}while(0!=(0|d));f=c,c=0|b[c+8>>2],jd(f)}while(0!=(0|c));if(c=a,a=0|b[a+8>>2],e||jd(c),!a)break;e=0}}function tc(a){var G,H,c=0,d=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,J=0,K=0;if(0|b[(g=(a|=0)+8|0)>>2])return 0|(K=1);if(!(f=0|b[a>>2]))return 0|(K=0);c=f,d=0;do{d=d+1|0,c=0|b[c+8>>2]}while(0!=(0|c));if(d>>>0<2)return 0|(K=0);(H=0|id(d<<2))||I(22948,22787,317,22967),(G=0|id(d<<5))||I(22989,22787,321,22967),b[a>>2]=0,b[(z=a+4|0)>>2]=0,b[g>>2]=0,d=0,F=0,y=0,n=0;a:for(;;){if(m=0|b[f>>2]){h=0,i=m;do{if(k=+e[i+8>>3],c=i,i=0|b[i+16>>2],j=+e[(g=(l=0==(0|i))?m:i)+8>>3],+q(+(k-j))>3.141592653589793){K=14;break}h+=(j-k)*(+e[c>>3]+ +e[g>>3])}while(!l);if(14==(0|K)){K=0,h=0,c=m;do{x=+e[c+8>>3],D=0|b[(E=c+16|0)>>2],w=+e[(D=0==(0|D)?m:D)+8>>3],h+=(+e[c>>3]+ +e[D>>3])*((w<0?w+6.283185307179586:w)-(x<0?x+6.283185307179586:x)),c=0|b[(0==(0|c)?f:E)>>2]}while(0!=(0|c))}h>0?(b[H+(F<<2)>>2]=f,F=F+1|0,g=y,c=n):K=19}else K=19;if(19==(0|K)){K=0;do{if(!d){if(n){g=z,i=n+8|0,c=f,d=a;break}if(0|b[a>>2]){K=27;break a}g=z,i=a,c=f,d=a;break}if(0|b[(c=d+8|0)>>2]){K=21;break a}if(!(d=0|kd(1,12))){K=23;break a}b[c>>2]=d,g=d+4|0,i=d,c=n}while(0);if(b[i>>2]=f,b[g>>2]=f,i=G+(y<<5)|0,l=0|b[f>>2]){for(e[(m=G+(y<<5)+8|0)>>3]=17976931348623157e292,e[(n=G+(y<<5)+24|0)>>3]=17976931348623157e292,e[i>>3]=-17976931348623157e292,e[(o=G+(y<<5)+16|0)>>3]=-17976931348623157e292,u=17976931348623157e292,v=-17976931348623157e292,g=0,p=l,k=17976931348623157e292,s=17976931348623157e292,t=-17976931348623157e292,j=-17976931348623157e292;h=+e[p>>3],x=+e[p+8>>3],p=0|b[p+16>>2],w=+e[((r=0==(0|p))?l:p)+8>>3],h<k&&(e[m>>3]=h,k=h),x<s&&(e[n>>3]=x,s=x),h>t?e[i>>3]=h:h=t,x>j&&(e[o>>3]=x,j=x),u=x>0&x<u?x:u,v=x<0&x>v?x:v,g|=+q(+(x-w))>3.141592653589793,!r;)t=h;g&&(e[o>>3]=v,e[n>>3]=u)}else b[i>>2]=0,b[i+4>>2]=0,b[i+8>>2]=0,b[i+12>>2]=0,b[i+16>>2]=0,b[i+20>>2]=0,b[i+24>>2]=0,b[i+28>>2]=0;g=y+1|0}if(f=0|b[(E=f+8|0)>>2],b[E>>2]=0,!f){K=45;break}y=g,n=c}if(21==(0|K))I(22765,22787,35,22799);else if(23==(0|K))I(22819,22787,37,22799);else if(27==(0|K))I(22862,22787,61,22885);else if(45==(0|K)){b:do{if((0|F)>0){for(E=0==(0|g),C=g<<2,D=0==(0|a),B=0,c=0;;){if(A=0|b[H+(B<<2)>>2],E)K=73;else{if(!(y=0|id(C))){K=50;break}if(!(z=0|id(C))){K=52;break}c:do{if(D)d=0;else{for(g=0,d=0,i=a;f=G+(g<<5)|0,0|uc(0|b[i>>2],f,0|b[A>>2])?(b[y+(d<<2)>>2]=i,b[z+(d<<2)>>2]=f,r=d+1|0):r=d,i=0|b[i+8>>2];)g=g+1|0,d=r;if((0|r)>0)if(f=0|b[y>>2],1==(0|r))d=f;else for(o=0,p=-1,d=f,n=f;;){for(l=0|b[n>>2],f=0,i=0;m=(0|(g=0|b[b[y+(i<<2)>>2]>>2]))==(0|l)?f:f+(1&(0|uc(g,0|b[z+(i<<2)>>2],0|b[l>>2])))|0,(0|(i=i+1|0))!=(0|r);)f=m;if(d=(g=(0|m)>(0|p))?n:d,(0|(f=o+1|0))==(0|r))break c;o=f,p=g?m:p,n=0|b[y+(f<<2)>>2]}else d=0}}while(0);if(jd(y),jd(z),d){if(f=0|b[(g=d+4|0)>>2])d=f+8|0;else if(0|b[d>>2]){K=70;break}b[d>>2]=A,b[g>>2]=A}else K=73}if(73==(0|K)){if(K=0,0|(c=0|b[A>>2]))do{z=c,c=0|b[c+16>>2],jd(z)}while(0!=(0|c));jd(A),c=1}if((0|(B=B+1|0))>=(0|F)){J=c;break b}}50==(0|K)?I(23004,22787,249,23023):52==(0|K)?I(23042,22787,252,23023):70==(0|K)&&I(22862,22787,61,22885)}else J=0}while(0);return jd(H),jd(G),0|(K=J)}return 0}function uc(a,c,d){a|=0;var f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0;if(!(0|ya(c|=0,d|=0)))return 0|(a=0);if(c=0|xa(c),f=+e[d>>3],g=c&(g=+e[d+8>>3])<0?g+6.283185307179586:g,!(a=0|b[a>>2]))return 0|(a=0);if(c){c=0,l=g,d=a;a:for(;;){for(;i=+e[d>>3],g=+e[d+8>>3],m=0|b[(d=d+16|0)>>2],h=+e[(m=0==(0|m)?a:m)>>3],j=+e[m+8>>3],i>h?(k=i,i=j):(k=h,h=i,i=g,g=j),(f=f==h|f==k?f+2220446049250313e-31:f)<h|f>k;)if(!(d=0|b[d>>2])){d=22;break a}if(((k=(j=i<0?i+6.283185307179586:i)+(f-h)/(k-h)*((i=g<0?g+6.283185307179586:g)-j))<0?k+6.283185307179586:k)>(l=j==l|i==l?l+-2220446049250313e-31:l)&&(c^=1),!(d=0|b[d>>2])){d=22;break}}if(22==(0|d))return 0|c}else{c=0,l=g,d=a;b:for(;;){for(;i=+e[d>>3],g=+e[d+8>>3],m=0|b[(d=d+16|0)>>2],h=+e[(m=0==(0|m)?a:m)>>3],j=+e[m+8>>3],i>h?(k=i,i=j):(k=h,h=i,i=g,g=j),(f=f==h|f==k?f+2220446049250313e-31:f)<h|f>k;)if(!(d=0|b[d>>2])){d=22;break b}if(i+(f-h)/(k-h)*(g-i)>(l=i==l|g==l?l+-2220446049250313e-31:l)&&(c^=1),!(d=0|b[d>>2])){d=22;break}}if(22==(0|d))return 0|c}return 0}function vc(c,d,e,f,g){e|=0,f|=0,g|=0;var n,o,s,u,h=0,i=0,j=0,k=0,l=0,m=0,p=0,q=0,r=0,t=0;if(u=T,T=T+32|0,t=u+16|0,s=u,h=0|vd(0|(c|=0),0|(d|=0),52),H(),h&=15,p=0|vd(0|e,0|f,52),H(),(0|h)!=(15&p|0))return T=u,0|(t=12);if(l=0|vd(0|c,0|d,45),H(),l&=127,m=0|vd(0|e,0|f,45),H(),l>>>0>121|(m&=127)>>>0>121)return T=u,0|(t=5);if(p=(0|l)!=(0|m)){if(7==(0|(j=0|ua(l,m))))return T=u,0|(t=1);7==(0|(k=0|ua(m,l)))?I(23066,23090,161,23100):(q=j,i=k)}else q=0,i=0;n=0|ma(l),o=0|ma(m),b[t>>2]=0,b[t+4>>2]=0,b[t+8>>2]=0,b[t+12>>2]=0;do{if(q){if(j=(0|(m=0|b[4272+(28*l|0)+(q<<2)>>2]))>0,o)if(j){l=0,k=e,j=f;do{k=0|Ib(k,j),j=0|H(),1==(0|(i=0|Ta(i)))&&(i=0|Ta(1)),l=l+1|0}while((0|l)!=(0|m));m=i,l=k,k=j}else m=i,l=e,k=f;else if(j){l=0,k=e,j=f;do{k=0|Jb(k,j),j=0|H(),i=0|Ta(i),l=l+1|0}while((0|l)!=(0|m));m=i,l=k,k=j}else m=i,l=e,k=f;if(Nb(l,k,t),p||I(23115,23090,191,23100),(j=0!=(0|n))&(i=0!=(0|o))&&I(23142,23090,192,23100),j){if(7==(0|(i=0|Fb(c,d)))){h=5;break}if(0|a[21872+(7*i|0)+q>>0]){h=1;break}l=k=0|b[21040+(28*i|0)+(q<<2)>>2]}else if(i){if(7==(0|(i=0|Fb(l,k)))){h=5;break}if(0|a[21872+(7*i|0)+m>>0]){h=1;break}l=0,k=0|b[21040+(28*m|0)+(i<<2)>>2]}else l=0,k=0;if((l|k|0)<0)h=5;else{if((0|k)>0){j=t+4|0,i=0;do{Ra(j),i=i+1|0}while((0|i)!=(0|k))}if(b[s>>2]=0,b[s+4>>2]=0,b[s+8>>2]=0,Pa(s,q),0|h)for(;0|Lb(h)?Na(s):Oa(s),(0|h)>1;)h=h+-1|0;if((0|l)>0){h=0;do{Ra(s),h=h+1|0}while((0|h)!=(0|l))}Fa(r=t+4|0,s,r),Da(r),r=51}}else if(Nb(e,f,t),0!=(0|n)&0!=(0|o))if((0|m)!=(0|l)&&I(23173,23090,261,23100),7==(0|(i=0|Fb(c,d)))|7==(0|(h=0|Fb(e,f))))h=5;else if(0|a[21872+(7*i|0)+h>>0])h=1;else if((0|(i=0|b[21040+(28*i|0)+(h<<2)>>2]))>0){j=t+4|0,h=0;do{Ra(j),h=h+1|0}while((0|h)!=(0|i));r=51}else r=51;else r=51}while(0);return 51==(0|r)&&(h=t+4|0,b[g>>2]=b[h>>2],b[g+4>>2]=b[h+4>>2],b[g+8>>2]=b[h+8>>2],h=0),T=u,0|(t=h)}function wc(a,c,d,e){d|=0,e|=0;var k,l,q,f=0,g=0,h=0,i=0,j=0,m=0,n=0,o=0,p=0,r=0,s=0,t=0,u=0;if(q=T,T=T+48|0,k=q+36|0,h=q+24|0,i=q+12|0,j=q,f=0|vd(0|(a|=0),0|(c|=0),52),H(),f&=15,n=0|vd(0|a,0|c,45),H(),(n&=127)>>>0>121)return T=q,0|(e=5);if(l=0|ma(n),wd(0|f,0,52),r=134225919|H(),b[(g=e)>>2]=-1,b[g+4>>2]=r,!f)return 7==(0|(f=0|Ia(d)))||127==(0|(f=0|ta(n,f)))?(T=q,0|(r=1)):(o=0|wd(0|f,0,45),p=0|H(),p=-1040385&b[(n=e)+4>>2]|p,b[(r=e)>>2]=b[n>>2]|o,b[r+4>>2]=p,T=q,0|(r=0));for(b[k>>2]=b[d>>2],b[k+4>>2]=b[d+4>>2],b[k+8>>2]=b[d+8>>2],d=f;;){if(g=d,d=d+-1|0,b[h>>2]=b[k>>2],b[h+4>>2]=b[k+4>>2],b[h+8>>2]=b[k+8>>2],0|Lb(g)){if(0|(f=0|Ja(k))){d=13;break}b[i>>2]=b[k>>2],b[i+4>>2]=b[k+4>>2],b[i+8>>2]=b[k+8>>2],Na(i)}else{if(0|(f=0|Ka(k))){d=13;break}b[i>>2]=b[k>>2],b[i+4>>2]=b[k+4>>2],b[i+8>>2]=b[k+8>>2],Oa(i)}if(Ga(h,i,j),Da(j),t=0|b[(f=e)>>2],f=0|b[f+4>>2],s=0|wd(7,0,0|(u=3*(15-g|0)|0)),f&=~(0|H()),u=0|wd(0|Ia(j),0,0|u),f=0|H()|f,b[(r=e)>>2]=u|t&~s,b[r+4>>2]=f,(0|g)<=1){d=14;break}}a:do{if(13!=(0|d)&&14==(0|d))if((0|b[k>>2])<=1&&(0|b[k+4>>2])<=1&&(0|b[k+8>>2])<=1){j=127==(0|(f=0|ta(n,d=0|Ia(k))))?0:0|ma(f);b:do{if(d){if(l){if(7==(0|(f=0|Fb(a,c)))){f=5;break a}if((0|(g=0|b[21248+(28*f|0)+(d<<2)>>2]))>0){f=d,d=0;do{f=0|Sa(f),d=d+1|0}while((0|d)!=(0|g))}else f=d;if(1==(0|f)){f=9;break a}127==(0|(d=0|ta(n,f)))&&I(23200,23090,411,23230),0|ma(d)?I(23245,23090,412,23230):(p=d,o=g,m=f)}else p=f,o=0,m=d;if((0|(i=0|b[4272+(28*n|0)+(m<<2)>>2]))<=-1&&I(23276,23090,419,23230),!j){if((0|o)<0){f=5;break a}if(0|o){f=0,d=0|b[(g=e)>>2],g=0|b[g+4>>2];do{d=0|Hb(d,g),g=0|H(),b[(u=e)>>2]=d,b[u+4>>2]=g,f=f+1|0}while((0|f)<(0|o))}if((0|i)<=0){f=p,d=58;break}for(f=0,d=0|b[(g=e)>>2],g=0|b[g+4>>2];;)if(d=0|Hb(d,g),g=0|H(),b[(u=e)>>2]=d,b[u+4>>2]=g,(0|(f=f+1|0))==(0|i)){f=p,d=58;break b}}if(7==(0|(h=0|ua(p,n)))&&I(23066,23090,428,23230),d=0|b[(f=e)>>2],f=0|b[f+4>>2],(0|i)>0){g=0;do{d=0|Hb(d,f),f=0|H(),b[(u=e)>>2]=d,b[u+4>>2]=f,g=g+1|0}while((0|g)!=(0|i))}if(7==(0|(f=0|Fb(d,f)))&&I(23313,23090,440,23230),d=0|na(p),(0|(d=0|b[(d?21664:21456)+(28*h|0)+(f<<2)>>2]))<0&&I(23313,23090,454,23230),d){f=0,g=0|b[(h=e)>>2],h=0|b[h+4>>2];do{g=0|Gb(g,h),h=0|H(),b[(u=e)>>2]=g,b[u+4>>2]=h,f=f+1|0}while((0|f)<(0|d));f=p,d=58}else f=p,d=58}else if(0!=(0|l)&0!=(0|j)){if(7==(0|(d=0|Fb(a,c)))|7==(0|(g=0|Fb(0|b[(g=e)>>2],0|b[g+4>>2])))){f=5;break a}if((0|(g=0|b[21248+(28*d|0)+(g<<2)>>2]))<0){f=5;break a}if(g){d=0,h=0|b[(i=e)>>2],i=0|b[i+4>>2];do{h=0|Hb(h,i),i=0|H(),b[(u=e)>>2]=h,b[u+4>>2]=i,d=d+1|0}while((0|d)<(0|g));d=58}else d=59}else d=58}while(0);if(58==(0|d)&&j&&(d=59),59==(0|d)&&1==(0|Fb(0|b[(u=e)>>2],0|b[u+4>>2]))){f=9;break}s=0|b[(u=e)>>2],u=-1040385&b[u+4>>2],t=0|wd(0|f,0,45),u=0|u|H(),b[(f=e)>>2]=s|t,b[f+4>>2]=u,f=0}else f=1}while(0);return T=q,0|(u=f)}function Cc(a,b,c,d){a|=0,b|=0;var e=0,f=0,g=0;if(0==(0|(c|=0))&0==(0|(d|=0)))return f=1,G(0|(e=0)),0|f;f=a,e=b,a=1,b=0;do{a=0|rd(0|((g=0==(1&c|0)&!0)?1:f),0|(g?0:e),0|a,0|b),b=0|H(),c=0|ud(0|c,0|d,1),d=0|H(),f=0|rd(0|f,0|e,0|f,0|e),e=0|H()}while(!(0==(0|c)&0==(0|d)));return G(0|b),0|a}function Dc(a,c,d){a|=0;var n,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,o=0;if(!(0|ya(c|=0,d|=0)))return 0|(o=0);if(c=0|xa(c),f=+e[d>>3],g=c&(g=+e[d+8>>3])<0?g+6.283185307179586:g,(0|(o=0|b[a>>2]))<=0)return 0|(o=0);if(n=0|b[a+4>>2],c){c=0,m=g,d=-1,a=0;a:for(;;){for(l=a;i=+e[n+(l<<4)>>3],g=+e[n+(l<<4)+8>>3],h=+e[n+((a=(d+2|0)%(0|o)|0)<<4)>>3],j=+e[n+(a<<4)+8>>3],i>h?(k=i,i=j):(k=h,h=i,i=g,g=j),(f=f==h|f==k?f+2220446049250313e-31:f)<h|f>k;){if((0|(d=l+1|0))>=(0|o)){d=22;break a}a=l,l=d,d=a}if(((k=(j=i<0?i+6.283185307179586:i)+(f-h)/(k-h)*((i=g<0?g+6.283185307179586:g)-j))<0?k+6.283185307179586:k)>(m=j==m|i==m?m+-2220446049250313e-31:m)&&(c^=1),(0|(a=l+1|0))>=(0|o)){d=22;break}d=l}if(22==(0|d))return 0|c}else{c=0,m=g,d=-1,a=0;b:for(;;){for(l=a;i=+e[n+(l<<4)>>3],g=+e[n+(l<<4)+8>>3],h=+e[n+((a=(d+2|0)%(0|o)|0)<<4)>>3],j=+e[n+(a<<4)+8>>3],i>h?(k=i,i=j):(k=h,h=i,i=g,g=j),(f=f==h|f==k?f+2220446049250313e-31:f)<h|f>k;){if((0|(d=l+1|0))>=(0|o)){d=22;break b}a=l,l=d,d=a}if(i+(f-h)/(k-h)*(g-i)>(m=i==m|g==m?m+-2220446049250313e-31:m)&&(c^=1),(0|(a=l+1|0))>=(0|o)){d=22;break}d=l}if(22==(0|d))return 0|c}return 0}function Ec(a,c){c|=0;var o,r,s,t,u,d=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,p=0,v=0;if(!(r=0|b[(a|=0)>>2]))return b[c>>2]=0,b[c+4>>2]=0,b[c+8>>2]=0,b[c+12>>2]=0,b[c+16>>2]=0,b[c+20>>2]=0,b[c+24>>2]=0,void(b[c+28>>2]=0);if(e[(s=c+8|0)>>3]=17976931348623157e292,e[(t=c+24|0)>>3]=17976931348623157e292,e[c>>3]=-17976931348623157e292,e[(u=c+16|0)>>3]=-17976931348623157e292,!((0|r)<=0)){for(o=0|b[a+4>>2],l=17976931348623157e292,m=-17976931348623157e292,n=0,a=-1,h=17976931348623157e292,i=17976931348623157e292,k=-17976931348623157e292,f=-17976931348623157e292,p=0;d=+e[o+(p<<4)>>3],j=+e[o+(p<<4)+8>>3],g=+e[o+(((0|(a=a+2|0))==(0|r)?0:a)<<4)+8>>3],d<h&&(e[s>>3]=d,h=d),j<i&&(e[t>>3]=j,i=j),d>k?e[c>>3]=d:d=k,j>f&&(e[u>>3]=j,f=j),l=j>0&j<l?j:l,m=j<0&j>m?j:m,n|=+q(+(j-g))>3.141592653589793,(0|(a=p+1|0))!=(0|r);)v=p,k=d,p=a,a=v;n&&(e[u>>3]=m,e[t>>3]=l)}}function Fc(a,c){c|=0;var y,d=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,z=0,A=0;if(r=0|b[(a|=0)>>2]){if(e[(s=c+8|0)>>3]=17976931348623157e292,e[(t=c+24|0)>>3]=17976931348623157e292,e[c>>3]=-17976931348623157e292,e[(u=c+16|0)>>3]=-17976931348623157e292,(0|r)>0){for(g=0|b[a+4>>2],o=17976931348623157e292,p=-17976931348623157e292,f=0,d=-1,k=17976931348623157e292,l=17976931348623157e292,n=-17976931348623157e292,i=-17976931348623157e292,v=0;h=+e[g+(v<<4)>>3],m=+e[g+(v<<4)+8>>3],j=+e[g+(((0|(z=d+2|0))==(0|r)?0:z)<<4)+8>>3],h<k&&(e[s>>3]=h,k=h),m<l&&(e[t>>3]=m,l=m),h>n?e[c>>3]=h:h=n,m>i&&(e[u>>3]=m,i=m),o=m>0&m<o?m:o,p=m<0&m>p?m:p,f|=+q(+(m-j))>3.141592653589793,(0|(d=v+1|0))!=(0|r);)z=v,n=h,v=d,d=z;f&&(e[u>>3]=p,e[t>>3]=o)}}else b[c>>2]=0,b[c+4>>2]=0,b[c+8>>2]=0,b[c+12>>2]=0,b[c+16>>2]=0,b[c+20>>2]=0,b[c+24>>2]=0,b[c+28>>2]=0;if(!((0|(d=0|b[(z=a+8|0)>>2]))<=0)){y=a+12|0,x=0;do{if(g=0|b[y>>2],f=x,t=c+((x=x+1|0)<<5)|0,u=0|b[g+(f<<3)>>2]){if(e[(v=c+(x<<5)+8|0)>>3]=17976931348623157e292,e[(a=c+(x<<5)+24|0)>>3]=17976931348623157e292,e[t>>3]=-17976931348623157e292,e[(w=c+(x<<5)+16|0)>>3]=-17976931348623157e292,(0|u)>0){for(r=0|b[g+(f<<3)+4>>2],o=17976931348623157e292,p=-17976931348623157e292,g=0,f=-1,s=0,k=17976931348623157e292,l=17976931348623157e292,m=-17976931348623157e292,i=-17976931348623157e292;h=+e[r+(s<<4)>>3],n=+e[r+(s<<4)+8>>3],j=+e[r+(((0|(f=f+2|0))==(0|u)?0:f)<<4)+8>>3],h<k&&(e[v>>3]=h,k=h),n<l&&(e[a>>3]=n,l=n),h>m?e[t>>3]=h:h=m,n>i&&(e[w>>3]=n,i=n),o=n>0&n<o?n:o,p=n<0&n>p?n:p,g|=+q(+(n-j))>3.141592653589793,(0|(f=s+1|0))!=(0|u);)A=s,s=f,m=h,f=A;g&&(e[w>>3]=p,e[a>>3]=o)}}else b[t>>2]=0,b[t+4>>2]=0,b[t+8>>2]=0,b[t+12>>2]=0,b[t+16>>2]=0,b[t+20>>2]=0,b[t+24>>2]=0,b[t+28>>2]=0,d=0|b[z>>2]}while((0|x)<(0|d))}}function Gc(a,c,d){var e=0,f=0,g=0;if(!(0|Dc(a|=0,c|=0,d|=0)))return 0|(f=0);if((0|b[(f=a+8|0)>>2])<=0)return 0|(f=1);for(e=a+12|0,a=0;;){if(g=a,a=a+1|0,0|Dc((0|b[e>>2])+(g<<3)|0,c+(a<<5)|0,d)){a=0,e=6;break}if((0|a)>=(0|b[f>>2])){a=1,e=6;break}}return 6==(0|e)?0|a:0}function Qc(a,b,c,d,f){b|=0,c|=0,d|=0,f|=0;var h,i,j,k,l,m,n,g=0;k=+e[(a|=0)>>3],j=+e[b>>3]-k,i=+e[a+8>>3],h=+e[b+8>>3]-i,m=+e[c>>3],g=((g=+e[d>>3]-m)*(i-(n=+e[c+8>>3]))-(k-m)*(l=+e[d+8>>3]-n))/(j*l-h*g),e[f>>3]=k+j*g,e[f+8>>3]=i+h*g}function Rc(a,b){return b|=0,+q(+(+e[(a|=0)>>3]-+e[b>>3]))<1.1920928955078125e-7?0|(b=+q(+(+e[a+8>>3]-+e[b+8>>3]))<1.1920928955078125e-7):0|(b=0)}function Sc(a,b){b|=0;var c,d,f;return+((f=+e[(a|=0)>>3]-+e[b>>3])*f+(d=+e[a+8>>3]-+e[b+8>>3])*d+(c=+e[a+16>>3]-+e[b+16>>3])*c)}function Vc(a,c,d){d|=0;var g,h,j,k,e=0,f=0,i=0;if(k=T,T=T+32|0,i=k,0|(e=0|Ob(a|=0,c|=0,h=k+16|0)))return T=k,0|(d=e);g=0|tb(a,c),j=0|Fb(a,c),function qa(a,c){a=7696+(28*(a|=0)|0)|0,b[(c|=0)>>2]=b[a>>2],b[c+4>>2]=b[a+4>>2],b[c+8>>2]=b[a+8>>2],b[c+12>>2]=b[a+12>>2]}(g,i),e=0|function ra(a,c){a|=0;var d=0,e=0;if((c|=0)>>>0>20)return-1;do{if((0|b[11120+(216*c|0)>>2])!=(0|a))if((0|b[11120+(216*c|0)+8>>2])!=(0|a))if((0|b[11120+(216*c|0)+16>>2])!=(0|a))if((0|b[11120+(216*c|0)+24>>2])!=(0|a))if((0|b[11120+(216*c|0)+32>>2])!=(0|a))if((0|b[11120+(216*c|0)+40>>2])!=(0|a))if((0|b[11120+(216*c|0)+48>>2])!=(0|a))if((0|b[11120+(216*c|0)+56>>2])!=(0|a))if((0|b[11120+(216*c|0)+64>>2])!=(0|a))if((0|b[11120+(216*c|0)+72>>2])!=(0|a))if((0|b[11120+(216*c|0)+80>>2])!=(0|a))if((0|b[11120+(216*c|0)+88>>2])!=(0|a))if((0|b[11120+(216*c|0)+96>>2])!=(0|a))if((0|b[11120+(216*c|0)+104>>2])!=(0|a))if((0|b[11120+(216*c|0)+112>>2])!=(0|a))if((0|b[11120+(216*c|0)+120>>2])!=(0|a))if((0|b[11120+(216*c|0)+128>>2])!=(0|a)){if((0|b[11120+(216*c|0)+136>>2])!=(0|a)){if((0|b[11120+(216*c|0)+144>>2])==(0|a)){a=0,d=2,e=0;break}if((0|b[11120+(216*c|0)+152>>2])==(0|a)){a=0,d=2,e=1;break}if((0|b[11120+(216*c|0)+160>>2])==(0|a)){a=0,d=2,e=2;break}if((0|b[11120+(216*c|0)+168>>2])==(0|a)){a=1,d=2,e=0;break}if((0|b[11120+(216*c|0)+176>>2])==(0|a)){a=1,d=2,e=1;break}if((0|b[11120+(216*c|0)+184>>2])==(0|a)){a=1,d=2,e=2;break}if((0|b[11120+(216*c|0)+192>>2])==(0|a)){a=2,d=2,e=0;break}if((0|b[11120+(216*c|0)+200>>2])==(0|a)){a=2,d=2,e=1;break}if((0|b[11120+(216*c|0)+208>>2])==(0|a)){a=2,d=2,e=2;break}return-1}a=2,d=1,e=2}else a=2,d=1,e=1;else a=2,d=1,e=0;else a=1,d=1,e=2;else a=1,d=1,e=1;else a=1,d=1,e=0;else a=0,d=1,e=2;else a=0,d=1,e=1;else a=0,d=1,e=0;else a=2,d=0,e=2;else a=2,d=0,e=1;else a=2,d=0,e=0;else a=1,d=0,e=2;else a=1,d=0,e=1;else a=1,d=0,e=0;else a=0,d=0,e=2;else a=0,d=0,e=1;else a=0,d=0,e=0}while(0);return 0|b[11120+(216*c|0)+(72*d|0)+(24*a|0)+(e<<3)+4>>2]}(g,0|b[h>>2]);a:do{if(0|ma(g)){switch(0|g){case 4:a=0;break;case 14:a=1;break;case 24:a=2;break;case 38:a=3;break;case 49:a=4;break;case 58:a=5;break;case 63:a=6;break;case 72:a=7;break;case 83:a=8;break;case 97:a=9;break;case 107:a=10;break;case 117:a=11;break;default:e=1;break a}if(f=0|b[22e3+(24*a|0)+8>>2],c=0|b[22e3+(24*a|0)+16>>2],(0|(a=0|b[h>>2]))!=(0|b[i>>2])&&(i=0|na(g))|(0|(a=0|b[h>>2]))==(0|c)&&(e=(e+1|0)%6|0),3==(0|j)&(0|a)==(0|c)){e=(e+5|0)%6|0,f=22;break}5==(0|j)&(0|a)==(0|f)?(e=(e+1|0)%6|0,f=22):f=22}else f=22}while(0);return 22==(0|f)&&(b[d>>2]=e,e=0),T=k,0|(d=e)}function Wc(a,c,d,e){d|=0,e|=0;var n,o,p,r,u,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,q=0,s=0,t=0;if(u=T,T=T+32|0,t=u+24|0,r=u+20|0,p=u+8|0,o=u+16|0,n=u,j=(j=0==(0|xb(a|=0,c|=0)))?6:5,l=0|vd(0|a,0|c,52),H(),j>>>0<=d>>>0)return T=u,0|(e=2);!(m=0==(0|(l&=15)))&&0==((q=0|wd(7,0,3*(15^l)|0))&a|0)&0==((0|H())&c|0)?f=d:g=4;a:do{if(4==(0|g)){if((0|((f=0!=(0|xb(a,c)))?4:5))<(0|d))return T=u,0|(e=1);if(0|Vc(a,c,t))return T=u,0|(e=1);if(g=(0|b[t>>2])+d|0,7==(0|(q=0|b[(f=f?22288+(((0|g)%5|0)<<2)|0:22320+(((0|g)%6|0)<<2)|0)>>2])))return T=u,0|(e=1);b[r>>2]=0,f=0|ea(a,c,q,r,p);do{if(!f){if(k=0|b[(i=p)>>2],g=(h=(i=0|b[i+4>>2])>>>0<c>>>0|(0|i)==(0|c)&k>>>0<a>>>0)?k:a,h=h?i:c,!m&&0==(k&(m=0|wd(7,0,3*(15^l)|0))|0)&0==(i&(0|H())|0))f=d;else{if(i=(d+-1+j|0)%(0|j)|0,f=0|xb(a,c),(0|i)<0&&I(23313,23315,245,23324),(0|((j=0!=(0|f))?4:5))<(0|i)&&I(23313,23315,245,23324),0|Vc(a,c,t)&&I(23313,23315,245,23324),f=(0|b[t>>2])+i|0,7==(0|(i=0|b[(f=j?22288+(((0|f)%5|0)<<2)|0:22320+(((0|f)%6|0)<<2)|0)>>2]))&&I(23313,23315,245,23324),b[o>>2]=0,0|(f=0|ea(a,c,i,o,n)))break;j=0|b[(k=n)>>2],k=0|b[k+4>>2];do{if(k>>>0<h>>>0|(0|k)==(0|h)&j>>>0<g>>>0){if(g=0|xb(j,k)?0|fa(j,k,a,c):0|b[22384+((((0|b[o>>2])+(0|b[22352+(i<<2)>>2])|0)%6|0)<<2)>>2],f=0|xb(j,k),(g+-1|0)>>>0>5){f=-1,g=j,h=k;break}if(1==(0|g)&(f=0!=(0|f))){f=-1,g=j,h=k;break}do{if(!(0|Vc(j,k,t))){if(f){f=(5+(0|b[21936+(g<<2)>>2])-(0|b[t>>2])|0)%5|0;break}f=(6+(0|b[21968+(g<<2)>>2])-(0|b[t>>2])|0)%6|0;break}f=-1}while(0);g=j,h=k}else f=d}while(0);k=0|b[(i=p)>>2],i=0|b[i+4>>2]}if((0|g)==(0|k)&(0|h)==(0|i)){if(a=(j=0!=(0|xb(k,i)))?0|fa(k,i,a,c):0|b[22384+((((0|b[r>>2])+(0|b[22352+(q<<2)>>2])|0)%6|0)<<2)>>2],f=0|xb(k,i),(a+-1|0)>>>0<=5&&!(1==(0|a)&(s=0!=(0|f))))do{if(!(0|Vc(k,i,t))){if(s){f=(5+(0|b[21936+(a<<2)>>2])-(0|b[t>>2])|0)%5|0;break}f=(6+(0|b[21968+(a<<2)>>2])-(0|b[t>>2])|0)%6|0;break}f=-1}while(0);else f=-1;f=6==(0|(f=f+1|0))|j&5==(0|f)?0:f}c=h,a=g;break a}}while(0);return T=u,0|(e=f)}}while(0);return s=0|wd(0|f,0,56),t=0|H()|-2130706433&c|536870912,b[e>>2]=s|a,b[e+4>>2]=t,T=u,0|(e=0)}function _c(a,c,d){a|=0,d|=0;var e=0;(0|(c|=0))>0?(e=0|kd(c,4),b[a>>2]=e,e||I(23337,23360,40,23374)):b[a>>2]=0,b[a+4>>2]=c,b[a+8>>2]=0,b[a+12>>2]=d}function $c(a){var g,h,i,c=0,d=0,f=0,j=0;g=(a|=0)+4|0,h=a+12|0,i=a+8|0;a:for(;;){for(d=0|b[g>>2],c=0;;){if((0|c)>=(0|d))break a;if(f=0|b[a>>2],j=0|b[f+(c<<2)>>2])break;c=c+1|0}c=f+(~~(+q(+ +s(10,+ +(15-(0|b[h>>2])|0))*(+e[j>>3]+ +e[j+8>>3]))%+(0|d))>>>0<<2)|0,d=0|b[c>>2];b:do{if(0|d){if(f=j+32|0,(0|d)==(0|j))b[c>>2]=b[f>>2];else{if(!(c=0|b[(d=d+32|0)>>2]))break;for(;(0|c)!=(0|j);)if(!(c=0|b[(d=c+32|0)>>2]))break b;b[d>>2]=b[f>>2]}jd(j),b[i>>2]=(0|b[i>>2])-1}}while(0)}jd(0|b[a>>2])}function ad(a){var e,c=0,d=0;for(e=0|b[(a|=0)+4>>2],d=0;;){if((0|d)>=(0|e)){c=0,d=4;break}if(c=0|b[(0|b[a>>2])+(d<<2)>>2]){d=4;break}d=d+1|0}return 4==(0|d)?0|c:0}function bd(a,c){c|=0;var d=0,f=0,g=0,h=0;if(d=~~(+q(+ +s(10,+ +(15-(0|b[(a|=0)+12>>2])|0))*(+e[c>>3]+ +e[c+8>>3]))%+(0|b[a+4>>2]))>>>0,d=(0|b[a>>2])+(d<<2)|0,!(f=0|b[d>>2]))return 0|(h=1);h=c+32|0;do{if((0|f)!=(0|c)){if(!(d=0|b[f+32>>2]))return 0|(h=1);for(g=d;;){if((0|g)==(0|c)){g=8;break}if(!(d=0|b[g+32>>2])){d=1,g=10;break}f=g,g=d}if(8==(0|g)){b[f+32>>2]=b[h>>2];break}if(10==(0|g))return 0|d}else b[d>>2]=b[h>>2]}while(0);return jd(c),b[(h=a+8|0)>>2]=(0|b[h>>2])-1,0|(h=0)}function cd(a,c,d){a|=0,c|=0,d|=0;var h,f=0,g=0,i=0;(h=0|id(40))||I(23390,23360,98,23403),b[h>>2]=b[c>>2],b[h+4>>2]=b[c+4>>2],b[h+8>>2]=b[c+8>>2],b[h+12>>2]=b[c+12>>2],b[(g=h+16|0)>>2]=b[d>>2],b[g+4>>2]=b[d+4>>2],b[g+8>>2]=b[d+8>>2],b[g+12>>2]=b[d+12>>2],b[h+32>>2]=0,g=~~(+q(+ +s(10,+ +(15-(0|b[a+12>>2])|0))*(+e[c>>3]+ +e[c+8>>3]))%+(0|b[a+4>>2]))>>>0,g=(0|b[a>>2])+(g<<2)|0,f=0|b[g>>2];do{if(f){for(;!(0|_b(f,c)&&0|_b(f+16|0,d));)if(g=0|b[f+32>>2],!(0|b[(f=0==(0|g)?f:g)+32>>2])){i=10;break}if(10==(0|i)){b[f+32>>2]=h;break}return jd(h),0|(i=f)}b[g>>2]=h}while(0);return b[(i=a+8|0)>>2]=1+(0|b[i>>2]),0|(i=h)}function dd(a,c,d){c|=0,d|=0;var f=0,g=0;if(g=~~(+q(+ +s(10,+ +(15-(0|b[(a|=0)+12>>2])|0))*(+e[c>>3]+ +e[c+8>>3]))%+(0|b[a+4>>2]))>>>0,!(g=0|b[(0|b[a>>2])+(g<<2)>>2]))return 0|(d=0);if(!d){for(a=g;;){if(0|_b(a,c)){f=10;break}if(!(a=0|b[a+32>>2])){a=0,f=10;break}}if(10==(0|f))return 0|a}for(a=g;;){if(0|_b(a,c)&&0|_b(a+16|0,d)){f=10;break}if(!(a=0|b[a+32>>2])){a=0,f=10;break}}return 10==(0|f)?0|a:0}function ed(a,c){c|=0;var d=0;if(d=~~(+q(+ +s(10,+ +(15-(0|b[(a|=0)+12>>2])|0))*(+e[c>>3]+ +e[c+8>>3]))%+(0|b[a+4>>2]))>>>0,!(a=0|b[(0|b[a>>2])+(d<<2)>>2]))return 0|(d=0);for(;;){if(0|_b(a,c)){c=5;break}if(!(a=0|b[a+32>>2])){a=0,c=5;break}}return 5==(0|c)?0|a:0}function hd(a){return 0|~~+function gd(a){return+ +Cd(+(a=+a))}(a=+a)}function id(a){a|=0;var w,c=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0;w=T,T=T+16|0,n=w;do{if(a>>>0<245){if(a=(k=a>>>0<11?16:a+11&-8)>>>3,3&(d=(m=0|b[5857])>>>a)|0)return e=0|b[(d=(a=23468+((c=(1&d^1)+a|0)<<1<<2)|0)+8|0)>>2],(0|(g=0|b[(f=e+8|0)>>2]))==(0|a)?b[5857]=m&~(1<<c):(b[g+12>>2]=a,b[d>>2]=g),v=c<<3,b[e+4>>2]=3|v,b[(v=e+v+4|0)>>2]=1|b[v>>2],T=w,0|(v=f);if(k>>>0>(l=0|b[5859])>>>0){if(0|d)return c=((c=d<<a&((c=2<<a)|0-c))&0-c)-1|0,g=0|b[(a=(c=23468+((e=((d=(c>>>=i=c>>>12&16)>>>5&8)|i|(g=(c>>>=d)>>>2&4)|(a=(c>>>=g)>>>1&2)|(e=(c>>>=a)>>>1&1))+(c>>>e)|0)<<1<<2)|0)+8|0)>>2],(0|(d=0|b[(i=g+8|0)>>2]))==(0|c)?(a=m&~(1<<e),b[5857]=a):(b[d+12>>2]=c,b[a>>2]=d,a=m),h=(v=e<<3)-k|0,b[g+4>>2]=3|k,b[(f=g+k|0)+4>>2]=1|h,b[g+v>>2]=h,0|l&&(e=0|b[5862],d=23468+((c=l>>>3)<<1<<2)|0,a&(c=1<<c)?c=0|b[(a=d+8|0)>>2]:(b[5857]=a|c,c=d,a=d+8|0),b[a>>2]=e,b[c+12>>2]=e,b[e+8>>2]=c,b[e+12>>2]=d),b[5859]=h,b[5862]=f,T=w,0|(v=i);if(g=0|b[5858]){for(d=(g&0-g)-1|0,d=j=0|b[23732+(((e=(d>>>=f=d>>>12&16)>>>5&8)|f|(h=(d>>>=e)>>>2&4)|(i=(d>>>=h)>>>1&2)|(j=(d>>>=i)>>>1&1))+(d>>>j)<<2)>>2],i=j,j=(-8&b[j+4>>2])-k|0;(a=0|b[d+16>>2])||(a=0|b[d+20>>2]);)d=a,i=(f=(h=(-8&b[a+4>>2])-k|0)>>>0<j>>>0)?a:i,j=f?h:j;if((h=i+k|0)>>>0>i>>>0){f=0|b[i+24>>2],c=0|b[i+12>>2];do{if((0|c)==(0|i)){if(!(c=0|b[(a=i+20|0)>>2])&&!(c=0|b[(a=i+16|0)>>2])){d=0;break}for(;;)if(d=0|b[(e=c+20|0)>>2])c=d,a=e;else{if(!(d=0|b[(e=c+16|0)>>2]))break;c=d,a=e}b[a>>2]=0,d=c}else d=0|b[i+8>>2],b[d+12>>2]=c,b[c+8>>2]=d,d=c}while(0);do{if(0|f){if(c=0|b[i+28>>2],(0|i)==(0|b[(a=23732+(c<<2)|0)>>2])){if(b[a>>2]=d,!d){b[5858]=g&~(1<<c);break}}else if(b[((0|b[(v=f+16|0)>>2])==(0|i)?v:f+20|0)>>2]=d,!d)break;b[d+24>>2]=f,0|(c=0|b[i+16>>2])&&(b[d+16>>2]=c,b[c+24>>2]=d),0|(c=0|b[i+20>>2])&&(b[d+20>>2]=c,b[c+24>>2]=d)}}while(0);return j>>>0<16?(v=j+k|0,b[i+4>>2]=3|v,b[(v=i+v+4|0)>>2]=1|b[v>>2]):(b[i+4>>2]=3|k,b[h+4>>2]=1|j,b[h+j>>2]=j,0|l&&(e=0|b[5862],d=23468+((c=l>>>3)<<1<<2)|0,(c=1<<c)&m?c=0|b[(a=d+8|0)>>2]:(b[5857]=c|m,c=d,a=d+8|0),b[a>>2]=e,b[c+12>>2]=e,b[e+8>>2]=c,b[e+12>>2]=d),b[5859]=j,b[5862]=h),T=w,0|(v=i+8|0)}m=k}else m=k}else m=k}else if(a>>>0<=4294967231)if(k=-8&(a=a+11|0),e=0|b[5858]){f=0-k|0,j=(a>>>=8)?k>>>0>16777215?31:k>>>((j=14-((i=((q=a<<(m=(a+1048320|0)>>>16&8))+520192|0)>>>16&4)|m|(j=((q<<=i)+245760|0)>>>16&2))+(q<<j>>>15)|0)+7|0)&1|j<<1:0,d=0|b[23732+(j<<2)>>2];a:do{if(d)for(a=0,i=k<<(31==(0|j)?0:25-(j>>>1)|0),g=0;;){if((h=(-8&b[d+4>>2])-k|0)>>>0<f>>>0){if(!h){a=d,f=0,q=65;break a}a=d,f=h}if(g=0==(0|(q=0|b[d+20>>2]))|(0|q)==(0|(d=0|b[d+16+(i>>>31<<2)>>2]))?g:q,!d){d=g,q=61;break}i<<=1}else d=0,a=0,q=61}while(0);if(61==(0|q)){if(0==(0|d)&0==(0|a)){if(!(a=((a=2<<j)|0-a)&e)){m=k;break}m=(a&0-a)-1|0,a=0,d=0|b[23732+(((g=(m>>>=h=m>>>12&16)>>>5&8)|h|(i=(m>>>=g)>>>2&4)|(j=(m>>>=i)>>>1&2)|(d=(m>>>=j)>>>1&1))+(m>>>d)<<2)>>2]}d?q=65:(i=a,h=f)}if(65==(0|q))for(g=d;;){if(f=(d=(m=(-8&b[g+4>>2])-k|0)>>>0<f>>>0)?m:f,a=d?g:a,(d=0|b[g+16>>2])||(d=0|b[g+20>>2]),!d){i=a,h=f;break}g=d}if(0!=(0|i)&&h>>>0<((0|b[5859])-k|0)>>>0&&(l=i+k|0)>>>0>i>>>0){g=0|b[i+24>>2],c=0|b[i+12>>2];do{if((0|c)==(0|i)){if(!(c=0|b[(a=i+20|0)>>2])&&!(c=0|b[(a=i+16|0)>>2])){c=0;break}for(;;)if(d=0|b[(f=c+20|0)>>2])c=d,a=f;else{if(!(d=0|b[(f=c+16|0)>>2]))break;c=d,a=f}b[a>>2]=0}else v=0|b[i+8>>2],b[v+12>>2]=c,b[c+8>>2]=v}while(0);do{if(g){if(a=0|b[i+28>>2],(0|i)==(0|b[(d=23732+(a<<2)|0)>>2])){if(b[d>>2]=c,!c){e&=~(1<<a),b[5858]=e;break}}else if(b[((0|b[(v=g+16|0)>>2])==(0|i)?v:g+20|0)>>2]=c,!c)break;b[c+24>>2]=g,0|(a=0|b[i+16>>2])&&(b[c+16>>2]=a,b[a+24>>2]=c),(a=0|b[i+20>>2])&&(b[c+20>>2]=a,b[a+24>>2]=c)}}while(0);b:do{if(h>>>0<16)v=h+k|0,b[i+4>>2]=3|v,b[(v=i+v+4|0)>>2]=1|b[v>>2];else{if(b[i+4>>2]=3|k,b[l+4>>2]=1|h,b[l+h>>2]=h,c=h>>>3,h>>>0<256){d=23468+(c<<1<<2)|0,(a=0|b[5857])&(c=1<<c)?c=0|b[(a=d+8|0)>>2]:(b[5857]=a|c,c=d,a=d+8|0),b[a>>2]=l,b[c+12>>2]=l,b[l+8>>2]=c,b[l+12>>2]=d;break}if(c=23732+((d=(c=h>>>8)?h>>>0>16777215?31:h>>>((d=14-((t=((v=c<<(u=(c+1048320|0)>>>16&8))+520192|0)>>>16&4)|u|(d=((v<<=t)+245760|0)>>>16&2))+(v<<d>>>15)|0)+7|0)&1|d<<1:0)<<2)|0,b[l+28>>2]=d,b[(a=l+16|0)+4>>2]=0,b[a>>2]=0,!(e&(a=1<<d))){b[5858]=e|a,b[c>>2]=l,b[l+24>>2]=c,b[l+12>>2]=l,b[l+8>>2]=l;break}c=0|b[c>>2];c:do{if((-8&b[c+4>>2]|0)!=(0|h)){for(e=h<<(31==(0|d)?0:25-(d>>>1)|0);a=0|b[(d=c+16+(e>>>31<<2)|0)>>2];){if((-8&b[a+4>>2]|0)==(0|h)){c=a;break c}e<<=1,c=a}b[d>>2]=l,b[l+24>>2]=c,b[l+12>>2]=l,b[l+8>>2]=l;break b}}while(0);v=0|b[(u=c+8|0)>>2],b[v+12>>2]=l,b[u>>2]=l,b[l+8>>2]=v,b[l+12>>2]=c,b[l+24>>2]=0}}while(0);return T=w,0|(v=i+8|0)}m=k}else m=k;else m=-1}while(0);if((d=0|b[5859])>>>0>=m>>>0)return c=d-m|0,a=0|b[5862],c>>>0>15?(v=a+m|0,b[5862]=v,b[5859]=c,b[v+4>>2]=1|c,b[a+d>>2]=c,b[a+4>>2]=3|m):(b[5859]=0,b[5862]=0,b[a+4>>2]=3|d,b[(v=a+d+4|0)>>2]=1|b[v>>2]),T=w,0|(v=a+8|0);if((h=0|b[5860])>>>0>m>>>0)return t=h-m|0,b[5860]=t,u=(v=0|b[5863])+m|0,b[5863]=u,b[u+4>>2]=1|t,b[v+4>>2]=3|m,T=w,0|(v=v+8|0);if(0|b[5975]?a=0|b[5977]:(b[5977]=4096,b[5976]=4096,b[5978]=-1,b[5979]=-1,b[5980]=0,b[5968]=0,b[5975]=-16&n^1431655768,a=4096),i=m+48|0,(k=(g=a+(j=m+47|0)|0)&(f=0-a|0))>>>0<=m>>>0)return T=w,0|(v=0);if(0|(a=0|b[5967])&&(n=(l=0|b[5965])+k|0)>>>0<=l>>>0|n>>>0>a>>>0)return T=w,0|(v=0);d:do{if(4&b[5968])c=0,q=143;else{d=0|b[5863];e:do{if(d){for(e=23876;!((n=0|b[e>>2])>>>0<=d>>>0&&(n+(0|b[e+4>>2])|0)>>>0>d>>>0);){if(!(a=0|b[e+8>>2])){q=128;break e}e=a}if((c=g-h&f)>>>0<2147483647)if((0|(a=0|Dd(0|c)))==((0|b[e>>2])+(0|b[e+4>>2])|0)){if(-1!=(0|a)){h=c,g=a,q=145;break d}}else e=a,q=136;else c=0}else q=128}while(0);do{if(128==(0|q))if(-1!=(0|(d=0|Dd(0)))&&(c=d,p=(c=(0==((p=(o=0|b[5976])+-1|0)&c|0)?0:(p+c&0-o)-c|0)+k|0)+(o=0|b[5965])|0,c>>>0>m>>>0&c>>>0<2147483647)){if(0|(n=0|b[5967])&&p>>>0<=o>>>0|p>>>0>n>>>0){c=0;break}if((0|(a=0|Dd(0|c)))==(0|d)){h=c,g=d,q=145;break d}e=a,q=136}else c=0}while(0);do{if(136==(0|q)){if(d=0-c|0,!(i>>>0>c>>>0&c>>>0<2147483647&-1!=(0|e))){if(-1==(0|e)){c=0;break}h=c,g=e,q=145;break d}if((a=j-c+(a=0|b[5977])&0-a)>>>0>=2147483647){h=c,g=e,q=145;break d}if(-1==(0|Dd(0|a))){Dd(0|d),c=0;break}h=a+c|0,g=e,q=145;break d}}while(0);b[5968]=4|b[5968],q=143}}while(0);if(143==(0|q)&&k>>>0<2147483647&&!(-1==(0|(t=0|Dd(0|k)))|1^(s=(r=(p=0|Dd(0))-t|0)>>>0>(m+40|0)>>>0)|t>>>0<p>>>0&-1!=(0|t)&-1!=(0|p)^1)&&(h=s?r:c,g=t,q=145),145==(0|q)){c=(0|b[5965])+h|0,b[5965]=c,c>>>0>(0|b[5966])>>>0&&(b[5966]=c),j=0|b[5863];f:do{if(j){for(c=23876;;){if((0|g)==((a=0|b[c>>2])+(d=0|b[c+4>>2])|0)){q=154;break}if(!(e=0|b[c+8>>2]))break;c=e}if(154==(0|q)&&(u=c+4|0,0==(8&b[c+12>>2]|0))&&g>>>0>j>>>0&a>>>0<=j>>>0){b[u>>2]=d+h,u=j+(t=0==(7&(t=j+8|0)|0)?0:0-t&7)|0,t=(v=(0|b[5860])+h|0)-t|0,b[5863]=u,b[5860]=t,b[u+4>>2]=1|t,b[j+v+4>>2]=40,b[5864]=b[5979];break}for(g>>>0<(0|b[5861])>>>0&&(b[5861]=g),d=g+h|0,c=23876;;){if((0|b[c>>2])==(0|d)){q=162;break}if(!(a=0|b[c+8>>2]))break;c=a}if(162==(0|q)&&0==(8&b[c+12>>2]|0)){b[c>>2]=g,b[(l=c+4|0)>>2]=(0|b[l>>2])+h,k=(l=g+(0==(7&(l=g+8|0)|0)?0:0-l&7)|0)+m|0,i=(c=d+(0==(7&(c=d+8|0)|0)?0:0-c&7)|0)-l-m|0,b[l+4>>2]=3|m;g:do{if((0|j)==(0|c))v=(0|b[5860])+i|0,b[5860]=v,b[5863]=k,b[k+4>>2]=1|v;else{if((0|b[5862])==(0|c)){v=(0|b[5859])+i|0,b[5859]=v,b[5862]=k,b[k+4>>2]=1|v,b[k+v>>2]=v;break}if(1==(3&(a=0|b[c+4>>2])|0)){h=-8&a,e=a>>>3;h:do{if(a>>>0<256){if(a=0|b[c+8>>2],(0|(d=0|b[c+12>>2]))==(0|a)){b[5857]=b[5857]&~(1<<e);break}b[a+12>>2]=d,b[d+8>>2]=a;break}g=0|b[c+24>>2],a=0|b[c+12>>2];do{if((0|a)==(0|c)){if(a=0|b[(e=(d=c+16|0)+4|0)>>2])d=e;else if(!(a=0|b[d>>2])){a=0;break}for(;;)if(e=0|b[(f=a+20|0)>>2])a=e,d=f;else{if(!(e=0|b[(f=a+16|0)>>2]))break;a=e,d=f}b[d>>2]=0}else v=0|b[c+8>>2],b[v+12>>2]=a,b[a+8>>2]=v}while(0);if(!g)break;e=23732+((d=0|b[c+28>>2])<<2)|0;do{if((0|b[e>>2])==(0|c)){if(b[e>>2]=a,0|a)break;b[5858]=b[5858]&~(1<<d);break h}if(b[((0|b[(v=g+16|0)>>2])==(0|c)?v:g+20|0)>>2]=a,!a)break h}while(0);if(b[a+24>>2]=g,0|(e=0|b[(d=c+16|0)>>2])&&(b[a+16>>2]=e,b[e+24>>2]=a),!(d=0|b[d+4>>2]))break;b[a+20>>2]=d,b[d+24>>2]=a}while(0);c=c+h|0,f=h+i|0}else f=i;if(b[(c=c+4|0)>>2]=-2&b[c>>2],b[k+4>>2]=1|f,b[k+f>>2]=f,c=f>>>3,f>>>0<256){d=23468+(c<<1<<2)|0,(a=0|b[5857])&(c=1<<c)?c=0|b[(a=d+8|0)>>2]:(b[5857]=a|c,c=d,a=d+8|0),b[a>>2]=k,b[c+12>>2]=k,b[k+8>>2]=c,b[k+12>>2]=d;break}c=f>>>8;do{if(c){if(f>>>0>16777215){e=31;break}e=f>>>((e=14-((t=((v=c<<(u=(c+1048320|0)>>>16&8))+520192|0)>>>16&4)|u|(e=((v<<=t)+245760|0)>>>16&2))+(v<<e>>>15)|0)+7|0)&1|e<<1}else e=0}while(0);if(c=23732+(e<<2)|0,b[k+28>>2]=e,b[(a=k+16|0)+4>>2]=0,b[a>>2]=0,!((a=0|b[5858])&(d=1<<e))){b[5858]=a|d,b[c>>2]=k,b[k+24>>2]=c,b[k+12>>2]=k,b[k+8>>2]=k;break}c=0|b[c>>2];i:do{if((-8&b[c+4>>2]|0)!=(0|f)){for(e=f<<(31==(0|e)?0:25-(e>>>1)|0);a=0|b[(d=c+16+(e>>>31<<2)|0)>>2];){if((-8&b[a+4>>2]|0)==(0|f)){c=a;break i}e<<=1,c=a}b[d>>2]=k,b[k+24>>2]=c,b[k+12>>2]=k,b[k+8>>2]=k;break g}}while(0);v=0|b[(u=c+8|0)>>2],b[v+12>>2]=k,b[u>>2]=k,b[k+8>>2]=v,b[k+12>>2]=c,b[k+24>>2]=0}}while(0);return T=w,0|(v=l+8|0)}for(c=23876;!((a=0|b[c>>2])>>>0<=j>>>0&&(v=a+(0|b[c+4>>2])|0)>>>0>j>>>0);)c=0|b[c+8>>2];c=(a=(a=(f=v+-47|0)+(0==(7&(a=f+8|0)|0)?0:0-a&7)|0)>>>0<(f=j+16|0)>>>0?j:a)+8|0,u=g+(t=0==(7&(t=g+8|0)|0)?0:0-t&7)|0,t=(d=h+-40|0)-t|0,b[5863]=u,b[5860]=t,b[u+4>>2]=1|t,b[g+d+4>>2]=40,b[5864]=b[5979],b[(d=a+4|0)>>2]=27,b[c>>2]=b[5969],b[c+4>>2]=b[5970],b[c+8>>2]=b[5971],b[c+12>>2]=b[5972],b[5969]=g,b[5970]=h,b[5972]=0,b[5971]=c,c=a+24|0;do{u=c,b[(c=c+4|0)>>2]=7}while((u+8|0)>>>0<v>>>0);if((0|a)!=(0|j)){if(g=a-j|0,b[d>>2]=-2&b[d>>2],b[j+4>>2]=1|g,b[a>>2]=g,c=g>>>3,g>>>0<256){d=23468+(c<<1<<2)|0,(a=0|b[5857])&(c=1<<c)?c=0|b[(a=d+8|0)>>2]:(b[5857]=a|c,c=d,a=d+8|0),b[a>>2]=j,b[c+12>>2]=j,b[j+8>>2]=c,b[j+12>>2]=d;break}if(d=23732+((e=(c=g>>>8)?g>>>0>16777215?31:g>>>((e=14-((t=((v=c<<(u=(c+1048320|0)>>>16&8))+520192|0)>>>16&4)|u|(e=((v<<=t)+245760|0)>>>16&2))+(v<<e>>>15)|0)+7|0)&1|e<<1:0)<<2)|0,b[j+28>>2]=e,b[j+20>>2]=0,b[f>>2]=0,!((c=0|b[5858])&(a=1<<e))){b[5858]=c|a,b[d>>2]=j,b[j+24>>2]=d,b[j+12>>2]=j,b[j+8>>2]=j;break}c=0|b[d>>2];j:do{if((-8&b[c+4>>2]|0)!=(0|g)){for(e=g<<(31==(0|e)?0:25-(e>>>1)|0);a=0|b[(d=c+16+(e>>>31<<2)|0)>>2];){if((-8&b[a+4>>2]|0)==(0|g)){c=a;break j}e<<=1,c=a}b[d>>2]=j,b[j+24>>2]=c,b[j+12>>2]=j,b[j+8>>2]=j;break f}}while(0);v=0|b[(u=c+8|0)>>2],b[v+12>>2]=j,b[u>>2]=j,b[j+8>>2]=v,b[j+12>>2]=c,b[j+24>>2]=0}}else 0==(0|(v=0|b[5861]))|g>>>0<v>>>0&&(b[5861]=g),b[5969]=g,b[5970]=h,b[5972]=0,b[5866]=b[5975],b[5865]=-1,b[5870]=23468,b[5869]=23468,b[5872]=23476,b[5871]=23476,b[5874]=23484,b[5873]=23484,b[5876]=23492,b[5875]=23492,b[5878]=23500,b[5877]=23500,b[5880]=23508,b[5879]=23508,b[5882]=23516,b[5881]=23516,b[5884]=23524,b[5883]=23524,b[5886]=23532,b[5885]=23532,b[5888]=23540,b[5887]=23540,b[5890]=23548,b[5889]=23548,b[5892]=23556,b[5891]=23556,b[5894]=23564,b[5893]=23564,b[5896]=23572,b[5895]=23572,b[5898]=23580,b[5897]=23580,b[5900]=23588,b[5899]=23588,b[5902]=23596,b[5901]=23596,b[5904]=23604,b[5903]=23604,b[5906]=23612,b[5905]=23612,b[5908]=23620,b[5907]=23620,b[5910]=23628,b[5909]=23628,b[5912]=23636,b[5911]=23636,b[5914]=23644,b[5913]=23644,b[5916]=23652,b[5915]=23652,b[5918]=23660,b[5917]=23660,b[5920]=23668,b[5919]=23668,b[5922]=23676,b[5921]=23676,b[5924]=23684,b[5923]=23684,b[5926]=23692,b[5925]=23692,b[5928]=23700,b[5927]=23700,b[5930]=23708,b[5929]=23708,b[5932]=23716,b[5931]=23716,u=g+(t=0==(7&(t=g+8|0)|0)?0:0-t&7)|0,t=(v=h+-40|0)-t|0,b[5863]=u,b[5860]=t,b[u+4>>2]=1|t,b[g+v+4>>2]=40,b[5864]=b[5979]}while(0);if((c=0|b[5860])>>>0>m>>>0)return t=c-m|0,b[5860]=t,u=(v=0|b[5863])+m|0,b[5863]=u,b[u+4>>2]=1|t,b[v+4>>2]=3|m,T=w,0|(v=v+8|0)}return b[(v=23424)>>2]=12,T=w,0|(v=0)}function jd(a){var c=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0;if(a|=0){d=a+-8|0,f=0|b[5861],j=d+(c=-8&(a=0|b[a+-4>>2]))|0;do{if(1&a)i=d,h=d;else{if(e=0|b[d>>2],!(3&a))return;if(g=e+c|0,(h=d+(0-e)|0)>>>0<f>>>0)return;if((0|b[5862])==(0|h)){if(3!=(3&(c=0|b[(a=j+4|0)>>2])|0)){i=h,c=g;break}return b[5859]=g,b[a>>2]=-2&c,b[h+4>>2]=1|g,void(b[h+g>>2]=g)}if(d=e>>>3,e>>>0<256){if(a=0|b[h+8>>2],(0|(c=0|b[h+12>>2]))==(0|a)){b[5857]=b[5857]&~(1<<d),i=h,c=g;break}b[a+12>>2]=c,b[c+8>>2]=a,i=h,c=g;break}f=0|b[h+24>>2],a=0|b[h+12>>2];do{if((0|a)==(0|h)){if(a=0|b[(d=(c=h+16|0)+4|0)>>2])c=d;else if(!(a=0|b[c>>2])){a=0;break}for(;;)if(d=0|b[(e=a+20|0)>>2])a=d,c=e;else{if(!(d=0|b[(e=a+16|0)>>2]))break;a=d,c=e}b[c>>2]=0}else i=0|b[h+8>>2],b[i+12>>2]=a,b[a+8>>2]=i}while(0);if(f){if(c=0|b[h+28>>2],(0|b[(d=23732+(c<<2)|0)>>2])==(0|h)){if(b[d>>2]=a,!a){b[5858]=b[5858]&~(1<<c),i=h,c=g;break}}else if(b[((0|b[(i=f+16|0)>>2])==(0|h)?i:f+20|0)>>2]=a,!a){i=h,c=g;break}b[a+24>>2]=f,0|(d=0|b[(c=h+16|0)>>2])&&(b[a+16>>2]=d,b[d+24>>2]=a),(c=0|b[c+4>>2])?(b[a+20>>2]=c,b[c+24>>2]=a,i=h,c=g):(i=h,c=g)}else i=h,c=g}}while(0);if(!(h>>>0>=j>>>0)&&1&(e=0|b[(a=j+4|0)>>2])){if(2&e)b[a>>2]=-2&e,b[i+4>>2]=1|c,b[h+c>>2]=c,f=c;else{if((0|b[5863])==(0|j)){if(j=(0|b[5860])+c|0,b[5860]=j,b[5863]=i,b[i+4>>2]=1|j,(0|i)!=(0|b[5862]))return;return b[5862]=0,void(b[5859]=0)}if((0|b[5862])==(0|j))return j=(0|b[5859])+c|0,b[5859]=j,b[5862]=h,b[i+4>>2]=1|j,void(b[h+j>>2]=j);f=(-8&e)+c|0,d=e>>>3;do{if(e>>>0<256){if(c=0|b[j+8>>2],(0|(a=0|b[j+12>>2]))==(0|c)){b[5857]=b[5857]&~(1<<d);break}b[c+12>>2]=a,b[a+8>>2]=c;break}g=0|b[j+24>>2],a=0|b[j+12>>2];do{if((0|a)==(0|j)){if(a=0|b[(d=(c=j+16|0)+4|0)>>2])c=d;else if(!(a=0|b[c>>2])){d=0;break}for(;;)if(d=0|b[(e=a+20|0)>>2])a=d,c=e;else{if(!(d=0|b[(e=a+16|0)>>2]))break;a=d,c=e}b[c>>2]=0,d=a}else d=0|b[j+8>>2],b[d+12>>2]=a,b[a+8>>2]=d,d=a}while(0);if(0|g){if(a=0|b[j+28>>2],(0|b[(c=23732+(a<<2)|0)>>2])==(0|j)){if(b[c>>2]=d,!d){b[5858]=b[5858]&~(1<<a);break}}else if(b[((0|b[(e=g+16|0)>>2])==(0|j)?e:g+20|0)>>2]=d,!d)break;b[d+24>>2]=g,0|(c=0|b[(a=j+16|0)>>2])&&(b[d+16>>2]=c,b[c+24>>2]=d),0|(a=0|b[a+4>>2])&&(b[d+20>>2]=a,b[a+24>>2]=d)}}while(0);if(b[i+4>>2]=1|f,b[h+f>>2]=f,(0|i)==(0|b[5862]))return void(b[5859]=f)}if(a=f>>>3,f>>>0<256)return d=23468+(a<<1<<2)|0,(c=0|b[5857])&(a=1<<a)?a=0|b[(c=d+8|0)>>2]:(b[5857]=c|a,a=d,c=d+8|0),b[c>>2]=i,b[a+12>>2]=i,b[i+8>>2]=a,void(b[i+12>>2]=d);a=23732+((e=(a=f>>>8)?f>>>0>16777215?31:f>>>((e=14-((g=((j=a<<(h=(a+1048320|0)>>>16&8))+520192|0)>>>16&4)|h|(e=((j<<=g)+245760|0)>>>16&2))+(j<<e>>>15)|0)+7|0)&1|e<<1:0)<<2)|0,b[i+28>>2]=e,b[i+20>>2]=0,b[i+16>>2]=0,c=0|b[5858],d=1<<e;a:do{if(c&d){a=0|b[a>>2];b:do{if((-8&b[a+4>>2]|0)!=(0|f)){for(e=f<<(31==(0|e)?0:25-(e>>>1)|0);c=0|b[(d=a+16+(e>>>31<<2)|0)>>2];){if((-8&b[c+4>>2]|0)==(0|f)){a=c;break b}e<<=1,a=c}b[d>>2]=i,b[i+24>>2]=a,b[i+12>>2]=i,b[i+8>>2]=i;break a}}while(0);j=0|b[(h=a+8|0)>>2],b[j+12>>2]=i,b[h>>2]=i,b[i+8>>2]=j,b[i+12>>2]=a,b[i+24>>2]=0}else b[5858]=c|d,b[a>>2]=i,b[i+24>>2]=a,b[i+12>>2]=i,b[i+8>>2]=i}while(0);if(j=(0|b[5865])-1|0,b[5865]=j,!(0|j)){for(a=23884;a=0|b[a>>2];)a=a+8|0;b[5865]=-1}}}}function kd(a,c){c|=0;var d=0;return(a|=0)?(d=0|B(c,a),(c|a)>>>0>65535&&(d=(0|(d>>>0)/(a>>>0))==(0|c)?d:-1)):d=0,(a=0|id(d))&&3&b[a+-4>>2]?(Bd(0|a,0,0|d),0|a):0|a}function ld(a,b,c,d){return 0|(G((b|=0)+(d|=0)+((c=(a|=0)+(c|=0)>>>0)>>>0<a>>>0|0)>>>0|0),0|c)}function md(a,b,c,d){return 0|(G(0|(d=(b|=0)-(d|=0)-((c|=0)>>>0>(a|=0)>>>0|0)>>>0)),a-c>>>0|0)}function nd(a){return 0|((a|=0)?31-(0|E(a^a-1))|0:32)}function od(a,c,d,e,f){f|=0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;if(l=a|=0,h=d|=0,i=n=e|=0,!(k=j=c|=0))return g=0!=(0|f),i?g?(b[f>>2]=0|a,b[f+4>>2]=0&c,f=0,0|(G(0|(n=0)),f)):(f=0,0|(G(0|(n=0)),f)):(g&&(b[f>>2]=(l>>>0)%(h>>>0),b[f+4>>2]=0),f=(l>>>0)/(h>>>0)>>>0,0|(G(0|(n=0)),f));g=0==(0|i);do{if(h){if(!g){if((g=(0|E(0|i))-(0|E(0|k))|0)>>>0<=31){h=m=g+1|0,a=l>>>(m>>>0)&(c=g-31>>31)|k<<(i=31-g|0),c&=k>>>(m>>>0),g=0,i=l<<i;break}return f?(b[f>>2]=0|a,b[f+4>>2]=j|0&c,f=0,0|(G(0|(n=0)),f)):(f=0,0|(G(0|(n=0)),f))}if((g=h-1|0)&h|0){h=i=33+(0|E(0|h))-(0|E(0|k))|0,a=(m=32-i|0)-1>>31&k>>>((o=i-32|0)>>>0)|(k<<m|l>>>(i>>>0))&(c=o>>31),c&=k>>>(i>>>0),g=l<<(p=64-i|0)&(j=m>>31),i=(k<<p|l>>>(o>>>0))&j|l<<m&i-33>>31;break}return 0|f&&(b[f>>2]=g&l,b[f+4>>2]=0),1==(0|h)?(p=0|a,0|(G(0|(o=j|0&c)),p)):(o=k>>>((p=0|nd(0|h))>>>0)|0,p=k<<32-p|l>>>(p>>>0)|0,0|(G(0|o),p))}if(g)return 0|f&&(b[f>>2]=(k>>>0)%(h>>>0),b[f+4>>2]=0),p=(k>>>0)/(h>>>0)>>>0,0|(G(0|(o=0)),p);if(!l)return 0|f&&(b[f>>2]=0,b[f+4>>2]=(k>>>0)%(i>>>0)),p=(k>>>0)/(i>>>0)>>>0,0|(G(0|(o=0)),p);if(!((g=i-1|0)&i))return 0|f&&(b[f>>2]=0|a,b[f+4>>2]=g&k|0&c),o=0,p=k>>>((0|nd(0|i))>>>0),0|(G(0|o),p);if((g=(0|E(0|i))-(0|E(0|k))|0)>>>0<=30){h=c=g+1|0,a=k<<(i=31-g|0)|l>>>(c>>>0),c=k>>>(c>>>0),g=0,i=l<<i;break}return f?(b[f>>2]=0|a,b[f+4>>2]=j|0&c,p=0,0|(G(0|(o=0)),p)):(p=0,0|(G(0|(o=0)),p))}while(0);if(h){k=0|ld(0|(m=0|d),0|(l=n|0&e),-1,-1),d=0|H(),j=i,i=0;do{e=j,j=g>>>31|j<<1,g=i|g<<1,md(0|k,0|d,0|(e=a<<1|e>>>31|0),0|(n=a>>>31|c<<1|0)),i=1&(o=(p=0|H())>>31|((0|p)<0?-1:0)<<1),a=0|md(0|e,0|n,o&m|0,(((0|p)<0?-1:0)>>31|((0|p)<0?-1:0)<<1)&l|0),c=0|H(),h=h-1|0}while(0!=(0|h));k=j,j=0}else k=i,j=0,i=0;return h=0,0|f&&(b[f>>2]=a,b[f+4>>2]=c),p=-2&(g<<1|0)|i,0|(G(0|(o=(0|g)>>>31|(k|h)<<1|0&(h<<1|g>>>31)|j)),p)}function pd(a,b,c,d){c|=0;var e,f,h,i,j;return f=(d|=0)>>31|((0|d)<0?-1:0)<<1,e=((0|d)<0?-1:0)>>31|((0|d)<0?-1:0)<<1,h=0|md((j=(b|=0)>>31|((0|b)<0?-1:0)<<1)^(a|=0)|0,(i=((0|b)<0?-1:0)>>31|((0|b)<0?-1:0)<<1)^b|0,0|j,0|i),a=f^j,b=e^i,0|md((0|od(h,0|H(),0|md(f^c|0,e^d|0,0|f,0|e),0|H(),0))^a|0,(0|H())^b|0,0|a,0|b)}function rd(a,b,c,d){b|=0,d|=0;var e,f;return c=0|function qd(a,b){var c,d,f,e=0;return a=((c=0|B(e=65535&(b|=0),f=65535&(a|=0)))>>>16)+(0|B(e,d=a>>>16))|0,b=0|B(e=b>>>16,f),0|(G((a>>>16)+(0|B(e,d))+(((65535&a)+b|0)>>>16)|0),a+b<<16|65535&c|0)}(e=a|=0,f=c|=0),a=0|H(),0|(G((0|B(b,f))+(0|B(d,e))+a|0&a|0),0|c)}function sd(a,c,d,e){d|=0;var f,g,h,i,j,k;return f=T,T=T+16|0,i=0|f,k=(e|=0)>>31|((0|e)<0?-1:0)<<1,j=((0|e)<0?-1:0)>>31|((0|e)<0?-1:0)<<1,od(a=0|md((h=(c|=0)>>31|((0|c)<0?-1:0)<<1)^(a|=0)|0,(g=((0|c)<0?-1:0)>>31|((0|c)<0?-1:0)<<1)^c|0,0|h,0|g),c=0|H(),0|md(k^d|0,j^e|0,0|k,0|j),0|H(),i),e=0|md(b[i>>2]^h|0,b[i+4>>2]^g|0,0|h,0|g),d=0|H(),T=f,0|(G(0|d),e)}function td(a,c,d,e){var f,g;return g=T,T=T+16|0,od(a|=0,c|=0,d|=0,e|=0,f=0|g),T=g,0|(G(0|b[f+4>>2]),0|b[f>>2])}function ud(a,b,c){return a|=0,b|=0,(0|(c|=0))<32?(G(b>>c|0),a>>>c|(b&(1<<c)-1)<<32-c):(G(0|((0|b)<0?-1:0)),b>>c-32|0)}function vd(a,b,c){return a|=0,b|=0,(0|(c|=0))<32?(G(b>>>c|0),a>>>c|(b&(1<<c)-1)<<32-c):(G(0),b>>>c-32|0)}function wd(a,b,c){return a|=0,b|=0,(0|(c|=0))<32?(G(b<<c|(a&(1<<c)-1<<32-c)>>>32-c|0),a<<c):(G(a<<c-32|0),0)}function xd(a,b){return b=+b,(a=+a)!=a?+b:b!=b?+a:+D(+a,+b)}function yd(a,b){return b=+b,(a=+a)!=a?+b:b!=b?+a:+C(+a,+b)}function zd(a){return(a=+a)>=0?+p(a+.5):+A(a-.5)}function Ad(c,d,e){c|=0,d|=0;var g,h,f=0;if((0|(e|=0))>=8192)return L(0|c,0|d,0|e),0|c;if(h=0|c,g=c+e|0,(3&c)==(3&d)){for(;3&c;){if(!e)return 0|h;a[c>>0]=0|a[d>>0],c=c+1|0,d=d+1|0,e=e-1|0}for(f=(e=-4&g|0)-64|0;(0|c)<=(0|f);)b[c>>2]=b[d>>2],b[c+4>>2]=b[d+4>>2],b[c+8>>2]=b[d+8>>2],b[c+12>>2]=b[d+12>>2],b[c+16>>2]=b[d+16>>2],b[c+20>>2]=b[d+20>>2],b[c+24>>2]=b[d+24>>2],b[c+28>>2]=b[d+28>>2],b[c+32>>2]=b[d+32>>2],b[c+36>>2]=b[d+36>>2],b[c+40>>2]=b[d+40>>2],b[c+44>>2]=b[d+44>>2],b[c+48>>2]=b[d+48>>2],b[c+52>>2]=b[d+52>>2],b[c+56>>2]=b[d+56>>2],b[c+60>>2]=b[d+60>>2],c=c+64|0,d=d+64|0;for(;(0|c)<(0|e);)b[c>>2]=b[d>>2],c=c+4|0,d=d+4|0}else for(e=g-4|0;(0|c)<(0|e);)a[c>>0]=0|a[d>>0],a[c+1>>0]=0|a[d+1>>0],a[c+2>>0]=0|a[d+2>>0],a[c+3>>0]=0|a[d+3>>0],c=c+4|0,d=d+4|0;for(;(0|c)<(0|g);)a[c>>0]=0|a[d>>0],c=c+1|0,d=d+1|0;return 0|h}function Bd(c,d,e){d|=0;var h,f=0,g=0,i=0;if(h=(c|=0)+(e|=0)|0,d&=255,(0|e)>=67){for(;3&c;)a[c>>0]=d,c=c+1|0;for(i=d|d<<8|d<<16|d<<24,g=(f=-4&h|0)-64|0;(0|c)<=(0|g);)b[c>>2]=i,b[c+4>>2]=i,b[c+8>>2]=i,b[c+12>>2]=i,b[c+16>>2]=i,b[c+20>>2]=i,b[c+24>>2]=i,b[c+28>>2]=i,b[c+32>>2]=i,b[c+36>>2]=i,b[c+40>>2]=i,b[c+44>>2]=i,b[c+48>>2]=i,b[c+52>>2]=i,b[c+56>>2]=i,b[c+60>>2]=i,c=c+64|0;for(;(0|c)<(0|f);)b[c>>2]=i,c=c+4|0}for(;(0|c)<(0|h);)a[c>>0]=d,c=c+1|0;return h-e|0}function Cd(a){return(a=+a)>=0?+p(a+.5):+A(a-.5)}function Dd(a){a|=0;var c,d,e;return e=0|K(),(0|a)>0&(0|(c=(d=0|b[g>>2])+a|0))<(0|d)|(0|c)<0?(N(0|c),J(12),-1):(0|c)>(0|e)&&!(0|M(0|c))?(J(12),-1):(b[g>>2]=c,0|d)}return{___divdi3:pd,___muldi3:rd,___remdi3:sd,___uremdi3:td,_areNeighborCells:function $a(a,c,d,e,f){f|=0;var i,l,m,g=0,h=0,j=0,k=0;if(m=T,T=T+64|0,l=m,i=m+56|0,!(!0&134217728==(2013265920&(c|=0)|0)&!0&134217728==(2013265920&(e|=0)|0)))return T=m,0|(f=5);if((0|(a|=0))==(0|(d|=0))&(0|c)==(0|e))return b[f>>2]=0,T=m,0|(f=0);if(h=0|vd(0|a,0|c,52),H(),h&=15,k=0|vd(0|d,0|e,52),H(),(0|h)!=(15&k|0))return T=m,0|(f=12);if(g=h+-1|0,h>>>0>1){vb(a,c,g,l),vb(d,e,g,i),j=0|b[(k=l)>>2],k=0|b[k+4>>2];a:do{if((0|j)==(0|b[i>>2])&&(0|k)==(0|b[i+4>>2])){g=0|vd(0|a,0|c,0|(h=3*(15^h)|0)),H(),g&=7,h=0|vd(0|d,0|e,0|h),H(),h&=7;do{if(0==(0|g)|0==(0|h))b[f>>2]=1,g=0;else if(7==(0|g))g=5;else{if(1==(0|g)|1==(0|h)&&0|xb(j,k)){g=5;break}if((0|b[15536+(g<<2)>>2])!=(0|h)&&(0|b[15568+(g<<2)>>2])!=(0|h))break a;b[f>>2]=1,g=0}}while(0);return T=m,0|(f=g)}}while(0)}h=(g=l)+56|0;do{b[g>>2]=0,g=g+4|0}while((0|g)<(0|h));return aa(a,c,1,l),g=(0|b[(c=l)>>2])==(0|d)&&(0|b[c+4>>2])==(0|e)||(0|b[(c=l+8|0)>>2])==(0|d)&&(0|b[c+4>>2])==(0|e)||(0|b[(c=l+16|0)>>2])==(0|d)&&(0|b[c+4>>2])==(0|e)||(0|b[(c=l+24|0)>>2])==(0|d)&&(0|b[c+4>>2])==(0|e)||(0|b[(c=l+32|0)>>2])==(0|d)&&(0|b[c+4>>2])==(0|e)||(0|b[(c=l+40|0)>>2])==(0|d)&&(0|b[c+4>>2])==(0|e)?1:1&((0|b[(g=l+48|0)>>2])==(0|d)?(0|b[g+4>>2])==(0|e):0),b[f>>2]=g,T=m,0|(f=0)},_bitshift64Ashr:ud,_bitshift64Lshr:vd,_bitshift64Shl:wd,_calloc:kd,_cellAreaKm2:function lc(a,b,c){return 0|(a=0|kc(a|=0,b|=0,c|=0))||(e[c>>3]=6371.007180918475*+e[c>>3]*6371.007180918475),0|a},_cellAreaM2:function mc(a,b,c){return 0|(a=0|kc(a|=0,b|=0,c|=0))||(e[c>>3]=6371.007180918475*+e[c>>3]*6371.007180918475*1e3*1e3),0|a},_cellAreaRads2:kc,_cellToBoundary:Qb,_cellToCenterChild:function Ab(a,c,d,e){d|=0,e|=0;var f=0;return f=0|vd(0|(a|=0),0|(c|=0),52),H(),(0|d)<16&(0|(f&=15))<=(0|d)?((0|f)<(0|d)&&(f=0|wd(-1,-1,3+(3*(d+-1-f|0)|0)|0),f=0|wd(0|~f,0|~(0|H()),3*(15-d|0)|0),c=~(0|H())&c,a&=~f),f=0|wd(0|d,0,52),d=-15728641&c|0|H(),b[e>>2]=a|f,b[e+4>>2]=d,0|(e=0)):0|(e=4)},_cellToChildPos:function Vb(a,c,d,e){d|=0,e|=0;var t,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0;if(t=T,T=T+16|0,r=t,s=0|vd(0|(a|=0),0|(c|=0),52),H(),s&=15,d>>>0>15)return T=t,0|(s=4);if((0|s)<(0|d))return T=t,0|(s=12);if((0|s)!=(0|d))if(g=0|wd(0|d,0,52),g|=a,i=0|H()|-15728641&c,(0|s)>(0|d)){j=d;do{q=0|wd(7,0,3*(14-j|0)|0),j=j+1|0,g|=q,i=0|H()|i}while((0|j)<(0|s));q=g}else q=g;else q=a,i=c;p=0|vd(0|q,0|i,45),H();a:do{if(0|ma(127&p)){if(j=0|vd(0|q,0|i,52),H(),0|(j&=15))for(g=1;;){if(!(0==((p=0|wd(7,0,3*(15-g|0)|0))&q|0)&0==((0|H())&i|0))){k=33;break a}if(!(g>>>0<j>>>0))break;g=g+1|0}if(b[(p=e)>>2]=0,b[p+4>>2]=0,(0|s)>(0|d)){for(p=-15728641&c,o=s;;){if(n=o,(o=o+-1|0)>>>0>15|(0|s)<(0|o)){k=19;break}if((0|s)!=(0|o))if(g=0|wd(0|o,0,52),g|=a,j=0|H()|p,(0|s)<(0|n))m=g;else{k=o;do{m=0|wd(7,0,3*(14-k|0)|0),k=k+1|0,g|=m,j=0|H()|j}while((0|k)<(0|s));m=g}else m=a,j=c;if(l=0|vd(0|m,0|j,45),H(),0|ma(127&l)){l=0|vd(0|m,0|j,52),H(),l&=15;b:do{if(l)for(k=1;;){if(g=0|vd(0|m,0|j,3*(15-k|0)|0),H(),0|(g&=7))break b;if(!(k>>>0<l>>>0)){g=0;break}k=k+1|0}else g=0}while(0);g=0==(0|g)&1}else g=0;if(j=0|vd(0|a,0|c,3*(15-n|0)|0),H(),7==(0|(j&=7))){f=5,k=42;break}if(1==(0|j)&(g=0!=(0|g))){f=5,k=42;break}if(0|(m=j+((0!=(0|j)&g)<<31>>31)|0)&&(k=0|Cc(7,0,k=s-n|0,((0|k)<0)<<31>>31),l=0|H(),g?(g=0|ld(0|(g=0|rd(0|k,0|l,5,0)),0|H(),-5,-1),g=0|ld(0|(g=0|pd(0|g,0|H(),6,0)),0|H(),1,0),j=0|H()):(g=k,j=l),n=0|ld(0|g,0|j,0|(n=0|rd(0|k,0|l,0|(n=m+-1|0),((0|n)<0)<<31>>31|0)),0|H()),l=0|ld(0|n,0|(m=0|H()),0|b[(l=e)>>2],0|b[l+4>>2]),m=0|H(),b[(n=e)>>2]=l,b[n+4>>2]=m),(0|o)<=(0|d)){k=37;break}}if(19==(0|k))I(23313,22674,1099,22710);else{if(37==(0|k)){f=0|b[(h=e)+4>>2],h=0|b[h>>2];break}if(42==(0|k))return T=t,0|f}}else f=0,h=0}else k=33}while(0);c:do{if(33==(0|k)){if(b[(p=e)>>2]=0,b[p+4>>2]=0,(0|s)>(0|d)){for(g=s;;){if(f=0|vd(0|a,0|c,3*(15-g|0)|0),H(),7==(0|(f&=7))){f=5;break}if(f=0|rd(0|(h=0|Cc(7,0,h=s-g|0,((0|h)<0)<<31>>31)),0|H(),0|f,0),h=0|H(),h=0|ld(0|b[(p=e)>>2],0|b[p+4>>2],0|f,0|h),f=0|H(),b[(p=e)>>2]=h,b[p+4>>2]=f,(0|(g=g+-1|0))<=(0|d))break c}return T=t,0|f}f=0,h=0}}while(0);return 0|wb(q,i,s,r)&&I(23313,22674,1063,22725),((0|f)>-1|-1==(0|f)&h>>>0>4294967295)&((0|(r=0|b[(s=r)+4>>2]))>(0|f)|((0|r)==(0|f)?(0|b[s>>2])>>>0>h>>>0:0))?(T=t,0|(s=0)):(I(23313,22674,1139,22710),0)},_cellToChildren:function yb(a,c,d,e){e|=0;var g,h,f=0,i=0;if(h=T,T=T+16|0,Xb(g=h,a|=0,c|=0,d|=0),0==(0|(a=0|b[(c=g)>>2]))&0==(0|(c=0|b[c+4>>2])))return T=h,0;f=0,d=0;do{b[(i=e+(f<<3)|0)>>2]=a,b[i+4>>2]=c,f=0|ld(0|f,0|d,1,0),d=0|H(),Yb(g),a=0|b[(i=g)>>2],c=0|b[i+4>>2]}while(!(0==(0|a)&0==(0|c)));return T=h,0},_cellToChildrenSize:wb,_cellToLatLng:Pb,_cellToLocalIj:function xc(a,b,c,d,e,f){var g,h;return a|=0,b|=0,c|=0,d|=0,f|=0,h=T,T=T+16|0,g=h,(e|=0)?a=15:(a=0|vc(a,b,c,d,g))||(Xa(g,f),a=0),T=h,0|a},_cellToParent:vb,_cellToVertex:Wc,_cellToVertexes:function Xc(a,c,d){d|=0;var f,e=0,g=0;return g=0==(0|xb(a|=0,c|=0)),f=0==(0|(e=0|Wc(a,c,0,d))),g?f?0|(e=0|Wc(a,c,1,d+8|0))||0|(e=0|Wc(a,c,2,d+16|0))||0|(e=0|Wc(a,c,3,d+24|0))||(e=0|Wc(a,c,4,d+32|0))?0|(g=e):0|Wc(a,c,5,d+40|0):0|(g=e):f?0|(e=0|Wc(a,c,1,d+8|0))||0|(e=0|Wc(a,c,2,d+16|0))||0|(e=0|Wc(a,c,3,d+24|0))||0|(e=0|Wc(a,c,4,d+32|0))?0|(g=e):(b[(g=d+40|0)>>2]=0,b[g+4>>2]=0,0|(g=0)):0|(g=e)},_cellsToDirectedEdge:function ab(a,c,d,e,f){return f|=0,7==(0|(d=0|fa(a|=0,c|=0,d|=0,e|=0)))?0|(f=11):(e=0|wd(0|d,0,56),c=-2130706433&c|0|H()|268435456,b[f>>2]=a|e,b[f+4>>2]=c,0|(f=0))},_cellsToLinkedMultiPolygon:function la(a,c,d){d|=0;var e,f,g,h=0;if(g=T,T=T+32|0,e=g,a=0|function ka(a,c,d){a|=0,d|=0;var j,l,e=0,f=0,g=0,h=0,i=0,k=0;if(l=T,T=T+176|0,j=l,(0|(c|=0))<1)return _c(d,0,0),T=l,0;for(i=0|vd(0|b[(i=a)>>2],0|b[i+4>>2],52),H(),_c(d,(0|c)>6?c:6,15&i),i=0;!(0|(e=0|Qb(0|b[(e=a+(i<<3)|0)>>2],0|b[e+4>>2],j)));){if((0|(e=0|b[j>>2]))>0){h=0;do{g=j+8+(h<<4)|0,(f=0|dd(d,e=j+8+(((0|(h=h+1|0))%(0|e)|0)<<4)|0,g))?bd(d,f):cd(d,g,e),e=0|b[j>>2]}while((0|h)<(0|e))}if((0|(i=i+1|0))>=(0|c)){e=0,k=13;break}}return 13==(0|k)?(T=l,0|e):($c(d),T=l,0|(k=e))}(a|=0,c|=0,f=g+16|0),0|a)return T=g,0|(d=a);if(b[d>>2]=0,b[d+4>>2]=0,b[d+8>>2]=0,0|(a=0|ad(f)))do{c=0|qc(d);do{rc(c,a),h=a+16|0,b[e>>2]=b[h>>2],b[e+4>>2]=b[h+4>>2],b[e+8>>2]=b[h+8>>2],b[e+12>>2]=b[h+12>>2],bd(f,a),a=0|ed(f,e)}while(0!=(0|a));a=0|ad(f)}while(0!=(0|a));return $c(f),(a=0|tc(d))?(sc(d),T=g,0|(h=a)):(T=g,0|(h=0))},_childPosToCell:function Wb(a,c,d,e,f,g){a|=0,c|=0,g|=0;var m,h=0,i=0,j=0,k=0,l=0,n=0,o=0,p=0,q=0;if(m=T,T=T+16|0,h=m,(f|=0)>>>0>15)return T=m,0|(g=4);if(i=0|vd(0|(d|=0),0|(e|=0),52),H(),(0|(i&=15))>(0|f))return T=m,0|(g=12);if(0|wb(d,e,f,h)&&I(23313,22674,1063,22725),!(((0|c)>-1|-1==(0|c)&a>>>0>4294967295)&((0|(k=0|b[(l=h)+4>>2]))>(0|c)|((0|k)==(0|c)?(0|b[l>>2])>>>0>a>>>0:0))))return T=m,0|(g=2);l=f-i|0,f=0|wd(0|f,0,52),j=0|H()|-15728641&e,b[(k=g)>>2]=f|d,b[k+4>>2]=j,k=0|vd(0|d,0|e,45),H();a:do{if(0|ma(127&k)){if(0|i)for(h=1;;){if(!(0==((k=0|wd(7,0,3*(15-h|0)|0))&d|0)&0==((0|H())&e|0)))break a;if(!(h>>>0<i>>>0))break;h=h+1|0}if((0|l)<1)return T=m,0|(g=0);for(k=15^i,e=-1,j=1,h=1;;){i=0|Cc(7,0,i=l-j|0,((0|i)<0)<<31>>31),d=0|H();do{if(h){if(h=0|pd(0|(h=0|ld(0|(h=0|rd(0|i,0|d,5,0)),0|H(),-5,-1)),0|H(),6,0),(0|c)>(0|(f=0|H()))|(0|c)==(0|f)&a>>>0>h>>>0){c=0|md(0|(c=0|ld(0|a,0|c,-1,-1)),0|H(),0|h,0|f),h=0|H(),p=0|b[(n=g)>>2],n=0|b[n+4>>2],o=0|wd(7,0,0|(q=3*(k+e|0)|0)),n&=~(0|H()),q=0|wd(0|(f=0|ld(0|(e=0|pd(0|c,0|h,0|i,0|d)),0|(a=0|H()),2,0)),0|H(),0|q),n=0|H()|n,b[(f=g)>>2]=q|p&~o,b[f+4>>2]=n,a=0|md(0|c,0|h,0|(a=0|rd(0|e,0|a,0|i,0|d)),0|H()),h=0,c=0|H();break}o=0|b[(q=g)>>2],q=0|b[q+4>>2],p=0|wd(7,0,3*(k+e|0)|0),q&=~(0|H()),b[(h=g)>>2]=o&~p,b[h+4>>2]=q,h=1;break}f=0|b[(o=g)>>2],o=0|b[o+4>>2],n=0|wd(7,0,0|(e=3*(k+e|0)|0)),o&=~(0|H()),e=0|wd(0|(q=0|pd(0|a,0|c,0|i,0|d)),0|(h=0|H()),0|e),o=0|H()|o,b[(p=g)>>2]=e|f&~n,b[p+4>>2]=o,a=0|md(0|a,0|c,0|(h=0|rd(0|q,0|h,0|i,0|d)),0|H()),h=0,c=0|H()}while(0);if(!((0|l)>(0|j))){c=0;break}e=~j,j=j+1|0}return T=m,0|c}}while(0);if((0|l)<1)return T=m,0|(q=0);for(f=15^i,h=1;;){if(p=0|Cc(7,0,p=l-h|0,((0|p)<0)<<31>>31),q=0|H(),d=0|b[(j=g)>>2],j=0|b[j+4>>2],e=0|wd(7,0,0|(i=3*(f-h|0)|0)),j&=~(0|H()),i=0|wd(0|(n=0|pd(0|a,0|c,0|p,0|q)),0|(o=0|H()),0|i),j=0|H()|j,b[(k=g)>>2]=i|d&~e,b[k+4>>2]=j,a=0|md(0|a,0|c,0|(q=0|rd(0|n,0|o,0|p,0|q)),0|H()),c=0|H(),(0|l)<=(0|h)){c=0;break}h=h+1|0}return T=m,0|c},_compactCells:function Bb(a,c,d,e){c|=0;var v,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,w=0,x=0,y=0,z=0;if(0==(0|(d|=0))&0==(0|(e|=0)))return 0|(y=0);if(g=0|b[(f=a|=0)>>2],!0&0==(15728640&(f=0|b[f+4>>2])|0)){if(!((0|e)>0|0==(0|e)&d>>>0>0))return 0|(y=0);if(b[(y=c)>>2]=g,b[y+4>>2]=f,1==(0|d)&0==(0|e))return 0|(y=0);f=1;do{x=0|b[(w=a+(f<<3)|0)+4>>2],b[(y=c+(f<<3)|0)>>2]=b[w>>2],b[y+4>>2]=x,f=f+1|0}while(0<(0|e)|0==(0|e)&f>>>0<d>>>0);return 0|(f=0)}if(!(x=0|id(v=d<<3)))return 0|(y=13);if(Ad(0|x,0|a,0|v),!(w=0|kd(d,8)))return jd(x),0|(y=13);a:do{if(0|d){b:for(;;){t=0|vd(0|(s=0|b[(f=x)>>2]),0|(f=0|b[f+4>>2]),52),H(),u=(t&=15)+-1|0,r=(0|d)>0;c:do{if(0!=(0|t)&r){if(o=((0|d)<0)<<31>>31,p=0|wd(0|u,0,52),q=0|H(),u>>>0>15){if(!(0==(0|s)&0==(0|f))){y=17;break b}for(g=0;;){if((0|(g=g+1|0))>=(0|d))break c;if(!(0==(0|(q=0|b[(e=x+(g<<3)|0)>>2]))&0==(0|(e=0|b[e+4>>2])))){f=e,y=17;break b}}}for(g=0,a=s,e=f;;){if(!(0==(0|a)&0==(0|e))){if(!(!0&0==(117440512&e|0))){y=22;break b}if(i=0|vd(0|a,0|e,52),H(),(0|(i&=15))<(0|u)){f=12,y=28;break b}if((0|i)!=(0|u)&&(a|=p,e=-15728641&e|q,i>>>0>=t>>>0)){h=u;do{n=0|wd(7,0,3*(14-h|0)|0),h=h+1|0,a|=n,e=0|H()|e}while(h>>>0<i>>>0)}if(h=0|td(0|a,0|e,0|d,0|o),H(),0==(0|(j=0|b[(i=k=w+(h<<3)|0)>>2]))&0==(0|(i=0|b[i+4>>2])))h=k;else for(n=0;;){if((0|n)>(0|d)){y=32;break b}if((0|j)==(0|a)&(-117440513&i|0)==(0|e)){l=0|vd(0|j,0|i,56),H(),m=(l&=7)+1|0,z=0|vd(0|j,0|i,45),H();d:do{if(0|ma(127&z)){if(j=0|vd(0|j,0|i,52),H(),!(j&=15)){i=6;break}for(i=1;;){if(!(0==((z=0|wd(7,0,3*(15-i|0)|0))&a|0)&0==((0|H())&e|0))){i=7;break d}if(!(i>>>0<j>>>0)){i=6;break}i=i+1|0}}else i=7}while(0);if((l+2|0)>>>0>i>>>0){y=42;break b}z=0|wd(0|m,0,56),e=0|H()|-117440513&e,b[(m=k)>>2]=0,b[m+4>>2]=0,a|=z}else h=(h+1|0)%(0|d)|0;if(0==(0|(j=0|b[(i=k=w+(h<<3)|0)>>2]))&0==(0|(i=0|b[i+4>>2]))){h=k;break}n=n+1|0}b[(z=h)>>2]=a,b[z+4>>2]=e}if((0|(g=g+1|0))>=(0|d))break c;a=0|b[(e=x+(g<<3)|0)>>2],e=0|b[e+4>>2]}}}while(0);if((d+5|0)>>>0<11){y=85;break}if(!(q=0|kd((0|d)/6|0,8))){y=49;break}e:do{if(r){n=0,m=0;do{if(!(0==(0|(g=0|b[(e=i=w+(n<<3)|0)>>2]))&0==(0|(e=0|b[e+4>>2])))){j=0|vd(0|g,0|e,56),H(),a=(j&=7)+1|0,k=-117440513&e,z=0|vd(0|g,0|e,45),H();f:do{if(0|ma(127&z)){if(l=0|vd(0|g,0|e,52),H(),0|(l&=15))for(h=1;;){if(!(0==(g&(z=0|wd(7,0,3*(15-h|0)|0))|0)&0==(k&(0|H())|0)))break f;if(!(h>>>0<l>>>0))break;h=h+1|0}g|=e=0|wd(0|a,0,56),e=0|H()|k,b[(a=i)>>2]=g,b[a+4>>2]=e,a=j+2|0}}while(0);7==(0|a)&&(b[(z=q+(m<<3)|0)>>2]=g,b[z+4>>2]=-117440513&e,m=m+1|0)}n=n+1|0}while((0|n)!=(0|d));if(r){if(n=((0|d)<0)<<31>>31,o=0|wd(0|u,0,52),p=0|H(),u>>>0>15){if(!(0==(0|s)&0==(0|f))){f=4,y=84;break b}for(f=0;;){if((0|(f=f+1|0))>=(0|d)){g=0,f=m;break e}if(!(0==(0|b[(z=x+(f<<3)|0)>>2])&0==(0|b[z+4>>2]))){f=4,y=84;break b}}}for(l=0,g=0,k=s;;){do{if(!(0==(0|k)&0==(0|f))){if(i=0|vd(0|k,0|f,52),H(),(0|(i&=15))<(0|u)){f=12,y=84;break b}do{if((0|i)==(0|u))e=k,i=f;else{if(e=k|o,a=-15728641&f|p,i>>>0<t>>>0){i=a;break}h=u;do{z=0|wd(7,0,3*(14-h|0)|0),h=h+1|0,e|=z,a=0|H()|a}while(h>>>0<i>>>0);i=a}}while(0);for(h=0|td(0|e,0|i,0|d,0|n),H(),a=0;;){if((0|a)>(0|d)){y=77;break b}if((-117440513&(j=0|b[(z=w+(h<<3)|0)+4>>2])|0)==(0|i)&&(0|b[z>>2])==(0|e)){y=79;break}if((0|b[(z=w+((h=(h+1|0)%(0|d)|0)<<3)|0)>>2])==(0|e)&&(0|b[z+4>>2])==(0|i))break;a=a+1|0}if(79==(0|y)&&(y=0,!0&100663296==(117440512&j|0)))break;b[(z=c+(g<<3)|0)>>2]=k,b[z+4>>2]=f,g=g+1|0}}while(0);if((0|(f=l+1|0))>=(0|d)){f=m;break e}l=f,k=0|b[(z=x+(f<<3)|0)>>2],f=0|b[z+4>>2]}}else g=0,f=m}else g=0,f=0}while(0);if(Bd(0|w,0,0|v),Ad(0|x,0|q,f<<3|0),jd(q),!f)break a;c=c+(g<<3)|0,d=f}if(17==(0|y))!0&0==(117440512&f|0)?(f=4,y=28):y=22;else if(32==(0|y))I(23313,22674,362,22684);else{if(42==(0|y))return jd(x),jd(w),0|(z=10);if(49==(0|y))return jd(x),jd(w),0|(z=13);if(77==(0|y))I(23313,22674,462,22684);else{if(84==(0|y))return jd(q),jd(x),jd(w),0|(z=f);if(85==(0|y)){Ad(0|c,0|x,d<<3|0);break}}}if(22==(0|y))return jd(x),jd(w),0|(z=5);if(28==(0|y))return jd(x),jd(w),0|(z=f)}}while(0);return jd(x),jd(w),0|(z=0)},_destroyLinkedMultiPolygon:sc,_directedEdgeToBoundary:gb,_directedEdgeToCells:function eb(a,c,d){a|=0;var f,g,h,e=0;return f=T,T=T+16|0,e=f,!0&268435456==(2013265920&(c|=0)|0)?(g=-2130706433&c|134217728,b[(h=d|=0)>>2]=a,b[h+4>>2]=g,b[e>>2]=0,c=0|vd(0|a,0|c,56),H(),e=0|ea(a,g,7&c,e,d+8|0),T=f,0|e):(T=f,0|(e=6))},_edgeLengthKm:function oc(a,c,d){d|=0;var j,f=0,g=0,h=0,i=0,k=0,l=0,m=0;if(j=T,T=T+176|0,0|(a=0|gb(a|=0,c|=0,i=j)))return i=a,h=+e[d>>3],h*=6371.007180918475,e[d>>3]=h,T=j,0|i;if(e[d>>3]=0,(0|(a=0|b[i>>2]))<=1)return i=0,h=0,h*=6371.007180918475,e[d>>3]=h,T=j,0|i;c=a+-1|0,a=0,f=+e[i+8>>3],g=+e[i+16>>3],h=0;do{l=f,f=+e[i+8+((a=a+1|0)<<4)>>3],m=+u(.5*(f-l)),k=g,g=+e[i+8+(a<<4)+8>>3],k=m*m+(k=+u(.5*(g-k)))*(+t(+l)*+t(+f)*k),h+=2*+z(+ +r(+k),+ +r(+(1-k)))}while((0|a)!=(0|c));return e[d>>3]=h,i=0,m=h,m*=6371.007180918475,e[d>>3]=m,T=j,0|i},_edgeLengthM:function pc(a,c,d){d|=0;var j,f=0,g=0,h=0,i=0,k=0,l=0,m=0;if(j=T,T=T+176|0,0|(a=0|gb(a|=0,c|=0,i=j)))return i=a,h=+e[d>>3],h*=6371.007180918475,h*=1e3,e[d>>3]=h,T=j,0|i;if(e[d>>3]=0,(0|(a=0|b[i>>2]))<=1)return i=0,h=0,h*=6371.007180918475,h*=1e3,e[d>>3]=h,T=j,0|i;c=a+-1|0,a=0,f=+e[i+8>>3],g=+e[i+16>>3],h=0;do{l=f,f=+e[i+8+((a=a+1|0)<<4)>>3],m=+u(.5*(f-l)),k=g,g=+e[i+8+(a<<4)+8>>3],k=m*m+(k=+u(.5*(g-k)))*(+t(+l)*+t(+f)*k),h+=2*+z(+ +r(+k),+ +r(+(1-k)))}while((0|a)!=(0|c));return e[d>>3]=h,i=0,m=h,m*=6371.007180918475,m*=1e3,e[d>>3]=m,T=j,0|i},_edgeLengthRads:function nc(a,c,d){d|=0;var j,f=0,g=0,h=0,i=0,k=0,l=0,m=0;if(j=T,T=T+176|0,0|(a=0|gb(a|=0,c|=0,i=j)))return T=j,0|(i=a);if(e[d>>3]=0,(0|(a=0|b[i>>2]))<=1)return T=j,0|(i=0);c=a+-1|0,a=0,f=+e[i+8>>3],g=+e[i+16>>3],h=0;do{l=f,f=+e[i+8+((a=a+1|0)<<4)>>3],m=+u(.5*(f-l)),k=g,g=+e[i+8+(a<<4)+8>>3],k=m*m+(k=+u(.5*(g-k)))*(+t(+f)*+t(+l)*k),h+=2*+z(+ +r(+k),+ +r(+(1-k)))}while((0|a)<(0|c));return e[d>>3]=h,T=j,0|(i=0)},_emscripten_replace_memory:function W(newBuffer){return a=new Int8Array(newBuffer),new Uint8Array(newBuffer),b=new Int32Array(newBuffer),new Float32Array(newBuffer),e=new Float64Array(newBuffer),buffer=newBuffer,!0},_free:jd,_getBaseCellNumber:tb,_getDirectedEdgeDestination:function cb(a,c,d){a|=0,c|=0,d|=0;var f,g,e=0;return f=T,T=T+16|0,b[(e=f)>>2]=0,!0&268435456==(2013265920&c|0)?(g=0|vd(0|a,0|c,56),H(),e=0|ea(a,-2130706433&c|134217728,7&g,e,d),T=f,0|e):(T=f,0|(e=6))},_getDirectedEdgeOrigin:function bb(a,c,d){return a|=0,d|=0,!0&268435456==(2013265920&(c|=0)|0)?(b[d>>2]=a,b[d+4>>2]=-2130706433&c|134217728,0|(d=0)):0|(d=6)},_getHexagonAreaAvgKm2:function ec(a,b){return b|=0,(a|=0)>>>0>15?0|(b=4):(e[b>>3]=+e[20528+(a<<3)>>3],0|(b=0))},_getHexagonAreaAvgM2:function fc(a,b){return b|=0,(a|=0)>>>0>15?0|(b=4):(e[b>>3]=+e[20656+(a<<3)>>3],0|(b=0))},_getHexagonEdgeLengthAvgKm:function gc(a,b){return b|=0,(a|=0)>>>0>15?0|(b=4):(e[b>>3]=+e[20784+(a<<3)>>3],0|(b=0))},_getHexagonEdgeLengthAvgM:function hc(a,b){return b|=0,(a|=0)>>>0>15?0|(b=4):(e[b>>3]=+e[20912+(a<<3)>>3],0|(b=0))},_getIcosahedronFaces:function Sb(a,c,d){d|=0;var m,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0;m=T,T=T+128|0,k=m+112|0,g=m+96|0,l=m,f=0|vd(0|(a|=0),0|(c|=0),52),H(),i=15&f,b[k>>2]=i,h=0|vd(0|a,0|c,45),H(),h&=127;a:do{if(0|ma(h)){if(0|i)for(e=1;;){if(!(0==((j=0|wd(7,0,3*(15-e|0)|0))&a|0)&0==((0|H())&c|0))){f=0;break a}if(!(e>>>0<i>>>0))break;e=e+1|0}if(!(1&f))return j=0|wd(i+1|0,0,52),l=0|H()|-15728641&c,l=0|Sb((j|a)&~(k=0|wd(7,0,3*(14-i|0)|0)),l&~(0|H()),d),T=m,0|l;f=1}else f=0}while(0);if(!(e=0|Ob(a,c,g))){f?(nb(g,k,l),j=5):(rb(g,k,l),j=6);b:do{if(0|ma(h))if(i)for(e=1;;){if(!(0==((h=0|wd(7,0,3*(15-e|0)|0))&a|0)&0==((0|H())&c|0))){a=2;break b}if(!(e>>>0<i>>>0)){a=5;break}e=e+1|0}else a=5;else a=2}while(0);Bd(0|d,-1,a<<2|0);c:do{if(f)for(g=0;;){if(pb(h=l+(g<<4)|0,0|b[k>>2]),h=0|b[h>>2],-1==(0|(i=0|b[d>>2]))|(0|i)==(0|h))e=d;else{f=0;do{if((f=f+1|0)>>>0>=a>>>0){e=1;break c}i=0|b[(e=d+(f<<2)|0)>>2]}while(!(-1==(0|i)|(0|i)==(0|h)))}if(b[e>>2]=h,(g=g+1|0)>>>0>=j>>>0){e=0;break}}else for(g=0;;){if(ob(h=l+(g<<4)|0,0|b[k>>2],0,1),h=0|b[h>>2],-1==(0|(i=0|b[d>>2]))|(0|i)==(0|h))e=d;else{f=0;do{if((f=f+1|0)>>>0>=a>>>0){e=1;break c}i=0|b[(e=d+(f<<2)|0)>>2]}while(!(-1==(0|i)|(0|i)==(0|h)))}if(b[e>>2]=h,(g=g+1|0)>>>0>=j>>>0){e=0;break}}}while(0)}return T=m,0|(l=e)},_getNumCells:ic,_getPentagons:Ub,_getRes0Cells:function wa(a){a|=0;var c=0,d=0,e=0;c=0;do{wd(0|c,0,45),e=134225919|H(),b[(d=a+(c<<3)|0)>>2]=-1,b[d+4>>2]=e,c=c+1|0}while(122!=(0|c));return 0},_getResolution:function sb(a,b){return b=0|vd(0|(a|=0),0|(b|=0),52),H(),15&b|0},_greatCircleDistanceKm:ac,_greatCircleDistanceM:function bc(a,b){a|=0;var d,f,g,c=0;return f=+e[(b|=0)>>3],d=+e[a>>3],c=(g=+u(.5*(f-d)))*g+(c=+u(.5*(+e[b+8>>3]-+e[a+8>>3])))*(+t(+f)*+t(+d)*c),2*+z(+ +r(+c),+ +r(+(1-c)))*6371.007180918475*1e3},_greatCircleDistanceRads:function $b(a,b){a|=0;var d,f,g,c=0;return f=+e[(b|=0)>>3],d=+e[a>>3],c=(g=+u(.5*(f-d)))*g+(c=+u(.5*(+e[b+8>>3]-+e[a+8>>3])))*(+t(+f)*+t(+d)*c),2*+z(+ +r(+c),+ +r(+(1-c)))},_gridDisk:aa,_gridDiskDistances:ba,_gridDistance:function zc(a,c,d,e,f){d|=0,e|=0,f|=0;var g,j,h=0,i=0;return j=T,T=T+32|0,i=j,0|(g=0|vc(a|=0,c|=0,a,c,h=j+12|0))?(T=j,0|(i=g)):0|(a=0|vc(a,c,d,e,i))?(T=j,0|(i=a)):(h=0|Wa(h,i),b[(i=f)>>2]=h,b[i+4>>2]=((0|h)<0)<<31>>31,T=j,0|(i=0))},_gridPathCells:function Bc(a,c,d,e,f){d|=0,e|=0,f|=0;var z,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,A=0;if(z=T,T=T+48|0,i=z+12|0,y=z,!(g=0|vc(a|=0,c|=0,a,c,h=z+24|0))&&!(g=0|vc(a,c,d,e,i))){x=((0|(w=0|Wa(h,i)))<0)<<31>>31,b[h>>2]=0,b[h+4>>2]=0,b[h+8>>2]=0,b[i>>2]=0,b[i+4>>2]=0,b[i+8>>2]=0,0|vc(a,c,a,c,h)&&I(23313,23090,691,23299),0|vc(a,c,d,e,i)&&I(23313,23090,696,23299),Za(h),Za(i),w?(p=+(0|w),v=h,e=m=0|b[h>>2],g=n=0|b[(t=h+4|0)>>2],d=o=0|b[(u=h+8|0)>>2],r=+((0|b[i>>2])-m|0)/p,s=+((0|b[i+4>>2])-n|0)/p,p=+((0|b[i+8>>2])-o|0)/p):(t=g=h+4|0,u=d=h+8|0,v=h,e=0|b[h>>2],g=0|b[g>>2],d=0|b[d>>2],r=0,s=0,p=0),b[y>>2]=e,b[(o=y+4|0)>>2]=g,b[(n=y+8|0)>>2]=d;a:do{if((0|w)<0)g=0;else for(l=0,m=0,g=e;;){A=r*(k=+(m>>>0)+4294967296*+(0|l))+ +(0|g),j=s*k+ +(0|b[t>>2]),k=p*k+ +(0|b[u>>2]),d=~~+zd(+A),h=~~+zd(+j),g=~~+zd(+k),A=+q(+(+(0|d)-A)),j=+q(+(+(0|h)-j)),k=+q(+(+(0|g)-k));do{if(!(A>j&A>k)){if(i=0-d|0,j>k){e=i-g|0;break}e=h,g=i-h|0;break}d=0-(h+g)|0,e=h}while(0);if(b[y>>2]=d,b[o>>2]=e,b[n>>2]=g,_a(y),0|(g=0|wc(a,c,y,f+(m<<3)|0)))break a;if(!((0|l)<(0|x)|(0|l)==(0|x)&m>>>0<w>>>0)){g=0;break a}g=0|ld(0|m,0|l,1,0),l=i=0|H(),m=g,g=0|b[v>>2]}}while(0);return T=z,0|(y=g)}return T=z,0|(y=g)},_gridPathCellsSize:function Ac(a,c,d,e,f){d|=0,e|=0,f|=0;var j,g=0,h=0,i=0;return j=T,T=T+32|0,i=j,(g=0|vc(a|=0,c|=0,a,c,h=j+12|0))||(g=0|vc(a,c,d,e,i))?(T=j,0|(i=g)):(e=0|ld(0|(e=0|Wa(h,i)),((0|e)<0)<<31>>31|0,1,0),h=0|H(),b[(i=f)>>2]=e,b[i+4>>2]=h,T=j,0|(i=0))},_gridRingUnsafe:function ga(a,c,d,e){a|=0,c|=0,d|=0,e|=0;var n,p,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,o=0;if(p=T,T=T+16|0,o=p+8|0,b[(m=n=p)>>2]=a,b[m+4>>2]=c,!d)return b[(o=e)>>2]=a,b[o+4>>2]=c,T=p,0|(o=0);b[o>>2]=0;a:do{if(0|xb(a,c))a=9;else{if(g=(0|d)>0){f=0,m=a;do{if(0|(a=0|ea(m,c,4,o,n)))break a;if(f=f+1|0,0|xb(m=0|b[(c=n)>>2],c=0|b[c+4>>2])){a=9;break a}}while((0|f)<(0|d));if(b[(l=e)>>2]=m,b[l+4>>2]=c,l=d+-1|0,g){k=0,a=1;do{if(f=22384+(k<<2)|0,5==(0|k))for(h=0|b[f>>2],g=0,f=a;;){if(0|(a=0|ea(0|b[(a=n)>>2],0|b[a+4>>2],h,o,n)))break a;if((0|g)!=(0|l)){if(i=0|b[(j=n)>>2],j=0|b[j+4>>2],b[(a=e+(f<<3)|0)>>2]=i,b[a+4>>2]=j,0|xb(i,j)){a=9;break a}a=f+1|0}else a=f;if((0|(g=g+1|0))>=(0|d))break;f=a}else for(h=n,j=0|b[f>>2],i=0,f=a,g=0|b[h>>2],h=0|b[h+4>>2];;){if(0|(a=0|ea(g,h,j,o,n)))break a;if(g=0|b[(h=n)>>2],h=0|b[h+4>>2],b[(a=e+(f<<3)|0)>>2]=g,b[a+4>>2]=h,a=f+1|0,0|xb(g,h)){a=9;break a}if((0|(i=i+1|0))>=(0|d))break;f=a}k=k+1|0}while(k>>>0<6);h=m,f=0|b[(a=n)>>2],g=c,a=0|b[a+4>>2]}else h=m,f=m,g=c,a=c}else b[(h=e)>>2]=a,b[h+4>>2]=c,h=a,f=a,g=c,a=c;a=(0|h)==(0|f)&(0|g)==(0|a)?0:9}}while(0);return T=p,0|(o=a)},_i64Add:ld,_i64Subtract:md,_isPentagon:xb,_isResClassIII:function Eb(a,b){return b=0|vd(0|(a|=0),0|(b|=0),52),H(),1&b|0},_isValidCell:ub,_isValidDirectedEdge:function db(a,b){var c=0;switch(c=0|vd(0|(a|=0),0|(b|=0),56),H(),7&c){case 0:case 7:return 0|(c=0)}return c=-2130706433&b|134217728,!0&268435456==(2013265920&b|0)?!0&16777216==(117440512&b|0)&0!=(0|xb(a,c))?0|(c=0):0|(c=0|ub(a,c)):0|(c=0)},_isValidVertex:function Zc(a,c){a|=0;var d,f,e=0,g=0;return f=T,T=T+16|0,d=f,!0&536870912==(2013265920&(c|=0)|0)&&0|ub(a,e=-2130706433&c|134217728)?(g=0|vd(0|a,0|c,56),H(),e=(g=0==(0|Wc(a,e,7&g,d)))&((0|b[(e=d)>>2])==(0|a)?(0|b[e+4>>2])==(0|c):0)&1,T=f,0|e):(T=f,0|(e=0))},_latLngToCell:Mb,_llvm_maxnum_f64:xd,_llvm_minnum_f64:yd,_llvm_round_f64:zd,_localIjToCell:function yc(a,b,c,d,e){var f,g;return a|=0,b|=0,c|=0,e|=0,g=T,T=T+16|0,f=g,(d|=0)?c=15:(c=0|Ya(c,f))||(c=0|wc(a,b,f,e)),T=g,0|c},_malloc:id,_maxFaceCount:function Rb(a,c,d){d|=0;var e=0,f=0;if(f=0|vd(0|(a|=0),0|(c|=0),45),H(),!(0|ma(127&f)))return f=2,b[d>>2]=f,0;if(f=0|vd(0|a,0|c,52),H(),!(f&=15))return f=5,b[d>>2]=f,0;for(e=1;;){if(!(0==((0|wd(7,0,3*(15-e|0)|0))&a|0)&0==((0|H())&c|0))){e=2,a=6;break}if(!(e>>>0<f>>>0)){e=5,a=6;break}e=e+1|0}return 6==(0|a)?(b[d>>2]=e,0):0},_maxGridDiskSize:function $(a,c){c|=0;var d=0,e=0,f=0;return(0|(a|=0))<0?0|(c=2):(0|a)>13780509?0|(c=0|ic(15,c)):(f=0|rd(0|a,0|(d=((0|a)<0)<<31>>31),3,0),e=0|H(),d=0|ld(0|a,0|d,1,0),d=0|ld(0|(d=0|rd(0|f,0|e,0|d,0|H())),0|H(),1,0),a=0|H(),b[c>>2]=d,b[c+4>>2]=a,0|(c=0))},_maxPolygonToCellsSize:function ha(a,c,d,e){c|=0,e|=0;var i,f=0,g=0,h=0,j=0,k=0;if(i=T,T=T+48|0,f=i+16|0,g=i+8|0,h=i,0|(d|=0))return T=i,0|(h=15);if(j=0|b[(k=a|=0)+4>>2],b[(d=g)>>2]=b[k>>2],b[d+4>>2]=j,Ec(g,f),!(c=0|za(f,c,h))){if(d=0|b[g>>2],(0|(g=0|b[a+8>>2]))>0){f=0|b[a+12>>2],c=0;do{d=(0|b[f+(c<<3)>>2])+d|0,c=c+1|0}while((0|c)<(0|g))}f=0|b[(c=h)>>2],(0|(c=0|b[c+4>>2]))<(0|(g=((0|d)<0)<<31>>31))|(0|c)==(0|g)&f>>>0<d>>>0?(b[(c=h)>>2]=d,b[c+4>>2]=g,c=g):d=f,j=0|ld(0|d,0|c,12,0),k=0|H(),b[(c=h)>>2]=j,b[c+4>>2]=k,b[(c=e)>>2]=j,b[c+4>>2]=k,c=0}return T=i,0|(k=c)},_memcpy:Ad,_memset:Bd,_originToDirectedEdges:function fb(a,c,d){d|=0;var f,e=0;return f=0==(0|xb(a|=0,c|=0)),c&=-2130706433,b[(e=d)>>2]=f?a:0,b[e+4>>2]=f?285212672|c:0,b[(e=d+8|0)>>2]=a,b[e+4>>2]=301989888|c,b[(e=d+16|0)>>2]=a,b[e+4>>2]=318767104|c,b[(e=d+24|0)>>2]=a,b[e+4>>2]=335544320|c,b[(e=d+32|0)>>2]=a,b[e+4>>2]=352321536|c,b[(d=d+40|0)>>2]=a,b[d+4>>2]=369098752|c,0},_pentagonCount:function Tb(){return 12},_polygonToCells:function ja(a,c,d,e){c|=0,e|=0;var F,G,I,K,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,J=0;if(K=T,T=T+112|0,F=K+80|0,j=K+72|0,G=K,I=K+56|0,0|(d|=0))return T=K,0|(J=15);if(!(J=0|id(32+(b[(k=(a|=0)+8|0)>>2]<<5)|0)))return T=K,0|(J=13);if(Fc(a,J),E=0|b[(D=a)+4>>2],b[(d=j)>>2]=b[D>>2],b[d+4>>2]=E,Ec(j,F),d=0|za(F,c,G))D=0,E=0;else{if(d=0|b[j>>2],(0|(g=0|b[k>>2]))>0){h=0|b[a+12>>2],f=0;do{d=(0|b[h+(f<<3)>>2])+d|0,f=f+1|0}while((0|f)!=(0|g));f=d}else f=d;g=0|b[(d=G)>>2],(0|(d=0|b[d+4>>2]))<(0|(h=((0|f)<0)<<31>>31))|(0|d)==(0|h)&g>>>0<f>>>0?(b[(d=G)>>2]=f,b[d+4>>2]=h,d=h):f=g,D=0|ld(0|f,0|d,12,0),E=0|H(),b[(d=G)>>2]=D,b[d+4>>2]=E,d=0}if(0|d)return jd(J),T=K,0|(J=d);if(!(f=0|kd(D,8)))return jd(J),T=K,0|(J=13);if(!(i=0|kd(D,8)))return jd(J),jd(f),T=K,0|(J=13);b[(B=F)>>2]=0,b[B+4>>2]=0,C=0|b[(B=a)+4>>2],b[(d=j)>>2]=b[B>>2],b[d+4>>2]=C,d=0|ia(j,D,E,c,F,f,i);a:do{if(d)jd(f),jd(i),jd(J);else{b:do{if((0|b[k>>2])>0){for(h=a+12|0,g=0;d=0|ia((0|b[h>>2])+(g<<3)|0,D,E,c,F,f,i),g=g+1|0,!(0|d);)if((0|g)>=(0|b[k>>2]))break b;jd(f),jd(i),jd(J);break a}}while(0);(0|E)>0|0==(0|E)&D>>>0>0&&Bd(0|i,0,D<<3|0),B=0|b[(C=F)+4>>2];c:do{if((0|B)>0|0==(0|B)&(0|b[C>>2])>>>0>0){y=f,z=i,A=f,B=i,C=f,d=f,v=f,w=i,x=i,f=i;d:for(;;){for(r=0,s=0,t=0,u=0,g=0,h=0;;){j=(i=G)+56|0;do{b[i>>2]=0,i=i+4|0}while((0|i)<(0|j));if(0|ca(k=0|b[(c=y+(r<<3)|0)>>2],c=0|b[c+4>>2],1,G,0)){j=(i=G)+56|0;do{b[i>>2]=0,i=i+4|0}while((0|i)<(0|j));0|(i=0|kd(7,4))&&(da(k,c,1,G,i,7,0,0),jd(i))}for(q=0;;){o=0|b[(p=G+(q<<3)|0)>>2],p=0|b[p+4>>2];e:do{if(0==(0|o)&0==(0|p))i=g,j=h;else{if(l=0|td(0|o,0|p,0|D,0|E),k=0|H(),!(0==(0|(j=0|b[(c=i=e+(l<<3)|0)>>2]))&0==(0|(c=0|b[c+4>>2])))){m=0,n=0;do{if((0|m)>(0|E)|(0|m)==(0|E)&n>>>0>D>>>0)break d;if((0|j)==(0|o)&(0|c)==(0|p)){i=g,j=h;break e}l=0|sd(0|(i=0|ld(0|l,0|k,1,0)),0|H(),0|D,0|E),k=0|H(),n=0|ld(0|n,0|m,1,0),m=0|H(),j=0|b[(c=i=e+(l<<3)|0)>>2],c=0|b[c+4>>2]}while(!(0==(0|j)&0==(0|c)))}0==(0|o)&0==(0|p)?(i=g,j=h):(Pb(o,p,I),0|Gc(a,J,I)&&(n=0|ld(0|g,0|h,1,0),h=0|H(),b[(m=i)>>2]=o,b[m+4>>2]=p,b[(g=z+(g<<3)|0)>>2]=o,b[g+4>>2]=p,g=n),i=g,j=h)}}while(0);if((q=q+1|0)>>>0>=7)break;g=i,h=j}if(r=0|ld(0|r,0|s,1,0),s=0|H(),t=0|ld(0|t,0|u,1,0),u=0|H(),g=0|b[(h=F)>>2],!((0|u)<(0|(h=0|b[h+4>>2]))|(0|u)==(0|h)&t>>>0<g>>>0))break;g=i,h=j}if((0|h)>0|0==(0|h)&g>>>0>0){g=0,h=0;do{b[(u=y+(g<<3)|0)>>2]=0,b[u+4>>2]=0,g=0|ld(0|g,0|h,1,0),h=0|H(),t=0|b[(u=F)+4>>2]}while((0|h)<(0|t)|((0|h)==(0|t)?g>>>0<(0|b[u>>2])>>>0:0))}if(b[(u=F)>>2]=i,b[u+4>>2]=j,!((0|j)>0|0==(0|j)&i>>>0>0))break c;q=f,r=x,s=C,t=w,u=z,f=v,x=d,w=A,v=q,d=r,C=B,B=s,A=t,z=y,y=u}jd(A),jd(B),jd(J),d=1;break a}d=i}while(0);jd(J),jd(f),jd(d),d=0}}while(0);return T=K,0|(J=d)},_readInt64AsDoubleFromPointer:function Oc(a){return+(+((0|b[(a|=0)>>2])>>>0)+4294967296*+(0|b[a+4>>2]))},_res0CellCount:function va(){return 122},_round:Cd,_sbrk:Dd,_sizeOfCellBoundary:function Jc(){return 168},_sizeOfCoordIJ:function Nc(){return 8},_sizeOfGeoLoop:function Kc(){return 8},_sizeOfGeoPolygon:function Lc(){return 16},_sizeOfH3Index:function Hc(){return 8},_sizeOfLatLng:function Ic(){return 16},_sizeOfLinkedGeoPolygon:function Mc(){return 12},_uncompactCells:function Cb(a,c,d,e,f,g,h){a|=0,e|=0,f|=0,g|=0;var q,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;if(q=T,T=T+16|0,p=q,!((0|(d|=0))>0|0==(0|d)&(c|=0)>>>0>0))return T=q,0|(p=0);if((0|(h|=0))>=16)return T=q,0|(p=12);n=0,o=0,m=0,i=0;a:for(;;){if(l=0|vd(0|(j=0|b[(k=a+(n<<3)|0)>>2]),0|(k=0|b[k+4>>2]),52),H(),(15&l|0)>(0|h)){i=12,j=11;break}if(Xb(p,j,k,h),0==(0|(k=0|b[(l=p)>>2]))&0==(0|(l=0|b[l+4>>2])))j=m;else{j=m;do{if(!((0|i)<(0|g)|(0|i)==(0|g)&j>>>0<f>>>0)){j=10;break a}b[(m=e+(j<<3)|0)>>2]=k,b[m+4>>2]=l,j=0|ld(0|j,0|i,1,0),i=0|H(),Yb(p),k=0|b[(m=p)>>2],l=0|b[m+4>>2]}while(!(0==(0|k)&0==(0|l)))}if(n=0|ld(0|n,0|o,1,0),!((0|(o=0|H()))<(0|d)|(0|o)==(0|d)&n>>>0<c>>>0)){i=0,j=11;break}m=j}return 10==(0|j)?(T=q,0|(p=14)):11==(0|j)?(T=q,0|i):0},_uncompactCellsSize:function Db(a,c,d,e,f){a|=0,c|=0,d|=0,e|=0,f|=0;var m,n,g=0,h=0,i=0,j=0,k=0,l=0;n=T,T=T+16|0,m=n;a:do{if((0|d)>0|0==(0|d)&c>>>0>0){for(k=0,h=0,g=0,l=0;;){if(!(0==(0|(i=0|b[(j=a+(k<<3)|0)>>2]))&0==(0|(j=0|b[j+4>>2]))||(j=0==(0|wb(i,j,e,m)),h=0|ld(0|b[(i=m)>>2],0|b[i+4>>2],0|h,0|g),g=0|H(),j))){g=12;break}if(k=0|ld(0|k,0|l,1,0),!((0|(l=0|H()))<(0|d)|(0|l)==(0|d)&k>>>0<c>>>0))break a}return T=n,0|g}h=0,g=0}while(0);return b[f>>2]=h,b[f+4>>2]=g,T=n,0|(f=0)},_vertexToLatLng:function Yc(a,c,d){d|=0;var e,f,g,j,h=0,i=0;return j=T,T=T+192|0,f=j,g=j+168|0,h=0|vd(0|(a|=0),0|(c|=0),56),H(),h&=7,0|(e=0|Ob(a,i=-2130706433&c|134217728,g))?(T=j,0|(i=e)):(c=0|vd(0|a,0|c,52),H(),c&=15,0|xb(a,i)?mb(g,c,h,1,f):qb(g,c,h,1,f),i=f+8|0,b[d>>2]=b[i>>2],b[d+4>>2]=b[i+4>>2],b[d+8>>2]=b[i+8>>2],b[d+12>>2]=b[i+12>>2],T=j,0|(i=0))},establishStackSpace:function _(a,b){T=a|=0},stackAlloc:function X(a){var b;return b=T,T=(T=T+(a|=0)|0)+15&-16,0|b},stackRestore:function Z(a){T=a|=0},stackSave:function Y(){return 0|T}}}({Math:Math,Int8Array:Int8Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Float32Array:Float32Array,Float64Array:Float64Array},{a:abort,b:function(value){tempRet0=value},c:function(){return tempRet0},d:function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"])},e:function ___setErrNo(value){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=value),value},f:_emscripten_get_heap_size,g:function _emscripten_memcpy_big(dest,src,num){HEAPU8.set(HEAPU8.subarray(src,src+num),dest)},h:function _emscripten_resize_heap(requestedSize){var oldSize=_emscripten_get_heap_size();if(requestedSize>2130706432)return!1;for(var newSize=Math.max(oldSize,16777216);newSize<requestedSize;)newSize=newSize<=536870912?alignUp(2*newSize,16777216):Math.min(alignUp((3*newSize+2147483648)/4,16777216),2130706432);return!!emscripten_realloc_buffer(newSize)},i:function abortOnCannotGrowMemory(requestedSize){abort("OOM")},j:demangle,k:demangleAll,l:emscripten_realloc_buffer,m:jsStackTrace,n:function stackTrace(){var js=jsStackTrace();return Module.extraStackTrace&&(js+="\n"+Module.extraStackTrace()),demangleAll(js)},o:24144,p:24128},buffer),_emscripten_replace_memory=(Module.___divdi3=asm.___divdi3,Module.___muldi3=asm.___muldi3,Module.___remdi3=asm.___remdi3,Module.___uremdi3=asm.___uremdi3,Module._areNeighborCells=asm._areNeighborCells,Module._bitshift64Ashr=asm._bitshift64Ashr,Module._bitshift64Lshr=asm._bitshift64Lshr,Module._bitshift64Shl=asm._bitshift64Shl,Module._calloc=asm._calloc,Module._cellAreaKm2=asm._cellAreaKm2,Module._cellAreaM2=asm._cellAreaM2,Module._cellAreaRads2=asm._cellAreaRads2,Module._cellToBoundary=asm._cellToBoundary,Module._cellToCenterChild=asm._cellToCenterChild,Module._cellToChildPos=asm._cellToChildPos,Module._cellToChildren=asm._cellToChildren,Module._cellToChildrenSize=asm._cellToChildrenSize,Module._cellToLatLng=asm._cellToLatLng,Module._cellToLocalIj=asm._cellToLocalIj,Module._cellToParent=asm._cellToParent,Module._cellToVertex=asm._cellToVertex,Module._cellToVertexes=asm._cellToVertexes,Module._cellsToDirectedEdge=asm._cellsToDirectedEdge,Module._cellsToLinkedMultiPolygon=asm._cellsToLinkedMultiPolygon,Module._childPosToCell=asm._childPosToCell,Module._compactCells=asm._compactCells,Module._destroyLinkedMultiPolygon=asm._destroyLinkedMultiPolygon,Module._directedEdgeToBoundary=asm._directedEdgeToBoundary,Module._directedEdgeToCells=asm._directedEdgeToCells,Module._edgeLengthKm=asm._edgeLengthKm,Module._edgeLengthM=asm._edgeLengthM,Module._edgeLengthRads=asm._edgeLengthRads,Module._emscripten_replace_memory=asm._emscripten_replace_memory),stackAlloc=(Module._free=asm._free,Module._getBaseCellNumber=asm._getBaseCellNumber,Module._getDirectedEdgeDestination=asm._getDirectedEdgeDestination,Module._getDirectedEdgeOrigin=asm._getDirectedEdgeOrigin,Module._getHexagonAreaAvgKm2=asm._getHexagonAreaAvgKm2,Module._getHexagonAreaAvgM2=asm._getHexagonAreaAvgM2,Module._getHexagonEdgeLengthAvgKm=asm._getHexagonEdgeLengthAvgKm,Module._getHexagonEdgeLengthAvgM=asm._getHexagonEdgeLengthAvgM,Module._getIcosahedronFaces=asm._getIcosahedronFaces,Module._getNumCells=asm._getNumCells,Module._getPentagons=asm._getPentagons,Module._getRes0Cells=asm._getRes0Cells,Module._getResolution=asm._getResolution,Module._greatCircleDistanceKm=asm._greatCircleDistanceKm,Module._greatCircleDistanceM=asm._greatCircleDistanceM,Module._greatCircleDistanceRads=asm._greatCircleDistanceRads,Module._gridDisk=asm._gridDisk,Module._gridDiskDistances=asm._gridDiskDistances,Module._gridDistance=asm._gridDistance,Module._gridPathCells=asm._gridPathCells,Module._gridPathCellsSize=asm._gridPathCellsSize,Module._gridRingUnsafe=asm._gridRingUnsafe,Module._i64Add=asm._i64Add,Module._i64Subtract=asm._i64Subtract,Module._isPentagon=asm._isPentagon,Module._isResClassIII=asm._isResClassIII,Module._isValidCell=asm._isValidCell,Module._isValidDirectedEdge=asm._isValidDirectedEdge,Module._isValidVertex=asm._isValidVertex,Module._latLngToCell=asm._latLngToCell,Module._llvm_maxnum_f64=asm._llvm_maxnum_f64,Module._llvm_minnum_f64=asm._llvm_minnum_f64,Module._llvm_round_f64=asm._llvm_round_f64,Module._localIjToCell=asm._localIjToCell,Module._malloc=asm._malloc,Module._maxFaceCount=asm._maxFaceCount,Module._maxGridDiskSize=asm._maxGridDiskSize,Module._maxPolygonToCellsSize=asm._maxPolygonToCellsSize,Module._memcpy=asm._memcpy,Module._memset=asm._memset,Module._originToDirectedEdges=asm._originToDirectedEdges,Module._pentagonCount=asm._pentagonCount,Module._polygonToCells=asm._polygonToCells,Module._readInt64AsDoubleFromPointer=asm._readInt64AsDoubleFromPointer,Module._res0CellCount=asm._res0CellCount,Module._round=asm._round,Module._sbrk=asm._sbrk,Module._sizeOfCellBoundary=asm._sizeOfCellBoundary,Module._sizeOfCoordIJ=asm._sizeOfCoordIJ,Module._sizeOfGeoLoop=asm._sizeOfGeoLoop,Module._sizeOfGeoPolygon=asm._sizeOfGeoPolygon,Module._sizeOfH3Index=asm._sizeOfH3Index,Module._sizeOfLatLng=asm._sizeOfLatLng,Module._sizeOfLinkedGeoPolygon=asm._sizeOfLinkedGeoPolygon,Module._uncompactCells=asm._uncompactCells,Module._uncompactCellsSize=asm._uncompactCellsSize,Module._vertexToLatLng=asm._vertexToLatLng,Module.establishStackSpace=asm.establishStackSpace,Module.stackAlloc=asm.stackAlloc),stackRestore=Module.stackRestore=asm.stackRestore,stackSave=Module.stackSave=asm.stackSave;if(Module.asm=asm,Module.cwrap=function cwrap(ident,returnType,argTypes,opts){var numericArgs=(argTypes=argTypes||[]).every((function(type){return"number"===type}));return"string"!==returnType&&numericArgs&&!opts?getCFunc(ident):function(){return ccall(ident,returnType,argTypes,arguments)}},Module.setValue=function setValue(ptr,value,type,noSafe){switch("*"===(type=type||"i8").charAt(type.length-1)&&(type="i32"),type){case"i1":case"i8":HEAP8[ptr>>0]=value;break;case"i16":HEAP16[ptr>>1]=value;break;case"i32":HEAP32[ptr>>2]=value;break;case"i64":tempI64=[value>>>0,(tempDouble=value,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[ptr>>2]=tempI64[0],HEAP32[ptr+4>>2]=tempI64[1];break;case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;default:abort("invalid type for setValue: "+type)}},Module.getValue=function getValue(ptr,type,noSafe){switch("*"===(type=type||"i8").charAt(type.length-1)&&(type="i32"),type){case"i1":case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":case"i64":return HEAP32[ptr>>2];case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];default:abort("invalid type for getValue: "+type)}return null},memoryInitializer){isDataURI(memoryInitializer)||(memoryInitializer=function locateFile(path){return Module.locateFile?Module.locateFile(path,scriptDirectory):scriptDirectory+path}(memoryInitializer)),function addRunDependency(id){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}();var applyMemoryInitializer=function(data){data.byteLength&&(data=new Uint8Array(data)),HEAPU8.set(data,8),Module.memoryInitializerRequest&&delete Module.memoryInitializerRequest.response,function removeRunDependency(id){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var callback=dependenciesFulfilled;dependenciesFulfilled=null,callback()}}()},doBrowserLoad=function(){readAsync(memoryInitializer,applyMemoryInitializer,(function(){throw"could not load memory initializer "+memoryInitializer}))},memoryInitializerBytes=tryParseAsDataURI(memoryInitializer);if(memoryInitializerBytes)applyMemoryInitializer(memoryInitializerBytes.buffer);else if(Module.memoryInitializerRequest){var useRequest=function(){var request=Module.memoryInitializerRequest,response=request.response;if(200!==request.status&&0!==request.status){var data=tryParseAsDataURI(Module.memoryInitializerRequestURL);if(!data)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+request.status+", retrying "+memoryInitializer),void doBrowserLoad();response=data.buffer}applyMemoryInitializer(response)};Module.memoryInitializerRequest.response?setTimeout(useRequest,0):Module.memoryInitializerRequest.addEventListener("load",useRequest)}else doBrowserLoad()}function run(args){function doRun(){calledRun||(calledRun=!0,ABORT||(!function initRuntime(){callRuntimeCallbacks(__ATINIT__)}(),function preMain(){callRuntimeCallbacks(__ATMAIN__)}(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)cb=Module.postRun.shift(),__ATPOSTRUN__.unshift(cb);var cb;callRuntimeCallbacks(__ATPOSTRUN__)}()))}args=args||arguments_,runDependencies>0||(!function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)cb=Module.preRun.shift(),__ATPRERUN__.unshift(cb);var cb;callRuntimeCallbacks(__ATPRERUN__)}(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Module.setStatus("")}),1),doRun()}),1)):doRun()))}function abort(what){throw Module.onAbort&&Module.onAbort(what),out(what+=""),err(what),ABORT=!0,"abort("+what+"). Build with -s ASSERTIONS=1 for more info."}if(dependenciesFulfilled=function runCaller(){calledRun||run(),calledRun||(dependenciesFulfilled=runCaller)},Module.run=run,Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();return run(),libh3}("object"==typeof libh3?libh3:{}),NUMBER="number",BINDINGS=[["sizeOfH3Index",NUMBER],["sizeOfLatLng",NUMBER],["sizeOfCellBoundary",NUMBER],["sizeOfGeoLoop",NUMBER],["sizeOfGeoPolygon",NUMBER],["sizeOfLinkedGeoPolygon",NUMBER],["sizeOfCoordIJ",NUMBER],["readInt64AsDoubleFromPointer",NUMBER],["isValidCell",NUMBER,[NUMBER,NUMBER]],["latLngToCell",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["cellToLatLng",NUMBER,[NUMBER,NUMBER,NUMBER]],["cellToBoundary",NUMBER,[NUMBER,NUMBER,NUMBER]],["maxGridDiskSize",NUMBER,[NUMBER,NUMBER]],["gridDisk",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["gridDiskDistances",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["gridRingUnsafe",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["maxPolygonToCellsSize",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["polygonToCells",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["cellsToLinkedMultiPolygon",NUMBER,[NUMBER,NUMBER,NUMBER]],["destroyLinkedMultiPolygon",null,[NUMBER]],["compactCells",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["uncompactCells",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["uncompactCellsSize",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["isPentagon",NUMBER,[NUMBER,NUMBER]],["isResClassIII",NUMBER,[NUMBER,NUMBER]],["getBaseCellNumber",NUMBER,[NUMBER,NUMBER]],["getResolution",NUMBER,[NUMBER,NUMBER]],["maxFaceCount",NUMBER,[NUMBER,NUMBER,NUMBER]],["getIcosahedronFaces",NUMBER,[NUMBER,NUMBER,NUMBER]],["cellToParent",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["cellToChildren",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["cellToCenterChild",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["cellToChildrenSize",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["cellToChildPos",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["childPosToCell",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["areNeighborCells",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["cellsToDirectedEdge",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["getDirectedEdgeOrigin",NUMBER,[NUMBER,NUMBER,NUMBER]],["getDirectedEdgeDestination",NUMBER,[NUMBER,NUMBER,NUMBER]],["isValidDirectedEdge",NUMBER,[NUMBER,NUMBER]],["directedEdgeToCells",NUMBER,[NUMBER,NUMBER,NUMBER]],["originToDirectedEdges",NUMBER,[NUMBER,NUMBER,NUMBER]],["directedEdgeToBoundary",NUMBER,[NUMBER,NUMBER,NUMBER]],["gridDistance",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["gridPathCells",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["gridPathCellsSize",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["cellToLocalIj",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["localIjToCell",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["getHexagonAreaAvgM2",NUMBER,[NUMBER,NUMBER]],["getHexagonAreaAvgKm2",NUMBER,[NUMBER,NUMBER]],["getHexagonEdgeLengthAvgM",NUMBER,[NUMBER,NUMBER]],["getHexagonEdgeLengthAvgKm",NUMBER,[NUMBER,NUMBER]],["greatCircleDistanceM",NUMBER,[NUMBER,NUMBER]],["greatCircleDistanceKm",NUMBER,[NUMBER,NUMBER]],["greatCircleDistanceRads",NUMBER,[NUMBER,NUMBER]],["cellAreaM2",NUMBER,[NUMBER,NUMBER,NUMBER]],["cellAreaKm2",NUMBER,[NUMBER,NUMBER,NUMBER]],["cellAreaRads2",NUMBER,[NUMBER,NUMBER,NUMBER]],["edgeLengthM",NUMBER,[NUMBER,NUMBER,NUMBER]],["edgeLengthKm",NUMBER,[NUMBER,NUMBER,NUMBER]],["edgeLengthRads",NUMBER,[NUMBER,NUMBER,NUMBER]],["getNumCells",NUMBER,[NUMBER,NUMBER]],["getRes0Cells",NUMBER,[NUMBER]],["res0CellCount",NUMBER],["getPentagons",NUMBER,[NUMBER,NUMBER]],["pentagonCount",NUMBER],["cellToVertex",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["cellToVertexes",NUMBER,[NUMBER,NUMBER,NUMBER]],["vertexToLatLng",NUMBER,[NUMBER,NUMBER,NUMBER]],["isValidVertex",NUMBER,[NUMBER,NUMBER]]],E_RES_DOMAIN=4,E_CELL_INVALID=5,H3_ERROR_MSGS={0:"Success",1:"The operation failed but a more specific error is not available",2:"Argument was outside of acceptable range",3:"Latitude or longitude arguments were outside of acceptable range"};H3_ERROR_MSGS[E_RES_DOMAIN]="Resolution argument was outside of acceptable range",H3_ERROR_MSGS[E_CELL_INVALID]="Cell argument was not valid",H3_ERROR_MSGS[6]="Directed edge argument was not valid",H3_ERROR_MSGS[7]="Undirected edge argument was not valid",H3_ERROR_MSGS[8]="Vertex argument was not valid",H3_ERROR_MSGS[9]="Pentagon distortion was encountered",H3_ERROR_MSGS[10]="Duplicate input",H3_ERROR_MSGS[11]="Cell arguments were not neighbors",H3_ERROR_MSGS[12]="Cell arguments had incompatible resolutions",H3_ERROR_MSGS[13]="Memory allocation failed",H3_ERROR_MSGS[14]="Bounds of provided memory were insufficient",H3_ERROR_MSGS[15]="Mode or flags argument was not valid";var E_ARRAY_LENGTH=1001,E_NULL_INDEX=1002,JS_ERROR_MESSAGES={1e3:"Unknown unit"};JS_ERROR_MESSAGES[E_ARRAY_LENGTH]="Array length out of bounds",JS_ERROR_MESSAGES[E_NULL_INDEX]="Got unexpected null value for H3 index";var UNKNOWN_ERROR_MSG="Unknown error";function createError(messages,errCode,meta){var hasValue=meta&&"value"in meta,err=new Error((messages[errCode]||UNKNOWN_ERROR_MSG)+" (code: "+errCode+(hasValue?", value: "+meta.value:"")+")");return err.code=errCode,err}function H3LibraryError(errCode,value){return createError(H3_ERROR_MSGS,errCode,2===arguments.length?{value:value}:{})}function JSBindingError(errCode,value){return createError(JS_ERROR_MESSAGES,errCode,2===arguments.length?{value:value}:{})}function throwIfError(errCode){if(0!==errCode)throw H3LibraryError(errCode)}var H3={};BINDINGS.forEach((function bind(def){H3[def[0]]=libh3.cwrap.apply(libh3,def)}));var BASE_16=16,SZ_INT=4,SZ_PTR=4,SZ_DBL=8,SZ_INT64=8,SZ_H3INDEX=H3.sizeOfH3Index(),SZ_LATLNG=H3.sizeOfLatLng(),SZ_CELLBOUNDARY=H3.sizeOfCellBoundary(),SZ_LINKED_GEOPOLYGON=(H3.sizeOfGeoPolygon(),H3.sizeOfGeoLoop(),H3.sizeOfLinkedGeoPolygon()),UNITS_m=(H3.sizeOfCoordIJ(),"m"),UNITS_km="km";function validateRes(res){if("number"!=typeof res||res<0||res>15||Math.floor(res)!==res)throw H3LibraryError(E_RES_DOMAIN,res);return res}function validateH3Index(h3Index){if(!h3Index)throw JSBindingError(E_NULL_INDEX);return h3Index}Math.pow(2,32);var INVALID_HEXIDECIMAL_CHAR=/[^0-9a-fA-F]/;function h3IndexToSplitLong(h3Index){if(Array.isArray(h3Index)&&2===h3Index.length&&Number.isInteger(h3Index[0])&&Number.isInteger(h3Index[1]))return h3Index;if("string"!=typeof h3Index||INVALID_HEXIDECIMAL_CHAR.test(h3Index))return[0,0];var upper=parseInt(h3Index.substring(0,h3Index.length-8),BASE_16);return[parseInt(h3Index.substring(h3Index.length-8),BASE_16),upper]}function hexFrom32Bit(num){if(num>=0)return num.toString(BASE_16);var tempStr=zeroPad(8,(num&=2147483647).toString(BASE_16));return tempStr=(parseInt(tempStr[0],BASE_16)+8).toString(BASE_16)+tempStr.substring(1)}function zeroPad(fullLen,numStr){for(var numZeroes=fullLen-numStr.length,outStr="",i=0;i<numZeroes;i++)outStr+="0";return outStr+=numStr}Math.pow(2,32);function readH3IndexFromPointer(cAddress,offset){void 0===offset&&(offset=0);var lower=libh3.getValue(cAddress+SZ_H3INDEX*offset,"i32"),upper=libh3.getValue(cAddress+SZ_H3INDEX*offset+SZ_INT,"i32");return upper?function splitLongToH3Index(lower,upper){return hexFrom32Bit(upper)+zeroPad(8,hexFrom32Bit(lower))}(lower,upper):null}function readDoubleFromPointer(cAddress,offset){return void 0===offset&&(offset=0),libh3.getValue(cAddress+SZ_DBL*offset,"double")}function readInt64AsDoubleFromPointer(cAddress){return H3.readInt64AsDoubleFromPointer(cAddress)}function storeH3Index(h3Index,cAddress,offset){libh3.HEAPU32.set(h3IndexToSplitLong(h3Index),cAddress/SZ_INT+2*offset)}function storeArrayOfH3Indexes(cAddress,hexagons){for(var count=hexagons.length,i=0;i<count;i++)storeH3Index(hexagons[i],cAddress,i)}function readSingleCoord(cAddress){return function radsToDegs(rad){return 180*rad/Math.PI}(libh3.getValue(cAddress,"double"))}function readLatLng(cAddress){return[readSingleCoord(cAddress),readSingleCoord(cAddress+SZ_DBL)]}function readLatLngGeoJson(cAddress){return[readSingleCoord(cAddress+SZ_DBL),readSingleCoord(cAddress)]}function readCellBoundary(cellBoundary,geoJsonCoords,closedLoop){for(var numVerts=libh3.getValue(cellBoundary,"i32"),vertsPos=cellBoundary+SZ_DBL,out=[],readCoord=geoJsonCoords?readLatLngGeoJson:readLatLng,i=0;i<2*numVerts;i+=2)out.push(readCoord(vertsPos+SZ_DBL*i));return closedLoop&&out.push(out[0]),out}function isPentagon(h3Index){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];return Boolean(H3.isPentagon(lower,upper))}function cellToLatLng(h3Index){var latLng=libh3._malloc(SZ_LATLNG),ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];try{return throwIfError(H3.cellToLatLng(lower,upper,latLng)),readLatLng(latLng)}finally{libh3._free(latLng)}}function cellsToMultiPolygon(h3Indexes,formatAsGeoJson){if(!h3Indexes||!h3Indexes.length)return[];var indexCount=h3Indexes.length,set=libh3._calloc(indexCount,SZ_H3INDEX);storeArrayOfH3Indexes(set,h3Indexes);var polygon=libh3._calloc(SZ_LINKED_GEOPOLYGON);try{return throwIfError(H3.cellsToLinkedMultiPolygon(set,indexCount,polygon)),function readMultiPolygon(polygon,formatAsGeoJson){for(var loops,loop,coords,coord,output=[],readCoord=formatAsGeoJson?readLatLngGeoJson:readLatLng;polygon;){for(output.push(loops=[]),loop=libh3.getValue(polygon,"i8*");loop;){for(loops.push(coords=[]),coord=libh3.getValue(loop,"i8*");coord;)coords.push(readCoord(coord)),coord=libh3.getValue(coord+2*SZ_DBL,"i8*");formatAsGeoJson&&coords.push(coords[0]),loop=libh3.getValue(loop+2*SZ_PTR,"i8*")}polygon=libh3.getValue(polygon+2*SZ_PTR,"i8*")}return output}(polygon,formatAsGeoJson)}finally{H3.destroyLinkedMultiPolygon(polygon),libh3._free(polygon),libh3._free(set)}}function getHexagonEdgeLengthAvg(res,unit){validateRes(res);var out=libh3._malloc(SZ_DBL);try{switch(unit){case UNITS_m:throwIfError(H3.getHexagonEdgeLengthAvgM(res,out));break;case UNITS_km:throwIfError(H3.getHexagonEdgeLengthAvgKm(res,out));break;default:throw JSBindingError(1e3,unit)}return readDoubleFromPointer(out)}finally{libh3._free(out)}}function degsToRads(deg){return deg*Math.PI/180}var iterable_utils=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/iterable-utils.js"),column_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/column-layer/column-layer.js");function normalizeLongitudes(vertices,refLng){refLng=void 0===refLng?vertices[0][0]:refLng;for(const pt of vertices){const deltaLng=pt[0]-refLng;deltaLng>180?pt[0]-=360:deltaLng<-180&&(pt[0]+=360)}}function getHexagonCentroid(getHexagon,object,objectInfo){const hexagonId=getHexagon(object,objectInfo),[lat,lng]=cellToLatLng(hexagonId);return[lng,lat]}function h3ToPolygon(hexId,coverage=1){const vertices=function cellToBoundary(h3Index,formatAsGeoJson){var cellBoundary=libh3._malloc(SZ_CELLBOUNDARY),ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];try{return throwIfError(H3.cellToBoundary(lower,upper,cellBoundary)),readCellBoundary(cellBoundary,formatAsGeoJson,formatAsGeoJson)}finally{libh3._free(cellBoundary)}}(hexId,!0);return 1!==coverage?function scalePolygon(hexId,vertices,factor){const[lat,lng]=cellToLatLng(hexId),actualCount=vertices.length;normalizeLongitudes(vertices,lng);const vertexCount=vertices[0]===vertices[actualCount-1]?actualCount-1:actualCount;for(let i=0;i<vertexCount;i++)vertices[i][0]=(0,common.t7)(lng,vertices[i][0],factor),vertices[i][1]=(0,common.t7)(lat,vertices[i][1],factor)}(hexId,vertices,coverage):normalizeLongitudes(vertices),vertices}const h3_hexagon_layer_defaultProps={...polygon_layer.Z.defaultProps,highPrecision:"auto",coverage:{type:"number",min:0,max:1,value:1},centerHexagon:null,getHexagon:{type:"accessor",value:x=>x.hexagon},extruded:!0};class H3HexagonLayer extends composite_layer.Z{static{this.defaultProps=h3_hexagon_layer_defaultProps}static{this.layerName="H3HexagonLayer"}static{this._checkH3Lib=()=>{}}initializeState(){H3HexagonLayer._checkH3Lib(),this.state={edgeLengthKM:0,resolution:-1}}shouldUpdateState({changeFlags:changeFlags}){return this._shouldUseHighPrecision()?changeFlags.propsOrDataChanged:changeFlags.somethingChanged}updateState({props:props,changeFlags:changeFlags}){if(!0!==props.highPrecision&&(changeFlags.dataChanged||changeFlags.updateTriggersChanged&&changeFlags.updateTriggersChanged.getHexagon)){const dataProps=this._calculateH3DataProps();this.setState(dataProps)}this._updateVertices(this.context.viewport)}_calculateH3DataProps(){let resolution=-1,hasPentagon=!1,hasMultipleRes=!1;const{iterable:iterable,objectInfo:objectInfo}=(0,iterable_utils.jB)(this.props.data);for(const object of iterable){objectInfo.index++;const hexId=this.props.getHexagon(object,objectInfo),hexResolution=(ref=void 0,lower=void 0,upper=void 0,ref=h3IndexToSplitLong(hexId),lower=ref[0],upper=ref[1],H3.isValidCell(lower,upper)?H3.getResolution(lower,upper):-1);if(resolution<0){if(resolution=hexResolution,!this.props.highPrecision)break}else if(resolution!==hexResolution){hasMultipleRes=!0;break}if(isPentagon(hexId)){hasPentagon=!0;break}}var ref,lower,upper;return{resolution:resolution,edgeLengthKM:resolution>=0?getHexagonEdgeLengthAvg(resolution,"km"):0,hasMultipleRes:hasMultipleRes,hasPentagon:hasPentagon}}_shouldUseHighPrecision(){if("auto"===this.props.highPrecision){const{resolution:resolution,hasPentagon:hasPentagon,hasMultipleRes:hasMultipleRes}=this.state,{viewport:viewport}=this.context;return Boolean(viewport?.resolution)||hasMultipleRes||hasPentagon||resolution>=0&&resolution<=5}return this.props.highPrecision}_updateVertices(viewport){if(this._shouldUseHighPrecision())return;const{resolution:resolution,edgeLengthKM:edgeLengthKM,centerHex:centerHex}=this.state;if(resolution<0)return;const hex=this.props.centerHexagon||function latLngToCell(lat,lng,res){var latLng=libh3._malloc(SZ_LATLNG);libh3.HEAPF64.set([lat,lng].map(degsToRads),latLng/SZ_DBL);var h3Index=libh3._malloc(SZ_H3INDEX);try{return throwIfError(H3.latLngToCell(latLng,res,h3Index)),validateH3Index(readH3IndexFromPointer(h3Index))}finally{libh3._free(h3Index),libh3._free(latLng)}}(viewport.latitude,viewport.longitude,resolution);if(centerHex===hex)return;if(centerHex)try{if(function gridDistance(origin,destination){var ref=h3IndexToSplitLong(origin),oLower=ref[0],oUpper=ref[1],ref$1=h3IndexToSplitLong(destination),dLower=ref$1[0],dUpper=ref$1[1],countPtr=libh3._malloc(SZ_INT64);try{return throwIfError(H3.gridDistance(oLower,oUpper,dLower,dUpper,countPtr)),readInt64AsDoubleFromPointer(countPtr)}finally{libh3._free(countPtr)}}(centerHex,hex)*edgeLengthKM<10)return}catch{}const{unitsPerMeter:unitsPerMeter}=viewport.distanceScales;let vertices=h3ToPolygon(hex);const[centerLat,centerLng]=cellToLatLng(hex),[centerX,centerY]=viewport.projectFlat([centerLng,centerLat]);vertices=vertices.map((p=>{const worldPosition=viewport.projectFlat(p);return[(worldPosition[0]-centerX)/unitsPerMeter[0],(worldPosition[1]-centerY)/unitsPerMeter[1]]})),this.setState({centerHex:hex,vertices:vertices})}renderLayers(){return this._shouldUseHighPrecision()?this._renderPolygonLayer():this._renderColumnLayer()}_getForwardProps(){const{elevationScale:elevationScale,material:material,coverage:coverage,extruded:extruded,wireframe:wireframe,stroked:stroked,filled:filled,lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels,getFillColor:getFillColor,getElevation:getElevation,getLineColor:getLineColor,getLineWidth:getLineWidth,transitions:transitions,updateTriggers:updateTriggers}=this.props;return{elevationScale:elevationScale,extruded:extruded,coverage:coverage,wireframe:wireframe,stroked:stroked,filled:filled,lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels,material:material,getElevation:getElevation,getFillColor:getFillColor,getLineColor:getLineColor,getLineWidth:getLineWidth,transitions:transitions,updateTriggers:{getFillColor:updateTriggers.getFillColor,getElevation:updateTriggers.getElevation,getLineColor:updateTriggers.getLineColor,getLineWidth:updateTriggers.getLineWidth}}}_renderPolygonLayer(){const{data:data,getHexagon:getHexagon,updateTriggers:updateTriggers,coverage:coverage}=this.props,SubLayerClass=this.getSubLayerClass("hexagon-cell-hifi",polygon_layer.Z),forwardProps=this._getForwardProps();return forwardProps.updateTriggers.getPolygon=function mergeTriggers(getHexagon,coverage){let trigger;return trigger=null==getHexagon?coverage:"object"==typeof getHexagon?{...getHexagon,coverage:coverage}:{getHexagon:getHexagon,coverage:coverage},trigger}(updateTriggers.getHexagon,coverage),new SubLayerClass(forwardProps,this.getSubLayerProps({id:"hexagon-cell-hifi",updateTriggers:forwardProps.updateTriggers}),{data:data,_normalize:!1,_windingOrder:"CCW",positionFormat:"XY",getPolygon:(object,objectInfo)=>function flattenPolygon(vertices){const positions=new Float64Array(2*vertices.length);let i=0;for(const pt of vertices)positions[i++]=pt[0],positions[i++]=pt[1];return positions}(h3ToPolygon(getHexagon(object,objectInfo),coverage))})}_renderColumnLayer(){const{data:data,getHexagon:getHexagon,updateTriggers:updateTriggers}=this.props,SubLayerClass=this.getSubLayerClass("hexagon-cell",column_layer.Z),forwardProps=this._getForwardProps();return forwardProps.updateTriggers.getPosition=updateTriggers.getHexagon,new SubLayerClass(forwardProps,this.getSubLayerProps({id:"hexagon-cell",flatShading:!0,updateTriggers:forwardProps.updateTriggers}),{data:data,diskResolution:6,radius:1,vertices:this.state.vertices,getPosition:getHexagonCentroid.bind(null,getHexagon)})}}const h3_cluster_layer_defaultProps={getHexagons:{type:"accessor",value:d=>d.hexagons}};class H3ClusterLayer extends GeoCellLayer{static{this.layerName="H3ClusterLayer"}static{this.defaultProps=h3_cluster_layer_defaultProps}initializeState(){H3HexagonLayer._checkH3Lib()}updateState({props:props,changeFlags:changeFlags}){if(changeFlags.dataChanged||changeFlags.updateTriggersChanged&&changeFlags.updateTriggersChanged.getHexagons){const{data:data,getHexagons:getHexagons}=props,polygons=[],{iterable:iterable,objectInfo:objectInfo}=(0,iterable_utils.jB)(data);for(const object of iterable){objectInfo.index++;const multiPolygon=cellsToMultiPolygon(getHexagons(object,objectInfo),!0);for(const polygon of multiPolygon){for(const ring of polygon)normalizeLongitudes(ring);polygons.push(this.getSubLayerRow({polygon:polygon},object,objectInfo.index))}}this.setState({polygons:polygons})}}indexToBounds(){const{getElevation:getElevation,getFillColor:getFillColor,getLineColor:getLineColor,getLineWidth:getLineWidth}=this.props;return{data:this.state.polygons,getPolygon:d=>d.polygon,getElevation:this.getSubLayerAccessor(getElevation),getFillColor:this.getSubLayerAccessor(getFillColor),getLineColor:this.getSubLayerAccessor(getLineColor),getLineWidth:this.getSubLayerAccessor(getLineWidth)}}}var geometry_geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometry/geometry.js"),log=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/log.js"),point_cloud_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/point-cloud-layer/point-cloud-layer.js"),scenegraph_layer=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/scenegraph-layer/scenegraph-layer.js"),parse_pbr_material=__webpack_require__("./node_modules/@luma.gl/gltf/dist/pbr/parse-pbr-material.js"),pbr=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/modules-webgl1/lighting/pbr/pbr.js"),model_model=__webpack_require__("./node_modules/@luma.gl/engine/dist/model/model.js"),simple_mesh_layer=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/simple-mesh-layer/simple-mesh-layer.js");const mesh_layer_defaultProps={pbrMaterial:{type:"object",value:null},featureIds:{type:"array",value:null,optional:!0}};class MeshLayer extends simple_mesh_layer.Z{static{this.layerName="MeshLayer"}static{this.defaultProps=mesh_layer_defaultProps}getShaders(){const shaders=super.getShaders();return shaders.modules.push(pbr.b),{...shaders,vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nuniform bool pickFeatureIds;\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec4 uvRegions;\nin vec3 featureIdsPickingColors;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin vec3 instanceModelMatrixCol0;\nin vec3 instanceModelMatrixCol1;\nin vec3 instanceModelMatrixCol2;\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\nvec2 applyUVRegion(vec2 uv) {\n#ifdef HAS_UV_REGIONS\nreturn fract(uv) * (uvRegions.zw - uvRegions.xy) + uvRegions.xy;\n#else\nreturn uv;\n#endif\n}\nvoid main(void) {\nvec2 uv = applyUVRegion(texCoords);\ngeometry.uv = uv;\nif (pickFeatureIds) {\ngeometry.pickingColor = featureIdsPickingColors;\n} else {\ngeometry.pickingColor = instancePickingColors;\n}\nmat3 instanceModelMatrix = mat3(instanceModelMatrixCol0, instanceModelMatrixCol1, instanceModelMatrixCol2);\nvTexCoord = uv;\ncameraPosition = project_uCameraPosition;\nvColor = vec4(colors * instanceColors.rgb, instanceColors.a);\nvec3 pos = (instanceModelMatrix * positions) * sizeScale;\nvec3 projectedPosition = project_position(positions);\nposition_commonspace = vec4(projectedPosition, 1.0);\ngl_Position = project_common_position_to_clipspace(position_commonspace);\ngeometry.position = position_commonspace;\nnormals_commonspace = project_normal(instanceModelMatrix * normals);\ngeometry.normal = normals_commonspace;\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n#ifdef MODULE_PBR\npbr_vPosition = geometry.position.xyz;\n#ifdef HAS_NORMALS\npbr_vNormal = geometry.normal;\n#endif\n#ifdef HAS_UV\npbr_vUV = uv;\n#else\npbr_vUV = vec2(0., 0.);\n#endif\ngeometry.uv = pbr_vUV;\n#endif\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\nprecision highp float;\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\nout vec4 fragColor;\nvoid main(void) {\n#ifdef MODULE_PBR\nfragColor = vColor * pbr_filterColor(vec4(0));\ngeometry.uv = pbr_vUV;\nfragColor.a *= opacity;\n#else\ngeometry.uv = vTexCoord;\nvec3 normal;\nif (flatShading) {\nnormal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n} else {\nnormal = normals_commonspace;\n}\nvec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\nvec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\nfragColor = vec4(lightColor, color.a * opacity);\n#endif\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n"}}initializeState(){const{featureIds:featureIds}=this.props;super.initializeState();const attributeManager=this.getAttributeManager();featureIds&&attributeManager.add({featureIdsPickingColors:{type:"uint8",size:3,noAlloc:!0,update:this.calculateFeatureIdsPickingColors}})}updateState(params){super.updateState(params);const{props:props,oldProps:oldProps}=params;props.pbrMaterial!==oldProps.pbrMaterial&&this.updatePbrMaterialUniforms(props.pbrMaterial)}draw(opts){const{featureIds:featureIds}=this.props;this.state.model&&(this.state.model.setUniforms({u_Camera:this.state.model.uniforms.project_uCameraPosition,pickFeatureIds:Boolean(featureIds)}),super.draw(opts))}getModel(mesh){const{id:id,pbrMaterial:pbrMaterial}=this.props,parsedPBRMaterial=this.parseMaterial(pbrMaterial,mesh);this.setState({parsedPBRMaterial:parsedPBRMaterial});const shaders=this.getShaders();!function validateGeometryAttributes(attributes){const positionAttribute=attributes.positions||attributes.POSITION,vertexCount=positionAttribute.value.length/positionAttribute.size;attributes.COLOR_0||attributes.colors||(attributes.colors={size:4,value:new Uint8Array(4*vertexCount).fill(255),normalized:!0})}(mesh.attributes);return new model_model.H(this.context.device,{...this.getShaders(),id:id,geometry:mesh,bufferLayout:this.getAttributeManager().getBufferLayouts(),defines:{...shaders.defines,...parsedPBRMaterial?.defines,HAS_UV_REGIONS:mesh.attributes.uvRegions?1:0},parameters:parsedPBRMaterial?.parameters,isInstanced:!0})}updatePbrMaterialUniforms(pbrMaterial){const{model:model}=this.state;if(model){const{mesh:mesh}=this.props,parsedPBRMaterial=this.parseMaterial(pbrMaterial,mesh);this.setState({parsedPBRMaterial:parsedPBRMaterial}),model.setBindings(parsedPBRMaterial.bindings),model.setUniforms(parsedPBRMaterial.uniforms)}}parseMaterial(pbrMaterial,mesh){const unlit=Boolean(pbrMaterial.pbrMetallicRoughness&&pbrMaterial.pbrMetallicRoughness.baseColorTexture);return(0,parse_pbr_material.z)(this.context.device,{unlit:unlit,...pbrMaterial},{NORMAL:mesh.attributes.normals,TEXCOORD_0:mesh.attributes.texCoords},{pbrDebug:!1,lights:!0,useTangents:!1})}calculateFeatureIdsPickingColors(attribute){const featureIds=this.props.featureIds,value=new Uint8ClampedArray(featureIds.length*attribute.size),pickingColor=[];for(let index=0;index<featureIds.length;index++)this.encodePickingColor(featureIds[index],pickingColor),value[3*index]=pickingColor[0],value[3*index+1]=pickingColor[1],value[3*index+2]=pickingColor[2];attribute.value=value}finalizeState(context){super.finalizeState(context),this.state.parsedPBRMaterial?.generatedTextures.forEach((texture=>texture.destroy())),this.setState({parsedPBRMaterial:null})}}var load=__webpack_require__("./node_modules/@loaders.gl/core/dist/lib/api/load.js");Math.max(6378137,6378137,6356752.314245179);function identity(x){return x}new vector3.P;function fromCartographic(cartographic,result=[],map=identity){return"longitude"in cartographic?(result[0]=map(cartographic.longitude),result[1]=map(cartographic.latitude),result[2]=cartographic.height):"x"in cartographic?(result[0]=map(cartographic.x),result[1]=map(cartographic.y),result[2]=cartographic.z):(result[0]=map(cartographic[0]),result[1]=map(cartographic[1]),result[2]=cartographic[2]),result}function toCartographic(vector,cartographic,map=identity){return"longitude"in cartographic?(cartographic.longitude=map(vector[0]),cartographic.latitude=map(vector[1]),cartographic.height=vector[2]):"x"in cartographic?(cartographic.x=map(vector[0]),cartographic.y=map(vector[1]),cartographic.z=vector[2]):(cartographic[0]=map(vector[0]),cartographic[1]=map(vector[1]),cartographic[2]=vector[2]),cartographic}const scratchOrigin=new vector3.P,VECTOR_PRODUCT_LOCAL_FRAME={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},degeneratePositionLocalFrame={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},scratchAxisVectors={east:new vector3.P,north:new vector3.P,up:new vector3.P,west:new vector3.P,south:new vector3.P,down:new vector3.P},scratchVector1=new vector3.P,ellipsoid_transform_scratchVector2=new vector3.P,ellipsoid_transform_scratchVector3=new vector3.P;function localFrameToFixedFrame(ellipsoid,firstAxis,secondAxis,thirdAxis,cartesianOrigin,result){const thirdAxisInferred=VECTOR_PRODUCT_LOCAL_FRAME[firstAxis]&&VECTOR_PRODUCT_LOCAL_FRAME[firstAxis][secondAxis];let firstAxisVector,secondAxisVector,thirdAxisVector;(0,lib_assert.h)(thirdAxisInferred&&(!thirdAxis||thirdAxis===thirdAxisInferred));const origin=scratchOrigin.copy(cartesianOrigin);if((0,common.fS)(origin.x,0,1e-14)&&(0,common.fS)(origin.y,0,1e-14)){const sign=Math.sign(origin.z);firstAxisVector=scratchVector1.fromArray(degeneratePositionLocalFrame[firstAxis]),"east"!==firstAxis&&"west"!==firstAxis&&firstAxisVector.scale(sign),secondAxisVector=ellipsoid_transform_scratchVector2.fromArray(degeneratePositionLocalFrame[secondAxis]),"east"!==secondAxis&&"west"!==secondAxis&&secondAxisVector.scale(sign),thirdAxisVector=ellipsoid_transform_scratchVector3.fromArray(degeneratePositionLocalFrame[thirdAxis]),"east"!==thirdAxis&&"west"!==thirdAxis&&thirdAxisVector.scale(sign)}else{const{up:up,east:east,north:north}=scratchAxisVectors;east.set(-origin.y,origin.x,0).normalize(),ellipsoid.geodeticSurfaceNormal(origin,up),north.copy(up).cross(east);const{down:down,west:west,south:south}=scratchAxisVectors;down.copy(up).scale(-1),west.copy(east).scale(-1),south.copy(north).scale(-1),firstAxisVector=scratchAxisVectors[firstAxis],secondAxisVector=scratchAxisVectors[secondAxis],thirdAxisVector=scratchAxisVectors[thirdAxis]}return result[0]=firstAxisVector.x,result[1]=firstAxisVector.y,result[2]=firstAxisVector.z,result[3]=0,result[4]=secondAxisVector.x,result[5]=secondAxisVector.y,result[6]=secondAxisVector.z,result[7]=0,result[8]=thirdAxisVector.x,result[9]=thirdAxisVector.y,result[10]=thirdAxisVector.z,result[11]=0,result[12]=origin.x,result[13]=origin.y,result[14]=origin.z,result[15]=1,result}const scale_to_geodetic_surface_scratchVector=new vector3.P,scaleToGeodeticSurfaceIntersection=new vector3.P,scaleToGeodeticSurfaceGradient=new vector3.P;const ellipsoid_scratchVector=new vector3.P,ellipsoid_scratchNormal=new vector3.P,scratchK=new vector3.P,ellipsoid_scratchPosition=new vector3.P,scratchHeight=new vector3.P,scratchCartesian=new vector3.P;class Ellipsoid{constructor(x=0,y=0,z=0){this.centerToleranceSquared=.1,(0,lib_assert.h)(x>=0),(0,lib_assert.h)(y>=0),(0,lib_assert.h)(z>=0),this.radii=new vector3.P(x,y,z),this.radiiSquared=new vector3.P(x*x,y*y,z*z),this.radiiToTheFourth=new vector3.P(x*x*x*x,y*y*y*y,z*z*z*z),this.oneOverRadii=new vector3.P(0===x?0:1/x,0===y?0:1/y,0===z?0:1/z),this.oneOverRadiiSquared=new vector3.P(0===x?0:1/(x*x),0===y?0:1/(y*y),0===z?0:1/(z*z)),this.minimumRadius=Math.min(x,y,z),this.maximumRadius=Math.max(x,y,z),0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}equals(right){return this===right||Boolean(right&&this.radii.equals(right.radii))}toString(){return this.radii.toString()}cartographicToCartesian(cartographic,result=[0,0,0]){const normal=ellipsoid_scratchNormal,k=scratchK,[,,height]=cartographic;this.geodeticSurfaceNormalCartographic(cartographic,normal),k.copy(this.radiiSquared).scale(normal);const gamma=Math.sqrt(normal.dot(k));return k.scale(1/gamma),normal.scale(height),k.add(normal),k.to(result)}cartesianToCartographic(cartesian,result=[0,0,0]){scratchCartesian.from(cartesian);const point=this.scaleToGeodeticSurface(scratchCartesian,ellipsoid_scratchPosition);if(!point)return;const normal=this.geodeticSurfaceNormal(point,ellipsoid_scratchNormal),h=scratchHeight;h.copy(scratchCartesian).subtract(point);return function toCartographicFromRadians(vector,cartographic){return toCartographic(vector,cartographic,common.vc._cartographicRadians?identity:common.Ux)}([Math.atan2(normal.y,normal.x),Math.asin(normal.z),Math.sign(vec3.AK(h,scratchCartesian))*vec3.kE(h)],result)}eastNorthUpToFixedFrame(origin,result=new matrix4.y){return localFrameToFixedFrame(this,"east","north","up",origin,result)}localFrameToFixedFrame(firstAxis,secondAxis,thirdAxis,origin,result=new matrix4.y){return localFrameToFixedFrame(this,firstAxis,secondAxis,thirdAxis,origin,result)}geocentricSurfaceNormal(cartesian,result=[0,0,0]){return ellipsoid_scratchVector.from(cartesian).normalize().to(result)}geodeticSurfaceNormalCartographic(cartographic,result=[0,0,0]){const cartographicVectorRadians=function fromCartographicToRadians(cartographic,vector=[]){return fromCartographic(cartographic,vector,common.vc._cartographicRadians?identity:common.Yr)}(cartographic),longitude=cartographicVectorRadians[0],latitude=cartographicVectorRadians[1],cosLatitude=Math.cos(latitude);return ellipsoid_scratchVector.set(cosLatitude*Math.cos(longitude),cosLatitude*Math.sin(longitude),Math.sin(latitude)).normalize(),ellipsoid_scratchVector.to(result)}geodeticSurfaceNormal(cartesian,result=[0,0,0]){return ellipsoid_scratchVector.from(cartesian).scale(this.oneOverRadiiSquared).normalize().to(result)}scaleToGeodeticSurface(cartesian,result){return function scaleToGeodeticSurface(cartesian,ellipsoid,result=[]){const{oneOverRadii:oneOverRadii,oneOverRadiiSquared:oneOverRadiiSquared,centerToleranceSquared:centerToleranceSquared}=ellipsoid;scale_to_geodetic_surface_scratchVector.from(cartesian);const positionX=scale_to_geodetic_surface_scratchVector.x,positionY=scale_to_geodetic_surface_scratchVector.y,positionZ=scale_to_geodetic_surface_scratchVector.z,oneOverRadiiX=oneOverRadii.x,oneOverRadiiY=oneOverRadii.y,oneOverRadiiZ=oneOverRadii.z,x2=positionX*positionX*oneOverRadiiX*oneOverRadiiX,y2=positionY*positionY*oneOverRadiiY*oneOverRadiiY,z2=positionZ*positionZ*oneOverRadiiZ*oneOverRadiiZ,squaredNorm=x2+y2+z2,ratio=Math.sqrt(1/squaredNorm);if(!Number.isFinite(ratio))return;const intersection=scaleToGeodeticSurfaceIntersection;if(intersection.copy(cartesian).scale(ratio),squaredNorm<centerToleranceSquared)return intersection.to(result);const oneOverRadiiSquaredX=oneOverRadiiSquared.x,oneOverRadiiSquaredY=oneOverRadiiSquared.y,oneOverRadiiSquaredZ=oneOverRadiiSquared.z,gradient=scaleToGeodeticSurfaceGradient;gradient.set(intersection.x*oneOverRadiiSquaredX*2,intersection.y*oneOverRadiiSquaredY*2,intersection.z*oneOverRadiiSquaredZ*2);let xMultiplier,yMultiplier,zMultiplier,func,lambda=(1-ratio)*scale_to_geodetic_surface_scratchVector.len()/(.5*gradient.len()),correction=0;do{lambda-=correction,xMultiplier=1/(1+lambda*oneOverRadiiSquaredX),yMultiplier=1/(1+lambda*oneOverRadiiSquaredY),zMultiplier=1/(1+lambda*oneOverRadiiSquaredZ);const xMultiplier2=xMultiplier*xMultiplier,yMultiplier2=yMultiplier*yMultiplier,zMultiplier2=zMultiplier*zMultiplier;func=x2*xMultiplier2+y2*yMultiplier2+z2*zMultiplier2-1,correction=func/(-2*(x2*(xMultiplier2*xMultiplier)*oneOverRadiiSquaredX+y2*(yMultiplier2*yMultiplier)*oneOverRadiiSquaredY+z2*(zMultiplier2*zMultiplier)*oneOverRadiiSquaredZ))}while(Math.abs(func)>1e-12);return scale_to_geodetic_surface_scratchVector.scale([xMultiplier,yMultiplier,zMultiplier]).to(result)}(cartesian,this,result)}scaleToGeocentricSurface(cartesian,result=[0,0,0]){ellipsoid_scratchPosition.from(cartesian);const positionX=ellipsoid_scratchPosition.x,positionY=ellipsoid_scratchPosition.y,positionZ=ellipsoid_scratchPosition.z,oneOverRadiiSquared=this.oneOverRadiiSquared,beta=1/Math.sqrt(positionX*positionX*oneOverRadiiSquared.x+positionY*positionY*oneOverRadiiSquared.y+positionZ*positionZ*oneOverRadiiSquared.z);return ellipsoid_scratchPosition.multiplyScalar(beta).to(result)}transformPositionToScaledSpace(position,result=[0,0,0]){return ellipsoid_scratchPosition.from(position).scale(this.oneOverRadii).to(result)}transformPositionFromScaledSpace(position,result=[0,0,0]){return ellipsoid_scratchPosition.from(position).scale(this.radii).to(result)}getSurfaceNormalIntersectionWithZAxis(position,buffer=0,result=[0,0,0]){(0,lib_assert.h)((0,common.fS)(this.radii.x,this.radii.y,EPSILON15)),(0,lib_assert.h)(this.radii.z>0),ellipsoid_scratchPosition.from(position);const z=ellipsoid_scratchPosition.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(z)>=this.radii.z-buffer))return ellipsoid_scratchPosition.set(0,0,z).to(result)}}Ellipsoid.WGS84=new Ellipsoid(6378137,6378137,6356752.314245179);var path=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/lib/path-utils/path.js");class DoublyLinkedListNode{item;previous;next;constructor(item,previous,next){this.item=item,this.previous=previous,this.next=next}}class DoublyLinkedList{head=null;tail=null;_length=0;get length(){return this._length}add(item){const node=new DoublyLinkedListNode(item,this.tail,null);return this.tail?(this.tail.next=node,this.tail=node):(this.head=node,this.tail=node),++this._length,node}remove(node){node&&(node.previous&&node.next?(node.previous.next=node.next,node.next.previous=node.previous):node.previous?(node.previous.next=null,this.tail=node.previous):node.next?(node.next.previous=null,this.head=node.next):(this.head=null,this.tail=null),node.next=null,node.previous=null,--this._length)}splice(node,nextNode){node!==nextNode&&(this.remove(nextNode),this._insert(node,nextNode))}_insert(node,nextNode){const oldNodeNext=node.next;node.next=nextNode,this.tail===node?this.tail=nextNode:oldNodeNext.previous=nextNode,nextNode.next=oldNodeNext,nextNode.previous=node,++this._length}}class TilesetCache{_list;_sentinel;_trimTiles;constructor(){this._list=new DoublyLinkedList,this._sentinel=this._list.add("sentinel"),this._trimTiles=!1}reset(){this._list.splice(this._list.tail,this._sentinel)}touch(tile){const node=tile._cacheNode;node&&this._list.splice(this._sentinel,node)}add(tileset,tile,addCallback){tile._cacheNode||(tile._cacheNode=this._list.add(tile),addCallback&&addCallback(tileset,tile))}unloadTile(tileset,tile,unloadCallback){const node=tile._cacheNode;node&&(this._list.remove(node),tile._cacheNode=null,unloadCallback&&unloadCallback(tileset,tile))}unloadTiles(tileset,unloadCallback){const trimTiles=this._trimTiles;this._trimTiles=!1;const list=this._list,maximumMemoryUsageInBytes=1024*tileset.maximumMemoryUsage*1024,sentinel=this._sentinel;let node=list.head;for(;node!==sentinel&&(tileset.gpuMemoryUsageInBytes>maximumMemoryUsageInBytes||trimTiles);){const tile=node.item;node=node.next,this.unloadTile(tileset,tile,unloadCallback)}}trim(){this._trimTiles=!0}}var env_utils_assert=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/lib/env-utils/assert.js");const frame_state_scratchVector=new vector3.P,frame_state_scratchPosition=new vector3.P,cullingVolume=new culling_volume_CullingVolume([new plane_Plane,new plane_Plane,new plane_Plane,new plane_Plane,new plane_Plane,new plane_Plane]);function getFrameState(viewport,frameNumber){const{cameraDirection:cameraDirection,cameraUp:cameraUp,height:height}=viewport,{metersPerUnit:metersPerUnit}=viewport.distanceScales,viewportCenterCartesian=worldToCartesian(viewport,viewport.center),enuToFixedTransform=Ellipsoid.WGS84.eastNorthUpToFixedFrame(viewportCenterCartesian),cameraPositionCartographic=viewport.unprojectPosition(viewport.cameraPosition),cameraPositionCartesian=Ellipsoid.WGS84.cartographicToCartesian(cameraPositionCartographic,new vector3.P),cameraDirectionCartesian=new vector3.P(enuToFixedTransform.transformAsVector(new vector3.P(cameraDirection).scale(metersPerUnit))).normalize(),cameraUpCartesian=new vector3.P(enuToFixedTransform.transformAsVector(new vector3.P(cameraUp).scale(metersPerUnit))).normalize();!function commonSpacePlanesToWGS84(viewport){const frustumPlanes=viewport.getFrustumPlanes(),nearCenterCommon=closestPointOnPlane(frustumPlanes.near,viewport.cameraPosition),nearCenterCartesian=worldToCartesian(viewport,nearCenterCommon),cameraCartesian=worldToCartesian(viewport,viewport.cameraPosition,frame_state_scratchPosition);let i=0;cullingVolume.planes[i++].fromPointNormal(nearCenterCartesian,frame_state_scratchVector.copy(nearCenterCartesian).subtract(cameraCartesian));for(const dir in frustumPlanes){if("near"===dir)continue;const cartesianPos=worldToCartesian(viewport,closestPointOnPlane(frustumPlanes[dir],nearCenterCommon,frame_state_scratchPosition),frame_state_scratchPosition);cullingVolume.planes[i++].fromPointNormal(cartesianPos,frame_state_scratchVector.copy(nearCenterCartesian).subtract(cartesianPos))}}(viewport);const ViewportClass=viewport.constructor,{longitude:longitude,latitude:latitude,width:width,bearing:bearing,zoom:zoom}=viewport;return{camera:{position:cameraPositionCartesian,direction:cameraDirectionCartesian,up:cameraUpCartesian},viewport:viewport,topDownViewport:new ViewportClass({longitude:longitude,latitude:latitude,height:height,width:width,bearing:bearing,zoom:zoom,pitch:0}),height:height,cullingVolume:cullingVolume,frameNumber:frameNumber,sseDenominator:1.15}}function closestPointOnPlane(plane,refPoint,out=new vector3.P){const distanceToRef=plane.normal.dot(refPoint);return out.copy(plane.normal).scale(plane.distance-distanceToRef).add(refPoint),out}function worldToCartesian(viewport,point,out=new vector3.P){const cartographicPos=viewport.unprojectPosition(point);return Ellipsoid.WGS84.cartographicToCartesian(cartographicPos,out)}const zoom_WGS84_RADIUS_Z=6356752.314245179,zoom_scratchVector=new vector3.P;function getZoomFromBoundingVolume(boundingVolume,cartorgraphicCenter){if(boundingVolume instanceof OrientedBoundingBox){const{halfAxes:halfAxes}=boundingVolume,obbSize=function getObbSize(halfAxes){halfAxes.getColumn(0,zoom_scratchVector);const axeY=halfAxes.getColumn(1),axeZ=halfAxes.getColumn(2),farthestVertex=zoom_scratchVector.add(axeY).add(axeZ);return farthestVertex.len()}(halfAxes);return Math.log2(zoom_WGS84_RADIUS_Z/(obbSize+cartorgraphicCenter[2]))}if(boundingVolume instanceof bounding_sphere_BoundingSphere){const{radius:radius}=boundingVolume;return Math.log2(zoom_WGS84_RADIUS_Z/(radius+cartorgraphicCenter[2]))}if(boundingVolume.width&&boundingVolume.height){const{width:width,height:height}=boundingVolume;return(Math.log2(6378137/width)+Math.log2(6378137/height))/2}return 1}function getZoomFromFullExtent(fullExtent,cartorgraphicCenter,cartesianCenter){Ellipsoid.WGS84.cartographicToCartesian([fullExtent.xmax,fullExtent.ymax,fullExtent.zmax],zoom_scratchVector);const extentSize=Math.sqrt(Math.pow(zoom_scratchVector[0]-cartesianCenter[0],2)+Math.pow(zoom_scratchVector[1]-cartesianCenter[1],2)+Math.pow(zoom_scratchVector[2]-cartesianCenter[2],2));return Math.log2(zoom_WGS84_RADIUS_Z/(extentSize+cartorgraphicCenter[2]))}const TILE_CONTENT_STATE_UNLOADED=0,TILE_CONTENT_STATE_LOADING=1,TILE_CONTENT_STATE_READY=3,TILE_CONTENT_STATE_EXPIRED=4,TILE_CONTENT_STATE_FAILED=5;var TILE_REFINEMENT,TILE_TYPE,TILESET_TYPE,LOD_METRIC_TYPE;!function(TILE_REFINEMENT){TILE_REFINEMENT[TILE_REFINEMENT.ADD=1]="ADD",TILE_REFINEMENT[TILE_REFINEMENT.REPLACE=2]="REPLACE"}(TILE_REFINEMENT||(TILE_REFINEMENT={})),function(TILE_TYPE){TILE_TYPE.EMPTY="empty",TILE_TYPE.SCENEGRAPH="scenegraph",TILE_TYPE.POINTCLOUD="pointcloud",TILE_TYPE.MESH="mesh"}(TILE_TYPE||(TILE_TYPE={})),function(TILESET_TYPE){TILESET_TYPE.I3S="I3S",TILESET_TYPE.TILES3D="TILES3D"}(TILESET_TYPE||(TILESET_TYPE={})),function(LOD_METRIC_TYPE){LOD_METRIC_TYPE.GEOMETRIC_ERROR="geometricError",LOD_METRIC_TYPE.MAX_SCREEN_THRESHOLD="maxScreenThreshold"}(LOD_METRIC_TYPE||(LOD_METRIC_TYPE={}));const TILE3D_OPTIMIZATION_HINT_USE_OPTIMIZATION=1;function bounding_volume_defined(x){return null!=x}const scratchPoint=new vector3.P,scratchScale=new vector3.P,scratchNorthWest=new vector3.P,scratchSouthEast=new vector3.P,scratchCenter=new vector3.P,scratchXAxis=new vector3.P,scratchYAxis=new vector3.P,scratchZAxis=new vector3.P;function createBoundingVolume(boundingVolumeHeader,transform,result){if((0,env_utils_assert.h)(boundingVolumeHeader,"3D Tile: boundingVolume must be defined"),boundingVolumeHeader.box)return createBox(boundingVolumeHeader.box,transform,result);if(boundingVolumeHeader.region)return function createObbFromRegion(region){const[west,south,east,north,minHeight,maxHeight]=region,northWest=Ellipsoid.WGS84.cartographicToCartesian([(0,common.RW)(west),(0,common.RW)(north),minHeight],scratchNorthWest),southEast=Ellipsoid.WGS84.cartographicToCartesian([(0,common.RW)(east),(0,common.RW)(south),maxHeight],scratchSouthEast),centerInCartesian=(new vector3.P).addVectors(northWest,southEast).multiplyByScalar(.5);return Ellipsoid.WGS84.cartesianToCartographic(centerInCartesian,scratchCenter),Ellipsoid.WGS84.cartographicToCartesian([(0,common.RW)(east),scratchCenter[1],scratchCenter[2]],scratchXAxis),Ellipsoid.WGS84.cartographicToCartesian([scratchCenter[0],(0,common.RW)(north),scratchCenter[2]],scratchYAxis),Ellipsoid.WGS84.cartographicToCartesian([scratchCenter[0],scratchCenter[1],maxHeight],scratchZAxis),createBox([...centerInCartesian,...scratchXAxis.subtract(centerInCartesian),...scratchYAxis.subtract(centerInCartesian),...scratchZAxis.subtract(centerInCartesian)],new matrix4.y)}(boundingVolumeHeader.region);if(boundingVolumeHeader.sphere)return function createSphere(sphere,transform,result){const center=new vector3.P(sphere[0],sphere[1],sphere[2]);transform.transform(center,center);const scale=transform.getScale(scratchScale),uniformScale=Math.max(Math.max(scale[0],scale[1]),scale[2]),radius=sphere[3]*uniformScale;if(bounding_volume_defined(result))return result.center=center,result.radius=radius,result;return new bounding_sphere_BoundingSphere(center,radius)}(boundingVolumeHeader.sphere,transform,result);throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")}function getCartographicBounds(boundingVolumeHeader,boundingVolume){if(boundingVolumeHeader.box)return function orientedBoundingBoxToCartographicBounds(boundingVolume){const result=emptyCartographicBounds(),{halfAxes:halfAxes}=boundingVolume,xAxis=new vector3.P(halfAxes.getColumn(0)),yAxis=new vector3.P(halfAxes.getColumn(1)),zAxis=new vector3.P(halfAxes.getColumn(2));for(let x=0;x<2;x++){for(let y=0;y<2;y++){for(let z=0;z<2;z++)scratchPoint.copy(boundingVolume.center),scratchPoint.add(xAxis),scratchPoint.add(yAxis),scratchPoint.add(zAxis),addToCartographicBounds(result,scratchPoint),zAxis.negate();yAxis.negate()}xAxis.negate()}return result}(boundingVolume);if(boundingVolumeHeader.region){const[west,south,east,north,minHeight,maxHeight]=boundingVolumeHeader.region;return[[(0,common.RW)(west),(0,common.RW)(south),minHeight],[(0,common.RW)(east),(0,common.RW)(north),maxHeight]]}if(boundingVolumeHeader.sphere)return function boundingSphereToCartographicBounds(boundingVolume){const result=emptyCartographicBounds(),{center:center,radius:radius}=boundingVolume,point=Ellipsoid.WGS84.scaleToGeodeticSurface(center,scratchPoint);let zAxis;zAxis=point?Ellipsoid.WGS84.geodeticSurfaceNormal(point):new vector3.P(0,0,1);let xAxis=new vector3.P(zAxis[2],-zAxis[1],0);xAxis.len()>0?xAxis.normalize():xAxis=new vector3.P(0,1,0);const yAxis=xAxis.clone().cross(zAxis);for(const axis of[xAxis,yAxis,zAxis]){scratchScale.copy(axis).scale(radius);for(let dir=0;dir<2;dir++)scratchPoint.copy(center),scratchPoint.add(scratchScale),addToCartographicBounds(result,scratchPoint),scratchScale.negate()}return result}(boundingVolume);throw new Error("Unkown boundingVolume type")}function createBox(box,transform,result){const center=new vector3.P(box[0],box[1],box[2]);transform.transform(center,center);let origin=[];if(10===box.length){const halfSize=box.slice(3,6),quaternion=new classes_quaternion._;quaternion.fromArray(box,6);const x=new vector3.P([1,0,0]),y=new vector3.P([0,1,0]),z=new vector3.P([0,0,1]);x.transformByQuaternion(quaternion),x.scale(halfSize[0]),y.transformByQuaternion(quaternion),y.scale(halfSize[1]),z.transformByQuaternion(quaternion),z.scale(halfSize[2]),origin=[...x.toArray(),...y.toArray(),...z.toArray()]}else origin=[...box.slice(3,6),...box.slice(6,9),...box.slice(9,12)];const xAxis=transform.transformAsVector(origin.slice(0,3)),yAxis=transform.transformAsVector(origin.slice(3,6)),zAxis=transform.transformAsVector(origin.slice(6,9)),halfAxes=new matrix3.V([xAxis[0],xAxis[1],xAxis[2],yAxis[0],yAxis[1],yAxis[2],zAxis[0],zAxis[1],zAxis[2]]);return bounding_volume_defined(result)?(result.center=center,result.halfAxes=halfAxes,result):new OrientedBoundingBox(center,halfAxes)}function emptyCartographicBounds(){return[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]]}function addToCartographicBounds(target,cartesian){Ellipsoid.WGS84.cartesianToCartographic(cartesian,scratchPoint),target[0][0]=Math.min(target[0][0],scratchPoint[0]),target[0][1]=Math.min(target[0][1],scratchPoint[1]),target[0][2]=Math.min(target[0][2],scratchPoint[2]),target[1][0]=Math.max(target[1][0],scratchPoint[0]),target[1][1]=Math.max(target[1][1],scratchPoint[1]),target[1][2]=Math.max(target[1][2],scratchPoint[2])}new vector3.P,new vector3.P,new matrix4.y,new vector3.P,new vector3.P,new vector3.P;function getDynamicScreenSpaceError(tileset,distanceToCamera){if(tileset.dynamicScreenSpaceError&&tileset.dynamicScreenSpaceErrorComputedDensity){const density=tileset.dynamicScreenSpaceErrorComputedDensity,factor=tileset.dynamicScreenSpaceErrorFactor,dynamicError=function fog(distanceToCamera,density){const scalar=distanceToCamera*density;return 1-Math.exp(-scalar*scalar)}(distanceToCamera,density)*factor;return dynamicError}return 0}const cameraPositionCartesian=new vector3.P,toEye=new vector3.P,cameraPositionEnu=new vector3.P,extraVertexEnu=new vector3.P,projectedOriginVector=new vector3.P,enuToCartesianMatrix=new matrix4.y,cartesianToEnuMatrix=new matrix4.y;function getProjectedRadius(tile,frameState){const{topDownViewport:viewport}=frameState,mbsLat=tile.header.mbs[1],mbsLon=tile.header.mbs[0],mbsZ=tile.header.mbs[2],mbsR=tile.header.mbs[3],mbsCenterCartesian=[...tile.boundingVolume.center],cameraPositionCartographic=viewport.unprojectPosition(viewport.cameraPosition);Ellipsoid.WGS84.cartographicToCartesian(cameraPositionCartographic,cameraPositionCartesian),toEye.copy(cameraPositionCartesian).subtract(mbsCenterCartesian).normalize(),Ellipsoid.WGS84.eastNorthUpToFixedFrame(mbsCenterCartesian,enuToCartesianMatrix),cartesianToEnuMatrix.copy(enuToCartesianMatrix).invert(),cameraPositionEnu.copy(cameraPositionCartesian).transform(cartesianToEnuMatrix);const projection=Math.sqrt(cameraPositionEnu[0]*cameraPositionEnu[0]+cameraPositionEnu[1]*cameraPositionEnu[1]),extraZ=projection*projection/cameraPositionEnu[2];extraVertexEnu.copy([cameraPositionEnu[0],cameraPositionEnu[1],extraZ]);const extraVectorCartesian=extraVertexEnu.transform(enuToCartesianMatrix).subtract(mbsCenterCartesian).normalize(),sphereMbsBorderVertexCartesian=toEye.cross(extraVectorCartesian).normalize().scale(mbsR).add(mbsCenterCartesian),sphereMbsBorderVertexCartographic=Ellipsoid.WGS84.cartesianToCartographic(sphereMbsBorderVertexCartesian),projectedOrigin=viewport.project([mbsLon,mbsLat,mbsZ]),projectedMbsBorderVertex=viewport.project(sphereMbsBorderVertexCartographic);return projectedOriginVector.copy(projectedOrigin).subtract(projectedMbsBorderVertex).magnitude()}class ManagedArray{_map=new Map;_array;_length;constructor(length=0){this._array=new Array(length),this._length=length}get length(){return this._length}set length(length){this._length=length,length>this._array.length&&(this._array.length=length)}get values(){return this._array}get(index){return(0,env_utils_assert.h)(index<this._array.length),this._array[index]}set(index,element){(0,env_utils_assert.h)(index>=0),index>=this.length&&(this.length=index+1),this._map.has(this._array[index])&&this._map.delete(this._array[index]),this._array[index]=element,this._map.set(element,index)}delete(element){const index=this._map.get(element);index>=0&&(this._array.splice(index,1),this._map.delete(element),this.length--)}peek(){return this._array[this._length-1]}push(element){if(!this._map.has(element)){const index=this.length++;this._array[index]=element,this._map.set(element,index)}}pop(){const element=this._array[--this.length];return this._map.delete(element),element}reserve(length){(0,env_utils_assert.h)(length>=0),length>this._array.length&&(this._array.length=length)}resize(length){(0,env_utils_assert.h)(length>=0),this.length=length}trim(length){null==length&&(length=this.length),this._array.length=length}reset(){this._array=[],this._map=new Map,this._length=0}find(target){return this._map.has(target)}}const tileset_traverser_DEFAULT_PROPS={loadSiblings:!1,skipLevelOfDetail:!1,updateTransforms:!0,onTraversalEnd:()=>{},viewportTraversersMap:{},basePath:""};class TilesetTraverser{options;root=null;selectedTiles={};requestedTiles={};emptyTiles={};lastUpdate=(new Date).getTime();updateDebounceTime=1e3;_traversalStack=new ManagedArray;_emptyTraversalStack=new ManagedArray;_frameNumber=null;traversalFinished(frameState){return!0}constructor(options){this.options={...tileset_traverser_DEFAULT_PROPS,...options}}traverse(root,frameState,options){this.root=root,this.options={...this.options,...options},this.reset(),this.updateTile(root,frameState),this._frameNumber=frameState.frameNumber,this.executeTraversal(root,frameState)}reset(){this.requestedTiles={},this.selectedTiles={},this.emptyTiles={},this._traversalStack.reset(),this._emptyTraversalStack.reset()}executeTraversal(root,frameState){const stack=this._traversalStack;for(root._selectionDepth=1,stack.push(root);stack.length>0;){const tile=stack.pop();let shouldRefine=!1;this.canTraverse(tile,frameState)&&(this.updateChildTiles(tile,frameState),shouldRefine=this.updateAndPushChildren(tile,frameState,stack,tile.hasRenderContent?tile._selectionDepth+1:tile._selectionDepth));const parent=tile.parent,parentRefines=Boolean(!parent||parent._shouldRefine),stoppedRefining=!shouldRefine;tile.hasRenderContent?tile.refine===TILE_REFINEMENT.ADD?(this.loadTile(tile,frameState),this.selectTile(tile,frameState)):tile.refine===TILE_REFINEMENT.REPLACE&&(this.loadTile(tile,frameState),stoppedRefining&&this.selectTile(tile,frameState)):(this.emptyTiles[tile.id]=tile,this.loadTile(tile,frameState),stoppedRefining&&this.selectTile(tile,frameState)),this.touchTile(tile,frameState),tile._shouldRefine=shouldRefine&&parentRefines}const newTime=(new Date).getTime();(this.traversalFinished(frameState)||newTime-this.lastUpdate>this.updateDebounceTime)&&(this.lastUpdate=newTime,this.options.onTraversalEnd(frameState))}updateChildTiles(tile,frameState){const children=tile.children;for(const child of children)this.updateTile(child,frameState)}updateAndPushChildren(tile,frameState,stack,depth){const{loadSiblings:loadSiblings,skipLevelOfDetail:skipLevelOfDetail}=this.options,children=tile.children;children.sort(this.compareDistanceToCamera.bind(this));const checkRefines=tile.refine===TILE_REFINEMENT.REPLACE&&tile.hasRenderContent&&!skipLevelOfDetail;let hasVisibleChild=!1,refines=!0;for(const child of children)if(child._selectionDepth=depth,child.isVisibleAndInRequestVolume?(stack.find(child)&&stack.delete(child),stack.push(child),hasVisibleChild=!0):(checkRefines||loadSiblings)&&(this.loadTile(child,frameState),this.touchTile(child,frameState)),checkRefines){let childRefines;if(childRefines=!!child._inRequestVolume&&(child.hasRenderContent?child.contentAvailable:this.executeEmptyTraversal(child,frameState)),refines=refines&&childRefines,!refines)return!1}return hasVisibleChild||(refines=!1),refines}updateTile(tile,frameState){this.updateTileVisibility(tile,frameState)}selectTile(tile,frameState){this.shouldSelectTile(tile)&&(tile._selectedFrame=frameState.frameNumber,this.selectedTiles[tile.id]=tile)}loadTile(tile,frameState){this.shouldLoadTile(tile)&&(tile._requestedFrame=frameState.frameNumber,tile._priority=tile._getPriority(),this.requestedTiles[tile.id]=tile)}touchTile(tile,frameState){tile.tileset._cache.touch(tile),tile._touchedFrame=frameState.frameNumber}canTraverse(tile,frameState,useParentMetric=!1,ignoreVisibility=!1){return!!tile.hasChildren&&(tile.hasTilesetContent?!tile.contentExpired:!(!ignoreVisibility&&!tile.isVisibleAndInRequestVolume)&&this.shouldRefine(tile,frameState,useParentMetric))}shouldLoadTile(tile){return tile.hasUnloadedContent||tile.contentExpired}shouldSelectTile(tile){return tile.contentAvailable&&!this.options.skipLevelOfDetail}shouldRefine(tile,frameState,useParentMetric=!1){let screenSpaceError=tile._screenSpaceError;return useParentMetric&&(screenSpaceError=tile.getScreenSpaceError(frameState,!0)),screenSpaceError>tile.tileset.memoryAdjustedScreenSpaceError}updateTileVisibility(tile,frameState){const viewportIds=[];if(this.options.viewportTraversersMap)for(const key in this.options.viewportTraversersMap){this.options.viewportTraversersMap[key]===frameState.viewport.id&&viewportIds.push(key)}else viewportIds.push(frameState.viewport.id);tile.updateVisibility(frameState,viewportIds)}compareDistanceToCamera(b,a){return b._distanceToCamera-a._distanceToCamera}anyChildrenVisible(tile,frameState){let anyVisible=!1;for(const child of tile.children)child.updateVisibility(frameState),anyVisible=anyVisible||child.isVisibleAndInRequestVolume;return anyVisible}executeEmptyTraversal(root,frameState){let allDescendantsLoaded=!0;const stack=this._emptyTraversalStack;for(stack.push(root);stack.length>0;){const tile=stack.pop(),traverse=!tile.hasRenderContent&&this.canTraverse(tile,frameState,!1,!1),emptyLeaf=!tile.hasRenderContent&&0===tile.children.length;if(traverse||tile.contentAvailable||emptyLeaf||(allDescendantsLoaded=!1),this.updateTile(tile,frameState),tile.isVisibleAndInRequestVolume||(this.loadTile(tile,frameState),this.touchTile(tile,frameState)),traverse){const children=tile.children;for(const child of children)stack.push(child)}}return allDescendantsLoaded}}const tile_3d_scratchVector=new vector3.P;class Tile3D{tileset;header;id;url;parent;refine;type;contentUrl;lodMetricType="geometricError";lodMetricValue=0;boundingVolume=null;content=null;contentState=TILE_CONTENT_STATE_UNLOADED;gpuMemoryUsageInBytes=0;children=[];depth=0;viewportIds=[];transform=new matrix4.y;extensions=null;implicitTiling=null;userData={};computedTransform;hasEmptyContent=!1;hasTilesetContent=!1;traverser=new TilesetTraverser({});_cacheNode=null;_frameNumber=null;_expireDate=null;_expiredContent=null;_boundingBox=void 0;_distanceToCamera=0;_screenSpaceError=0;_visibilityPlaneMask;_visible=void 0;_contentBoundingVolume;_viewerRequestVolume;_initialTransform=new matrix4.y;_priority=0;_selectedFrame=0;_requestedFrame=0;_selectionDepth=0;_touchedFrame=0;_centerZDepth=0;_shouldRefine=!1;_stackLength=0;_visitedFrame=0;_inRequestVolume=!1;_lodJudge=null;constructor(tileset,header,parentHeader,extendedId=""){this.header=header,this.tileset=tileset,this.id=extendedId||header.id,this.url=header.url,this.parent=parentHeader,this.refine=this._getRefine(header.refine),this.type=header.type,this.contentUrl=header.contentUrl,this._initializeLodMetric(header),this._initializeTransforms(header),this._initializeBoundingVolumes(header),this._initializeContent(header),this._initializeRenderingState(header),Object.seal(this)}destroy(){this.header=null}isDestroyed(){return null===this.header}get selected(){return this._selectedFrame===this.tileset._frameNumber}get isVisible(){return this._visible}get isVisibleAndInRequestVolume(){return this._visible&&this._inRequestVolume}get hasRenderContent(){return!this.hasEmptyContent&&!this.hasTilesetContent}get hasChildren(){return this.children.length>0||this.header.children&&this.header.children.length>0}get contentReady(){return this.contentState===TILE_CONTENT_STATE_READY||this.hasEmptyContent}get contentAvailable(){return Boolean(this.contentReady&&this.hasRenderContent||this._expiredContent&&!this.contentFailed)}get hasUnloadedContent(){return this.hasRenderContent&&this.contentUnloaded}get contentUnloaded(){return this.contentState===TILE_CONTENT_STATE_UNLOADED}get contentExpired(){return this.contentState===TILE_CONTENT_STATE_EXPIRED}get contentFailed(){return this.contentState===TILE_CONTENT_STATE_FAILED}get distanceToCamera(){return this._distanceToCamera}get screenSpaceError(){return this._screenSpaceError}get boundingBox(){return this._boundingBox||(this._boundingBox=getCartographicBounds(this.header.boundingVolume,this.boundingVolume)),this._boundingBox}getScreenSpaceError(frameState,useParentLodMetric){switch(this.tileset.type){case TILESET_TYPE.I3S:return getProjectedRadius(this,frameState);case TILESET_TYPE.TILES3D:return function getTiles3DScreenSpaceError(tile,frameState,useParentLodMetric){const tileset=tile.tileset,parentLodMetricValue=tile.parent&&tile.parent.lodMetricValue||tile.lodMetricValue,lodMetricValue=useParentLodMetric?parentLodMetricValue:tile.lodMetricValue;if(0===lodMetricValue)return 0;const distance=Math.max(tile._distanceToCamera,1e-7),{height:height,sseDenominator:sseDenominator}=frameState,{viewDistanceScale:viewDistanceScale}=tileset.options;let error=lodMetricValue*height*(viewDistanceScale||1)/(distance*sseDenominator);return error-=getDynamicScreenSpaceError(tileset,distance),error}(this,frameState,useParentLodMetric);default:throw new Error("Unsupported tileset type")}}unselect(){this._selectedFrame=0}_getGpuMemoryUsageInBytes(){return this.content.gpuMemoryUsageInBytes||this.content.byteLength||0}_getPriority(){const traverser=this.tileset._traverser,{skipLevelOfDetail:skipLevelOfDetail}=traverser.options,maySkipTile=this.refine===TILE_REFINEMENT.ADD||skipLevelOfDetail;if(maySkipTile&&!this.isVisible&&void 0!==this._visible)return-1;if(this.tileset._frameNumber-this._touchedFrame>=1)return-1;if(this.contentState===TILE_CONTENT_STATE_UNLOADED)return-1;const parent=this.parent,screenSpaceError=parent&&(!maySkipTile||0===this._screenSpaceError||parent.hasTilesetContent)?parent._screenSpaceError:this._screenSpaceError,rootScreenSpaceError=traverser.root?traverser.root._screenSpaceError:0;return Math.max(rootScreenSpaceError-screenSpaceError,0)}async loadContent(){if(this.hasEmptyContent)return!1;if(this.content)return!0;this.contentExpired&&(this._expireDate=null),this.contentState=TILE_CONTENT_STATE_LOADING;const requestToken=await this.tileset._requestScheduler.scheduleRequest(this.id,this._getPriority.bind(this));if(!requestToken)return this.contentState=TILE_CONTENT_STATE_UNLOADED,!1;try{const contentUrl=this.tileset.getTileUrl(this.contentUrl),loader=this.tileset.loader,options={...this.tileset.loadOptions,[loader.id]:{...this.tileset.loadOptions[loader.id],isTileset:"json"===this.type,...this._getLoaderSpecificOptions(loader.id)}};return this.content=await(0,load.z)(contentUrl,loader,options),this.tileset.options.contentLoader&&await this.tileset.options.contentLoader(this),this._isTileset()&&this.tileset._initializeTileHeaders(this.content,this),this.contentState=TILE_CONTENT_STATE_READY,this._onContentLoaded(),!0}catch(error){throw this.contentState=TILE_CONTENT_STATE_FAILED,error}finally{requestToken.done()}}unloadContent(){return this.content&&this.content.destroy&&this.content.destroy(),this.content=null,this.header.content&&this.header.content.destroy&&this.header.content.destroy(),this.header.content=null,this.contentState=TILE_CONTENT_STATE_UNLOADED,!0}updateVisibility(frameState,viewportIds){if(this._frameNumber===frameState.frameNumber)return;const parent=this.parent,parentVisibilityPlaneMask=parent?parent._visibilityPlaneMask:culling_volume_CullingVolume.MASK_INDETERMINATE;if(this.tileset._traverser.options.updateTransforms){const parentTransform=parent?parent.computedTransform:this.tileset.modelMatrix;this._updateTransform(parentTransform)}this._distanceToCamera=this.distanceToTile(frameState),this._screenSpaceError=this.getScreenSpaceError(frameState,!1),this._visibilityPlaneMask=this.visibility(frameState,parentVisibilityPlaneMask),this._visible=this._visibilityPlaneMask!==culling_volume_CullingVolume.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(frameState),this._frameNumber=frameState.frameNumber,this.viewportIds=viewportIds}visibility(frameState,parentVisibilityPlaneMask){const{cullingVolume:cullingVolume}=frameState,{boundingVolume:boundingVolume}=this;return cullingVolume.computeVisibilityWithPlaneMask(boundingVolume,parentVisibilityPlaneMask)}contentVisibility(){return!0}distanceToTile(frameState){const boundingVolume=this.boundingVolume;return Math.sqrt(Math.max(boundingVolume.distanceSquaredTo(frameState.camera.position),0))}cameraSpaceZDepth({camera:camera}){const boundingVolume=this.boundingVolume;return tile_3d_scratchVector.subVectors(boundingVolume.center,camera.position),camera.direction.dot(tile_3d_scratchVector)}insideViewerRequestVolume(frameState){const viewerRequestVolume=this._viewerRequestVolume;return!viewerRequestVolume||viewerRequestVolume.distanceSquaredTo(frameState.camera.position)<=0}updateExpiration(){if(function tile_3d_defined(x){return null!=x}(this._expireDate)&&this.contentReady&&!this.hasEmptyContent){const now=Date.now();Date.lessThan(this._expireDate,now)&&(this.contentState=TILE_CONTENT_STATE_EXPIRED,this._expiredContent=this.content)}}get extras(){return this.header.extras}_initializeLodMetric(header){"lodMetricType"in header?this.lodMetricType=header.lodMetricType:(this.lodMetricType=this.parent&&this.parent.lodMetricType||this.tileset.lodMetricType,console.warn("3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType")),"lodMetricValue"in header?this.lodMetricValue=header.lodMetricValue:(this.lodMetricValue=this.parent&&this.parent.lodMetricValue||this.tileset.lodMetricValue,console.warn("3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue"))}_initializeTransforms(tileHeader){this.transform=tileHeader.transform?new matrix4.y(tileHeader.transform):new matrix4.y;const parent=this.parent,tileset=this.tileset,parentTransform=parent&&parent.computedTransform?parent.computedTransform.clone():tileset.modelMatrix.clone();this.computedTransform=new matrix4.y(parentTransform).multiplyRight(this.transform);const parentInitialTransform=parent&&parent._initialTransform?parent._initialTransform.clone():new matrix4.y;this._initialTransform=new matrix4.y(parentInitialTransform).multiplyRight(this.transform)}_initializeBoundingVolumes(tileHeader){this._contentBoundingVolume=null,this._viewerRequestVolume=null,this._updateBoundingVolume(tileHeader)}_initializeContent(tileHeader){this.content={_tileset:this.tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=TILE_CONTENT_STATE_UNLOADED,this.hasTilesetContent=!1,tileHeader.contentUrl&&(this.content=null,this.hasEmptyContent=!1)}_initializeRenderingState(header){this.depth=header.level||(this.parent?this.parent.depth+1:0),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=culling_volume_CullingVolume.MASK_INDETERMINATE,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._frameNumber=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._priority=0}_getRefine(refine){return refine||this.parent&&this.parent.refine||TILE_REFINEMENT.REPLACE}_isTileset(){return-1!==this.contentUrl.indexOf(".json")}_onContentLoaded(){switch(this.content&&this.content.type){case"vctr":case"geom":this.tileset._traverser.disableSkipLevelOfDetail=!0}this._isTileset()?this.hasTilesetContent=!0:this.gpuMemoryUsageInBytes=this._getGpuMemoryUsageInBytes()}_updateBoundingVolume(header){this.boundingVolume=createBoundingVolume(header.boundingVolume,this.computedTransform,this.boundingVolume);const content=header.content;content&&(content.boundingVolume&&(this._contentBoundingVolume=createBoundingVolume(content.boundingVolume,this.computedTransform,this._contentBoundingVolume)),header.viewerRequestVolume&&(this._viewerRequestVolume=createBoundingVolume(header.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)))}_updateTransform(parentTransform=new matrix4.y){const computedTransform=parentTransform.clone().multiplyRight(this.transform);!computedTransform.equals(this.computedTransform)&&(this.computedTransform=computedTransform,this._updateBoundingVolume(this.header))}_getLoaderSpecificOptions(loaderId){return"i3s"===loaderId?{...this.tileset.options.i3s,_tileOptions:{attributeUrls:this.header.attributeUrls,textureUrl:this.header.textureUrl,textureFormat:this.header.textureFormat,textureLoaderOptions:this.header.textureLoaderOptions,materialDefinition:this.header.materialDefinition,isDracoGeometry:this.header.isDracoGeometry,mbs:this.header.mbs},_tilesetOptions:{store:this.tileset.tileset.store,attributeStorageInfo:this.tileset.tileset.attributeStorageInfo,fields:this.tileset.tileset.fields},isTileHeader:!1}:function get3dTilesOptions(tileset){return{assetGltfUpAxis:tileset.asset&&tileset.asset.gltfUpAxis||"Y"}}(this.tileset.tileset)}}class Tileset3DTraverser extends TilesetTraverser{compareDistanceToCamera(a,b){return 0===b._distanceToCamera&&0===a._distanceToCamera?b._centerZDepth-a._centerZDepth:b._distanceToCamera-a._distanceToCamera}updateTileVisibility(tile,frameState){if(super.updateTileVisibility(tile,frameState),!tile.isVisibleAndInRequestVolume)return;const hasChildren=tile.children.length>0;if(tile.hasTilesetContent&&hasChildren){const firstChild=tile.children[0];return this.updateTileVisibility(firstChild,frameState),void(tile._visible=firstChild._visible)}if(this.meetsScreenSpaceErrorEarly(tile,frameState))return void(tile._visible=!1);const replace=tile.refine===TILE_REFINEMENT.REPLACE,useOptimization=tile._optimChildrenWithinParent===TILE3D_OPTIMIZATION_HINT_USE_OPTIMIZATION;replace&&useOptimization&&hasChildren&&!this.anyChildrenVisible(tile,frameState)&&(tile._visible=!1)}meetsScreenSpaceErrorEarly(tile,frameState){const{parent:parent}=tile;return!(!parent||parent.hasTilesetContent||parent.refine!==TILE_REFINEMENT.ADD)&&!this.shouldRefine(tile,frameState,!0)}}class I3SPendingTilesRegister{frameNumberMap=new Map;register(viewportId,frameNumber){const viewportMap=this.frameNumberMap.get(viewportId)||new Map,oldCount=viewportMap.get(frameNumber)||0;viewportMap.set(frameNumber,oldCount+1),this.frameNumberMap.set(viewportId,viewportMap)}deregister(viewportId,frameNumber){const viewportMap=this.frameNumberMap.get(viewportId);if(!viewportMap)return;const oldCount=viewportMap.get(frameNumber)||1;viewportMap.set(frameNumber,oldCount-1)}isZero(viewportId,frameNumber){return 0===(this.frameNumberMap.get(viewportId)?.get(frameNumber)||0)}}const STATUS_REQUESTED="REQUESTED",STATUS_COMPLETED="COMPLETED",STATUS_ERROR="ERROR";class I3STileManager{_statusMap;pendingTilesRegister=new I3SPendingTilesRegister;constructor(){this._statusMap={}}add(request,key,callback,frameState){if(!this._statusMap[key]){const{frameNumber:frameNumber,viewport:{id:id}}=frameState;this._statusMap[key]={request:request,callback:callback,key:key,frameState:frameState,status:STATUS_REQUESTED},this.pendingTilesRegister.register(id,frameNumber),request().then((data=>{this._statusMap[key].status=STATUS_COMPLETED;const{frameNumber:actualFrameNumber,viewport:{id:id}}=this._statusMap[key].frameState;this.pendingTilesRegister.deregister(id,actualFrameNumber),this._statusMap[key].callback(data,frameState)})).catch((error=>{this._statusMap[key].status=STATUS_ERROR;const{frameNumber:actualFrameNumber,viewport:{id:id}}=this._statusMap[key].frameState;this.pendingTilesRegister.deregister(id,actualFrameNumber),callback(error)}))}}update(key,frameState){if(this._statusMap[key]){const{frameNumber:frameNumber,viewport:{id:id}}=this._statusMap[key].frameState;this.pendingTilesRegister.deregister(id,frameNumber);const{frameNumber:newFrameNumber,viewport:{id:newViewportId}}=frameState;this.pendingTilesRegister.register(newViewportId,newFrameNumber),this._statusMap[key].frameState=frameState}}find(key){return this._statusMap[key]}hasPendingTiles(viewportId,frameNumber){return!this.pendingTilesRegister.isZero(viewportId,frameNumber)}}class I3STilesetTraverser extends TilesetTraverser{_tileManager;constructor(options){super(options),this._tileManager=new I3STileManager}traversalFinished(frameState){return!this._tileManager.hasPendingTiles(frameState.viewport.id,this._frameNumber||0)}shouldRefine(tile,frameState){return tile._lodJudge=function getLodStatus(tile,frameState){if(0===tile.lodMetricValue||isNaN(tile.lodMetricValue))return"DIG";const screenSize=2*getProjectedRadius(tile,frameState);return screenSize<2?"OUT":!tile.header.children||screenSize<=tile.lodMetricValue?"DRAW":tile.header.children?"DIG":"OUT"}(tile,frameState),"DIG"===tile._lodJudge}updateChildTiles(tile,frameState){const children=tile.header.children||[],childTiles=tile.children,tileset=tile.tileset;for(const child of children){const extendedId=`${child.id}-${frameState.viewport.id}`,childTile=childTiles&&childTiles.find((t=>t.id===extendedId));if(childTile)childTile&&this.updateTile(childTile,frameState);else{let request=()=>this._loadTile(child.id,tileset);this._tileManager.find(extendedId)?this._tileManager.update(extendedId,frameState):(tileset.tileset.nodePages&&(request=()=>tileset.tileset.nodePagesTile.formTileFromNodePages(child.id)),this._tileManager.add(request,extendedId,(header=>this._onTileLoad(header,tile,extendedId)),frameState))}}return!1}async _loadTile(nodeId,tileset){const{loader:loader}=tileset,nodeUrl=tileset.getTileUrl(`${tileset.url}/nodes/${nodeId}`),options={...tileset.loadOptions,i3s:{...tileset.loadOptions.i3s,isTileHeader:!0}};return await(0,load.z)(nodeUrl,loader,options)}_onTileLoad(header,tile,extendedId){const childTile=new Tile3D(tile.tileset,header,tile,extendedId);tile.children.push(childTile);const frameState=this._tileManager.find(childTile.id).frameState;this.updateTile(childTile,frameState),this._frameNumber===frameState.frameNumber&&(this.traversalFinished(frameState)||(new Date).getTime()-this.lastUpdate>this.updateDebounceTime)&&this.executeTraversal(childTile,frameState)}}const tileset_3d_DEFAULT_PROPS={description:"",ellipsoid:Ellipsoid.WGS84,modelMatrix:new matrix4.y,throttleRequests:!0,maxRequests:64,maximumMemoryUsage:32,memoryCacheOverflow:1,maximumTilesSelected:0,debounceTime:0,onTileLoad:()=>{},onTileUnload:()=>{},onTileError:()=>{},onTraversalComplete:selectedTiles=>selectedTiles,contentLoader:void 0,viewDistanceScale:1,maximumScreenSpaceError:8,memoryAdjustedScreenSpaceError:!1,loadTiles:!0,updateTransforms:!0,viewportTraversersMap:null,loadOptions:{fetch:{}},attributions:[],basePath:"",i3s:{}},TILES_TOTAL="Tiles In Tileset(s)";class Tileset3D{options;loadOptions;type;tileset;loader;url;basePath;modelMatrix;ellipsoid;lodMetricType;lodMetricValue;refine;root=null;roots={};asset={};description="";properties;extras=null;attributions={};credits={};stats;contentFormats={draco:!1,meshopt:!1,dds:!1,ktx2:!1};cartographicCenter=null;cartesianCenter=null;zoom=1;boundingVolume=null;dynamicScreenSpaceErrorComputedDensity=0;maximumMemoryUsage=32;gpuMemoryUsageInBytes=0;memoryAdjustedScreenSpaceError=0;_cacheBytes=0;_cacheOverflowBytes=0;_frameNumber=0;_queryParams={};_extensionsUsed=[];_tiles={};_pendingCount=0;selectedTiles=[];traverseCounter=0;geometricError=0;lastUpdatedVieports=null;_requestedTiles=[];_emptyTiles=[];frameStateData={};_traverser;_cache=new TilesetCache;_requestScheduler;updatePromise=null;tilesetInitializationPromise;constructor(tileset,options){this.options={...tileset_3d_DEFAULT_PROPS,...options},this.tileset=tileset,this.loader=tileset.loader,this.type=tileset.type,this.url=tileset.url,this.basePath=tileset.basePath||path.XX(this.url),this.modelMatrix=this.options.modelMatrix,this.ellipsoid=this.options.ellipsoid,this.lodMetricType=tileset.lodMetricType,this.lodMetricValue=tileset.lodMetricValue,this.refine=tileset.root.refine,this.loadOptions=this.options.loadOptions||{},this._traverser=this._initializeTraverser(),this._requestScheduler=new RequestScheduler({throttleRequests:this.options.throttleRequests,maxRequests:this.options.maxRequests}),this.memoryAdjustedScreenSpaceError=this.options.maximumScreenSpaceError,this._cacheBytes=1024*this.options.maximumMemoryUsage*1024,this._cacheOverflowBytes=1024*this.options.memoryCacheOverflow*1024,this.stats=new stats_dist.jk({id:this.url}),this._initializeStats(),this.tilesetInitializationPromise=this._initializeTileSet(tileset)}destroy(){this._destroy()}isLoaded(){return 0===this._pendingCount&&0!==this._frameNumber&&0===this._requestedTiles.length}get tiles(){return Object.values(this._tiles)}get frameNumber(){return this._frameNumber}get queryParams(){return new URLSearchParams(this._queryParams).toString()}setProps(props){this.options={...this.options,...props}}getTileUrl(tilePath){if(tilePath.startsWith("data:"))return tilePath;let tileUrl=tilePath;return this.queryParams.length&&(tileUrl=`${tilePath}${tilePath.includes("?")?"&":"?"}${this.queryParams}`),tileUrl}hasExtension(extensionName){return Boolean(this._extensionsUsed.indexOf(extensionName)>-1)}update(viewports=null){this.tilesetInitializationPromise.then((()=>{!viewports&&this.lastUpdatedVieports?viewports=this.lastUpdatedVieports:this.lastUpdatedVieports=viewports,viewports&&this.doUpdate(viewports)}))}async selectTiles(viewports=null){return await this.tilesetInitializationPromise,viewports&&(this.lastUpdatedVieports=viewports),this.updatePromise||(this.updatePromise=new Promise((resolve=>{setTimeout((()=>{this.lastUpdatedVieports&&this.doUpdate(this.lastUpdatedVieports),resolve(this._frameNumber),this.updatePromise=null}),this.options.debounceTime)}))),this.updatePromise}adjustScreenSpaceError(){this.gpuMemoryUsageInBytes<this._cacheBytes?this.memoryAdjustedScreenSpaceError=Math.max(this.memoryAdjustedScreenSpaceError/1.02,this.options.maximumScreenSpaceError):this.gpuMemoryUsageInBytes>this._cacheBytes+this._cacheOverflowBytes&&(this.memoryAdjustedScreenSpaceError*=1.02)}doUpdate(viewports){if("loadTiles"in this.options&&!this.options.loadTiles)return;if(this.traverseCounter>0)return;const preparedViewports=viewports instanceof Array?viewports:[viewports];this._cache.reset(),this._frameNumber++,this.traverseCounter=preparedViewports.length;const viewportsToTraverse=[];for(const viewport of preparedViewports){const id=viewport.id;this._needTraverse(id)?viewportsToTraverse.push(id):this.traverseCounter--}for(const viewport of preparedViewports){const id=viewport.id;if(this.roots[id]||(this.roots[id]=this._initializeTileHeaders(this.tileset,null)),!viewportsToTraverse.includes(id))continue;const frameState=getFrameState(viewport,this._frameNumber);this._traverser.traverse(this.roots[id],frameState,this.options)}}_needTraverse(viewportId){let traverserId=viewportId;return this.options.viewportTraversersMap&&(traverserId=this.options.viewportTraversersMap[viewportId]),traverserId===viewportId}_onTraversalEnd(frameState){const id=frameState.viewport.id;this.frameStateData[id]||(this.frameStateData[id]={selectedTiles:[],_requestedTiles:[],_emptyTiles:[]});const currentFrameStateData=this.frameStateData[id],selectedTiles=Object.values(this._traverser.selectedTiles),[filteredSelectedTiles,unselectedTiles]=function limitSelectedTiles(tiles,frameState,maximumTilesSelected){if(0===maximumTilesSelected||tiles.length<=maximumTilesSelected)return[tiles,[]];const tuples=[],{longitude:viewportLongitude,latitude:viewportLatitude}=frameState.viewport;for(const[index,tile]of tiles.entries()){const[longitude,latitude]=tile.header.mbs,deltaLon=Math.abs(viewportLongitude-longitude),deltaLat=Math.abs(viewportLatitude-latitude),distance=Math.sqrt(deltaLat*deltaLat+deltaLon*deltaLon);tuples.push([index,distance])}const tuplesSorted=tuples.sort(((a,b)=>a[1]-b[1])),selectedTiles=[];for(let i=0;i<maximumTilesSelected;i++)selectedTiles.push(tiles[tuplesSorted[i][0]]);const unselectedTiles=[];for(let i=maximumTilesSelected;i<tuplesSorted.length;i++)unselectedTiles.push(tiles[tuplesSorted[i][0]]);return[selectedTiles,unselectedTiles]}(selectedTiles,frameState,this.options.maximumTilesSelected);currentFrameStateData.selectedTiles=filteredSelectedTiles;for(const tile of unselectedTiles)tile.unselect();currentFrameStateData._requestedTiles=Object.values(this._traverser.requestedTiles),currentFrameStateData._emptyTiles=Object.values(this._traverser.emptyTiles),this.traverseCounter--,this.traverseCounter>0||this._updateTiles()}_updateTiles(){this.selectedTiles=[],this._requestedTiles=[],this._emptyTiles=[];for(const frameStateKey in this.frameStateData){const frameStateDataValue=this.frameStateData[frameStateKey];this.selectedTiles=this.selectedTiles.concat(frameStateDataValue.selectedTiles),this._requestedTiles=this._requestedTiles.concat(frameStateDataValue._requestedTiles),this._emptyTiles=this._emptyTiles.concat(frameStateDataValue._emptyTiles)}this.selectedTiles=this.options.onTraversalComplete(this.selectedTiles);for(const tile of this.selectedTiles)this._tiles[tile.id]=tile;this._loadTiles(),this._unloadTiles(),this._updateStats()}_tilesChanged(oldSelectedTiles,selectedTiles){if(oldSelectedTiles.length!==selectedTiles.length)return!0;const set1=new Set(oldSelectedTiles.map((t=>t.id))),set2=new Set(selectedTiles.map((t=>t.id)));let changed=oldSelectedTiles.filter((x=>!set2.has(x.id))).length>0;return changed=changed||selectedTiles.filter((x=>!set1.has(x.id))).length>0,changed}_loadTiles(){for(const tile of this._requestedTiles)tile.contentUnloaded&&this._loadTile(tile)}_unloadTiles(){this._cache.unloadTiles(this,((tileset,tile)=>tileset._unloadTile(tile)))}_updateStats(){let tilesRenderable=0,pointsRenderable=0;for(const tile of this.selectedTiles)tile.contentAvailable&&tile.content&&(tilesRenderable++,tile.content.pointCount?pointsRenderable+=tile.content.pointCount:pointsRenderable+=tile.content.vertexCount);this.stats.get("Tiles In View").count=this.selectedTiles.length,this.stats.get("Tiles To Render").count=tilesRenderable,this.stats.get("Points/Vertices").count=pointsRenderable,this.stats.get("Maximum Screen Space Error").count=this.memoryAdjustedScreenSpaceError}async _initializeTileSet(tilesetJson){this.type===TILESET_TYPE.I3S&&(this.calculateViewPropsI3S(),tilesetJson.root=await tilesetJson.root),this.root=this._initializeTileHeaders(tilesetJson,null),this.type===TILESET_TYPE.TILES3D&&(this._initializeTiles3DTileset(tilesetJson),this.calculateViewPropsTiles3D()),this.type===TILESET_TYPE.I3S&&this._initializeI3STileset()}calculateViewPropsI3S(){const fullExtent=this.tileset.fullExtent;if(fullExtent){const{xmin:xmin,xmax:xmax,ymin:ymin,ymax:ymax,zmin:zmin,zmax:zmax}=fullExtent;return this.cartographicCenter=new vector3.P(xmin+(xmax-xmin)/2,ymin+(ymax-ymin)/2,zmin+(zmax-zmin)/2),this.cartesianCenter=new vector3.P,Ellipsoid.WGS84.cartographicToCartesian(this.cartographicCenter,this.cartesianCenter),void(this.zoom=getZoomFromFullExtent(fullExtent,this.cartographicCenter,this.cartesianCenter))}const extent=this.tileset.store?.extent;if(extent){const[xmin,ymin,xmax,ymax]=extent;return this.cartographicCenter=new vector3.P(xmin+(xmax-xmin)/2,ymin+(ymax-ymin)/2,0),this.cartesianCenter=new vector3.P,Ellipsoid.WGS84.cartographicToCartesian(this.cartographicCenter,this.cartesianCenter),void(this.zoom=function getZoomFromExtent(extent,cartorgraphicCenter,cartesianCenter){const[xmin,ymin,xmax,ymax]=extent;return getZoomFromFullExtent({xmin:xmin,xmax:xmax,ymin:ymin,ymax:ymax,zmin:0,zmax:0},cartorgraphicCenter,cartesianCenter)}(extent,this.cartographicCenter,this.cartesianCenter))}console.warn("Extent is not defined in the tileset header"),this.cartographicCenter=new vector3.P,this.zoom=1}calculateViewPropsTiles3D(){const root=this.root,{center:center}=root.boundingVolume;if(!center)return console.warn("center was not pre-calculated for the root tile"),this.cartographicCenter=new vector3.P,void(this.zoom=1);0!==center[0]||0!==center[1]||0!==center[2]?(this.cartographicCenter=new vector3.P,Ellipsoid.WGS84.cartesianToCartographic(center,this.cartographicCenter)):this.cartographicCenter=new vector3.P(0,0,-Ellipsoid.WGS84.radii[0]),this.cartesianCenter=center,this.zoom=getZoomFromBoundingVolume(root.boundingVolume,this.cartographicCenter)}_initializeStats(){this.stats.get(TILES_TOTAL),this.stats.get("Tiles Loading"),this.stats.get("Tiles In Memory"),this.stats.get("Tiles In View"),this.stats.get("Tiles To Render"),this.stats.get("Tiles Loaded"),this.stats.get("Tiles Unloaded"),this.stats.get("Failed Tile Loads"),this.stats.get("Points/Vertices"),this.stats.get("Tile Memory Use","memory"),this.stats.get("Maximum Screen Space Error")}_initializeTileHeaders(tilesetJson,parentTileHeader){const rootTile=new Tile3D(this,tilesetJson.root,parentTileHeader);if(parentTileHeader&&(parentTileHeader.children.push(rootTile),rootTile.depth=parentTileHeader.depth+1),this.type===TILESET_TYPE.TILES3D){const stack=[];for(stack.push(rootTile);stack.length>0;){const tile=stack.pop();this.stats.get(TILES_TOTAL).incrementCount();const children=tile.header.children||[];for(const childHeader of children){const childTile=new Tile3D(this,childHeader,tile);if(childTile.contentUrl?.includes("?session=")){const session=new URL(childTile.contentUrl).searchParams.get("session");session&&(this._queryParams.session=session)}tile.children.push(childTile),childTile.depth=tile.depth+1,stack.push(childTile)}}}return rootTile}_initializeTraverser(){let TraverserClass;switch(this.type){case TILESET_TYPE.TILES3D:TraverserClass=Tileset3DTraverser;break;case TILESET_TYPE.I3S:TraverserClass=I3STilesetTraverser;break;default:TraverserClass=TilesetTraverser}return new TraverserClass({basePath:this.basePath,onTraversalEnd:this._onTraversalEnd.bind(this)})}_destroyTileHeaders(parentTile){this._destroySubtree(parentTile)}async _loadTile(tile){let loaded;try{this._onStartTileLoading(),loaded=await tile.loadContent()}catch(error){this._onTileLoadError(tile,error instanceof Error?error:new Error("load failed"))}finally{this._onEndTileLoading(),this._onTileLoad(tile,loaded)}}_onTileLoadError(tile,error){this.stats.get("Failed Tile Loads").incrementCount();const message=error.message||error.toString(),url=tile.url;console.error(`A 3D tile failed to load: ${tile.url} ${message}`),this.options.onTileError(tile,message,url)}_onTileLoad(tile,loaded){if(loaded){if(this.type===TILESET_TYPE.I3S){const nodesInNodePages=this.tileset?.nodePagesTile?.nodesInNodePages||0;this.stats.get(TILES_TOTAL).reset(),this.stats.get(TILES_TOTAL).addCount(nodesInNodePages)}tile&&tile.content&&function calculateTransformProps(tileHeader,tile){(0,env_utils_assert.h)(tileHeader),(0,env_utils_assert.h)(tile);const{rtcCenter:rtcCenter,gltfUpAxis:gltfUpAxis}=tile,{computedTransform:computedTransform,boundingVolume:{center:center}}=tileHeader;let modelMatrix=new matrix4.y(computedTransform);switch(rtcCenter&&modelMatrix.translate(rtcCenter),gltfUpAxis){case"Z":default:break;case"Y":const rotationY=(new matrix4.y).rotateX(Math.PI/2);modelMatrix=modelMatrix.multiplyRight(rotationY);break;case"X":const rotationX=(new matrix4.y).rotateY(-Math.PI/2);modelMatrix=modelMatrix.multiplyRight(rotationX)}tile.isQuantized&&modelMatrix.translate(tile.quantizedVolumeOffset).scale(tile.quantizedVolumeScale);const cartesianOrigin=new vector3.P(center);tile.cartesianModelMatrix=modelMatrix,tile.cartesianOrigin=cartesianOrigin;const cartographicOrigin=Ellipsoid.WGS84.cartesianToCartographic(cartesianOrigin,new vector3.P),toFixedFrameMatrix=Ellipsoid.WGS84.eastNorthUpToFixedFrame(cartesianOrigin).invert();tile.cartographicModelMatrix=toFixedFrameMatrix.multiplyRight(modelMatrix),tile.cartographicOrigin=cartographicOrigin,tile.coordinateSystem||(tile.modelMatrix=tile.cartographicModelMatrix)}(tile,tile.content),this.updateContentTypes(tile),this._addTileToCache(tile),this.options.onTileLoad(tile)}}updateContentTypes(tile){if(this.type===TILESET_TYPE.I3S)switch(tile.header.isDracoGeometry&&(this.contentFormats.draco=!0),tile.header.textureFormat){case"dds":this.contentFormats.dds=!0;break;case"ktx2":this.contentFormats.ktx2=!0}else if(this.type===TILESET_TYPE.TILES3D){const{extensionsRemoved:extensionsRemoved=[]}=tile.content?.gltf||{};extensionsRemoved.includes("KHR_draco_mesh_compression")&&(this.contentFormats.draco=!0),extensionsRemoved.includes("EXT_meshopt_compression")&&(this.contentFormats.meshopt=!0),extensionsRemoved.includes("KHR_texture_basisu")&&(this.contentFormats.ktx2=!0)}}_onStartTileLoading(){this._pendingCount++,this.stats.get("Tiles Loading").incrementCount()}_onEndTileLoading(){this._pendingCount--,this.stats.get("Tiles Loading").decrementCount()}_addTileToCache(tile){this._cache.add(this,tile,(tileset=>tileset._updateCacheStats(tile)))}_updateCacheStats(tile){this.stats.get("Tiles Loaded").incrementCount(),this.stats.get("Tiles In Memory").incrementCount(),this.gpuMemoryUsageInBytes+=tile.gpuMemoryUsageInBytes||0,this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes,this.options.memoryAdjustedScreenSpaceError&&this.adjustScreenSpaceError()}_unloadTile(tile){this.gpuMemoryUsageInBytes-=tile.gpuMemoryUsageInBytes||0,this.stats.get("Tiles In Memory").decrementCount(),this.stats.get("Tiles Unloaded").incrementCount(),this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes,this.options.onTileUnload(tile),tile.unloadContent()}_destroy(){const stack=[];for(this.root&&stack.push(this.root);stack.length>0;){const tile=stack.pop();for(const child of tile.children)stack.push(child);this._destroyTile(tile)}this.root=null}_destroySubtree(tile){const root=tile,stack=[];for(stack.push(root);stack.length>0;){tile=stack.pop();for(const child of tile.children)stack.push(child);tile!==root&&this._destroyTile(tile)}root.children=[]}_destroyTile(tile){this._cache.unloadTile(this,tile),this._unloadTile(tile),tile.destroy()}_initializeTiles3DTileset(tilesetJson){if(tilesetJson.queryString){const searchParams=new URLSearchParams(tilesetJson.queryString),queryParams=Object.fromEntries(searchParams.entries());this._queryParams={...this._queryParams,...queryParams}}if(this.asset=tilesetJson.asset,!this.asset)throw new Error("Tileset must have an asset property.");if("0.0"!==this.asset.version&&"1.0"!==this.asset.version&&"1.1"!==this.asset.version)throw new Error("The tileset must be 3D Tiles version either 0.0 or 1.0 or 1.1.");"tilesetVersion"in this.asset&&(this._queryParams.v=this.asset.tilesetVersion),this.credits={attributions:this.options.attributions||[]},this.description=this.options.description||"",this.properties=tilesetJson.properties,this.geometricError=tilesetJson.geometricError,this._extensionsUsed=tilesetJson.extensionsUsed||[],this.extras=tilesetJson.extras}_initializeI3STileset(){this.loadOptions.i3s&&"token"in this.loadOptions.i3s&&(this._queryParams.token=this.loadOptions.i3s.token)}}const TILE3D_TYPE={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GEOMETRY:"geom",VECTOR:"vect",GLTF:"glTF"};Object.keys(TILE3D_TYPE);function getStringFromArrayBuffer(arrayBuffer,byteOffset,byteLength){(0,env_utils_assert.h)(arrayBuffer instanceof ArrayBuffer);const textDecoder=new TextDecoder("utf8"),typedArray=new Uint8Array(arrayBuffer,byteOffset,byteLength);return textDecoder.decode(typedArray)}var draco_dist=__webpack_require__("./node_modules/@loaders.gl/draco/dist/index.js"),loader_types=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/loader-types.js");const GL_TYPE={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},constants_GL={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,...GL_TYPE},GL_TYPE_TO_ARRAY_TYPE={[GL_TYPE.DOUBLE]:Float64Array,[GL_TYPE.FLOAT]:Float32Array,[GL_TYPE.UNSIGNED_SHORT]:Uint16Array,[GL_TYPE.UNSIGNED_INT]:Uint32Array,[GL_TYPE.UNSIGNED_BYTE]:Uint8Array,[GL_TYPE.BYTE]:Int8Array,[GL_TYPE.SHORT]:Int16Array,[GL_TYPE.INT]:Int32Array},NAME_TO_GL_TYPE={DOUBLE:GL_TYPE.DOUBLE,FLOAT:GL_TYPE.FLOAT,UNSIGNED_SHORT:GL_TYPE.UNSIGNED_SHORT,UNSIGNED_INT:GL_TYPE.UNSIGNED_INT,UNSIGNED_BYTE:GL_TYPE.UNSIGNED_BYTE,BYTE:GL_TYPE.BYTE,SHORT:GL_TYPE.SHORT,INT:GL_TYPE.INT};class GLType{static fromTypedArray(arrayOrType){arrayOrType=ArrayBuffer.isView(arrayOrType)?arrayOrType.constructor:arrayOrType;for(const glType in GL_TYPE_TO_ARRAY_TYPE){if(GL_TYPE_TO_ARRAY_TYPE[glType]===arrayOrType)return glType}throw new Error("Failed to convert GL type")}static fromName(name){const glType=NAME_TO_GL_TYPE[name];if(!glType)throw new Error("Failed to convert GL type");return glType}static getArrayType(glType){switch(glType){case GL_TYPE.UNSIGNED_SHORT_5_6_5:case GL_TYPE.UNSIGNED_SHORT_4_4_4_4:case GL_TYPE.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:const ArrayType=GL_TYPE_TO_ARRAY_TYPE[glType];if(!ArrayType)throw new Error("Failed to convert GL type");return ArrayType}}static getByteSize(glType){return GLType.getArrayType(glType).BYTES_PER_ELEMENT}static validate(glType){return Boolean(GLType.getArrayType(glType))}static createTypedArray(glType,buffer,byteOffset=0,length){void 0===length&&(length=(buffer.byteLength-byteOffset)/GLType.getByteSize(glType));return new(GLType.getArrayType(glType))(buffer,byteOffset,length)}}class Tile3DFeatureTable{json;buffer;featuresLength=0;_cachedTypedArrays={};constructor(featureTableJson,featureTableBinary){this.json=featureTableJson,this.buffer=featureTableBinary}getExtension(extensionName){return this.json.extensions&&this.json.extensions[extensionName]}hasProperty(propertyName){return Boolean(this.json[propertyName])}getGlobalProperty(propertyName,componentType=constants_GL.UNSIGNED_INT,componentLength=1){const jsonValue=this.json[propertyName];return jsonValue&&Number.isFinite(jsonValue.byteOffset)?this._getTypedArrayFromBinary(propertyName,componentType,componentLength,1,jsonValue.byteOffset):jsonValue}getPropertyArray(propertyName,componentType,componentLength){const jsonValue=this.json[propertyName];return jsonValue&&Number.isFinite(jsonValue.byteOffset)?("componentType"in jsonValue&&(componentType=GLType.fromName(jsonValue.componentType)),this._getTypedArrayFromBinary(propertyName,componentType,componentLength,this.featuresLength,jsonValue.byteOffset)):this._getTypedArrayFromArray(propertyName,componentType,jsonValue)}getProperty(propertyName,componentType,componentLength,featureId,result){const jsonValue=this.json[propertyName];if(!jsonValue)return jsonValue;const typedArray=this.getPropertyArray(propertyName,componentType,componentLength);if(1===componentLength)return typedArray[featureId];for(let i=0;i<componentLength;++i)result[i]=typedArray[componentLength*featureId+i];return result}_getTypedArrayFromBinary(propertyName,componentType,componentLength,count,byteOffset){const cachedTypedArrays=this._cachedTypedArrays;let typedArray=cachedTypedArrays[propertyName];return typedArray||(typedArray=GLType.createTypedArray(componentType,this.buffer.buffer,this.buffer.byteOffset+byteOffset,count*componentLength),cachedTypedArrays[propertyName]=typedArray),typedArray}_getTypedArrayFromArray(propertyName,componentType,array){const cachedTypedArrays=this._cachedTypedArrays;let typedArray=cachedTypedArrays[propertyName];return typedArray||(typedArray=GLType.createTypedArray(componentType,array),cachedTypedArrays[propertyName]=typedArray),typedArray}}const COMPONENTS_PER_ATTRIBUTE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},UNPACKER={SCALAR:(values,i)=>values[i],VEC2:(values,i)=>[values[2*i+0],values[2*i+1]],VEC3:(values,i)=>[values[3*i+0],values[3*i+1],values[3*i+2]],VEC4:(values,i)=>[values[4*i+0],values[4*i+1],values[4*i+2],values[4*i+3]],MAT2:(values,i)=>[values[4*i+0],values[4*i+1],values[4*i+2],values[4*i+3]],MAT3:(values,i)=>[values[9*i+0],values[9*i+1],values[9*i+2],values[9*i+3],values[9*i+4],values[9*i+5],values[9*i+6],values[9*i+7],values[9*i+8]],MAT4:(values,i)=>[values[16*i+0],values[16*i+1],values[16*i+2],values[16*i+3],values[16*i+4],values[16*i+5],values[16*i+6],values[16*i+7],values[16*i+8],values[16*i+9],values[16*i+10],values[16*i+11],values[16*i+12],values[16*i+13],values[16*i+14],values[16*i+15]]},PACKER={SCALAR:(x,values,i)=>{values[i]=x},VEC2:(x,values,i)=>{values[2*i+0]=x[0],values[2*i+1]=x[1]},VEC3:(x,values,i)=>{values[3*i+0]=x[0],values[3*i+1]=x[1],values[3*i+2]=x[2]},VEC4:(x,values,i)=>{values[4*i+0]=x[0],values[4*i+1]=x[1],values[4*i+2]=x[2],values[4*i+3]=x[3]},MAT2:(x,values,i)=>{values[4*i+0]=x[0],values[4*i+1]=x[1],values[4*i+2]=x[2],values[4*i+3]=x[3]},MAT3:(x,values,i)=>{values[9*i+0]=x[0],values[9*i+1]=x[1],values[9*i+2]=x[2],values[9*i+3]=x[3],values[9*i+4]=x[4],values[9*i+5]=x[5],values[9*i+6]=x[6],values[9*i+7]=x[7],values[9*i+8]=x[8],values[9*i+9]=x[9]},MAT4:(x,values,i)=>{values[16*i+0]=x[0],values[16*i+1]=x[1],values[16*i+2]=x[2],values[16*i+3]=x[3],values[16*i+4]=x[4],values[16*i+5]=x[5],values[16*i+6]=x[6],values[16*i+7]=x[7],values[16*i+8]=x[8],values[16*i+9]=x[9],values[16*i+10]=x[10],values[16*i+11]=x[11],values[16*i+12]=x[12],values[16*i+13]=x[13],values[16*i+14]=x[14],values[16*i+15]=x[15]}};const tile_3d_batch_table_hierarchy_defined=x=>void 0!==x;function initializeHierarchy(batchTable,jsonHeader,binaryBody){if(!jsonHeader)return null;let hierarchy=batchTable.getExtension("3DTILES_batch_table_hierarchy");const legacyHierarchy=jsonHeader.HIERARCHY;return legacyHierarchy&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),jsonHeader.extensions=jsonHeader.extensions||{},jsonHeader.extensions["3DTILES_batch_table_hierarchy"]=legacyHierarchy,hierarchy=legacyHierarchy),hierarchy?function initializeHierarchyValues(hierarchyJson,binaryBody){let i,classId,binaryAccessor;const instancesLength=hierarchyJson.instancesLength,classes=hierarchyJson.classes;let parentIndexes,classIds=hierarchyJson.classIds,parentCounts=hierarchyJson.parentCounts,parentIds=hierarchyJson.parentIds,parentIdsLength=instancesLength;tile_3d_batch_table_hierarchy_defined(classIds.byteOffset)&&(classIds.componentType=defaultValue(classIds.componentType,GL.UNSIGNED_SHORT),classIds.type=AttributeType.SCALAR,binaryAccessor=getBinaryAccessor(classIds),classIds=binaryAccessor.createArrayBufferView(binaryBody.buffer,binaryBody.byteOffset+classIds.byteOffset,instancesLength));if(tile_3d_batch_table_hierarchy_defined(parentCounts))for(tile_3d_batch_table_hierarchy_defined(parentCounts.byteOffset)&&(parentCounts.componentType=defaultValue(parentCounts.componentType,GL.UNSIGNED_SHORT),parentCounts.type=AttributeType.SCALAR,binaryAccessor=getBinaryAccessor(parentCounts),parentCounts=binaryAccessor.createArrayBufferView(binaryBody.buffer,binaryBody.byteOffset+parentCounts.byteOffset,instancesLength)),parentIndexes=new Uint16Array(instancesLength),parentIdsLength=0,i=0;i<instancesLength;++i)parentIndexes[i]=parentIdsLength,parentIdsLength+=parentCounts[i];tile_3d_batch_table_hierarchy_defined(parentIds)&&tile_3d_batch_table_hierarchy_defined(parentIds.byteOffset)&&(parentIds.componentType=defaultValue(parentIds.componentType,GL.UNSIGNED_SHORT),parentIds.type=AttributeType.SCALAR,binaryAccessor=getBinaryAccessor(parentIds),parentIds=binaryAccessor.createArrayBufferView(binaryBody.buffer,binaryBody.byteOffset+parentIds.byteOffset,parentIdsLength));const classesLength=classes.length;for(i=0;i<classesLength;++i){const classInstancesLength=classes[i].length,properties=classes[i].instances,binaryProperties=getBinaryProperties(classInstancesLength,properties,binaryBody);classes[i].instances=combine(binaryProperties,properties)}const classCounts=new Array(classesLength).fill(0),classIndexes=new Uint16Array(instancesLength);for(i=0;i<instancesLength;++i)classId=classIds[i],classIndexes[i]=classCounts[classId],++classCounts[classId];const hierarchy={classes:classes,classIds:classIds,classIndexes:classIndexes,parentCounts:parentCounts,parentIndexes:parentIndexes,parentIds:parentIds};return function validateHierarchy(hierarchy){const classIds=hierarchy.classIds,instancesLength=classIds.length;for(let i=0;i<instancesLength;++i)validateInstance(hierarchy,i,stack)}(hierarchy),hierarchy}(hierarchy,binaryBody):null}function traverseHierarchy(hierarchy,instanceIndex,endConditionCallback){if(!hierarchy)return;const parentCounts=hierarchy.parentCounts;return hierarchy.parentIds?endConditionCallback(hierarchy,instanceIndex):parentCounts>0?function traverseHierarchyMultipleParents(hierarchy,instanceIndex,endConditionCallback){const classIds=hierarchy.classIds,parentCounts=hierarchy.parentCounts,parentIds=hierarchy.parentIds,parentIndexes=hierarchy.parentIndexes,instancesLength=classIds.length,visited=scratchVisited;visited.length=Math.max(visited.length,instancesLength);const visitedMarker=++marker,stack=scratchStack;stack.length=0,stack.push(instanceIndex);for(;stack.length>0;){if(visited[instanceIndex=stack.pop()]===visitedMarker)continue;visited[instanceIndex]=visitedMarker;const result=endConditionCallback(hierarchy,instanceIndex);if(tile_3d_batch_table_hierarchy_defined(result))return result;const parentCount=parentCounts[instanceIndex],parentIndex=parentIndexes[instanceIndex];for(let i=0;i<parentCount;++i){const parentId=parentIds[parentIndex+i];parentId!==instanceIndex&&stack.push(parentId)}}return null}(hierarchy,instanceIndex,endConditionCallback):function traverseHierarchySingleParent(hierarchy,instanceIndex,endConditionCallback){let hasParent=!0;for(;hasParent;){const result=endConditionCallback(hierarchy,instanceIndex);if(tile_3d_batch_table_hierarchy_defined(result))return result;const parentId=hierarchy.parentIds[instanceIndex];hasParent=parentId!==instanceIndex,instanceIndex=parentId}throw new Error("traverseHierarchySingleParent")}(hierarchy,instanceIndex,endConditionCallback)}function validateInstance(hierarchy,instanceIndex,stack){const parentCounts=hierarchy.parentCounts,parentIds=hierarchy.parentIds,parentIndexes=hierarchy.parentIndexes,instancesLength=hierarchy.classIds.length;if(!tile_3d_batch_table_hierarchy_defined(parentIds))return;assert(instanceIndex<instancesLength,`Parent index ${instanceIndex} exceeds the total number of instances: ${instancesLength}`),assert(-1===stack.indexOf(instanceIndex),"Circular dependency detected in the batch table hierarchy."),stack.push(instanceIndex);const parentCount=tile_3d_batch_table_hierarchy_defined(parentCounts)?parentCounts[instanceIndex]:1,parentIndex=tile_3d_batch_table_hierarchy_defined(parentCounts)?parentIndexes[instanceIndex]:instanceIndex;for(let i=0;i<parentCount;++i){const parentId=parentIds[parentIndex+i];parentId!==instanceIndex&&validateInstance(hierarchy,parentId,stack)}stack.pop(instanceIndex)}function tile_3d_batch_table_defined(x){return null!=x}const clone=(x,y)=>x,IGNORED_PROPERTY_FIELDS={HIERARCHY:!0,extensions:!0,extras:!0};class Tile3DBatchTableParser{json;binary;featureCount;_extensions;_properties;_binaryProperties;_hierarchy;constructor(json,binary,featureCount,options={}){(0,env_utils_assert.h)(featureCount>=0),this.json=json||{},this.binary=binary,this.featureCount=featureCount,this._extensions=this.json?.extensions||{},this._properties={};for(const propertyName in this.json)IGNORED_PROPERTY_FIELDS[propertyName]||(this._properties[propertyName]=this.json[propertyName]);this._binaryProperties=this._initializeBinaryProperties(),options["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=initializeHierarchy(this,this.json,this.binary))}getExtension(extensionName){return this.json&&this.json.extensions&&this.json.extensions[extensionName]}memorySizeInBytes(){return 0}isClass(batchId,className){if(this._checkBatchId(batchId),(0,env_utils_assert.h)("string"==typeof className,className),this._hierarchy){return tile_3d_batch_table_defined(traverseHierarchy(this._hierarchy,batchId,((hierarchy,instanceIndex)=>{const classId=hierarchy.classIds[instanceIndex];return hierarchy.classes[classId].name===className})))}return!1}isExactClass(batchId,className){return(0,env_utils_assert.h)("string"==typeof className,className),this.getExactClassName(batchId)===className}getExactClassName(batchId){if(this._checkBatchId(batchId),this._hierarchy){const classId=this._hierarchy.classIds[batchId];return this._hierarchy.classes[classId].name}}hasProperty(batchId,name){return this._checkBatchId(batchId),(0,env_utils_assert.h)("string"==typeof name,name),tile_3d_batch_table_defined(this._properties[name])||this._hasPropertyInHierarchy(batchId,name)}getPropertyNames(batchId,results){this._checkBatchId(batchId),(results=tile_3d_batch_table_defined(results)?results:[]).length=0;const propertyNames=Object.keys(this._properties);return results.push(...propertyNames),this._hierarchy&&this._getPropertyNamesInHierarchy(batchId,results),results}getProperty(batchId,name){if(this._checkBatchId(batchId),(0,env_utils_assert.h)("string"==typeof name,name),this._binaryProperties){const binaryProperty=this._binaryProperties[name];if(tile_3d_batch_table_defined(binaryProperty))return this._getBinaryProperty(binaryProperty,batchId)}const propertyValues=this._properties[name];if(tile_3d_batch_table_defined(propertyValues))return clone(propertyValues[batchId]);if(this._hierarchy){const hierarchyProperty=this._getHierarchyProperty(batchId,name);if(tile_3d_batch_table_defined(hierarchyProperty))return hierarchyProperty}}setProperty(batchId,name,value){const featureCount=this.featureCount;if(this._checkBatchId(batchId),(0,env_utils_assert.h)("string"==typeof name,name),this._binaryProperties){const binaryProperty=this._binaryProperties[name];if(binaryProperty)return void this._setBinaryProperty(binaryProperty,batchId,value)}if(this._hierarchy&&this._setHierarchyProperty(this,batchId,name,value))return;let propertyValues=this._properties[name];tile_3d_batch_table_defined(propertyValues)||(this._properties[name]=new Array(featureCount),propertyValues=this._properties[name]),propertyValues[batchId]=clone(value)}_checkBatchId(batchId){if(!(batchId>=0&&batchId<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")}_getBinaryProperty(binaryProperty,index){return binaryProperty.unpack(binaryProperty.typedArray,index)}_setBinaryProperty(binaryProperty,index,value){binaryProperty.pack(value,binaryProperty.typedArray,index)}_initializeBinaryProperties(){let binaryProperties=null;for(const name in this._properties){const property=this._properties[name],binaryProperty=this._initializeBinaryProperty(name,property);binaryProperty&&(binaryProperties=binaryProperties||{},binaryProperties[name]=binaryProperty)}return binaryProperties}_initializeBinaryProperty(name,property){if("byteOffset"in property){const tile3DAccessor=property;(0,env_utils_assert.h)(this.binary,`Property ${name} requires a batch table binary.`),(0,env_utils_assert.h)(tile3DAccessor.type,`Property ${name} requires a type.`);const accessor=function createTypedArrayFromAccessor(tile3DAccessor,buffer,byteOffset,length){const{componentType:componentType}=tile3DAccessor;(0,env_utils_assert.h)(tile3DAccessor.componentType);const type="string"==typeof componentType?GLType.fromName(componentType):componentType,size=COMPONENTS_PER_ATTRIBUTE[tile3DAccessor.type],unpacker=UNPACKER[tile3DAccessor.type],packer=PACKER[tile3DAccessor.type];return byteOffset+=tile3DAccessor.byteOffset,{values:GLType.createTypedArray(type,buffer,byteOffset,size*length),type:type,size:size,unpacker:unpacker,packer:packer}}(tile3DAccessor,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:accessor.values,componentCount:accessor.size,unpack:accessor.unpacker,pack:accessor.packer}}return null}_hasPropertyInHierarchy(batchId,name){if(!this._hierarchy)return!1;const result=traverseHierarchy(this._hierarchy,batchId,((hierarchy,instanceIndex)=>{const classId=hierarchy.classIds[instanceIndex];return tile_3d_batch_table_defined(hierarchy.classes[classId].instances[name])}));return tile_3d_batch_table_defined(result)}_getPropertyNamesInHierarchy(batchId,results){traverseHierarchy(this._hierarchy,batchId,((hierarchy,instanceIndex)=>{const classId=hierarchy.classIds[instanceIndex],instances=hierarchy.classes[classId].instances;for(const name in instances)instances.hasOwnProperty(name)&&-1===results.indexOf(name)&&results.push(name)}))}_getHierarchyProperty(batchId,name){return traverseHierarchy(this._hierarchy,batchId,((hierarchy,instanceIndex)=>{const classId=hierarchy.classIds[instanceIndex],instanceClass=hierarchy.classes[classId],indexInClass=hierarchy.classIndexes[instanceIndex],propertyValues=instanceClass.instances[name];return tile_3d_batch_table_defined(propertyValues)?tile_3d_batch_table_defined(propertyValues.typedArray)?this._getBinaryProperty(propertyValues,indexInClass):clone(propertyValues[indexInClass]):null}))}_setHierarchyProperty(batchTable,batchId,name,value){const result=traverseHierarchy(this._hierarchy,batchId,((hierarchy,instanceIndex)=>{const classId=hierarchy.classIds[instanceIndex],instanceClass=hierarchy.classes[classId],indexInClass=hierarchy.classIndexes[instanceIndex],propertyValues=instanceClass.instances[name];return!!tile_3d_batch_table_defined(propertyValues)&&((0,env_utils_assert.h)(instanceIndex===batchId,`Inherited property "${name}" is read-only.`),tile_3d_batch_table_defined(propertyValues.typedArray)?this._setBinaryProperty(propertyValues,indexInClass,value):propertyValues[indexInClass]=clone(value),!0)}));return tile_3d_batch_table_defined(result)}}const SIZEOF_UINT32=4;function parse3DTileHeaderSync(tile,arrayBuffer,byteOffset=0){const view=new DataView(arrayBuffer);if(tile.magic=view.getUint32(byteOffset,!0),byteOffset+=SIZEOF_UINT32,tile.version=view.getUint32(byteOffset,!0),byteOffset+=SIZEOF_UINT32,tile.byteLength=view.getUint32(byteOffset,!0),byteOffset+=SIZEOF_UINT32,1!==tile.version)throw new Error(`3D Tile Version ${tile.version} not supported`);return byteOffset}const parse_3d_tile_tables_SIZEOF_UINT32=4,DEPRECATION_WARNING="b3dm tile in legacy format.";function parse3DTileTablesHeaderSync(tile,arrayBuffer,byteOffset){const view=new DataView(arrayBuffer);let batchLength;tile.header=tile.header||{};let featureTableJsonByteLength=view.getUint32(byteOffset,!0);byteOffset+=parse_3d_tile_tables_SIZEOF_UINT32;let featureTableBinaryByteLength=view.getUint32(byteOffset,!0);byteOffset+=parse_3d_tile_tables_SIZEOF_UINT32;let batchTableJsonByteLength=view.getUint32(byteOffset,!0);byteOffset+=parse_3d_tile_tables_SIZEOF_UINT32;let batchTableBinaryByteLength=view.getUint32(byteOffset,!0);return byteOffset+=parse_3d_tile_tables_SIZEOF_UINT32,batchTableJsonByteLength>=570425344?(byteOffset-=2*parse_3d_tile_tables_SIZEOF_UINT32,batchLength=featureTableJsonByteLength,batchTableJsonByteLength=featureTableBinaryByteLength,batchTableBinaryByteLength=0,featureTableJsonByteLength=0,featureTableBinaryByteLength=0,console.warn(DEPRECATION_WARNING)):batchTableBinaryByteLength>=570425344&&(byteOffset-=parse_3d_tile_tables_SIZEOF_UINT32,batchLength=batchTableJsonByteLength,batchTableJsonByteLength=featureTableJsonByteLength,batchTableBinaryByteLength=featureTableBinaryByteLength,featureTableJsonByteLength=0,featureTableBinaryByteLength=0,console.warn(DEPRECATION_WARNING)),tile.header.featureTableJsonByteLength=featureTableJsonByteLength,tile.header.featureTableBinaryByteLength=featureTableBinaryByteLength,tile.header.batchTableJsonByteLength=batchTableJsonByteLength,tile.header.batchTableBinaryByteLength=batchTableBinaryByteLength,tile.header.batchLength=batchLength,byteOffset}function parse3DTileTablesSync(tile,arrayBuffer,byteOffset,options){return byteOffset=function parse3DTileFeatureTable(tile,arrayBuffer,byteOffset,options){const{featureTableJsonByteLength:featureTableJsonByteLength,featureTableBinaryByteLength:featureTableBinaryByteLength,batchLength:batchLength}=tile.header||{};if(tile.featureTableJson={BATCH_LENGTH:batchLength||0},featureTableJsonByteLength&&featureTableJsonByteLength>0){const featureTableString=getStringFromArrayBuffer(arrayBuffer,byteOffset,featureTableJsonByteLength);tile.featureTableJson=JSON.parse(featureTableString)}return byteOffset+=featureTableJsonByteLength||0,tile.featureTableBinary=new Uint8Array(arrayBuffer,byteOffset,featureTableBinaryByteLength),byteOffset+=featureTableBinaryByteLength||0,byteOffset}(tile,arrayBuffer,byteOffset),byteOffset=function parse3DTileBatchTable(tile,arrayBuffer,byteOffset,options){const{batchTableJsonByteLength:batchTableJsonByteLength,batchTableBinaryByteLength:batchTableBinaryByteLength}=tile.header||{};if(batchTableJsonByteLength&&batchTableJsonByteLength>0){const batchTableString=getStringFromArrayBuffer(arrayBuffer,byteOffset,batchTableJsonByteLength);tile.batchTableJson=JSON.parse(batchTableString),byteOffset+=batchTableJsonByteLength,batchTableBinaryByteLength&&batchTableBinaryByteLength>0&&(tile.batchTableBinary=new Uint8Array(arrayBuffer,byteOffset,batchTableBinaryByteLength),tile.batchTableBinary=new Uint8Array(tile.batchTableBinary),byteOffset+=batchTableBinaryByteLength)}return byteOffset}(tile,arrayBuffer,byteOffset),byteOffset}function decodeRGB565(rgb565,target=[0,0,0]){const r5=rgb565>>11&31,g6=rgb565>>5&63,b5=31&rgb565;return target[0]=r5<<3,target[1]=g6<<2,target[2]=b5<<3,target}function normalize3DTileColorAttribute(tile,colors,batchTable){if(!(colors||tile&&tile.batchIds&&batchTable))return null;const{batchIds:batchIds,isRGB565:isRGB565,pointCount:pointCount=0}=tile;if(batchIds&&batchTable){const colorArray=new Uint8ClampedArray(3*pointCount);for(let i=0;i<pointCount;i++){const batchId=batchIds[i],color=batchTable.getProperty(batchId,"dimensions").map((d=>255*d));colorArray[3*i]=color[0],colorArray[3*i+1]=color[1],colorArray[3*i+2]=color[2]}return{type:constants_GL.UNSIGNED_BYTE,value:colorArray,size:3,normalized:!0}}if(colors&&isRGB565){const colorArray=new Uint8ClampedArray(3*pointCount);for(let i=0;i<pointCount;i++){const color=decodeRGB565(colors[i]);colorArray[3*i]=color[0],colorArray[3*i+1]=color[1],colorArray[3*i+2]=color[2]}return{type:constants_GL.UNSIGNED_BYTE,value:colorArray,size:3,normalized:!0}}return colors&&colors.length===3*pointCount?{type:constants_GL.UNSIGNED_BYTE,value:colors,size:3,normalized:!0}:{type:constants_GL.UNSIGNED_BYTE,value:colors||new Uint8ClampedArray,size:4,normalized:!0}}var vector2=__webpack_require__("./node_modules/@math.gl/core/dist/classes/vector2.js");new vector2.F,new vector3.P,new vector2.F,new vector2.F,new Uint8Array(1);function fromSNorm(value,rangeMaximum=255){return(0,common.uZ)(value,0,rangeMaximum)/rangeMaximum*2-1}function signNotZero(value){return value<0?-1:1}function octDecodeInRange(x,y,rangeMax,result){if(function assert_assert(condition,message){if(!condition)throw new Error(`math.gl assertion failed. ${message}`)}(result),x<0||x>rangeMax||y<0||y>rangeMax)throw new Error(`x and y must be unsigned normalized integers between 0 and ${rangeMax}`);if(result.x=fromSNorm(x,rangeMax),result.y=fromSNorm(y,rangeMax),result.z=1-(Math.abs(result.x)+Math.abs(result.y)),result.z<0){const oldVX=result.x;result.x=(1-Math.abs(result.y))*signNotZero(oldVX),result.y=(1-Math.abs(oldVX))*signNotZero(result.y)}return result.normalize()}function octDecode(x,y,result){return octDecodeInRange(x,y,255,result)}const normalize_3d_tile_normals_scratchNormal=new vector3.P;function normalize3DTilePositionAttribute(tile,positions,options){return tile.isQuantized?options["3d-tiles"]&&options["3d-tiles"].decodeQuantizedPositions?(tile.isQuantized=!1,function decodeQuantizedPositions(tile,positions){const scratchPosition=new vector3.P,decodedArray=new Float32Array(3*tile.pointCount);for(let i=0;i<tile.pointCount;i++)scratchPosition.set(positions[3*i],positions[3*i+1],positions[3*i+2]).scale(1/tile.quantizedRange).multiply(tile.quantizedVolumeScale).add(tile.quantizedVolumeOffset).toArray(decodedArray,3*i);return decodedArray}(tile,positions)):{type:constants_GL.UNSIGNED_SHORT,value:positions,size:3,normalized:!0}:positions}async function parsePointCloud3DTile(tile,arrayBuffer,byteOffset,options,context){byteOffset=parse3DTileTablesSync(tile,arrayBuffer,byteOffset=parse3DTileTablesHeaderSync(tile,arrayBuffer,byteOffset=parse3DTileHeaderSync(tile,arrayBuffer,byteOffset))),function initializeTile(tile){tile.attributes={positions:null,colors:null,normals:null,batchIds:null},tile.isQuantized=!1,tile.isTranslucent=!1,tile.isRGB565=!1,tile.isOctEncoded16P=!1}(tile);const{featureTable:featureTable,batchTable:batchTable}=function parsePointCloudTables(tile){const featureTable=new Tile3DFeatureTable(tile.featureTableJson,tile.featureTableBinary),pointsLength=featureTable.getGlobalProperty("POINTS_LENGTH");if(!Number.isFinite(pointsLength))throw new Error("POINTS_LENGTH must be defined");featureTable.featuresLength=pointsLength,tile.featuresLength=pointsLength,tile.pointsLength=pointsLength,tile.pointCount=pointsLength,tile.rtcCenter=featureTable.getGlobalProperty("RTC_CENTER",constants_GL.FLOAT,3);const batchTable=function parseBatchIds(tile,featureTable){let batchTable=null;if(!tile.batchIds&&featureTable.hasProperty("BATCH_ID")&&(tile.batchIds=featureTable.getPropertyArray("BATCH_ID",constants_GL.UNSIGNED_SHORT,1),tile.batchIds)){const batchFeatureLength=featureTable.getGlobalProperty("BATCH_LENGTH");if(!batchFeatureLength)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");const{batchTableJson:batchTableJson,batchTableBinary:batchTableBinary}=tile;batchTable=new Tile3DBatchTableParser(batchTableJson,batchTableBinary,batchFeatureLength)}return batchTable}(tile,featureTable);return{featureTable:featureTable,batchTable:batchTable}}(tile);return await async function parseDraco(tile,featureTable,batchTable,options,context){let dracoBuffer,dracoFeatureTableProperties,dracoBatchTableProperties;const batchTableDraco=tile.batchTableJson&&tile.batchTableJson.extensions&&tile.batchTableJson.extensions["3DTILES_draco_point_compression"];batchTableDraco&&(dracoBatchTableProperties=batchTableDraco.properties);const featureTableDraco=featureTable.getExtension("3DTILES_draco_point_compression");if(featureTableDraco){dracoFeatureTableProperties=featureTableDraco.properties;const dracoByteOffset=featureTableDraco.byteOffset,dracoByteLength=featureTableDraco.byteLength;if(!dracoFeatureTableProperties||!Number.isFinite(dracoByteOffset)||!dracoByteLength)throw new Error("Draco properties, byteOffset, and byteLength must be defined");dracoBuffer=(tile.featureTableBinary||[]).slice(dracoByteOffset,dracoByteOffset+dracoByteLength),tile.hasPositions=Number.isFinite(dracoFeatureTableProperties.POSITION),tile.hasColors=Number.isFinite(dracoFeatureTableProperties.RGB)||Number.isFinite(dracoFeatureTableProperties.RGBA),tile.hasNormals=Number.isFinite(dracoFeatureTableProperties.NORMAL),tile.hasBatchIds=Number.isFinite(dracoFeatureTableProperties.BATCH_ID),tile.isTranslucent=Number.isFinite(dracoFeatureTableProperties.RGBA)}if(!dracoBuffer)return!0;const dracoData={buffer:dracoBuffer,properties:{...dracoFeatureTableProperties,...dracoBatchTableProperties},featureTableProperties:dracoFeatureTableProperties,batchTableProperties:dracoBatchTableProperties,dequantizeInShader:!1};return await async function loadDraco(tile,dracoData,options,context){if(!context)return;const dracoOptions={...options,draco:{...options?.draco,extraAttributes:dracoData.batchTableProperties||{}}};delete dracoOptions["3d-tiles"];const data=await(0,loader_types.cr)(dracoData.buffer,draco_dist.VJ,dracoOptions,context),decodedPositions=data.attributes.POSITION&&data.attributes.POSITION.value,decodedColors=data.attributes.COLOR_0&&data.attributes.COLOR_0.value,decodedNormals=data.attributes.NORMAL&&data.attributes.NORMAL.value,decodedBatchIds=data.attributes.BATCH_ID&&data.attributes.BATCH_ID.value,isQuantizedDraco=decodedPositions&&data.attributes.POSITION.value.quantization,isOctEncodedDraco=decodedNormals&&data.attributes.NORMAL.value.quantization;if(isQuantizedDraco){const quantization=data.POSITION.data.quantization,range=quantization.range;tile.quantizedVolumeScale=new vector3.P(range,range,range),tile.quantizedVolumeOffset=new vector3.P(quantization.minValues),tile.quantizedRange=(1<<quantization.quantizationBits)-1,tile.isQuantizedDraco=!0}isOctEncodedDraco&&(tile.octEncodedRange=(1<<data.NORMAL.data.quantization.quantizationBits)-1,tile.isOctEncodedDraco=!0);const batchTableAttributes={};if(dracoData.batchTableProperties)for(const attributeName of Object.keys(dracoData.batchTableProperties))data.attributes[attributeName]&&data.attributes[attributeName].value&&(batchTableAttributes[attributeName.toLowerCase()]=data.attributes[attributeName].value);tile.attributes={positions:decodedPositions,colors:normalize3DTileColorAttribute(tile,decodedColors,void 0),normals:decodedNormals,batchIds:decodedBatchIds,...batchTableAttributes}}(tile,dracoData,options,context)}(tile,featureTable,0,options,context),function parsePositions(tile,featureTable,options){if(tile.attributes=tile.attributes||{positions:null,colors:null,normals:null,batchIds:null},!tile.attributes.positions)if(featureTable.hasProperty("POSITION"))tile.attributes.positions=featureTable.getPropertyArray("POSITION",constants_GL.FLOAT,3);else if(featureTable.hasProperty("POSITION_QUANTIZED")){const positions=featureTable.getPropertyArray("POSITION_QUANTIZED",constants_GL.UNSIGNED_SHORT,3);if(tile.isQuantized=!0,tile.quantizedRange=65535,tile.quantizedVolumeScale=featureTable.getGlobalProperty("QUANTIZED_VOLUME_SCALE",constants_GL.FLOAT,3),!tile.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(tile.quantizedVolumeOffset=featureTable.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",constants_GL.FLOAT,3),!tile.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");tile.attributes.positions=normalize3DTilePositionAttribute(tile,positions,options)}if(!tile.attributes.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}(tile,featureTable,options),function parseColors(tile,featureTable,batchTable){if(tile.attributes=tile.attributes||{positions:null,colors:null,normals:null,batchIds:null},!tile.attributes.colors){let colors=null;featureTable.hasProperty("RGBA")?(colors=featureTable.getPropertyArray("RGBA",constants_GL.UNSIGNED_BYTE,4),tile.isTranslucent=!0):featureTable.hasProperty("RGB")?colors=featureTable.getPropertyArray("RGB",constants_GL.UNSIGNED_BYTE,3):featureTable.hasProperty("RGB565")&&(colors=featureTable.getPropertyArray("RGB565",constants_GL.UNSIGNED_SHORT,1),tile.isRGB565=!0),tile.attributes.colors=normalize3DTileColorAttribute(tile,colors,batchTable)}featureTable.hasProperty("CONSTANT_RGBA")&&(tile.constantRGBA=featureTable.getGlobalProperty("CONSTANT_RGBA",constants_GL.UNSIGNED_BYTE,4))}(tile,featureTable,batchTable),function parseNormals(tile,featureTable){if(tile.attributes=tile.attributes||{positions:null,colors:null,normals:null,batchIds:null},!tile.attributes.normals){let normals=null;featureTable.hasProperty("NORMAL")?normals=featureTable.getPropertyArray("NORMAL",constants_GL.FLOAT,3):featureTable.hasProperty("NORMAL_OCT16P")&&(normals=featureTable.getPropertyArray("NORMAL_OCT16P",constants_GL.UNSIGNED_BYTE,2),tile.isOctEncoded16P=!0),tile.attributes.normals=function normalize3DTileNormalAttribute(tile,normals){if(!normals)return null;if(tile.isOctEncoded16P){const decodedArray=new Float32Array(3*(tile.pointsLength||0));for(let i=0;i<(tile.pointsLength||0);i++)octDecode(normals[2*i],normals[2*i+1],normalize_3d_tile_normals_scratchNormal),normalize_3d_tile_normals_scratchNormal.toArray(decodedArray,3*i);return{type:constants_GL.FLOAT,size:2,value:decodedArray}}return{type:constants_GL.FLOAT,size:2,value:normals}}(tile,normals)}}(tile,featureTable),byteOffset}var gltf_loader=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/gltf-loader.js"),post_process_gltf=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/lib/api/post-process-gltf.js"),gltf_utils=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/lib/gltf-utils/gltf-utils.js"),array_buffer_utils=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/lib/binary-utils/array-buffer-utils.js");const GLTF_FORMAT={URI:0,EMBEDDED:1};function parse3DTileGLTFViewSync(tile,arrayBuffer,byteOffset,options){tile.rotateYtoZ=!0;const gltfByteLength=(tile.byteOffset||0)+(tile.byteLength||0)-byteOffset;if(0===gltfByteLength)throw new Error("glTF byte length must be greater than 0.");return tile.gltfUpAxis=options?.["3d-tiles"]&&options["3d-tiles"].assetGltfUpAxis?options["3d-tiles"].assetGltfUpAxis:"Y",tile.gltfArrayBuffer=(0,array_buffer_utils.qv)(arrayBuffer,byteOffset,gltfByteLength),tile.gltfByteOffset=0,tile.gltfByteLength=gltfByteLength,byteOffset%4==0||console.warn(`${tile.type}: embedded glb is not aligned to a 4-byte boundary.`),(tile.byteOffset||0)+(tile.byteLength||0)}async function extractGLTF(tile,gltfFormat,options,context){const tile3DOptions=options?.["3d-tiles"]||{};if(function extractGLTFBufferOrURL(tile,gltfFormat,options){switch(gltfFormat){case GLTF_FORMAT.URI:if(tile.gltfArrayBuffer){const gltfUrlBytes=new Uint8Array(tile.gltfArrayBuffer,tile.gltfByteOffset),gltfUrl=(new TextDecoder).decode(gltfUrlBytes);tile.gltfUrl=gltfUrl.replace(/[\s\0]+$/,"")}delete tile.gltfArrayBuffer,delete tile.gltfByteOffset,delete tile.gltfByteLength;break;case GLTF_FORMAT.EMBEDDED:break;default:throw new Error("b3dm: Illegal glTF format field")}}(tile,gltfFormat),tile3DOptions.loadGLTF){if(!context)return;if(tile.gltfUrl){const{fetch:fetch}=context,response=await fetch(tile.gltfUrl,options);tile.gltfArrayBuffer=await response.arrayBuffer(),tile.gltfByteOffset=0}if(tile.gltfArrayBuffer){const gltfWithBuffers=await(0,loader_types.cr)(tile.gltfArrayBuffer,gltf_loader.E,options,context);tile.gltf=(0,post_process_gltf.w)(gltfWithBuffers),tile.gpuMemoryUsageInBytes=(0,gltf_utils.Xr)(tile.gltf),delete tile.gltfArrayBuffer,delete tile.gltfByteOffset,delete tile.gltfByteLength}}}async function parseBatchedModel3DTile(tile,arrayBuffer,byteOffset,options,context){byteOffset=function parseBatchedModel(tile,arrayBuffer,byteOffset,options,context){byteOffset=parse3DTileHeaderSync(tile,arrayBuffer,byteOffset),byteOffset=parse3DTileTablesHeaderSync(tile,arrayBuffer,byteOffset),byteOffset=parse3DTileTablesSync(tile,arrayBuffer,byteOffset),byteOffset=parse3DTileGLTFViewSync(tile,arrayBuffer,byteOffset,options);const featureTable=new Tile3DFeatureTable(tile.featureTableJson,tile.featureTableBinary);return tile.rtcCenter=featureTable.getGlobalProperty("RTC_CENTER",constants_GL.FLOAT,3),byteOffset}(tile,arrayBuffer,byteOffset,options),await extractGLTF(tile,GLTF_FORMAT.EMBEDDED,options,context);const extensions=tile?.gltf?.extensions;return extensions&&extensions.CESIUM_RTC&&(tile.rtcCenter=extensions.CESIUM_RTC.center),byteOffset}async function parseInstancedModel3DTile(tile,arrayBuffer,byteOffset,options,context){return byteOffset=function parseInstancedModel(tile,arrayBuffer,byteOffset,options,context){if(byteOffset=parse3DTileHeaderSync(tile,arrayBuffer,byteOffset),1!==tile.version)throw new Error(`Instanced 3D Model version ${tile.version} is not supported`);byteOffset=parse3DTileTablesHeaderSync(tile,arrayBuffer,byteOffset);const view=new DataView(arrayBuffer);if(tile.gltfFormat=view.getUint32(byteOffset,!0),byteOffset+=4,byteOffset=parse3DTileTablesSync(tile,arrayBuffer,byteOffset),byteOffset=parse3DTileGLTFViewSync(tile,arrayBuffer,byteOffset,options),!tile?.header?.featureTableJsonByteLength||0===tile.header.featureTableJsonByteLength)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");const featureTable=new Tile3DFeatureTable(tile.featureTableJson,tile.featureTableBinary),instancesLength=featureTable.getGlobalProperty("INSTANCES_LENGTH");if(featureTable.featuresLength=instancesLength,!Number.isFinite(instancesLength))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");tile.eastNorthUp=featureTable.getGlobalProperty("EAST_NORTH_UP"),tile.rtcCenter=featureTable.getGlobalProperty("RTC_CENTER",constants_GL.FLOAT,3);new Tile3DBatchTableParser(tile.batchTableJson,tile.batchTableBinary,instancesLength);return function extractInstancedAttributes(tile,featureTable,batchTable,instancesLength){const instances=new Array(instancesLength),instancePosition=new vector3.P,instanceNormalRight=new vector3.P,instanceNormalUp=new vector3.P,instanceNormalForward=new vector3.P,instanceRotation=new matrix3.V,instanceQuaternion=new classes_quaternion._,instanceScale=new vector3.P,instanceTranslationRotationScale={},instanceTransform=new matrix4.y,scratch1=[],scratch2=[],scratch3=[],scratch4=[];for(let i=0;i<instancesLength;i++){let position;if(featureTable.hasProperty("POSITION"))position=featureTable.getProperty("POSITION",constants_GL.FLOAT,3,i,instancePosition);else if(featureTable.hasProperty("POSITION_QUANTIZED")){position=featureTable.getProperty("POSITION_QUANTIZED",constants_GL.UNSIGNED_SHORT,3,i,instancePosition);const quantizedVolumeOffset=featureTable.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",constants_GL.FLOAT,3);if(!quantizedVolumeOffset)throw new Error("i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");const quantizedVolumeScale=featureTable.getGlobalProperty("QUANTIZED_VOLUME_SCALE",constants_GL.FLOAT,3);if(!quantizedVolumeScale)throw new Error("i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");const MAX_UNSIGNED_SHORT=65535;for(let j=0;j<3;j++)position[j]=position[j]/MAX_UNSIGNED_SHORT*quantizedVolumeScale[j]+quantizedVolumeOffset[j]}if(!position)throw new Error("i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.");instancePosition.copy(position),instanceTranslationRotationScale.translation=instancePosition,tile.normalUp=featureTable.getProperty("NORMAL_UP",constants_GL.FLOAT,3,i,scratch1),tile.normalRight=featureTable.getProperty("NORMAL_RIGHT",constants_GL.FLOAT,3,i,scratch2);const hasCustomOrientation=!1;if(tile.normalUp){if(!tile.normalRight)throw new Error("i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.");tile.hasCustomOrientation=!0}else{if(tile.octNormalUp=featureTable.getProperty("NORMAL_UP_OCT32P",constants_GL.UNSIGNED_SHORT,2,i,scratch1),tile.octNormalRight=featureTable.getProperty("NORMAL_RIGHT_OCT32P",constants_GL.UNSIGNED_SHORT,2,i,scratch2),tile.octNormalUp){if(!tile.octNormalRight)throw new Error("i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P");throw new Error("i3dm: oct-encoded orientation not implemented")}tile.eastNorthUp?(Ellipsoid.WGS84.eastNorthUpToFixedFrame(instancePosition,instanceTransform),instanceTransform.getRotationMatrix3(instanceRotation)):instanceRotation.identity()}hasCustomOrientation&&(instanceNormalForward.copy(instanceNormalRight).cross(instanceNormalUp).normalize(),instanceRotation.setColumn(0,instanceNormalRight),instanceRotation.setColumn(1,instanceNormalUp),instanceRotation.setColumn(2,instanceNormalForward)),instanceQuaternion.fromMatrix3(instanceRotation),instanceTranslationRotationScale.rotation=instanceQuaternion,instanceScale.set(1,1,1);const scale=featureTable.getProperty("SCALE",constants_GL.FLOAT,1,i,scratch3);Number.isFinite(scale)&&instanceScale.multiplyByScalar(scale);const nonUniformScale=featureTable.getProperty("SCALE_NON_UNIFORM",constants_GL.FLOAT,3,i,scratch1);nonUniformScale&&instanceScale.scale(nonUniformScale),instanceTranslationRotationScale.scale=instanceScale;let batchId=featureTable.getProperty("BATCH_ID",constants_GL.UNSIGNED_SHORT,1,i,scratch4);void 0===batchId&&(batchId=i);const rotationMatrix=(new matrix4.y).fromQuaternion(instanceTranslationRotationScale.rotation);instanceTransform.identity(),instanceTransform.translate(instanceTranslationRotationScale.translation),instanceTransform.multiplyRight(rotationMatrix),instanceTransform.scale(instanceTranslationRotationScale.scale);const modelMatrix=instanceTransform.clone();instances[i]={modelMatrix:modelMatrix,batchId:batchId}}tile.instances=instances}(tile,featureTable,0,instancesLength),byteOffset}(tile,arrayBuffer,byteOffset,options),await extractGLTF(tile,tile.gltfFormat||0,options,context),byteOffset}async function parse3DTile(arrayBuffer,byteOffset=0,options,context,tile={shape:"tile3d"}){switch(tile.byteOffset=byteOffset,tile.type=function getMagicString(arrayBuffer,byteOffset=0){const dataView=new DataView(arrayBuffer);return`${String.fromCharCode(dataView.getUint8(byteOffset+0))}${String.fromCharCode(dataView.getUint8(byteOffset+1))}${String.fromCharCode(dataView.getUint8(byteOffset+2))}${String.fromCharCode(dataView.getUint8(byteOffset+3))}`}(arrayBuffer,byteOffset),tile.type){case TILE3D_TYPE.COMPOSITE:return await async function parseComposite3DTile(tile,arrayBuffer,byteOffset,options,context,parse3DTile){byteOffset=parse3DTileHeaderSync(tile,arrayBuffer,byteOffset);const view=new DataView(arrayBuffer);for(tile.tilesLength=view.getUint32(byteOffset,!0),byteOffset+=4,tile.tiles=[];tile.tiles.length<tile.tilesLength&&(tile.byteLength||0)-byteOffset>12;){const subtile={shape:"tile3d"};tile.tiles.push(subtile),byteOffset=await parse3DTile(arrayBuffer,byteOffset,options,context,subtile)}return byteOffset}(tile,arrayBuffer,byteOffset,options,context,parse3DTile);case TILE3D_TYPE.BATCHED_3D_MODEL:return await parseBatchedModel3DTile(tile,arrayBuffer,byteOffset,options,context);case TILE3D_TYPE.GLTF:return await async function parseGltf3DTile(tile,arrayBuffer,options,context){if(tile.rotateYtoZ=!0,tile.gltfUpAxis=options?.["3d-tiles"]?.assetGltfUpAxis?options["3d-tiles"].assetGltfUpAxis:"Y",options?.["3d-tiles"]?.loadGLTF){if(!context)return arrayBuffer.byteLength;const gltfWithBuffers=await(0,loader_types.cr)(arrayBuffer,gltf_loader.E,options,context);tile.gltf=(0,post_process_gltf.w)(gltfWithBuffers),tile.gpuMemoryUsageInBytes=(0,gltf_utils.Xr)(tile.gltf)}else tile.gltfArrayBuffer=arrayBuffer;return arrayBuffer.byteLength}(tile,arrayBuffer,options,context);case TILE3D_TYPE.INSTANCED_3D_MODEL:return await parseInstancedModel3DTile(tile,arrayBuffer,byteOffset,options,context);case TILE3D_TYPE.POINT_CLOUD:return await parsePointCloud3DTile(tile,arrayBuffer,byteOffset,options,context);default:throw new Error(`3DTileLoader: unknown type ${tile.type}`)}}async function loadExplicitBitstream(subtree,availabilityObject,internalBinaryBuffer,context){const bufferViewIndex=Number.isFinite(availabilityObject.bitstream)?availabilityObject.bitstream:availabilityObject.bufferView;if("number"!=typeof bufferViewIndex)return;const bufferView=subtree.bufferViews[bufferViewIndex],buffer=subtree.buffers[bufferView.buffer];if(!context?.baseUrl)throw new Error("Url is not provided");if(!context.fetch)throw new Error("fetch is not provided");if(buffer.uri){const bufferUri=`${context?.baseUrl||""}/${buffer.uri}`,response=await context.fetch(bufferUri),data=await response.arrayBuffer();return void(availabilityObject.explicitBitstream=new Uint8Array(data,bufferView.byteOffset,bufferView.byteLength))}const bufferStart=subtree.buffers.slice(0,bufferView.buffer).reduce(((offset,buf)=>offset+buf.byteLength),0);availabilityObject.explicitBitstream=new Uint8Array(internalBinaryBuffer.slice(bufferStart,bufferStart+buffer.byteLength),bufferView.byteOffset,bufferView.byteLength)}function parseUint64Value(buffer){const dataView=new DataView(buffer);return dataView.getUint32(0,!0)+2**32*dataView.getUint32(4,!0)}const Tile3DSubtreeLoader={dataType:null,batchType:null,id:"3d-tiles-subtree",name:"3D Tiles Subtree",module:"3d-tiles",version:"4.2.1",extensions:["subtree"],mimeTypes:["application/octet-stream"],tests:["subtree"],parse:async function parse3DTilesSubtree(data,options,context){if(1952609651!==new Uint32Array(data.slice(0,4))[0])throw new Error("Wrong subtree file magic number");if(1!==new Uint32Array(data.slice(4,8))[0])throw new Error("Wrong subtree file verson, must be 1");const jsonByteLength=parseUint64Value(data.slice(8,16)),stringAttribute=new Uint8Array(data,24,jsonByteLength),string=new TextDecoder("utf8").decode(stringAttribute),subtree=JSON.parse(string),binaryByteLength=parseUint64Value(data.slice(16,24));let internalBinaryBuffer=new ArrayBuffer(0);if(binaryByteLength&&(internalBinaryBuffer=data.slice(24+jsonByteLength)),await loadExplicitBitstream(subtree,subtree.tileAvailability,internalBinaryBuffer,context),Array.isArray(subtree.contentAvailability))for(const contentAvailability of subtree.contentAvailability)await loadExplicitBitstream(subtree,contentAvailability,internalBinaryBuffer,context);else await loadExplicitBitstream(subtree,subtree.contentAvailability,internalBinaryBuffer,context);return await loadExplicitBitstream(subtree,subtree.childSubtreeAvailability,internalBinaryBuffer,context),subtree},options:{}};var dist_log=__webpack_require__("./node_modules/@probe.gl/log/dist/log.js"),log_dist=(__webpack_require__("./node_modules/@probe.gl/log/dist/init.js"),new dist_log.Z({id:"@probe.gl/log"})),wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function long_Long(low,high,unsigned){this.low=0|low,this.high=0|high,this.unsigned=!!unsigned}function isLong(obj){return!0===(obj&&obj.__isLong__)}function ctz32(value){var c=Math.clz32(value&-value);return value?31-c:c}long_Long.prototype.__isLong__,Object.defineProperty(long_Long.prototype,"__isLong__",{value:!0}),long_Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(value,unsigned){var obj,cachedObj,cache;return unsigned?(cache=0<=(value>>>=0)&&value<256)&&(cachedObj=UINT_CACHE[value])?cachedObj:(obj=fromBits(value,0,!0),cache&&(UINT_CACHE[value]=obj),obj):(cache=-128<=(value|=0)&&value<128)&&(cachedObj=INT_CACHE[value])?cachedObj:(obj=fromBits(value,value<0?-1:0,!1),cache&&(INT_CACHE[value]=obj),obj)}function fromNumber(value,unsigned){if(isNaN(value))return unsigned?UZERO:ZERO;if(unsigned){if(value<0)return UZERO;if(value>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(value<=-TWO_PWR_63_DBL)return MIN_VALUE;if(value+1>=TWO_PWR_63_DBL)return MAX_VALUE}return value<0?fromNumber(-value,unsigned).neg():fromBits(value%TWO_PWR_32_DBL|0,value/TWO_PWR_32_DBL|0,unsigned)}function fromBits(lowBits,highBits,unsigned){return new long_Long(lowBits,highBits,unsigned)}long_Long.fromInt=fromInt,long_Long.fromNumber=fromNumber,long_Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(str,unsigned,radix){if(0===str.length)throw Error("empty string");if("number"==typeof unsigned?(radix=unsigned,unsigned=!1):unsigned=!!unsigned,"NaN"===str||"Infinity"===str||"+Infinity"===str||"-Infinity"===str)return unsigned?UZERO:ZERO;if((radix=radix||10)<2||36<radix)throw RangeError("radix");var p;if((p=str.indexOf("-"))>0)throw Error("interior hyphen");if(0===p)return fromString(str.substring(1),unsigned,radix).neg();for(var radixToPower=fromNumber(pow_dbl(radix,8)),result=ZERO,i=0;i<str.length;i+=8){var size=Math.min(8,str.length-i),value=parseInt(str.substring(i,i+size),radix);if(size<8){var power=fromNumber(pow_dbl(radix,size));result=result.mul(power).add(fromNumber(value))}else result=(result=result.mul(radixToPower)).add(fromNumber(value))}return result.unsigned=unsigned,result}function fromValue(val,unsigned){return"number"==typeof val?fromNumber(val,unsigned):"string"==typeof val?fromString(val,unsigned):fromBits(val.low,val.high,"boolean"==typeof unsigned?unsigned:val.unsigned)}long_Long.fromString=fromString,long_Long.fromValue=fromValue;var TWO_PWR_32_DBL=4294967296,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(1<<24),ZERO=fromInt(0);long_Long.ZERO=ZERO;var UZERO=fromInt(0,!0);long_Long.UZERO=UZERO;var ONE=fromInt(1);long_Long.ONE=ONE;var UONE=fromInt(1,!0);long_Long.UONE=UONE;var NEG_ONE=fromInt(-1);long_Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);long_Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);long_Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);long_Long.MIN_VALUE=MIN_VALUE;var LongPrototype=long_Long.prototype;LongPrototype.toInt=function toInt(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function toNumber(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function toString(radix){if((radix=radix||10)<2||36<radix)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var radixLong=fromNumber(radix),div=this.div(radixLong),rem1=div.mul(radixLong).sub(this);return div.toString(radix)+rem1.toInt().toString(radix)}return"-"+this.neg().toString(radix)}for(var radixToPower=fromNumber(pow_dbl(radix,6),this.unsigned),rem=this,result="";;){var remDiv=rem.div(radixToPower),digits=(rem.sub(remDiv.mul(radixToPower)).toInt()>>>0).toString(radix);if((rem=remDiv).isZero())return digits+result;for(;digits.length<6;)digits="0"+digits;result=""+digits+result}},LongPrototype.getHighBits=function getHighBits(){return this.high},LongPrototype.getHighBitsUnsigned=function getHighBitsUnsigned(){return this.high>>>0},LongPrototype.getLowBits=function getLowBits(){return this.low},LongPrototype.getLowBitsUnsigned=function getLowBitsUnsigned(){return this.low>>>0},LongPrototype.getNumBitsAbs=function getNumBitsAbs(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var val=0!=this.high?this.high:this.low,bit=31;bit>0&&0==(val&1<<bit);bit--);return 0!=this.high?bit+33:bit+1},LongPrototype.isZero=function isZero(){return 0===this.high&&0===this.low},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function isNegative(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function isPositive(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function isOdd(){return 1==(1&this.low)},LongPrototype.isEven=function isEven(){return 0==(1&this.low)},LongPrototype.equals=function equals(other){return isLong(other)||(other=fromValue(other)),(this.unsigned===other.unsigned||this.high>>>31!=1||other.high>>>31!=1)&&(this.high===other.high&&this.low===other.low)},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function notEquals(other){return!this.eq(other)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function lessThan(other){return this.comp(other)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function lessThanOrEqual(other){return this.comp(other)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function greaterThan(other){return this.comp(other)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function greaterThanOrEqual(other){return this.comp(other)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function compare(other){if(isLong(other)||(other=fromValue(other)),this.eq(other))return 0;var thisNeg=this.isNegative(),otherNeg=other.isNegative();return thisNeg&&!otherNeg?-1:!thisNeg&&otherNeg?1:this.unsigned?other.high>>>0>this.high>>>0||other.high===this.high&&other.low>>>0>this.low>>>0?-1:1:this.sub(other).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function negate(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function add(addend){isLong(addend)||(addend=fromValue(addend));var a48=this.high>>>16,a32=65535&this.high,a16=this.low>>>16,a00=65535&this.low,b48=addend.high>>>16,b32=65535&addend.high,b16=addend.low>>>16,c48=0,c32=0,c16=0,c00=0;return c16+=(c00+=a00+(65535&addend.low))>>>16,c32+=(c16+=a16+b16)>>>16,c48+=(c32+=a32+b32)>>>16,c48+=a48+b48,fromBits((c16&=65535)<<16|(c00&=65535),(c48&=65535)<<16|(c32&=65535),this.unsigned)},LongPrototype.subtract=function subtract(subtrahend){return isLong(subtrahend)||(subtrahend=fromValue(subtrahend)),this.add(subtrahend.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function multiply(multiplier){if(this.isZero())return this;if(isLong(multiplier)||(multiplier=fromValue(multiplier)),wasm)return fromBits(wasm.mul(this.low,this.high,multiplier.low,multiplier.high),wasm.get_high(),this.unsigned);if(multiplier.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return multiplier.isOdd()?MIN_VALUE:ZERO;if(multiplier.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return multiplier.isNegative()?this.neg().mul(multiplier.neg()):this.neg().mul(multiplier).neg();if(multiplier.isNegative())return this.mul(multiplier.neg()).neg();if(this.lt(TWO_PWR_24)&&multiplier.lt(TWO_PWR_24))return fromNumber(this.toNumber()*multiplier.toNumber(),this.unsigned);var a48=this.high>>>16,a32=65535&this.high,a16=this.low>>>16,a00=65535&this.low,b48=multiplier.high>>>16,b32=65535&multiplier.high,b16=multiplier.low>>>16,b00=65535&multiplier.low,c48=0,c32=0,c16=0,c00=0;return c16+=(c00+=a00*b00)>>>16,c32+=(c16+=a16*b00)>>>16,c16&=65535,c32+=(c16+=a00*b16)>>>16,c48+=(c32+=a32*b00)>>>16,c32&=65535,c48+=(c32+=a16*b16)>>>16,c32&=65535,c48+=(c32+=a00*b32)>>>16,c48+=a48*b00+a32*b16+a16*b32+a00*b48,fromBits((c16&=65535)<<16|(c00&=65535),(c48&=65535)<<16|(c32&=65535),this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function divide(divisor){if(isLong(divisor)||(divisor=fromValue(divisor)),divisor.isZero())throw Error("division by zero");var approx,rem,res;if(wasm)return this.unsigned||-2147483648!==this.high||-1!==divisor.low||-1!==divisor.high?fromBits((this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,divisor.low,divisor.high),wasm.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?UZERO:ZERO;if(this.unsigned){if(divisor.unsigned||(divisor=divisor.toUnsigned()),divisor.gt(this))return UZERO;if(divisor.gt(this.shru(1)))return UONE;res=UZERO}else{if(this.eq(MIN_VALUE))return divisor.eq(ONE)||divisor.eq(NEG_ONE)?MIN_VALUE:divisor.eq(MIN_VALUE)?ONE:(approx=this.shr(1).div(divisor).shl(1)).eq(ZERO)?divisor.isNegative()?ONE:NEG_ONE:(rem=this.sub(divisor.mul(approx)),res=approx.add(rem.div(divisor)));if(divisor.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return divisor.isNegative()?this.neg().div(divisor.neg()):this.neg().div(divisor).neg();if(divisor.isNegative())return this.div(divisor.neg()).neg();res=ZERO}for(rem=this;rem.gte(divisor);){approx=Math.max(1,Math.floor(rem.toNumber()/divisor.toNumber()));for(var log2=Math.ceil(Math.log(approx)/Math.LN2),delta=log2<=48?1:pow_dbl(2,log2-48),approxRes=fromNumber(approx),approxRem=approxRes.mul(divisor);approxRem.isNegative()||approxRem.gt(rem);)approxRem=(approxRes=fromNumber(approx-=delta,this.unsigned)).mul(divisor);approxRes.isZero()&&(approxRes=ONE),res=res.add(approxRes),rem=rem.sub(approxRem)}return res},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function modulo(divisor){return isLong(divisor)||(divisor=fromValue(divisor)),wasm?fromBits((this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,divisor.low,divisor.high),wasm.get_high(),this.unsigned):this.sub(this.div(divisor).mul(divisor))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function not(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.countLeadingZeros=function countLeadingZeros(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},LongPrototype.clz=LongPrototype.countLeadingZeros,LongPrototype.countTrailingZeros=function countTrailingZeros(){return this.low?ctz32(this.low):ctz32(this.high)+32},LongPrototype.ctz=LongPrototype.countTrailingZeros,LongPrototype.and=function and(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low&other.low,this.high&other.high,this.unsigned)},LongPrototype.or=function or(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low|other.low,this.high|other.high,this.unsigned)},LongPrototype.xor=function xor(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low^other.low,this.high^other.high,this.unsigned)},LongPrototype.shiftLeft=function shiftLeft(numBits){return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:numBits<32?fromBits(this.low<<numBits,this.high<<numBits|this.low>>>32-numBits,this.unsigned):fromBits(0,this.low<<numBits-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function shiftRight(numBits){return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:numBits<32?fromBits(this.low>>>numBits|this.high<<32-numBits,this.high>>numBits,this.unsigned):fromBits(this.high>>numBits-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function shiftRightUnsigned(numBits){return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:numBits<32?fromBits(this.low>>>numBits|this.high<<32-numBits,this.high>>>numBits,this.unsigned):fromBits(32===numBits?this.high:this.high>>>numBits-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.rotateLeft=function rotateLeft(numBits){var b;return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:32===numBits?fromBits(this.high,this.low,this.unsigned):numBits<32?(b=32-numBits,fromBits(this.low<<numBits|this.high>>>b,this.high<<numBits|this.low>>>b,this.unsigned)):(b=32-(numBits-=32),fromBits(this.high<<numBits|this.low>>>b,this.low<<numBits|this.high>>>b,this.unsigned))},LongPrototype.rotl=LongPrototype.rotateLeft,LongPrototype.rotateRight=function rotateRight(numBits){var b;return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:32===numBits?fromBits(this.high,this.low,this.unsigned):numBits<32?(b=32-numBits,fromBits(this.high<<b|this.low>>>numBits,this.low<<b|this.high>>>numBits,this.unsigned)):(b=32-(numBits-=32),fromBits(this.low<<b|this.high>>>numBits,this.high<<b|this.low>>>numBits,this.unsigned))},LongPrototype.rotr=LongPrototype.rotateRight,LongPrototype.toSigned=function toSigned(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function toUnsigned(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function toBytes(le){return le?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function toBytesLE(){var hi=this.high,lo=this.low;return[255&lo,lo>>>8&255,lo>>>16&255,lo>>>24,255&hi,hi>>>8&255,hi>>>16&255,hi>>>24]},LongPrototype.toBytesBE=function toBytesBE(){var hi=this.high,lo=this.low;return[hi>>>24,hi>>>16&255,hi>>>8&255,255&hi,lo>>>24,lo>>>16&255,lo>>>8&255,255&lo]},long_Long.fromBytes=function fromBytes(bytes,unsigned,le){return le?long_Long.fromBytesLE(bytes,unsigned):long_Long.fromBytesBE(bytes,unsigned)},long_Long.fromBytesLE=function fromBytesLE(bytes,unsigned){return new long_Long(bytes[0]|bytes[1]<<8|bytes[2]<<16|bytes[3]<<24,bytes[4]|bytes[5]<<8|bytes[6]<<16|bytes[7]<<24,unsigned)},long_Long.fromBytesBE=function fromBytesBE(bytes,unsigned){return new long_Long(bytes[4]<<24|bytes[5]<<16|bytes[6]<<8|bytes[7],bytes[0]<<24|bytes[1]<<16|bytes[2]<<8|bytes[3],unsigned)};var node_modules_long=long_Long;const MAXIMUM_TOKEN_LENGTH=16;function getS2CellIdFromToken(token){"X"===token&&(token="");const paddedToken=token.padEnd(MAXIMUM_TOKEN_LENGTH,"0");return node_modules_long.fromString(paddedToken,!0,16)}const s2_geometry_FACE_BITS=3,s2_geometry_POS_BITS=61,s2_geometry_RADIAN_TO_DEGREE=180/Math.PI;function s2_geometry_IJToST(ij,level,offsets){const maxSize=1<<level;return[(ij[0]+offsets[0])/maxSize,(ij[1]+offsets[1])/maxSize]}function s2_geometry_singleSTtoUV(st){return st>=.5?1/3*(4*st*st-1):1/3*(1-4*(1-st)*(1-st))}function s2_geometry_STToUV(st){return[s2_geometry_singleSTtoUV(st[0]),s2_geometry_singleSTtoUV(st[1])]}function s2_geometry_FaceUVToXYZ(face,[u,v]){switch(face){case 0:return[1,u,v];case 1:return[-u,1,v];case 2:return[-u,-v,1];case 3:return[-1,-v,-u];case 4:return[v,-1,-u];case 5:return[v,u,-1];default:throw new Error("Invalid face")}}function s2_geometry_XYZToLngLat([x,y,z]){const lat=Math.atan2(z,Math.sqrt(x*x+y*y));return[Math.atan2(y,x)*s2_geometry_RADIAN_TO_DEGREE,lat*s2_geometry_RADIAN_TO_DEGREE]}function s2_geometry_rotateAndFlipQuadrant(n,point,rx,ry){if(0===ry){1===rx&&(point[0]=n-1-point[0],point[1]=n-1-point[1]);const x=point[0];point[0]=point[1],point[1]=x}}function s2_cell_utils_getS2Cell(tokenOrKey){const key=function s2_cell_utils_getS2QuadKey(tokenOrKey){if(tokenOrKey.indexOf("/")>0)return tokenOrKey;const id=getS2CellIdFromToken(tokenOrKey);return function getS2QuadkeyFromCellId(cellId){if(cellId.isZero())return"";let bin=cellId.toString(2);for(;bin.length<s2_geometry_FACE_BITS+s2_geometry_POS_BITS;)bin="0"+bin;const lsbIndex=bin.lastIndexOf("1"),faceB=bin.substring(0,3),posB=bin.substring(3,lsbIndex),levelN=posB.length/2,faceS=node_modules_long.fromString(faceB,!0,2).toString(10);let posS="";if(0!==levelN)for(posS=node_modules_long.fromString(posB,!0,2).toString(4);posS.length<levelN;)posS="0"+posS;return`${faceS}/${posS}`}(id)}(tokenOrKey),s2cell=function getS2CellFromQuadKey(hilbertQuadkey){if(0===hilbertQuadkey.length)throw new Error(`Invalid Hilbert quad key ${hilbertQuadkey}`);const parts=hilbertQuadkey.split("/"),face=parseInt(parts[0],10),position=parts[1],maxLevel=position.length;let level=0;const point=[0,0];for(let i=maxLevel-1;i>=0;i--){level=maxLevel-i;const bit=position[i];let rx=0,ry=0;"1"===bit?ry=1:"2"===bit?(rx=1,ry=1):"3"===bit&&(rx=1);const val=Math.pow(2,level-1);s2_geometry_rotateAndFlipQuadrant(val,point,rx,ry),point[0]+=val*rx,point[1]+=val*ry}if(face%2==1){const t=point[0];point[0]=point[1],point[1]=t}return{face:face,ij:point,level:level}}(key);return s2cell}const s2_to_boundary_MAX_RESOLUTION=100;function s2_to_boundary_getS2BoundaryFlatFromS2Cell(s2cell){const{face:face,ij:ij,level:level}=s2cell,offsets=[[0,0],[0,1],[1,1],[1,0],[0,0]],resolution=Math.max(1,Math.ceil(s2_to_boundary_MAX_RESOLUTION*Math.pow(2,-level))),result=new Float64Array(4*resolution*2+2);let ptIndex=0,prevLng=0;for(let i=0;i<4;i++){const offset=offsets[i].slice(0),nextOffset=offsets[i+1],stepI=(nextOffset[0]-offset[0])/resolution,stepJ=(nextOffset[1]-offset[1])/resolution;for(let j=0;j<resolution;j++){offset[0]+=stepI,offset[1]+=stepJ;const lngLat=s2_geometry_XYZToLngLat(s2_geometry_FaceUVToXYZ(face,s2_geometry_STToUV(s2_geometry_IJToST(ij,level,offset))));Math.abs(lngLat[1])>89.999&&(lngLat[0]=prevLng);const deltaLng=lngLat[0]-prevLng;lngLat[0]+=deltaLng>180?-360:deltaLng<-180?360:0,result[ptIndex++]=lngLat[0],result[ptIndex++]=lngLat[1],prevLng=lngLat[0]}}return result[ptIndex++]=result[0],result[ptIndex++]=result[1],result}function get2DRegionFromS2Corners(corners){if(corners.length%2!=0)throw new Error("Invalid corners");const longitudes=[],latitudes=[];for(let i=0;i<corners.length;i+=2)longitudes.push(corners[i]),latitudes.push(corners[i+1]);return longitudes.sort(((a,b)=>a-b)),latitudes.sort(((a,b)=>a-b)),{west:longitudes[0],east:longitudes[longitudes.length-1],north:latitudes[latitudes.length-1],south:latitudes[0]}}function getS2OrientedBoundingBoxCornerPoints(tokenOrKey,heightInfo){const min=heightInfo?.minimumHeight||0,max=heightInfo?.maximumHeight||0,region=function getS2Region(s2cell){let region;if(2===s2cell.face||5===s2cell.face){let corners=null,len=0;for(let i=0;i<4;i++){const corns=s2_to_boundary_getS2BoundaryFlatFromS2Cell(s2_cell_utils_getS2Cell(`${s2cell.face}/${i}`));null==corners&&(corners=new Float64Array(4*corns.length)),corners.set(corns,len),len+=corns.length}region=get2DRegionFromS2Corners(corners)}else region=get2DRegionFromS2Corners(s2_to_boundary_getS2BoundaryFlatFromS2Cell(s2cell));return region}(s2_cell_utils_getS2Cell(tokenOrKey)),W=region.west,S=region.south,E=region.east,N=region.north,points=[];return points.push(new vector3.P(W,N,min)),points.push(new vector3.P(E,N,min)),points.push(new vector3.P(E,S,min)),points.push(new vector3.P(W,S,min)),points.push(new vector3.P(W,N,max)),points.push(new vector3.P(E,N,max)),points.push(new vector3.P(E,S,max)),points.push(new vector3.P(W,S,max)),points}function getS2LngLat(s2Token){return function getS2LngLatFromS2Cell(s2Cell){const uv=s2_geometry_STToUV(s2_geometry_IJToST(s2Cell.ij,s2Cell.level,[.5,.5]));return s2_geometry_XYZToLngLat(s2_geometry_FaceUVToXYZ(s2Cell.face,uv))}(s2_cell_utils_getS2Cell(s2Token))}function convertS2BoundingVolumetoOBB(s2VolumeInfo){const token=s2VolumeInfo.token,heightInfo={minimumHeight:s2VolumeInfo.minimumHeight,maximumHeight:s2VolumeInfo.maximumHeight},corners=getS2OrientedBoundingBoxCornerPoints(token,heightInfo),center=getS2LngLat(token),centerLng=center[0],centerLat=center[1],point=Ellipsoid.WGS84.cartographicToCartesian([centerLng,centerLat,heightInfo.maximumHeight]),centerPointAdditional=new vector3.P(point[0],point[1],point[2]);corners.push(centerPointAdditional);const obb=makeOrientedBoundingBoxFromPoints(corners);return[...obb.center,...obb.halfAxes]}const SUBDIVISION_COUNT_MAP={QUADTREE:4,OCTREE:8};function getChildS2VolumeBox(s2VolumeBox,index,subdivisionScheme){if(s2VolumeBox?.box){const childCellId=function getS2ChildCellId(cellId,index){const newLsb=function lsb(cellId){return cellId.and(cellId.not().add(1))}(cellId).shiftRightUnsigned(2);return cellId.add(node_modules_long.fromNumber(2*index+1-4).multiply(newLsb))}(getS2CellIdFromToken(s2VolumeBox.s2VolumeInfo.token),index),childToken=function getS2TokenFromCellId(cellId){if(cellId.isZero())return"X";let numZeroDigits=cellId.countTrailingZeros();numZeroDigits=(numZeroDigits-numZeroDigits%4)/4;const trailingZeroHexChars=numZeroDigits;numZeroDigits*=4;const hexString=cellId.shiftRightUnsigned(numZeroDigits).toString(16).replace(/0+$/,"");return Array(17-trailingZeroHexChars-hexString.length).join("0")+hexString}(childCellId),s2ChildVolumeInfo={...s2VolumeBox.s2VolumeInfo};if(s2ChildVolumeInfo.token=childToken,"OCTREE"===subdivisionScheme){const s2VolumeInfo=s2VolumeBox.s2VolumeInfo,delta=s2VolumeInfo.maximumHeight-s2VolumeInfo.minimumHeight,sizeZ=delta/2,midZ=s2VolumeInfo.minimumHeight+delta/2;s2VolumeInfo.minimumHeight=midZ-sizeZ,s2VolumeInfo.maximumHeight=midZ+sizeZ}return{box:convertS2BoundingVolumetoOBB(s2ChildVolumeInfo),s2VolumeInfo:s2ChildVolumeInfo}}}async function parseImplicitTiles(params){const{implicitOptions:implicitOptions,parentData:parentData={mortonIndex:0,x:0,y:0,z:0},childIndex:childIndex=0,s2VolumeBox:s2VolumeBox,loaderOptions:loaderOptions}=params;let{subtree:subtree,level:level=0,globalData:globalData={level:0,mortonIndex:0,x:0,y:0,z:0}}=params;const{subdivisionScheme:subdivisionScheme,subtreeLevels:subtreeLevels,maximumLevel:maximumLevel,contentUrlTemplate:contentUrlTemplate,subtreesUriTemplate:subtreesUriTemplate,basePath:basePath}=implicitOptions,tile={children:[],lodMetricValue:0,contentUrl:""};if(!maximumLevel)return log_dist.once(`Missing 'maximumLevel' or 'availableLevels' property. The subtree ${contentUrlTemplate} won't be loaded...`),tile;const lev=level+globalData.level;if(lev>maximumLevel)return tile;const childrenPerTile=SUBDIVISION_COUNT_MAP[subdivisionScheme],bitsPerTile=Math.log2(childrenPerTile),childX=1&childIndex,childY=childIndex>>1&1,childZ=childIndex>>2&1,levelOffset=(childrenPerTile**level-1)/(childrenPerTile-1);let childTileMortonIndex=concatBits(parentData.mortonIndex,childIndex,bitsPerTile),tileAvailabilityIndex=levelOffset+childTileMortonIndex,childTileX=concatBits(parentData.x,childX,1),childTileY=concatBits(parentData.y,childY,1),childTileZ=concatBits(parentData.z,childZ,1),isChildSubtreeAvailable=!1;level>=subtreeLevels&&(isChildSubtreeAvailable=getAvailabilityResult(subtree.childSubtreeAvailability,childTileMortonIndex));const x=concatBits(globalData.x,childTileX,level),y=concatBits(globalData.y,childTileY,level),z=concatBits(globalData.z,childTileZ,level);if(isChildSubtreeAvailable){const childSubtreeUrl=replaceContentUrlTemplate(`${basePath}/${subtreesUriTemplate}`,lev,x,y,z);subtree=await(0,load.z)(childSubtreeUrl,Tile3DSubtreeLoader,loaderOptions),globalData={mortonIndex:childTileMortonIndex,x:childTileX,y:childTileY,z:childTileZ,level:level},childTileMortonIndex=0,tileAvailabilityIndex=0,childTileX=0,childTileY=0,childTileZ=0,level=0}if(!getAvailabilityResult(subtree.tileAvailability,tileAvailabilityIndex))return tile;getAvailabilityResult(subtree.contentAvailability,tileAvailabilityIndex)&&(tile.contentUrl=replaceContentUrlTemplate(contentUrlTemplate,lev,x,y,z));const childTileLevel=level+1,pData={mortonIndex:childTileMortonIndex,x:childTileX,y:childTileY,z:childTileZ};for(let index=0;index<childrenPerTile;index++){const childS2VolumeBox=getChildS2VolumeBox(s2VolumeBox,index,subdivisionScheme),childTileParsed=await parseImplicitTiles({subtree:subtree,implicitOptions:implicitOptions,loaderOptions:loaderOptions,parentData:pData,childIndex:index,level:childTileLevel,globalData:{...globalData},s2VolumeBox:childS2VolumeBox});if(childTileParsed.contentUrl||childTileParsed.children.length){const formattedTile=formatTileData(childTileParsed,lev+1,{childTileX:childTileX,childTileY:childTileY,childTileZ:childTileZ},implicitOptions,s2VolumeBox);tile.children.push(formattedTile)}}return tile}function getAvailabilityResult(availabilityData,index){let availabilityObject;return Array.isArray(availabilityData)?(availabilityObject=availabilityData[0],availabilityData.length>1&&log_dist.once('Not supported extension "3DTILES_multiple_contents" has been detected')):availabilityObject=availabilityData,"constant"in availabilityObject?Boolean(availabilityObject.constant):!!availabilityObject.explicitBitstream&&function getBooleanValueFromBitstream(availabilityIndex,availabilityBuffer){const byteIndex=Math.floor(availabilityIndex/8),bitIndex=availabilityIndex%8;return 1==(availabilityBuffer[byteIndex]>>bitIndex&1)}(index,availabilityObject.explicitBitstream)}function formatTileData(tile,level,childCoordinates,options,s2VolumeBox){const{basePath:basePath,refine:refine,getRefine:getRefine,lodMetricType:lodMetricType,getTileType:getTileType,rootLodMetricValue:rootLodMetricValue,rootBoundingVolume:rootBoundingVolume}=options,uri=tile.contentUrl&&tile.contentUrl.replace(`${basePath}/`,""),lodMetricValue=rootLodMetricValue/2**level,boundingVolumeForChildTile=function calculateBoundingVolumeForChildTile(level,rootBoundingVolume,childCoordinates){if(rootBoundingVolume.region){const{childTileX:childTileX,childTileY:childTileY,childTileZ:childTileZ}=childCoordinates,[west,south,east,north,minimumHeight,maximumHeight]=rootBoundingVolume.region,boundingVolumesCount=2**level,sizeX=(east-west)/boundingVolumesCount,sizeY=(north-south)/boundingVolumesCount,sizeZ=(maximumHeight-minimumHeight)/boundingVolumesCount,[childWest,childEast]=[west+sizeX*childTileX,west+sizeX*(childTileX+1)],[childSouth,childNorth]=[south+sizeY*childTileY,south+sizeY*(childTileY+1)],[childMinimumHeight,childMaximumHeight]=[minimumHeight+sizeZ*childTileZ,minimumHeight+sizeZ*(childTileZ+1)];return{region:[childWest,childSouth,childEast,childNorth,childMinimumHeight,childMaximumHeight]}}if(rootBoundingVolume.box)return rootBoundingVolume;throw new Error(`Unsupported bounding volume type ${JSON.stringify(rootBoundingVolume)}`)}(level,s2VolumeBox?.box?{box:s2VolumeBox.box}:rootBoundingVolume,childCoordinates);return{children:tile.children,contentUrl:tile.contentUrl,content:{uri:uri},id:tile.contentUrl,refine:getRefine(refine),type:getTileType(tile),lodMetricType:lodMetricType,lodMetricValue:lodMetricValue,geometricError:lodMetricValue,transform:tile.transform,boundingVolume:boundingVolumeForChildTile}}function concatBits(higher,lower,shift){return(higher<<shift)+lower}function replaceContentUrlTemplate(templateUrl,level,x,y,z){const mapUrl=function generateMapUrl(items){const mapUrl={};for(const key in items)mapUrl[`{${key}}`]=items[key];return mapUrl}({level:level,x:x,y:y,z:z});return templateUrl.replace(/{level}|{x}|{y}|{z}/gi,(matched=>mapUrl[matched]))}function getTileType(tile,tileContentUrl=""){if(!tileContentUrl)return TILE_TYPE.EMPTY;const fileExtension=tileContentUrl.split("?")[0].split(".").pop();switch(fileExtension){case"pnts":return TILE_TYPE.POINTCLOUD;case"i3dm":case"b3dm":case"glb":case"gltf":return TILE_TYPE.SCENEGRAPH;default:return fileExtension||TILE_TYPE.EMPTY}}function getRefine(refine){switch(refine){case"REPLACE":case"replace":return TILE_REFINEMENT.REPLACE;case"ADD":case"add":return TILE_REFINEMENT.ADD;default:return refine}}function resolveUri(uri,basePath){if(/^[a-z][0-9a-z+.-]*:/i.test(basePath)){const url=new URL(uri,`${basePath}/`);return decodeURI(url.toString())}return uri.startsWith("/")?uri:path.DB(basePath,uri)}function normalizeTileData(tile,basePath){if(!tile)return null;let tileContentUrl;if(tile.content){const contentUri=tile.content.uri||tile.content?.url;void 0!==contentUri&&(tileContentUrl=resolveUri(contentUri,basePath))}return{...tile,id:tileContentUrl,contentUrl:tileContentUrl,lodMetricType:LOD_METRIC_TYPE.GEOMETRIC_ERROR,lodMetricValue:tile.geometricError,transformMatrix:tile.transform,type:getTileType(0,tileContentUrl),refine:getRefine(tile.refine)}}async function normalizeImplicitTileHeaders(tile,tileset,basePath,implicitTilingExtension,options){const{subdivisionScheme:subdivisionScheme,maximumLevel:maximumLevel,availableLevels:availableLevels,subtreeLevels:subtreeLevels,subtrees:{uri:subtreesUriTemplate}}=implicitTilingExtension,subtreeUrl=resolveUri(replaceContentUrlTemplate(subtreesUriTemplate,0,0,0,0),basePath),subtree=await(0,load.z)(subtreeUrl,Tile3DSubtreeLoader,options),tileContentUri=tile.content?.uri,contentUrlTemplate=tileContentUri?resolveUri(tileContentUri,basePath):"",refine=tileset?.root?.refine,rootLodMetricValue=tile.geometricError,s2VolumeInfo=tile.boundingVolume.extensions?.["3DTILES_bounding_volume_S2"];if(s2VolumeInfo){const s2VolumeBox={box:convertS2BoundingVolumetoOBB(s2VolumeInfo),s2VolumeInfo:s2VolumeInfo};tile.boundingVolume=s2VolumeBox}const rootBoundingVolume=tile.boundingVolume,implicitOptions={contentUrlTemplate:contentUrlTemplate,subtreesUriTemplate:subtreesUriTemplate,subdivisionScheme:subdivisionScheme,subtreeLevels:subtreeLevels,maximumLevel:Number.isFinite(availableLevels)?availableLevels-1:maximumLevel,refine:refine,basePath:basePath,lodMetricType:LOD_METRIC_TYPE.GEOMETRIC_ERROR,rootLodMetricValue:rootLodMetricValue,rootBoundingVolume:rootBoundingVolume,getTileType:getTileType,getRefine:getRefine};return await async function normalizeImplicitTileData(tile,basePath,rootSubtree,implicitOptions,loaderOptions){if(!tile)return null;const{children:children,contentUrl:contentUrl}=await parseImplicitTiles({subtree:rootSubtree,implicitOptions:implicitOptions,loaderOptions:loaderOptions});let tileContentUrl,tileContent=null;contentUrl&&(tileContentUrl=contentUrl,tileContent={uri:contentUrl.replace(`${basePath}/`,"")});const tilePostprocessed={...tile,id:tileContentUrl,contentUrl:tileContentUrl,lodMetricType:LOD_METRIC_TYPE.GEOMETRIC_ERROR,lodMetricValue:tile.geometricError,transformMatrix:tile.transform,type:getTileType(0,tileContentUrl),refine:getRefine(tile.refine),content:tileContent||tile.content,children:children};return tilePostprocessed}(tile,basePath,subtree,implicitOptions,options)}function getImplicitTilingExtensionData(tile){return tile?.extensions?.["3DTILES_implicit_tiling"]||tile?.implicitTiling}const Tiles3DLoader={dataType:null,batchType:null,id:"3d-tiles",name:"3D Tiles",module:"3d-tiles",version:"4.2.1",extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],tests:["cmpt","pnts","b3dm","i3dm"],parse:async function parse(data,options={},context){const loaderOptions=options["3d-tiles"]||{};let isTileset;isTileset="auto"===loaderOptions.isTileset?context?.url&&-1!==context.url.indexOf(".json"):loaderOptions.isTileset;return isTileset?async function parseTileset(data,options,context){const tilesetJson=JSON.parse((new TextDecoder).decode(data)),tilesetUrl=context?.url||"",basePath=function getBaseUri(tilesetUrl){return path.XX(tilesetUrl)}(tilesetUrl),normalizedRoot=await async function normalizeTileHeaders(tileset,basePath,options){let root=null;const rootImplicitTilingExtension=getImplicitTilingExtensionData(tileset.root);root=rootImplicitTilingExtension&&tileset.root?await normalizeImplicitTileHeaders(tileset.root,tileset,basePath,rootImplicitTilingExtension,options):normalizeTileData(tileset.root,basePath);const stack=[];for(stack.push(root);stack.length>0;){const tile=stack.pop()||{},children=tile.children||[],childrenPostprocessed=[];for(const childHeader of children){const childImplicitTilingExtension=getImplicitTilingExtensionData(childHeader);let childHeaderPostprocessed;childHeaderPostprocessed=childImplicitTilingExtension?await normalizeImplicitTileHeaders(childHeader,tileset,basePath,childImplicitTilingExtension,options):normalizeTileData(childHeader,basePath),childHeaderPostprocessed&&(childrenPostprocessed.push(childHeaderPostprocessed),stack.push(childHeaderPostprocessed))}tile.children=childrenPostprocessed}return root}(tilesetJson,basePath,options||{}),tilesetJsonPostprocessed={...tilesetJson,shape:"tileset3d",loader:Tiles3DLoader,url:tilesetUrl,queryString:context?.queryString||"",basePath:basePath,root:normalizedRoot||tilesetJson.root,type:TILESET_TYPE.TILES3D,lodMetricType:LOD_METRIC_TYPE.GEOMETRIC_ERROR,lodMetricValue:tilesetJson.root?.geometricError||0};return tilesetJsonPostprocessed}(data,options,context):async function parseTile(arrayBuffer,options,context){const tile={content:{shape:"tile3d",featureIds:null}},byteOffset=0;return await parse3DTile(arrayBuffer,byteOffset,options,context,tile.content),tile.content}(data,options,context)},options:{"3d-tiles":{loadGLTF:!0,decodeQuantizedPositions:!1,isTileset:"auto",assetGltfUpAxis:null}}};const SINGLE_DATA=[0],tile_3d_layer_defaultProps={getPointColor:{type:"accessor",value:[0,0,0,255]},pointSize:1,data:"",loader:Tiles3DLoader,onTilesetLoad:{type:"function",value:tileset3d=>{}},onTileLoad:{type:"function",value:tileHeader=>{}},onTileUnload:{type:"function",value:tileHeader=>{}},onTileError:{type:"function",value:(tile,message,url)=>{}},_getMeshColor:{type:"function",value:tileHeader=>[255,255,255]}};class Tile3DLayer extends composite_layer.Z{static{this.defaultProps=tile_3d_layer_defaultProps}static{this.layerName="Tile3DLayer"}initializeState(){"onTileLoadFail"in this.props&&log.Z.removed("onTileLoadFail","onTileError")(),this.state={layerMap:{},tileset3d:null,activeViewports:{},lastUpdatedViewports:null}}get isLoaded(){return Boolean(this.state?.tileset3d?.isLoaded()&&super.isLoaded)}shouldUpdateState({changeFlags:changeFlags}){return changeFlags.somethingChanged}updateState({props:props,oldProps:oldProps,changeFlags:changeFlags}){if(props.data&&props.data!==oldProps.data&&this._loadTileset(props.data),changeFlags.viewportChanged){const{activeViewports:activeViewports}=this.state;Object.keys(activeViewports).length&&(this._updateTileset(activeViewports),this.state.lastUpdatedViewports=activeViewports,this.state.activeViewports={})}if(changeFlags.propsChanged){const{layerMap:layerMap}=this.state;for(const key in layerMap)layerMap[key].needsUpdate=!0}}activateViewport(viewport){const{activeViewports:activeViewports,lastUpdatedViewports:lastUpdatedViewports}=this.state;this.internalState.viewport=viewport,activeViewports[viewport.id]=viewport;const lastViewport=lastUpdatedViewports?.[viewport.id];lastViewport&&viewport.equals(lastViewport)||(this.setChangeFlags({viewportChanged:!0}),this.setNeedsUpdate())}getPickingInfo({info:info,sourceLayer:sourceLayer}){const sourceTile=sourceLayer&&sourceLayer.props.tile;return info.picked&&(info.object=sourceTile),info.sourceTile=sourceTile,info}filterSubLayer({layer:layer,viewport:viewport}){const{tile:tile}=layer.props,{id:viewportId}=viewport;return tile.selected&&tile.viewportIds.includes(viewportId)}_updateAutoHighlight(info){const sourceTile=info.sourceTile,layerCache=this.state.layerMap[sourceTile?.id];layerCache&&layerCache.layer&&layerCache.layer.updateAutoHighlight(info)}async _loadTileset(tilesetUrl){const{loadOptions:loadOptions={}}=this.props,loaders=this.props.loader||this.props.loaders,loader=Array.isArray(loaders)?loaders[0]:loaders,options={loadOptions:{...loadOptions}};let actualTilesetUrl=tilesetUrl;if(loader.preload){const preloadOptions=await loader.preload(tilesetUrl,loadOptions);preloadOptions.url&&(actualTilesetUrl=preloadOptions.url),preloadOptions.headers&&(options.loadOptions.fetch={...options.loadOptions.fetch,headers:preloadOptions.headers}),Object.assign(options,preloadOptions)}const tilesetJson=await(0,load.z)(actualTilesetUrl,loader,options.loadOptions),tileset3d=new Tileset3D(tilesetJson,{onTileLoad:this._onTileLoad.bind(this),onTileUnload:this._onTileUnload.bind(this),onTileError:this.props.onTileError,...options});this.setState({tileset3d:tileset3d,layerMap:{}}),this._updateTileset(this.state.activeViewports),this.props.onTilesetLoad(tileset3d)}_onTileLoad(tileHeader){const{lastUpdatedViewports:lastUpdatedViewports}=this.state;this.props.onTileLoad(tileHeader),this._updateTileset(lastUpdatedViewports),this.setNeedsUpdate()}_onTileUnload(tileHeader){delete this.state.layerMap[tileHeader.id],this.props.onTileUnload(tileHeader)}_updateTileset(viewports){if(!viewports)return;const{tileset3d:tileset3d}=this.state,{timeline:timeline}=this.context,viewportsNumber=Object.keys(viewports).length;timeline&&viewportsNumber&&tileset3d&&tileset3d.selectTiles(Object.values(viewports)).then((frameNumber=>{this.state.frameNumber!==frameNumber&&this.setState({frameNumber:frameNumber})}))}_getSubLayer(tileHeader,oldLayer){if(!tileHeader.content)return null;switch(tileHeader.type){case TILE_TYPE.POINTCLOUD:return this._makePointCloudLayer(tileHeader,oldLayer);case TILE_TYPE.SCENEGRAPH:return this._make3DModelLayer(tileHeader);case TILE_TYPE.MESH:return this._makeSimpleMeshLayer(tileHeader,oldLayer);default:throw new Error(`Tile3DLayer: Failed to render layer of type ${tileHeader.content.type}`)}}_makePointCloudLayer(tileHeader,oldLayer){const{attributes:attributes,pointCount:pointCount,constantRGBA:constantRGBA,cartographicOrigin:cartographicOrigin,modelMatrix:modelMatrix}=tileHeader.content,{positions:positions,normals:normals,colors:colors}=attributes;if(!positions)return null;const data=oldLayer&&oldLayer.props.data||{header:{vertexCount:pointCount},attributes:{POSITION:positions,NORMAL:normals,COLOR_0:colors}},{pointSize:pointSize,getPointColor:getPointColor}=this.props;return new(this.getSubLayerClass("pointcloud",point_cloud_layer.Z))({pointSize:pointSize},this.getSubLayerProps({id:"pointcloud"}),{id:`${this.id}-pointcloud-${tileHeader.id}`,tile:tileHeader,data:data,coordinateSystem:constants.COORDINATE_SYSTEM.METER_OFFSETS,coordinateOrigin:cartographicOrigin,modelMatrix:modelMatrix,getColor:constantRGBA||getPointColor,_offset:0})}_make3DModelLayer(tileHeader){const{gltf:gltf,instances:instances,cartographicOrigin:cartographicOrigin,modelMatrix:modelMatrix}=tileHeader.content;return new(this.getSubLayerClass("scenegraph",scenegraph_layer.Z))({_lighting:"pbr"},this.getSubLayerProps({id:"scenegraph"}),{id:`${this.id}-scenegraph-${tileHeader.id}`,tile:tileHeader,data:instances||SINGLE_DATA,scenegraph:gltf,coordinateSystem:constants.COORDINATE_SYSTEM.METER_OFFSETS,coordinateOrigin:cartographicOrigin,modelMatrix:modelMatrix,getTransformMatrix:instance=>instance.modelMatrix,getPosition:[0,0,0],_offset:0})}_makeSimpleMeshLayer(tileHeader,oldLayer){const content=tileHeader.content,{attributes:attributes,indices:indices,modelMatrix:modelMatrix,cartographicOrigin:cartographicOrigin,coordinateSystem:coordinateSystem=constants.COORDINATE_SYSTEM.METER_OFFSETS,material:material,featureIds:featureIds}=content,{_getMeshColor:_getMeshColor}=this.props,geometry=oldLayer&&oldLayer.props.mesh||new geometry_geometry.Z({topology:"triangle-list",attributes:getMeshGeometry(attributes),indices:indices});return new(this.getSubLayerClass("mesh",MeshLayer))(this.getSubLayerProps({id:"mesh"}),{id:`${this.id}-mesh-${tileHeader.id}`,tile:tileHeader,mesh:geometry,data:SINGLE_DATA,getColor:_getMeshColor(tileHeader),pbrMaterial:material,modelMatrix:modelMatrix,coordinateOrigin:cartographicOrigin,coordinateSystem:coordinateSystem,featureIds:featureIds,_offset:0})}renderLayers(){const{tileset3d:tileset3d,layerMap:layerMap}=this.state;return tileset3d?tileset3d.tiles.map((tile=>{const layerCache=layerMap[tile.id]=layerMap[tile.id]||{tile:tile};let{layer:layer}=layerCache;return tile.selected&&(layer?layerCache.needsUpdate&&(layer=this._getSubLayer(tile,layer),layerCache.needsUpdate=!1):layer=this._getSubLayer(tile)),layerCache.layer=layer,layer})).filter(Boolean):null}}function getMeshGeometry(contentAttributes){const attributes={};return attributes.positions={...contentAttributes.positions,value:new Float32Array(contentAttributes.positions.value)},contentAttributes.normals&&(attributes.normals=contentAttributes.normals),contentAttributes.texCoords&&(attributes.texCoords=contentAttributes.texCoords),contentAttributes.colors&&(attributes.colors=contentAttributes.colors),contentAttributes.uvRegions&&(attributes.uvRegions=contentAttributes.uvRegions),attributes}const TerrainLoader={dataType:null,batchType:null,name:"Terrain",id:"terrain",module:"terrain",version:"4.2.1",worker:!0,extensions:["png","pngraw","jpg","jpeg","gif","webp","bmp"],mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp"],options:{terrain:{tesselator:"auto",bounds:void 0,meshMaxError:10,elevationDecoder:{rScaler:1,gScaler:0,bScaler:0,offset:0},skirtHeight:void 0}}},DUMMY_DATA=[1],terrain_layer_defaultProps={...TileLayer.defaultProps,elevationData:urlType,texture:{...urlType,optional:!0},meshMaxError:{type:"number",value:4},bounds:{type:"array",value:null,optional:!0,compare:!0},color:{type:"color",value:[255,255,255]},elevationDecoder:{type:"object",value:{rScaler:1,gScaler:0,bScaler:0,offset:0}},workerUrl:"",wireframe:!1,material:!0,loaders:[TerrainLoader]};function urlTemplateToUpdateTrigger(template){return Array.isArray(template)?template.join(";"):template||""}class TerrainLayer extends composite_layer.Z{static{this.defaultProps=terrain_layer_defaultProps}static{this.layerName="TerrainLayer"}updateState({props:props,oldProps:oldProps}){const elevationDataChanged=props.elevationData!==oldProps.elevationData;if(elevationDataChanged){const{elevationData:elevationData}=props,isTiled=elevationData&&(Array.isArray(elevationData)||elevationData.includes("{x}")&&elevationData.includes("{y}"));this.setState({isTiled:isTiled})}const shouldReload=elevationDataChanged||props.meshMaxError!==oldProps.meshMaxError||props.elevationDecoder!==oldProps.elevationDecoder||props.bounds!==oldProps.bounds;if(!this.state.isTiled&&shouldReload){const terrain=this.loadTerrain(props);this.setState({terrain:terrain})}props.workerUrl&&log.Z.removed("workerUrl","loadOptions.terrain.workerUrl")()}loadTerrain({elevationData:elevationData,bounds:bounds,elevationDecoder:elevationDecoder,meshMaxError:meshMaxError,signal:signal}){if(!elevationData)return null;let loadOptions=this.getLoadOptions();loadOptions={...loadOptions,terrain:{skirtHeight:this.state.isTiled?2*meshMaxError:0,...loadOptions?.terrain,bounds:bounds,meshMaxError:meshMaxError,elevationDecoder:elevationDecoder}};const{fetch:fetch}=this.props;return fetch(elevationData,{propName:"elevationData",layer:this,loadOptions:loadOptions,signal:signal})}getTiledTerrainData(tile){const{elevationData:elevationData,fetch:fetch,texture:texture,elevationDecoder:elevationDecoder,meshMaxError:meshMaxError}=this.props,{viewport:viewport}=this.context,dataUrl=getURLFromTemplate(elevationData,tile),textureUrl=texture&&getURLFromTemplate(texture,tile),{signal:signal}=tile;let bottomLeft=[0,0],topRight=[0,0];if(viewport.isGeospatial){const bbox=tile.bbox;bottomLeft=viewport.projectFlat([bbox.west,bbox.south]),topRight=viewport.projectFlat([bbox.east,bbox.north])}else{const bbox=tile.bbox;bottomLeft=[bbox.left,bbox.bottom],topRight=[bbox.right,bbox.top]}const bounds=[bottomLeft[0],bottomLeft[1],topRight[0],topRight[1]],terrain=this.loadTerrain({elevationData:dataUrl,bounds:bounds,elevationDecoder:elevationDecoder,meshMaxError:meshMaxError,signal:signal}),surface=textureUrl?fetch(textureUrl,{propName:"texture",layer:this,loaders:[],signal:signal}).catch((_=>null)):Promise.resolve(null);return Promise.all([terrain,surface])}renderSubLayers(props){const SubLayerClass=this.getSubLayerClass("mesh",simple_mesh_layer.Z),{color:color,wireframe:wireframe,material:material}=this.props,{data:data}=props;if(!data)return null;const[mesh,texture]=data;return new SubLayerClass(props,{data:DUMMY_DATA,mesh:mesh,texture:texture,_instanced:!1,coordinateSystem:constants.COORDINATE_SYSTEM.CARTESIAN,getPosition:d=>[0,0,0],getColor:color,wireframe:wireframe,material:material})}onViewportLoad(tiles){if(!tiles)return;const{zRange:zRange}=this.state,ranges=tiles.map((tile=>tile.content)).filter(Boolean).map((arr=>arr[0].header.boundingBox.map((bound=>bound[2]))));if(0===ranges.length)return;const minZ=Math.min(...ranges.map((x=>x[0]))),maxZ=Math.max(...ranges.map((x=>x[1])));(!zRange||minZ<zRange[0]||maxZ>zRange[1])&&this.setState({zRange:[minZ,maxZ]})}renderLayers(){const{color:color,material:material,elevationData:elevationData,texture:texture,wireframe:wireframe,meshMaxError:meshMaxError,elevationDecoder:elevationDecoder,tileSize:tileSize,maxZoom:maxZoom,minZoom:minZoom,extent:extent,maxRequests:maxRequests,onTileLoad:onTileLoad,onTileUnload:onTileUnload,onTileError:onTileError,maxCacheSize:maxCacheSize,maxCacheByteSize:maxCacheByteSize,refinementStrategy:refinementStrategy}=this.props;if(this.state.isTiled)return new TileLayer(this.getSubLayerProps({id:"tiles"}),{getTileData:this.getTiledTerrainData.bind(this),renderSubLayers:this.renderSubLayers.bind(this),updateTriggers:{getTileData:{elevationData:urlTemplateToUpdateTrigger(elevationData),texture:urlTemplateToUpdateTrigger(texture),meshMaxError:meshMaxError,elevationDecoder:elevationDecoder}},onViewportLoad:this.onViewportLoad.bind(this),zRange:this.state.zRange||null,tileSize:tileSize,maxZoom:maxZoom,minZoom:minZoom,extent:extent,maxRequests:maxRequests,onTileLoad:onTileLoad,onTileUnload:onTileUnload,onTileError:onTileError,maxCacheSize:maxCacheSize,maxCacheByteSize:maxCacheByteSize,refinementStrategy:refinementStrategy});if(!elevationData)return null;return new(this.getSubLayerClass("mesh",simple_mesh_layer.Z))(this.getSubLayerProps({id:"mesh"}),{data:DUMMY_DATA,mesh:this.state.terrain,texture:texture,_instanced:!1,getPosition:d=>[0,0,0],getColor:color,material:material,wireframe:wireframe})}}var clip_extension=__webpack_require__("./node_modules/@deck.gl/extensions/dist/clip/clip-extension.js"),polygon_dist=__webpack_require__("./node_modules/@math.gl/polygon/dist/index.js");function flatGeojsonToBinary(features,geometryInfo,options){const propArrayTypes=extractNumericPropTypes(features),numericPropKeys=Object.keys(propArrayTypes).filter((k=>propArrayTypes[k]!==Array));return function fillArrays(features,geometryInfo,options){const{pointPositionsCount:pointPositionsCount,pointFeaturesCount:pointFeaturesCount,linePositionsCount:linePositionsCount,linePathsCount:linePathsCount,lineFeaturesCount:lineFeaturesCount,polygonPositionsCount:polygonPositionsCount,polygonObjectsCount:polygonObjectsCount,polygonRingsCount:polygonRingsCount,polygonFeaturesCount:polygonFeaturesCount,propArrayTypes:propArrayTypes,coordLength:coordLength}=geometryInfo,{numericPropKeys:numericPropKeys=[],PositionDataType:PositionDataType=Float32Array,triangulate:triangulate=!0}=options,hasGlobalId=features[0]&&"id"in features[0],GlobalFeatureIdsDataType=features.length>65535?Uint32Array:Uint16Array,points={type:"Point",positions:new PositionDataType(pointPositionsCount*coordLength),globalFeatureIds:new GlobalFeatureIdsDataType(pointPositionsCount),featureIds:pointFeaturesCount>65535?new Uint32Array(pointPositionsCount):new Uint16Array(pointPositionsCount),numericProps:{},properties:[],fields:[]},lines={type:"LineString",pathIndices:linePositionsCount>65535?new Uint32Array(linePathsCount+1):new Uint16Array(linePathsCount+1),positions:new PositionDataType(linePositionsCount*coordLength),globalFeatureIds:new GlobalFeatureIdsDataType(linePositionsCount),featureIds:lineFeaturesCount>65535?new Uint32Array(linePositionsCount):new Uint16Array(linePositionsCount),numericProps:{},properties:[],fields:[]},polygons={type:"Polygon",polygonIndices:polygonPositionsCount>65535?new Uint32Array(polygonObjectsCount+1):new Uint16Array(polygonObjectsCount+1),primitivePolygonIndices:polygonPositionsCount>65535?new Uint32Array(polygonRingsCount+1):new Uint16Array(polygonRingsCount+1),positions:new PositionDataType(polygonPositionsCount*coordLength),globalFeatureIds:new GlobalFeatureIdsDataType(polygonPositionsCount),featureIds:polygonFeaturesCount>65535?new Uint32Array(polygonPositionsCount):new Uint16Array(polygonPositionsCount),numericProps:{},properties:[],fields:[]};triangulate&&(polygons.triangles=[]);for(const object of[points,lines,polygons])for(const propName of numericPropKeys){const T=propArrayTypes[propName];object.numericProps[propName]=new T(object.positions.length/coordLength)}lines.pathIndices[linePathsCount]=linePositionsCount,polygons.polygonIndices[polygonObjectsCount]=polygonPositionsCount,polygons.primitivePolygonIndices[polygonRingsCount]=polygonPositionsCount;const indexMap={pointPosition:0,pointFeature:0,linePosition:0,linePath:0,lineFeature:0,polygonPosition:0,polygonObject:0,polygonRing:0,polygonFeature:0,feature:0};for(const feature of features){const geometry=feature.geometry,properties=feature.properties||{};switch(geometry.type){case"Point":handlePoint(geometry,points,indexMap,coordLength,properties),points.properties.push(keepStringProperties(properties,numericPropKeys)),hasGlobalId&&points.fields.push({id:feature.id}),indexMap.pointFeature++;break;case"LineString":handleLineString(geometry,lines,indexMap,coordLength,properties),lines.properties.push(keepStringProperties(properties,numericPropKeys)),hasGlobalId&&lines.fields.push({id:feature.id}),indexMap.lineFeature++;break;case"Polygon":handlePolygon(geometry,polygons,indexMap,coordLength,properties),polygons.properties.push(keepStringProperties(properties,numericPropKeys)),hasGlobalId&&polygons.fields.push({id:feature.id}),indexMap.polygonFeature++;break;default:throw new Error("Invalid geometry type")}indexMap.feature++}return function makeAccessorObjects(points,lines,polygons,coordLength){const binaryFeatures={shape:"binary-feature-collection",points:{...points,positions:{value:points.positions,size:coordLength},globalFeatureIds:{value:points.globalFeatureIds,size:1},featureIds:{value:points.featureIds,size:1},numericProps:wrapProps(points.numericProps,1)},lines:{...lines,positions:{value:lines.positions,size:coordLength},pathIndices:{value:lines.pathIndices,size:1},globalFeatureIds:{value:lines.globalFeatureIds,size:1},featureIds:{value:lines.featureIds,size:1},numericProps:wrapProps(lines.numericProps,1)},polygons:{...polygons,positions:{value:polygons.positions,size:coordLength},polygonIndices:{value:polygons.polygonIndices,size:1},primitivePolygonIndices:{value:polygons.primitivePolygonIndices,size:1},globalFeatureIds:{value:polygons.globalFeatureIds,size:1},featureIds:{value:polygons.featureIds,size:1},numericProps:wrapProps(polygons.numericProps,1)}};binaryFeatures.polygons&&polygons.triangles&&(binaryFeatures.polygons.triangles={value:new Uint32Array(polygons.triangles),size:1});return binaryFeatures}(points,lines,polygons,coordLength)}(features,{propArrayTypes:propArrayTypes,...geometryInfo},{numericPropKeys:options&&options.numericPropKeys||numericPropKeys,PositionDataType:options?options.PositionDataType:Float32Array,triangulate:!options||options.triangulate})}function extractNumericPropTypes(features){const propArrayTypes={};for(const feature of features)if(feature.properties)for(const key in feature.properties){const val=feature.properties[key];propArrayTypes[key]=deduceArrayType(val,propArrayTypes[key])}return propArrayTypes}function handlePoint(geometry,points,indexMap,coordLength,properties){points.positions.set(geometry.data,indexMap.pointPosition*coordLength);const nPositions=geometry.data.length/coordLength;fillNumericProperties(points,properties,indexMap.pointPosition,nPositions),points.globalFeatureIds.fill(indexMap.feature,indexMap.pointPosition,indexMap.pointPosition+nPositions),points.featureIds.fill(indexMap.pointFeature,indexMap.pointPosition,indexMap.pointPosition+nPositions),indexMap.pointPosition+=nPositions}function handleLineString(geometry,lines,indexMap,coordLength,properties){lines.positions.set(geometry.data,indexMap.linePosition*coordLength);const nPositions=geometry.data.length/coordLength;fillNumericProperties(lines,properties,indexMap.linePosition,nPositions),lines.globalFeatureIds.fill(indexMap.feature,indexMap.linePosition,indexMap.linePosition+nPositions),lines.featureIds.fill(indexMap.lineFeature,indexMap.linePosition,indexMap.linePosition+nPositions);for(let i=0,il=geometry.indices.length;i<il;++i){const start=geometry.indices[i],end=i===il-1?geometry.data.length:geometry.indices[i+1];lines.pathIndices[indexMap.linePath++]=indexMap.linePosition,indexMap.linePosition+=(end-start)/coordLength}}function handlePolygon(geometry,polygons,indexMap,coordLength,properties){polygons.positions.set(geometry.data,indexMap.polygonPosition*coordLength);const nPositions=geometry.data.length/coordLength;fillNumericProperties(polygons,properties,indexMap.polygonPosition,nPositions),polygons.globalFeatureIds.fill(indexMap.feature,indexMap.polygonPosition,indexMap.polygonPosition+nPositions),polygons.featureIds.fill(indexMap.polygonFeature,indexMap.polygonPosition,indexMap.polygonPosition+nPositions);for(let l=0,ll=geometry.indices.length;l<ll;++l){const startPosition=indexMap.polygonPosition;polygons.polygonIndices[indexMap.polygonObject++]=startPosition;const areas=geometry.areas[l],indices=geometry.indices[l],nextIndices=geometry.indices[l+1];for(let i=0,il=indices.length;i<il;++i){const start=indices[i],end=i===il-1?void 0===nextIndices?geometry.data.length:nextIndices[0]:indices[i+1];polygons.primitivePolygonIndices[indexMap.polygonRing++]=indexMap.polygonPosition,indexMap.polygonPosition+=(end-start)/coordLength}triangulatePolygon(polygons,areas,indices,{startPosition:startPosition,endPosition:indexMap.polygonPosition,coordLength:coordLength})}}function triangulatePolygon(polygons,areas,indices,{startPosition:startPosition,endPosition:endPosition,coordLength:coordLength}){if(!polygons.triangles)return;const start=startPosition*coordLength,end=endPosition*coordLength,polygonPositions=polygons.positions.subarray(start,end),offset=indices[0],holes=indices.slice(1).map((n=>(n-offset)/coordLength)),triangles=(0,polygon_dist.OT)(polygonPositions,holes,coordLength,areas);for(let t=0,tl=triangles.length;t<tl;++t)polygons.triangles.push(startPosition+triangles[t])}function wrapProps(obj,size){const returnObj={};for(const key in obj)returnObj[key]={value:obj[key],size:size};return returnObj}function fillNumericProperties(object,properties,index,length){for(const numericPropName in object.numericProps)if(numericPropName in properties){const value=properties[numericPropName];object.numericProps[numericPropName].fill(value,index,index+length)}}function keepStringProperties(properties,numericKeys){const props={};for(const key in properties)numericKeys.includes(key)||(props[key]=properties[key]);return props}function deduceArrayType(x,constructor){return constructor!==Array&&Number.isFinite(x)?constructor===Float64Array||Math.fround(x)!==x?Float64Array:Float32Array:Array}var pbf=__webpack_require__("./node_modules/pbf/index.js"),pbf_default=__webpack_require__.n(pbf);function signedArea(ring){let sum=0;for(let p1,p2,i=0,j=ring.length-1;i<ring.length;j=i++)p1=ring[i],p2=ring[j],sum+=(p2[0]-p1[0])*(p1[1]+p2[1]);return sum}function readFeature(tag,feature,pbf){feature&&pbf&&(1===tag?feature.id=pbf.readVarint():2===tag?function readTag(pbf,feature){const end=pbf.readVarint()+pbf.pos;for(;pbf.pos<end;){const key=feature._keys[pbf.readVarint()],value=feature._values[pbf.readVarint()];feature.properties[key]=value}}(pbf,feature):3===tag?feature.type=pbf.readVarint():4===tag&&(feature._geometry=pbf.pos))}class VectorTileFeature{properties;extent;type;id;_pbf;_geometry;_keys;_values;static get types(){return["Unknown","Point","LineString","Polygon"]}constructor(pbf,end,extent,keys,values){this.properties={},this.extent=extent,this.type=0,this.id=null,this._pbf=pbf,this._geometry=-1,this._keys=keys,this._values=values,pbf.readFields(readFeature,this,end)}loadGeometry(){const pbf=this._pbf;pbf.pos=this._geometry;const end=pbf.readVarint()+pbf.pos;let cmd=1,length=0,x=0,y=0;const lines=[];let line;for(;pbf.pos<end;){if(length<=0){const cmdLen=pbf.readVarint();cmd=7&cmdLen,length=cmdLen>>3}if(length--,1===cmd||2===cmd)x+=pbf.readSVarint(),y+=pbf.readSVarint(),1===cmd&&(line&&lines.push(line),line=[]),line&&line.push([x,y]);else{if(7!==cmd)throw new Error(`unknown command ${cmd}`);line&&line.push(line[0].slice())}}return line&&lines.push(line),lines}bbox(){const pbf=this._pbf;pbf.pos=this._geometry;const end=pbf.readVarint()+pbf.pos;let cmd=1,length=0,x=0,y=0,x1=1/0,x2=-1/0,y1=1/0,y2=-1/0;for(;pbf.pos<end;){if(length<=0){const cmdLen=pbf.readVarint();cmd=7&cmdLen,length=cmdLen>>3}if(length--,1===cmd||2===cmd)x+=pbf.readSVarint(),y+=pbf.readSVarint(),x<x1&&(x1=x),x>x2&&(x2=x),y<y1&&(y1=y),y>y2&&(y2=y);else if(7!==cmd)throw new Error(`unknown command ${cmd}`)}return[x1,y1,x2,y2]}_toGeoJSON(transform){let i,j,coords=this.loadGeometry(),type=VectorTileFeature.types[this.type];switch(this.type){case 1:const points=[];for(i=0;i<coords.length;i++)points[i]=coords[i][0];coords=points,transform(coords,this);break;case 2:for(i=0;i<coords.length;i++)transform(coords[i],this);break;case 3:for(coords=function classifyRings(rings){const len=rings.length;if(len<=1)return[rings];const polygons=[];let polygon,ccw;for(let i=0;i<len;i++){const area=signedArea(rings[i]);0!==area&&(void 0===ccw&&(ccw=area<0),ccw===area<0?(polygon&&polygons.push(polygon),polygon=[rings[i]]):polygon&&polygon.push(rings[i]))}return polygon&&polygons.push(polygon),polygons}(coords),i=0;i<coords.length;i++)for(j=0;j<coords[i].length;j++)transform(coords[i][j],this)}1===coords.length?coords=coords[0]:type=`Multi${type}`;const result={type:"Feature",geometry:{type:type,coordinates:coords},properties:this.properties};return null!==this.id&&(result.id=this.id),result}toGeoJSON(options){if("function"==typeof options)return this._toGeoJSON(options);const{x:x,y:y,z:z}=options,size=this.extent*Math.pow(2,z),x0=this.extent*x,y0=this.extent*y;return this._toGeoJSON((function project(line){for(let j=0;j<line.length;j++){const p=line[j];p[0]=360*(p[0]+x0)/size-180;const y2=180-360*(p[1]+y0)/size;p[1]=360/Math.PI*Math.atan(Math.exp(y2*Math.PI/180))-90}}))}}class VectorTileLayer{version;name;extent;length;_pbf;_keys;_values;_features;constructor(pbf,end){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=pbf,this._keys=[],this._values=[],this._features=[],pbf.readFields(readLayer,this,end),this.length=this._features.length}feature(i){if(i<0||i>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[i];const end=this._pbf.readVarint()+this._pbf.pos;return new VectorTileFeature(this._pbf,end,this.extent,this._keys,this._values)}}function readLayer(tag,layer,pbf){layer&&pbf&&(15===tag?layer.version=pbf.readVarint():1===tag?layer.name=pbf.readString():5===tag?layer.extent=pbf.readVarint():2===tag?layer._features.push(pbf.pos):3===tag?layer._keys.push(pbf.readString()):4===tag&&layer._values.push(function readValueMessage(pbf){let value=null;const end=pbf.readVarint()+pbf.pos;for(;pbf.pos<end;){const tag=pbf.readVarint()>>3;value=1===tag?pbf.readString():2===tag?pbf.readFloat():3===tag?pbf.readDouble():4===tag?pbf.readVarint64():5===tag?pbf.readVarint():6===tag?pbf.readSVarint():7===tag?pbf.readBoolean():null}return value}(pbf)))}class VectorTile{layers;constructor(pbf,end){this.layers=pbf.readFields(readTile,{},end)}}function readTile(tag,layers,pbf){if(3===tag&&pbf){const layer=new VectorTileLayer(pbf,pbf.readVarint()+pbf.pos);layer.length&&layers&&(layers[layer.name]=layer)}}function binary_util_functions_classifyRings(geom){const len=geom.indices.length;if(len<=1)return{type:"Polygon",data:geom.data,areas:[[(0,polygon_dist.ap)(geom.data)]],indices:[geom.indices]};const areas=[],polygons=[];let ccw,ringAreas=[],polygon=[],offset=0;for(let endIndex,startIndex,i=0;i<len;i++){startIndex=geom.indices[i]-offset,endIndex=geom.indices[i+1]-offset||geom.data.length;const shape=geom.data.slice(startIndex,endIndex),area=(0,polygon_dist.ap)(shape);if(0!==area)void 0===ccw&&(ccw=area<0),ccw===area<0?(polygon.length&&(areas.push(ringAreas),polygons.push(polygon)),polygon=[startIndex],ringAreas=[area]):(ringAreas.push(area),polygon.push(startIndex));else{const before=geom.data.slice(0,startIndex),after=geom.data.slice(endIndex);geom.data=before.concat(after),offset+=endIndex-startIndex}}return ringAreas&&areas.push(ringAreas),polygon.length&&polygons.push(polygon),{type:"Polygon",areas:areas,indices:polygons,data:geom.data}}function binary_util_functions_readFeature(tag,feature,pbf){feature&&pbf&&(1===tag?feature.id=pbf.readVarint():2===tag?function binary_util_functions_readTag(pbf,feature){const end=pbf.readVarint()+pbf.pos;for(;pbf.pos<end;){const key=feature._keys[pbf.readVarint()],value=feature._values[pbf.readVarint()];feature.properties[key]=value}}(pbf,feature):3===tag?feature.type=pbf.readVarint():4===tag&&(feature._geometry=pbf.pos))}let endPos,cmd,cmdLen,vector_tile_feature_length,x,y,i;class BinaryVectorTileFeature{properties;extent;type;id;_pbf;_geometry;_keys;_values;_geometryInfo;constructor(pbf,end,extent,keys,values,geometryInfo){this.properties={},this.extent=extent,this.type=0,this.id=null,this._pbf=pbf,this._geometry=-1,this._keys=keys,this._values=values,this._geometryInfo=geometryInfo,pbf.readFields(binary_util_functions_readFeature,this,end)}loadGeometry(){const pbf=this._pbf;pbf.pos=this._geometry,endPos=pbf.readVarint()+pbf.pos,cmd=1,vector_tile_feature_length=0,x=0,y=0,i=0;const indices=[],data=[];for(;pbf.pos<endPos;)if(vector_tile_feature_length<=0&&(cmdLen=pbf.readVarint(),cmd=7&cmdLen,vector_tile_feature_length=cmdLen>>3),vector_tile_feature_length--,1===cmd||2===cmd)x+=pbf.readSVarint(),y+=pbf.readSVarint(),1===cmd&&indices.push(i),data.push(x,y),i+=2;else{if(7!==cmd)throw new Error(`unknown command ${cmd}`);if(i>0){const start=indices[indices.length-1];data.push(data[start],data[start+1]),i+=2}}return{data:data,indices:indices}}_toBinaryCoordinates(transform){const geom=this.loadGeometry();let geometry;transform(geom.data,this);switch(this.type){case 1:this._geometryInfo.pointFeaturesCount++,this._geometryInfo.pointPositionsCount+=geom.indices.length,geometry={type:"Point",...geom};break;case 2:this._geometryInfo.lineFeaturesCount++,this._geometryInfo.linePathsCount+=geom.indices.length,this._geometryInfo.linePositionsCount+=geom.data.length/2,geometry={type:"LineString",...geom};break;case 3:geometry=binary_util_functions_classifyRings(geom),this._geometryInfo.polygonFeaturesCount++,this._geometryInfo.polygonObjectsCount+=geometry.indices.length;for(const indices of geometry.indices)this._geometryInfo.polygonRingsCount+=indices.length;this._geometryInfo.polygonPositionsCount+=geometry.data.length/2;break;default:throw new Error(`Invalid geometry type: ${this.type}`)}const result={type:"Feature",geometry:geometry,properties:this.properties};return null!==this.id&&(result.id=this.id),result}toBinaryCoordinates(options){if("function"==typeof options)return this._toBinaryCoordinates(options);const{x:x,y:y,z:z}=options,size=this.extent*Math.pow(2,z),x0=this.extent*x,y0=this.extent*y;return this._toBinaryCoordinates((data=>function project(data,x0,y0,size){for(let j=0,jl=data.length;j<jl;j+=2){data[j]=360*(data[j]+x0)/size-180;const y2=180-360*(data[j+1]+y0)/size;data[j+1]=360/Math.PI*Math.atan(Math.exp(y2*Math.PI/180))-90}}(data,x0,y0,size)))}}class BinaryVectorTileLayer{version;name;extent;length;_pbf;_keys;_values;_features;constructor(pbf,end){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=pbf,this._keys=[],this._values=[],this._features=[],pbf.readFields(vector_tile_layer_readLayer,this,end),this.length=this._features.length}feature(i,geometryInfo){if(i<0||i>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[i];const end=this._pbf.readVarint()+this._pbf.pos;return new BinaryVectorTileFeature(this._pbf,end,this.extent,this._keys,this._values,geometryInfo)}}function vector_tile_layer_readLayer(tag,layer,pbf){layer&&pbf&&(15===tag?layer.version=pbf.readVarint():1===tag?layer.name=pbf.readString():5===tag?layer.extent=pbf.readVarint():2===tag?layer._features.push(pbf.pos):3===tag?layer._keys.push(pbf.readString()):4===tag&&layer._values.push(function vector_tile_layer_readValueMessage(pbf){let value=null;const end=pbf.readVarint()+pbf.pos;for(;pbf.pos<end;){const tag=pbf.readVarint()>>3;value=1===tag?pbf.readString():2===tag?pbf.readFloat():3===tag?pbf.readDouble():4===tag?pbf.readVarint64():5===tag?pbf.readVarint():6===tag?pbf.readSVarint():7===tag?pbf.readBoolean():null}return value}(pbf)))}class BinaryVectorTile{layers;constructor(pbf,end){this.layers=pbf.readFields(vector_tile_readTile,{},end)}}function vector_tile_readTile(tag,layers,pbf){if(3===tag&&pbf){const layer=new BinaryVectorTileLayer(pbf,pbf.readVarint()+pbf.pos);layer.length&&layers&&(layers[layer.name]=layer)}}function parseMVT(arrayBuffer,options){const mvtOptions=function normalizeOptions(options){if(!options?.mvt)throw new Error("mvt options required");const wgs84Coordinates="wgs84"===options.mvt?.coordinates,{tileIndex:tileIndex}=options.mvt,hasTileIndex=tileIndex&&Number.isFinite(tileIndex.x)&&Number.isFinite(tileIndex.y)&&Number.isFinite(tileIndex.z);if(wgs84Coordinates&&!hasTileIndex)throw new Error("MVT Loader: WGS84 coordinates need tileIndex property");return options.mvt}(options),shape=options?.gis?.format||options?.mvt?.shape||options?.shape;switch(shape){case"columnar-table":return{shape:"columnar-table",data:parseToBinary(arrayBuffer,mvtOptions)};case"geojson-table":return{shape:"geojson-table",type:"FeatureCollection",features:parseToGeojsonFeatures(arrayBuffer,mvtOptions)};case"geojson":return parseToGeojsonFeatures(arrayBuffer,mvtOptions);case"binary-geometry":case"binary":return parseToBinary(arrayBuffer,mvtOptions);default:throw new Error(shape||"undefined shape")}}function parseToBinary(arrayBuffer,options){const[flatGeoJsonFeatures,geometryInfo]=function parseToFlatGeoJson(arrayBuffer,options){const features=[],geometryInfo={coordLength:2,pointPositionsCount:0,pointFeaturesCount:0,linePositionsCount:0,linePathsCount:0,lineFeaturesCount:0,polygonPositionsCount:0,polygonObjectsCount:0,polygonRingsCount:0,polygonFeaturesCount:0};if(arrayBuffer.byteLength<=0)return[features,geometryInfo];const tile=new BinaryVectorTile(new(pbf_default())(arrayBuffer)),selectedLayers=options&&Array.isArray(options.layers)?options.layers:Object.keys(tile.layers);return selectedLayers.forEach((layerName=>{const vectorTileLayer=tile.layers[layerName];if(vectorTileLayer)for(let i=0;i<vectorTileLayer.length;i++){const decodedFeature=getDecodedFeatureBinary(vectorTileLayer.feature(i,geometryInfo),options,layerName);features.push(decodedFeature)}})),[features,geometryInfo]}(arrayBuffer,options),binaryData=flatGeojsonToBinary(flatGeoJsonFeatures,geometryInfo);return binaryData.byteLength=arrayBuffer.byteLength,binaryData}function parseToGeojsonFeatures(arrayBuffer,options){if(arrayBuffer.byteLength<=0)return[];const features=[],tile=new VectorTile(new(pbf_default())(arrayBuffer));return(Array.isArray(options.layers)?options.layers:Object.keys(tile.layers)).forEach((layerName=>{const vectorTileLayer=tile.layers[layerName];if(vectorTileLayer)for(let i=0;i<vectorTileLayer.length;i++){const decodedFeature=getDecodedFeature(vectorTileLayer.feature(i),options,layerName);features.push(decodedFeature)}})),features}function getDecodedFeature(feature,options,layerName){const decodedFeature=feature.toGeoJSON("wgs84"===options.coordinates?options.tileIndex:transformToLocalCoordinates);return options.layerProperty&&(decodedFeature.properties[options.layerProperty]=layerName),decodedFeature}function getDecodedFeatureBinary(feature,options,layerName){const decodedFeature=feature.toBinaryCoordinates("wgs84"===options.coordinates?options.tileIndex:transformToLocalCoordinatesBinary);return options.layerProperty&&decodedFeature.properties&&(decodedFeature.properties[options.layerProperty]=layerName),decodedFeature}function transformToLocalCoordinates(line,feature){const{extent:extent}=feature;for(let i=0;i<line.length;i++){const p=line[i];p[0]/=extent,p[1]/=extent}}function transformToLocalCoordinatesBinary(data,feature){const{extent:extent}=feature;for(let i=0,il=data.length;i<il;++i)data[i]/=extent}const MVTWorkerLoader={dataType:null,batchType:null,name:"Mapbox Vector Tile",id:"mvt",module:"mvt",version:"4.2.1",extensions:["mvt","pbf"],mimeTypes:["application/vnd.mapbox-vector-tile","application/x-protobuf"],worker:!0,category:"geometry",options:{mvt:{shape:"geojson",coordinates:"local",layerProperty:"layerName",layers:void 0,tileIndex:null}}};function binaryToGeojson(data,options){const globalFeatureId=options?.globalFeatureId;return void 0!==globalFeatureId?function getSingleFeature(data,globalFeatureId){const dataArray=normalizeInput(data);for(const data of dataArray){let lastIndex=0,lastValue=data.featureIds.value[0];for(let i=0;i<data.featureIds.value.length;i++){const currValue=data.featureIds.value[i];if(currValue!==lastValue){if(globalFeatureId===data.globalFeatureIds.value[lastIndex])return parseFeature(data,lastIndex,i);lastIndex=i,lastValue=currValue}}if(globalFeatureId===data.globalFeatureIds.value[lastIndex])return parseFeature(data,lastIndex,data.featureIds.value.length)}throw new Error(`featureId:${globalFeatureId} not found`)}(data,globalFeatureId):function parseFeatures(data,type){const dataArray=normalizeInput(data,type);return function parseFeatureCollection(dataArray){const features=[];for(const data of dataArray){if(0===data.featureIds.value.length)continue;let lastIndex=0,lastValue=data.featureIds.value[0];for(let i=0;i<data.featureIds.value.length;i++){const currValue=data.featureIds.value[i];currValue!==lastValue&&(features.push(parseFeature(data,lastIndex,i)),lastIndex=i,lastValue=currValue)}features.push(parseFeature(data,lastIndex,data.featureIds.value.length))}return features}(dataArray)}(data,options?.type)}function binaryToGeometry(data,startIndex,endIndex){switch(data.type){case"Point":return function pointToGeoJson(data,startIndex,endIndex){const{positions:positions}=data,coordinates=ringToGeoJson(positions,startIndex,endIndex);if(coordinates.length>1)return{type:"MultiPoint",coordinates:coordinates};return{type:"Point",coordinates:coordinates[0]}}(data,startIndex,endIndex);case"LineString":return function lineStringToGeoJson(data,startIndex=-1/0,endIndex=1/0){const{positions:positions}=data,pathIndices=data.pathIndices.value.filter((x=>x>=startIndex&&x<=endIndex));if(!(pathIndices.length>2)){return{type:"LineString",coordinates:ringToGeoJson(positions,pathIndices[0],pathIndices[1])}}const coordinates=[];for(let i=0;i<pathIndices.length-1;i++){const ringCoordinates=ringToGeoJson(positions,pathIndices[i],pathIndices[i+1]);coordinates.push(ringCoordinates)}return{type:"MultiLineString",coordinates:coordinates}}(data,startIndex,endIndex);case"Polygon":return polygonToGeoJson(data,startIndex,endIndex);default:const unexpectedInput=data;throw new Error(`Unsupported geometry type: ${unexpectedInput?.type}`)}}function normalizeInput(data,type){const features=[];return data.points&&(data.points.type="Point",features.push(data.points)),data.lines&&(data.lines.type="LineString",features.push(data.lines)),data.polygons&&(data.polygons.type="Polygon",features.push(data.polygons)),features}function parseFeature(data,startIndex,endIndex){const geometry=binaryToGeometry(data,startIndex,endIndex),properties=function parseProperties(data,startIndex=0,endIndex){const properties=Object.assign({},data.properties[data.featureIds.value[startIndex]]);for(const key in data.numericProps)properties[key]=data.numericProps[key].value[startIndex];return properties}(data,startIndex),fields=function parseFields(data,startIndex=0,endIndex){return data.fields&&data.fields[data.featureIds.value[startIndex]]}(data,startIndex);return{type:"Feature",geometry:geometry,properties:properties,...fields}}function polygonToGeoJson(data,startIndex=-1/0,endIndex=1/0){const{positions:positions}=data,polygonIndices=data.polygonIndices.value.filter((x=>x>=startIndex&&x<=endIndex)),primitivePolygonIndices=data.primitivePolygonIndices.value.filter((x=>x>=startIndex&&x<=endIndex));if(!(polygonIndices.length>2)){const coordinates=[];for(let i=0;i<primitivePolygonIndices.length-1;i++){const ringCoordinates=ringToGeoJson(positions,primitivePolygonIndices[i],primitivePolygonIndices[i+1]);coordinates.push(ringCoordinates)}return{type:"Polygon",coordinates:coordinates}}const coordinates=[];for(let i=0;i<polygonIndices.length-1;i++){const polygonCoordinates=polygonToGeoJson(data,polygonIndices[i],polygonIndices[i+1]).coordinates;coordinates.push(polygonCoordinates)}return{type:"MultiPolygon",coordinates:coordinates}}function ringToGeoJson(positions,startIndex,endIndex){startIndex=startIndex||0,endIndex=endIndex||positions.value.length/positions.size;const ringCoordinates=[];for(let j=startIndex;j<endIndex;j++){const coord=Array();for(let k=j*positions.size;k<(j+1)*positions.size;k++)coord.push(Number(positions.value[k]));ringCoordinates.push(coord)}return ringCoordinates}const availableTransformations={Point:Point,MultiPoint:function MultiPoint(multiPoint,bbox,viewport){return getPoints(multiPoint,bbox,viewport)},LineString:LineString,MultiLineString:function MultiLineString(multiLineString,bbox,viewport){return multiLineString.map((lineString=>LineString(lineString,bbox,viewport)))},Polygon:Polygon,MultiPolygon:function MultiPolygon(multiPolygon,bbox,viewport){return multiPolygon.map((polygon=>Polygon(polygon,bbox,viewport)))}};function Point([pointX,pointY],[nw,se],viewport){const x=(0,common.t7)(nw[0],se[0],pointX),y=(0,common.t7)(nw[1],se[1],pointY);return viewport.unprojectFlat([x,y])}function getPoints(geometry,bbox,viewport){return geometry.map((g=>Point(g,bbox,viewport)))}function LineString(line,bbox,viewport){return getPoints(line,bbox,viewport)}function Polygon(polygon,bbox,viewport){return polygon.map((polygonRing=>getPoints(polygonRing,bbox,viewport)))}const GEOM_TYPES=["points","lines","polygons"];function findIndexByType(geomData,uniqueIdProperty,featureId,layerName){const featureIds=geomData.featureIds.value;if(!featureIds.length)return-1;let startFeatureIndex=0,endFeatureIndex=featureIds[featureIds.length-1]+1;if(layerName){const layerRange=function getLayerRange(geomData,layerName){if(!geomData.__layers){const layerNames={},{properties:properties}=geomData;for(let i=0;i<properties.length;i++){const{layerName:key}=properties[i];key&&(layerNames[key]?layerNames[key][1]=i:layerNames[key]=[i,i])}geomData.__layers=layerNames}return geomData.__layers[layerName]}(geomData,layerName);if(!layerRange)return-1;startFeatureIndex=layerRange[0],endFeatureIndex=layerRange[1]+1}let featureIndex=-1;if(uniqueIdProperty in geomData.numericProps){const vertexIndex=geomData.numericProps[uniqueIdProperty].value.findIndex(((x,i)=>x===featureId&&featureIds[i]>=startFeatureIndex&&featureIds[i]<endFeatureIndex));return vertexIndex>=0?geomData.globalFeatureIds.value[vertexIndex]:-1}return uniqueIdProperty?featureIndex=findIndex(geomData.properties,(elem=>elem[uniqueIdProperty]===featureId),startFeatureIndex,endFeatureIndex):geomData.fields&&(featureIndex=findIndex(geomData.fields,(elem=>elem.id===featureId),startFeatureIndex,endFeatureIndex)),featureIndex>=0?function getGlobalFeatureId(geomData,featureIndex){if(!geomData.__ids){const result=[],featureIds=geomData.featureIds.value,globalFeatureIds=geomData.globalFeatureIds.value;for(let i=0;i<featureIds.length;i++)result[featureIds[i]]=globalFeatureIds[i];geomData.__ids=result}return geomData.__ids[featureIndex]}(geomData,featureIndex):-1}function findIndex(array,predicate,startIndex,endIndex){for(let i=startIndex;i<endIndex;i++)if(predicate(array[i],i))return i;return-1}const mvt_layer_defaultProps={...geojson_layer.Z.defaultProps,data:urlType,onDataLoad:{type:"function",value:null,optional:!0,compare:!1},uniqueIdProperty:"",highlightedFeatureId:null,loaders:[MVTWorkerLoader],binary:!0};class MVTLayer extends TileLayer{static{this.layerName="MVTLayer"}static{this.defaultProps=mvt_layer_defaultProps}initializeState(){super.initializeState();const binary=void 0===this.context.viewport.resolution&&this.props.binary;this.setState({binary:binary,data:null,tileJSON:null,hoveredFeatureId:null,hoveredFeatureLayerName:null})}get isLoaded(){return Boolean(this.state?.data&&super.isLoaded)}updateState({props:props,oldProps:oldProps,context:context,changeFlags:changeFlags}){changeFlags.dataChanged&&this._updateTileData(),this.state?.data&&(super.updateState({props:props,oldProps:oldProps,context:context,changeFlags:changeFlags}),this._setWGS84PropertyForTiles());const{highlightColor:highlightColor}=props;highlightColor!==oldProps.highlightColor&&Array.isArray(highlightColor)&&this.setState({highlightColor:highlightColor})}async _updateTileData(){let data=this.props.data,tileJSON=null;if("string"!=typeof data||function isURLTemplate(s){return/(?=.*{z})(?=.*{x})(?=.*({y}|{-y}))/.test(s)}(data))data&&"object"==typeof data&&"tilejson"in data&&(tileJSON=data);else{const{onDataLoad:onDataLoad,fetch:fetch}=this.props;this.setState({data:null,tileJSON:null});try{tileJSON=await fetch(data,{propName:"data",layer:this,loaders:[]})}catch(error){this.raiseError(error,"loading TileJSON"),data=null}onDataLoad&&onDataLoad(tileJSON,{propName:"data",layer:this})}tileJSON&&(data=tileJSON.tiles),this.setState({data:data,tileJSON:tileJSON})}_getTilesetOptions(){const opts=super._getTilesetOptions(),tileJSON=this.state.tileJSON,{minZoom:minZoom,maxZoom:maxZoom}=this.props;return tileJSON&&(Number.isFinite(tileJSON.minzoom)&&tileJSON.minzoom>minZoom&&(opts.minZoom=tileJSON.minzoom),Number.isFinite(tileJSON.maxzoom)&&(!Number.isFinite(maxZoom)||tileJSON.maxzoom<maxZoom)&&(opts.maxZoom=tileJSON.maxzoom)),opts}renderLayers(){return this.state?.data?super.renderLayers():null}getTileData(loadProps){const{data:data,binary:binary}=this.state,{index:index,signal:signal}=loadProps,url=getURLFromTemplate(data,loadProps);if(!url)return Promise.reject("Invalid URL");let loadOptions=this.getLoadOptions();const{fetch:fetch}=this.props;return loadOptions={...loadOptions,mimeType:"application/x-protobuf",mvt:{...loadOptions?.mvt,coordinates:this.context.viewport.resolution?"wgs84":"local",tileIndex:index},gis:binary?{format:"binary"}:{}},fetch(url,{propName:"data",layer:this,loadOptions:loadOptions,signal:signal})}renderSubLayers(props){const{x:x,y:y,z:z}=props.tile.index,worldScale=Math.pow(2,z),xScale=512/worldScale,yScale=-xScale,xOffset=512*x/worldScale,yOffset=512*(1-y/worldScale),modelMatrix=(new matrix4.y).scale([xScale,yScale,1]);props.autoHighlight=!1,this.context.viewport.resolution||(props.modelMatrix=modelMatrix,props.coordinateOrigin=[xOffset,yOffset,0],props.coordinateSystem=constants.COORDINATE_SYSTEM.CARTESIAN,props.extensions=[...props.extensions||[],new clip_extension.Z]);const subLayers=super.renderSubLayers(props);return!this.state.binary||subLayers instanceof geojson_layer.Z||log.Z.warn("renderSubLayers() must return GeoJsonLayer when using binary:true")(),subLayers}_updateAutoHighlight(info){const{uniqueIdProperty:uniqueIdProperty}=this.props,{hoveredFeatureId:hoveredFeatureId,hoveredFeatureLayerName:hoveredFeatureLayerName}=this.state,hoveredFeature=info.object;let newHoveredFeatureId=null,newHoveredFeatureLayerName=null;hoveredFeature&&(newHoveredFeatureId=getFeatureUniqueId(hoveredFeature,uniqueIdProperty),newHoveredFeatureLayerName=getFeatureLayerName(hoveredFeature));let{highlightColor:highlightColor}=this.props;"function"==typeof highlightColor&&(highlightColor=highlightColor(info)),hoveredFeatureId===newHoveredFeatureId&&hoveredFeatureLayerName===newHoveredFeatureLayerName||this.setState({highlightColor:highlightColor,hoveredFeatureId:newHoveredFeatureId,hoveredFeatureLayerName:newHoveredFeatureLayerName})}_isWGS84(){return Boolean(this.context.viewport.resolution)}getPickingInfo(params){const info=super.getPickingInfo(params);if(this.state.binary&&-1!==info.index){const{data:data}=params.sourceLayer.props;info.object=binaryToGeojson(data,{globalFeatureId:info.index})}return info.object&&!this._isWGS84()&&(info.object=transformTileCoordsToWGS84(info.object,info.tile.bbox,this.context.viewport)),info}getSubLayerPropsByTile(tile){return{highlightedObjectIndex:this.getHighlightedObjectIndex(tile),highlightColor:this.state.highlightColor}}getHighlightedObjectIndex(tile){const{hoveredFeatureId:hoveredFeatureId,hoveredFeatureLayerName:hoveredFeatureLayerName,binary:binary}=this.state,{uniqueIdProperty:uniqueIdProperty,highlightedFeatureId:highlightedFeatureId}=this.props,data=tile.content,isHighlighted=isFeatureIdDefined(highlightedFeatureId);if(!(isFeatureIdDefined(hoveredFeatureId)||isHighlighted))return-1;const featureIdToHighlight=isHighlighted?highlightedFeatureId:hoveredFeatureId;return Array.isArray(data)?data.findIndex((feature=>{const isMatchingId=getFeatureUniqueId(feature,uniqueIdProperty)===featureIdToHighlight,isMatchingLayer=isHighlighted||getFeatureLayerName(feature)===hoveredFeatureLayerName;return isMatchingId&&isMatchingLayer})):data&&binary?function findIndexBinary(data,uniqueIdProperty,featureId,layerName){for(const gt of GEOM_TYPES){const index=data[gt]&&findIndexByType(data[gt],uniqueIdProperty,featureId,layerName);if(index>=0)return index}return-1}(data,uniqueIdProperty,featureIdToHighlight,isHighlighted?"":hoveredFeatureLayerName):-1}_pickObjects(maxObjects){const{deck:deck,viewport:viewport}=this.context,width=viewport.width,height=viewport.height,x=viewport.x,y=viewport.y,layerIds=[this.id];return deck.pickObjects({x:x,y:y,width:width,height:height,layerIds:layerIds,maxObjects:maxObjects})}getRenderedFeatures(maxFeatures=null){const features=this._pickObjects(maxFeatures),featureCache=new Set,renderedFeatures=[];for(const f of features){const featureId=getFeatureUniqueId(f.object,this.props.uniqueIdProperty);void 0===featureId?renderedFeatures.push(f.object):featureCache.has(featureId)||(featureCache.add(featureId),renderedFeatures.push(f.object))}return renderedFeatures}_setWGS84PropertyForTiles(){this.state.tileset.selectedTiles.forEach((tile=>{tile.hasOwnProperty("dataInWGS84")||Object.defineProperty(tile,"dataInWGS84",{get:()=>{if(!tile.content)return null;if(this.state.binary&&Array.isArray(tile.content)&&!tile.content.length)return[];const{bbox:bbox}=tile;if(void 0===tile._contentWGS84&&function isGeoBoundingBox(v){return Number.isFinite(v.west)&&Number.isFinite(v.north)&&Number.isFinite(v.east)&&Number.isFinite(v.south)}(bbox)){const content=this.state.binary?binaryToGeojson(tile.content):tile.content;tile._contentWGS84=content.map((feature=>transformTileCoordsToWGS84(feature,bbox,this.context.viewport)))}return tile._contentWGS84}})}))}}function getFeatureUniqueId(feature,uniqueIdProperty){return feature.properties&&uniqueIdProperty?feature.properties[uniqueIdProperty]:"id"in feature?feature.id:void 0}function getFeatureLayerName(feature){return feature.properties?.layerName||null}function isFeatureIdDefined(value){return null!=value&&""!==value}function transformTileCoordsToWGS84(object,bbox,viewport){const feature={...object,geometry:{type:object.geometry.type}};return Object.defineProperty(feature.geometry,"coordinates",{get:()=>{const wgs84Geom=function transform(geometry,bbox,viewport){const projectedBbox=[viewport.projectFlat([bbox.west,bbox.north]),viewport.projectFlat([bbox.east,bbox.south])];return{...geometry,coordinates:availableTransformations[geometry.type](geometry.coordinates,projectedBbox,viewport)}}(object.geometry,bbox,viewport);return wgs84Geom.coordinates}}),feature}const BASE32_CODES_DICT={};for(let i=0;i<32;i++)BASE32_CODES_DICT["0123456789bcdefghjkmnpqrstuvwxyz".charAt(i)]=i;const MIN_LAT=-90,MAX_LAT=90,MIN_LON=-180,MAX_LON=180;function getGeohashPolygon(geohash){const[s,w,n,e]=function getGeohashBounds(geohash){let mid,isLon=!0,maxLat=MAX_LAT,minLat=MIN_LAT,maxLon=MAX_LON,minLon=MIN_LON,hashValue=0;for(let i=0,l=geohash.length;i<l;i++){const code=geohash[i].toLowerCase();hashValue=BASE32_CODES_DICT[code];for(let bits=4;bits>=0;bits--){const bit=hashValue>>bits&1;isLon?(mid=(maxLon+minLon)/2,1===bit?minLon=mid:maxLon=mid):(mid=(maxLat+minLat)/2,1===bit?minLat=mid:maxLat=mid),isLon=!isLon}}return[minLat,minLon,maxLat,maxLon]}(geohash);return[e,n,e,s,w,s,w,n,e,n]}const geohash_layer_defaultProps={getGeohash:{type:"accessor",value:d=>d.geohash}};class GeohashLayer extends GeoCellLayer{static{this.layerName="GeohashLayer"}static{this.defaultProps=geohash_layer_defaultProps}indexToBounds(){const{data:data,getGeohash:getGeohash}=this.props;return{data:data,_normalize:!1,positionFormat:"XY",getPolygon:(x,objectInfo)=>getGeohashPolygon(getGeohash(x,objectInfo))}}}},"./node_modules/@deck.gl/layers/dist/arc-layer/arc-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return ArcLayer}});var lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project32/project32.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometry/geometry.js"),model_model=__webpack_require__("./node_modules/@luma.gl/engine/dist/model/model.js");const DEFAULT_COLOR=[0,0,0,255],defaultProps={getSourcePosition:{type:"accessor",value:x=>x.sourcePosition},getTargetPosition:{type:"accessor",value:x=>x.targetPosition},getSourceColor:{type:"accessor",value:DEFAULT_COLOR},getTargetColor:{type:"accessor",value:DEFAULT_COLOR},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,numSegments:{type:"number",value:50,min:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class ArcLayer extends lib_layer.Z{static{this.layerName="ArcLayer"}static{this.defaultProps=defaultProps}getBounds(){return this.getAttributeManager()?.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME arc-layer-vertex-shader\nin vec3 positions;\nin vec4 instanceSourceColors;\nin vec4 instanceTargetColors;\nin vec3 instanceSourcePositions;\nin vec3 instanceSourcePositions64Low;\nin vec3 instanceTargetPositions;\nin vec3 instanceTargetPositions64Low;\nin vec3 instancePickingColors;\nin float instanceWidths;\nin float instanceHeights;\nin float instanceTilts;\nuniform bool greatCircle;\nuniform bool useShortestPath;\nuniform float numSegments;\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int widthUnits;\nout vec4 vColor;\nout vec2 uv;\nout float isValid;\nfloat paraboloid(float distance, float sourceZ, float targetZ, float ratio) {\nfloat deltaZ = targetZ - sourceZ;\nfloat dh = distance * instanceHeights;\nif (dh == 0.0) {\nreturn sourceZ + deltaZ * ratio;\n}\nfloat unitZ = deltaZ / dh;\nfloat p2 = unitZ * unitZ + 1.0;\nfloat dir = step(deltaZ, 0.0);\nfloat z0 = mix(sourceZ, targetZ, dir);\nfloat r = mix(ratio, 1.0 - ratio, dir);\nreturn sqrt(r * (p2 - r)) * dh + z0;\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\nvec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\ndir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\nreturn dir_screenspace * offset_direction * width / 2.0;\n}\nfloat getSegmentRatio(float index) {\nreturn smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\nvec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {\nfloat distance = length(source.xy - target.xy);\nfloat z = paraboloid(distance, source.z, target.z, segmentRatio);\nfloat tiltAngle = radians(instanceTilts);\nvec2 tiltDirection = normalize(target.xy - source.xy);\nvec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);\nreturn vec3(\nmix(source.xy, target.xy, segmentRatio) + tilt,\nz * cos(tiltAngle)\n);\n}\nfloat getAngularDist (vec2 source, vec2 target) {\nvec2 sourceRadians = radians(source);\nvec2 targetRadians = radians(target);\nvec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);\nvec2 shd_sq = sin_half_delta * sin_half_delta;\nfloat a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;\nreturn 2.0 * asin(sqrt(a));\n}\nvec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {\nvec2 lngLat;\nif(abs(angularDist - PI) < 0.001) {\nlngLat = (1.0 - t) * source.xy + t * target.xy;\n} else {\nfloat a = sin((1.0 - t) * angularDist);\nfloat b = sin(t * angularDist);\nvec3 p = source3D.yxz * a + target3D.yxz * b;\nlngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));\n}\nfloat z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);\nreturn vec3(lngLat, z);\n}\nvoid main(void) {\ngeometry.worldPosition = instanceSourcePositions;\ngeometry.worldPositionAlt = instanceTargetPositions;\nfloat segmentIndex = positions.x;\nfloat segmentRatio = getSegmentRatio(segmentIndex);\nfloat prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));\nfloat nextSegmentRatio = getSegmentRatio(min(numSegments - 1.0, segmentIndex + 1.0));\nfloat indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\nisValid = 1.0;\nuv = vec2(segmentRatio, positions.y);\ngeometry.uv = uv;\ngeometry.pickingColor = instancePickingColors;\nvec4 curr;\nvec4 next;\nvec3 source;\nvec3 target;\nif ((greatCircle || project_uProjectionMode == PROJECTION_MODE_GLOBE) && project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\nsource = project_globe_(vec3(instanceSourcePositions.xy, 0.0));\ntarget = project_globe_(vec3(instanceTargetPositions.xy, 0.0));\nfloat angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);\nvec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);\nvec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);\nvec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);\nif (abs(currPos.x - prevPos.x) > 180.0) {\nindexDir = -1.0;\nisValid = 0.0;\n} else if (abs(currPos.x - nextPos.x) > 180.0) {\nindexDir = 1.0;\nisValid = 0.0;\n}\nnextPos = indexDir < 0.0 ? prevPos : nextPos;\nnextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\nif (isValid == 0.0) {\nnextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;\nfloat t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);\ncurrPos = mix(currPos, nextPos, t);\nsegmentRatio = mix(segmentRatio, nextSegmentRatio, t);\n}\nvec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);\nvec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);\ncurr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);\nnext = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));\n} else {\nvec3 source_world = instanceSourcePositions;\nvec3 target_world = instanceTargetPositions;\nif (useShortestPath) {\nsource_world.x = mod(source_world.x + 180., 360.0) - 180.;\ntarget_world.x = mod(target_world.x + 180., 360.0) - 180.;\nfloat deltaLng = target_world.x - source_world.x;\nif (deltaLng > 180.) target_world.x -= 360.;\nif (deltaLng < -180.) source_world.x -= 360.;\n}\nsource = project_position(source_world, instanceSourcePositions64Low);\ntarget = project_position(target_world, instanceTargetPositions64Low);\nfloat antiMeridianX = 0.0;\nif (useShortestPath) {\nif (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\nantiMeridianX = -(project_uCoordinateOrigin.x + 180.) / 360. * TILE_SIZE;\n}\nfloat thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);\nif (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {\nisValid = 0.0;\nindexDir = sign(segmentRatio - thresholdRatio);\nsegmentRatio = thresholdRatio;\n}\n}\nnextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\nvec3 currPos = interpolateFlat(source, target, segmentRatio);\nvec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);\nif (useShortestPath) {\nif (nextPos.x < antiMeridianX) {\ncurrPos.x += TILE_SIZE;\nnextPos.x += TILE_SIZE;\n}\n}\ncurr = project_common_position_to_clipspace(vec4(currPos, 1.0));\nnext = project_common_position_to_clipspace(vec4(nextPos, 1.0));\ngeometry.position = vec4(currPos, 1.0);\n}\nfloat widthPixels = clamp(\nproject_size_to_pixel(instanceWidths * widthScale, widthUnits),\nwidthMinPixels, widthMaxPixels\n);\nvec3 offset = vec3(\ngetExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y, widthPixels),\n0.0);\nDECKGL_FILTER_SIZE(offset, geometry);\nDECKGL_FILTER_GL_POSITION(curr, geometry);\ngl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\nvec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);\nvColor = vec4(color.rgb, color.a * opacity);\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME arc-layer-fragment-shader\nprecision highp float;\nin vec4 vColor;\nin vec2 uv;\nin float isValid;\nout vec4 fragColor;\nvoid main(void) {\nif (isValid == 0.0) {\ndiscard;\n}\nfragColor = vColor;\ngeometry.uv = uv;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[project32.Z,picking.Z]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getSourceColor",defaultValue:DEFAULT_COLOR},instanceTargetColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getTargetColor",defaultValue:DEFAULT_COLOR},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}updateState(opts){super.updateState(opts);const{props:props,oldProps:oldProps,changeFlags:changeFlags}=opts;(changeFlags.extensionsChanged||props.numSegments!==oldProps.numSegments)&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:uniforms}){const{widthUnits:widthUnits,widthScale:widthScale,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels,greatCircle:greatCircle,wrapLongitude:wrapLongitude}=this.props,model=this.state.model;model.setUniforms(uniforms),model.setUniforms({greatCircle:greatCircle,widthUnits:constants.iI[widthUnits],widthScale:widthScale,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels,useShortestPath:wrapLongitude}),model.draw(this.context.renderPass)}_getModel(){const{numSegments:numSegments}=this.props;let positions=[];for(let i=0;i<numSegments;i++)positions=positions.concat([i,1,0,i,-1,0]);const model=new model_model.H(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new geometry.Z({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array(positions)}}}),isInstanced:!0});return model.setUniforms({numSegments:numSegments}),model}}},"./node_modules/@deck.gl/layers/dist/bitmap-layer/bitmap-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return BitmapLayer}});var constants=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project32/project32.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/picking/picking.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/model/model.js"),dist=__webpack_require__("./node_modules/@math.gl/web-mercator/dist/index.js"),common=__webpack_require__("./node_modules/@math.gl/core/dist/lib/common.js");const DEFAULT_INDICES=new Uint32Array([0,2,1,0,3,2]),DEFAULT_TEX_COORDS=new Float32Array([0,1,0,0,1,0,1,1]);function createMesh(bounds,resolution){if(!resolution)return function createQuad(bounds){const positions=new Float64Array(12);for(let i=0;i<bounds.length;i++)positions[3*i+0]=bounds[i][0],positions[3*i+1]=bounds[i][1],positions[3*i+2]=bounds[i][2]||0;return{vertexCount:6,positions:positions,indices:DEFAULT_INDICES,texCoords:DEFAULT_TEX_COORDS}}(bounds);const maxXSpan=Math.max(Math.abs(bounds[0][0]-bounds[3][0]),Math.abs(bounds[1][0]-bounds[2][0])),maxYSpan=Math.max(Math.abs(bounds[1][1]-bounds[0][1]),Math.abs(bounds[2][1]-bounds[3][1])),uCount=Math.ceil(maxXSpan/resolution)+1,vCount=Math.ceil(maxYSpan/resolution)+1,vertexCount=(uCount-1)*(vCount-1)*6,indices=new Uint32Array(vertexCount),texCoords=new Float32Array(uCount*vCount*2),positions=new Float64Array(uCount*vCount*3);let vertex=0,index=0;for(let u=0;u<uCount;u++){const ut=u/(uCount-1);for(let v=0;v<vCount;v++){const vt=v/(vCount-1),p=interpolateQuad(bounds,ut,vt);positions[3*vertex+0]=p[0],positions[3*vertex+1]=p[1],positions[3*vertex+2]=p[2]||0,texCoords[2*vertex+0]=ut,texCoords[2*vertex+1]=1-vt,u>0&&v>0&&(indices[index++]=vertex-vCount,indices[index++]=vertex-vCount-1,indices[index++]=vertex-1,indices[index++]=vertex-vCount,indices[index++]=vertex-1,indices[index++]=vertex),vertex++}}return{vertexCount:vertexCount,positions:positions,indices:indices,texCoords:texCoords}}function interpolateQuad(quad,ut,vt){return(0,common.t7)((0,common.t7)(quad[0],quad[1],vt),(0,common.t7)(quad[3],quad[2],vt),ut)}const defaultProps={image:{type:"image",value:null,async:!0},bounds:{type:"array",value:[1,0,0,1],compare:!0},_imageCoordinateSystem:constants.COORDINATE_SYSTEM.DEFAULT,desaturate:{type:"number",min:0,max:1,value:0},transparentColor:{type:"color",value:[0,0,0,0]},tintColor:{type:"color",value:[255,255,255]},textureParameters:{type:"object",ignore:!0,value:null}};class BitmapLayer extends lib_layer.Z{static{this.layerName="BitmapLayer"}static{this.defaultProps=defaultProps}getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME bitmap-layer-vertex-shader\n\nin vec2 texCoords;\nin vec3 positions;\nin vec3 positions64Low;\n\nout vec2 vTexCoord;\nout vec2 vTexPos;\n\nuniform float coordinateConversion;\n\nconst vec3 pickingColor = vec3(1.0, 0.0, 0.0);\n\nvoid main(void) {\n  geometry.worldPosition = positions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = pickingColor;\n\n  gl_Position = project_position_to_clipspace(positions, positions64Low, vec3(0.0), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTexCoord = texCoords;\n\n  if (coordinateConversion < -0.5) {\n    vTexPos = geometry.position.xy + project_uCommonOrigin.xy;\n  } else if (coordinateConversion > 0.5) {\n    vTexPos = geometry.worldPosition.xy;\n  }\n\n  vec4 color = vec4(0.0);\n  DECKGL_FILTER_COLOR(color, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME bitmap-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D bitmapTexture;\n\nin vec2 vTexCoord;\nin vec2 vTexPos;\n\nout vec4 fragColor;\n\nuniform float desaturate;\nuniform vec4 transparentColor;\nuniform vec3 tintColor;\nuniform float opacity;\n\nuniform float coordinateConversion;\nuniform vec4 bounds;\n\n/* projection utils */\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / PI / 2.0;\n\n// from degrees to Web Mercator\nvec2 lnglat_to_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\n// from Web Mercator to degrees\nvec2 mercator_to_lnglat(vec2 xy) {\n  xy /= WORLD_SCALE;\n  return degrees(vec2(\n    xy.x - PI,\n    atan(exp(xy.y - PI)) * 2.0 - PI * 0.5\n  ));\n}\n/* End projection utils */\n\n// apply desaturation\nvec3 color_desaturate(vec3 color) {\n  float luminance = (color.r + color.g + color.b) * 0.333333333;\n  return mix(color, vec3(luminance), desaturate);\n}\n\n// apply tint\nvec3 color_tint(vec3 color) {\n  return color * tintColor;\n}\n\n// blend with background color\nvec4 apply_opacity(vec3 color, float alpha) {\n  if (transparentColor.a == 0.0) {\n    return vec4(color, alpha);\n  }\n  float blendedAlpha = alpha + transparentColor.a * (1.0 - alpha);\n  float highLightRatio = alpha / blendedAlpha;\n  vec3 blendedRGB = mix(transparentColor.rgb, color, highLightRatio);\n  return vec4(blendedRGB, blendedAlpha);\n}\n\nvec2 getUV(vec2 pos) {\n  return vec2(\n    (pos.x - bounds[0]) / (bounds[2] - bounds[0]),\n    (pos.y - bounds[3]) / (bounds[1] - bounds[3])\n  );\n}\n\n\nvec3 packUVsIntoRGB(vec2 uv) {\n  // Extract the top 8 bits. We want values to be truncated down so we can add a fraction\n  vec2 uv8bit = floor(uv * 256.);\n\n  // Calculate the normalized remainders of u and v parts that do not fit into 8 bits\n  // Scale and clamp to 0-1 range\n  vec2 uvFraction = fract(uv * 256.);\n  vec2 uvFraction4bit = floor(uvFraction * 16.);\n\n  // Remainder can be encoded in blue channel, encode as 4 bits for pixel coordinates\n  float fractions = uvFraction4bit.x + uvFraction4bit.y * 16.;\n\n  return vec3(uv8bit, fractions) / 255.;\n}\n\n\nvoid main(void) {\n  vec2 uv = vTexCoord;\n  if (coordinateConversion < -0.5) {\n    vec2 lnglat = mercator_to_lnglat(vTexPos);\n    uv = getUV(lnglat);\n  } else if (coordinateConversion > 0.5) {\n    vec2 commonPos = lnglat_to_mercator(vTexPos);\n    uv = getUV(commonPos);\n  }\n  vec4 bitmapColor = texture(bitmapTexture, uv);\n\n  fragColor = apply_opacity(color_tint(color_desaturate(bitmapColor.rgb)), bitmapColor.a * opacity);\n\n  geometry.uv = uv;\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n\n  if (bool(picking.isActive) && !bool(picking.isAttribute)) {\n    // Since instance information is not used, we can use picking color for pixel index\n    fragColor.rgb = packUVsIntoRGB(uv);\n  }\n}\n",modules:[project32.Z,picking.Z]})}initializeState(){const attributeManager=this.getAttributeManager();attributeManager.remove(["instancePickingColors"]);attributeManager.add({indices:{size:1,isIndexed:!0,update:attribute=>attribute.value=this.state.mesh.indices,noAlloc:true},positions:{size:3,type:"float64",fp64:this.use64bitPositions(),update:attribute=>attribute.value=this.state.mesh.positions,noAlloc:true},texCoords:{size:2,update:attribute=>attribute.value=this.state.mesh.texCoords,noAlloc:true}})}updateState({props:props,oldProps:oldProps,changeFlags:changeFlags}){const attributeManager=this.getAttributeManager();if(changeFlags.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),attributeManager.invalidateAll()),props.bounds!==oldProps.bounds){const oldMesh=this.state.mesh,mesh=this._createMesh();this.state.model.setVertexCount(mesh.vertexCount);for(const key in mesh)oldMesh&&oldMesh[key]!==mesh[key]&&attributeManager.invalidate(key);this.setState({mesh:mesh,...this._getCoordinateUniforms()})}else props._imageCoordinateSystem!==oldProps._imageCoordinateSystem&&this.setState(this._getCoordinateUniforms())}getPickingInfo(params){const{image:image}=this.props,info=params.info;if(!info.color||!image)return info.bitmap=null,info;const{width:width,height:height}=image;info.index=0;const uv=function unpackUVsFromRGB(color){const[u,v,fracUV]=color;return[(u+(15&fracUV)/16)/256,(v+(240&fracUV)/256)/256]}(info.color);return info.bitmap={size:{width:width,height:height},uv:uv,pixel:[Math.floor(uv[0]*width),Math.floor(uv[1]*height)]},info}disablePickingIndex(){this.setState({disablePicking:!0})}restorePickingColors(){this.setState({disablePicking:!1})}_updateAutoHighlight(info){super._updateAutoHighlight({...info,color:this.encodePickingColor(0)})}_createMesh(){const{bounds:bounds}=this.props;let normalizedBounds=bounds;return isRectangularBounds(bounds)&&(normalizedBounds=[[bounds[0],bounds[1]],[bounds[0],bounds[3]],[bounds[2],bounds[3]],[bounds[2],bounds[1]]]),createMesh(normalizedBounds,this.context.viewport.resolution)}_getModel(){return new model.H(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),topology:"triangle-list",isInstanced:!1})}draw(opts){const{uniforms:uniforms,moduleParameters:moduleParameters}=opts,{model:model,coordinateConversion:coordinateConversion,bounds:bounds,disablePicking:disablePicking}=this.state,{image:image,desaturate:desaturate,transparentColor:transparentColor,tintColor:tintColor}=this.props;moduleParameters.picking.isActive&&disablePicking||image&&model&&(model.setUniforms(uniforms),model.setBindings({bitmapTexture:image}),model.setUniforms({desaturate:desaturate,transparentColor:transparentColor.map((x=>x/255)),tintColor:tintColor.slice(0,3).map((x=>x/255)),coordinateConversion:coordinateConversion,bounds:bounds}),model.draw(this.context.renderPass))}_getCoordinateUniforms(){const{LNGLAT:LNGLAT,CARTESIAN:CARTESIAN,DEFAULT:DEFAULT}=constants.COORDINATE_SYSTEM;let{_imageCoordinateSystem:imageCoordinateSystem}=this.props;if(imageCoordinateSystem!==DEFAULT){const{bounds:bounds}=this.props;if(!isRectangularBounds(bounds))throw new Error("_imageCoordinateSystem only supports rectangular bounds");const defaultImageCoordinateSystem=this.context.viewport.resolution?LNGLAT:CARTESIAN;if(imageCoordinateSystem=imageCoordinateSystem===LNGLAT?LNGLAT:CARTESIAN,imageCoordinateSystem===LNGLAT&&defaultImageCoordinateSystem===CARTESIAN)return{coordinateConversion:-1,bounds:bounds};if(imageCoordinateSystem===CARTESIAN&&defaultImageCoordinateSystem===LNGLAT){const bottomLeft=(0,dist.w5)([bounds[0],bounds[1]]),topRight=(0,dist.w5)([bounds[2],bounds[3]]);return{coordinateConversion:1,bounds:[bottomLeft[0],bottomLeft[1],topRight[0],topRight[1]]}}}return{coordinateConversion:0,bounds:[0,0,0,0]}}}function isRectangularBounds(bounds){return Number.isFinite(bounds[0])}},"./node_modules/@deck.gl/layers/dist/column-layer/column-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return ColumnLayer}});var lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project32/project32.js"),phong_lighting=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/modules-webgl1/lighting/phong-lighting/phong-lighting.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/model/model.js"),log=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/log.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometry/geometry.js"),dist=__webpack_require__("./node_modules/@math.gl/polygon/dist/index.js");class ColumnGeometry extends geometry.Z{constructor(props){const{indices:indices,attributes:attributes}=function tesselateColumn(props){const{radius:radius,height:height=1,nradial:nradial=10}=props;let{vertices:vertices}=props;vertices&&(log.Z.assert(vertices.length>=nradial),vertices=vertices.flatMap((v=>[v[0],v[1]])),(0,dist.Ny)(vertices,dist.wG.COUNTER_CLOCKWISE));const isExtruded=height>0,vertsAroundEdge=nradial+1,numVertices=isExtruded?3*vertsAroundEdge+1:nradial,stepAngle=2*Math.PI/nradial,indices=new Uint16Array(isExtruded?3*nradial*2:0),positions=new Float32Array(3*numVertices),normals=new Float32Array(3*numVertices);let i=0;if(isExtruded){for(let j=0;j<vertsAroundEdge;j++){const a=j*stepAngle,vertexIndex=j%nradial,sin=Math.sin(a),cos=Math.cos(a);for(let k=0;k<2;k++)positions[i+0]=vertices?vertices[2*vertexIndex]:cos*radius,positions[i+1]=vertices?vertices[2*vertexIndex+1]:sin*radius,positions[i+2]=(.5-k)*height,normals[i+0]=vertices?vertices[2*vertexIndex]:cos,normals[i+1]=vertices?vertices[2*vertexIndex+1]:sin,i+=3}positions[i+0]=positions[i-3],positions[i+1]=positions[i-2],positions[i+2]=positions[i-1],i+=3}for(let j=isExtruded?0:1;j<vertsAroundEdge;j++){const v=Math.floor(j/2)*Math.sign(.5-j%2),a=v*stepAngle,vertexIndex=(v+nradial)%nradial,sin=Math.sin(a),cos=Math.cos(a);positions[i+0]=vertices?vertices[2*vertexIndex]:cos*radius,positions[i+1]=vertices?vertices[2*vertexIndex+1]:sin*radius,positions[i+2]=height/2,normals[i+2]=1,i+=3}if(isExtruded){let index=0;for(let j=0;j<nradial;j++)indices[index++]=2*j+0,indices[index++]=2*j+2,indices[index++]=2*j+0,indices[index++]=2*j+1,indices[index++]=2*j+1,indices[index++]=2*j+3}return{indices:indices,attributes:{POSITION:{size:3,value:positions},NORMAL:{size:3,value:normals}}}}(props);super({...props,indices:indices,attributes:attributes})}}const DEFAULT_COLOR=[0,0,0,255],defaultProps={diskResolution:{type:"number",min:4,value:20},vertices:null,radius:{type:"number",min:0,value:1e3},angle:{type:"number",value:0},offset:{type:"array",value:[0,0]},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},radiusUnits:"meters",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,extruded:!0,wireframe:!1,filled:!0,stroked:!1,flatShading:!1,getPosition:{type:"accessor",value:x=>x.position},getFillColor:{type:"accessor",value:DEFAULT_COLOR},getLineColor:{type:"accessor",value:DEFAULT_COLOR},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0,getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class ColumnLayer extends lib_layer.Z{static{this.layerName="ColumnLayer"}static{this.defaultProps=defaultProps}getShaders(){const defines={},{flatShading:flatShading}=this.props;return flatShading&&(defines.FLAT_SHADING=1),super.getShaders({vs:"#version 300 es\n#define SHADER_NAME column-layer-vertex-shader\nin vec3 positions;\nin vec3 normals;\nin vec3 instancePositions;\nin float instanceElevations;\nin vec3 instancePositions64Low;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin float instanceStrokeWidths;\nin vec3 instancePickingColors;\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform bool extruded;\nuniform bool stroked;\nuniform bool isStroke;\nuniform float coverage;\nuniform float elevationScale;\nuniform float edgeDistance;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int radiusUnits;\nuniform int widthUnits;\nout vec4 vColor;\n#ifdef FLAT_SHADING\nout vec4 position_commonspace;\n#endif\nvoid main(void) {\ngeometry.worldPosition = instancePositions;\nvec4 color = isStroke ? instanceLineColors : instanceFillColors;\nmat2 rotationMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\nfloat elevation = 0.0;\nfloat strokeOffsetRatio = 1.0;\nif (extruded) {\nelevation = instanceElevations * (positions.z + 1.0) / 2.0 * elevationScale;\n} else if (stroked) {\nfloat widthPixels = clamp(\nproject_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\nwidthMinPixels, widthMaxPixels) / 2.0;\nfloat halfOffset = project_pixel_size(widthPixels) / project_size(edgeDistance * coverage * radius);\nif (isStroke) {\nstrokeOffsetRatio -= sign(positions.z) * halfOffset;\n} else {\nstrokeOffsetRatio -= halfOffset;\n}\n}\nfloat shouldRender = float(color.a > 0.0 && instanceElevations >= 0.0);\nfloat dotRadius = radius * coverage * shouldRender;\ngeometry.pickingColor = instancePickingColors;\nvec3 centroidPosition = vec3(instancePositions.xy, instancePositions.z + elevation);\nvec3 centroidPosition64Low = instancePositions64Low;\nvec2 offset = (rotationMatrix * positions.xy * strokeOffsetRatio + offset) * dotRadius;\nif (radiusUnits == UNIT_METERS) {\noffset = project_size(offset);\n}\nvec3 pos = vec3(offset, 0.);\nDECKGL_FILTER_SIZE(pos, geometry);\ngl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);\ngeometry.normal = project_normal(vec3(rotationMatrix * normals.xy, normals.z));\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nif (extruded && !isStroke) {\n#ifdef FLAT_SHADING\nposition_commonspace = geometry.position;\nvColor = vec4(color.rgb, color.a * opacity);\n#else\nvec3 lightColor = lighting_getLightColor(color.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\nvColor = vec4(lightColor, color.a * opacity);\n#endif\n} else {\nvColor = vec4(color.rgb, color.a * opacity);\n}\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME column-layer-fragment-shader\nprecision highp float;\nuniform vec3 project_uCameraPosition;\nuniform bool extruded;\nuniform bool isStroke;\nout vec4 fragColor;\nin vec4 vColor;\n#ifdef FLAT_SHADING\nin vec4 position_commonspace;\n#endif\nvoid main(void) {\nfragColor = vColor;\ngeometry.uv = vec2(0.);\n#ifdef FLAT_SHADING\nif (extruded && !isStroke && !bool(picking.isActive)) {\nvec3 normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\nfragColor.rgb = lighting_getLightColor(vColor.rgb, project_uCameraPosition, position_commonspace.xyz, normal);\n}\n#endif\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",defines:defines,modules:[project32.Z,flatShading?phong_lighting.s:phong_lighting.N,picking.Z]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instanceFillColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getFillColor",defaultValue:DEFAULT_COLOR},instanceLineColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getLineColor",defaultValue:DEFAULT_COLOR},instanceStrokeWidths:{size:1,accessor:"getLineWidth",transition:!0}})}updateState(params){super.updateState(params);const{props:props,oldProps:oldProps,changeFlags:changeFlags}=params,regenerateModels=changeFlags.extensionsChanged||props.flatShading!==oldProps.flatShading;regenerateModels&&(this.state.models?.forEach((model=>model.destroy())),this.setState(this._getModels()),this.getAttributeManager().invalidateAll());const instanceCount=this.getNumInstances();this.state.fillModel.setInstanceCount(instanceCount),this.state.wireframeModel.setInstanceCount(instanceCount),(regenerateModels||props.diskResolution!==oldProps.diskResolution||props.vertices!==oldProps.vertices||(props.extruded||props.stroked)!==(oldProps.extruded||oldProps.stroked))&&this._updateGeometry(props)}getGeometry(diskResolution,vertices,hasThinkness){const geometry=new ColumnGeometry({radius:1,height:hasThinkness?2:0,vertices:vertices,nradial:diskResolution});let meanVertexDistance=0;if(vertices)for(let i=0;i<diskResolution;i++){const p=vertices[i];meanVertexDistance+=Math.sqrt(p[0]*p[0]+p[1]*p[1])/diskResolution}else meanVertexDistance=1;return this.setState({edgeDistance:Math.cos(Math.PI/diskResolution)*meanVertexDistance}),geometry}_getModels(){const shaders=this.getShaders(),bufferLayout=this.getAttributeManager().getBufferLayouts(),fillModel=new model.H(this.context.device,{...shaders,id:`${this.props.id}-fill`,bufferLayout:bufferLayout,isInstanced:!0}),wireframeModel=new model.H(this.context.device,{...shaders,id:`${this.props.id}-wireframe`,bufferLayout:bufferLayout,isInstanced:!0});return{fillModel:fillModel,wireframeModel:wireframeModel,models:[wireframeModel,fillModel]}}_updateGeometry({diskResolution:diskResolution,vertices:vertices,extruded:extruded,stroked:stroked}){const geometry=this.getGeometry(diskResolution,vertices,extruded||stroked);this.setState({fillVertexCount:geometry.attributes.POSITION.value.length/3});const fillModel=this.state.fillModel,wireframeModel=this.state.wireframeModel;fillModel.setGeometry(geometry),fillModel.setTopology("triangle-strip"),fillModel.setIndexBuffer(null),wireframeModel.setGeometry(geometry),wireframeModel.setTopology("line-list")}draw({uniforms:uniforms}){const{lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels,radiusUnits:radiusUnits,elevationScale:elevationScale,extruded:extruded,filled:filled,stroked:stroked,wireframe:wireframe,offset:offset,coverage:coverage,radius:radius,angle:angle}=this.props,fillModel=this.state.fillModel,wireframeModel=this.state.wireframeModel,{fillVertexCount:fillVertexCount,edgeDistance:edgeDistance}=this.state,renderUniforms={...uniforms,radius:radius,angle:angle/180*Math.PI,offset:offset,extruded:extruded,stroked:stroked,coverage:coverage,elevationScale:elevationScale,edgeDistance:edgeDistance,radiusUnits:constants.iI[radiusUnits],widthUnits:constants.iI[lineWidthUnits],widthScale:lineWidthScale,widthMinPixels:lineWidthMinPixels,widthMaxPixels:lineWidthMaxPixels};extruded&&wireframe&&(wireframeModel.setUniforms(renderUniforms),wireframeModel.setUniforms({isStroke:!0}),wireframeModel.draw(this.context.renderPass)),fillModel.setUniforms(renderUniforms),filled&&(fillModel.setVertexCount(fillVertexCount),fillModel.setUniforms({isStroke:!1}),fillModel.draw(this.context.renderPass)),!extruded&&stroked&&(fillModel.setVertexCount(2*fillVertexCount/3),fillModel.setUniforms({isStroke:!0}),fillModel.draw(this.context.renderPass))}}},"./node_modules/@deck.gl/layers/dist/column-layer/grid-cell-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return GridCellLayer}});var _deck_gl_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js"),_luma_gl_engine__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometries/cube-geometry.js"),_column_layer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/layers/dist/column-layer/column-layer.js");const defaultProps={cellSize:{type:"number",min:0,value:1e3},offset:{type:"array",value:[1,1]}};class GridCellLayer extends _column_layer_js__WEBPACK_IMPORTED_MODULE_0__.Z{static{this.layerName="GridCellLayer"}static{this.defaultProps=defaultProps}_updateGeometry(){const geometry=new _luma_gl_engine__WEBPACK_IMPORTED_MODULE_1__.uS;this.state.fillModel.setGeometry(geometry)}draw({uniforms:uniforms}){const{elevationScale:elevationScale,extruded:extruded,offset:offset,coverage:coverage,cellSize:cellSize,angle:angle,radiusUnits:radiusUnits}=this.props,fillModel=this.state.fillModel;fillModel.setUniforms(uniforms),fillModel.setUniforms({radius:cellSize/2,radiusUnits:_deck_gl_core__WEBPACK_IMPORTED_MODULE_2__.iI[radiusUnits],angle:angle,offset:offset,extruded:extruded,coverage:coverage,elevationScale:elevationScale,edgeDistance:1,isStroke:!1}),fillModel.draw(this.context.renderPass)}}},"./node_modules/@deck.gl/layers/dist/geojson-layer/geojson-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return GeoJsonLayer}});var composite_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/composite-layer.js"),utils=__webpack_require__("./node_modules/@deck.gl/layers/dist/utils.js");var icon_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/icon-layer/icon-layer.js"),scatterplot_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/scatterplot-layer/scatterplot-layer.js"),text_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/text-layer/text-layer.js"),path_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/path-layer/path-layer.js"),solid_polygon_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/solid-polygon-layer/solid-polygon-layer.js");const POINT_LAYER={circle:{type:scatterplot_layer.Z,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:icon_layer.Z,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:text_layer.Z,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},LINE_LAYER={type:path_layer.Z,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},POLYGON_LAYER={type:solid_polygon_layer.Z,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",_full3d:"_full3d",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function getDefaultProps({type:type,props:props}){const result={};for(const key in props)result[key]=type.defaultProps[props[key]];return result}function forwardProps(layer,mapping){const{transitions:transitions,updateTriggers:updateTriggers}=layer.props,result={updateTriggers:{},transitions:transitions&&{getPosition:transitions.geometry}};for(const sourceKey in mapping){const targetKey=mapping[sourceKey];let value=layer.props[sourceKey];sourceKey.startsWith("get")&&(value=layer.getSubLayerAccessor(value),result.updateTriggers[targetKey]=updateTriggers[sourceKey],transitions&&(result.transitions[targetKey]=transitions[sourceKey])),result[targetKey]=value}return result}var log=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/log.js");function separateGeojsonFeatures(features,wrapFeature,dataRange={}){const separated={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:startRow=0,endRow:endRow=features.length}=dataRange;for(let featureIndex=startRow;featureIndex<endRow;featureIndex++){const feature=features[featureIndex],{geometry:geometry}=feature;if(geometry)if("GeometryCollection"===geometry.type){log.Z.assert(Array.isArray(geometry.geometries),"GeoJSON does not have geometries array");const{geometries:geometries}=geometry;for(let i=0;i<geometries.length;i++){separateGeometry(geometries[i],separated,wrapFeature,feature,featureIndex)}}else separateGeometry(geometry,separated,wrapFeature,feature,featureIndex)}return separated}function separateGeometry(geometry,separated,wrapFeature,sourceFeature,sourceFeatureIndex){const{type:type,coordinates:coordinates}=geometry,{pointFeatures:pointFeatures,lineFeatures:lineFeatures,polygonFeatures:polygonFeatures,polygonOutlineFeatures:polygonOutlineFeatures}=separated;if(function validateGeometry(type,coordinates){let nestLevel=COORDINATE_NEST_LEVEL[type];log.Z.assert(nestLevel,`Unknown GeoJSON type ${type}`);for(;coordinates&&--nestLevel>0;)coordinates=coordinates[0];return coordinates&&Number.isFinite(coordinates[0])}(type,coordinates))switch(type){case"Point":pointFeatures.push(wrapFeature({geometry:geometry},sourceFeature,sourceFeatureIndex));break;case"MultiPoint":coordinates.forEach((point=>{pointFeatures.push(wrapFeature({geometry:{type:"Point",coordinates:point}},sourceFeature,sourceFeatureIndex))}));break;case"LineString":lineFeatures.push(wrapFeature({geometry:geometry},sourceFeature,sourceFeatureIndex));break;case"MultiLineString":coordinates.forEach((path=>{lineFeatures.push(wrapFeature({geometry:{type:"LineString",coordinates:path}},sourceFeature,sourceFeatureIndex))}));break;case"Polygon":polygonFeatures.push(wrapFeature({geometry:geometry},sourceFeature,sourceFeatureIndex)),coordinates.forEach((path=>{polygonOutlineFeatures.push(wrapFeature({geometry:{type:"LineString",coordinates:path}},sourceFeature,sourceFeatureIndex))}));break;case"MultiPolygon":coordinates.forEach((polygon=>{polygonFeatures.push(wrapFeature({geometry:{type:"Polygon",coordinates:polygon}},sourceFeature,sourceFeatureIndex)),polygon.forEach((path=>{polygonOutlineFeatures.push(wrapFeature({geometry:{type:"LineString",coordinates:path}},sourceFeature,sourceFeatureIndex))}))}))}else log.Z.warn(`${type} coordinates are malformed`)()}const COORDINATE_NEST_LEVEL={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function getCoordinates(f){return f.geometry.coordinates}function createLayerPropsFromBinary(geojsonBinary,encodePickingColor){const layerProps={points:{},lines:{},polygons:{},polygonsOutline:{}},{points:points,lines:lines,polygons:polygons}=geojsonBinary,customPickingColors=function calculatePickingColors(geojsonBinary,encodePickingColor){const pickingColors={points:null,lines:null,polygons:null};for(const key in pickingColors){const featureIds=geojsonBinary[key].globalFeatureIds.value;pickingColors[key]=new Uint8ClampedArray(3*featureIds.length);const pickingColor=[];for(let i=0;i<featureIds.length;i++)encodePickingColor(featureIds[i],pickingColor),pickingColors[key][3*i+0]=pickingColor[0],pickingColors[key][3*i+1]=pickingColor[1],pickingColors[key][3*i+2]=pickingColor[2]}return pickingColors}(geojsonBinary,encodePickingColor);return layerProps.points.data={length:points.positions.value.length/points.positions.size,attributes:{...points.attributes,getPosition:points.positions,instancePickingColors:{size:3,value:customPickingColors.points}},properties:points.properties,numericProps:points.numericProps,featureIds:points.featureIds},layerProps.lines.data={length:lines.pathIndices.value.length-1,startIndices:lines.pathIndices.value,attributes:{...lines.attributes,getPath:lines.positions,instancePickingColors:{size:3,value:customPickingColors.lines}},properties:lines.properties,numericProps:lines.numericProps,featureIds:lines.featureIds},layerProps.lines._pathType="open",layerProps.polygons.data={length:polygons.polygonIndices.value.length-1,startIndices:polygons.polygonIndices.value,attributes:{...polygons.attributes,getPolygon:polygons.positions,pickingColors:{size:3,value:customPickingColors.polygons}},properties:polygons.properties,numericProps:polygons.numericProps,featureIds:polygons.featureIds},layerProps.polygons._normalize=!1,polygons.triangles&&(layerProps.polygons.data.attributes.indices=polygons.triangles.value),layerProps.polygonsOutline.data={length:polygons.primitivePolygonIndices.value.length-1,startIndices:polygons.primitivePolygonIndices.value,attributes:{...polygons.attributes,getPath:polygons.positions,instancePickingColors:{size:3,value:customPickingColors.polygons}},properties:polygons.properties,numericProps:polygons.numericProps,featureIds:polygons.featureIds},layerProps.polygonsOutline._pathType="open",layerProps}const FEATURE_TYPES=["points","linestrings","polygons"],defaultProps={...getDefaultProps(POINT_LAYER.circle),...getDefaultProps(POINT_LAYER.icon),...getDefaultProps(POINT_LAYER.text),...getDefaultProps(LINE_LAYER),...getDefaultProps(POLYGON_LAYER),stroked:!0,filled:!0,extruded:!1,wireframe:!1,_full3d:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:f=>f.properties.icon},getText:{type:"accessor",value:f=>f.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class GeoJsonLayer extends composite_layer.Z{static{this.layerName="GeoJsonLayer"}static{this.defaultProps=defaultProps}initializeState(){this.state={layerProps:{},features:{},featuresDiff:{}}}updateState({props:props,changeFlags:changeFlags}){if(!changeFlags.dataChanged)return;const{data:data}=this.props,binary=data&&"points"in data&&"polygons"in data&&"lines"in data;this.setState({binary:binary}),binary?this._updateStateBinary({props:props,changeFlags:changeFlags}):this._updateStateJSON({props:props,changeFlags:changeFlags})}_updateStateBinary({props:props,changeFlags:changeFlags}){const layerProps=createLayerPropsFromBinary(props.data,this.encodePickingColor);this.setState({layerProps:layerProps})}_updateStateJSON({props:props,changeFlags:changeFlags}){const features=function getGeojsonFeatures(geojson){if(Array.isArray(geojson))return geojson;switch(log.Z.assert(geojson.type,"GeoJSON does not have type"),geojson.type){case"Feature":return[geojson];case"FeatureCollection":return log.Z.assert(Array.isArray(geojson.features),"GeoJSON does not have features array"),geojson.features;default:return[{geometry:geojson}]}}(props.data),wrapFeature=this.getSubLayerRow.bind(this);let newFeatures={};const featuresDiff={};if(Array.isArray(changeFlags.dataChanged)){const oldFeatures=this.state.features;for(const key in oldFeatures)newFeatures[key]=oldFeatures[key].slice(),featuresDiff[key]=[];for(const dataRange of changeFlags.dataChanged){const partialFeatures=separateGeojsonFeatures(features,wrapFeature,dataRange);for(const key in oldFeatures)featuresDiff[key].push((0,utils.b)({data:newFeatures[key],getIndex:f=>f.__source.index,dataRange:dataRange,replace:partialFeatures[key]}))}}else newFeatures=separateGeojsonFeatures(features,wrapFeature);const layerProps=function createLayerPropsFromFeatures(features,featuresDiff){const layerProps={points:{},lines:{},polygons:{},polygonsOutline:{}},{pointFeatures:pointFeatures,lineFeatures:lineFeatures,polygonFeatures:polygonFeatures,polygonOutlineFeatures:polygonOutlineFeatures}=features;return layerProps.points.data=pointFeatures,layerProps.points._dataDiff=featuresDiff.pointFeatures&&(()=>featuresDiff.pointFeatures),layerProps.points.getPosition=getCoordinates,layerProps.lines.data=lineFeatures,layerProps.lines._dataDiff=featuresDiff.lineFeatures&&(()=>featuresDiff.lineFeatures),layerProps.lines.getPath=getCoordinates,layerProps.polygons.data=polygonFeatures,layerProps.polygons._dataDiff=featuresDiff.polygonFeatures&&(()=>featuresDiff.polygonFeatures),layerProps.polygons.getPolygon=getCoordinates,layerProps.polygonsOutline.data=polygonOutlineFeatures,layerProps.polygonsOutline._dataDiff=featuresDiff.polygonOutlineFeatures&&(()=>featuresDiff.polygonOutlineFeatures),layerProps.polygonsOutline.getPath=getCoordinates,layerProps}(newFeatures,featuresDiff);this.setState({features:newFeatures,featuresDiff:featuresDiff,layerProps:layerProps})}getPickingInfo(params){const info=super.getPickingInfo(params),{index:index,sourceLayer:sourceLayer}=info;return info.featureType=FEATURE_TYPES.find((ft=>sourceLayer.id.startsWith(`${this.id}-${ft}-`))),index>=0&&sourceLayer.id.startsWith(`${this.id}-points-text`)&&this.state.binary&&(info.index=this.props.data.points.globalFeatureIds.value[index]),info}_updateAutoHighlight(info){const pointLayerIdPrefix=`${this.id}-points-`,sourceIsPoints="points"===info.featureType;for(const layer of this.getSubLayers())layer.id.startsWith(pointLayerIdPrefix)===sourceIsPoints&&layer.updateAutoHighlight(info)}_renderPolygonLayer(){const{extruded:extruded,wireframe:wireframe}=this.props,{layerProps:layerProps}=this.state,id="polygons-fill",PolygonFillLayer=this.shouldRenderSubLayer(id,layerProps.polygons?.data)&&this.getSubLayerClass(id,POLYGON_LAYER.type);if(PolygonFillLayer){const forwardedProps=forwardProps(this,POLYGON_LAYER.props),useLineColor=extruded&&wireframe;return useLineColor||delete forwardedProps.getLineColor,forwardedProps.updateTriggers.lineColors=useLineColor,new PolygonFillLayer(forwardedProps,this.getSubLayerProps({id:id,updateTriggers:forwardedProps.updateTriggers}),layerProps.polygons)}return null}_renderLineLayers(){const{extruded:extruded,stroked:stroked}=this.props,{layerProps:layerProps}=this.state,PolygonStrokeLayer=!extruded&&stroked&&this.shouldRenderSubLayer("polygons-stroke",layerProps.polygonsOutline?.data)&&this.getSubLayerClass("polygons-stroke",LINE_LAYER.type),LineStringsLayer=this.shouldRenderSubLayer("linestrings",layerProps.lines?.data)&&this.getSubLayerClass("linestrings",LINE_LAYER.type);if(PolygonStrokeLayer||LineStringsLayer){const forwardedProps=forwardProps(this,LINE_LAYER.props);return[PolygonStrokeLayer&&new PolygonStrokeLayer(forwardedProps,this.getSubLayerProps({id:"polygons-stroke",updateTriggers:forwardedProps.updateTriggers}),layerProps.polygonsOutline),LineStringsLayer&&new LineStringsLayer(forwardedProps,this.getSubLayerProps({id:"linestrings",updateTriggers:forwardedProps.updateTriggers}),layerProps.lines)]}return null}_renderPointLayers(){const{pointType:pointType}=this.props,{layerProps:layerProps,binary:binary}=this.state;let{highlightedObjectIndex:highlightedObjectIndex}=this.props;!binary&&Number.isFinite(highlightedObjectIndex)&&(highlightedObjectIndex=layerProps.points.data.findIndex((d=>d.__source.index===highlightedObjectIndex)));const types=new Set(pointType.split("+")),pointLayers=[];for(const type of types){const id=`points-${type}`,PointLayerMapping=POINT_LAYER[type],PointsLayer=PointLayerMapping&&this.shouldRenderSubLayer(id,layerProps.points?.data)&&this.getSubLayerClass(id,PointLayerMapping.type);if(PointsLayer){const forwardedProps=forwardProps(this,PointLayerMapping.props);let pointsLayerProps=layerProps.points;if("text"===type&&binary){const{instancePickingColors:instancePickingColors,...rest}=pointsLayerProps.data.attributes;pointsLayerProps={...pointsLayerProps,data:{...pointsLayerProps.data,attributes:rest}}}pointLayers.push(new PointsLayer(forwardedProps,this.getSubLayerProps({id:id,updateTriggers:forwardedProps.updateTriggers,highlightedObjectIndex:highlightedObjectIndex}),pointsLayerProps))}}return pointLayers}renderLayers(){const{extruded:extruded}=this.props,polygonFillLayer=this._renderPolygonLayer();return[!extruded&&polygonFillLayer,this._renderLineLayers(),this._renderPointLayers(),extruded&&polygonFillLayer]}getSubLayerAccessor(accessor){const{binary:binary}=this.state;return binary&&"function"==typeof accessor?(object,info)=>{const{data:data,index:index}=info,feature=function binaryToFeatureForAccesor(data,index){if(!data)return null;const featureIndex="startIndices"in data?data.startIndices[index]:index,geometryIndex=data.featureIds.value[featureIndex];return-1!==featureIndex?function getPropertiesForIndex(data,propertiesIndex,numericPropsIndex){const feature={properties:{...data.properties[propertiesIndex]}};for(const prop in data.numericProps)feature.properties[prop]=data.numericProps[prop].value[numericPropsIndex];return feature}(data,geometryIndex,featureIndex):null}(data,index);return accessor(feature,info)}:super.getSubLayerAccessor(accessor)}}},"./node_modules/@deck.gl/layers/dist/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ArcLayer:function(){return _arc_layer_arc_layer_js__WEBPACK_IMPORTED_MODULE_0__.Z},BitmapLayer:function(){return _bitmap_layer_bitmap_layer_js__WEBPACK_IMPORTED_MODULE_1__.Z},ColumnLayer:function(){return _column_layer_column_layer_js__WEBPACK_IMPORTED_MODULE_6__.Z},GeoJsonLayer:function(){return _geojson_layer_geojson_layer_js__WEBPACK_IMPORTED_MODULE_10__.Z},GridCellLayer:function(){return _column_layer_grid_cell_layer_js__WEBPACK_IMPORTED_MODULE_7__.Z},IconLayer:function(){return _icon_layer_icon_layer_js__WEBPACK_IMPORTED_MODULE_2__.Z},LineLayer:function(){return _line_layer_line_layer_js__WEBPACK_IMPORTED_MODULE_3__.Z},PathLayer:function(){return _path_layer_path_layer_js__WEBPACK_IMPORTED_MODULE_8__.Z},PointCloudLayer:function(){return _point_cloud_layer_point_cloud_layer_js__WEBPACK_IMPORTED_MODULE_4__.Z},PolygonLayer:function(){return _polygon_layer_polygon_layer_js__WEBPACK_IMPORTED_MODULE_9__.Z},ScatterplotLayer:function(){return _scatterplot_layer_scatterplot_layer_js__WEBPACK_IMPORTED_MODULE_5__.Z},SolidPolygonLayer:function(){return _solid_polygon_layer_solid_polygon_layer_js__WEBPACK_IMPORTED_MODULE_12__.Z},TextLayer:function(){return _text_layer_text_layer_js__WEBPACK_IMPORTED_MODULE_11__.Z},_MultiIconLayer:function(){return _text_layer_multi_icon_layer_multi_icon_layer_js__WEBPACK_IMPORTED_MODULE_13__.Z},_TextBackgroundLayer:function(){return _text_layer_text_background_layer_text_background_layer_js__WEBPACK_IMPORTED_MODULE_14__.Z}});var _arc_layer_arc_layer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/layers/dist/arc-layer/arc-layer.js"),_bitmap_layer_bitmap_layer_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/layers/dist/bitmap-layer/bitmap-layer.js"),_icon_layer_icon_layer_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/layers/dist/icon-layer/icon-layer.js"),_line_layer_line_layer_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@deck.gl/layers/dist/line-layer/line-layer.js"),_point_cloud_layer_point_cloud_layer_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@deck.gl/layers/dist/point-cloud-layer/point-cloud-layer.js"),_scatterplot_layer_scatterplot_layer_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@deck.gl/layers/dist/scatterplot-layer/scatterplot-layer.js"),_column_layer_column_layer_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@deck.gl/layers/dist/column-layer/column-layer.js"),_column_layer_grid_cell_layer_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@deck.gl/layers/dist/column-layer/grid-cell-layer.js"),_path_layer_path_layer_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@deck.gl/layers/dist/path-layer/path-layer.js"),_polygon_layer_polygon_layer_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@deck.gl/layers/dist/polygon-layer/polygon-layer.js"),_geojson_layer_geojson_layer_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@deck.gl/layers/dist/geojson-layer/geojson-layer.js"),_text_layer_text_layer_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@deck.gl/layers/dist/text-layer/text-layer.js"),_solid_polygon_layer_solid_polygon_layer_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@deck.gl/layers/dist/solid-polygon-layer/solid-polygon-layer.js"),_text_layer_multi_icon_layer_multi_icon_layer_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@deck.gl/layers/dist/text-layer/multi-icon-layer/multi-icon-layer.js"),_text_layer_text_background_layer_text_background_layer_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@deck.gl/layers/dist/text-layer/text-background-layer/text-background-layer.js")},"./node_modules/@deck.gl/layers/dist/line-layer/line-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return LineLayer}});var lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project32/project32.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometry/geometry.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/model/model.js");const defaultProps={getSourcePosition:{type:"accessor",value:x=>x.sourcePosition},getTargetPosition:{type:"accessor",value:x=>x.targetPosition},getColor:{type:"accessor",value:[0,0,0,255]},getWidth:{type:"accessor",value:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class LineLayer extends lib_layer.Z{static{this.layerName="LineLayer"}static{this.defaultProps=defaultProps}getBounds(){return this.getAttributeManager()?.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME line-layer-vertex-shader\nin vec3 positions;\nin vec3 instanceSourcePositions;\nin vec3 instanceTargetPositions;\nin vec3 instanceSourcePositions64Low;\nin vec3 instanceTargetPositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin float instanceWidths;\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float useShortestPath;\nuniform int widthUnits;\nout vec4 vColor;\nout vec2 uv;\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\nvec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\ndir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\nreturn dir_screenspace * offset_direction * width / 2.0;\n}\nvec3 splitLine(vec3 a, vec3 b, float x) {\nfloat t = (x - a.x) / (b.x - a.x);\nreturn vec3(x, mix(a.yz, b.yz, t));\n}\nvoid main(void) {\ngeometry.worldPosition = instanceSourcePositions;\ngeometry.worldPositionAlt = instanceTargetPositions;\nvec3 source_world = instanceSourcePositions;\nvec3 target_world = instanceTargetPositions;\nvec3 source_world_64low = instanceSourcePositions64Low;\nvec3 target_world_64low = instanceTargetPositions64Low;\nif (useShortestPath > 0.5 || useShortestPath < -0.5) {\nsource_world.x = mod(source_world.x + 180., 360.0) - 180.;\ntarget_world.x = mod(target_world.x + 180., 360.0) - 180.;\nfloat deltaLng = target_world.x - source_world.x;\nif (deltaLng * useShortestPath > 180.) {\nsource_world.x += 360. * useShortestPath;\nsource_world = splitLine(source_world, target_world, 180. * useShortestPath);\nsource_world_64low = vec3(0.0);\n} else if (deltaLng * useShortestPath < -180.) {\ntarget_world.x += 360. * useShortestPath;\ntarget_world = splitLine(source_world, target_world, 180. * useShortestPath);\ntarget_world_64low = vec3(0.0);\n} else if (useShortestPath < 0.) {\ngl_Position = vec4(0.);\nreturn;\n}\n}\nvec4 source_commonspace;\nvec4 target_commonspace;\nvec4 source = project_position_to_clipspace(source_world, source_world_64low, vec3(0.), source_commonspace);\nvec4 target = project_position_to_clipspace(target_world, target_world_64low, vec3(0.), target_commonspace);\nfloat segmentIndex = positions.x;\nvec4 p = mix(source, target, segmentIndex);\ngeometry.position = mix(source_commonspace, target_commonspace, segmentIndex);\nuv = positions.xy;\ngeometry.uv = uv;\ngeometry.pickingColor = instancePickingColors;\nfloat widthPixels = clamp(\nproject_size_to_pixel(instanceWidths * widthScale, widthUnits),\nwidthMinPixels, widthMaxPixels\n);\nvec3 offset = vec3(\ngetExtrusionOffset(target.xy - source.xy, positions.y, widthPixels),\n0.0);\nDECKGL_FILTER_SIZE(offset, geometry);\nDECKGL_FILTER_GL_POSITION(p, geometry);\ngl_Position = p + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\nvColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME line-layer-fragment-shader\nprecision highp float;\nin vec4 vColor;\nin vec2 uv;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = uv;\nfragColor = vColor;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[project32.Z,picking.Z]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1}})}updateState(params){super.updateState(params),params.changeFlags.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:uniforms}){const{widthUnits:widthUnits,widthScale:widthScale,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels,wrapLongitude:wrapLongitude}=this.props,model=this.state.model;model.setUniforms(uniforms),model.setUniforms({widthUnits:constants.iI[widthUnits],widthScale:widthScale,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels,useShortestPath:wrapLongitude?1:0}),model.draw(this.context.renderPass),wrapLongitude&&(model.setUniforms({useShortestPath:-1}),model.draw(this.context.renderPass))}_getModel(){return new model.H(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new geometry.Z({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array([0,-1,0,0,1,0,1,-1,0,1,1,0])}}}),isInstanced:!0})}}},"./node_modules/@deck.gl/layers/dist/path-layer/path-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return PathLayer}});var lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project32/project32.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometry/geometry.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/model/model.js"),tesselator=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/tesselator.js"),dist=__webpack_require__("./node_modules/@math.gl/polygon/dist/index.js");class PathTesselator extends tesselator.Z{constructor(opts){super({...opts,attributes:{positions:{size:3,padding:18,initialize:!0,type:opts.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(attributeName){return this.attributes[attributeName]}getGeometryFromBuffer(buffer){return this.normalize?super.getGeometryFromBuffer(buffer):null}normalizeGeometry(path){return this.normalize?function normalizePath(path,size,gridResolution,wrapLongitude){let flatPath;if(Array.isArray(path[0])){const length=path.length*size;flatPath=new Array(length);for(let i=0;i<path.length;i++)for(let j=0;j<size;j++)flatPath[i*size+j]=path[i][j]||0}else flatPath=path;return gridResolution?(0,dist.dj)(flatPath,{size:size,gridResolution:gridResolution}):wrapLongitude?(0,dist.ct)(flatPath,{size:size}):flatPath}(path,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):path}getGeometrySize(path){if(isCut(path)){let size=0;for(const subPath of path)size+=this.getGeometrySize(subPath);return size}const numPoints=this.getPathLength(path);return numPoints<2?0:this.isClosed(path)?numPoints<3?0:numPoints+2:numPoints}updateGeometryAttributes(path,context){if(0!==context.geometrySize)if(path&&isCut(path))for(const subPath of path){const geometrySize=this.getGeometrySize(subPath);context.geometrySize=geometrySize,this.updateGeometryAttributes(subPath,context),context.vertexStart+=geometrySize}else this._updateSegmentTypes(path,context),this._updatePositions(path,context)}_updateSegmentTypes(path,context){const segmentTypes=this.attributes.segmentTypes,isPathClosed=!!path&&this.isClosed(path),{vertexStart:vertexStart,geometrySize:geometrySize}=context;segmentTypes.fill(0,vertexStart,vertexStart+geometrySize),isPathClosed?(segmentTypes[vertexStart]=4,segmentTypes[vertexStart+geometrySize-2]=4):(segmentTypes[vertexStart]+=1,segmentTypes[vertexStart+geometrySize-2]+=2),segmentTypes[vertexStart+geometrySize-1]=4}_updatePositions(path,context){const{positions:positions}=this.attributes;if(!positions||!path)return;const{vertexStart:vertexStart,geometrySize:geometrySize}=context,p=new Array(3);for(let i=vertexStart,ptIndex=0;ptIndex<geometrySize;i++,ptIndex++)this.getPointOnPath(path,ptIndex,p),positions[3*i]=p[0],positions[3*i+1]=p[1],positions[3*i+2]=p[2]}getPathLength(path){return path.length/this.positionSize}getPointOnPath(path,index,target=[]){const{positionSize:positionSize}=this;index*positionSize>=path.length&&(index+=1-path.length/positionSize);const i=index*positionSize;return target[0]=path[i],target[1]=path[i+1],target[2]=3===positionSize&&path[i+2]||0,target}isClosed(path){if(!this.normalize)return Boolean(this.opts.loop);const{positionSize:positionSize}=this,lastPointIndex=path.length-positionSize;return path[0]===path[lastPointIndex]&&path[1]===path[lastPointIndex+1]&&(2===positionSize||path[2]===path[lastPointIndex+2])}}function isCut(path){return Array.isArray(path[0])}const DEFAULT_COLOR=[0,0,0,255],defaultProps={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:object=>object.path},getColor:{type:"accessor",value:DEFAULT_COLOR},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},ATTRIBUTE_TRANSITION={enter:(value,chunk)=>chunk.length?chunk.subarray(chunk.length-value.length):value};class PathLayer extends lib_layer.Z{static{this.defaultProps=defaultProps}static{this.layerName="PathLayer"}getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME path-layer-vertex-shader\nin vec2 positions;\nin float instanceTypes;\nin vec3 instanceStartPositions;\nin vec3 instanceEndPositions;\nin vec3 instanceLeftPositions;\nin vec3 instanceRightPositions;\nin vec3 instanceLeftPositions64Low;\nin vec3 instanceStartPositions64Low;\nin vec3 instanceEndPositions64Low;\nin vec3 instanceRightPositions64Low;\nin float instanceStrokeWidths;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\nuniform float opacity;\nout vec4 vColor;\nout vec2 vCornerOffset;\nout float vMiterLength;\nout vec2 vPathPosition;\nout float vPathLength;\nout float vJointType;\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\nfloat flipIfTrue(bool flag) {\nreturn -(float(flag) * 2. - 1.);\n}\nvec3 getLineJoinOffset(\nvec3 prevPoint, vec3 currPoint, vec3 nextPoint,\nvec2 width\n) {\nbool isEnd = positions.x > 0.0;\nfloat sideOfPath = positions.y;\nfloat isJoint = float(sideOfPath == 0.0);\nvec3 deltaA3 = (currPoint - prevPoint);\nvec3 deltaB3 = (nextPoint - currPoint);\nmat3 rotationMatrix;\nbool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\nif (needsRotation) {\ndeltaA3 = deltaA3 * rotationMatrix;\ndeltaB3 = deltaB3 * rotationMatrix;\n}\nvec2 deltaA = deltaA3.xy / width;\nvec2 deltaB = deltaB3.xy / width;\nfloat lenA = length(deltaA);\nfloat lenB = length(deltaB);\nvec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\nvec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\nvec2 perpA = vec2(-dirA.y, dirA.x);\nvec2 perpB = vec2(-dirB.y, dirB.x);\nvec2 tangent = dirA + dirB;\ntangent = length(tangent) > 0. ? normalize(tangent) : perpA;\nvec2 miterVec = vec2(-tangent.y, tangent.x);\nvec2 dir = isEnd ? dirA : dirB;\nvec2 perp = isEnd ? perpA : perpB;\nfloat L = isEnd ? lenA : lenB;\nfloat sinHalfA = abs(dot(miterVec, perp));\nfloat cosHalfA = abs(dot(dirA, miterVec));\nfloat turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\nfloat cornerPosition = sideOfPath * turnDirection;\nfloat miterSize = 1.0 / max(sinHalfA, EPSILON);\nmiterSize = mix(\nmin(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\nmiterSize,\nstep(0.0, cornerPosition)\n);\nvec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n* (sideOfPath + isJoint * turnDirection);\nbool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\nbool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\nbool isCap = isStartCap || isEndCap;\nif (isCap) {\noffsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\nvJointType = capType;\n} else {\nvJointType = jointType;\n}\nvPathLength = L;\nvCornerOffset = offsetVec;\nvMiterLength = dot(vCornerOffset, miterVec * turnDirection);\nvMiterLength = isCap ? isJoint : vMiterLength;\nvec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\nvPathPosition = vec2(\ndot(offsetFromStartOfPath, perp),\ndot(offsetFromStartOfPath, dir)\n);\ngeometry.uv = vPathPosition;\nfloat isValid = step(instanceTypes, 3.5);\nvec3 offset = vec3(offsetVec * width * isValid, 0.0);\nif (needsRotation) {\noffset = rotationMatrix * offset;\n}\nreturn offset;\n}\nvoid clipLine(inout vec4 position, vec4 refPosition) {\nif (position.w < EPSILON) {\nfloat r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\nposition = refPosition + (position - refPosition) * r;\n}\n}\nvoid main() {\ngeometry.pickingColor = instancePickingColors;\nvColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\nfloat isEnd = positions.x;\nvec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\nvec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\nvec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\nvec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\nvec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\nvec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\ngeometry.worldPosition = currPosition;\nvec2 widthPixels = vec2(clamp(\nproject_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\nwidthMinPixels, widthMaxPixels) / 2.0);\nvec3 width;\nif (billboard) {\nvec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\nvec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\nvec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\nclipLine(prevPositionScreen, currPositionScreen);\nclipLine(nextPositionScreen, currPositionScreen);\nclipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\nwidth = vec3(widthPixels, 0.0);\nDECKGL_FILTER_SIZE(width, geometry);\nvec3 offset = getLineJoinOffset(\nprevPositionScreen.xyz / prevPositionScreen.w,\ncurrPositionScreen.xyz / currPositionScreen.w,\nnextPositionScreen.xyz / nextPositionScreen.w,\nproject_pixel_size_to_clipspace(width.xy)\n);\nDECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);\ngl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);\n} else {\nprevPosition = project_position(prevPosition, prevPosition64Low);\ncurrPosition = project_position(currPosition, currPosition64Low);\nnextPosition = project_position(nextPosition, nextPosition64Low);\nwidth = vec3(project_pixel_size(widthPixels), 0.0);\nDECKGL_FILTER_SIZE(width, geometry);\nvec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);\ngeometry.position = vec4(currPosition + offset, 1.0);\ngl_Position = project_common_position_to_clipspace(geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n}\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME path-layer-fragment-shader\nprecision highp float;\nuniform float miterLimit;\nin vec4 vColor;\nin vec2 vCornerOffset;\nin float vMiterLength;\nin vec2 vPathPosition;\nin float vPathLength;\nin float vJointType;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = vPathPosition;\nif (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\nif (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\ndiscard;\n}\nif (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\ndiscard;\n}\n}\nfragColor = vColor;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[project32.Z,picking.Z]})}get wrapLongitude(){return!1}getBounds(){return this.getAttributeManager()?.getBounds(["vertexPositions"])}initializeState(){this.getAttributeManager().addInstanced({vertexPositions:{size:3,vertexOffset:1,type:"float64",fp64:this.use64bitPositions(),transition:ATTRIBUTE_TRANSITION,accessor:"getPath",update:this.calculatePositions,noAlloc:true,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:"uint8",update:this.calculateSegmentTypes,noAlloc:true},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:ATTRIBUTE_TRANSITION,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",accessor:"getColor",transition:ATTRIBUTE_TRANSITION,defaultValue:DEFAULT_COLOR},instancePickingColors:{size:4,type:"uint8",accessor:(object,{index:index,target:value})=>this.encodePickingColor(object&&object.__source?object.__source.index:index,value)}}),this.setState({pathTesselator:new PathTesselator({fp64:this.use64bitPositions()})})}updateState(params){super.updateState(params);const{props:props,changeFlags:changeFlags}=params,attributeManager=this.getAttributeManager();if(changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getPath)){const{pathTesselator:pathTesselator}=this.state,buffers=props.data.attributes||{};pathTesselator.updateGeometry({data:props.data,geometryBuffer:buffers.getPath,buffers:buffers,normalize:!props._pathType,loop:"loop"===props._pathType,getGeometry:props.getPath,positionFormat:props.positionFormat,wrapLongitude:props.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:changeFlags.dataChanged}),this.setState({numInstances:pathTesselator.instanceCount,startIndices:pathTesselator.vertexStarts}),changeFlags.dataChanged||attributeManager.invalidateAll()}changeFlags.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),attributeManager.invalidateAll())}getPickingInfo(params){const info=super.getPickingInfo(params),{index:index}=info,data=this.props.data;return data[0]&&data[0].__source&&(info.object=data.find((d=>d.__source.index===index))),info}disablePickingIndex(objectIndex){const data=this.props.data;if(data[0]&&data[0].__source)for(let i=0;i<data.length;i++)data[i].__source.index===objectIndex&&this._disablePickingIndex(i);else super.disablePickingIndex(objectIndex)}draw({uniforms:uniforms}){const{jointRounded:jointRounded,capRounded:capRounded,billboard:billboard,miterLimit:miterLimit,widthUnits:widthUnits,widthScale:widthScale,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels}=this.props,model=this.state.model;model.setUniforms(uniforms),model.setUniforms({jointType:Number(jointRounded),capType:Number(capRounded),billboard:billboard,widthUnits:constants.iI[widthUnits],widthScale:widthScale,miterLimit:miterLimit,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels}),model.draw(this.context.renderPass)}_getModel(){return new model.H(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new geometry.Z({topology:"triangle-list",attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0})}calculatePositions(attribute){const{pathTesselator:pathTesselator}=this.state;attribute.startIndices=pathTesselator.vertexStarts,attribute.value=pathTesselator.get("positions")}calculateSegmentTypes(attribute){const{pathTesselator:pathTesselator}=this.state;attribute.startIndices=pathTesselator.vertexStarts,attribute.value=pathTesselator.get("segmentTypes")}}},"./node_modules/@deck.gl/layers/dist/point-cloud-layer/point-cloud-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return PointCloudLayer}});var lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project32/project32.js"),phong_lighting=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/modules-webgl1/lighting/phong-lighting/phong-lighting.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/model/model.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometry/geometry.js");const DEFAULT_COLOR=[0,0,0,255],DEFAULT_NORMAL=[0,0,1],defaultProps={sizeUnits:"pixels",pointSize:{type:"number",min:0,value:10},getPosition:{type:"accessor",value:x=>x.position},getNormal:{type:"accessor",value:DEFAULT_NORMAL},getColor:{type:"accessor",value:DEFAULT_COLOR},material:!0,radiusPixels:{deprecatedFor:"pointSize"}};class PointCloudLayer extends lib_layer.Z{static{this.layerName="PointCloudLayer"}static{this.defaultProps=defaultProps}getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME point-cloud-layer-vertex-shader\nin vec3 positions;\nin vec3 instanceNormals;\nin vec4 instanceColors;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec3 instancePickingColors;\nuniform float opacity;\nuniform float radiusPixels;\nuniform int sizeUnits;\nout vec4 vColor;\nout vec2 unitPosition;\nvoid main(void) {\ngeometry.worldPosition = instancePositions;\ngeometry.normal = project_normal(instanceNormals);\nunitPosition = positions.xy;\ngeometry.uv = unitPosition;\ngeometry.pickingColor = instancePickingColors;\nvec3 offset = vec3(positions.xy * project_size_to_pixel(radiusPixels, sizeUnits), 0.0);\nDECKGL_FILTER_SIZE(offset, geometry);\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\ngl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\nvec3 lightColor = lighting_getLightColor(instanceColors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\nvColor = vec4(lightColor, instanceColors.a * opacity);\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME point-cloud-layer-fragment-shader\nprecision highp float;\nin vec4 vColor;\nin vec2 unitPosition;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = unitPosition;\nfloat distToCenter = length(unitPosition);\nif (distToCenter > 1.0) {\ndiscard;\n}\nfragColor = vColor;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[project32.Z,phong_lighting.N,picking.Z]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:DEFAULT_NORMAL},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:DEFAULT_COLOR}})}updateState(params){const{changeFlags:changeFlags,props:props}=params;super.updateState(params),changeFlags.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll()),changeFlags.dataChanged&&function normalizeData(data){const{header:header,attributes:attributes}=data;if(header&&attributes&&(data.length=header.vertexCount,attributes.POSITION&&(attributes.instancePositions=attributes.POSITION),attributes.NORMAL&&(attributes.instanceNormals=attributes.NORMAL),attributes.COLOR_0)){const{size:size,value:value}=attributes.COLOR_0;attributes.instanceColors={size:size,type:"unorm8",value:value}}}(props.data)}draw({uniforms:uniforms}){const{pointSize:pointSize,sizeUnits:sizeUnits}=this.props,model=this.state.model;model.setUniforms(uniforms),model.setUniforms({sizeUnits:constants.iI[sizeUnits],radiusPixels:pointSize}),model.draw(this.context.renderPass)}_getModel(){const positions=[];for(let i=0;i<3;i++){const angle=i/3*Math.PI*2;positions.push(2*Math.cos(angle),2*Math.sin(angle),0)}return new model.H(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new geometry.Z({topology:"triangle-list",attributes:{positions:new Float32Array(positions)}}),isInstanced:!0})}}},"./node_modules/@deck.gl/layers/dist/polygon-layer/polygon-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return PolygonLayer}});var _deck_gl_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/composite-layer.js"),_deck_gl_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/log.js"),_deck_gl_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/iterable-utils.js"),_solid_polygon_layer_solid_polygon_layer_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@deck.gl/layers/dist/solid-polygon-layer/solid-polygon-layer.js"),_path_layer_path_layer_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@deck.gl/layers/dist/path-layer/path-layer.js"),_solid_polygon_layer_polygon_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@deck.gl/layers/dist/solid-polygon-layer/polygon.js"),_utils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/layers/dist/utils.js");const defaultLineColor=[0,0,0,255],defaultProps={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:f=>f.polygon},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:defaultLineColor},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0};class PolygonLayer extends _deck_gl_core__WEBPACK_IMPORTED_MODULE_0__.Z{static{this.layerName="PolygonLayer"}static{this.defaultProps=defaultProps}initializeState(){this.state={paths:[],pathsDiff:null},this.props.getLineDashArray&&_deck_gl_core__WEBPACK_IMPORTED_MODULE_1__.Z.removed("getLineDashArray","PathStyleExtension")()}updateState({changeFlags:changeFlags}){const geometryChanged=changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getPolygon);if(geometryChanged&&Array.isArray(changeFlags.dataChanged)){const paths=this.state.paths.slice(),pathsDiff=changeFlags.dataChanged.map((dataRange=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.b)({data:paths,getIndex:p=>p.__source.index,dataRange:dataRange,replace:this._getPaths(dataRange)})));this.setState({paths:paths,pathsDiff:pathsDiff})}else geometryChanged&&this.setState({paths:this._getPaths(),pathsDiff:null})}_getPaths(dataRange={}){const{data:data,getPolygon:getPolygon,positionFormat:positionFormat,_normalize:_normalize}=this.props,paths=[],positionSize="XY"===positionFormat?2:3,{startRow:startRow,endRow:endRow}=dataRange,{iterable:iterable,objectInfo:objectInfo}=(0,_deck_gl_core__WEBPACK_IMPORTED_MODULE_3__.jB)(data,startRow,endRow);for(const object of iterable){objectInfo.index++;let polygon=getPolygon(object,objectInfo);_normalize&&(polygon=_solid_polygon_layer_polygon_js__WEBPACK_IMPORTED_MODULE_4__.Fv(polygon,positionSize));const{holeIndices:holeIndices}=polygon,positions=polygon.positions||polygon;if(holeIndices)for(let i=0;i<=holeIndices.length;i++){const path=positions.slice(holeIndices[i-1]||0,holeIndices[i]||positions.length);paths.push(this.getSubLayerRow({path:path},object,objectInfo.index))}else paths.push(this.getSubLayerRow({path:positions},object,objectInfo.index))}return paths}renderLayers(){const{data:data,_dataDiff:_dataDiff,stroked:stroked,filled:filled,extruded:extruded,wireframe:wireframe,_normalize:_normalize,_windingOrder:_windingOrder,elevationScale:elevationScale,transitions:transitions,positionFormat:positionFormat}=this.props,{lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels,lineJointRounded:lineJointRounded,lineMiterLimit:lineMiterLimit,lineDashJustified:lineDashJustified}=this.props,{getFillColor:getFillColor,getLineColor:getLineColor,getLineWidth:getLineWidth,getLineDashArray:getLineDashArray,getElevation:getElevation,getPolygon:getPolygon,updateTriggers:updateTriggers,material:material}=this.props,{paths:paths,pathsDiff:pathsDiff}=this.state,FillLayer=this.getSubLayerClass("fill",_solid_polygon_layer_solid_polygon_layer_js__WEBPACK_IMPORTED_MODULE_5__.Z),StrokeLayer=this.getSubLayerClass("stroke",_path_layer_path_layer_js__WEBPACK_IMPORTED_MODULE_6__.Z),polygonLayer=this.shouldRenderSubLayer("fill",paths)&&new FillLayer({_dataDiff:_dataDiff,extruded:extruded,elevationScale:elevationScale,filled:filled,wireframe:wireframe,_normalize:_normalize,_windingOrder:_windingOrder,getElevation:getElevation,getFillColor:getFillColor,getLineColor:extruded&&wireframe?getLineColor:defaultLineColor,material:material,transitions:transitions},this.getSubLayerProps({id:"fill",updateTriggers:updateTriggers&&{getPolygon:updateTriggers.getPolygon,getElevation:updateTriggers.getElevation,getFillColor:updateTriggers.getFillColor,lineColors:extruded&&wireframe,getLineColor:updateTriggers.getLineColor}}),{data:data,positionFormat:positionFormat,getPolygon:getPolygon});return[!extruded&&polygonLayer,!extruded&&stroked&&this.shouldRenderSubLayer("stroke",paths)&&new StrokeLayer({_dataDiff:pathsDiff&&(()=>pathsDiff),widthUnits:lineWidthUnits,widthScale:lineWidthScale,widthMinPixels:lineWidthMinPixels,widthMaxPixels:lineWidthMaxPixels,jointRounded:lineJointRounded,miterLimit:lineMiterLimit,dashJustified:lineDashJustified,_pathType:"loop",transitions:transitions&&{getWidth:transitions.getLineWidth,getColor:transitions.getLineColor,getPath:transitions.getPolygon},getColor:this.getSubLayerAccessor(getLineColor),getWidth:this.getSubLayerAccessor(getLineWidth),getDashArray:this.getSubLayerAccessor(getLineDashArray)},this.getSubLayerProps({id:"stroke",updateTriggers:updateTriggers&&{getWidth:updateTriggers.getLineWidth,getColor:updateTriggers.getLineColor,getDashArray:updateTriggers.getLineDashArray}}),{data:paths,positionFormat:positionFormat,getPath:x=>x.path}),extruded&&polygonLayer]}}},"./node_modules/@deck.gl/layers/dist/scatterplot-layer/scatterplot-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return ScatterplotLayer}});var lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project32/project32.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometry/geometry.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/model/model.js");const DEFAULT_COLOR=[0,0,0,255],defaultProps={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:x=>x.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:DEFAULT_COLOR},getLineColor:{type:"accessor",value:DEFAULT_COLOR},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class ScatterplotLayer extends lib_layer.Z{static{this.defaultProps=defaultProps}static{this.layerName="ScatterplotLayer"}getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME scatterplot-layer-vertex-shader\nin vec3 positions;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin float instanceRadius;\nin float instanceLineWidths;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin vec3 instancePickingColors;\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool antialiasing;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\nout vec4 vFillColor;\nout vec4 vLineColor;\nout vec2 unitPosition;\nout float innerUnitRadius;\nout float outerRadiusPixels;\nvoid main(void) {\ngeometry.worldPosition = instancePositions;\nouterRadiusPixels = clamp(\nproject_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\nradiusMinPixels, radiusMaxPixels\n);\nfloat lineWidthPixels = clamp(\nproject_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\nlineWidthMinPixels, lineWidthMaxPixels\n);\nouterRadiusPixels += stroked * lineWidthPixels / 2.0;\nfloat edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\nunitPosition = edgePadding * positions.xy;\ngeometry.uv = unitPosition;\ngeometry.pickingColor = instancePickingColors;\ninnerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\nif (billboard) {\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nvec3 offset = edgePadding * positions * outerRadiusPixels;\nDECKGL_FILTER_SIZE(offset, geometry);\ngl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n} else {\nvec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\nDECKGL_FILTER_SIZE(offset, geometry);\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n}\nvFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\nDECKGL_FILTER_COLOR(vFillColor, geometry);\nvLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\nDECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME scatterplot-layer-fragment-shader\nprecision highp float;\nuniform bool filled;\nuniform float stroked;\nuniform bool antialiasing;\nin vec4 vFillColor;\nin vec4 vLineColor;\nin vec2 unitPosition;\nin float innerUnitRadius;\nin float outerRadiusPixels;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = unitPosition;\nfloat distToCenter = length(unitPosition) * outerRadiusPixels;\nfloat inCircle = antialiasing ?\nsmoothedge(distToCenter, outerRadiusPixels) :\nstep(distToCenter, outerRadiusPixels);\nif (inCircle == 0.0) {\ndiscard;\n}\nif (stroked > 0.5) {\nfloat isLine = antialiasing ?\nsmoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\nstep(innerUnitRadius * outerRadiusPixels, distToCenter);\nif (filled) {\nfragColor = mix(vFillColor, vLineColor, isLine);\n} else {\nif (isLine == 0.0) {\ndiscard;\n}\nfragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n}\n} else if (!filled) {\ndiscard;\n} else {\nfragColor = vFillColor;\n}\nfragColor.a *= inCircle;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[project32.Z,picking.Z]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(params){super.updateState(params),params.changeFlags.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:uniforms}){const{radiusUnits:radiusUnits,radiusScale:radiusScale,radiusMinPixels:radiusMinPixels,radiusMaxPixels:radiusMaxPixels,stroked:stroked,filled:filled,billboard:billboard,antialiasing:antialiasing,lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels}=this.props,model=this.state.model;model.setUniforms(uniforms),model.setUniforms({stroked:stroked?1:0,filled:filled,billboard:billboard,antialiasing:antialiasing,radiusUnits:constants.iI[radiusUnits],radiusScale:radiusScale,radiusMinPixels:radiusMinPixels,radiusMaxPixels:radiusMaxPixels,lineWidthUnits:constants.iI[lineWidthUnits],lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels}),model.draw(this.context.renderPass)}_getModel(){return new model.H(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new geometry.Z({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,-1,1,0,1,1,0])}}}),isInstanced:!0})}}},"./node_modules/@deck.gl/layers/dist/solid-polygon-layer/polygon.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Fv:function(){return normalize},Gd:function(){return getHoleIndices},k8:function(){return getPositions},mD:function(){return getSurfaceIndices}});var earcut__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/earcut/src/earcut.js"),earcut__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(earcut__WEBPACK_IMPORTED_MODULE_0__),_math_gl_polygon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@math.gl/polygon/dist/index.js");const OUTER_POLYGON_WINDING=_math_gl_polygon__WEBPACK_IMPORTED_MODULE_1__.wG.CLOCKWISE,HOLE_POLYGON_WINDING=_math_gl_polygon__WEBPACK_IMPORTED_MODULE_1__.wG.COUNTER_CLOCKWISE,windingOptions={isClosed:!0};function getPositions(polygon){return"positions"in polygon?polygon.positions:polygon}function getHoleIndices(polygon){return"holeIndices"in polygon?polygon.holeIndices:null}function copyNestedRing(target,targetStartIndex,simplePolygon,size,windingDirection){let targetIndex=targetStartIndex;const len=simplePolygon.length;for(let i=0;i<len;i++)for(let j=0;j<size;j++)target[targetIndex++]=simplePolygon[i][j]||0;if(!function isNestedRingClosed(simplePolygon){const p0=simplePolygon[0],p1=simplePolygon[simplePolygon.length-1];return p0[0]===p1[0]&&p0[1]===p1[1]&&p0[2]===p1[2]}(simplePolygon))for(let j=0;j<size;j++)target[targetIndex++]=simplePolygon[0][j]||0;return windingOptions.start=targetStartIndex,windingOptions.end=targetIndex,windingOptions.size=size,(0,_math_gl_polygon__WEBPACK_IMPORTED_MODULE_1__.Ny)(target,windingDirection,windingOptions),targetIndex}function copyFlatRing(target,targetStartIndex,positions,size,srcStartIndex=0,srcEndIndex,windingDirection){const srcLength=(srcEndIndex=srcEndIndex||positions.length)-srcStartIndex;if(srcLength<=0)return targetStartIndex;let targetIndex=targetStartIndex;for(let i=0;i<srcLength;i++)target[targetIndex++]=positions[srcStartIndex+i];if(!function isFlatRingClosed(positions,size,startIndex,endIndex){for(let i=0;i<size;i++)if(positions[startIndex+i]!==positions[endIndex-size+i])return!1;return!0}(positions,size,srcStartIndex,srcEndIndex))for(let i=0;i<size;i++)target[targetIndex++]=positions[srcStartIndex+i];return windingOptions.start=targetStartIndex,windingOptions.end=targetIndex,windingOptions.size=size,(0,_math_gl_polygon__WEBPACK_IMPORTED_MODULE_1__.Ny)(target,windingDirection,windingOptions),targetIndex}function normalize(polygon,positionSize){!function validate(polygon){if(polygon=polygon&&polygon.positions||polygon,!Array.isArray(polygon)&&!ArrayBuffer.isView(polygon))throw new Error("invalid polygon")}(polygon);const positions=[],holeIndices=[];if("positions"in polygon){const{positions:srcPositions,holeIndices:srcHoleIndices}=polygon;if(srcHoleIndices){let targetIndex=0;for(let i=0;i<=srcHoleIndices.length;i++)targetIndex=copyFlatRing(positions,targetIndex,srcPositions,positionSize,srcHoleIndices[i-1],srcHoleIndices[i],0===i?OUTER_POLYGON_WINDING:HOLE_POLYGON_WINDING),holeIndices.push(targetIndex);return holeIndices.pop(),{positions:positions,holeIndices:holeIndices}}polygon=srcPositions}if(!function isNested(polygon){return Array.isArray(polygon[0])}(polygon))return copyFlatRing(positions,0,polygon,positionSize,0,positions.length,OUTER_POLYGON_WINDING),positions;if(!function isSimple(polygon){return polygon.length>=1&&polygon[0].length>=2&&Number.isFinite(polygon[0][0])}(polygon)){let targetIndex=0;for(const[polygonIndex,simplePolygon]of polygon.entries())targetIndex=copyNestedRing(positions,targetIndex,simplePolygon,positionSize,0===polygonIndex?OUTER_POLYGON_WINDING:HOLE_POLYGON_WINDING),holeIndices.push(targetIndex);return holeIndices.pop(),{positions:positions,holeIndices:holeIndices}}return copyNestedRing(positions,0,polygon,positionSize,OUTER_POLYGON_WINDING),positions}function getPlaneArea(positions,xIndex,yIndex){const numVerts=positions.length/3;let area=0;for(let i=0;i<numVerts;i++){const j=(i+1)%numVerts;area+=positions[3*i+xIndex]*positions[3*j+yIndex],area-=positions[3*j+xIndex]*positions[3*i+yIndex]}return Math.abs(area/2)}function permutePositions(positions,xIndex,yIndex,zIndex){const numVerts=positions.length/3;for(let i=0;i<numVerts;i++){const o=3*i,x=positions[o+0],y=positions[o+1],z=positions[o+2];positions[o+xIndex]=x,positions[o+yIndex]=y,positions[o+zIndex]=z}}function getSurfaceIndices(polygon,positionSize,preproject,full3d){let holeIndices=getHoleIndices(polygon);holeIndices&&(holeIndices=holeIndices.map((positionIndex=>positionIndex/positionSize)));let positions=getPositions(polygon);const is3d=full3d&&3===positionSize;if(preproject){const n=positions.length;positions=positions.slice();const p=[];for(let i=0;i<n;i+=positionSize){p[0]=positions[i],p[1]=positions[i+1],is3d&&(p[2]=positions[i+2]);const xy=preproject(p);positions[i]=xy[0],positions[i+1]=xy[1],is3d&&(positions[i+2]=xy[2])}}if(is3d){const xyArea=getPlaneArea(positions,0,1),xzArea=getPlaneArea(positions,0,2),yzArea=getPlaneArea(positions,1,2);if(!xyArea&&!xzArea&&!yzArea)return[];xyArea>xzArea&&xyArea>yzArea||(xzArea>yzArea?(preproject||(positions=positions.slice()),permutePositions(positions,0,2,1)):(preproject||(positions=positions.slice()),permutePositions(positions,2,0,1)))}return earcut__WEBPACK_IMPORTED_MODULE_0___default()(positions,holeIndices,positionSize)}},"./node_modules/@deck.gl/layers/dist/solid-polygon-layer/solid-polygon-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return SolidPolygonLayer}});var lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project32/project32.js"),phong_lighting=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/modules-webgl1/lighting/phong-lighting/phong-lighting.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/model/model.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometry/geometry.js"),solid_polygon_layer_polygon=__webpack_require__("./node_modules/@deck.gl/layers/dist/solid-polygon-layer/polygon.js"),tesselator=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/tesselator.js"),dist=__webpack_require__("./node_modules/@math.gl/polygon/dist/index.js");class PolygonTesselator extends tesselator.Z{constructor(opts){const{fp64:fp64,IndexType:IndexType=Uint32Array}=opts;super({...opts,attributes:{positions:{size:3,type:fp64?Float64Array:Float32Array},vertexValid:{type:Uint16Array,size:1},indices:{type:IndexType,size:1}}})}get(attributeName){const{attributes:attributes}=this;return"indices"===attributeName?attributes.indices&&attributes.indices.subarray(0,this.vertexCount):attributes[attributeName]}updateGeometry(opts){super.updateGeometry(opts);const externalIndices=this.buffers.indices;if(externalIndices)this.vertexCount=(externalIndices.value||externalIndices).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(polygon){if(this.normalize){const normalizedPolygon=solid_polygon_layer_polygon.Fv(polygon,this.positionSize);return this.opts.resolution?(0,dist.WZ)(solid_polygon_layer_polygon.k8(normalizedPolygon),solid_polygon_layer_polygon.Gd(normalizedPolygon),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?(0,dist.GU)(solid_polygon_layer_polygon.k8(normalizedPolygon),solid_polygon_layer_polygon.Gd(normalizedPolygon),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):normalizedPolygon}return polygon}getGeometrySize(polygon){if(isCut(polygon)){let size=0;for(const subPolygon of polygon)size+=this.getGeometrySize(subPolygon);return size}return solid_polygon_layer_polygon.k8(polygon).length/this.positionSize}getGeometryFromBuffer(buffer){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(buffer):null}updateGeometryAttributes(polygon,context){if(polygon&&isCut(polygon))for(const subPolygon of polygon){const geometrySize=this.getGeometrySize(subPolygon);context.geometrySize=geometrySize,this.updateGeometryAttributes(subPolygon,context),context.vertexStart+=geometrySize,context.indexStart=this.indexStarts[context.geometryIndex+1]}else{const normalizedPolygon=polygon;this._updateIndices(normalizedPolygon,context),this._updatePositions(normalizedPolygon,context),this._updateVertexValid(normalizedPolygon,context)}}_updateIndices(polygon,{geometryIndex:geometryIndex,vertexStart:offset,indexStart:indexStart}){const{attributes:attributes,indexStarts:indexStarts,typedArrayManager:typedArrayManager}=this;let target=attributes.indices;if(!target||!polygon)return;let i=indexStart;const indices=solid_polygon_layer_polygon.mD(polygon,this.positionSize,this.opts.preproject,this.opts.full3d);target=typedArrayManager.allocate(target,indexStart+indices.length,{copy:!0});for(let j=0;j<indices.length;j++)target[i++]=indices[j]+offset;indexStarts[geometryIndex+1]=indexStart+indices.length,attributes.indices=target}_updatePositions(polygon,{vertexStart:vertexStart,geometrySize:geometrySize}){const{attributes:{positions:positions},positionSize:positionSize}=this;if(!positions||!polygon)return;const polygonPositions=solid_polygon_layer_polygon.k8(polygon);for(let i=vertexStart,j=0;j<geometrySize;i++,j++){const x=polygonPositions[j*positionSize],y=polygonPositions[j*positionSize+1],z=positionSize>2?polygonPositions[j*positionSize+2]:0;positions[3*i]=x,positions[3*i+1]=y,positions[3*i+2]=z}}_updateVertexValid(polygon,{vertexStart:vertexStart,geometrySize:geometrySize}){const{positionSize:positionSize}=this,vertexValid=this.attributes.vertexValid,holeIndices=polygon&&solid_polygon_layer_polygon.Gd(polygon);if(polygon&&polygon.edgeTypes?vertexValid.set(polygon.edgeTypes,vertexStart):vertexValid.fill(1,vertexStart,vertexStart+geometrySize),holeIndices)for(let j=0;j<holeIndices.length;j++)vertexValid[vertexStart+holeIndices[j]/positionSize-1]=0;vertexValid[vertexStart+geometrySize-1]=0}}function isCut(polygon){return Array.isArray(polygon)&&polygon.length>0&&!Number.isFinite(polygon[0])}var solid_polygon_layer_vertex_main_glsl="uniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\nin vec4 fillColors;\nin vec4 lineColors;\nin vec3 pickingColors;\nout vec4 vColor;\nstruct PolygonProps {\nvec3 positions;\nvec3 positions64Low;\nvec3 normal;\nfloat elevations;\n};\nvec3 project_offset_normal(vec3 vector) {\nif (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\nproject_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\nreturn normalize(vector * project_uCommonUnitsPerWorldUnit);\n}\nreturn project_normal(vector);\n}\nvoid calculatePosition(PolygonProps props) {\nvec3 pos = props.positions;\nvec3 pos64Low = props.positions64Low;\nvec3 normal = props.normal;\nvec4 colors = isWireframe ? lineColors : fillColors;\ngeometry.worldPosition = props.positions;\ngeometry.pickingColor = pickingColors;\nif (extruded) {\npos.z += props.elevations * elevationScale;\n}\ngl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nif (extruded) {\n#ifdef IS_SIDE_VERTEX\nnormal = project_offset_normal(normal);\n#else\nnormal = project_normal(normal);\n#endif\ngeometry.normal = normal;\nvec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\nvColor = vec4(lightColor, colors.a * opacity);\n} else {\nvColor = vec4(colors.rgb, colors.a * opacity);\n}\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",solid_polygon_layer_vertex_top_glsl=`#version 300 es\n#define SHADER_NAME solid-polygon-layer-vertex-shader\nin vec3 vertexPositions;\nin vec3 vertexPositions64Low;\nin float elevations;\n${solid_polygon_layer_vertex_main_glsl}\nvoid main(void) {\nPolygonProps props;\nprops.positions = vertexPositions;\nprops.positions64Low = vertexPositions64Low;\nprops.elevations = elevations;\nprops.normal = vec3(0.0, 0.0, 1.0);\ncalculatePosition(props);\n}\n`,solid_polygon_layer_vertex_side_glsl=`#version 300 es\n#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\nin vec2 positions;\nin vec3 vertexPositions;\nin vec3 nextVertexPositions;\nin vec3 vertexPositions64Low;\nin vec3 nextVertexPositions64Low;\nin float elevations;\nin float instanceVertexValid;\n${solid_polygon_layer_vertex_main_glsl}\nvoid main(void) {\nif(instanceVertexValid < 0.5){\ngl_Position = vec4(0.);\nreturn;\n}\nPolygonProps props;\nvec3 pos;\nvec3 pos64Low;\nvec3 nextPos;\nvec3 nextPos64Low;\n#if RING_WINDING_ORDER_CW == 1\npos = vertexPositions;\npos64Low = vertexPositions64Low;\nnextPos = nextVertexPositions;\nnextPos64Low = nextVertexPositions64Low;\n#else\npos = nextVertexPositions;\npos64Low = nextVertexPositions64Low;\nnextPos = vertexPositions;\nnextPos64Low = vertexPositions64Low;\n#endif\nprops.positions = mix(pos, nextPos, positions.x);\nprops.positions64Low = mix(pos64Low, nextPos64Low, positions.x);\nprops.normal = vec3(\npos.y - nextPos.y + (pos64Low.y - nextPos64Low.y),\nnextPos.x - pos.x + (nextPos64Low.x - pos64Low.x),\n0.0);\nprops.elevations = elevations * positions.y;\ncalculatePosition(props);\n}\n`;const DEFAULT_COLOR=[0,0,0,255],defaultProps={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:f=>f.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:DEFAULT_COLOR},getLineColor:{type:"accessor",value:DEFAULT_COLOR},material:!0},ATTRIBUTE_TRANSITION={enter:(value,chunk)=>chunk.length?chunk.subarray(chunk.length-value.length):value};class SolidPolygonLayer extends lib_layer.Z{static{this.defaultProps=defaultProps}static{this.layerName="SolidPolygonLayer"}getShaders(type){return super.getShaders({vs:"top"===type?solid_polygon_layer_vertex_top_glsl:solid_polygon_layer_vertex_side_glsl,fs:"#version 300 es\n#define SHADER_NAME solid-polygon-layer-fragment-shader\nprecision highp float;\nin vec4 vColor;\nout vec4 fragColor;\nvoid main(void) {\nfragColor = vColor;\ngeometry.uv = vec2(0.);\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[project32.Z,phong_lighting.N,picking.Z]})}get wrapLongitude(){return!1}getBounds(){return this.getAttributeManager()?.getBounds(["vertexPositions"])}initializeState(){const{viewport:viewport}=this.context;let{coordinateSystem:coordinateSystem}=this.props;const{_full3d:_full3d}=this.props;let preproject;viewport.isGeospatial&&coordinateSystem===constants.COORDINATE_SYSTEM.DEFAULT&&(coordinateSystem=constants.COORDINATE_SYSTEM.LNGLAT),coordinateSystem===constants.COORDINATE_SYSTEM.LNGLAT&&(preproject=_full3d?viewport.projectPosition.bind(viewport):viewport.projectFlat.bind(viewport)),this.setState({numInstances:0,polygonTesselator:new PolygonTesselator({preproject:preproject,fp64:this.use64bitPositions(),IndexType:Uint32Array})});const attributeManager=this.getAttributeManager();attributeManager.remove(["instancePickingColors"]),attributeManager.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:true},vertexPositions:{size:3,type:"float64",stepMode:"dynamic",fp64:this.use64bitPositions(),transition:ATTRIBUTE_TRANSITION,accessor:"getPolygon",update:this.calculatePositions,noAlloc:true,shaderAttributes:{nextVertexPositions:{vertexOffset:1}}},instanceVertexValid:{size:1,type:"uint16",stepMode:"instance",update:this.calculateVertexValid,noAlloc:true},elevations:{size:1,stepMode:"dynamic",transition:ATTRIBUTE_TRANSITION,accessor:"getElevation"},fillColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:ATTRIBUTE_TRANSITION,accessor:"getFillColor",defaultValue:DEFAULT_COLOR},lineColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:ATTRIBUTE_TRANSITION,accessor:"getLineColor",defaultValue:DEFAULT_COLOR},pickingColors:{size:4,type:"uint8",stepMode:"dynamic",accessor:(object,{index:index,target:value})=>this.encodePickingColor(object&&object.__source?object.__source.index:index,value)}})}getPickingInfo(params){const info=super.getPickingInfo(params),{index:index}=info,data=this.props.data;return data[0]&&data[0].__source&&(info.object=data.find((d=>d.__source.index===index))),info}disablePickingIndex(objectIndex){const data=this.props.data;if(data[0]&&data[0].__source)for(let i=0;i<data.length;i++)data[i].__source.index===objectIndex&&this._disablePickingIndex(i);else super.disablePickingIndex(objectIndex)}draw({uniforms:uniforms}){const{extruded:extruded,filled:filled,wireframe:wireframe,elevationScale:elevationScale}=this.props,{topModel:topModel,sideModel:sideModel,wireframeModel:wireframeModel,polygonTesselator:polygonTesselator}=this.state,renderUniforms={...uniforms,extruded:Boolean(extruded),elevationScale:elevationScale};wireframeModel&&wireframe&&(wireframeModel.setInstanceCount(polygonTesselator.instanceCount-1),wireframeModel.setUniforms(renderUniforms),wireframeModel.draw(this.context.renderPass)),sideModel&&filled&&(sideModel.setInstanceCount(polygonTesselator.instanceCount-1),sideModel.setUniforms(renderUniforms),sideModel.draw(this.context.renderPass)),topModel&&filled&&(topModel.setVertexCount(polygonTesselator.vertexCount),topModel.setUniforms(renderUniforms),topModel.draw(this.context.renderPass))}updateState(updateParams){super.updateState(updateParams),this.updateGeometry(updateParams);const{props:props,oldProps:oldProps,changeFlags:changeFlags}=updateParams,attributeManager=this.getAttributeManager();(changeFlags.extensionsChanged||props.filled!==oldProps.filled||props.extruded!==oldProps.extruded)&&(this.state.models?.forEach((model=>model.destroy())),this.setState(this._getModels()),attributeManager.invalidateAll())}updateGeometry({props:props,oldProps:oldProps,changeFlags:changeFlags}){if(changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getPolygon)){const{polygonTesselator:polygonTesselator}=this.state,buffers=props.data.attributes||{};polygonTesselator.updateGeometry({data:props.data,normalize:props._normalize,geometryBuffer:buffers.getPolygon,buffers:buffers,getGeometry:props.getPolygon,positionFormat:props.positionFormat,wrapLongitude:props.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:changeFlags.dataChanged,full3d:props._full3d}),this.setState({numInstances:polygonTesselator.instanceCount,startIndices:polygonTesselator.vertexStarts}),changeFlags.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(){const{id:id,filled:filled,extruded:extruded}=this.props;let topModel,sideModel,wireframeModel;if(filled){const shaders=this.getShaders("top");shaders.defines.NON_INSTANCED_MODEL=1;const bufferLayout=this.getAttributeManager().getBufferLayouts({isInstanced:!1});topModel=new model.H(this.context.device,{...shaders,id:`${id}-top`,topology:"triangle-list",uniforms:{isWireframe:!1},bufferLayout:bufferLayout,isIndexed:!0,userData:{excludeAttributes:{instanceVertexValid:!0}}})}if(extruded){const bufferLayout=this.getAttributeManager().getBufferLayouts({isInstanced:!0});sideModel=new model.H(this.context.device,{...this.getShaders("side"),id:`${id}-side`,bufferLayout:bufferLayout,uniforms:{isWireframe:!1},geometry:new geometry.Z({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,1,1,0,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}}),wireframeModel=new model.H(this.context.device,{...this.getShaders("side"),id:`${id}-wireframe`,bufferLayout:bufferLayout,uniforms:{isWireframe:!0},geometry:new geometry.Z({topology:"line-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}})}return{models:[sideModel,wireframeModel,topModel].filter(Boolean),topModel:topModel,sideModel:sideModel,wireframeModel:wireframeModel}}calculateIndices(attribute){const{polygonTesselator:polygonTesselator}=this.state;attribute.startIndices=polygonTesselator.indexStarts,attribute.value=polygonTesselator.get("indices")}calculatePositions(attribute){const{polygonTesselator:polygonTesselator}=this.state;attribute.startIndices=polygonTesselator.vertexStarts,attribute.value=polygonTesselator.get("positions")}calculateVertexValid(attribute){attribute.value=this.state.polygonTesselator.get("vertexValid")}}},"./node_modules/@deck.gl/layers/dist/utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function replaceInRange({data:data,getIndex:getIndex,dataRange:dataRange,replace:replace}){const{startRow:startRow=0,endRow:endRow=1/0}=dataRange,count=data.length;let replaceStart=count,replaceEnd=count;for(let i=0;i<count;i++){const row=getIndex(data[i]);if(replaceStart>i&&row>=startRow&&(replaceStart=i),row>=endRow){replaceEnd=i;break}}let index=replaceStart;const endChunk=replaceEnd-replaceStart!==replace.length?data.slice(replaceEnd):void 0;for(let i=0;i<replace.length;i++)data[index++]=replace[i];if(endChunk){for(let i=0;i<endChunk.length;i++)data[index++]=endChunk[i];data.length=index}return{startRow:replaceStart,endRow:replaceStart+replace.length}}__webpack_require__.d(__webpack_exports__,{b:function(){return replaceInRange}})},"./node_modules/@deck.gl/mesh-layers/dist/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ScenegraphLayer:function(){return _scenegraph_layer_scenegraph_layer_js__WEBPACK_IMPORTED_MODULE_1__.Z},SimpleMeshLayer:function(){return _simple_mesh_layer_simple_mesh_layer_js__WEBPACK_IMPORTED_MODULE_0__.Z}});var _simple_mesh_layer_simple_mesh_layer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/simple-mesh-layer/simple-mesh-layer.js"),_scenegraph_layer_scenegraph_layer_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/scenegraph-layer/scenegraph-layer.js")},"./node_modules/@deck.gl/mesh-layers/dist/scenegraph-layer/scenegraph-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return ScenegraphLayer}});var lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project32/project32.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/picking/picking.js"),log=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/log.js"),pbr=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/modules-webgl1/lighting/pbr/pbr.js"),utils=__webpack_require__("./node_modules/@luma.gl/core/dist/utils/utils.js"),assert=__webpack_require__("./node_modules/@luma.gl/core/dist/utils/assert.js"),matrix4=__webpack_require__("./node_modules/@math.gl/core/dist/classes/matrix4.js"),vector3=__webpack_require__("./node_modules/@math.gl/core/dist/classes/vector3.js");class ScenegraphNode{id;matrix=new matrix4.y;display=!0;position=new vector3.P;rotation=new vector3.P;scale=new vector3.P(1,1,1);userData={};props={};constructor(props={}){const{id:id}=props;this.id=id||(0,utils.h)(this.constructor.name),this._setScenegraphNodeProps(props)}getBounds(){return null}destroy(){}delete(){this.destroy()}setProps(props){return this._setScenegraphNodeProps(props),this}toString(){return`{type: ScenegraphNode, id: ${this.id})}`}setPosition(position){return(0,assert.h)(3===position.length,"setPosition requires vector argument"),this.position=position,this}setRotation(rotation){return(0,assert.h)(3===rotation.length,"setRotation requires vector argument"),this.rotation=rotation,this}setScale(scale){return(0,assert.h)(3===scale.length,"setScale requires vector argument"),this.scale=scale,this}setMatrix(matrix,copyMatrix=!0){copyMatrix?this.matrix.copy(matrix):this.matrix=matrix}setMatrixComponents(components){const{position:position,rotation:rotation,scale:scale,update:update=!0}=components;return position&&this.setPosition(position),rotation&&this.setRotation(rotation),scale&&this.setScale(scale),update&&this.updateMatrix(),this}updateMatrix(){const pos=this.position,rot=this.rotation,scale=this.scale;return this.matrix.identity(),this.matrix.translate(pos),this.matrix.rotateXYZ(rot),this.matrix.scale(scale),this}update(options={}){const{position:position,rotation:rotation,scale:scale}=options;return position&&this.setPosition(position),rotation&&this.setRotation(rotation),scale&&this.setScale(scale),this.updateMatrix(),this}getCoordinateUniforms(viewMatrix,modelMatrix){(0,assert.h)(viewMatrix),modelMatrix=modelMatrix||this.matrix;const worldMatrix=new matrix4.y(viewMatrix).multiplyRight(modelMatrix),worldInverse=worldMatrix.invert(),worldInverseTranspose=worldInverse.transpose();return{viewMatrix:viewMatrix,modelMatrix:modelMatrix,objectMatrix:modelMatrix,worldMatrix:worldMatrix,worldInverseMatrix:worldInverse,worldInverseTransposeMatrix:worldInverseTranspose}}_setScenegraphNodeProps(props){"display"in props&&(this.display=props.display),"position"in props&&this.setPosition(props.position),"rotation"in props&&this.setRotation(props.rotation),"scale"in props&&this.setScale(props.scale),"matrix"in props&&this.setMatrix(props.matrix),Object.assign(this.props,props)}}var utils_log=__webpack_require__("./node_modules/@luma.gl/core/dist/utils/log.js");class GroupNode extends ScenegraphNode{children;constructor(props={}){props=Array.isArray(props)?{children:props}:props;const{children:children=[]}=props;utils_log.c.assert(children.every((child=>child instanceof ScenegraphNode)),"every child must an instance of ScenegraphNode"),super(props),this.children=children}getBounds(){const result=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];return this.traverse(((node,{worldMatrix:worldMatrix})=>{const bounds=node.getBounds();if(!bounds)return;const[min,max]=bounds,center=new vector3.P(min).add(max).divide([2,2,2]);worldMatrix.transformAsPoint(center,center);const halfSize=new vector3.P(max).subtract(min).divide([2,2,2]);worldMatrix.transformAsVector(halfSize,halfSize);for(let v=0;v<8;v++){const position=new vector3.P(1&v?-1:1,2&v?-1:1,4&v?-1:1).multiply(halfSize).add(center);for(let i=0;i<3;i++)result[0][i]=Math.min(result[0][i],position[i]),result[1][i]=Math.max(result[1][i],position[i])}})),Number.isFinite(result[0][0])?result:null}destroy(){this.children.forEach((child=>child.destroy())),this.removeAll(),super.destroy()}add(...children){for(const child of children)Array.isArray(child)?this.add(...child):this.children.push(child);return this}remove(child){const children=this.children,indexOf=children.indexOf(child);return indexOf>-1&&children.splice(indexOf,1),this}removeAll(){return this.children=[],this}traverse(visitor,{worldMatrix:worldMatrix=new matrix4.y}={}){const modelMatrix=new matrix4.y(worldMatrix).multiplyRight(this.matrix);for(const child of this.children)child instanceof GroupNode?child.traverse(visitor,{worldMatrix:modelMatrix}):visitor(child,{worldMatrix:modelMatrix})}}class ModelNode extends ScenegraphNode{model;bounds=null;managedResources;constructor(props){super(props),this.model=props.model,this.managedResources=props.managedResources||[],this.bounds=props.bounds||null,this.setProps(props)}getBounds(){return this.bounds}destroy(){this.model&&(this.model.destroy(),this.model=null),this.managedResources.forEach((resource=>resource.destroy())),this.managedResources=[]}draw(renderPass){return this.model.draw(renderPass)}}var geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometry/geometry.js"),quaternion=__webpack_require__("./node_modules/@math.gl/core/dist/classes/quaternion.js");const ATTRIBUTE_TYPE_TO_COMPONENTS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};class GLTFAnimation{name;startTime=0;playing=!0;speed=1;channels=[];constructor(props){Object.assign(this,props)}animate(timeMs){if(!this.playing)return;const time=(timeMs/1e3-this.startTime)*this.speed;this.channels.forEach((({sampler:sampler,target:target,path:path})=>{!function interpolate(time,{input:input,interpolation:interpolation,output:output},target,path){const maxTime=input[input.length-1],animationTime=time%maxTime,nextIndex=input.findIndex((t=>t>=animationTime)),previousIndex=Math.max(0,nextIndex-1);if(!Array.isArray(target[path]))switch(path){case"translation":target[path]=[0,0,0];break;case"rotation":target[path]=[0,0,0,1];break;case"scale":target[path]=[1,1,1];break;default:utils_log.c.warn(`Bad animation path ${path}`)()}(0,assert.h)(target[path].length===output[previousIndex].length);const previousTime=input[previousIndex],nextTime=input[nextIndex];switch(interpolation){case"STEP":!function stepInterpolate(target,path,value){for(let i=0;i<value.length;i++)target[path][i]=value[i]}(target,path,output[previousIndex]);break;case"LINEAR":if(nextTime>previousTime){const ratio=(animationTime-previousTime)/(nextTime-previousTime);!function linearInterpolate(target,path,start,stop,ratio){if("rotation"===path){gltf_animator_quaternion.slerp({start:start,target:stop,ratio:ratio});for(let i=0;i<gltf_animator_quaternion.length;i++)target[path][i]=gltf_animator_quaternion[i]}else for(let i=0;i<start.length;i++)target[path][i]=ratio*stop[i]+(1-ratio)*start[i]}(target,path,output[previousIndex],output[nextIndex],ratio)}break;case"CUBICSPLINE":if(nextTime>previousTime){const ratio=(animationTime-previousTime)/(nextTime-previousTime),tDiff=nextTime-previousTime;!function cubicsplineInterpolate(target,path,{p0:p0,outTangent0:outTangent0,inTangent1:inTangent1,p1:p1,tDiff:tDiff,ratio:t}){for(let i=0;i<target[path].length;i++){const m0=outTangent0[i]*tDiff,m1=inTangent1[i]*tDiff;target[path][i]=(2*Math.pow(t,3)-3*Math.pow(t,2)+1)*p0[i]+(Math.pow(t,3)-2*Math.pow(t,2)+t)*m0+(-2*Math.pow(t,3)+3*Math.pow(t,2))*p1[i]+(Math.pow(t,3)-Math.pow(t,2))*m1}}(target,path,{p0:output[3*previousIndex+1],outTangent0:output[3*previousIndex+2],inTangent1:output[3*nextIndex+0],p1:output[3*nextIndex+1],tDiff:tDiff,ratio:ratio})}break;default:utils_log.c.warn(`Interpolation ${interpolation} not supported`)()}}(time,sampler,target,path),function applyTranslationRotationScale(gltfNode,node){node.matrix.identity(),gltfNode.translation&&node.matrix.translate(gltfNode.translation);if(gltfNode.rotation){const rotationMatrix=helperMatrix.fromQuaternion(gltfNode.rotation);node.matrix.multiplyRight(rotationMatrix)}gltfNode.scale&&node.matrix.scale(gltfNode.scale)}(target,target._node)}))}}class GLTFAnimator{animations;constructor(gltf){this.animations=gltf.animations.map(((animation,index)=>{const name=animation.name||`Animation-${index}`,samplers=animation.samplers.map((({input:input,interpolation:interpolation="LINEAR",output:output})=>({input:accessorToJsArray(gltf.accessors[input]),interpolation:interpolation,output:accessorToJsArray(gltf.accessors[output])}))),channels=animation.channels.map((({sampler:sampler,target:target})=>({sampler:samplers[sampler],target:gltf.nodes[target.node],path:target.path})));return new GLTFAnimation({name:name,channels:channels})}))}animate(time){this.setTime(time)}setTime(time){this.animations.forEach((animation=>animation.animate(time)))}getAnimations(){return this.animations}}function accessorToJsArray(accessor){if(!accessor._animation){const ArrayType=ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[accessor.componentType],components=ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type],length=components*accessor.count,{buffer:buffer,byteOffset:byteOffset}=accessor.bufferView.data,array=new ArrayType(buffer,byteOffset+(accessor.byteOffset||0),length);if(1===components)accessor._animation=Array.from(array);else{const slicedArray=[];for(let i=0;i<array.length;i+=components)slicedArray.push(Array.from(array.slice(i,i+components)));accessor._animation=slicedArray}}return accessor._animation}const helperMatrix=new matrix4.y;const gltf_animator_quaternion=new quaternion._;var model_model=__webpack_require__("./node_modules/@luma.gl/engine/dist/model/model.js"),parse_pbr_material=__webpack_require__("./node_modules/@luma.gl/gltf/dist/pbr/parse-pbr-material.js");function addVersionToShader(device,source){return`#version 300 es\n${source}`}const DEFAULT_OPTIONS={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1};class GLTFInstantiator{device;options;gltf;constructor(device,options={}){this.device=device,this.options={...DEFAULT_OPTIONS,...options}}instantiate(gltf){this.gltf=gltf;return(gltf.scenes||[]).map((scene=>this.createScene(scene)))}createAnimator(){return Array.isArray(this.gltf.animations)?new GLTFAnimator(this.gltf):null}createScene(gltfScene){const nodes=(gltfScene.nodes||[]).map((node=>this.createNode(node)));return new GroupNode({id:gltfScene.name||gltfScene.id,children:nodes})}createNode(gltfNode){if(!gltfNode._node){const children=(gltfNode.children||[]).map((child=>this.createNode(child)));gltfNode.mesh&&children.push(this.createMesh(gltfNode.mesh));const node=new GroupNode({id:gltfNode.name||gltfNode.id,children:children});if(gltfNode.matrix)node.setMatrix(gltfNode.matrix);else{if(node.matrix.identity(),gltfNode.translation&&node.matrix.translate(gltfNode.translation),gltfNode.rotation){const rotationMatrix=(new matrix4.y).fromQuaternion(gltfNode.rotation);node.matrix.multiplyRight(rotationMatrix)}gltfNode.scale&&node.matrix.scale(gltfNode.scale)}gltfNode._node=node}return gltfNode._node}createMesh(gltfMesh){if(!gltfMesh._mesh){const primitives=(gltfMesh.primitives||[]).map(((gltfPrimitive,i)=>this.createPrimitive(gltfPrimitive,i,gltfMesh))),mesh=new GroupNode({id:gltfMesh.name||gltfMesh.id,children:primitives});gltfMesh._mesh=mesh}return gltfMesh._mesh}createPrimitive(gltfPrimitive,i,gltfMesh){const id=gltfPrimitive.name||`${gltfMesh.name||gltfMesh.id}-primitive-${i}`,topology=function convertGLDrawModeToTopology(drawMode){switch(drawMode){case GLEnum.POINTS:return"point-list";case GLEnum.LINES:return"line-list";case GLEnum.LINE_STRIP:return"line-strip";case GLEnum.LINE_LOOP:return"line-loop-webgl";case GLEnum.TRIANGLES:return"triangle-list";case GLEnum.TRIANGLE_STRIP:return"triangle-strip";case GLEnum.TRIANGLE_FAN:return"triangle-fan-webgl";default:throw new Error(drawMode)}}(gltfPrimitive.mode||4),vertexCount=gltfPrimitive.indices?gltfPrimitive.indices.count:this.getVertexCount(gltfPrimitive.attributes),modelNode=function createGLTFModel(device,options){const{id:id,geometry:geometry,material:material,vertexCount:vertexCount,materialOptions:materialOptions,modelOptions:modelOptions}=options,parsedMaterial=(0,parse_pbr_material.z)(device,material,geometry.attributes,materialOptions);utils_log.c.info(4,"createGLTFModel defines: ",parsedMaterial.defines)();const modelProps={id:id,geometry:geometry,topology:geometry.topology,vertexCount:vertexCount,modules:[pbr.b],vs:addVersionToShader(0,"\n#pragma vscode_glsllint_stage: vert\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  // _attr vec4 POSITION;\n  _attr vec4 positions;\n\n  #ifdef HAS_NORMALS\n    // _attr vec4 NORMAL;\n    _attr vec4 normals;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    // _attr vec2 TEXCOORD_0;\n    _attr vec2 texCoords;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = normals;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = texCoords;\n    #endif\n\n    pbr_setPositionNormalTangentUV(positions, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * positions;\n  }\n"),fs:addVersionToShader(0,"\n#pragma vscode_glsllint_stage: frag\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    vec3 pos = pbr_vPosition;\n    fragmentColor = pbr_filterColor(vec4(1.0));\n  }\n"),...modelOptions,bindings:{...parsedMaterial.bindings,...modelOptions.bindings},defines:{...parsedMaterial.defines,...modelOptions.defines},parameters:{depthWriteEnabled:!0,depthCompare:"less",depthFormat:"depth24plus",cullMode:"back",...parsedMaterial.parameters,...modelOptions.parameters},uniforms:{...parsedMaterial.uniforms,...modelOptions.uniforms}},model=new model_model.H(device,modelProps);return new ModelNode({managedResources:[],model:model})}(this.device,{id:id,geometry:this.createGeometry(id,gltfPrimitive,topology),material:gltfPrimitive.material,materialOptions:this.options,modelOptions:this.options.modelOptions,vertexCount:vertexCount});return modelNode.bounds=[gltfPrimitive.attributes.POSITION.min,gltfPrimitive.attributes.POSITION.max],modelNode}getVertexCount(attributes){throw new Error("getVertexCount not implemented")}createGeometry(id,gltfPrimitive,topology){const attributes={};for(const[attributeName,attribute]of Object.entries(gltfPrimitive.attributes)){const{components:components,size:size,value:value}=attribute;attributes[attributeName]={size:size??components,value:value}}return new geometry.Z({id:id,topology:topology,indices:gltfPrimitive.indices.value,attributes:attributes})}createBuffer(attribute,usage){attribute.bufferView||(attribute.bufferView={});const{bufferView:bufferView}=attribute;return bufferView.lumaBuffers||(bufferView.lumaBuffers={}),bufferView.lumaBuffers[usage]||(bufferView.lumaBuffers[usage]=this.device.createBuffer({id:`from-${bufferView.id}`,data:bufferView.data||attribute.value})),bufferView.lumaBuffers[usage]}createSampler(gltfSampler){return gltfSampler}needsPOT(){return!1}}var GLEnum;!function(GLEnum){GLEnum[GLEnum.POINTS=0]="POINTS",GLEnum[GLEnum.LINES=1]="LINES",GLEnum[GLEnum.LINE_LOOP=2]="LINE_LOOP",GLEnum[GLEnum.LINE_STRIP=3]="LINE_STRIP",GLEnum[GLEnum.TRIANGLES=4]="TRIANGLES",GLEnum[GLEnum.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",GLEnum[GLEnum.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(GLEnum||(GLEnum={}));var gltf_loader=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/gltf-loader.js"),post_process_gltf=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/lib/api/post-process-gltf.js");async function waitForGLTFAssets(gltfObjects){const remaining=[];return gltfObjects.scenes.forEach((scene=>{scene.traverse((modelNode=>{Object.values(modelNode.model.uniforms).forEach((uniform=>{!1===uniform.loaded&&remaining.push(uniform)}))}))})),await async function waitWhileCondition(condition){for(;condition();)await new Promise((resolve=>requestAnimationFrame(resolve)))}((()=>remaining.some((uniform=>!uniform.loaded))))}var matrix=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/utils/matrix.js");const DEFAULT_COLOR=[255,255,255,255],defaultProps={scenegraph:{type:"object",value:null,async:!0},getScene:gltf=>gltf&&gltf.scenes?"object"==typeof gltf.scene?gltf.scene:gltf.scenes[gltf.scene||0]:gltf,getAnimator:scenegraph=>scenegraph&&scenegraph.animator,_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:x=>x.position},getColor:{type:"accessor",value:DEFAULT_COLOR},_lighting:"flat",_imageBasedLightingEnvironment:void 0,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[gltf_loader.E]};class ScenegraphLayer extends lib_layer.Z{static{this.defaultProps=defaultProps}static{this.layerName="ScenegraphLayer"}getShaders(){const modules=[project32.Z,picking.Z];return"pbr"===this.props._lighting&&modules.push(pbr.b),super.getShaders({vs:"#version 300 es\n#define SHADER_NAME scenegraph-layer-vertex-shader\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin vec3 instanceModelMatrixCol0;\nin vec3 instanceModelMatrixCol1;\nin vec3 instanceModelMatrixCol2;\nin vec3 instanceTranslation;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\nin vec3 positions;\n#ifdef HAS_UV\nin vec2 texCoords;\n#endif\n#ifdef MODULE_PBR\n#ifdef HAS_NORMALS\nin vec3 normals;\n#endif\n#endif\nout vec4 vColor;\n#ifndef MODULE_PBR\n#ifdef HAS_UV\nout vec2 vTEXCOORD_0;\n#endif\n#endif\nvoid main(void) {\n#if defined(HAS_UV) && !defined(MODULE_PBR)\nvTEXCOORD_0 = texCoords;\ngeometry.uv = texCoords;\n#endif\ngeometry.worldPosition = instancePositions;\ngeometry.pickingColor = instancePickingColors;\nmat3 instanceModelMatrix = mat3(instanceModelMatrixCol0, instanceModelMatrixCol1, instanceModelMatrixCol2);\nvec3 normal = vec3(0.0, 0.0, 1.0);\n#ifdef MODULE_PBR\n#ifdef HAS_NORMALS\nnormal = instanceModelMatrix * (sceneModelMatrix * vec4(normals, 0.0)).xyz;\n#endif\n#endif\nfloat originalSize = project_size_to_pixel(sizeScale);\nfloat clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\nvec3 pos = (instanceModelMatrix * (sceneModelMatrix * vec4(positions, 1.0)).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\nif(composeModelMatrix) {\nDECKGL_FILTER_SIZE(pos, geometry);\ngeometry.normal = project_normal(normal);\ngeometry.worldPosition += pos;\ngl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n}\nelse {\npos = project_size(pos);\nDECKGL_FILTER_SIZE(pos, geometry);\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\ngeometry.normal = project_normal(normal);\n}\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n#ifdef MODULE_PBR\npbr_vPosition = geometry.position.xyz;\n#ifdef HAS_NORMALS\npbr_vNormal = geometry.normal;\n#endif\n#ifdef HAS_UV\npbr_vUV = texCoords;\n#else\npbr_vUV = vec2(0., 0.);\n#endif\ngeometry.uv = pbr_vUV;\n#endif\nvColor = instanceColors;\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME scenegraph-layer-fragment-shader\nuniform float opacity;\nin vec4 vColor;\nout vec4 fragColor;\n#ifndef MODULE_PBR\n#if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\nin vec2 vTEXCOORD_0;\nuniform sampler2D u_BaseColorSampler;\n#endif\n#endif\nvoid main(void) {\n#ifdef MODULE_PBR\nfragColor = vColor * pbr_filterColor(vec4(0));\ngeometry.uv = pbr_vUV;\n#else\n#if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\nfragColor = vColor * texture(u_BaseColorSampler, vTEXCOORD_0);\ngeometry.uv = vTEXCOORD_0;\n#else\nfragColor = vColor;\n#endif\n#endif\nfragColor.a *= opacity;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:modules})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:"unorm8",size:this.props.colorFormat.length,accessor:"getColor",defaultValue:DEFAULT_COLOR,transition:!0},instanceModelMatrix:matrix.P})}updateState(params){super.updateState(params);const{props:props,oldProps:oldProps}=params;props.scenegraph!==oldProps.scenegraph?this._updateScenegraph():props._animations!==oldProps._animations&&this._applyAnimationsProp(this.state.animator,props._animations)}finalizeState(context){super.finalizeState(context),this.state.scenegraph?.destroy()}get isLoaded(){return Boolean(this.state?.scenegraph&&super.isLoaded)}_updateScenegraph(){const props=this.props,{device:device}=this.context;let scenegraphData=null;if(props.scenegraph instanceof ScenegraphNode)scenegraphData={scenes:[props.scenegraph]};else if(props.scenegraph&&"object"==typeof props.scenegraph){const gltf=props.scenegraph,processedGLTF=gltf.json?(0,post_process_gltf.w)(gltf):gltf,gltfObjects=function createScenegraphsFromGLTF(device,gltf,options){const instantiator=new GLTFInstantiator(device,options);return{scenes:instantiator.instantiate(gltf),animator:instantiator.createAnimator()}}(device,processedGLTF,this._getModelOptions());scenegraphData={gltf:processedGLTF,...gltfObjects},waitForGLTFAssets(gltfObjects).then((()=>{this.setNeedsRedraw()})).catch((ex=>{this.raiseError(ex,"loading glTF")}))}const options={layer:this,device:this.context.device},scenegraph=props.getScene(scenegraphData,options),animator=props.getAnimator(scenegraphData,options);if(scenegraph instanceof GroupNode){this.state.scenegraph?.destroy(),this._applyAnimationsProp(animator,props._animations);const models=[];scenegraph.traverse((node=>{node instanceof ModelNode&&models.push(node.model)})),this.setState({scenegraph:scenegraph,animator:animator,models:models}),this.getAttributeManager().invalidateAll()}else null!==scenegraph&&log.Z.warn("invalid scenegraph:",scenegraph)()}_applyAnimationsProp(animator,animationsProp){if(!animator||!animationsProp)return;const animations=animator.getAnimations();Object.keys(animationsProp).sort().forEach((key=>{const value=animationsProp[key];if("*"===key)animations.forEach((animation=>{Object.assign(animation,value)}));else if(Number.isFinite(Number(key))){const number=Number(key);number>=0&&number<animations.length?Object.assign(animations[number],value):log.Z.warn(`animation ${key} not found`)()}else{const findResult=animations.find((({name:name})=>name===key));findResult?Object.assign(findResult,value):log.Z.warn(`animation ${key} not found`)()}}))}_getModelOptions(){const{_imageBasedLightingEnvironment:_imageBasedLightingEnvironment}=this.props;let env;return _imageBasedLightingEnvironment&&(env="function"==typeof _imageBasedLightingEnvironment?_imageBasedLightingEnvironment({gl:this.context.gl,layer:this}):_imageBasedLightingEnvironment),{imageBasedLightingEnvironment:env,modelOptions:{id:this.props.id,isInstanced:!0,bufferLayout:this.getAttributeManager().getBufferLayouts(),...this.getShaders()},useTangents:!1}}draw({context:context}){if(!this.state.scenegraph)return;this.props._animations&&this.state.animator&&(this.state.animator.animate(context.timeline.getTime()),this.setNeedsRedraw());const{viewport:viewport,renderPass:renderPass}=this.context,{sizeScale:sizeScale,sizeMinPixels:sizeMinPixels,sizeMaxPixels:sizeMaxPixels,opacity:opacity,coordinateSystem:coordinateSystem}=this.props,numInstances=this.getNumInstances();this.state.scenegraph.traverse(((node,{worldMatrix:worldMatrix})=>{if(node instanceof ModelNode){const{model:model}=node;model.setInstanceCount(numInstances),model.setUniforms({sizeScale:sizeScale,opacity:opacity,sizeMinPixels:sizeMinPixels,sizeMaxPixels:sizeMaxPixels,composeModelMatrix:(0,matrix.X)(viewport,coordinateSystem),sceneModelMatrix:worldMatrix,u_Camera:model.uniforms.project_uCameraPosition}),model.draw(renderPass)}}))}}},"./node_modules/@deck.gl/mesh-layers/dist/simple-mesh-layer/simple-mesh-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return SimpleMeshLayer}});var log=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/log.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project32/project32.js"),phong_lighting=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/modules-webgl1/lighting/phong-lighting/phong-lighting.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/picking/picking.js"),texture=__webpack_require__("./node_modules/@luma.gl/core/dist/adapter/resources/texture.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometry/geometry.js"),model_model=__webpack_require__("./node_modules/@luma.gl/engine/dist/model/model.js"),matrix=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/utils/matrix.js"),mesh_utils=__webpack_require__("./node_modules/@loaders.gl/schema/dist/lib/mesh/mesh-utils.js");function normalizeGeometryAttributes(attributes){const positionAttribute=attributes.positions||attributes.POSITION;log.Z.assert(positionAttribute,'no "postions" or "POSITION" attribute in mesh');const vertexCount=positionAttribute.value.length/positionAttribute.size;let colorAttribute=attributes.COLOR_0||attributes.colors;colorAttribute||(colorAttribute={size:3,value:new Float32Array(3*vertexCount).fill(1)});let normalAttribute=attributes.NORMAL||attributes.normals;normalAttribute||(normalAttribute={size:3,value:new Float32Array(3*vertexCount).fill(0)});let texCoordAttribute=attributes.TEXCOORD_0||attributes.texCoords;return texCoordAttribute||(texCoordAttribute={size:2,value:new Float32Array(2*vertexCount).fill(0)}),{positions:positionAttribute,colors:colorAttribute,normals:normalAttribute,texCoords:texCoordAttribute}}function getGeometry(data){return data instanceof geometry.Z?(data.attributes=normalizeGeometryAttributes(data.attributes),data):data.attributes?new geometry.Z({...data,topology:"triangle-list",attributes:normalizeGeometryAttributes(data.attributes)}):new geometry.Z({topology:"triangle-list",attributes:normalizeGeometryAttributes(data)})}const defaultProps={mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:x=>x.position},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},textureParameters:{type:"object",ignore:!0,value:null}};class SimpleMeshLayer extends lib_layer.Z{static{this.defaultProps=defaultProps}static{this.layerName="SimpleMeshLayer"}getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin vec3 instanceModelMatrixCol0;\nin vec3 instanceModelMatrixCol1;\nin vec3 instanceModelMatrixCol2;\nin vec3 instanceTranslation;\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\nvoid main(void) {\ngeometry.worldPosition = instancePositions;\ngeometry.uv = texCoords;\ngeometry.pickingColor = instancePickingColors;\nvTexCoord = texCoords;\ncameraPosition = project_uCameraPosition;\nvColor = vec4(colors * instanceColors.rgb, instanceColors.a);\nmat3 instanceModelMatrix = mat3(instanceModelMatrixCol0, instanceModelMatrixCol1, instanceModelMatrixCol2);\nvec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\nif (composeModelMatrix) {\nDECKGL_FILTER_SIZE(pos, geometry);\nnormals_commonspace = project_normal(instanceModelMatrix * normals);\ngeometry.worldPosition += pos;\ngl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\ngeometry.position = position_commonspace;\n}\nelse {\npos = project_size(pos);\nDECKGL_FILTER_SIZE(pos, geometry);\ngl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\ngeometry.position = position_commonspace;\nnormals_commonspace = project_normal(instanceModelMatrix * normals);\n}\ngeometry.normal = normals_commonspace;\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\nprecision highp float;\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = vTexCoord;\nvec3 normal;\nif (flatShading) {\nnormal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n} else {\nnormal = normals_commonspace;\n}\nvec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\nDECKGL_FILTER_COLOR(color, geometry);\nvec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\nfragColor = vec4(lightColor, color.a * opacity);\n}\n",modules:[project32.Z,phong_lighting.s,picking.Z]})}getBounds(){if(this.props._instanced)return super.getBounds();let result=this.state.positionBounds;if(result)return result;const{mesh:mesh}=this.props;if(!mesh)return null;if(result=mesh.header?.boundingBox,!result){const{attributes:attributes}=getGeometry(mesh);attributes.POSITION=attributes.POSITION||attributes.positions,result=(0,mesh_utils.v)(attributes)}return this.state.positionBounds=result,result}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:"float64",fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:"unorm8",transition:!0,size:this.props.colorFormat.length,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:matrix.P}),this.setState({emptyTexture:this.context.device.createTexture({data:new Uint8Array(4),width:1,height:1})})}updateState(params){super.updateState(params);const{props:props,oldProps:oldProps,changeFlags:changeFlags}=params;if(props.mesh!==oldProps.mesh||changeFlags.extensionsChanged){if(this.state.positionBounds=null,this.state.model?.destroy(),props.mesh){this.state.model=this.getModel(props.mesh);const attributes=props.mesh.attributes||props.mesh;this.setState({hasNormals:Boolean(attributes.NORMAL||attributes.normals)})}this.getAttributeManager().invalidateAll()}props.texture!==oldProps.texture&&props.texture instanceof texture.x&&this.setTexture(props.texture),this.state.model&&this.state.model.setTopology(this.props.wireframe?"line-strip":"triangle-list")}finalizeState(context){super.finalizeState(context),this.state.emptyTexture.delete()}draw({uniforms:uniforms}){const{model:model}=this.state;if(!model)return;const{viewport:viewport,renderPass:renderPass}=this.context,{sizeScale:sizeScale,coordinateSystem:coordinateSystem,_instanced:_instanced}=this.props;model.setUniforms(uniforms),model.setUniforms({sizeScale:sizeScale,composeModelMatrix:!_instanced||(0,matrix.X)(viewport,coordinateSystem),flatShading:!this.state.hasNormals}),model.draw(renderPass)}get isLoaded(){return Boolean(this.state?.model&&super.isLoaded)}getModel(mesh){const model=new model_model.H(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:getGeometry(mesh),isInstanced:!0}),{texture:texture}=this.props,{emptyTexture:emptyTexture}=this.state;return model.setBindings({sampler:texture||emptyTexture}),model.setUniforms({hasTexture:Boolean(texture)}),model}setTexture(texture){const{emptyTexture:emptyTexture,model:model}=this.state;model&&(model.setBindings({sampler:texture||emptyTexture}),model.setUniforms({hasTexture:Boolean(texture)}))}}},"./node_modules/@deck.gl/mesh-layers/dist/utils/matrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return MATRIX_ATTRIBUTES},X:function(){return shouldComposeModelMatrix}});var _deck_gl_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/iterable-utils.js"),_deck_gl_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js");const RADIAN_PER_DEGREE=Math.PI/180,modelMatrix=new Float32Array(16),valueArray=new Float32Array(12);function calculateTransformMatrix(targetMatrix,orientation,scale){const pitch=orientation[0]*RADIAN_PER_DEGREE,yaw=orientation[1]*RADIAN_PER_DEGREE,roll=orientation[2]*RADIAN_PER_DEGREE,sr=Math.sin(roll),sp=Math.sin(pitch),sw=Math.sin(yaw),cr=Math.cos(roll),cp=Math.cos(pitch),cw=Math.cos(yaw),scx=scale[0],scy=scale[1],scz=scale[2];targetMatrix[0]=scx*cw*cp,targetMatrix[1]=scx*sw*cp,targetMatrix[2]=scx*-sp,targetMatrix[3]=scy*(-sw*cr+cw*sp*sr),targetMatrix[4]=scy*(cw*cr+sw*sp*sr),targetMatrix[5]=scy*cp*sr,targetMatrix[6]=scz*(sw*sr+cw*sp*cr),targetMatrix[7]=scz*(-cw*sr+sw*sp*cr),targetMatrix[8]=scz*cp*cr}function getExtendedMat3FromMat4(mat4){return mat4[0]=mat4[0],mat4[1]=mat4[1],mat4[2]=mat4[2],mat4[3]=mat4[4],mat4[4]=mat4[5],mat4[5]=mat4[6],mat4[6]=mat4[8],mat4[7]=mat4[9],mat4[8]=mat4[10],mat4[9]=mat4[12],mat4[10]=mat4[13],mat4[11]=mat4[14],mat4.subarray(0,12)}const MATRIX_ATTRIBUTES={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrixCol0:{size:3,elementOffset:0},instanceModelMatrixCol1:{size:3,elementOffset:3},instanceModelMatrixCol2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(attribute,{startRow:startRow,endRow:endRow}){const{data:data,getOrientation:getOrientation,getScale:getScale,getTranslation:getTranslation,getTransformMatrix:getTransformMatrix}=this.props,arrayMatrix=Array.isArray(getTransformMatrix),constantMatrix=arrayMatrix&&16===getTransformMatrix.length,constantScale=Array.isArray(getScale),constantOrientation=Array.isArray(getOrientation),constantTranslation=Array.isArray(getTranslation),hasMatrix=constantMatrix||!arrayMatrix&&Boolean(getTransformMatrix(data[0]));attribute.constant=hasMatrix?constantMatrix:constantOrientation&&constantScale&&constantTranslation;const instanceModelMatrixData=attribute.value;if(attribute.constant){let matrix;if(hasMatrix)modelMatrix.set(getTransformMatrix),matrix=getExtendedMat3FromMat4(modelMatrix);else{matrix=valueArray;calculateTransformMatrix(matrix,getOrientation,getScale),matrix.set(getTranslation,9)}attribute.value=new Float32Array(matrix)}else{let i=startRow*attribute.size;const{iterable:iterable,objectInfo:objectInfo}=(0,_deck_gl_core__WEBPACK_IMPORTED_MODULE_0__.jB)(data,startRow,endRow);for(const object of iterable){let matrix;if(objectInfo.index++,hasMatrix)modelMatrix.set(constantMatrix?getTransformMatrix:getTransformMatrix(object,objectInfo)),matrix=getExtendedMat3FromMat4(modelMatrix);else{matrix=valueArray;calculateTransformMatrix(matrix,constantOrientation?getOrientation:getOrientation(object,objectInfo),constantScale?getScale:getScale(object,objectInfo)),matrix.set(constantTranslation?getTranslation:getTranslation(object,objectInfo),9)}instanceModelMatrixData[i++]=matrix[0],instanceModelMatrixData[i++]=matrix[1],instanceModelMatrixData[i++]=matrix[2],instanceModelMatrixData[i++]=matrix[3],instanceModelMatrixData[i++]=matrix[4],instanceModelMatrixData[i++]=matrix[5],instanceModelMatrixData[i++]=matrix[6],instanceModelMatrixData[i++]=matrix[7],instanceModelMatrixData[i++]=matrix[8],instanceModelMatrixData[i++]=matrix[9],instanceModelMatrixData[i++]=matrix[10],instanceModelMatrixData[i++]=matrix[11]}}}};function shouldComposeModelMatrix(viewport,coordinateSystem){return coordinateSystem===_deck_gl_core__WEBPACK_IMPORTED_MODULE_1__.COORDINATE_SYSTEM.CARTESIAN||coordinateSystem===_deck_gl_core__WEBPACK_IMPORTED_MODULE_1__.COORDINATE_SYSTEM.METER_OFFSETS||coordinateSystem===_deck_gl_core__WEBPACK_IMPORTED_MODULE_1__.COORDINATE_SYSTEM.DEFAULT&&!viewport.isGeospatial}},"./node_modules/@loaders.gl/draco/dist/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{VJ:function(){return dist_DracoLoader}});const DracoLoader={dataType:null,batchType:null,name:"Draco",id:"draco",module:"draco",version:"4.2.1",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};var mesh_utils=__webpack_require__("./node_modules/@loaders.gl/schema/dist/lib/mesh/mesh-utils.js");function getDataTypeFromTypedArray(array){switch(array.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}function deduceMeshField(name,attribute,optionalMetadata){const type=getDataTypeFromTypedArray(attribute.value),metadata=optionalMetadata||function makeMeshAttributeMetadata(attribute){const result={};"byteOffset"in attribute&&(result.byteOffset=attribute.byteOffset.toString(10));"byteStride"in attribute&&(result.byteStride=attribute.byteStride.toString(10));"normalized"in attribute&&(result.normalized=attribute.normalized.toString());return result}(attribute);return{name:name,type:{type:"fixed-size-list",listSize:attribute.size,children:[{name:"value",type:type}]},nullable:!1,metadata:metadata}}function getArrowFieldFromAttribute(attributeName,attribute,loaderData){return deduceMeshField(attributeName,attribute,loaderData?makeMetadata(loaderData.metadata):void 0)}function makeMetadata(metadata){Object.entries(metadata);const serializedMetadata={};for(const key in metadata)serializedMetadata[`${key}.string`]=JSON.stringify(metadata[key]);return serializedMetadata}const DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},DRACO_DATA_TYPE_TO_TYPED_ARRAY_MAP={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};class DracoParser{draco;decoder;metadataQuerier;constructor(draco){this.draco=draco,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(arrayBuffer,options={}){const buffer=new this.draco.DecoderBuffer;buffer.Init(new Int8Array(arrayBuffer),arrayBuffer.byteLength),this._disableAttributeTransforms(options);const geometry_type=this.decoder.GetEncodedGeometryType(buffer),dracoGeometry=geometry_type===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let dracoStatus;switch(geometry_type){case this.draco.TRIANGULAR_MESH:dracoStatus=this.decoder.DecodeBufferToMesh(buffer,dracoGeometry);break;case this.draco.POINT_CLOUD:dracoStatus=this.decoder.DecodeBufferToPointCloud(buffer,dracoGeometry);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!dracoStatus.ok()||!dracoGeometry.ptr){const message=`DRACO decompression failed: ${dracoStatus.error_msg()}`;throw new Error(message)}const loaderData=this._getDracoLoaderData(dracoGeometry,geometry_type,options),geometry=this._getMeshData(dracoGeometry,loaderData,options),boundingBox=(0,mesh_utils.v)(geometry.attributes),schema=function getDracoSchema(attributes,loaderData,indices){const metadata=makeMetadata(loaderData.metadata),fields=[],namedLoaderDataAttributes=function transformAttributesLoaderData(loaderData){const result={};for(const key in loaderData){const dracoAttribute=loaderData[key];result[dracoAttribute.name||"undefined"]=dracoAttribute}return result}(loaderData.attributes);for(const attributeName in attributes){const field=getArrowFieldFromAttribute(attributeName,attributes[attributeName],namedLoaderDataAttributes[attributeName]);fields.push(field)}if(indices){const indicesField=getArrowFieldFromAttribute("indices",indices);fields.push(indicesField)}return{fields:fields,metadata:metadata}}(geometry.attributes,loaderData,geometry.indices);return{loader:"draco",loaderData:loaderData,header:{vertexCount:dracoGeometry.num_points(),boundingBox:boundingBox},...geometry,schema:schema}}finally{this.draco.destroy(buffer),dracoGeometry&&this.draco.destroy(dracoGeometry)}}_getDracoLoaderData(dracoGeometry,geometry_type,options){const metadata=this._getTopLevelMetadata(dracoGeometry),attributes=this._getDracoAttributes(dracoGeometry,options);return{geometry_type:geometry_type,num_attributes:dracoGeometry.num_attributes(),num_points:dracoGeometry.num_points(),num_faces:dracoGeometry instanceof this.draco.Mesh?dracoGeometry.num_faces():0,metadata:metadata,attributes:attributes}}_getDracoAttributes(dracoGeometry,options){const dracoAttributes={};for(let attributeId=0;attributeId<dracoGeometry.num_attributes();attributeId++){const dracoAttribute=this.decoder.GetAttribute(dracoGeometry,attributeId),metadata=this._getAttributeMetadata(dracoGeometry,attributeId);dracoAttributes[dracoAttribute.unique_id()]={unique_id:dracoAttribute.unique_id(),attribute_type:dracoAttribute.attribute_type(),data_type:dracoAttribute.data_type(),num_components:dracoAttribute.num_components(),byte_offset:dracoAttribute.byte_offset(),byte_stride:dracoAttribute.byte_stride(),normalized:dracoAttribute.normalized(),attribute_index:attributeId,metadata:metadata};const quantization=this._getQuantizationTransform(dracoAttribute,options);quantization&&(dracoAttributes[dracoAttribute.unique_id()].quantization_transform=quantization);const octahedron=this._getOctahedronTransform(dracoAttribute,options);octahedron&&(dracoAttributes[dracoAttribute.unique_id()].octahedron_transform=octahedron)}return dracoAttributes}_getMeshData(dracoGeometry,loaderData,options){const attributes=this._getMeshAttributes(loaderData,dracoGeometry,options);if(!attributes.POSITION)throw new Error("DRACO: No position attribute found.");return dracoGeometry instanceof this.draco.Mesh?"triangle-strip"===options.topology?{topology:"triangle-strip",mode:4,attributes:attributes,indices:{value:this._getTriangleStripIndices(dracoGeometry),size:1}}:{topology:"triangle-list",mode:5,attributes:attributes,indices:{value:this._getTriangleListIndices(dracoGeometry),size:1}}:{topology:"point-list",mode:0,attributes:attributes}}_getMeshAttributes(loaderData,dracoGeometry,options){const attributes={};for(const loaderAttribute of Object.values(loaderData.attributes)){const attributeName=this._deduceAttributeName(loaderAttribute,options);loaderAttribute.name=attributeName;const values=this._getAttributeValues(dracoGeometry,loaderAttribute);if(values){const{value:value,size:size}=values;attributes[attributeName]={value:value,size:size,byteOffset:loaderAttribute.byte_offset,byteStride:loaderAttribute.byte_stride,normalized:loaderAttribute.normalized}}}return attributes}_getTriangleListIndices(dracoGeometry){const numIndices=3*dracoGeometry.num_faces(),byteLength=4*numIndices,ptr=this.draco._malloc(byteLength);try{return this.decoder.GetTrianglesUInt32Array(dracoGeometry,byteLength,ptr),new Uint32Array(this.draco.HEAPF32.buffer,ptr,numIndices).slice()}finally{this.draco._free(ptr)}}_getTriangleStripIndices(dracoGeometry){const dracoArray=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(dracoGeometry,dracoArray),function getUint32Array(dracoArray){const numValues=dracoArray.size(),intArray=new Int32Array(numValues);for(let i=0;i<numValues;i++)intArray[i]=dracoArray.GetValue(i);return intArray}(dracoArray)}finally{this.draco.destroy(dracoArray)}}_getAttributeValues(dracoGeometry,attribute){const TypedArrayCtor=DRACO_DATA_TYPE_TO_TYPED_ARRAY_MAP[attribute.data_type];if(!TypedArrayCtor)return console.warn(`DRACO: Unsupported attribute type ${attribute.data_type}`),null;const numComponents=attribute.num_components,numValues=dracoGeometry.num_points()*numComponents,byteLength=numValues*TypedArrayCtor.BYTES_PER_ELEMENT,dataType=function getDracoDataType(draco,attributeType){switch(attributeType){case Float32Array:return draco.DT_FLOAT32;case Int8Array:return draco.DT_INT8;case Int16Array:return draco.DT_INT16;case Int32Array:return draco.DT_INT32;case Uint8Array:return draco.DT_UINT8;case Uint16Array:return draco.DT_UINT16;case Uint32Array:return draco.DT_UINT32;default:return draco.DT_INVALID}}(this.draco,TypedArrayCtor);let value;const ptr=this.draco._malloc(byteLength);try{const dracoAttribute=this.decoder.GetAttribute(dracoGeometry,attribute.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(dracoGeometry,dracoAttribute,dataType,byteLength,ptr),value=new TypedArrayCtor(this.draco.HEAPF32.buffer,ptr,numValues).slice()}finally{this.draco._free(ptr)}return{value:value,size:numComponents}}_deduceAttributeName(attribute,options){const uniqueId=attribute.unique_id;for(const[attributeName,attributeUniqueId]of Object.entries(options.extraAttributes||{}))if(attributeUniqueId===uniqueId)return attributeName;const thisAttributeType=attribute.attribute_type;for(const dracoAttributeConstant in DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP){if(this.draco[dracoAttributeConstant]===thisAttributeType)return DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP[dracoAttributeConstant]}const entryName=options.attributeNameEntry||"name";return attribute.metadata[entryName]?attribute.metadata[entryName].string:`CUSTOM_ATTRIBUTE_${uniqueId}`}_getTopLevelMetadata(dracoGeometry){const dracoMetadata=this.decoder.GetMetadata(dracoGeometry);return this._getDracoMetadata(dracoMetadata)}_getAttributeMetadata(dracoGeometry,attributeId){const dracoMetadata=this.decoder.GetAttributeMetadata(dracoGeometry,attributeId);return this._getDracoMetadata(dracoMetadata)}_getDracoMetadata(dracoMetadata){if(!dracoMetadata||!dracoMetadata.ptr)return{};const result={},numEntries=this.metadataQuerier.NumEntries(dracoMetadata);for(let entryIndex=0;entryIndex<numEntries;entryIndex++){const entryName=this.metadataQuerier.GetEntryName(dracoMetadata,entryIndex);result[entryName]=this._getDracoMetadataField(dracoMetadata,entryName)}return result}_getDracoMetadataField(dracoMetadata,entryName){const dracoArray=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(dracoMetadata,entryName,dracoArray);const intArray=function getInt32Array(dracoArray){const numValues=dracoArray.size(),intArray=new Int32Array(numValues);for(let i=0;i<numValues;i++)intArray[i]=dracoArray.GetValue(i);return intArray}(dracoArray);return{int:this.metadataQuerier.GetIntEntry(dracoMetadata,entryName),string:this.metadataQuerier.GetStringEntry(dracoMetadata,entryName),double:this.metadataQuerier.GetDoubleEntry(dracoMetadata,entryName),intArray:intArray}}finally{this.draco.destroy(dracoArray)}}_disableAttributeTransforms(options){const{quantizedAttributes:quantizedAttributes=[],octahedronAttributes:octahedronAttributes=[]}=options,skipAttributes=[...quantizedAttributes,...octahedronAttributes];for(const dracoAttributeName of skipAttributes)this.decoder.SkipAttributeTransform(this.draco[dracoAttributeName])}_getQuantizationTransform(dracoAttribute,options){const{quantizedAttributes:quantizedAttributes=[]}=options,attribute_type=dracoAttribute.attribute_type();if(quantizedAttributes.map((type=>this.decoder[type])).includes(attribute_type)){const transform=new this.draco.AttributeQuantizationTransform;try{if(transform.InitFromAttribute(dracoAttribute))return{quantization_bits:transform.quantization_bits(),range:transform.range(),min_values:new Float32Array([1,2,3]).map((i=>transform.min_value(i)))}}finally{this.draco.destroy(transform)}}return null}_getOctahedronTransform(dracoAttribute,options){const{octahedronAttributes:octahedronAttributes=[]}=options,attribute_type=dracoAttribute.attribute_type();if(octahedronAttributes.map((type=>this.decoder[type])).includes(attribute_type)){const transform=new this.draco.AttributeQuantizationTransform;try{if(transform.InitFromAttribute(dracoAttribute))return{quantization_bits:transform.quantization_bits()}}finally{this.draco.destroy(transform)}}return null}}var library_utils=__webpack_require__("./node_modules/@loaders.gl/worker-utils/dist/lib/library-utils/library-utils.js");const STATIC_DECODER_URL="https://www.gstatic.com/draco/versioned/decoders/1.5.6",DRACO_EXTERNAL_LIBRARIES={DECODER:"draco_wasm_wrapper.js",DECODER_WASM:"draco_decoder.wasm",FALLBACK_DECODER:"draco_decoder.js",ENCODER:"draco_encoder.js"},DRACO_EXTERNAL_LIBRARY_URLS={[DRACO_EXTERNAL_LIBRARIES.DECODER]:`${STATIC_DECODER_URL}/${DRACO_EXTERNAL_LIBRARIES.DECODER}`,[DRACO_EXTERNAL_LIBRARIES.DECODER_WASM]:`${STATIC_DECODER_URL}/${DRACO_EXTERNAL_LIBRARIES.DECODER_WASM}`,[DRACO_EXTERNAL_LIBRARIES.FALLBACK_DECODER]:`${STATIC_DECODER_URL}/${DRACO_EXTERNAL_LIBRARIES.FALLBACK_DECODER}`,[DRACO_EXTERNAL_LIBRARIES.ENCODER]:`https://raw.githubusercontent.com/google/draco/1.4.1/javascript/${DRACO_EXTERNAL_LIBRARIES.ENCODER}`};let loadDecoderPromise;async function loadDracoDecoderModule(options){const modules=options.modules||{};return modules.draco3d?loadDecoderPromise||=modules.draco3d.createDecoderModule({}).then((draco=>({draco:draco}))):loadDecoderPromise||=async function loadDracoDecoder(options){let DracoDecoderModule,wasmBinary;if("js"===(options.draco&&options.draco.decoderType))DracoDecoderModule=await(0,library_utils.Y)(DRACO_EXTERNAL_LIBRARY_URLS[DRACO_EXTERNAL_LIBRARIES.FALLBACK_DECODER],"draco",options,DRACO_EXTERNAL_LIBRARIES.FALLBACK_DECODER);else[DracoDecoderModule,wasmBinary]=await Promise.all([await(0,library_utils.Y)(DRACO_EXTERNAL_LIBRARY_URLS[DRACO_EXTERNAL_LIBRARIES.DECODER],"draco",options,DRACO_EXTERNAL_LIBRARIES.DECODER),await(0,library_utils.Y)(DRACO_EXTERNAL_LIBRARY_URLS[DRACO_EXTERNAL_LIBRARIES.DECODER_WASM],"draco",options,DRACO_EXTERNAL_LIBRARIES.DECODER_WASM)]);return DracoDecoderModule=DracoDecoderModule||globalThis.DracoDecoderModule,await function initializeDracoDecoder(DracoDecoderModule,wasmBinary){const options={};wasmBinary&&(options.wasmBinary=wasmBinary);return new Promise((resolve=>{DracoDecoderModule({...options,onModuleLoaded:draco=>resolve({draco:draco})})}))}(DracoDecoderModule,wasmBinary)}(options),await loadDecoderPromise}const dist_DracoLoader={...DracoLoader,parse:async function parse(arrayBuffer,options){const{draco:draco}=await loadDracoDecoderModule(options),dracoParser=new DracoParser(draco);try{return dracoParser.parseSync(arrayBuffer,options?.draco)}finally{dracoParser.destroy()}}}},"./node_modules/@loaders.gl/gltf/dist/gltf-loader.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return GLTFLoader}});var EXT_mesh_features_namespaceObject={};__webpack_require__.r(EXT_mesh_features_namespaceObject),__webpack_require__.d(EXT_mesh_features_namespaceObject,{decode:function(){return decode},name:function(){return EXT_mesh_features_name}});var EXT_structural_metadata_namespaceObject={};__webpack_require__.r(EXT_structural_metadata_namespaceObject),__webpack_require__.d(EXT_structural_metadata_namespaceObject,{decode:function(){return EXT_structural_metadata_decode},name:function(){return EXT_structural_metadata_name}});var EXT_meshopt_compression_namespaceObject={};__webpack_require__.r(EXT_meshopt_compression_namespaceObject),__webpack_require__.d(EXT_meshopt_compression_namespaceObject,{decode:function(){return EXT_meshopt_compression_decode},name:function(){return EXT_meshopt_compression_name}});var EXT_texture_webp_namespaceObject={};__webpack_require__.r(EXT_texture_webp_namespaceObject),__webpack_require__.d(EXT_texture_webp_namespaceObject,{name:function(){return EXT_texture_webp_name},preprocess:function(){return preprocess}});var KHR_texture_basisu_namespaceObject={};__webpack_require__.r(KHR_texture_basisu_namespaceObject),__webpack_require__.d(KHR_texture_basisu_namespaceObject,{name:function(){return KHR_texture_basisu_name},preprocess:function(){return KHR_texture_basisu_preprocess}});var KHR_draco_mesh_compression_namespaceObject={};__webpack_require__.r(KHR_draco_mesh_compression_namespaceObject),__webpack_require__.d(KHR_draco_mesh_compression_namespaceObject,{decode:function(){return KHR_draco_mesh_compression_decode},encode:function(){return encode},name:function(){return KHR_draco_mesh_compression_name},preprocess:function(){return KHR_draco_mesh_compression_preprocess}});var KHR_texture_transform_namespaceObject={};__webpack_require__.r(KHR_texture_transform_namespaceObject),__webpack_require__.d(KHR_texture_transform_namespaceObject,{decode:function(){return KHR_texture_transform_decode},name:function(){return KHR_texture_transform_name}});var KHR_lights_punctual_namespaceObject={};__webpack_require__.r(KHR_lights_punctual_namespaceObject),__webpack_require__.d(KHR_lights_punctual_namespaceObject,{decode:function(){return KHR_lights_punctual_decode},encode:function(){return KHR_lights_punctual_encode},name:function(){return KHR_lights_punctual_name}});var KHR_materials_unlit_namespaceObject={};__webpack_require__.r(KHR_materials_unlit_namespaceObject),__webpack_require__.d(KHR_materials_unlit_namespaceObject,{decode:function(){return KHR_materials_unlit_decode},encode:function(){return KHR_materials_unlit_encode},name:function(){return KHR_materials_unlit_name}});var KHR_techniques_webgl_namespaceObject={};__webpack_require__.r(KHR_techniques_webgl_namespaceObject),__webpack_require__.d(KHR_techniques_webgl_namespaceObject,{decode:function(){return KHR_techniques_webgl_decode},encode:function(){return KHR_techniques_webgl_encode},name:function(){return KHR_techniques_webgl_name}});var EXT_feature_metadata_namespaceObject={};__webpack_require__.r(EXT_feature_metadata_namespaceObject),__webpack_require__.d(EXT_feature_metadata_namespaceObject,{decode:function(){return EXT_feature_metadata_decode},name:function(){return EXT_feature_metadata_name}});function getMagicString(arrayBuffer,byteOffset,length){if(arrayBuffer.byteLength<=byteOffset+length)return"";const dataView=new DataView(arrayBuffer);let magic="";for(let i=0;i<length;i++)magic+=String.fromCharCode(dataView.getUint8(byteOffset+i));return magic}function parseJSON(string){try{return JSON.parse(string)}catch(_){throw new Error(`Failed to parse JSON from data starting with "${function getFirstCharacters(data,length=5){if("string"==typeof data)return data.slice(0,length);if(ArrayBuffer.isView(data))return getMagicString(data.buffer,data.byteOffset,length);if(data instanceof ArrayBuffer)return getMagicString(data,0,length);return""}(string)}"`)}}var array_buffer_utils=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/lib/binary-utils/array-buffer-utils.js"),loader_types=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/loader-types.js"),image_loader=__webpack_require__("./node_modules/@loaders.gl/images/dist/image-loader.js");var library_utils=__webpack_require__("./node_modules/@loaders.gl/worker-utils/dist/lib/library-utils/library-utils.js");const BASIS_EXTERNAL_LIBRARIES={TRANSCODER:"basis_transcoder.js",TRANSCODER_WASM:"basis_transcoder.wasm",ENCODER:"basis_encoder.js",ENCODER_WASM:"basis_encoder.wasm"};let loadBasisTranscoderPromise,loadBasisEncoderPromise;async function loadBasisTranscoderModule(options){!function registerJSModules(modules){globalThis.loaders||={},globalThis.loaders.modules||={},Object.assign(globalThis.loaders.modules,modules)}(options.modules);const basis=function getJSModuleOrNull(name){const module=globalThis.loaders?.modules?.[name];return module||null}("basis");return basis||(loadBasisTranscoderPromise||=async function loadBasisTranscoder(options){let BASIS=null,wasmBinary=null;return[BASIS,wasmBinary]=await Promise.all([await(0,library_utils.Y)(BASIS_EXTERNAL_LIBRARIES.TRANSCODER,"textures",options),await(0,library_utils.Y)(BASIS_EXTERNAL_LIBRARIES.TRANSCODER_WASM,"textures",options)]),BASIS=BASIS||globalThis.BASIS,await function initializeBasisTranscoderModule(BasisModule,wasmBinary){const options={};wasmBinary&&(options.wasmBinary=wasmBinary);return new Promise((resolve=>{BasisModule(options).then((module=>{const{BasisFile:BasisFile,initializeBasis:initializeBasis}=module;initializeBasis(),resolve({BasisFile:BasisFile})}))}))}(BASIS,wasmBinary)}(options),await loadBasisTranscoderPromise)}async function loadBasisEncoderModule(options){const modules=options.modules||{};return modules.basisEncoder?modules.basisEncoder:(loadBasisEncoderPromise=loadBasisEncoderPromise||async function loadBasisEncoder(options){let BASIS_ENCODER=null,wasmBinary=null;return[BASIS_ENCODER,wasmBinary]=await Promise.all([await(0,library_utils.Y)(BASIS_EXTERNAL_LIBRARIES.ENCODER,"textures",options),await(0,library_utils.Y)(BASIS_EXTERNAL_LIBRARIES.ENCODER_WASM,"textures",options)]),BASIS_ENCODER=BASIS_ENCODER||globalThis.BASIS,await function initializeBasisEncoderModule(BasisEncoderModule,wasmBinary){const options={};wasmBinary&&(options.wasmBinary=wasmBinary);return new Promise((resolve=>{BasisEncoderModule(options).then((module=>{const{BasisFile:BasisFile,KTX2File:KTX2File,initializeBasis:initializeBasis,BasisEncoder:BasisEncoder}=module;initializeBasis(),resolve({BasisFile:BasisFile,KTX2File:KTX2File,BasisEncoder:BasisEncoder})}))}))}(BASIS_ENCODER,wasmBinary)}(options),await loadBasisEncoderPromise)}const GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGB_S3TC_DXT1_EXT=33776,GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGB_ETC1_WEBGL=36196,GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGBA_ASTC_4X4_KHR=37808,BROWSER_PREFIXES=["","WEBKIT_","MOZ_"],WEBGL_EXTENSIONS={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let formats=null;function getSupportedGPUTextureFormats(gl){if(!formats){gl=gl||function getWebGLContext(){try{return document.createElement("canvas").getContext("webgl")}catch(error){return null}}()||void 0,formats=new Set;for(const prefix of BROWSER_PREFIXES)for(const extension in WEBGL_EXTENSIONS)if(gl&&gl.getExtension(`${prefix}${extension}`)){const gpuTextureFormat=WEBGL_EXTENSIONS[extension];formats.add(gpuTextureFormat)}}return formats}new Uint8Array([0]);var n,i,s,a,r,o,l,f;!function(t){t[t.NONE=0]="NONE",t[t.BASISLZ=1]="BASISLZ",t[t.ZSTD=2]="ZSTD",t[t.ZLIB=3]="ZLIB"}(n||(n={})),function(t){t[t.BASICFORMAT=0]="BASICFORMAT"}(i||(i={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.ETC1S=163]="ETC1S",t[t.UASTC=166]="UASTC"}(s||(s={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.SRGB=1]="SRGB"}(a||(a={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.LINEAR=1]="LINEAR",t[t.SRGB=2]="SRGB",t[t.ITU=3]="ITU",t[t.NTSC=4]="NTSC",t[t.SLOG=5]="SLOG",t[t.SLOG2=6]="SLOG2"}(r||(r={})),function(t){t[t.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",t[t.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(o||(o={})),function(t){t[t.RGB=0]="RGB",t[t.RRR=3]="RRR",t[t.GGG=4]="GGG",t[t.AAA=15]="AAA"}(l||(l={})),function(t){t[t.RGB=0]="RGB",t[t.RGBA=3]="RGBA",t[t.RRR=4]="RRR",t[t.RRRG=5]="RRRG"}(f||(f={}));const KTX2_ID=[171,75,84,88,32,50,48,187,13,10,26,10];const OutputFormat={etc1:{basisFormat:0,compressed:!0,format:GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function parseBasisFile(BasisFile,data,options){const basisFile=new BasisFile(new Uint8Array(data));try{if(!basisFile.startTranscoding())throw new Error("Failed to start basis transcoding");const imageCount=basisFile.getNumImages(),images=[];for(let imageIndex=0;imageIndex<imageCount;imageIndex++){const levelsCount=basisFile.getNumLevels(imageIndex),levels=[];for(let levelIndex=0;levelIndex<levelsCount;levelIndex++)levels.push(transcodeImage(basisFile,imageIndex,levelIndex,options));images.push(levels)}return images}finally{basisFile.close(),basisFile.delete()}}function transcodeImage(basisFile,imageIndex,levelIndex,options){const width=basisFile.getImageWidth(imageIndex,levelIndex),height=basisFile.getImageHeight(imageIndex,levelIndex),hasAlpha=basisFile.getHasAlpha(),{compressed:compressed,format:format,basisFormat:basisFormat}=getBasisOptions(options,hasAlpha),decodedSize=basisFile.getImageTranscodedSizeInBytes(imageIndex,levelIndex,basisFormat),decodedData=new Uint8Array(decodedSize);if(!basisFile.transcodeImage(decodedData,imageIndex,levelIndex,basisFormat,0,0))throw new Error("failed to start Basis transcoding");return{width:width,height:height,data:decodedData,compressed:compressed,format:format,hasAlpha:hasAlpha}}function parseKTX2File(KTX2File,data,options){const ktx2File=new KTX2File(new Uint8Array(data));try{if(!ktx2File.startTranscoding())throw new Error("failed to start KTX2 transcoding");const levelsCount=ktx2File.getLevels(),levels=[];for(let levelIndex=0;levelIndex<levelsCount;levelIndex++){levels.push(transcodeKTX2Image(ktx2File,levelIndex,options));break}return[levels]}finally{ktx2File.close(),ktx2File.delete()}}function transcodeKTX2Image(ktx2File,levelIndex,options){const{alphaFlag:alphaFlag,height:height,width:width}=ktx2File.getImageLevelInfo(levelIndex,0,0),{compressed:compressed,format:format,basisFormat:basisFormat}=getBasisOptions(options,alphaFlag),decodedSize=ktx2File.getImageTranscodedSizeInBytes(levelIndex,0,0,basisFormat),decodedData=new Uint8Array(decodedSize);if(!ktx2File.transcodeImage(decodedData,levelIndex,0,0,basisFormat,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:width,height:height,data:decodedData,compressed:compressed,levelSize:decodedSize,hasAlpha:alphaFlag,format:format}}function getBasisOptions(options,hasAlpha){let format=options&&options.basis&&options.basis.format;return"auto"===format&&(format=selectSupportedBasisFormat()),"object"==typeof format&&(format=hasAlpha?format.alpha:format.noAlpha),format=format.toLowerCase(),OutputFormat[format]}function selectSupportedBasisFormat(){const supportedFormats=getSupportedGPUTextureFormats();return supportedFormats.has("astc")?"astc-4x4":supportedFormats.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:supportedFormats.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:supportedFormats.has("etc1")?"etc1":supportedFormats.has("etc2")?"etc2":"rgb565"}const BasisLoader={...{dataType:null,batchType:null,name:"Basis",id:"basis",module:"textures",version:"4.2.1",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},parse:async function parseBasis(data,options){if("auto"===options.basis.containerFormat){if(function isKTX(data){const id=new Uint8Array(data);return!(id.byteLength<KTX2_ID.length||id[0]!==KTX2_ID[0]||id[1]!==KTX2_ID[1]||id[2]!==KTX2_ID[2]||id[3]!==KTX2_ID[3]||id[4]!==KTX2_ID[4]||id[5]!==KTX2_ID[5]||id[6]!==KTX2_ID[6]||id[7]!==KTX2_ID[7]||id[8]!==KTX2_ID[8]||id[9]!==KTX2_ID[9]||id[10]!==KTX2_ID[10]||id[11]!==KTX2_ID[11])}(data)){return parseKTX2File((await loadBasisEncoderModule(options)).KTX2File,data,options)}const{BasisFile:BasisFile}=await loadBasisTranscoderModule(options);return parseBasisFile(BasisFile,data,options)}if("encoder"===options.basis.module){const fileConstructors=await loadBasisEncoderModule(options);return"ktx2"===options.basis.containerFormat?parseKTX2File(fileConstructors.KTX2File,data,options):parseBasisFile(fileConstructors.BasisFile,data,options)}{const{BasisFile:BasisFile}=await loadBasisTranscoderModule(options);return parseBasisFile(BasisFile,data,options)}}};var assert=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/lib/utils/assert.js"),env_utils_assert=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/lib/env-utils/assert.js");function padToNBytes(byteLength,padding){return(0,env_utils_assert.h)(byteLength>=0),(0,env_utils_assert.h)(padding>0),byteLength+(padding-1)&~(padding-1)}function copyToArray(source,target,targetOffset){let sourceArray;if(source instanceof ArrayBuffer)sourceArray=new Uint8Array(source);else{const srcByteOffset=source.byteOffset,srcByteLength=source.byteLength;sourceArray=new Uint8Array(source.buffer||source.arrayBuffer,srcByteOffset,srcByteLength)}return target.set(sourceArray,targetOffset),targetOffset+padToNBytes(sourceArray.byteLength,4)}const LITTLE_ENDIAN=!0,MAGIC_glTF=1735152710,GLB_FILE_HEADER_SIZE=12,GLB_CHUNK_HEADER_SIZE=8,GLB_CHUNK_TYPE_JSON=1313821514,GLB_CHUNK_TYPE_BIN=5130562,GLB_V1_CONTENT_FORMAT_JSON=0,GLB_CHUNK_TYPE_JSON_XVIZ_DEPRECATED=0,GLB_CHUNK_TYPE_BIX_XVIZ_DEPRECATED=1;function parseGLBSync(glb,arrayBuffer,byteOffset=0,options={}){const dataView=new DataView(arrayBuffer),type=function parse_glb_getMagicString(dataView,byteOffset=0){return`${String.fromCharCode(dataView.getUint8(byteOffset+0))}${String.fromCharCode(dataView.getUint8(byteOffset+1))}${String.fromCharCode(dataView.getUint8(byteOffset+2))}${String.fromCharCode(dataView.getUint8(byteOffset+3))}`}(dataView,byteOffset+0),version=dataView.getUint32(byteOffset+4,LITTLE_ENDIAN),byteLength=dataView.getUint32(byteOffset+8,LITTLE_ENDIAN);switch(Object.assign(glb,{header:{byteOffset:byteOffset,byteLength:byteLength,hasBinChunk:!1},type:type,version:version,json:{},binChunks:[]}),byteOffset+=GLB_FILE_HEADER_SIZE,glb.version){case 1:return function parseGLBV1(glb,dataView,byteOffset){(0,env_utils_assert.h)(glb.header.byteLength>GLB_FILE_HEADER_SIZE+GLB_CHUNK_HEADER_SIZE);const contentLength=dataView.getUint32(byteOffset+0,LITTLE_ENDIAN),contentFormat=dataView.getUint32(byteOffset+4,LITTLE_ENDIAN);return byteOffset+=GLB_CHUNK_HEADER_SIZE,(0,env_utils_assert.h)(contentFormat===GLB_V1_CONTENT_FORMAT_JSON),parseJSONChunk(glb,dataView,byteOffset,contentLength),byteOffset+=contentLength,byteOffset+=parseBINChunk(glb,dataView,byteOffset,glb.header.byteLength),byteOffset}(glb,dataView,byteOffset);case 2:return function parseGLBV2(glb,dataView,byteOffset,options){return(0,env_utils_assert.h)(glb.header.byteLength>GLB_FILE_HEADER_SIZE+GLB_CHUNK_HEADER_SIZE),function parseGLBChunksSync(glb,dataView,byteOffset,options){for(;byteOffset+8<=glb.header.byteLength;){const chunkLength=dataView.getUint32(byteOffset+0,LITTLE_ENDIAN),chunkFormat=dataView.getUint32(byteOffset+4,LITTLE_ENDIAN);switch(byteOffset+=GLB_CHUNK_HEADER_SIZE,chunkFormat){case GLB_CHUNK_TYPE_JSON:parseJSONChunk(glb,dataView,byteOffset,chunkLength);break;case GLB_CHUNK_TYPE_BIN:parseBINChunk(glb,dataView,byteOffset,chunkLength);break;case GLB_CHUNK_TYPE_JSON_XVIZ_DEPRECATED:options.strict||parseJSONChunk(glb,dataView,byteOffset,chunkLength);break;case GLB_CHUNK_TYPE_BIX_XVIZ_DEPRECATED:options.strict||parseBINChunk(glb,dataView,byteOffset,chunkLength)}byteOffset+=padToNBytes(chunkLength,4)}return byteOffset}(glb,dataView,byteOffset,options),byteOffset+glb.header.byteLength}(glb,dataView,byteOffset,{});default:throw new Error(`Invalid GLB version ${glb.version}. Only supports version 1 and 2.`)}}function parseJSONChunk(glb,dataView,byteOffset,chunkLength){const jsonChunk=new Uint8Array(dataView.buffer,byteOffset,chunkLength),jsonText=new TextDecoder("utf8").decode(jsonChunk);return glb.json=JSON.parse(jsonText),padToNBytes(chunkLength,4)}function parseBINChunk(glb,dataView,byteOffset,chunkLength){return glb.header.hasBinChunk=!0,glb.binChunks.push({byteOffset:byteOffset,byteLength:chunkLength,arrayBuffer:dataView.buffer}),padToNBytes(chunkLength,4)}function resolveUrl(url,options){if(url.startsWith("data:")||url.startsWith("http:")||url.startsWith("https:"))return url;const baseUrl=options.baseUri||options.uri;if(!baseUrl)throw new Error(`'baseUri' must be provided to resolve relative url ${url}`);return baseUrl.substr(0,baseUrl.lastIndexOf("/")+1)+url}var gltf_utils=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/lib/gltf-utils/gltf-utils.js");function getTypedArrayForBufferView(json,buffers,bufferViewIndex){const bufferView=json.bufferViews[bufferViewIndex];(0,assert.h)(bufferView);const binChunk=buffers[bufferView.buffer];(0,assert.h)(binChunk);const byteOffset=(bufferView.byteOffset||0)+binChunk.byteOffset;return new Uint8Array(binChunk.arrayBuffer,byteOffset,bufferView.byteLength)}var binary_image_api=__webpack_require__("./node_modules/@loaders.gl/images/dist/lib/category-api/binary-image-api.js");class GLTFScenegraph{gltf;sourceBuffers;byteLength;constructor(gltf){this.gltf={json:gltf?.json||{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]},buffers:gltf?.buffers||[],images:gltf?.images||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(key){return this.json[key]}getExtraData(key){return(this.json.extras||{})[key]}hasExtension(extensionName){const isUsedExtension=this.getUsedExtensions().find((name=>name===extensionName)),isRequiredExtension=this.getRequiredExtensions().find((name=>name===extensionName));return"string"==typeof isUsedExtension||"string"==typeof isRequiredExtension}getExtension(extensionName){const isExtension=this.getUsedExtensions().find((name=>name===extensionName)),extensions=this.json.extensions||{};return isExtension?extensions[extensionName]:null}getRequiredExtension(extensionName){return this.getRequiredExtensions().find((name=>name===extensionName))?this.getExtension(extensionName):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(object,extensionName){return(object.extensions||{})[extensionName]}getScene(index){return this.getObject("scenes",index)}getNode(index){return this.getObject("nodes",index)}getSkin(index){return this.getObject("skins",index)}getMesh(index){return this.getObject("meshes",index)}getMaterial(index){return this.getObject("materials",index)}getAccessor(index){return this.getObject("accessors",index)}getTexture(index){return this.getObject("textures",index)}getSampler(index){return this.getObject("samplers",index)}getImage(index){return this.getObject("images",index)}getBufferView(index){return this.getObject("bufferViews",index)}getBuffer(index){return this.getObject("buffers",index)}getObject(array,index){if("object"==typeof index)return index;const object=this.json[array]&&this.json[array][index];if(!object)throw new Error(`glTF file error: Could not find ${array}[${index}]`);return object}getTypedArrayForBufferView(bufferView){const bufferIndex=(bufferView=this.getBufferView(bufferView)).buffer,binChunk=this.gltf.buffers[bufferIndex];(0,assert.h)(binChunk);const byteOffset=(bufferView.byteOffset||0)+binChunk.byteOffset;return new Uint8Array(binChunk.arrayBuffer,byteOffset,bufferView.byteLength)}getTypedArrayForAccessor(accessor){const gltfAccessor=this.getAccessor(accessor);return function getTypedArrayForAccessor(json,buffers,accessor){const gltfAccessor="number"==typeof accessor?json.accessors?.[accessor]:accessor;if(!gltfAccessor)throw new Error(`No gltf accessor ${JSON.stringify(accessor)}`);const bufferView=json.bufferViews?.[gltfAccessor.bufferView||0];if(!bufferView)throw new Error(`No gltf buffer view for accessor ${bufferView}`);const{arrayBuffer:arrayBuffer,byteOffset:bufferByteOffset}=buffers[bufferView.buffer],byteOffset=(bufferByteOffset||0)+(gltfAccessor.byteOffset||0)+(bufferView.byteOffset||0),{ArrayType:ArrayType,length:length,componentByteSize:componentByteSize,numberOfComponentsInElement:numberOfComponentsInElement}=(0,gltf_utils.pN)(gltfAccessor,bufferView),elementByteSize=componentByteSize*numberOfComponentsInElement,elementAddressScale=bufferView.byteStride||elementByteSize;if(void 0===bufferView.byteStride||bufferView.byteStride===elementByteSize)return new ArrayType(arrayBuffer,byteOffset,length);const result=new ArrayType(length);for(let i=0;i<gltfAccessor.count;i++){const values=new ArrayType(arrayBuffer,byteOffset+i*elementAddressScale,numberOfComponentsInElement);result.set(values,i*numberOfComponentsInElement)}return result}(this.gltf.json,this.gltf.buffers,gltfAccessor)}getTypedArrayForImageData(image){image=this.getAccessor(image);const bufferView=this.getBufferView(image.bufferView),arrayBuffer=this.getBuffer(bufferView.buffer).data,byteOffset=bufferView.byteOffset||0;return new Uint8Array(arrayBuffer,byteOffset,bufferView.byteLength)}addApplicationData(key,data){return this.json[key]=data,this}addExtraData(key,data){return this.json.extras=this.json.extras||{},this.json.extras[key]=data,this}addObjectExtension(object,extensionName,data){return object.extensions=object.extensions||{},object.extensions[extensionName]=data,this.registerUsedExtension(extensionName),this}setObjectExtension(object,extensionName,data){(object.extensions||{})[extensionName]=data}removeObjectExtension(object,extensionName){const extensions=object?.extensions||{};if(extensions[extensionName]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const extensionsRemoved=this.json.extensionsRemoved;extensionsRemoved.includes(extensionName)||extensionsRemoved.push(extensionName)}delete extensions[extensionName]}addExtension(extensionName,extensionData={}){return(0,assert.h)(extensionData),this.json.extensions=this.json.extensions||{},this.json.extensions[extensionName]=extensionData,this.registerUsedExtension(extensionName),extensionData}addRequiredExtension(extensionName,extensionData={}){return(0,assert.h)(extensionData),this.addExtension(extensionName,extensionData),this.registerRequiredExtension(extensionName),extensionData}registerUsedExtension(extensionName){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((ext=>ext===extensionName))||this.json.extensionsUsed.push(extensionName)}registerRequiredExtension(extensionName){this.registerUsedExtension(extensionName),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((ext=>ext===extensionName))||this.json.extensionsRequired.push(extensionName)}removeExtension(extensionName){if(this.json.extensions?.[extensionName]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const extensionsRemoved=this.json.extensionsRemoved;extensionsRemoved.includes(extensionName)||extensionsRemoved.push(extensionName)}this.json.extensions&&delete this.json.extensions[extensionName],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,extensionName),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,extensionName)}setDefaultScene(sceneIndex){this.json.scene=sceneIndex}addScene(scene){const{nodeIndices:nodeIndices}=scene;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:nodeIndices}),this.json.scenes.length-1}addNode(node){const{meshIndex:meshIndex,matrix:matrix}=node;this.json.nodes=this.json.nodes||[];const nodeData={mesh:meshIndex};return matrix&&(nodeData.matrix=matrix),this.json.nodes.push(nodeData),this.json.nodes.length-1}addMesh(mesh){const{attributes:attributes,indices:indices,material:material,mode:mode=4}=mesh,glTFMesh={primitives:[{attributes:this._addAttributes(attributes),mode:mode}]};if(indices){const indicesAccessor=this._addIndices(indices);glTFMesh.primitives[0].indices=indicesAccessor}return Number.isFinite(material)&&(glTFMesh.primitives[0].material=material),this.json.meshes=this.json.meshes||[],this.json.meshes.push(glTFMesh),this.json.meshes.length-1}addPointCloud(attributes){const glTFMesh={primitives:[{attributes:this._addAttributes(attributes),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(glTFMesh),this.json.meshes.length-1}addImage(imageData,mimeTypeOpt){const metadata=(0,binary_image_api.I)(imageData),mimeType=mimeTypeOpt||metadata?.mimeType,glTFImage={bufferView:this.addBufferView(imageData),mimeType:mimeType};return this.json.images=this.json.images||[],this.json.images.push(glTFImage),this.json.images.length-1}addBufferView(buffer,bufferIndex=0,byteOffset=this.byteLength){const byteLength=buffer.byteLength;(0,assert.h)(Number.isFinite(byteLength)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(buffer);const glTFBufferView={buffer:bufferIndex,byteOffset:byteOffset,byteLength:byteLength};return this.byteLength+=padToNBytes(byteLength,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(glTFBufferView),this.json.bufferViews.length-1}addAccessor(bufferViewIndex,accessor){const glTFAccessor={bufferView:bufferViewIndex,type:(0,gltf_utils.dl)(accessor.size),componentType:accessor.componentType,count:accessor.count,max:accessor.max,min:accessor.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(glTFAccessor),this.json.accessors.length-1}addBinaryBuffer(sourceBuffer,accessor={size:3}){const bufferViewIndex=this.addBufferView(sourceBuffer);let minMax={min:accessor.min,max:accessor.max};minMax.min&&minMax.max||(minMax=this._getAccessorMinMax(sourceBuffer,accessor.size));const accessorDefaults={size:accessor.size,componentType:(0,gltf_utils.x$)(sourceBuffer),count:Math.round(sourceBuffer.length/accessor.size),min:minMax.min,max:minMax.max};return this.addAccessor(bufferViewIndex,Object.assign(accessorDefaults,accessor))}addTexture(texture){const{imageIndex:imageIndex}=texture,glTFTexture={source:imageIndex};return this.json.textures=this.json.textures||[],this.json.textures.push(glTFTexture),this.json.textures.length-1}addMaterial(pbrMaterialInfo){return this.json.materials=this.json.materials||[],this.json.materials.push(pbrMaterialInfo),this.json.materials.length-1}createBinaryChunk(){this.gltf.buffers=[];const totalByteLength=this.byteLength,arrayBuffer=new ArrayBuffer(totalByteLength),targetArray=new Uint8Array(arrayBuffer);let dstByteOffset=0;for(const sourceBuffer of this.sourceBuffers||[])dstByteOffset=copyToArray(sourceBuffer,targetArray,dstByteOffset);this.json?.buffers?.[0]?this.json.buffers[0].byteLength=totalByteLength:this.json.buffers=[{byteLength:totalByteLength}],this.gltf.binary=arrayBuffer,this.sourceBuffers=[arrayBuffer]}_removeStringFromArray(array,string){let found=!0;for(;found;){const index=array.indexOf(string);index>-1?array.splice(index,1):found=!1}}_addAttributes(attributes={}){const result={};for(const attributeKey in attributes){const attributeData=attributes[attributeKey],attrName=this._getGltfAttributeName(attributeKey),accessor=this.addBinaryBuffer(attributeData.value,attributeData);result[attrName]=accessor}return result}_addIndices(indices){return this.addBinaryBuffer(indices,{size:1})}_getGltfAttributeName(attributeName){switch(attributeName.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return attributeName}}_getAccessorMinMax(buffer,size){const result={min:null,max:null};if(buffer.length<size)return result;result.min=[],result.max=[];const initValues=buffer.subarray(0,size);for(const value of initValues)result.min.push(value),result.max.push(value);for(let index=size;index<buffer.length;index+=size)for(let componentIndex=0;componentIndex<size;componentIndex++)result.min[0+componentIndex]=Math.min(result.min[0+componentIndex],buffer[index+componentIndex]),result.max[0+componentIndex]=Math.max(result.max[0+componentIndex],buffer[index+componentIndex]);return result}}var parsed_image_api=__webpack_require__("./node_modules/@loaders.gl/images/dist/lib/category-api/parsed-image-api.js");function emod(n){return(n%1+1)%1}const ATTRIBUTE_TYPE_TO_COMPONENTS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function getArrayElementByteSize(attributeType,componentType){return ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[componentType]*ATTRIBUTE_TYPE_TO_COMPONENTS[attributeType]}function getOffsetsForProperty(scenegraph,bufferViewIndex,offsetType,numberOfElements){if("UINT8"!==offsetType&&"UINT16"!==offsetType&&"UINT32"!==offsetType&&"UINT64"!==offsetType)return null;const arrayOffsets=convertRawBufferToMetadataArray(scenegraph.getTypedArrayForBufferView(bufferViewIndex),"SCALAR",offsetType,numberOfElements+1);return arrayOffsets instanceof BigInt64Array||arrayOffsets instanceof BigUint64Array?null:arrayOffsets}function convertRawBufferToMetadataArray(data,attributeType,componentType,elementCount=1){const numberOfComponents=ATTRIBUTE_TYPE_TO_COMPONENTS[attributeType],ArrayType=ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[componentType],size=ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[componentType],length=elementCount*numberOfComponents,byteLength=length*size;let buffer=data.buffer,offset=data.byteOffset;if(offset%size!=0){buffer=new Uint8Array(buffer).slice(offset,offset+byteLength).buffer,offset=0}return new ArrayType(buffer,offset,length)}function getPrimitiveTextureData(scenegraph,textureInfo,primitive){const texCoordAccessorKey=`TEXCOORD_${textureInfo.texCoord||0}`,texCoordAccessorIndex=primitive.attributes[texCoordAccessorKey],textureCoordinates=scenegraph.getTypedArrayForAccessor(texCoordAccessorIndex),json=scenegraph.gltf.json,textureIndex=textureInfo.index,imageIndex=json.textures?.[textureIndex]?.source;if(void 0!==imageIndex){const mimeType=json.images?.[imageIndex]?.mimeType,parsedImage=scenegraph.gltf.images?.[imageIndex];if(parsedImage&&void 0!==parsedImage.width){const textureData=[];for(let index=0;index<textureCoordinates.length;index+=2){const value=getImageValueByCoordinates(parsedImage,mimeType,textureCoordinates,index,textureInfo.channels);textureData.push(value)}return textureData}}return[]}function primitivePropertyDataToAttributes(scenegraph,attributeName,propertyData,featureTable,primitive){if(!propertyData?.length)return;const featureIndices=[];for(const texelData of propertyData){let index=featureTable.findIndex((item=>item===texelData));-1===index&&(index=featureTable.push(texelData)-1),featureIndices.push(index)}const typedArray=new Uint32Array(featureIndices),bufferIndex=scenegraph.gltf.buffers.push({arrayBuffer:typedArray.buffer,byteOffset:typedArray.byteOffset,byteLength:typedArray.byteLength})-1,bufferViewIndex=scenegraph.addBufferView(typedArray,bufferIndex,0),accessorIndex=scenegraph.addAccessor(bufferViewIndex,{size:1,componentType:(0,gltf_utils.x$)(typedArray),count:typedArray.length});primitive.attributes[attributeName]=accessorIndex}function getImageValueByCoordinates(parsedImage,mimeType,textureCoordinates,index,channels=[0]){const CHANNELS_MAP={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},u=textureCoordinates[index],v=textureCoordinates[index+1];let components=1;!mimeType||-1===mimeType.indexOf("image/jpeg")&&-1===mimeType.indexOf("image/png")||(components=4);const offset=function coordinatesToOffset(u,v,parsedImage,componentsCount=1){const w=parsedImage.width,iX=emod(u)*(w-1),indX=Math.round(iX),h=parsedImage.height,iY=emod(v)*(h-1),indY=Math.round(iY),components=parsedImage.components?parsedImage.components:componentsCount,offset=(indY*w+indX)*components;return offset}(u,v,parsedImage,components);let value=0;for(const c of channels){const map="number"==typeof c?Object.values(CHANNELS_MAP)[c]:CHANNELS_MAP[c],imageOffset=offset+map.offset,imageData=(0,parsed_image_api.n$)(parsedImage);if(imageData.data.length<=imageOffset)throw new Error(`${imageData.data.length} <= ${imageOffset}`);value|=imageData.data[imageOffset]<<map.shift}return value}function parseVariableLengthArrayNumeric(valuesData,numberOfElements,arrayOffsets,valuesDataBytesLength,valueSize){const attributeValueArray=[];for(let index=0;index<numberOfElements;index++){const arrayOffset=arrayOffsets[index],arrayByteSize=arrayOffsets[index+1]-arrayOffsets[index];if(arrayByteSize+arrayOffset>valuesDataBytesLength)break;const typedArrayOffset=arrayOffset/valueSize,elementCount=arrayByteSize/valueSize;attributeValueArray.push(valuesData.slice(typedArrayOffset,typedArrayOffset+elementCount))}return attributeValueArray}function parseFixedLengthArrayNumeric(valuesData,numberOfElements,arrayCount){const attributeValueArray=[];for(let index=0;index<numberOfElements;index++){const elementOffset=index*arrayCount;attributeValueArray.push(valuesData.slice(elementOffset,elementOffset+arrayCount))}return attributeValueArray}function getPropertyDataString(numberOfElements,valuesDataBytes,arrayOffsets,stringOffsets){if(arrayOffsets)throw new Error("Not implemented - arrayOffsets for strings is specified");if(stringOffsets){const stringsArray=[],textDecoder=new TextDecoder("utf8");let stringOffset=0;for(let index=0;index<numberOfElements;index++){const stringByteSize=stringOffsets[index+1]-stringOffsets[index];if(stringByteSize+stringOffset<=valuesDataBytes.length){const stringData=valuesDataBytes.subarray(stringOffset,stringByteSize+stringOffset),stringAttribute=textDecoder.decode(stringData);stringsArray.push(stringAttribute),stringOffset+=stringByteSize}}return stringsArray}return[]}const EXT_MESH_FEATURES_NAME="EXT_mesh_features",EXT_mesh_features_name=EXT_MESH_FEATURES_NAME;async function decode(gltfData,options){!function decodeExtMeshFeatures(scenegraph,options){const json=scenegraph.gltf.json;if(!json.meshes)return;for(const mesh of json.meshes)for(const primitive of mesh.primitives)processMeshPrimitiveFeatures(scenegraph,primitive,options)}(new GLTFScenegraph(gltfData),options)}function processMeshPrimitiveFeatures(scenegraph,primitive,options){if(!options?.gltf?.loadBuffers)return;const extension=primitive.extensions?.[EXT_MESH_FEATURES_NAME],featureIds=extension?.featureIds;if(featureIds)for(const featureId of featureIds){let featureIdData;if(void 0!==featureId.attribute){const accessorKey=`_FEATURE_ID_${featureId.attribute}`,accessorIndex=primitive.attributes[accessorKey];featureIdData=scenegraph.getTypedArrayForAccessor(accessorIndex)}else featureIdData=void 0!==featureId.texture&&options?.gltf?.loadImages?getPrimitiveTextureData(scenegraph,featureId.texture,primitive):[];featureId.data=featureIdData}}const EXT_STRUCTURAL_METADATA_NAME="EXT_structural_metadata",EXT_structural_metadata_name=EXT_STRUCTURAL_METADATA_NAME;async function EXT_structural_metadata_decode(gltfData,options){!function decodeExtStructuralMetadata(scenegraph,options){if(!options.gltf?.loadBuffers)return;const extension=scenegraph.getExtension(EXT_STRUCTURAL_METADATA_NAME);if(!extension)return;options.gltf?.loadImages&&function decodePropertyTextures(scenegraph,extension){const propertyTextures=extension.propertyTextures,json=scenegraph.gltf.json;if(propertyTextures&&json.meshes)for(const mesh of json.meshes)for(const primitive of mesh.primitives)processPrimitivePropertyTextures(scenegraph,propertyTextures,primitive,extension)}(scenegraph,extension);!function decodePropertyTables(scenegraph,extension){const schema=extension.schema;if(!schema)return;const schemaClasses=schema.classes,propertyTables=extension.propertyTables;if(schemaClasses&&propertyTables)for(const schemaName in schemaClasses){const propertyTable=findPropertyTableByClass(propertyTables,schemaName);propertyTable&&processPropertyTable(scenegraph,schema,propertyTable)}}(scenegraph,extension)}(new GLTFScenegraph(gltfData),options)}function findPropertyTableByClass(propertyTables,schemaClassName){for(const propertyTable of propertyTables)if(propertyTable.class===schemaClassName)return propertyTable;return null}function processPrimitivePropertyTextures(scenegraph,propertyTextures,primitive,extension){if(!propertyTextures)return;const primitiveExtension=primitive.extensions?.[EXT_STRUCTURAL_METADATA_NAME],primitivePropertyTextureIndices=primitiveExtension?.propertyTextures;if(primitivePropertyTextureIndices)for(const primitivePropertyTextureIndex of primitivePropertyTextureIndices){processPrimitivePropertyTexture(scenegraph,propertyTextures[primitivePropertyTextureIndex],primitive,extension)}}function processPrimitivePropertyTexture(scenegraph,propertyTexture,primitive,extension){if(!propertyTexture.properties)return;extension.dataAttributeNames||(extension.dataAttributeNames=[]);const className=propertyTexture.class;for(const propertyName in propertyTexture.properties){const attributeName=`${className}_${propertyName}`,textureInfoTopLevel=propertyTexture.properties?.[propertyName];if(!textureInfoTopLevel)continue;textureInfoTopLevel.data||(textureInfoTopLevel.data=[]);const featureTextureTable=textureInfoTopLevel.data,propertyData=getPrimitiveTextureData(scenegraph,textureInfoTopLevel,primitive);null!==propertyData&&(primitivePropertyDataToAttributes(scenegraph,attributeName,propertyData,featureTextureTable,primitive),textureInfoTopLevel.data=featureTextureTable,extension.dataAttributeNames.push(attributeName))}}function processPropertyTable(scenegraph,schema,propertyTable){const schemaClass=schema.classes?.[propertyTable.class];if(!schemaClass)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${propertyTable.class}`);const numberOfElements=propertyTable.count;for(const propertyName in schemaClass.properties){const classProperty=schemaClass.properties[propertyName],propertyTableProperty=propertyTable.properties?.[propertyName];if(propertyTableProperty){const data=getPropertyDataFromBinarySource(scenegraph,schema,classProperty,numberOfElements,propertyTableProperty);propertyTableProperty.data=data}}}function getPropertyDataFromBinarySource(scenegraph,schema,classProperty,numberOfElements,propertyTableProperty){let data=[];const valuesBufferView=propertyTableProperty.values,valuesDataBytes=scenegraph.getTypedArrayForBufferView(valuesBufferView),arrayOffsets=function getArrayOffsetsForProperty(scenegraph,classProperty,propertyTableProperty,numberOfElements){if(classProperty.array&&void 0===classProperty.count&&void 0!==propertyTableProperty.arrayOffsets)return getOffsetsForProperty(scenegraph,propertyTableProperty.arrayOffsets,propertyTableProperty.arrayOffsetType||"UINT32",numberOfElements);return null}(scenegraph,classProperty,propertyTableProperty,numberOfElements),stringOffsets=function getStringOffsetsForProperty(scenegraph,propertyTableProperty,numberOfElements){if(void 0!==propertyTableProperty.stringOffsets)return getOffsetsForProperty(scenegraph,propertyTableProperty.stringOffsets,propertyTableProperty.stringOffsetType||"UINT32",numberOfElements);return null}(scenegraph,propertyTableProperty,numberOfElements);switch(classProperty.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":data=function getPropertyDataNumeric(classProperty,numberOfElements,valuesDataBytes,arrayOffsets){const isArray=classProperty.array,arrayCount=classProperty.count,elementSize=getArrayElementByteSize(classProperty.type,classProperty.componentType),elementCount=valuesDataBytes.byteLength/elementSize;let valuesData;valuesData=classProperty.componentType?convertRawBufferToMetadataArray(valuesDataBytes,classProperty.type,classProperty.componentType,elementCount):valuesDataBytes;if(isArray)return arrayOffsets?parseVariableLengthArrayNumeric(valuesData,numberOfElements,arrayOffsets,valuesDataBytes.length,elementSize):arrayCount?parseFixedLengthArrayNumeric(valuesData,numberOfElements,arrayCount):[];return valuesData}(classProperty,numberOfElements,valuesDataBytes,arrayOffsets);break;case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${classProperty.type}`);case"STRING":data=getPropertyDataString(numberOfElements,valuesDataBytes,arrayOffsets,stringOffsets);break;case"ENUM":data=function getPropertyDataENUM(schema,classProperty,numberOfElements,valuesDataBytes,arrayOffsets){const enumType=classProperty.enumType;if(!enumType)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");const enumEntry=schema.enums?.[enumType];if(!enumEntry)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${enumType}`);const enumValueType=enumEntry.valueType||"UINT16",elementSize=getArrayElementByteSize(classProperty.type,enumValueType),elementCount=valuesDataBytes.byteLength/elementSize;let valuesData=convertRawBufferToMetadataArray(valuesDataBytes,classProperty.type,enumValueType,elementCount);valuesData||(valuesData=valuesDataBytes);if(classProperty.array){if(arrayOffsets)return function parseVariableLengthArrayENUM(params){const{valuesData:valuesData,numberOfElements:numberOfElements,arrayOffsets:arrayOffsets,valuesDataBytesLength:valuesDataBytesLength,elementSize:elementSize,enumEntry:enumEntry}=params,attributeValueArray=[];for(let index=0;index<numberOfElements;index++){const arrayOffset=arrayOffsets[index],arrayByteSize=arrayOffsets[index+1]-arrayOffsets[index];if(arrayByteSize+arrayOffset>valuesDataBytesLength)break;const array=getEnumsArray(valuesData,arrayOffset/elementSize,arrayByteSize/elementSize,enumEntry);attributeValueArray.push(array)}return attributeValueArray}({valuesData:valuesData,numberOfElements:numberOfElements,arrayOffsets:arrayOffsets,valuesDataBytesLength:valuesDataBytes.length,elementSize:elementSize,enumEntry:enumEntry});const arrayCount=classProperty.count;return arrayCount?function parseFixedLengthArrayENUM(valuesData,numberOfElements,arrayCount,enumEntry){const attributeValueArray=[];for(let index=0;index<numberOfElements;index++){const array=getEnumsArray(valuesData,arrayCount*index,arrayCount,enumEntry);attributeValueArray.push(array)}return attributeValueArray}(valuesData,numberOfElements,arrayCount,enumEntry):[]}return getEnumsArray(valuesData,0,numberOfElements,enumEntry)}(schema,classProperty,numberOfElements,valuesDataBytes,arrayOffsets);break;default:throw new Error(`Unknown classProperty type ${classProperty.type}`)}return data}function getEnumsArray(valuesData,offset,count,enumEntry){const array=[];for(let i=0;i<count;i++)if(valuesData instanceof BigInt64Array||valuesData instanceof BigUint64Array)array.push("");else{const enumObject=getEnumByValue(enumEntry,valuesData[offset+i]);enumObject?array.push(enumObject.name):array.push("")}return array}function getEnumByValue(enumEntry,value){for(const enumValue of enumEntry.values)if(enumValue.value===value)return enumValue;return null}const wasm_base="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",wasm_simd="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",detector=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),wasmpack=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),FILTERS={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},DECODERS={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};let wasmPromise;async function loadWasmInstance(){return wasmPromise||(wasmPromise=async function loadWasmModule(){let wasm=wasm_base;WebAssembly.validate(detector)&&(wasm=wasm_simd,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const result=await WebAssembly.instantiate(function unpack(data){const result=new Uint8Array(data.length);for(let i=0;i<data.length;++i){const ch=data.charCodeAt(i);result[i]=ch>96?ch-71:ch>64?ch-65:ch>47?ch+4:ch>46?63:62}let write=0;for(let i=0;i<data.length;++i)result[write++]=result[i]<60?wasmpack[result[i]]:64*(result[i]-60)+result[++i];return result.buffer.slice(0,write)}(wasm),{});return await result.instance.exports.__wasm_call_ctors(),result.instance}()),wasmPromise}function meshopt_decoder_decode(instance,fun,target,count,size,source,filter){const sbrk=instance.exports.sbrk,count4=count+3&-4,tp=sbrk(count4*size),sp=sbrk(source.length),heap=new Uint8Array(instance.exports.memory.buffer);heap.set(source,sp);const res=fun(tp,count,size,sp,source.length);if(0===res&&filter&&filter(tp,count4,size),target.set(heap.subarray(tp,tp+count*size)),sbrk(tp-sbrk(0)),0!==res)throw new Error(`Malformed buffer data: ${res}`)}const EXT_MESHOPT_COMPRESSION="EXT_meshopt_compression",EXT_meshopt_compression_name=EXT_MESHOPT_COMPRESSION;async function EXT_meshopt_compression_decode(gltfData,options){const scenegraph=new GLTFScenegraph(gltfData);if(!options?.gltf?.decompressMeshes||!options.gltf?.loadBuffers)return;const promises=[];for(const bufferViewIndex of gltfData.json.bufferViews||[])promises.push(decodeMeshoptBufferView(scenegraph,bufferViewIndex));await Promise.all(promises),scenegraph.removeExtension(EXT_MESHOPT_COMPRESSION)}async function decodeMeshoptBufferView(scenegraph,bufferView){const meshoptExtension=scenegraph.getObjectExtension(bufferView,EXT_MESHOPT_COMPRESSION);if(meshoptExtension){const{byteOffset:byteOffset=0,byteLength:byteLength=0,byteStride:byteStride,count:count,mode:mode,filter:filter="NONE",buffer:bufferIndex}=meshoptExtension,buffer=scenegraph.gltf.buffers[bufferIndex],source=new Uint8Array(buffer.arrayBuffer,buffer.byteOffset+byteOffset,byteLength),result=new Uint8Array(scenegraph.gltf.buffers[bufferView.buffer].arrayBuffer,bufferView.byteOffset,bufferView.byteLength);await async function meshoptDecodeGltfBuffer(target,count,size,source,mode,filter="NONE"){const instance=await loadWasmInstance();meshopt_decoder_decode(instance,instance.exports[DECODERS[mode]],target,count,size,source,instance.exports[FILTERS[filter||"NONE"]])}(result,count,byteStride,source,mode,filter),scenegraph.removeObjectExtension(bufferView,EXT_MESHOPT_COMPRESSION)}}var globals=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/lib/env-utils/globals.js");const mimeTypeSupportedSync={};function isImageFormatSupported(mimeType){if(void 0===mimeTypeSupportedSync[mimeType]){const supported=globals.jU?function checkBrowserImageFormatSupport(mimeType){switch(mimeType){case"image/avif":case"image/webp":return function testBrowserImageFormatSupport(mimeType){try{const element=document.createElement("canvas");return 0===element.toDataURL(mimeType).indexOf(`data:${mimeType}`)}catch{return!1}}(mimeType);default:return!0}}(mimeType):checkNodeImageFormatSupport(mimeType);mimeTypeSupportedSync[mimeType]=supported}return mimeTypeSupportedSync[mimeType]}function checkNodeImageFormatSupport(mimeType){const imageFormatsNode=globalThis.loaders?.imageFormatsNode||["image/png","image/jpeg","image/gif"],parseImageNode=globalThis.loaders?.parseImageNode;return Boolean(parseImageNode)&&imageFormatsNode.includes(mimeType)}const EXT_TEXTURE_WEBP="EXT_texture_webp",EXT_texture_webp_name=EXT_TEXTURE_WEBP;function preprocess(gltfData,options){const scenegraph=new GLTFScenegraph(gltfData);if(!isImageFormatSupported("image/webp")){if(scenegraph.getRequiredExtensions().includes(EXT_TEXTURE_WEBP))throw new Error(`gltf: Required extension ${EXT_TEXTURE_WEBP} not supported by browser`);return}const{json:json}=scenegraph;for(const texture of json.textures||[]){const extension=scenegraph.getObjectExtension(texture,EXT_TEXTURE_WEBP);extension&&(texture.source=extension.source),scenegraph.removeObjectExtension(texture,EXT_TEXTURE_WEBP)}scenegraph.removeExtension(EXT_TEXTURE_WEBP)}const KHR_TEXTURE_BASISU="KHR_texture_basisu",KHR_texture_basisu_name=KHR_TEXTURE_BASISU;function KHR_texture_basisu_preprocess(gltfData,options){const scene=new GLTFScenegraph(gltfData),{json:json}=scene;for(const texture of json.textures||[]){const extension=scene.getObjectExtension(texture,KHR_TEXTURE_BASISU);extension&&(texture.source=extension.source,scene.removeObjectExtension(texture,KHR_TEXTURE_BASISU))}scene.removeExtension(KHR_TEXTURE_BASISU)}var dist=__webpack_require__("./node_modules/@loaders.gl/draco/dist/index.js");function getGLTFAccessor(attribute){const{buffer:buffer,size:size,count:count}=function getAccessorData(attribute){let buffer=attribute,size=1,count=0;attribute&&attribute.value&&(buffer=attribute.value,size=attribute.size||1);buffer&&(ArrayBuffer.isView(buffer)||(buffer=function toTypedArray(array,ArrayType,convertTypedArrays=!1){if(!array)return null;if(Array.isArray(array))return new ArrayType(array);if(convertTypedArrays&&!(array instanceof ArrayType))return new ArrayType(array);return array}(buffer,Float32Array)),count=buffer.length/size);return{buffer:buffer,size:size,count:count}}(attribute);return{value:buffer,size:size,byteOffset:0,count:count,type:(0,gltf_utils.dl)(size),componentType:(0,gltf_utils.x$)(buffer)}}const KHR_DRACO_MESH_COMPRESSION="KHR_draco_mesh_compression",KHR_draco_mesh_compression_name=KHR_DRACO_MESH_COMPRESSION;function KHR_draco_mesh_compression_preprocess(gltfData,options,context){const scenegraph=new GLTFScenegraph(gltfData);for(const primitive of makeMeshPrimitiveIterator(scenegraph))scenegraph.getObjectExtension(primitive,KHR_DRACO_MESH_COMPRESSION)}async function KHR_draco_mesh_compression_decode(gltfData,options,context){if(!options?.gltf?.decompressMeshes)return;const scenegraph=new GLTFScenegraph(gltfData),promises=[];for(const primitive of makeMeshPrimitiveIterator(scenegraph))scenegraph.getObjectExtension(primitive,KHR_DRACO_MESH_COMPRESSION)&&promises.push(decompressPrimitive(scenegraph,primitive,options,context));await Promise.all(promises),scenegraph.removeExtension(KHR_DRACO_MESH_COMPRESSION)}function encode(gltfData,options={}){const scenegraph=new GLTFScenegraph(gltfData);for(const mesh of scenegraph.json.meshes||[])compressMesh(mesh,options),scenegraph.addRequiredExtension(KHR_DRACO_MESH_COMPRESSION)}async function decompressPrimitive(scenegraph,primitive,options,context){const dracoExtension=scenegraph.getObjectExtension(primitive,KHR_DRACO_MESH_COMPRESSION);if(!dracoExtension)return;const buffer=scenegraph.getTypedArrayForBufferView(dracoExtension.bufferView),bufferCopy=(0,array_buffer_utils.qv)(buffer.buffer,buffer.byteOffset),dracoOptions={...options};delete dracoOptions["3d-tiles"];const decodedData=await(0,loader_types.cr)(bufferCopy,dist.VJ,dracoOptions,context),decodedAttributes=function getGLTFAccessors(attributes){const accessors={};for(const name in attributes){const attribute=attributes[name];if("indices"!==name){const glTFAccessor=getGLTFAccessor(attribute);accessors[name]=glTFAccessor}}return accessors}(decodedData.attributes);for(const[attributeName,decodedAttribute]of Object.entries(decodedAttributes))if(attributeName in primitive.attributes){const accessorIndex=primitive.attributes[attributeName],accessor=scenegraph.getAccessor(accessorIndex);accessor?.min&&accessor?.max&&(decodedAttribute.min=accessor.min,decodedAttribute.max=accessor.max)}primitive.attributes=decodedAttributes,decodedData.indices&&(primitive.indices=getGLTFAccessor(decodedData.indices)),scenegraph.removeObjectExtension(primitive,KHR_DRACO_MESH_COMPRESSION),function checkPrimitive(primitive){if(!primitive.attributes&&Object.keys(primitive.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(primitive)}function compressMesh(attributes,indices,mode=4,options,context){if(!options.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const compressedData=options.DracoWriter.encodeSync({attributes:attributes}),decodedData=context?.parseSync?.({attributes:attributes}),fauxAccessors=options._addFauxAttributes(decodedData.attributes),bufferViewIndex=options.addBufferView(compressedData);return{primitives:[{attributes:fauxAccessors,mode:mode,extensions:{[KHR_DRACO_MESH_COMPRESSION]:{bufferView:bufferViewIndex,attributes:fauxAccessors}}}]}}function*makeMeshPrimitiveIterator(scenegraph){for(const mesh of scenegraph.json.meshes||[])for(const primitive of mesh.primitives)yield primitive}var vector3=__webpack_require__("./node_modules/@math.gl/core/dist/classes/vector3.js"),matrix3=__webpack_require__("./node_modules/@math.gl/core/dist/classes/matrix3.js"),gltf_constants=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/lib/gltf-utils/gltf-constants.js");const KHR_TEXTURE_TRANSFORM="KHR_texture_transform",KHR_texture_transform_name=KHR_TEXTURE_TRANSFORM,scratchVector=new vector3.P,scratchRotationMatrix=new matrix3.V,scratchScaleMatrix=new matrix3.V;async function KHR_texture_transform_decode(gltfData,options){if(!new GLTFScenegraph(gltfData).hasExtension(KHR_TEXTURE_TRANSFORM)||!options.gltf?.loadBuffers)return;const materials=gltfData.json.materials||[];for(let i=0;i<materials.length;i++)transformTexCoords(i,gltfData)}function transformTexCoords(materialIndex,gltfData){const material=gltfData.json.materials?.[materialIndex],materialTextures=[material?.pbrMetallicRoughness?.baseColorTexture,material?.emissiveTexture,material?.normalTexture,material?.occlusionTexture,material?.pbrMetallicRoughness?.metallicRoughnessTexture],processedTexCoords=[];for(const textureInfo of materialTextures)textureInfo&&textureInfo?.extensions?.[KHR_TEXTURE_TRANSFORM]&&transformPrimitives(gltfData,materialIndex,textureInfo,processedTexCoords)}function transformPrimitives(gltfData,materialIndex,texture,processedTexCoords){const transformParameters=function getTransformParameters(texture,processedTexCoords){const textureInfo=texture.extensions?.[KHR_TEXTURE_TRANSFORM],{texCoord:originalTexCoord=0}=texture,{texCoord:texCoord=originalTexCoord}=textureInfo,isProcessed=-1!==processedTexCoords.findIndex((([original,newTexCoord])=>original===originalTexCoord&&newTexCoord===texCoord));if(!isProcessed){const matrix=function makeTransformationMatrix(extensionData){const{offset:offset=[0,0],rotation:rotation=0,scale:scale=[1,1]}=extensionData,translationMatrix=(new matrix3.V).set(1,0,0,0,1,0,offset[0],offset[1],1),rotationMatrix=scratchRotationMatrix.set(Math.cos(rotation),Math.sin(rotation),0,-Math.sin(rotation),Math.cos(rotation),0,0,0,1),scaleMatrix=scratchScaleMatrix.set(scale[0],0,0,0,scale[1],0,0,0,1);return translationMatrix.multiplyRight(rotationMatrix).multiplyRight(scaleMatrix)}(textureInfo);return originalTexCoord!==texCoord&&(texture.texCoord=texCoord),processedTexCoords.push([originalTexCoord,texCoord]),{originalTexCoord:originalTexCoord,texCoord:texCoord,matrix:matrix}}return null}(texture,processedTexCoords);if(!transformParameters)return;const meshes=gltfData.json.meshes||[];for(const mesh of meshes)for(const primitive of mesh.primitives){const material=primitive.material;Number.isFinite(material)&&materialIndex===material&&transformPrimitive(gltfData,primitive,transformParameters)}}function transformPrimitive(gltfData,primitive,transformParameters){const{originalTexCoord:originalTexCoord,texCoord:texCoord,matrix:matrix}=transformParameters,texCoordAccessor=primitive.attributes[`TEXCOORD_${originalTexCoord}`];if(Number.isFinite(texCoordAccessor)){const accessor=gltfData.json.accessors?.[texCoordAccessor];if(accessor&&accessor.bufferView){const bufferView=gltfData.json.bufferViews?.[accessor.bufferView];if(bufferView){const{arrayBuffer:arrayBuffer,byteOffset:bufferByteOffset}=gltfData.buffers[bufferView.buffer],byteOffset=(bufferByteOffset||0)+(accessor.byteOffset||0)+(bufferView.byteOffset||0),{ArrayType:ArrayType,length:length}=(0,gltf_utils.pN)(accessor,bufferView),bytes=gltf_constants.A0[accessor.componentType],components=gltf_constants.KC[accessor.type],elementAddressScale=bufferView.byteStride||bytes*components,result=new Float32Array(length);for(let i=0;i<accessor.count;i++){const uv=new ArrayType(arrayBuffer,byteOffset+i*elementAddressScale,2);scratchVector.set(uv[0],uv[1],1),scratchVector.transformByMatrix3(matrix),result.set([scratchVector[0],scratchVector[1]],i*components)}originalTexCoord===texCoord?function updateGltf(accessor,bufferView,buffers,newTexCoordArray){accessor.componentType=5126,buffers.push({arrayBuffer:newTexCoordArray.buffer,byteOffset:0,byteLength:newTexCoordArray.buffer.byteLength}),bufferView.buffer=buffers.length-1,bufferView.byteLength=newTexCoordArray.buffer.byteLength,bufferView.byteOffset=0,delete bufferView.byteStride}(accessor,bufferView,gltfData.buffers,result):function createAttribute(newTexCoord,originalAccessor,primitive,gltfData,newTexCoordArray){gltfData.buffers.push({arrayBuffer:newTexCoordArray.buffer,byteOffset:0,byteLength:newTexCoordArray.buffer.byteLength});const bufferViews=gltfData.json.bufferViews;if(!bufferViews)return;bufferViews.push({buffer:gltfData.buffers.length-1,byteLength:newTexCoordArray.buffer.byteLength,byteOffset:0});const accessors=gltfData.json.accessors;if(!accessors)return;accessors.push({bufferView:bufferViews?.length-1,byteOffset:0,componentType:5126,count:originalAccessor.count,type:"VEC2"}),primitive.attributes[`TEXCOORD_${newTexCoord}`]=accessors.length-1}(texCoord,accessor,primitive,gltfData,result)}}}}const KHR_LIGHTS_PUNCTUAL="KHR_lights_punctual",KHR_lights_punctual_name=KHR_LIGHTS_PUNCTUAL;async function KHR_lights_punctual_decode(gltfData){const gltfScenegraph=new GLTFScenegraph(gltfData),{json:json}=gltfScenegraph,extension=gltfScenegraph.getExtension(KHR_LIGHTS_PUNCTUAL);extension&&(gltfScenegraph.json.lights=extension.lights,gltfScenegraph.removeExtension(KHR_LIGHTS_PUNCTUAL));for(const node of json.nodes||[]){const nodeExtension=gltfScenegraph.getObjectExtension(node,KHR_LIGHTS_PUNCTUAL);nodeExtension&&(node.light=nodeExtension.light),gltfScenegraph.removeObjectExtension(node,KHR_LIGHTS_PUNCTUAL)}}async function KHR_lights_punctual_encode(gltfData){const gltfScenegraph=new GLTFScenegraph(gltfData),{json:json}=gltfScenegraph;if(json.lights){const extension=gltfScenegraph.addExtension(KHR_LIGHTS_PUNCTUAL);(0,assert.h)(!extension.lights),extension.lights=json.lights,delete json.lights}if(gltfScenegraph.json.lights){for(const light of gltfScenegraph.json.lights){const node=light.node;gltfScenegraph.addObjectExtension(node,KHR_LIGHTS_PUNCTUAL,light)}delete gltfScenegraph.json.lights}}const KHR_MATERIALS_UNLIT="KHR_materials_unlit",KHR_materials_unlit_name=KHR_MATERIALS_UNLIT;async function KHR_materials_unlit_decode(gltfData){const gltfScenegraph=new GLTFScenegraph(gltfData),{json:json}=gltfScenegraph;for(const material of json.materials||[]){material.extensions&&material.extensions.KHR_materials_unlit&&(material.unlit=!0),gltfScenegraph.removeObjectExtension(material,KHR_MATERIALS_UNLIT)}gltfScenegraph.removeExtension(KHR_MATERIALS_UNLIT)}function KHR_materials_unlit_encode(gltfData){const gltfScenegraph=new GLTFScenegraph(gltfData),{json:json}=gltfScenegraph;if(gltfScenegraph.materials)for(const material of json.materials||[])material.unlit&&(delete material.unlit,gltfScenegraph.addObjectExtension(material,KHR_MATERIALS_UNLIT,{}),gltfScenegraph.addExtension(KHR_MATERIALS_UNLIT))}const KHR_TECHNIQUES_WEBGL="KHR_techniques_webgl",KHR_techniques_webgl_name=KHR_TECHNIQUES_WEBGL;async function KHR_techniques_webgl_decode(gltfData){const gltfScenegraph=new GLTFScenegraph(gltfData),{json:json}=gltfScenegraph,extension=gltfScenegraph.getExtension(KHR_TECHNIQUES_WEBGL);if(extension){const techniques=function resolveTechniques(techniquesExtension,gltfScenegraph){const{programs:programs=[],shaders:shaders=[],techniques:techniques=[]}=techniquesExtension,textDecoder=new TextDecoder;return shaders.forEach((shader=>{if(!Number.isFinite(shader.bufferView))throw new Error("KHR_techniques_webgl: no shader code");shader.code=textDecoder.decode(gltfScenegraph.getTypedArrayForBufferView(shader.bufferView))})),programs.forEach((program=>{program.fragmentShader=shaders[program.fragmentShader],program.vertexShader=shaders[program.vertexShader]})),techniques.forEach((technique=>{technique.program=programs[technique.program]})),techniques}(extension,gltfScenegraph);for(const material of json.materials||[]){const materialExtension=gltfScenegraph.getObjectExtension(material,KHR_TECHNIQUES_WEBGL);materialExtension&&(material.technique=Object.assign({},materialExtension,techniques[materialExtension.technique]),material.technique.values=resolveValues(material.technique,gltfScenegraph)),gltfScenegraph.removeObjectExtension(material,KHR_TECHNIQUES_WEBGL)}gltfScenegraph.removeExtension(KHR_TECHNIQUES_WEBGL)}}async function KHR_techniques_webgl_encode(gltfData,options){}function resolveValues(technique,gltfScenegraph){const values=Object.assign({},technique.values);return Object.keys(technique.uniforms||{}).forEach((uniform=>{technique.uniforms[uniform].value&&!(uniform in values)&&(values[uniform]=technique.uniforms[uniform].value)})),Object.keys(values).forEach((uniform=>{"object"==typeof values[uniform]&&void 0!==values[uniform].index&&(values[uniform].texture=gltfScenegraph.getTexture(values[uniform].index))})),values}const EXT_FEATURE_METADATA_NAME="EXT_feature_metadata",EXT_feature_metadata_name=EXT_FEATURE_METADATA_NAME;async function EXT_feature_metadata_decode(gltfData,options){!function decodeExtFeatureMetadata(scenegraph,options){if(!options.gltf?.loadBuffers)return;const extension=scenegraph.getExtension(EXT_FEATURE_METADATA_NAME);if(!extension)return;options.gltf?.loadImages&&function EXT_feature_metadata_decodePropertyTextures(scenegraph,extension){const schema=extension.schema;if(!schema)return;const schemaClasses=schema.classes,{featureTextures:featureTextures}=extension;if(schemaClasses&&featureTextures)for(const schemaName in schemaClasses){const schemaClass=schemaClasses[schemaName],featureTexture=findFeatureTextureByClass(featureTextures,schemaName);featureTexture&&handleFeatureTextureProperties(scenegraph,featureTexture,schemaClass)}}(scenegraph,extension);!function EXT_feature_metadata_decodePropertyTables(scenegraph,extension){const schema=extension.schema;if(!schema)return;const schemaClasses=schema.classes,propertyTables=extension.featureTables;if(schemaClasses&&propertyTables)for(const schemaName in schemaClasses){const propertyTable=EXT_feature_metadata_findPropertyTableByClass(propertyTables,schemaName);propertyTable&&EXT_feature_metadata_processPropertyTable(scenegraph,schema,propertyTable)}}(scenegraph,extension)}(new GLTFScenegraph(gltfData),options)}function EXT_feature_metadata_findPropertyTableByClass(propertyTables,schemaClassName){for(const propertyTableName in propertyTables){const propertyTable=propertyTables[propertyTableName];if(propertyTable.class===schemaClassName)return propertyTable}return null}function findFeatureTextureByClass(featureTextures,schemaClassName){for(const featureTexturesName in featureTextures){const featureTable=featureTextures[featureTexturesName];if(featureTable.class===schemaClassName)return featureTable}return null}function EXT_feature_metadata_processPropertyTable(scenegraph,schema,propertyTable){if(!propertyTable.class)return;const schemaClass=schema.classes?.[propertyTable.class];if(!schemaClass)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${propertyTable.class}`);const numberOfElements=propertyTable.count;for(const propertyName in schemaClass.properties){const classProperty=schemaClass.properties[propertyName],propertyTableProperty=propertyTable.properties?.[propertyName];if(propertyTableProperty){const data=EXT_feature_metadata_getPropertyDataFromBinarySource(scenegraph,schema,classProperty,numberOfElements,propertyTableProperty);propertyTableProperty.data=data}}}function handleFeatureTextureProperties(scenegraph,featureTexture,schemaClass){const attributeName=featureTexture.class;for(const propertyName in schemaClass.properties){const featureTextureProperty=featureTexture?.properties?.[propertyName];if(featureTextureProperty){const data=getPropertyDataFromTexture(scenegraph,featureTextureProperty,attributeName);featureTextureProperty.data=data}}}function EXT_feature_metadata_getPropertyDataFromBinarySource(scenegraph,schema,classProperty,numberOfFeatures,featureTableProperty){let data=[];const bufferView=featureTableProperty.bufferView,dataArray=scenegraph.getTypedArrayForBufferView(bufferView),arrayOffsets=function EXT_feature_metadata_getArrayOffsetsForProperty(scenegraph,classProperty,propertyTableProperty,numberOfElements){if("ARRAY"===classProperty.type&&void 0===classProperty.componentCount&&void 0!==propertyTableProperty.arrayOffsetBufferView)return getOffsetsForProperty(scenegraph,propertyTableProperty.arrayOffsetBufferView,propertyTableProperty.offsetType||"UINT32",numberOfElements);return null}(scenegraph,classProperty,featureTableProperty,numberOfFeatures),stringOffsets=function EXT_feature_metadata_getStringOffsetsForProperty(scenegraph,classProperty,propertyTableProperty,numberOfElements){if(void 0!==propertyTableProperty.stringOffsetBufferView)return getOffsetsForProperty(scenegraph,propertyTableProperty.stringOffsetBufferView,propertyTableProperty.offsetType||"UINT32",numberOfElements);return null}(scenegraph,0,featureTableProperty,numberOfFeatures);return"STRING"===classProperty.type||"STRING"===classProperty.componentType?data=getPropertyDataString(numberOfFeatures,dataArray,arrayOffsets,stringOffsets):function isNumericProperty(schemaProperty){const types=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return types.includes(schemaProperty.type)||void 0!==schemaProperty.componentType&&types.includes(schemaProperty.componentType)}(classProperty)&&(data=function EXT_feature_metadata_getPropertyDataNumeric(classProperty,numberOfElements,valuesDataBytes,arrayOffsets){const isArray="ARRAY"===classProperty.type,arrayCount=classProperty.componentCount,attributeType="SCALAR",componentType=classProperty.componentType||classProperty.type,elementSize=getArrayElementByteSize(attributeType,componentType),elementCount=valuesDataBytes.byteLength/elementSize,valuesData=convertRawBufferToMetadataArray(valuesDataBytes,attributeType,componentType,elementCount);if(isArray)return arrayOffsets?parseVariableLengthArrayNumeric(valuesData,numberOfElements,arrayOffsets,valuesDataBytes.length,elementSize):arrayCount?parseFixedLengthArrayNumeric(valuesData,numberOfElements,arrayCount):[];return valuesData}(classProperty,numberOfFeatures,dataArray,arrayOffsets)),data}function getPropertyDataFromTexture(scenegraph,featureTextureProperty,attributeName){const json=scenegraph.gltf.json;if(!json.meshes)return[];const featureTextureTable=[];for(const mesh of json.meshes)for(const primitive of mesh.primitives)processPrimitiveTextures(scenegraph,attributeName,featureTextureProperty,featureTextureTable,primitive);return featureTextureTable}function processPrimitiveTextures(scenegraph,attributeName,featureTextureProperty,featureTextureTable,primitive){const propertyData=getPrimitiveTextureData(scenegraph,{channels:featureTextureProperty.channels,...featureTextureProperty.texture},primitive);propertyData&&primitivePropertyDataToAttributes(scenegraph,attributeName,propertyData,featureTextureTable,primitive)}const EXTENSIONS=[EXT_structural_metadata_namespaceObject,EXT_mesh_features_namespaceObject,EXT_meshopt_compression_namespaceObject,EXT_texture_webp_namespaceObject,KHR_texture_basisu_namespaceObject,KHR_draco_mesh_compression_namespaceObject,KHR_lights_punctual_namespaceObject,KHR_materials_unlit_namespaceObject,KHR_techniques_webgl_namespaceObject,KHR_texture_transform_namespaceObject,EXT_feature_metadata_namespaceObject];function useExtension(extensionName,options){const excludes=options?.gltf?.excludeExtensions||{};return!(extensionName in excludes&&!excludes[extensionName])}const GLTF_ARRAYS={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},GLTF_KEYS={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class GLTFV1Normalizer{idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}};json;normalize(gltf,options){this.json=gltf.json;const json=gltf.json;switch(json.asset&&json.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn(`glTF: Unknown version ${json.asset.version}`)}if(!options.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(json),this._convertTopLevelObjectsToArrays(json),function KHR_binary_gltf_preprocess(gltfData){const gltfScenegraph=new GLTFScenegraph(gltfData),{json:json}=gltfScenegraph;for(const image of json.images||[]){const extension=gltfScenegraph.getObjectExtension(image,"KHR_binary_glTF");extension&&Object.assign(image,extension),gltfScenegraph.removeObjectExtension(image,"KHR_binary_glTF")}json.buffers&&json.buffers[0]&&delete json.buffers[0].uri,gltfScenegraph.removeExtension("KHR_binary_glTF")}(gltf),this._convertObjectIdsToArrayIndices(json),this._updateObjects(json),this._updateMaterial(json)}_addAsset(json){json.asset=json.asset||{},json.asset.version="2.0",json.asset.generator=json.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(json){for(const arrayName in GLTF_ARRAYS)this._convertTopLevelObjectToArray(json,arrayName)}_convertTopLevelObjectToArray(json,mapName){const objectMap=json[mapName];if(objectMap&&!Array.isArray(objectMap)){json[mapName]=[];for(const id in objectMap){const object=objectMap[id];object.id=object.id||id;const index=json[mapName].length;json[mapName].push(object),this.idToIndexMap[mapName][id]=index}}}_convertObjectIdsToArrayIndices(json){for(const arrayName in GLTF_ARRAYS)this._convertIdsToIndices(json,arrayName);"scene"in json&&(json.scene=this._convertIdToIndex(json.scene,"scene"));for(const texture of json.textures)this._convertTextureIds(texture);for(const mesh of json.meshes)this._convertMeshIds(mesh);for(const node of json.nodes)this._convertNodeIds(node);for(const node of json.scenes)this._convertSceneIds(node)}_convertTextureIds(texture){texture.source&&(texture.source=this._convertIdToIndex(texture.source,"image"))}_convertMeshIds(mesh){for(const primitive of mesh.primitives){const{attributes:attributes,indices:indices,material:material}=primitive;for(const attributeName in attributes)attributes[attributeName]=this._convertIdToIndex(attributes[attributeName],"accessor");indices&&(primitive.indices=this._convertIdToIndex(indices,"accessor")),material&&(primitive.material=this._convertIdToIndex(material,"material"))}}_convertNodeIds(node){node.children&&(node.children=node.children.map((child=>this._convertIdToIndex(child,"node")))),node.meshes&&(node.meshes=node.meshes.map((mesh=>this._convertIdToIndex(mesh,"mesh"))))}_convertSceneIds(scene){scene.nodes&&(scene.nodes=scene.nodes.map((node=>this._convertIdToIndex(node,"node"))))}_convertIdsToIndices(json,topLevelArrayName){json[topLevelArrayName]||(console.warn(`gltf v1: json doesn't contain attribute ${topLevelArrayName}`),json[topLevelArrayName]=[]);for(const object of json[topLevelArrayName])for(const key in object){const id=object[key],index=this._convertIdToIndex(id,key);object[key]=index}}_convertIdToIndex(id,key){const arrayName=GLTF_KEYS[key];if(arrayName in this.idToIndexMap){const index=this.idToIndexMap[arrayName][id];if(!Number.isFinite(index))throw new Error(`gltf v1: failed to resolve ${key} with id ${id}`);return index}return id}_updateObjects(json){for(const buffer of this.json.buffers)delete buffer.type}_updateMaterial(json){for(const material of json.materials){material.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const textureId=material.values?.tex||material.values?.texture2d_0||material.values?.diffuseTex,textureIndex=json.textures.findIndex((texture=>texture.id===textureId));-1!==textureIndex&&(material.pbrMetallicRoughness.baseColorTexture={index:textureIndex})}}}async function parseGLTF(gltf,arrayBufferOrString,byteOffset=0,options,context){return function parseGLTFContainerSync(gltf,data,byteOffset,options){options.uri&&(gltf.baseUri=options.uri);if(data instanceof ArrayBuffer&&!function parse_glb_isGLB(arrayBuffer,byteOffset=0,options={}){const dataView=new DataView(arrayBuffer),{magic:magic=MAGIC_glTF}=options,magic1=dataView.getUint32(byteOffset,!1);return magic1===magic||magic1===MAGIC_glTF}(data,byteOffset,options)){data=(new TextDecoder).decode(data)}if("string"==typeof data)gltf.json=parseJSON(data);else if(data instanceof ArrayBuffer){const glb={};byteOffset=parseGLBSync(glb,data,byteOffset,options.glb),(0,assert.h)("glTF"===glb.type,`Invalid GLB magic string ${glb.type}`),gltf._glb=glb,gltf.json=glb.json}else(0,assert.h)(!1,"GLTF: must be ArrayBuffer or string");const buffers=gltf.json.buffers||[];if(gltf.buffers=new Array(buffers.length).fill(null),gltf._glb&&gltf._glb.header.hasBinChunk){const{binChunks:binChunks}=gltf._glb;gltf.buffers[0]={arrayBuffer:binChunks[0].arrayBuffer,byteOffset:binChunks[0].byteOffset,byteLength:binChunks[0].byteLength}}const images=gltf.json.images||[];gltf.images=new Array(images.length).fill({})}(gltf,arrayBufferOrString,byteOffset,options),function normalizeGLTFV1(gltf,options={}){return(new GLTFV1Normalizer).normalize(gltf,options)}(gltf,{normalize:options?.gltf?.normalize}),function preprocessExtensions(gltf,options={},context){const extensions=EXTENSIONS.filter((extension=>useExtension(extension.name,options)));for(const extension of extensions)extension.preprocess?.(gltf,options,context)}(gltf,options,context),options?.gltf?.loadBuffers&&gltf.json.buffers&&await async function loadBuffers(gltf,options,context){const buffers=gltf.json.buffers||[];for(let i=0;i<buffers.length;++i){const buffer=buffers[i];if(buffer.uri){const{fetch:fetch}=context;(0,assert.h)(fetch);const uri=resolveUrl(buffer.uri,options),response=await(context?.fetch?.(uri)),arrayBuffer=await(response?.arrayBuffer?.());gltf.buffers[i]={arrayBuffer:arrayBuffer,byteOffset:0,byteLength:arrayBuffer.byteLength},delete buffer.uri}else null===gltf.buffers[i]&&(gltf.buffers[i]={arrayBuffer:new ArrayBuffer(buffer.byteLength),byteOffset:0,byteLength:buffer.byteLength})}}(gltf,options,context),options?.gltf?.loadImages&&await async function loadImages(gltf,options,context){const imageIndices=function getReferencesImageIndices(gltf){const imageIndices=new Set,textures=gltf.json.textures||[];for(const texture of textures)void 0!==texture.source&&imageIndices.add(texture.source);return Array.from(imageIndices).sort()}(gltf),images=gltf.json.images||[],promises=[];for(const imageIndex of imageIndices)promises.push(loadImage(gltf,images[imageIndex],imageIndex,options,context));return await Promise.all(promises)}(gltf,options,context),await async function decodeExtensions(gltf,options={},context){const extensions=EXTENSIONS.filter((extension=>useExtension(extension.name,options)));for(const extension of extensions)await(extension.decode?.(gltf,options,context))}(gltf,options,context),gltf}async function loadImage(gltf,image,index,options,context){let arrayBuffer;if(image.uri&&!image.hasOwnProperty("bufferView")){const uri=resolveUrl(image.uri,options),{fetch:fetch}=context,response=await fetch(uri);arrayBuffer=await response.arrayBuffer(),image.bufferView={data:arrayBuffer}}if(Number.isFinite(image.bufferView)){const array=getTypedArrayForBufferView(gltf.json,gltf.buffers,image.bufferView);arrayBuffer=(0,array_buffer_utils.qv)(array.buffer,array.byteOffset,array.byteLength)}(0,assert.h)(arrayBuffer,"glTF image has no data");let parsedImage=await(0,loader_types.cr)(arrayBuffer,[image_loader.S,BasisLoader],{...options,mimeType:image.mimeType,basis:options.basis||{format:selectSupportedBasisFormat()}},context);parsedImage&&parsedImage[0]&&(parsedImage={compressed:!0,mipmaps:!1,width:parsedImage[0].width,height:parsedImage[0].height,data:parsedImage[0]}),gltf.images=gltf.images||[],gltf.images[index]=parsedImage}const GLTFLoader={dataType:null,batchType:null,name:"glTF",id:"gltf",module:"gltf",version:"4.2.1",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:async function parse(arrayBuffer,options={},context){(options={...GLTFLoader.options,...options}).gltf={...GLTFLoader.options.gltf,...options.gltf};const{byteOffset:byteOffset=0}=options;return await parseGLTF({},arrayBuffer,byteOffset,options,context)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}}},"./node_modules/@loaders.gl/gltf/dist/lib/api/post-process-gltf.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return postProcessGLTF}});var _utils_assert_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/lib/utils/assert.js"),_gltf_utils_gltf_utils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/lib/gltf-utils/gltf-utils.js");const COMPONENTS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},BYTES={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},GL_SAMPLER_TEXTURE_MAG_FILTER=10240,GL_SAMPLER_TEXTURE_MIN_FILTER=10241,GL_SAMPLER_TEXTURE_WRAP_S=10242,GL_SAMPLER_TEXTURE_WRAP_T=10243,GL_SAMPLER_REPEAT=10497,SAMPLER_PARAMETER_GLTF_TO_GL={magFilter:GL_SAMPLER_TEXTURE_MAG_FILTER,minFilter:GL_SAMPLER_TEXTURE_MIN_FILTER,wrapS:GL_SAMPLER_TEXTURE_WRAP_S,wrapT:GL_SAMPLER_TEXTURE_WRAP_T},DEFAULT_SAMPLER_PARAMETERS={[GL_SAMPLER_TEXTURE_MAG_FILTER]:9729,[GL_SAMPLER_TEXTURE_MIN_FILTER]:9986,[GL_SAMPLER_TEXTURE_WRAP_S]:GL_SAMPLER_REPEAT,[GL_SAMPLER_TEXTURE_WRAP_T]:GL_SAMPLER_REPEAT};class GLTFPostProcessor{baseUri="";jsonUnprocessed;json;buffers=[];images=[];postProcess(gltf,options={}){const{json:json,buffers:buffers=[],images:images=[]}=gltf,{baseUri:baseUri=""}=gltf;return(0,_utils_assert_js__WEBPACK_IMPORTED_MODULE_0__.h)(json),this.baseUri=baseUri,this.buffers=buffers,this.images=images,this.jsonUnprocessed=json,this.json=this._resolveTree(gltf.json,options),this.json}_resolveTree(gltf,options={}){const json={...gltf};return this.json=json,gltf.bufferViews&&(json.bufferViews=gltf.bufferViews.map(((bufView,i)=>this._resolveBufferView(bufView,i)))),gltf.images&&(json.images=gltf.images.map(((image,i)=>this._resolveImage(image,i)))),gltf.samplers&&(json.samplers=gltf.samplers.map(((sampler,i)=>this._resolveSampler(sampler,i)))),gltf.textures&&(json.textures=gltf.textures.map(((texture,i)=>this._resolveTexture(texture,i)))),gltf.accessors&&(json.accessors=gltf.accessors.map(((accessor,i)=>this._resolveAccessor(accessor,i)))),gltf.materials&&(json.materials=gltf.materials.map(((material,i)=>this._resolveMaterial(material,i)))),gltf.meshes&&(json.meshes=gltf.meshes.map(((mesh,i)=>this._resolveMesh(mesh,i)))),gltf.nodes&&(json.nodes=gltf.nodes.map(((node,i)=>this._resolveNode(node,i))),json.nodes=json.nodes.map(((node,i)=>this._resolveNodeChildren(node)))),gltf.skins&&(json.skins=gltf.skins.map(((skin,i)=>this._resolveSkin(skin,i)))),gltf.scenes&&(json.scenes=gltf.scenes.map(((scene,i)=>this._resolveScene(scene,i)))),"number"==typeof this.json.scene&&json.scenes&&(json.scene=json.scenes[this.json.scene]),json}getScene(index){return this._get(this.json.scenes,index)}getNode(index){return this._get(this.json.nodes,index)}getSkin(index){return this._get(this.json.skins,index)}getMesh(index){return this._get(this.json.meshes,index)}getMaterial(index){return this._get(this.json.materials,index)}getAccessor(index){return this._get(this.json.accessors,index)}getCamera(index){return this._get(this.json.cameras,index)}getTexture(index){return this._get(this.json.textures,index)}getSampler(index){return this._get(this.json.samplers,index)}getImage(index){return this._get(this.json.images,index)}getBufferView(index){return this._get(this.json.bufferViews,index)}getBuffer(index){return this._get(this.json.buffers,index)}_get(array,index){if("object"==typeof index)return index;const object=array&&array[index];return object||console.warn(`glTF file error: Could not find ${array}[${index}]`),object}_resolveScene(scene,index){return{...scene,id:scene.id||`scene-${index}`,nodes:(scene.nodes||[]).map((node=>this.getNode(node)))}}_resolveNode(gltfNode,index){const node={...gltfNode,id:gltfNode?.id||`node-${index}`};return void 0!==gltfNode.mesh&&(node.mesh=this.getMesh(gltfNode.mesh)),void 0!==gltfNode.camera&&(node.camera=this.getCamera(gltfNode.camera)),void 0!==gltfNode.skin&&(node.skin=this.getSkin(gltfNode.skin)),void 0!==gltfNode.meshes&&gltfNode.meshes.length&&(node.mesh=gltfNode.meshes.reduce(((accum,meshIndex)=>{const mesh=this.getMesh(meshIndex);return accum.id=mesh.id,accum.primitives=accum.primitives.concat(mesh.primitives),accum}),{primitives:[]})),node}_resolveNodeChildren(node){return node.children&&(node.children=node.children.map((child=>this.getNode(child)))),node}_resolveSkin(gltfSkin,index){const inverseBindMatrices="number"==typeof gltfSkin.inverseBindMatrices?this.getAccessor(gltfSkin.inverseBindMatrices):void 0;return{...gltfSkin,id:gltfSkin.id||`skin-${index}`,inverseBindMatrices:inverseBindMatrices}}_resolveMesh(gltfMesh,index){const mesh={...gltfMesh,id:gltfMesh.id||`mesh-${index}`,primitives:[]};return gltfMesh.primitives&&(mesh.primitives=gltfMesh.primitives.map((gltfPrimitive=>{const primitive={...gltfPrimitive,attributes:{},indices:void 0,material:void 0},attributes=gltfPrimitive.attributes;for(const attribute in attributes)primitive.attributes[attribute]=this.getAccessor(attributes[attribute]);return void 0!==gltfPrimitive.indices&&(primitive.indices=this.getAccessor(gltfPrimitive.indices)),void 0!==gltfPrimitive.material&&(primitive.material=this.getMaterial(gltfPrimitive.material)),primitive}))),mesh}_resolveMaterial(gltfMaterial,index){const material={...gltfMaterial,id:gltfMaterial.id||`material-${index}`};if(material.normalTexture&&(material.normalTexture={...material.normalTexture},material.normalTexture.texture=this.getTexture(material.normalTexture.index)),material.occlusionTexture&&(material.occlusionTexture={...material.occlusionTexture},material.occlusionTexture.texture=this.getTexture(material.occlusionTexture.index)),material.emissiveTexture&&(material.emissiveTexture={...material.emissiveTexture},material.emissiveTexture.texture=this.getTexture(material.emissiveTexture.index)),material.emissiveFactor||(material.emissiveFactor=material.emissiveTexture?[1,1,1]:[0,0,0]),material.pbrMetallicRoughness){material.pbrMetallicRoughness={...material.pbrMetallicRoughness};const mr=material.pbrMetallicRoughness;mr.baseColorTexture&&(mr.baseColorTexture={...mr.baseColorTexture},mr.baseColorTexture.texture=this.getTexture(mr.baseColorTexture.index)),mr.metallicRoughnessTexture&&(mr.metallicRoughnessTexture={...mr.metallicRoughnessTexture},mr.metallicRoughnessTexture.texture=this.getTexture(mr.metallicRoughnessTexture.index))}return material}_resolveAccessor(gltfAccessor,index){const bytesPerComponent=function getBytesFromComponentType(componentType){return BYTES[componentType]}(gltfAccessor.componentType),components=function getSizeFromAccessorType(type){return COMPONENTS[type]}(gltfAccessor.type),bytesPerElement=bytesPerComponent*components,accessor={...gltfAccessor,id:gltfAccessor.id||`accessor-${index}`,bytesPerComponent:bytesPerComponent,components:components,bytesPerElement:bytesPerElement,value:void 0,bufferView:void 0,sparse:void 0};if(void 0!==gltfAccessor.bufferView&&(accessor.bufferView=this.getBufferView(gltfAccessor.bufferView)),accessor.bufferView){const buffer=accessor.bufferView.buffer,{ArrayType:ArrayType,byteLength:byteLength}=(0,_gltf_utils_gltf_utils_js__WEBPACK_IMPORTED_MODULE_1__.pN)(accessor,accessor.bufferView),byteOffset=(accessor.bufferView.byteOffset||0)+(accessor.byteOffset||0)+buffer.byteOffset;let cutBuffer=buffer.arrayBuffer.slice(byteOffset,byteOffset+byteLength);accessor.bufferView.byteStride&&(cutBuffer=this._getValueFromInterleavedBuffer(buffer,byteOffset,accessor.bufferView.byteStride,accessor.bytesPerElement,accessor.count)),accessor.value=new ArrayType(cutBuffer)}return accessor}_getValueFromInterleavedBuffer(buffer,byteOffset,byteStride,bytesPerElement,count){const result=new Uint8Array(count*bytesPerElement);for(let i=0;i<count;i++){const elementOffset=byteOffset+i*byteStride;result.set(new Uint8Array(buffer.arrayBuffer.slice(elementOffset,elementOffset+bytesPerElement)),i*bytesPerElement)}return result.buffer}_resolveTexture(gltfTexture,index){return{...gltfTexture,id:gltfTexture.id||`texture-${index}`,sampler:"number"==typeof gltfTexture.sampler?this.getSampler(gltfTexture.sampler):{id:"default-sampler",parameters:DEFAULT_SAMPLER_PARAMETERS},source:"number"==typeof gltfTexture.source?this.getImage(gltfTexture.source):void 0}}_resolveSampler(gltfSampler,index){const sampler={id:gltfSampler.id||`sampler-${index}`,...gltfSampler,parameters:{}};for(const key in sampler){const glEnum=this._enumSamplerParameter(key);void 0!==glEnum&&(sampler.parameters[glEnum]=sampler[key])}return sampler}_enumSamplerParameter(key){return SAMPLER_PARAMETER_GLTF_TO_GL[key]}_resolveImage(gltfImage,index){const image={...gltfImage,id:gltfImage.id||`image-${index}`,image:null,bufferView:void 0!==gltfImage.bufferView?this.getBufferView(gltfImage.bufferView):void 0},preloadedImage=this.images[index];return preloadedImage&&(image.image=preloadedImage),image}_resolveBufferView(gltfBufferView,index){const bufferIndex=gltfBufferView.buffer,arrayBuffer=this.buffers[bufferIndex].arrayBuffer;let byteOffset=this.buffers[bufferIndex].byteOffset||0;gltfBufferView.byteOffset&&(byteOffset+=gltfBufferView.byteOffset);return{id:`bufferView-${index}`,...gltfBufferView,buffer:this.buffers[bufferIndex],data:new Uint8Array(arrayBuffer,byteOffset,gltfBufferView.byteLength)}}_resolveCamera(gltfCamera,index){const camera={...gltfCamera,id:gltfCamera.id||`camera-${index}`};return camera.perspective,camera.orthographic,camera}}function postProcessGLTF(gltf,options){return(new GLTFPostProcessor).postProcess(gltf,options)}},"./node_modules/@loaders.gl/gltf/dist/lib/gltf-utils/gltf-constants.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A0:function(){return BYTES},KC:function(){return COMPONENTS}});const COMPONENTS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},BYTES={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4}},"./node_modules/@loaders.gl/gltf/dist/lib/gltf-utils/gltf-utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Xr:function(){return getMemoryUsageGLTF},dl:function(){return getAccessorTypeFromSize},pN:function(){return getAccessorArrayTypeAndLength},x$:function(){return getComponentTypeFromArray}});var _utils_assert_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/lib/utils/assert.js"),_gltf_utils_gltf_constants_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/lib/gltf-utils/gltf-constants.js");const MIPMAP_FACTOR=1.33,TYPES=["SCALAR","VEC2","VEC3","VEC4"],ARRAY_CONSTRUCTOR_TO_WEBGL_CONSTANT=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],ARRAY_TO_COMPONENT_TYPE=new Map(ARRAY_CONSTRUCTOR_TO_WEBGL_CONSTANT),ATTRIBUTE_TYPE_TO_COMPONENTS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function getAccessorTypeFromSize(size){return TYPES[size-1]||TYPES[0]}function getComponentTypeFromArray(typedArray){const componentType=ARRAY_TO_COMPONENT_TYPE.get(typedArray.constructor);if(!componentType)throw new Error("Illegal typed array");return componentType}function getAccessorArrayTypeAndLength(accessor,bufferView){const ArrayType=ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[accessor.componentType],components=ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type],bytesPerComponent=ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[accessor.componentType],length=accessor.count*components,byteLength=accessor.count*components*bytesPerComponent;(0,_utils_assert_js__WEBPACK_IMPORTED_MODULE_0__.h)(byteLength>=0&&byteLength<=bufferView.byteLength);return{ArrayType:ArrayType,length:length,byteLength:byteLength,componentByteSize:_gltf_utils_gltf_constants_js__WEBPACK_IMPORTED_MODULE_1__.A0[accessor.componentType],numberOfComponentsInElement:_gltf_utils_gltf_constants_js__WEBPACK_IMPORTED_MODULE_1__.KC[accessor.type]}}function getMemoryUsageGLTF(gltf){let{images:images,bufferViews:bufferViews}=gltf;images=images||[],bufferViews=bufferViews||[];const imageBufferViews=images.map((i=>i.bufferView));bufferViews=bufferViews.filter((view=>!imageBufferViews.includes(view)));const bufferMemory=bufferViews.reduce(((acc,view)=>acc+view.byteLength),0),pixelCount=images.reduce(((acc,image)=>{const{width:width,height:height}=image.image;return acc+width*height}),0);return bufferMemory+Math.ceil(4*pixelCount*MIPMAP_FACTOR)}},"./node_modules/@loaders.gl/gltf/dist/lib/utils/assert.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function assert(condition,message){if(!condition)throw new Error(message||"assert failed: gltf")}__webpack_require__.d(__webpack_exports__,{h:function(){return assert}})},"./node_modules/@loaders.gl/loader-utils/dist/json-loader.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{H:function(){return JSONLoader}});const JSONLoader={dataType:null,batchType:null,name:"JSON",id:"json",module:"json",version:"4.2.1",extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:parseTextSync,parse:async arrayBuffer=>parseTextSync((new TextDecoder).decode(arrayBuffer)),options:{}};function parseTextSync(text){return JSON.parse(text)}},"./node_modules/@loaders.gl/loader-utils/dist/loader-types.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";async function parseFromContext(data,loaders,options,context){return context._parse(data,loaders,options,context)}__webpack_require__.d(__webpack_exports__,{cr:function(){return parseFromContext}})},"./node_modules/@loaders.gl/schema/dist/lib/mesh/mesh-utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function getMeshBoundingBox(attributes){let minX=1/0,minY=1/0,minZ=1/0,maxX=-1/0,maxY=-1/0,maxZ=-1/0;const positions=attributes.POSITION?attributes.POSITION.value:[],len=positions&&positions.length;for(let i=0;i<len;i+=3){const x=positions[i],y=positions[i+1],z=positions[i+2];minX=x<minX?x:minX,minY=y<minY?y:minY,minZ=z<minZ?z:minZ,maxX=x>maxX?x:maxX,maxY=y>maxY?y:maxY,maxZ=z>maxZ?z:maxZ}return[[minX,minY,minZ],[maxX,maxY,maxZ]]}__webpack_require__.d(__webpack_exports__,{v:function(){return getMeshBoundingBox}})},"./node_modules/@loaders.gl/worker-utils/dist/lib/library-utils/library-utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return loadLibrary}});var _env_utils_globals_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@loaders.gl/worker-utils/dist/lib/env-utils/globals.js"),_env_utils_assert_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@loaders.gl/worker-utils/dist/lib/env-utils/assert.js"),_env_utils_version_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@loaders.gl/worker-utils/dist/lib/env-utils/version.js");const loadLibraryPromises={};async function loadLibrary(libraryUrl,moduleName=null,options={},libraryName=null){return moduleName&&(libraryUrl=function getLibraryUrl(library,moduleName,options={},libraryName=null){if(!options.useLocalLibraries&&library.startsWith("http"))return library;libraryName=libraryName||library;const modules=options.modules||{};if(modules[libraryName])return modules[libraryName];if(!_env_utils_globals_js__WEBPACK_IMPORTED_MODULE_0__.jU)return`modules/${moduleName}/dist/libs/${libraryName}`;if(options.CDN)return(0,_env_utils_assert_js__WEBPACK_IMPORTED_MODULE_1__.h)(options.CDN.startsWith("http")),`${options.CDN}/${moduleName}@${_env_utils_version_js__WEBPACK_IMPORTED_MODULE_2__.q}/dist/libs/${libraryName}`;if(_env_utils_globals_js__WEBPACK_IMPORTED_MODULE_0__.hJ)return`../src/libs/${libraryName}`;return`modules/${moduleName}/src/libs/${libraryName}`}(libraryUrl,moduleName,options,libraryName)),loadLibraryPromises[libraryUrl]=loadLibraryPromises[libraryUrl]||async function loadLibraryFromFile(libraryUrl){if(libraryUrl.endsWith("wasm"))return await async function loadAsArrayBuffer(url){const{readFileAsArrayBuffer:readFileAsArrayBuffer}=globalThis.loaders||{};if(_env_utils_globals_js__WEBPACK_IMPORTED_MODULE_0__.jU||!readFileAsArrayBuffer||url.startsWith("http")){const response=await fetch(url);return await response.arrayBuffer()}return await readFileAsArrayBuffer(url)}(libraryUrl);if(!_env_utils_globals_js__WEBPACK_IMPORTED_MODULE_0__.jU)try{const{requireFromFile:requireFromFile}=globalThis.loaders||{};return await(requireFromFile?.(libraryUrl))}catch(error){return console.error(error),null}if(_env_utils_globals_js__WEBPACK_IMPORTED_MODULE_0__.hJ)return importScripts(libraryUrl);const scriptSource=await async function loadAsText(url){const{readFileAsText:readFileAsText}=globalThis.loaders||{};if(_env_utils_globals_js__WEBPACK_IMPORTED_MODULE_0__.jU||!readFileAsText||url.startsWith("http")){const response=await fetch(url);return await response.text()}return await readFileAsText(url)}(libraryUrl);return function loadLibraryFromString(scriptSource,id){if(!_env_utils_globals_js__WEBPACK_IMPORTED_MODULE_0__.jU){const{requireFromString:requireFromString}=globalThis.loaders||{};return requireFromString?.(scriptSource,id)}if(_env_utils_globals_js__WEBPACK_IMPORTED_MODULE_0__.hJ)return eval.call(globalThis,scriptSource),null;const script=document.createElement("script");script.id=id;try{script.appendChild(document.createTextNode(scriptSource))}catch(e){script.text=scriptSource}return document.body.appendChild(script),null}(scriptSource,libraryUrl)}(libraryUrl),await loadLibraryPromises[libraryUrl]}},"./node_modules/@luma.gl/engine/dist/geometries/cube-geometry.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{uS:function(){return CubeGeometry}});var _luma_gl_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@luma.gl/core/dist/utils/utils.js"),_geometry_geometry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometry/geometry.js");class CubeGeometry extends _geometry_geometry_js__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(props={}){const{id:id=(0,_luma_gl_core__WEBPACK_IMPORTED_MODULE_1__.h)("cube-geometry"),indices:indices=!0}=props;super(indices?{...props,id:id,topology:"triangle-list",indices:{size:1,value:CUBE_INDICES},attributes:{...ATTRIBUTES,...props.attributes}}:{...props,id:id,topology:"triangle-list",indices:void 0,attributes:{...NON_INDEXED_ATTRIBUTES,...props.attributes}})}}const CUBE_INDICES=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),CUBE_POSITIONS=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),CUBE_NORMALS=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),CUBE_TEX_COORDS=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),CUBE_NON_INDEXED_POSITIONS=new Float32Array([1,-1,1,-1,-1,1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,-1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,1,1,1,1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,-1,1,-1,1,1,1,-1,1,1,-1,-1,1,-1,-1,1,1,-1,1,1,1,1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1]),CUBE_NON_INDEXED_TEX_COORDS=new Float32Array([1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,1,0,0]),CUBE_NON_INDEXED_COLORS=new Float32Array([1,0,1,1,0,0,1,1,0,0,0,1,1,0,0,1,1,0,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,0,0,1,1,1,0,1,1,1,1,1,1,0,0,1,0,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,1,1,1,1,0,1,0,0,1,1,0,1,1,1,0,1,0,1,0,0,0,1,0,0,1,1,0,1,0,1,1,1,1,1,0,1,1,1,0,0,1,1,0,0,1,1,1,0,1,1,1,1,1,1,1,0,0,1,0,0,0,1,0,1,0,1,1,1,0,1,1,0,0,1,0,1,0,1]),ATTRIBUTES={POSITION:{size:3,value:CUBE_POSITIONS},NORMAL:{size:3,value:CUBE_NORMALS},TEXCOORD_0:{size:2,value:CUBE_TEX_COORDS}},NON_INDEXED_ATTRIBUTES={POSITION:{size:3,value:CUBE_NON_INDEXED_POSITIONS},TEXCOORD_0:{size:2,value:CUBE_NON_INDEXED_TEX_COORDS},COLOR_0:{size:3,value:CUBE_NON_INDEXED_COLORS}}},"./node_modules/@luma.gl/gltf/dist/pbr/parse-pbr-material.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return parsePBRMaterial}});var GLEnum,_luma_gl_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@luma.gl/core/dist/utils/log.js");function parsePBRMaterial(device,material,attributes,options){const parsedMaterial={defines:{MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},bindings:{},uniforms:{u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},parameters:{},glParameters:{},generatedTextures:[]};parsedMaterial.defines.USE_TEX_LOD=1;const{imageBasedLightingEnvironment:imageBasedLightingEnvironment}=options;return imageBasedLightingEnvironment&&(parsedMaterial.bindings.u_DiffuseEnvSampler=imageBasedLightingEnvironment.diffuseEnvSampler,parsedMaterial.bindings.u_SpecularEnvSampler=imageBasedLightingEnvironment.specularEnvSampler,parsedMaterial.bindings.u_brdfLUT=imageBasedLightingEnvironment.brdfLutTexture,parsedMaterial.uniforms.u_ScaleIBLAmbient=[1,1]),options?.pbrDebug&&(parsedMaterial.defines.PBR_DEBUG=1,parsedMaterial.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],parsedMaterial.uniforms.u_ScaleFGDSpec=[0,0,0,0]),attributes.NORMAL&&(parsedMaterial.defines.HAS_NORMALS=1),attributes.TANGENT&&options?.useTangents&&(parsedMaterial.defines.HAS_TANGENTS=1),attributes.TEXCOORD_0&&(parsedMaterial.defines.HAS_UV=1),options?.imageBasedLightingEnvironment&&(parsedMaterial.defines.USE_IBL=1),options?.lights&&(parsedMaterial.defines.USE_LIGHTS=1),material&&function parseMaterial(device,material,parsedMaterial){parsedMaterial.uniforms.pbr_uUnlit=Boolean(material.unlit),material.pbrMetallicRoughness&&function parsePbrMetallicRoughness(device,pbrMetallicRoughness,parsedMaterial){pbrMetallicRoughness.baseColorTexture&&addTexture(device,pbrMetallicRoughness.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP",parsedMaterial);parsedMaterial.uniforms.u_BaseColorFactor=pbrMetallicRoughness.baseColorFactor||[1,1,1,1],pbrMetallicRoughness.metallicRoughnessTexture&&addTexture(device,pbrMetallicRoughness.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP",parsedMaterial);const{metallicFactor:metallicFactor=1,roughnessFactor:roughnessFactor=1}=pbrMetallicRoughness;parsedMaterial.uniforms.u_MetallicRoughnessValues=[metallicFactor,roughnessFactor]}(device,material.pbrMetallicRoughness,parsedMaterial);if(material.normalTexture){addTexture(device,material.normalTexture,"u_NormalSampler","HAS_NORMALMAP",parsedMaterial);const{scale:scale=1}=material.normalTexture;parsedMaterial.uniforms.u_NormalScale=scale}if(material.occlusionTexture){addTexture(device,material.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP",parsedMaterial);const{strength:strength=1}=material.occlusionTexture;parsedMaterial.uniforms.u_OcclusionStrength=strength}material.emissiveTexture&&(addTexture(device,material.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP",parsedMaterial),parsedMaterial.uniforms.u_EmissiveFactor=material.emissiveFactor||[0,0,0]);switch(material.alphaMode){case"MASK":const{alphaCutoff:alphaCutoff=.5}=material;parsedMaterial.defines.ALPHA_CUTOFF=1,parsedMaterial.uniforms.u_AlphaCutoff=alphaCutoff;break;case"BLEND":_luma_gl_core__WEBPACK_IMPORTED_MODULE_0__.c.warn("glTF BLEND alphaMode might not work well because it requires mesh sorting")(),parsedMaterial.parameters.blendColorOperation="add",parsedMaterial.parameters.blendColorSrcFactor="src-alpha",parsedMaterial.parameters.blendColorDstFactor="one-minus-src-alpha",parsedMaterial.parameters.blendAlphaOperation="add",parsedMaterial.parameters.blendAlphaSrcFactor="one",parsedMaterial.parameters.blendAlphaDstFactor="one-minus-src-alpha",parsedMaterial.glParameters.blend=!0,parsedMaterial.glParameters.blendEquation=GLEnum.FUNC_ADD,parsedMaterial.glParameters.blendFunc=[GLEnum.SRC_ALPHA,GLEnum.ONE_MINUS_SRC_ALPHA,GLEnum.ONE,GLEnum.ONE_MINUS_SRC_ALPHA]}}(device,material,parsedMaterial),parsedMaterial}function addTexture(device,gltfTexture,uniformName,define=null,parsedMaterial){const parameters=gltfTexture?.texture?.sampler?.parameters||{},image=gltfTexture.texture.source.image;let textureOptions,specialTextureParameters={};image.compressed?(textureOptions=image,specialTextureParameters={[GLEnum.TEXTURE_MIN_FILTER]:image.data.length>1?GLEnum.LINEAR_MIPMAP_NEAREST:GLEnum.LINEAR}):textureOptions={data:image};const texture=device.createTexture({id:gltfTexture.uniformName||gltfTexture.id,parameters:{...parameters,...specialTextureParameters},pixelStore:{[GLEnum.UNPACK_FLIP_Y_WEBGL]:!1},...textureOptions});parsedMaterial.bindings[uniformName]=texture,define&&(parsedMaterial.defines[define]=1),parsedMaterial.generatedTextures.push(texture)}!function(GLEnum){GLEnum[GLEnum.FUNC_ADD=32774]="FUNC_ADD",GLEnum[GLEnum.ONE=1]="ONE",GLEnum[GLEnum.SRC_ALPHA=770]="SRC_ALPHA",GLEnum[GLEnum.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",GLEnum[GLEnum.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",GLEnum[GLEnum.LINEAR=9729]="LINEAR",GLEnum[GLEnum.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",GLEnum[GLEnum.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL"}(GLEnum||(GLEnum={}))},"./node_modules/@luma.gl/shadertools/dist/modules-webgl1/lighting/lights/lights.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{H:function(){return lights}});const lightingShader="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\nstruct AmbientLight {\nvec3 color;\n};\nstruct PointLight {\nvec3 color;\nvec3 position;\nvec3 attenuation;\n};\nstruct DirectionalLight {\nvec3 color;\nvec3 direction;\n};\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\nuniform bool lighting_uEnabled;\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\nreturn pointLight.attenuation.x\n+ pointLight.attenuation.y * distance\n+ pointLight.attenuation.z * distance * distance;\n}\n#endif\n",INITIAL_MODULE_OPTIONS={lightSources:{}};function convertColor(colorDef={}){const{color:color=[0,0,0],intensity:intensity=1}=colorDef;return color.map((component=>component*intensity/255))}const lights={name:"lights",vs:lightingShader,fs:lightingShader,getUniforms:function getUniforms(opts=INITIAL_MODULE_OPTIONS){if("lightSources"in opts){const{ambientLight:ambientLight,pointLights:pointLights,directionalLights:directionalLights}=opts.lightSources||{};return ambientLight||pointLights&&pointLights.length>0||directionalLights&&directionalLights.length>0?Object.assign({},function getLightSourceUniforms({ambientLight:ambientLight,pointLights:pointLights=[],directionalLights:directionalLights=[]}){const lightSourceUniforms={};return lightSourceUniforms["lighting_uAmbientLight.color"]=ambientLight?convertColor(ambientLight):[0,0,0],pointLights.forEach(((pointLight,index)=>{lightSourceUniforms[`lighting_uPointLight[${index}].color`]=convertColor(pointLight),lightSourceUniforms[`lighting_uPointLight[${index}].position`]=pointLight.position,lightSourceUniforms[`lighting_uPointLight[${index}].attenuation`]=pointLight.attenuation||[1,0,0]})),lightSourceUniforms.lighting_uPointLightCount=pointLights.length,directionalLights.forEach(((directionalLight,index)=>{lightSourceUniforms[`lighting_uDirectionalLight[${index}].color`]=convertColor(directionalLight),lightSourceUniforms[`lighting_uDirectionalLight[${index}].direction`]=directionalLight.direction})),lightSourceUniforms.lighting_uDirectionalLightCount=directionalLights.length,lightSourceUniforms}({ambientLight:ambientLight,pointLights:pointLights,directionalLights:directionalLights}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in opts){const lightSources={pointLights:[],directionalLights:[]};for(const light of opts.lights||[])switch(light.type){case"ambient":lightSources.ambientLight=light;break;case"directional":lightSources.directionalLights?.push(light);break;case"point":lightSources.pointLights?.push(light)}return getUniforms({lightSources:lightSources})}return{}},defines:{MAX_LIGHTS:3}}},"./node_modules/@luma.gl/shadertools/dist/modules-webgl1/lighting/pbr/pbr.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return pbr}});const pbr={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\nout vec3 pbr_vPosition;\nout vec2 pbr_vUV;\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nout mat3 pbr_vTBN;\n# else\nout vec3 pbr_vNormal;\n# endif\n#endif\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\nvec4 pos = u_ModelMatrix * position;\npbr_vPosition = vec3(pos.xyz) / pos.w;\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\nvec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\nvec3 bitangentW = cross(normalW, tangentW) * tangent.w;\npbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\npbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n#ifdef HAS_UV\npbr_vUV = uv;\n#else\npbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"precision highp float;\nuniform bool pbr_uUnlit;\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\nin vec3 pbr_vPosition;\nin vec2 pbr_vUV;\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nin mat3 pbr_vTBN;\n#else\nin vec3 pbr_vNormal;\n#endif\n#endif\nstruct PBRInfo\n{\nfloat NdotL;\nfloat NdotV;\nfloat NdotH;\nfloat LdotH;\nfloat VdotH;\nfloat perceptualRoughness;\nfloat metalness;\nvec3 reflectance0;\nvec3 reflectance90;\nfloat alphaRoughness;\nvec3 diffuseColor;\nvec3 specularColor;\nvec3 n;\nvec3 v;\n};\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\nvec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\nvec3 bLess = step(vec3(0.04045),srgbIn.xyz);\nvec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\nreturn vec4(linOut,srgbIn.w);;\n#else\nreturn srgbIn;\n#endif\n}\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\nvec3 pos_dx = dFdx(pbr_vPosition);\nvec3 pos_dy = dFdy(pbr_vPosition);\nvec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\nvec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\nvec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n#ifdef HAS_NORMALS\nvec3 ng = normalize(pbr_vNormal);\n#else\nvec3 ng = cross(pos_dx, pos_dy);\n#endif\nt = normalize(t - ng * dot(ng, t));\nvec3 b = normalize(cross(ng, t));\nmat3 tbn = mat3(t, b, ng);\n#else\nmat3 tbn = pbr_vTBN;\n#endif\n#ifdef HAS_NORMALMAP\nvec3 n = texture(u_NormalSampler, pbr_vUV).rgb;\nn = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\nvec3 n = normalize(tbn[2].xyz);\n#endif\nreturn n;\n}\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\nfloat mipCount = 9.0;\nfloat lod = (pbrInputs.perceptualRoughness * mipCount);\nvec3 brdf = SRGBtoLINEAR(texture(u_brdfLUT,\nvec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\nvec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n#ifdef USE_TEX_LOD\nvec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\nvec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\nvec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\nvec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\ndiffuse *= u_ScaleIBLAmbient.x;\nspecular *= u_ScaleIBLAmbient.y;\nreturn diffuse + specular;\n}\n#endif\nvec3 diffuse(PBRInfo pbrInputs)\n{\nreturn pbrInputs.diffuseColor / M_PI;\n}\nvec3 specularReflection(PBRInfo pbrInputs)\n{\nreturn pbrInputs.reflectance0 +\n(pbrInputs.reflectance90 - pbrInputs.reflectance0) *\npow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\nfloat NdotL = pbrInputs.NdotL;\nfloat NdotV = pbrInputs.NdotV;\nfloat r = pbrInputs.alphaRoughness;\nfloat attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\nfloat attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\nreturn attenuationL * attenuationV;\n}\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\nfloat roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\nfloat f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\nreturn roughnessSq / (M_PI * f * f);\n}\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\npbrInputs.NdotL = 1.0;\npbrInputs.NdotH = 0.0;\npbrInputs.LdotH = 0.0;\npbrInputs.VdotH = 1.0;\n}\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\nvec3 n = pbrInputs.n;\nvec3 v = pbrInputs.v;\nvec3 l = normalize(lightDirection);\nvec3 h = normalize(l+v);\npbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\npbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\npbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\npbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\nvec3 light_direction = normalize(pointLight.position - pbr_vPosition);\nPBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\nvec3 F = specularReflection(pbrInputs);\nfloat G = geometricOcclusion(pbrInputs);\nfloat D = microfacetDistribution(pbrInputs);\nvec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\nvec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\nreturn pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\nvec4 baseColor = SRGBtoLINEAR(texture(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\nvec4 baseColor = u_BaseColorFactor;\n#endif\n#ifdef ALPHA_CUTOFF\nif (baseColor.a < u_AlphaCutoff) {\ndiscard;\n}\n#endif\nvec3 color = vec3(0, 0, 0);\nif(pbr_uUnlit){\ncolor.rgb = baseColor.rgb;\n}\nelse{\nfloat perceptualRoughness = u_MetallicRoughnessValues.y;\nfloat metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\nvec4 mrSample = texture(u_MetallicRoughnessSampler, pbr_vUV);\nperceptualRoughness = mrSample.g * perceptualRoughness;\nmetallic = mrSample.b * metallic;\n#endif\nperceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\nmetallic = clamp(metallic, 0.0, 1.0);\nfloat alphaRoughness = perceptualRoughness * perceptualRoughness;\nvec3 f0 = vec3(0.04);\nvec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\ndiffuseColor *= 1.0 - metallic;\nvec3 specularColor = mix(f0, baseColor.rgb, metallic);\nfloat reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\nfloat reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\nvec3 specularEnvironmentR0 = specularColor.rgb;\nvec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\nvec3 n = getNormal();\nvec3 v = normalize(u_Camera - pbr_vPosition);\nfloat NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\nvec3 reflection = -normalize(reflect(v, n));\nPBRInfo pbrInputs = PBRInfo(\n0.0,\nNdotV,\n0.0,\n0.0,\n0.0,\nperceptualRoughness,\nmetallic,\nspecularEnvironmentR0,\nspecularEnvironmentR90,\nalphaRoughness,\ndiffuseColor,\nspecularColor,\nn,\nv\n);\n#ifdef USE_LIGHTS\nPBRInfo_setAmbientLight(pbrInputs);\ncolor += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\nfor(int i = 0; i < lighting_uDirectionalLightCount; i++) {\nif (i < lighting_uDirectionalLightCount) {\nPBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\ncolor += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n}\n}\nfor(int i = 0; i < lighting_uPointLightCount; i++) {\nif (i < lighting_uPointLightCount) {\nPBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\nfloat attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\ncolor += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n}\n}\n#endif\n#ifdef USE_IBL\ncolor += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\nfloat ao = texture(u_OcclusionSampler, pbr_vUV).r;\ncolor = mix(color, color * ao, u_OcclusionStrength);\n#endif\n#ifdef HAS_EMISSIVEMAP\nvec3 emissive = SRGBtoLINEAR(texture(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\ncolor += emissive;\n#endif\n#ifdef PBR_DEBUG\ncolor = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\ncolor = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\ncolor = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n}\nreturn vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[__webpack_require__("./node_modules/@luma.gl/shadertools/dist/modules-webgl1/lighting/lights/lights.js").H]}},"./node_modules/@luma.gl/shadertools/dist/modules-webgl1/lighting/phong-lighting/phong-lighting.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return gouraudLighting},s:function(){return phongLighting}});var lights=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/modules-webgl1/lighting/lights/lights.js");const lightingShader="uniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\nvec3 halfway_direction = normalize(light_direction + view_direction);\nfloat lambertian = dot(light_direction, normal_worldspace);\nfloat specular = 0.0;\nif (lambertian > 0.0) {\nfloat specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\nspecular = pow(specular_angle, lighting_uShininess);\n}\nlambertian = max(lambertian, 0.0);\nreturn (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\nvec3 lightColor = surfaceColor;\nif (lighting_uEnabled) {\nvec3 view_direction = normalize(cameraPosition - position_worldspace);\nlightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (i >= lighting_uPointLightCount) {\nbreak;\n}\nPointLight pointLight = lighting_uPointLight[i];\nvec3 light_position_worldspace = pointLight.position;\nvec3 light_direction = normalize(light_position_worldspace - position_worldspace);\nlightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n}\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (i >= lighting_uDirectionalLightCount) {\nbreak;\n}\nDirectionalLight directionalLight = lighting_uDirectionalLight[i];\nlightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n}\n}\nreturn lightColor;\n}\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\nvec3 lightColor = vec3(0, 0, 0);\nvec3 surfaceColor = vec3(0, 0, 0);\nif (lighting_uEnabled) {\nvec3 view_direction = normalize(cameraPosition - position_worldspace);\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (i >= lighting_uPointLightCount) {\nbreak;\n}\nPointLight pointLight = lighting_uPointLight[i];\nvec3 light_position_worldspace = pointLight.position;\nvec3 light_direction = normalize(light_position_worldspace - position_worldspace);\nlightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n}\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (i >= lighting_uDirectionalLightCount) {\nbreak;\n}\nDirectionalLight directionalLight = lighting_uDirectionalLight[i];\nlightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n}\n}\nreturn lightColor;\n}\n",INITIAL_MODULE_OPTIONS={};function getUniforms(opts=INITIAL_MODULE_OPTIONS){if(!("material"in opts))return{};const{material:material}=opts;return material?function getMaterialUniforms(material){const{ambient:ambient=.35,diffuse:diffuse=.6,shininess:shininess=32,specularColor:specularColor=[30,30,30]}=material;return{lighting_uAmbient:ambient,lighting_uDiffuse:diffuse,lighting_uShininess:shininess,lighting_uSpecularColor:specularColor.map((x=>x/255))}}(material):{lighting_uEnabled:!1}}const gouraudLighting={name:"gouraud-lighting",dependencies:[lights.H],vs:lightingShader,defines:{LIGHTING_VERTEX:1},getUniforms:getUniforms},phongLighting={name:"phong-lighting",dependencies:[lights.H],fs:lightingShader,defines:{LIGHTING_FRAGMENT:1},getUniforms:getUniforms}},"./node_modules/@math.gl/core/dist/classes/matrix3.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{V:function(){return Matrix3}});var INDICES,_base_matrix_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@math.gl/core/dist/classes/base/matrix.js"),_lib_validators_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@math.gl/core/dist/lib/validators.js"),_lib_gl_matrix_extras_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@math.gl/core/dist/lib/gl-matrix-extras.js"),_gl_matrix_mat3_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/mat3.js"),_gl_matrix_vec2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/vec2.js"),_gl_matrix_vec3_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/vec3.js");!function(INDICES){INDICES[INDICES.COL0ROW0=0]="COL0ROW0",INDICES[INDICES.COL0ROW1=1]="COL0ROW1",INDICES[INDICES.COL0ROW2=2]="COL0ROW2",INDICES[INDICES.COL1ROW0=3]="COL1ROW0",INDICES[INDICES.COL1ROW1=4]="COL1ROW1",INDICES[INDICES.COL1ROW2=5]="COL1ROW2",INDICES[INDICES.COL2ROW0=6]="COL2ROW0",INDICES[INDICES.COL2ROW1=7]="COL2ROW1",INDICES[INDICES.COL2ROW2=8]="COL2ROW2"}(INDICES||(INDICES={}));const IDENTITY_MATRIX=Object.freeze([1,0,0,0,1,0,0,0,1]);class Matrix3 extends _base_matrix_js__WEBPACK_IMPORTED_MODULE_0__.y{static get IDENTITY(){return function getIdentityMatrix(){IDENTITY_MATRIX3||(IDENTITY_MATRIX3=new Matrix3,Object.freeze(IDENTITY_MATRIX3));return IDENTITY_MATRIX3}()}static get ZERO(){return function getZeroMatrix(){ZERO_MATRIX3||(ZERO_MATRIX3=new Matrix3([0,0,0,0,0,0,0,0,0]),Object.freeze(ZERO_MATRIX3));return ZERO_MATRIX3}()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return INDICES}constructor(array,...args){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(array)?this.copy(array):args.length>0?this.copy([array,...args]):this.identity()}copy(array){return this[0]=array[0],this[1]=array[1],this[2]=array[2],this[3]=array[3],this[4]=array[4],this[5]=array[5],this[6]=array[6],this[7]=array[7],this[8]=array[8],this.check()}identity(){return this.copy(IDENTITY_MATRIX)}fromObject(object){return this.check()}fromQuaternion(q){return(0,_gl_matrix_mat3_js__WEBPACK_IMPORTED_MODULE_1__.en)(this,q),this.check()}set(m00,m10,m20,m01,m11,m21,m02,m12,m22){return this[0]=m00,this[1]=m10,this[2]=m20,this[3]=m01,this[4]=m11,this[5]=m21,this[6]=m02,this[7]=m12,this[8]=m22,this.check()}setRowMajor(m00,m01,m02,m10,m11,m12,m20,m21,m22){return this[0]=m00,this[1]=m10,this[2]=m20,this[3]=m01,this[4]=m11,this[5]=m21,this[6]=m02,this[7]=m12,this[8]=m22,this.check()}determinant(){return(0,_gl_matrix_mat3_js__WEBPACK_IMPORTED_MODULE_1__.GH)(this)}transpose(){return(0,_gl_matrix_mat3_js__WEBPACK_IMPORTED_MODULE_1__.p4)(this,this),this.check()}invert(){return(0,_gl_matrix_mat3_js__WEBPACK_IMPORTED_MODULE_1__.U_)(this,this),this.check()}multiplyLeft(a){return(0,_gl_matrix_mat3_js__WEBPACK_IMPORTED_MODULE_1__.Jp)(this,a,this),this.check()}multiplyRight(a){return(0,_gl_matrix_mat3_js__WEBPACK_IMPORTED_MODULE_1__.Jp)(this,this,a),this.check()}rotate(radians){return(0,_gl_matrix_mat3_js__WEBPACK_IMPORTED_MODULE_1__.U1)(this,this,radians),this.check()}scale(factor){return Array.isArray(factor)?(0,_gl_matrix_mat3_js__WEBPACK_IMPORTED_MODULE_1__.bA)(this,this,factor):(0,_gl_matrix_mat3_js__WEBPACK_IMPORTED_MODULE_1__.bA)(this,this,[factor,factor]),this.check()}translate(vec){return(0,_gl_matrix_mat3_js__WEBPACK_IMPORTED_MODULE_1__.Iu)(this,this,vec),this.check()}transform(vector,result){let out;switch(vector.length){case 2:out=(0,_gl_matrix_vec2_js__WEBPACK_IMPORTED_MODULE_2__.kK)(result||[-0,-0],vector,this);break;case 3:out=(0,_gl_matrix_vec3_js__WEBPACK_IMPORTED_MODULE_3__.kK)(result||[-0,-0,-0],vector,this);break;case 4:out=(0,_lib_gl_matrix_extras_js__WEBPACK_IMPORTED_MODULE_4__._x)(result||[-0,-0,-0,-0],vector,this);break;default:throw new Error("Illegal vector")}return(0,_lib_validators_js__WEBPACK_IMPORTED_MODULE_5__.IL)(out,vector.length),out}transformVector(vector,result){return this.transform(vector,result)}transformVector2(vector,result){return this.transform(vector,result)}transformVector3(vector,result){return this.transform(vector,result)}}let ZERO_MATRIX3,IDENTITY_MATRIX3=null},"./node_modules/@math.gl/core/dist/classes/quaternion.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return Quaternion}});var math_array=__webpack_require__("./node_modules/@math.gl/core/dist/classes/base/math-array.js"),validators=__webpack_require__("./node_modules/@math.gl/core/dist/lib/validators.js"),vec3=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/vec3.js"),gl_matrix_extras=__webpack_require__("./node_modules/@math.gl/core/dist/lib/gl-matrix-extras.js"),vector=__webpack_require__("./node_modules/@math.gl/core/dist/classes/base/vector.js"),common=__webpack_require__("./node_modules/@math.gl/core/dist/lib/common.js");let ZERO;class Vector4 extends vector.O{static get ZERO(){return ZERO||(ZERO=new Vector4(0,0,0,0),Object.freeze(ZERO)),ZERO}constructor(x=0,y=0,z=0,w=0){super(-0,-0,-0,-0),(0,common.kJ)(x)&&1===arguments.length?this.copy(x):(common.vc.debug&&((0,validators.u5)(x),(0,validators.u5)(y),(0,validators.u5)(z),(0,validators.u5)(w)),this[0]=x,this[1]=y,this[2]=z,this[3]=w)}set(x,y,z,w){return this[0]=x,this[1]=y,this[2]=z,this[3]=w,this.check()}copy(array){return this[0]=array[0],this[1]=array[1],this[2]=array[2],this[3]=array[3],this.check()}fromObject(object){return common.vc.debug&&((0,validators.u5)(object.x),(0,validators.u5)(object.y),(0,validators.u5)(object.z),(0,validators.u5)(object.w)),this[0]=object.x,this[1]=object.y,this[2]=object.z,this[3]=object.w,this}toObject(object){return object.x=this[0],object.y=this[1],object.z=this[2],object.w=this[3],object}get ELEMENTS(){return 4}get z(){return this[2]}set z(value){this[2]=(0,validators.u5)(value)}get w(){return this[3]}set w(value){this[3]=(0,validators.u5)(value)}transform(matrix4){return(0,vec3.fF)(this,this,matrix4),this.check()}transformByMatrix3(matrix3){return(0,gl_matrix_extras._x)(this,this,matrix3),this.check()}transformByMatrix2(matrix2){return(0,gl_matrix_extras.G7)(this,this,matrix2),this.check()}transformByQuaternion(quaternion){return(0,vec3.VC)(this,this,quaternion),this.check()}applyMatrix4(m){return m.transform(this,this),this}}var gl_matrix_common=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/common.js"),mat3=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/mat3.js"),gl_matrix_vec4=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/vec4.js");function create(){const out=new gl_matrix_common.WT(4);return gl_matrix_common.WT!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out[3]=1,out}function setAxisAngle(out,axis,rad){rad*=.5;const s=Math.sin(rad);return out[0]=s*axis[0],out[1]=s*axis[1],out[2]=s*axis[2],out[3]=Math.cos(rad),out}function multiply(out,a,b){const ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return out[0]=ax*bw+aw*bx+ay*bz-az*by,out[1]=ay*bw+aw*by+az*bx-ax*bz,out[2]=az*bw+aw*bz+ax*by-ay*bx,out[3]=aw*bw-ax*bx-ay*by-az*bz,out}function slerp(out,a,b,t){const ax=a[0],ay=a[1],az=a[2],aw=a[3];let cosom,omega,scale0,scale1,sinom,bx=b[0],by=b[1],bz=b[2],bw=b[3];return cosom=ax*bx+ay*by+az*bz+aw*bw,cosom<0&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,bw=-bw),1-cosom>gl_matrix_common.Ib?(omega=Math.acos(cosom),sinom=Math.sin(omega),scale0=Math.sin((1-t)*omega)/sinom,scale1=Math.sin(t*omega)/sinom):(scale0=1-t,scale1=t),out[0]=scale0*ax+scale1*bx,out[1]=scale0*ay+scale1*by,out[2]=scale0*az+scale1*bz,out[3]=scale0*aw+scale1*bw,out}function fromMat3(out,m){const fTrace=m[0]+m[4]+m[8];let fRoot;if(fTrace>0)fRoot=Math.sqrt(fTrace+1),out[3]=.5*fRoot,fRoot=.5/fRoot,out[0]=(m[5]-m[7])*fRoot,out[1]=(m[6]-m[2])*fRoot,out[2]=(m[1]-m[3])*fRoot;else{let i=0;m[4]>m[0]&&(i=1),m[8]>m[3*i+i]&&(i=2);const j=(i+1)%3,k=(i+2)%3;fRoot=Math.sqrt(m[3*i+i]-m[3*j+j]-m[3*k+k]+1),out[i]=.5*fRoot,fRoot=.5/fRoot,out[3]=(m[3*j+k]-m[3*k+j])*fRoot,out[j]=(m[3*j+i]+m[3*i+j])*fRoot,out[k]=(m[3*k+i]+m[3*i+k])*fRoot}return out}gl_matrix_vec4.d9,gl_matrix_vec4.al,gl_matrix_vec4.JG,gl_matrix_vec4.t8;const add=gl_matrix_vec4.IH,scale=gl_matrix_vec4.bA,dot=gl_matrix_vec4.AK,lerp=gl_matrix_vec4.t7,quat_length=gl_matrix_vec4.kE,squaredLength=gl_matrix_vec4.we,normalize=gl_matrix_vec4.Fv;gl_matrix_vec4.I6;const rotationTo=function(){const tmpvec3=vec3.Ue(),xUnitVec3=vec3.al(1,0,0),yUnitVec3=vec3.al(0,1,0);return function(out,a,b){const dot=vec3.AK(a,b);return dot<-.999999?(vec3.kC(tmpvec3,xUnitVec3,a),vec3.Zh(tmpvec3)<1e-6&&vec3.kC(tmpvec3,yUnitVec3,a),vec3.Fv(tmpvec3,tmpvec3),setAxisAngle(out,tmpvec3,Math.PI),out):dot>.999999?(out[0]=0,out[1]=0,out[2]=0,out[3]=1,out):(vec3.kC(tmpvec3,a,b),out[0]=tmpvec3[0],out[1]=tmpvec3[1],out[2]=tmpvec3[2],out[3]=1+dot,normalize(out,out))}}(),IDENTITY_QUATERNION=(function(){const temp1=create(),temp2=create()}(),function(){const matr=mat3.Ue()}(),[0,0,0,1]);class Quaternion extends math_array.Z{constructor(x=0,y=0,z=0,w=1){super(-0,-0,-0,-0),Array.isArray(x)&&1===arguments.length?this.copy(x):this.set(x,y,z,w)}copy(array){return this[0]=array[0],this[1]=array[1],this[2]=array[2],this[3]=array[3],this.check()}set(x,y,z,w){return this[0]=x,this[1]=y,this[2]=z,this[3]=w,this.check()}fromObject(object){return this[0]=object.x,this[1]=object.y,this[2]=object.z,this[3]=object.w,this.check()}fromMatrix3(m){return fromMat3(this,m),this.check()}fromAxisRotation(axis,rad){return setAxisAngle(this,axis,rad),this.check()}identity(){return function identity(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out}(this),this.check()}setAxisAngle(axis,rad){return this.fromAxisRotation(axis,rad)}get ELEMENTS(){return 4}get x(){return this[0]}set x(value){this[0]=(0,validators.u5)(value)}get y(){return this[1]}set y(value){this[1]=(0,validators.u5)(value)}get z(){return this[2]}set z(value){this[2]=(0,validators.u5)(value)}get w(){return this[3]}set w(value){this[3]=(0,validators.u5)(value)}len(){return quat_length(this)}lengthSquared(){return squaredLength(this)}dot(a){return dot(this,a)}rotationTo(vectorA,vectorB){return rotationTo(this,vectorA,vectorB),this.check()}add(a){return add(this,this,a),this.check()}calculateW(){return function calculateW(out,a){const x=a[0],y=a[1],z=a[2];return out[0]=x,out[1]=y,out[2]=z,out[3]=Math.sqrt(Math.abs(1-x*x-y*y-z*z)),out}(this,this),this.check()}conjugate(){return function conjugate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out}(this,this),this.check()}invert(){return function invert(out,a){const a0=a[0],a1=a[1],a2=a[2],a3=a[3],dot=a0*a0+a1*a1+a2*a2+a3*a3,invDot=dot?1/dot:0;return out[0]=-a0*invDot,out[1]=-a1*invDot,out[2]=-a2*invDot,out[3]=a3*invDot,out}(this,this),this.check()}lerp(a,b,t){return void 0===t?this.lerp(this,a,b):(lerp(this,a,b,t),this.check())}multiplyRight(a){return multiply(this,this,a),this.check()}multiplyLeft(a){return multiply(this,a,this),this.check()}normalize(){const length=this.len(),l=length>0?1/length:0;return this[0]=this[0]*l,this[1]=this[1]*l,this[2]=this[2]*l,this[3]=this[3]*l,0===length&&(this[3]=1),this.check()}rotateX(rad){return function rotateX(out,a,rad){rad*=.5;const ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+aw*bx,out[1]=ay*bw+az*bx,out[2]=az*bw-ay*bx,out[3]=aw*bw-ax*bx,out}(this,this,rad),this.check()}rotateY(rad){return function rotateY(out,a,rad){rad*=.5;const ax=a[0],ay=a[1],az=a[2],aw=a[3],by=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw-az*by,out[1]=ay*bw+aw*by,out[2]=az*bw+ax*by,out[3]=aw*bw-ay*by,out}(this,this,rad),this.check()}rotateZ(rad){return function rotateZ(out,a,rad){rad*=.5;const ax=a[0],ay=a[1],az=a[2],aw=a[3],bz=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+ay*bz,out[1]=ay*bw-ax*bz,out[2]=az*bw+aw*bz,out[3]=aw*bw-az*bz,out}(this,this,rad),this.check()}scale(b){return scale(this,this,b),this.check()}slerp(arg0,arg1,arg2){let start,target,ratio;switch(arguments.length){case 1:({start:start=IDENTITY_QUATERNION,target:target,ratio:ratio}=arg0);break;case 2:start=this,target=arg0,ratio=arg1;break;default:start=arg0,target=arg1,ratio=arg2}return slerp(this,start,target,ratio),this.check()}transformVector4(vector,result=new Vector4){return(0,gl_matrix_vec4.VC)(result,vector,this),(0,validators.IL)(result,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(axis,rad){return this.setAxisAngle(axis,rad)}premultiply(a){return this.multiplyLeft(a)}multiply(a){return this.multiplyRight(a)}}},"./node_modules/@math.gl/core/dist/classes/vector2.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{F:function(){return Vector2}});var _base_vector_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@math.gl/core/dist/classes/base/vector.js"),_lib_common_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@math.gl/core/dist/lib/common.js"),_lib_validators_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@math.gl/core/dist/lib/validators.js"),_gl_matrix_vec2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/vec2.js"),_lib_gl_matrix_extras_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@math.gl/core/dist/lib/gl-matrix-extras.js");class Vector2 extends _base_vector_js__WEBPACK_IMPORTED_MODULE_0__.O{constructor(x=0,y=0){super(2),(0,_lib_common_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(x)&&1===arguments.length?this.copy(x):(_lib_common_js__WEBPACK_IMPORTED_MODULE_1__.vc.debug&&((0,_lib_validators_js__WEBPACK_IMPORTED_MODULE_2__.u5)(x),(0,_lib_validators_js__WEBPACK_IMPORTED_MODULE_2__.u5)(y)),this[0]=x,this[1]=y)}set(x,y){return this[0]=x,this[1]=y,this.check()}copy(array){return this[0]=array[0],this[1]=array[1],this.check()}fromObject(object){return _lib_common_js__WEBPACK_IMPORTED_MODULE_1__.vc.debug&&((0,_lib_validators_js__WEBPACK_IMPORTED_MODULE_2__.u5)(object.x),(0,_lib_validators_js__WEBPACK_IMPORTED_MODULE_2__.u5)(object.y)),this[0]=object.x,this[1]=object.y,this.check()}toObject(object){return object.x=this[0],object.y=this[1],object}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(matrix4){return this.transformAsPoint(matrix4)}transformAsPoint(matrix4){return(0,_gl_matrix_vec2_js__WEBPACK_IMPORTED_MODULE_3__.fF)(this,this,matrix4),this.check()}transformAsVector(matrix4){return(0,_lib_gl_matrix_extras_js__WEBPACK_IMPORTED_MODULE_4__.pb)(this,this,matrix4),this.check()}transformByMatrix3(matrix3){return(0,_gl_matrix_vec2_js__WEBPACK_IMPORTED_MODULE_3__.kK)(this,this,matrix3),this.check()}transformByMatrix2x3(matrix2x3){return(0,_gl_matrix_vec2_js__WEBPACK_IMPORTED_MODULE_3__.iu)(this,this,matrix2x3),this.check()}transformByMatrix2(matrix2){return(0,_gl_matrix_vec2_js__WEBPACK_IMPORTED_MODULE_3__.c)(this,this,matrix2),this.check()}}},"./node_modules/@math.gl/core/dist/gl-matrix/mat3.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{GH:function(){return determinant},Iu:function(){return translate},Jp:function(){return multiply},U1:function(){return rotate},U_:function(){return invert},Ue:function(){return create},bA:function(){return scale},en:function(){return fromQuat},p4:function(){return transpose}});var _common_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@math.gl/core/dist/gl-matrix/common.js");function create(){const out=new _common_js__WEBPACK_IMPORTED_MODULE_0__.WT(9);return _common_js__WEBPACK_IMPORTED_MODULE_0__.WT!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[5]=0,out[6]=0,out[7]=0),out[0]=1,out[4]=1,out[8]=1,out}function transpose(out,a){if(out===a){const a01=a[1],a02=a[2],a12=a[5];out[1]=a[3],out[2]=a[6],out[3]=a01,out[5]=a[7],out[6]=a02,out[7]=a12}else out[0]=a[0],out[1]=a[3],out[2]=a[6],out[3]=a[1],out[4]=a[4],out[5]=a[7],out[6]=a[2],out[7]=a[5],out[8]=a[8];return out}function invert(out,a){const a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20;let det=a00*b01+a01*b11+a02*b21;return det?(det=1/det,out[0]=b01*det,out[1]=(-a22*a01+a02*a21)*det,out[2]=(a12*a01-a02*a11)*det,out[3]=b11*det,out[4]=(a22*a00-a02*a20)*det,out[5]=(-a12*a00+a02*a10)*det,out[6]=b21*det,out[7]=(-a21*a00+a01*a20)*det,out[8]=(a11*a00-a01*a10)*det,out):null}function determinant(a){const a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a00*(a22*a11-a12*a21)+a01*(-a22*a10+a12*a20)+a02*(a21*a10-a11*a20)}function multiply(out,a,b){const a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return out[0]=b00*a00+b01*a10+b02*a20,out[1]=b00*a01+b01*a11+b02*a21,out[2]=b00*a02+b01*a12+b02*a22,out[3]=b10*a00+b11*a10+b12*a20,out[4]=b10*a01+b11*a11+b12*a21,out[5]=b10*a02+b11*a12+b12*a22,out[6]=b20*a00+b21*a10+b22*a20,out[7]=b20*a01+b21*a11+b22*a21,out[8]=b20*a02+b21*a12+b22*a22,out}function translate(out,a,v){const a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],x=v[0],y=v[1];return out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a10,out[4]=a11,out[5]=a12,out[6]=x*a00+y*a10+a20,out[7]=x*a01+y*a11+a21,out[8]=x*a02+y*a12+a22,out}function rotate(out,a,rad){const a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],s=Math.sin(rad),c=Math.cos(rad);return out[0]=c*a00+s*a10,out[1]=c*a01+s*a11,out[2]=c*a02+s*a12,out[3]=c*a10-s*a00,out[4]=c*a11-s*a01,out[5]=c*a12-s*a02,out[6]=a20,out[7]=a21,out[8]=a22,out}function scale(out,a,v){const x=v[0],y=v[1];return out[0]=x*a[0],out[1]=x*a[1],out[2]=x*a[2],out[3]=y*a[3],out[4]=y*a[4],out[5]=y*a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function fromQuat(out,q){const x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[3]=yx-wz,out[6]=zx+wy,out[1]=yx+wz,out[4]=1-xx-zz,out[7]=zy-wx,out[2]=zx-wy,out[5]=zy+wx,out[8]=1-xx-yy,out}},"./node_modules/@math.gl/polygon/dist/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{wG:function(){return WINDING},WZ:function(){return cutPolygonByGrid},GU:function(){return cutPolygonByMercatorBounds},dj:function(){return cutPolylineByGrid},ct:function(){return cutPolylineByMercatorBounds},OT:function(){return earcut},ap:function(){return polygon_utils_getPolygonSignedArea},Ny:function(){return polygon_utils_modifyPolygonWindingDirection}});const WINDING={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function polygon_utils_modifyPolygonWindingDirection(points,direction,options={}){const windingDirection=function getPolygonWindingDirection(points,options={}){return Math.sign(polygon_utils_getPolygonSignedArea(points,options))}(points,options);return windingDirection!==direction&&(function reversePolygon(points,options){const{start:start=0,end:end=points.length,size:size=2}=options,numPoints=(end-start)/size,numSwaps=Math.floor(numPoints/2);for(let i=0;i<numSwaps;++i){const b1=start+i*size,b2=start+(numPoints-1-i)*size;for(let j=0;j<size;++j){const tmp=points[b1+j];points[b1+j]=points[b2+j],points[b2+j]=tmp}}}(points,options),!0)}const DimIndex={x:0,y:1,z:2};function polygon_utils_getPolygonSignedArea(points,options={}){const{start:start=0,end:end=points.length,plane:plane="xy"}=options,dim=options.size||2;let area=0;const i0=DimIndex[plane[0]],i1=DimIndex[plane[1]];for(let i=start,j=end-dim;i<end;i+=dim)area+=(points[i+i0]-points[j+i0])*(points[i+i1]+points[j+i1]),j=i;return area/2}function earcut(positions,holeIndices,dim=2,areas,plane="xy"){const hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:positions.length;let outerNode=linkedList(positions,0,outerLen,dim,!0,areas&&areas[0],plane);const triangles=[];if(!outerNode||outerNode.next===outerNode.prev)return triangles;let invSize,maxX,maxY,minX,minY,x,y;if(hasHoles&&(outerNode=function eliminateHoles(data,holeIndices,outerNode,dim,areas,plane){const queue=[];let i,len,start,end,list;for(i=0,len=holeIndices.length;i<len;i++)start=holeIndices[i]*dim,end=i<len-1?holeIndices[i+1]*dim:data.length,list=linkedList(data,start,end,dim,!1,areas&&areas[i+1],plane),list===list.next&&(list.steiner=!0),queue.push(getLeftmost(list));for(queue.sort(compareX),i=0;i<queue.length;i++)outerNode=eliminateHole(queue[i],outerNode);return outerNode}(positions,holeIndices,outerNode,dim,areas,plane)),positions.length>80*dim){minX=maxX=positions[0],minY=maxY=positions[1];for(let i=dim;i<outerLen;i+=dim)x=positions[i],y=positions[i+1],x<minX&&(minX=x),y<minY&&(minY=y),x>maxX&&(maxX=x),y>maxY&&(maxY=y);invSize=Math.max(maxX-minX,maxY-minY),invSize=0!==invSize?32767/invSize:0}return earcutLinked(outerNode,triangles,dim,minX,minY,invSize,0),triangles}function linkedList(data,start,end,dim,clockwise,area,plane){let i,last;void 0===area&&(area=polygon_utils_getPolygonSignedArea(data,{start:start,end:end,size:dim,plane:plane}));let i0=DimIndex[plane[0]],i1=DimIndex[plane[1]];if(clockwise===area<0)for(i=start;i<end;i+=dim)last=insertNode(i,data[i+i0],data[i+i1],last);else for(i=end-dim;i>=start;i-=dim)last=insertNode(i,data[i+i0],data[i+i1],last);return last&&earcut_equals(last,last.next)&&(removeNode(last),last=last.next),last}function filterPoints(start,end){if(!start)return start;end||(end=start);let again,p=start;do{if(again=!1,p.steiner||!earcut_equals(p,p.next)&&0!==earcut_area(p.prev,p,p.next))p=p.next;else{if(removeNode(p),p=end=p.prev,p===p.next)break;again=!0}}while(again||p!==end);return end}function earcutLinked(ear,triangles,dim,minX,minY,invSize,pass){if(!ear)return;!pass&&invSize&&function indexCurve(start,minX,minY,invSize){let p=start;do{0===p.z&&(p.z=zOrder(p.x,p.y,minX,minY,invSize)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==start);p.prevZ.nextZ=null,p.prevZ=null,function sortLinked(list){let e,i,numMerges,p,pSize,q,qSize,tail,inSize=1;do{for(p=list,list=null,tail=null,numMerges=0;p;){for(numMerges++,q=p,pSize=0,i=0;i<inSize&&(pSize++,q=q.nextZ,q);i++);for(qSize=inSize;pSize>0||qSize>0&&q;)0!==pSize&&(0===qSize||!q||p.z<=q.z)?(e=p,p=p.nextZ,pSize--):(e=q,q=q.nextZ,qSize--),tail?tail.nextZ=e:list=e,e.prevZ=tail,tail=e;p=q}tail.nextZ=null,inSize*=2}while(numMerges>1);return list}(p)}(ear,minX,minY,invSize);let prev,next,stop=ear;for(;ear.prev!==ear.next;)if(prev=ear.prev,next=ear.next,invSize?isEarHashed(ear,minX,minY,invSize):isEar(ear))triangles.push(prev.i/dim|0),triangles.push(ear.i/dim|0),triangles.push(next.i/dim|0),removeNode(ear),ear=next.next,stop=next.next;else if((ear=next)===stop){pass?1===pass?earcutLinked(ear=cureLocalIntersections(filterPoints(ear),triangles,dim),triangles,dim,minX,minY,invSize,2):2===pass&&splitEarcut(ear,triangles,dim,minX,minY,invSize):earcutLinked(filterPoints(ear),triangles,dim,minX,minY,invSize,1);break}}function isEar(ear){const a=ear.prev,b=ear,c=ear.next;if(earcut_area(a,b,c)>=0)return!1;const ax=a.x,bx=b.x,cx=c.x,ay=a.y,by=b.y,cy=c.y,x0=ax<bx?ax<cx?ax:cx:bx<cx?bx:cx,y0=ay<by?ay<cy?ay:cy:by<cy?by:cy,x1=ax>bx?ax>cx?ax:cx:bx>cx?bx:cx,y1=ay>by?ay>cy?ay:cy:by>cy?by:cy;let p=c.next;for(;p!==a;){if(p.x>=x0&&p.x<=x1&&p.y>=y0&&p.y<=y1&&pointInTriangle(ax,ay,bx,by,cx,cy,p.x,p.y)&&earcut_area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function isEarHashed(ear,minX,minY,invSize){const a=ear.prev,b=ear,c=ear.next;if(earcut_area(a,b,c)>=0)return!1;const ax=a.x,bx=b.x,cx=c.x,ay=a.y,by=b.y,cy=c.y,x0=ax<bx?ax<cx?ax:cx:bx<cx?bx:cx,y0=ay<by?ay<cy?ay:cy:by<cy?by:cy,x1=ax>bx?ax>cx?ax:cx:bx>cx?bx:cx,y1=ay>by?ay>cy?ay:cy:by>cy?by:cy,minZ=zOrder(x0,y0,minX,minY,invSize),maxZ=zOrder(x1,y1,minX,minY,invSize);let p=ear.prevZ,n=ear.nextZ;for(;p&&p.z>=minZ&&n&&n.z<=maxZ;){if(p.x>=x0&&p.x<=x1&&p.y>=y0&&p.y<=y1&&p!==a&&p!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,p.x,p.y)&&earcut_area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,n.x>=x0&&n.x<=x1&&n.y>=y0&&n.y<=y1&&n!==a&&n!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,n.x,n.y)&&earcut_area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}for(;p&&p.z>=minZ;){if(p.x>=x0&&p.x<=x1&&p.y>=y0&&p.y<=y1&&p!==a&&p!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,p.x,p.y)&&earcut_area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;n&&n.z<=maxZ;){if(n.x>=x0&&n.x<=x1&&n.y>=y0&&n.y<=y1&&n!==a&&n!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,n.x,n.y)&&earcut_area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}return!0}function cureLocalIntersections(start,triangles,dim){let p=start;do{const a=p.prev,b=p.next.next;!earcut_equals(a,b)&&intersects(a,p,p.next,b)&&locallyInside(a,b)&&locallyInside(b,a)&&(triangles.push(a.i/dim|0),triangles.push(p.i/dim|0),triangles.push(b.i/dim|0),removeNode(p),removeNode(p.next),p=start=b),p=p.next}while(p!==start);return filterPoints(p)}function splitEarcut(start,triangles,dim,minX,minY,invSize){let a=start;do{let b=a.next.next;for(;b!==a.prev;){if(a.i!==b.i&&isValidDiagonal(a,b)){let c=splitPolygon(a,b);return a=filterPoints(a,a.next),c=filterPoints(c,c.next),earcutLinked(a,triangles,dim,minX,minY,invSize,0),void earcutLinked(c,triangles,dim,minX,minY,invSize,0)}b=b.next}a=a.next}while(a!==start)}function compareX(a,b){return a.x-b.x}function eliminateHole(hole,outerNode){const bridge=function findHoleBridge(hole,outerNode){let p=outerNode;const hx=hole.x,hy=hole.y;let m,qx=-1/0;do{if(hy<=p.y&&hy>=p.next.y&&p.next.y!==p.y){const x=p.x+(hy-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(x<=hx&&x>qx&&(qx=x,m=p.x<p.next.x?p:p.next,x===hx))return m}p=p.next}while(p!==outerNode);if(!m)return null;const stop=m,mx=m.x,my=m.y;let tan,tanMin=1/0;p=m;do{hx>=p.x&&p.x>=mx&&hx!==p.x&&pointInTriangle(hy<my?hx:qx,hy,mx,my,hy<my?qx:hx,hy,p.x,p.y)&&(tan=Math.abs(hy-p.y)/(hx-p.x),locallyInside(p,hole)&&(tan<tanMin||tan===tanMin&&(p.x>m.x||p.x===m.x&&sectorContainsSector(m,p)))&&(m=p,tanMin=tan)),p=p.next}while(p!==stop);return m}(hole,outerNode);if(!bridge)return outerNode;const bridgeReverse=splitPolygon(bridge,hole);return filterPoints(bridgeReverse,bridgeReverse.next),filterPoints(bridge,bridge.next)}function sectorContainsSector(m,p){return earcut_area(m.prev,m,p.prev)<0&&earcut_area(p.next,m,m.next)<0}function zOrder(x,y,minX,minY,invSize){return(x=1431655765&((x=858993459&((x=252645135&((x=16711935&((x=(x-minX)*invSize|0)|x<<8))|x<<4))|x<<2))|x<<1))|(y=1431655765&((y=858993459&((y=252645135&((y=16711935&((y=(y-minY)*invSize|0)|y<<8))|y<<4))|y<<2))|y<<1))<<1}function getLeftmost(start){let p=start,leftmost=start;do{(p.x<leftmost.x||p.x===leftmost.x&&p.y<leftmost.y)&&(leftmost=p),p=p.next}while(p!==start);return leftmost}function pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return(cx-px)*(ay-py)>=(ax-px)*(cy-py)&&(ax-px)*(by-py)>=(bx-px)*(ay-py)&&(bx-px)*(cy-py)>=(cx-px)*(by-py)}function isValidDiagonal(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function intersectsPolygon(a,b){let p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&intersects(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}(a,b)&&(locallyInside(a,b)&&locallyInside(b,a)&&function middleInside(a,b){let p=a,inside=!1;const px=(a.x+b.x)/2,py=(a.y+b.y)/2;do{p.y>py!=p.next.y>py&&p.next.y!==p.y&&px<(p.next.x-p.x)*(py-p.y)/(p.next.y-p.y)+p.x&&(inside=!inside),p=p.next}while(p!==a);return inside}(a,b)&&(earcut_area(a.prev,a,b.prev)||earcut_area(a,b.prev,b))||earcut_equals(a,b)&&earcut_area(a.prev,a,a.next)>0&&earcut_area(b.prev,b,b.next)>0)}function earcut_area(p,q,r){return(q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y)}function earcut_equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y}function intersects(p1,q1,p2,q2){const o1=sign(earcut_area(p1,q1,p2)),o2=sign(earcut_area(p1,q1,q2)),o3=sign(earcut_area(p2,q2,p1)),o4=sign(earcut_area(p2,q2,q1));return o1!==o2&&o3!==o4||(!(0!==o1||!onSegment(p1,p2,q1))||(!(0!==o2||!onSegment(p1,q2,q1))||(!(0!==o3||!onSegment(p2,p1,q2))||!(0!==o4||!onSegment(p2,q1,q2)))))}function onSegment(p,q,r){return q.x<=Math.max(p.x,r.x)&&q.x>=Math.min(p.x,r.x)&&q.y<=Math.max(p.y,r.y)&&q.y>=Math.min(p.y,r.y)}function sign(num){return num>0?1:num<0?-1:0}function locallyInside(a,b){return earcut_area(a.prev,a,a.next)<0?earcut_area(a,b,a.next)>=0&&earcut_area(a,a.prev,b)>=0:earcut_area(a,b,a.prev)<0||earcut_area(a,a.next,b)<0}function splitPolygon(a,b){const a2=new Vertex(a.i,a.x,a.y),b2=new Vertex(b.i,b.x,b.y),an=a.next,bp=b.prev;return a.next=b,b.prev=a,a2.next=an,an.prev=a2,b2.next=a2,a2.prev=b2,bp.next=b2,b2.prev=bp,b2}function insertNode(i,x,y,last){const p=new Vertex(i,x,y);return last?(p.next=last.next,p.prev=last,last.next.prev=p,last.next=p):(p.prev=p,p.next=p),p}function removeNode(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}class Vertex{constructor(i,x,y){this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1,this.i=i,this.x=x,this.y=y}}function intersect(a,b,edge,bbox,out=[]){let t,snap;if(8&edge)t=(bbox[3]-a[1])/(b[1]-a[1]),snap=3;else if(4&edge)t=(bbox[1]-a[1])/(b[1]-a[1]),snap=1;else if(2&edge)t=(bbox[2]-a[0])/(b[0]-a[0]),snap=2;else{if(!(1&edge))return null;t=(bbox[0]-a[0])/(b[0]-a[0]),snap=0}for(let i=0;i<a.length;i++)out[i]=(1&snap)===i?bbox[snap]:t*(b[i]-a[i])+a[i];return out}function bitCode(p,bbox){let code=0;return p[0]<bbox[0]?code|=1:p[0]>bbox[2]&&(code|=2),p[1]<bbox[1]?code|=4:p[1]>bbox[3]&&(code|=8),code}function utils_push(target,source){const size=source.length,startIndex=target.length;if(startIndex>0){let isDuplicate=!0;for(let i=0;i<size;i++)if(target[startIndex-size+i]!==source[i]){isDuplicate=!1;break}if(isDuplicate)return!1}for(let i=0;i<size;i++)target[startIndex+i]=source[i];return!0}function utils_copy(target,source){const size=source.length;for(let i=0;i<size;i++)target[i]=source[i]}function utils_getPointAtIndex(positions,index,size,offset,out=[]){const startI=offset+index*size;for(let i=0;i<size;i++)out[i]=positions[startI+i];return out}function cutPolylineByGrid(positions,options){const{size:size=2,broken:broken=!1,gridResolution:gridResolution=10,gridOffset:gridOffset=[0,0],startIndex:startIndex=0,endIndex:endIndex=positions.length}=options||{},numPoints=(endIndex-startIndex)/size;let part=[];const result=[part],a=utils_getPointAtIndex(positions,0,size,startIndex);let b,codeB;const cell=getGridCell(a,gridResolution,gridOffset,[]),scratchPoint=[];utils_push(part,a);for(let i=1;i<numPoints;i++){for(b=utils_getPointAtIndex(positions,i,size,startIndex,b),codeB=bitCode(b,cell);codeB;){intersect(a,b,codeB,cell,scratchPoint);const codeAlt=bitCode(scratchPoint,cell);codeAlt&&(intersect(a,scratchPoint,codeAlt,cell,scratchPoint),codeB=codeAlt),utils_push(part,scratchPoint),utils_copy(a,scratchPoint),moveToNeighborCell(cell,gridResolution,codeB),broken&&part.length>size&&(part=[],result.push(part),utils_push(part,a)),codeB=bitCode(b,cell)}utils_push(part,b),utils_copy(a,b)}return broken?result:result[0]}const TYPE_INSIDE=0,TYPE_BORDER=1;function cutPolygonByGrid(positions,holeIndices=null,options){if(!positions.length)return[];const{size:size=2,gridResolution:gridResolution=10,gridOffset:gridOffset=[0,0],edgeTypes:edgeTypes=!1}=options||{},result=[],queue=[{pos:positions,types:edgeTypes?new Array(positions.length/size).fill(TYPE_BORDER):null,holes:holeIndices||[]}],bbox=[[],[]];let cell=[];for(;queue.length;){const{pos:pos,types:types,holes:holes}=queue.shift();getBoundingBox(pos,size,holes[0]||pos.length,bbox),cell=getGridCell(bbox[0],gridResolution,gridOffset,cell);const code=bitCode(bbox[1],cell);if(code){let parts=bisectPolygon(pos,types,size,0,holes[0]||pos.length,cell,code);const polygonLow={pos:parts[0].pos,types:parts[0].types,holes:[]},polygonHigh={pos:parts[1].pos,types:parts[1].types,holes:[]};queue.push(polygonLow,polygonHigh);for(let i=0;i<holes.length;i++)parts=bisectPolygon(pos,types,size,holes[i],holes[i+1]||pos.length,cell,code),parts[0]&&(polygonLow.holes.push(polygonLow.pos.length),polygonLow.pos=concatInPlace(polygonLow.pos,parts[0].pos),edgeTypes&&(polygonLow.types=concatInPlace(polygonLow.types,parts[0].types))),parts[1]&&(polygonHigh.holes.push(polygonHigh.pos.length),polygonHigh.pos=concatInPlace(polygonHigh.pos,parts[1].pos),edgeTypes&&(polygonHigh.types=concatInPlace(polygonHigh.types,parts[1].types)))}else{const polygon={positions:pos};edgeTypes&&(polygon.edgeTypes=types),holes.length&&(polygon.holeIndices=holes),result.push(polygon)}}return result}function bisectPolygon(positions,edgeTypes,size,startIndex,endIndex,bbox,edge){const numPoints=(endIndex-startIndex)/size,resultLow=[],resultHigh=[],typesLow=[],typesHigh=[],scratchPoint=[];let p,side,type;const prev=utils_getPointAtIndex(positions,numPoints-1,size,startIndex);let prevSide=Math.sign(8&edge?prev[1]-bbox[3]:prev[0]-bbox[2]),prevType=edgeTypes&&edgeTypes[numPoints-1],lowPointCount=0,highPointCount=0;for(let i=0;i<numPoints;i++)p=utils_getPointAtIndex(positions,i,size,startIndex,p),side=Math.sign(8&edge?p[1]-bbox[3]:p[0]-bbox[2]),type=edgeTypes&&edgeTypes[startIndex/size+i],side&&prevSide&&prevSide!==side&&(intersect(prev,p,edge,bbox,scratchPoint),utils_push(resultLow,scratchPoint)&&typesLow.push(prevType),utils_push(resultHigh,scratchPoint)&&typesHigh.push(prevType)),side<=0?(utils_push(resultLow,p)&&typesLow.push(type),lowPointCount-=side):typesLow.length&&(typesLow[typesLow.length-1]=TYPE_INSIDE),side>=0?(utils_push(resultHigh,p)&&typesHigh.push(type),highPointCount+=side):typesHigh.length&&(typesHigh[typesHigh.length-1]=TYPE_INSIDE),utils_copy(prev,p),prevSide=side,prevType=type;return[lowPointCount?{pos:resultLow,types:edgeTypes&&typesLow}:null,highPointCount?{pos:resultHigh,types:edgeTypes&&typesHigh}:null]}function getGridCell(p,gridResolution,gridOffset,out){const left=Math.floor((p[0]-gridOffset[0])/gridResolution)*gridResolution+gridOffset[0],bottom=Math.floor((p[1]-gridOffset[1])/gridResolution)*gridResolution+gridOffset[1];return out[0]=left,out[1]=bottom,out[2]=left+gridResolution,out[3]=bottom+gridResolution,out}function moveToNeighborCell(cell,gridResolution,edge){8&edge?(cell[1]+=gridResolution,cell[3]+=gridResolution):4&edge?(cell[1]-=gridResolution,cell[3]-=gridResolution):2&edge?(cell[0]+=gridResolution,cell[2]+=gridResolution):1&edge&&(cell[0]-=gridResolution,cell[2]-=gridResolution)}function getBoundingBox(positions,size,endIndex,out){let minX=1/0,maxX=-1/0,minY=1/0,maxY=-1/0;for(let i=0;i<endIndex;i+=size){const x=positions[i],y=positions[i+1];minX=x<minX?x:minX,maxX=x>maxX?x:maxX,minY=y<minY?y:minY,maxY=y>maxY?y:maxY}return out[0][0]=minX,out[0][1]=minY,out[1][0]=maxX,out[1][1]=maxY,out}function concatInPlace(arr1,arr2){for(let i=0;i<arr2.length;i++)arr1.push(arr2[i]);return arr1}const DEFAULT_MAX_LATITUDE=85.051129;function cutPolylineByMercatorBounds(positions,options){const{size:size=2,startIndex:startIndex=0,endIndex:endIndex=positions.length,normalize:normalize=!0}=options||{},newPositions=positions.slice(startIndex,endIndex);wrapLongitudesForShortestPath(newPositions,size,0,endIndex-startIndex);const parts=cutPolylineByGrid(newPositions,{size:size,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(normalize)for(const part of parts)shiftLongitudesIntoRange(part,size);return parts}function cutPolygonByMercatorBounds(positions,holeIndices=null,options){const{size:size=2,normalize:normalize=!0,edgeTypes:edgeTypes=!1}=options||{};holeIndices=holeIndices||[];const newPositions=[],newHoleIndices=[];let srcStartIndex=0,targetIndex=0;for(let ringIndex=0;ringIndex<=holeIndices.length;ringIndex++){const srcEndIndex=holeIndices[ringIndex]||positions.length,targetStartIndex=targetIndex,splitIndex=findSplitIndex(positions,size,srcStartIndex,srcEndIndex);for(let i=splitIndex;i<srcEndIndex;i++)newPositions[targetIndex++]=positions[i];for(let i=srcStartIndex;i<splitIndex;i++)newPositions[targetIndex++]=positions[i];wrapLongitudesForShortestPath(newPositions,size,targetStartIndex,targetIndex),insertPoleVertices(newPositions,size,targetStartIndex,targetIndex,options?.maxLatitude),srcStartIndex=srcEndIndex,newHoleIndices[ringIndex]=targetIndex}newHoleIndices.pop();const parts=cutPolygonByGrid(newPositions,newHoleIndices,{size:size,gridResolution:360,gridOffset:[-180,-180],edgeTypes:edgeTypes});if(normalize)for(const part of parts)shiftLongitudesIntoRange(part.positions,size);return parts}function findSplitIndex(positions,size,startIndex,endIndex){let maxLat=-1,pointIndex=-1;for(let i=startIndex+1;i<endIndex;i+=size){const lat=Math.abs(positions[i]);lat>maxLat&&(maxLat=lat,pointIndex=i-1)}return pointIndex}function insertPoleVertices(positions,size,startIndex,endIndex,maxLatitude=DEFAULT_MAX_LATITUDE){const firstLng=positions[startIndex],lastLng=positions[endIndex-size];if(Math.abs(firstLng-lastLng)>180){const p=utils_getPointAtIndex(positions,0,size,startIndex);p[0]+=360*Math.round((lastLng-firstLng)/360),utils_push(positions,p),p[1]=Math.sign(p[1])*maxLatitude,utils_push(positions,p),p[0]=firstLng,utils_push(positions,p)}}function wrapLongitudesForShortestPath(positions,size,startIndex,endIndex){let lng,prevLng=positions[0];for(let i=startIndex;i<endIndex;i+=size){lng=positions[i];const delta=lng-prevLng;(delta>180||delta<-180)&&(lng-=360*Math.round(delta/360)),positions[i]=prevLng=lng}}function shiftLongitudesIntoRange(positions,size){let refLng;const pointCount=positions.length/size;for(let i=0;i<pointCount&&(refLng=positions[i*size],(refLng+180)%360==0);i++);const delta=360*-Math.round(refLng/360);if(0!==delta)for(let i=0;i<pointCount;i++)positions[i*size]+=delta}},"./node_modules/@probe.gl/log/dist/init.js":function(){globalThis.probe={}},"./node_modules/@turf/bbox/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var meta_1=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js");function bbox(geojson){var result=[1/0,1/0,-1/0,-1/0];return meta_1.coordEach(geojson,(function(coord){result[0]>coord[0]&&(result[0]=coord[0]),result[1]>coord[1]&&(result[1]=coord[1]),result[2]<coord[0]&&(result[2]=coord[0]),result[3]<coord[1]&&(result[3]=coord[1])})),result}bbox.default=bbox,exports.Z=bbox},"./node_modules/@turf/helpers/dist/es/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{DL:function(){return radiansToLength},Ht:function(){return degreesToRadians},Kn:function(){return isObject},Tu:function(){return lineString},_R:function(){return multiLineString},hj:function(){return isNumber},lF:function(){return lengthToRadians},rQ:function(){return earthRadius},tw:function(){return multiPolygon},uf:function(){return featureCollection},vi:function(){return radiansToDegrees},vs:function(){return convertLength},xm:function(){return point},yu:function(){return polygon},zL:function(){return feature}});var earthRadius=6371008.8,factors={centimeters:100*earthRadius,centimetres:100*earthRadius,degrees:earthRadius/111325,feet:3.28084*earthRadius,inches:39.37*earthRadius,kilometers:earthRadius/1e3,kilometres:earthRadius/1e3,meters:earthRadius,metres:earthRadius,miles:earthRadius/1609.344,millimeters:1e3*earthRadius,millimetres:1e3*earthRadius,nauticalmiles:earthRadius/1852,radians:1,yards:1.0936*earthRadius};function feature(geom,properties,options){void 0===options&&(options={});var feat={type:"Feature"};return(0===options.id||options.id)&&(feat.id=options.id),options.bbox&&(feat.bbox=options.bbox),feat.properties=properties||{},feat.geometry=geom,feat}function point(coordinates,properties,options){if(void 0===options&&(options={}),!coordinates)throw new Error("coordinates is required");if(!Array.isArray(coordinates))throw new Error("coordinates must be an Array");if(coordinates.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!isNumber(coordinates[0])||!isNumber(coordinates[1]))throw new Error("coordinates must contain numbers");return feature({type:"Point",coordinates:coordinates},properties,options)}function polygon(coordinates,properties,options){void 0===options&&(options={});for(var _i=0,coordinates_1=coordinates;_i<coordinates_1.length;_i++){var ring=coordinates_1[_i];if(ring.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var j=0;j<ring[ring.length-1].length;j++)if(ring[ring.length-1][j]!==ring[0][j])throw new Error("First and last Position are not equivalent.")}return feature({type:"Polygon",coordinates:coordinates},properties,options)}function lineString(coordinates,properties,options){if(void 0===options&&(options={}),coordinates.length<2)throw new Error("coordinates must be an array of two or more positions");return feature({type:"LineString",coordinates:coordinates},properties,options)}function featureCollection(features,options){void 0===options&&(options={});var fc={type:"FeatureCollection"};return options.id&&(fc.id=options.id),options.bbox&&(fc.bbox=options.bbox),fc.features=features,fc}function multiLineString(coordinates,properties,options){return void 0===options&&(options={}),feature({type:"MultiLineString",coordinates:coordinates},properties,options)}function multiPolygon(coordinates,properties,options){return void 0===options&&(options={}),feature({type:"MultiPolygon",coordinates:coordinates},properties,options)}function radiansToLength(radians,units){void 0===units&&(units="kilometers");var factor=factors[units];if(!factor)throw new Error(units+" units is invalid");return radians*factor}function lengthToRadians(distance,units){void 0===units&&(units="kilometers");var factor=factors[units];if(!factor)throw new Error(units+" units is invalid");return distance/factor}function radiansToDegrees(radians){return 180*(radians%(2*Math.PI))/Math.PI}function degreesToRadians(degrees){return degrees%360*Math.PI/180}function convertLength(length,originalUnit,finalUnit){if(void 0===originalUnit&&(originalUnit="kilometers"),void 0===finalUnit&&(finalUnit="kilometers"),!(length>=0))throw new Error("length must be a positive number");return radiansToLength(lengthToRadians(length,originalUnit),finalUnit)}function isNumber(num){return!isNaN(num)&&null!==num&&!Array.isArray(num)}function isObject(input){return!!input&&input.constructor===Object}},"./node_modules/@turf/helpers/dist/js/index.js":function(__unused_webpack_module,exports){"use strict";function feature(geom,properties,options){void 0===options&&(options={});var feat={type:"Feature"};return(0===options.id||options.id)&&(feat.id=options.id),options.bbox&&(feat.bbox=options.bbox),feat.properties=properties||{},feat.geometry=geom,feat}function point(coordinates,properties,options){if(void 0===options&&(options={}),!coordinates)throw new Error("coordinates is required");if(!Array.isArray(coordinates))throw new Error("coordinates must be an Array");if(coordinates.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!isNumber(coordinates[0])||!isNumber(coordinates[1]))throw new Error("coordinates must contain numbers");return feature({type:"Point",coordinates:coordinates},properties,options)}function polygon(coordinates,properties,options){void 0===options&&(options={});for(var _i=0,coordinates_1=coordinates;_i<coordinates_1.length;_i++){var ring=coordinates_1[_i];if(ring.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var j=0;j<ring[ring.length-1].length;j++)if(ring[ring.length-1][j]!==ring[0][j])throw new Error("First and last Position are not equivalent.")}return feature({type:"Polygon",coordinates:coordinates},properties,options)}function lineString(coordinates,properties,options){if(void 0===options&&(options={}),coordinates.length<2)throw new Error("coordinates must be an array of two or more positions");return feature({type:"LineString",coordinates:coordinates},properties,options)}function featureCollection(features,options){void 0===options&&(options={});var fc={type:"FeatureCollection"};return options.id&&(fc.id=options.id),options.bbox&&(fc.bbox=options.bbox),fc.features=features,fc}function multiLineString(coordinates,properties,options){return void 0===options&&(options={}),feature({type:"MultiLineString",coordinates:coordinates},properties,options)}function multiPoint(coordinates,properties,options){return void 0===options&&(options={}),feature({type:"MultiPoint",coordinates:coordinates},properties,options)}function multiPolygon(coordinates,properties,options){return void 0===options&&(options={}),feature({type:"MultiPolygon",coordinates:coordinates},properties,options)}function radiansToLength(radians,units){void 0===units&&(units="kilometers");var factor=exports.factors[units];if(!factor)throw new Error(units+" units is invalid");return radians*factor}function lengthToRadians(distance,units){void 0===units&&(units="kilometers");var factor=exports.factors[units];if(!factor)throw new Error(units+" units is invalid");return distance/factor}function radiansToDegrees(radians){return 180*(radians%(2*Math.PI))/Math.PI}function isNumber(num){return!isNaN(num)&&null!==num&&!Array.isArray(num)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.earthRadius=6371008.8,exports.factors={centimeters:100*exports.earthRadius,centimetres:100*exports.earthRadius,degrees:exports.earthRadius/111325,feet:3.28084*exports.earthRadius,inches:39.37*exports.earthRadius,kilometers:exports.earthRadius/1e3,kilometres:exports.earthRadius/1e3,meters:exports.earthRadius,metres:exports.earthRadius,miles:exports.earthRadius/1609.344,millimeters:1e3*exports.earthRadius,millimetres:1e3*exports.earthRadius,nauticalmiles:exports.earthRadius/1852,radians:1,yards:1.0936*exports.earthRadius},exports.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/exports.earthRadius,yards:1.0936133},exports.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},exports.feature=feature,exports.geometry=function geometry(type,coordinates,_options){switch(void 0===_options&&(_options={}),type){case"Point":return point(coordinates).geometry;case"LineString":return lineString(coordinates).geometry;case"Polygon":return polygon(coordinates).geometry;case"MultiPoint":return multiPoint(coordinates).geometry;case"MultiLineString":return multiLineString(coordinates).geometry;case"MultiPolygon":return multiPolygon(coordinates).geometry;default:throw new Error(type+" is invalid")}},exports.point=point,exports.points=function points(coordinates,properties,options){return void 0===options&&(options={}),featureCollection(coordinates.map((function(coords){return point(coords,properties)})),options)},exports.polygon=polygon,exports.polygons=function polygons(coordinates,properties,options){return void 0===options&&(options={}),featureCollection(coordinates.map((function(coords){return polygon(coords,properties)})),options)},exports.lineString=lineString,exports.lineStrings=function lineStrings(coordinates,properties,options){return void 0===options&&(options={}),featureCollection(coordinates.map((function(coords){return lineString(coords,properties)})),options)},exports.featureCollection=featureCollection,exports.multiLineString=multiLineString,exports.multiPoint=multiPoint,exports.multiPolygon=multiPolygon,exports.geometryCollection=function geometryCollection(geometries,properties,options){return void 0===options&&(options={}),feature({type:"GeometryCollection",geometries:geometries},properties,options)},exports.round=function round(num,precision){if(void 0===precision&&(precision=0),precision&&!(precision>=0))throw new Error("precision must be a positive number");var multiplier=Math.pow(10,precision||0);return Math.round(num*multiplier)/multiplier},exports.radiansToLength=radiansToLength,exports.lengthToRadians=lengthToRadians,exports.lengthToDegrees=function lengthToDegrees(distance,units){return radiansToDegrees(lengthToRadians(distance,units))},exports.bearingToAzimuth=function bearingToAzimuth(bearing){var angle=bearing%360;return angle<0&&(angle+=360),angle},exports.radiansToDegrees=radiansToDegrees,exports.degreesToRadians=function degreesToRadians(degrees){return degrees%360*Math.PI/180},exports.convertLength=function convertLength(length,originalUnit,finalUnit){if(void 0===originalUnit&&(originalUnit="kilometers"),void 0===finalUnit&&(finalUnit="kilometers"),!(length>=0))throw new Error("length must be a positive number");return radiansToLength(lengthToRadians(length,originalUnit),finalUnit)},exports.convertArea=function convertArea(area,originalUnit,finalUnit){if(void 0===originalUnit&&(originalUnit="meters"),void 0===finalUnit&&(finalUnit="kilometers"),!(area>=0))throw new Error("area must be a positive number");var startFactor=exports.areaFactors[originalUnit];if(!startFactor)throw new Error("invalid original units");var finalFactor=exports.areaFactors[finalUnit];if(!finalFactor)throw new Error("invalid final units");return area/startFactor*finalFactor},exports.isNumber=isNumber,exports.isObject=function isObject(input){return!!input&&input.constructor===Object},exports.validateBBox=function validateBBox(bbox){if(!bbox)throw new Error("bbox is required");if(!Array.isArray(bbox))throw new Error("bbox must be an Array");if(4!==bbox.length&&6!==bbox.length)throw new Error("bbox must be an Array of 4 or 6 numbers");bbox.forEach((function(num){if(!isNumber(num))throw new Error("bbox must only contain numbers")}))},exports.validateId=function validateId(id){if(!id)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof id))throw new Error("id must be a number or a string")}},"./node_modules/@turf/meta/dist/es/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{By:function(){return featureEach},Vf:function(){return segmentEach},hE:function(){return segmentReduce},mm:function(){return geomReduce},nG:function(){return flattenEach},on:function(){return geomEach},pZ:function(){return coordEach}});var _turf_helpers__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@turf/helpers/dist/es/index.js");function coordEach(geojson,callback,excludeWrapCoord){if(null!==geojson)for(var j,k,l,geometry,stopG,coords,geometryMaybeCollection,isGeometryCollection,wrapShrink=0,coordIndex=0,type=geojson.type,isFeatureCollection="FeatureCollection"===type,isFeature="Feature"===type,stop=isFeatureCollection?geojson.features.length:1,featureIndex=0;featureIndex<stop;featureIndex++){stopG=(isGeometryCollection=!!(geometryMaybeCollection=isFeatureCollection?geojson.features[featureIndex].geometry:isFeature?geojson.geometry:geojson)&&"GeometryCollection"===geometryMaybeCollection.type)?geometryMaybeCollection.geometries.length:1;for(var geomIndex=0;geomIndex<stopG;geomIndex++){var multiFeatureIndex=0,geometryIndex=0;if(null!==(geometry=isGeometryCollection?geometryMaybeCollection.geometries[geomIndex]:geometryMaybeCollection)){coords=geometry.coordinates;var geomType=geometry.type;switch(wrapShrink=!excludeWrapCoord||"Polygon"!==geomType&&"MultiPolygon"!==geomType?0:1,geomType){case null:break;case"Point":if(!1===callback(coords,coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++,multiFeatureIndex++;break;case"LineString":case"MultiPoint":for(j=0;j<coords.length;j++){if(!1===callback(coords[j],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++,"MultiPoint"===geomType&&multiFeatureIndex++}"LineString"===geomType&&multiFeatureIndex++;break;case"Polygon":case"MultiLineString":for(j=0;j<coords.length;j++){for(k=0;k<coords[j].length-wrapShrink;k++){if(!1===callback(coords[j][k],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++}"MultiLineString"===geomType&&multiFeatureIndex++,"Polygon"===geomType&&geometryIndex++}"Polygon"===geomType&&multiFeatureIndex++;break;case"MultiPolygon":for(j=0;j<coords.length;j++){for(geometryIndex=0,k=0;k<coords[j].length;k++){for(l=0;l<coords[j][k].length-wrapShrink;l++){if(!1===callback(coords[j][k][l],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++}geometryIndex++}multiFeatureIndex++}break;case"GeometryCollection":for(j=0;j<geometry.geometries.length;j++)if(!1===coordEach(geometry.geometries[j],callback,excludeWrapCoord))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function featureEach(geojson,callback){if("Feature"===geojson.type)callback(geojson,0);else if("FeatureCollection"===geojson.type)for(var i=0;i<geojson.features.length&&!1!==callback(geojson.features[i],i);i++);}function geomEach(geojson,callback){var i,j,g,geometry,stopG,geometryMaybeCollection,isGeometryCollection,featureProperties,featureBBox,featureId,featureIndex=0,isFeatureCollection="FeatureCollection"===geojson.type,isFeature="Feature"===geojson.type,stop=isFeatureCollection?geojson.features.length:1;for(i=0;i<stop;i++){for(geometryMaybeCollection=isFeatureCollection?geojson.features[i].geometry:isFeature?geojson.geometry:geojson,featureProperties=isFeatureCollection?geojson.features[i].properties:isFeature?geojson.properties:{},featureBBox=isFeatureCollection?geojson.features[i].bbox:isFeature?geojson.bbox:void 0,featureId=isFeatureCollection?geojson.features[i].id:isFeature?geojson.id:void 0,stopG=(isGeometryCollection=!!geometryMaybeCollection&&"GeometryCollection"===geometryMaybeCollection.type)?geometryMaybeCollection.geometries.length:1,g=0;g<stopG;g++)if(null!==(geometry=isGeometryCollection?geometryMaybeCollection.geometries[g]:geometryMaybeCollection))switch(geometry.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===callback(geometry,featureIndex,featureProperties,featureBBox,featureId))return!1;break;case"GeometryCollection":for(j=0;j<geometry.geometries.length;j++)if(!1===callback(geometry.geometries[j],featureIndex,featureProperties,featureBBox,featureId))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===callback(null,featureIndex,featureProperties,featureBBox,featureId))return!1;featureIndex++}}function geomReduce(geojson,callback,initialValue){var previousValue=initialValue;return geomEach(geojson,(function(currentGeometry,featureIndex,featureProperties,featureBBox,featureId){previousValue=0===featureIndex&&void 0===initialValue?currentGeometry:callback(previousValue,currentGeometry,featureIndex,featureProperties,featureBBox,featureId)})),previousValue}function flattenEach(geojson,callback){geomEach(geojson,(function(geometry,featureIndex,properties,bbox,id){var geomType,type=null===geometry?null:geometry.type;switch(type){case null:case"Point":case"LineString":case"Polygon":return!1!==callback((0,_turf_helpers__WEBPACK_IMPORTED_MODULE_0__.zL)(geometry,properties,{bbox:bbox,id:id}),featureIndex,0)&&void 0}switch(type){case"MultiPoint":geomType="Point";break;case"MultiLineString":geomType="LineString";break;case"MultiPolygon":geomType="Polygon"}for(var multiFeatureIndex=0;multiFeatureIndex<geometry.coordinates.length;multiFeatureIndex++){var geom={type:geomType,coordinates:geometry.coordinates[multiFeatureIndex]};if(!1===callback((0,_turf_helpers__WEBPACK_IMPORTED_MODULE_0__.zL)(geom,properties),featureIndex,multiFeatureIndex))return!1}}))}function segmentEach(geojson,callback){flattenEach(geojson,(function(feature,featureIndex,multiFeatureIndex){var segmentIndex=0;if(feature.geometry){var type=feature.geometry.type;if("Point"!==type&&"MultiPoint"!==type){var previousCoords,previousFeatureIndex=0,previousMultiIndex=0,prevGeomIndex=0;return!1!==coordEach(feature,(function(currentCoord,coordIndex,featureIndexCoord,multiPartIndexCoord,geometryIndex){if(void 0===previousCoords||featureIndex>previousFeatureIndex||multiPartIndexCoord>previousMultiIndex||geometryIndex>prevGeomIndex)return previousCoords=currentCoord,previousFeatureIndex=featureIndex,previousMultiIndex=multiPartIndexCoord,prevGeomIndex=geometryIndex,void(segmentIndex=0);var currentSegment=(0,_turf_helpers__WEBPACK_IMPORTED_MODULE_0__.Tu)([previousCoords,currentCoord],feature.properties);if(!1===callback(currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex))return!1;segmentIndex++,previousCoords=currentCoord}))&&void 0}}}))}function segmentReduce(geojson,callback,initialValue){var previousValue=initialValue,started=!1;return segmentEach(geojson,(function(currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex){previousValue=!1===started&&void 0===initialValue?currentSegment:callback(previousValue,currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex),started=!0})),previousValue}},"./node_modules/@turf/meta/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");function coordEach(geojson,callback,excludeWrapCoord){if(null!==geojson)for(var j,k,l,geometry,stopG,coords,geometryMaybeCollection,isGeometryCollection,wrapShrink=0,coordIndex=0,type=geojson.type,isFeatureCollection="FeatureCollection"===type,isFeature="Feature"===type,stop=isFeatureCollection?geojson.features.length:1,featureIndex=0;featureIndex<stop;featureIndex++){stopG=(isGeometryCollection=!!(geometryMaybeCollection=isFeatureCollection?geojson.features[featureIndex].geometry:isFeature?geojson.geometry:geojson)&&"GeometryCollection"===geometryMaybeCollection.type)?geometryMaybeCollection.geometries.length:1;for(var geomIndex=0;geomIndex<stopG;geomIndex++){var multiFeatureIndex=0,geometryIndex=0;if(null!==(geometry=isGeometryCollection?geometryMaybeCollection.geometries[geomIndex]:geometryMaybeCollection)){coords=geometry.coordinates;var geomType=geometry.type;switch(wrapShrink=!excludeWrapCoord||"Polygon"!==geomType&&"MultiPolygon"!==geomType?0:1,geomType){case null:break;case"Point":if(!1===callback(coords,coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++,multiFeatureIndex++;break;case"LineString":case"MultiPoint":for(j=0;j<coords.length;j++){if(!1===callback(coords[j],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++,"MultiPoint"===geomType&&multiFeatureIndex++}"LineString"===geomType&&multiFeatureIndex++;break;case"Polygon":case"MultiLineString":for(j=0;j<coords.length;j++){for(k=0;k<coords[j].length-wrapShrink;k++){if(!1===callback(coords[j][k],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++}"MultiLineString"===geomType&&multiFeatureIndex++,"Polygon"===geomType&&geometryIndex++}"Polygon"===geomType&&multiFeatureIndex++;break;case"MultiPolygon":for(j=0;j<coords.length;j++){for(geometryIndex=0,k=0;k<coords[j].length;k++){for(l=0;l<coords[j][k].length-wrapShrink;l++){if(!1===callback(coords[j][k][l],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++}geometryIndex++}multiFeatureIndex++}break;case"GeometryCollection":for(j=0;j<geometry.geometries.length;j++)if(!1===coordEach(geometry.geometries[j],callback,excludeWrapCoord))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function propEach(geojson,callback){var i;switch(geojson.type){case"FeatureCollection":for(i=0;i<geojson.features.length&&!1!==callback(geojson.features[i].properties,i);i++);break;case"Feature":callback(geojson.properties,0)}}function featureEach(geojson,callback){if("Feature"===geojson.type)callback(geojson,0);else if("FeatureCollection"===geojson.type)for(var i=0;i<geojson.features.length&&!1!==callback(geojson.features[i],i);i++);}function geomEach(geojson,callback){var i,j,g,geometry,stopG,geometryMaybeCollection,isGeometryCollection,featureProperties,featureBBox,featureId,featureIndex=0,isFeatureCollection="FeatureCollection"===geojson.type,isFeature="Feature"===geojson.type,stop=isFeatureCollection?geojson.features.length:1;for(i=0;i<stop;i++){for(geometryMaybeCollection=isFeatureCollection?geojson.features[i].geometry:isFeature?geojson.geometry:geojson,featureProperties=isFeatureCollection?geojson.features[i].properties:isFeature?geojson.properties:{},featureBBox=isFeatureCollection?geojson.features[i].bbox:isFeature?geojson.bbox:void 0,featureId=isFeatureCollection?geojson.features[i].id:isFeature?geojson.id:void 0,stopG=(isGeometryCollection=!!geometryMaybeCollection&&"GeometryCollection"===geometryMaybeCollection.type)?geometryMaybeCollection.geometries.length:1,g=0;g<stopG;g++)if(null!==(geometry=isGeometryCollection?geometryMaybeCollection.geometries[g]:geometryMaybeCollection))switch(geometry.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===callback(geometry,featureIndex,featureProperties,featureBBox,featureId))return!1;break;case"GeometryCollection":for(j=0;j<geometry.geometries.length;j++)if(!1===callback(geometry.geometries[j],featureIndex,featureProperties,featureBBox,featureId))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===callback(null,featureIndex,featureProperties,featureBBox,featureId))return!1;featureIndex++}}function flattenEach(geojson,callback){geomEach(geojson,(function(geometry,featureIndex,properties,bbox,id){var geomType,type=null===geometry?null:geometry.type;switch(type){case null:case"Point":case"LineString":case"Polygon":return!1!==callback(helpers.feature(geometry,properties,{bbox:bbox,id:id}),featureIndex,0)&&void 0}switch(type){case"MultiPoint":geomType="Point";break;case"MultiLineString":geomType="LineString";break;case"MultiPolygon":geomType="Polygon"}for(var multiFeatureIndex=0;multiFeatureIndex<geometry.coordinates.length;multiFeatureIndex++){var geom={type:geomType,coordinates:geometry.coordinates[multiFeatureIndex]};if(!1===callback(helpers.feature(geom,properties),featureIndex,multiFeatureIndex))return!1}}))}function segmentEach(geojson,callback){flattenEach(geojson,(function(feature,featureIndex,multiFeatureIndex){var segmentIndex=0;if(feature.geometry){var type=feature.geometry.type;if("Point"!==type&&"MultiPoint"!==type){var previousCoords,previousFeatureIndex=0,previousMultiIndex=0,prevGeomIndex=0;return!1!==coordEach(feature,(function(currentCoord,coordIndex,featureIndexCoord,multiPartIndexCoord,geometryIndex){if(void 0===previousCoords||featureIndex>previousFeatureIndex||multiPartIndexCoord>previousMultiIndex||geometryIndex>prevGeomIndex)return previousCoords=currentCoord,previousFeatureIndex=featureIndex,previousMultiIndex=multiPartIndexCoord,prevGeomIndex=geometryIndex,void(segmentIndex=0);var currentSegment=helpers.lineString([previousCoords,currentCoord],feature.properties);if(!1===callback(currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex))return!1;segmentIndex++,previousCoords=currentCoord}))&&void 0}}}))}function lineEach(geojson,callback){if(!geojson)throw new Error("geojson is required");flattenEach(geojson,(function(feature,featureIndex,multiFeatureIndex){if(null!==feature.geometry){var type=feature.geometry.type,coords=feature.geometry.coordinates;switch(type){case"LineString":if(!1===callback(feature,featureIndex,multiFeatureIndex,0,0))return!1;break;case"Polygon":for(var geometryIndex=0;geometryIndex<coords.length;geometryIndex++)if(!1===callback(helpers.lineString(coords[geometryIndex],feature.properties),featureIndex,multiFeatureIndex,geometryIndex))return!1}}}))}exports.coordAll=function coordAll(geojson){var coords=[];return coordEach(geojson,(function(coord){coords.push(coord)})),coords},exports.coordEach=coordEach,exports.coordReduce=function coordReduce(geojson,callback,initialValue,excludeWrapCoord){var previousValue=initialValue;return coordEach(geojson,(function(currentCoord,coordIndex,featureIndex,multiFeatureIndex,geometryIndex){previousValue=0===coordIndex&&void 0===initialValue?currentCoord:callback(previousValue,currentCoord,coordIndex,featureIndex,multiFeatureIndex,geometryIndex)}),excludeWrapCoord),previousValue},exports.featureEach=featureEach,exports.featureReduce=function featureReduce(geojson,callback,initialValue){var previousValue=initialValue;return featureEach(geojson,(function(currentFeature,featureIndex){previousValue=0===featureIndex&&void 0===initialValue?currentFeature:callback(previousValue,currentFeature,featureIndex)})),previousValue},exports.findPoint=function findPoint(geojson,options){if(options=options||{},!helpers.isObject(options))throw new Error("options is invalid");var geometry,featureIndex=options.featureIndex||0,multiFeatureIndex=options.multiFeatureIndex||0,geometryIndex=options.geometryIndex||0,coordIndex=options.coordIndex||0,properties=options.properties;switch(geojson.type){case"FeatureCollection":featureIndex<0&&(featureIndex=geojson.features.length+featureIndex),properties=properties||geojson.features[featureIndex].properties,geometry=geojson.features[featureIndex].geometry;break;case"Feature":properties=properties||geojson.properties,geometry=geojson.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":geometry=geojson;break;default:throw new Error("geojson is invalid")}if(null===geometry)return null;var coords=geometry.coordinates;switch(geometry.type){case"Point":return helpers.point(coords,properties,options);case"MultiPoint":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),helpers.point(coords[multiFeatureIndex],properties,options);case"LineString":return coordIndex<0&&(coordIndex=coords.length+coordIndex),helpers.point(coords[coordIndex],properties,options);case"Polygon":return geometryIndex<0&&(geometryIndex=coords.length+geometryIndex),coordIndex<0&&(coordIndex=coords[geometryIndex].length+coordIndex),helpers.point(coords[geometryIndex][coordIndex],properties,options);case"MultiLineString":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),coordIndex<0&&(coordIndex=coords[multiFeatureIndex].length+coordIndex),helpers.point(coords[multiFeatureIndex][coordIndex],properties,options);case"MultiPolygon":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),geometryIndex<0&&(geometryIndex=coords[multiFeatureIndex].length+geometryIndex),coordIndex<0&&(coordIndex=coords[multiFeatureIndex][geometryIndex].length-coordIndex),helpers.point(coords[multiFeatureIndex][geometryIndex][coordIndex],properties,options)}throw new Error("geojson is invalid")},exports.findSegment=function findSegment(geojson,options){if(options=options||{},!helpers.isObject(options))throw new Error("options is invalid");var geometry,featureIndex=options.featureIndex||0,multiFeatureIndex=options.multiFeatureIndex||0,geometryIndex=options.geometryIndex||0,segmentIndex=options.segmentIndex||0,properties=options.properties;switch(geojson.type){case"FeatureCollection":featureIndex<0&&(featureIndex=geojson.features.length+featureIndex),properties=properties||geojson.features[featureIndex].properties,geometry=geojson.features[featureIndex].geometry;break;case"Feature":properties=properties||geojson.properties,geometry=geojson.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":geometry=geojson;break;default:throw new Error("geojson is invalid")}if(null===geometry)return null;var coords=geometry.coordinates;switch(geometry.type){case"Point":case"MultiPoint":return null;case"LineString":return segmentIndex<0&&(segmentIndex=coords.length+segmentIndex-1),helpers.lineString([coords[segmentIndex],coords[segmentIndex+1]],properties,options);case"Polygon":return geometryIndex<0&&(geometryIndex=coords.length+geometryIndex),segmentIndex<0&&(segmentIndex=coords[geometryIndex].length+segmentIndex-1),helpers.lineString([coords[geometryIndex][segmentIndex],coords[geometryIndex][segmentIndex+1]],properties,options);case"MultiLineString":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),segmentIndex<0&&(segmentIndex=coords[multiFeatureIndex].length+segmentIndex-1),helpers.lineString([coords[multiFeatureIndex][segmentIndex],coords[multiFeatureIndex][segmentIndex+1]],properties,options);case"MultiPolygon":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),geometryIndex<0&&(geometryIndex=coords[multiFeatureIndex].length+geometryIndex),segmentIndex<0&&(segmentIndex=coords[multiFeatureIndex][geometryIndex].length-segmentIndex-1),helpers.lineString([coords[multiFeatureIndex][geometryIndex][segmentIndex],coords[multiFeatureIndex][geometryIndex][segmentIndex+1]],properties,options)}throw new Error("geojson is invalid")},exports.flattenEach=flattenEach,exports.flattenReduce=function flattenReduce(geojson,callback,initialValue){var previousValue=initialValue;return flattenEach(geojson,(function(currentFeature,featureIndex,multiFeatureIndex){previousValue=0===featureIndex&&0===multiFeatureIndex&&void 0===initialValue?currentFeature:callback(previousValue,currentFeature,featureIndex,multiFeatureIndex)})),previousValue},exports.geomEach=geomEach,exports.geomReduce=function geomReduce(geojson,callback,initialValue){var previousValue=initialValue;return geomEach(geojson,(function(currentGeometry,featureIndex,featureProperties,featureBBox,featureId){previousValue=0===featureIndex&&void 0===initialValue?currentGeometry:callback(previousValue,currentGeometry,featureIndex,featureProperties,featureBBox,featureId)})),previousValue},exports.lineEach=lineEach,exports.lineReduce=function lineReduce(geojson,callback,initialValue){var previousValue=initialValue;return lineEach(geojson,(function(currentLine,featureIndex,multiFeatureIndex,geometryIndex){previousValue=0===featureIndex&&void 0===initialValue?currentLine:callback(previousValue,currentLine,featureIndex,multiFeatureIndex,geometryIndex)})),previousValue},exports.propEach=propEach,exports.propReduce=function propReduce(geojson,callback,initialValue){var previousValue=initialValue;return propEach(geojson,(function(currentProperties,featureIndex){previousValue=0===featureIndex&&void 0===initialValue?currentProperties:callback(previousValue,currentProperties,featureIndex)})),previousValue},exports.segmentEach=segmentEach,exports.segmentReduce=function segmentReduce(geojson,callback,initialValue){var previousValue=initialValue,started=!1;return segmentEach(geojson,(function(currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex){previousValue=!1===started&&void 0===initialValue?currentSegment:callback(previousValue,currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex),started=!0})),previousValue}},"./node_modules/@turf/simplify/dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return turf_simplify_default}});var deep_equal=__webpack_require__("./node_modules/deep-equal/index.js"),deep_equal_default=__webpack_require__.n(deep_equal),__defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value:value,configurable:!0}),_GeojsonEquality=class _GeojsonEquality{constructor(opts){var _a,_b,_c;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(_a=null==opts?void 0:opts.precision)?_a:17),this.direction=null!=(_b=null==opts?void 0:opts.direction)&&_b,this.compareProperties=null==(_c=null==opts?void 0:opts.compareProperties)||_c}compare(g1,g2){if(g1.type!==g2.type)return!1;if(!sameLength(g1,g2))return!1;switch(g1.type){case"Point":return this.compareCoord(g1.coordinates,g2.coordinates);case"LineString":return this.compareLine(g1.coordinates,g2.coordinates);case"Polygon":return this.comparePolygon(g1,g2);case"GeometryCollection":return this.compareGeometryCollection(g1,g2);case"Feature":return this.compareFeature(g1,g2);case"FeatureCollection":return this.compareFeatureCollection(g1,g2);default:if(g1.type.startsWith("Multi")){const g1s=explode(g1),g2s=explode(g2);return g1s.every((g1part=>g2s.some((g2part=>this.compare(g1part,g2part)))))}}return!1}compareCoord(c1,c2){return c1.length===c2.length&&c1.every(((c,i)=>Math.abs(c-c2[i])<this.precision))}compareLine(path1,path2,ind=0,isPoly=!1){if(!sameLength(path1,path2))return!1;const p1=path1;let p2=path2;if(isPoly&&!this.compareCoord(p1[0],p2[0])){const startIndex=this.fixStartIndex(p2,p1);if(!startIndex)return!1;p2=startIndex}const sameDirection=this.compareCoord(p1[ind],p2[ind]);return this.direction||sameDirection?this.comparePath(p1,p2):!!this.compareCoord(p1[ind],p2[p2.length-(1+ind)])&&this.comparePath(p1.slice().reverse(),p2)}fixStartIndex(sourcePath,targetPath){let correctPath,ind=-1;for(let i=0;i<sourcePath.length;i++)if(this.compareCoord(sourcePath[i],targetPath[0])){ind=i;break}return ind>=0&&(correctPath=[].concat(sourcePath.slice(ind,sourcePath.length),sourcePath.slice(1,ind+1))),correctPath}comparePath(p1,p2){return p1.every(((c,i)=>this.compareCoord(c,p2[i])))}comparePolygon(g1,g2){if(this.compareLine(g1.coordinates[0],g2.coordinates[0],1,!0)){const holes1=g1.coordinates.slice(1,g1.coordinates.length),holes2=g2.coordinates.slice(1,g2.coordinates.length);return holes1.every((h1=>holes2.some((h2=>this.compareLine(h1,h2,1,!0)))))}return!1}compareGeometryCollection(g1,g2){return sameLength(g1.geometries,g2.geometries)&&this.compareBBox(g1,g2)&&g1.geometries.every(((g,i)=>this.compare(g,g2.geometries[i])))}compareFeature(g1,g2){return g1.id===g2.id&&(!this.compareProperties||deep_equal_default()(g1.properties,g2.properties))&&this.compareBBox(g1,g2)&&this.compare(g1.geometry,g2.geometry)}compareFeatureCollection(g1,g2){return sameLength(g1.features,g2.features)&&this.compareBBox(g1,g2)&&g1.features.every(((f,i)=>this.compare(f,g2.features[i])))}compareBBox(g1,g2){return Boolean(!g1.bbox&&!g2.bbox)||!(!g1.bbox||!g2.bbox)&&this.compareCoord(g1.bbox,g2.bbox)}};__name(_GeojsonEquality,"GeojsonEquality");function sameLength(g1,g2){return g1.coordinates?g1.coordinates.length===g2.coordinates.length:g1.length===g2.length}function explode(g){return g.coordinates.map((part=>({type:g.type.replace("Multi",""),coordinates:part})))}__name(sameLength,"sameLength"),__name(explode,"explode");var factors={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:6371008.8*39.37,kilometers:6371.0088,kilometres:6371.0088,meters:6371008.8,metres:6371008.8,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:6371008.8/1852,radians:1,yards:6371008.8*1.0936},areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function feature(geom,properties,options={}){const feat={type:"Feature"};return(0===options.id||options.id)&&(feat.id=options.id),options.bbox&&(feat.bbox=options.bbox),feat.properties=properties||{},feat.geometry=geom,feat}function point(coordinates,properties,options={}){if(!coordinates)throw new Error("coordinates is required");if(!Array.isArray(coordinates))throw new Error("coordinates must be an Array");if(coordinates.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!isNumber(coordinates[0])||!isNumber(coordinates[1]))throw new Error("coordinates must contain numbers");return feature({type:"Point",coordinates:coordinates},properties,options)}function polygon(coordinates,properties,options={}){for(const ring of coordinates){if(ring.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(ring[ring.length-1].length!==ring[0].length)throw new Error("First and last Position are not equivalent.");for(let j=0;j<ring[ring.length-1].length;j++)if(ring[ring.length-1][j]!==ring[0][j])throw new Error("First and last Position are not equivalent.")}return feature({type:"Polygon",coordinates:coordinates},properties,options)}function lineString(coordinates,properties,options={}){if(coordinates.length<2)throw new Error("coordinates must be an array of two or more positions");return feature({type:"LineString",coordinates:coordinates},properties,options)}function featureCollection(features,options={}){const fc={type:"FeatureCollection"};return options.id&&(fc.id=options.id),options.bbox&&(fc.bbox=options.bbox),fc.features=features,fc}function multiLineString(coordinates,properties,options={}){return feature({type:"MultiLineString",coordinates:coordinates},properties,options)}function multiPoint(coordinates,properties,options={}){return feature({type:"MultiPoint",coordinates:coordinates},properties,options)}function multiPolygon(coordinates,properties,options={}){return feature({type:"MultiPolygon",coordinates:coordinates},properties,options)}function radiansToLength(radians,units="kilometers"){const factor=factors[units];if(!factor)throw new Error(units+" units is invalid");return radians*factor}function lengthToRadians(distance,units="kilometers"){const factor=factors[units];if(!factor)throw new Error(units+" units is invalid");return distance/factor}function radiansToDegrees(radians){return 180*(radians%(2*Math.PI))/Math.PI}function isNumber(num){return!isNaN(num)&&null!==num&&!Array.isArray(num)}__name(feature,"feature"),__name((function geometry(type,coordinates,_options={}){switch(type){case"Point":return point(coordinates).geometry;case"LineString":return lineString(coordinates).geometry;case"Polygon":return polygon(coordinates).geometry;case"MultiPoint":return multiPoint(coordinates).geometry;case"MultiLineString":return multiLineString(coordinates).geometry;case"MultiPolygon":return multiPolygon(coordinates).geometry;default:throw new Error(type+" is invalid")}}),"geometry"),__name(point,"point"),__name((function points(coordinates,properties,options={}){return featureCollection(coordinates.map((coords=>point(coords,properties))),options)}),"points"),__name(polygon,"polygon"),__name((function polygons(coordinates,properties,options={}){return featureCollection(coordinates.map((coords=>polygon(coords,properties))),options)}),"polygons"),__name(lineString,"lineString"),__name((function lineStrings(coordinates,properties,options={}){return featureCollection(coordinates.map((coords=>lineString(coords,properties))),options)}),"lineStrings"),__name(featureCollection,"featureCollection"),__name(multiLineString,"multiLineString"),__name(multiPoint,"multiPoint"),__name(multiPolygon,"multiPolygon"),__name((function geometryCollection(geometries,properties,options={}){return feature({type:"GeometryCollection",geometries:geometries},properties,options)}),"geometryCollection"),__name((function round(num,precision=0){if(precision&&!(precision>=0))throw new Error("precision must be a positive number");const multiplier=Math.pow(10,precision||0);return Math.round(num*multiplier)/multiplier}),"round"),__name(radiansToLength,"radiansToLength"),__name(lengthToRadians,"lengthToRadians"),__name((function lengthToDegrees(distance,units){return radiansToDegrees(lengthToRadians(distance,units))}),"lengthToDegrees"),__name((function bearingToAzimuth(bearing){let angle=bearing%360;return angle<0&&(angle+=360),angle}),"bearingToAzimuth"),__name(radiansToDegrees,"radiansToDegrees"),__name((function degreesToRadians(degrees){return degrees%360*Math.PI/180}),"degreesToRadians"),__name((function convertLength(length,originalUnit="kilometers",finalUnit="kilometers"){if(!(length>=0))throw new Error("length must be a positive number");return radiansToLength(lengthToRadians(length,originalUnit),finalUnit)}),"convertLength"),__name((function convertArea(area,originalUnit="meters",finalUnit="kilometers"){if(!(area>=0))throw new Error("area must be a positive number");const startFactor=areaFactors[originalUnit];if(!startFactor)throw new Error("invalid original units");const finalFactor=areaFactors[finalUnit];if(!finalFactor)throw new Error("invalid final units");return area/startFactor*finalFactor}),"convertArea"),__name(isNumber,"isNumber"),__name((function isObject(input){return null!==input&&"object"==typeof input&&!Array.isArray(input)}),"isObject"),__name((function validateBBox(bbox){if(!bbox)throw new Error("bbox is required");if(!Array.isArray(bbox))throw new Error("bbox must be an Array");if(4!==bbox.length&&6!==bbox.length)throw new Error("bbox must be an Array of 4 or 6 numbers");bbox.forEach((num=>{if(!isNumber(num))throw new Error("bbox must only contain numbers")}))}),"validateBBox"),__name((function validateId(id){if(!id)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof id))throw new Error("id must be a number or a string")}),"validateId");var esm_defProp=Object.defineProperty,esm_name=(target,value)=>esm_defProp(target,"name",{value:value,configurable:!0});function getCoords(coords){if(Array.isArray(coords))return coords;if("Feature"===coords.type){if(null!==coords.geometry)return coords.geometry.coordinates}else if(coords.coordinates)return coords.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function getType(geojson,_name){return"FeatureCollection"===geojson.type?"FeatureCollection":"GeometryCollection"===geojson.type?"GeometryCollection":"Feature"===geojson.type&&null!==geojson.geometry?geojson.geometry.type:geojson.type}esm_name((function getCoord(coord){if(!coord)throw new Error("coord is required");if(!Array.isArray(coord)){if("Feature"===coord.type&&null!==coord.geometry&&"Point"===coord.geometry.type)return[...coord.geometry.coordinates];if("Point"===coord.type)return[...coord.coordinates]}if(Array.isArray(coord)&&coord.length>=2&&!Array.isArray(coord[0])&&!Array.isArray(coord[1]))return[...coord];throw new Error("coord must be GeoJSON Point or an Array of numbers")}),"getCoord"),esm_name(getCoords,"getCoords"),esm_name((function containsNumber(coordinates){if(coordinates.length>1&&isNumber(coordinates[0])&&isNumber(coordinates[1]))return!0;if(Array.isArray(coordinates[0])&&coordinates[0].length)return containsNumber(coordinates[0]);throw new Error("coordinates must only contain numbers")}),"containsNumber"),esm_name((function geojsonType(value,type,name){if(!type||!name)throw new Error("type and name required");if(!value||value.type!==type)throw new Error("Invalid input to "+name+": must be a "+type+", given "+value.type)}),"geojsonType"),esm_name((function featureOf(feature,type,name){if(!feature)throw new Error("No feature passed");if(!name)throw new Error(".featureOf() requires a name");if(!feature||"Feature"!==feature.type||!feature.geometry)throw new Error("Invalid input to "+name+", Feature with geometry required");if(!feature.geometry||feature.geometry.type!==type)throw new Error("Invalid input to "+name+": must be a "+type+", given "+feature.geometry.type)}),"featureOf"),esm_name((function collectionOf(featureCollection,type,name){if(!featureCollection)throw new Error("No featureCollection passed");if(!name)throw new Error(".collectionOf() requires a name");if(!featureCollection||"FeatureCollection"!==featureCollection.type)throw new Error("Invalid input to "+name+", FeatureCollection required");for(const feature of featureCollection.features){if(!feature||"Feature"!==feature.type||!feature.geometry)throw new Error("Invalid input to "+name+", Feature with geometry required");if(!feature.geometry||feature.geometry.type!==type)throw new Error("Invalid input to "+name+": must be a "+type+", given "+feature.geometry.type)}}),"collectionOf"),esm_name((function getGeom(geojson){return"Feature"===geojson.type?geojson.geometry:geojson}),"getGeom"),esm_name(getType,"getType");var dist_esm_defProp=Object.defineProperty,dist_esm_name=(target,value)=>dist_esm_defProp(target,"name",{value:value,configurable:!0});function cleanCoords(geojson,options={}){var mutate="object"==typeof options?options.mutate:options;if(!geojson)throw new Error("geojson is required");var type=getType(geojson),newCoords=[];switch(type){case"LineString":newCoords=cleanLine(geojson,type);break;case"MultiLineString":case"Polygon":getCoords(geojson).forEach((function(line){newCoords.push(cleanLine(line,type))}));break;case"MultiPolygon":getCoords(geojson).forEach((function(polygons){var polyPoints=[];polygons.forEach((function(ring){polyPoints.push(cleanLine(ring,type))})),newCoords.push(polyPoints)}));break;case"Point":return geojson;case"MultiPoint":var existing={};getCoords(geojson).forEach((function(coord){var key=coord.join("-");Object.prototype.hasOwnProperty.call(existing,key)||(newCoords.push(coord),existing[key]=!0)}));break;default:throw new Error(type+" geometry not supported")}return geojson.coordinates?!0===mutate?(geojson.coordinates=newCoords,geojson):{type:type,coordinates:newCoords}:!0===mutate?(geojson.geometry.coordinates=newCoords,geojson):feature({type:type,coordinates:newCoords},geojson.properties,{bbox:geojson.bbox,id:geojson.id})}function cleanLine(line,type){var points=getCoords(line);if(2===points.length&&!equals(points[0],points[1]))return points;var newPoints=[],secondToLast=points.length-1,newPointsLength=newPoints.length;newPoints.push(points[0]);for(var i=1;i<secondToLast;i++){var prevAddedPoint=newPoints[newPoints.length-1];points[i][0]===prevAddedPoint[0]&&points[i][1]===prevAddedPoint[1]||(newPoints.push(points[i]),(newPointsLength=newPoints.length)>2&&isPointOnLineSegment(newPoints[newPointsLength-3],newPoints[newPointsLength-1],newPoints[newPointsLength-2])&&newPoints.splice(newPoints.length-2,1))}if(newPoints.push(points[points.length-1]),newPointsLength=newPoints.length,("Polygon"===type||"MultiPolygon"===type)&&equals(points[0],points[points.length-1])&&newPointsLength<4)throw new Error("invalid polygon");return"LineString"===type&&newPointsLength<3||isPointOnLineSegment(newPoints[newPointsLength-3],newPoints[newPointsLength-1],newPoints[newPointsLength-2])&&newPoints.splice(newPoints.length-2,1),newPoints}function equals(pt1,pt2){return pt1[0]===pt2[0]&&pt1[1]===pt2[1]}function isPointOnLineSegment(start,end,point){var x=point[0],y=point[1],startX=start[0],startY=start[1],endX=end[0],endY=end[1],dxl=endX-startX,dyl=endY-startY;return 0===(x-startX)*dyl-(y-startY)*dxl&&(Math.abs(dxl)>=Math.abs(dyl)?dxl>0?startX<=x&&x<=endX:endX<=x&&x<=startX:dyl>0?startY<=y&&y<=endY:endY<=y&&y<=startY)}dist_esm_name(cleanCoords,"cleanCoords"),dist_esm_name(cleanLine,"cleanLine"),dist_esm_name(equals,"equals"),dist_esm_name(isPointOnLineSegment,"isPointOnLineSegment");var clone_dist_esm_defProp=Object.defineProperty,clone_dist_esm_name=(target,value)=>clone_dist_esm_defProp(target,"name",{value:value,configurable:!0});function clone(geojson){if(!geojson)throw new Error("geojson is required");switch(geojson.type){case"Feature":return cloneFeature(geojson);case"FeatureCollection":return cloneFeatureCollection(geojson);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return cloneGeometry(geojson);default:throw new Error("unknown GeoJSON type")}}function cloneFeature(geojson){const cloned={type:"Feature"};return Object.keys(geojson).forEach((key=>{switch(key){case"type":case"properties":case"geometry":return;default:cloned[key]=geojson[key]}})),cloned.properties=cloneProperties(geojson.properties),null==geojson.geometry?cloned.geometry=null:cloned.geometry=cloneGeometry(geojson.geometry),cloned}function cloneProperties(properties){const cloned={};return properties?(Object.keys(properties).forEach((key=>{const value=properties[key];"object"==typeof value?null===value?cloned[key]=null:Array.isArray(value)?cloned[key]=value.map((item=>item)):cloned[key]=cloneProperties(value):cloned[key]=value})),cloned):cloned}function cloneFeatureCollection(geojson){const cloned={type:"FeatureCollection"};return Object.keys(geojson).forEach((key=>{switch(key){case"type":case"features":return;default:cloned[key]=geojson[key]}})),cloned.features=geojson.features.map((feature=>cloneFeature(feature))),cloned}function cloneGeometry(geometry){const geom={type:geometry.type};return geometry.bbox&&(geom.bbox=geometry.bbox),"GeometryCollection"===geometry.type?(geom.geometries=geometry.geometries.map((g=>cloneGeometry(g))),geom):(geom.coordinates=deepSlice(geometry.coordinates),geom)}function deepSlice(coords){const cloned=coords;return"object"!=typeof cloned[0]?cloned.slice():cloned.map((coord=>deepSlice(coord)))}clone_dist_esm_name(clone,"clone"),clone_dist_esm_name(cloneFeature,"cloneFeature"),clone_dist_esm_name(cloneProperties,"cloneProperties"),clone_dist_esm_name(cloneFeatureCollection,"cloneFeatureCollection"),clone_dist_esm_name(cloneGeometry,"cloneGeometry"),clone_dist_esm_name(deepSlice,"deepSlice");var helpers_dist_esm_defProp=Object.defineProperty,helpers_dist_esm_name=(target,value)=>helpers_dist_esm_defProp(target,"name",{value:value,configurable:!0}),esm_GeojsonEquality=class _GeojsonEquality{constructor(opts){var _a,_b,_c;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(_a=null==opts?void 0:opts.precision)?_a:17),this.direction=null!=(_b=null==opts?void 0:opts.direction)&&_b,this.compareProperties=null==(_c=null==opts?void 0:opts.compareProperties)||_c}compare(g1,g2){if(g1.type!==g2.type)return!1;if(!esm_sameLength(g1,g2))return!1;switch(g1.type){case"Point":return this.compareCoord(g1.coordinates,g2.coordinates);case"LineString":return this.compareLine(g1.coordinates,g2.coordinates);case"Polygon":return this.comparePolygon(g1,g2);case"GeometryCollection":return this.compareGeometryCollection(g1,g2);case"Feature":return this.compareFeature(g1,g2);case"FeatureCollection":return this.compareFeatureCollection(g1,g2);default:if(g1.type.startsWith("Multi")){const g1s=esm_explode(g1),g2s=esm_explode(g2);return g1s.every((g1part=>g2s.some((g2part=>this.compare(g1part,g2part)))))}}return!1}compareCoord(c1,c2){return c1.length===c2.length&&c1.every(((c,i)=>Math.abs(c-c2[i])<this.precision))}compareLine(path1,path2,ind=0,isPoly=!1){if(!esm_sameLength(path1,path2))return!1;const p1=path1;let p2=path2;if(isPoly&&!this.compareCoord(p1[0],p2[0])){const startIndex=this.fixStartIndex(p2,p1);if(!startIndex)return!1;p2=startIndex}const sameDirection=this.compareCoord(p1[ind],p2[ind]);return this.direction||sameDirection?this.comparePath(p1,p2):!!this.compareCoord(p1[ind],p2[p2.length-(1+ind)])&&this.comparePath(p1.slice().reverse(),p2)}fixStartIndex(sourcePath,targetPath){let correctPath,ind=-1;for(let i=0;i<sourcePath.length;i++)if(this.compareCoord(sourcePath[i],targetPath[0])){ind=i;break}return ind>=0&&(correctPath=[].concat(sourcePath.slice(ind,sourcePath.length),sourcePath.slice(1,ind+1))),correctPath}comparePath(p1,p2){return p1.every(((c,i)=>this.compareCoord(c,p2[i])))}comparePolygon(g1,g2){if(this.compareLine(g1.coordinates[0],g2.coordinates[0],1,!0)){const holes1=g1.coordinates.slice(1,g1.coordinates.length),holes2=g2.coordinates.slice(1,g2.coordinates.length);return holes1.every((h1=>holes2.some((h2=>this.compareLine(h1,h2,1,!0)))))}return!1}compareGeometryCollection(g1,g2){return esm_sameLength(g1.geometries,g2.geometries)&&this.compareBBox(g1,g2)&&g1.geometries.every(((g,i)=>this.compare(g,g2.geometries[i])))}compareFeature(g1,g2){return g1.id===g2.id&&(!this.compareProperties||deep_equal_default()(g1.properties,g2.properties))&&this.compareBBox(g1,g2)&&this.compare(g1.geometry,g2.geometry)}compareFeatureCollection(g1,g2){return esm_sameLength(g1.features,g2.features)&&this.compareBBox(g1,g2)&&g1.features.every(((f,i)=>this.compare(f,g2.features[i])))}compareBBox(g1,g2){return Boolean(!g1.bbox&&!g2.bbox)||!(!g1.bbox||!g2.bbox)&&this.compareCoord(g1.bbox,g2.bbox)}};helpers_dist_esm_name(esm_GeojsonEquality,"GeojsonEquality");function esm_sameLength(g1,g2){return g1.coordinates?g1.coordinates.length===g2.coordinates.length:g1.length===g2.length}function esm_explode(g){return g.coordinates.map((part=>({type:g.type.replace("Multi",""),coordinates:part})))}helpers_dist_esm_name(esm_sameLength,"sameLength"),helpers_dist_esm_name(esm_explode,"explode");var esm_factors={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:6371008.8*39.37,kilometers:6371.0088,kilometres:6371.0088,meters:6371008.8,metres:6371008.8,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:6371008.8/1852,radians:1,yards:6371008.8*1.0936},esm_areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function esm_feature(geom,properties,options={}){const feat={type:"Feature"};return(0===options.id||options.id)&&(feat.id=options.id),options.bbox&&(feat.bbox=options.bbox),feat.properties=properties||{},feat.geometry=geom,feat}function esm_point(coordinates,properties,options={}){if(!coordinates)throw new Error("coordinates is required");if(!Array.isArray(coordinates))throw new Error("coordinates must be an Array");if(coordinates.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!esm_isNumber(coordinates[0])||!esm_isNumber(coordinates[1]))throw new Error("coordinates must contain numbers");return esm_feature({type:"Point",coordinates:coordinates},properties,options)}function esm_polygon(coordinates,properties,options={}){for(const ring of coordinates){if(ring.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(ring[ring.length-1].length!==ring[0].length)throw new Error("First and last Position are not equivalent.");for(let j=0;j<ring[ring.length-1].length;j++)if(ring[ring.length-1][j]!==ring[0][j])throw new Error("First and last Position are not equivalent.")}return esm_feature({type:"Polygon",coordinates:coordinates},properties,options)}function esm_lineString(coordinates,properties,options={}){if(coordinates.length<2)throw new Error("coordinates must be an array of two or more positions");return esm_feature({type:"LineString",coordinates:coordinates},properties,options)}function esm_featureCollection(features,options={}){const fc={type:"FeatureCollection"};return options.id&&(fc.id=options.id),options.bbox&&(fc.bbox=options.bbox),fc.features=features,fc}function esm_multiLineString(coordinates,properties,options={}){return esm_feature({type:"MultiLineString",coordinates:coordinates},properties,options)}function esm_multiPoint(coordinates,properties,options={}){return esm_feature({type:"MultiPoint",coordinates:coordinates},properties,options)}function esm_multiPolygon(coordinates,properties,options={}){return esm_feature({type:"MultiPolygon",coordinates:coordinates},properties,options)}function esm_radiansToLength(radians,units="kilometers"){const factor=esm_factors[units];if(!factor)throw new Error(units+" units is invalid");return radians*factor}function esm_lengthToRadians(distance,units="kilometers"){const factor=esm_factors[units];if(!factor)throw new Error(units+" units is invalid");return distance/factor}function esm_radiansToDegrees(radians){return 180*(radians%(2*Math.PI))/Math.PI}function esm_isNumber(num){return!isNaN(num)&&null!==num&&!Array.isArray(num)}function esm_isObject(input){return null!==input&&"object"==typeof input&&!Array.isArray(input)}helpers_dist_esm_name(esm_feature,"feature"),helpers_dist_esm_name((function esm_geometry(type,coordinates,_options={}){switch(type){case"Point":return esm_point(coordinates).geometry;case"LineString":return esm_lineString(coordinates).geometry;case"Polygon":return esm_polygon(coordinates).geometry;case"MultiPoint":return esm_multiPoint(coordinates).geometry;case"MultiLineString":return esm_multiLineString(coordinates).geometry;case"MultiPolygon":return esm_multiPolygon(coordinates).geometry;default:throw new Error(type+" is invalid")}}),"geometry"),helpers_dist_esm_name(esm_point,"point"),helpers_dist_esm_name((function esm_points(coordinates,properties,options={}){return esm_featureCollection(coordinates.map((coords=>esm_point(coords,properties))),options)}),"points"),helpers_dist_esm_name(esm_polygon,"polygon"),helpers_dist_esm_name((function esm_polygons(coordinates,properties,options={}){return esm_featureCollection(coordinates.map((coords=>esm_polygon(coords,properties))),options)}),"polygons"),helpers_dist_esm_name(esm_lineString,"lineString"),helpers_dist_esm_name((function esm_lineStrings(coordinates,properties,options={}){return esm_featureCollection(coordinates.map((coords=>esm_lineString(coords,properties))),options)}),"lineStrings"),helpers_dist_esm_name(esm_featureCollection,"featureCollection"),helpers_dist_esm_name(esm_multiLineString,"multiLineString"),helpers_dist_esm_name(esm_multiPoint,"multiPoint"),helpers_dist_esm_name(esm_multiPolygon,"multiPolygon"),helpers_dist_esm_name((function esm_geometryCollection(geometries,properties,options={}){return esm_feature({type:"GeometryCollection",geometries:geometries},properties,options)}),"geometryCollection"),helpers_dist_esm_name((function esm_round(num,precision=0){if(precision&&!(precision>=0))throw new Error("precision must be a positive number");const multiplier=Math.pow(10,precision||0);return Math.round(num*multiplier)/multiplier}),"round"),helpers_dist_esm_name(esm_radiansToLength,"radiansToLength"),helpers_dist_esm_name(esm_lengthToRadians,"lengthToRadians"),helpers_dist_esm_name((function esm_lengthToDegrees(distance,units){return esm_radiansToDegrees(esm_lengthToRadians(distance,units))}),"lengthToDegrees"),helpers_dist_esm_name((function esm_bearingToAzimuth(bearing){let angle=bearing%360;return angle<0&&(angle+=360),angle}),"bearingToAzimuth"),helpers_dist_esm_name(esm_radiansToDegrees,"radiansToDegrees"),helpers_dist_esm_name((function esm_degreesToRadians(degrees){return degrees%360*Math.PI/180}),"degreesToRadians"),helpers_dist_esm_name((function esm_convertLength(length,originalUnit="kilometers",finalUnit="kilometers"){if(!(length>=0))throw new Error("length must be a positive number");return esm_radiansToLength(esm_lengthToRadians(length,originalUnit),finalUnit)}),"convertLength"),helpers_dist_esm_name((function esm_convertArea(area,originalUnit="meters",finalUnit="kilometers"){if(!(area>=0))throw new Error("area must be a positive number");const startFactor=esm_areaFactors[originalUnit];if(!startFactor)throw new Error("invalid original units");const finalFactor=esm_areaFactors[finalUnit];if(!finalFactor)throw new Error("invalid final units");return area/startFactor*finalFactor}),"convertArea"),helpers_dist_esm_name(esm_isNumber,"isNumber"),helpers_dist_esm_name(esm_isObject,"isObject"),helpers_dist_esm_name((function esm_validateBBox(bbox){if(!bbox)throw new Error("bbox is required");if(!Array.isArray(bbox))throw new Error("bbox must be an Array");if(4!==bbox.length&&6!==bbox.length)throw new Error("bbox must be an Array of 4 or 6 numbers");bbox.forEach((num=>{if(!esm_isNumber(num))throw new Error("bbox must only contain numbers")}))}),"validateBBox"),helpers_dist_esm_name((function esm_validateId(id){if(!id)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof id))throw new Error("id must be a number or a string")}),"validateId");var meta_dist_esm_defProp=Object.defineProperty,meta_dist_esm_name=(target,value)=>meta_dist_esm_defProp(target,"name",{value:value,configurable:!0});function coordEach(geojson,callback,excludeWrapCoord){if(null!==geojson)for(var j,k,l,geometry,stopG,coords,geometryMaybeCollection,isGeometryCollection,wrapShrink=0,coordIndex=0,type=geojson.type,isFeatureCollection="FeatureCollection"===type,isFeature="Feature"===type,stop=isFeatureCollection?geojson.features.length:1,featureIndex=0;featureIndex<stop;featureIndex++){stopG=(isGeometryCollection=!!(geometryMaybeCollection=isFeatureCollection?geojson.features[featureIndex].geometry:isFeature?geojson.geometry:geojson)&&"GeometryCollection"===geometryMaybeCollection.type)?geometryMaybeCollection.geometries.length:1;for(var geomIndex=0;geomIndex<stopG;geomIndex++){var multiFeatureIndex=0,geometryIndex=0;if(null!==(geometry=isGeometryCollection?geometryMaybeCollection.geometries[geomIndex]:geometryMaybeCollection)){coords=geometry.coordinates;var geomType=geometry.type;switch(wrapShrink=!excludeWrapCoord||"Polygon"!==geomType&&"MultiPolygon"!==geomType?0:1,geomType){case null:break;case"Point":if(!1===callback(coords,coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++,multiFeatureIndex++;break;case"LineString":case"MultiPoint":for(j=0;j<coords.length;j++){if(!1===callback(coords[j],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++,"MultiPoint"===geomType&&multiFeatureIndex++}"LineString"===geomType&&multiFeatureIndex++;break;case"Polygon":case"MultiLineString":for(j=0;j<coords.length;j++){for(k=0;k<coords[j].length-wrapShrink;k++){if(!1===callback(coords[j][k],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++}"MultiLineString"===geomType&&multiFeatureIndex++,"Polygon"===geomType&&geometryIndex++}"Polygon"===geomType&&multiFeatureIndex++;break;case"MultiPolygon":for(j=0;j<coords.length;j++){for(geometryIndex=0,k=0;k<coords[j].length;k++){for(l=0;l<coords[j][k].length-wrapShrink;l++){if(!1===callback(coords[j][k][l],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++}geometryIndex++}multiFeatureIndex++}break;case"GeometryCollection":for(j=0;j<geometry.geometries.length;j++)if(!1===coordEach(geometry.geometries[j],callback,excludeWrapCoord))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function propEach(geojson,callback){var i;switch(geojson.type){case"FeatureCollection":for(i=0;i<geojson.features.length&&!1!==callback(geojson.features[i].properties,i);i++);break;case"Feature":callback(geojson.properties,0)}}function featureEach(geojson,callback){if("Feature"===geojson.type)callback(geojson,0);else if("FeatureCollection"===geojson.type)for(var i=0;i<geojson.features.length&&!1!==callback(geojson.features[i],i);i++);}function geomEach(geojson,callback){var i,j,g,geometry,stopG,geometryMaybeCollection,isGeometryCollection,featureProperties,featureBBox,featureId,featureIndex=0,isFeatureCollection="FeatureCollection"===geojson.type,isFeature="Feature"===geojson.type,stop=isFeatureCollection?geojson.features.length:1;for(i=0;i<stop;i++){for(geometryMaybeCollection=isFeatureCollection?geojson.features[i].geometry:isFeature?geojson.geometry:geojson,featureProperties=isFeatureCollection?geojson.features[i].properties:isFeature?geojson.properties:{},featureBBox=isFeatureCollection?geojson.features[i].bbox:isFeature?geojson.bbox:void 0,featureId=isFeatureCollection?geojson.features[i].id:isFeature?geojson.id:void 0,stopG=(isGeometryCollection=!!geometryMaybeCollection&&"GeometryCollection"===geometryMaybeCollection.type)?geometryMaybeCollection.geometries.length:1,g=0;g<stopG;g++)if(null!==(geometry=isGeometryCollection?geometryMaybeCollection.geometries[g]:geometryMaybeCollection))switch(geometry.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===callback(geometry,featureIndex,featureProperties,featureBBox,featureId))return!1;break;case"GeometryCollection":for(j=0;j<geometry.geometries.length;j++)if(!1===callback(geometry.geometries[j],featureIndex,featureProperties,featureBBox,featureId))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===callback(null,featureIndex,featureProperties,featureBBox,featureId))return!1;featureIndex++}}function flattenEach(geojson,callback){geomEach(geojson,(function(geometry,featureIndex,properties,bbox,id){var geomType,type=null===geometry?null:geometry.type;switch(type){case null:case"Point":case"LineString":case"Polygon":return!1!==callback(esm_feature(geometry,properties,{bbox:bbox,id:id}),featureIndex,0)&&void 0}switch(type){case"MultiPoint":geomType="Point";break;case"MultiLineString":geomType="LineString";break;case"MultiPolygon":geomType="Polygon"}for(var multiFeatureIndex=0;multiFeatureIndex<geometry.coordinates.length;multiFeatureIndex++){var coordinate=geometry.coordinates[multiFeatureIndex];if(!1===callback(esm_feature({type:geomType,coordinates:coordinate},properties),featureIndex,multiFeatureIndex))return!1}}))}function segmentEach(geojson,callback){flattenEach(geojson,(function(feature2,featureIndex,multiFeatureIndex){var segmentIndex=0;if(feature2.geometry){var type=feature2.geometry.type;if("Point"!==type&&"MultiPoint"!==type){var previousCoords,previousFeatureIndex=0,previousMultiIndex=0,prevGeomIndex=0;return!1!==coordEach(feature2,(function(currentCoord,coordIndex,featureIndexCoord,multiPartIndexCoord,geometryIndex){if(void 0===previousCoords||featureIndex>previousFeatureIndex||multiPartIndexCoord>previousMultiIndex||geometryIndex>prevGeomIndex)return previousCoords=currentCoord,previousFeatureIndex=featureIndex,previousMultiIndex=multiPartIndexCoord,prevGeomIndex=geometryIndex,void(segmentIndex=0);var currentSegment=esm_lineString([previousCoords,currentCoord],feature2.properties);if(!1===callback(currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex))return!1;segmentIndex++,previousCoords=currentCoord}))&&void 0}}}))}function lineEach(geojson,callback){if(!geojson)throw new Error("geojson is required");flattenEach(geojson,(function(feature2,featureIndex,multiFeatureIndex){if(null!==feature2.geometry){var type=feature2.geometry.type,coords=feature2.geometry.coordinates;switch(type){case"LineString":if(!1===callback(feature2,featureIndex,multiFeatureIndex,0,0))return!1;break;case"Polygon":for(var geometryIndex=0;geometryIndex<coords.length;geometryIndex++)if(!1===callback(esm_lineString(coords[geometryIndex],feature2.properties),featureIndex,multiFeatureIndex,geometryIndex))return!1}}}))}meta_dist_esm_name(coordEach,"coordEach"),meta_dist_esm_name((function coordReduce(geojson,callback,initialValue,excludeWrapCoord){var previousValue=initialValue;return coordEach(geojson,(function(currentCoord,coordIndex,featureIndex,multiFeatureIndex,geometryIndex){previousValue=0===coordIndex&&void 0===initialValue?currentCoord:callback(previousValue,currentCoord,coordIndex,featureIndex,multiFeatureIndex,geometryIndex)}),excludeWrapCoord),previousValue}),"coordReduce"),meta_dist_esm_name(propEach,"propEach"),meta_dist_esm_name((function propReduce(geojson,callback,initialValue){var previousValue=initialValue;return propEach(geojson,(function(currentProperties,featureIndex){previousValue=0===featureIndex&&void 0===initialValue?currentProperties:callback(previousValue,currentProperties,featureIndex)})),previousValue}),"propReduce"),meta_dist_esm_name(featureEach,"featureEach"),meta_dist_esm_name((function featureReduce(geojson,callback,initialValue){var previousValue=initialValue;return featureEach(geojson,(function(currentFeature,featureIndex){previousValue=0===featureIndex&&void 0===initialValue?currentFeature:callback(previousValue,currentFeature,featureIndex)})),previousValue}),"featureReduce"),meta_dist_esm_name((function coordAll(geojson){var coords=[];return coordEach(geojson,(function(coord){coords.push(coord)})),coords}),"coordAll"),meta_dist_esm_name(geomEach,"geomEach"),meta_dist_esm_name((function geomReduce(geojson,callback,initialValue){var previousValue=initialValue;return geomEach(geojson,(function(currentGeometry,featureIndex,featureProperties,featureBBox,featureId){previousValue=0===featureIndex&&void 0===initialValue?currentGeometry:callback(previousValue,currentGeometry,featureIndex,featureProperties,featureBBox,featureId)})),previousValue}),"geomReduce"),meta_dist_esm_name(flattenEach,"flattenEach"),meta_dist_esm_name((function flattenReduce(geojson,callback,initialValue){var previousValue=initialValue;return flattenEach(geojson,(function(currentFeature,featureIndex,multiFeatureIndex){previousValue=0===featureIndex&&0===multiFeatureIndex&&void 0===initialValue?currentFeature:callback(previousValue,currentFeature,featureIndex,multiFeatureIndex)})),previousValue}),"flattenReduce"),meta_dist_esm_name(segmentEach,"segmentEach"),meta_dist_esm_name((function segmentReduce(geojson,callback,initialValue){var previousValue=initialValue,started=!1;return segmentEach(geojson,(function(currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex){previousValue=!1===started&&void 0===initialValue?currentSegment:callback(previousValue,currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex),started=!0})),previousValue}),"segmentReduce"),meta_dist_esm_name(lineEach,"lineEach"),meta_dist_esm_name((function lineReduce(geojson,callback,initialValue){var previousValue=initialValue;return lineEach(geojson,(function(currentLine,featureIndex,multiFeatureIndex,geometryIndex){previousValue=0===featureIndex&&void 0===initialValue?currentLine:callback(previousValue,currentLine,featureIndex,multiFeatureIndex,geometryIndex)})),previousValue}),"lineReduce"),meta_dist_esm_name((function findSegment(geojson,options){if(!esm_isObject(options=options||{}))throw new Error("options is invalid");var geometry,featureIndex=options.featureIndex||0,multiFeatureIndex=options.multiFeatureIndex||0,geometryIndex=options.geometryIndex||0,segmentIndex=options.segmentIndex||0,properties=options.properties;switch(geojson.type){case"FeatureCollection":featureIndex<0&&(featureIndex=geojson.features.length+featureIndex),properties=properties||geojson.features[featureIndex].properties,geometry=geojson.features[featureIndex].geometry;break;case"Feature":properties=properties||geojson.properties,geometry=geojson.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":geometry=geojson;break;default:throw new Error("geojson is invalid")}if(null===geometry)return null;var coords=geometry.coordinates;switch(geometry.type){case"Point":case"MultiPoint":return null;case"LineString":return segmentIndex<0&&(segmentIndex=coords.length+segmentIndex-1),esm_lineString([coords[segmentIndex],coords[segmentIndex+1]],properties,options);case"Polygon":return geometryIndex<0&&(geometryIndex=coords.length+geometryIndex),segmentIndex<0&&(segmentIndex=coords[geometryIndex].length+segmentIndex-1),esm_lineString([coords[geometryIndex][segmentIndex],coords[geometryIndex][segmentIndex+1]],properties,options);case"MultiLineString":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),segmentIndex<0&&(segmentIndex=coords[multiFeatureIndex].length+segmentIndex-1),esm_lineString([coords[multiFeatureIndex][segmentIndex],coords[multiFeatureIndex][segmentIndex+1]],properties,options);case"MultiPolygon":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),geometryIndex<0&&(geometryIndex=coords[multiFeatureIndex].length+geometryIndex),segmentIndex<0&&(segmentIndex=coords[multiFeatureIndex][geometryIndex].length-segmentIndex-1),esm_lineString([coords[multiFeatureIndex][geometryIndex][segmentIndex],coords[multiFeatureIndex][geometryIndex][segmentIndex+1]],properties,options)}throw new Error("geojson is invalid")}),"findSegment"),meta_dist_esm_name((function findPoint(geojson,options){if(!esm_isObject(options=options||{}))throw new Error("options is invalid");var geometry,featureIndex=options.featureIndex||0,multiFeatureIndex=options.multiFeatureIndex||0,geometryIndex=options.geometryIndex||0,coordIndex=options.coordIndex||0,properties=options.properties;switch(geojson.type){case"FeatureCollection":featureIndex<0&&(featureIndex=geojson.features.length+featureIndex),properties=properties||geojson.features[featureIndex].properties,geometry=geojson.features[featureIndex].geometry;break;case"Feature":properties=properties||geojson.properties,geometry=geojson.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":geometry=geojson;break;default:throw new Error("geojson is invalid")}if(null===geometry)return null;var coords=geometry.coordinates;switch(geometry.type){case"Point":return esm_point(coords,properties,options);case"MultiPoint":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),esm_point(coords[multiFeatureIndex],properties,options);case"LineString":return coordIndex<0&&(coordIndex=coords.length+coordIndex),esm_point(coords[coordIndex],properties,options);case"Polygon":return geometryIndex<0&&(geometryIndex=coords.length+geometryIndex),coordIndex<0&&(coordIndex=coords[geometryIndex].length+coordIndex),esm_point(coords[geometryIndex][coordIndex],properties,options);case"MultiLineString":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),coordIndex<0&&(coordIndex=coords[multiFeatureIndex].length+coordIndex),esm_point(coords[multiFeatureIndex][coordIndex],properties,options);case"MultiPolygon":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),geometryIndex<0&&(geometryIndex=coords[multiFeatureIndex].length+geometryIndex),coordIndex<0&&(coordIndex=coords[multiFeatureIndex][geometryIndex].length-coordIndex),esm_point(coords[multiFeatureIndex][geometryIndex][coordIndex],properties,options)}throw new Error("geojson is invalid")}),"findPoint");var simplify_dist_esm_defProp=Object.defineProperty,simplify_dist_esm_name=(target,value)=>simplify_dist_esm_defProp(target,"name",{value:value,configurable:!0});function getSqDist(p1,p2){var dx=p1[0]-p2[0],dy=p1[1]-p2[1];return dx*dx+dy*dy}function getSqSegDist(p,p1,p2){var x=p1[0],y=p1[1],dx=p2[0]-x,dy=p2[1]-y;if(0!==dx||0!==dy){var t=((p[0]-x)*dx+(p[1]-y)*dy)/(dx*dx+dy*dy);t>1?(x=p2[0],y=p2[1]):t>0&&(x+=dx*t,y+=dy*t)}return(dx=p[0]-x)*dx+(dy=p[1]-y)*dy}function simplifyRadialDist(points,sqTolerance){for(var point,prevPoint=points[0],newPoints=[prevPoint],i=1,len=points.length;i<len;i++)getSqDist(point=points[i],prevPoint)>sqTolerance&&(newPoints.push(point),prevPoint=point);return prevPoint!==point&&newPoints.push(point),newPoints}function simplifyDPStep(points,first,last,sqTolerance,simplified){for(var index,maxSqDist=sqTolerance,i=first+1;i<last;i++){var sqDist=getSqSegDist(points[i],points[first],points[last]);sqDist>maxSqDist&&(index=i,maxSqDist=sqDist)}maxSqDist>sqTolerance&&(index-first>1&&simplifyDPStep(points,first,index,sqTolerance,simplified),simplified.push(points[index]),last-index>1&&simplifyDPStep(points,index,last,sqTolerance,simplified))}function simplifyDouglasPeucker(points,sqTolerance){var last=points.length-1,simplified=[points[0]];return simplifyDPStep(points,0,last,sqTolerance,simplified),simplified.push(points[last]),simplified}function simplify(points,tolerance,highestQuality){if(points.length<=2)return points;var sqTolerance=void 0!==tolerance?tolerance*tolerance:1;return points=simplifyDouglasPeucker(points=highestQuality?points:simplifyRadialDist(points,sqTolerance),sqTolerance)}function simplify2(geojson,options={}){var _a,_b,_c;if(!esm_isObject(options=null!=options?options:{}))throw new Error("options is invalid");const tolerance=null!=(_a=options.tolerance)?_a:1,highQuality=null!=(_b=options.highQuality)&&_b,mutate=null!=(_c=options.mutate)&&_c;if(!geojson)throw new Error("geojson is required");if(tolerance&&tolerance<0)throw new Error("invalid tolerance");return!0!==mutate&&(geojson=clone(geojson)),geomEach(geojson,(function(geom){simplifyGeom(geom,tolerance,highQuality)})),geojson}function simplifyGeom(geometry,tolerance,highQuality){const type=geometry.type;if("Point"===type||"MultiPoint"===type)return geometry;if(cleanCoords(geometry,{mutate:!0}),"GeometryCollection"!==type)switch(type){case"LineString":geometry.coordinates=simplify(geometry.coordinates,tolerance,highQuality);break;case"MultiLineString":geometry.coordinates=geometry.coordinates.map((lines=>simplify(lines,tolerance,highQuality)));break;case"Polygon":geometry.coordinates=simplifyPolygon(geometry.coordinates,tolerance,highQuality);break;case"MultiPolygon":geometry.coordinates=geometry.coordinates.map((rings=>simplifyPolygon(rings,tolerance,highQuality)))}return geometry}function simplifyPolygon(coordinates,tolerance,highQuality){return coordinates.map((function(ring){if(ring.length<4)throw new Error("invalid polygon");let ringTolerance=tolerance,simpleRing=simplify(ring,ringTolerance,highQuality);for(;!checkValidity(simpleRing);)ringTolerance-=.01*ringTolerance,simpleRing=simplify(ring,ringTolerance,highQuality);return simpleRing[simpleRing.length-1][0]===simpleRing[0][0]&&simpleRing[simpleRing.length-1][1]===simpleRing[0][1]||simpleRing.push(simpleRing[0]),simpleRing}))}function checkValidity(ring){return!(ring.length<3)&&!(3===ring.length&&ring[2][0]===ring[0][0]&&ring[2][1]===ring[0][1])}simplify_dist_esm_name(getSqDist,"getSqDist"),simplify_dist_esm_name(getSqSegDist,"getSqSegDist"),simplify_dist_esm_name(simplifyRadialDist,"simplifyRadialDist"),simplify_dist_esm_name(simplifyDPStep,"simplifyDPStep"),simplify_dist_esm_name(simplifyDouglasPeucker,"simplifyDouglasPeucker"),simplify_dist_esm_name(simplify,"simplify"),simplify_dist_esm_name(simplify2,"simplify"),simplify_dist_esm_name(simplifyGeom,"simplifyGeom"),simplify_dist_esm_name(simplifyPolygon,"simplifyPolygon"),simplify_dist_esm_name(checkValidity,"checkValidity");var turf_simplify_default=simplify2},"./node_modules/@vivaxy/png/lib/decode/decode-idat.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pako=__webpack_require__("./node_modules/pako/index.js"),color_types_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/color-types.js"),filters_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/filters.js"),rescale_sample_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/rescale-sample.js"),channels_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/channels.js"),interlace_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/interlace.js");exports.default=function decodeIDAT(deflatedData,interlace,colorType,width,height,depth,palette,transparent){let pixels=[];const inflatedData=pako.inflate(deflatedData),images=interlace_1.buildImages(interlace,width,height),bitPerPixel=color_types_1.COLOR_TYPES_TO_CHANNEL_PER_PIXEL[colorType]*depth,bytePerPixel=bitPerPixel>>3||1;let dataIndex=0,prevUnfilteredLine=new Uint8Array;for(let imageIndex=0;imageIndex<images.length;imageIndex++){const{passWidth:passWidth,passHeight:passHeight,passIndex:passIndex}=images[imageIndex];for(let heightIndex=0;heightIndex<passHeight;heightIndex++){const scanlineWidth=(passWidth*bitPerPixel+7>>3)+filters_1.FILTER_LENGTH,filterType=inflatedData[dataIndex];if(!(filterType in filters_1.FILTER_TYPES))throw new Error("Unsupported filter type: "+filterType);const unfilteredLine=(0,filters_1.unfilters[filterType])(inflatedData.slice(dataIndex+1,dataIndex+scanlineWidth),bytePerPixel,prevUnfilteredLine);prevUnfilteredLine=unfilteredLine;let channelIndex=0;const channels=channels_1.typedArrayToChannels(unfilteredLine,depth);function getPixelFromChannels(){if(colorType===color_types_1.COLOR_TYPES.GRAYSCALE){const color=rescale_sample_1.default(channels[channelIndex++],depth,8);return[color,color,color,255]}if(colorType===color_types_1.COLOR_TYPES.TRUE_COLOR)return[rescale_sample_1.default(channels[channelIndex++],depth,8),rescale_sample_1.default(channels[channelIndex++],depth,8),rescale_sample_1.default(channels[channelIndex++],depth,8),255];if(colorType===color_types_1.COLOR_TYPES.PALETTE){const paletteIndex=channels[channelIndex++];if(!palette)throw new Error("Mising chunk: PLTE");return palette[paletteIndex]}if(colorType===color_types_1.COLOR_TYPES.GRAYSCALE_WITH_ALPHA){const color=rescale_sample_1.default(channels[channelIndex++],depth,8);return[color,color,color,rescale_sample_1.default(channels[channelIndex++],depth,8)]}if(colorType===color_types_1.COLOR_TYPES.TRUE_COLOR_WITH_ALPHA)return[rescale_sample_1.default(channels[channelIndex++],depth,8),rescale_sample_1.default(channels[channelIndex++],depth,8),rescale_sample_1.default(channels[channelIndex++],depth,8),rescale_sample_1.default(channels[channelIndex++],depth,8)];throw new Error("Unsupported color type: "+colorType)}for(let widthIndex=0;widthIndex<passWidth;widthIndex++){const pixel=getPixelFromChannels();transparent&&pixel[0]===transparent[0]&&pixel[1]===transparent[1]&&pixel[2]===transparent[2]&&(pixel[3]=0);const pixelIndex=interlace_1.getPixelIndex(interlace,width,passIndex,widthIndex,heightIndex);for(let i=0;i<pixel.length;i++)pixels[pixelIndex+i]=pixel[i]}dataIndex+=scanlineWidth}}return pixels}},"./node_modules/@vivaxy/png/lib/decode/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pako=__webpack_require__("./node_modules/pako/index.js"),crc32_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/crc32.js"),decode_idat_1=__webpack_require__("./node_modules/@vivaxy/png/lib/decode/decode-idat.js"),signature_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/signature.js"),gamma_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/gamma.js"),color_types_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/color-types.js"),rescale_sample_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/rescale-sample.js"),utf8_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/utf8.js"),typed_array_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/typed-array.js"),chromaticities_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/chromaticities.js");exports.default=function decode(arrayBuffer){const typedArray=new Uint8Array(arrayBuffer);let idatUint8Array=new Uint8Array;const metadata={width:0,height:0,depth:0,colorType:0,compression:0,interlace:0,filter:0,data:[]};let index=0;function readUInt32BE(){return typedArray[index++]<<24|typedArray[index++]<<16|typedArray[index++]<<8|typedArray[index++]}function readUInt16BE(){return typedArray[index++]<<8|typedArray[index++]}function readUInt8(){return typedArray[index++]}function readStringBeforeNull(maxLength){const maxIndex=index+maxLength;let result="";for(;index<maxIndex;){const byte=readUInt8();if(0===byte)break;result+=String.fromCharCode(byte)}return result}function readCompressedData(endIndex){const compressedData=typedArray.slice(index,endIndex);return index=endIndex,pako.inflate(compressedData)}for(;index<signature_1.default.length;index++)if(typedArray[index]!==signature_1.default[index])throw new Error(`Invalid file signature, at position ${index}: ${typedArray[index]} !== ${signature_1.default[index]}`);const chunkHandlers={IHDR:function parseIHDR(){metadata.width=readUInt32BE(),metadata.height=readUInt32BE(),metadata.depth=readUInt8();const colorType=readUInt8();if(!(colorType in color_types_1.COLOR_TYPES))throw new Error("Unsupported color type: "+colorType);metadata.colorType=colorType,metadata.compression=readUInt8(),metadata.filter=readUInt8(),metadata.interlace=readUInt8()},PLTE:function parsePLTE(length){const palette=[];for(let i=0;i<length;i+=3)palette.push([typedArray[index++],typedArray[index++],typedArray[index++],255]);metadata.palette=palette},IDAT:function parseIDAT(length){idatUint8Array=typed_array_1.concatUInt8Array(idatUint8Array,typedArray.slice(index,index+length)),index+=length},IEND:function parseIEND(length){index+=length},tRNS:function parseTRNS(length){if(metadata.colorType===color_types_1.COLOR_TYPES.GRAYSCALE){const color=rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8);metadata.transparent=[color,color,color,255]}else if(metadata.colorType===color_types_1.COLOR_TYPES.TRUE_COLOR)metadata.transparent=[rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8),rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8),rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8),255];else if(metadata.colorType===color_types_1.COLOR_TYPES.PALETTE){if(!metadata.palette)throw new Error("Missing chunk: PLTE");for(let i=0;i<length;i++)metadata.palette[i][3]=typedArray[index++]}},cHRM:function parseCHRM(){metadata.chromaticities={white:{x:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION,y:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION},red:{x:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION,y:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION},green:{x:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION,y:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION},blue:{x:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION,y:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION}}},gAMA:function parseGAMA(){metadata.gamma=readUInt32BE()/gamma_1.GAMMA_DIVISION},iCCP:function parseICCP(length){const endIndex=index+length,profileName=readStringBeforeNull(80);readUInt8();const profile=readCompressedData(endIndex);metadata.icc={name:profileName,profile:Array.from(profile)}},sBIT:function parseSBIT(){if(metadata.colorType===color_types_1.COLOR_TYPES.GRAYSCALE){const sBit=readUInt8();metadata.significantBits=[sBit,sBit,sBit,metadata.depth]}else if(metadata.colorType===color_types_1.COLOR_TYPES.TRUE_COLOR||metadata.colorType===color_types_1.COLOR_TYPES.PALETTE)metadata.significantBits=[readUInt8(),readUInt8(),readUInt8(),metadata.depth];else if(metadata.colorType===color_types_1.COLOR_TYPES.GRAYSCALE_WITH_ALPHA){const sBit=readUInt8();metadata.significantBits=[sBit,sBit,sBit,readUInt8()]}else metadata.colorType===color_types_1.COLOR_TYPES.TRUE_COLOR_WITH_ALPHA&&(metadata.significantBits=[readUInt8(),readUInt8(),readUInt8(),readUInt8()])},sRGB:function parseSRGB(){metadata.sRGB=readUInt8()},tEXt:function parseTEXT(length){const endIndex=index+length,keyword=readStringBeforeNull(80),value=function readStringBeforeEnd(endIndex){let result="";for(;index<endIndex;){const byte=readUInt8();result+=String.fromCharCode(byte)}return result}(endIndex);metadata.text||(metadata.text={});metadata.text[keyword]=value},zTXt:function parseZTXT(length){const endIndex=index+length,keyword=readStringBeforeNull(80);readUInt8();const data=readCompressedData(endIndex);let value="";for(let i=0;i<data.length;i++)value+=String.fromCharCode(data[i]);metadata.compressedText||(metadata.compressedText={});metadata.compressedText[keyword]=value},iTXt:function parseITXT(length){const endIndex=index+length,keyword=readStringBeforeNull(80),compressionFlag=readUInt8(),languageTag=(readUInt8(),readStringBeforeNull(1/0)),translatedKeyword=utf8_1.decode(function readBytesBeforeNull(){const results=[];let byte=0;for(;0!==(byte=typedArray[index++]);)results.push(byte);return new Uint8Array(results)}());let text="";if(0===compressionFlag)text=utf8_1.decode(typedArray.slice(index,endIndex)),index=endIndex;else{const data=readCompressedData(endIndex);text=utf8_1.decode(data)}metadata.internationalText||(metadata.internationalText={});metadata.internationalText[keyword]={languageTag:languageTag,translatedKeyword:translatedKeyword,text:text}},bKGD:function parseBKGD(){if((3&metadata.colorType)===color_types_1.COLOR_TYPES.GRAYSCALE){const color=rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8);metadata.background=[color,color,color,255]}else if((3&metadata.colorType)===color_types_1.COLOR_TYPES.TRUE_COLOR)metadata.background=[rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8),rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8),rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8),255];else if(metadata.colorType===color_types_1.COLOR_TYPES.PALETTE){if(!metadata.palette)throw new Error("Missing chunk: PLTE");metadata.background=metadata.palette[typedArray[index++]]}},hIST:function parseHIST(length){const endIndex=index+length,histogram=[];for(;index<endIndex;)histogram.push(readUInt16BE());metadata.histogram=histogram},pHYs:function parsePHYS(){const pixelPerUnitX=readUInt32BE(),pixelPerUnitY=readUInt32BE(),unit=readUInt8();metadata.physicalDimensions={pixelPerUnitX:pixelPerUnitX,pixelPerUnitY:pixelPerUnitY,unit:unit}},sPLT:function parseSPLT(length){const endIndex=index+length,name=readStringBeforeNull(80),depth=readUInt8(),palette=[];if(8===depth)for(;index<endIndex;)palette.push([readUInt8(),readUInt8(),readUInt8(),readUInt8(),readUInt16BE()]);else if(16===depth)for(;index<endIndex;)palette.push([readUInt16BE(),readUInt16BE(),readUInt16BE(),readUInt16BE(),readUInt16BE()]);metadata.suggestedPalette={name:name,depth:depth,palette:palette}},tIME:function parseTIME(){const year=readUInt16BE(),month=readUInt8(),day=readUInt8(),hour=readUInt8(),minute=readUInt8(),second=readUInt8();metadata.lastModificationTime=Date.UTC(year,month-1,day,hour,minute,second)}};function parseChunkBegin(){const startIndex=index,length=readUInt32BE(),type=function readChunkType(){let name="";for(const end=index+4;index<end;index++)name+=String.fromCharCode(typedArray[index]);return name}();if(chunkHandlers[type])chunkHandlers[type](length);else{Boolean(32&type.charCodeAt(0));index+=length}!function parseChunkEnd(startIndex,length){const fileCrc32=readUInt32BE(),calculatedCrc32=crc32_1.default(typedArray.slice(startIndex+4,startIndex+8+length));if(fileCrc32!==calculatedCrc32)throw new Error("Crc32 error: calculated "+calculatedCrc32+", expected "+fileCrc32);index<typedArray.length&&parseChunkBegin()}(startIndex,length)}return parseChunkBegin(),metadata.data=decode_idat_1.default(idatUint8Array,metadata.interlace,metadata.colorType,metadata.width,metadata.height,metadata.depth,metadata.palette,metadata.transparent),metadata}},"./node_modules/@vivaxy/png/lib/encode/encode-idat.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pako=__webpack_require__("./node_modules/pako/index.js"),rescale_sample_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/rescale-sample.js"),typed_array_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/typed-array.js"),channels_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/channels.js"),interlace_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/interlace.js"),filters_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/filters.js"),color_types_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/color-types.js");exports.default=function encodeIDAT(data,width,height,colorType,depth,interlace,palette){let typedArray=new Uint8Array;const channelPerPixel=color_types_1.COLOR_TYPES_TO_CHANNEL_PER_PIXEL[colorType],bytePerPixel=channelPerPixel*depth>>3||1,images=interlace_1.buildImages(interlace,width,height);for(let imageIndex=0;imageIndex<images.length;imageIndex++){let prevUnfilteredLine=new Uint8Array;const{passWidth:passWidth,passHeight:passHeight,passIndex:passIndex}=images[imageIndex],scanlineWidth=(passWidth*channelPerPixel*depth+7>>3)+filters_1.FILTER_LENGTH;for(let heightIndex=0;heightIndex<passHeight;heightIndex++){const channels=[];for(let widthIndex=0;widthIndex<passWidth;widthIndex++){const pixelIndex=interlace_1.getPixelIndex(interlace,width,passIndex,widthIndex,heightIndex),pixel=data.slice(pixelIndex,pixelIndex+4);if(colorType===color_types_1.COLOR_TYPES.GRAYSCALE)channels.push(rescale_sample_1.default(pixel[0],8,depth));else if(colorType===color_types_1.COLOR_TYPES.TRUE_COLOR)channels.push(rescale_sample_1.default(pixel[0],8,depth),rescale_sample_1.default(pixel[1],8,depth),rescale_sample_1.default(pixel[2],8,depth));else if(colorType===color_types_1.COLOR_TYPES.PALETTE){if(!palette)throw new Error("Palette is required");let paletteIndex=-1;for(let i=0;i<palette.length;i++){const paletteColor=palette[i];paletteColor[0]===pixel[0]&&paletteColor[1]===pixel[1]&&paletteColor[2]==pixel[2]&&paletteColor[3]===pixel[3]&&(paletteIndex=i)}if(-1===paletteIndex)throw new Error("Invalid palette. Color ("+pixel.join(", ")+") is not in palette");channels.push(paletteIndex)}else colorType===color_types_1.COLOR_TYPES.GRAYSCALE_WITH_ALPHA?channels.push(rescale_sample_1.default(pixel[0],8,depth),rescale_sample_1.default(pixel[3],8,depth)):colorType===color_types_1.COLOR_TYPES.TRUE_COLOR_WITH_ALPHA&&channels.push(rescale_sample_1.default(pixel[0],8,depth),rescale_sample_1.default(pixel[1],8,depth),rescale_sample_1.default(pixel[2],8,depth),rescale_sample_1.default(pixel[3],8,depth))}const unfilteredLine=channels_1.channelsToTypedArray(channels,depth,scanlineWidth-filters_1.FILTER_LENGTH);let minFilterSum=1/0,filteredLine=new Uint8Array,filterType=0;const filterTypes=[filters_1.FILTER_TYPES.NONE,filters_1.FILTER_TYPES.SUB,filters_1.FILTER_TYPES.UP,filters_1.FILTER_TYPES.AVERAGE,filters_1.FILTER_TYPES.PAETH];for(let filterIndex=0;filterIndex<filterTypes.length;filterIndex++){const currentFilterType=filterTypes[filterIndex],{sum:sum,filtered:filtered}=filters_1.filters[currentFilterType](unfilteredLine,bytePerPixel,prevUnfilteredLine);sum<minFilterSum&&(minFilterSum=sum,filteredLine=filtered,filterType=currentFilterType)}prevUnfilteredLine=unfilteredLine,typedArray=typed_array_1.concatUInt8Array(typedArray,typed_array_1.concatUInt8Array(new Uint8Array([filterType]),filteredLine))}}return pako.deflate(typedArray)}},"./node_modules/@vivaxy/png/lib/encode/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pako=__webpack_require__("./node_modules/pako/index.js"),crc32_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/crc32.js"),encode_idat_1=__webpack_require__("./node_modules/@vivaxy/png/lib/encode/encode-idat.js"),signature_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/signature.js"),gamma_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/gamma.js"),color_types_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/color-types.js"),rescale_sample_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/rescale-sample.js"),utf8_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/utf8.js"),typed_array_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/typed-array.js"),chromaticities_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/chromaticities.js");exports.default=function encode(metadata){let typedArray=new Uint8Array(signature_1.default);function packUInt32BE(value){return new Uint8Array([value>>24&255,value>>16&255,value>>8&255,255&value])}function packUInt8(value){return new Uint8Array([255&value])}function packString(name){const data=new Uint8Array(name.length);for(let i=0;i<name.length;i++)data[i]=name.charCodeAt(i);return data}const chunkPackers={IHDR:function packIHDR(){let data=new Uint8Array;return data=typed_array_1.concatUInt8Array(data,packUInt32BE(metadata.width)),data=typed_array_1.concatUInt8Array(data,packUInt32BE(metadata.height)),data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.depth)),data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.colorType)),data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.compression)),data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.filter)),data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.interlace)),data},tIME:function packTIME(){if(!metadata.lastModificationTime)return new Uint8Array;const data=new Uint8Array(7),date=new Date(metadata.lastModificationTime),year=date.getUTCFullYear();return data[0]=year>>8&255,data[1]=255&year,data[2]=date.getUTCMonth()+1,data[3]=date.getUTCDate(),data[4]=date.getUTCHours(),data[5]=date.getUTCMinutes(),data[6]=date.getUTCSeconds(),data},sRGB:function packSRGB(){if(void 0!==metadata.sRGB)return packUInt8(metadata.sRGB);return new Uint8Array},pHYs:function packPHYS(){let data=new Uint8Array;metadata.physicalDimensions&&(data=typed_array_1.concatUInt8Array(data,packUInt32BE(metadata.physicalDimensions.pixelPerUnitX)),data=typed_array_1.concatUInt8Array(data,packUInt32BE(metadata.physicalDimensions.pixelPerUnitY)),data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.physicalDimensions.unit)));return data},sPLT:function packSPLT(){if(!metadata.suggestedPalette)return new Uint8Array;let data=typed_array_1.concatUInt8Array(packString(metadata.suggestedPalette.name),packUInt8(0));data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.suggestedPalette.depth));for(let i=0;i<metadata.suggestedPalette.palette.length;i++){const palette=metadata.suggestedPalette.palette[i];if(8===metadata.suggestedPalette.depth){const paletteData=new Uint8Array([palette[0],palette[1],palette[2],palette[3],palette[4]>>8&255,255&palette[4]]);data=typed_array_1.concatUInt8Array(data,paletteData)}else if(16===metadata.suggestedPalette.depth){const paletteData=new Uint8Array(10);for(let i=0;i<5;i++)paletteData[2*i]=palette[i]>>8&255,paletteData[2*i+1]=255&palette[i];data=typed_array_1.concatUInt8Array(data,paletteData)}}return data},iCCP:function packICCP(){if(!metadata.icc)return new Uint8Array;let data=packString(metadata.icc.name);return data=typed_array_1.concatUInt8Array(data,packUInt8(0)),data=typed_array_1.concatUInt8Array(data,packUInt8(0)),data=typed_array_1.concatUInt8Array(data,pako.deflate(metadata.icc.profile)),data},sBIT:function packSBIT(){if(!metadata.significantBits)return new Uint8Array;if(metadata.colorType===color_types_1.COLOR_TYPES.GRAYSCALE)return packUInt8(metadata.significantBits[0]);if(metadata.colorType===color_types_1.COLOR_TYPES.TRUE_COLOR||metadata.colorType===color_types_1.COLOR_TYPES.PALETTE){const data=new Uint8Array(3);for(let i=0;i<3;i++)data[i]=metadata.significantBits[i];return data}if(metadata.colorType===color_types_1.COLOR_TYPES.GRAYSCALE_WITH_ALPHA)return typed_array_1.concatUInt8Array(packUInt8(metadata.significantBits[0]),packUInt8(metadata.significantBits[3]));if(metadata.colorType===color_types_1.COLOR_TYPES.TRUE_COLOR_WITH_ALPHA){const data=new Uint8Array(4);for(let i=0;i<4;i++)data[i]=metadata.significantBits[i];return data}return new Uint8Array},gAMA:function packGAMA(){if(void 0!==metadata.gamma)return packUInt32BE(metadata.gamma*gamma_1.GAMMA_DIVISION);return new Uint8Array},cHRM:function packCHRM(){if(!metadata.chromaticities)return new Uint8Array;const{chromaticities:chromaticities}=metadata;let data=new Uint8Array;return["white","red","green","blue"].forEach((function(color){["x","y"].forEach((function(axis){data=typed_array_1.concatUInt8Array(data,packUInt32BE(chromaticities[color][axis]*chromaticities_1.CHROMATICITIES_DIVISION))}))})),data},PLTE:function packPLTE(){const data=[];if(metadata.palette)for(let i=0;i<metadata.palette.length;i++){const palette=metadata.palette[i];data.push(palette[0],palette[1],palette[2])}return new Uint8Array(data)},tRNS:function packTRNS(){const data=[];if(metadata.colorType===color_types_1.COLOR_TYPES.GRAYSCALE){if(metadata.transparent){const color=rescale_sample_1.default(metadata.transparent[0],8,metadata.depth);data.push(color>>8&255,255&color)}}else if(metadata.colorType===color_types_1.COLOR_TYPES.TRUE_COLOR){if(metadata.transparent)for(let i=0;i<3;i++){const color=rescale_sample_1.default(metadata.transparent[i],8,metadata.depth);data.push(color>>8&255,255&color)}}else if(metadata.colorType===color_types_1.COLOR_TYPES.PALETTE){if(!metadata.palette)throw new Error("Palette is required");const{palette:palette}=metadata;let transparent=!1;for(let i=0;i<palette.length;i++)data.push(palette[i][3]),255!==palette[i][3]&&(transparent=!0);if(!transparent)return new Uint8Array}return new Uint8Array(data)},hIST:function packHIST(){const data=[];metadata.histogram&&metadata.histogram.forEach((function(value){data.push(value>>8&255,255&value)}));return new Uint8Array},bKGD:function packBKGD(){if(!metadata.background)return new Uint8Array;if((3&metadata.colorType)===color_types_1.COLOR_TYPES.GRAYSCALE){return function packUInt16BE(value){return new Uint8Array([value>>8&255,255&value])}(rescale_sample_1.default(metadata.background[0],8,metadata.depth))}if((3&metadata.colorType)===color_types_1.COLOR_TYPES.TRUE_COLOR){const data=new Uint8Array(6);for(let i=0;i<3;i++){const color=rescale_sample_1.default(metadata.background[i],8,metadata.depth);data[2*i]=color>>8&255,data[2*i+1]=255&color}return data}if(metadata.colorType===color_types_1.COLOR_TYPES.PALETTE){if(!metadata.palette)throw new Error("Missing chunk: PLTE");let index=-1;for(let paletteIndex=0;paletteIndex<metadata.palette.length;paletteIndex++)for(let i=0;i<4;i++)if(metadata.palette[paletteIndex][i]===metadata.background[i]){index=paletteIndex;break}if(-1===index)throw new Error("Background not in palette");return packUInt8(index)}return new Uint8Array},IDAT:function packIDAT(){return encode_idat_1.default(metadata.data,metadata.width,metadata.height,metadata.colorType,metadata.depth,metadata.interlace,metadata.palette)},IEND:function packIEND(){return new Uint8Array}};function addChunk(chunkName,data){const nameData=packString(chunkName),lengthData=packUInt32BE(data.length),typeAndData=typed_array_1.concatUInt8Array(nameData,data),endData=packUInt32BE(crc32_1.default(typeAndData)),chunkData=typed_array_1.concatUInt8Array(typed_array_1.concatUInt8Array(lengthData,typeAndData),endData);typedArray=typed_array_1.concatUInt8Array(typedArray,chunkData)}return metadata.text&&Object.keys(metadata.text).forEach((function(keyword){let data=typed_array_1.concatUInt8Array(packString(keyword),packUInt8(0));data=typed_array_1.concatUInt8Array(data,packString(metadata.text[keyword])),addChunk("tEXt",data)})),metadata.compressedText&&Object.keys(metadata.compressedText).forEach((function(keyword){let data=typed_array_1.concatUInt8Array(packString(keyword),packUInt8(0));data=typed_array_1.concatUInt8Array(data,packUInt8(0)),data=typed_array_1.concatUInt8Array(data,pako.deflate(packString(metadata.compressedText[keyword]))),addChunk("zTXt",data)})),metadata.internationalText&&Object.keys(metadata.internationalText).forEach((function(keyword){const{languageTag:languageTag,translatedKeyword:translatedKeyword,text:text}=metadata.internationalText[keyword],textData=utf8_1.encode(text),compressedTextData=pako.deflate(textData),compressionFlag=compressedTextData.length<textData.length?1:0;let data=typed_array_1.concatUInt8Array(packString(keyword),packUInt8(0));data=typed_array_1.concatUInt8Array(data,packUInt8(compressionFlag)),data=typed_array_1.concatUInt8Array(data,packUInt8(0)),data=typed_array_1.concatUInt8Array(data,packString(languageTag)),data=typed_array_1.concatUInt8Array(data,packUInt8(0)),data=typed_array_1.concatUInt8Array(data,utf8_1.encode(translatedKeyword)),data=typed_array_1.concatUInt8Array(data,packUInt8(0)),data=typed_array_1.concatUInt8Array(data,compressionFlag?compressedTextData:textData),addChunk("iTXt",data)})),Object.keys(chunkPackers).forEach((function(chunkName){const data=chunkPackers[chunkName]();(data.length>0||"IEND"===chunkName)&&addChunk(chunkName,data)})),typedArray}},"./node_modules/@vivaxy/png/lib/helpers/channels.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.typedArrayToChannels=function typedArrayToChannels(typedArray,depth){const channels=[];let typedArrayIndex=0;for(;typedArrayIndex<typedArray.length;)if(1===depth){const uint8=typedArray[typedArrayIndex++];channels.push(uint8>>7&1,uint8>>6&1,uint8>>5&1,uint8>>4&1,uint8>>3&1,uint8>>2&1,uint8>>1&1,1&uint8)}else if(2===depth){const uint8=typedArray[typedArrayIndex++];channels.push(uint8>>6&3,uint8>>4&3,uint8>>2&3,3&uint8)}else if(4===depth){const uint8=typedArray[typedArrayIndex++];channels.push(uint8>>4&15,15&uint8)}else if(8===depth){const uint8=typedArray[typedArrayIndex++];channels.push(uint8)}else{if(16!==depth)throw new Error("Unsupported depth: "+depth);channels.push(typedArray[typedArrayIndex++]<<8|typedArray[typedArrayIndex++])}return channels},exports.channelsToTypedArray=function channelsToTypedArray(channels,depth,dataLength){const typedArray=new Uint8Array(dataLength);let typedArrayIndex=0,channelIndex=0;for(;channelIndex<channels.length;)if(1===depth)typedArray[typedArrayIndex++]=(1&channels[channelIndex++])<<7|(1&channels[channelIndex++])<<6|(1&channels[channelIndex++])<<5|(1&channels[channelIndex++])<<4|(1&channels[channelIndex++])<<3|(1&channels[channelIndex++])<<2|(1&channels[channelIndex++])<<1|1&channels[channelIndex++];else if(2===depth)typedArray[typedArrayIndex++]=(3&channels[channelIndex++])<<6|(3&channels[channelIndex++])<<4|(3&channels[channelIndex++])<<2|3&channels[channelIndex++];else if(4===depth)typedArray[typedArrayIndex++]=(15&channels[channelIndex++])<<4|15&channels[channelIndex++];else if(8===depth)typedArray[typedArrayIndex++]=channels[channelIndex++];else{if(16!==depth)throw new Error("Unsupported depth: "+depth);{const channel=channels[channelIndex++];typedArray[typedArrayIndex++]=channel>>8&255,typedArray[typedArrayIndex++]=255&channel}}return typedArray}},"./node_modules/@vivaxy/png/lib/helpers/chromaticities.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CHROMATICITIES_DIVISION=1e5},"./node_modules/@vivaxy/png/lib/helpers/color-types.js":function(__unused_webpack_module,exports){"use strict";var COLOR_TYPES;Object.defineProperty(exports,"__esModule",{value:!0}),function(COLOR_TYPES){COLOR_TYPES[COLOR_TYPES.GRAYSCALE=0]="GRAYSCALE",COLOR_TYPES[COLOR_TYPES.TRUE_COLOR=2]="TRUE_COLOR",COLOR_TYPES[COLOR_TYPES.PALETTE=3]="PALETTE",COLOR_TYPES[COLOR_TYPES.GRAYSCALE_WITH_ALPHA=4]="GRAYSCALE_WITH_ALPHA",COLOR_TYPES[COLOR_TYPES.TRUE_COLOR_WITH_ALPHA=6]="TRUE_COLOR_WITH_ALPHA"}(COLOR_TYPES=exports.COLOR_TYPES||(exports.COLOR_TYPES={})),exports.COLOR_TYPES_TO_CHANNEL_PER_PIXEL={[COLOR_TYPES.GRAYSCALE]:1,[COLOR_TYPES.TRUE_COLOR]:3,[COLOR_TYPES.PALETTE]:1,[COLOR_TYPES.GRAYSCALE_WITH_ALPHA]:2,[COLOR_TYPES.TRUE_COLOR_WITH_ALPHA]:4}},"./node_modules/@vivaxy/png/lib/helpers/crc32.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const crcTable=[];for(let i=0;i<256;i++){let currentCrc=i;for(let j=0;j<8;j++)1&currentCrc?currentCrc=3988292384^currentCrc>>>1:currentCrc>>>=1;crcTable[i]=currentCrc}exports.default=function crc32(buf){let crc=-1;for(let i=0;i<buf.length;i++)crc=crcTable[255&(crc^buf[i])]^crc>>>8;return-1^crc}},"./node_modules/@vivaxy/png/lib/helpers/filters.js":function(__unused_webpack_module,exports){"use strict";var FILTER_TYPES;function paeth(left,above,upperLeft){const p=left+above-upperLeft,pa=Math.abs(p-left),pb=Math.abs(p-above),pc=Math.abs(p-upperLeft);return pa<=pb&&pa<=pc?left:pb<=pc?above:upperLeft}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FILTER_LENGTH=1,function(FILTER_TYPES){FILTER_TYPES[FILTER_TYPES.NONE=0]="NONE",FILTER_TYPES[FILTER_TYPES.SUB=1]="SUB",FILTER_TYPES[FILTER_TYPES.UP=2]="UP",FILTER_TYPES[FILTER_TYPES.AVERAGE=3]="AVERAGE",FILTER_TYPES[FILTER_TYPES.PAETH=4]="PAETH"}(FILTER_TYPES=exports.FILTER_TYPES||(exports.FILTER_TYPES={})),exports.unfilters={[FILTER_TYPES.NONE](data){return data},[FILTER_TYPES.SUB](data,bytePerPixel){const unfiltered=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const left=unfiltered[i-bytePerPixel]||0;unfiltered[i]=data[i]+left}return unfiltered},[FILTER_TYPES.UP](data,bytePerPixel,prevUnfilteredLine){const unfilteredLine=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const up=prevUnfilteredLine[i]||0;unfilteredLine[i]=up+data[i]}return unfilteredLine},[FILTER_TYPES.AVERAGE](data,bytePerPixel,prevUnfilteredLine){const unfilteredLine=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const avg=(unfilteredLine[i-bytePerPixel]||0)+(prevUnfilteredLine[i]||0)>>1;unfilteredLine[i]=data[i]+avg}return unfilteredLine},[FILTER_TYPES.PAETH](data,bytePerPixel,prevUnfilteredLine){const unfilteredLine=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const p=paeth(unfilteredLine[i-bytePerPixel]||0,prevUnfilteredLine[i],prevUnfilteredLine[i-bytePerPixel]||0);unfilteredLine[i]=data[i]+p}return unfilteredLine}},exports.filters={[FILTER_TYPES.NONE](data){let sum=0;for(let i=0;i<data.length;i++)sum+=data[i];return{sum:sum,filtered:data}},[FILTER_TYPES.SUB](data,bytePerPixel){let sum=0;const filtered=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const left=data[i-bytePerPixel]||0;filtered[i]=data[i]-left,sum+=filtered[i]}return{sum:sum,filtered:filtered}},[FILTER_TYPES.UP](data,bytePerPixel,prevUnfilteredLine){let sum=0;const filtered=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const up=prevUnfilteredLine[i]||0;filtered[i]=data[i]-up,sum+=filtered[i]}return{sum:sum,filtered:filtered}},[FILTER_TYPES.AVERAGE](data,bytePerPixel,prevUnfilteredLine){let sum=0;const filtered=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const avg=(data[i-bytePerPixel]||0)+(prevUnfilteredLine[i]||0)>>1;filtered[i]=data[i]-avg,sum+=filtered[i]}return{sum:sum,filtered:filtered}},[FILTER_TYPES.PAETH](data,bytePerPixel,prevUnfilteredLine){let sum=0;const filtered=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const p=paeth(data[i-bytePerPixel]||0,prevUnfilteredLine[i]||0,prevUnfilteredLine[i-bytePerPixel]||0);filtered[i]=data[i]-p,sum+=filtered[i]}return{sum:sum,filtered:filtered}}}},"./node_modules/@vivaxy/png/lib/helpers/gamma.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GAMMA_DIVISION=1e5},"./node_modules/@vivaxy/png/lib/helpers/interlace.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const ADAM7_PASSES=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];exports.buildImages=function buildImages(interlace,width,height){if(!interlace)return[{passWidth:width,passHeight:height,passIndex:0}];const images=[];return ADAM7_PASSES.forEach((function({x:x,y:y},passIndex){const remainingX=width%8,remainingY=height%8,repeatY=height-remainingY>>3;let passWidth=(width-remainingX>>3)*x.length;for(let i=0;i<x.length&&x[i]<remainingX;i++)passWidth++;let passHeight=repeatY*y.length;for(let i=0;i<y.length&&y[i]<remainingY;i++)passHeight++;passWidth&&passHeight&&images.push({passWidth:passWidth,passHeight:passHeight,passIndex:passIndex})})),images},exports.getPixelIndex=function getPixelIndex(interlace,width,passIndex,widthIndex,heightIndex){if(!interlace)return width*heightIndex+widthIndex<<2;const pass=ADAM7_PASSES[passIndex],remainingX=widthIndex%pass.x.length,remainingY=heightIndex%pass.y.length,repeatX=(widthIndex-remainingX)/pass.x.length,repeatY=(heightIndex-remainingY)/pass.y.length,offsetX=pass.x[remainingX];return width*((repeatY<<3)+pass.y[remainingY])+(repeatX<<3)+offsetX<<2}},"./node_modules/@vivaxy/png/lib/helpers/rescale-sample.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function rescaleSample(value,depthIn,depthOut){if(depthIn===depthOut)return value;const maxSampleIn=2**depthIn-1,maxSampleOut=2**depthOut-1;return Math.round(value*maxSampleOut/maxSampleIn)}},"./node_modules/@vivaxy/png/lib/helpers/signature.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=[137,80,78,71,13,10,26,10]},"./node_modules/@vivaxy/png/lib/helpers/typed-array.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concatUInt8Array=function concatUInt8Array(a,b){const concated=new Uint8Array(a.length+b.length);return concated.set(a),concated.set(b,a.length),concated}},"./node_modules/@vivaxy/png/lib/helpers/utf8.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.encode=function encode(string){let i=0,bytes=new Uint8Array(4*string.length);for(let ci=0;ci!=string.length;ci++){let c=string.charCodeAt(ci);if(c<128)bytes[i++]=c;else{if(c<2048)bytes[i++]=c>>6|192;else{if(c>55295&&c<56320){if(++ci>=string.length)throw new Error("UTF-8 encode: incomplete surrogate pair");const c2=string.charCodeAt(ci);if(c2<56320||c2>57343)throw new Error("UTF-8 encode: second surrogate character 0x"+c2.toString(16)+" at index "+ci+" out of range");c=65536+((1023&c)<<10)+(1023&c2),bytes[i++]=c>>18|240,bytes[i++]=c>>12&63|128}else bytes[i++]=c>>12|224;bytes[i++]=c>>6&63|128}bytes[i++]=63&c|128}}return bytes.subarray(0,i)},exports.decode=function decode(bytes){let i=0,s="";for(;i<bytes.length;){let c=bytes[i++];if(c>127)if(c>191&&c<224){if(i>=bytes.length)throw new Error("UTF-8 decode: incomplete 2-byte sequence");c=(31&c)<<6|63&bytes[i++]}else if(c>223&&c<240){if(i+1>=bytes.length)throw new Error("UTF-8 decode: incomplete 3-byte sequence");c=(15&c)<<12|(63&bytes[i++])<<6|63&bytes[i++]}else{if(!(c>239&&c<248))throw new Error("UTF-8 decode: unknown multibyte start 0x"+c.toString(16)+" at index "+(i-1));if(i+2>=bytes.length)throw new Error("UTF-8 decode: incomplete 4-byte sequence");c=(7&c)<<18|(63&bytes[i++])<<12|(63&bytes[i++])<<6|63&bytes[i++]}if(c<=65535)s+=String.fromCharCode(c);else{if(!(c<=1114111))throw new Error("UTF-8 decode: code point 0x"+c.toString(16)+" exceeds UTF-16 reach");c-=65536,s+=String.fromCharCode(c>>10|55296),s+=String.fromCharCode(1023&c|56320)}}return s}},"./node_modules/@vivaxy/png/lib/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";const decode_1=__webpack_require__("./node_modules/@vivaxy/png/lib/decode/index.js");exports.Jx=decode_1.default;__webpack_require__("./node_modules/@vivaxy/png/lib/encode/index.js").default},"./node_modules/array-buffer-byte-length/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $byteLength=__webpack_require__("./node_modules/call-bind/callBound.js")("ArrayBuffer.prototype.byteLength",!0),isArrayBuffer=__webpack_require__("./node_modules/is-array-buffer/index.js");module.exports=function byteLength(ab){return isArrayBuffer(ab)?$byteLength?$byteLength(ab):ab.byteLength:NaN}},"./node_modules/available-typed-arrays/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var possibleNames=__webpack_require__("./node_modules/possible-typed-array-names/index.js"),g="undefined"==typeof globalThis?__webpack_require__.g:globalThis;module.exports=function availableTypedArrays(){for(var out=[],i=0;i<possibleNames.length;i++)"function"==typeof g[possibleNames[i]]&&(out[out.length]=possibleNames[i]);return out}},"./node_modules/call-bind/callBound.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),callBind=__webpack_require__("./node_modules/call-bind/index.js"),$indexOf=callBind(GetIntrinsic("String.prototype.indexOf"));module.exports=function callBoundIntrinsic(name,allowMissing){var intrinsic=GetIntrinsic(name,!!allowMissing);return"function"==typeof intrinsic&&$indexOf(name,".prototype.")>-1?callBind(intrinsic):intrinsic}},"./node_modules/call-bind/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var bind=__webpack_require__("./node_modules/function-bind/index.js"),GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),setFunctionLength=__webpack_require__("./node_modules/set-function-length/index.js"),$TypeError=__webpack_require__("./node_modules/es-errors/type.js"),$apply=GetIntrinsic("%Function.prototype.apply%"),$call=GetIntrinsic("%Function.prototype.call%"),$reflectApply=GetIntrinsic("%Reflect.apply%",!0)||bind.call($call,$apply),$defineProperty=__webpack_require__("./node_modules/es-define-property/index.js"),$max=GetIntrinsic("%Math.max%");module.exports=function callBind(originalFunction){if("function"!=typeof originalFunction)throw new $TypeError("a function is required");var func=$reflectApply(bind,$call,arguments);return setFunctionLength(func,1+$max(0,originalFunction.length-(arguments.length-1)),!0)};var applyBind=function applyBind(){return $reflectApply(bind,$apply,arguments)};$defineProperty?$defineProperty(module.exports,"apply",{value:applyBind}):module.exports.apply=applyBind},"./node_modules/complex.js/complex.js":function(module,exports){var __WEBPACK_AMD_DEFINE_RESULT__;!function(root){"use strict";var cosh=Math.cosh||function(x){return Math.abs(x)<1e-9?1-x:.5*(Math.exp(x)+Math.exp(-x))},sinh=Math.sinh||function(x){return Math.abs(x)<1e-9?x:.5*(Math.exp(x)-Math.exp(-x))},parser_exit=function(){throw SyntaxError("Invalid Param")};function logHypot(a,b){var _a=Math.abs(a),_b=Math.abs(b);return 0===a?Math.log(_b):0===b?Math.log(_a):_a<3e3&&_b<3e3?.5*Math.log(a*a+b*b):(a/=2,b/=2,.5*Math.log(a*a+b*b)+Math.LN2)}function Complex(a,b){if(!(this instanceof Complex))return new Complex(a,b);var z=function(a,b){var z={re:0,im:0};if(null==a)z.re=z.im=0;else if(void 0!==b)z.re=a,z.im=b;else switch(typeof a){case"object":if("im"in a&&"re"in a)z.re=a.re,z.im=a.im;else if("abs"in a&&"arg"in a){if(!Number.isFinite(a.abs)&&Number.isFinite(a.arg))return Complex.INFINITY;z.re=a.abs*Math.cos(a.arg),z.im=a.abs*Math.sin(a.arg)}else if("r"in a&&"phi"in a){if(!Number.isFinite(a.r)&&Number.isFinite(a.phi))return Complex.INFINITY;z.re=a.r*Math.cos(a.phi),z.im=a.r*Math.sin(a.phi)}else 2===a.length?(z.re=a[0],z.im=a[1]):parser_exit();break;case"string":z.im=z.re=0;var tokens=a.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),plus=1,minus=0;null===tokens&&parser_exit();for(var i=0;i<tokens.length;i++){var c=tokens[i];" "===c||"\t"===c||"\n"===c||("+"===c?plus++:"-"===c?minus++:"i"===c||"I"===c?(plus+minus===0&&parser_exit()," "===tokens[i+1]||isNaN(tokens[i+1])?z.im+=parseFloat((minus%2?"-":"")+"1"):(z.im+=parseFloat((minus%2?"-":"")+tokens[i+1]),i++),plus=minus=0):((plus+minus===0||isNaN(c))&&parser_exit(),"i"===tokens[i+1]||"I"===tokens[i+1]?(z.im+=parseFloat((minus%2?"-":"")+c),i++):z.re+=parseFloat((minus%2?"-":"")+c),plus=minus=0))}plus+minus>0&&parser_exit();break;case"number":z.im=0,z.re=a;break;default:parser_exit()}return isNaN(z.re)||isNaN(z.im),z}(a,b);this.re=z.re,this.im=z.im}Complex.prototype={re:0,im:0,sign:function(){var abs=this.abs();return new Complex(this.re/abs,this.im/abs)},add:function(a,b){var z=new Complex(a,b);return this.isInfinite()&&z.isInfinite()?Complex.NAN:this.isInfinite()||z.isInfinite()?Complex.INFINITY:new Complex(this.re+z.re,this.im+z.im)},sub:function(a,b){var z=new Complex(a,b);return this.isInfinite()&&z.isInfinite()?Complex.NAN:this.isInfinite()||z.isInfinite()?Complex.INFINITY:new Complex(this.re-z.re,this.im-z.im)},mul:function(a,b){var z=new Complex(a,b);return this.isInfinite()&&z.isZero()||this.isZero()&&z.isInfinite()?Complex.NAN:this.isInfinite()||z.isInfinite()?Complex.INFINITY:0===z.im&&0===this.im?new Complex(this.re*z.re,0):new Complex(this.re*z.re-this.im*z.im,this.re*z.im+this.im*z.re)},div:function(a,b){var z=new Complex(a,b);if(this.isZero()&&z.isZero()||this.isInfinite()&&z.isInfinite())return Complex.NAN;if(this.isInfinite()||z.isZero())return Complex.INFINITY;if(this.isZero()||z.isInfinite())return Complex.ZERO;a=this.re,b=this.im;var t,x,c=z.re,d=z.im;return 0===d?new Complex(a/c,b/c):Math.abs(c)<Math.abs(d)?new Complex((a*(x=c/d)+b)/(t=c*x+d),(b*x-a)/t):new Complex((a+b*(x=d/c))/(t=d*x+c),(b-a*x)/t)},pow:function(a,b){var z=new Complex(a,b);if(a=this.re,b=this.im,z.isZero())return Complex.ONE;if(0===z.im){if(0===b&&a>0)return new Complex(Math.pow(a,z.re),0);if(0===a)switch((z.re%4+4)%4){case 0:return new Complex(Math.pow(b,z.re),0);case 1:return new Complex(0,Math.pow(b,z.re));case 2:return new Complex(-Math.pow(b,z.re),0);case 3:return new Complex(0,-Math.pow(b,z.re))}}if(0===a&&0===b&&z.re>0&&z.im>=0)return Complex.ZERO;var arg=Math.atan2(b,a),loh=logHypot(a,b);return a=Math.exp(z.re*loh-z.im*arg),b=z.im*loh+z.re*arg,new Complex(a*Math.cos(b),a*Math.sin(b))},sqrt:function(){var re,im,a=this.re,b=this.im,r=this.abs();if(a>=0){if(0===b)return new Complex(Math.sqrt(a),0);re=.5*Math.sqrt(2*(r+a))}else re=Math.abs(b)/Math.sqrt(2*(r-a));return im=a<=0?.5*Math.sqrt(2*(r-a)):Math.abs(b)/Math.sqrt(2*(r+a)),new Complex(re,b<0?-im:im)},exp:function(){var tmp=Math.exp(this.re);return this.im,new Complex(tmp*Math.cos(this.im),tmp*Math.sin(this.im))},expm1:function(){var a=this.re,b=this.im;return new Complex(Math.expm1(a)*Math.cos(b)+function(x){var b=Math.PI/4;if(-b>x||x>b)return Math.cos(x)-1;var xx=x*x;return xx*(xx*(xx*(xx*(xx*(xx*(xx*(xx/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(b),Math.exp(a)*Math.sin(b))},log:function(){var a=this.re,b=this.im;return new Complex(logHypot(a,b),Math.atan2(b,a))},abs:function(){return x=this.re,y=this.im,a=Math.abs(x),b=Math.abs(y),a<3e3&&b<3e3?Math.sqrt(a*a+b*b):(a<b?(a=b,b=x/y):b=y/x,a*Math.sqrt(1+b*b));var x,y,a,b},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var a=this.re,b=this.im;return new Complex(Math.sin(a)*cosh(b),Math.cos(a)*sinh(b))},cos:function(){var a=this.re,b=this.im;return new Complex(Math.cos(a)*cosh(b),-Math.sin(a)*sinh(b))},tan:function(){var a=2*this.re,b=2*this.im,d=Math.cos(a)+cosh(b);return new Complex(Math.sin(a)/d,sinh(b)/d)},cot:function(){var a=2*this.re,b=2*this.im,d=Math.cos(a)-cosh(b);return new Complex(-Math.sin(a)/d,sinh(b)/d)},sec:function(){var a=this.re,b=this.im,d=.5*cosh(2*b)+.5*Math.cos(2*a);return new Complex(Math.cos(a)*cosh(b)/d,Math.sin(a)*sinh(b)/d)},csc:function(){var a=this.re,b=this.im,d=.5*cosh(2*b)-.5*Math.cos(2*a);return new Complex(Math.sin(a)*cosh(b)/d,-Math.cos(a)*sinh(b)/d)},asin:function(){var a=this.re,b=this.im,t1=new Complex(b*b-a*a+1,-2*a*b).sqrt(),t2=new Complex(t1.re-b,t1.im+a).log();return new Complex(t2.im,-t2.re)},acos:function(){var a=this.re,b=this.im,t1=new Complex(b*b-a*a+1,-2*a*b).sqrt(),t2=new Complex(t1.re-b,t1.im+a).log();return new Complex(Math.PI/2-t2.im,t2.re)},atan:function(){var a=this.re,b=this.im;if(0===a){if(1===b)return new Complex(0,1/0);if(-1===b)return new Complex(0,-1/0)}var d=a*a+(1-b)*(1-b),t1=new Complex((1-b*b-a*a)/d,-2*a/d).log();return new Complex(-.5*t1.im,.5*t1.re)},acot:function(){var a=this.re,b=this.im;if(0===b)return new Complex(Math.atan2(1,a),0);var d=a*a+b*b;return 0!==d?new Complex(a/d,-b/d).atan():new Complex(0!==a?a/0:0,0!==b?-b/0:0).atan()},asec:function(){var a=this.re,b=this.im;if(0===a&&0===b)return new Complex(0,1/0);var d=a*a+b*b;return 0!==d?new Complex(a/d,-b/d).acos():new Complex(0!==a?a/0:0,0!==b?-b/0:0).acos()},acsc:function(){var a=this.re,b=this.im;if(0===a&&0===b)return new Complex(Math.PI/2,1/0);var d=a*a+b*b;return 0!==d?new Complex(a/d,-b/d).asin():new Complex(0!==a?a/0:0,0!==b?-b/0:0).asin()},sinh:function(){var a=this.re,b=this.im;return new Complex(sinh(a)*Math.cos(b),cosh(a)*Math.sin(b))},cosh:function(){var a=this.re,b=this.im;return new Complex(cosh(a)*Math.cos(b),sinh(a)*Math.sin(b))},tanh:function(){var a=2*this.re,b=2*this.im,d=cosh(a)+Math.cos(b);return new Complex(sinh(a)/d,Math.sin(b)/d)},coth:function(){var a=2*this.re,b=2*this.im,d=cosh(a)-Math.cos(b);return new Complex(sinh(a)/d,-Math.sin(b)/d)},csch:function(){var a=this.re,b=this.im,d=Math.cos(2*b)-cosh(2*a);return new Complex(-2*sinh(a)*Math.cos(b)/d,2*cosh(a)*Math.sin(b)/d)},sech:function(){var a=this.re,b=this.im,d=Math.cos(2*b)+cosh(2*a);return new Complex(2*cosh(a)*Math.cos(b)/d,-2*sinh(a)*Math.sin(b)/d)},asinh:function(){var tmp=this.im;this.im=-this.re,this.re=tmp;var res=this.asin();return this.re=-this.im,this.im=tmp,tmp=res.re,res.re=-res.im,res.im=tmp,res},acosh:function(){var res=this.acos();if(res.im<=0){var tmp=res.re;res.re=-res.im,res.im=tmp}else{tmp=res.im;res.im=-res.re,res.re=tmp}return res},atanh:function(){var a=this.re,b=this.im,noIM=a>1&&0===b,oneMinus=1-a,onePlus=1+a,d=oneMinus*oneMinus+b*b,x=0!==d?new Complex((onePlus*oneMinus-b*b)/d,(b*oneMinus+onePlus*b)/d):new Complex(-1!==a?a/0:0,0!==b?b/0:0),temp=x.re;return x.re=logHypot(x.re,x.im)/2,x.im=Math.atan2(x.im,temp)/2,noIM&&(x.im=-x.im),x},acoth:function(){var a=this.re,b=this.im;if(0===a&&0===b)return new Complex(0,Math.PI/2);var d=a*a+b*b;return 0!==d?new Complex(a/d,-b/d).atanh():new Complex(0!==a?a/0:0,0!==b?-b/0:0).atanh()},acsch:function(){var a=this.re,b=this.im;if(0===b)return new Complex(0!==a?Math.log(a+Math.sqrt(a*a+1)):1/0,0);var d=a*a+b*b;return 0!==d?new Complex(a/d,-b/d).asinh():new Complex(0!==a?a/0:0,0!==b?-b/0:0).asinh()},asech:function(){var a=this.re,b=this.im;if(this.isZero())return Complex.INFINITY;var d=a*a+b*b;return 0!==d?new Complex(a/d,-b/d).acosh():new Complex(0!==a?a/0:0,0!==b?-b/0:0).acosh()},inverse:function(){if(this.isZero())return Complex.INFINITY;if(this.isInfinite())return Complex.ZERO;var a=this.re,b=this.im,d=a*a+b*b;return new Complex(a/d,-b/d)},conjugate:function(){return new Complex(this.re,-this.im)},neg:function(){return new Complex(-this.re,-this.im)},ceil:function(places){return places=Math.pow(10,places||0),new Complex(Math.ceil(this.re*places)/places,Math.ceil(this.im*places)/places)},floor:function(places){return places=Math.pow(10,places||0),new Complex(Math.floor(this.re*places)/places,Math.floor(this.im*places)/places)},round:function(places){return places=Math.pow(10,places||0),new Complex(Math.round(this.re*places)/places,Math.round(this.im*places)/places)},equals:function(a,b){var z=new Complex(a,b);return Math.abs(z.re-this.re)<=Complex.EPSILON&&Math.abs(z.im-this.im)<=Complex.EPSILON},clone:function(){return new Complex(this.re,this.im)},toString:function(){var a=this.re,b=this.im,ret="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(a)<Complex.EPSILON&&(a=0),Math.abs(b)<Complex.EPSILON&&(b=0),0===b?ret+a:(0!==a?(ret+=a,ret+=" ",b<0?(b=-b,ret+="-"):ret+="+",ret+=" "):b<0&&(b=-b,ret+="-"),1!==b&&(ret+=b),ret+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},Complex.ZERO=new Complex(0,0),Complex.ONE=new Complex(1,0),Complex.I=new Complex(0,1),Complex.PI=new Complex(Math.PI,0),Complex.E=new Complex(Math.E,0),Complex.INFINITY=new Complex(1/0,1/0),Complex.NAN=new Complex(NaN,NaN),Complex.EPSILON=1e-15,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Complex}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/decimal.js/decimal.mjs":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var inexact,quadrant,EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P={toStringTag:tag};function digitsToString(d){var i,k,ws,indexOfLastWord=d.length-1,str="",w=d[0];if(indexOfLastWord>0){for(str+=w,i=1;i<indexOfLastWord;i++)ws=d[i]+"",(k=LOG_BASE-ws.length)&&(str+=getZeroString(k)),str+=ws;w=d[i],(k=LOG_BASE-(ws=w+"").length)&&(str+=getZeroString(k))}else if(0===w)return"0";for(;w%10==0;)w/=10;return str+w}function checkInt32(i,min,max){if(i!==~~i||i<min||i>max)throw Error(invalidArgument+i)}function checkRoundingDigits(d,i,rm,repeating){var di,k,r,rd;for(k=d[0];k>=10;k/=10)--i;return--i<0?(i+=LOG_BASE,di=0):(di=Math.ceil((i+1)/LOG_BASE),i%=LOG_BASE),k=mathpow(10,LOG_BASE-i),rd=d[di]%k|0,null==repeating?i<3?(0==i?rd=rd/100|0:1==i&&(rd=rd/10|0),r=rm<4&&99999==rd||rm>3&&49999==rd||5e4==rd||0==rd):r=(rm<4&&rd+1==k||rm>3&&rd+1==k/2)&&(d[di+1]/k/100|0)==mathpow(10,i-2)-1||(rd==k/2||0==rd)&&0==(d[di+1]/k/100|0):i<4?(0==i?rd=rd/1e3|0:1==i?rd=rd/100|0:2==i&&(rd=rd/10|0),r=(repeating||rm<4)&&9999==rd||!repeating&&rm>3&&4999==rd):r=((repeating||rm<4)&&rd+1==k||!repeating&&rm>3&&rd+1==k/2)&&(d[di+1]/k/1e3|0)==mathpow(10,i-3)-1,r}function convertBase(str,baseIn,baseOut){for(var j,arrL,arr=[0],i=0,strL=str.length;i<strL;){for(arrL=arr.length;arrL--;)arr[arrL]*=baseIn;for(arr[0]+=NUMERALS.indexOf(str.charAt(i++)),j=0;j<arr.length;j++)arr[j]>baseOut-1&&(void 0===arr[j+1]&&(arr[j+1]=0),arr[j+1]+=arr[j]/baseOut|0,arr[j]%=baseOut)}return arr.reverse()}P.absoluteValue=P.abs=function(){var x=new this.constructor(this);return x.s<0&&(x.s=1),finalise(x)},P.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},P.clampedTo=P.clamp=function(min,max){var x=this,Ctor=x.constructor;if(min=new Ctor(min),max=new Ctor(max),!min.s||!max.s)return new Ctor(NaN);if(min.gt(max))throw Error(invalidArgument+max);return x.cmp(min)<0?min:x.cmp(max)>0?max:new Ctor(x)},P.comparedTo=P.cmp=function(y){var i,j,xdL,ydL,x=this,xd=x.d,yd=(y=new x.constructor(y)).d,xs=x.s,ys=y.s;if(!xd||!yd)return xs&&ys?xs!==ys?xs:xd===yd?0:!xd^xs<0?1:-1:NaN;if(!xd[0]||!yd[0])return xd[0]?xs:yd[0]?-ys:0;if(xs!==ys)return xs;if(x.e!==y.e)return x.e>y.e^xs<0?1:-1;for(i=0,j=(xdL=xd.length)<(ydL=yd.length)?xdL:ydL;i<j;++i)if(xd[i]!==yd[i])return xd[i]>yd[i]^xs<0?1:-1;return xdL===ydL?0:xdL>ydL^xs<0?1:-1},P.cosine=P.cos=function(){var pr,rm,x=this,Ctor=x.constructor;return x.d?x.d[0]?(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+LOG_BASE,Ctor.rounding=1,x=function cosine(Ctor,x){var k,len,y;if(x.isZero())return x;len=x.d.length,len<32?y=(1/tinyPow(4,k=Math.ceil(len/3))).toString():(k=16,y="2.3283064365386962890625e-10");Ctor.precision+=k,x=taylorSeries(Ctor,1,x.times(y),new Ctor(1));for(var i=k;i--;){var cos2x=x.times(x);x=cos2x.times(cos2x).minus(cos2x).times(8).plus(1)}return Ctor.precision-=k,x}(Ctor,toLessThanHalfPi(Ctor,x)),Ctor.precision=pr,Ctor.rounding=rm,finalise(2==quadrant||3==quadrant?x.neg():x,pr,rm,!0)):new Ctor(1):new Ctor(NaN)},P.cubeRoot=P.cbrt=function(){var e,m,n,r,rep,s,sd,t,t3,t3plusx,x=this,Ctor=x.constructor;if(!x.isFinite()||x.isZero())return new Ctor(x);for(external=!1,(s=x.s*mathpow(x.s*x,1/3))&&Math.abs(s)!=1/0?r=new Ctor(s.toString()):(n=digitsToString(x.d),(s=((e=x.e)-n.length+1)%3)&&(n+=1==s||-2==s?"0":"00"),s=mathpow(n,1/3),e=mathfloor((e+1)/3)-(e%3==(e<0?-1:2)),(r=new Ctor(n=s==1/0?"5e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=x.s),sd=(e=Ctor.precision)+3;;)if(t3plusx=(t3=(t=r).times(t).times(t)).plus(x),r=divide(t3plusx.plus(x).times(t),t3plusx.plus(t3),sd+2,1),digitsToString(t.d).slice(0,sd)===(n=digitsToString(r.d)).slice(0,sd)){if("9999"!=(n=n.slice(sd-3,sd+1))&&(rep||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(finalise(r,e+1,1),m=!r.times(r).times(r).eq(x));break}if(!rep&&(finalise(t,e+1,0),t.times(t).times(t).eq(x))){r=t;break}sd+=4,rep=1}return external=!0,finalise(r,e,Ctor.rounding,m)},P.decimalPlaces=P.dp=function(){var w,d=this.d,n=NaN;if(d){if(n=((w=d.length-1)-mathfloor(this.e/LOG_BASE))*LOG_BASE,w=d[w])for(;w%10==0;w/=10)n--;n<0&&(n=0)}return n},P.dividedBy=P.div=function(y){return divide(this,new this.constructor(y))},P.dividedToIntegerBy=P.divToInt=function(y){var Ctor=this.constructor;return finalise(divide(this,new Ctor(y),0,1,1),Ctor.precision,Ctor.rounding)},P.equals=P.eq=function(y){return 0===this.cmp(y)},P.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},P.greaterThan=P.gt=function(y){return this.cmp(y)>0},P.greaterThanOrEqualTo=P.gte=function(y){var k=this.cmp(y);return 1==k||0===k},P.hyperbolicCosine=P.cosh=function(){var k,n,pr,rm,len,x=this,Ctor=x.constructor,one=new Ctor(1);if(!x.isFinite())return new Ctor(x.s?1/0:NaN);if(x.isZero())return one;pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+4,Ctor.rounding=1,(len=x.d.length)<32?n=(1/tinyPow(4,k=Math.ceil(len/3))).toString():(k=16,n="2.3283064365386962890625e-10"),x=taylorSeries(Ctor,1,x.times(n),new Ctor(1),!0);for(var cosh2_x,i=k,d8=new Ctor(8);i--;)cosh2_x=x.times(x),x=one.minus(cosh2_x.times(d8.minus(cosh2_x.times(d8))));return finalise(x,Ctor.precision=pr,Ctor.rounding=rm,!0)},P.hyperbolicSine=P.sinh=function(){var k,pr,rm,len,x=this,Ctor=x.constructor;if(!x.isFinite()||x.isZero())return new Ctor(x);if(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+4,Ctor.rounding=1,(len=x.d.length)<3)x=taylorSeries(Ctor,2,x,x,!0);else{k=(k=1.4*Math.sqrt(len))>16?16:0|k,x=taylorSeries(Ctor,2,x=x.times(1/tinyPow(5,k)),x,!0);for(var sinh2_x,d5=new Ctor(5),d16=new Ctor(16),d20=new Ctor(20);k--;)sinh2_x=x.times(x),x=x.times(d5.plus(sinh2_x.times(d16.times(sinh2_x).plus(d20))))}return Ctor.precision=pr,Ctor.rounding=rm,finalise(x,pr,rm,!0)},P.hyperbolicTangent=P.tanh=function(){var pr,rm,x=this,Ctor=x.constructor;return x.isFinite()?x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+7,Ctor.rounding=1,divide(x.sinh(),x.cosh(),Ctor.precision=pr,Ctor.rounding=rm)):new Ctor(x.s)},P.inverseCosine=P.acos=function(){var halfPi,x=this,Ctor=x.constructor,k=x.abs().cmp(1),pr=Ctor.precision,rm=Ctor.rounding;return-1!==k?0===k?x.isNeg()?getPi(Ctor,pr,rm):new Ctor(0):new Ctor(NaN):x.isZero()?getPi(Ctor,pr+4,rm).times(.5):(Ctor.precision=pr+6,Ctor.rounding=1,x=x.asin(),halfPi=getPi(Ctor,pr+4,rm).times(.5),Ctor.precision=pr,Ctor.rounding=rm,halfPi.minus(x))},P.inverseHyperbolicCosine=P.acosh=function(){var pr,rm,x=this,Ctor=x.constructor;return x.lte(1)?new Ctor(x.eq(1)?0:NaN):x.isFinite()?(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(Math.abs(x.e),x.sd())+4,Ctor.rounding=1,external=!1,x=x.times(x).minus(1).sqrt().plus(x),external=!0,Ctor.precision=pr,Ctor.rounding=rm,x.ln()):new Ctor(x)},P.inverseHyperbolicSine=P.asinh=function(){var pr,rm,x=this,Ctor=x.constructor;return!x.isFinite()||x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+2*Math.max(Math.abs(x.e),x.sd())+6,Ctor.rounding=1,external=!1,x=x.times(x).plus(1).sqrt().plus(x),external=!0,Ctor.precision=pr,Ctor.rounding=rm,x.ln())},P.inverseHyperbolicTangent=P.atanh=function(){var pr,rm,wpr,xsd,x=this,Ctor=x.constructor;return x.isFinite()?x.e>=0?new Ctor(x.abs().eq(1)?x.s/0:x.isZero()?x:NaN):(pr=Ctor.precision,rm=Ctor.rounding,xsd=x.sd(),Math.max(xsd,pr)<2*-x.e-1?finalise(new Ctor(x),pr,rm,!0):(Ctor.precision=wpr=xsd-x.e,x=divide(x.plus(1),new Ctor(1).minus(x),wpr+pr,1),Ctor.precision=pr+4,Ctor.rounding=1,x=x.ln(),Ctor.precision=pr,Ctor.rounding=rm,x.times(.5))):new Ctor(NaN)},P.inverseSine=P.asin=function(){var halfPi,k,pr,rm,x=this,Ctor=x.constructor;return x.isZero()?new Ctor(x):(k=x.abs().cmp(1),pr=Ctor.precision,rm=Ctor.rounding,-1!==k?0===k?((halfPi=getPi(Ctor,pr+4,rm).times(.5)).s=x.s,halfPi):new Ctor(NaN):(Ctor.precision=pr+6,Ctor.rounding=1,x=x.div(new Ctor(1).minus(x.times(x)).sqrt().plus(1)).atan(),Ctor.precision=pr,Ctor.rounding=rm,x.times(2)))},P.inverseTangent=P.atan=function(){var i,j,k,n,px,t,r,wpr,x2,x=this,Ctor=x.constructor,pr=Ctor.precision,rm=Ctor.rounding;if(x.isFinite()){if(x.isZero())return new Ctor(x);if(x.abs().eq(1)&&pr+4<=PI_PRECISION)return(r=getPi(Ctor,pr+4,rm).times(.25)).s=x.s,r}else{if(!x.s)return new Ctor(NaN);if(pr+4<=PI_PRECISION)return(r=getPi(Ctor,pr+4,rm).times(.5)).s=x.s,r}for(Ctor.precision=wpr=pr+10,Ctor.rounding=1,i=k=Math.min(28,wpr/LOG_BASE+2|0);i;--i)x=x.div(x.times(x).plus(1).sqrt().plus(1));for(external=!1,j=Math.ceil(wpr/LOG_BASE),n=1,x2=x.times(x),r=new Ctor(x),px=x;-1!==i;)if(px=px.times(x2),t=r.minus(px.div(n+=2)),px=px.times(x2),void 0!==(r=t.plus(px.div(n+=2))).d[j])for(i=j;r.d[i]===t.d[i]&&i--;);return k&&(r=r.times(2<<k-1)),external=!0,finalise(r,Ctor.precision=pr,Ctor.rounding=rm,!0)},P.isFinite=function(){return!!this.d},P.isInteger=P.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2},P.isNaN=function(){return!this.s},P.isNegative=P.isNeg=function(){return this.s<0},P.isPositive=P.isPos=function(){return this.s>0},P.isZero=function(){return!!this.d&&0===this.d[0]},P.lessThan=P.lt=function(y){return this.cmp(y)<0},P.lessThanOrEqualTo=P.lte=function(y){return this.cmp(y)<1},P.logarithm=P.log=function(base){var isBase10,d,denominator,k,inf,num,sd,r,Ctor=this.constructor,pr=Ctor.precision,rm=Ctor.rounding;if(null==base)base=new Ctor(10),isBase10=!0;else{if(d=(base=new Ctor(base)).d,base.s<0||!d||!d[0]||base.eq(1))return new Ctor(NaN);isBase10=base.eq(10)}if(d=this.d,this.s<0||!d||!d[0]||this.eq(1))return new Ctor(d&&!d[0]?-1/0:1!=this.s?NaN:d?0:1/0);if(isBase10)if(d.length>1)inf=!0;else{for(k=d[0];k%10==0;)k/=10;inf=1!==k}if(external=!1,num=naturalLogarithm(this,sd=pr+5),denominator=isBase10?getLn10(Ctor,sd+10):naturalLogarithm(base,sd),checkRoundingDigits((r=divide(num,denominator,sd,1)).d,k=pr,rm))do{if(num=naturalLogarithm(this,sd+=10),denominator=isBase10?getLn10(Ctor,sd+10):naturalLogarithm(base,sd),r=divide(num,denominator,sd,1),!inf){+digitsToString(r.d).slice(k+1,k+15)+1==1e14&&(r=finalise(r,pr+1,0));break}}while(checkRoundingDigits(r.d,k+=10,rm));return external=!0,finalise(r,pr,rm)},P.minus=P.sub=function(y){var d,e,i,j,k,len,pr,rm,xd,xe,xLTy,yd,x=this,Ctor=x.constructor;if(y=new Ctor(y),!x.d||!y.d)return x.s&&y.s?x.d?y.s=-y.s:y=new Ctor(y.d||x.s!==y.s?x:NaN):y=new Ctor(NaN),y;if(x.s!=y.s)return y.s=-y.s,x.plus(y);if(xd=x.d,yd=y.d,pr=Ctor.precision,rm=Ctor.rounding,!xd[0]||!yd[0]){if(yd[0])y.s=-y.s;else{if(!xd[0])return new Ctor(3===rm?-0:0);y=new Ctor(x)}return external?finalise(y,pr,rm):y}if(e=mathfloor(y.e/LOG_BASE),xe=mathfloor(x.e/LOG_BASE),xd=xd.slice(),k=xe-e){for((xLTy=k<0)?(d=xd,k=-k,len=yd.length):(d=yd,e=xe,len=xd.length),k>(i=Math.max(Math.ceil(pr/LOG_BASE),len)+2)&&(k=i,d.length=1),d.reverse(),i=k;i--;)d.push(0);d.reverse()}else{for((xLTy=(i=xd.length)<(len=yd.length))&&(len=i),i=0;i<len;i++)if(xd[i]!=yd[i]){xLTy=xd[i]<yd[i];break}k=0}for(xLTy&&(d=xd,xd=yd,yd=d,y.s=-y.s),len=xd.length,i=yd.length-len;i>0;--i)xd[len++]=0;for(i=yd.length;i>k;){if(xd[--i]<yd[i]){for(j=i;j&&0===xd[--j];)xd[j]=BASE-1;--xd[j],xd[i]+=BASE}xd[i]-=yd[i]}for(;0===xd[--len];)xd.pop();for(;0===xd[0];xd.shift())--e;return xd[0]?(y.d=xd,y.e=getBase10Exponent(xd,e),external?finalise(y,pr,rm):y):new Ctor(3===rm?-0:0)},P.modulo=P.mod=function(y){var q,x=this,Ctor=x.constructor;return y=new Ctor(y),!x.d||!y.s||y.d&&!y.d[0]?new Ctor(NaN):!y.d||x.d&&!x.d[0]?finalise(new Ctor(x),Ctor.precision,Ctor.rounding):(external=!1,9==Ctor.modulo?(q=divide(x,y.abs(),0,3,1)).s*=y.s:q=divide(x,y,0,Ctor.modulo,1),q=q.times(y),external=!0,x.minus(q))},P.naturalExponential=P.exp=function(){return naturalExponential(this)},P.naturalLogarithm=P.ln=function(){return naturalLogarithm(this)},P.negated=P.neg=function(){var x=new this.constructor(this);return x.s=-x.s,finalise(x)},P.plus=P.add=function(y){var carry,d,e,i,k,len,pr,rm,xd,yd,x=this,Ctor=x.constructor;if(y=new Ctor(y),!x.d||!y.d)return x.s&&y.s?x.d||(y=new Ctor(y.d||x.s===y.s?x:NaN)):y=new Ctor(NaN),y;if(x.s!=y.s)return y.s=-y.s,x.minus(y);if(xd=x.d,yd=y.d,pr=Ctor.precision,rm=Ctor.rounding,!xd[0]||!yd[0])return yd[0]||(y=new Ctor(x)),external?finalise(y,pr,rm):y;if(k=mathfloor(x.e/LOG_BASE),e=mathfloor(y.e/LOG_BASE),xd=xd.slice(),i=k-e){for(i<0?(d=xd,i=-i,len=yd.length):(d=yd,e=k,len=xd.length),i>(len=(k=Math.ceil(pr/LOG_BASE))>len?k+1:len+1)&&(i=len,d.length=1),d.reverse();i--;)d.push(0);d.reverse()}for((len=xd.length)-(i=yd.length)<0&&(i=len,d=yd,yd=xd,xd=d),carry=0;i;)carry=(xd[--i]=xd[i]+yd[i]+carry)/BASE|0,xd[i]%=BASE;for(carry&&(xd.unshift(carry),++e),len=xd.length;0==xd[--len];)xd.pop();return y.d=xd,y.e=getBase10Exponent(xd,e),external?finalise(y,pr,rm):y},P.precision=P.sd=function(z){var k,x=this;if(void 0!==z&&z!==!!z&&1!==z&&0!==z)throw Error(invalidArgument+z);return x.d?(k=getPrecision(x.d),z&&x.e+1>k&&(k=x.e+1)):k=NaN,k},P.round=function(){var x=this,Ctor=x.constructor;return finalise(new Ctor(x),x.e+1,Ctor.rounding)},P.sine=P.sin=function(){var pr,rm,x=this,Ctor=x.constructor;return x.isFinite()?x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+LOG_BASE,Ctor.rounding=1,x=function sine(Ctor,x){var k,len=x.d.length;if(len<3)return x.isZero()?x:taylorSeries(Ctor,2,x,x);k=(k=1.4*Math.sqrt(len))>16?16:0|k,x=x.times(1/tinyPow(5,k)),x=taylorSeries(Ctor,2,x,x);for(var sin2_x,d5=new Ctor(5),d16=new Ctor(16),d20=new Ctor(20);k--;)sin2_x=x.times(x),x=x.times(d5.plus(sin2_x.times(d16.times(sin2_x).minus(d20))));return x}(Ctor,toLessThanHalfPi(Ctor,x)),Ctor.precision=pr,Ctor.rounding=rm,finalise(quadrant>2?x.neg():x,pr,rm,!0)):new Ctor(NaN)},P.squareRoot=P.sqrt=function(){var m,n,sd,r,rep,t,x=this,d=x.d,e=x.e,s=x.s,Ctor=x.constructor;if(1!==s||!d||!d[0])return new Ctor(!s||s<0&&(!d||d[0])?NaN:d?x:1/0);for(external=!1,0==(s=Math.sqrt(+x))||s==1/0?(((n=digitsToString(d)).length+e)%2==0&&(n+="0"),s=Math.sqrt(n),e=mathfloor((e+1)/2)-(e<0||e%2),r=new Ctor(n=s==1/0?"5e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)):r=new Ctor(s.toString()),sd=(e=Ctor.precision)+3;;)if(r=(t=r).plus(divide(x,t,sd+2,1)).times(.5),digitsToString(t.d).slice(0,sd)===(n=digitsToString(r.d)).slice(0,sd)){if("9999"!=(n=n.slice(sd-3,sd+1))&&(rep||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(finalise(r,e+1,1),m=!r.times(r).eq(x));break}if(!rep&&(finalise(t,e+1,0),t.times(t).eq(x))){r=t;break}sd+=4,rep=1}return external=!0,finalise(r,e,Ctor.rounding,m)},P.tangent=P.tan=function(){var pr,rm,x=this,Ctor=x.constructor;return x.isFinite()?x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+10,Ctor.rounding=1,(x=x.sin()).s=1,x=divide(x,new Ctor(1).minus(x.times(x)).sqrt(),pr+10,0),Ctor.precision=pr,Ctor.rounding=rm,finalise(2==quadrant||4==quadrant?x.neg():x,pr,rm,!0)):new Ctor(NaN)},P.times=P.mul=function(y){var carry,e,i,k,r,rL,t,xdL,ydL,x=this,Ctor=x.constructor,xd=x.d,yd=(y=new Ctor(y)).d;if(y.s*=x.s,!(xd&&xd[0]&&yd&&yd[0]))return new Ctor(!y.s||xd&&!xd[0]&&!yd||yd&&!yd[0]&&!xd?NaN:xd&&yd?0*y.s:y.s/0);for(e=mathfloor(x.e/LOG_BASE)+mathfloor(y.e/LOG_BASE),(xdL=xd.length)<(ydL=yd.length)&&(r=xd,xd=yd,yd=r,rL=xdL,xdL=ydL,ydL=rL),r=[],i=rL=xdL+ydL;i--;)r.push(0);for(i=ydL;--i>=0;){for(carry=0,k=xdL+i;k>i;)t=r[k]+yd[i]*xd[k-i-1]+carry,r[k--]=t%BASE|0,carry=t/BASE|0;r[k]=(r[k]+carry)%BASE|0}for(;!r[--rL];)r.pop();return carry?++e:r.shift(),y.d=r,y.e=getBase10Exponent(r,e),external?finalise(y,Ctor.precision,Ctor.rounding):y},P.toBinary=function(sd,rm){return toStringBinary(this,2,sd,rm)},P.toDecimalPlaces=P.toDP=function(dp,rm){var x=this,Ctor=x.constructor;return x=new Ctor(x),void 0===dp?x:(checkInt32(dp,0,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),finalise(x,dp+x.e+1,rm))},P.toExponential=function(dp,rm){var str,x=this,Ctor=x.constructor;return void 0===dp?str=finiteToString(x,!0):(checkInt32(dp,0,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=finiteToString(x=finalise(new Ctor(x),dp+1,rm),!0,dp+1)),x.isNeg()&&!x.isZero()?"-"+str:str},P.toFixed=function(dp,rm){var str,y,x=this,Ctor=x.constructor;return void 0===dp?str=finiteToString(x):(checkInt32(dp,0,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=finiteToString(y=finalise(new Ctor(x),dp+x.e+1,rm),!1,dp+y.e+1)),x.isNeg()&&!x.isZero()?"-"+str:str},P.toFraction=function(maxD){var d,d0,d1,d2,e,k,n,n0,n1,pr,q,r,x=this,xd=x.d,Ctor=x.constructor;if(!xd)return new Ctor(x);if(n1=d0=new Ctor(1),d1=n0=new Ctor(0),k=(e=(d=new Ctor(d1)).e=getPrecision(xd)-x.e-1)%LOG_BASE,d.d[0]=mathpow(10,k<0?LOG_BASE+k:k),null==maxD)maxD=e>0?d:n1;else{if(!(n=new Ctor(maxD)).isInt()||n.lt(n1))throw Error(invalidArgument+n);maxD=n.gt(d)?e>0?d:n1:n}for(external=!1,n=new Ctor(digitsToString(xd)),pr=Ctor.precision,Ctor.precision=e=xd.length*LOG_BASE*2;q=divide(n,d,0,1,1),1!=(d2=d0.plus(q.times(d1))).cmp(maxD);)d0=d1,d1=d2,d2=n1,n1=n0.plus(q.times(d2)),n0=d2,d2=d,d=n.minus(q.times(d2)),n=d2;return d2=divide(maxD.minus(d0),d1,0,1,1),n0=n0.plus(d2.times(n1)),d0=d0.plus(d2.times(d1)),n0.s=n1.s=x.s,r=divide(n1,d1,e,1).minus(x).abs().cmp(divide(n0,d0,e,1).minus(x).abs())<1?[n1,d1]:[n0,d0],Ctor.precision=pr,external=!0,r},P.toHexadecimal=P.toHex=function(sd,rm){return toStringBinary(this,16,sd,rm)},P.toNearest=function(y,rm){var x=this,Ctor=x.constructor;if(x=new Ctor(x),null==y){if(!x.d)return x;y=new Ctor(1),rm=Ctor.rounding}else{if(y=new Ctor(y),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),!x.d)return y.s?x:y;if(!y.d)return y.s&&(y.s=x.s),y}return y.d[0]?(external=!1,x=divide(x,y,0,rm,1).times(y),external=!0,finalise(x)):(y.s=x.s,x=y),x},P.toNumber=function(){return+this},P.toOctal=function(sd,rm){return toStringBinary(this,8,sd,rm)},P.toPower=P.pow=function(y){var e,k,pr,r,rm,s,x=this,Ctor=x.constructor,yn=+(y=new Ctor(y));if(!(x.d&&y.d&&x.d[0]&&y.d[0]))return new Ctor(mathpow(+x,yn));if((x=new Ctor(x)).eq(1))return x;if(pr=Ctor.precision,rm=Ctor.rounding,y.eq(1))return finalise(x,pr,rm);if((e=mathfloor(y.e/LOG_BASE))>=y.d.length-1&&(k=yn<0?-yn:yn)<=9007199254740991)return r=intPow(Ctor,x,k,pr),y.s<0?new Ctor(1).div(r):finalise(r,pr,rm);if((s=x.s)<0){if(e<y.d.length-1)return new Ctor(NaN);if(0==(1&y.d[e])&&(s=1),0==x.e&&1==x.d[0]&&1==x.d.length)return x.s=s,x}return(e=0!=(k=mathpow(+x,yn))&&isFinite(k)?new Ctor(k+"").e:mathfloor(yn*(Math.log("0."+digitsToString(x.d))/Math.LN10+x.e+1)))>Ctor.maxE+1||e<Ctor.minE-1?new Ctor(e>0?s/0:0):(external=!1,Ctor.rounding=x.s=1,k=Math.min(12,(e+"").length),(r=naturalExponential(y.times(naturalLogarithm(x,pr+k)),pr)).d&&checkRoundingDigits((r=finalise(r,pr+5,1)).d,pr,rm)&&(e=pr+10,+digitsToString((r=finalise(naturalExponential(y.times(naturalLogarithm(x,e+k)),e),e+5,1)).d).slice(pr+1,pr+15)+1==1e14&&(r=finalise(r,pr+1,0))),r.s=s,external=!0,Ctor.rounding=rm,finalise(r,pr,rm))},P.toPrecision=function(sd,rm){var str,x=this,Ctor=x.constructor;return void 0===sd?str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos):(checkInt32(sd,1,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=finiteToString(x=finalise(new Ctor(x),sd,rm),sd<=x.e||x.e<=Ctor.toExpNeg,sd)),x.isNeg()&&!x.isZero()?"-"+str:str},P.toSignificantDigits=P.toSD=function(sd,rm){var Ctor=this.constructor;return void 0===sd?(sd=Ctor.precision,rm=Ctor.rounding):(checkInt32(sd,1,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8)),finalise(new Ctor(this),sd,rm)},P.toString=function(){var x=this,Ctor=x.constructor,str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos);return x.isNeg()&&!x.isZero()?"-"+str:str},P.truncated=P.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},P.valueOf=P.toJSON=function(){var x=this,Ctor=x.constructor,str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos);return x.isNeg()?"-"+str:str};var divide=function(){function multiplyInteger(x,k,base){var temp,carry=0,i=x.length;for(x=x.slice();i--;)temp=x[i]*k+carry,x[i]=temp%base|0,carry=temp/base|0;return carry&&x.unshift(carry),x}function compare(a,b,aL,bL){var i,r;if(aL!=bL)r=aL>bL?1:-1;else for(i=r=0;i<aL;i++)if(a[i]!=b[i]){r=a[i]>b[i]?1:-1;break}return r}function subtract(a,b,aL,base){for(var i=0;aL--;)a[aL]-=i,i=a[aL]<b[aL]?1:0,a[aL]=i*base+a[aL]-b[aL];for(;!a[0]&&a.length>1;)a.shift()}return function(x,y,pr,rm,dp,base){var cmp,e,i,k,logBase,more,prod,prodL,q,qd,rem,remL,rem0,sd,t,xi,xL,yd0,yL,yz,Ctor=x.constructor,sign=x.s==y.s?1:-1,xd=x.d,yd=y.d;if(!(xd&&xd[0]&&yd&&yd[0]))return new Ctor(x.s&&y.s&&(xd?!yd||xd[0]!=yd[0]:yd)?xd&&0==xd[0]||!yd?0*sign:sign/0:NaN);for(base?(logBase=1,e=x.e-y.e):(base=BASE,logBase=LOG_BASE,e=mathfloor(x.e/logBase)-mathfloor(y.e/logBase)),yL=yd.length,xL=xd.length,qd=(q=new Ctor(sign)).d=[],i=0;yd[i]==(xd[i]||0);i++);if(yd[i]>(xd[i]||0)&&e--,null==pr?(sd=pr=Ctor.precision,rm=Ctor.rounding):sd=dp?pr+(x.e-y.e)+1:pr,sd<0)qd.push(1),more=!0;else{if(sd=sd/logBase+2|0,i=0,1==yL){for(k=0,yd=yd[0],sd++;(i<xL||k)&&sd--;i++)t=k*base+(xd[i]||0),qd[i]=t/yd|0,k=t%yd|0;more=k||i<xL}else{for((k=base/(yd[0]+1)|0)>1&&(yd=multiplyInteger(yd,k,base),xd=multiplyInteger(xd,k,base),yL=yd.length,xL=xd.length),xi=yL,remL=(rem=xd.slice(0,yL)).length;remL<yL;)rem[remL++]=0;(yz=yd.slice()).unshift(0),yd0=yd[0],yd[1]>=base/2&&++yd0;do{k=0,(cmp=compare(yd,rem,yL,remL))<0?(rem0=rem[0],yL!=remL&&(rem0=rem0*base+(rem[1]||0)),(k=rem0/yd0|0)>1?(k>=base&&(k=base-1),1==(cmp=compare(prod=multiplyInteger(yd,k,base),rem,prodL=prod.length,remL=rem.length))&&(k--,subtract(prod,yL<prodL?yz:yd,prodL,base))):(0==k&&(cmp=k=1),prod=yd.slice()),(prodL=prod.length)<remL&&prod.unshift(0),subtract(rem,prod,remL,base),-1==cmp&&(cmp=compare(yd,rem,yL,remL=rem.length))<1&&(k++,subtract(rem,yL<remL?yz:yd,remL,base)),remL=rem.length):0===cmp&&(k++,rem=[0]),qd[i++]=k,cmp&&rem[0]?rem[remL++]=xd[xi]||0:(rem=[xd[xi]],remL=1)}while((xi++<xL||void 0!==rem[0])&&sd--);more=void 0!==rem[0]}qd[0]||qd.shift()}if(1==logBase)q.e=e,inexact=more;else{for(i=1,k=qd[0];k>=10;k/=10)i++;q.e=i+e*logBase-1,finalise(q,dp?pr+q.e+1:pr,rm,more)}return q}}();function finalise(x,sd,rm,isTruncated){var digits,i,j,k,rd,roundUp,w,xd,xdi,Ctor=x.constructor;out:if(null!=sd){if(!(xd=x.d))return x;for(digits=1,k=xd[0];k>=10;k/=10)digits++;if((i=sd-digits)<0)i+=LOG_BASE,j=sd,rd=(w=xd[xdi=0])/mathpow(10,digits-j-1)%10|0;else if((xdi=Math.ceil((i+1)/LOG_BASE))>=(k=xd.length)){if(!isTruncated)break out;for(;k++<=xdi;)xd.push(0);w=rd=0,digits=1,j=(i%=LOG_BASE)-LOG_BASE+1}else{for(w=k=xd[xdi],digits=1;k>=10;k/=10)digits++;rd=(j=(i%=LOG_BASE)-LOG_BASE+digits)<0?0:w/mathpow(10,digits-j-1)%10|0}if(isTruncated=isTruncated||sd<0||void 0!==xd[xdi+1]||(j<0?w:w%mathpow(10,digits-j-1)),roundUp=rm<4?(rd||isTruncated)&&(0==rm||rm==(x.s<0?3:2)):rd>5||5==rd&&(4==rm||isTruncated||6==rm&&(i>0?j>0?w/mathpow(10,digits-j):0:xd[xdi-1])%10&1||rm==(x.s<0?8:7)),sd<1||!xd[0])return xd.length=0,roundUp?(sd-=x.e+1,xd[0]=mathpow(10,(LOG_BASE-sd%LOG_BASE)%LOG_BASE),x.e=-sd||0):xd[0]=x.e=0,x;if(0==i?(xd.length=xdi,k=1,xdi--):(xd.length=xdi+1,k=mathpow(10,LOG_BASE-i),xd[xdi]=j>0?(w/mathpow(10,digits-j)%mathpow(10,j)|0)*k:0),roundUp)for(;;){if(0==xdi){for(i=1,j=xd[0];j>=10;j/=10)i++;for(j=xd[0]+=k,k=1;j>=10;j/=10)k++;i!=k&&(x.e++,xd[0]==BASE&&(xd[0]=1));break}if(xd[xdi]+=k,xd[xdi]!=BASE)break;xd[xdi--]=0,k=1}for(i=xd.length;0===xd[--i];)xd.pop()}return external&&(x.e>Ctor.maxE?(x.d=null,x.e=NaN):x.e<Ctor.minE&&(x.e=0,x.d=[0])),x}function finiteToString(x,isExp,sd){if(!x.isFinite())return nonFiniteToString(x);var k,e=x.e,str=digitsToString(x.d),len=str.length;return isExp?(sd&&(k=sd-len)>0?str=str.charAt(0)+"."+str.slice(1)+getZeroString(k):len>1&&(str=str.charAt(0)+"."+str.slice(1)),str=str+(x.e<0?"e":"e+")+x.e):e<0?(str="0."+getZeroString(-e-1)+str,sd&&(k=sd-len)>0&&(str+=getZeroString(k))):e>=len?(str+=getZeroString(e+1-len),sd&&(k=sd-e-1)>0&&(str=str+"."+getZeroString(k))):((k=e+1)<len&&(str=str.slice(0,k)+"."+str.slice(k)),sd&&(k=sd-len)>0&&(e+1===len&&(str+="."),str+=getZeroString(k))),str}function getBase10Exponent(digits,e){var w=digits[0];for(e*=LOG_BASE;w>=10;w/=10)e++;return e}function getLn10(Ctor,sd,pr){if(sd>LN10_PRECISION)throw external=!0,pr&&(Ctor.precision=pr),Error(precisionLimitExceeded);return finalise(new Ctor(LN10),sd,1,!0)}function getPi(Ctor,sd,rm){if(sd>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new Ctor(PI),sd,rm,!0)}function getPrecision(digits){var w=digits.length-1,len=w*LOG_BASE+1;if(w=digits[w]){for(;w%10==0;w/=10)len--;for(w=digits[0];w>=10;w/=10)len++}return len}function getZeroString(k){for(var zs="";k--;)zs+="0";return zs}function intPow(Ctor,x,n,pr){var isTruncated,r=new Ctor(1),k=Math.ceil(pr/LOG_BASE+4);for(external=!1;;){if(n%2&&truncate((r=r.times(x)).d,k)&&(isTruncated=!0),0===(n=mathfloor(n/2))){n=r.d.length-1,isTruncated&&0===r.d[n]&&++r.d[n];break}truncate((x=x.times(x)).d,k)}return external=!0,r}function isOdd(n){return 1&n.d[n.d.length-1]}function maxOrMin(Ctor,args,ltgt){for(var y,x=new Ctor(args[0]),i=0;++i<args.length;){if(!(y=new Ctor(args[i])).s){x=y;break}x[ltgt](y)&&(x=y)}return x}function naturalExponential(x,sd){var denominator,guard,j,pow,sum,t,wpr,rep=0,i=0,k=0,Ctor=x.constructor,rm=Ctor.rounding,pr=Ctor.precision;if(!x.d||!x.d[0]||x.e>17)return new Ctor(x.d?x.d[0]?x.s<0?0:1/0:1:x.s?x.s<0?0:x:NaN);for(null==sd?(external=!1,wpr=pr):wpr=sd,t=new Ctor(.03125);x.e>-2;)x=x.times(t),k+=5;for(wpr+=guard=Math.log(mathpow(2,k))/Math.LN10*2+5|0,denominator=pow=sum=new Ctor(1),Ctor.precision=wpr;;){if(pow=finalise(pow.times(x),wpr,1),denominator=denominator.times(++i),digitsToString((t=sum.plus(divide(pow,denominator,wpr,1))).d).slice(0,wpr)===digitsToString(sum.d).slice(0,wpr)){for(j=k;j--;)sum=finalise(sum.times(sum),wpr,1);if(null!=sd)return Ctor.precision=pr,sum;if(!(rep<3&&checkRoundingDigits(sum.d,wpr-guard,rm,rep)))return finalise(sum,Ctor.precision=pr,rm,external=!0);Ctor.precision=wpr+=10,denominator=pow=t=new Ctor(1),i=0,rep++}sum=t}}function naturalLogarithm(y,sd){var c,c0,denominator,e,numerator,rep,sum,t,wpr,x1,x2,n=1,x=y,xd=x.d,Ctor=x.constructor,rm=Ctor.rounding,pr=Ctor.precision;if(x.s<0||!xd||!xd[0]||!x.e&&1==xd[0]&&1==xd.length)return new Ctor(xd&&!xd[0]?-1/0:1!=x.s?NaN:xd?0:x);if(null==sd?(external=!1,wpr=pr):wpr=sd,Ctor.precision=wpr+=10,c0=(c=digitsToString(xd)).charAt(0),!(Math.abs(e=x.e)<15e14))return t=getLn10(Ctor,wpr+2,pr).times(e+""),x=naturalLogarithm(new Ctor(c0+"."+c.slice(1)),wpr-10).plus(t),Ctor.precision=pr,null==sd?finalise(x,pr,rm,external=!0):x;for(;c0<7&&1!=c0||1==c0&&c.charAt(1)>3;)c0=(c=digitsToString((x=x.times(y)).d)).charAt(0),n++;for(e=x.e,c0>1?(x=new Ctor("0."+c),e++):x=new Ctor(c0+"."+c.slice(1)),x1=x,sum=numerator=x=divide(x.minus(1),x.plus(1),wpr,1),x2=finalise(x.times(x),wpr,1),denominator=3;;){if(numerator=finalise(numerator.times(x2),wpr,1),digitsToString((t=sum.plus(divide(numerator,new Ctor(denominator),wpr,1))).d).slice(0,wpr)===digitsToString(sum.d).slice(0,wpr)){if(sum=sum.times(2),0!==e&&(sum=sum.plus(getLn10(Ctor,wpr+2,pr).times(e+""))),sum=divide(sum,new Ctor(n),wpr,1),null!=sd)return Ctor.precision=pr,sum;if(!checkRoundingDigits(sum.d,wpr-10,rm,rep))return finalise(sum,Ctor.precision=pr,rm,external=!0);Ctor.precision=wpr+=10,t=numerator=x=divide(x1.minus(1),x1.plus(1),wpr,1),x2=finalise(x.times(x),wpr,1),denominator=rep=1}sum=t,denominator+=2}}function nonFiniteToString(x){return String(x.s*x.s/0)}function parseDecimal(x,str){var e,i,len;for((e=str.indexOf("."))>-1&&(str=str.replace(".","")),(i=str.search(/e/i))>0?(e<0&&(e=i),e+=+str.slice(i+1),str=str.substring(0,i)):e<0&&(e=str.length),i=0;48===str.charCodeAt(i);i++);for(len=str.length;48===str.charCodeAt(len-1);--len);if(str=str.slice(i,len)){if(len-=i,x.e=e=e-i-1,x.d=[],i=(e+1)%LOG_BASE,e<0&&(i+=LOG_BASE),i<len){for(i&&x.d.push(+str.slice(0,i)),len-=LOG_BASE;i<len;)x.d.push(+str.slice(i,i+=LOG_BASE));str=str.slice(i),i=LOG_BASE-str.length}else i-=len;for(;i--;)str+="0";x.d.push(+str),external&&(x.e>x.constructor.maxE?(x.d=null,x.e=NaN):x.e<x.constructor.minE&&(x.e=0,x.d=[0]))}else x.e=0,x.d=[0];return x}function parseOther(x,str){var base,Ctor,divisor,i,isFloat,len,p,xd,xe;if(str.indexOf("_")>-1){if(str=str.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(str))return parseDecimal(x,str)}else if("Infinity"===str||"NaN"===str)return+str||(x.s=NaN),x.e=NaN,x.d=null,x;if(isHex.test(str))base=16,str=str.toLowerCase();else if(isBinary.test(str))base=2;else{if(!isOctal.test(str))throw Error(invalidArgument+str);base=8}for((i=str.search(/p/i))>0?(p=+str.slice(i+1),str=str.substring(2,i)):str=str.slice(2),isFloat=(i=str.indexOf("."))>=0,Ctor=x.constructor,isFloat&&(i=(len=(str=str.replace(".","")).length)-i,divisor=intPow(Ctor,new Ctor(base),i,2*i)),i=xe=(xd=convertBase(str,base,BASE)).length-1;0===xd[i];--i)xd.pop();return i<0?new Ctor(0*x.s):(x.e=getBase10Exponent(xd,xe),x.d=xd,external=!1,isFloat&&(x=divide(x,divisor,4*len)),p&&(x=x.times(Math.abs(p)<54?mathpow(2,p):Decimal.pow(2,p))),external=!0,x)}function taylorSeries(Ctor,n,x,y,isHyperbolic){var j,t,u,x2,pr=Ctor.precision,k=Math.ceil(pr/LOG_BASE);for(external=!1,x2=x.times(x),u=new Ctor(y);;){if(t=divide(u.times(x2),new Ctor(n++*n++),pr,1),u=isHyperbolic?y.plus(t):y.minus(t),y=divide(t.times(x2),new Ctor(n++*n++),pr,1),void 0!==(t=u.plus(y)).d[k]){for(j=k;t.d[j]===u.d[j]&&j--;);if(-1==j)break}j=u,u=y,y=t,t=j}return external=!0,t.d.length=k+1,t}function tinyPow(b,e){for(var n=b;--e;)n*=b;return n}function toLessThanHalfPi(Ctor,x){var t,isNeg=x.s<0,pi=getPi(Ctor,Ctor.precision,1),halfPi=pi.times(.5);if((x=x.abs()).lte(halfPi))return quadrant=isNeg?4:1,x;if((t=x.divToInt(pi)).isZero())quadrant=isNeg?3:2;else{if((x=x.minus(t.times(pi))).lte(halfPi))return quadrant=isOdd(t)?isNeg?2:3:isNeg?4:1,x;quadrant=isOdd(t)?isNeg?1:4:isNeg?3:2}return x.minus(pi).abs()}function toStringBinary(x,baseOut,sd,rm){var base,e,i,k,len,roundUp,str,xd,y,Ctor=x.constructor,isExp=void 0!==sd;if(isExp?(checkInt32(sd,1,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8)):(sd=Ctor.precision,rm=Ctor.rounding),x.isFinite()){for(isExp?(base=2,16==baseOut?sd=4*sd-3:8==baseOut&&(sd=3*sd-2)):base=baseOut,(i=(str=finiteToString(x)).indexOf("."))>=0&&(str=str.replace(".",""),(y=new Ctor(1)).e=str.length-i,y.d=convertBase(finiteToString(y),10,base),y.e=y.d.length),e=len=(xd=convertBase(str,10,base)).length;0==xd[--len];)xd.pop();if(xd[0]){if(i<0?e--:((x=new Ctor(x)).d=xd,x.e=e,xd=(x=divide(x,y,sd,rm,0,base)).d,e=x.e,roundUp=inexact),i=xd[sd],k=base/2,roundUp=roundUp||void 0!==xd[sd+1],roundUp=rm<4?(void 0!==i||roundUp)&&(0===rm||rm===(x.s<0?3:2)):i>k||i===k&&(4===rm||roundUp||6===rm&&1&xd[sd-1]||rm===(x.s<0?8:7)),xd.length=sd,roundUp)for(;++xd[--sd]>base-1;)xd[sd]=0,sd||(++e,xd.unshift(1));for(len=xd.length;!xd[len-1];--len);for(i=0,str="";i<len;i++)str+=NUMERALS.charAt(xd[i]);if(isExp){if(len>1)if(16==baseOut||8==baseOut){for(i=16==baseOut?4:3,--len;len%i;len++)str+="0";for(len=(xd=convertBase(str,base,baseOut)).length;!xd[len-1];--len);for(i=1,str="1.";i<len;i++)str+=NUMERALS.charAt(xd[i])}else str=str.charAt(0)+"."+str.slice(1);str=str+(e<0?"p":"p+")+e}else if(e<0){for(;++e;)str="0"+str;str="0."+str}else if(++e>len)for(e-=len;e--;)str+="0";else e<len&&(str=str.slice(0,e)+"."+str.slice(e))}else str=isExp?"0p+0":"0";str=(16==baseOut?"0x":2==baseOut?"0b":8==baseOut?"0o":"")+str}else str=nonFiniteToString(x);return x.s<0?"-"+str:str}function truncate(arr,len){if(arr.length>len)return arr.length=len,!0}function abs(x){return new this(x).abs()}function acos(x){return new this(x).acos()}function acosh(x){return new this(x).acosh()}function add(x,y){return new this(x).plus(y)}function asin(x){return new this(x).asin()}function asinh(x){return new this(x).asinh()}function atan(x){return new this(x).atan()}function atanh(x){return new this(x).atanh()}function atan2(y,x){y=new this(y),x=new this(x);var r,pr=this.precision,rm=this.rounding,wpr=pr+4;return y.s&&x.s?y.d||x.d?!x.d||y.isZero()?(r=x.s<0?getPi(this,pr,rm):new this(0)).s=y.s:!y.d||x.isZero()?(r=getPi(this,wpr,1).times(.5)).s=y.s:x.s<0?(this.precision=wpr,this.rounding=1,r=this.atan(divide(y,x,wpr,1)),x=getPi(this,wpr,1),this.precision=pr,this.rounding=rm,r=y.s<0?r.minus(x):r.plus(x)):r=this.atan(divide(y,x,wpr,1)):(r=getPi(this,wpr,1).times(x.s>0?.25:.75)).s=y.s:r=new this(NaN),r}function cbrt(x){return new this(x).cbrt()}function ceil(x){return finalise(x=new this(x),x.e+1,2)}function clamp(x,min,max){return new this(x).clamp(min,max)}function config(obj){if(!obj||"object"!=typeof obj)throw Error(decimalError+"Object expected");var i,p,v,useDefaults=!0===obj.defaults,ps=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(i=0;i<ps.length;i+=3)if(p=ps[i],useDefaults&&(this[p]=DEFAULTS[p]),void 0!==(v=obj[p])){if(!(mathfloor(v)===v&&v>=ps[i+1]&&v<=ps[i+2]))throw Error(invalidArgument+p+": "+v);this[p]=v}if(p="crypto",useDefaults&&(this[p]=DEFAULTS[p]),void 0!==(v=obj[p])){if(!0!==v&&!1!==v&&0!==v&&1!==v)throw Error(invalidArgument+p+": "+v);if(v){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(cryptoUnavailable);this[p]=!0}else this[p]=!1}return this}function cos(x){return new this(x).cos()}function cosh(x){return new this(x).cosh()}function div(x,y){return new this(x).div(y)}function exp(x){return new this(x).exp()}function floor(x){return finalise(x=new this(x),x.e+1,3)}function hypot(){var i,n,t=new this(0);for(external=!1,i=0;i<arguments.length;)if((n=new this(arguments[i++])).d)t.d&&(t=t.plus(n.times(n)));else{if(n.s)return external=!0,new this(1/0);t=n}return external=!0,t.sqrt()}function isDecimalInstance(obj){return obj instanceof Decimal||obj&&obj.toStringTag===tag||!1}function ln(x){return new this(x).ln()}function log(x,y){return new this(x).log(y)}function log2(x){return new this(x).log(2)}function log10(x){return new this(x).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(x,y){return new this(x).mod(y)}function mul(x,y){return new this(x).mul(y)}function pow(x,y){return new this(x).pow(y)}function random(sd){var d,e,k,n,i=0,r=new this(1),rd=[];if(void 0===sd?sd=this.precision:checkInt32(sd,1,MAX_DIGITS),k=Math.ceil(sd/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(d=crypto.getRandomValues(new Uint32Array(k));i<k;)(n=d[i])>=429e7?d[i]=crypto.getRandomValues(new Uint32Array(1))[0]:rd[i++]=n%1e7;else{if(!crypto.randomBytes)throw Error(cryptoUnavailable);for(d=crypto.randomBytes(k*=4);i<k;)(n=d[i]+(d[i+1]<<8)+(d[i+2]<<16)+((127&d[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(d,i):(rd.push(n%1e7),i+=4);i=k/4}else for(;i<k;)rd[i++]=1e7*Math.random()|0;for(k=rd[--i],sd%=LOG_BASE,k&&sd&&(n=mathpow(10,LOG_BASE-sd),rd[i]=(k/n|0)*n);0===rd[i];i--)rd.pop();if(i<0)e=0,rd=[0];else{for(e=-1;0===rd[0];e-=LOG_BASE)rd.shift();for(k=1,n=rd[0];n>=10;n/=10)k++;k<LOG_BASE&&(e-=LOG_BASE-k)}return r.e=e,r.d=rd,r}function round(x){return finalise(x=new this(x),x.e+1,this.rounding)}function sign(x){return(x=new this(x)).d?x.d[0]?x.s:0*x.s:x.s||NaN}function sin(x){return new this(x).sin()}function sinh(x){return new this(x).sinh()}function sqrt(x){return new this(x).sqrt()}function sub(x,y){return new this(x).sub(y)}function sum(){var i=0,args=arguments,x=new this(args[i]);for(external=!1;x.s&&++i<args.length;)x=x.plus(args[i]);return external=!0,finalise(x,this.precision,this.rounding)}function tan(x){return new this(x).tan()}function tanh(x){return new this(x).tanh()}function trunc(x){return finalise(x=new this(x),x.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString,P[Symbol.toStringTag]="Decimal";var Decimal=P.constructor=function clone(obj){var i,p,ps;function Decimal(v){var e,i,t,x=this;if(!(x instanceof Decimal))return new Decimal(v);if(x.constructor=Decimal,isDecimalInstance(v))return x.s=v.s,void(external?!v.d||v.e>Decimal.maxE?(x.e=NaN,x.d=null):v.e<Decimal.minE?(x.e=0,x.d=[0]):(x.e=v.e,x.d=v.d.slice()):(x.e=v.e,x.d=v.d?v.d.slice():v.d));if("number"===(t=typeof v)){if(0===v)return x.s=1/v<0?-1:1,x.e=0,void(x.d=[0]);if(v<0?(v=-v,x.s=-1):x.s=1,v===~~v&&v<1e7){for(e=0,i=v;i>=10;i/=10)e++;return void(external?e>Decimal.maxE?(x.e=NaN,x.d=null):e<Decimal.minE?(x.e=0,x.d=[0]):(x.e=e,x.d=[v]):(x.e=e,x.d=[v]))}return 0*v!=0?(v||(x.s=NaN),x.e=NaN,void(x.d=null)):parseDecimal(x,v.toString())}if("string"!==t)throw Error(invalidArgument+v);return 45===(i=v.charCodeAt(0))?(v=v.slice(1),x.s=-1):(43===i&&(v=v.slice(1)),x.s=1),isDecimal.test(v)?parseDecimal(x,v):parseOther(x,v)}if(Decimal.prototype=P,Decimal.ROUND_UP=0,Decimal.ROUND_DOWN=1,Decimal.ROUND_CEIL=2,Decimal.ROUND_FLOOR=3,Decimal.ROUND_HALF_UP=4,Decimal.ROUND_HALF_DOWN=5,Decimal.ROUND_HALF_EVEN=6,Decimal.ROUND_HALF_CEIL=7,Decimal.ROUND_HALF_FLOOR=8,Decimal.EUCLID=9,Decimal.config=Decimal.set=config,Decimal.clone=clone,Decimal.isDecimal=isDecimalInstance,Decimal.abs=abs,Decimal.acos=acos,Decimal.acosh=acosh,Decimal.add=add,Decimal.asin=asin,Decimal.asinh=asinh,Decimal.atan=atan,Decimal.atanh=atanh,Decimal.atan2=atan2,Decimal.cbrt=cbrt,Decimal.ceil=ceil,Decimal.clamp=clamp,Decimal.cos=cos,Decimal.cosh=cosh,Decimal.div=div,Decimal.exp=exp,Decimal.floor=floor,Decimal.hypot=hypot,Decimal.ln=ln,Decimal.log=log,Decimal.log10=log10,Decimal.log2=log2,Decimal.max=max,Decimal.min=min,Decimal.mod=mod,Decimal.mul=mul,Decimal.pow=pow,Decimal.random=random,Decimal.round=round,Decimal.sign=sign,Decimal.sin=sin,Decimal.sinh=sinh,Decimal.sqrt=sqrt,Decimal.sub=sub,Decimal.sum=sum,Decimal.tan=tan,Decimal.tanh=tanh,Decimal.trunc=trunc,void 0===obj&&(obj={}),obj&&!0!==obj.defaults)for(ps=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],i=0;i<ps.length;)obj.hasOwnProperty(p=ps[i++])||(obj[p]=this[p]);return Decimal.config(obj),Decimal}(DEFAULTS);LN10=new Decimal(LN10),PI=new Decimal(PI),__webpack_exports__.Z=Decimal},"./node_modules/deep-equal/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var assign=__webpack_require__("./node_modules/object.assign/index.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),flags=__webpack_require__("./node_modules/regexp.prototype.flags/index.js"),GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),getIterator=__webpack_require__("./node_modules/es-get-iterator/index.js"),getSideChannel=__webpack_require__("./node_modules/side-channel/index.js"),is=__webpack_require__("./node_modules/object-is/index.js"),isArguments=__webpack_require__("./node_modules/is-arguments/index.js"),isArray=__webpack_require__("./node_modules/isarray/index.js"),isArrayBuffer=__webpack_require__("./node_modules/is-array-buffer/index.js"),isDate=__webpack_require__("./node_modules/is-date-object/index.js"),isRegex=__webpack_require__("./node_modules/is-regex/index.js"),isSharedArrayBuffer=__webpack_require__("./node_modules/is-shared-array-buffer/index.js"),objectKeys=__webpack_require__("./node_modules/object-keys/index.js"),whichBoxedPrimitive=__webpack_require__("./node_modules/which-boxed-primitive/index.js"),whichCollection=__webpack_require__("./node_modules/which-collection/index.js"),whichTypedArray=__webpack_require__("./node_modules/which-typed-array/index.js"),byteLength=__webpack_require__("./node_modules/array-buffer-byte-length/index.js"),sabByteLength=callBound("SharedArrayBuffer.prototype.byteLength",!0),$getTime=callBound("Date.prototype.getTime"),gPO=Object.getPrototypeOf,$objToString=callBound("Object.prototype.toString"),$Set=GetIntrinsic("%Set%",!0),$mapHas=callBound("Map.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSize=callBound("Map.prototype.size",!0),$setAdd=callBound("Set.prototype.add",!0),$setDelete=callBound("Set.prototype.delete",!0),$setHas=callBound("Set.prototype.has",!0),$setSize=callBound("Set.prototype.size",!0);function setHasEqualElement(set,val1,opts,channel){for(var result,i=getIterator(set);(result=i.next())&&!result.done;)if(internalDeepEqual(val1,result.value,opts,channel))return $setDelete(set,result.value),!0;return!1}function findLooseMatchingPrimitives(prim){return void 0===prim?null:"object"!=typeof prim?"symbol"!=typeof prim&&("string"!=typeof prim&&"number"!=typeof prim||+prim==+prim):void 0}function mapMightHaveLoosePrim(a,b,prim,item,opts,channel){var altValue=findLooseMatchingPrimitives(prim);if(null!=altValue)return altValue;var curB=$mapGet(b,altValue),looseOpts=assign({},opts,{strict:!1});return!(void 0===curB&&!$mapHas(b,altValue)||!internalDeepEqual(item,curB,looseOpts,channel))&&(!$mapHas(a,altValue)&&internalDeepEqual(item,curB,looseOpts,channel))}function setMightHaveLoosePrim(a,b,prim){var altValue=findLooseMatchingPrimitives(prim);return null!=altValue?altValue:$setHas(b,altValue)&&!$setHas(a,altValue)}function mapHasEqualEntry(set,map,key1,item1,opts,channel){for(var result,key2,i=getIterator(set);(result=i.next())&&!result.done;)if(internalDeepEqual(key1,key2=result.value,opts,channel)&&internalDeepEqual(item1,$mapGet(map,key2),opts,channel))return $setDelete(set,key2),!0;return!1}function internalDeepEqual(actual,expected,options,channel){var opts=options||{};if(opts.strict?is(actual,expected):actual===expected)return!0;if(whichBoxedPrimitive(actual)!==whichBoxedPrimitive(expected))return!1;if(!actual||!expected||"object"!=typeof actual&&"object"!=typeof expected)return opts.strict?is(actual,expected):actual==expected;var sentinel,hasActual=channel.has(actual),hasExpected=channel.has(expected);if(hasActual&&hasExpected){if(channel.get(actual)===channel.get(expected))return!0}else sentinel={};return hasActual||channel.set(actual,sentinel),hasExpected||channel.set(expected,sentinel),function objEquiv(a,b,opts,channel){var i,key;if(typeof a!=typeof b)return!1;if(null==a||null==b)return!1;if($objToString(a)!==$objToString(b))return!1;if(isArguments(a)!==isArguments(b))return!1;var aIsArray=isArray(a),bIsArray=isArray(b);if(aIsArray!==bIsArray)return!1;var aIsError=a instanceof Error,bIsError=b instanceof Error;if(aIsError!==bIsError)return!1;if((aIsError||bIsError)&&(a.name!==b.name||a.message!==b.message))return!1;var aIsRegex=isRegex(a),bIsRegex=isRegex(b);if(aIsRegex!==bIsRegex)return!1;if((aIsRegex||bIsRegex)&&(a.source!==b.source||flags(a)!==flags(b)))return!1;var aIsDate=isDate(a),bIsDate=isDate(b);if(aIsDate!==bIsDate)return!1;if((aIsDate||bIsDate)&&$getTime(a)!==$getTime(b))return!1;if(opts.strict&&gPO&&gPO(a)!==gPO(b))return!1;var aWhich=whichTypedArray(a),bWhich=whichTypedArray(b);if(aWhich!==bWhich)return!1;if(aWhich||bWhich){if(a.length!==b.length)return!1;for(i=0;i<a.length;i++)if(a[i]!==b[i])return!1;return!0}var aIsBuffer=isBuffer(a),bIsBuffer=isBuffer(b);if(aIsBuffer!==bIsBuffer)return!1;if(aIsBuffer||bIsBuffer){if(a.length!==b.length)return!1;for(i=0;i<a.length;i++)if(a[i]!==b[i])return!1;return!0}var aIsArrayBuffer=isArrayBuffer(a),bIsArrayBuffer=isArrayBuffer(b);if(aIsArrayBuffer!==bIsArrayBuffer)return!1;if(aIsArrayBuffer||bIsArrayBuffer)return byteLength(a)===byteLength(b)&&("function"==typeof Uint8Array&&internalDeepEqual(new Uint8Array(a),new Uint8Array(b),opts,channel));var aIsSAB=isSharedArrayBuffer(a),bIsSAB=isSharedArrayBuffer(b);if(aIsSAB!==bIsSAB)return!1;if(aIsSAB||bIsSAB)return sabByteLength(a)===sabByteLength(b)&&("function"==typeof Uint8Array&&internalDeepEqual(new Uint8Array(a),new Uint8Array(b),opts,channel));if(typeof a!=typeof b)return!1;var ka=objectKeys(a),kb=objectKeys(b);if(ka.length!==kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(!internalDeepEqual(a[key=ka[i]],b[key],opts,channel))return!1;var aCollection=whichCollection(a),bCollection=whichCollection(b);if(aCollection!==bCollection)return!1;if("Set"===aCollection||"Set"===bCollection)return function setEquiv(a,b,opts,channel){if($setSize(a)!==$setSize(b))return!1;var resultA,resultB,set,iA=getIterator(a),iB=getIterator(b);for(;(resultA=iA.next())&&!resultA.done;)if(resultA.value&&"object"==typeof resultA.value)set||(set=new $Set),$setAdd(set,resultA.value);else if(!$setHas(b,resultA.value)){if(opts.strict)return!1;if(!setMightHaveLoosePrim(a,b,resultA.value))return!1;set||(set=new $Set),$setAdd(set,resultA.value)}if(set){for(;(resultB=iB.next())&&!resultB.done;)if(resultB.value&&"object"==typeof resultB.value){if(!setHasEqualElement(set,resultB.value,opts.strict,channel))return!1}else if(!opts.strict&&!$setHas(a,resultB.value)&&!setHasEqualElement(set,resultB.value,opts.strict,channel))return!1;return 0===$setSize(set)}return!0}(a,b,opts,channel);if("Map"===aCollection)return function mapEquiv(a,b,opts,channel){if($mapSize(a)!==$mapSize(b))return!1;var resultA,resultB,set,key,item1,item2,iA=getIterator(a),iB=getIterator(b);for(;(resultA=iA.next())&&!resultA.done;)if(key=resultA.value[0],item1=resultA.value[1],key&&"object"==typeof key)set||(set=new $Set),$setAdd(set,key);else if(void 0===(item2=$mapGet(b,key))&&!$mapHas(b,key)||!internalDeepEqual(item1,item2,opts,channel)){if(opts.strict)return!1;if(!mapMightHaveLoosePrim(a,b,key,item1,opts,channel))return!1;set||(set=new $Set),$setAdd(set,key)}if(set){for(;(resultB=iB.next())&&!resultB.done;)if(key=resultB.value[0],item2=resultB.value[1],key&&"object"==typeof key){if(!mapHasEqualEntry(set,a,key,item2,opts,channel))return!1}else if(!(opts.strict||a.has(key)&&internalDeepEqual($mapGet(a,key),item2,opts,channel)||mapHasEqualEntry(set,a,key,item2,assign({},opts,{strict:!1}),channel)))return!1;return 0===$setSize(set)}return!0}(a,b,opts,channel);return!0}(actual,expected,opts,channel)}function isBuffer(x){return!(!x||"object"!=typeof x||"number"!=typeof x.length)&&("function"==typeof x.copy&&"function"==typeof x.slice&&(!(x.length>0&&"number"!=typeof x[0])&&!!(x.constructor&&x.constructor.isBuffer&&x.constructor.isBuffer(x))))}module.exports=function deepEqual(a,b,opts){return internalDeepEqual(a,b,opts,getSideChannel())}},"./node_modules/define-data-property/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $defineProperty=__webpack_require__("./node_modules/es-define-property/index.js"),$SyntaxError=__webpack_require__("./node_modules/es-errors/syntax.js"),$TypeError=__webpack_require__("./node_modules/es-errors/type.js"),gopd=__webpack_require__("./node_modules/gopd/index.js");module.exports=function defineDataProperty(obj,property,value){if(!obj||"object"!=typeof obj&&"function"!=typeof obj)throw new $TypeError("`obj` must be an object or a function`");if("string"!=typeof property&&"symbol"!=typeof property)throw new $TypeError("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new $TypeError("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new $TypeError("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new $TypeError("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new $TypeError("`loose`, if provided, must be a boolean");var nonEnumerable=arguments.length>3?arguments[3]:null,nonWritable=arguments.length>4?arguments[4]:null,nonConfigurable=arguments.length>5?arguments[5]:null,loose=arguments.length>6&&arguments[6],desc=!!gopd&&gopd(obj,property);if($defineProperty)$defineProperty(obj,property,{configurable:null===nonConfigurable&&desc?desc.configurable:!nonConfigurable,enumerable:null===nonEnumerable&&desc?desc.enumerable:!nonEnumerable,value:value,writable:null===nonWritable&&desc?desc.writable:!nonWritable});else{if(!loose&&(nonEnumerable||nonWritable||nonConfigurable))throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");obj[property]=value}}},"./node_modules/define-properties/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var keys=__webpack_require__("./node_modules/object-keys/index.js"),hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),toStr=Object.prototype.toString,concat=Array.prototype.concat,defineDataProperty=__webpack_require__("./node_modules/define-data-property/index.js"),supportsDescriptors=__webpack_require__("./node_modules/has-property-descriptors/index.js")(),defineProperty=function(object,name,value,predicate){if(name in object)if(!0===predicate){if(object[name]===value)return}else if("function"!=typeof(fn=predicate)||"[object Function]"!==toStr.call(fn)||!predicate())return;var fn;supportsDescriptors?defineDataProperty(object,name,value,!0):defineDataProperty(object,name,value)},defineProperties=function(object,map){var predicates=arguments.length>2?arguments[2]:{},props=keys(map);hasSymbols&&(props=concat.call(props,Object.getOwnPropertySymbols(map)));for(var i=0;i<props.length;i+=1)defineProperty(object,props[i],map[props[i]],predicates[props[i]])};defineProperties.supportsDescriptors=!!supportsDescriptors,module.exports=defineProperties},"./node_modules/earcut/src/earcut.js":function(module){"use strict";function earcut(data,holeIndices,dim){dim=dim||2;var minX,minY,maxX,maxY,x,y,invSize,hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,outerNode=linkedList(data,0,outerLen,dim,!0),triangles=[];if(!outerNode||outerNode.next===outerNode.prev)return triangles;if(hasHoles&&(outerNode=function eliminateHoles(data,holeIndices,outerNode,dim){var i,len,list,queue=[];for(i=0,len=holeIndices.length;i<len;i++)(list=linkedList(data,holeIndices[i]*dim,i<len-1?holeIndices[i+1]*dim:data.length,dim,!1))===list.next&&(list.steiner=!0),queue.push(getLeftmost(list));for(queue.sort(compareX),i=0;i<queue.length;i++)outerNode=eliminateHole(queue[i],outerNode);return outerNode}(data,holeIndices,outerNode,dim)),data.length>80*dim){minX=maxX=data[0],minY=maxY=data[1];for(var i=dim;i<outerLen;i+=dim)(x=data[i])<minX&&(minX=x),(y=data[i+1])<minY&&(minY=y),x>maxX&&(maxX=x),y>maxY&&(maxY=y);invSize=0!==(invSize=Math.max(maxX-minX,maxY-minY))?32767/invSize:0}return earcutLinked(outerNode,triangles,dim,minX,minY,invSize,0),triangles}function linkedList(data,start,end,dim,clockwise){var i,last;if(clockwise===signedArea(data,start,end,dim)>0)for(i=start;i<end;i+=dim)last=insertNode(i,data[i],data[i+1],last);else for(i=end-dim;i>=start;i-=dim)last=insertNode(i,data[i],data[i+1],last);return last&&equals(last,last.next)&&(removeNode(last),last=last.next),last}function filterPoints(start,end){if(!start)return start;end||(end=start);var again,p=start;do{if(again=!1,p.steiner||!equals(p,p.next)&&0!==area(p.prev,p,p.next))p=p.next;else{if(removeNode(p),(p=end=p.prev)===p.next)break;again=!0}}while(again||p!==end);return end}function earcutLinked(ear,triangles,dim,minX,minY,invSize,pass){if(ear){!pass&&invSize&&function indexCurve(start,minX,minY,invSize){var p=start;do{0===p.z&&(p.z=zOrder(p.x,p.y,minX,minY,invSize)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==start);p.prevZ.nextZ=null,p.prevZ=null,function sortLinked(list){var i,p,q,e,tail,numMerges,pSize,qSize,inSize=1;do{for(p=list,list=null,tail=null,numMerges=0;p;){for(numMerges++,q=p,pSize=0,i=0;i<inSize&&(pSize++,q=q.nextZ);i++);for(qSize=inSize;pSize>0||qSize>0&&q;)0!==pSize&&(0===qSize||!q||p.z<=q.z)?(e=p,p=p.nextZ,pSize--):(e=q,q=q.nextZ,qSize--),tail?tail.nextZ=e:list=e,e.prevZ=tail,tail=e;p=q}tail.nextZ=null,inSize*=2}while(numMerges>1);return list}(p)}(ear,minX,minY,invSize);for(var prev,next,stop=ear;ear.prev!==ear.next;)if(prev=ear.prev,next=ear.next,invSize?isEarHashed(ear,minX,minY,invSize):isEar(ear))triangles.push(prev.i/dim|0),triangles.push(ear.i/dim|0),triangles.push(next.i/dim|0),removeNode(ear),ear=next.next,stop=next.next;else if((ear=next)===stop){pass?1===pass?earcutLinked(ear=cureLocalIntersections(filterPoints(ear),triangles,dim),triangles,dim,minX,minY,invSize,2):2===pass&&splitEarcut(ear,triangles,dim,minX,minY,invSize):earcutLinked(filterPoints(ear),triangles,dim,minX,minY,invSize,1);break}}}function isEar(ear){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return!1;for(var ax=a.x,bx=b.x,cx=c.x,ay=a.y,by=b.y,cy=c.y,x0=ax<bx?ax<cx?ax:cx:bx<cx?bx:cx,y0=ay<by?ay<cy?ay:cy:by<cy?by:cy,x1=ax>bx?ax>cx?ax:cx:bx>cx?bx:cx,y1=ay>by?ay>cy?ay:cy:by>cy?by:cy,p=c.next;p!==a;){if(p.x>=x0&&p.x<=x1&&p.y>=y0&&p.y<=y1&&pointInTriangle(ax,ay,bx,by,cx,cy,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function isEarHashed(ear,minX,minY,invSize){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return!1;for(var ax=a.x,bx=b.x,cx=c.x,ay=a.y,by=b.y,cy=c.y,x0=ax<bx?ax<cx?ax:cx:bx<cx?bx:cx,y0=ay<by?ay<cy?ay:cy:by<cy?by:cy,x1=ax>bx?ax>cx?ax:cx:bx>cx?bx:cx,y1=ay>by?ay>cy?ay:cy:by>cy?by:cy,minZ=zOrder(x0,y0,minX,minY,invSize),maxZ=zOrder(x1,y1,minX,minY,invSize),p=ear.prevZ,n=ear.nextZ;p&&p.z>=minZ&&n&&n.z<=maxZ;){if(p.x>=x0&&p.x<=x1&&p.y>=y0&&p.y<=y1&&p!==a&&p!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,n.x>=x0&&n.x<=x1&&n.y>=y0&&n.y<=y1&&n!==a&&n!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,n.x,n.y)&&area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}for(;p&&p.z>=minZ;){if(p.x>=x0&&p.x<=x1&&p.y>=y0&&p.y<=y1&&p!==a&&p!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;n&&n.z<=maxZ;){if(n.x>=x0&&n.x<=x1&&n.y>=y0&&n.y<=y1&&n!==a&&n!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,n.x,n.y)&&area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}return!0}function cureLocalIntersections(start,triangles,dim){var p=start;do{var a=p.prev,b=p.next.next;!equals(a,b)&&intersects(a,p,p.next,b)&&locallyInside(a,b)&&locallyInside(b,a)&&(triangles.push(a.i/dim|0),triangles.push(p.i/dim|0),triangles.push(b.i/dim|0),removeNode(p),removeNode(p.next),p=start=b),p=p.next}while(p!==start);return filterPoints(p)}function splitEarcut(start,triangles,dim,minX,minY,invSize){var a=start;do{for(var b=a.next.next;b!==a.prev;){if(a.i!==b.i&&isValidDiagonal(a,b)){var c=splitPolygon(a,b);return a=filterPoints(a,a.next),c=filterPoints(c,c.next),earcutLinked(a,triangles,dim,minX,minY,invSize,0),void earcutLinked(c,triangles,dim,minX,minY,invSize,0)}b=b.next}a=a.next}while(a!==start)}function compareX(a,b){return a.x-b.x}function eliminateHole(hole,outerNode){var bridge=function findHoleBridge(hole,outerNode){var m,p=outerNode,hx=hole.x,hy=hole.y,qx=-1/0;do{if(hy<=p.y&&hy>=p.next.y&&p.next.y!==p.y){var x=p.x+(hy-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(x<=hx&&x>qx&&(qx=x,m=p.x<p.next.x?p:p.next,x===hx))return m}p=p.next}while(p!==outerNode);if(!m)return null;var tan,stop=m,mx=m.x,my=m.y,tanMin=1/0;p=m;do{hx>=p.x&&p.x>=mx&&hx!==p.x&&pointInTriangle(hy<my?hx:qx,hy,mx,my,hy<my?qx:hx,hy,p.x,p.y)&&(tan=Math.abs(hy-p.y)/(hx-p.x),locallyInside(p,hole)&&(tan<tanMin||tan===tanMin&&(p.x>m.x||p.x===m.x&&sectorContainsSector(m,p)))&&(m=p,tanMin=tan)),p=p.next}while(p!==stop);return m}(hole,outerNode);if(!bridge)return outerNode;var bridgeReverse=splitPolygon(bridge,hole);return filterPoints(bridgeReverse,bridgeReverse.next),filterPoints(bridge,bridge.next)}function sectorContainsSector(m,p){return area(m.prev,m,p.prev)<0&&area(p.next,m,m.next)<0}function zOrder(x,y,minX,minY,invSize){return(x=1431655765&((x=858993459&((x=252645135&((x=16711935&((x=(x-minX)*invSize|0)|x<<8))|x<<4))|x<<2))|x<<1))|(y=1431655765&((y=858993459&((y=252645135&((y=16711935&((y=(y-minY)*invSize|0)|y<<8))|y<<4))|y<<2))|y<<1))<<1}function getLeftmost(start){var p=start,leftmost=start;do{(p.x<leftmost.x||p.x===leftmost.x&&p.y<leftmost.y)&&(leftmost=p),p=p.next}while(p!==start);return leftmost}function pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return(cx-px)*(ay-py)>=(ax-px)*(cy-py)&&(ax-px)*(by-py)>=(bx-px)*(ay-py)&&(bx-px)*(cy-py)>=(cx-px)*(by-py)}function isValidDiagonal(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function intersectsPolygon(a,b){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&intersects(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}(a,b)&&(locallyInside(a,b)&&locallyInside(b,a)&&function middleInside(a,b){var p=a,inside=!1,px=(a.x+b.x)/2,py=(a.y+b.y)/2;do{p.y>py!=p.next.y>py&&p.next.y!==p.y&&px<(p.next.x-p.x)*(py-p.y)/(p.next.y-p.y)+p.x&&(inside=!inside),p=p.next}while(p!==a);return inside}(a,b)&&(area(a.prev,a,b.prev)||area(a,b.prev,b))||equals(a,b)&&area(a.prev,a,a.next)>0&&area(b.prev,b,b.next)>0)}function area(p,q,r){return(q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y)}function equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y}function intersects(p1,q1,p2,q2){var o1=sign(area(p1,q1,p2)),o2=sign(area(p1,q1,q2)),o3=sign(area(p2,q2,p1)),o4=sign(area(p2,q2,q1));return o1!==o2&&o3!==o4||(!(0!==o1||!onSegment(p1,p2,q1))||(!(0!==o2||!onSegment(p1,q2,q1))||(!(0!==o3||!onSegment(p2,p1,q2))||!(0!==o4||!onSegment(p2,q1,q2)))))}function onSegment(p,q,r){return q.x<=Math.max(p.x,r.x)&&q.x>=Math.min(p.x,r.x)&&q.y<=Math.max(p.y,r.y)&&q.y>=Math.min(p.y,r.y)}function sign(num){return num>0?1:num<0?-1:0}function locallyInside(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0}function splitPolygon(a,b){var a2=new Node(a.i,a.x,a.y),b2=new Node(b.i,b.x,b.y),an=a.next,bp=b.prev;return a.next=b,b.prev=a,a2.next=an,an.prev=a2,b2.next=a2,a2.prev=b2,bp.next=b2,b2.prev=bp,b2}function insertNode(i,x,y,last){var p=new Node(i,x,y);return last?(p.next=last.next,p.prev=last,last.next.prev=p,last.next=p):(p.prev=p,p.next=p),p}function removeNode(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function Node(i,x,y){this.i=i,this.x=x,this.y=y,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(data,start,end,dim){for(var sum=0,i=start,j=end-dim;i<end;i+=dim)sum+=(data[j]-data[i])*(data[i+1]+data[j+1]),j=i;return sum}module.exports=earcut,module.exports.default=earcut,earcut.deviation=function(data,holeIndices,dim,triangles){var hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,polygonArea=Math.abs(signedArea(data,0,outerLen,dim));if(hasHoles)for(var i=0,len=holeIndices.length;i<len;i++){var start=holeIndices[i]*dim,end=i<len-1?holeIndices[i+1]*dim:data.length;polygonArea-=Math.abs(signedArea(data,start,end,dim))}var trianglesArea=0;for(i=0;i<triangles.length;i+=3){var a=triangles[i]*dim,b=triangles[i+1]*dim,c=triangles[i+2]*dim;trianglesArea+=Math.abs((data[a]-data[c])*(data[b+1]-data[a+1])-(data[a]-data[b])*(data[c+1]-data[a+1]))}return 0===polygonArea&&0===trianglesArea?0:Math.abs((trianglesArea-polygonArea)/polygonArea)},earcut.flatten=function(data){for(var dim=data[0][0].length,result={vertices:[],holes:[],dimensions:dim},holeIndex=0,i=0;i<data.length;i++){for(var j=0;j<data[i].length;j++)for(var d=0;d<dim;d++)result.vertices.push(data[i][j][d]);i>0&&(holeIndex+=data[i-1].length,result.holes.push(holeIndex))}return result}},"./node_modules/es-define-property/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $defineProperty=__webpack_require__("./node_modules/get-intrinsic/index.js")("%Object.defineProperty%",!0)||!1;if($defineProperty)try{$defineProperty({},"a",{value:1})}catch(e){$defineProperty=!1}module.exports=$defineProperty},"./node_modules/es-errors/eval.js":function(module){"use strict";module.exports=EvalError},"./node_modules/es-errors/index.js":function(module){"use strict";module.exports=Error},"./node_modules/es-errors/range.js":function(module){"use strict";module.exports=RangeError},"./node_modules/es-errors/ref.js":function(module){"use strict";module.exports=ReferenceError},"./node_modules/es-errors/syntax.js":function(module){"use strict";module.exports=SyntaxError},"./node_modules/es-errors/type.js":function(module){"use strict";module.exports=TypeError},"./node_modules/es-errors/uri.js":function(module){"use strict";module.exports=URIError},"./node_modules/es-get-iterator/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var process=__webpack_require__("./node_modules/process/browser.js"),isArguments=__webpack_require__("./node_modules/is-arguments/index.js"),getStopIterationIterator=__webpack_require__("./node_modules/stop-iteration-iterator/index.js");if(__webpack_require__("./node_modules/has-symbols/index.js")()||__webpack_require__("./node_modules/has-symbols/shams.js")()){var $iterator=Symbol.iterator;module.exports=function getIterator(iterable){return null!=iterable&&void 0!==iterable[$iterator]?iterable[$iterator]():isArguments(iterable)?Array.prototype[$iterator].call(iterable):void 0}}else{var isArray=__webpack_require__("./node_modules/isarray/index.js"),isString=__webpack_require__("./node_modules/is-string/index.js"),GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),$Map=GetIntrinsic("%Map%",!0),$Set=GetIntrinsic("%Set%",!0),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),$arrayPush=callBound("Array.prototype.push"),$charCodeAt=callBound("String.prototype.charCodeAt"),$stringSlice=callBound("String.prototype.slice"),getArrayIterator=function getArrayIterator(arraylike){var i=0;return{next:function next(){var value,done=i>=arraylike.length;return done||(value=arraylike[i],i+=1),{done:done,value:value}}}},getNonCollectionIterator=function getNonCollectionIterator(iterable,noPrimordialCollections){if(isArray(iterable)||isArguments(iterable))return getArrayIterator(iterable);if(isString(iterable)){var i=0;return{next:function next(){var nextIndex=function advanceStringIndex(S,index){if(index+1>=S.length)return index+1;var first=$charCodeAt(S,index);if(first<55296||first>56319)return index+1;var second=$charCodeAt(S,index+1);return second<56320||second>57343?index+1:index+2}(iterable,i),value=$stringSlice(iterable,i,nextIndex);return i=nextIndex,{done:nextIndex>iterable.length,value:value}}}}return noPrimordialCollections&&void 0!==iterable["_es6-shim iterator_"]?iterable["_es6-shim iterator_"]():void 0};if($Map||$Set){var isMap=__webpack_require__("./node_modules/is-map/index.js"),isSet=__webpack_require__("./node_modules/is-set/index.js"),$mapForEach=callBound("Map.prototype.forEach",!0),$setForEach=callBound("Set.prototype.forEach",!0);if(void 0===process||!process.versions||!process.versions.node)var $mapIterator=callBound("Map.prototype.iterator",!0),$setIterator=callBound("Set.prototype.iterator",!0);var $mapAtAtIterator=callBound("Map.prototype.@@iterator",!0)||callBound("Map.prototype._es6-shim iterator_",!0),$setAtAtIterator=callBound("Set.prototype.@@iterator",!0)||callBound("Set.prototype._es6-shim iterator_",!0);module.exports=function getIterator(iterable){return function getCollectionIterator(iterable){if(isMap(iterable)){if($mapIterator)return getStopIterationIterator($mapIterator(iterable));if($mapAtAtIterator)return $mapAtAtIterator(iterable);if($mapForEach){var entries=[];return $mapForEach(iterable,(function(v,k){$arrayPush(entries,[k,v])})),getArrayIterator(entries)}}if(isSet(iterable)){if($setIterator)return getStopIterationIterator($setIterator(iterable));if($setAtAtIterator)return $setAtAtIterator(iterable);if($setForEach){var values=[];return $setForEach(iterable,(function(v){$arrayPush(values,v)})),getArrayIterator(values)}}}(iterable)||getNonCollectionIterator(iterable)}}else module.exports=function getIterator(iterable){if(null!=iterable)return getNonCollectionIterator(iterable,!0)}}},"./node_modules/eventemitter3/index.js":function(module){"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!=typeof fn)throw new TypeError("The listener must be a function");var listener=new EE(fn,context||emitter,once),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){0==--emitter._eventsCount?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function eventNames(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function listeners(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++)ee[i]=handlers[i].fn;return ee},EventEmitter.prototype.listenerCount=function listenerCount(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0},EventEmitter.prototype.emit=function emit(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function on(event,fn,context){return addListener(this,event,fn,context,!1)},EventEmitter.prototype.once=function once(event,fn,context){return addListener(this,event,fn,context,!0)},EventEmitter.prototype.removeListener=function removeListener(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||clearEvent(this,evt);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:clearEvent(this,evt)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=prefix,EventEmitter.EventEmitter=EventEmitter,module.exports=EventEmitter},"./node_modules/fast-xml-parser/src/fxp.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";const validator=__webpack_require__("./node_modules/fast-xml-parser/src/validator.js"),XMLParser=__webpack_require__("./node_modules/fast-xml-parser/src/xmlparser/XMLParser.js"),XMLBuilder=__webpack_require__("./node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js");module.exports={XMLParser:XMLParser,XMLValidator:validator,XMLBuilder:XMLBuilder}},"./node_modules/fast-xml-parser/src/util.js":function(__unused_webpack_module,exports){"use strict";const nameStartChar=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",nameRegexp="["+nameStartChar+"]["+(nameStartChar+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*",regexName=new RegExp("^"+nameRegexp+"$");exports.isExist=function(v){return void 0!==v},exports.isEmptyObject=function(obj){return 0===Object.keys(obj).length},exports.merge=function(target,a,arrayMode){if(a){const keys=Object.keys(a),len=keys.length;for(let i=0;i<len;i++)target[keys[i]]="strict"===arrayMode?[a[keys[i]]]:a[keys[i]]}},exports.getValue=function(v){return exports.isExist(v)?v:""},exports.isName=function(string){const match=regexName.exec(string);return!(null==match)},exports.getAllMatches=function(string,regex){const matches=[];let match=regex.exec(string);for(;match;){const allmatches=[];allmatches.startIndex=regex.lastIndex-match[0].length;const len=match.length;for(let index=0;index<len;index++)allmatches.push(match[index]);matches.push(allmatches),match=regex.exec(string)}return matches},exports.nameRegexp=nameRegexp},"./node_modules/fast-xml-parser/src/validator.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";const util=__webpack_require__("./node_modules/fast-xml-parser/src/util.js"),defaultOptions={allowBooleanAttributes:!1,unpairedTags:[]};function isWhiteSpace(char){return" "===char||"\t"===char||"\n"===char||"\r"===char}function readPI(xmlData,i){const start=i;for(;i<xmlData.length;i++)if("?"!=xmlData[i]&&" "!=xmlData[i]);else{const tagname=xmlData.substr(start,i-start);if(i>5&&"xml"===tagname)return getErrorObject("InvalidXml","XML declaration allowed only at the start of the document.",getLineNumberForPosition(xmlData,i));if("?"==xmlData[i]&&">"==xmlData[i+1]){i++;break}}return i}function readCommentAndCDATA(xmlData,i){if(xmlData.length>i+5&&"-"===xmlData[i+1]&&"-"===xmlData[i+2]){for(i+=3;i<xmlData.length;i++)if("-"===xmlData[i]&&"-"===xmlData[i+1]&&">"===xmlData[i+2]){i+=2;break}}else if(xmlData.length>i+8&&"D"===xmlData[i+1]&&"O"===xmlData[i+2]&&"C"===xmlData[i+3]&&"T"===xmlData[i+4]&&"Y"===xmlData[i+5]&&"P"===xmlData[i+6]&&"E"===xmlData[i+7]){let angleBracketsCount=1;for(i+=8;i<xmlData.length;i++)if("<"===xmlData[i])angleBracketsCount++;else if(">"===xmlData[i]&&(angleBracketsCount--,0===angleBracketsCount))break}else if(xmlData.length>i+9&&"["===xmlData[i+1]&&"C"===xmlData[i+2]&&"D"===xmlData[i+3]&&"A"===xmlData[i+4]&&"T"===xmlData[i+5]&&"A"===xmlData[i+6]&&"["===xmlData[i+7])for(i+=8;i<xmlData.length;i++)if("]"===xmlData[i]&&"]"===xmlData[i+1]&&">"===xmlData[i+2]){i+=2;break}return i}exports.validate=function(xmlData,options){options=Object.assign({},defaultOptions,options);const tags=[];let tagFound=!1,reachedRoot=!1;"\ufeff"===xmlData[0]&&(xmlData=xmlData.substr(1));for(let i=0;i<xmlData.length;i++)if("<"===xmlData[i]&&"?"===xmlData[i+1]){if(i+=2,i=readPI(xmlData,i),i.err)return i}else{if("<"!==xmlData[i]){if(isWhiteSpace(xmlData[i]))continue;return getErrorObject("InvalidChar","char '"+xmlData[i]+"' is not expected.",getLineNumberForPosition(xmlData,i))}{let tagStartPos=i;if(i++,"!"===xmlData[i]){i=readCommentAndCDATA(xmlData,i);continue}{let closingTag=!1;"/"===xmlData[i]&&(closingTag=!0,i++);let tagName="";for(;i<xmlData.length&&">"!==xmlData[i]&&" "!==xmlData[i]&&"\t"!==xmlData[i]&&"\n"!==xmlData[i]&&"\r"!==xmlData[i];i++)tagName+=xmlData[i];if(tagName=tagName.trim(),"/"===tagName[tagName.length-1]&&(tagName=tagName.substring(0,tagName.length-1),i--),tagname=tagName,!util.isName(tagname)){let msg;return msg=0===tagName.trim().length?"Invalid space after '<'.":"Tag '"+tagName+"' is an invalid name.",getErrorObject("InvalidTag",msg,getLineNumberForPosition(xmlData,i))}const result=readAttributeStr(xmlData,i);if(!1===result)return getErrorObject("InvalidAttr","Attributes for '"+tagName+"' have open quote.",getLineNumberForPosition(xmlData,i));let attrStr=result.value;if(i=result.index,"/"===attrStr[attrStr.length-1]){const attrStrStart=i-attrStr.length;attrStr=attrStr.substring(0,attrStr.length-1);const isValid=validateAttributeString(attrStr,options);if(!0!==isValid)return getErrorObject(isValid.err.code,isValid.err.msg,getLineNumberForPosition(xmlData,attrStrStart+isValid.err.line));tagFound=!0}else if(closingTag){if(!result.tagClosed)return getErrorObject("InvalidTag","Closing tag '"+tagName+"' doesn't have proper closing.",getLineNumberForPosition(xmlData,i));if(attrStr.trim().length>0)return getErrorObject("InvalidTag","Closing tag '"+tagName+"' can't have attributes or invalid starting.",getLineNumberForPosition(xmlData,tagStartPos));if(0===tags.length)return getErrorObject("InvalidTag","Closing tag '"+tagName+"' has not been opened.",getLineNumberForPosition(xmlData,tagStartPos));{const otg=tags.pop();if(tagName!==otg.tagName){let openPos=getLineNumberForPosition(xmlData,otg.tagStartPos);return getErrorObject("InvalidTag","Expected closing tag '"+otg.tagName+"' (opened in line "+openPos.line+", col "+openPos.col+") instead of closing tag '"+tagName+"'.",getLineNumberForPosition(xmlData,tagStartPos))}0==tags.length&&(reachedRoot=!0)}}else{const isValid=validateAttributeString(attrStr,options);if(!0!==isValid)return getErrorObject(isValid.err.code,isValid.err.msg,getLineNumberForPosition(xmlData,i-attrStr.length+isValid.err.line));if(!0===reachedRoot)return getErrorObject("InvalidXml","Multiple possible root nodes found.",getLineNumberForPosition(xmlData,i));-1!==options.unpairedTags.indexOf(tagName)||tags.push({tagName:tagName,tagStartPos:tagStartPos}),tagFound=!0}for(i++;i<xmlData.length;i++)if("<"===xmlData[i]){if("!"===xmlData[i+1]){i++,i=readCommentAndCDATA(xmlData,i);continue}if("?"!==xmlData[i+1])break;if(i=readPI(xmlData,++i),i.err)return i}else if("&"===xmlData[i]){const afterAmp=validateAmpersand(xmlData,i);if(-1==afterAmp)return getErrorObject("InvalidChar","char '&' is not expected.",getLineNumberForPosition(xmlData,i));i=afterAmp}else if(!0===reachedRoot&&!isWhiteSpace(xmlData[i]))return getErrorObject("InvalidXml","Extra text at the end",getLineNumberForPosition(xmlData,i));"<"===xmlData[i]&&i--}}}var tagname;return tagFound?1==tags.length?getErrorObject("InvalidTag","Unclosed tag '"+tags[0].tagName+"'.",getLineNumberForPosition(xmlData,tags[0].tagStartPos)):!(tags.length>0)||getErrorObject("InvalidXml","Invalid '"+JSON.stringify(tags.map((t=>t.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):getErrorObject("InvalidXml","Start tag expected.",1)};const doubleQuote='"',singleQuote="'";function readAttributeStr(xmlData,i){let attrStr="",startChar="",tagClosed=!1;for(;i<xmlData.length;i++){if(xmlData[i]===doubleQuote||xmlData[i]===singleQuote)""===startChar?startChar=xmlData[i]:startChar!==xmlData[i]||(startChar="");else if(">"===xmlData[i]&&""===startChar){tagClosed=!0;break}attrStr+=xmlData[i]}return""===startChar&&{value:attrStr,index:i,tagClosed:tagClosed}}const validAttrStrRegxp=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function validateAttributeString(attrStr,options){const matches=util.getAllMatches(attrStr,validAttrStrRegxp),attrNames={};for(let i=0;i<matches.length;i++){if(0===matches[i][1].length)return getErrorObject("InvalidAttr","Attribute '"+matches[i][2]+"' has no space in starting.",getPositionFromMatch(matches[i]));if(void 0!==matches[i][3]&&void 0===matches[i][4])return getErrorObject("InvalidAttr","Attribute '"+matches[i][2]+"' is without value.",getPositionFromMatch(matches[i]));if(void 0===matches[i][3]&&!options.allowBooleanAttributes)return getErrorObject("InvalidAttr","boolean attribute '"+matches[i][2]+"' is not allowed.",getPositionFromMatch(matches[i]));const attrName=matches[i][2];if(!validateAttrName(attrName))return getErrorObject("InvalidAttr","Attribute '"+attrName+"' is an invalid name.",getPositionFromMatch(matches[i]));if(attrNames.hasOwnProperty(attrName))return getErrorObject("InvalidAttr","Attribute '"+attrName+"' is repeated.",getPositionFromMatch(matches[i]));attrNames[attrName]=1}return!0}function validateAmpersand(xmlData,i){if(";"===xmlData[++i])return-1;if("#"===xmlData[i])return function validateNumberAmpersand(xmlData,i){let re=/\d/;for("x"===xmlData[i]&&(i++,re=/[\da-fA-F]/);i<xmlData.length;i++){if(";"===xmlData[i])return i;if(!xmlData[i].match(re))break}return-1}(xmlData,++i);let count=0;for(;i<xmlData.length;i++,count++)if(!(xmlData[i].match(/\w/)&&count<20)){if(";"===xmlData[i])break;return-1}return i}function getErrorObject(code,message,lineNumber){return{err:{code:code,msg:message,line:lineNumber.line||lineNumber,col:lineNumber.col}}}function validateAttrName(attrName){return util.isName(attrName)}function getLineNumberForPosition(xmlData,index){const lines=xmlData.substring(0,index).split(/\r?\n/);return{line:lines.length,col:lines[lines.length-1].length+1}}function getPositionFromMatch(match){return match.startIndex+match[1].length}},"./node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";const buildFromOrderedJs=__webpack_require__("./node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js"),defaultOptions={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(key,a){return a},attributeValueProcessor:function(attrName,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Builder(options){this.options=Object.assign({},defaultOptions,options),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=isAttribute),this.processTextOrObjNode=processTextOrObjNode,this.options.format?(this.indentate=indentate,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function processTextOrObjNode(object,key,level){const result=this.j2x(object,level+1);return void 0!==object[this.options.textNodeName]&&1===Object.keys(object).length?this.buildTextValNode(object[this.options.textNodeName],key,result.attrStr,level):this.buildObjectNode(result.val,key,result.attrStr,level)}function indentate(level){return this.options.indentBy.repeat(level)}function isAttribute(name){return!(!name.startsWith(this.options.attributeNamePrefix)||name===this.options.textNodeName)&&name.substr(this.attrPrefixLen)}Builder.prototype.build=function(jObj){return this.options.preserveOrder?buildFromOrderedJs(jObj,this.options):(Array.isArray(jObj)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(jObj={[this.options.arrayNodeName]:jObj}),this.j2x(jObj,0).val)},Builder.prototype.j2x=function(jObj,level){let attrStr="",val="";for(let key in jObj)if(Object.prototype.hasOwnProperty.call(jObj,key))if(void 0===jObj[key])this.isAttribute(key)&&(val+="");else if(null===jObj[key])this.isAttribute(key)?val+="":"?"===key[0]?val+=this.indentate(level)+"<"+key+"?"+this.tagEndChar:val+=this.indentate(level)+"<"+key+"/"+this.tagEndChar;else if(jObj[key]instanceof Date)val+=this.buildTextValNode(jObj[key],key,"",level);else if("object"!=typeof jObj[key]){const attr=this.isAttribute(key);if(attr)attrStr+=this.buildAttrPairStr(attr,""+jObj[key]);else if(key===this.options.textNodeName){let newval=this.options.tagValueProcessor(key,""+jObj[key]);val+=this.replaceEntitiesValue(newval)}else val+=this.buildTextValNode(jObj[key],key,"",level)}else if(Array.isArray(jObj[key])){const arrLen=jObj[key].length;let listTagVal="",listTagAttr="";for(let j=0;j<arrLen;j++){const item=jObj[key][j];if(void 0===item);else if(null===item)"?"===key[0]?val+=this.indentate(level)+"<"+key+"?"+this.tagEndChar:val+=this.indentate(level)+"<"+key+"/"+this.tagEndChar;else if("object"==typeof item)if(this.options.oneListGroup){const result=this.j2x(item,level+1);listTagVal+=result.val,this.options.attributesGroupName&&item.hasOwnProperty(this.options.attributesGroupName)&&(listTagAttr+=result.attrStr)}else listTagVal+=this.processTextOrObjNode(item,key,level);else if(this.options.oneListGroup){let textValue=this.options.tagValueProcessor(key,item);textValue=this.replaceEntitiesValue(textValue),listTagVal+=textValue}else listTagVal+=this.buildTextValNode(item,key,"",level)}this.options.oneListGroup&&(listTagVal=this.buildObjectNode(listTagVal,key,listTagAttr,level)),val+=listTagVal}else if(this.options.attributesGroupName&&key===this.options.attributesGroupName){const Ks=Object.keys(jObj[key]),L=Ks.length;for(let j=0;j<L;j++)attrStr+=this.buildAttrPairStr(Ks[j],""+jObj[key][Ks[j]])}else val+=this.processTextOrObjNode(jObj[key],key,level);return{attrStr:attrStr,val:val}},Builder.prototype.buildAttrPairStr=function(attrName,val){return val=this.options.attributeValueProcessor(attrName,""+val),val=this.replaceEntitiesValue(val),this.options.suppressBooleanAttributes&&"true"===val?" "+attrName:" "+attrName+'="'+val+'"'},Builder.prototype.buildObjectNode=function(val,key,attrStr,level){if(""===val)return"?"===key[0]?this.indentate(level)+"<"+key+attrStr+"?"+this.tagEndChar:this.indentate(level)+"<"+key+attrStr+this.closeTag(key)+this.tagEndChar;{let tagEndExp="</"+key+this.tagEndChar,piClosingChar="";return"?"===key[0]&&(piClosingChar="?",tagEndExp=""),!attrStr&&""!==attrStr||-1!==val.indexOf("<")?!1!==this.options.commentPropName&&key===this.options.commentPropName&&0===piClosingChar.length?this.indentate(level)+`\x3c!--${val}--\x3e`+this.newLine:this.indentate(level)+"<"+key+attrStr+piClosingChar+this.tagEndChar+val+this.indentate(level)+tagEndExp:this.indentate(level)+"<"+key+attrStr+piClosingChar+">"+val+tagEndExp}},Builder.prototype.closeTag=function(key){let closeTag="";return-1!==this.options.unpairedTags.indexOf(key)?this.options.suppressUnpairedNode||(closeTag="/"):closeTag=this.options.suppressEmptyNode?"/":`></${key}`,closeTag},Builder.prototype.buildTextValNode=function(val,key,attrStr,level){if(!1!==this.options.cdataPropName&&key===this.options.cdataPropName)return this.indentate(level)+`<![CDATA[${val}]]>`+this.newLine;if(!1!==this.options.commentPropName&&key===this.options.commentPropName)return this.indentate(level)+`\x3c!--${val}--\x3e`+this.newLine;if("?"===key[0])return this.indentate(level)+"<"+key+attrStr+"?"+this.tagEndChar;{let textValue=this.options.tagValueProcessor(key,val);return textValue=this.replaceEntitiesValue(textValue),""===textValue?this.indentate(level)+"<"+key+attrStr+this.closeTag(key)+this.tagEndChar:this.indentate(level)+"<"+key+attrStr+">"+textValue+"</"+key+this.tagEndChar}},Builder.prototype.replaceEntitiesValue=function(textValue){if(textValue&&textValue.length>0&&this.options.processEntities)for(let i=0;i<this.options.entities.length;i++){const entity=this.options.entities[i];textValue=textValue.replace(entity.regex,entity.val)}return textValue},module.exports=Builder},"./node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js":function(module){function arrToStr(arr,options,jPath,indentation){let xmlStr="",isPreviousElementTag=!1;for(let i=0;i<arr.length;i++){const tagObj=arr[i],tagName=propName(tagObj);if(void 0===tagName)continue;let newJPath="";if(newJPath=0===jPath.length?tagName:`${jPath}.${tagName}`,tagName===options.textNodeName){let tagText=tagObj[tagName];isStopNode(newJPath,options)||(tagText=options.tagValueProcessor(tagName,tagText),tagText=replaceEntitiesValue(tagText,options)),isPreviousElementTag&&(xmlStr+=indentation),xmlStr+=tagText,isPreviousElementTag=!1;continue}if(tagName===options.cdataPropName){isPreviousElementTag&&(xmlStr+=indentation),xmlStr+=`<![CDATA[${tagObj[tagName][0][options.textNodeName]}]]>`,isPreviousElementTag=!1;continue}if(tagName===options.commentPropName){xmlStr+=indentation+`\x3c!--${tagObj[tagName][0][options.textNodeName]}--\x3e`,isPreviousElementTag=!0;continue}if("?"===tagName[0]){const attStr=attr_to_str(tagObj[":@"],options),tempInd="?xml"===tagName?"":indentation;let piTextNodeName=tagObj[tagName][0][options.textNodeName];piTextNodeName=0!==piTextNodeName.length?" "+piTextNodeName:"",xmlStr+=tempInd+`<${tagName}${piTextNodeName}${attStr}?>`,isPreviousElementTag=!0;continue}let newIdentation=indentation;""!==newIdentation&&(newIdentation+=options.indentBy);const tagStart=indentation+`<${tagName}${attr_to_str(tagObj[":@"],options)}`,tagValue=arrToStr(tagObj[tagName],options,newJPath,newIdentation);-1!==options.unpairedTags.indexOf(tagName)?options.suppressUnpairedNode?xmlStr+=tagStart+">":xmlStr+=tagStart+"/>":tagValue&&0!==tagValue.length||!options.suppressEmptyNode?tagValue&&tagValue.endsWith(">")?xmlStr+=tagStart+`>${tagValue}${indentation}</${tagName}>`:(xmlStr+=tagStart+">",tagValue&&""!==indentation&&(tagValue.includes("/>")||tagValue.includes("</"))?xmlStr+=indentation+options.indentBy+tagValue+indentation:xmlStr+=tagValue,xmlStr+=`</${tagName}>`):xmlStr+=tagStart+"/>",isPreviousElementTag=!0}return xmlStr}function propName(obj){const keys=Object.keys(obj);for(let i=0;i<keys.length;i++){const key=keys[i];if(obj.hasOwnProperty(key)&&":@"!==key)return key}}function attr_to_str(attrMap,options){let attrStr="";if(attrMap&&!options.ignoreAttributes)for(let attr in attrMap){if(!attrMap.hasOwnProperty(attr))continue;let attrVal=options.attributeValueProcessor(attr,attrMap[attr]);attrVal=replaceEntitiesValue(attrVal,options),!0===attrVal&&options.suppressBooleanAttributes?attrStr+=` ${attr.substr(options.attributeNamePrefix.length)}`:attrStr+=` ${attr.substr(options.attributeNamePrefix.length)}="${attrVal}"`}return attrStr}function isStopNode(jPath,options){let tagName=(jPath=jPath.substr(0,jPath.length-options.textNodeName.length-1)).substr(jPath.lastIndexOf(".")+1);for(let index in options.stopNodes)if(options.stopNodes[index]===jPath||options.stopNodes[index]==="*."+tagName)return!0;return!1}function replaceEntitiesValue(textValue,options){if(textValue&&textValue.length>0&&options.processEntities)for(let i=0;i<options.entities.length;i++){const entity=options.entities[i];textValue=textValue.replace(entity.regex,entity.val)}return textValue}module.exports=function toXml(jArray,options){let indentation="";return options.format&&options.indentBy.length>0&&(indentation="\n"),arrToStr(jArray,options,"",indentation)}},"./node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js":function(module,__unused_webpack_exports,__webpack_require__){const util=__webpack_require__("./node_modules/fast-xml-parser/src/util.js");function readEntityExp(xmlData,i){let entityName="";for(;i<xmlData.length&&"'"!==xmlData[i]&&'"'!==xmlData[i];i++)entityName+=xmlData[i];if(entityName=entityName.trim(),-1!==entityName.indexOf(" "))throw new Error("External entites are not supported");const startChar=xmlData[i++];let val="";for(;i<xmlData.length&&xmlData[i]!==startChar;i++)val+=xmlData[i];return[entityName,val,i]}function isComment(xmlData,i){return"!"===xmlData[i+1]&&"-"===xmlData[i+2]&&"-"===xmlData[i+3]}function isEntity(xmlData,i){return"!"===xmlData[i+1]&&"E"===xmlData[i+2]&&"N"===xmlData[i+3]&&"T"===xmlData[i+4]&&"I"===xmlData[i+5]&&"T"===xmlData[i+6]&&"Y"===xmlData[i+7]}function isElement(xmlData,i){return"!"===xmlData[i+1]&&"E"===xmlData[i+2]&&"L"===xmlData[i+3]&&"E"===xmlData[i+4]&&"M"===xmlData[i+5]&&"E"===xmlData[i+6]&&"N"===xmlData[i+7]&&"T"===xmlData[i+8]}function isAttlist(xmlData,i){return"!"===xmlData[i+1]&&"A"===xmlData[i+2]&&"T"===xmlData[i+3]&&"T"===xmlData[i+4]&&"L"===xmlData[i+5]&&"I"===xmlData[i+6]&&"S"===xmlData[i+7]&&"T"===xmlData[i+8]}function isNotation(xmlData,i){return"!"===xmlData[i+1]&&"N"===xmlData[i+2]&&"O"===xmlData[i+3]&&"T"===xmlData[i+4]&&"A"===xmlData[i+5]&&"T"===xmlData[i+6]&&"I"===xmlData[i+7]&&"O"===xmlData[i+8]&&"N"===xmlData[i+9]}function validateEntityName(name){if(util.isName(name))return name;throw new Error(`Invalid entity name ${name}`)}module.exports=function readDocType(xmlData,i){const entities={};if("O"!==xmlData[i+3]||"C"!==xmlData[i+4]||"T"!==xmlData[i+5]||"Y"!==xmlData[i+6]||"P"!==xmlData[i+7]||"E"!==xmlData[i+8])throw new Error("Invalid Tag instead of DOCTYPE");{i+=9;let angleBracketsCount=1,hasBody=!1,comment=!1,exp="";for(;i<xmlData.length;i++)if("<"!==xmlData[i]||comment)if(">"===xmlData[i]){if(comment?"-"===xmlData[i-1]&&"-"===xmlData[i-2]&&(comment=!1,angleBracketsCount--):angleBracketsCount--,0===angleBracketsCount)break}else"["===xmlData[i]?hasBody=!0:exp+=xmlData[i];else{if(hasBody&&isEntity(xmlData,i))i+=7,[entityName,val,i]=readEntityExp(xmlData,i+1),-1===val.indexOf("&")&&(entities[validateEntityName(entityName)]={regx:RegExp(`&${entityName};`,"g"),val:val});else if(hasBody&&isElement(xmlData,i))i+=8;else if(hasBody&&isAttlist(xmlData,i))i+=8;else if(hasBody&&isNotation(xmlData,i))i+=9;else{if(!isComment)throw new Error("Invalid DOCTYPE");comment=!0}angleBracketsCount++,exp=""}if(0!==angleBracketsCount)throw new Error("Unclosed DOCTYPE")}return{entities:entities,i:i}}},"./node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js":function(__unused_webpack_module,exports){const defaultOptions={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(tagName,val){return val},attributeValueProcessor:function(attrName,val){return val},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(tagName,jPath,attrs){return tagName}};exports.buildOptions=function(options){return Object.assign({},defaultOptions,options)},exports.defaultOptions=defaultOptions},"./node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";const util=__webpack_require__("./node_modules/fast-xml-parser/src/util.js"),xmlNode=__webpack_require__("./node_modules/fast-xml-parser/src/xmlparser/xmlNode.js"),readDocType=__webpack_require__("./node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js"),toNumber=__webpack_require__("./node_modules/strnum/strnum.js");function addExternalEntities(externalEntities){const entKeys=Object.keys(externalEntities);for(let i=0;i<entKeys.length;i++){const ent=entKeys[i];this.lastEntities[ent]={regex:new RegExp("&"+ent+";","g"),val:externalEntities[ent]}}}function parseTextData(val,tagName,jPath,dontTrim,hasAttributes,isLeafNode,escapeEntities){if(void 0!==val&&(this.options.trimValues&&!dontTrim&&(val=val.trim()),val.length>0)){escapeEntities||(val=this.replaceEntitiesValue(val));const newval=this.options.tagValueProcessor(tagName,val,jPath,hasAttributes,isLeafNode);if(null==newval)return val;if(typeof newval!=typeof val||newval!==val)return newval;if(this.options.trimValues)return parseValue(val,this.options.parseTagValue,this.options.numberParseOptions);return val.trim()===val?parseValue(val,this.options.parseTagValue,this.options.numberParseOptions):val}}function resolveNameSpace(tagname){if(this.options.removeNSPrefix){const tags=tagname.split(":"),prefix="/"===tagname.charAt(0)?"/":"";if("xmlns"===tags[0])return"";2===tags.length&&(tagname=prefix+tags[1])}return tagname}const attrsRegx=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function buildAttributesMap(attrStr,jPath,tagName){if(!this.options.ignoreAttributes&&"string"==typeof attrStr){const matches=util.getAllMatches(attrStr,attrsRegx),len=matches.length,attrs={};for(let i=0;i<len;i++){const attrName=this.resolveNameSpace(matches[i][1]);let oldVal=matches[i][4],aName=this.options.attributeNamePrefix+attrName;if(attrName.length)if(this.options.transformAttributeName&&(aName=this.options.transformAttributeName(aName)),"__proto__"===aName&&(aName="#__proto__"),void 0!==oldVal){this.options.trimValues&&(oldVal=oldVal.trim()),oldVal=this.replaceEntitiesValue(oldVal);const newVal=this.options.attributeValueProcessor(attrName,oldVal,jPath);attrs[aName]=null==newVal?oldVal:typeof newVal!=typeof oldVal||newVal!==oldVal?newVal:parseValue(oldVal,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(attrs[aName]=!0)}if(!Object.keys(attrs).length)return;if(this.options.attributesGroupName){const attrCollection={};return attrCollection[this.options.attributesGroupName]=attrs,attrCollection}return attrs}}const parseXml=function(xmlData){xmlData=xmlData.replace(/\r\n?/g,"\n");const xmlObj=new xmlNode("!xml");let currentNode=xmlObj,textData="",jPath="";for(let i=0;i<xmlData.length;i++){if("<"===xmlData[i])if("/"===xmlData[i+1]){const closeIndex=findClosingIndex(xmlData,">",i,"Closing Tag is not closed.");let tagName=xmlData.substring(i+2,closeIndex).trim();if(this.options.removeNSPrefix){const colonIndex=tagName.indexOf(":");-1!==colonIndex&&(tagName=tagName.substr(colonIndex+1))}this.options.transformTagName&&(tagName=this.options.transformTagName(tagName)),currentNode&&(textData=this.saveTextToParentTag(textData,currentNode,jPath));const lastTagName=jPath.substring(jPath.lastIndexOf(".")+1);if(tagName&&-1!==this.options.unpairedTags.indexOf(tagName))throw new Error(`Unpaired tag can not be used as closing tag: </${tagName}>`);let propIndex=0;lastTagName&&-1!==this.options.unpairedTags.indexOf(lastTagName)?(propIndex=jPath.lastIndexOf(".",jPath.lastIndexOf(".")-1),this.tagsNodeStack.pop()):propIndex=jPath.lastIndexOf("."),jPath=jPath.substring(0,propIndex),currentNode=this.tagsNodeStack.pop(),textData="",i=closeIndex}else if("?"===xmlData[i+1]){let tagData=readTagExp(xmlData,i,!1,"?>");if(!tagData)throw new Error("Pi Tag is not closed.");if(textData=this.saveTextToParentTag(textData,currentNode,jPath),this.options.ignoreDeclaration&&"?xml"===tagData.tagName||this.options.ignorePiTags);else{const childNode=new xmlNode(tagData.tagName);childNode.add(this.options.textNodeName,""),tagData.tagName!==tagData.tagExp&&tagData.attrExpPresent&&(childNode[":@"]=this.buildAttributesMap(tagData.tagExp,jPath,tagData.tagName)),this.addChild(currentNode,childNode,jPath)}i=tagData.closeIndex+1}else if("!--"===xmlData.substr(i+1,3)){const endIndex=findClosingIndex(xmlData,"--\x3e",i+4,"Comment is not closed.");if(this.options.commentPropName){const comment=xmlData.substring(i+4,endIndex-2);textData=this.saveTextToParentTag(textData,currentNode,jPath),currentNode.add(this.options.commentPropName,[{[this.options.textNodeName]:comment}])}i=endIndex}else if("!D"===xmlData.substr(i+1,2)){const result=readDocType(xmlData,i);this.docTypeEntities=result.entities,i=result.i}else if("!["===xmlData.substr(i+1,2)){const closeIndex=findClosingIndex(xmlData,"]]>",i,"CDATA is not closed.")-2,tagExp=xmlData.substring(i+9,closeIndex);textData=this.saveTextToParentTag(textData,currentNode,jPath);let val=this.parseTextData(tagExp,currentNode.tagname,jPath,!0,!1,!0,!0);null==val&&(val=""),this.options.cdataPropName?currentNode.add(this.options.cdataPropName,[{[this.options.textNodeName]:tagExp}]):currentNode.add(this.options.textNodeName,val),i=closeIndex+2}else{let result=readTagExp(xmlData,i,this.options.removeNSPrefix),tagName=result.tagName;const rawTagName=result.rawTagName;let tagExp=result.tagExp,attrExpPresent=result.attrExpPresent,closeIndex=result.closeIndex;this.options.transformTagName&&(tagName=this.options.transformTagName(tagName)),currentNode&&textData&&"!xml"!==currentNode.tagname&&(textData=this.saveTextToParentTag(textData,currentNode,jPath,!1));const lastTag=currentNode;if(lastTag&&-1!==this.options.unpairedTags.indexOf(lastTag.tagname)&&(currentNode=this.tagsNodeStack.pop(),jPath=jPath.substring(0,jPath.lastIndexOf("."))),tagName!==xmlObj.tagname&&(jPath+=jPath?"."+tagName:tagName),this.isItStopNode(this.options.stopNodes,jPath,tagName)){let tagContent="";if(tagExp.length>0&&tagExp.lastIndexOf("/")===tagExp.length-1)"/"===tagName[tagName.length-1]?(tagName=tagName.substr(0,tagName.length-1),jPath=jPath.substr(0,jPath.length-1),tagExp=tagName):tagExp=tagExp.substr(0,tagExp.length-1),i=result.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(tagName))i=result.closeIndex;else{const result=this.readStopNodeData(xmlData,rawTagName,closeIndex+1);if(!result)throw new Error(`Unexpected end of ${rawTagName}`);i=result.i,tagContent=result.tagContent}const childNode=new xmlNode(tagName);tagName!==tagExp&&attrExpPresent&&(childNode[":@"]=this.buildAttributesMap(tagExp,jPath,tagName)),tagContent&&(tagContent=this.parseTextData(tagContent,tagName,jPath,!0,attrExpPresent,!0,!0)),jPath=jPath.substr(0,jPath.lastIndexOf(".")),childNode.add(this.options.textNodeName,tagContent),this.addChild(currentNode,childNode,jPath)}else{if(tagExp.length>0&&tagExp.lastIndexOf("/")===tagExp.length-1){"/"===tagName[tagName.length-1]?(tagName=tagName.substr(0,tagName.length-1),jPath=jPath.substr(0,jPath.length-1),tagExp=tagName):tagExp=tagExp.substr(0,tagExp.length-1),this.options.transformTagName&&(tagName=this.options.transformTagName(tagName));const childNode=new xmlNode(tagName);tagName!==tagExp&&attrExpPresent&&(childNode[":@"]=this.buildAttributesMap(tagExp,jPath,tagName)),this.addChild(currentNode,childNode,jPath),jPath=jPath.substr(0,jPath.lastIndexOf("."))}else{const childNode=new xmlNode(tagName);this.tagsNodeStack.push(currentNode),tagName!==tagExp&&attrExpPresent&&(childNode[":@"]=this.buildAttributesMap(tagExp,jPath,tagName)),this.addChild(currentNode,childNode,jPath),currentNode=childNode}textData="",i=closeIndex}}else textData+=xmlData[i]}return xmlObj.child};function addChild(currentNode,childNode,jPath){const result=this.options.updateTag(childNode.tagname,jPath,childNode[":@"]);!1===result||("string"==typeof result?(childNode.tagname=result,currentNode.addChild(childNode)):currentNode.addChild(childNode))}const replaceEntitiesValue=function(val){if(this.options.processEntities){for(let entityName in this.docTypeEntities){const entity=this.docTypeEntities[entityName];val=val.replace(entity.regx,entity.val)}for(let entityName in this.lastEntities){const entity=this.lastEntities[entityName];val=val.replace(entity.regex,entity.val)}if(this.options.htmlEntities)for(let entityName in this.htmlEntities){const entity=this.htmlEntities[entityName];val=val.replace(entity.regex,entity.val)}val=val.replace(this.ampEntity.regex,this.ampEntity.val)}return val};function saveTextToParentTag(textData,currentNode,jPath,isLeafNode){return textData&&(void 0===isLeafNode&&(isLeafNode=0===Object.keys(currentNode.child).length),void 0!==(textData=this.parseTextData(textData,currentNode.tagname,jPath,!1,!!currentNode[":@"]&&0!==Object.keys(currentNode[":@"]).length,isLeafNode))&&""!==textData&&currentNode.add(this.options.textNodeName,textData),textData=""),textData}function isItStopNode(stopNodes,jPath,currentTagName){const allNodesExp="*."+currentTagName;for(const stopNodePath in stopNodes){const stopNodeExp=stopNodes[stopNodePath];if(allNodesExp===stopNodeExp||jPath===stopNodeExp)return!0}return!1}function findClosingIndex(xmlData,str,i,errMsg){const closingIndex=xmlData.indexOf(str,i);if(-1===closingIndex)throw new Error(errMsg);return closingIndex+str.length-1}function readTagExp(xmlData,i,removeNSPrefix,closingChar=">"){const result=function tagExpWithClosingIndex(xmlData,i,closingChar=">"){let attrBoundary,tagExp="";for(let index=i;index<xmlData.length;index++){let ch=xmlData[index];if(attrBoundary)ch===attrBoundary&&(attrBoundary="");else if('"'===ch||"'"===ch)attrBoundary=ch;else if(ch===closingChar[0]){if(!closingChar[1])return{data:tagExp,index:index};if(xmlData[index+1]===closingChar[1])return{data:tagExp,index:index}}else"\t"===ch&&(ch=" ");tagExp+=ch}}(xmlData,i+1,closingChar);if(!result)return;let tagExp=result.data;const closeIndex=result.index,separatorIndex=tagExp.search(/\s/);let tagName=tagExp,attrExpPresent=!0;-1!==separatorIndex&&(tagName=tagExp.substring(0,separatorIndex),tagExp=tagExp.substring(separatorIndex+1).trimStart());const rawTagName=tagName;if(removeNSPrefix){const colonIndex=tagName.indexOf(":");-1!==colonIndex&&(tagName=tagName.substr(colonIndex+1),attrExpPresent=tagName!==result.data.substr(colonIndex+1))}return{tagName:tagName,tagExp:tagExp,closeIndex:closeIndex,attrExpPresent:attrExpPresent,rawTagName:rawTagName}}function readStopNodeData(xmlData,tagName,i){const startIndex=i;let openTagCount=1;for(;i<xmlData.length;i++)if("<"===xmlData[i])if("/"===xmlData[i+1]){const closeIndex=findClosingIndex(xmlData,">",i,`${tagName} is not closed`);if(xmlData.substring(i+2,closeIndex).trim()===tagName&&(openTagCount--,0===openTagCount))return{tagContent:xmlData.substring(startIndex,i),i:closeIndex};i=closeIndex}else if("?"===xmlData[i+1]){i=findClosingIndex(xmlData,"?>",i+1,"StopNode is not closed.")}else if("!--"===xmlData.substr(i+1,3)){i=findClosingIndex(xmlData,"--\x3e",i+3,"StopNode is not closed.")}else if("!["===xmlData.substr(i+1,2)){i=findClosingIndex(xmlData,"]]>",i,"StopNode is not closed.")-2}else{const tagData=readTagExp(xmlData,i,">");if(tagData){(tagData&&tagData.tagName)===tagName&&"/"!==tagData.tagExp[tagData.tagExp.length-1]&&openTagCount++,i=tagData.closeIndex}}}function parseValue(val,shouldParse,options){if(shouldParse&&"string"==typeof val){const newval=val.trim();return"true"===newval||"false"!==newval&&toNumber(val,options)}return util.isExist(val)?val:""}module.exports=class OrderedObjParser{constructor(options){this.options=options,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(_,str)=>String.fromCharCode(Number.parseInt(str,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(_,str)=>String.fromCharCode(Number.parseInt(str,16))}},this.addExternalEntities=addExternalEntities,this.parseXml=parseXml,this.parseTextData=parseTextData,this.resolveNameSpace=resolveNameSpace,this.buildAttributesMap=buildAttributesMap,this.isItStopNode=isItStopNode,this.replaceEntitiesValue=replaceEntitiesValue,this.readStopNodeData=readStopNodeData,this.saveTextToParentTag=saveTextToParentTag,this.addChild=addChild}}},"./node_modules/fast-xml-parser/src/xmlparser/XMLParser.js":function(module,__unused_webpack_exports,__webpack_require__){const{buildOptions:buildOptions}=__webpack_require__("./node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js"),OrderedObjParser=__webpack_require__("./node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js"),{prettify:prettify}=__webpack_require__("./node_modules/fast-xml-parser/src/xmlparser/node2json.js"),validator=__webpack_require__("./node_modules/fast-xml-parser/src/validator.js");module.exports=class XMLParser{constructor(options){this.externalEntities={},this.options=buildOptions(options)}parse(xmlData,validationOption){if("string"==typeof xmlData);else{if(!xmlData.toString)throw new Error("XML data is accepted in String or Bytes[] form.");xmlData=xmlData.toString()}if(validationOption){!0===validationOption&&(validationOption={});const result=validator.validate(xmlData,validationOption);if(!0!==result)throw Error(`${result.err.msg}:${result.err.line}:${result.err.col}`)}const orderedObjParser=new OrderedObjParser(this.options);orderedObjParser.addExternalEntities(this.externalEntities);const orderedResult=orderedObjParser.parseXml(xmlData);return this.options.preserveOrder||void 0===orderedResult?orderedResult:prettify(orderedResult,this.options)}addEntity(key,value){if(-1!==value.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==key.indexOf("&")||-1!==key.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===value)throw new Error("An entity with value '&' is not permitted");this.externalEntities[key]=value}}},"./node_modules/fast-xml-parser/src/xmlparser/node2json.js":function(__unused_webpack_module,exports){"use strict";function compress(arr,options,jPath){let text;const compressedObj={};for(let i=0;i<arr.length;i++){const tagObj=arr[i],property=propName(tagObj);let newJpath="";if(newJpath=void 0===jPath?property:jPath+"."+property,property===options.textNodeName)void 0===text?text=tagObj[property]:text+=""+tagObj[property];else{if(void 0===property)continue;if(tagObj[property]){let val=compress(tagObj[property],options,newJpath);const isLeaf=isLeafTag(val,options);tagObj[":@"]?assignAttributes(val,tagObj[":@"],newJpath,options):1!==Object.keys(val).length||void 0===val[options.textNodeName]||options.alwaysCreateTextNode?0===Object.keys(val).length&&(options.alwaysCreateTextNode?val[options.textNodeName]="":val=""):val=val[options.textNodeName],void 0!==compressedObj[property]&&compressedObj.hasOwnProperty(property)?(Array.isArray(compressedObj[property])||(compressedObj[property]=[compressedObj[property]]),compressedObj[property].push(val)):options.isArray(property,newJpath,isLeaf)?compressedObj[property]=[val]:compressedObj[property]=val}}}return"string"==typeof text?text.length>0&&(compressedObj[options.textNodeName]=text):void 0!==text&&(compressedObj[options.textNodeName]=text),compressedObj}function propName(obj){const keys=Object.keys(obj);for(let i=0;i<keys.length;i++){const key=keys[i];if(":@"!==key)return key}}function assignAttributes(obj,attrMap,jpath,options){if(attrMap){const keys=Object.keys(attrMap),len=keys.length;for(let i=0;i<len;i++){const atrrName=keys[i];options.isArray(atrrName,jpath+"."+atrrName,!0,!0)?obj[atrrName]=[attrMap[atrrName]]:obj[atrrName]=attrMap[atrrName]}}}function isLeafTag(obj,options){const{textNodeName:textNodeName}=options,propCount=Object.keys(obj).length;return 0===propCount||!(1!==propCount||!obj[textNodeName]&&"boolean"!=typeof obj[textNodeName]&&0!==obj[textNodeName])}exports.prettify=function prettify(node,options){return compress(node,options)}},"./node_modules/fast-xml-parser/src/xmlparser/xmlNode.js":function(module){"use strict";module.exports=class XmlNode{constructor(tagname){this.tagname=tagname,this.child=[],this[":@"]={}}add(key,val){"__proto__"===key&&(key="#__proto__"),this.child.push({[key]:val})}addChild(node){"__proto__"===node.tagname&&(node.tagname="#__proto__"),node[":@"]&&Object.keys(node[":@"]).length>0?this.child.push({[node.tagname]:node.child,":@":node[":@"]}):this.child.push({[node.tagname]:node.child})}}},"./node_modules/for-each/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isCallable=__webpack_require__("./node_modules/is-callable/index.js"),toStr=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function forEach(list,iterator,thisArg){if(!isCallable(iterator))throw new TypeError("iterator must be a function");var receiver;arguments.length>=3&&(receiver=thisArg),"[object Array]"===toStr.call(list)?function forEachArray(array,iterator,receiver){for(var i=0,len=array.length;i<len;i++)hasOwnProperty.call(array,i)&&(null==receiver?iterator(array[i],i,array):iterator.call(receiver,array[i],i,array))}(list,iterator,receiver):"string"==typeof list?function forEachString(string,iterator,receiver){for(var i=0,len=string.length;i<len;i++)null==receiver?iterator(string.charAt(i),i,string):iterator.call(receiver,string.charAt(i),i,string)}(list,iterator,receiver):function forEachObject(object,iterator,receiver){for(var k in object)hasOwnProperty.call(object,k)&&(null==receiver?iterator(object[k],k,object):iterator.call(receiver,object[k],k,object))}(list,iterator,receiver)}},"./node_modules/function-bind/implementation.js":function(module){"use strict";var toStr=Object.prototype.toString,max=Math.max,concatty=function concatty(a,b){for(var arr=[],i=0;i<a.length;i+=1)arr[i]=a[i];for(var j=0;j<b.length;j+=1)arr[j+a.length]=b[j];return arr};module.exports=function bind(that){var target=this;if("function"!=typeof target||"[object Function]"!==toStr.apply(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=function slicy(arrLike,offset){for(var arr=[],i=offset||0,j=0;i<arrLike.length;i+=1,j+=1)arr[j]=arrLike[i];return arr}(arguments,1),boundLength=max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)boundArgs[i]="$"+i;if(bound=Function("binder","return function ("+function(arr,joiner){for(var str="",i=0;i<arr.length;i+=1)str+=arr[i],i+1<arr.length&&(str+=joiner);return str}(boundArgs,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof bound){var result=target.apply(this,concatty(args,arguments));return Object(result)===result?result:this}return target.apply(that,concatty(args,arguments))})),target.prototype){var Empty=function Empty(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound}},"./node_modules/function-bind/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/function-bind/implementation.js");module.exports=Function.prototype.bind||implementation},"./node_modules/functions-have-names/index.js":function(module){"use strict";var functionsHaveNames=function functionsHaveNames(){return"string"==typeof function f(){}.name},gOPD=Object.getOwnPropertyDescriptor;if(gOPD)try{gOPD([],"length")}catch(e){gOPD=null}functionsHaveNames.functionsHaveConfigurableNames=function functionsHaveConfigurableNames(){if(!functionsHaveNames()||!gOPD)return!1;var desc=gOPD((function(){}),"name");return!!desc&&!!desc.configurable};var $bind=Function.prototype.bind;functionsHaveNames.boundFunctionsHaveNames=function boundFunctionsHaveNames(){return functionsHaveNames()&&"function"==typeof $bind&&""!==function f(){}.bind().name},module.exports=functionsHaveNames},"./node_modules/geojson-rbush/index.js":function(module,__unused_webpack_exports,__webpack_require__){var rbush=__webpack_require__("./node_modules/rbush/rbush.min.js"),helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),meta=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),turfBBox=__webpack_require__("./node_modules/@turf/bbox/dist/js/index.js").Z,featureEach=meta.featureEach,featureCollection=(meta.coordEach,helpers.polygon,helpers.featureCollection);function geojsonRbush(maxEntries){var tree=new rbush(maxEntries);return tree.insert=function(feature){if("Feature"!==feature.type)throw new Error("invalid feature");return feature.bbox=feature.bbox?feature.bbox:turfBBox(feature),rbush.prototype.insert.call(this,feature)},tree.load=function(features){var load=[];return Array.isArray(features)?features.forEach((function(feature){if("Feature"!==feature.type)throw new Error("invalid features");feature.bbox=feature.bbox?feature.bbox:turfBBox(feature),load.push(feature)})):featureEach(features,(function(feature){if("Feature"!==feature.type)throw new Error("invalid features");feature.bbox=feature.bbox?feature.bbox:turfBBox(feature),load.push(feature)})),rbush.prototype.load.call(this,load)},tree.remove=function(feature,equals){if("Feature"!==feature.type)throw new Error("invalid feature");return feature.bbox=feature.bbox?feature.bbox:turfBBox(feature),rbush.prototype.remove.call(this,feature,equals)},tree.clear=function(){return rbush.prototype.clear.call(this)},tree.search=function(geojson){var features=rbush.prototype.search.call(this,this.toBBox(geojson));return featureCollection(features)},tree.collides=function(geojson){return rbush.prototype.collides.call(this,this.toBBox(geojson))},tree.all=function(){var features=rbush.prototype.all.call(this);return featureCollection(features)},tree.toJSON=function(){return rbush.prototype.toJSON.call(this)},tree.fromJSON=function(json){return rbush.prototype.fromJSON.call(this,json)},tree.toBBox=function(geojson){var bbox;if(geojson.bbox)bbox=geojson.bbox;else if(Array.isArray(geojson)&&4===geojson.length)bbox=geojson;else if(Array.isArray(geojson)&&6===geojson.length)bbox=[geojson[0],geojson[1],geojson[3],geojson[4]];else if("Feature"===geojson.type)bbox=turfBBox(geojson);else{if("FeatureCollection"!==geojson.type)throw new Error("invalid geojson");bbox=turfBBox(geojson)}return{minX:bbox[0],minY:bbox[1],maxX:bbox[2],maxY:bbox[3]}},tree}module.exports=geojsonRbush,module.exports.default=geojsonRbush},"./node_modules/get-intrinsic/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $Error=__webpack_require__("./node_modules/es-errors/index.js"),$EvalError=__webpack_require__("./node_modules/es-errors/eval.js"),$RangeError=__webpack_require__("./node_modules/es-errors/range.js"),$ReferenceError=__webpack_require__("./node_modules/es-errors/ref.js"),$SyntaxError=__webpack_require__("./node_modules/es-errors/syntax.js"),$TypeError=__webpack_require__("./node_modules/es-errors/type.js"),$URIError=__webpack_require__("./node_modules/es-errors/uri.js"),$Function=Function,getEvalledConstructor=function(expressionSyntax){try{return $Function('"use strict"; return ('+expressionSyntax+").constructor;")()}catch(e){}},$gOPD=Object.getOwnPropertyDescriptor;if($gOPD)try{$gOPD({},"")}catch(e){$gOPD=null}var throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD?function(){try{return throwTypeError}catch(calleeThrows){try{return $gOPD(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError,hasSymbols=__webpack_require__("./node_modules/has-symbols/index.js")(),hasProto=__webpack_require__("./node_modules/has-proto/index.js")(),getProto=Object.getPrototypeOf||(hasProto?function(x){return x.__proto__}:null),needsEval={},TypedArray="undefined"!=typeof Uint8Array&&getProto?getProto(Uint8Array):undefined,INTRINSICS={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?undefined:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto?getProto([][Symbol.iterator]()):undefined,"%AsyncFromSyncIteratorPrototype%":undefined,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":"undefined"==typeof Atomics?undefined:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?undefined:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?undefined:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":"undefined"==typeof Int8Array?undefined:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto?getProto(getProto([][Symbol.iterator]())):undefined,"%JSON%":"object"==typeof JSON?JSON:undefined,"%Map%":"undefined"==typeof Map?undefined:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols&&getProto?getProto((new Map)[Symbol.iterator]()):undefined,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols&&getProto?getProto((new Set)[Symbol.iterator]()):undefined,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto?getProto(""[Symbol.iterator]()):undefined,"%Symbol%":hasSymbols?Symbol:undefined,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined:Uint32Array,"%URIError%":$URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined:WeakSet};if(getProto)try{null.error}catch(e){var errorProto=getProto(getProto(e));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function doEval(name){var value;if("%AsyncFunction%"===name)value=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===name)value=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===name)value=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===name){var fn=doEval("%AsyncGeneratorFunction%");fn&&(value=fn.prototype)}else if("%AsyncIteratorPrototype%"===name){var gen=doEval("%AsyncGenerator%");gen&&getProto&&(value=getProto(gen.prototype))}return INTRINSICS[name]=value,value},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=__webpack_require__("./node_modules/function-bind/index.js"),hasOwn=__webpack_require__("./node_modules/hasown/index.js"),$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,getBaseIntrinsic=function getBaseIntrinsic(name,allowMissing){var alias,intrinsicName=name;if(hasOwn(LEGACY_ALIASES,intrinsicName)&&(intrinsicName="%"+(alias=LEGACY_ALIASES[intrinsicName])[0]+"%"),hasOwn(INTRINSICS,intrinsicName)){var value=INTRINSICS[intrinsicName];if(value===needsEval&&(value=doEval(intrinsicName)),void 0===value&&!allowMissing)throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return{alias:alias,name:intrinsicName,value:value}}throw new $SyntaxError("intrinsic "+name+" does not exist!")};module.exports=function GetIntrinsic(name,allowMissing){if("string"!=typeof name||0===name.length)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof allowMissing)throw new $TypeError('"allowMissing" argument must be a boolean');if(null===$exec(/^%?[^%]*%?$/,name))throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var parts=function stringToPath(string){var first=$strSlice(string,0,1),last=$strSlice(string,-1);if("%"===first&&"%"!==last)throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if("%"===last&&"%"!==first)throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var result=[];return $replace(string,rePropName,(function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match})),result}(name),intrinsicBaseName=parts.length>0?parts[0]:"",intrinsic=getBaseIntrinsic("%"+intrinsicBaseName+"%",allowMissing),intrinsicRealName=intrinsic.name,value=intrinsic.value,skipFurtherCaching=!1,alias=intrinsic.alias;alias&&(intrinsicBaseName=alias[0],$spliceApply(parts,$concat([0,1],alias)));for(var i=1,isOwn=!0;i<parts.length;i+=1){var part=parts[i],first=$strSlice(part,0,1),last=$strSlice(part,-1);if(('"'===first||"'"===first||"`"===first||'"'===last||"'"===last||"`"===last)&&first!==last)throw new $SyntaxError("property names with quotes must have matching quotes");if("constructor"!==part&&isOwn||(skipFurtherCaching=!0),hasOwn(INTRINSICS,intrinsicRealName="%"+(intrinsicBaseName+="."+part)+"%"))value=INTRINSICS[intrinsicRealName];else if(null!=value){if(!(part in value)){if(!allowMissing)throw new $TypeError("base intrinsic for "+name+" exists, but the property is not available.");return}if($gOPD&&i+1>=parts.length){var desc=$gOPD(value,part);value=(isOwn=!!desc)&&"get"in desc&&!("originalValue"in desc.get)?desc.get:value[part]}else isOwn=hasOwn(value,part),value=value[part];isOwn&&!skipFurtherCaching&&(INTRINSICS[intrinsicRealName]=value)}}return value}},"./node_modules/gl-matrix/esm/common.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Ib:function(){return EPSILON},WT:function(){return ARRAY_TYPE}});var EPSILON=1e-6,ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var y=0,i=arguments.length;i--;)y+=arguments[i]*arguments[i];return Math.sqrt(y)})},"./node_modules/gl-matrix/esm/vec4.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{al:function(){return fromValues},bA:function(){return scale},fF:function(){return transformMat4}});var _common_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/gl-matrix/esm/common.js");function fromValues(x,y,z,w){var out=new _common_js__WEBPACK_IMPORTED_MODULE_0__.WT(4);return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=a[3];return out[0]=m[0]*x+m[4]*y+m[8]*z+m[12]*w,out[1]=m[1]*x+m[5]*y+m[9]*z+m[13]*w,out[2]=m[2]*x+m[6]*y+m[10]*z+m[14]*w,out[3]=m[3]*x+m[7]*y+m[11]*z+m[15]*w,out}var vec;vec=function create(){var out=new _common_js__WEBPACK_IMPORTED_MODULE_0__.WT(4);return _common_js__WEBPACK_IMPORTED_MODULE_0__.WT!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0,out[3]=0),out}()},"./node_modules/gopd/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $gOPD=__webpack_require__("./node_modules/get-intrinsic/index.js")("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch(e){$gOPD=null}module.exports=$gOPD},"./node_modules/has-bigints/index.js":function(module){"use strict";var $BigInt="undefined"!=typeof BigInt&&BigInt;module.exports=function hasNativeBigInts(){return"function"==typeof $BigInt&&"function"==typeof BigInt&&"bigint"==typeof $BigInt(42)&&"bigint"==typeof BigInt(42)}},"./node_modules/has-property-descriptors/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $defineProperty=__webpack_require__("./node_modules/es-define-property/index.js"),hasPropertyDescriptors=function hasPropertyDescriptors(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function hasArrayLengthDefineBug(){if(!$defineProperty)return null;try{return 1!==$defineProperty([],"length",{value:1}).length}catch(e){return!0}},module.exports=hasPropertyDescriptors},"./node_modules/has-proto/index.js":function(module){"use strict";var test={__proto__:null,foo:{}},$Object=Object;module.exports=function hasProto(){return{__proto__:test}.foo===test.foo&&!(test instanceof $Object)}},"./node_modules/has-symbols/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var origSymbol="undefined"!=typeof Symbol&&Symbol,hasSymbolSham=__webpack_require__("./node_modules/has-symbols/shams.js");module.exports=function hasNativeSymbols(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}},"./node_modules/has-symbols/shams.js":function(module){"use strict";module.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(sym in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},"./node_modules/has-tostringtag/shams.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__("./node_modules/has-symbols/shams.js");module.exports=function hasToStringTagShams(){return hasSymbols()&&!!Symbol.toStringTag}},"./node_modules/hasown/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind=__webpack_require__("./node_modules/function-bind/index.js");module.exports=bind.call(call,$hasOwn)},"./node_modules/ieee754/index.js":function(__unused_webpack_module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},"./node_modules/internal-slot/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var hasOwn=__webpack_require__("./node_modules/hasown/index.js"),channel=__webpack_require__("./node_modules/side-channel/index.js")(),$TypeError=__webpack_require__("./node_modules/es-errors/type.js"),SLOT={assert:function(O,slot){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new $TypeError("`O` is not an object");if("string"!=typeof slot)throw new $TypeError("`slot` must be a string");if(channel.assert(O),!SLOT.has(O,slot))throw new $TypeError("`"+slot+"` is not present on `O`")},get:function(O,slot){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new $TypeError("`O` is not an object");if("string"!=typeof slot)throw new $TypeError("`slot` must be a string");var slots=channel.get(O);return slots&&slots["$"+slot]},has:function(O,slot){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new $TypeError("`O` is not an object");if("string"!=typeof slot)throw new $TypeError("`slot` must be a string");var slots=channel.get(O);return!!slots&&hasOwn(slots,"$"+slot)},set:function(O,slot,V){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new $TypeError("`O` is not an object");if("string"!=typeof slot)throw new $TypeError("`slot` must be a string");var slots=channel.get(O);slots||(slots={},channel.set(O,slots)),slots["$"+slot]=V}};Object.freeze&&Object.freeze(SLOT),module.exports=SLOT},"./node_modules/is-arguments/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var hasToStringTag=__webpack_require__("./node_modules/has-tostringtag/shams.js")(),$toString=__webpack_require__("./node_modules/call-bind/callBound.js")("Object.prototype.toString"),isStandardArguments=function isArguments(value){return!(hasToStringTag&&value&&"object"==typeof value&&Symbol.toStringTag in value)&&"[object Arguments]"===$toString(value)},isLegacyArguments=function isArguments(value){return!!isStandardArguments(value)||null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Array]"!==$toString(value)&&"[object Function]"===$toString(value.callee)},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments,module.exports=supportsStandardArguments?isStandardArguments:isLegacyArguments},"./node_modules/is-array-buffer/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var callBind=__webpack_require__("./node_modules/call-bind/index.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),$ArrayBuffer=__webpack_require__("./node_modules/get-intrinsic/index.js")("%ArrayBuffer%",!0),$byteLength=callBound("ArrayBuffer.prototype.byteLength",!0),$toString=callBound("Object.prototype.toString"),abSlice=!!$ArrayBuffer&&!$byteLength&&new $ArrayBuffer(0).slice,$abSlice=!!abSlice&&callBind(abSlice);module.exports=$byteLength||$abSlice?function isArrayBuffer(obj){if(!obj||"object"!=typeof obj)return!1;try{return $byteLength?$byteLength(obj):$abSlice(obj,0),!0}catch(e){return!1}}:$ArrayBuffer?function isArrayBuffer(obj){return"[object ArrayBuffer]"===$toString(obj)}:function isArrayBuffer(obj){return!1}},"./node_modules/is-bigint/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";if(__webpack_require__("./node_modules/has-bigints/index.js")()){var bigIntValueOf=BigInt.prototype.valueOf;module.exports=function isBigInt(value){return null!=value&&"boolean"!=typeof value&&"string"!=typeof value&&"number"!=typeof value&&"symbol"!=typeof value&&"function"!=typeof value&&("bigint"==typeof value||function tryBigIntObject(value){try{return bigIntValueOf.call(value),!0}catch(e){}return!1}(value))}}else module.exports=function isBigInt(value){return!1}},"./node_modules/is-boolean-object/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),$boolToStr=callBound("Boolean.prototype.toString"),$toString=callBound("Object.prototype.toString"),hasToStringTag=__webpack_require__("./node_modules/has-tostringtag/shams.js")();module.exports=function isBoolean(value){return"boolean"==typeof value||null!==value&&"object"==typeof value&&(hasToStringTag&&Symbol.toStringTag in value?function booleanBrandCheck(value){try{return $boolToStr(value),!0}catch(e){return!1}}(value):"[object Boolean]"===$toString(value))}},"./node_modules/is-callable/index.js":function(module){"use strict";var badArrayLike,isCallableMarker,fnToStr=Function.prototype.toString,reflectApply="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof reflectApply&&"function"==typeof Object.defineProperty)try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply((function(){throw 42}),null,badArrayLike)}catch(_){_!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function isES6ClassFunction(value){try{var fnStr=fnToStr.call(value);return constructorRegex.test(fnStr)}catch(e){return!1}},tryFunctionObject=function tryFunctionToStr(value){try{return!isES6ClassFn(value)&&(fnToStr.call(value),!0)}catch(e){return!1}},toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function isDocumentDotAll(){return!1};if("object"==typeof document){var all=document.all;toStr.call(all)===toStr.call(document.all)&&(isDDA=function isDocumentDotAll(value){if((isIE68||!value)&&(void 0===value||"object"==typeof value))try{var str=toStr.call(value);return("[object HTMLAllCollection]"===str||"[object HTML document.all class]"===str||"[object HTMLCollection]"===str||"[object Object]"===str)&&null==value("")}catch(e){}return!1})}module.exports=reflectApply?function isCallable(value){if(isDDA(value))return!0;if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;try{reflectApply(value,null,badArrayLike)}catch(e){if(e!==isCallableMarker)return!1}return!isES6ClassFn(value)&&tryFunctionObject(value)}:function isCallable(value){if(isDDA(value))return!0;if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if(hasToStringTag)return tryFunctionObject(value);if(isES6ClassFn(value))return!1;var strClass=toStr.call(value);return!("[object Function]"!==strClass&&"[object GeneratorFunction]"!==strClass&&!/^\[object HTML/.test(strClass))&&tryFunctionObject(value)}},"./node_modules/is-date-object/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var getDay=Date.prototype.getDay,toStr=Object.prototype.toString,hasToStringTag=__webpack_require__("./node_modules/has-tostringtag/shams.js")();module.exports=function isDateObject(value){return"object"==typeof value&&null!==value&&(hasToStringTag?function tryDateGetDayCall(value){try{return getDay.call(value),!0}catch(e){return!1}}(value):"[object Date]"===toStr.call(value))}},"./node_modules/is-map/index.js":function(module){"use strict";var exported,$Map="function"==typeof Map&&Map.prototype?Map:null,$Set="function"==typeof Set&&Set.prototype?Set:null;$Map||(exported=function isMap(x){return!1});var $mapHas=$Map?Map.prototype.has:null,$setHas=$Set?Set.prototype.has:null;exported||$mapHas||(exported=function isMap(x){return!1}),module.exports=exported||function isMap(x){if(!x||"object"!=typeof x)return!1;try{if($mapHas.call(x),$setHas)try{$setHas.call(x)}catch(e){return!0}return x instanceof $Map}catch(e){}return!1}},"./node_modules/is-number-object/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var numToStr=Number.prototype.toString,toStr=Object.prototype.toString,hasToStringTag=__webpack_require__("./node_modules/has-tostringtag/shams.js")();module.exports=function isNumberObject(value){return"number"==typeof value||"object"==typeof value&&(hasToStringTag?function tryNumberObject(value){try{return numToStr.call(value),!0}catch(e){return!1}}(value):"[object Number]"===toStr.call(value))}},"./node_modules/is-regex/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var has,$exec,isRegexMarker,badStringifier,callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),hasToStringTag=__webpack_require__("./node_modules/has-tostringtag/shams.js")();if(hasToStringTag){has=callBound("Object.prototype.hasOwnProperty"),$exec=callBound("RegExp.prototype.exec"),isRegexMarker={};var throwRegexMarker=function(){throw isRegexMarker};badStringifier={toString:throwRegexMarker,valueOf:throwRegexMarker},"symbol"==typeof Symbol.toPrimitive&&(badStringifier[Symbol.toPrimitive]=throwRegexMarker)}var $toString=callBound("Object.prototype.toString"),gOPD=Object.getOwnPropertyDescriptor;module.exports=hasToStringTag?function isRegex(value){if(!value||"object"!=typeof value)return!1;var descriptor=gOPD(value,"lastIndex");if(!(descriptor&&has(descriptor,"value")))return!1;try{$exec(value,badStringifier)}catch(e){return e===isRegexMarker}}:function isRegex(value){return!(!value||"object"!=typeof value&&"function"!=typeof value)&&"[object RegExp]"===$toString(value)}},"./node_modules/is-set/index.js":function(module){"use strict";var exported,$Map="function"==typeof Map&&Map.prototype?Map:null,$Set="function"==typeof Set&&Set.prototype?Set:null;$Set||(exported=function isSet(x){return!1});var $mapHas=$Map?Map.prototype.has:null,$setHas=$Set?Set.prototype.has:null;exported||$setHas||(exported=function isSet(x){return!1}),module.exports=exported||function isSet(x){if(!x||"object"!=typeof x)return!1;try{if($setHas.call(x),$mapHas)try{$mapHas.call(x)}catch(e){return!0}return x instanceof $Set}catch(e){}return!1}},"./node_modules/is-shared-array-buffer/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var $byteLength=__webpack_require__("./node_modules/call-bind/callBound.js")("SharedArrayBuffer.prototype.byteLength",!0);module.exports=$byteLength?function isSharedArrayBuffer(obj){if(!obj||"object"!=typeof obj)return!1;try{return $byteLength(obj),!0}catch(e){return!1}}:function isSharedArrayBuffer(obj){return!1}},"./node_modules/is-string/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var strValue=String.prototype.valueOf,toStr=Object.prototype.toString,hasToStringTag=__webpack_require__("./node_modules/has-tostringtag/shams.js")();module.exports=function isString(value){return"string"==typeof value||"object"==typeof value&&(hasToStringTag?function tryStringObject(value){try{return strValue.call(value),!0}catch(e){return!1}}(value):"[object String]"===toStr.call(value))}},"./node_modules/is-symbol/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;if(__webpack_require__("./node_modules/has-symbols/index.js")()){var symToStr=Symbol.prototype.toString,symStringRegex=/^Symbol\(.*\)$/;module.exports=function isSymbol(value){if("symbol"==typeof value)return!0;if("[object Symbol]"!==toStr.call(value))return!1;try{return function isRealSymbolObject(value){return"symbol"==typeof value.valueOf()&&symStringRegex.test(symToStr.call(value))}(value)}catch(e){return!1}}}else module.exports=function isSymbol(value){return!1}},"./node_modules/is-weakmap/index.js":function(module){"use strict";var exported,$WeakMap="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,$WeakSet="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;$WeakMap||(exported=function isWeakMap(x){return!1});var $mapHas=$WeakMap?$WeakMap.prototype.has:null,$setHas=$WeakSet?$WeakSet.prototype.has:null;exported||$mapHas||(exported=function isWeakMap(x){return!1}),module.exports=exported||function isWeakMap(x){if(!x||"object"!=typeof x)return!1;try{if($mapHas.call(x,$mapHas),$setHas)try{$setHas.call(x,$setHas)}catch(e){return!0}return x instanceof $WeakMap}catch(e){}return!1}},"./node_modules/is-weakset/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),$WeakSet=GetIntrinsic("%WeakSet%",!0),$setHas=callBound("WeakSet.prototype.has",!0);if($setHas){var $mapHas=callBound("WeakMap.prototype.has",!0);module.exports=function isWeakSet(x){if(!x||"object"!=typeof x)return!1;try{if($setHas(x,$setHas),$mapHas)try{$mapHas(x,$mapHas)}catch(e){return!0}return x instanceof $WeakSet}catch(e){}return!1}}else module.exports=function isWeakSet(x){return!1}},"./node_modules/isarray/index.js":function(module){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},"./node_modules/javascript-natural-sort/naturalSort.js":function(module){module.exports=function naturalSort(a,b){"use strict";var oFxNcL,oFyNcL,re=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,sre=/(^[ ]*|[ ]*$)/g,dre=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,hre=/^0x[0-9a-f]+$/i,ore=/^0/,i=function(s){return naturalSort.insensitive&&(""+s).toLowerCase()||""+s},x=i(a).replace(sre,"")||"",y=i(b).replace(sre,"")||"",xN=x.replace(re,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),yN=y.replace(re,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),xD=parseInt(x.match(hre),16)||1!==xN.length&&x.match(dre)&&Date.parse(x),yD=parseInt(y.match(hre),16)||xD&&y.match(dre)&&Date.parse(y)||null;if(yD){if(xD<yD)return-1;if(xD>yD)return 1}for(var cLoc=0,numS=Math.max(xN.length,yN.length);cLoc<numS;cLoc++){if(oFxNcL=!(xN[cLoc]||"").match(ore)&&parseFloat(xN[cLoc])||xN[cLoc]||0,oFyNcL=!(yN[cLoc]||"").match(ore)&&parseFloat(yN[cLoc])||yN[cLoc]||0,isNaN(oFxNcL)!==isNaN(oFyNcL))return isNaN(oFxNcL)?1:-1;if(typeof oFxNcL!=typeof oFyNcL&&(oFxNcL+="",oFyNcL+=""),oFxNcL<oFyNcL)return-1;if(oFxNcL>oFyNcL)return 1}return 0}},"./node_modules/jsep/build/jsep.js":function(module,exports){!function(root){"use strict";var throwError=function(message,index){var error=new Error(message+" at character "+index);throw error.index=index,error.description=message,error},t=!0,unary_ops={"-":t,"!":t,"~":t,"+":t},binary_ops={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},getMaxKeyLen=function(obj){var len,max_len=0;for(var key in obj)(len=key.length)>max_len&&obj.hasOwnProperty(key)&&(max_len=len);return max_len},max_unop_len=getMaxKeyLen(unary_ops),max_binop_len=getMaxKeyLen(binary_ops),literals={true:!0,false:!1,null:null},binaryPrecedence=function(op_val){return binary_ops[op_val]||0},createBinaryExpression=function(operator,left,right){return{type:"||"===operator||"&&"===operator?"LogicalExpression":"BinaryExpression",operator:operator,left:left,right:right}},isDecimalDigit=function(ch){return ch>=48&&ch<=57},isIdentifierStart=function(ch){return 36===ch||95===ch||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=128&&!binary_ops[String.fromCharCode(ch)]},isIdentifierPart=function(ch){return 36===ch||95===ch||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||ch>=128&&!binary_ops[String.fromCharCode(ch)]},jsep=function(expr){for(var ch_i,node,index=0,charAtFunc=expr.charAt,charCodeAtFunc=expr.charCodeAt,exprI=function(i){return charAtFunc.call(expr,i)},exprICode=function(i){return charCodeAtFunc.call(expr,i)},length=expr.length,gobbleSpaces=function(){for(var ch=exprICode(index);32===ch||9===ch||10===ch||13===ch;)ch=exprICode(++index)},gobbleExpression=function(){var consequent,alternate,test=gobbleBinaryExpression();return gobbleSpaces(),63!==exprICode(index)?test:(index++,(consequent=gobbleExpression())||throwError("Expected expression",index),gobbleSpaces(),58===exprICode(index)?(index++,(alternate=gobbleExpression())||throwError("Expected expression",index),{type:"ConditionalExpression",test:test,consequent:consequent,alternate:alternate}):void throwError("Expected :",index))},gobbleBinaryOp=function(){gobbleSpaces();for(var to_check=expr.substr(index,max_binop_len),tc_len=to_check.length;tc_len>0;){if(binary_ops.hasOwnProperty(to_check)&&(!isIdentifierStart(exprICode(index))||index+to_check.length<expr.length&&!isIdentifierPart(exprICode(index+to_check.length))))return index+=tc_len,to_check;to_check=to_check.substr(0,--tc_len)}return!1},gobbleBinaryExpression=function(){var node,biop,prec,stack,biop_info,left,right,i,cur_biop;if(left=gobbleToken(),!(biop=gobbleBinaryOp()))return left;for(biop_info={value:biop,prec:binaryPrecedence(biop)},(right=gobbleToken())||throwError("Expected expression after "+biop,index),stack=[left,biop_info,right];(biop=gobbleBinaryOp())&&0!==(prec=binaryPrecedence(biop));){for(biop_info={value:biop,prec:prec},cur_biop=biop;stack.length>2&&prec<=stack[stack.length-2].prec;)right=stack.pop(),biop=stack.pop().value,left=stack.pop(),node=createBinaryExpression(biop,left,right),stack.push(node);(node=gobbleToken())||throwError("Expected expression after "+cur_biop,index),stack.push(biop_info,node)}for(node=stack[i=stack.length-1];i>1;)node=createBinaryExpression(stack[i-1].value,stack[i-2],node),i-=2;return node},gobbleToken=function(){var ch,to_check,tc_len;if(gobbleSpaces(),ch=exprICode(index),isDecimalDigit(ch)||46===ch)return gobbleNumericLiteral();if(39===ch||34===ch)return gobbleStringLiteral();if(91===ch)return gobbleArray();for(tc_len=(to_check=expr.substr(index,max_unop_len)).length;tc_len>0;){if(unary_ops.hasOwnProperty(to_check)&&(!isIdentifierStart(exprICode(index))||index+to_check.length<expr.length&&!isIdentifierPart(exprICode(index+to_check.length))))return index+=tc_len,{type:"UnaryExpression",operator:to_check,argument:gobbleToken(),prefix:!0};to_check=to_check.substr(0,--tc_len)}return!(!isIdentifierStart(ch)&&40!==ch)&&gobbleVariable()},gobbleNumericLiteral=function(){for(var ch,chCode,number="";isDecimalDigit(exprICode(index));)number+=exprI(index++);if(46===exprICode(index))for(number+=exprI(index++);isDecimalDigit(exprICode(index));)number+=exprI(index++);if("e"===(ch=exprI(index))||"E"===ch){for(number+=exprI(index++),"+"!==(ch=exprI(index))&&"-"!==ch||(number+=exprI(index++));isDecimalDigit(exprICode(index));)number+=exprI(index++);isDecimalDigit(exprICode(index-1))||throwError("Expected exponent ("+number+exprI(index)+")",index)}return chCode=exprICode(index),isIdentifierStart(chCode)?throwError("Variable names cannot start with a number ("+number+exprI(index)+")",index):46===chCode&&throwError("Unexpected period",index),{type:"Literal",value:parseFloat(number),raw:number}},gobbleStringLiteral=function(){for(var ch,str="",quote=exprI(index++),closed=!1;index<length;){if((ch=exprI(index++))===quote){closed=!0;break}if("\\"===ch)switch(ch=exprI(index++)){case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="\t";break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="\v";break;default:str+=ch}else str+=ch}return closed||throwError('Unclosed quote after "'+str+'"',index),{type:"Literal",value:str,raw:quote+str+quote}},gobbleIdentifier=function(){var identifier,ch=exprICode(index),start=index;for(isIdentifierStart(ch)?index++:throwError("Unexpected "+exprI(index),index);index<length&&(ch=exprICode(index),isIdentifierPart(ch));)index++;return identifier=expr.slice(start,index),literals.hasOwnProperty(identifier)?{type:"Literal",value:literals[identifier],raw:identifier}:"this"===identifier?{type:"ThisExpression"}:{type:"Identifier",name:identifier}},gobbleArguments=function(termination){for(var ch_i,node,args=[],closed=!1,separator_count=0;index<length;){if(gobbleSpaces(),(ch_i=exprICode(index))===termination){closed=!0,index++,41===termination&&separator_count&&separator_count>=args.length&&throwError("Unexpected token "+String.fromCharCode(termination),index);break}if(44===ch_i){if(index++,++separator_count!==args.length)if(41===termination)throwError("Unexpected token ,",index);else if(93===termination)for(var arg=args.length;arg<separator_count;arg++)args.push(null)}else(node=gobbleExpression())&&"Compound"!==node.type||throwError("Expected comma",index),args.push(node)}return closed||throwError("Expected "+String.fromCharCode(termination),index),args},gobbleVariable=function(){var ch_i,node;for(node=40===(ch_i=exprICode(index))?gobbleGroup():gobbleIdentifier(),gobbleSpaces(),ch_i=exprICode(index);46===ch_i||91===ch_i||40===ch_i;)index++,46===ch_i?(gobbleSpaces(),node={type:"MemberExpression",computed:!1,object:node,property:gobbleIdentifier()}):91===ch_i?(node={type:"MemberExpression",computed:!0,object:node,property:gobbleExpression()},gobbleSpaces(),93!==(ch_i=exprICode(index))&&throwError("Unclosed [",index),index++):40===ch_i&&(node={type:"CallExpression",arguments:gobbleArguments(41),callee:node}),gobbleSpaces(),ch_i=exprICode(index);return node},gobbleGroup=function(){index++;var node=gobbleExpression();if(gobbleSpaces(),41===exprICode(index))return index++,node;throwError("Unclosed (",index)},gobbleArray=function(){return index++,{type:"ArrayExpression",elements:gobbleArguments(93)}},nodes=[];index<length;)59===(ch_i=exprICode(index))||44===ch_i?index++:(node=gobbleExpression())?nodes.push(node):index<length&&throwError('Unexpected "'+exprI(index)+'"',index);return 1===nodes.length?nodes[0]:{type:"Compound",body:nodes}};jsep.version="0.3.5",jsep.toString=function(){return"JavaScript Expression Parser (JSEP) v"+jsep.version},jsep.addUnaryOp=function(op_name){return max_unop_len=Math.max(op_name.length,max_unop_len),unary_ops[op_name]=t,this},jsep.addBinaryOp=function(op_name,precedence){return max_binop_len=Math.max(op_name.length,max_binop_len),binary_ops[op_name]=precedence,this},jsep.addLiteral=function(literal_name,literal_value){return literals[literal_name]=literal_value,this},jsep.removeUnaryOp=function(op_name){return delete unary_ops[op_name],op_name.length===max_unop_len&&(max_unop_len=getMaxKeyLen(unary_ops)),this},jsep.removeAllUnaryOps=function(){return unary_ops={},max_unop_len=0,this},jsep.removeBinaryOp=function(op_name){return delete binary_ops[op_name],op_name.length===max_binop_len&&(max_binop_len=getMaxKeyLen(binary_ops)),this},jsep.removeAllBinaryOps=function(){return binary_ops={},max_binop_len=0,this},jsep.removeLiteral=function(literal_name){return delete literals[literal_name],this},jsep.removeAllLiterals=function(){return literals={},this},module.exports?exports=module.exports=jsep:exports.parse=jsep}()},"./node_modules/lodash.throttle/index.js":function(module,__unused_webpack_exports,__webpack_require__){var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectToString=Object.prototype.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var result=wait-(time-lastCallTime);return maxing?nativeMin(result,maxWait-(time-lastInvokeTime)):result}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(now())},debounced}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function toNumber(value){if("number"==typeof value)return value;if(function isSymbol(value){return"symbol"==typeof value||function isObjectLike(value){return!!value&&"object"==typeof value}(value)&&objectToString.call(value)==symbolTag}(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}},"./node_modules/long/dist/long.js":function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";function Long(low,high,unsigned){this.low=0|low,this.high=0|high,this.unsigned=!!unsigned}function isLong(obj){return!0===(obj&&obj.__isLong__)}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(value,unsigned){var obj,cachedObj,cache;return unsigned?(cache=0<=(value>>>=0)&&value<256)&&(cachedObj=UINT_CACHE[value])?cachedObj:(obj=fromBits(value,(0|value)<0?-1:0,!0),cache&&(UINT_CACHE[value]=obj),obj):(cache=-128<=(value|=0)&&value<128)&&(cachedObj=INT_CACHE[value])?cachedObj:(obj=fromBits(value,value<0?-1:0,!1),cache&&(INT_CACHE[value]=obj),obj)}function fromNumber(value,unsigned){if(isNaN(value)||!isFinite(value))return unsigned?UZERO:ZERO;if(unsigned){if(value<0)return UZERO;if(value>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(value<=-TWO_PWR_63_DBL)return MIN_VALUE;if(value+1>=TWO_PWR_63_DBL)return MAX_VALUE}return value<0?fromNumber(-value,unsigned).neg():fromBits(value%TWO_PWR_32_DBL|0,value/TWO_PWR_32_DBL|0,unsigned)}function fromBits(lowBits,highBits,unsigned){return new Long(lowBits,highBits,unsigned)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(str,unsigned,radix){if(0===str.length)throw Error("empty string");if("NaN"===str||"Infinity"===str||"+Infinity"===str||"-Infinity"===str)return ZERO;if("number"==typeof unsigned?(radix=unsigned,unsigned=!1):unsigned=!!unsigned,(radix=radix||10)<2||36<radix)throw RangeError("radix");var p;if((p=str.indexOf("-"))>0)throw Error("interior hyphen");if(0===p)return fromString(str.substring(1),unsigned,radix).neg();for(var radixToPower=fromNumber(pow_dbl(radix,8)),result=ZERO,i=0;i<str.length;i+=8){var size=Math.min(8,str.length-i),value=parseInt(str.substring(i,i+size),radix);if(size<8){var power=fromNumber(pow_dbl(radix,size));result=result.mul(power).add(fromNumber(value))}else result=(result=result.mul(radixToPower)).add(fromNumber(value))}return result.unsigned=unsigned,result}function fromValue(val){return val instanceof Long?val:"number"==typeof val?fromNumber(val):"string"==typeof val?fromString(val):fromBits(val.low,val.high,val.unsigned)}Long.fromString=fromString,Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(1<<24),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;return LongPrototype.toInt=function toInt(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function toNumber(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function toString(radix){if((radix=radix||10)<2||36<radix)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var radixLong=fromNumber(radix),div=this.div(radixLong),rem1=div.mul(radixLong).sub(this);return div.toString(radix)+rem1.toInt().toString(radix)}return"-"+this.neg().toString(radix)}for(var radixToPower=fromNumber(pow_dbl(radix,6),this.unsigned),rem=this,result="";;){var remDiv=rem.div(radixToPower),digits=(rem.sub(remDiv.mul(radixToPower)).toInt()>>>0).toString(radix);if((rem=remDiv).isZero())return digits+result;for(;digits.length<6;)digits="0"+digits;result=""+digits+result}},LongPrototype.getHighBits=function getHighBits(){return this.high},LongPrototype.getHighBitsUnsigned=function getHighBitsUnsigned(){return this.high>>>0},LongPrototype.getLowBits=function getLowBits(){return this.low},LongPrototype.getLowBitsUnsigned=function getLowBitsUnsigned(){return this.low>>>0},LongPrototype.getNumBitsAbs=function getNumBitsAbs(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var val=0!=this.high?this.high:this.low,bit=31;bit>0&&0==(val&1<<bit);bit--);return 0!=this.high?bit+33:bit+1},LongPrototype.isZero=function isZero(){return 0===this.high&&0===this.low},LongPrototype.isNegative=function isNegative(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function isPositive(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function isOdd(){return 1==(1&this.low)},LongPrototype.isEven=function isEven(){return 0==(1&this.low)},LongPrototype.equals=function equals(other){return isLong(other)||(other=fromValue(other)),(this.unsigned===other.unsigned||this.high>>>31!=1||other.high>>>31!=1)&&this.high===other.high&&this.low===other.low},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function notEquals(other){return!this.eq(other)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.lessThan=function lessThan(other){return this.comp(other)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function lessThanOrEqual(other){return this.comp(other)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function greaterThan(other){return this.comp(other)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function greaterThanOrEqual(other){return this.comp(other)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function compare(other){if(isLong(other)||(other=fromValue(other)),this.eq(other))return 0;var thisNeg=this.isNegative(),otherNeg=other.isNegative();return thisNeg&&!otherNeg?-1:!thisNeg&&otherNeg?1:this.unsigned?other.high>>>0>this.high>>>0||other.high===this.high&&other.low>>>0>this.low>>>0?-1:1:this.sub(other).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function negate(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function add(addend){isLong(addend)||(addend=fromValue(addend));var a48=this.high>>>16,a32=65535&this.high,a16=this.low>>>16,a00=65535&this.low,b48=addend.high>>>16,b32=65535&addend.high,b16=addend.low>>>16,c48=0,c32=0,c16=0,c00=0;return c16+=(c00+=a00+(65535&addend.low))>>>16,c32+=(c16+=a16+b16)>>>16,c48+=(c32+=a32+b32)>>>16,c48+=a48+b48,fromBits((c16&=65535)<<16|(c00&=65535),(c48&=65535)<<16|(c32&=65535),this.unsigned)},LongPrototype.subtract=function subtract(subtrahend){return isLong(subtrahend)||(subtrahend=fromValue(subtrahend)),this.add(subtrahend.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function multiply(multiplier){if(this.isZero())return ZERO;if(isLong(multiplier)||(multiplier=fromValue(multiplier)),multiplier.isZero())return ZERO;if(this.eq(MIN_VALUE))return multiplier.isOdd()?MIN_VALUE:ZERO;if(multiplier.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return multiplier.isNegative()?this.neg().mul(multiplier.neg()):this.neg().mul(multiplier).neg();if(multiplier.isNegative())return this.mul(multiplier.neg()).neg();if(this.lt(TWO_PWR_24)&&multiplier.lt(TWO_PWR_24))return fromNumber(this.toNumber()*multiplier.toNumber(),this.unsigned);var a48=this.high>>>16,a32=65535&this.high,a16=this.low>>>16,a00=65535&this.low,b48=multiplier.high>>>16,b32=65535&multiplier.high,b16=multiplier.low>>>16,b00=65535&multiplier.low,c48=0,c32=0,c16=0,c00=0;return c16+=(c00+=a00*b00)>>>16,c32+=(c16+=a16*b00)>>>16,c16&=65535,c32+=(c16+=a00*b16)>>>16,c48+=(c32+=a32*b00)>>>16,c32&=65535,c48+=(c32+=a16*b16)>>>16,c32&=65535,c48+=(c32+=a00*b32)>>>16,c48+=a48*b00+a32*b16+a16*b32+a00*b48,fromBits((c16&=65535)<<16|(c00&=65535),(c48&=65535)<<16|(c32&=65535),this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function divide(divisor){if(isLong(divisor)||(divisor=fromValue(divisor)),divisor.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?UZERO:ZERO;var approx,rem,res;if(this.unsigned){if(divisor.unsigned||(divisor=divisor.toUnsigned()),divisor.gt(this))return UZERO;if(divisor.gt(this.shru(1)))return UONE;res=UZERO}else{if(this.eq(MIN_VALUE))return divisor.eq(ONE)||divisor.eq(NEG_ONE)?MIN_VALUE:divisor.eq(MIN_VALUE)?ONE:(approx=this.shr(1).div(divisor).shl(1)).eq(ZERO)?divisor.isNegative()?ONE:NEG_ONE:(rem=this.sub(divisor.mul(approx)),res=approx.add(rem.div(divisor)));if(divisor.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return divisor.isNegative()?this.neg().div(divisor.neg()):this.neg().div(divisor).neg();if(divisor.isNegative())return this.div(divisor.neg()).neg();res=ZERO}for(rem=this;rem.gte(divisor);){approx=Math.max(1,Math.floor(rem.toNumber()/divisor.toNumber()));for(var log2=Math.ceil(Math.log(approx)/Math.LN2),delta=log2<=48?1:pow_dbl(2,log2-48),approxRes=fromNumber(approx),approxRem=approxRes.mul(divisor);approxRem.isNegative()||approxRem.gt(rem);)approxRem=(approxRes=fromNumber(approx-=delta,this.unsigned)).mul(divisor);approxRes.isZero()&&(approxRes=ONE),res=res.add(approxRes),rem=rem.sub(approxRem)}return res},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function modulo(divisor){return isLong(divisor)||(divisor=fromValue(divisor)),this.sub(this.div(divisor).mul(divisor))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.not=function not(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.and=function and(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low&other.low,this.high&other.high,this.unsigned)},LongPrototype.or=function or(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low|other.low,this.high|other.high,this.unsigned)},LongPrototype.xor=function xor(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low^other.low,this.high^other.high,this.unsigned)},LongPrototype.shiftLeft=function shiftLeft(numBits){return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:numBits<32?fromBits(this.low<<numBits,this.high<<numBits|this.low>>>32-numBits,this.unsigned):fromBits(0,this.low<<numBits-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function shiftRight(numBits){return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:numBits<32?fromBits(this.low>>>numBits|this.high<<32-numBits,this.high>>numBits,this.unsigned):fromBits(this.high>>numBits-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function shiftRightUnsigned(numBits){if(isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63))return this;var high=this.high;return numBits<32?fromBits(this.low>>>numBits|high<<32-numBits,high>>>numBits,this.unsigned):fromBits(32===numBits?high:high>>>numBits-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.toSigned=function toSigned(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function toUnsigned(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function(le){return le?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function(){var hi=this.high,lo=this.low;return[255&lo,lo>>>8&255,lo>>>16&255,lo>>>24&255,255&hi,hi>>>8&255,hi>>>16&255,hi>>>24&255]},LongPrototype.toBytesBE=function(){var hi=this.high,lo=this.low;return[hi>>>24&255,hi>>>16&255,hi>>>8&255,255&hi,lo>>>24&255,lo>>>16&255,lo>>>8&255,255&lo]},Long})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"./node_modules/merge-refs/dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function mergeRefs(){for(var inputRefs=[],_i=0;_i<arguments.length;_i++)inputRefs[_i]=arguments[_i];var filteredInputRefs=inputRefs.filter(Boolean);return filteredInputRefs.length<=1?filteredInputRefs[0]||null:function mergedRefs(ref){filteredInputRefs.forEach((function(inputRef){"function"==typeof inputRef?inputRef(ref):inputRef&&(inputRef.current=ref)}))}}__webpack_require__.d(__webpack_exports__,{Z:function(){return mergeRefs}})},"./node_modules/object-inspect/index.js":function(module,__unused_webpack_exports,__webpack_require__){var hasMap="function"==typeof Map&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&"function"==typeof mapSizeDescriptor.get?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet="function"==typeof Set&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&"function"==typeof setSizeDescriptor.get?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,weakMapHas="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,weakSetHas="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,weakRefDeref="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf="function"==typeof BigInt?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,hasShammedSymbols="function"==typeof Symbol&&"object"==typeof Symbol.iterator,toStringTag="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols||"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(O){return O.__proto__}:null);function addNumericSeparator(num,str){if(num===1/0||num===-1/0||num!=num||num&&num>-1e3&&num<1e3||$test.call(/e/,str))return str;var sepRegex=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof num){var int=num<0?-$floor(-num):$floor(num);if(int!==num){var intStr=String(int),dec=$slice.call(str,intStr.length+1);return $replace.call(intStr,sepRegex,"$&_")+"."+$replace.call($replace.call(dec,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(str,sepRegex,"$&_")}var utilInspect=__webpack_require__("?4f7e"),inspectCustom=utilInspect.custom,inspectSymbol=isSymbol(inspectCustom)?inspectCustom:null;function wrapQuotes(s,defaultStyle,opts){var quoteChar="double"===(opts.quoteStyle||defaultStyle)?'"':"'";return quoteChar+s+quoteChar}function quote(s){return $replace.call(String(s),/"/g,"&quot;")}function isArray(obj){return!("[object Array]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}function isRegExp(obj){return!("[object RegExp]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}function isSymbol(obj){if(hasShammedSymbols)return obj&&"object"==typeof obj&&obj instanceof Symbol;if("symbol"==typeof obj)return!0;if(!obj||"object"!=typeof obj||!symToString)return!1;try{return symToString.call(obj),!0}catch(e){}return!1}module.exports=function inspect_(obj,options,depth,seen){var opts=options||{};if(has(opts,"quoteStyle")&&"single"!==opts.quoteStyle&&"double"!==opts.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has(opts,"maxStringLength")&&("number"==typeof opts.maxStringLength?opts.maxStringLength<0&&opts.maxStringLength!==1/0:null!==opts.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var customInspect=!has(opts,"customInspect")||opts.customInspect;if("boolean"!=typeof customInspect&&"symbol"!==customInspect)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has(opts,"indent")&&null!==opts.indent&&"\t"!==opts.indent&&!(parseInt(opts.indent,10)===opts.indent&&opts.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has(opts,"numericSeparator")&&"boolean"!=typeof opts.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var numericSeparator=opts.numericSeparator;if(void 0===obj)return"undefined";if(null===obj)return"null";if("boolean"==typeof obj)return obj?"true":"false";if("string"==typeof obj)return inspectString(obj,opts);if("number"==typeof obj){if(0===obj)return 1/0/obj>0?"0":"-0";var str=String(obj);return numericSeparator?addNumericSeparator(obj,str):str}if("bigint"==typeof obj){var bigIntStr=String(obj)+"n";return numericSeparator?addNumericSeparator(obj,bigIntStr):bigIntStr}var maxDepth=void 0===opts.depth?5:opts.depth;if(void 0===depth&&(depth=0),depth>=maxDepth&&maxDepth>0&&"object"==typeof obj)return isArray(obj)?"[Array]":"[Object]";var indent=function getIndent(opts,depth){var baseIndent;if("\t"===opts.indent)baseIndent="\t";else{if(!("number"==typeof opts.indent&&opts.indent>0))return null;baseIndent=$join.call(Array(opts.indent+1)," ")}return{base:baseIndent,prev:$join.call(Array(depth+1),baseIndent)}}(opts,depth);if(void 0===seen)seen=[];else if(indexOf(seen,obj)>=0)return"[Circular]";function inspect(value,from,noIndent){if(from&&(seen=$arrSlice.call(seen)).push(from),noIndent){var newOpts={depth:opts.depth};return has(opts,"quoteStyle")&&(newOpts.quoteStyle=opts.quoteStyle),inspect_(value,newOpts,depth+1,seen)}return inspect_(value,opts,depth+1,seen)}if("function"==typeof obj&&!isRegExp(obj)){var name=function nameOf(f){if(f.name)return f.name;var m=$match.call(functionToString.call(f),/^function\s*([\w$]+)/);if(m)return m[1];return null}(obj),keys=arrObjKeys(obj,inspect);return"[Function"+(name?": "+name:" (anonymous)")+"]"+(keys.length>0?" { "+$join.call(keys,", ")+" }":"")}if(isSymbol(obj)){var symString=hasShammedSymbols?$replace.call(String(obj),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(obj);return"object"!=typeof obj||hasShammedSymbols?symString:markBoxed(symString)}if(function isElement(x){if(!x||"object"!=typeof x)return!1;if("undefined"!=typeof HTMLElement&&x instanceof HTMLElement)return!0;return"string"==typeof x.nodeName&&"function"==typeof x.getAttribute}(obj)){for(var s="<"+$toLowerCase.call(String(obj.nodeName)),attrs=obj.attributes||[],i=0;i<attrs.length;i++)s+=" "+attrs[i].name+"="+wrapQuotes(quote(attrs[i].value),"double",opts);return s+=">",obj.childNodes&&obj.childNodes.length&&(s+="..."),s+="</"+$toLowerCase.call(String(obj.nodeName))+">"}if(isArray(obj)){if(0===obj.length)return"[]";var xs=arrObjKeys(obj,inspect);return indent&&!function singleLineValues(xs){for(var i=0;i<xs.length;i++)if(indexOf(xs[i],"\n")>=0)return!1;return!0}(xs)?"["+indentedJoin(xs,indent)+"]":"[ "+$join.call(xs,", ")+" ]"}if(function isError(obj){return!("[object Error]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj)){var parts=arrObjKeys(obj,inspect);return"cause"in Error.prototype||!("cause"in obj)||isEnumerable.call(obj,"cause")?0===parts.length?"["+String(obj)+"]":"{ ["+String(obj)+"] "+$join.call(parts,", ")+" }":"{ ["+String(obj)+"] "+$join.call($concat.call("[cause]: "+inspect(obj.cause),parts),", ")+" }"}if("object"==typeof obj&&customInspect){if(inspectSymbol&&"function"==typeof obj[inspectSymbol]&&utilInspect)return utilInspect(obj,{depth:maxDepth-depth});if("symbol"!==customInspect&&"function"==typeof obj.inspect)return obj.inspect()}if(function isMap(x){if(!mapSize||!x||"object"!=typeof x)return!1;try{mapSize.call(x);try{setSize.call(x)}catch(s){return!0}return x instanceof Map}catch(e){}return!1}(obj)){var mapParts=[];return mapForEach&&mapForEach.call(obj,(function(value,key){mapParts.push(inspect(key,obj,!0)+" => "+inspect(value,obj))})),collectionOf("Map",mapSize.call(obj),mapParts,indent)}if(function isSet(x){if(!setSize||!x||"object"!=typeof x)return!1;try{setSize.call(x);try{mapSize.call(x)}catch(m){return!0}return x instanceof Set}catch(e){}return!1}(obj)){var setParts=[];return setForEach&&setForEach.call(obj,(function(value){setParts.push(inspect(value,obj))})),collectionOf("Set",setSize.call(obj),setParts,indent)}if(function isWeakMap(x){if(!weakMapHas||!x||"object"!=typeof x)return!1;try{weakMapHas.call(x,weakMapHas);try{weakSetHas.call(x,weakSetHas)}catch(s){return!0}return x instanceof WeakMap}catch(e){}return!1}(obj))return weakCollectionOf("WeakMap");if(function isWeakSet(x){if(!weakSetHas||!x||"object"!=typeof x)return!1;try{weakSetHas.call(x,weakSetHas);try{weakMapHas.call(x,weakMapHas)}catch(s){return!0}return x instanceof WeakSet}catch(e){}return!1}(obj))return weakCollectionOf("WeakSet");if(function isWeakRef(x){if(!weakRefDeref||!x||"object"!=typeof x)return!1;try{return weakRefDeref.call(x),!0}catch(e){}return!1}(obj))return weakCollectionOf("WeakRef");if(function isNumber(obj){return!("[object Number]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj))return markBoxed(inspect(Number(obj)));if(function isBigInt(obj){if(!obj||"object"!=typeof obj||!bigIntValueOf)return!1;try{return bigIntValueOf.call(obj),!0}catch(e){}return!1}(obj))return markBoxed(inspect(bigIntValueOf.call(obj)));if(function isBoolean(obj){return!("[object Boolean]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj))return markBoxed(booleanValueOf.call(obj));if(function isString(obj){return!("[object String]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj))return markBoxed(inspect(String(obj)));if("undefined"!=typeof window&&obj===window)return"{ [object Window] }";if(obj===__webpack_require__.g)return"{ [object globalThis] }";if(!function isDate(obj){return!("[object Date]"!==toStr(obj)||toStringTag&&"object"==typeof obj&&toStringTag in obj)}(obj)&&!isRegExp(obj)){var ys=arrObjKeys(obj,inspect),isPlainObject=gPO?gPO(obj)===Object.prototype:obj instanceof Object||obj.constructor===Object,protoTag=obj instanceof Object?"":"null prototype",stringTag=!isPlainObject&&toStringTag&&Object(obj)===obj&&toStringTag in obj?$slice.call(toStr(obj),8,-1):protoTag?"Object":"",tag=(isPlainObject||"function"!=typeof obj.constructor?"":obj.constructor.name?obj.constructor.name+" ":"")+(stringTag||protoTag?"["+$join.call($concat.call([],stringTag||[],protoTag||[]),": ")+"] ":"");return 0===ys.length?tag+"{}":indent?tag+"{"+indentedJoin(ys,indent)+"}":tag+"{ "+$join.call(ys,", ")+" }"}return String(obj)};var hasOwn=Object.prototype.hasOwnProperty||function(key){return key in this};function has(obj,key){return hasOwn.call(obj,key)}function toStr(obj){return objectToString.call(obj)}function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}function inspectString(str,opts){if(str.length>opts.maxStringLength){var remaining=str.length-opts.maxStringLength,trailer="... "+remaining+" more character"+(remaining>1?"s":"");return inspectString($slice.call(str,0,opts.maxStringLength),opts)+trailer}return wrapQuotes($replace.call($replace.call(str,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte),"single",opts)}function lowbyte(c){var n=c.charCodeAt(0),x={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return x?"\\"+x:"\\x"+(n<16?"0":"")+$toUpperCase.call(n.toString(16))}function markBoxed(str){return"Object("+str+")"}function weakCollectionOf(type){return type+" { ? }"}function collectionOf(type,size,entries,indent){return type+" ("+size+") {"+(indent?indentedJoin(entries,indent):$join.call(entries,", "))+"}"}function indentedJoin(xs,indent){if(0===xs.length)return"";var lineJoiner="\n"+indent.prev+indent.base;return lineJoiner+$join.call(xs,","+lineJoiner)+"\n"+indent.prev}function arrObjKeys(obj,inspect){var isArr=isArray(obj),xs=[];if(isArr){xs.length=obj.length;for(var i=0;i<obj.length;i++)xs[i]=has(obj,i)?inspect(obj[i],obj):""}var symMap,syms="function"==typeof gOPS?gOPS(obj):[];if(hasShammedSymbols){symMap={};for(var k=0;k<syms.length;k++)symMap["$"+syms[k]]=syms[k]}for(var key in obj)has(obj,key)&&(isArr&&String(Number(key))===key&&key<obj.length||hasShammedSymbols&&symMap["$"+key]instanceof Symbol||($test.call(/[^\w$]/,key)?xs.push(inspect(key,obj)+": "+inspect(obj[key],obj)):xs.push(key+": "+inspect(obj[key],obj))));if("function"==typeof gOPS)for(var j=0;j<syms.length;j++)isEnumerable.call(obj,syms[j])&&xs.push("["+inspect(syms[j])+"]: "+inspect(obj[syms[j]],obj));return xs}},"./node_modules/object-is/implementation.js":function(module){"use strict";var numberIsNaN=function(value){return value!=value};module.exports=function is(a,b){return 0===a&&0===b?1/a==1/b:a===b||!(!numberIsNaN(a)||!numberIsNaN(b))}},"./node_modules/object-is/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var define=__webpack_require__("./node_modules/define-properties/index.js"),callBind=__webpack_require__("./node_modules/call-bind/index.js"),implementation=__webpack_require__("./node_modules/object-is/implementation.js"),getPolyfill=__webpack_require__("./node_modules/object-is/polyfill.js"),shim=__webpack_require__("./node_modules/object-is/shim.js"),polyfill=callBind(getPolyfill(),Object);define(polyfill,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=polyfill},"./node_modules/object-is/polyfill.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/object-is/implementation.js");module.exports=function getPolyfill(){return"function"==typeof Object.is?Object.is:implementation}},"./node_modules/object-is/shim.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__("./node_modules/object-is/polyfill.js"),define=__webpack_require__("./node_modules/define-properties/index.js");module.exports=function shimObjectIs(){var polyfill=getPolyfill();return define(Object,{is:polyfill},{is:function testObjectIs(){return Object.is!==polyfill}}),polyfill}},"./node_modules/object-keys/implementation.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var keysShim;if(!Object.keys){var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArgs=__webpack_require__("./node_modules/object-keys/isArguments.js"),isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call((function(){}),"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{if(!excludedKeys["$"+k]&&has.call(window,k)&&null!==window[k]&&"object"==typeof window[k])try{equalsConstructorPrototype(window[k])}catch(e){return!0}}catch(e){return!0}return!1}();keysShim=function keys(object){var isObject=null!==object&&"object"==typeof object,isFunction="[object Function]"===toStr.call(object),isArguments=isArgs(object),isString=isObject&&"[object String]"===toStr.call(object),theKeys=[];if(!isObject&&!isFunction&&!isArguments)throw new TypeError("Object.keys called on a non-object");var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0))for(var i=0;i<object.length;++i)theKeys.push(String(i));if(isArguments&&object.length>0)for(var j=0;j<object.length;++j)theKeys.push(String(j));else for(var name in object)skipProto&&"prototype"===name||!has.call(object,name)||theKeys.push(String(name));if(hasDontEnumBug)for(var skipConstructor=function(o){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(o);try{return equalsConstructorPrototype(o)}catch(e){return!1}}(object),k=0;k<dontEnums.length;++k)skipConstructor&&"constructor"===dontEnums[k]||!has.call(object,dontEnums[k])||theKeys.push(dontEnums[k]);return theKeys}}module.exports=keysShim},"./node_modules/object-keys/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var slice=Array.prototype.slice,isArgs=__webpack_require__("./node_modules/object-keys/isArguments.js"),origKeys=Object.keys,keysShim=origKeys?function keys(o){return origKeys(o)}:__webpack_require__("./node_modules/object-keys/implementation.js"),originalKeys=Object.keys;keysShim.shim=function shimObjectKeys(){if(Object.keys){var keysWorksWithArguments=function(){var args=Object.keys(arguments);return args&&args.length===arguments.length}(1,2);keysWorksWithArguments||(Object.keys=function keys(object){return isArgs(object)?originalKeys(slice.call(object)):originalKeys(object)})}else Object.keys=keysShim;return Object.keys||keysShim},module.exports=keysShim},"./node_modules/object-keys/isArguments.js":function(module){"use strict";var toStr=Object.prototype.toString;module.exports=function isArguments(value){var str=toStr.call(value),isArgs="[object Arguments]"===str;return isArgs||(isArgs="[object Array]"!==str&&null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Function]"===toStr.call(value.callee)),isArgs}},"./node_modules/object.assign/implementation.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var objectKeys=__webpack_require__("./node_modules/object-keys/index.js"),hasSymbols=__webpack_require__("./node_modules/has-symbols/shams.js")(),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),toObject=Object,$push=callBound("Array.prototype.push"),$propIsEnumerable=callBound("Object.prototype.propertyIsEnumerable"),originalGetSymbols=hasSymbols?Object.getOwnPropertySymbols:null;module.exports=function assign(target,source1){if(null==target)throw new TypeError("target must be an object");var to=toObject(target);if(1===arguments.length)return to;for(var s=1;s<arguments.length;++s){var from=toObject(arguments[s]),keys=objectKeys(from),getSymbols=hasSymbols&&(Object.getOwnPropertySymbols||originalGetSymbols);if(getSymbols)for(var syms=getSymbols(from),j=0;j<syms.length;++j){var key=syms[j];$propIsEnumerable(from,key)&&$push(keys,key)}for(var i=0;i<keys.length;++i){var nextKey=keys[i];if($propIsEnumerable(from,nextKey)){var propValue=from[nextKey];to[nextKey]=propValue}}}return to}},"./node_modules/object.assign/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var defineProperties=__webpack_require__("./node_modules/define-properties/index.js"),callBind=__webpack_require__("./node_modules/call-bind/index.js"),implementation=__webpack_require__("./node_modules/object.assign/implementation.js"),getPolyfill=__webpack_require__("./node_modules/object.assign/polyfill.js"),shim=__webpack_require__("./node_modules/object.assign/shim.js"),polyfill=callBind.apply(getPolyfill()),bound=function assign(target,source1){return polyfill(Object,arguments)};defineProperties(bound,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=bound},"./node_modules/object.assign/polyfill.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/object.assign/implementation.js");module.exports=function getPolyfill(){return Object.assign?function(){if(!Object.assign)return!1;for(var str="abcdefghijklmnopqrst",letters=str.split(""),map={},i=0;i<letters.length;++i)map[letters[i]]=letters[i];var obj=Object.assign({},map),actual="";for(var k in obj)actual+=k;return str!==actual}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var thrower=Object.preventExtensions({1:2});try{Object.assign(thrower,"xy")}catch(e){return"y"===thrower[1]}return!1}()?implementation:Object.assign:implementation}},"./node_modules/object.assign/shim.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var define=__webpack_require__("./node_modules/define-properties/index.js"),getPolyfill=__webpack_require__("./node_modules/object.assign/polyfill.js");module.exports=function shimAssign(){var polyfill=getPolyfill();return define(Object,{assign:polyfill},{assign:function(){return Object.assign!==polyfill}}),polyfill}},"./node_modules/pako/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var pako={};(0,__webpack_require__("./node_modules/pako/lib/utils/common.js").assign)(pako,__webpack_require__("./node_modules/pako/lib/deflate.js"),__webpack_require__("./node_modules/pako/lib/inflate.js"),__webpack_require__("./node_modules/pako/lib/zlib/constants.js")),module.exports=pako},"./node_modules/pako/lib/deflate.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var zlib_deflate=__webpack_require__("./node_modules/pako/lib/zlib/deflate.js"),utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),strings=__webpack_require__("./node_modules/pako/lib/utils/strings.js"),msg=__webpack_require__("./node_modules/pako/lib/zlib/messages.js"),ZStream=__webpack_require__("./node_modules/pako/lib/zlib/zstream.js"),toString=Object.prototype.toString,Z_OK=0,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED=8;function Deflate(options){if(!(this instanceof Deflate))return new Deflate(options);this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},options||{});var opt=this.options;opt.raw&&opt.windowBits>0?opt.windowBits=-opt.windowBits:opt.gzip&&opt.windowBits>0&&opt.windowBits<16&&(opt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK)throw new Error(msg[status]);if(opt.header&&zlib_deflate.deflateSetHeader(this.strm,opt.header),opt.dictionary){var dict;if(dict="string"==typeof opt.dictionary?strings.string2buf(opt.dictionary):"[object ArrayBuffer]"===toString.call(opt.dictionary)?new Uint8Array(opt.dictionary):opt.dictionary,(status=zlib_deflate.deflateSetDictionary(this.strm,dict))!==Z_OK)throw new Error(msg[status]);this._dict_set=!0}}function deflate(input,options){var deflator=new Deflate(options);if(deflator.push(input,!0),deflator.err)throw deflator.msg||msg[deflator.err];return deflator.result}Deflate.prototype.push=function(data,mode){var status,_mode,strm=this.strm,chunkSize=this.options.chunkSize;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?4:0,"string"==typeof data?strm.input=strings.string2buf(data):"[object ArrayBuffer]"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),1!==(status=zlib_deflate.deflate(strm,_mode))&&status!==Z_OK)return this.onEnd(status),this.ended=!0,!1;0!==strm.avail_out&&(0!==strm.avail_in||4!==_mode&&2!==_mode)||("string"===this.options.to?this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out))):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))}while((strm.avail_in>0||0===strm.avail_out)&&1!==status);return 4===_mode?(status=zlib_deflate.deflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===Z_OK):2!==_mode||(this.onEnd(Z_OK),strm.avail_out=0,!0)},Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Deflate.prototype.onEnd=function(status){status===Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Deflate=Deflate,exports.deflate=deflate,exports.deflateRaw=function deflateRaw(input,options){return(options=options||{}).raw=!0,deflate(input,options)},exports.gzip=function gzip(input,options){return(options=options||{}).gzip=!0,deflate(input,options)}},"./node_modules/pako/lib/inflate.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var zlib_inflate=__webpack_require__("./node_modules/pako/lib/zlib/inflate.js"),utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),strings=__webpack_require__("./node_modules/pako/lib/utils/strings.js"),c=__webpack_require__("./node_modules/pako/lib/zlib/constants.js"),msg=__webpack_require__("./node_modules/pako/lib/zlib/messages.js"),ZStream=__webpack_require__("./node_modules/pako/lib/zlib/zstream.js"),GZheader=__webpack_require__("./node_modules/pako/lib/zlib/gzheader.js"),toString=Object.prototype.toString;function Inflate(options){if(!(this instanceof Inflate))return new Inflate(options);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},options||{});var opt=this.options;opt.raw&&opt.windowBits>=0&&opt.windowBits<16&&(opt.windowBits=-opt.windowBits,0===opt.windowBits&&(opt.windowBits=-15)),!(opt.windowBits>=0&&opt.windowBits<16)||options&&options.windowBits||(opt.windowBits+=32),opt.windowBits>15&&opt.windowBits<48&&0==(15&opt.windowBits)&&(opt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK)throw new Error(msg[status]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),opt.dictionary&&("string"==typeof opt.dictionary?opt.dictionary=strings.string2buf(opt.dictionary):"[object ArrayBuffer]"===toString.call(opt.dictionary)&&(opt.dictionary=new Uint8Array(opt.dictionary)),opt.raw&&(status=zlib_inflate.inflateSetDictionary(this.strm,opt.dictionary))!==c.Z_OK))throw new Error(msg[status])}function inflate(input,options){var inflator=new Inflate(options);if(inflator.push(input,!0),inflator.err)throw inflator.msg||msg[inflator.err];return inflator.result}Inflate.prototype.push=function(data,mode){var status,_mode,next_out_utf8,tail,utf8str,strm=this.strm,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary,allowBufError=!1;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof data?strm.input=strings.binstring2buf(data):"[object ArrayBuffer]"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),(status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&dictionary&&(status=zlib_inflate.inflateSetDictionary(this.strm,dictionary)),status===c.Z_BUF_ERROR&&!0===allowBufError&&(status=c.Z_OK,allowBufError=!1),status!==c.Z_STREAM_END&&status!==c.Z_OK)return this.onEnd(status),this.ended=!0,!1;strm.next_out&&(0!==strm.avail_out&&status!==c.Z_STREAM_END&&(0!==strm.avail_in||_mode!==c.Z_FINISH&&_mode!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(next_out_utf8=strings.utf8border(strm.output,strm.next_out),tail=strm.next_out-next_out_utf8,utf8str=strings.buf2string(strm.output,next_out_utf8),strm.next_out=tail,strm.avail_out=chunkSize-tail,tail&&utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0),this.onData(utf8str)):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))),0===strm.avail_in&&0===strm.avail_out&&(allowBufError=!0)}while((strm.avail_in>0||0===strm.avail_out)&&status!==c.Z_STREAM_END);return status===c.Z_STREAM_END&&(_mode=c.Z_FINISH),_mode===c.Z_FINISH?(status=zlib_inflate.inflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===c.Z_OK):_mode!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),strm.avail_out=0,!0)},Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Inflate.prototype.onEnd=function(status){status===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Inflate=Inflate,exports.inflate=inflate,exports.inflateRaw=function inflateRaw(input,options){return(options=options||{}).raw=!0,inflate(input,options)},exports.ungzip=inflate},"./node_modules/pako/lib/utils/common.js":function(__unused_webpack_module,exports){"use strict";var TYPED_OK="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function _has(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}exports.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if("object"!=typeof source)throw new TypeError(source+"must be non-object");for(var p in source)_has(source,p)&&(obj[p]=source[p])}}return obj},exports.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray)dest.set(src.subarray(src_offs,src_offs+len),dest_offs);else for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;i<l;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){on?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK)},"./node_modules/pako/lib/utils/strings.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;function buf2binstring(buf,len){if(len<65534&&(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len));for(var result="",i=0;i<len;i++)result+=String.fromCharCode(buf[i]);return result}_utf8len[254]=_utf8len[254]=1,exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=new utils.Buf8(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf},exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)},exports.binstring2buf=function(str){for(var buf=new utils.Buf8(str.length),i=0,len=buf.length;i<len;i++)buf[i]=str.charCodeAt(i);return buf},exports.buf2string=function(buf,max){var i,out,c,c_len,len=max||buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return buf2binstring(utf16buf,out)},exports.utf8border=function(buf,max){var pos;for((max=max||buf.length)>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0||0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}},"./node_modules/pako/lib/zlib/adler32.js":function(module){"use strict";module.exports=function adler32(adler,buf,len,pos){for(var s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;0!==len;){len-=n=len>2e3?2e3:len;do{s2=s2+(s1=s1+buf[pos++]|0)|0}while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}},"./node_modules/pako/lib/zlib/constants.js":function(module){"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/pako/lib/zlib/crc32.js":function(module){"use strict";var crcTable=function makeTable(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}},"./node_modules/pako/lib/zlib/deflate.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var configuration_table,utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),trees=__webpack_require__("./node_modules/pako/lib/zlib/trees.js"),adler32=__webpack_require__("./node_modules/pako/lib/zlib/adler32.js"),crc32=__webpack_require__("./node_modules/pako/lib/zlib/crc32.js"),msg=__webpack_require__("./node_modules/pako/lib/zlib/messages.js"),Z_NO_FLUSH=0,Z_FINISH=4,Z_OK=0,Z_STREAM_ERROR=-2,Z_DEFAULT_COMPRESSION=-1,Z_FIXED=4,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,L_CODES=286,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,INIT_STATE=42,BUSY_STATE=113,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4;function err(strm,errorCode){return strm.msg=msg[errorCode],errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function flush_pending(strm){var s=strm.state,len=s.pending;len>strm.avail_out&&(len=strm.avail_out),0!==len&&(utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,0===s.pending&&(s.pending_out=0))}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=255&b}function longest_match(s,cur_match){var match,len,chain_length=s.max_chain_length,scan=s.strstart,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s.prev_length>=s.good_match&&(chain_length>>=2),nice_match>s.lookahead&&(nice_match=s.lookahead);do{if(_win[(match=cur_match)+best_len]===scan_end&&_win[match+best_len-1]===scan_end1&&_win[match]===_win[scan]&&_win[++match]===_win[scan+1]){scan+=2,match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}}while((cur_match=prev[cur_match&wmask])>limit&&0!=--chain_length);return best_len<=s.lookahead?best_len:s.lookahead}function fill_window(s){var p,n,m,more,str,strm,buf,start,size,len,_w_size=s.w_size;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,p=n=s.hash_size;do{m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0}while(--n);p=n=_w_size;do{m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(0===s.strm.avail_in)break;if(strm=s.strm,buf=s.window,start=s.strstart+s.lookahead,size=more,len=void 0,(len=strm.avail_in)>size&&(len=size),n=0===len?0:(strm.avail_in-=len,utils.arraySet(buf,strm.input,strm.next_in,len,start),1===strm.state.wrap?strm.adler=adler32(strm.adler,buf,len,start):2===strm.state.wrap&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len),s.lookahead+=n,s.lookahead+s.insert>=MIN_MATCH)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&0!==s.strm.avail_in)}function deflate_fast(s,flush){for(var hash_head,bflush;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==hash_head&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head)),s.match_length>=MIN_MATCH)if(bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart}while(0!=--s.match_length);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,flush){for(var hash_head,bflush,max_insert;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(1===s.strategy||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH,bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do{++s.strstart<=max_insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart)}while(0!=--s.prev_length);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}else if(s.match_available){if((bflush=trees._tr_tally(s,0,s.window[s.strstart-1]))&&flush_block_only(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(strm){var s;return strm&&strm.state?(strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN,(s=strm.state).pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?INIT_STATE:BUSY_STATE,strm.adler=2===s.wrap?0:1,s.last_flush=Z_NO_FLUSH,trees._tr_init(s),Z_OK):err(strm,Z_STREAM_ERROR)}function deflateReset(strm){var ret=deflateResetKeep(strm);return ret===Z_OK&&function lm_init(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}(strm.state),ret}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return Z_STREAM_ERROR;var wrap=1;if(level===Z_DEFAULT_COMPRESSION&&(level=6),windowBits<0?(wrap=0,windowBits=-windowBits):windowBits>15&&(wrap=2,windowBits-=16),memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);8===windowBits&&(windowBits=9);var s=new DeflateState;return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new utils.Buf8(2*s.w_size),s.head=new utils.Buf16(s.hash_size),s.prev=new utils.Buf16(s.w_size),s.lit_bufsize=1<<memLevel+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new utils.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)}configuration_table=[new Config(0,0,0,0,(function deflate_stored(s,flush){var max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),0===s.lookahead&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((0===s.strstart||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE;if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out),BS_NEED_MORE)})),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,15,8,0)},exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=function deflateSetHeader(strm,head){return strm&&strm.state?2!==strm.state.wrap?Z_STREAM_ERROR:(strm.state.gzhead=head,Z_OK):Z_STREAM_ERROR},exports.deflate=function deflate(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>5||flush<0)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;if(s=strm.state,!strm.output||!strm.input&&0!==strm.avail_in||666===s.status&&flush!==Z_FINISH)return err(strm,0===strm.avail_out?-5:Z_STREAM_ERROR);if(s.strm=strm,old_flush=s.last_flush,s.last_flush=flush,s.status===INIT_STATE)if(2===s.wrap)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,255&s.gzhead.time),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),put_byte(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,255&s.gzhead.extra.length),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),put_byte(s,3),s.status=BUSY_STATE);else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8;header|=(s.strategy>=2||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(header|=32),header+=31-header%31,s.status=BUSY_STATE,putShortMSB(s,header),0!==s.strstart&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),strm.adler=1}if(69===s.status)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending!==s.pending_buf_size));)put_byte(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),strm.adler=0,s.status=BUSY_STATE)):s.status=BUSY_STATE),0!==s.pending){if(flush_pending(strm),0===strm.avail_out)return s.last_flush=-1,Z_OK}else if(0===strm.avail_in&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH)return err(strm,-5);if(666===s.status&&0!==strm.avail_in)return err(strm,-5);if(0!==strm.avail_in||0!==s.lookahead||flush!==Z_NO_FLUSH&&666!==s.status){var bstate=2===s.strategy?function deflate_huff(s,flush){for(var bflush;;){if(0===s.lookahead&&(fill_window(s),0===s.lookahead)){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}if(s.match_length=0,bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}(s,flush):3===s.strategy?function deflate_rle(s,flush){for(var bflush,prev,scan,strend,_win=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(prev=_win[scan=s.strstart-1])===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}(s,flush):configuration_table[s.level].func(s,flush);if(bstate!==BS_FINISH_STARTED&&bstate!==BS_FINISH_DONE||(s.status=666),bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return 0===strm.avail_out&&(s.last_flush=-1),Z_OK;if(bstate===BS_BLOCK_DONE&&(1===flush?trees._tr_align(s):5!==flush&&(trees._tr_stored_block(s,0,0,!1),3===flush&&(zero(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),0===strm.avail_out))return s.last_flush=-1,Z_OK}return flush!==Z_FINISH?Z_OK:s.wrap<=0?1:(2===s.wrap?(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,255&strm.total_in),put_byte(s,strm.total_in>>8&255),put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),flush_pending(strm),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?Z_OK:1)},exports.deflateEnd=function deflateEnd(strm){var status;return strm&&strm.state?(status=strm.state.status)!==INIT_STATE&&69!==status&&73!==status&&91!==status&&103!==status&&status!==BUSY_STATE&&666!==status?err(strm,Z_STREAM_ERROR):(strm.state=null,status===BUSY_STATE?err(strm,-3):Z_OK):Z_STREAM_ERROR},exports.deflateSetDictionary=function deflateSetDictionary(strm,dictionary){var s,str,n,wrap,avail,next,input,tmpDict,dictLength=dictionary.length;if(!strm||!strm.state)return Z_STREAM_ERROR;if(2===(wrap=(s=strm.state).wrap)||1===wrap&&s.status!==INIT_STATE||s.lookahead)return Z_STREAM_ERROR;for(1===wrap&&(strm.adler=adler32(strm.adler,dictionary,dictLength,0)),s.wrap=0,dictLength>=s.w_size&&(0===wrap&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0),tmpDict=new utils.Buf8(s.w_size),utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0),dictionary=tmpDict,dictLength=s.w_size),avail=strm.avail_in,next=strm.next_in,input=strm.input,strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,fill_window(s);s.lookahead>=MIN_MATCH;){str=s.strstart,n=s.lookahead-(MIN_MATCH-1);do{s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++}while(--n);s.strstart=str,s.lookahead=MIN_MATCH-1,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s.wrap=wrap,Z_OK},exports.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/gzheader.js":function(module){"use strict";module.exports=function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},"./node_modules/pako/lib/zlib/inffast.js":function(module){"use strict";module.exports=function inflate_fast(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(hold>>>=op=here>>>24,bits-=op,0===(op=here>>>16&255))output[_out++]=65535&here;else{if(!(16&op)){if(0==(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}if(32&op){state.mode=12;break top}strm.msg="invalid literal/length code",state.mode=30;break top}len=65535&here,(op&=15)&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(hold>>>=op=here>>>24,bits-=op,!(16&(op=here>>>16&255))){if(0==(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}strm.msg="invalid distance code",state.mode=30;break top}if(dist=65535&here,bits<(op&=15)&&(hold+=input[_in++]<<bits,(bits+=8)<op&&(hold+=input[_in++]<<bits,bits+=8)),(dist+=hold&(1<<op)-1)>dmax){strm.msg="invalid distance too far back",state.mode=30;break top}if(hold>>>=op,bits-=op,dist>(op=_out-beg)){if((op=dist-op)>whave&&state.sane){strm.msg="invalid distance too far back",state.mode=30;break top}if(from=0,from_source=s_window,0===wnext){if(from+=wsize-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,(op-=wnext)<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);if(from=0,wnext<len){len-=op=wnext;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do{output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3}while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}break}}break}}while(_in<last&&_out<end);_in-=len=bits>>3,hold&=(1<<(bits-=len<<3))-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?last-_in+5:5-(_in-last),strm.avail_out=_out<end?end-_out+257:257-(_out-end),state.hold=hold,state.bits=bits}},"./node_modules/pako/lib/zlib/inflate.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),adler32=__webpack_require__("./node_modules/pako/lib/zlib/adler32.js"),crc32=__webpack_require__("./node_modules/pako/lib/zlib/crc32.js"),inflate_fast=__webpack_require__("./node_modules/pako/lib/zlib/inffast.js"),inflate_table=__webpack_require__("./node_modules/pako/lib/zlib/inftrees.js"),LENS=1,DISTS=2,Z_OK=0,Z_STREAM_ERROR=-2,HEAD=1,ENOUGH_LENS=852,ENOUGH_DISTS=592;function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(strm){var state;return strm&&strm.state?(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg="",state.wrap&&(strm.adler=1&state.wrap),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS),state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(strm){var state;return strm&&strm.state?((state=strm.state).wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)):Z_STREAM_ERROR}function inflateReset2(strm,windowBits){var wrap,state;return strm&&strm.state?(state=strm.state,windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=1+(windowBits>>4),windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15)?Z_STREAM_ERROR:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))):Z_STREAM_ERROR}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new InflateState,strm.state=state,state.window=null,(ret=inflateReset2(strm,windowBits))!==Z_OK&&(strm.state=null),ret):Z_STREAM_ERROR}var lenfix,distfix,virgin=!0;function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):((dist=state.wsize-state.wnext)>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),(copy-=dist)?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=function inflateInit(strm){return inflateInit2(strm,15)},exports.inflateInit2=inflateInit2,exports.inflate=function inflate(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,opts,n,here=0,hbuf=new utils.Buf8(4),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return Z_STREAM_ERROR;12===(state=strm.state).mode&&(state.mode=13),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(0===state.wrap){state.mode=13;break}for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=2;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg="incorrect header check",state.mode=30;break}if(8!=(15&hold)){strm.msg="unknown compression method",state.mode=30;break}if(bits-=4,len=8+(15&(hold>>>=4)),0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg="invalid window size",state.mode=30;break}state.dmax=1<<len,strm.adler=state.check=1,state.mode=512&hold?10:12,hold=0,bits=0;break;case 2:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,8!=(255&state.flags)){strm.msg="unknown compression method",state.mode=30;break}if(57344&state.flags){strm.msg="unknown header flags set",state.mode=30;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=3;case 3:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=4;case 4:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=5;case 5:if(1024&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=6;case 6:if(1024&state.flags&&((copy=state.length)>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=7;case 7:if(2048&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=8;case 8:if(4096&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=9;case 9:if(512&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg="header crc mismatch",state.mode=30;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=12;break;case 10:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=11;case 11:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,2;strm.adler=state.check=1,state.mode=12;case 12:if(5===flush||6===flush)break inf_leave;case 13:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=27;break}for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,bits-=1,3&(hold>>>=1)){case 0:state.mode=14;break;case 1:if(fixedtables(state),state.mode=20,6===flush){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=17;break;case 3:strm.msg="invalid block type",state.mode=30}hold>>>=2,bits-=2;break;case 14:for(hold>>>=7&bits,bits-=7&bits;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((65535&hold)!=(hold>>>16^65535)){strm.msg="invalid stored block lengths",state.mode=30;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=15,6===flush)break inf_leave;case 15:state.mode=16;case 16:if(copy=state.length){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=12;break;case 17:for(;bits<14;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=257+(31&hold),hold>>>=5,bits-=5,state.ndist=1+(31&hold),hold>>>=5,bits-=5,state.ncode=4+(15&hold),hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols",state.mode=30;break}state.have=0,state.mode=18;case 18:for(;state.have<state.ncode;){for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(0,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid code lengths set",state.mode=30;break}state.have=0,state.mode=19;case 19:for(;state.have<state.nlen+state.ndist;){for(;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg="invalid bit length repeat",state.mode=30;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2}else if(17===here_val){for(n=here_bits+3;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=3+(7&(hold>>>=here_bits)),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=11+(127&(hold>>>=here_bits)),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat",state.mode=30;break}for(;copy--;)state.lens[state.have++]=len}}if(30===state.mode)break;if(0===state.lens[256]){strm.msg="invalid code -- missing end-of-block",state.mode=30;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid literal/lengths set",state.mode=30;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg="invalid distances set",state.mode=30;break}if(state.mode=20,6===flush)break inf_leave;case 20:state.mode=21;case 21:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,12===state.mode&&(state.back=-1);break}for(state.back=0;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=26;break}if(32&here_op){state.back=-1,state.mode=12;break}if(64&here_op){strm.msg="invalid literal/length code",state.mode=30;break}state.extra=15&here_op,state.mode=22;case 22:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=23;case 23:for(;here_op=(here=state.distcode[hold&(1<<state.distbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,64&here_op){strm.msg="invalid distance code",state.mode=30;break}state.offset=here_val,state.extra=15&here_op,state.mode=24;case 24:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back",state.mode=30;break}state.mode=25;case 25:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if((copy=state.offset-copy)>state.whave&&state.sane){strm.msg="invalid distance too far back",state.mode=30;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);0===state.length&&(state.mode=21);break;case 26:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=21;break;case 27:if(state.wrap){for(;bits<32;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check",state.mode=30;break}hold=0,bits=0}state.mode=28;case 28:if(state.wrap&&state.flags){for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg="incorrect length check",state.mode=30;break}hold=0,bits=0}state.mode=29;case 29:ret=1;break inf_leave;case 30:ret=-3;break inf_leave;case 31:return-4;default:return Z_STREAM_ERROR}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<30&&(state.mode<27||4!==flush))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=31,-4):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(12===state.mode?128:0)+(20===state.mode||15===state.mode?256:0),(0===_in&&0===_out||4===flush)&&ret===Z_OK&&(ret=-5),ret)},exports.inflateEnd=function inflateEnd(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK},exports.inflateGetHeader=function inflateGetHeader(strm,head){var state;return strm&&strm.state?0==(2&(state=strm.state).wrap)?Z_STREAM_ERROR:(state.head=head,head.done=!1,Z_OK):Z_STREAM_ERROR},exports.inflateSetDictionary=function inflateSetDictionary(strm,dictionary){var state,dictLength=dictionary.length;return strm&&strm.state?0!==(state=strm.state).wrap&&11!==state.mode?Z_STREAM_ERROR:11===state.mode&&adler32(1,dictionary,dictLength,0)!==state.check?-3:updatewindow(strm,dictionary,dictLength,dictLength)?(state.mode=31,-4):(state.havedict=1,Z_OK):Z_STREAM_ERROR},exports.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/inftrees.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function inflate_table(type,lens,lens_index,codes,table,table_index,work,opts){var incr,fill,low,mask,next,end,here_bits,here_op,here_val,bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,base=null,base_index=0,count=new utils.Buf16(16),offs=new utils.Buf16(16),extra=null,extra_index=0;for(len=0;len<=15;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=15;max>=1&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;min<max&&0===count[min];min++);for(root<min&&(root=min),left=1,len=1;len<=15;len++)if(left<<=1,(left-=count[len])<0)return-1;if(left>0&&(0===type||1!==max))return-1;for(offs[1]=0,len=1;len<15;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(0===type?(base=extra=work,end=19):1===type?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,mask=(used=1<<root)-1,1===type&&used>852||2===type&&used>592)return 1;for(;;){here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),incr=1<<len-drop,min=fill=1<<curr;do{table[next+(huff>>drop)+(fill-=incr)]=here_bits<<24|here_op<<16|here_val|0}while(0!==fill);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0==--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,left=1<<(curr=len-drop);curr+drop<max&&!((left-=count[curr+drop])<=0);)curr++,left<<=1;if(used+=1<<curr,1===type&&used>852||2===type&&used>592)return 1;table[low=huff&mask]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},"./node_modules/pako/lib/zlib/messages.js":function(module){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/pako/lib/zlib/trees.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),Z_BINARY=0,Z_TEXT=1;function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}var STORED_BLOCK=0,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(512);zero(_dist_code);var _length_code=new Array(256);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var static_l_desc,static_d_desc,static_bl_desc,base_dist=new Array(D_CODES);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=255&w,s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){s.bi_valid>Buf_size-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>Buf_size-s.bi_valid,s.bi_valid+=length-Buf_size):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)}function send_code(s,c,tree){send_bits(s,tree[2*c],tree[2*c+1])}function bi_reverse(code,len){var res=0;do{res|=1&code,code>>>=1,res<<=1}while(--len>0);return res>>>1}function gen_codes(tree,max_code,bl_count){var bits,n,next_code=new Array(MAX_BITS+1),code=0;for(bits=1;bits<=MAX_BITS;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++){var len=tree[2*n+1];0!==len&&(tree[2*n]=bi_reverse(next_code[len]++,len))}}function init_block(s){var n;for(n=0;n<L_CODES;n++)s.dyn_ltree[2*n]=0;for(n=0;n<D_CODES;n++)s.dyn_dtree[2*n]=0;for(n=0;n<BL_CODES;n++)s.bl_tree[2*n]=0;s.dyn_ltree[2*END_BLOCK]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function smaller(tree,n,m,depth){var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){for(var v=s.heap[k],j=k<<1;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,code,extra,lx=0;if(0!==s.last_lit)do{dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1],lc=s.pending_buf[s.l_buf+lx],lx++,0===dist?send_code(s,lc,ltree):(send_code(s,(code=_length_code[lc])+LITERALS+1,ltree),0!==(extra=extra_lbits[code])&&send_bits(s,lc-=base_length[code],extra),send_code(s,code=d_code(--dist),dtree),0!==(extra=extra_dbits[code])&&send_bits(s,dist-=base_dist[code],extra))}while(lx<s.last_lit);send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var n,m,node,tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,max_code=-1;for(s.heap_len=0,s.heap_max=HEAP_SIZE,n=0;n<elems;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)tree[2*(node=s.heap[++s.heap_len]=max_code<2?++max_code:0)]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[2*node+1]);for(desc.max_code=max_code,n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do{n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],function gen_bitlen(s,desc){var h,n,m,bits,xbits,f,tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,overflow=0;for(bits=0;bits<=MAX_BITS;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;h<HEAP_SIZE;h++)(bits=tree[2*tree[2*(n=s.heap[h])+1]+1]+1)>max_length&&(bits=max_length,overflow++),tree[2*n+1]=bits,n>max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)(m=s.heap[--h])>max_code||(tree[2*m+1]!==bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}}(s,desc),gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],++count<max_count&&curlen===nextlen||(count<min_count?s.bl_tree[2*curlen]+=count:0!==curlen?(curlen!==prevlen&&s.bl_tree[2*curlen]++,s.bl_tree[2*REP_3_6]++):count<=10?s.bl_tree[2*REPZ_3_10]++:s.bl_tree[2*REPZ_11_138]++,count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function send_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count)do{send_code(s,curlen,s.bl_tree)}while(0!=--count);else 0!==curlen?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,count-3,2)):count<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}zero(base_dist);var static_init_done=!1;function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3),function copy_block(s,buf,len,header){bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),utils.arraySet(s.pending_buf,s.window,buf,len,s.pending),s.pending+=len}(s,buf,stored_len,!0)}exports._tr_init=function _tr_init(s){static_init_done||(!function tr_static_init(){var n,bits,length,code,dist,bl_count=new Array(MAX_BITS+1);for(length=0,code=0;code<LENGTH_CODES-1;code++)for(base_length[code]=length,n=0;n<1<<extra_lbits[code];n++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;code<16;code++)for(base_dist[code]=dist,n=0;n<1<<extra_dbits[code];n++)_dist_code[dist++]=code;for(dist>>=7;code<D_CODES;code++)for(base_dist[code]=dist<<7,n=0;n<1<<extra_dbits[code]-7;n++)_dist_code[256+dist++]=code;for(bits=0;bits<=MAX_BITS;bits++)bl_count[bits]=0;for(n=0;n<=143;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(;n<=255;)static_ltree[2*n+1]=9,n++,bl_count[9]++;for(;n<=279;)static_ltree[2*n+1]=7,n++,bl_count[7]++;for(;n<=287;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1,bl_count),n=0;n<D_CODES;n++)static_dtree[2*n+1]=5,static_dtree[2*n]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)},exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;s.level>0?(2===s.strm.data_type&&(s.strm.data_type=function detect_data_type(s){var n,black_mask=4093624447;for(n=0;n<=31;n++,black_mask>>>=1)if(1&black_mask&&0!==s.dyn_ltree[2*n])return Z_BINARY;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return Z_TEXT;for(n=32;n<LITERALS;n++)if(0!==s.dyn_ltree[2*n])return Z_TEXT;return Z_BINARY}(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),max_blindex=function build_bl_tree(s){var max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=BL_CODES-1;max_blindex>=3&&0===s.bl_tree[2*bl_order[max_blindex]+1];max_blindex--);return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}(s),opt_lenb=s.opt_len+3+7>>>3,(static_lenb=s.static_len+3+7>>>3)<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&-1!==buf?_tr_stored_block(s,buf,stored_len,last):4===s.strategy||static_lenb===opt_lenb?(send_bits(s,2+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,4+(last?1:0),3),function send_all_trees(s,lcodes,dcodes,blcodes){var rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(s,s.bl_tree[2*bl_order[rank]+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)}(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)},exports._tr_tally=function _tr_tally(s,dist,lc){return s.pending_buf[s.d_buf+2*s.last_lit]=dist>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist,s.pending_buf[s.l_buf+s.last_lit]=255&lc,s.last_lit++,0===dist?s.dyn_ltree[2*lc]++:(s.matches++,dist--,s.dyn_ltree[2*(_length_code[lc]+LITERALS+1)]++,s.dyn_dtree[2*d_code(dist)]++),s.last_lit===s.lit_bufsize-1},exports._tr_align=function _tr_align(s){send_bits(s,2,3),send_code(s,END_BLOCK,static_ltree),function bi_flush(s){16===s.bi_valid?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)}(s)}},"./node_modules/pako/lib/zlib/zstream.js":function(module){"use strict";module.exports=function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},"./node_modules/pbf/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=Pbf;var ieee754=__webpack_require__("./node_modules/ieee754/index.js");function Pbf(buf){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(buf)?buf:new Uint8Array(buf||0),this.pos=0,this.type=0,this.length=this.buf.length}Pbf.Varint=0,Pbf.Fixed64=1,Pbf.Bytes=2,Pbf.Fixed32=5;var utf8TextDecoder="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");function readPackedEnd(pbf){return pbf.type===Pbf.Bytes?pbf.readVarint()+pbf.pos:pbf.pos+1}function toNum(low,high,isSigned){return isSigned?4294967296*high+(low>>>0):4294967296*(high>>>0)+(low>>>0)}function makeRoomForExtraLength(startPos,len,pbf){var extraLen=len<=16383?1:len<=2097151?2:len<=268435455?3:Math.floor(Math.log(len)/(7*Math.LN2));pbf.realloc(extraLen);for(var i=pbf.pos-1;i>=startPos;i--)pbf.buf[i+extraLen]=pbf.buf[i]}function writePackedVarint(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeVarint(arr[i])}function writePackedSVarint(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeSVarint(arr[i])}function writePackedFloat(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeFloat(arr[i])}function writePackedDouble(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeDouble(arr[i])}function writePackedBoolean(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeBoolean(arr[i])}function writePackedFixed32(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeFixed32(arr[i])}function writePackedSFixed32(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeSFixed32(arr[i])}function writePackedFixed64(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeFixed64(arr[i])}function writePackedSFixed64(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeSFixed64(arr[i])}function readUInt32(buf,pos){return(buf[pos]|buf[pos+1]<<8|buf[pos+2]<<16)+16777216*buf[pos+3]}function writeInt32(buf,val,pos){buf[pos]=val,buf[pos+1]=val>>>8,buf[pos+2]=val>>>16,buf[pos+3]=val>>>24}function readInt32(buf,pos){return(buf[pos]|buf[pos+1]<<8|buf[pos+2]<<16)+(buf[pos+3]<<24)}Pbf.prototype={destroy:function(){this.buf=null},readFields:function(readField,result,end){for(end=end||this.length;this.pos<end;){var val=this.readVarint(),tag=val>>3,startPos=this.pos;this.type=7&val,readField(tag,result,this),this.pos===startPos&&this.skip(val)}return result},readMessage:function(readField,result){return this.readFields(readField,result,this.readVarint()+this.pos)},readFixed32:function(){var val=readUInt32(this.buf,this.pos);return this.pos+=4,val},readSFixed32:function(){var val=readInt32(this.buf,this.pos);return this.pos+=4,val},readFixed64:function(){var val=readUInt32(this.buf,this.pos)+4294967296*readUInt32(this.buf,this.pos+4);return this.pos+=8,val},readSFixed64:function(){var val=readUInt32(this.buf,this.pos)+4294967296*readInt32(this.buf,this.pos+4);return this.pos+=8,val},readFloat:function(){var val=ieee754.read(this.buf,this.pos,!0,23,4);return this.pos+=4,val},readDouble:function(){var val=ieee754.read(this.buf,this.pos,!0,52,8);return this.pos+=8,val},readVarint:function(isSigned){var val,b,buf=this.buf;return val=127&(b=buf[this.pos++]),b<128?val:(val|=(127&(b=buf[this.pos++]))<<7,b<128?val:(val|=(127&(b=buf[this.pos++]))<<14,b<128?val:(val|=(127&(b=buf[this.pos++]))<<21,b<128?val:function readVarintRemainder(l,s,p){var h,b,buf=p.buf;if(b=buf[p.pos++],h=(112&b)>>4,b<128)return toNum(l,h,s);if(b=buf[p.pos++],h|=(127&b)<<3,b<128)return toNum(l,h,s);if(b=buf[p.pos++],h|=(127&b)<<10,b<128)return toNum(l,h,s);if(b=buf[p.pos++],h|=(127&b)<<17,b<128)return toNum(l,h,s);if(b=buf[p.pos++],h|=(127&b)<<24,b<128)return toNum(l,h,s);if(b=buf[p.pos++],h|=(1&b)<<31,b<128)return toNum(l,h,s);throw new Error("Expected varint not more than 10 bytes")}(val|=(15&(b=buf[this.pos]))<<28,isSigned,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var num=this.readVarint();return num%2==1?(num+1)/-2:num/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var end=this.readVarint()+this.pos,pos=this.pos;return this.pos=end,end-pos>=12&&utf8TextDecoder?function readUtf8TextDecoder(buf,pos,end){return utf8TextDecoder.decode(buf.subarray(pos,end))}(this.buf,pos,end):function readUtf8(buf,pos,end){var str="",i=pos;for(;i<end;){var b1,b2,b3,b0=buf[i],c=null,bytesPerSequence=b0>239?4:b0>223?3:b0>191?2:1;if(i+bytesPerSequence>end)break;1===bytesPerSequence?b0<128&&(c=b0):2===bytesPerSequence?128==(192&(b1=buf[i+1]))&&(c=(31&b0)<<6|63&b1)<=127&&(c=null):3===bytesPerSequence?(b1=buf[i+1],b2=buf[i+2],128==(192&b1)&&128==(192&b2)&&((c=(15&b0)<<12|(63&b1)<<6|63&b2)<=2047||c>=55296&&c<=57343)&&(c=null)):4===bytesPerSequence&&(b1=buf[i+1],b2=buf[i+2],b3=buf[i+3],128==(192&b1)&&128==(192&b2)&&128==(192&b3)&&((c=(15&b0)<<18|(63&b1)<<12|(63&b2)<<6|63&b3)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,bytesPerSequence=1):c>65535&&(c-=65536,str+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),str+=String.fromCharCode(c),i+=bytesPerSequence}return str}(this.buf,pos,end)},readBytes:function(){var end=this.readVarint()+this.pos,buffer=this.buf.subarray(this.pos,end);return this.pos=end,buffer},readPackedVarint:function(arr,isSigned){if(this.type!==Pbf.Bytes)return arr.push(this.readVarint(isSigned));var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readVarint(isSigned));return arr},readPackedSVarint:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readSVarint());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readSVarint());return arr},readPackedBoolean:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readBoolean());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readBoolean());return arr},readPackedFloat:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readFloat());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readFloat());return arr},readPackedDouble:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readDouble());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readDouble());return arr},readPackedFixed32:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readFixed32());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readFixed32());return arr},readPackedSFixed32:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readSFixed32());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readSFixed32());return arr},readPackedFixed64:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readFixed64());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readFixed64());return arr},readPackedSFixed64:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readSFixed64());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readSFixed64());return arr},skip:function(val){var type=7&val;if(type===Pbf.Varint)for(;this.buf[this.pos++]>127;);else if(type===Pbf.Bytes)this.pos=this.readVarint()+this.pos;else if(type===Pbf.Fixed32)this.pos+=4;else{if(type!==Pbf.Fixed64)throw new Error("Unimplemented type: "+type);this.pos+=8}},writeTag:function(tag,type){this.writeVarint(tag<<3|type)},realloc:function(min){for(var length=this.length||16;length<this.pos+min;)length*=2;if(length!==this.length){var buf=new Uint8Array(length);buf.set(this.buf),this.buf=buf,this.length=length}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(val){this.realloc(4),writeInt32(this.buf,val,this.pos),this.pos+=4},writeSFixed32:function(val){this.realloc(4),writeInt32(this.buf,val,this.pos),this.pos+=4},writeFixed64:function(val){this.realloc(8),writeInt32(this.buf,-1&val,this.pos),writeInt32(this.buf,Math.floor(2.3283064365386963e-10*val),this.pos+4),this.pos+=8},writeSFixed64:function(val){this.realloc(8),writeInt32(this.buf,-1&val,this.pos),writeInt32(this.buf,Math.floor(2.3283064365386963e-10*val),this.pos+4),this.pos+=8},writeVarint:function(val){(val=+val||0)>268435455||val<0?function writeBigVarint(val,pbf){var low,high;val>=0?(low=val%4294967296|0,high=val/4294967296|0):(high=~(-val/4294967296),4294967295^(low=~(-val%4294967296))?low=low+1|0:(low=0,high=high+1|0));if(val>=0x10000000000000000||val<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");pbf.realloc(10),function writeBigVarintLow(low,high,pbf){pbf.buf[pbf.pos++]=127&low|128,low>>>=7,pbf.buf[pbf.pos++]=127&low|128,low>>>=7,pbf.buf[pbf.pos++]=127&low|128,low>>>=7,pbf.buf[pbf.pos++]=127&low|128,low>>>=7,pbf.buf[pbf.pos]=127&low}(low,0,pbf),function writeBigVarintHigh(high,pbf){var lsb=(7&high)<<4;if(pbf.buf[pbf.pos++]|=lsb|((high>>>=3)?128:0),!high)return;if(pbf.buf[pbf.pos++]=127&high|((high>>>=7)?128:0),!high)return;if(pbf.buf[pbf.pos++]=127&high|((high>>>=7)?128:0),!high)return;if(pbf.buf[pbf.pos++]=127&high|((high>>>=7)?128:0),!high)return;if(pbf.buf[pbf.pos++]=127&high|((high>>>=7)?128:0),!high)return;pbf.buf[pbf.pos++]=127&high}(high,pbf)}(val,this):(this.realloc(4),this.buf[this.pos++]=127&val|(val>127?128:0),val<=127||(this.buf[this.pos++]=127&(val>>>=7)|(val>127?128:0),val<=127||(this.buf[this.pos++]=127&(val>>>=7)|(val>127?128:0),val<=127||(this.buf[this.pos++]=val>>>7&127))))},writeSVarint:function(val){this.writeVarint(val<0?2*-val-1:2*val)},writeBoolean:function(val){this.writeVarint(Boolean(val))},writeString:function(str){str=String(str),this.realloc(4*str.length),this.pos++;var startPos=this.pos;this.pos=function writeUtf8(buf,str,pos){for(var c,lead,i=0;i<str.length;i++){if((c=str.charCodeAt(i))>55295&&c<57344){if(!lead){c>56319||i+1===str.length?(buf[pos++]=239,buf[pos++]=191,buf[pos++]=189):lead=c;continue}if(c<56320){buf[pos++]=239,buf[pos++]=191,buf[pos++]=189,lead=c;continue}c=lead-55296<<10|c-56320|65536,lead=null}else lead&&(buf[pos++]=239,buf[pos++]=191,buf[pos++]=189,lead=null);c<128?buf[pos++]=c:(c<2048?buf[pos++]=c>>6|192:(c<65536?buf[pos++]=c>>12|224:(buf[pos++]=c>>18|240,buf[pos++]=c>>12&63|128),buf[pos++]=c>>6&63|128),buf[pos++]=63&c|128)}return pos}(this.buf,str,this.pos);var len=this.pos-startPos;len>=128&&makeRoomForExtraLength(startPos,len,this),this.pos=startPos-1,this.writeVarint(len),this.pos+=len},writeFloat:function(val){this.realloc(4),ieee754.write(this.buf,val,this.pos,!0,23,4),this.pos+=4},writeDouble:function(val){this.realloc(8),ieee754.write(this.buf,val,this.pos,!0,52,8),this.pos+=8},writeBytes:function(buffer){var len=buffer.length;this.writeVarint(len),this.realloc(len);for(var i=0;i<len;i++)this.buf[this.pos++]=buffer[i]},writeRawMessage:function(fn,obj){this.pos++;var startPos=this.pos;fn(obj,this);var len=this.pos-startPos;len>=128&&makeRoomForExtraLength(startPos,len,this),this.pos=startPos-1,this.writeVarint(len),this.pos+=len},writeMessage:function(tag,fn,obj){this.writeTag(tag,Pbf.Bytes),this.writeRawMessage(fn,obj)},writePackedVarint:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedVarint,arr)},writePackedSVarint:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedSVarint,arr)},writePackedBoolean:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedBoolean,arr)},writePackedFloat:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedFloat,arr)},writePackedDouble:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedDouble,arr)},writePackedFixed32:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedFixed32,arr)},writePackedSFixed32:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedSFixed32,arr)},writePackedFixed64:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedFixed64,arr)},writePackedSFixed64:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedSFixed64,arr)},writeBytesField:function(tag,buffer){this.writeTag(tag,Pbf.Bytes),this.writeBytes(buffer)},writeFixed32Field:function(tag,val){this.writeTag(tag,Pbf.Fixed32),this.writeFixed32(val)},writeSFixed32Field:function(tag,val){this.writeTag(tag,Pbf.Fixed32),this.writeSFixed32(val)},writeFixed64Field:function(tag,val){this.writeTag(tag,Pbf.Fixed64),this.writeFixed64(val)},writeSFixed64Field:function(tag,val){this.writeTag(tag,Pbf.Fixed64),this.writeSFixed64(val)},writeVarintField:function(tag,val){this.writeTag(tag,Pbf.Varint),this.writeVarint(val)},writeSVarintField:function(tag,val){this.writeTag(tag,Pbf.Varint),this.writeSVarint(val)},writeStringField:function(tag,str){this.writeTag(tag,Pbf.Bytes),this.writeString(str)},writeFloatField:function(tag,val){this.writeTag(tag,Pbf.Fixed32),this.writeFloat(val)},writeDoubleField:function(tag,val){this.writeTag(tag,Pbf.Fixed64),this.writeDouble(val)},writeBooleanField:function(tag,val){this.writeVarintField(tag,Boolean(val))}}},"./node_modules/polygon-clipping/dist/polygon-clipping.umd.js":function(module,__unused_webpack_exports,__webpack_require__){var process=__webpack_require__("./node_modules/process/browser.js");module.exports=function(){"use strict";function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!((t=(t=_.trys).length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}var Node=function(){function Node(key,data){this.next=null,this.key=key,this.data=data,this.left=null,this.right=null}return Node}();function DEFAULT_COMPARE(a,b){return a>b?1:a<b?-1:0}function splay(i,t,comparator){for(var N=new Node(null,null),l=N,r=N;;){var cmp=comparator(i,t.key);if(cmp<0){if(null===t.left)break;if(comparator(i,t.left.key)<0){var y=t.left;if(t.left=y.right,y.right=t,null===(t=y).left)break}r.left=t,r=t,t=t.left}else{if(!(cmp>0))break;if(null===t.right)break;if(comparator(i,t.right.key)>0&&(y=t.right,t.right=y.left,y.left=t,null===(t=y).right))break;l.right=t,l=t,t=t.right}}return l.right=t.left,r.left=t.right,t.left=N.right,t.right=N.left,t}function insert(i,data,t,comparator){var node=new Node(i,data);if(null===t)return node.left=node.right=null,node;var cmp=comparator(i,(t=splay(i,t,comparator)).key);return cmp<0?(node.left=t.left,node.right=t,t.left=null):cmp>=0&&(node.right=t.right,node.left=t,t.right=null),node}function split(key,v,comparator){var left=null,right=null;if(v){var cmp=comparator((v=splay(key,v,comparator)).key,key);0===cmp?(left=v.left,right=v.right):cmp<0?(right=v.right,v.right=null,left=v):(left=v.left,v.left=null,right=v)}return{left:left,right:right}}function merge(left,right,comparator){return null===right?left:(null===left||((right=splay(left.key,right,comparator)).left=left),right)}function printRow(root,prefix,isTail,out,printNode){if(root){out(prefix+(isTail?" ":" ")+printNode(root)+"\n");var indent=prefix+(isTail?"    ":"   ");root.left&&printRow(root.left,indent,!1,out,printNode),root.right&&printRow(root.right,indent,!0,out,printNode)}}var Tree=function(){function Tree(comparator){void 0===comparator&&(comparator=DEFAULT_COMPARE),this._root=null,this._size=0,this._comparator=comparator}return Tree.prototype.insert=function(key,data){return this._size++,this._root=insert(key,data,this._root,this._comparator)},Tree.prototype.add=function(key,data){var node=new Node(key,data);null===this._root&&(node.left=node.right=null,this._size++,this._root=node);var comparator=this._comparator,t=splay(key,this._root,comparator),cmp=comparator(key,t.key);return 0===cmp?this._root=t:(cmp<0?(node.left=t.left,node.right=t,t.left=null):cmp>0&&(node.right=t.right,node.left=t,t.right=null),this._size++,this._root=node),this._root},Tree.prototype.remove=function(key){this._root=this._remove(key,this._root,this._comparator)},Tree.prototype._remove=function(i,t,comparator){var x;return null===t?null:0===comparator(i,(t=splay(i,t,comparator)).key)?(null===t.left?x=t.right:(x=splay(i,t.left,comparator)).right=t.right,this._size--,x):t},Tree.prototype.pop=function(){var node=this._root;if(node){for(;node.left;)node=node.left;return this._root=splay(node.key,this._root,this._comparator),this._root=this._remove(node.key,this._root,this._comparator),{key:node.key,data:node.data}}return null},Tree.prototype.findStatic=function(key){for(var current=this._root,compare=this._comparator;current;){var cmp=compare(key,current.key);if(0===cmp)return current;current=cmp<0?current.left:current.right}return null},Tree.prototype.find=function(key){return this._root&&(this._root=splay(key,this._root,this._comparator),0!==this._comparator(key,this._root.key))?null:this._root},Tree.prototype.contains=function(key){for(var current=this._root,compare=this._comparator;current;){var cmp=compare(key,current.key);if(0===cmp)return!0;current=cmp<0?current.left:current.right}return!1},Tree.prototype.forEach=function(visitor,ctx){for(var current=this._root,Q=[],done=!1;!done;)null!==current?(Q.push(current),current=current.left):0!==Q.length?(current=Q.pop(),visitor.call(ctx,current),current=current.right):done=!0;return this},Tree.prototype.range=function(low,high,fn,ctx){for(var Q=[],compare=this._comparator,node=this._root;0!==Q.length||node;)if(node)Q.push(node),node=node.left;else{if(compare((node=Q.pop()).key,high)>0)break;if(compare(node.key,low)>=0&&fn.call(ctx,node))return this;node=node.right}return this},Tree.prototype.keys=function(){var keys=[];return this.forEach((function(_a){var key=_a.key;return keys.push(key)})),keys},Tree.prototype.values=function(){var values=[];return this.forEach((function(_a){var data=_a.data;return values.push(data)})),values},Tree.prototype.min=function(){return this._root?this.minNode(this._root).key:null},Tree.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},Tree.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},Tree.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},Tree.prototype.at=function(index){for(var current=this._root,done=!1,i=0,Q=[];!done;)if(current)Q.push(current),current=current.left;else if(Q.length>0){if(current=Q.pop(),i===index)return current;i++,current=current.right}else done=!0;return null},Tree.prototype.next=function(d){var root=this._root,successor=null;if(d.right){for(successor=d.right;successor.left;)successor=successor.left;return successor}for(var comparator=this._comparator;root;){var cmp=comparator(d.key,root.key);if(0===cmp)break;cmp<0?(successor=root,root=root.left):root=root.right}return successor},Tree.prototype.prev=function(d){var root=this._root,predecessor=null;if(null!==d.left){for(predecessor=d.left;predecessor.right;)predecessor=predecessor.right;return predecessor}for(var comparator=this._comparator;root;){var cmp=comparator(d.key,root.key);if(0===cmp)break;cmp<0?root=root.left:(predecessor=root,root=root.right)}return predecessor},Tree.prototype.clear=function(){return this._root=null,this._size=0,this},Tree.prototype.toList=function(){return toList(this._root)},Tree.prototype.load=function(keys,values,presort){void 0===values&&(values=[]),void 0===presort&&(presort=!1);var size=keys.length,comparator=this._comparator;if(presort&&sort(keys,values,0,size-1,comparator),null===this._root)this._root=loadRecursive(keys,values,0,size),this._size=size;else{var mergedList=mergeLists(this.toList(),createList(keys,values),comparator);size=this._size+size,this._root=sortedListToBST({head:mergedList},0,size)}return this},Tree.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(Tree.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(Tree.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Tree.prototype.toString=function(printNode){void 0===printNode&&(printNode=function(n){return String(n.key)});var out=[];return printRow(this._root,"",!0,(function(v){return out.push(v)}),printNode),out.join("")},Tree.prototype.update=function(key,newKey,newData){var comparator=this._comparator,_a=split(key,this._root,comparator),left=_a.left,right=_a.right;comparator(key,newKey)<0?right=insert(newKey,newData,right,comparator):left=insert(newKey,newData,left,comparator),this._root=merge(left,right,comparator)},Tree.prototype.split=function(key){return split(key,this._root,this._comparator)},Tree.prototype[Symbol.iterator]=function(){var current,Q,done;return __generator(this,(function(_a){switch(_a.label){case 0:current=this._root,Q=[],done=!1,_a.label=1;case 1:return done?[3,6]:null===current?[3,2]:(Q.push(current),current=current.left,[3,5]);case 2:return 0===Q.length?[3,4]:[4,current=Q.pop()];case 3:return _a.sent(),current=current.right,[3,5];case 4:done=!0,_a.label=5;case 5:return[3,1];case 6:return[2]}}))},Tree}();function loadRecursive(keys,values,start,end){var size=end-start;if(size>0){var middle=start+Math.floor(size/2),key=keys[middle],data=values[middle],node=new Node(key,data);return node.left=loadRecursive(keys,values,start,middle),node.right=loadRecursive(keys,values,middle+1,end),node}return null}function createList(keys,values){for(var head=new Node(null,null),p=head,i=0;i<keys.length;i++)p=p.next=new Node(keys[i],values[i]);return p.next=null,head.next}function toList(root){for(var current=root,Q=[],done=!1,head=new Node(null,null),p=head;!done;)current?(Q.push(current),current=current.left):Q.length>0?current=(current=p=p.next=Q.pop()).right:done=!0;return p.next=null,head.next}function sortedListToBST(list,start,end){var size=end-start;if(size>0){var middle=start+Math.floor(size/2),left=sortedListToBST(list,start,middle),root=list.head;return root.left=left,list.head=list.head.next,root.right=sortedListToBST(list,middle+1,end),root}return null}function mergeLists(l1,l2,compare){for(var head=new Node(null,null),p=head,p1=l1,p2=l2;null!==p1&&null!==p2;)compare(p1.key,p2.key)<0?(p.next=p1,p1=p1.next):(p.next=p2,p2=p2.next),p=p.next;return null!==p1?p.next=p1:null!==p2&&(p.next=p2),head.next}function sort(keys,values,left,right,compare){if(!(left>=right)){for(var pivot=keys[left+right>>1],i=left-1,j=right+1;;){do{i++}while(compare(keys[i],pivot)<0);do{j--}while(compare(keys[j],pivot)>0);if(i>=j)break;var tmp=keys[i];keys[i]=keys[j],keys[j]=tmp,tmp=values[i],values[i]=values[j],values[j]=tmp}sort(keys,values,left,j,compare),sort(keys,values,j+1,right,compare)}}const isInBbox=(bbox,point)=>bbox.ll.x<=point.x&&point.x<=bbox.ur.x&&bbox.ll.y<=point.y&&point.y<=bbox.ur.y,getBboxOverlap=(b1,b2)=>{if(b2.ur.x<b1.ll.x||b1.ur.x<b2.ll.x||b2.ur.y<b1.ll.y||b1.ur.y<b2.ll.y)return null;const lowerX=b1.ll.x<b2.ll.x?b2.ll.x:b1.ll.x,upperX=b1.ur.x<b2.ur.x?b1.ur.x:b2.ur.x;return{ll:{x:lowerX,y:b1.ll.y<b2.ll.y?b2.ll.y:b1.ll.y},ur:{x:upperX,y:b1.ur.y<b2.ur.y?b1.ur.y:b2.ur.y}}};let epsilon$1=Number.EPSILON;void 0===epsilon$1&&(epsilon$1=Math.pow(2,-52));const EPSILON_SQ=epsilon$1*epsilon$1,cmp=(a,b)=>{if(-epsilon$1<a&&a<epsilon$1&&-epsilon$1<b&&b<epsilon$1)return 0;const ab=a-b;return ab*ab<EPSILON_SQ*a*b?0:a<b?-1:1};class PtRounder{constructor(){this.reset()}reset(){this.xRounder=new CoordRounder,this.yRounder=new CoordRounder}round(x,y){return{x:this.xRounder.round(x),y:this.yRounder.round(y)}}}class CoordRounder{constructor(){this.tree=new Tree,this.round(0)}round(coord){const node=this.tree.add(coord),prevNode=this.tree.prev(node);if(null!==prevNode&&0===cmp(node.key,prevNode.key))return this.tree.remove(coord),prevNode.key;const nextNode=this.tree.next(node);return null!==nextNode&&0===cmp(node.key,nextNode.key)?(this.tree.remove(coord),nextNode.key):coord}}const rounder=new PtRounder,epsilon=11102230246251565e-32,splitter=134217729,resulterrbound=(3+8*epsilon)*epsilon;function sum(elen,e,flen,f,h){let Q,Qnew,hh,bvirt,enow=e[0],fnow=f[0],eindex=0,findex=0;fnow>enow==fnow>-enow?(Q=enow,enow=e[++eindex]):(Q=fnow,fnow=f[++findex]);let hindex=0;if(eindex<elen&&findex<flen)for(fnow>enow==fnow>-enow?(Qnew=enow+Q,hh=Q-(Qnew-enow),enow=e[++eindex]):(Qnew=fnow+Q,hh=Q-(Qnew-fnow),fnow=f[++findex]),Q=Qnew,0!==hh&&(h[hindex++]=hh);eindex<elen&&findex<flen;)fnow>enow==fnow>-enow?(Qnew=Q+enow,bvirt=Qnew-Q,hh=Q-(Qnew-bvirt)+(enow-bvirt),enow=e[++eindex]):(Qnew=Q+fnow,bvirt=Qnew-Q,hh=Q-(Qnew-bvirt)+(fnow-bvirt),fnow=f[++findex]),Q=Qnew,0!==hh&&(h[hindex++]=hh);for(;eindex<elen;)Qnew=Q+enow,bvirt=Qnew-Q,hh=Q-(Qnew-bvirt)+(enow-bvirt),enow=e[++eindex],Q=Qnew,0!==hh&&(h[hindex++]=hh);for(;findex<flen;)Qnew=Q+fnow,bvirt=Qnew-Q,hh=Q-(Qnew-bvirt)+(fnow-bvirt),fnow=f[++findex],Q=Qnew,0!==hh&&(h[hindex++]=hh);return 0===Q&&0!==hindex||(h[hindex++]=Q),hindex}function estimate(elen,e){let Q=e[0];for(let i=1;i<elen;i++)Q+=e[i];return Q}function vec(n){return new Float64Array(n)}const ccwerrboundA=(3+16*epsilon)*epsilon,ccwerrboundB=(2+12*epsilon)*epsilon,ccwerrboundC=(9+64*epsilon)*epsilon*epsilon,B=vec(4),C1=vec(8),C2=vec(12),D=vec(16),u=vec(4);function orient2dadapt(ax,ay,bx,by,cx,cy,detsum){let acxtail,acytail,bcxtail,bcytail,bvirt,c,ahi,alo,bhi,blo,_i,_j,_0,s1,s0,t1,t0,u3;const acx=ax-cx,bcx=bx-cx,acy=ay-cy,bcy=by-cy;s1=acx*bcy,c=splitter*acx,ahi=c-(c-acx),alo=acx-ahi,c=splitter*bcy,bhi=c-(c-bcy),blo=bcy-bhi,s0=alo*blo-(s1-ahi*bhi-alo*bhi-ahi*blo),t1=acy*bcx,c=splitter*acy,ahi=c-(c-acy),alo=acy-ahi,c=splitter*bcx,bhi=c-(c-bcx),blo=bcx-bhi,t0=alo*blo-(t1-ahi*bhi-alo*bhi-ahi*blo),_i=s0-t0,bvirt=s0-_i,B[0]=s0-(_i+bvirt)+(bvirt-t0),_j=s1+_i,bvirt=_j-s1,_0=s1-(_j-bvirt)+(_i-bvirt),_i=_0-t1,bvirt=_0-_i,B[1]=_0-(_i+bvirt)+(bvirt-t1),u3=_j+_i,bvirt=u3-_j,B[2]=_j-(u3-bvirt)+(_i-bvirt),B[3]=u3;let det=estimate(4,B),errbound=ccwerrboundB*detsum;if(det>=errbound||-det>=errbound)return det;if(bvirt=ax-acx,acxtail=ax-(acx+bvirt)+(bvirt-cx),bvirt=bx-bcx,bcxtail=bx-(bcx+bvirt)+(bvirt-cx),bvirt=ay-acy,acytail=ay-(acy+bvirt)+(bvirt-cy),bvirt=by-bcy,bcytail=by-(bcy+bvirt)+(bvirt-cy),0===acxtail&&0===acytail&&0===bcxtail&&0===bcytail)return det;if(errbound=ccwerrboundC*detsum+resulterrbound*Math.abs(det),det+=acx*bcytail+bcy*acxtail-(acy*bcxtail+bcx*acytail),det>=errbound||-det>=errbound)return det;s1=acxtail*bcy,c=splitter*acxtail,ahi=c-(c-acxtail),alo=acxtail-ahi,c=splitter*bcy,bhi=c-(c-bcy),blo=bcy-bhi,s0=alo*blo-(s1-ahi*bhi-alo*bhi-ahi*blo),t1=acytail*bcx,c=splitter*acytail,ahi=c-(c-acytail),alo=acytail-ahi,c=splitter*bcx,bhi=c-(c-bcx),blo=bcx-bhi,t0=alo*blo-(t1-ahi*bhi-alo*bhi-ahi*blo),_i=s0-t0,bvirt=s0-_i,u[0]=s0-(_i+bvirt)+(bvirt-t0),_j=s1+_i,bvirt=_j-s1,_0=s1-(_j-bvirt)+(_i-bvirt),_i=_0-t1,bvirt=_0-_i,u[1]=_0-(_i+bvirt)+(bvirt-t1),u3=_j+_i,bvirt=u3-_j,u[2]=_j-(u3-bvirt)+(_i-bvirt),u[3]=u3;const C1len=sum(4,B,4,u,C1);s1=acx*bcytail,c=splitter*acx,ahi=c-(c-acx),alo=acx-ahi,c=splitter*bcytail,bhi=c-(c-bcytail),blo=bcytail-bhi,s0=alo*blo-(s1-ahi*bhi-alo*bhi-ahi*blo),t1=acy*bcxtail,c=splitter*acy,ahi=c-(c-acy),alo=acy-ahi,c=splitter*bcxtail,bhi=c-(c-bcxtail),blo=bcxtail-bhi,t0=alo*blo-(t1-ahi*bhi-alo*bhi-ahi*blo),_i=s0-t0,bvirt=s0-_i,u[0]=s0-(_i+bvirt)+(bvirt-t0),_j=s1+_i,bvirt=_j-s1,_0=s1-(_j-bvirt)+(_i-bvirt),_i=_0-t1,bvirt=_0-_i,u[1]=_0-(_i+bvirt)+(bvirt-t1),u3=_j+_i,bvirt=u3-_j,u[2]=_j-(u3-bvirt)+(_i-bvirt),u[3]=u3;const C2len=sum(C1len,C1,4,u,C2);s1=acxtail*bcytail,c=splitter*acxtail,ahi=c-(c-acxtail),alo=acxtail-ahi,c=splitter*bcytail,bhi=c-(c-bcytail),blo=bcytail-bhi,s0=alo*blo-(s1-ahi*bhi-alo*bhi-ahi*blo),t1=acytail*bcxtail,c=splitter*acytail,ahi=c-(c-acytail),alo=acytail-ahi,c=splitter*bcxtail,bhi=c-(c-bcxtail),blo=bcxtail-bhi,t0=alo*blo-(t1-ahi*bhi-alo*bhi-ahi*blo),_i=s0-t0,bvirt=s0-_i,u[0]=s0-(_i+bvirt)+(bvirt-t0),_j=s1+_i,bvirt=_j-s1,_0=s1-(_j-bvirt)+(_i-bvirt),_i=_0-t1,bvirt=_0-_i,u[1]=_0-(_i+bvirt)+(bvirt-t1),u3=_j+_i,bvirt=u3-_j,u[2]=_j-(u3-bvirt)+(_i-bvirt),u[3]=u3;const Dlen=sum(C2len,C2,4,u,D);return D[Dlen-1]}function orient2d(ax,ay,bx,by,cx,cy){const detleft=(ay-cy)*(bx-cx),detright=(ax-cx)*(by-cy),det=detleft-detright,detsum=Math.abs(detleft+detright);return Math.abs(det)>=ccwerrboundA*detsum?det:-orient2dadapt(ax,ay,bx,by,cx,cy,detsum)}const crossProduct=(a,b)=>a.x*b.y-a.y*b.x,dotProduct=(a,b)=>a.x*b.x+a.y*b.y,compareVectorAngles=(basePt,endPt1,endPt2)=>{const res=orient2d(basePt.x,basePt.y,endPt1.x,endPt1.y,endPt2.x,endPt2.y);return res>0?-1:res<0?1:0},length=v=>Math.sqrt(dotProduct(v,v)),sineOfAngle=(pShared,pBase,pAngle)=>{const vBase={x:pBase.x-pShared.x,y:pBase.y-pShared.y},vAngle={x:pAngle.x-pShared.x,y:pAngle.y-pShared.y};return crossProduct(vAngle,vBase)/length(vAngle)/length(vBase)},cosineOfAngle=(pShared,pBase,pAngle)=>{const vBase={x:pBase.x-pShared.x,y:pBase.y-pShared.y},vAngle={x:pAngle.x-pShared.x,y:pAngle.y-pShared.y};return dotProduct(vAngle,vBase)/length(vAngle)/length(vBase)},horizontalIntersection=(pt,v,y)=>0===v.y?null:{x:pt.x+v.x/v.y*(y-pt.y),y:y},verticalIntersection=(pt,v,x)=>0===v.x?null:{x:x,y:pt.y+v.y/v.x*(x-pt.x)},intersection$1=(pt1,v1,pt2,v2)=>{if(0===v1.x)return verticalIntersection(pt2,v2,pt1.x);if(0===v2.x)return verticalIntersection(pt1,v1,pt2.x);if(0===v1.y)return horizontalIntersection(pt2,v2,pt1.y);if(0===v2.y)return horizontalIntersection(pt1,v1,pt2.y);const kross=crossProduct(v1,v2);if(0==kross)return null;const ve={x:pt2.x-pt1.x,y:pt2.y-pt1.y},d1=crossProduct(ve,v1)/kross,d2=crossProduct(ve,v2)/kross;return{x:(pt1.x+d2*v1.x+(pt2.x+d1*v2.x))/2,y:(pt1.y+d2*v1.y+(pt2.y+d1*v2.y))/2}};class SweepEvent{static compare(a,b){const ptCmp=SweepEvent.comparePoints(a.point,b.point);return 0!==ptCmp?ptCmp:(a.point!==b.point&&a.link(b),a.isLeft!==b.isLeft?a.isLeft?1:-1:Segment.compare(a.segment,b.segment))}static comparePoints(aPt,bPt){return aPt.x<bPt.x?-1:aPt.x>bPt.x?1:aPt.y<bPt.y?-1:aPt.y>bPt.y?1:0}constructor(point,isLeft){void 0===point.events?point.events=[this]:point.events.push(this),this.point=point,this.isLeft=isLeft}link(other){if(other.point===this.point)throw new Error("Tried to link already linked events");const otherEvents=other.point.events;for(let i=0,iMax=otherEvents.length;i<iMax;i++){const evt=otherEvents[i];this.point.events.push(evt),evt.point=this.point}this.checkForConsuming()}checkForConsuming(){const numEvents=this.point.events.length;for(let i=0;i<numEvents;i++){const evt1=this.point.events[i];if(void 0===evt1.segment.consumedBy)for(let j=i+1;j<numEvents;j++){const evt2=this.point.events[j];void 0===evt2.consumedBy&&evt1.otherSE.point.events===evt2.otherSE.point.events&&evt1.segment.consume(evt2.segment)}}}getAvailableLinkedEvents(){const events=[];for(let i=0,iMax=this.point.events.length;i<iMax;i++){const evt=this.point.events[i];evt!==this&&!evt.segment.ringOut&&evt.segment.isInResult()&&events.push(evt)}return events}getLeftmostComparator(baseEvent){const cache=new Map,fillCache=linkedEvent=>{const nextEvent=linkedEvent.otherSE;cache.set(linkedEvent,{sine:sineOfAngle(this.point,baseEvent.point,nextEvent.point),cosine:cosineOfAngle(this.point,baseEvent.point,nextEvent.point)})};return(a,b)=>{cache.has(a)||fillCache(a),cache.has(b)||fillCache(b);const{sine:asine,cosine:acosine}=cache.get(a),{sine:bsine,cosine:bcosine}=cache.get(b);return asine>=0&&bsine>=0?acosine<bcosine?1:acosine>bcosine?-1:0:asine<0&&bsine<0?acosine<bcosine?-1:acosine>bcosine?1:0:bsine<asine?-1:bsine>asine?1:0}}}let segmentId=0;class Segment{static compare(a,b){const alx=a.leftSE.point.x,blx=b.leftSE.point.x,arx=a.rightSE.point.x,brx=b.rightSE.point.x;if(brx<alx)return 1;if(arx<blx)return-1;const aly=a.leftSE.point.y,bly=b.leftSE.point.y,ary=a.rightSE.point.y,bry=b.rightSE.point.y;if(alx<blx){if(bly<aly&&bly<ary)return 1;if(bly>aly&&bly>ary)return-1;const aCmpBLeft=a.comparePoint(b.leftSE.point);if(aCmpBLeft<0)return 1;if(aCmpBLeft>0)return-1;const bCmpARight=b.comparePoint(a.rightSE.point);return 0!==bCmpARight?bCmpARight:-1}if(alx>blx){if(aly<bly&&aly<bry)return-1;if(aly>bly&&aly>bry)return 1;const bCmpALeft=b.comparePoint(a.leftSE.point);if(0!==bCmpALeft)return bCmpALeft;const aCmpBRight=a.comparePoint(b.rightSE.point);return aCmpBRight<0?1:aCmpBRight>0?-1:1}if(aly<bly)return-1;if(aly>bly)return 1;if(arx<brx){const bCmpARight=b.comparePoint(a.rightSE.point);if(0!==bCmpARight)return bCmpARight}if(arx>brx){const aCmpBRight=a.comparePoint(b.rightSE.point);if(aCmpBRight<0)return 1;if(aCmpBRight>0)return-1}if(arx!==brx){const ay=ary-aly,ax=arx-alx,by=bry-bly,bx=brx-blx;if(ay>ax&&by<bx)return 1;if(ay<ax&&by>bx)return-1}return arx>brx?1:arx<brx||ary<bry?-1:ary>bry?1:a.id<b.id?-1:a.id>b.id?1:0}constructor(leftSE,rightSE,rings,windings){this.id=++segmentId,this.leftSE=leftSE,leftSE.segment=this,leftSE.otherSE=rightSE,this.rightSE=rightSE,rightSE.segment=this,rightSE.otherSE=leftSE,this.rings=rings,this.windings=windings}static fromRing(pt1,pt2,ring){let leftPt,rightPt,winding;const cmpPts=SweepEvent.comparePoints(pt1,pt2);if(cmpPts<0)leftPt=pt1,rightPt=pt2,winding=1;else{if(!(cmpPts>0))throw new Error(`Tried to create degenerate segment at [${pt1.x}, ${pt1.y}]`);leftPt=pt2,rightPt=pt1,winding=-1}const leftSE=new SweepEvent(leftPt,!0),rightSE=new SweepEvent(rightPt,!1);return new Segment(leftSE,rightSE,[ring],[winding])}replaceRightSE(newRightSE){this.rightSE=newRightSE,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const y1=this.leftSE.point.y,y2=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:y1<y2?y1:y2},ur:{x:this.rightSE.point.x,y:y1>y2?y1:y2}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(pt){return pt.x===this.leftSE.point.x&&pt.y===this.leftSE.point.y||pt.x===this.rightSE.point.x&&pt.y===this.rightSE.point.y}comparePoint(point){if(this.isAnEndpoint(point))return 0;const lPt=this.leftSE.point,rPt=this.rightSE.point,v=this.vector();if(lPt.x===rPt.x)return point.x===lPt.x?0:point.x<lPt.x?1:-1;const yDist=(point.y-lPt.y)/v.y,xFromYDist=lPt.x+yDist*v.x;if(point.x===xFromYDist)return 0;const xDist=(point.x-lPt.x)/v.x,yFromXDist=lPt.y+xDist*v.y;return point.y===yFromXDist?0:point.y<yFromXDist?-1:1}getIntersection(other){const tBbox=this.bbox(),oBbox=other.bbox(),bboxOverlap=getBboxOverlap(tBbox,oBbox);if(null===bboxOverlap)return null;const tlp=this.leftSE.point,trp=this.rightSE.point,olp=other.leftSE.point,orp=other.rightSE.point,touchesOtherLSE=isInBbox(tBbox,olp)&&0===this.comparePoint(olp),touchesThisLSE=isInBbox(oBbox,tlp)&&0===other.comparePoint(tlp),touchesOtherRSE=isInBbox(tBbox,orp)&&0===this.comparePoint(orp),touchesThisRSE=isInBbox(oBbox,trp)&&0===other.comparePoint(trp);if(touchesThisLSE&&touchesOtherLSE)return touchesThisRSE&&!touchesOtherRSE?trp:!touchesThisRSE&&touchesOtherRSE?orp:null;if(touchesThisLSE)return touchesOtherRSE&&tlp.x===orp.x&&tlp.y===orp.y?null:tlp;if(touchesOtherLSE)return touchesThisRSE&&trp.x===olp.x&&trp.y===olp.y?null:olp;if(touchesThisRSE&&touchesOtherRSE)return null;if(touchesThisRSE)return trp;if(touchesOtherRSE)return orp;const pt=intersection$1(tlp,this.vector(),olp,other.vector());return null===pt?null:isInBbox(bboxOverlap,pt)?rounder.round(pt.x,pt.y):null}split(point){const newEvents=[],alreadyLinked=void 0!==point.events,newLeftSE=new SweepEvent(point,!0),newRightSE=new SweepEvent(point,!1),oldRightSE=this.rightSE;this.replaceRightSE(newRightSE),newEvents.push(newRightSE),newEvents.push(newLeftSE);const newSeg=new Segment(newLeftSE,oldRightSE,this.rings.slice(),this.windings.slice());return SweepEvent.comparePoints(newSeg.leftSE.point,newSeg.rightSE.point)>0&&newSeg.swapEvents(),SweepEvent.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),alreadyLinked&&(newLeftSE.checkForConsuming(),newRightSE.checkForConsuming()),newEvents}swapEvents(){const tmpEvt=this.rightSE;this.rightSE=this.leftSE,this.leftSE=tmpEvt,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let i=0,iMax=this.windings.length;i<iMax;i++)this.windings[i]*=-1}consume(other){let consumer=this,consumee=other;for(;consumer.consumedBy;)consumer=consumer.consumedBy;for(;consumee.consumedBy;)consumee=consumee.consumedBy;const cmp=Segment.compare(consumer,consumee);if(0!==cmp){if(cmp>0){const tmp=consumer;consumer=consumee,consumee=tmp}if(consumer.prev===consumee){const tmp=consumer;consumer=consumee,consumee=tmp}for(let i=0,iMax=consumee.rings.length;i<iMax;i++){const ring=consumee.rings[i],winding=consumee.windings[i],index=consumer.rings.indexOf(ring);-1===index?(consumer.rings.push(ring),consumer.windings.push(winding)):consumer.windings[index]+=winding}consumee.rings=null,consumee.windings=null,consumee.consumedBy=consumer,consumee.leftSE.consumedBy=consumer.leftSE,consumee.rightSE.consumedBy=consumer.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){const seg=this.prev.consumedBy||this.prev;this._beforeState=seg.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const beforeState=this.beforeState();this._afterState={rings:beforeState.rings.slice(0),windings:beforeState.windings.slice(0),multiPolys:[]};const ringsAfter=this._afterState.rings,windingsAfter=this._afterState.windings,mpsAfter=this._afterState.multiPolys;for(let i=0,iMax=this.rings.length;i<iMax;i++){const ring=this.rings[i],winding=this.windings[i],index=ringsAfter.indexOf(ring);-1===index?(ringsAfter.push(ring),windingsAfter.push(winding)):windingsAfter[index]+=winding}const polysAfter=[],polysExclude=[];for(let i=0,iMax=ringsAfter.length;i<iMax;i++){if(0===windingsAfter[i])continue;const ring=ringsAfter[i],poly=ring.poly;if(-1===polysExclude.indexOf(poly))if(ring.isExterior)polysAfter.push(poly);else{-1===polysExclude.indexOf(poly)&&polysExclude.push(poly);const index=polysAfter.indexOf(ring.poly);-1!==index&&polysAfter.splice(index,1)}}for(let i=0,iMax=polysAfter.length;i<iMax;i++){const mp=polysAfter[i].multiPoly;-1===mpsAfter.indexOf(mp)&&mpsAfter.push(mp)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const mpsBefore=this.beforeState().multiPolys,mpsAfter=this.afterState().multiPolys;switch(operation.type){case"union":{const noBefores=0===mpsBefore.length,noAfters=0===mpsAfter.length;this._isInResult=noBefores!==noAfters;break}case"intersection":{let least,most;mpsBefore.length<mpsAfter.length?(least=mpsBefore.length,most=mpsAfter.length):(least=mpsAfter.length,most=mpsBefore.length),this._isInResult=most===operation.numMultiPolys&&least<most;break}case"xor":{const diff=Math.abs(mpsBefore.length-mpsAfter.length);this._isInResult=diff%2==1;break}case"difference":{const isJustSubject=mps=>1===mps.length&&mps[0].isSubject;this._isInResult=isJustSubject(mpsBefore)!==isJustSubject(mpsAfter);break}default:throw new Error(`Unrecognized operation type found ${operation.type}`)}return this._isInResult}}class RingIn{constructor(geomRing,poly,isExterior){if(!Array.isArray(geomRing)||0===geomRing.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=poly,this.isExterior=isExterior,this.segments=[],"number"!=typeof geomRing[0][0]||"number"!=typeof geomRing[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const firstPoint=rounder.round(geomRing[0][0],geomRing[0][1]);this.bbox={ll:{x:firstPoint.x,y:firstPoint.y},ur:{x:firstPoint.x,y:firstPoint.y}};let prevPoint=firstPoint;for(let i=1,iMax=geomRing.length;i<iMax;i++){if("number"!=typeof geomRing[i][0]||"number"!=typeof geomRing[i][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let point=rounder.round(geomRing[i][0],geomRing[i][1]);point.x===prevPoint.x&&point.y===prevPoint.y||(this.segments.push(Segment.fromRing(prevPoint,point,this)),point.x<this.bbox.ll.x&&(this.bbox.ll.x=point.x),point.y<this.bbox.ll.y&&(this.bbox.ll.y=point.y),point.x>this.bbox.ur.x&&(this.bbox.ur.x=point.x),point.y>this.bbox.ur.y&&(this.bbox.ur.y=point.y),prevPoint=point)}firstPoint.x===prevPoint.x&&firstPoint.y===prevPoint.y||this.segments.push(Segment.fromRing(prevPoint,firstPoint,this))}getSweepEvents(){const sweepEvents=[];for(let i=0,iMax=this.segments.length;i<iMax;i++){const segment=this.segments[i];sweepEvents.push(segment.leftSE),sweepEvents.push(segment.rightSE)}return sweepEvents}}class PolyIn{constructor(geomPoly,multiPoly){if(!Array.isArray(geomPoly))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new RingIn(geomPoly[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let i=1,iMax=geomPoly.length;i<iMax;i++){const ring=new RingIn(geomPoly[i],this,!1);ring.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=ring.bbox.ll.x),ring.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=ring.bbox.ll.y),ring.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=ring.bbox.ur.x),ring.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=ring.bbox.ur.y),this.interiorRings.push(ring)}this.multiPoly=multiPoly}getSweepEvents(){const sweepEvents=this.exteriorRing.getSweepEvents();for(let i=0,iMax=this.interiorRings.length;i<iMax;i++){const ringSweepEvents=this.interiorRings[i].getSweepEvents();for(let j=0,jMax=ringSweepEvents.length;j<jMax;j++)sweepEvents.push(ringSweepEvents[j])}return sweepEvents}}class MultiPolyIn{constructor(geom,isSubject){if(!Array.isArray(geom))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof geom[0][0][0]&&(geom=[geom])}catch(ex){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let i=0,iMax=geom.length;i<iMax;i++){const poly=new PolyIn(geom[i],this);poly.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=poly.bbox.ll.x),poly.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=poly.bbox.ll.y),poly.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=poly.bbox.ur.x),poly.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=poly.bbox.ur.y),this.polys.push(poly)}this.isSubject=isSubject}getSweepEvents(){const sweepEvents=[];for(let i=0,iMax=this.polys.length;i<iMax;i++){const polySweepEvents=this.polys[i].getSweepEvents();for(let j=0,jMax=polySweepEvents.length;j<jMax;j++)sweepEvents.push(polySweepEvents[j])}return sweepEvents}}class RingOut{static factory(allSegments){const ringsOut=[];for(let i=0,iMax=allSegments.length;i<iMax;i++){const segment=allSegments[i];if(!segment.isInResult()||segment.ringOut)continue;let prevEvent=null,event=segment.leftSE,nextEvent=segment.rightSE;const events=[event],startingPoint=event.point,intersectionLEs=[];for(;prevEvent=event,event=nextEvent,events.push(event),event.point!==startingPoint;)for(;;){const availableLEs=event.getAvailableLinkedEvents();if(0===availableLEs.length){const firstPt=events[0].point,lastPt=events[events.length-1].point;throw new Error(`Unable to complete output ring starting at [${firstPt.x}, ${firstPt.y}]. Last matching segment found ends at [${lastPt.x}, ${lastPt.y}].`)}if(1===availableLEs.length){nextEvent=availableLEs[0].otherSE;break}let indexLE=null;for(let j=0,jMax=intersectionLEs.length;j<jMax;j++)if(intersectionLEs[j].point===event.point){indexLE=j;break}if(null!==indexLE){const intersectionLE=intersectionLEs.splice(indexLE)[0],ringEvents=events.splice(intersectionLE.index);ringEvents.unshift(ringEvents[0].otherSE),ringsOut.push(new RingOut(ringEvents.reverse()));continue}intersectionLEs.push({index:events.length,point:event.point});const comparator=event.getLeftmostComparator(prevEvent);nextEvent=availableLEs.sort(comparator)[0].otherSE;break}ringsOut.push(new RingOut(events))}return ringsOut}constructor(events){this.events=events;for(let i=0,iMax=events.length;i<iMax;i++)events[i].segment.ringOut=this;this.poly=null}getGeom(){let prevPt=this.events[0].point;const points=[prevPt];for(let i=1,iMax=this.events.length-1;i<iMax;i++){const pt=this.events[i].point,nextPt=this.events[i+1].point;0!==compareVectorAngles(pt,prevPt,nextPt)&&(points.push(pt),prevPt=pt)}if(1===points.length)return null;const pt=points[0],nextPt=points[1];0===compareVectorAngles(pt,prevPt,nextPt)&&points.shift(),points.push(points[0]);const step=this.isExteriorRing()?1:-1,iStart=this.isExteriorRing()?0:points.length-1,iEnd=this.isExteriorRing()?points.length:-1,orderedPoints=[];for(let i=iStart;i!=iEnd;i+=step)orderedPoints.push([points[i].x,points[i].y]);return orderedPoints}isExteriorRing(){if(void 0===this._isExteriorRing){const enclosing=this.enclosingRing();this._isExteriorRing=!enclosing||!enclosing.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let leftMostEvt=this.events[0];for(let i=1,iMax=this.events.length;i<iMax;i++){const evt=this.events[i];SweepEvent.compare(leftMostEvt,evt)>0&&(leftMostEvt=evt)}let prevSeg=leftMostEvt.segment.prevInResult(),prevPrevSeg=prevSeg?prevSeg.prevInResult():null;for(;;){if(!prevSeg)return null;if(!prevPrevSeg)return prevSeg.ringOut;if(prevPrevSeg.ringOut!==prevSeg.ringOut)return prevPrevSeg.ringOut.enclosingRing()!==prevSeg.ringOut?prevSeg.ringOut:prevSeg.ringOut.enclosingRing();prevSeg=prevPrevSeg.prevInResult(),prevPrevSeg=prevSeg?prevSeg.prevInResult():null}}}class PolyOut{constructor(exteriorRing){this.exteriorRing=exteriorRing,exteriorRing.poly=this,this.interiorRings=[]}addInterior(ring){this.interiorRings.push(ring),ring.poly=this}getGeom(){const geom=[this.exteriorRing.getGeom()];if(null===geom[0])return null;for(let i=0,iMax=this.interiorRings.length;i<iMax;i++){const ringGeom=this.interiorRings[i].getGeom();null!==ringGeom&&geom.push(ringGeom)}return geom}}class MultiPolyOut{constructor(rings){this.rings=rings,this.polys=this._composePolys(rings)}getGeom(){const geom=[];for(let i=0,iMax=this.polys.length;i<iMax;i++){const polyGeom=this.polys[i].getGeom();null!==polyGeom&&geom.push(polyGeom)}return geom}_composePolys(rings){const polys=[];for(let i=0,iMax=rings.length;i<iMax;i++){const ring=rings[i];if(!ring.poly)if(ring.isExteriorRing())polys.push(new PolyOut(ring));else{const enclosingRing=ring.enclosingRing();enclosingRing.poly||polys.push(new PolyOut(enclosingRing)),enclosingRing.poly.addInterior(ring)}}return polys}}class SweepLine{constructor(queue){let comparator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Segment.compare;this.queue=queue,this.tree=new Tree(comparator),this.segments=[]}process(event){const segment=event.segment,newEvents=[];if(event.consumedBy)return event.isLeft?this.queue.remove(event.otherSE):this.tree.remove(segment),newEvents;const node=event.isLeft?this.tree.add(segment):this.tree.find(segment);if(!node)throw new Error(`Unable to find segment #${segment.id} [${segment.leftSE.point.x}, ${segment.leftSE.point.y}] -> [${segment.rightSE.point.x}, ${segment.rightSE.point.y}] in SweepLine tree.`);let prevSeg,nextSeg,prevNode=node,nextNode=node;for(;void 0===prevSeg;)prevNode=this.tree.prev(prevNode),null===prevNode?prevSeg=null:void 0===prevNode.key.consumedBy&&(prevSeg=prevNode.key);for(;void 0===nextSeg;)nextNode=this.tree.next(nextNode),null===nextNode?nextSeg=null:void 0===nextNode.key.consumedBy&&(nextSeg=nextNode.key);if(event.isLeft){let prevMySplitter=null;if(prevSeg){const prevInter=prevSeg.getIntersection(segment);if(null!==prevInter&&(segment.isAnEndpoint(prevInter)||(prevMySplitter=prevInter),!prevSeg.isAnEndpoint(prevInter))){const newEventsFromSplit=this._splitSafely(prevSeg,prevInter);for(let i=0,iMax=newEventsFromSplit.length;i<iMax;i++)newEvents.push(newEventsFromSplit[i])}}let nextMySplitter=null;if(nextSeg){const nextInter=nextSeg.getIntersection(segment);if(null!==nextInter&&(segment.isAnEndpoint(nextInter)||(nextMySplitter=nextInter),!nextSeg.isAnEndpoint(nextInter))){const newEventsFromSplit=this._splitSafely(nextSeg,nextInter);for(let i=0,iMax=newEventsFromSplit.length;i<iMax;i++)newEvents.push(newEventsFromSplit[i])}}if(null!==prevMySplitter||null!==nextMySplitter){let mySplitter=null;mySplitter=null===prevMySplitter?nextMySplitter:null===nextMySplitter||SweepEvent.comparePoints(prevMySplitter,nextMySplitter)<=0?prevMySplitter:nextMySplitter,this.queue.remove(segment.rightSE),newEvents.push(segment.rightSE);const newEventsFromSplit=segment.split(mySplitter);for(let i=0,iMax=newEventsFromSplit.length;i<iMax;i++)newEvents.push(newEventsFromSplit[i])}newEvents.length>0?(this.tree.remove(segment),newEvents.push(event)):(this.segments.push(segment),segment.prev=prevSeg)}else{if(prevSeg&&nextSeg){const inter=prevSeg.getIntersection(nextSeg);if(null!==inter){if(!prevSeg.isAnEndpoint(inter)){const newEventsFromSplit=this._splitSafely(prevSeg,inter);for(let i=0,iMax=newEventsFromSplit.length;i<iMax;i++)newEvents.push(newEventsFromSplit[i])}if(!nextSeg.isAnEndpoint(inter)){const newEventsFromSplit=this._splitSafely(nextSeg,inter);for(let i=0,iMax=newEventsFromSplit.length;i<iMax;i++)newEvents.push(newEventsFromSplit[i])}}}this.tree.remove(segment)}return newEvents}_splitSafely(seg,pt){this.tree.remove(seg);const rightSE=seg.rightSE;this.queue.remove(rightSE);const newEvents=seg.split(pt);return newEvents.push(rightSE),void 0===seg.consumedBy&&this.tree.add(seg),newEvents}}const POLYGON_CLIPPING_MAX_QUEUE_SIZE=void 0!==process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS=void 0!==process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class Operation{run(type,geom,moreGeoms){operation.type=type,rounder.reset();const multipolys=[new MultiPolyIn(geom,!0)];for(let i=0,iMax=moreGeoms.length;i<iMax;i++)multipolys.push(new MultiPolyIn(moreGeoms[i],!1));if(operation.numMultiPolys=multipolys.length,"difference"===operation.type){const subject=multipolys[0];let i=1;for(;i<multipolys.length;)null!==getBboxOverlap(multipolys[i].bbox,subject.bbox)?i++:multipolys.splice(i,1)}if("intersection"===operation.type)for(let i=0,iMax=multipolys.length;i<iMax;i++){const mpA=multipolys[i];for(let j=i+1,jMax=multipolys.length;j<jMax;j++)if(null===getBboxOverlap(mpA.bbox,multipolys[j].bbox))return[]}const queue=new Tree(SweepEvent.compare);for(let i=0,iMax=multipolys.length;i<iMax;i++){const sweepEvents=multipolys[i].getSweepEvents();for(let j=0,jMax=sweepEvents.length;j<jMax;j++)if(queue.insert(sweepEvents[j]),queue.size>POLYGON_CLIPPING_MAX_QUEUE_SIZE)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const sweepLine=new SweepLine(queue);let prevQueueSize=queue.size,node=queue.pop();for(;node;){const evt=node.key;if(queue.size===prevQueueSize){const seg=evt.segment;throw new Error(`Unable to pop() ${evt.isLeft?"left":"right"} SweepEvent [${evt.point.x}, ${evt.point.y}] from segment #${seg.id} [${seg.leftSE.point.x}, ${seg.leftSE.point.y}] -> [${seg.rightSE.point.x}, ${seg.rightSE.point.y}] from queue.`)}if(queue.size>POLYGON_CLIPPING_MAX_QUEUE_SIZE)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(sweepLine.segments.length>POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const newEvents=sweepLine.process(evt);for(let i=0,iMax=newEvents.length;i<iMax;i++){const evt=newEvents[i];void 0===evt.consumedBy&&queue.insert(evt)}prevQueueSize=queue.size,node=queue.pop()}rounder.reset();const ringsOut=RingOut.factory(sweepLine.segments);return new MultiPolyOut(ringsOut).getGeom()}}const operation=new Operation,union=function(geom){for(var _len=arguments.length,moreGeoms=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)moreGeoms[_key-1]=arguments[_key];return operation.run("union",geom,moreGeoms)},intersection=function(geom){for(var _len2=arguments.length,moreGeoms=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)moreGeoms[_key2-1]=arguments[_key2];return operation.run("intersection",geom,moreGeoms)},xor=function(geom){for(var _len3=arguments.length,moreGeoms=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)moreGeoms[_key3-1]=arguments[_key3];return operation.run("xor",geom,moreGeoms)},difference=function(subjectGeom){for(var _len4=arguments.length,clippingGeoms=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++)clippingGeoms[_key4-1]=arguments[_key4];return operation.run("difference",subjectGeom,clippingGeoms)};return{union:union,intersection:intersection,xor:xor,difference:difference}}()},"./node_modules/possible-typed-array-names/index.js":function(module){"use strict";module.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},"./node_modules/rbush/rbush.min.js":function(module){module.exports=function(){"use strict";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1);t(n,r,Math.max(e,Math.floor(r-s*f/o+u)),Math.min(a,Math.floor(r+(o-s)*f/o+u)),h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r}()},"./node_modules/regexp.prototype.flags/implementation.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var setFunctionName=__webpack_require__("./node_modules/set-function-name/index.js"),$TypeError=__webpack_require__("./node_modules/es-errors/type.js"),$Object=Object;module.exports=setFunctionName((function flags(){if(null==this||this!==$Object(this))throw new $TypeError("RegExp.prototype.flags getter called on non-object");var result="";return this.hasIndices&&(result+="d"),this.global&&(result+="g"),this.ignoreCase&&(result+="i"),this.multiline&&(result+="m"),this.dotAll&&(result+="s"),this.unicode&&(result+="u"),this.unicodeSets&&(result+="v"),this.sticky&&(result+="y"),result}),"get flags",!0)},"./node_modules/regexp.prototype.flags/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var define=__webpack_require__("./node_modules/define-properties/index.js"),callBind=__webpack_require__("./node_modules/call-bind/index.js"),implementation=__webpack_require__("./node_modules/regexp.prototype.flags/implementation.js"),getPolyfill=__webpack_require__("./node_modules/regexp.prototype.flags/polyfill.js"),shim=__webpack_require__("./node_modules/regexp.prototype.flags/shim.js"),flagsBound=callBind(getPolyfill());define(flagsBound,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=flagsBound},"./node_modules/regexp.prototype.flags/polyfill.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var implementation=__webpack_require__("./node_modules/regexp.prototype.flags/implementation.js"),supportsDescriptors=__webpack_require__("./node_modules/define-properties/index.js").supportsDescriptors,$gOPD=Object.getOwnPropertyDescriptor;module.exports=function getPolyfill(){if(supportsDescriptors&&"gim"===/a/gim.flags){var descriptor=$gOPD(RegExp.prototype,"flags");if(descriptor&&"function"==typeof descriptor.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var calls="",o={};if(Object.defineProperty(o,"hasIndices",{get:function(){calls+="d"}}),Object.defineProperty(o,"sticky",{get:function(){calls+="y"}}),"dy"===calls)return descriptor.get}}return implementation}},"./node_modules/regexp.prototype.flags/shim.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var supportsDescriptors=__webpack_require__("./node_modules/define-properties/index.js").supportsDescriptors,getPolyfill=__webpack_require__("./node_modules/regexp.prototype.flags/polyfill.js"),gOPD=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,TypeErr=TypeError,getProto=Object.getPrototypeOf,regex=/a/;module.exports=function shimFlags(){if(!supportsDescriptors||!getProto)throw new TypeErr("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var polyfill=getPolyfill(),proto=getProto(regex),descriptor=gOPD(proto,"flags");return descriptor&&descriptor.get===polyfill||defineProperty(proto,"flags",{configurable:!0,enumerable:!1,get:polyfill}),polyfill}},"./node_modules/seedrandom/index.js":function(module,__unused_webpack_exports,__webpack_require__){var alea=__webpack_require__("./node_modules/seedrandom/lib/alea.js"),xor128=__webpack_require__("./node_modules/seedrandom/lib/xor128.js"),xorwow=__webpack_require__("./node_modules/seedrandom/lib/xorwow.js"),xorshift7=__webpack_require__("./node_modules/seedrandom/lib/xorshift7.js"),xor4096=__webpack_require__("./node_modules/seedrandom/lib/xor4096.js"),tychei=__webpack_require__("./node_modules/seedrandom/lib/tychei.js"),sr=__webpack_require__("./node_modules/seedrandom/seedrandom.js");sr.alea=alea,sr.xor128=xor128,sr.xorwow=xorwow,sr.xorshift7=xorshift7,sr.xor4096=xor4096,sr.tychei=tychei,module.exports=sr},"./node_modules/seedrandom/lib/alea.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module,define){function Alea(seed){var me=this,mash=function Mash(){var n=4022871197,mash=function(data){data=String(data);for(var i=0;i<data.length;i++){var h=.02519603282416938*(n+=data.charCodeAt(i));h-=n=h>>>0,n=(h*=n)>>>0,n+=4294967296*(h-=n)}return 2.3283064365386963e-10*(n>>>0)};return mash}();me.next=function(){var t=2091639*me.s0+2.3283064365386963e-10*me.c;return me.s0=me.s1,me.s1=me.s2,me.s2=t-(me.c=0|t)},me.c=1,me.s0=mash(" "),me.s1=mash(" "),me.s2=mash(" "),me.s0-=mash(seed),me.s0<0&&(me.s0+=1),me.s1-=mash(seed),me.s1<0&&(me.s1+=1),me.s2-=mash(seed),me.s2<0&&(me.s2+=1),mash=null}function copy(f,t){return t.c=f.c,t.s0=f.s0,t.s1=f.s1,t.s2=f.s2,t}function impl(seed,opts){var xg=new Alea(seed),state=opts&&opts.state,prng=xg.next;return prng.int32=function(){return 4294967296*xg.next()|0},prng.double=function(){return prng()+11102230246251565e-32*(2097152*prng()|0)},prng.quick=prng,state&&("object"==typeof state&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:__webpack_require__.amdD&&__webpack_require__.amdO?void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return impl}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):this.alea=impl}(0,module=__webpack_require__.nmd(module),__webpack_require__.amdD)},"./node_modules/seedrandom/lib/tychei.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module,define){function XorGen(seed){var me=this,strseed="";me.next=function(){var b=me.b,c=me.c,d=me.d,a=me.a;return b=b<<25^b>>>7^c,c=c-d|0,d=d<<24^d>>>8^a,a=a-b|0,me.b=b=b<<20^b>>>12^c,me.c=c=c-d|0,me.d=d<<16^c>>>16^a,me.a=a-b|0},me.a=0,me.b=0,me.c=-1640531527,me.d=1367130551,seed===Math.floor(seed)?(me.a=seed/4294967296|0,me.b=0|seed):strseed+=seed;for(var k=0;k<strseed.length+20;k++)me.b^=0|strseed.charCodeAt(k),me.next()}function copy(f,t){return t.a=f.a,t.b=f.b,t.c=f.c,t.d=f.d,t}function impl(seed,opts){var xg=new XorGen(seed),state=opts&&opts.state,prng=function(){return(xg.next()>>>0)/4294967296};return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&("object"==typeof state&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:__webpack_require__.amdD&&__webpack_require__.amdO?void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return impl}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):this.tychei=impl}(0,module=__webpack_require__.nmd(module),__webpack_require__.amdD)},"./node_modules/seedrandom/lib/xor128.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module,define){function XorGen(seed){var me=this,strseed="";me.x=0,me.y=0,me.z=0,me.w=0,me.next=function(){var t=me.x^me.x<<11;return me.x=me.y,me.y=me.z,me.z=me.w,me.w^=me.w>>>19^t^t>>>8},seed===(0|seed)?me.x=seed:strseed+=seed;for(var k=0;k<strseed.length+64;k++)me.x^=0|strseed.charCodeAt(k),me.next()}function copy(f,t){return t.x=f.x,t.y=f.y,t.z=f.z,t.w=f.w,t}function impl(seed,opts){var xg=new XorGen(seed),state=opts&&opts.state,prng=function(){return(xg.next()>>>0)/4294967296};return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&("object"==typeof state&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:__webpack_require__.amdD&&__webpack_require__.amdO?void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return impl}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):this.xor128=impl}(0,module=__webpack_require__.nmd(module),__webpack_require__.amdD)},"./node_modules/seedrandom/lib/xor4096.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module,define){function XorGen(seed){var me=this;me.next=function(){var t,v,w=me.w,X=me.X,i=me.i;return me.w=w=w+1640531527|0,v=X[i+34&127],t=X[i=i+1&127],v^=v<<13,t^=t<<17,v^=v>>>15,t^=t>>>12,v=X[i]=v^t,me.i=i,v+(w^w>>>16)|0},function init(me,seed){var t,v,i,j,w,X=[],limit=128;for(seed===(0|seed)?(v=seed,seed=null):(seed+="\0",v=0,limit=Math.max(limit,seed.length)),i=0,j=-32;j<limit;++j)seed&&(v^=seed.charCodeAt((j+32)%seed.length)),0===j&&(w=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,j>=0&&(w=w+1640531527|0,i=0==(t=X[127&j]^=v+w)?i+1:0);for(i>=128&&(X[127&(seed&&seed.length||0)]=-1),i=127,j=512;j>0;--j)v=X[i+34&127],t=X[i=i+1&127],v^=v<<13,t^=t<<17,v^=v>>>15,t^=t>>>12,X[i]=v^t;me.w=w,me.X=X,me.i=i}(me,seed)}function copy(f,t){return t.i=f.i,t.w=f.w,t.X=f.X.slice(),t}function impl(seed,opts){null==seed&&(seed=+new Date);var xg=new XorGen(seed),state=opts&&opts.state,prng=function(){return(xg.next()>>>0)/4294967296};return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&(state.X&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:__webpack_require__.amdD&&__webpack_require__.amdO?void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return impl}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):this.xor4096=impl}(0,module=__webpack_require__.nmd(module),__webpack_require__.amdD)},"./node_modules/seedrandom/lib/xorshift7.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module,define){function XorGen(seed){var me=this;me.next=function(){var t,v,X=me.x,i=me.i;return t=X[i],v=(t^=t>>>7)^t<<24,v^=(t=X[i+1&7])^t>>>10,v^=(t=X[i+3&7])^t>>>3,v^=(t=X[i+4&7])^t<<7,t=X[i+7&7],v^=(t^=t<<13)^t<<9,X[i]=v,me.i=i+1&7,v},function init(me,seed){var j,X=[];if(seed===(0|seed))X[0]=seed;else for(seed=""+seed,j=0;j<seed.length;++j)X[7&j]=X[7&j]<<15^seed.charCodeAt(j)+X[j+1&7]<<13;for(;X.length<8;)X.push(0);for(j=0;j<8&&0===X[j];++j);for(8==j?X[7]=-1:X[j],me.x=X,me.i=0,j=256;j>0;--j)me.next()}(me,seed)}function copy(f,t){return t.x=f.x.slice(),t.i=f.i,t}function impl(seed,opts){null==seed&&(seed=+new Date);var xg=new XorGen(seed),state=opts&&opts.state,prng=function(){return(xg.next()>>>0)/4294967296};return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&(state.x&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:__webpack_require__.amdD&&__webpack_require__.amdO?void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return impl}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):this.xorshift7=impl}(0,module=__webpack_require__.nmd(module),__webpack_require__.amdD)},"./node_modules/seedrandom/lib/xorwow.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module,define){function XorGen(seed){var me=this,strseed="";me.next=function(){var t=me.x^me.x>>>2;return me.x=me.y,me.y=me.z,me.z=me.w,me.w=me.v,(me.d=me.d+362437|0)+(me.v=me.v^me.v<<4^t^t<<1)|0},me.x=0,me.y=0,me.z=0,me.w=0,me.v=0,seed===(0|seed)?me.x=seed:strseed+=seed;for(var k=0;k<strseed.length+64;k++)me.x^=0|strseed.charCodeAt(k),k==strseed.length&&(me.d=me.x<<10^me.x>>>4),me.next()}function copy(f,t){return t.x=f.x,t.y=f.y,t.z=f.z,t.w=f.w,t.v=f.v,t.d=f.d,t}function impl(seed,opts){var xg=new XorGen(seed),state=opts&&opts.state,prng=function(){return(xg.next()>>>0)/4294967296};return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&("object"==typeof state&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:__webpack_require__.amdD&&__webpack_require__.amdO?void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return impl}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):this.xorwow=impl}(0,module=__webpack_require__.nmd(module),__webpack_require__.amdD)},"./node_modules/seedrandom/seedrandom.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,pool,math){var nodecrypto,width=256,startdenom=math.pow(width,6),significance=math.pow(2,52),overflow=2*significance,mask=width-1;function seedrandom(seed,options,callback){var key=[],shortseed=mixkey(flatten((options=1==options?{entropy:!0}:options||{}).entropy?[seed,tostring(pool)]:null==seed?function autoseed(){try{var out;return nodecrypto&&(out=nodecrypto.randomBytes)?out=out(width):(out=new Uint8Array(width),(global.crypto||global.msCrypto).getRandomValues(out)),tostring(out)}catch(e){var browser=global.navigator,plugins=browser&&browser.plugins;return[+new Date,global,plugins,global.screen,tostring(pool)]}}():seed,3),key),arc4=new ARC4(key),prng=function(){for(var n=arc4.g(6),d=startdenom,x=0;n<significance;)n=(n+x)*width,d*=width,x=arc4.g(1);for(;n>=overflow;)n/=2,d/=2,x>>>=1;return(n+x)/d};return prng.int32=function(){return 0|arc4.g(4)},prng.quick=function(){return arc4.g(4)/4294967296},prng.double=prng,mixkey(tostring(arc4.S),pool),(options.pass||callback||function(prng,seed,is_math_call,state){return state&&(state.S&&copy(state,arc4),prng.state=function(){return copy(arc4,{})}),is_math_call?(math.random=prng,seed):prng})(prng,shortseed,"global"in options?options.global:this==math,options.state)}function ARC4(key){var t,keylen=key.length,me=this,i=0,j=me.i=me.j=0,s=me.S=[];for(keylen||(key=[keylen++]);i<width;)s[i]=i++;for(i=0;i<width;i++)s[i]=s[j=mask&j+key[i%keylen]+(t=s[i])],s[j]=t;(me.g=function(count){for(var t,r=0,i=me.i,j=me.j,s=me.S;count--;)t=s[i=mask&i+1],r=r*width+s[mask&(s[i]=s[j=mask&j+t])+(s[j]=t)];return me.i=i,me.j=j,r})(width)}function copy(f,t){return t.i=f.i,t.j=f.j,t.S=f.S.slice(),t}function flatten(obj,depth){var prop,result=[],typ=typeof obj;if(depth&&"object"==typ)for(prop in obj)try{result.push(flatten(obj[prop],depth-1))}catch(e){}return result.length?result:"string"==typ?obj:obj+"\0"}function mixkey(seed,key){for(var smear,stringseed=seed+"",j=0;j<stringseed.length;)key[mask&j]=mask&(smear^=19*key[mask&j])+stringseed.charCodeAt(j++);return tostring(key)}function tostring(a){return String.fromCharCode.apply(0,a)}if(mixkey(math.random(),pool),module.exports){module.exports=seedrandom;try{nodecrypto=__webpack_require__("?d4c0")}catch(ex){}}else void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return seedrandom}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}("undefined"!=typeof self?self:this,[],Math)},"./node_modules/set-function-length/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),define=__webpack_require__("./node_modules/define-data-property/index.js"),hasDescriptors=__webpack_require__("./node_modules/has-property-descriptors/index.js")(),gOPD=__webpack_require__("./node_modules/gopd/index.js"),$TypeError=__webpack_require__("./node_modules/es-errors/type.js"),$floor=GetIntrinsic("%Math.floor%");module.exports=function setFunctionLength(fn,length){if("function"!=typeof fn)throw new $TypeError("`fn` is not a function");if("number"!=typeof length||length<0||length>4294967295||$floor(length)!==length)throw new $TypeError("`length` must be a positive 32-bit integer");var loose=arguments.length>2&&!!arguments[2],functionLengthIsConfigurable=!0,functionLengthIsWritable=!0;if("length"in fn&&gOPD){var desc=gOPD(fn,"length");desc&&!desc.configurable&&(functionLengthIsConfigurable=!1),desc&&!desc.writable&&(functionLengthIsWritable=!1)}return(functionLengthIsConfigurable||functionLengthIsWritable||!loose)&&(hasDescriptors?define(fn,"length",length,!0,!0):define(fn,"length",length)),fn}},"./node_modules/set-function-name/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var define=__webpack_require__("./node_modules/define-data-property/index.js"),hasDescriptors=__webpack_require__("./node_modules/has-property-descriptors/index.js")(),functionsHaveConfigurableNames=__webpack_require__("./node_modules/functions-have-names/index.js").functionsHaveConfigurableNames(),$TypeError=__webpack_require__("./node_modules/es-errors/type.js");module.exports=function setFunctionName(fn,name){if("function"!=typeof fn)throw new $TypeError("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!functionsHaveConfigurableNames||(hasDescriptors?define(fn,"name",name,!0,!0):define(fn,"name",name)),fn}},"./node_modules/side-channel/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__("./node_modules/get-intrinsic/index.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),inspect=__webpack_require__("./node_modules/object-inspect/index.js"),$TypeError=__webpack_require__("./node_modules/es-errors/type.js"),$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(list,key){for(var curr,prev=list;null!==(curr=prev.next);prev=curr)if(curr.key===key)return prev.next=curr.next,curr.next=list.next,list.next=curr,curr};module.exports=function getSideChannel(){var $wm,$m,$o,channel={assert:function(key){if(!channel.has(key))throw new $TypeError("Side channel does not contain "+inspect(key))},get:function(key){if($WeakMap&&key&&("object"==typeof key||"function"==typeof key)){if($wm)return $weakMapGet($wm,key)}else if($Map){if($m)return $mapGet($m,key)}else if($o)return function(objects,key){var node=listGetNode(objects,key);return node&&node.value}($o,key)},has:function(key){if($WeakMap&&key&&("object"==typeof key||"function"==typeof key)){if($wm)return $weakMapHas($wm,key)}else if($Map){if($m)return $mapHas($m,key)}else if($o)return function(objects,key){return!!listGetNode(objects,key)}($o,key);return!1},set:function(key,value){$WeakMap&&key&&("object"==typeof key||"function"==typeof key)?($wm||($wm=new $WeakMap),$weakMapSet($wm,key,value)):$Map?($m||($m=new $Map),$mapSet($m,key,value)):($o||($o={key:{},next:null}),function(objects,key,value){var node=listGetNode(objects,key);node?node.value=value:objects.next={key:key,next:objects.next,value:value}}($o,key,value))}};return channel}},"./node_modules/stop-iteration-iterator/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var SLOT=__webpack_require__("./node_modules/internal-slot/index.js"),$SyntaxError=SyntaxError,$StopIteration="object"==typeof StopIteration?StopIteration:null;module.exports=function getStopIterationIterator(origIterator){if(!$StopIteration)throw new $SyntaxError("this environment lacks StopIteration");SLOT.set(origIterator,"[[Done]]",!1);var siIterator={next:function next(){var iterator=SLOT.get(this,"[[Iterator]]"),done=SLOT.get(iterator,"[[Done]]");try{return{done:done,value:done?void 0:iterator.next()}}catch(e){if(SLOT.set(iterator,"[[Done]]",!0),e!==$StopIteration)throw e;return{done:!0,value:void 0}}}};return SLOT.set(siIterator,"[[Iterator]]",origIterator),siIterator}},"./node_modules/strnum/strnum.js":function(module){const hexRegex=/^[-+]?0x[a-fA-F0-9]+$/,numRegex=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const consider={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};module.exports=function toNumber(str,options={}){if(options=Object.assign({},consider,options),!str||"string"!=typeof str)return str;let trimmedStr=str.trim();if(void 0!==options.skipLike&&options.skipLike.test(trimmedStr))return str;if(options.hex&&hexRegex.test(trimmedStr))return Number.parseInt(trimmedStr,16);{const match=numRegex.exec(trimmedStr);if(match){const sign=match[1],leadingZeros=match[2];let numTrimmedByZeros=function trimZeros(numStr){if(numStr&&-1!==numStr.indexOf("."))return"."===(numStr=numStr.replace(/0+$/,""))?numStr="0":"."===numStr[0]?numStr="0"+numStr:"."===numStr[numStr.length-1]&&(numStr=numStr.substr(0,numStr.length-1)),numStr;return numStr}(match[3]);const eNotation=match[4]||match[6];if(!options.leadingZeros&&leadingZeros.length>0&&sign&&"."!==trimmedStr[2])return str;if(!options.leadingZeros&&leadingZeros.length>0&&!sign&&"."!==trimmedStr[1])return str;{const num=Number(trimmedStr),numStr=""+num;return-1!==numStr.search(/[eE]/)||eNotation?options.eNotation?num:str:-1!==trimmedStr.indexOf(".")?"0"===numStr&&""===numTrimmedByZeros||numStr===numTrimmedByZeros||sign&&numStr==="-"+numTrimmedByZeros?num:str:leadingZeros?numTrimmedByZeros===numStr||sign+numTrimmedByZeros===numStr?num:str:trimmedStr===numStr||trimmedStr===sign+numStr?num:str}}return str}}},"./node_modules/turf-jsts/jsts.min.js":function(__unused_webpack_module,exports){!function(t){"use strict";function e(){}function n(t){this.message=t||""}function i(t){this.message=t||""}function r(t){this.message=t||""}function o(){}function s(t){return null===t?Mt:t.color}function a(t){return null===t?null:t.parent}function u(t,e){null!==t&&(t.color=e)}function l(t){return null===t?null:t.left}function c(t){return null===t?null:t.right}function p(){this.root_=null,this.size_=0}function h(){}function f(){this.array_=[],arguments[0]instanceof It&&this.addAll(arguments[0])}function g(){}function d(t){this.message=t||""}function y(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(n+i,0):Math.min(i,n);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(r=r<0?Math.max(n+arguments[2],0):Math.min(r,n);i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var _=function(){};_.prototype.interfaces_=function(){return[]},_.prototype.getClass=function(){return _},_.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var m=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),v=function(){},I={MAX_VALUE:{configurable:!0}};v.isNaN=function(t){return Number.isNaN(t)},v.doubleToLongBits=function(t){return t},v.longBitsToDouble=function(t){return t},v.isInfinite=function(t){return!Number.isFinite(t)},I.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(v,I);var E=function(){},x=function(){},N=function(){},C=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},S={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};C.prototype.setOrdinate=function(t,e){switch(t){case C.X:this.x=e;break;case C.Y:this.y=e;break;case C.Z:this.z=e;break;default:throw new m("Invalid ordinate index: "+t)}},C.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!_.equalsWithTolerance(this.x,e.x,n)&&!!_.equalsWithTolerance(this.y,e.y,n)}},C.prototype.getOrdinate=function(t){switch(t){case C.X:return this.x;case C.Y:return this.y;case C.Z:return this.z}throw new m("Invalid ordinate index: "+t)},C.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||v.isNaN(this.z))&&v.isNaN(t.z)},C.prototype.equals=function(t){return t instanceof C&&this.equals2D(t)},C.prototype.equalInZ=function(t,e){return _.equalsWithTolerance(this.z,t.z,e)},C.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},C.prototype.clone=function(){},C.prototype.copy=function(){return new C(this)},C.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},C.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},C.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},C.prototype.hashCode=function(){var t=17;return 37*(t=37*t+C.hashCode(this.x))+C.hashCode(this.y)},C.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},C.prototype.interfaces_=function(){return[E,x,e]},C.prototype.getClass=function(){return C},C.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=v.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},S.DimensionalComparator.get=function(){return L},S.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},S.NULL_ORDINATE.get=function(){return v.NaN},S.X.get=function(){return 0},S.Y.get=function(){return 1},S.Z.get=function(){return 2},Object.defineProperties(C,S);var L=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new m("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};L.prototype.compare=function(t,e){var n=t,i=e,r=L.compare(n.x,i.x);if(0!==r)return r;var o=L.compare(n.y,i.y);return 0!==o?o:this._dimensionsToTest<=2?0:L.compare(n.z,i.z)},L.prototype.interfaces_=function(){return[N]},L.prototype.getClass=function(){return L},L.compare=function(t,e){return t<e?-1:t>e?1:v.isNaN(t)?v.isNaN(e)?0:-1:v.isNaN(e)?1:0};var b=function(){};b.prototype.create=function(){},b.prototype.interfaces_=function(){return[]},b.prototype.getClass=function(){return b};var w=function(){},O={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};w.prototype.interfaces_=function(){return[]},w.prototype.getClass=function(){return w},w.toLocationSymbol=function(t){switch(t){case w.EXTERIOR:return"e";case w.BOUNDARY:return"b";case w.INTERIOR:return"i";case w.NONE:return"-"}throw new m("Unknown location value: "+t)},O.INTERIOR.get=function(){return 0},O.BOUNDARY.get=function(){return 1},O.EXTERIOR.get=function(){return 2},O.NONE.get=function(){return-1},Object.defineProperties(w,O);var T=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},R=function(){},P={LOG_10:{configurable:!0}};R.prototype.interfaces_=function(){return[]},R.prototype.getClass=function(){return R},R.log10=function(t){var e=Math.log(t);return v.isInfinite(e)||v.isNaN(e)?e:e/R.LOG_10},R.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},R.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}},R.wrap=function(t,e){return t<0?e- -t%e:t%e},R.max=function(){if(3===arguments.length){var e=arguments[1],n=arguments[2],i=arguments[0];return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[0];return o>u&&(u=o),s>u&&(u=s),a>u&&(u=a),u}},R.average=function(t,e){return(t+e)/2},P.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(R,P);var D=function(t){this.str=t};D.prototype.append=function(t){this.str+=t},D.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},D.prototype.toString=function(t){return this.str};var M=function(t){this.value=t};M.prototype.intValue=function(){return this.value},M.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},M.isNaN=function(t){return Number.isNaN(t)};var A=function(){};A.isWhitespace=function(t){return t<=32&&t>=0||127===t},A.toUpperCase=function(t){return t.toUpperCase()};var F=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length)if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0]));else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}},G={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};F.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},F.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),i=F.magnitude(n._hi),r=F.TEN.pow(i);(n=n.divide(r)).gt(F.TEN)?(n=n.divide(F.TEN),i+=1):n.lt(F.ONE)&&(n=n.multiply(F.TEN),i-=1);for(var o=i+1,s=new D,a=F.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,p=0;l>9?(c=!0,p="9"):p="0"+l,s.append(p),n=n.subtract(F.valueOf(l)).multiply(F.TEN),c&&n.selfAdd(F.TEN);var h=!0,f=F.magnitude(n._hi);if(f<0&&Math.abs(f)>=a-u&&(h=!1),!h)break}return e[0]=i,s.toString()},F.prototype.sqr=function(){return this.multiply(this)},F.prototype.doubleValue=function(){return this._hi+this._lo},F.prototype.subtract=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},F.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},F.prototype.isZero=function(){return 0===this._hi&&0===this._lo},F.prototype.selfSubtract=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},F.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},F.prototype.min=function(t){return this.le(t)?this:t},F.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,l=null,c=null,p=null;return u=this._hi/n,p=(r=(l=F.SPLIT*u)-(r=l-u))*(s=(p=F.SPLIT*n)-(s=p-n))-(c=u*n)+r*(a=n-s)+(o=u-r)*s+o*a,p=u+(l=(this._hi-c-p+this._lo-u*i)/n),this._hi=p,this._lo=u-p+l,this}},F.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},F.prototype.divide=function(){if(arguments[0]instanceof F){var t=arguments[0],e=null,n=null,i=null,r=null,o=null,s=null,a=null,u=null;return n=(o=this._hi/t._hi)-(e=(s=F.SPLIT*o)-(e=s-o)),u=e*(i=(u=F.SPLIT*t._hi)-(i=u-t._hi))-(a=o*t._hi)+e*(r=t._hi-i)+n*i+n*r,s=(this._hi-a-u+this._lo-o*t._lo)/t._hi,new F(u=o+s,o-u+s)}if("number"==typeof arguments[0]){var l=arguments[0];return v.isNaN(l)?F.createNaN():F.copy(this).selfDivide(l,0)}},F.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},F.prototype.pow=function(t){if(0===t)return F.valueOf(1);var e=new F(this),n=F.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},F.prototype.ceil=function(){if(this.isNaN())return F.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new F(t,e)},F.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},F.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},F.prototype.setValue=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},F.prototype.max=function(t){return this.ge(t)?this:t},F.prototype.sqrt=function(){if(this.isZero())return F.valueOf(0);if(this.isNegative())return F.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=F.valueOf(e),i=this.subtract(n.sqr())._hi*(.5*t);return n.add(i)},F.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,s=null,a=null;return o=(r=this._hi+e)-(s=r-this._hi),i=(a=(o=e-s+(this._hi-o))+this._lo)+(r-(n=r+a)),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],c=null,p=null,h=null,f=null,g=null,d=null,y=null;f=this._hi+u,p=this._lo+l,g=f-(d=f-this._hi),h=p-(y=p-this._lo);var _=(c=f+(d=(g=u-d+(this._hi-g))+p))+(d=(h=l-y+(this._lo-h))+(d+(f-c))),m=d+(c-_);return this._hi=_,this._lo=m,this}},F.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,l=null;r=(u=F.SPLIT*this._hi)-this._hi,l=F.SPLIT*n,r=u-r,o=this._hi-r,s=l-n;var c=(u=this._hi*n)+(l=r*(s=l-s)-u+r*(a=n-s)+o*s+o*a+(this._hi*i+this._lo*n)),p=l+(r=u-c);return this._hi=c,this._lo=p,this}},F.prototype.selfSqr=function(){return this.selfMultiply(this)},F.prototype.floor=function(){if(this.isNaN())return F.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new F(t,e)},F.prototype.negate=function(){return this.isNaN()?this:new F(-this._hi,-this._lo)},F.prototype.clone=function(){},F.prototype.multiply=function(){if(arguments[0]instanceof F){var t=arguments[0];return t.isNaN()?F.createNaN():F.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return v.isNaN(e)?F.createNaN():F.copy(this).selfMultiply(e,0)}},F.prototype.isNaN=function(){return v.isNaN(this._hi)},F.prototype.intValue=function(){return Math.trunc(this._hi)},F.prototype.toString=function(){var t=F.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},F.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;if("."===n.charAt(0))r="0"+n;else if(i<0)r="0."+F.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var o=i-n.length;r=n+F.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+r:r},F.prototype.reciprocal=function(){var t=null,e=null,n=null,i=null,r=null,o=null,s=null,a=null;e=(r=1/this._hi)-(t=(o=F.SPLIT*r)-(t=o-r)),n=(a=F.SPLIT*this._hi)-this._hi;var u=r+(o=(1-(s=r*this._hi)-(a=t*(n=a-n)-s+t*(i=this._hi-n)+e*n+e*i)-r*this._lo)/this._hi);return new F(u,r-u+o)},F.prototype.toSciNotation=function(){if(this.isZero())return F.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=F.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},F.prototype.abs=function(){return this.isNaN()?F.NaN:this.isNegative()?this.negate():new F(this)},F.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},F.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},F.prototype.add=function(){if(arguments[0]instanceof F){var t=arguments[0];return F.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return F.copy(this).selfAdd(e)}},F.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof F){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._hi=n,this._lo=i}},F.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},F.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},F.prototype.trunc=function(){return this.isNaN()?F.NaN:this.isPositive()?this.floor():this.ceil()},F.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},F.prototype.interfaces_=function(){return[e,E,x]},F.prototype.getClass=function(){return F},F.sqr=function(t){return F.valueOf(t).selfMultiply(t)},F.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return F.parse(t)}if("number"==typeof arguments[0])return new F(arguments[0])},F.sqrt=function(t){return F.valueOf(t).sqrt()},F.parse=function(t){for(var e=0,n=t.length;A.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var o=new F,s=0,a=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,A.isDigit(l)){var c=l-"0";o.selfMultiply(F.TEN),o.selfAdd(c),s++}else{if("."!==l){if("e"===l||"E"===l){var p=t.substring(e);try{u=M.parseInt(p)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+p+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}a=s}}var h=o,f=s-a-u;if(0===f)h=o;else if(f>0){var g=F.TEN.pow(f);h=o.divide(g)}else if(f<0){var d=F.TEN.pow(-f);h=o.multiply(d)}return i?h.negate():h},F.createNaN=function(){return new F(v.NaN,v.NaN)},F.copy=function(t){return new F(t)},F.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},F.stringOfChar=function(t,e){for(var n=new D,i=0;i<e;i++)n.append(t);return n.toString()},G.PI.get=function(){return new F(3.141592653589793,12246467991473532e-32)},G.TWO_PI.get=function(){return new F(6.283185307179586,24492935982947064e-32)},G.PI_2.get=function(){return new F(1.5707963267948966,6123233995736766e-32)},G.E.get=function(){return new F(2.718281828459045,14456468917292502e-32)},G.NaN.get=function(){return new F(v.NaN,v.NaN)},G.EPS.get=function(){return 123259516440783e-46},G.SPLIT.get=function(){return 134217729},G.MAX_PRINT_DIGITS.get=function(){return 32},G.TEN.get=function(){return F.valueOf(10)},G.ONE.get=function(){return F.valueOf(1)},G.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},G.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(F,G);var q=function(){},B={DP_SAFE_EPSILON:{configurable:!0}};q.prototype.interfaces_=function(){return[]},q.prototype.getClass=function(){return q},q.orientationIndex=function(t,e,n){var i=q.orientationIndexFilter(t,e,n);if(i<=1)return i;var r=F.valueOf(e.x).selfAdd(-t.x),o=F.valueOf(e.y).selfAdd(-t.y),s=F.valueOf(n.x).selfAdd(-e.x),a=F.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},q.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},q.intersection=function(t,e,n,i){var r=F.valueOf(i.y).selfSubtract(n.y).selfMultiply(F.valueOf(e.x).selfSubtract(t.x)),o=F.valueOf(i.x).selfSubtract(n.x).selfMultiply(F.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=F.valueOf(i.x).selfSubtract(n.x).selfMultiply(F.valueOf(t.y).selfSubtract(n.y)),u=F.valueOf(i.y).selfSubtract(n.y).selfMultiply(F.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u).selfDivide(s).doubleValue(),c=F.valueOf(t.x).selfAdd(F.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),p=F.valueOf(e.x).selfSubtract(t.x).selfMultiply(F.valueOf(t.y).selfSubtract(n.y)),h=F.valueOf(e.y).selfSubtract(t.y).selfMultiply(F.valueOf(t.x).selfSubtract(n.x)),f=p.subtract(h).selfDivide(s).doubleValue(),g=F.valueOf(n.y).selfAdd(F.valueOf(i.y).selfSubtract(n.y).selfMultiply(f)).doubleValue();return new C(c,g)},q.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=r-o;if(r>0){if(o<=0)return q.signum(s);i=r+o}else{if(!(r<0))return q.signum(s);if(o>=0)return q.signum(s);i=-r-o}var a=q.DP_SAFE_EPSILON*i;return s>=a||-s>=a?q.signum(s):2},q.signum=function(t){return t>0?1:t<0?-1:0},B.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(q,B);var V=function(){},U={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};U.X.get=function(){return 0},U.Y.get=function(){return 1},U.Z.get=function(){return 2},U.M.get=function(){return 3},V.prototype.setOrdinate=function(t,e,n){},V.prototype.size=function(){},V.prototype.getOrdinate=function(t,e){},V.prototype.getCoordinate=function(){},V.prototype.getCoordinateCopy=function(t){},V.prototype.getDimension=function(){},V.prototype.getX=function(t){},V.prototype.clone=function(){},V.prototype.expandEnvelope=function(t){},V.prototype.copy=function(){},V.prototype.getY=function(t){},V.prototype.toCoordinateArray=function(){},V.prototype.interfaces_=function(){return[x]},V.prototype.getClass=function(){return V},Object.defineProperties(V,U);var z=function(){},X=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(z),Y=function(){};Y.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;s<e+r;s++)n[i+o]=t[s],o++},Y.getProperty=function(t){return{"line.separator":"\n"}[t]};var k=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],o=arguments[1];this.x=r.y*o.w-o.y*r.w,this.y=o.x*r.w-r.x*o.w,this.w=r.x*o.y-o.x*r.y}else if(arguments[0]instanceof C&&arguments[1]instanceof C){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var p=arguments[0],h=arguments[1],f=arguments[2],g=arguments[3],d=p.y-h.y,y=h.x-p.x,_=p.x*h.y-h.x*p.y,m=f.y-g.y,v=g.x-f.x,I=f.x*g.y-g.x*f.y;this.x=y*I-v*_,this.y=m*_-d*I,this.w=d*v-m*y}};k.prototype.getY=function(){var t=this.y/this.w;if(v.isNaN(t)||v.isInfinite(t))throw new X;return t},k.prototype.getX=function(){var t=this.x/this.w;if(v.isNaN(t)||v.isInfinite(t))throw new X;return t},k.prototype.getCoordinate=function(){var t=new C;return t.x=this.getX(),t.y=this.getY(),t},k.prototype.interfaces_=function(){return[]},k.prototype.getClass=function(){return k},k.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-i.y,u=i.x-n.x,l=n.x*i.y-i.x*n.y,c=r*u-a*o,p=(o*l-u*s)/c,h=(a*s-r*l)/c;if(v.isNaN(p)||v.isInfinite(p)||v.isNaN(h)||v.isInfinite(h))throw new X;return new C(p,h)};var j=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof C){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},H={serialVersionUID:{configurable:!0}};j.prototype.getArea=function(){return this.getWidth()*this.getHeight()},j.prototype.equals=function(t){if(!(t instanceof j))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},j.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new j;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,r=this._maxy<t._maxy?this._maxy:t._maxy;return new j(e,i,n,r)},j.prototype.isNull=function(){return this._maxx<this._minx},j.prototype.getMaxX=function(){return this._maxx},j.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof j){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy}},j.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof C){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}},j.prototype.getMinY=function(){return this._miny},j.prototype.getMinX=function(){return this._minx},j.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof j){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},j.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},j.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},j.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},j.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},j.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},j.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},j.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},j.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},j.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},j.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof C){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},j.prototype.centre=function(){return this.isNull()?null:new C((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},j.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof j){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];r<o?(this._minx=r,this._maxx=o):(this._minx=o,this._maxx=r),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},j.prototype.getMaxY=function(){return this._maxy},j.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},j.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+C.hashCode(this._minx))+C.hashCode(this._maxx))+C.hashCode(this._miny))+C.hashCode(this._maxy)},j.prototype.interfaces_=function(){return[E,e]},j.prototype.getClass=function(){return j},j.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(l>u||c<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(i.y,r.y),c=Math.max(i.y,r.y),l>u||c<a))}},H.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(j,H);var W={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},K=function(t){this.geometryFactory=t||new _e};K.prototype.read=function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=W.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=W.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],Q[n]&&(e=Q[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},K.prototype.write=function(t){return this.extractGeometry(t)},K.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!J[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+J[e].apply(this,[t])+")"};var J={coordinate:function(t){return t.x+" "+t.y},point:function(t){return J.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+J.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(J.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(J.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+J.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+J.linestring.apply(this,[t._shell])+")");for(var n=0,i=t._holes.length;n<i;++n)e.push("("+J.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+J.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Q={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(W.spaces);return this.geometryFactory.createPoint(new C(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(W.trimParens,"$1"),i.push(Q.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(W.spaces),i.push(new C(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(W.spaces),i.push(new C(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(W.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(W.trimParens,"$1"),i.push(Q.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(W.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(W.trimParens,"$1"),n=Q.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n._points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(W.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(W.trimParens,"$1"),i.push(Q.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}},Z=function(t){this.parser=new K(t)};Z.prototype.write=function(t){return this.parser.write(t)},Z.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var $=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),tt=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}($),et=function(){};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.shouldNeverReachHere=function(){if(0===arguments.length)et.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new tt("Should never reach here"+(null!==t?": "+t:""))}},et.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],et.isTrue(t,null);else if(2===arguments.length&&(e=arguments[1],!(t=arguments[0])))throw null===e?new tt:new tt(e)},et.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],et.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],n=arguments[2],!(e=arguments[1]).equals(t)))throw new tt("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var nt=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new C,this._intPt[1]=new C,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},it={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};nt.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},nt.prototype.getTopologySummary=function(){var t=new D;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},nt.prototype.computeIntersection=function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},nt.prototype.getIntersectionNum=function(){return this._result},nt.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},nt.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},nt.prototype.setPrecisionModel=function(t){this._precisionModel=t},nt.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},nt.prototype.getIntersection=function(t){return this._intPt[t]},nt.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},nt.prototype.hasIntersection=function(){return this._result!==nt.NO_INTERSECTION},nt.prototype.getEdgeDistance=function(t,e){return nt.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},nt.prototype.isCollinear=function(){return this._result===nt.COLLINEAR_INTERSECTION},nt.prototype.toString=function(){return Z.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Z.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},nt.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},nt.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},nt.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt},nt.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=i>r?s:a)||t.equals(e)||(o=Math.max(s,a))}return et.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},nt.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return et.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},it.DONT_INTERSECT.get=function(){return 0},it.DO_INTERSECT.get=function(){return 1},it.COLLINEAR.get=function(){return 2},it.NO_INTERSECTION.get=function(){return 0},it.POINT_INTERSECTION.get=function(){return 1},it.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(nt,it);var rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new j(this._inputLines[0][0],this._inputLines[0][1]),n=new j(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2];if(this._isProper=!1,j.intersects(n,i,e)&&0===at.orientationIndex(n,i,e)&&0===at.orientationIndex(i,n,e))return this._isProper=!0,(e.equals(n)||e.equals(i))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.safeHCoordinateIntersection=function(t,n,i,r){var o=null;try{o=k.intersection(t,n,i,r)}catch(s){if(!(s instanceof X))throw s;o=e.nearestEndpoint(t,n,i,r)}return o},e.prototype.intersection=function(t,n,i,r){var o=this.intersectionWithNormalization(t,n,i,r);return this.isInSegmentEnvelopes(o)||(o=new C(e.nearestEndpoint(t,n,i,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},e.prototype.checkDD=function(t,e,n,i,r){var o=q.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);Y.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&Y.out.println("Distance = "+r.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,i){var r=new C(t),o=new C(e),s=new C(n),a=new C(i),u=new C;this.normalizeToEnvCentre(r,o,s,a,u);var l=this.safeHCoordinateIntersection(r,o,s,a);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,i,r){var o=j.intersects(e,n,i),s=j.intersects(e,n,r),a=j.intersects(i,r,e),u=j.intersects(i,r,n);return o&&s?(this._intPt[0]=i,this._intPt[1]=r,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,p=n.x>i.x?n.x:i.x,h=n.y>i.y?n.y:i.y,f=((o>l?o:l)+(a<p?a:p))/2,g=((s>c?s:c)+(u<h?u:h))/2;r.x=f,r.y=g,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.computeIntersect=function(e,n,i,r){if(this._isProper=!1,!j.intersects(e,n,i,r))return t.NO_INTERSECTION;var o=at.orientationIndex(e,n,i),s=at.orientationIndex(e,n,r);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=at.orientationIndex(i,r,e),u=at.orientationIndex(i,r,n);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,i,r):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(i)||e.equals2D(r)?this._intPt[0]=e:n.equals2D(i)||n.equals2D(r)?this._intPt[0]=n:0===o?this._intPt[0]=new C(i):0===s?this._intPt[0]=new C(r):0===a?this._intPt[0]=new C(e):0===u&&(this._intPt[0]=new C(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,i,r)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,i){var r=t,o=at.distancePointLine(t,n,i),s=at.distancePointLine(e,n,i);return s<o&&(o=s,r=e),(s=at.distancePointLine(n,t,e))<o&&(o=s,r=n),(s=at.distancePointLine(i,t,e))<o&&(o=s,r=i),r},e}(nt),ot=function(){};ot.prototype.interfaces_=function(){return[]},ot.prototype.getClass=function(){return ot},ot.orientationIndex=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ot.signOfDet2x2(i,r,o,s)},ot.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(e>0?i>0?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):e<=-i?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):i>0?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),t>0){if(!(n>0))return r;if(!(t<=n))return r}else{if(n>0)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if((i-=(s=Math.floor(n/t))*e)<0)return-r;if(i>e)return r;if(t>(n-=s*t)+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if((e-=(s=Math.floor(t/n))*i)<0)return r;if(e>i)return-r;if(n>(t-=s*n)+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}};var st=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};st.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=ot.signOfDet2x2(r,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},st.prototype.isPointInPolygon=function(){return this.getLocation()!==w.EXTERIOR},st.prototype.getLocation=function(){return this._isPointOnSegment?w.BOUNDARY:this._crossingCount%2==1?w.INTERIOR:w.EXTERIOR},st.prototype.isOnSegment=function(){return this._isPointOnSegment},st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.locatePointInRing=function(){if(arguments[0]instanceof C&&T(arguments[1],V)){for(var e=arguments[1],n=new st(arguments[0]),i=new C,r=new C,o=1;o<e.size();o++)if(e.getCoordinate(o,i),e.getCoordinate(o-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof C&&arguments[1]instanceof Array){for(var a=arguments[1],u=new st(arguments[0]),l=1;l<a.length;l++){var c=a[l],p=a[l-1];if(u.countSegment(c,p),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var at=function(){},ut={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.orientationIndex=function(t,e,n){return q.orientationIndex(t,e,n)},at.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y;e+=r*(t[i-1].y-o)}return e/2}if(T(arguments[0],V)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new C,l=new C,c=new C;s.getCoordinate(0,l),s.getCoordinate(1,c);var p=l.x;c.x-=p;for(var h=0,f=1;f<a-1;f++)u.y=l.y,l.x=c.x,l.y=c.y,s.getCoordinate(f+1,c),c.x-=p,h+=l.x*(u.y-c.y);return h/2}},at.distanceLineLine=function(t,e,n,i){if(t.equals(e))return at.distancePointLine(t,n,i);if(n.equals(i))return at.distancePointLine(i,t,e);var r=!1;if(j.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var s=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(r=!0)}}else r=!0;return r?R.min(at.distancePointLine(t,n,i),at.distancePointLine(e,n,i),at.distancePointLine(n,t,e),at.distancePointLine(i,t,e)):0},at.isPointInRing=function(t,e){return at.locatePointInRing(t,e)!==w.EXTERIOR},at.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new C;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,u=i.y,l=a-r,c=u-o;n+=Math.sqrt(l*l+c*c),r=a,o=u}return n},at.isCCW=function(t){var e=t.length-1;if(e<3)throw new m("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,r=1;r<=e;r++){var o=t[r];o.y>n.y&&(n=o,i=r)}var s=i;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==i);var a=i;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==i);var u=t[s],l=t[a];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=at.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},at.locatePointInRing=function(t,e){return st.locatePointInRing(t,e)},at.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},at.computeOrientation=function(t,e,n){return at.orientationIndex(t,e,n)},at.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new m("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var r=at.distancePointLine(t,e[i],e[i+1]);r<n&&(n=r)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(l<=0)return o.distance(s);if(l>=1)return o.distance(a);var c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(c)*Math.sqrt(u)}},at.isOnLine=function(t,e){for(var n=new rt,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},ut.CLOCKWISE.get=function(){return-1},ut.RIGHT.get=function(){return at.CLOCKWISE},ut.COUNTERCLOCKWISE.get=function(){return 1},ut.LEFT.get=function(){return at.COUNTERCLOCKWISE},ut.COLLINEAR.get=function(){return 0},ut.STRAIGHT.get=function(){return at.COLLINEAR},Object.defineProperties(at,ut);var lt=function(){};lt.prototype.filter=function(t){},lt.prototype.interfaces_=function(){return[]},lt.prototype.getClass=function(){return lt};var ct=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},pt={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ct.prototype.isGeometryCollection=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION},ct.prototype.getFactory=function(){return this._factory},ct.prototype.getGeometryN=function(t){return this},ct.prototype.getArea=function(){return 0},ct.prototype.isRectangle=function(){return!1},ct.prototype.equals=function(){if(arguments[0]instanceof ct){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof ct))return!1;var n=e;return this.equalsExact(n)}},ct.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},ct.prototype.geometryChanged=function(){this.apply(ct.geometryChangedFilter)},ct.prototype.geometryChangedAction=function(){this._envelope=null},ct.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},ct.prototype.getLength=function(){return 0},ct.prototype.getNumGeometries=function(){return 1},ct.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,i)}},ct.prototype.getUserData=function(){return this._userData},ct.prototype.getSRID=function(){return this._SRID},ct.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ct.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION)throw new m("This method does not support GeometryCollection arguments")},ct.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},ct.prototype.norm=function(){var t=this.copy();return t.normalize(),t},ct.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ct.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new j(this._envelope)},ct.prototype.setSRID=function(t){this._SRID=t},ct.prototype.setUserData=function(t){this._userData=t},ct.prototype.compare=function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},ct.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ct.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ct.SORTINDEX_MULTIPOINT||this.getSortIndex()===ct.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ct.SORTINDEX_MULTIPOLYGON},ct.prototype.interfaces_=function(){return[x,E,e]},ct.prototype.getClass=function(){return ct},ct.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},ct.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},pt.serialVersionUID.get=function(){return 0x799ea46522854c00},pt.SORTINDEX_POINT.get=function(){return 0},pt.SORTINDEX_MULTIPOINT.get=function(){return 1},pt.SORTINDEX_LINESTRING.get=function(){return 2},pt.SORTINDEX_LINEARRING.get=function(){return 3},pt.SORTINDEX_MULTILINESTRING.get=function(){return 4},pt.SORTINDEX_POLYGON.get=function(){return 5},pt.SORTINDEX_MULTIPOLYGON.get=function(){return 6},pt.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},pt.geometryChangedFilter.get=function(){return ht},Object.defineProperties(ct,pt);var ht=function(){};ht.interfaces_=function(){return[lt]},ht.filter=function(t){t.geometryChangedAction()};var ft=function(){};ft.prototype.filter=function(t){},ft.prototype.interfaces_=function(){return[]},ft.prototype.getClass=function(){return ft};var gt=function(){},dt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};gt.prototype.isInBoundary=function(t){},gt.prototype.interfaces_=function(){return[]},gt.prototype.getClass=function(){return gt},dt.Mod2BoundaryNodeRule.get=function(){return yt},dt.EndPointBoundaryNodeRule.get=function(){return _t},dt.MultiValentEndPointBoundaryNodeRule.get=function(){return mt},dt.MonoValentEndPointBoundaryNodeRule.get=function(){return vt},dt.MOD2_BOUNDARY_RULE.get=function(){return new yt},dt.ENDPOINT_BOUNDARY_RULE.get=function(){return new _t},dt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new mt},dt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vt},dt.OGC_SFS_BOUNDARY_RULE.get=function(){return gt.MOD2_BOUNDARY_RULE},Object.defineProperties(gt,dt);var yt=function(){};yt.prototype.isInBoundary=function(t){return t%2==1},yt.prototype.interfaces_=function(){return[gt]},yt.prototype.getClass=function(){return yt};var _t=function(){};_t.prototype.isInBoundary=function(t){return t>0},_t.prototype.interfaces_=function(){return[gt]},_t.prototype.getClass=function(){return _t};var mt=function(){};mt.prototype.isInBoundary=function(t){return t>1},mt.prototype.interfaces_=function(){return[gt]},mt.prototype.getClass=function(){return mt};var vt=function(){};vt.prototype.isInBoundary=function(t){return 1===t},vt.prototype.interfaces_=function(){return[gt]},vt.prototype.getClass=function(){return vt};var It=function(){};It.prototype.add=function(){},It.prototype.addAll=function(){},It.prototype.isEmpty=function(){},It.prototype.iterator=function(){},It.prototype.size=function(){},It.prototype.toArray=function(){},It.prototype.remove=function(){},(n.prototype=new Error).name="IndexOutOfBoundsException";var Et=function(){};Et.prototype.hasNext=function(){},Et.prototype.next=function(){},Et.prototype.remove=function(){};var xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(It);(i.prototype=new Error).name="NoSuchElementException";var Nt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof It&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,It]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new Ct(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new n;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(xt),Ct=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new i;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Et),St=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.ensureCapacity(n.length),this.add(n,i)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var n=arguments[1],i=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),n),i=!0;return i}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],i=arguments[1];return this.add(n,i,!0),!0}if(arguments[0]instanceof C&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;t.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],u=arguments[1];if(arguments[2])for(var l=0;l<a.length;l++)this.add(a[l],u);else for(var c=a.length-1;c>=0;c--)this.add(a[c],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof C){var p=arguments[0],h=arguments[1];if(!arguments[2]){var f=this.size();if(f>0){if(p>0&&this.get(p-1).equals2D(h))return null;if(p<f&&this.get(p).equals2D(h))return null}}t.prototype.add.call(this,p,h)}}else if(4===arguments.length){var g=arguments[0],d=arguments[1],y=arguments[2],_=arguments[3],m=1;y>_&&(m=-1);for(var v=y;v!==_;v+=m)this.add(g[v],d);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new C(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(Nt),Lt=function(){},bt={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};bt.ForwardComparator.get=function(){return wt},bt.BidirectionalComparator.get=function(){return Ot},bt.coordArrayType.get=function(){return new Array(0).fill(null)},Lt.prototype.interfaces_=function(){return[]},Lt.prototype.getClass=function(){return Lt},Lt.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Lt.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(Lt.indexOf(i,e)<0)return i}return null},Lt.scroll=function(t,e){var n=Lt.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);Y.arraycopy(t,n,i,0,t.length-n),Y.arraycopy(t,0,i,t.length-n,n),Y.arraycopy(i,0,t,0,t.length)},Lt.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++)if(0!==o.compare(i[s],r[s]))return!1;return!0}},Lt.intersection=function(t,e){for(var n=new St,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},Lt.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Lt.removeRepeatedPoints=function(t){return Lt.hasRepeatedPoints(t)?new St(t,!1).toCoordinateArray():t},Lt.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},Lt.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,o=0;o<t.length;o++)null!==t[o]&&(i[r++]=t[o]);return i},Lt.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new C(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new C(i[r+u])},Lt.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},Lt.envelope=function(t){for(var e=new j,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Lt.toCoordinateArray=function(t){return t.toArray(Lt.coordArrayType)},Lt.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Lt.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Lt.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},Lt.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},Lt.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Lt.extract=function(t,e,n){e=R.clamp(e,0,t.length);var i=(n=R.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;s<=n;s++)r[o++]=t[s];return r},Object.defineProperties(Lt,bt);var wt=function(){};wt.prototype.compare=function(t,e){return Lt.compare(t,e)},wt.prototype.interfaces_=function(){return[N]},wt.prototype.getClass=function(){return wt};var Ot=function(){};Ot.prototype.compare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=Lt.compare(n,i);return Lt.isEqualReversed(n,i)?0:r},Ot.prototype.OLDcompare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=Lt.increasingDirection(n),o=Lt.increasingDirection(i),s=r>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(i[a]);if(0!==l)return l;s+=r,a+=o}return 0},Ot.prototype.interfaces_=function(){return[N]},Ot.prototype.getClass=function(){return Ot};var Tt=function(){};Tt.prototype.get=function(){},Tt.prototype.put=function(){},Tt.prototype.size=function(){},Tt.prototype.values=function(){},Tt.prototype.entrySet=function(){};var Rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Tt);(r.prototype=new Error).name="OperationNotSupported",(o.prototype=new It).contains=function(){};var Pt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof It&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Dt(this)},e}(o),Dt=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new i;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new r},e}(Et),Mt=0;(p.prototype=new Rt).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},p.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Mt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:Mt,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},p.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(a(t)===l(a(a(t)))){var e=c(a(a(t)));1===s(e)?(u(a(t),Mt),u(e,Mt),u(a(a(t)),1),t=a(a(t))):(t===c(a(t))&&(t=a(t),this.rotateLeft(t)),u(a(t),Mt),u(a(a(t)),1),this.rotateRight(a(a(t))))}else{var n=l(a(a(t)));1===s(n)?(u(a(t),Mt),u(n,Mt),u(a(a(t)),1),t=a(a(t))):(t===l(a(t))&&(t=a(t),this.rotateRight(t)),u(a(t),Mt),u(a(a(t)),1),this.rotateLeft(a(a(t))))}this.root_.color=Mt},p.prototype.values=function(){var t=new Nt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=p.successor(e));)t.add(e.value);return t},p.prototype.entrySet=function(){var t=new Pt,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=p.successor(e));)t.add(e);return t},p.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},p.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},p.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},p.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,i=t;null!==n&&i===n.right;)i=n,n=n.parent;return n},p.prototype.size=function(){return this.size_};var At=function(){};At.prototype.interfaces_=function(){return[]},At.prototype.getClass=function(){return At},h.prototype=new o,(f.prototype=new h).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},f.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},f.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},f.prototype.remove=function(t){throw new r},f.prototype.size=function(){return this.array_.length},f.prototype.isEmpty=function(){return 0===this.array_.length},f.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},f.prototype.iterator=function(){return new Ft(this)};var Ft=function(t){this.treeSet_=t,this.position_=0};Ft.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new i;return this.treeSet_.array_[this.position_++]},Ft.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Ft.prototype.remove=function(){throw new r};var Gt=function(){};Gt.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)i=function(t,e){return t.compareTo(e)},r.sort(i);else if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])},Gt.asList=function(t){for(var e=new Nt,n=0,i=t.length;n<i;n++)e.add(t[n]);return e};var qt=function(){},Bt={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Bt.P.get=function(){return 0},Bt.L.get=function(){return 1},Bt.A.get=function(){return 2},Bt.FALSE.get=function(){return-1},Bt.TRUE.get=function(){return-2},Bt.DONTCARE.get=function(){return-3},Bt.SYM_FALSE.get=function(){return"F"},Bt.SYM_TRUE.get=function(){return"T"},Bt.SYM_DONTCARE.get=function(){return"*"},Bt.SYM_P.get=function(){return"0"},Bt.SYM_L.get=function(){return"1"},Bt.SYM_A.get=function(){return"2"},qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt},qt.toDimensionSymbol=function(t){switch(t){case qt.FALSE:return qt.SYM_FALSE;case qt.TRUE:return qt.SYM_TRUE;case qt.DONTCARE:return qt.SYM_DONTCARE;case qt.P:return qt.SYM_P;case qt.L:return qt.SYM_L;case qt.A:return qt.SYM_A}throw new m("Unknown dimension value: "+t)},qt.toDimensionValue=function(t){switch(A.toUpperCase(t)){case qt.SYM_FALSE:return qt.FALSE;case qt.SYM_TRUE:return qt.TRUE;case qt.SYM_DONTCARE:return qt.DONTCARE;case qt.SYM_P:return qt.P;case qt.SYM_L:return qt.L;case qt.SYM_A:return qt.A}throw new m("Unknown dimension symbol: "+t)},Object.defineProperties(qt,Bt);var Vt=function(){};Vt.prototype.filter=function(t){},Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt};var Ut=function(){};Ut.prototype.filter=function(t,e){},Ut.prototype.isDone=function(){},Ut.prototype.isGeometryChanged=function(){},Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut};var zt=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new m("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new j,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._geometries.length!==i._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(i._geometries[r],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Gt.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=qt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=qt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new f(Gt.asList(this._geometries)),n=new f(Gt.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[1],o=arguments[0],s=this.getNumGeometries(),a=o.getNumGeometries(),u=0;u<s&&u<a;){var l=this.getGeometryN(u),c=o.getGeometryN(u),p=l.compareToSameClass(c,r);if(0!==p)return p;u++}return u<s?1:u<a?-1:0}},e.prototype.apply=function(){if(T(arguments[0],ft))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(T(arguments[0],Ut)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(T(arguments[0],Vt)){var r=arguments[0];r.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(r)}else if(T(arguments[0],lt)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),et.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(ct),Xt=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?qt.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Yt(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[At]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(zt),Yt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=gt.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=i}};Yt.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Yt.prototype.getBoundary=function(){return this._geom instanceof Kt?this.boundaryLineString(this._geom):this._geom instanceof Xt?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Yt.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Yt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Yt.prototype.computeBoundaryCoordinates=function(t){var e=new Nt;this._endpointMap=new p;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return Lt.toCoordinateArray(e)},Yt.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new kt,this._endpointMap.put(t,e)),e.count++},Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt},Yt.getBoundary=function(){return 1===arguments.length?new Yt(arguments[0]).getBoundary():2===arguments.length?new Yt(arguments[0],arguments[1]).getBoundary():void 0};var kt=function(){this.count=null};kt.prototype.interfaces_=function(){return[]},kt.prototype.getClass=function(){return kt};var jt=function(){},Ht={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt},jt.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return String(n)},jt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o="",s=new function(){}(new function(){}(jt.getStackTrace(i))),a=0;a<r;a++)try{o+=s.readLine()+jt.NEWLINE}catch(t){if(!(t instanceof g))throw t;et.shouldNeverReachHere()}return o}},jt.split=function(t,e){for(var n=e.length,i=new Nt,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);i.add(s),o=(r=r.substring(o+n)).indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},jt.toString=function(){if(1===arguments.length){var t=arguments[0];return jt.SIMPLE_ORDINATE_FORMAT.format(t)}},jt.spaces=function(t){return jt.chars(" ",t)},Ht.NEWLINE.get=function(){return Y.getProperty("line.separator")},Ht.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(jt,Ht);var Wt=function(){};Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt},Wt.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},Wt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,V.X)===t.getOrdinate(e-1,V.X)&&t.getOrdinate(0,V.Y)===t.getOrdinate(e-1,V.Y)},Wt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var s=t.getOrdinate(r,o),a=e.getOrdinate(r,o);if(!(t.getOrdinate(r,o)===e.getOrdinate(r,o)||v.isNaN(s)&&v.isNaN(a)))return!1}return!0},Wt.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(Wt.copy(e,0,i,0,r),r>0)for(var o=r;o<n;o++)Wt.copy(e,r-1,i,o,1);return i},Wt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)Wt.swap(t,i,e-i)},Wt.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},Wt.copy=function(t,e,n,i,r){for(var o=0;o<r;o++)Wt.copyCoord(t,e+o,n,i+o)},Wt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new D;i.append("(");for(var r=0;r<e;r++){r>0&&i.append(" ");for(var o=0;o<n;o++)o>0&&i.append(","),i.append(jt.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},Wt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Wt.createClosedRing(t,e,4):e.getOrdinate(0,V.X)===e.getOrdinate(n-1,V.X)&&e.getOrdinate(0,V.Y)===e.getOrdinate(n-1,V.Y)?e:Wt.createClosedRing(t,e,n+1)},Wt.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();Wt.copy(e,0,i,0,r);for(var o=r;o<n;o++)Wt.copy(e,0,i,o,1);return i};var Kt=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new j:this._points.expandEnvelope(new j)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._points.size()!==i._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),i._points.getCoordinate(r),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Wt.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?qt.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return at.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Wt.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var i=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}},e.prototype.apply=function(){if(T(arguments[0],ft))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(T(arguments[0],Ut)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else(T(arguments[0],Vt)||T(arguments[0],lt))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Yt(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new m("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[At]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(ct),Jt=function(){};Jt.prototype.interfaces_=function(){return[]},Jt.prototype.getClass=function(){return Jt};var Qt=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new j;var t=new j;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return qt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(T(arguments[0],ft)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(T(arguments[0],Ut)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(T(arguments[0],Vt)||T(arguments[0],lt))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),et.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Jt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(ct),Zt=function(){};Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt};var $t=function(t){function e(e,n,i){if(t.call(this,i),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new m("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new m("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(at.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(at.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),l=t.getY(a);if(u!==o==(l!==s))return!1;o=u,s=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e,r=this._shell,o=i._shell;if(!r.equalsExact(o,n))return!1;if(this._holes.length!==i._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(i._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Gt.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);Y.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=Lt.minCoordinate(e.getCoordinates());Lt.scroll(i,r),Y.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],at.isCCW(e.getCoordinates())===n&&Lt.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[1],o=arguments[0],s=this._shell,a=o._shell,u=s.compareToSameClass(a,r);if(0!==u)return u;for(var l=this.getNumInteriorRing(),c=o.getNumInteriorRing(),p=0;p<l&&p<c;){var h=this.getInteriorRingN(p),f=o.getInteriorRingN(p),g=h.compareToSameClass(f,r);if(0!==g)return g;p++}return p<l?1:p<c?-1:0}},e.prototype.apply=function(t){if(T(t,ft)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(T(t,Ut)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(T(t,Vt))t.filter(this);else if(T(t,lt)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)this._holes[i].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),i=0;i<n.length;i++)n[i]=this._holes[i].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(ct),te=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return qt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Jt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(zt),ee=function(t){function e(e,n){e instanceof C&&n instanceof _e&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return qt.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Wt.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new m("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new m("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Kt),ne=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Nt,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(zt),ie=function(t){this._factory=t||null,this._isUserDataCopied=!1},re={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};ie.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},ie.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},ie.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof zt?this.editGeometryCollection(t,e):t instanceof $t?this.editPolygon(t,e):t instanceof Qt||t instanceof Kt?e.edit(t,this._factory):(et.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},ie.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),i=new Nt,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===te?this._factory.createMultiPoint(i.toArray([])):n.getClass()===Xt?this._factory.createMultiLineString(i.toArray([])):n.getClass()===ne?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},ie.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var r=new Nt,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this._factory.createPolygon(i,r.toArray([]))},ie.prototype.interfaces_=function(){return[]},ie.prototype.getClass=function(){return ie},ie.GeometryEditorOperation=function(){},re.NoOpGeometryOperation.get=function(){return oe},re.CoordinateOperation.get=function(){return se},re.CoordinateSequenceOperation.get=function(){return ae},Object.defineProperties(ie,re);var oe=function(){};oe.prototype.edit=function(t,e){return t},oe.prototype.interfaces_=function(){return[ie.GeometryEditorOperation]},oe.prototype.getClass=function(){return oe};var se=function(){};se.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof ee?e.createLinearRing(n):t instanceof Kt?e.createLineString(n):t instanceof Qt?n.length>0?e.createPoint(n[0]):e.createPoint():t},se.prototype.interfaces_=function(){return[ie.GeometryEditorOperation]},se.prototype.getClass=function(){return se};var ae=function(){};ae.prototype.edit=function(t,e){return t instanceof ee?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Kt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Qt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ae.prototype.interfaces_=function(){return[ie.GeometryEditorOperation]},ae.prototype.getClass=function(){return ae};var ue=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new C}else if(T(arguments[0],V)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)this._coordinates[i]=n.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this._coordinates=r,this._dimension=o,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var u=0;u<s;u++)this._coordinates[u]=new C}},le={serialVersionUID:{configurable:!0}};ue.prototype.setOrdinate=function(t,e,n){switch(e){case V.X:this._coordinates[t].x=n;break;case V.Y:this._coordinates[t].y=n;break;case V.Z:this._coordinates[t].z=n;break;default:throw new m("invalid ordinateIndex")}},ue.prototype.size=function(){return this._coordinates.length},ue.prototype.getOrdinate=function(t,e){switch(e){case V.X:return this._coordinates[t].x;case V.Y:return this._coordinates[t].y;case V.Z:return this._coordinates[t].z}return v.NaN},ue.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},ue.prototype.getCoordinateCopy=function(t){return new C(this._coordinates[t])},ue.prototype.getDimension=function(){return this._dimension},ue.prototype.getX=function(t){return this._coordinates[t].x},ue.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new ue(t,this._dimension)},ue.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},ue.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new ue(t,this._dimension)},ue.prototype.toString=function(){if(this._coordinates.length>0){var t=new D(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},ue.prototype.getY=function(t){return this._coordinates[t].y},ue.prototype.toCoordinateArray=function(){return this._coordinates},ue.prototype.interfaces_=function(){return[V,e]},ue.prototype.getClass=function(){return ue},le.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ue,le);var ce=function(){},pe={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ce.prototype.readResolve=function(){return ce.instance()},ce.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new ue(arguments[0]);if(T(arguments[0],V))return new ue(arguments[0])}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new ue(n):new ue(n,i)}},ce.prototype.interfaces_=function(){return[b,e]},ce.prototype.getClass=function(){return ce},ce.instance=function(){return ce.instanceObject},pe.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},pe.instanceObject.get=function(){return new ce},Object.defineProperties(ce,pe);var he=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Nt,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Pt;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(Tt),fe=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof de){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}},ge={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};fe.prototype.equals=function(t){if(!(t instanceof fe))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},fe.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new M(n).compareTo(new M(i))},fe.prototype.getScale=function(){return this._scale},fe.prototype.isFloating=function(){return this._modelType===fe.FLOATING||this._modelType===fe.FLOATING_SINGLE},fe.prototype.getType=function(){return this._modelType},fe.prototype.toString=function(){var t="UNKNOWN";return this._modelType===fe.FLOATING?t="Floating":this._modelType===fe.FLOATING_SINGLE?t="Floating-Single":this._modelType===fe.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},fe.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return v.isNaN(t)||this._modelType===fe.FLOATING_SINGLE?t:this._modelType===fe.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof C){var e=arguments[0];if(this._modelType===fe.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},fe.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===fe.FLOATING?t=16:this._modelType===fe.FLOATING_SINGLE?t=6:this._modelType===fe.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},fe.prototype.setScale=function(t){this._scale=Math.abs(t)},fe.prototype.interfaces_=function(){return[e,E]},fe.prototype.getClass=function(){return fe},fe.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},ge.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},ge.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(fe,ge);var de=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},ye={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};de.prototype.readResolve=function(){return de.nameToTypeMap.get(this._name)},de.prototype.toString=function(){return this._name},de.prototype.interfaces_=function(){return[e]},de.prototype.getClass=function(){return de},ye.serialVersionUID.get=function(){return-552860263173159e4},ye.nameToTypeMap.get=function(){return new he},Object.defineProperties(de,ye),fe.Type=de,fe.FIXED=new de("FIXED"),fe.FLOATING=new de("FLOATING"),fe.FLOATING_SINGLE=new de("FLOATING SINGLE");var _e=function t(){this._precisionModel=new fe,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?T(arguments[0],b)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof fe&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},me={serialVersionUID:{configurable:!0}};_e.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new C(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new C(t.getMinX(),t.getMinY()),new C(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new C(t.getMinX(),t.getMinY()),new C(t.getMinX(),t.getMaxY()),new C(t.getMaxX(),t.getMaxY()),new C(t.getMaxX(),t.getMinY()),new C(t.getMinX(),t.getMinY())]),null)},_e.prototype.createLineString=function(t){return t?t instanceof Array?new Kt(this.getCoordinateSequenceFactory().create(t),this):T(t,V)?new Kt(t,this):void 0:new Kt(this.getCoordinateSequenceFactory().create([]),this)},_e.prototype.createMultiLineString=function(){return 0===arguments.length?new Xt(null,this):1===arguments.length?new Xt(arguments[0],this):void 0},_e.prototype.buildGeometry=function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(_e.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof $t)return this.createMultiPolygon(_e.toPolygonArray(t));if(a instanceof Kt)return this.createMultiLineString(_e.toLineStringArray(t));if(a instanceof Qt)return this.createMultiPoint(_e.toPointArray(t));et.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},_e.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},_e.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(T(arguments[0],V))return new Qt(arguments[0],this)}},_e.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},_e.prototype.createPolygon=function(){if(0===arguments.length)return new $t(null,null,this);if(1===arguments.length){if(T(arguments[0],V)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof ee){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new $t(arguments[0],arguments[1],this)},_e.prototype.getSRID=function(){return this._SRID},_e.prototype.createGeometryCollection=function(){return 0===arguments.length?new zt(null,this):1===arguments.length?new zt(arguments[0],this):void 0},_e.prototype.createGeometry=function(t){return new ie(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},_e.prototype.getPrecisionModel=function(){return this._precisionModel},_e.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(T(arguments[0],V))return new ee(arguments[0],this)}},_e.prototype.createMultiPolygon=function(){return 0===arguments.length?new ne(null,this):1===arguments.length?new ne(arguments[0],this):void 0},_e.prototype.createMultiPoint=function(){if(0===arguments.length)return new te(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new te(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(T(arguments[0],V)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),r=0;r<n.size();r++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Wt.copy(n,r,o,0,1),i[r]=this.createPoint(o)}return this.createMultiPoint(i)}}},_e.prototype.interfaces_=function(){return[e]},_e.prototype.getClass=function(){return _e},_e.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.getDefaultCoordinateSequenceFactory=function(){return ce.instance()},_e.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},me.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(_e,me);var ve=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Ie=function(t){this.geometryFactory=t||new _e};Ie.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!Ee[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==ve.indexOf(n)?Ee[n].apply(this,[e.coordinates]):"GeometryCollection"===n?Ee[n].apply(this,[e.geometries]):Ee[n].apply(this,[e])},Ie.prototype.write=function(t){var e=t.getGeometryType();if(!xe[e])throw new Error("Geometry is not supported");return xe[e].apply(this,[t])};var Ee={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!Ee[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Ee.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new C(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new C(t[0],t[1]),new C(t[2],t[1]),new C(t[2],t[3]),new C(t[0],t[3]),new C(t[0],t[1])])},Point:function(t){var e=new C(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Ee.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Ee.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Ee.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Ee.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],s=Ee.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(Ee.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},xe={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:xe.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=xe.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(xe.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=xe.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=xe.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],o=xe.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=xe.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(xe[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}},Ne=function(t){this.geometryFactory=t||new _e,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ie(this.geometryFactory)};Ne.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===fe.FIXED&&this.reducePrecision(e),e},Ne.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Ce=function(){this.parser=new Ie(this.geometryFactory)};Ce.prototype.write=function(t){return this.parser.write(t)};var Se=function(){},Le={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se},Se.opposite=function(t){return t===Se.LEFT?Se.RIGHT:t===Se.RIGHT?Se.LEFT:t},Le.ON.get=function(){return 0},Le.LEFT.get=function(){return 1},Le.RIGHT.get=function(){return 2},Object.defineProperties(Se,Le),(d.prototype=new Error).name="EmptyStackException",(y.prototype=new xt).add=function(t){return this.array_.push(t),!0},y.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},y.prototype.push=function(t){return this.array_.push(t),t},y.prototype.pop=function(t){if(0===this.array_.length)throw new d;return this.array_.pop()},y.prototype.peek=function(){if(0===this.array_.length)throw new d;return this.array_[this.array_.length-1]},y.prototype.empty=function(){return 0===this.array_.length},y.prototype.isEmpty=function(){return this.empty()},y.prototype.search=function(t){return this.array_.indexOf(t)},y.prototype.size=function(){return this.array_.length},y.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var be=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};be.prototype.getCoordinate=function(){return this._minCoord},be.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},be.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();et.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=at.computeOrientation(this._minCoord,n,e),r=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===at.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===at.CLOCKWISE)&&(r=!0),r&&(this._minIndex=this._minIndex-1)},be.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=Se.LEFT;return n[e].y<n[e+1].y&&(i=Se.RIGHT),i},be.prototype.getEdge=function(){return this._orientedDe},be.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},be.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},be.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}et.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Se.LEFT&&(this._orientedDe=this._minDe.getSym())},be.prototype.interfaces_=function(){return[]},be.prototype.getClass=function(){return be};var we=function(t){function e(n,i){t.call(this,e.msgWithCoord(n,i)),this.pt=i?new C(i):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}($),Oe=function(){this.array_=[]};Oe.prototype.addLast=function(t){this.array_.push(t)},Oe.prototype.removeFirst=function(){return this.array_.shift()},Oe.prototype.isEmpty=function(){return 0===this.array_.length};var Te=function(){this._finder=null,this._dirEdgeList=new Nt,this._nodes=new Nt,this._rightMostCoord=null,this._env=null,this._finder=new be};Te.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Te.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Te.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new we("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}},Te.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Se.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Te.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Te.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Se.RIGHT)>=1&&e.getDepth(Se.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Te.prototype.computeDepths=function(t){var e=new Pt,n=new Oe,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Te.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Te.prototype.getEnvelope=function(){if(null===this._env){for(var t=new j,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env},Te.prototype.addReachable=function(t){var e=new y;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Te.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Se.LEFT,t.getDepth(Se.RIGHT)),e.setDepth(Se.RIGHT,t.getDepth(Se.LEFT))},Te.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}},Te.prototype.getNodes=function(){return this._nodes},Te.prototype.getDirectedEdges=function(){return this._dirEdgeList},Te.prototype.interfaces_=function(){return[E]},Te.prototype.getClass=function(){return Te};var Re=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Se.ON]=n}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[Se.ON]=o,this.location[Se.LEFT]=s,this.location[Se.RIGHT]=a}};Re.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Re.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==w.NONE)return!1;return!0},Re.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===w.NONE&&(this.location[e]=t)},Re.prototype.isLine=function(){return 1===this.location.length},Re.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Se.ON]=this.location[Se.ON],e[Se.LEFT]=w.NONE,e[Se.RIGHT]=w.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===w.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Re.prototype.getLocations=function(){return this.location},Re.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Se.LEFT];this.location[Se.LEFT]=this.location[Se.RIGHT],this.location[Se.RIGHT]=t},Re.prototype.toString=function(){var t=new D;return this.location.length>1&&t.append(w.toLocationSymbol(this.location[Se.LEFT])),t.append(w.toLocationSymbol(this.location[Se.ON])),this.location.length>1&&t.append(w.toLocationSymbol(this.location[Se.RIGHT])),t.toString()},Re.prototype.setLocations=function(t,e,n){this.location[Se.ON]=t,this.location[Se.LEFT]=e,this.location[Se.RIGHT]=n},Re.prototype.get=function(t){return t<this.location.length?this.location[t]:w.NONE},Re.prototype.isArea=function(){return this.location.length>1},Re.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===w.NONE)return!0;return!1},Re.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Se.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Re.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(w.NONE)},Re.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Re.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re};var Pe=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Re(e),this.elt[1]=new Re(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Re(n.elt[0]),this.elt[1]=new Re(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new Re(w.NONE),this.elt[1]=new Re(w.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Re(o,s,a),this.elt[1]=new Re(o,s,a)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],p=arguments[3];this.elt[0]=new Re(w.NONE,w.NONE,w.NONE),this.elt[1]=new Re(w.NONE,w.NONE,w.NONE),this.elt[u].setLocations(l,c,p)}};Pe.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Pe.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Pe.prototype.isNull=function(t){return this.elt[t].isNull()},Pe.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Pe.prototype.isLine=function(t){return this.elt[t].isLine()},Pe.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Re(t.elt[e]):this.elt[e].merge(t.elt[e])},Pe.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Pe.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Se.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Pe.prototype.toString=function(){var t=new D;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Pe.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Pe.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Pe.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Se.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},Pe.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Pe.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Pe.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Re(this.elt[t].location[0]))},Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe},Pe.toLineLabel=function(t){for(var e=new Pe(w.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var De=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Nt,this._pts=new Nt,this._label=new Pe(w.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Nt,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};De.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=at.isCCW(this._ring.getCoordinates())},De.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},De.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new we("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new we("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var i=e.getLabel();et.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},De.prototype.getLinearRing=function(){return this._ring},De.prototype.getCoordinate=function(t){return this._pts.get(t)},De.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},De.prototype.addPoints=function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this._pts.add(i[o])}else{var s=i.length-2;n&&(s=i.length-1);for(var a=s;a>=0;a--)this._pts.add(i[a])}},De.prototype.isHole=function(){return this._isHole},De.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},De.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!at.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},De.prototype.addHole=function(t){this._holes.add(t)},De.prototype.isShell=function(){return null===this._shell},De.prototype.getLabel=function(){return this._label},De.prototype.getEdges=function(){return this._edges},De.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},De.prototype.getShell=function(){return this._shell},De.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var n=arguments[1],i=arguments[0].getLocation(n,Se.RIGHT);if(i===w.NONE)return null;if(this._label.getLocation(n)===w.NONE)return this._label.setLocation(n,i),null}},De.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},De.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},De.prototype.interfaces_=function(){return[]},De.prototype.getClass=function(){return De};var Me=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(De),Ae=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Nt,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Me(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(De),Fe=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Fe.prototype.setVisited=function(t){this._isVisited=t},Fe.prototype.setInResult=function(t){this._isInResult=t},Fe.prototype.isCovered=function(){return this._isCovered},Fe.prototype.isCoveredSet=function(){return this._isCoveredSet},Fe.prototype.setLabel=function(t){this._label=t},Fe.prototype.getLabel=function(){return this._label},Fe.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Fe.prototype.updateIM=function(t){et.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Fe.prototype.isInResult=function(){return this._isInResult},Fe.prototype.isVisited=function(){return this._isVisited},Fe.prototype.interfaces_=function(){return[]},Fe.prototype.getClass=function(){return Fe};var Ge=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Pe(0,w.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=w.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==w.BOUNDARY&&(n=i)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Pe(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Pe)for(var n=arguments[0],i=0;i<2;i++){var r=this.computeMergedLocation(n,i);this._label.getLocation(i)===w.NONE&&this._label.setLocation(i,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=w.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case w.BOUNDARY:n=w.INTERIOR;break;case w.INTERIOR:default:n=w.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Fe),qe=function(){this.nodeMap=new p,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};qe.prototype.find=function(t){return this.nodeMap.get(t)},qe.prototype.addNode=function(){if(arguments[0]instanceof C){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Ge){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}},qe.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},qe.prototype.iterator=function(){return this.nodeMap.values().iterator()},qe.prototype.values=function(){return this.nodeMap.values()},qe.prototype.getBoundaryNodes=function(t){for(var e=new Nt,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===w.BOUNDARY&&e.add(i)}return e},qe.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe};var Be=function(){},Ve={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Be.prototype.interfaces_=function(){return[]},Be.prototype.getClass=function(){return Be},Be.isNorthern=function(t){return t===Be.NE||t===Be.NW},Be.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Be.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Be.isInHalfPlane=function(t,e){return e===Be.SE?t===Be.SE||t===Be.SW:t===e||t===e+1},Be.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new m("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Be.NE:Be.SE:e>=0?Be.NW:Be.SW}if(arguments[0]instanceof C&&arguments[1]instanceof C){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new m("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?Be.NE:Be.SE:i.y>=n.y?Be.NW:Be.SW}},Ve.NE.get=function(){return 0},Ve.NW.get=function(){return 1},Ve.SW.get=function(){return 2},Ve.SE.get=function(){return 3},Object.defineProperties(Be,Ve);var Ue=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];this._edge=e,this.init(n,i),this._label=null}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=r,this.init(o,s),this._label=a}};Ue.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:at.computeOrientation(t._p0,t._p1,this._p1)},Ue.prototype.getDy=function(){return this._dy},Ue.prototype.getCoordinate=function(){return this._p0},Ue.prototype.setNode=function(t){this._node=t},Ue.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Ue.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Ue.prototype.getDirectedCoordinate=function(){return this._p1},Ue.prototype.getDx=function(){return this._dx},Ue.prototype.getLabel=function(){return this._label},Ue.prototype.getEdge=function(){return this._edge},Ue.prototype.getQuadrant=function(){return this._quadrant},Ue.prototype.getNode=function(){return this._node},Ue.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Ue.prototype.computeLabel=function(t){},Ue.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Be.quadrant(this._dx,this._dy),et.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Ue.prototype.interfaces_=function(){return[E]},Ue.prototype.getClass=function(){return Ue};var ze=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var i=e.getNumPoints()-1;this.init(e.getCoordinate(i),e.getCoordinate(i-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Pe(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new we("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Se.LEFT)===w.INTERIOR&&this._label.getLocation(e,Se.RIGHT)===w.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Se.LEFT]+"/"+this._depth[Se.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,w.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,w.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===Se.LEFT&&(i=-1);var r=Se.opposite(t),o=e+n*i;this.setDepth(t,e),this.setDepth(r,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===w.EXTERIOR&&e===w.INTERIOR?1:t===w.INTERIOR&&e===w.EXTERIOR?-1:0},e}(Ue),Xe=function(){};Xe.prototype.createNode=function(t){return new Ge(t,null)},Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe};var Ye=function(){if(this._edges=new Nt,this._nodes=null,this._edgeEndList=new Nt,0===arguments.length)this._nodes=new qe(new Xe);else if(1===arguments.length){var t=arguments[0];this._nodes=new qe(t)}};Ye.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Ye.prototype.find=function(t){return this._nodes.find(t)},Ye.prototype.addNode=function(){if(arguments[0]instanceof Ge){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof C){var e=arguments[0];return this._nodes.addNode(e)}},Ye.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ye.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Ye.prototype.debugPrintln=function(t){Y.out.println(t)},Ye.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===w.BOUNDARY},Ye.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Ye.prototype.matchInSameDirection=function(t,e,n,i){return!!t.equals(n)&&at.computeOrientation(t,e,i)===at.COLLINEAR&&Be.quadrant(t,e)===Be.quadrant(n,i)},Ye.prototype.getEdgeEnds=function(){return this._edgeEndList},Ye.prototype.debugPrint=function(t){Y.out.print(t)},Ye.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ye.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},Ye.prototype.insertEdge=function(t){this._edges.add(t)},Ye.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Ye.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new ze(n,!0),r=new ze(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},Ye.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Ye.prototype.getNodes=function(){return this._nodes.values()},Ye.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye},Ye.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var ke=function(){this._geometryFactory=null,this._shellList=new Nt;var t=arguments[0];this._geometryFactory=t};ke.prototype.sortShellsAndHoles=function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},ke.prototype.computePolygons=function(t){for(var e=new Nt,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e},ke.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new we("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},ke.prototype.buildMinimalEdgeRings=function(t,e,n){for(var i=new Nt,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(o)}return i},ke.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},ke.prototype.buildMaximalEdgeRings=function(t){for(var e=new Nt,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new Ae(i,this._geometryFactory);e.add(r),r.setInResult()}}return e},ke.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},ke.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},ke.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var p=!1;c.contains(i)&&at.isPointInRing(r,l.getCoordinates())&&(p=!0),p&&(null===o||s.contains(c))&&(o=u)}return o},ke.prototype.findShell=function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return et.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},ke.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Ye.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new Nt,o=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},ke.prototype.interfaces_=function(){return[]},ke.prototype.getClass=function(){return ke};var je=function(){};je.prototype.getBounds=function(){},je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je};var He=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};He.prototype.getItem=function(){return this._item},He.prototype.getBounds=function(){return this._bounds},He.prototype.interfaces_=function(){return[je,e]},He.prototype.getClass=function(){return He};var We=function(){this._size=null,this._items=null,this._size=0,this._items=new Nt,this._items.add(null)};We.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},We.prototype.size=function(){return this._size},We.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},We.prototype.clear=function(){this._size=0,this._items.clear()},We.prototype.isEmpty=function(){return 0===this._size},We.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},We.prototype.interfaces_=function(){return[]},We.prototype.getClass=function(){return We};var Ke=function(){};Ke.prototype.visitItem=function(t){},Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke};var Je=function(){};Je.prototype.insert=function(t,e){},Je.prototype.remove=function(t,e){},Je.prototype.query=function(){},Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je};var Qe=function(){if(this._childBoundables=new Nt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Ze={serialVersionUID:{configurable:!0}};Qe.prototype.getLevel=function(){return this._level},Qe.prototype.size=function(){return this._childBoundables.size()},Qe.prototype.getChildBoundables=function(){return this._childBoundables},Qe.prototype.addChildBoundable=function(t){et.isTrue(null===this._bounds),this._childBoundables.add(t)},Qe.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Qe.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Qe.prototype.interfaces_=function(){return[je,e]},Qe.prototype.getClass=function(){return Qe},Ze.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Qe,Ze);var $e=function(){};$e.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},$e.min=function(t){return $e.sort(t),t.get(0)},$e.sort=function(t,e){var n=t.toArray();e?Gt.sort(n,e):Gt.sort(n);for(var i=t.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},$e.singletonList=function(t){var e=new Nt;return e.add(t),e};var tn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tn.prototype.expandToQueue=function(t,e){var n=tn.isComposite(this._boundable1),i=tn.isComposite(this._boundable2);if(n&&i)return tn.area(this._boundable1)>tn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new m("neither boundable is composite")},tn.prototype.isLeaves=function(){return!(tn.isComposite(this._boundable1)||tn.isComposite(this._boundable2))},tn.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tn.prototype.expand=function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next(),s=new tn(o,e,this._itemDistance);s.getDistance()<i&&n.add(s)}},tn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tn.prototype.getDistance=function(){return this._distance},tn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tn.prototype.interfaces_=function(){return[E]},tn.prototype.getClass=function(){return tn},tn.area=function(t){return t.getBounds().getArea()},tn.isComposite=function(t){return t instanceof Qe};var en=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Nt,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];et.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(t){return t.get(t.size()-1)},en.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Qe?t+=this.size(n):n instanceof He&&(t+=1)}return t}},en.prototype.removeItem=function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof He&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},en.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Nt:t}if(1===arguments.length){for(var e=arguments[0],n=new Nt,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof Qe){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof He?n.add(r.getItem()):et.shouldNeverReachHere()}return n.size()<=0?null:n}},en.prototype.insert=function(t,e){et.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new He(t,e))},en.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Nt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(et.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Qe?this.boundablesAtLevel(n,s,r):(et.isTrue(s instanceof He),-1===n&&r.add(s))}return null}},en.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Nt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,i)}else if(3===arguments.length)if(T(arguments[2],Ke)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe)for(var r=arguments[0],s=arguments[2],a=arguments[1].getChildBoundables(),u=0;u<a.size();u++){var l=a.get(u);this.getIntersectsOp().intersects(l.getBounds(),r)&&(l instanceof Qe?this.query(r,l,s):l instanceof He?s.visitItem(l.getItem()):et.shouldNeverReachHere())}else if(T(arguments[2],xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe)for(var c=arguments[0],h=arguments[2],f=arguments[1].getChildBoundables(),g=0;g<f.size();g++){var d=f.get(g);this.getIntersectsOp().intersects(d.getBounds(),c)&&(d instanceof Qe?this.query(c,d,h):d instanceof He?h.add(d.getItem()):et.shouldNeverReachHere())}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Qe&&(o=this.remove(n,u,r))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},en.prototype.createHigherLevels=function(t,e){et.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},en.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Qe){var i=this.depth(n);i>t&&(t=i)}}return t+1}},en.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var n=new Nt;n.add(this.createNode(e));var i=new Nt(t);$e.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[e]},en.prototype.getClass=function(){return en},en.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,nn);var rn=function(){},on=function(){};on.prototype.distance=function(t,e){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var sn=function(t){function n(e){e=e||n.DEFAULT_NODE_CAPACITY,t.call(this,e)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var i={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(t,e){et.isTrue(t.length>0);for(var n=new Nt,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},n.prototype.createNode=function(t){return new an(t)},n.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new Nt;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i},n.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];t.prototype.query.call(this,n,i)}else if(3===arguments.length)if(T(arguments[2],Ke)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe){var r=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,r,o,s)}else if(T(arguments[2],xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe){var a=arguments[0],u=arguments[1],l=arguments[2];t.prototype.query.call(this,a,u,l)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},n.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new Nt(t);$e.sort(r,n.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(o,e)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(T(arguments[0],on)){var t=arguments[0],e=new tn(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof tn){var i=arguments[0];return this.nearestNeighbour(i,v.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&T(arguments[1],on)){var r=arguments[0],o=arguments[1],s=new tn(this.getRoot(),r.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof tn&&"number"==typeof arguments[1]){var a=arguments[0],u=arguments[1],l=null,c=new We;for(c.add(a);!c.isEmpty()&&u>0;){var p=c.poll(),h=p.getDistance();if(h>=u)break;p.isLeaves()?(u=h,l=p):p.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[2],y=new He(arguments[0],arguments[1]),_=new tn(this.getRoot(),y,d);return this.nearestNeighbour(_)[0]}},n.prototype.interfaces_=function(){return[Je,e]},n.prototype.getClass=function(){return n},n.centreX=function(t){return n.avg(t.getMinX(),t.getMaxX())},n.avg=function(t,e){return(t+e)/2},n.centreY=function(t){return n.avg(t.getMinY(),t.getMaxY())},i.STRtreeNode.get=function(){return an},i.serialVersionUID.get=function(){return 0x39920f7d5f261e0},i.xComparator.get=function(){return{interfaces_:function(){return[N]},compare:function(e,i){return t.compareDoubles(n.centreX(e.getBounds()),n.centreX(i.getBounds()))}}},i.yComparator.get=function(){return{interfaces_:function(){return[N]},compare:function(e,i){return t.compareDoubles(n.centreY(e.getBounds()),n.centreY(i.getBounds()))}}},i.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},i.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,i),n}(en),an=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new j(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Qe),un=function(){};un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un},un.relativeSign=function(t,e){return t<e?-1:t>e?1:0},un.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=un.relativeSign(e.x,n.x),r=un.relativeSign(e.y,n.y);switch(t){case 0:return un.compareValue(i,r);case 1:return un.compareValue(r,i);case 2:return un.compareValue(r,-i);case 3:return un.compareValue(-i,r);case 4:return un.compareValue(-i,-r);case 5:return un.compareValue(-r,-i);case 6:return un.compareValue(-r,i);case 7:return un.compareValue(i,-r)}return et.shouldNeverReachHere("invalid octant value"),0},un.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var ln=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new C(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))};ln.prototype.getCoordinate=function(){return this.coord},ln.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},ln.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:un.compare(this._segmentOctant,this.coord,e.coord)},ln.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},ln.prototype.isInterior=function(){return this._isInterior},ln.prototype.interfaces_=function(){return[E]},ln.prototype.getClass=function(){return ln};var cn=function(){this._nodeMap=new p,this._edge=null;var t=arguments[0];this._edge=t};cn.prototype.getSplitCoordinates=function(){var t=new St;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},cn.prototype.addCollapsedNodes=function(){var t=new Nt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},cn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},cn.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(new M(e+1))}},cn.prototype.addEdgeCoordinates=function(t,e,n){var i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);n.add(new C(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));r&&n.add(new C(e.coord))},cn.prototype.iterator=function(){return this._nodeMap.values().iterator()},cn.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},cn.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},cn.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new M(e[0])),i=r}},cn.prototype.getEdge=function(){return this._edge},cn.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},cn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new C(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return r&&(o[s]=new C(e.coord)),new gn(o,this._edge.getData())},cn.prototype.add=function(t,e){var n=new ln(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(et.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)},cn.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new $("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new $("bad split edge end point at "+r)},cn.prototype.interfaces_=function(){return[]},cn.prototype.getClass=function(){return cn};var pn=function(){};pn.prototype.interfaces_=function(){return[]},pn.prototype.getClass=function(){return pn},pn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new m("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof C&&arguments[1]instanceof C){var r=arguments[0],o=arguments[1],s=o.x-r.x,a=o.y-r.y;if(0===s&&0===a)throw new m("Cannot compute the octant for two identical points "+r);return pn.octant(s,a)}};var hn=function(){};hn.prototype.getCoordinates=function(){},hn.prototype.size=function(){},hn.prototype.getCoordinate=function(t){},hn.prototype.isClosed=function(){},hn.prototype.setData=function(t){},hn.prototype.getData=function(){},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn};var fn=function(){};fn.prototype.addIntersection=function(t,e){},fn.prototype.interfaces_=function(){return[hn]},fn.prototype.getClass=function(){return fn};var gn=function(){this._nodeList=new cn(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};gn.prototype.getCoordinates=function(){return this._pts},gn.prototype.size=function(){return this._pts.length},gn.prototype.getCoordinate=function(t){return this._pts[t]},gn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},gn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},gn.prototype.setData=function(t){this._data=t},gn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:pn.octant(t,e)},gn.prototype.getData=function(){return this._data},gn.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var i=arguments[1],r=arguments[3],o=new C(arguments[0].getIntersection(r));this.addIntersection(o,i)}},gn.prototype.toString=function(){return Z.toLineString(new ue(this._pts))},gn.prototype.getNodeList=function(){return this._nodeList},gn.prototype.addIntersectionNode=function(t,e){var n=e,i=n+1;if(i<this._pts.length){var r=this._pts[i];t.equals2D(r)&&(n=i)}return this._nodeList.add(t,n)},gn.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},gn.prototype.interfaces_=function(){return[fn]},gn.prototype.getClass=function(){return gn},gn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Nt;return gn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var i=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(i)};var dn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new C,this.p1=new C;else if(1===arguments.length){var t=arguments[0];this.p0=new C(t.p0),this.p1=new C(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];this.p0=new C(e,n),this.p1=new C(i,r)}},yn={serialVersionUID:{configurable:!0}};dn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},dn.prototype.orientationIndex=function(){if(arguments[0]instanceof dn){var t=arguments[0],e=at.orientationIndex(this.p0,this.p1,t.p0),n=at.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof C){var i=arguments[0];return at.orientationIndex(this.p0,this.p1,i)}},dn.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},dn.prototype.isVertical=function(){return this.p0.x===this.p1.x},dn.prototype.equals=function(t){if(!(t instanceof dn))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},dn.prototype.intersection=function(t){var e=new rt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},dn.prototype.project=function(){if(arguments[0]instanceof C){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new C(t);var e=this.projectionFactor(t),n=new C;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof dn){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(r<=0&&o<=0)return null;var s=this.project(i.p0);r<0&&(s=this.p0),r>1&&(s=this.p1);var a=this.project(i.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new dn(s,a)}},dn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},dn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},dn.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},dn.prototype.distancePerpendicular=function(t){return at.distancePointLinePerpendicular(t,this.p0,this.p1)},dn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},dn.prototype.midPoint=function(){return dn.midPoint(this.p0,this.p1)},dn.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?v.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},dn.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=v.MAX_VALUE,r=null,o=this.closestPoint(t.p0);i=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(r=s.distance(t.p1))<i&&(i=r,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(r=u.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=u),n},dn.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},dn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},dn.prototype.getLength=function(){return this.p0.distance(this.p1)},dn.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},dn.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},dn.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},dn.prototype.lineIntersection=function(t){try{return k.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof X))throw t}return null},dn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},dn.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*r/s,u=e*o/s}return new C(n-u,i+a)},dn.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},dn.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||v.isNaN(e))&&(e=1),e},dn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},dn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},dn.prototype.distance=function(){if(arguments[0]instanceof dn){var t=arguments[0];return at.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof C){var e=arguments[0];return at.distancePointLine(e,this.p0,this.p1)}},dn.prototype.pointAlong=function(t){var e=new C;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},dn.prototype.hashCode=function(){var t=v.doubleToLongBits(this.p0.x);t^=31*v.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=v.doubleToLongBits(this.p1.x);return n^=31*v.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},dn.prototype.interfaces_=function(){return[E,e]},dn.prototype.getClass=function(){return dn},dn.midPoint=function(t,e){return new C((t.x+e.x)/2,(t.y+e.y)/2)},yn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(dn,yn);var _n=function(){this.tempEnv1=new j,this.tempEnv2=new j,this._overlapSeg1=new dn,this._overlapSeg2=new dn};_n.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var e=arguments[1],n=arguments[2],i=arguments[3];arguments[0].getLineSegment(e,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n};var mn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i};mn.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},mn.prototype.computeSelect=function(t,e,n,i){var r=this._pts[e],o=this._pts[n];if(i.tempEnv1.init(r,o),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,i),s<n&&this.computeSelect(t,s,n,i)},mn.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},mn.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},mn.prototype.setId=function(t){this._id=t},mn.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},mn.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new j(t,e)}return this._env},mn.prototype.getEndIndex=function(){return this._end},mn.prototype.getStartIndex=function(){return this._start},mn.prototype.getContext=function(){return this._context},mn.prototype.getId=function(){return this._id},mn.prototype.computeOverlapsInternal=function(t,e,n,i,r,o){var s=this._pts[t],a=this._pts[e],u=n._pts[i],l=n._pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),p=Math.trunc((i+r)/2);t<c&&(i<p&&this.computeOverlapsInternal(t,c,n,i,p,o),p<r&&this.computeOverlapsInternal(t,c,n,p,r,o)),c<e&&(i<p&&this.computeOverlapsInternal(c,e,n,i,p,o),p<r&&this.computeOverlapsInternal(c,e,n,p,r,o))},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn};var vn=function(){};vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.getChainStartIndices=function(t){var e=0,n=new Nt;n.add(new M(e));do{var i=vn.findChainEnd(t,e);n.add(new M(i)),e=i}while(e<t.length-1);return vn.toIntArray(n)},vn.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=Be.quadrant(t[n],t[n+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||Be.quadrant(t[r-1],t[r])===i);)r++;return r-1},vn.getChains=function(){if(1===arguments.length){var t=arguments[0];return vn.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new Nt,r=vn.getChainStartIndices(e),o=0;o<r.length-1;o++){var s=new mn(e,r[o],r[o+1],n);i.add(s)}return i}},vn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var In=function(){};In.prototype.computeNodes=function(t){},In.prototype.getNodedSubstrings=function(){},In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In};var En=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};En.prototype.setSegmentIntersector=function(t){this._segInt=t},En.prototype.interfaces_=function(){return[In]},En.prototype.getClass=function(){return En};var xn=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Nt,this._index=new sn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return gn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=vn.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new Nn(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return Nn},Object.defineProperties(e,n),e}(En),Nn=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var n=arguments[1],i=arguments[2],r=arguments[3],o=arguments[0].getContext(),s=i.getContext();this._si.processIntersections(o,n,s,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(_n),Cn=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},Sn={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Cn.prototype.getEndCapStyle=function(){return this._endCapStyle},Cn.prototype.isSingleSided=function(){return this._isSingleSided},Cn.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Cn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Cn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Cn.JOIN_ROUND&&(this._quadrantSegments=Cn.DEFAULT_QUADRANT_SEGMENTS)},Cn.prototype.getJoinStyle=function(){return this._joinStyle},Cn.prototype.setJoinStyle=function(t){this._joinStyle=t},Cn.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Cn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Cn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Cn.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Cn.prototype.getMitreLimit=function(){return this._mitreLimit},Cn.prototype.setMitreLimit=function(t){this._mitreLimit=t},Cn.prototype.setSingleSided=function(t){this._isSingleSided=t},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn},Cn.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Sn.CAP_ROUND.get=function(){return 1},Sn.CAP_FLAT.get=function(){return 2},Sn.CAP_SQUARE.get=function(){return 3},Sn.JOIN_ROUND.get=function(){return 1},Sn.JOIN_MITRE.get=function(){return 2},Sn.JOIN_BEVEL.get=function(){return 3},Sn.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Sn.DEFAULT_MITRE_LIMIT.get=function(){return 5},Sn.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Cn,Sn);var Ln=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=at.COUNTERCLOCKWISE,this._inputLine=t||null},bn={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ln.prototype.isDeletable=function(t,e,n,i){var r=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(r,o,s)&&!!this.isShallow(r,o,s,i)&&this.isShallowSampled(r,o,t,n,i)},Ln.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),i=!1;n<this._inputLine.length;){var r=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Ln.DELETE,r=!0,i=!0),t=r?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},Ln.prototype.isShallowConcavity=function(t,e,n,i){return at.computeOrientation(t,e,n)===this._angleOrientation&&at.distancePointLine(e,t,n)<i},Ln.prototype.isShallowSampled=function(t,e,n,i,r){var o=Math.trunc((i-n)/Ln.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<i;s+=o)if(!this.isShallow(t,e,this._inputLine[s],r))return!1;return!0},Ln.prototype.isConcave=function(t,e,n){return at.computeOrientation(t,e,n)===this._angleOrientation},Ln.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=at.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Ln.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Ln.DELETE;)e++;return e},Ln.prototype.isShallow=function(t,e,n,i){return at.distancePointLine(e,t,n)<i},Ln.prototype.collapseLine=function(){for(var t=new St,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Ln.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln},Ln.simplify=function(t,e){return new Ln(t).simplify(e)},bn.INIT.get=function(){return 0},bn.DELETE.get=function(){return 1},bn.KEEP.get=function(){return 1},bn.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Ln,bn);var wn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Nt},On={COORDINATE_ARRAY_TYPE:{configurable:!0}};wn.prototype.getCoordinates=function(){return this._ptList.toArray(wn.COORDINATE_ARRAY_TYPE)},wn.prototype.setPrecisionModel=function(t){this._precisionModel=t},wn.prototype.addPt=function(t){var e=new C(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},wn.prototype.revere=function(){},wn.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},wn.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},wn.prototype.toString=function(){return(new _e).createLineString(this.getCoordinates()).toString()},wn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new C(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},wn.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},wn.prototype.interfaces_=function(){return[]},wn.prototype.getClass=function(){return wn},On.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(wn,On);var Tn=function(){},Rn={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Tn.toDegrees=function(t){return 180*t/Math.PI},Tn.normalize=function(t){for(;t>Math.PI;)t-=Tn.PI_TIMES_2;for(;t<=-Math.PI;)t+=Tn.PI_TIMES_2;return t},Tn.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},Tn.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0},Tn.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0},Tn.interiorAngle=function(t,e,n){var i=Tn.angle(e,t),r=Tn.angle(e,n);return Math.abs(r-i)},Tn.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Tn.PI_TIMES_2;t>=Tn.PI_TIMES_2&&(t=0)}else{for(;t>=Tn.PI_TIMES_2;)t-=Tn.PI_TIMES_2;t<0&&(t=0)}return t},Tn.angleBetween=function(t,e,n){var i=Tn.angle(e,t),r=Tn.angle(e,n);return Tn.diff(i,r)},Tn.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Tn.toRadians=function(t){return t*Math.PI/180},Tn.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Tn.COUNTERCLOCKWISE:n<0?Tn.CLOCKWISE:Tn.NONE},Tn.angleBetweenOriented=function(t,e,n){var i=Tn.angle(e,t),r=Tn.angle(e,n)-i;return r<=-Math.PI?r+Tn.PI_TIMES_2:r>Math.PI?r-Tn.PI_TIMES_2:r},Rn.PI_TIMES_2.get=function(){return 2*Math.PI},Rn.PI_OVER_2.get=function(){return Math.PI/2},Rn.PI_OVER_4.get=function(){return Math.PI/4},Rn.COUNTERCLOCKWISE.get=function(){return at.COUNTERCLOCKWISE},Rn.CLOCKWISE.get=function(){return at.CLOCKWISE},Rn.NONE.get=function(){return at.COLLINEAR},Object.defineProperties(Tn,Rn);var Pn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new dn,this._seg1=new dn,this._offset0=new dn,this._offset1=new dn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new rt,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Cn.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},Dn={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Pn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=at.computeOrientation(this._s0,this._s1,this._s2),i=n===at.CLOCKWISE&&this._side===Se.LEFT||n===at.COUNTERCLOCKWISE&&this._side===Se.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Pn.prototype.addLineEndCap=function(t,e){var n=new dn(t,e),i=new dn;this.computeOffsetSegment(n,Se.LEFT,this._distance,i);var r=new dn;this.computeOffsetSegment(n,Se.RIGHT,this._distance,r);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case Cn.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,at.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case Cn.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case Cn.CAP_SQUARE:var u=new C;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var l=new C(i.p1.x+u.x,i.p1.y+u.y),c=new C(r.p1.x+u.x,r.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}},Pn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Pn.prototype.addMitreJoin=function(t,e,n,i){var r=!0,o=null;try{o=k.intersection(e.p0,e.p1,n.p0,n.p1),(i<=0?1:o.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof X))throw t;o=new C(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},Pn.prototype.addFilletCorner=function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);i===at.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,i,r),this._segList.addPt(n)},Pn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Pn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Cn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Cn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Pn.prototype.createSquare=function(t){this._segList.addPt(new C(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new C(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new C(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new C(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Pn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Pn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Pn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Pn.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Pn.prototype.addLimitedMitreJoin=function(t,e,n,i){var r=this._seg0.p1,o=Tn.angle(r,this._seg0.p0),s=Tn.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,a=Tn.normalize(o+s),u=Tn.normalize(a+Math.PI),l=i*n,c=n-l*Math.abs(Math.sin(s)),p=r.x+l*Math.cos(u),h=r.y+l*Math.sin(u),f=new C(p,h),g=new dn(r,f),d=g.pointAlongOffset(1,c),y=g.pointAlongOffset(1,-c);this._side===Se.LEFT?(this._segList.addPt(d),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(d))},Pn.prototype.computeOffsetSegment=function(t,e,n,i){var r=e===Se.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=r*n*o/a,l=r*n*s/a;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u},Pn.prototype.addFilletArc=function(t,e,n,i,r){var o=i===at.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,l=0,c=new C;l<s;){var p=e+o*l;c.x=t.x+r*Math.cos(p),c.y=t.y+r*Math.sin(p),this._segList.addPt(c),l+=u}},Pn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Pn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new C((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new C((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Pn.prototype.createCircle=function(t){var e=new C(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Pn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Pn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new wn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Pn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Pn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Cn.JOIN_BEVEL||this._bufParams.getJoinStyle()===Cn.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,at.CLOCKWISE,this._distance))},Pn.prototype.closeRing=function(){this._segList.closeRing()},Pn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Pn.prototype.interfaces_=function(){return[]},Pn.prototype.getClass=function(){return Pn},Dn.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Dn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Dn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Dn.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Pn,Dn);var Mn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Mn.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&Lt.reverse(o),o},Mn.prototype.computeSingleSidedBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=Ln.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],Se.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=Ln.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],Se.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()},Mn.prototype.computeRingBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);e===Se.RIGHT&&(i=-i);var r=Ln.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()},Mn.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),i=Ln.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],Se.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=Ln.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],Se.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},Mn.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Cn.CAP_ROUND:e.createCircle(t);break;case Cn.CAP_SQUARE:e.createSquare(t)}},Mn.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},Mn.prototype.getBufferParameters=function(){return this._bufParams},Mn.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Mn.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Mn.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},Mn.prototype.computeOffsetCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=Ln.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],Se.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=Ln.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],Se.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()},Mn.prototype.getSegGen=function(t){return new Pn(this._precisionModel,this._bufParams,t)},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},Mn.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new C(t[n]);return e};var An=function(){this._subgraphs=null,this._seg=new dn,this._cga=new at;var t=arguments[0];this._subgraphs=t},Fn={DepthSegment:{configurable:!0}};An.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Nt,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(T(arguments[2],xt)&&arguments[0]instanceof C&&arguments[1]instanceof ze){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||at.computeOrientation(this._seg.p0,this._seg.p1,o)===at.RIGHT)){var c=s.getDepth(Se.LEFT);this._seg.p0.equals(u[l])||(c=s.getDepth(Se.RIGHT));var p=new Gn(this._seg,c);a.add(p)}}else if(T(arguments[2],xt)&&arguments[0]instanceof C&&T(arguments[1],xt))for(var h=arguments[0],g=arguments[2],d=arguments[1].iterator();d.hasNext();){var y=d.next();y.isForward()&&this.findStabbedSegments(h,y,g)}},An.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:$e.min(e)._leftDepth},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An},Fn.DepthSegment.get=function(){return Gn},Object.defineProperties(An,Fn);var Gn=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new dn(t),this._leftDepth=e};Gn.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Gn.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Gn.prototype.toString=function(){return this._upwardSeg.toString()},Gn.prototype.interfaces_=function(){return[E]},Gn.prototype.getClass=function(){return Gn};var qn=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};qn.prototype.area=function(){return qn.area(this.p0,this.p1,this.p2)},qn.prototype.signedArea=function(){return qn.signedArea(this.p0,this.p1,this.p2)},qn.prototype.interpolateZ=function(t){if(null===t)throw new m("Supplied point is null.");return qn.interpolateZ(t,this.p0,this.p1,this.p2)},qn.prototype.longestSideLength=function(){return qn.longestSideLength(this.p0,this.p1,this.p2)},qn.prototype.isAcute=function(){return qn.isAcute(this.p0,this.p1,this.p2)},qn.prototype.circumcentre=function(){return qn.circumcentre(this.p0,this.p1,this.p2)},qn.prototype.area3D=function(){return qn.area3D(this.p0,this.p1,this.p2)},qn.prototype.centroid=function(){return qn.centroid(this.p0,this.p1,this.p2)},qn.prototype.inCentre=function(){return qn.inCentre(this.p0,this.p1,this.p2)},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn},qn.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},qn.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},qn.det=function(t,e,n,i){return t*i-e*n},qn.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,u=n.y-o,l=i.y-o,c=s*l-a*u,p=t.x-r,h=t.y-o,f=(l*p-a*h)/c,g=(-u*p+s*h)/c;return e.z+f*(n.z-e.z)+g*(i.z-e.z)},qn.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return r>s&&(s=r),o>s&&(s=o),s},qn.isAcute=function(t,e,n){return!!Tn.isAcute(t,e,n)&&!!Tn.isAcute(e,n,t)&&!!Tn.isAcute(n,t,e)},qn.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,s=t.y-r,a=e.x-i,u=e.y-r,l=2*qn.det(o,s,a,u),c=qn.det(s,o*o+s*s,u,a*a+u*u),p=qn.det(o,o*o+s*s,a,a*a+u*u);return new C(i-c/l,r+p/l)},qn.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new k(t.x+n/2,t.y+i/2,1),o=new k(t.x-i+n/2,t.y+n+i/2,1);return new k(r,o)},qn.angleBisector=function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new C(t.x+r*o,t.y+r*s)},qn.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=r*u-o*a,c=o*s-i*u,p=i*a-r*s,h=l*l+c*c+p*p;return Math.sqrt(h)/2},qn.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new C(i,r)},qn.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),s=i+r+o,a=(i*t.x+r*e.x+o*n.x)/s,u=(i*t.y+r*e.y+o*n.y)/s;return new C(a,u)};var Bn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Nt;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};Bn.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,w.EXTERIOR,w.INTERIOR)},Bn.prototype.addPolygon=function(t){var e=this._distance,n=Se.LEFT;this._distance<0&&(e=-this._distance,n=Se.RIGHT);var i=t.getExteriorRing(),r=Lt.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,w.EXTERIOR,w.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Lt.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,Se.opposite(n),w.INTERIOR,w.EXTERIOR)}},Bn.prototype.isTriangleErodedCompletely=function(t,e){var n=new qn(t[0],t[1],t[2]),i=n.inCentre();return at.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},Bn.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Lt.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,w.EXTERIOR,w.INTERIOR)},Bn.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var i=new gn(t,new Pe(0,w.BOUNDARY,e,n));this._curveList.add(i)},Bn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Bn.prototype.addPolygonRing=function(t,e,n,i,r){if(0===e&&t.length<ee.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=ee.MINIMUM_VALID_SIZE&&at.isCCW(t)&&(o=r,s=i,n=Se.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},Bn.prototype.add=function(t){if(t.isEmpty())return null;t instanceof $t?this.addPolygon(t):t instanceof Kt?this.addLineString(t):t instanceof Qt?this.addPoint(t):(t instanceof te||t instanceof Xt||t instanceof ne||t instanceof zt)&&this.addCollection(t)},Bn.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},Bn.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn};var Vn=function(){};Vn.prototype.locate=function(t){},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn};var Un=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Un.prototype.next=function(){if(this._atStart)return this._atStart=!1,Un.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new i;var t=this._parent.getGeometryN(this._index++);return t instanceof zt?(this._subcollectionIterator=new Un(t),this._subcollectionIterator.next()):t},Un.prototype.remove=function(){throw new Error(this.getClass().getName())},Un.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Un.prototype.interfaces_=function(){return[Et]},Un.prototype.getClass=function(){return Un},Un.isAtomic=function(t){return!(t instanceof zt)};var zn=function(){this._geom=null;var t=arguments[0];this._geom=t};zn.prototype.locate=function(t){return zn.locate(t,this._geom)},zn.prototype.interfaces_=function(){return[Vn]},zn.prototype.getClass=function(){return zn},zn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&at.isPointInRing(t,e.getCoordinates())},zn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!zn.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(zn.isPointInRing(t,r))return!1}return!0},zn.containsPoint=function(t,e){if(e instanceof $t)return zn.containsPointInPolygon(t,e);if(e instanceof zt)for(var n=new Un(e);n.hasNext();){var i=n.next();if(i!==e&&zn.containsPoint(t,i))return!0}return!1},zn.locate=function(t,e){return e.isEmpty()?w.EXTERIOR:zn.containsPoint(t,e)?w.INTERIOR:w.EXTERIOR};var Xn=function(){this._edgeMap=new p,this._edgeList=null,this._ptInAreaLocation=[w.NONE,w.NONE]};Xn.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Xn.prototype.propagateSideLabels=function(t){for(var e=w.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,Se.LEFT)!==w.NONE&&(e=i.getLocation(t,Se.LEFT))}if(e===w.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,Se.ON)===w.NONE&&a.setLocation(t,Se.ON,r),a.isArea(t)){var u=a.getLocation(t,Se.LEFT),l=a.getLocation(t,Se.RIGHT);if(l!==w.NONE){if(l!==r)throw new we("side location conflict",s.getCoordinate());u===w.NONE&&et.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),r=u}else et.isTrue(a.getLocation(t,Se.LEFT)===w.NONE,"found single null side"),a.setLocation(t,Se.RIGHT,r),a.setLocation(t,Se.LEFT,r)}}},Xn.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Xn.prototype.print=function(t){Y.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Xn.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Xn.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,Se.LEFT);et.isTrue(i!==w.NONE,"Found unlabelled area edge");for(var r=i,o=this.iterator();o.hasNext();){var s=o.next().getLabel();et.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Se.LEFT),u=s.getLocation(t,Se.RIGHT);if(a===u)return!1;if(u!==r)return!1;r=a}return!0},Xn.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Xn.prototype.iterator=function(){return this.getEdges().iterator()},Xn.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Nt(this._edgeMap.values())),this._edgeList},Xn.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===w.NONE&&(this._ptInAreaLocation[t]=zn.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Xn.prototype.toString=function(){var t=new D;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Xn.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Xn.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===w.BOUNDARY&&(e[r]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var l=w.NONE;if(e[u])l=w.EXTERIOR;else{var c=s.getCoordinate();l=this.getLocation(u,c,t)}a.setAllLocationsIfNull(u,l)}},Xn.prototype.getDegree=function(){return this._edgeMap.size()},Xn.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn};var Yn=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new we("no outgoing dirEdge found",this.getCoordinate());et.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return Be.isNorthern(r)&&Be.isNorthern(o)?n:Be.isNorthern(r)||Be.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(et.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},e.prototype.print=function(t){Y.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Nt;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Se.LEFT),i=t.getDepth(Se.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new we("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[1],a=arguments[2],u=arguments[0];u<s;u++){var l=this._edgeList.get(u);l.setEdgeDepths(Se.RIGHT,a),a=l.getDepth(Se.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(et.isTrue(null!==e,"found null for first outgoing dirEdge"),et.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=w.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=w.INTERIOR;break}if(i.isInResult()){t=w.EXTERIOR;break}}}if(t===w.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(r===w.INTERIOR):(s.isInResult()&&(r=w.EXTERIOR),a.isInResult()&&(r=w.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Pe(w.NONE);for(var n=this.iterator();n.hasNext();)for(var i=n.next().getEdge().getLabel(),r=0;r<2;r++){var o=i.getLocation(r);o!==w.INTERIOR&&o!==w.BOUNDARY||this._label.setLocation(r,w.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xn),kn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Ge(t,new Yn)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xe),jn=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};jn.prototype.compareTo=function(t){var e=t;return jn.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},jn.prototype.interfaces_=function(){return[E]},jn.prototype.getClass=function(){return jn},jn.orientation=function(t){return 1===Lt.increasingDirection(t)},jn.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var p=(u+=r)===s,h=(l+=o)===a;if(p&&!h)return-1;if(!p&&h)return 1;if(p&&h)return 0}};var Hn=function(){this._edges=new Nt,this._ocaMap=new p};Hn.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},Hn.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Hn.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Hn.prototype.iterator=function(){return this._edges.iterator()},Hn.prototype.getEdges=function(){return this._edges},Hn.prototype.get=function(t){return this._edges.get(t)},Hn.prototype.findEqualEdge=function(t){var e=new jn(t.getCoordinates());return this._ocaMap.get(e)},Hn.prototype.add=function(t){this._edges.add(t);var e=new jn(t.getCoordinates());this._ocaMap.put(e,t)},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn};var Wn=function(){};Wn.prototype.processIntersections=function(t,e,n,i){},Wn.prototype.isDone=function(){},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn};var Kn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Kn.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Kn.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},Kn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Kn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Kn.prototype.getLineIntersector=function(){return this._li},Kn.prototype.hasProperIntersection=function(){return this._hasProper},Kn.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Kn.prototype.hasIntersection=function(){return this._hasIntersection},Kn.prototype.isDone=function(){return!1},Kn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Kn.prototype.interfaces_=function(){return[Wn]},Kn.prototype.getClass=function(){return Kn},Kn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Jn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new C(t),this.segmentIndex=e,this.dist=n};Jn.prototype.getSegmentIndex=function(){return this.segmentIndex},Jn.prototype.getCoordinate=function(){return this.coord},Jn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Jn.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Jn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Jn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Jn.prototype.getDistance=function(){return this.dist},Jn.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Jn.prototype.interfaces_=function(){return[E]},Jn.prototype.getClass=function(){return Jn};var Qn=function(){this._nodeMap=new p,this.edge=null;var t=arguments[0];this.edge=t};Qn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Qn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Qn.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Qn.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Qn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new C(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new ni(o,new Pe(this.edge._label))},Qn.prototype.add=function(t,e,n){var i=new Jn(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)},Qn.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var Zn=function(){};Zn.prototype.getChainStartIndices=function(t){var e=0,n=new Nt;n.add(new M(e));do{var i=this.findChainEnd(t,e);n.add(new M(i)),e=i}while(e<t.length-1);return Zn.toIntArray(n)},Zn.prototype.findChainEnd=function(t,e){for(var n=Be.quadrant(t[e],t[e+1]),i=e+1;i<t.length&&Be.quadrant(t[i-1],t[i])===n;)i++;return i-1},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},Zn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var $n=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new j,this.env2=new j;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Zn;this.startIndex=e.getChainStartIndices(this.pts)};$n.prototype.getCoordinates=function(){return this.pts},$n.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},$n.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},$n.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[r],p=this.pts[o],h=s.pts[a],f=s.pts[u];if(o-r==1&&u-a==1)return l.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(c,p),this.env2.init(h,f),!this.env1.intersects(this.env2))return null;var g=Math.trunc((r+o)/2),d=Math.trunc((a+u)/2);r<g&&(a<d&&this.computeIntersectsForChain(r,g,s,a,d,l),d<u&&this.computeIntersectsForChain(r,g,s,d,u,l)),g<o&&(a<d&&this.computeIntersectsForChain(g,o,s,a,d,l),d<u&&this.computeIntersectsForChain(g,o,s,d,u,l))}},$n.prototype.getStartIndexes=function(){return this.startIndex},$n.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var ti=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},ei={NULL_VALUE:{configurable:!0}};ti.prototype.getDepth=function(t,e){return this._depth[t][e]},ti.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},ti.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==ti.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===ti.NULL_VALUE}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._depth[i][r]===ti.NULL_VALUE}},ti.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}},ti.prototype.getDelta=function(t){return this._depth[t][Se.RIGHT]-this._depth[t][Se.LEFT]},ti.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?w.EXTERIOR:w.INTERIOR},ti.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},ti.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var i=t.getLocation(e,n);i!==w.EXTERIOR&&i!==w.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=ti.depthAtLocation(i):this._depth[e][n]+=ti.depthAtLocation(i))}else if(3===arguments.length){var r=arguments[0],o=arguments[1];arguments[2]===w.INTERIOR&&this._depth[r][o]++}},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ti.depthAtLocation=function(t){return t===w.EXTERIOR?0:t===w.INTERIOR?1:ti.NULL_VALUE},ei.NULL_VALUE.get=function(){return-1},Object.defineProperties(ti,ei);var ni=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Qn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ti,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.pts=i,this._label=r}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Pe.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var i=!0,r=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(i=!1),this.pts[s].equals2D(n.pts[--o])||(r=!1),!i&&!r)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new $n(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new j;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,i){var r=new C(t.getIntersection(i)),o=e,s=t.getEdgeDistance(n,i),a=o+1;if(a<this.pts.length){var u=this.pts[a];r.equals2D(u)&&(o=a,s=0)}this.eiList.add(r,o,s)},e.prototype.toString=function(){var t=new D;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Se.ON),e.getLocation(1,Se.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Se.LEFT),e.getLocation(1,Se.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Se.RIGHT),e.getLocation(1,Se.RIGHT),2))},e}(Fe),ii=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Hn,this._bufParams=t||null};ii.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},ii.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new Pe(t.getLabel())).flip(),n.merge(i);var r=ii.depthDelta(i),o=e.getDepthDelta()+r;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(ii.depthDelta(t.getLabel()))},ii.prototype.buildSubgraphs=function(t,e){for(var n=new Nt,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new An(n).getDepth(o);r.computeDepth(s),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},ii.prototype.createSubgraphs=function(t){for(var e=new Nt,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new Te;r.create(i),e.add(r)}}return $e.sort(e,$e.reverseOrder()),e},ii.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},ii.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new xn,n=new rt;return n.setPrecisionModel(t),e.setSegmentIntersector(new Kn(n)),e},ii.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new Mn(n,this._bufParams),r=new Bn(t,e,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new Ye(new kn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new ke(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},ii.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=r.getData(),a=new ni(r.getCoordinates(),new Pe(s));this.insertUniqueEdge(a)}}},ii.prototype.setNoder=function(t){this._workingNoder=t},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.depthDelta=function(t){var e=t.getLocation(0,Se.LEFT),n=t.getLocation(0,Se.RIGHT);return e===w.INTERIOR&&n===w.EXTERIOR?1:e===w.EXTERIOR&&n===w.INTERIOR?-1:0},ii.convertSegStrings=function(t){for(var e=new _e,n=new Nt;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)};var ri=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=i,this._offsetX=r,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ri.prototype.rescale=function(){if(T(arguments[0],It))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&Y.out.println(n)}},ri.prototype.scale=function(){if(T(arguments[0],It)){for(var t=arguments[0],e=new Nt,n=t.iterator();n.hasNext();){var i=n.next();e.add(new gn(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),s=0;s<r.length;s++)o[s]=new C(Math.round((r[s].x-this._offsetX)*this._scaleFactor),Math.round((r[s].y-this._offsetY)*this._scaleFactor),r[s].z);return Lt.removeRepeatedPoints(o)}},ri.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ri.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ri.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},ri.prototype.interfaces_=function(){return[In]},ri.prototype.getClass=function(){return ri};var oi=function(){this._li=new rt,this._segStrings=null;var t=arguments[0];this._segStrings=t},si={fact:{configurable:!0}};oi.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),o=1;o<r.length-1;o++)if(r[o].equals(n))throw new $("found endpt/interior pt intersection at index "+o+" :pt "+n)},oi.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(r,u,o,l);else if(4===arguments.length){var c=arguments[0],p=arguments[1],h=arguments[2],f=arguments[3];if(c===h&&p===f)return null;var g=c.getCoordinates()[p],d=c.getCoordinates()[p+1],y=h.getCoordinates()[f],_=h.getCoordinates()[f+1];if(this._li.computeIntersection(g,d,y,_),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,d)||this.hasInteriorIntersection(this._li,y,_)))throw new $("found non-noded intersection at "+g+"-"+d+" and "+y+"-"+_)}},oi.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},oi.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])},oi.prototype.hasInteriorIntersection=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},oi.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new $("found non-noded collapse at "+oi.fact.createLineString([t,e,n]))},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},si.fact.get=function(){return new _e},Object.defineProperties(oi,si);var ai=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new m("Scale factor must be non-zero");1!==e&&(this._pt=new C(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new C,this._p1Scaled=new C),this.initCorners(this._pt)},ui={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ai.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return et.isTrue(!(s&&a),"Found bad envelope test"),a},ai.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new C(this._maxx,this._maxy),this._corner[1]=new C(this._minx,this._maxy),this._corner[2]=new C(this._minx,this._miny),this._corner[3]=new C(this._maxx,this._miny)},ai.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ai.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},ai.prototype.getCoordinate=function(){return this._originalPt},ai.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},ai.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=ai.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new j(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},ai.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},ai.prototype.intersectsToleranceSquare=function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&i||t.equals(this._pt)||e.equals(this._pt)))))},ai.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ui.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ai,ui);var li=function(){this.tempEnv1=new j,this.selectedSegment=new dn};li.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var e=arguments[1];arguments[0].getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li};var ci=function(){this._index=null;var t=arguments[0];this._index=t},pi={HotPixelSnapAction:{configurable:!0}};ci.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),o=new hi(e,n,i);return this._index.query(r,{interfaces_:function(){return[Ke]},visitItem:function(t){t.select(r,o)}}),o.isNodeAdded()}},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},pi.HotPixelSnapAction.get=function(){return hi},Object.defineProperties(ci,pi);var hi=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var n=arguments[1],i=arguments[0].getContext();if(null!==this._parentEdge&&i===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(i,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(li),fi=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Nt};fi.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},fi.prototype.isDone=function(){return!1},fi.prototype.getInteriorIntersections=function(){return this._interiorIntersections},fi.prototype.interfaces_=function(){return[Wn]},fi.prototype.getClass=function(){return fi};var gi=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new rt,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};gi.prototype.checkCorrectness=function(t){var e=gn.getNodedSubstrings(t),n=new oi(e);try{n.checkValid()}catch(t){if(!(t instanceof z))throw t;t.printStackTrace()}},gi.prototype.getNodedSubstrings=function(){return gn.getNodedSubstrings(this._nodedSegStrings)},gi.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},gi.prototype.findInteriorIntersections=function(t,e){var n=new fi(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},gi.prototype.computeVertexSnaps=function(){if(T(arguments[0],It))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof gn)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var o=new ai(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,r)&&n.addIntersection(i[r],r)}},gi.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new xn,this._pointSnapper=new ci(this._noder.getIndex()),this.snapRound(t,this._li)},gi.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new ai(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}},gi.prototype.interfaces_=function(){return[In]},gi.prototype.getClass=function(){return gi};var di=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Cn,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},yi={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};di.prototype.bufferFixedPrecision=function(t){var e=new ri(new gi(new fe(1)),t.getScale()),n=new ii(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},di.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=di.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof we))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=di.precisionScaleFactor(this._argGeom,this._distance,n),r=new fe(i);this.bufferFixedPrecision(r)}},di.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===fe.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},di.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},di.prototype.bufferOriginalPrecision=function(){try{var t=new ii(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof $))throw t;this._saveException=t}},di.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},di.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di},di.bufferOp=function(){if(2===arguments.length){var e=arguments[1];return new di(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ct&&"number"==typeof arguments[1]){var i=arguments[1],r=arguments[2],o=new di(arguments[0]);return o.setQuadrantSegments(r),o.getResultGeometry(i)}if(arguments[2]instanceof Cn&&arguments[0]instanceof ct&&"number"==typeof arguments[1]){var a=arguments[1];return new di(arguments[0],arguments[2]).getResultGeometry(a)}}else if(4===arguments.length){var c=arguments[1],p=arguments[2],h=arguments[3],f=new di(arguments[0]);return f.setQuadrantSegments(p),f.setEndCapStyle(h),f.getResultGeometry(c)}},di.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=R.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},yi.CAP_ROUND.get=function(){return Cn.CAP_ROUND},yi.CAP_BUTT.get=function(){return Cn.CAP_FLAT},yi.CAP_FLAT.get=function(){return Cn.CAP_FLAT},yi.CAP_SQUARE.get=function(){return Cn.CAP_SQUARE},yi.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(di,yi);var _i=function(){this._pt=[new C,new C],this._distance=v.NaN,this._isNull=!0};_i.prototype.getCoordinates=function(){return this._pt},_i.prototype.getCoordinate=function(t){return this._pt[t]},_i.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},_i.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},_i.prototype.getDistance=function(){return this._distance},_i.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i};var mi=function(){};mi.prototype.interfaces_=function(){return[]},mi.prototype.getClass=function(){return mi},mi.computeDistance=function(){if(arguments[2]instanceof _i&&arguments[0]instanceof Kt&&arguments[1]instanceof C)for(var e=arguments[1],n=arguments[2],i=arguments[0].getCoordinates(),r=new dn,o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof _i&&arguments[0]instanceof $t&&arguments[1]instanceof C){var a=arguments[0],u=arguments[1],l=arguments[2];mi.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)mi.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof _i&&arguments[0]instanceof ct&&arguments[1]instanceof C){var p=arguments[0],h=arguments[1],f=arguments[2];if(p instanceof Kt)mi.computeDistance(p,h,f);else if(p instanceof $t)mi.computeDistance(p,h,f);else if(p instanceof zt)for(var g=p,d=0;d<g.getNumGeometries();d++){var y=g.getGeometryN(d);mi.computeDistance(y,h,f)}else f.setMinimum(p.getCoordinate(),h)}else if(arguments[2]instanceof _i&&arguments[0]instanceof dn&&arguments[1]instanceof C){var m=arguments[1],v=arguments[2],I=arguments[0].closestPoint(m);v.setMinimum(I,m)}};var vi=function(t){this._maxPtDist=new _i,this._inputGeom=t||null},Ii={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};vi.prototype.computeMaxMidpointDistance=function(t){var e=new xi(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vi.prototype.computeMaxVertexDistance=function(t){var e=new Ei(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vi.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},vi.prototype.getDistancePoints=function(){return this._maxPtDist},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi},Ii.MaxPointDistanceFilter.get=function(){return Ei},Ii.MaxMidpointDistanceFilter.get=function(){return xi},Object.defineProperties(vi,Ii);var Ei=function(t){this._maxPtDist=new _i,this._minPtDist=new _i,this._geom=t||null};Ei.prototype.filter=function(t){this._minPtDist.initialize(),mi.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ei.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ei.prototype.interfaces_=function(){return[ft]},Ei.prototype.getClass=function(){return Ei};var xi=function(t){this._maxPtDist=new _i,this._minPtDist=new _i,this._geom=t||null};xi.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=new C((n.x+i.x)/2,(n.y+i.y)/2);this._minPtDist.initialize(),mi.computeDistance(this._geom,r,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xi.prototype.isDone=function(){return!1},xi.prototype.isGeometryChanged=function(){return!1},xi.prototype.getMaxPointDistance=function(){return this._maxPtDist},xi.prototype.interfaces_=function(){return[Ut]},xi.prototype.getClass=function(){return xi};var Ni=function(t){this._comps=t||null};Ni.prototype.filter=function(t){t instanceof $t&&this._comps.add(t)},Ni.prototype.interfaces_=function(){return[Vt]},Ni.prototype.getClass=function(){return Ni},Ni.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Ni.getPolygons(t,new Nt)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof $t?n.add(e):e instanceof zt&&e.apply(new Ni(n)),n}};var Ci=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Ci.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof ee){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Kt&&this._lines.add(t)},Ci.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Ci.prototype.interfaces_=function(){return[lt]},Ci.prototype.getClass=function(){return Ci},Ci.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Ci.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Ci.getLines(e,n))}},Ci.getLines=function(){if(1===arguments.length){var t=arguments[0];return Ci.getLines(t,!1)}if(2===arguments.length){if(T(arguments[0],It)&&T(arguments[1],It)){for(var n=arguments[1],i=arguments[0].iterator();i.hasNext();){var r=i.next();Ci.getLines(r,n)}return n}if(arguments[0]instanceof ct&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new Nt;return o.apply(new Ci(a,s)),a}if(arguments[0]instanceof ct&&T(arguments[1],It)){var u=arguments[0],l=arguments[1];return u instanceof Kt?l.add(u):u.apply(new Ci(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&T(arguments[0],It)&&T(arguments[1],It)){for(var p=arguments[1],h=arguments[2],f=arguments[0].iterator();f.hasNext();){var g=f.next();Ci.getLines(g,p,h)}return p}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ct&&T(arguments[1],It)){var y=arguments[1],_=arguments[2];return arguments[0].apply(new Ci(y,_)),y}}};var Si=function(){if(this._boundaryRule=gt.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new m("Rule must be non-null");this._boundaryRule=t}};Si.prototype.locateInternal=function(){if(arguments[0]instanceof C&&arguments[1]instanceof $t){var t=arguments[0],e=arguments[1];if(e.isEmpty())return w.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===w.EXTERIOR)return w.EXTERIOR;if(i===w.BOUNDARY)return w.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===w.INTERIOR)return w.EXTERIOR;if(s===w.BOUNDARY)return w.BOUNDARY}return w.INTERIOR}if(arguments[0]instanceof C&&arguments[1]instanceof Kt){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return w.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?at.isOnLine(a,l)?w.INTERIOR:w.EXTERIOR:w.BOUNDARY}if(arguments[0]instanceof C&&arguments[1]instanceof Qt){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?w.INTERIOR:w.EXTERIOR}},Si.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?at.locatePointInRing(t,e.getCoordinates()):w.EXTERIOR},Si.prototype.intersects=function(t,e){return this.locate(t,e)!==w.EXTERIOR},Si.prototype.updateLocationInfo=function(t){t===w.INTERIOR&&(this._isIn=!0),t===w.BOUNDARY&&this._numBoundaries++},Si.prototype.computeLocation=function(t,e){if(e instanceof Qt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Kt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof $t)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Xt)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof ne)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof zt)for(var u=new Un(e);u.hasNext();){var l=u.next();l!==e&&this.computeLocation(t,l)}},Si.prototype.locate=function(t,e){return e.isEmpty()?w.EXTERIOR:e instanceof Kt||e instanceof $t?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?w.BOUNDARY:this._numBoundaries>0||this._isIn?w.INTERIOR:w.EXTERIOR)},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si};var Li=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._component=i,this._segIndex=r,this._pt=o}},bi={INSIDE_AREA:{configurable:!0}};Li.prototype.isInsideArea=function(){return this._segIndex===Li.INSIDE_AREA},Li.prototype.getCoordinate=function(){return this._pt},Li.prototype.getGeometryComponent=function(){return this._component},Li.prototype.getSegmentIndex=function(){return this._segIndex},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},bi.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Li,bi);var wi=function(t){this._pts=t||null};wi.prototype.filter=function(t){t instanceof Qt&&this._pts.add(t)},wi.prototype.interfaces_=function(){return[Vt]},wi.prototype.getClass=function(){return wi},wi.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Qt?$e.singletonList(t):wi.getPoints(t,new Nt)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Qt?n.add(e):e instanceof zt&&e.apply(new wi(n)),n}};var Oi=function(){this._locations=null;var t=arguments[0];this._locations=t};Oi.prototype.filter=function(t){(t instanceof Qt||t instanceof Kt||t instanceof $t)&&this._locations.add(new Li(t,0,t.getCoordinate()))},Oi.prototype.interfaces_=function(){return[Vt]},Oi.prototype.getClass=function(){return Oi},Oi.getLocations=function(t){var e=new Nt;return t.apply(new Oi(e)),e};var Ti=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Si,this._minDistanceLocation=null,this._minDistance=v.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=i,this._terminateDistance=r}};Ti.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=Ni.getPolygons(this._geom[e]);if(r.size()>0){var o=Oi.getLocations(this._geom[i]);if(this.computeContainmentDistance(o,r,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&T(arguments[0],xt)&&T(arguments[1],xt)){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=0;l<s.size();l++)for(var c=s.get(l),p=0;p<a.size();p++)if(this.computeContainmentDistance(c,a.get(p),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Li&&arguments[1]instanceof $t){var h=arguments[0],f=arguments[1],g=arguments[2],d=h.getCoordinate();if(w.EXTERIOR!==this._ptLocator.locate(d,f))return this._minDistance=0,g[0]=h,g[1]=new Li(f,d),null}},Ti.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},Ti.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Ci.getLines(this._geom[0]),n=Ci.getLines(this._geom[1]),i=wi.getPoints(this._geom[0]),r=wi.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},Ti.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Ti.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Ti.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Ti.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Kt&&arguments[1]instanceof Qt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var s=at.distancePointLine(r,i[o],i[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new dn(i[o],i[o+1]).closestPoint(r);n[0]=new Li(t,o,a),n[1]=new Li(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Kt&&arguments[1]instanceof Kt){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var p=u.getCoordinates(),h=l.getCoordinates(),f=0;f<p.length-1;f++)for(var g=0;g<h.length-1;g++){var d=at.distanceLineLine(p[f],p[f+1],h[g],h[g+1]);if(d<this._minDistance){this._minDistance=d;var y=new dn(p[f],p[f+1]),_=new dn(h[g],h[g+1]),m=y.closestPoints(_);c[0]=new Li(u,f,m[0]),c[1]=new Li(l,g,m[1])}if(this._minDistance<=this._terminateDistance)return null}}},Ti.prototype.computeMinDistancePoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new Li(r,0,r.getCoordinate()),n[1]=new Li(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Ti.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new m("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Ti.prototype.computeMinDistanceLines=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.distance=function(t,e){return new Ti(t,e).distance()},Ti.isWithinDistance=function(t,e,n){return new Ti(t,e,n).distance()<=n},Ti.nearestPoints=function(t,e){return new Ti(t,e).nearestPoints()};var Ri=function(){this._pt=[new C,new C],this._distance=v.NaN,this._isNull=!0};Ri.prototype.getCoordinates=function(){return this._pt},Ri.prototype.getCoordinate=function(t){return this._pt[t]},Ri.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},Ri.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},Ri.prototype.toString=function(){return Z.toLineString(this._pt[0],this._pt[1])},Ri.prototype.getDistance=function(){return this._distance},Ri.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri};var Pi=function(){};Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi},Pi.computeDistance=function(){if(arguments[2]instanceof Ri&&arguments[0]instanceof Kt&&arguments[1]instanceof C)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=new dn,r=t.getCoordinates(),o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Ri&&arguments[0]instanceof $t&&arguments[1]instanceof C){var a=arguments[0],u=arguments[1],l=arguments[2];Pi.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)Pi.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Ri&&arguments[0]instanceof ct&&arguments[1]instanceof C){var p=arguments[0],h=arguments[1],f=arguments[2];if(p instanceof Kt)Pi.computeDistance(p,h,f);else if(p instanceof $t)Pi.computeDistance(p,h,f);else if(p instanceof zt)for(var g=p,d=0;d<g.getNumGeometries();d++){var y=g.getGeometryN(d);Pi.computeDistance(y,h,f)}else f.setMinimum(p.getCoordinate(),h)}else if(arguments[2]instanceof Ri&&arguments[0]instanceof dn&&arguments[1]instanceof C){var m=arguments[1],v=arguments[2],I=arguments[0].closestPoint(m);v.setMinimum(I,m)}};var Di=function(){this._g0=null,this._g1=null,this._ptDist=new Ri,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Mi={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Di.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Di.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new m("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Di.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Di.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Di.prototype.computeOrientedDistance=function(t,e,n){var i=new Ai(e);if(t.apply(i),n.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var r=new Fi(e,this._densifyFrac);t.apply(r),n.setMaximum(r.getMaxPointDistance())}},Di.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Di.prototype.interfaces_=function(){return[]},Di.prototype.getClass=function(){return Di},Di.distance=function(){if(2===arguments.length)return new Di(arguments[0],arguments[1]).distance();if(3===arguments.length){var r=arguments[2],o=new Di(arguments[0],arguments[1]);return o.setDensifyFraction(r),o.distance()}},Mi.MaxPointDistanceFilter.get=function(){return Ai},Mi.MaxDensifiedByFractionDistanceFilter.get=function(){return Fi},Object.defineProperties(Di,Mi);var Ai=function(){this._maxPtDist=new Ri,this._minPtDist=new Ri,this._euclideanDist=new Pi,this._geom=null;var t=arguments[0];this._geom=t};Ai.prototype.filter=function(t){this._minPtDist.initialize(),Pi.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ai.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ai.prototype.interfaces_=function(){return[ft]},Ai.prototype.getClass=function(){return Ai};var Fi=function(){this._maxPtDist=new Ri,this._minPtDist=new Ri,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Fi.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=(i.x-n.x)/this._numSubSegs,o=(i.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*r,u=n.y+s*o,l=new C(a,u);this._minPtDist.initialize(),Pi.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Fi.prototype.isDone=function(){return!1},Fi.prototype.isGeometryChanged=function(){return!1},Fi.prototype.getMaxPointDistance=function(){return this._maxPtDist},Fi.prototype.interfaces_=function(){return[Ut]},Fi.prototype.getClass=function(){return Fi};var Gi=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},qi={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Gi.prototype.checkMaximumDistance=function(t,e,n){var i=new Di(e,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var r=i.getCoordinates();this._errorLocation=r[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Z.toLineString(r[0],r[1])+")"}},Gi.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Gi.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Gi.VERBOSE&&Y.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Gi.prototype.checkNegativeValid=function(){if(!(this._input instanceof $t||this._input instanceof ne||this._input instanceof zt))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Gi.prototype.getErrorIndicator=function(){return this._errorIndicator},Gi.prototype.checkMinimumDistance=function(t,e,n){var i=new Ti(t,e,n);if(this._minDistanceFound=i.distance(),this._minDistanceFound<n){this._isValid=!1;var r=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Z.toLineString(r[0],r[1])+" )"}},Gi.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Gi.prototype.getErrorLocation=function(){return this._errorLocation},Gi.prototype.getPolygonLines=function(t){for(var e=new Nt,n=new Ci(e),i=Ni.getPolygons(t).iterator();i.hasNext();)i.next().apply(n);return t.getFactory().buildGeometry(e)},Gi.prototype.getErrorMessage=function(){return this._errMsg},Gi.prototype.interfaces_=function(){return[]},Gi.prototype.getClass=function(){return Gi},qi.VERBOSE.get=function(){return!1},qi.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Gi,qi);var Bi=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Vi={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Bi.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Bi.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Bi.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new j(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new j(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Bi.prototype.checkDistance=function(){var t=new Gi(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Bi.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Bi.prototype.checkPolygonal=function(){this._result instanceof $t||this._result instanceof ne||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Bi.prototype.getErrorIndicator=function(){return this._errorIndicator},Bi.prototype.getErrorLocation=function(){return this._errorLocation},Bi.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Bi.prototype.report=function(t){if(!Bi.VERBOSE)return null;Y.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Bi.prototype.getErrorMessage=function(){return this._errorMsg},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi},Bi.isValidMsg=function(t,e,n){var i=new Bi(t,e,n);return i.isValid()?null:i.getErrorMessage()},Bi.isValid=function(t,e,n){return!!new Bi(t,e,n).isValid()},Vi.VERBOSE.get=function(){return!1},Vi.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Bi,Vi);var Ui=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Ui.prototype.getCoordinates=function(){return this._pts},Ui.prototype.size=function(){return this._pts.length},Ui.prototype.getCoordinate=function(t){return this._pts[t]},Ui.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ui.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:pn.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Ui.prototype.setData=function(t){this._data=t},Ui.prototype.getData=function(){return this._data},Ui.prototype.toString=function(){return Z.toLineString(new ue(this._pts))},Ui.prototype.interfaces_=function(){return[hn]},Ui.prototype.getClass=function(){return Ui};var zi=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Nt,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};zi.prototype.getInteriorIntersection=function(){return this._interiorIntersection},zi.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},zi.prototype.getIntersectionSegments=function(){return this._intSegments},zi.prototype.count=function(){return this._intersectionCount},zi.prototype.getIntersections=function(){return this._intersections},zi.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},zi.prototype.setKeepIntersections=function(t){this._keepIntersections=t},zi.prototype.processIntersections=function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,i))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},zi.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},zi.prototype.hasIntersection=function(){return null!==this._interiorIntersection},zi.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},zi.prototype.interfaces_=function(){return[Wn]},zi.prototype.getClass=function(){return zi},zi.createAllIntersectionsFinder=function(t){var e=new zi(t);return e.setFindAllIntersections(!0),e},zi.createAnyIntersectionFinder=function(t){return new zi(t)},zi.createIntersectionCounter=function(t){var e=new zi(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Xi=function(){this._li=new rt,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Xi.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Xi.prototype.getIntersections=function(){return this._segInt.getIntersections()},Xi.prototype.isValid=function(){return this.execute(),this._isValid},Xi.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Xi.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new zi(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new xn;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Xi.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new we(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Xi.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Z.toLineString(t[0],t[1])+" and "+Z.toLineString(t[2],t[3])},Xi.prototype.interfaces_=function(){return[]},Xi.prototype.getClass=function(){return Xi},Xi.computeIntersections=function(t){var e=new Xi(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Yi=function t(){this._nv=null;var e=arguments[0];this._nv=new Xi(t.toSegmentStrings(e))};Yi.prototype.checkValid=function(){this._nv.checkValid()},Yi.prototype.interfaces_=function(){return[]},Yi.prototype.getClass=function(){return Yi},Yi.toSegmentStrings=function(t){for(var e=new Nt,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Ui(i.getCoordinates(),i))}return e},Yi.checkValid=function(t){new Yi(t).checkValid()};var ki=function(t){this._mapOp=t};ki.prototype.map=function(t){for(var e=new Nt,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(_e.toGeometryArray(e))},ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki},ki.map=function(t,e){return new ki(e).map(t)};var ji=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Nt,this._resultLineList=new Nt;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};ji.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},ji.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},ji.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},ji.prototype.collectLineEdge=function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Lr.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},ji.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this._op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},ji.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},ji.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(i),n.setInResult(!0)}},ji.prototype.collectBoundaryTouchEdge=function(t,e,n){var i=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(et.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Lr.isResultOfOp(i,e)&&e===Lr.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},ji.prototype.interfaces_=function(){return[]},ji.prototype.getClass=function(){return ji};var Hi=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Nt;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Hi.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Hi.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Lr.INTERSECTION)){var i=n.getLabel();Lr.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},Hi.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi};var Wi=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Wi.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Wi.prototype.transformPolygon=function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof ee&&!i.isEmpty()||(n=!1);for(var r=new Nt,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof ee||(n=!1),r.add(s))}if(n)return this._factory.createPolygon(i,r.toArray([]));var a=new Nt;return null!==i&&a.add(i),a.addAll(r),this._factory.buildGeometry(a)},Wi.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Wi.prototype.getInputGeometry=function(){return this._inputGeom},Wi.prototype.transformMultiLineString=function(t,e){for(var n=new Nt,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Wi.prototype.transformCoordinates=function(t,e){return this.copy(t)},Wi.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Wi.prototype.transformMultiPoint=function(t,e){for(var n=new Nt,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Wi.prototype.transformMultiPolygon=function(t,e){for(var n=new Nt,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Wi.prototype.copy=function(t){return t.copy()},Wi.prototype.transformGeometryCollection=function(t,e){for(var n=new Nt,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(_e.toGeometryArray(n)):this._factory.buildGeometry(n)},Wi.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Qt)return this.transformPoint(t,null);if(t instanceof te)return this.transformMultiPoint(t,null);if(t instanceof ee)return this.transformLinearRing(t,null);if(t instanceof Kt)return this.transformLineString(t,null);if(t instanceof Xt)return this.transformMultiLineString(t,null);if(t instanceof $t)return this.transformPolygon(t,null);if(t instanceof ne)return this.transformMultiPolygon(t,null);if(t instanceof zt)return this.transformGeometryCollection(t,null);throw new m("Unknown Geometry subtype: "+t.getClass().getName())},Wi.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Wi.prototype.interfaces_=function(){return[]},Wi.prototype.getClass=function(){return Wi};var Ki=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new dn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Kt&&"number"==typeof arguments[1]){var n=arguments[1];t.call(this,arguments[0].getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var i=arguments[0],r=arguments[1];this._srcPts=i,this._isClosed=t.isClosed(i),this._snapTolerance=r}};Ki.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new C(o)),0===i&&this._isClosed&&t.set(t.size()-1,new C(o)))}},Ki.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Ki.prototype.snapTo=function(t){var e=new St(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Ki.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new C(r),!1)}},Ki.prototype.findSegmentIndexToSnap=function(t,e){for(var n=v.MAX_VALUE,i=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,i=r)}return i},Ki.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Ki.prototype.interfaces_=function(){return[]},Ki.prototype.getClass=function(){return Ki},Ki.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Ji=function(t){this._srcGeom=t||null},Qi={SNAP_PRECISION_FACTOR:{configurable:!0}};Ji.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Zi(e,n).transform(this._srcGeom)},Ji.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new Zi(t,n,!0).transform(this._srcGeom),r=i;return e&&T(r,Zt)&&(r=i.buffer(0)),r},Ji.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Ji.prototype.extractTargetCoordinates=function(t){for(var e=new f,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},Ji.prototype.computeMinimumSegmentLength=function(t){for(var e=v.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji},Ji.snap=function(t,e,n){var i=new Array(2).fill(null),r=new Ji(t);i[0]=r.snapTo(e,n);var o=new Ji(e);return i[1]=o.snapTo(i[0],n),i},Ji.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Ji.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===fe.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min(Ji.computeOverlaySnapTolerance(r),Ji.computeOverlaySnapTolerance(o))}},Ji.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Ji.SNAP_PRECISION_FACTOR},Ji.snapToSelf=function(t,e,n){return new Ji(t).snapToSelf(e,n)},Qi.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Ji,Qi);var Zi=function(t){function e(e,n,i){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==i&&i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Ki(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wi),$i=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};$i.prototype.getCommon=function(){return v.longBitsToDouble(this._commonBits)},$i.prototype.add=function(t){var e=v.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=$i.signExpBits(this._commonBits),this._isFirst=!1,null):$i.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=$i.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=$i.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},$i.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=v.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+v.toBinaryString(t),i=n.substring(n.length-64);return i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+e+" ]"}},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i},$i.getBit=function(t,e){return 0!=(t&1<<e)?1:0},$i.signExpBits=function(t){return t>>52},$i.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},$i.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if($i.getBit(t,i)!==$i.getBit(e,i))return n;n++}return 52};var tr=function(){this._commonCoord=null,this._ccFilter=new nr},er={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};tr.prototype.addCommonBits=function(t){var e=new ir(this._commonCoord);t.apply(e),t.geometryChanged()},tr.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new C(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new ir(e);return t.apply(n),t.geometryChanged(),t},tr.prototype.getCommonCoordinate=function(){return this._commonCoord},tr.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},er.CommonCoordinateFilter.get=function(){return nr},er.Translater.get=function(){return ir},Object.defineProperties(tr,er);var nr=function(){this._commonBitsX=new $i,this._commonBitsY=new $i};nr.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},nr.prototype.getCommonCoordinate=function(){return new C(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},nr.prototype.interfaces_=function(){return[ft]},nr.prototype.getClass=function(){return nr};var ir=function(){this.trans=null;var t=arguments[0];this.trans=t};ir.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},ir.prototype.isDone=function(){return!1},ir.prototype.isGeometryChanged=function(){return!0},ir.prototype.interfaces_=function(){return[Ut]},ir.prototype.getClass=function(){return ir};var rr=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};rr.prototype.selfSnap=function(t){return new Ji(t).snapTo(t,this._snapTolerance)},rr.prototype.removeCommonBits=function(t){this._cbr=new tr,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},rr.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},rr.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Lr.overlayOp(e[0],e[1],t);return this.prepareResult(n)},rr.prototype.checkValid=function(t){t.isValid()||Y.out.println("Snapped geometry is invalid")},rr.prototype.computeSnapTolerance=function(){this._snapTolerance=Ji.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},rr.prototype.snap=function(t){var e=this.removeCommonBits(t);return Ji.snap(e[0],e[1],this._snapTolerance)},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.overlayOp=function(t,e,n){return new rr(t,e).getResultGeometry(n)},rr.union=function(t,e){return rr.overlayOp(t,e,Lr.UNION)},rr.intersection=function(t,e){return rr.overlayOp(t,e,Lr.INTERSECTION)},rr.symDifference=function(t,e){return rr.overlayOp(t,e,Lr.SYMDIFFERENCE)},rr.difference=function(t,e){return rr.overlayOp(t,e,Lr.DIFFERENCE)};var or=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};or.prototype.getResultGeometry=function(t){var e=null,n=!1,i=null;try{e=Lr.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof $))throw t;i=t}if(!n)try{e=rr.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof $?i:t}return e},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},or.overlayOp=function(t,e,n){return new or(t,e).getResultGeometry(n)},or.union=function(t,e){return or.overlayOp(t,e,Lr.UNION)},or.intersection=function(t,e){return or.overlayOp(t,e,Lr.INTERSECTION)},or.symDifference=function(t,e){return or.overlayOp(t,e,Lr.SYMDIFFERENCE)},or.difference=function(t,e){return or.overlayOp(t,e,Lr.DIFFERENCE)};var sr=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};sr.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr};var ar=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=i,this._xValue=r,this._obj=o}},ur={INSERT:{configurable:!0},DELETE:{configurable:!0}};ar.prototype.isDelete=function(){return this._eventType===ar.DELETE},ar.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ar.prototype.getObject=function(){return this._obj},ar.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},ar.prototype.getInsertEvent=function(){return this._insertEvent},ar.prototype.isInsert=function(){return this._eventType===ar.INSERT},ar.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},ar.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ar.prototype.interfaces_=function(){return[E]},ar.prototype.getClass=function(){return ar},ur.INSERT.get=function(){return 1},ur.DELETE.get=function(){return 2},Object.defineProperties(ar,ur);var lr=function(){};lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr};var cr=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};cr.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(cr.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},cr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},cr.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},cr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},cr.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},cr.prototype.hasProperIntersection=function(){return this._hasProper},cr.prototype.hasIntersection=function(){return this._hasIntersection},cr.prototype.isDone=function(){return this._isDone},cr.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},cr.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},cr.prototype.addIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr},cr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var pr=function(t){function e(){t.call(this),this.events=new Nt,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){$e.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof cr&&T(arguments[0],xt)&&T(arguments[1],xt)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&T(arguments[0],xt)&&arguments[1]instanceof cr){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new sr(n,r),s=new ar(e,n.getMinX(r),o);this.events.add(s),this.events.add(new ar(n.getMaxX(r),s))}},e.prototype.processOverlaps=function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(r.computeIntersections(a,i),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var i=arguments[1],r=arguments[0].iterator();r.hasNext();){var o=r.next();this.addEdge(o,i)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(lr),hr=function(){this._min=v.POSITIVE_INFINITY,this._max=v.NEGATIVE_INFINITY},fr={NodeComparator:{configurable:!0}};hr.prototype.getMin=function(){return this._min},hr.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},hr.prototype.getMax=function(){return this._max},hr.prototype.toString=function(){return Z.toLineString(new C(this._min,0),new C(this._max,0))},hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr},fr.NodeComparator.get=function(){return gr},Object.defineProperties(hr,fr);var gr=function(){};gr.prototype.compare=function(t,e){var n=t,i=e,r=(n._min+n._max)/2,o=(i._min+i._max)/2;return r<o?-1:r>o?1:0},gr.prototype.interfaces_=function(){return[N]},gr.prototype.getClass=function(){return gr};var dr=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],i=arguments[2];this._min=e,this._max=n,this._item=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hr),yr=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hr),_r=function(){this._leaves=new Nt,this._root=null,this._level=0};_r.prototype.buildTree=function(){$e.sort(this._leaves,new hr.NodeComparator);for(var t=this._leaves,e=null,n=new Nt;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},_r.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new dr(t,e,n))},_r.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},_r.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},_r.prototype.printNode=function(t){Y.out.println(Z.toLineString(new C(t._min,this._level),new C(t._max,this._level)))},_r.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},_r.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new yr(t.get(n),t.get(n+1));e.add(r)}}},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r};var mr=function(){this._items=new Nt};mr.prototype.visitItem=function(t){this._items.add(t)},mr.prototype.getItems=function(){return this._items},mr.prototype.interfaces_=function(){return[Ke]},mr.prototype.getClass=function(){return mr};var vr=function(){this._index=null;var t=arguments[0];if(!T(t,Zt))throw new m("Argument must be Polygonal");this._index=new xr(t)},Ir={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};vr.prototype.locate=function(t){var e=new st(t),n=new Er(e);return this._index.query(t.y,t.y,n),e.getLocation()},vr.prototype.interfaces_=function(){return[Vn]},vr.prototype.getClass=function(){return vr},Ir.SegmentVisitor.get=function(){return Er},Ir.IntervalIndexedGeometry.get=function(){return xr},Object.defineProperties(vr,Ir);var Er=function(){this._counter=null;var t=arguments[0];this._counter=t};Er.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},Er.prototype.interfaces_=function(){return[Ke]},Er.prototype.getClass=function(){return Er};var xr=function(){this._index=new _r;var t=arguments[0];this.init(t)};xr.prototype.init=function(t){for(var e=Ci.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},xr.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new dn(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this._index.insert(i,r,n)}},xr.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new mr;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._index.query(i,r,o)}},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr};var Nr=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new he,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Si,2===arguments.length){var e=arguments[0],n=arguments[1],i=gt.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=i,null!==n&&this.add(n)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=r,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var i=this._nodes.addNode(n).getLabel(),r=1;w.NONE,i.getLocation(t,Se.ON)===w.BOUNDARY&&r++;var o=e.determineBoundary(this._boundaryNodeRule,r);i.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var i=arguments[1],r=arguments[2],o=new cr(arguments[0],!0,!1);o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof ee||this._parentGeom instanceof $t||this._parentGeom instanceof ne,u=i||!a;return s.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var i=new cr(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Qt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,w.INTERIOR)}else if(arguments[0]instanceof C){var e=arguments[0];this.insertPoint(this._argIndex,e,w.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),w.EXTERIOR,w.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,w.INTERIOR,w.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],w.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],w.BOUNDARY)},e.prototype.addLineString=function(t){var e=Lt.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new ni(e,new Pe(this._argIndex,w.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),et.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===w.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var i=Lt.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var r=e,o=n;at.isCCW(i)&&(r=n,o=e);var s=new ni(i,new Pe(this._argIndex,w.BOUNDARY,r,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,i[0],w.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var i=this._nodes.addNode(e),r=i.getLabel();null===r?i._label=new Pe(t,n):r.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new pr},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof ne&&(this._useBoundaryDeterminationRule=!1),e instanceof $t)this.addPolygon(e);else if(e instanceof Kt)this.addLineString(e);else if(e instanceof Qt)this.addPoint(e);else if(e instanceof te)this.addCollection(e);else if(e instanceof Xt)this.addCollection(e);else if(e instanceof ne)this.addCollection(e);else{if(!(e instanceof zt))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return T(this._parentGeom,Zt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new vr(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?w.BOUNDARY:w.INTERIOR},e}(Ye),Cr=function(){if(this._li=new rt,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Nr(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=gt.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Nr(0,e,i),this._arg[1]=new Nr(1,n,i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];r.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Nr(0,r,s),this._arg[1]=new Nr(1,o,s)}};Cr.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Cr.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr};var Sr=function(){};Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr},Sr.map=function(){if(arguments[0]instanceof ct&&T(arguments[1],Sr.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Nt,i=0;i<t.getNumGeometries();i++){var r=e.map(t.getGeometryN(i));null!==r&&n.add(r)}return t.getFactory().buildGeometry(n)}if(T(arguments[0],It)&&T(arguments[1],Sr.MapOp)){for(var o=arguments[0],s=arguments[1],a=new Nt,u=o.iterator();u.hasNext();){var l=u.next(),c=s.map(l);null!==c&&a.add(c)}return a}},Sr.MapOp=function(){};var Lr=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Si,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Hn,this._resultPolyList=new Nt,this._resultLineList=new Nt,this._resultPointList=new Nt,this._graph=new Ye(new kn),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new Pe(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,i,r){var o=new Nt;return o.addAll(t),o.addAll(n),o.addAll(i),o.isEmpty()?e.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==w.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Nt,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Nt;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Yi.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new ke(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var i=new ji(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var r=new Hi(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea()&&!i.isInteriorAreaEdge()&&e.isResultOfOp(r.getLocation(0,Se.RIGHT),r.getLocation(1,Se.RIGHT),t)&&i.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(et.isTrue(!i.isNull(r,Se.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,Se.LEFT,i.getLocation(r,Se.LEFT)),et.isTrue(!i.isNull(r,Se.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,Se.RIGHT,i.getLocation(r,Se.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Cr);Lr.overlayOp=function(t,e,n){return new Lr(t,e).getResultGeometry(n)},Lr.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Lr.createEmptyResult(Lr.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return ki.map(t,{interfaces_:function(){return[Sr.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Lr.INTERSECTION)},Lr.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Lr.createEmptyResult(Lr.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Lr.SYMDIFFERENCE)},Lr.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case Lr.INTERSECTION:o=Math.min(i,r);break;case Lr.UNION:o=Math.max(i,r);break;case Lr.DIFFERENCE:o=i;break;case Lr.SYMDIFFERENCE:o=Math.max(i,r)}return o},Lr.createEmptyResult=function(t,e,n,i){var r=null;switch(Lr.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},Lr.difference=function(t,e){return t.isEmpty()?Lr.createEmptyResult(Lr.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Lr.DIFFERENCE))},Lr.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return Lr.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];switch(r===w.BOUNDARY&&(r=w.INTERIOR),o===w.BOUNDARY&&(o=w.INTERIOR),s){case Lr.INTERSECTION:return r===w.INTERIOR&&o===w.INTERIOR;case Lr.UNION:return r===w.INTERIOR||o===w.INTERIOR;case Lr.DIFFERENCE:return r===w.INTERIOR&&o!==w.INTERIOR;case Lr.SYMDIFFERENCE:return r===w.INTERIOR&&o!==w.INTERIOR||r!==w.INTERIOR&&o===w.INTERIOR}return!1}},Lr.INTERSECTION=1,Lr.UNION=2,Lr.DIFFERENCE=3,Lr.SYMDIFFERENCE=4;var br=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Si,this._seg=new dn;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};br.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),i=0;i<n.size()-1;i++)if(n.getCoordinate(i,this._seg.p0),n.getCoordinate(i+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},br.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?w.BOUNDARY:this._ptLocator.locate(t,this._g)},br.prototype.extractLinework=function(t){var e=new wr;t.apply(e);var n=e.getLinework(),i=_e.toLineStringArray(n);return t.getFactory().createMultiLineString(i)},br.prototype.interfaces_=function(){return[]},br.prototype.getClass=function(){return br};var wr=function(){this._linework=null,this._linework=new Nt};wr.prototype.getLinework=function(){return this._linework},wr.prototype.filter=function(t){if(t instanceof $t){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},wr.prototype.interfaces_=function(){return[Vt]},wr.prototype.getClass=function(){return wr};var Or=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Or.prototype.extractPoints=function(t,e,n){for(var i=t.getCoordinates(),r=0;r<i.length-1;r++)this.computeOffsetPoints(i[r],i[r+1],e,n)},Or.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Or.prototype.getPoints=function(t){for(var e=new Nt,n=Ci.getLines(this._g).iterator();n.hasNext();){var i=n.next();this.extractPoints(i,t,e)}return e},Or.prototype.computeOffsetPoints=function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,s=Math.sqrt(r*r+o*o),a=n*r/s,u=n*o/s,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var p=new C(l-u,c+a);i.add(p)}if(this._doRight){var h=new C(l+u,c-a);i.add(h)}},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or};var Tr=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Nt;var e=arguments[0],n=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,i],this._locFinder=[new br(this._geom[0],this._boundaryDistanceTolerance),new br(this._geom[1],this._boundaryDistanceTolerance),new br(this._geom[2],this._boundaryDistanceTolerance)]},Rr={TOLERANCE:{configurable:!0}};Tr.prototype.reportResult=function(t,e,n){Y.out.println("Overlay result invalid - A:"+w.toLocationSymbol(e[0])+" B:"+w.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+w.toLocationSymbol(e[2]))},Tr.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Tr.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._location[0]=this._locFinder[0].getLocation(r),this._location[1]=this._locFinder[1].getLocation(r),this._location[2]=this._locFinder[2].getLocation(r),!!Tr.hasLocation(this._location,w.BOUNDARY)||this.isValidResult(i,this._location)}},Tr.prototype.addTestPts=function(t){var e=new Or(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Tr.prototype.isValidResult=function(t,e){var n=Lr.isResultOfOp(e[0],e[1],t),i=!(n^e[2]===w.INTERIOR);return i||this.reportResult(t,e,n),i},Tr.prototype.getInvalidLocation=function(){return this._invalidLocation},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},Tr.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Tr.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Ji.computeSizeBasedSnapTolerance(t),Ji.computeSizeBasedSnapTolerance(e))},Tr.isValid=function(t,e,n,i){return new Tr(t,e,i).isValid(n)},Rr.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Tr,Rr);var Pr=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Pr.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},Pr.prototype.combine=function(){for(var t=new Nt,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Pr.prototype.interfaces_=function(){return[]},Pr.prototype.getClass=function(){return Pr},Pr.combine=function(){if(1===arguments.length)return new Pr(arguments[0]).combine();if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Pr(Pr.createList(e,n)).combine()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];return new Pr(Pr.createList(i,r,o)).combine()}},Pr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Pr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Nt;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=new Nt;return s.add(i),s.add(r),s.add(o),s}};var Dr=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Nt)},Mr={STRTREE_NODE_CAPACITY:{configurable:!0}};Dr.prototype.reduceToGeometries=function(t){for(var e=new Nt,n=t.iterator();n.hasNext();){var i=n.next(),r=null;T(i,xt)?r=this.unionTree(i):i instanceof ct&&(r=i),e.add(r)}return e},Dr.prototype.extractByEnvelope=function(t,e,n){for(var i=new Nt,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this._geomFactory.buildGeometry(i)},Dr.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i))return Pr.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},Dr.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new sn(Dr.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},Dr.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var r=Dr.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(Dr.getGeometry(e,n),Dr.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,i);return this.unionSafe(s,a)}},Dr.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},Dr.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Dr.prototype.unionActual=function(t,e){return Dr.restrictToPolygons(t.union(e))},Dr.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Dr.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var i=new Nt,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);return i.add(s),Pr.combine(i)},Dr.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr},Dr.restrictToPolygons=function(t){if(T(t,Zt))return t;var e=Ni.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(_e.toPolygonArray(e))},Dr.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Dr.union=function(t){return new Dr(t).union()},Mr.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Dr,Mr);var Ar=function(){};Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Lr.createEmptyResult(Lr.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Lr.UNION)},t.GeoJSONReader=Ne,t.GeoJSONWriter=Ce,t.OverlayOp=Lr,t.UnionOp=Ar,t.BufferOp=di,Object.defineProperty(t,"__esModule",{value:!0})}(exports)},"./node_modules/typed-function/lib/umd/typed-function.js":function(module){module.exports=function(){"use strict";function ok(){return!0}function notOk(){return!1}function undef(){}const NOT_TYPED_FUNCTION="Argument is not a typed-function.";function create(){function isPlainObject(x){return"object"==typeof x&&null!==x&&x.constructor===Object}const _types=[{name:"number",test:function(x){return"number"==typeof x}},{name:"string",test:function(x){return"string"==typeof x}},{name:"boolean",test:function(x){return"boolean"==typeof x}},{name:"Function",test:function(x){return"function"==typeof x}},{name:"Array",test:Array.isArray},{name:"Date",test:function(x){return x instanceof Date}},{name:"RegExp",test:function(x){return x instanceof RegExp}},{name:"Object",test:isPlainObject},{name:"null",test:function(x){return null===x}},{name:"undefined",test:function(x){return void 0===x}}],anyType={name:"any",test:ok,isAny:!0};let typeMap,typeList,nConversions=0,typed={createCount:0};function findType(typeName){const type=typeMap.get(typeName);if(type)return type;let message='Unknown type "'+typeName+'"';const name=typeName.toLowerCase();let otherName;for(otherName of typeList)if(otherName.toLowerCase()===name){message+='. Did you mean "'+otherName+'" ?';break}throw new TypeError(message)}function addTypes(types){let beforeSpec=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const beforeIndex=beforeSpec?findType(beforeSpec).index:typeList.length,newTypes=[];for(let i=0;i<types.length;++i){if(!types[i]||"string"!=typeof types[i].name||"function"!=typeof types[i].test)throw new TypeError("Object with properties {name: string, test: function} expected");const typeName=types[i].name;if(typeMap.has(typeName))throw new TypeError('Duplicate type name "'+typeName+'"');newTypes.push(typeName),typeMap.set(typeName,{name:typeName,test:types[i].test,isAny:types[i].isAny,index:beforeIndex+i,conversionsTo:[]})}const affectedTypes=typeList.slice(beforeIndex);typeList=typeList.slice(0,beforeIndex).concat(newTypes).concat(affectedTypes);for(let i=beforeIndex+newTypes.length;i<typeList.length;++i)typeMap.get(typeList[i]).index=i}function clear(){typeMap=new Map,typeList=[],nConversions=0,addTypes([anyType],!1)}function clearConversions(){let typeName;for(typeName of typeList)typeMap.get(typeName).conversionsTo=[];nConversions=0}function findTypeNames(value){const matches=typeList.filter((name=>{const type=typeMap.get(name);return!type.isAny&&type.test(value)}));return matches.length?matches:["any"]}function isTypedFunction(entity){return entity&&"function"==typeof entity&&"_typedFunctionData"in entity}function findSignature(fn,signature,options){if(!isTypedFunction(fn))throw new TypeError(NOT_TYPED_FUNCTION);const exact=options&&options.exact,params=parseSignature(Array.isArray(signature)?signature.join(","):signature),canonicalSignature=stringifyParams(params);if(!exact||canonicalSignature in fn.signatures){const match=fn._typedFunctionData.signatureMap.get(canonicalSignature);if(match)return match}const nParams=params.length;let remainingSignatures,candidate;if(exact){let name;for(name in remainingSignatures=[],fn.signatures)remainingSignatures.push(fn._typedFunctionData.signatureMap.get(name))}else remainingSignatures=fn._typedFunctionData.signatures;for(let i=0;i<nParams;++i){const want=params[i],filteredSignatures=[];let possibility;for(possibility of remainingSignatures){const have=getParamAtIndex(possibility.params,i);if(have&&(!want.restParam||have.restParam)){if(!have.hasAny){const haveTypes=paramTypeSet(have);if(want.types.some((wtype=>!haveTypes.has(wtype.name))))continue}filteredSignatures.push(possibility)}}if(remainingSignatures=filteredSignatures,0===remainingSignatures.length)break}for(candidate of remainingSignatures)if(candidate.params.length<=nParams)return candidate;throw new TypeError("Signature not found (signature: "+(fn.name||"unnamed")+"("+stringifyParams(params,", ")+"))")}function find(fn,signature,options){return findSignature(fn,signature,options).implementation}function convert(value,typeName){const type=findType(typeName);if(type.test(value))return value;const conversions=type.conversionsTo;if(0===conversions.length)throw new Error("There are no conversions to "+typeName+" defined.");for(let i=0;i<conversions.length;i++)if(findType(conversions[i].from).test(value))return conversions[i].convert(value);throw new Error("Cannot convert "+value+" to "+typeName)}function stringifyParams(params){let separator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return params.map((p=>p.name)).join(separator)}function parseParam(param){const restParam=0===param.indexOf("..."),typeDefs=(restParam?param.length>3?param.slice(3):"any":param).split("|").map((s=>findType(s.trim())));let hasAny=!1,paramName=restParam?"...":"";return{types:typeDefs.map((function(type){return hasAny=type.isAny||hasAny,paramName+=type.name+"|",{name:type.name,typeIndex:type.index,test:type.test,isAny:type.isAny,conversion:null,conversionIndex:-1}})),name:paramName.slice(0,-1),hasAny:hasAny,hasConversion:!1,restParam:restParam}}function expandParam(param){const matchingConversions=availableConversions(param.types.map((t=>t.name)));let hasAny=param.hasAny,newName=param.name;const convertibleTypes=matchingConversions.map((function(conversion){const type=findType(conversion.from);return hasAny=type.isAny||hasAny,newName+="|"+conversion.from,{name:conversion.from,typeIndex:type.index,test:type.test,isAny:type.isAny,conversion:conversion,conversionIndex:conversion.index}}));return{types:param.types.concat(convertibleTypes),name:newName,hasAny:hasAny,hasConversion:convertibleTypes.length>0,restParam:param.restParam}}function paramTypeSet(param){return param.typeSet||(param.typeSet=new Set,param.types.forEach((type=>param.typeSet.add(type.name)))),param.typeSet}function parseSignature(rawSignature){const params=[];if("string"!=typeof rawSignature)throw new TypeError("Signatures must be strings");const signature=rawSignature.trim();if(""===signature)return params;const rawParams=signature.split(",");for(let i=0;i<rawParams.length;++i){const parsedParam=parseParam(rawParams[i].trim());if(parsedParam.restParam&&i!==rawParams.length-1)throw new SyntaxError('Unexpected rest parameter "'+rawParams[i]+'": only allowed for the last parameter');if(0===parsedParam.types.length)return null;params.push(parsedParam)}return params}function hasRestParam(params){const param=last(params);return!!param&&param.restParam}function compileTest(param){if(param&&0!==param.types.length){if(1===param.types.length)return findType(param.types[0].name).test;if(2===param.types.length){const test0=findType(param.types[0].name).test,test1=findType(param.types[1].name).test;return function or(x){return test0(x)||test1(x)}}{const tests=param.types.map((function(type){return findType(type.name).test}));return function or(x){for(let i=0;i<tests.length;i++)if(tests[i](x))return!0;return!1}}}return ok}function compileTests(params){let tests,test0,test1;if(hasRestParam(params)){tests=initial(params).map(compileTest);const varIndex=tests.length,lastTest=compileTest(last(params)),testRestParam=function(args){for(let i=varIndex;i<args.length;i++)if(!lastTest(args[i]))return!1;return!0};return function testArgs(args){for(let i=0;i<tests.length;i++)if(!tests[i](args[i]))return!1;return testRestParam(args)&&args.length>=varIndex+1}}return 0===params.length?function testArgs(args){return 0===args.length}:1===params.length?(test0=compileTest(params[0]),function testArgs(args){return test0(args[0])&&1===args.length}):2===params.length?(test0=compileTest(params[0]),test1=compileTest(params[1]),function testArgs(args){return test0(args[0])&&test1(args[1])&&2===args.length}):(tests=params.map(compileTest),function testArgs(args){for(let i=0;i<tests.length;i++)if(!tests[i](args[i]))return!1;return args.length===tests.length})}function getParamAtIndex(params,index){return index<params.length?params[index]:hasRestParam(params)?last(params):null}function getTypeSetAtIndex(params,index){const param=getParamAtIndex(params,index);return param?paramTypeSet(param):new Set}function isExactType(type){return null===type.conversion||void 0===type.conversion}function mergeExpectedParams(signatures,index){const typeSet=new Set;return signatures.forEach((signature=>{const paramSet=getTypeSetAtIndex(signature.params,index);let name;for(name of paramSet)typeSet.add(name)})),typeSet.has("any")?["any"]:Array.from(typeSet)}function createError(name,args,signatures){let err,expected;const _name=name||"unnamed";let index,matchingSignatures=signatures;for(index=0;index<args.length;index++){const nextMatchingDefs=[];if(matchingSignatures.forEach((signature=>{const test=compileTest(getParamAtIndex(signature.params,index));(index<signature.params.length||hasRestParam(signature.params))&&test(args[index])&&nextMatchingDefs.push(signature)})),0===nextMatchingDefs.length){if(expected=mergeExpectedParams(matchingSignatures,index),expected.length>0){const actualTypes=findTypeNames(args[index]);return err=new TypeError("Unexpected type of argument in function "+_name+" (expected: "+expected.join(" or ")+", actual: "+actualTypes.join(" | ")+", index: "+index+")"),err.data={category:"wrongType",fn:_name,index:index,actual:actualTypes,expected:expected},err}}else matchingSignatures=nextMatchingDefs}const lengths=matchingSignatures.map((function(signature){return hasRestParam(signature.params)?1/0:signature.params.length}));if(args.length<Math.min.apply(null,lengths))return expected=mergeExpectedParams(matchingSignatures,index),err=new TypeError("Too few arguments in function "+_name+" (expected: "+expected.join(" or ")+", index: "+args.length+")"),err.data={category:"tooFewArgs",fn:_name,index:args.length,expected:expected},err;const maxLength=Math.max.apply(null,lengths);if(args.length>maxLength)return err=new TypeError("Too many arguments in function "+_name+" (expected: "+maxLength+", actual: "+args.length+")"),err.data={category:"tooManyArgs",fn:_name,index:args.length,expectedLength:maxLength},err;const argTypes=[];for(let i=0;i<args.length;++i)argTypes.push(findTypeNames(args[i]).join("|"));return err=new TypeError('Arguments of type "'+argTypes.join(", ")+'" do not match any of the defined signatures of function '+_name+"."),err.data={category:"mismatch",actual:argTypes},err}function getLowestTypeIndex(param){let min=typeList.length+1;for(let i=0;i<param.types.length;i++)isExactType(param.types[i])&&(min=Math.min(min,param.types[i].typeIndex));return min}function getLowestConversionIndex(param){let min=nConversions+1;for(let i=0;i<param.types.length;i++)isExactType(param.types[i])||(min=Math.min(min,param.types[i].conversionIndex));return min}function compareParams(param1,param2){if(param1.hasAny){if(!param2.hasAny)return 1}else if(param2.hasAny)return-1;if(param1.restParam){if(!param2.restParam)return 1}else if(param2.restParam)return-1;if(param1.hasConversion){if(!param2.hasConversion)return 1}else if(param2.hasConversion)return-1;const typeDiff=getLowestTypeIndex(param1)-getLowestTypeIndex(param2);if(typeDiff<0)return-1;if(typeDiff>0)return 1;const convDiff=getLowestConversionIndex(param1)-getLowestConversionIndex(param2);return convDiff<0?-1:convDiff>0?1:0}function compareSignatures(signature1,signature2){const pars1=signature1.params,pars2=signature2.params,last1=last(pars1),last2=last(pars2),hasRest1=hasRestParam(pars1),hasRest2=hasRestParam(pars2);if(hasRest1&&last1.hasAny){if(!hasRest2||!last2.hasAny)return 1}else if(hasRest2&&last2.hasAny)return-1;let par,any1=0,conv1=0;for(par of pars1)par.hasAny&&++any1,par.hasConversion&&++conv1;let any2=0,conv2=0;for(par of pars2)par.hasAny&&++any2,par.hasConversion&&++conv2;if(any1!==any2)return any1-any2;if(hasRest1&&last1.hasConversion){if(!hasRest2||!last2.hasConversion)return 1}else if(hasRest2&&last2.hasConversion)return-1;if(conv1!==conv2)return conv1-conv2;if(hasRest1){if(!hasRest2)return 1}else if(hasRest2)return-1;const lengthCriterion=(pars1.length-pars2.length)*(hasRest1?-1:1);if(0!==lengthCriterion)return lengthCriterion;const comparisons=[];let c,tc=0;for(let i=0;i<pars1.length;++i){const thisComparison=compareParams(pars1[i],pars2[i]);comparisons.push(thisComparison),tc+=thisComparison}if(0!==tc)return tc;for(c of comparisons)if(0!==c)return c;return 0}function availableConversions(typeNames){if(0===typeNames.length)return[];const types=typeNames.map(findType);typeNames.length>1&&types.sort(((t1,t2)=>t1.index-t2.index));let matches=types[0].conversionsTo;if(1===typeNames.length)return matches;matches=matches.concat([]);const knownTypes=new Set(typeNames);for(let i=1;i<types.length;++i){let newMatch;for(newMatch of types[i].conversionsTo)knownTypes.has(newMatch.from)||(matches.push(newMatch),knownTypes.add(newMatch.from))}return matches}function compileArgsPreprocessing(params,fn){let fnConvert=fn;if(params.some((p=>p.hasConversion))){const restParam=hasRestParam(params),compiledConversions=params.map(compileArgConversion);fnConvert=function convertArgs(){const args=[],last=restParam?arguments.length-1:arguments.length;for(let i=0;i<last;i++)args[i]=compiledConversions[i](arguments[i]);return restParam&&(args[last]=arguments[last].map(compiledConversions[last])),fn.apply(this,args)}}let fnPreprocess=fnConvert;if(hasRestParam(params)){const offset=params.length-1;fnPreprocess=function preprocessRestParams(){return fnConvert.apply(this,slice(arguments,0,offset).concat([slice(arguments,offset)]))}}return fnPreprocess}function compileArgConversion(param){let test0,test1,conversion0,conversion1;const tests=[],conversions=[];switch(param.types.forEach((function(type){type.conversion&&(tests.push(findType(type.conversion.from).test),conversions.push(type.conversion.convert))})),conversions.length){case 0:return function convertArg(arg){return arg};case 1:return test0=tests[0],conversion0=conversions[0],function convertArg(arg){return test0(arg)?conversion0(arg):arg};case 2:return test0=tests[0],test1=tests[1],conversion0=conversions[0],conversion1=conversions[1],function convertArg(arg){return test0(arg)?conversion0(arg):test1(arg)?conversion1(arg):arg};default:return function convertArg(arg){for(let i=0;i<conversions.length;i++)if(tests[i](arg))return conversions[i](arg);return arg}}}function splitParams(params){function _splitParams(params,index,paramsSoFar){if(index<params.length){const param=params[index];let resultingParams=[];if(param.restParam){const exactTypes=param.types.filter(isExactType);exactTypes.length<param.types.length&&resultingParams.push({types:exactTypes,name:"..."+exactTypes.map((t=>t.name)).join("|"),hasAny:exactTypes.some((t=>t.isAny)),hasConversion:!1,restParam:!0}),resultingParams.push(param)}else resultingParams=param.types.map((function(type){return{types:[type],name:type.name,hasAny:type.isAny,hasConversion:type.conversion,restParam:!1}}));return flatMap(resultingParams,(function(nextParam){return _splitParams(params,index+1,paramsSoFar.concat([nextParam]))}))}return[paramsSoFar]}return _splitParams(params,0,[])}function conflicting(params1,params2){const ii=Math.max(params1.length,params2.length);for(let i=0;i<ii;i++){const typeSet1=getTypeSetAtIndex(params1,i),typeSet2=getTypeSetAtIndex(params2,i);let name,overlap=!1;for(name of typeSet2)if(typeSet1.has(name)){overlap=!0;break}if(!overlap)return!1}const len1=params1.length,len2=params2.length,restParam1=hasRestParam(params1),restParam2=hasRestParam(params2);return restParam1?restParam2?len1===len2:len2>=len1:restParam2?len1>=len2:len1===len2}function clearResolutions(functionList){return functionList.map((fn=>isReferToSelf(fn)?referToSelf(fn.referToSelf.callback):isReferTo(fn)?makeReferTo(fn.referTo.references,fn.referTo.callback):fn))}function collectResolutions(references,functionList,signatureMap){const resolvedReferences=[];let reference;for(reference of references){let resolution=signatureMap[reference];if("number"!=typeof resolution)throw new TypeError('No definition for referenced signature "'+reference+'"');if(resolution=functionList[resolution],"function"!=typeof resolution)return!1;resolvedReferences.push(resolution)}return resolvedReferences}function resolveReferences(functionList,signatureMap,self){const resolvedFunctions=clearResolutions(functionList),isResolved=new Array(resolvedFunctions.length).fill(!1);let leftUnresolved=!0;for(;leftUnresolved;){leftUnresolved=!1;let nothingResolved=!0;for(let i=0;i<resolvedFunctions.length;++i){if(isResolved[i])continue;const fn=resolvedFunctions[i];if(isReferToSelf(fn))resolvedFunctions[i]=fn.referToSelf.callback(self),resolvedFunctions[i].referToSelf=fn.referToSelf,isResolved[i]=!0,nothingResolved=!1;else if(isReferTo(fn)){const resolvedReferences=collectResolutions(fn.referTo.references,resolvedFunctions,signatureMap);resolvedReferences?(resolvedFunctions[i]=fn.referTo.callback.apply(this,resolvedReferences),resolvedFunctions[i].referTo=fn.referTo,isResolved[i]=!0,nothingResolved=!1):leftUnresolved=!0}}if(nothingResolved&&leftUnresolved)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return resolvedFunctions}function validateDeprecatedThis(signaturesMap){const deprecatedThisRegex=/\bthis(\(|\.signatures\b)/;Object.keys(signaturesMap).forEach((signature=>{const fn=signaturesMap[signature];if(deprecatedThisRegex.test(fn.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")}))}function createTypedFunction(name,rawSignaturesMap){if(typed.createCount++,0===Object.keys(rawSignaturesMap).length)throw new SyntaxError("No signatures provided");typed.warnAgainstDeprecatedThis&&validateDeprecatedThis(rawSignaturesMap);const parsedParams=[],originalFunctions=[],signaturesMap={},preliminarySignatures=[];let signature;for(signature in rawSignaturesMap){if(!Object.prototype.hasOwnProperty.call(rawSignaturesMap,signature))continue;const params=parseSignature(signature);if(!params)continue;parsedParams.forEach((function(pp){if(conflicting(pp,params))throw new TypeError('Conflicting signatures "'+stringifyParams(pp)+'" and "'+stringifyParams(params)+'".')})),parsedParams.push(params);const functionIndex=originalFunctions.length;originalFunctions.push(rawSignaturesMap[signature]);const conversionParams=params.map(expandParam);let sp;for(sp of splitParams(conversionParams)){const spName=stringifyParams(sp);preliminarySignatures.push({params:sp,name:spName,fn:functionIndex}),sp.every((p=>!p.hasConversion))&&(signaturesMap[spName]=functionIndex)}}preliminarySignatures.sort(compareSignatures);const resolvedFunctions=resolveReferences(originalFunctions,signaturesMap,theTypedFn);let s;for(s in signaturesMap)Object.prototype.hasOwnProperty.call(signaturesMap,s)&&(signaturesMap[s]=resolvedFunctions[signaturesMap[s]]);const signatures=[],internalSignatureMap=new Map;for(s of preliminarySignatures)internalSignatureMap.has(s.name)||(s.fn=resolvedFunctions[s.fn],signatures.push(s),internalSignatureMap.set(s.name,s));const ok0=signatures[0]&&signatures[0].params.length<=2&&!hasRestParam(signatures[0].params),ok1=signatures[1]&&signatures[1].params.length<=2&&!hasRestParam(signatures[1].params),ok2=signatures[2]&&signatures[2].params.length<=2&&!hasRestParam(signatures[2].params),ok3=signatures[3]&&signatures[3].params.length<=2&&!hasRestParam(signatures[3].params),ok4=signatures[4]&&signatures[4].params.length<=2&&!hasRestParam(signatures[4].params),ok5=signatures[5]&&signatures[5].params.length<=2&&!hasRestParam(signatures[5].params),allOk=ok0&&ok1&&ok2&&ok3&&ok4&&ok5;for(let i=0;i<signatures.length;++i)signatures[i].test=compileTests(signatures[i].params);const test00=ok0?compileTest(signatures[0].params[0]):notOk,test10=ok1?compileTest(signatures[1].params[0]):notOk,test20=ok2?compileTest(signatures[2].params[0]):notOk,test30=ok3?compileTest(signatures[3].params[0]):notOk,test40=ok4?compileTest(signatures[4].params[0]):notOk,test50=ok5?compileTest(signatures[5].params[0]):notOk,test01=ok0?compileTest(signatures[0].params[1]):notOk,test11=ok1?compileTest(signatures[1].params[1]):notOk,test21=ok2?compileTest(signatures[2].params[1]):notOk,test31=ok3?compileTest(signatures[3].params[1]):notOk,test41=ok4?compileTest(signatures[4].params[1]):notOk,test51=ok5?compileTest(signatures[5].params[1]):notOk;for(let i=0;i<signatures.length;++i)signatures[i].implementation=compileArgsPreprocessing(signatures[i].params,signatures[i].fn);const fn0=ok0?signatures[0].implementation:undef,fn1=ok1?signatures[1].implementation:undef,fn2=ok2?signatures[2].implementation:undef,fn3=ok3?signatures[3].implementation:undef,fn4=ok4?signatures[4].implementation:undef,fn5=ok5?signatures[5].implementation:undef,len0=ok0?signatures[0].params.length:-1,len1=ok1?signatures[1].params.length:-1,len2=ok2?signatures[2].params.length:-1,len3=ok3?signatures[3].params.length:-1,len4=ok4?signatures[4].params.length:-1,len5=ok5?signatures[5].params.length:-1,iStart=allOk?6:0,iEnd=signatures.length,tests=signatures.map((s=>s.test)),fns=signatures.map((s=>s.implementation)),generic=function generic(){for(let i=iStart;i<iEnd;i++)if(tests[i](arguments))return fns[i].apply(this,arguments);return typed.onMismatch(name,arguments,signatures)};function theTypedFn(arg0,arg1){return arguments.length===len0&&test00(arg0)&&test01(arg1)?fn0.apply(this,arguments):arguments.length===len1&&test10(arg0)&&test11(arg1)?fn1.apply(this,arguments):arguments.length===len2&&test20(arg0)&&test21(arg1)?fn2.apply(this,arguments):arguments.length===len3&&test30(arg0)&&test31(arg1)?fn3.apply(this,arguments):arguments.length===len4&&test40(arg0)&&test41(arg1)?fn4.apply(this,arguments):arguments.length===len5&&test50(arg0)&&test51(arg1)?fn5.apply(this,arguments):generic.apply(this,arguments)}try{Object.defineProperty(theTypedFn,"name",{value:name})}catch(err){}return theTypedFn.signatures=signaturesMap,theTypedFn._typedFunctionData={signatures:signatures,signatureMap:internalSignatureMap},theTypedFn}function _onMismatch(name,args,signatures){throw createError(name,args,signatures)}function initial(arr){return slice(arr,0,arr.length-1)}function last(arr){return arr[arr.length-1]}function slice(arr,start,end){return Array.prototype.slice.call(arr,start,end)}function findInArray(arr,test){for(let i=0;i<arr.length;i++)if(test(arr[i]))return arr[i]}function flatMap(arr,callback){return Array.prototype.concat.apply([],arr.map(callback))}function referTo(){const references=initial(arguments).map((s=>stringifyParams(parseSignature(s)))),callback=last(arguments);if("function"!=typeof callback)throw new TypeError("Callback function expected as last argument");return makeReferTo(references,callback)}function makeReferTo(references,callback){return{referTo:{references:references,callback:callback}}}function referToSelf(callback){if("function"!=typeof callback)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:callback}}}function isReferTo(objectOrFn){return objectOrFn&&"object"==typeof objectOrFn.referTo&&Array.isArray(objectOrFn.referTo.references)&&"function"==typeof objectOrFn.referTo.callback}function isReferToSelf(objectOrFn){return objectOrFn&&"object"==typeof objectOrFn.referToSelf&&"function"==typeof objectOrFn.referToSelf.callback}function checkName(nameSoFar,newName){if(!nameSoFar)return newName;if(newName&&newName!==nameSoFar){const err=new Error("Function names do not match (expected: "+nameSoFar+", actual: "+newName+")");throw err.data={actual:newName,expected:nameSoFar},err}return nameSoFar}function getObjectName(obj){let name;for(const key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(isTypedFunction(obj[key])||"string"==typeof obj[key].signature)&&(name=checkName(name,obj[key].name));return name}function mergeSignatures(dest,source){let key;for(key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(key in dest&&source[key]!==dest[key]){const err=new Error('Signature "'+key+'" is defined twice');throw err.data={signature:key,sourceFunction:source[key],destFunction:dest[key]},err}dest[key]=source[key]}}clear(),addTypes(_types);const saveTyped=typed;function _validateConversion(conversion){if(!conversion||"string"!=typeof conversion.from||"string"!=typeof conversion.to||"function"!=typeof conversion.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(conversion.to===conversion.from)throw new SyntaxError('Illegal to define conversion from "'+conversion.from+'" to itself.')}return typed=function(maybeName){const named="string"==typeof maybeName;let name=named?maybeName:"";const allSignatures={};for(let i=named?1:0;i<arguments.length;++i){const item=arguments[i];let thisName,theseSignatures={};if("function"==typeof item?(thisName=item.name,"string"==typeof item.signature?theseSignatures[item.signature]=item:isTypedFunction(item)&&(theseSignatures=item.signatures)):isPlainObject(item)&&(theseSignatures=item,named||(thisName=getObjectName(item))),0===Object.keys(theseSignatures).length){const err=new TypeError("Argument to 'typed' at index "+i+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw err.data={index:i,argument:item},err}named||(name=checkName(name,thisName)),mergeSignatures(allSignatures,theseSignatures)}return createTypedFunction(name||"",allSignatures)},typed.create=create,typed.createCount=saveTyped.createCount,typed.onMismatch=_onMismatch,typed.throwMismatchError=_onMismatch,typed.createError=createError,typed.clear=clear,typed.clearConversions=clearConversions,typed.addTypes=addTypes,typed._findType=findType,typed.referTo=referTo,typed.referToSelf=referToSelf,typed.convert=convert,typed.findSignature=findSignature,typed.find=find,typed.isTypedFunction=isTypedFunction,typed.warnAgainstDeprecatedThis=!0,typed.addType=function(type,beforeObjectTest){let before="any";!1!==beforeObjectTest&&typeMap.has("Object")&&(before="Object"),typed.addTypes([type],before)},typed.addConversion=function(conversion){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};_validateConversion(conversion);const to=findType(conversion.to),existing=to.conversionsTo.find((other=>other.from===conversion.from));if(existing){if(!options||!options.override)throw new Error('There is already a conversion from "'+conversion.from+'" to "'+to.name+'"');typed.removeConversion({from:existing.from,to:conversion.to,convert:existing.convert})}to.conversionsTo.push({from:conversion.from,convert:conversion.convert,index:nConversions++})},typed.addConversions=function(conversions,options){conversions.forEach((conversion=>typed.addConversion(conversion,options)))},typed.removeConversion=function(conversion){_validateConversion(conversion);const to=findType(conversion.to),existingConversion=findInArray(to.conversionsTo,(c=>c.from===conversion.from));if(!existingConversion)throw new Error("Attempt to remove nonexistent conversion from "+conversion.from+" to "+conversion.to);if(existingConversion.convert!==conversion.convert)throw new Error("Conversion to remove does not match existing conversion");const index=to.conversionsTo.indexOf(existingConversion);to.conversionsTo.splice(index,1)},typed.resolve=function(tf,argList){if(!isTypedFunction(tf))throw new TypeError(NOT_TYPED_FUNCTION);const sigs=tf._typedFunctionData.signatures;for(let i=0;i<sigs.length;++i)if(sigs[i].test(argList))return sigs[i];return null},typed}return create()}()},"./node_modules/which-boxed-primitive/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isString=__webpack_require__("./node_modules/is-string/index.js"),isNumber=__webpack_require__("./node_modules/is-number-object/index.js"),isBoolean=__webpack_require__("./node_modules/is-boolean-object/index.js"),isSymbol=__webpack_require__("./node_modules/is-symbol/index.js"),isBigInt=__webpack_require__("./node_modules/is-bigint/index.js");module.exports=function whichBoxedPrimitive(value){return null==value||"object"!=typeof value&&"function"!=typeof value?null:isString(value)?"String":isNumber(value)?"Number":isBoolean(value)?"Boolean":isSymbol(value)?"Symbol":isBigInt(value)?"BigInt":void 0}},"./node_modules/which-collection/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isMap=__webpack_require__("./node_modules/is-map/index.js"),isSet=__webpack_require__("./node_modules/is-set/index.js"),isWeakMap=__webpack_require__("./node_modules/is-weakmap/index.js"),isWeakSet=__webpack_require__("./node_modules/is-weakset/index.js");module.exports=function whichCollection(value){if(value&&"object"==typeof value){if(isMap(value))return"Map";if(isSet(value))return"Set";if(isWeakMap(value))return"WeakMap";if(isWeakSet(value))return"WeakSet"}return!1}},"./node_modules/which-typed-array/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var forEach=__webpack_require__("./node_modules/for-each/index.js"),availableTypedArrays=__webpack_require__("./node_modules/available-typed-arrays/index.js"),callBind=__webpack_require__("./node_modules/call-bind/index.js"),callBound=__webpack_require__("./node_modules/call-bind/callBound.js"),gOPD=__webpack_require__("./node_modules/gopd/index.js"),$toString=callBound("Object.prototype.toString"),hasToStringTag=__webpack_require__("./node_modules/has-tostringtag/shams.js")(),g="undefined"==typeof globalThis?__webpack_require__.g:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),getPrototypeOf=Object.getPrototypeOf,$indexOf=callBound("Array.prototype.indexOf",!0)||function indexOf(array,value){for(var i=0;i<array.length;i+=1)if(array[i]===value)return i;return-1},cache={__proto__:null};forEach(typedArrays,hasToStringTag&&gOPD&&getPrototypeOf?function(typedArray){var arr=new g[typedArray];if(Symbol.toStringTag in arr){var proto=getPrototypeOf(arr),descriptor=gOPD(proto,Symbol.toStringTag);if(!descriptor){var superProto=getPrototypeOf(proto);descriptor=gOPD(superProto,Symbol.toStringTag)}cache["$"+typedArray]=callBind(descriptor.get)}}:function(typedArray){var arr=new g[typedArray],fn=arr.slice||arr.set;fn&&(cache["$"+typedArray]=callBind(fn))});module.exports=function whichTypedArray(value){if(!value||"object"!=typeof value)return!1;if(!hasToStringTag){var tag=$slice($toString(value),8,-1);return $indexOf(typedArrays,tag)>-1?tag:"Object"===tag&&function tryAllSlices(value){var found=!1;return forEach(cache,(function(getter,name){if(!found)try{getter(value),found=$slice(name,1)}catch(e){}})),found}(value)}return gOPD?function tryAllTypedArrays(value){var found=!1;return forEach(cache,(function(getter,typedArray){if(!found)try{"$"+getter(value)===typedArray&&(found=$slice(typedArray,1))}catch(e){}})),found}(value):null}},"./node_modules/workerpool/dist/workerpool.js":function(__unused_webpack_module,exports,__webpack_require__){var process=__webpack_require__("./node_modules/process/browser.js");!function(exports){"use strict";var src={},environment={exports:{}};!function(module){var isNode=function(nodeProcess){return void 0!==nodeProcess&&null!=nodeProcess.versions&&null!=nodeProcess.versions.node&&nodeProcess+""=="[object process]"};module.exports.isNode=isNode,module.exports.platform=void 0!==process&&isNode(process)?"node":"browser";var worker_threads="node"===module.exports.platform&&__webpack_require__("?5693");module.exports.isMainThread="node"===module.exports.platform?(!worker_threads||worker_threads.isMainThread)&&!process.connected:"undefined"!=typeof Window,module.exports.cpus="browser"===module.exports.platform?self.navigator.hardwareConcurrency:__webpack_require__("?90e7").cpus().length}(environment);var hasRequired_Promise,environmentExports=environment.exports,_Promise$1={};function require_Promise(){if(hasRequired_Promise)return _Promise$1;function Promise(handler,parent){var me=this;if(!(this instanceof Promise))throw new SyntaxError("Constructor must be called with the new operator");if("function"!=typeof handler)throw new SyntaxError("Function parameter handler(resolve, reject) missing");var _onSuccess=[],_onFail=[];this.resolved=!1,this.rejected=!1,this.pending=!0;var _process=function(onSuccess,onFail){_onSuccess.push(onSuccess),_onFail.push(onFail)};this.then=function(onSuccess,onFail){return new Promise((function(resolve,reject){var s=onSuccess?_then(onSuccess,resolve,reject):resolve,f=onFail?_then(onFail,resolve,reject):reject;_process(s,f)}),me)};var _resolve=function(result){return me.resolved=!0,me.rejected=!1,me.pending=!1,_onSuccess.forEach((function(fn){fn(result)})),_process=function(onSuccess,onFail){onSuccess(result)},_resolve=_reject=function(){},me},_reject=function(error){return me.resolved=!1,me.rejected=!0,me.pending=!1,_onFail.forEach((function(fn){fn(error)})),_process=function(onSuccess,onFail){onFail(error)},_resolve=_reject=function(){},me};this.cancel=function(){return parent?parent.cancel():_reject(new CancellationError),me},this.timeout=function(delay){if(parent)parent.timeout(delay);else{var timer=setTimeout((function(){_reject(new TimeoutError("Promise timed out after "+delay+" ms"))}),delay);me.always((function(){clearTimeout(timer)}))}return me},handler((function(result){_resolve(result)}),(function(error){_reject(error)}))}function _then(callback,resolve,reject){return function(result){try{var res=callback(result);res&&"function"==typeof res.then&&"function"==typeof res.catch?res.then(resolve,reject):resolve(res)}catch(error){reject(error)}}}function CancellationError(message){this.message=message||"promise cancelled",this.stack=(new Error).stack}function TimeoutError(message){this.message=message||"timeout exceeded",this.stack=(new Error).stack}return hasRequired_Promise=1,Promise.prototype.catch=function(onFail){return this.then(null,onFail)},Promise.prototype.always=function(fn){return this.then(fn,fn)},Promise.all=function(promises){return new Promise((function(resolve,reject){var remaining=promises.length,results=[];remaining?promises.forEach((function(p,i){p.then((function(result){results[i]=result,0==--remaining&&resolve(results)}),(function(error){remaining=0,reject(error)}))})):resolve(results)}))},Promise.defer=function(){var resolver={};return resolver.promise=new Promise((function(resolve,reject){resolver.resolve=resolve,resolver.reject=reject})),resolver},CancellationError.prototype=new Error,CancellationError.prototype.constructor=Error,CancellationError.prototype.name="CancellationError",Promise.CancellationError=CancellationError,TimeoutError.prototype=new Error,TimeoutError.prototype.constructor=Error,TimeoutError.prototype.name="TimeoutError",Promise.TimeoutError=TimeoutError,_Promise$1.Promise=Promise,_Promise$1}var hasRequiredValidateOptions,embeddedWorker,hasRequiredEmbeddedWorker,hasRequiredWorkerHandler,debugPortAllocator,hasRequiredDebugPortAllocator,Pool_1,hasRequiredPool,WorkerHandler={exports:{}},validateOptions={};function requireValidateOptions(){return hasRequiredValidateOptions||(hasRequiredValidateOptions=1,validateOptions.validateOptions=function validateOptions(options,allowedOptionNames,objectName){if(options){var optionNames=options?Object.keys(options):[],unknownOptionName=optionNames.find((optionName=>!allowedOptionNames.includes(optionName)));if(unknownOptionName)throw new Error('Object "'+objectName+'" contains an unknown option "'+unknownOptionName+'"');var illegalOptionName=allowedOptionNames.find((allowedOptionName=>Object.prototype[allowedOptionName]&&!optionNames.includes(allowedOptionName)));if(illegalOptionName)throw new Error('Object "'+objectName+'" contains an inherited option "'+illegalOptionName+'" which is not defined in the object itself but in its prototype. Only plain objects are allowed. Please remove the option from the prototype or override it with a value "undefined".');return options}},validateOptions.workerOptsNames=["credentials","name","type"],validateOptions.forkOptsNames=["cwd","detached","env","execPath","execArgv","gid","serialization","signal","killSignal","silent","stdio","uid","windowsVerbatimArguments","timeout"],validateOptions.workerThreadOptsNames=["argv","env","eval","execArgv","stdin","stdout","stderr","workerData","trackUnmanagedFds","transferList","resourceLimits","name"]),validateOptions}function requireEmbeddedWorker(){return hasRequiredEmbeddedWorker?embeddedWorker:(hasRequiredEmbeddedWorker=1,embeddedWorker='!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).worker=n()}(this,(function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n={};var t=function(e,n){this.message=e,this.transfer=n};return function(e){var n=t,r={exit:function(){}};if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)r.on=function(e,n){addEventListener(e,(function(e){n(e.data)}))},r.send=function(e){postMessage(e)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");var o;try{o=require("worker_threads")}catch(e){if("object"!=typeof e||null===e||"MODULE_NOT_FOUND"!==e.code)throw e}if(o&&null!==o.parentPort){var i=o.parentPort;r.send=i.postMessage.bind(i),r.on=i.on.bind(i),r.exit=process.exit.bind(process)}else r.on=process.on.bind(process),r.send=function(e){process.send(e)},r.on("disconnect",(function(){process.exit(1)})),r.exit=process.exit.bind(process)}function s(e){return Object.getOwnPropertyNames(e).reduce((function(n,t){return Object.defineProperty(n,t,{value:e[t],enumerable:!0})}),{})}function d(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}r.methods={},r.methods.run=function(e,n){var t=new Function("return ("+e+").apply(null, arguments);");return t.apply(t,n)},r.methods.methods=function(){return Object.keys(r.methods)},r.terminationHandler=void 0,r.cleanupAndExit=function(e){var n=function(){r.exit(e)};if(!r.terminationHandler)return n();var t=r.terminationHandler(e);d(t)?t.then(n,n):n()};var u=null;r.on("message",(function(e){if("__workerpool-terminate__"===e)return r.cleanupAndExit(0);try{var t=r.methods[e.method];if(!t)throw new Error(\'Unknown method "\'+e.method+\'"\');u=e.id;var o=t.apply(t,e.params);d(o)?o.then((function(t){t instanceof n?r.send({id:e.id,result:t.message,error:null},t.transfer):r.send({id:e.id,result:t,error:null}),u=null})).catch((function(n){r.send({id:e.id,result:null,error:s(n)}),u=null})):(o instanceof n?r.send({id:e.id,result:o.message,error:null},o.transfer):r.send({id:e.id,result:o,error:null}),u=null)}catch(n){r.send({id:e.id,result:null,error:s(n)})}})),r.register=function(e,n){if(e)for(var t in e)e.hasOwnProperty(t)&&(r.methods[t]=e[t]);n&&(r.terminationHandler=n.onTerminate),r.send("ready")},r.emit=function(e){if(u){if(e instanceof n)return void r.send({id:u,isEvent:!0,payload:e.message},e.transfer);r.send({id:u,isEvent:!0,payload:e})}},e.add=r.register,e.emit=r.emit}(n),e(n)}));\n//# sourceMappingURL=worker.min.js.map\n')}function requireWorkerHandler(){if(hasRequiredWorkerHandler)return WorkerHandler.exports;hasRequiredWorkerHandler=1;var{Promise:Promise}=require_Promise(),environment=environmentExports;const{validateOptions:validateOptions,forkOptsNames:forkOptsNames,workerThreadOptsNames:workerThreadOptsNames,workerOptsNames:workerOptsNames}=requireValidateOptions();var TERMINATE_METHOD_ID="__workerpool-terminate__";function ensureWorkerThreads(){var WorkerThreads=tryRequireWorkerThreads();if(!WorkerThreads)throw new Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return WorkerThreads}function ensureWebWorker(){if("function"!=typeof Worker&&("object"!=typeof Worker||"function"!=typeof Worker.prototype.constructor))throw new Error("WorkerPool: Web Workers not supported")}function tryRequireWorkerThreads(){try{return __webpack_require__("?5693")}catch(error){if("object"==typeof error&&null!==error&&"MODULE_NOT_FOUND"===error.code)return null;throw error}}function getDefaultWorker(){if("browser"===environment.platform){if("undefined"==typeof Blob)throw new Error("Blob not supported by the browser");if(!window.URL||"function"!=typeof window.URL.createObjectURL)throw new Error("URL.createObjectURL not supported by the browser");var blob=new Blob([requireEmbeddedWorker()],{type:"text/javascript"});return window.URL.createObjectURL(blob)}return"//worker.js"}function setupWorker(script,options){if("web"===options.workerType)return ensureWebWorker(),setupBrowserWorker(script,options.workerOpts,Worker);if("thread"===options.workerType)return setupWorkerThreadWorker(script,WorkerThreads=ensureWorkerThreads(),options);if("process"!==options.workerType&&options.workerType){if("browser"===environment.platform)return ensureWebWorker(),setupBrowserWorker(script,options.workerOpts,Worker);var WorkerThreads=tryRequireWorkerThreads();return WorkerThreads?setupWorkerThreadWorker(script,WorkerThreads,options):setupProcessWorker(script,resolveForkOptions(options),__webpack_require__("?ccfa"))}return setupProcessWorker(script,resolveForkOptions(options),__webpack_require__("?ccfa"))}function setupBrowserWorker(script,workerOpts,Worker){validateOptions(workerOpts,workerOptsNames,"workerOpts");var worker=new Worker(script,workerOpts);return worker.isBrowserWorker=!0,worker.on=function(event,callback){this.addEventListener(event,(function(message){callback(message.data)}))},worker.send=function(message,transfer){this.postMessage(message,transfer)},worker}function setupWorkerThreadWorker(script,WorkerThreads,options){validateOptions(options?.workerThreadOpts,workerThreadOptsNames,"workerThreadOpts");var worker=new WorkerThreads.Worker(script,{stdout:options?.emitStdStreams??!1,stderr:options?.emitStdStreams??!1,...options?.workerThreadOpts});return worker.isWorkerThread=!0,worker.send=function(message,transfer){this.postMessage(message,transfer)},worker.kill=function(){return this.terminate(),!0},worker.disconnect=function(){this.terminate()},options?.emitStdStreams&&(worker.stdout.on("data",(data=>worker.emit("stdout",data))),worker.stderr.on("data",(data=>worker.emit("stderr",data)))),worker}function setupProcessWorker(script,options,child_process){validateOptions(options.forkOpts,forkOptsNames,"forkOpts");var worker=child_process.fork(script,options.forkArgs,options.forkOpts),send=worker.send;return worker.send=function(message){return send.call(worker,message)},options.emitStdStreams&&(worker.stdout.on("data",(data=>worker.emit("stdout",data))),worker.stderr.on("data",(data=>worker.emit("stderr",data)))),worker.isChildProcess=!0,worker}function resolveForkOptions(opts){opts=opts||{};var processExecArgv=process.execArgv.join(" "),inspectorActive=-1!==processExecArgv.indexOf("--inspect"),debugBrk=-1!==processExecArgv.indexOf("--debug-brk"),execArgv=[];return inspectorActive&&(execArgv.push("--inspect="+opts.debugPort),debugBrk&&execArgv.push("--debug-brk")),process.execArgv.forEach((function(arg){arg.indexOf("--max-old-space-size")>-1&&execArgv.push(arg)})),Object.assign({},opts,{forkArgs:opts.forkArgs,forkOpts:Object.assign({},opts.forkOpts,{execArgv:(opts.forkOpts&&opts.forkOpts.execArgv||[]).concat(execArgv),stdio:opts.emitStdStreams?"pipe":void 0})})}function objectToError(obj){for(var temp=new Error(""),props=Object.keys(obj),i=0;i<props.length;i++)temp[props[i]]=obj[props[i]];return temp}function handleEmittedStdPayload(handler,payload){if(1===Object.keys(handler.processing).length){var task=Object.values(handler.processing)[0];task.options&&"function"==typeof task.options.on&&task.options.on(payload)}}function WorkerHandler$1(script,_options){var me=this,options=_options||{};function onError(error){for(var id in me.terminated=!0,me.processing)void 0!==me.processing[id]&&me.processing[id].resolver.reject(error);me.processing=Object.create(null)}function dispatchQueuedRequests(){for(const request of me.requestQueue.splice(0))me.worker.send(request.message,request.transfer)}this.script=script||getDefaultWorker(),this.worker=setupWorker(this.script,options),this.debugPort=options.debugPort,this.forkOpts=options.forkOpts,this.forkArgs=options.forkArgs,this.workerOpts=options.workerOpts,this.workerThreadOpts=options.workerThreadOpts,this.workerTerminateTimeout=options.workerTerminateTimeout,script||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("stdout",(function(data){handleEmittedStdPayload(me,{stdout:data.toString()})})),this.worker.on("stderr",(function(data){handleEmittedStdPayload(me,{stderr:data.toString()})})),this.worker.on("message",(function(response){if(!me.terminated)if("string"==typeof response&&"ready"===response)me.worker.ready=!0,dispatchQueuedRequests();else{var id=response.id,task=me.processing[id];void 0!==task&&(response.isEvent?task.options&&"function"==typeof task.options.on&&task.options.on(response.payload):(delete me.processing[id],!0===me.terminating&&me.terminate(),response.error?task.resolver.reject(objectToError(response.error)):task.resolver.resolve(response.result)))}}));var worker=this.worker;this.worker.on("error",onError),this.worker.on("exit",(function(exitCode,signalCode){var message="Workerpool Worker terminated Unexpectedly\n";message+="    exitCode: `"+exitCode+"`\n",message+="    signalCode: `"+signalCode+"`\n",message+="    workerpool.script: `"+me.script+"`\n",message+="    spawnArgs: `"+worker.spawnargs+"`\n",message+="    spawnfile: `"+worker.spawnfile+"`\n",message+="    stdout: `"+worker.stdout+"`\n",message+="    stderr: `"+worker.stderr+"`\n",onError(new Error(message))})),this.processing=Object.create(null),this.terminating=!1,this.terminated=!1,this.cleaning=!1,this.terminationHandler=null,this.lastId=0}return WorkerHandler$1.prototype.methods=function(){return this.exec("methods")},WorkerHandler$1.prototype.exec=function(method,params,resolver,options){resolver||(resolver=Promise.defer());var id=++this.lastId;this.processing[id]={id:id,resolver:resolver,options:options};var request={message:{id:id,method:method,params:params},transfer:options&&options.transfer};this.terminated?resolver.reject(new Error("Worker is terminated")):this.worker.ready?this.worker.send(request.message,request.transfer):this.requestQueue.push(request);var me=this;return resolver.promise.catch((function(error){if(error instanceof Promise.CancellationError||error instanceof Promise.TimeoutError)return delete me.processing[id],me.terminateAndNotify(!0).then((function(){throw error}),(function(err){throw err}));throw error}))},WorkerHandler$1.prototype.busy=function(){return this.cleaning||Object.keys(this.processing).length>0},WorkerHandler$1.prototype.terminate=function(force,callback){var me=this;if(force){for(var id in this.processing)void 0!==this.processing[id]&&this.processing[id].resolver.reject(new Error("Worker terminated"));this.processing=Object.create(null)}if("function"==typeof callback&&(this.terminationHandler=callback),this.busy())this.terminating=!0;else{var cleanup=function(err){if(me.terminated=!0,me.cleaning=!1,null!=me.worker&&me.worker.removeAllListeners&&me.worker.removeAllListeners("message"),me.worker=null,me.terminating=!1,me.terminationHandler)me.terminationHandler(err,me);else if(err)throw err};if(this.worker){if("function"==typeof this.worker.kill){if(this.worker.killed)return void cleanup(new Error("worker already killed!"));var cleanExitTimeout=setTimeout((function(){me.worker&&me.worker.kill()}),this.workerTerminateTimeout);return this.worker.once("exit",(function(){clearTimeout(cleanExitTimeout),me.worker&&(me.worker.killed=!0),cleanup()})),this.worker.ready?this.worker.send(TERMINATE_METHOD_ID):this.requestQueue.push({message:TERMINATE_METHOD_ID}),void(this.cleaning=!0)}if("function"!=typeof this.worker.terminate)throw new Error("Failed to terminate worker");this.worker.terminate(),this.worker.killed=!0}cleanup()}},WorkerHandler$1.prototype.terminateAndNotify=function(force,timeout){var resolver=Promise.defer();return timeout&&resolver.promise.timeout(timeout),this.terminate(force,(function(err,worker){err?resolver.reject(err):resolver.resolve(worker)})),resolver.promise},WorkerHandler.exports=WorkerHandler$1,WorkerHandler.exports._tryRequireWorkerThreads=tryRequireWorkerThreads,WorkerHandler.exports._setupProcessWorker=setupProcessWorker,WorkerHandler.exports._setupBrowserWorker=setupBrowserWorker,WorkerHandler.exports._setupWorkerThreadWorker=setupWorkerThreadWorker,WorkerHandler.exports.ensureWorkerThreads=ensureWorkerThreads,WorkerHandler.exports}function requireDebugPortAllocator(){if(hasRequiredDebugPortAllocator)return debugPortAllocator;hasRequiredDebugPortAllocator=1;var MAX_PORTS=65535;function DebugPortAllocator(){this.ports=Object.create(null),this.length=0}return debugPortAllocator=DebugPortAllocator,DebugPortAllocator.prototype.nextAvailableStartingAt=function(starting){for(;!0===this.ports[starting];)starting++;if(starting>=MAX_PORTS)throw new Error("WorkerPool debug port limit reached: "+starting+">= "+MAX_PORTS);return this.ports[starting]=!0,this.length++,starting},DebugPortAllocator.prototype.releasePort=function(port){delete this.ports[port],this.length--},debugPortAllocator}function requirePool(){if(hasRequiredPool)return Pool_1;hasRequiredPool=1;var{Promise:Promise}=require_Promise(),WorkerHandler=requireWorkerHandler(),environment=environmentExports,DEBUG_PORT_ALLOCATOR=new(requireDebugPortAllocator());function Pool(script,options){"string"==typeof script?this.script=script||null:(this.script=null,options=script),this.workers=[],this.tasks=[],options=options||{},this.forkArgs=Object.freeze(options.forkArgs||[]),this.forkOpts=Object.freeze(options.forkOpts||{}),this.workerOpts=Object.freeze(options.workerOpts||{}),this.workerThreadOpts=Object.freeze(options.workerThreadOpts||{}),this.debugPortStart=options.debugPortStart||43210,this.nodeWorker=options.nodeWorker,this.workerType=options.workerType||options.nodeWorker||"auto",this.maxQueueSize=options.maxQueueSize||1/0,this.workerTerminateTimeout=options.workerTerminateTimeout||1e3,this.onCreateWorker=options.onCreateWorker||(()=>null),this.onTerminateWorker=options.onTerminateWorker||(()=>null),this.emitStdStreams=options.emitStdStreams||!1,options&&"maxWorkers"in options?(validateMaxWorkers(options.maxWorkers),this.maxWorkers=options.maxWorkers):this.maxWorkers=Math.max((environment.cpus||4)-1,1),options&&"minWorkers"in options&&("max"===options.minWorkers?this.minWorkers=this.maxWorkers:(validateMinWorkers(options.minWorkers),this.minWorkers=options.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),"thread"===this.workerType&&WorkerHandler.ensureWorkerThreads()}function validateMaxWorkers(maxWorkers){if(!isNumber(maxWorkers)||!isInteger(maxWorkers)||maxWorkers<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}function validateMinWorkers(minWorkers){if(!isNumber(minWorkers)||!isInteger(minWorkers)||minWorkers<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}function isNumber(value){return"number"==typeof value}function isInteger(value){return Math.round(value)==value}return Pool.prototype.exec=function(method,params,options){if(params&&!Array.isArray(params))throw new TypeError('Array expected as argument "params"');if("string"==typeof method){var resolver=Promise.defer();if(this.tasks.length>=this.maxQueueSize)throw new Error("Max queue size of "+this.maxQueueSize+" reached");var tasks=this.tasks,task={method:method,params:params,resolver:resolver,timeout:null,options:options};tasks.push(task);var originalTimeout=resolver.promise.timeout;return resolver.promise.timeout=function timeout(delay){return-1!==tasks.indexOf(task)?(task.timeout=delay,resolver.promise):originalTimeout.call(resolver.promise,delay)},this._next(),resolver.promise}if("function"==typeof method)return this.exec("run",[String(method),params],options);throw new TypeError('Function or string expected as argument "method"')},Pool.prototype.proxy=function(){if(arguments.length>0)throw new Error("No arguments expected");var pool=this;return this.exec("methods").then((function(methods){var proxy={};return methods.forEach((function(method){proxy[method]=function(){return pool.exec(method,Array.prototype.slice.call(arguments))}})),proxy}))},Pool.prototype._next=function(){if(this.tasks.length>0){var worker=this._getWorker();if(worker){var me=this,task=this.tasks.shift();if(task.resolver.promise.pending){var promise=worker.exec(task.method,task.params,task.resolver,task.options).then(me._boundNext).catch((function(){if(worker.terminated)return me._removeWorker(worker)})).then((function(){me._next()}));"number"==typeof task.timeout&&promise.timeout(task.timeout)}else me._next()}}},Pool.prototype._getWorker=function(){for(var workers=this.workers,i=0;i<workers.length;i++){var worker=workers[i];if(!1===worker.busy())return worker}return workers.length<this.maxWorkers?(worker=this._createWorkerHandler(),workers.push(worker),worker):null},Pool.prototype._removeWorker=function(worker){var me=this;return DEBUG_PORT_ALLOCATOR.releasePort(worker.debugPort),this._removeWorkerFromList(worker),this._ensureMinWorkers(),new Promise((function(resolve,reject){worker.terminate(!1,(function(err){me.onTerminateWorker({forkArgs:worker.forkArgs,forkOpts:worker.forkOpts,workerThreadOpts:worker.workerThreadOpts,script:worker.script}),err?reject(err):resolve(worker)}))}))},Pool.prototype._removeWorkerFromList=function(worker){var index=this.workers.indexOf(worker);-1!==index&&this.workers.splice(index,1)},Pool.prototype.terminate=function(force,timeout){var me=this;this.tasks.forEach((function(task){task.resolver.reject(new Error("Pool terminated"))})),this.tasks.length=0;var f=function(worker){DEBUG_PORT_ALLOCATOR.releasePort(worker.debugPort),this._removeWorkerFromList(worker)},removeWorker=f.bind(this),promises=[];return this.workers.slice().forEach((function(worker){var termPromise=worker.terminateAndNotify(force,timeout).then(removeWorker).always((function(){me.onTerminateWorker({forkArgs:worker.forkArgs,forkOpts:worker.forkOpts,workerThreadOpts:worker.workerThreadOpts,script:worker.script})}));promises.push(termPromise)})),Promise.all(promises)},Pool.prototype.stats=function(){var totalWorkers=this.workers.length,busyWorkers=this.workers.filter((function(worker){return worker.busy()})).length;return{totalWorkers:totalWorkers,busyWorkers:busyWorkers,idleWorkers:totalWorkers-busyWorkers,pendingTasks:this.tasks.length,activeTasks:busyWorkers}},Pool.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var i=this.workers.length;i<this.minWorkers;i++)this.workers.push(this._createWorkerHandler())},Pool.prototype._createWorkerHandler=function(){const overriddenParams=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,workerOpts:this.workerOpts,workerThreadOpts:this.workerThreadOpts,script:this.script})||{};return new WorkerHandler(overriddenParams.script||this.script,{forkArgs:overriddenParams.forkArgs||this.forkArgs,forkOpts:overriddenParams.forkOpts||this.forkOpts,workerOpts:overriddenParams.workerOpts||this.workerOpts,workerThreadOpts:overriddenParams.workerThreadOpts||this.workerThreadOpts,debugPort:DEBUG_PORT_ALLOCATOR.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType,workerTerminateTimeout:this.workerTerminateTimeout,emitStdStreams:this.emitStdStreams})},Pool_1=Pool}var transfer,hasRequiredTransfer,hasRequiredWorker,worker$1={};function requireTransfer(){if(hasRequiredTransfer)return transfer;function Transfer(message,transfer){this.message=message,this.transfer=transfer}return hasRequiredTransfer=1,transfer=Transfer}function requireWorker(){return hasRequiredWorker||(hasRequiredWorker=1,function(exports){var Transfer=requireTransfer(),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}};if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(event,callback){addEventListener(event,(function(message){callback(message.data)}))},worker.send=function(message){postMessage(message)};else{if(void 0===process)throw new Error("Script must be executed as a worker");var WorkerThreads;try{WorkerThreads=__webpack_require__("?5693")}catch(error){if("object"!=typeof error||null===error||"MODULE_NOT_FOUND"!==error.code)throw error}if(WorkerThreads&&null!==WorkerThreads.parentPort){var parentPort=WorkerThreads.parentPort;worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort),worker.exit=process.exit.bind(process)}else worker.on=process.on.bind(process),worker.send=function(message){process.send(message)},worker.on("disconnect",(function(){process.exit(1)})),worker.exit=process.exit.bind(process)}function convertError(error){return Object.getOwnPropertyNames(error).reduce((function(product,name){return Object.defineProperty(product,name,{value:error[name],enumerable:!0})}),{})}function isPromise(value){return value&&"function"==typeof value.then&&"function"==typeof value.catch}worker.methods={},worker.methods.run=function run(fn,args){var f=new Function("return ("+fn+").apply(null, arguments);");return f.apply(f,args)},worker.methods.methods=function methods(){return Object.keys(worker.methods)},worker.terminationHandler=void 0,worker.cleanupAndExit=function(code){var _exit=function(){worker.exit(code)};if(!worker.terminationHandler)return _exit();var result=worker.terminationHandler(code);isPromise(result)?result.then(_exit,_exit):_exit()};var currentRequestId=null;worker.on("message",(function(request){if(request===TERMINATE_METHOD_ID)return worker.cleanupAndExit(0);try{var method=worker.methods[request.method];if(!method)throw new Error('Unknown method "'+request.method+'"');currentRequestId=request.id;var result=method.apply(method,request.params);isPromise(result)?result.then((function(result){result instanceof Transfer?worker.send({id:request.id,result:result.message,error:null},result.transfer):worker.send({id:request.id,result:result,error:null}),currentRequestId=null})).catch((function(err){worker.send({id:request.id,result:null,error:convertError(err)}),currentRequestId=null})):(result instanceof Transfer?worker.send({id:request.id,result:result.message,error:null},result.transfer):worker.send({id:request.id,result:result,error:null}),currentRequestId=null)}catch(err){worker.send({id:request.id,result:null,error:convertError(err)})}})),worker.register=function(methods,options){if(methods)for(var name in methods)methods.hasOwnProperty(name)&&(worker.methods[name]=methods[name]);options&&(worker.terminationHandler=options.onTerminate),worker.send("ready")},worker.emit=function(payload){if(currentRequestId){if(payload instanceof Transfer)return void worker.send({id:currentRequestId,isEvent:!0,payload:payload.message},payload.transfer);worker.send({id:currentRequestId,isEvent:!0,payload:payload})}},exports.add=worker.register,exports.emit=worker.emit}(worker$1)),worker$1}const{platform:platform,isMainThread:isMainThread,cpus:cpus}=environmentExports;function pool(script,options){return new(requirePool())(script,options)}var pool_1=src.pool=pool;function worker(methods,options){requireWorker().add(methods,options)}var worker_1=src.worker=worker;function workerEmit(payload){requireWorker().emit(payload)}var workerEmit_1=src.workerEmit=workerEmit;const{Promise:Promise$1}=require_Promise();var _Promise=src.Promise=Promise$1,Transfer=src.Transfer=requireTransfer(),platform_1=src.platform=platform,isMainThread_1=src.isMainThread=isMainThread,cpus_1=src.cpus=cpus;exports.Promise=_Promise,exports.Transfer=Transfer,exports.cpus=cpus_1,exports.default=src,exports.isMainThread=isMainThread_1,exports.platform=platform_1,exports.pool=pool_1,exports.worker=worker_1,exports.workerEmit=workerEmit_1,Object.defineProperty(exports,"__esModule",{value:!0})}(exports)},"./packages/subsurface-viewer/node_modules/@deck.gl/aggregation-layers/dist/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AGGREGATION_OPERATION:function(){return AGGREGATION_OPERATION},CPUGridLayer:function(){return CPUGridLayer},ContourLayer:function(){return ContourLayer},GPUGridLayer:function(){return GPUGridLayer},GridLayer:function(){return GridLayer},HeatmapLayer:function(){return HeatmapLayer},HexagonLayer:function(){return HexagonLayer},ScreenGridLayer:function(){return ScreenGridLayer},_AggregationLayer:function(){return AggregationLayer},_BinSorter:function(){return BinSorter},_CPUAggregator:function(){return CPUAggregator},_GPUGridAggregator:function(){return GPUGridAggregator}});var log=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/log.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/model/model.js"),shader_utils=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/lib/glsl-utils/shader-utils.js");class TextureTransform{device;model;sampler;currentIndex=0;samplerTextureMap=null;bindings=[];resources={};constructor(device,props){this.device=device,this.sampler=device.createSampler({addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",minFilter:"nearest",magFilter:"nearest",mipmapFilter:"nearest"}),this.model=new model.H(this.device,{id:props.id||"texture-transform-model",fs:props.fs||(0,shader_utils.Ho)({input:props.targetTextureVarying,inputChannels:props.targetTextureChannels,output:"transform_output"}),vertexCount:props.vertexCount,...props}),this._initialize(props),Object.seal(this)}destroy(){}delete(){this.destroy()}run(options){const{framebuffer:framebuffer}=this.bindings[this.currentIndex],renderPass=this.device.beginRenderPass({framebuffer:framebuffer,...options});this.model.draw(renderPass),renderPass.end()}update(...args){console.warn("TextureTransform#update() not implemented")}getData({packed:packed=!1}={}){throw new Error("getData() not implemented")}getTargetTexture(){const{targetTexture:targetTexture}=this.bindings[this.currentIndex];return targetTexture}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}_initialize(props){this._updateBindings(props)}_updateBindings(props){this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],props)}_updateBinding(binding,{sourceBuffers:sourceBuffers,sourceTextures:sourceTextures,targetTexture:targetTexture}){if(binding||(binding={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(binding.sourceTextures,sourceTextures),Object.assign(binding.sourceBuffers,sourceBuffers),targetTexture){binding.targetTexture=targetTexture;const{width:width,height:height}=targetTexture;binding.framebuffer&&binding.framebuffer.destroy(),binding.framebuffer=this.device.createFramebuffer({id:"transform-framebuffer",width:width,height:height,colorAttachments:[targetTexture]}),binding.framebuffer.resize({width:width,height:height})}return binding}_setSourceTextureParameters(){const index=this.currentIndex,{sourceTextures:sourceTextures}=this.bindings[index];for(const name in sourceTextures)sourceTextures[name].sampler=this.sampler}}var fp64=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/modules-webgl1/math/fp64/fp64.js"),shader=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/shader.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/project32/project32.js"),shaderlib=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/index.js");const AGGREGATION_OPERATION={SUM:1,MEAN:2,MIN:3,MAX:4};function sumReducer(accu,cur){return accu+cur}function maxReducer(accu,cur){return cur>accu?cur:accu}function minReducer(accu,cur){return cur<accu?cur:accu}function getValueFunc(aggregation,accessor,context){const op=AGGREGATION_OPERATION[aggregation]||AGGREGATION_OPERATION.SUM;switch(accessor=function wrapAccessor(accessor,context={}){if(Number.isFinite(accessor))return accessor;return pt=>(context.index=pt.index,accessor(pt.source,context))}(accessor,context),op){case AGGREGATION_OPERATION.MIN:return pts=>function getMin(pts,accessor){if(Number.isFinite(accessor))return pts.length?accessor:null;const filtered=pts.map(accessor).filter(Number.isFinite);return filtered.length?filtered.reduce(minReducer,1/0):null}(pts,accessor);case AGGREGATION_OPERATION.SUM:return pts=>function getSum(pts,accessor){if(Number.isFinite(accessor))return pts.length?pts.length*accessor:null;const filtered=pts.map(accessor).filter(Number.isFinite);return filtered.length?filtered.reduce(sumReducer,0):null}(pts,accessor);case AGGREGATION_OPERATION.MEAN:return pts=>function getMean(pts,accessor){if(Number.isFinite(accessor))return pts.length?accessor:null;const filtered=pts.map(accessor).filter(Number.isFinite);return filtered.length?filtered.reduce(sumReducer,0)/filtered.length:null}(pts,accessor);case AGGREGATION_OPERATION.MAX:return pts=>function getMax(pts,accessor){if(Number.isFinite(accessor))return pts.length?accessor:null;const filtered=pts.map(accessor).filter(Number.isFinite);return filtered.length?filtered.reduce(maxReducer,-1/0):null}(pts,accessor);default:return null}}function wrapGetValueFunc(getValue,context={}){return pts=>(context.indices=pts.map((pt=>pt.index)),getValue(pts.map((pt=>pt.source)),context))}const DEFAULT_RUN_PARAMS={projectPoints:!1,viewport:null,createBufferObjects:!0,moduleSettings:{}},MAX_32_BIT_FLOAT=3402823466e29,MIN_BLEND_EQUATION=[32775,32774],MAX_BLEND_EQUATION=[32776,32774],MAX_MIN_BLEND_EQUATION=[32776,32775],EQUATION_MAP={[AGGREGATION_OPERATION.SUM]:32774,[AGGREGATION_OPERATION.MEAN]:32774,[AGGREGATION_OPERATION.MIN]:MIN_BLEND_EQUATION,[AGGREGATION_OPERATION.MAX]:MAX_BLEND_EQUATION},DEFAULT_WEIGHT_PARAMS={size:1,operation:AGGREGATION_OPERATION.SUM,needMin:!1,needMax:!1,combineMaxMin:!1};var aggregate_to_grid_vs_glsl="#version 300 es\n#define SHADER_NAME gpu-aggregation-to-grid-vs\nin vec3 positions;\nin vec3 positions64Low;\nin vec3 weights;\nuniform vec2 cellSize;\nuniform vec2 gridSize;\nuniform bool projectPoints;\nuniform vec2 translation;\nuniform vec3 scaling;\nout vec3 vWeights;\nvec2 project_to_pixel(vec4 pos) {\nvec4 result;\npos.xy = pos.xy/pos.w;\nresult = pos + vec4(translation, 0., 0.);\nresult.xy = scaling.z > 0. ? result.xy * scaling.xy : result.xy;\nreturn result.xy;\n}\nvoid main(void) {\nvWeights = weights;\nvec4 windowPos = vec4(positions, 1.);\nif (projectPoints) {\nwindowPos = project_position_to_clipspace(positions, positions64Low, vec3(0));\n}\nvec2 pos = project_to_pixel(windowPos);\nvec2 pixelXY64[2];\npixelXY64[0] = vec2(pos.x, 0.);\npixelXY64[1] = vec2(pos.y, 0.);\nvec2 gridXY64[2];\ngridXY64[0] = div_fp64(pixelXY64[0], vec2(cellSize.x, 0));\ngridXY64[1] = div_fp64(pixelXY64[1], vec2(cellSize.y, 0));\nfloat x = floor(gridXY64[0].x);\nfloat y = floor(gridXY64[1].x);\npos = vec2(x, y);\npos = (pos * (2., 2.) / (gridSize)) - (1., 1.);\nvec2 offset = 1.0 / gridSize;\npos = pos + offset;\ngl_Position = vec4(pos, 0.0, 1.0);\ngl_PointSize = 1.0;\n}\n",aggregate_to_grid_fs_glsl="#version 300 es\n#define SHADER_NAME gpu-aggregation-to-grid-fs\nprecision highp float;\nin vec3 vWeights;\nout vec4 fragColor;\nvoid main(void) {\nfragColor = vec4(vWeights, 1.0);\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",aggregate_all_vs_glsl="#version 300 es\n#define SHADER_NAME gpu-aggregation-all-vs-64\nin vec2 position;\nuniform ivec2 gridSize;\nout vec2 vTextureCoord;\nvoid main(void) {\nvec2 pos = vec2(-1.0, -1.0);\nvec2 offset = 1.0 / vec2(gridSize);\npos = pos + offset;\ngl_Position = vec4(pos, 0.0, 1.0);\nint yIndex = gl_InstanceID / gridSize[0];\nint xIndex = gl_InstanceID - (yIndex * gridSize[0]);\nvec2 yIndexFP64 = vec2(float(yIndex), 0.);\nvec2 xIndexFP64 = vec2(float(xIndex), 0.);\nvec2 gridSizeYFP64 = vec2(gridSize[1], 0.);\nvec2 gridSizeXFP64 = vec2(gridSize[0], 0.);\nvec2 texCoordXFP64 = div_fp64(yIndexFP64, gridSizeYFP64);\nvec2 texCoordYFP64 = div_fp64(xIndexFP64, gridSizeXFP64);\nvTextureCoord = vec2(texCoordYFP64.x, texCoordXFP64.x);\ngl_PointSize = 1.0;\n}\n",aggregate_all_fs_glsl="#version 300 es\n#define SHADER_NAME gpu-aggregation-all-fs\nprecision highp float;\nin vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform bool combineMaxMin;\nout vec4 fragColor;\nvoid main(void) {\nvec4 textureColor = texture(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\nif (textureColor.a == 0.) {\ndiscard;\n}\nfragColor.rgb = textureColor.rgb;\nfragColor.a = combineMaxMin ? textureColor.r : textureColor.a;\n}\n",transform_mean_vs_glsl="#version 300 es\n#define SHADER_NAME gpu-aggregation-transform-mean-vs\nin vec4 aggregationValues;\nout vec4 meanValues;\nvoid main()\n{\nbool isCellValid = bool(aggregationValues.w > 0.);\nmeanValues.xyz = isCellValid ? aggregationValues.xyz/aggregationValues.w : vec3(0, 0, 0);\nmeanValues.w = aggregationValues.w;\ngl_PointSize = 1.0;\n}\n";const DEFAULT_PARAMETERS={minFilter:"nearest",magFilter:"nearest"};function getFloatTexture(device,opts){const{width:width=1,height:height=1,data:data=null,parameters:parameters=DEFAULT_PARAMETERS}=opts;return device.createTexture({data:data,format:"rgba32float",mipmaps:!1,sampler:parameters,width:width,height:height})}function getFramebuffer(device,opts){const{id:id,width:width=1,height:height=1,texture:texture}=opts;return device.createFramebuffer({id:id,width:width,height:height,colorAttachments:[texture]})}const BUFFER_NAMES=["aggregationBuffer","maxMinBuffer","minBuffer","maxBuffer"],ARRAY_BUFFER_MAP={maxData:"maxBuffer",minData:"minBuffer",maxMinData:"maxMinBuffer"},REQUIRED_FEATURES=["float32-renderable-webgl","texture-blend-float-webgl"];class GPUGridAggregator{static getAggregationData({aggregationData:aggregationData,maxData:maxData,minData:minData,maxMinData:maxMinData,pixelIndex:pixelIndex}){const index=4*pixelIndex,results={};return aggregationData&&(results.cellCount=aggregationData[index+3],results.cellWeight=aggregationData[index]),maxMinData?(results.maxCellWieght=maxMinData[0],results.minCellWeight=maxMinData[3]):(maxData&&(results.maxCellWieght=maxData[0],results.totalCount=maxData[3]),minData&&(results.minCellWeight=minData[0],results.totalCount=minData[3])),results}static getCellData({countsData:countsData,size:size=1}){const numCells=countsData.length/4,cellWeights=new Float32Array(numCells*size),cellCounts=new Uint32Array(numCells);for(let i=0;i<numCells;i++){for(let sizeIndex=0;sizeIndex<size;sizeIndex++)cellWeights[i*size+sizeIndex]=countsData[4*i+sizeIndex];cellCounts[i]=countsData[4*i+3]}return{cellCounts:cellCounts,cellWeights:cellWeights}}static isSupported(device){return REQUIRED_FEATURES.every((feature=>device.features.has(feature)))}constructor(device,props={}){this.state={weightAttributes:{},textures:{},meanTextures:{},buffers:{},framebuffers:{},maxMinFramebuffers:{},minFramebuffers:{},maxFramebuffers:{},equations:{},shaderOptions:{},modelDirty:!1,resources:{},results:{}},this.id=props.id||"gpu-grid-aggregator",this.device=device;this._hasGPUSupport=["float32-renderable-webgl"].every((feature=>device.features.has(feature))),this._hasGPUSupport&&this._setupModels()}delete(){const{gridAggregationModel:gridAggregationModel,allAggregationModel:allAggregationModel,meanTransform:meanTransform}=this,{textures:textures,framebuffers:framebuffers,maxMinFramebuffers:maxMinFramebuffers,minFramebuffers:minFramebuffers,maxFramebuffers:maxFramebuffers,meanTextures:meanTextures,resources:resources}=this.state;gridAggregationModel?.destroy(),allAggregationModel?.destroy(),meanTransform?.destroy(),function deleteResources(resources){resources=Array.isArray(resources)?resources:[resources],resources.forEach((obj=>{for(const name in obj)obj[name].delete()}))}([framebuffers,textures,maxMinFramebuffers,minFramebuffers,maxFramebuffers,meanTextures,resources])}run(opts={}){this.setState({results:{}});const aggregationParams=this._normalizeAggregationParams(opts);return this._runAggregation(aggregationParams)}getData(weightId){const data={},results=this.state.results;results[weightId].aggregationData||(results[weightId].aggregationData=results[weightId].aggregationBuffer.getData()),data.aggregationData=results[weightId].aggregationData;for(const arrayName in ARRAY_BUFFER_MAP){const bufferName=ARRAY_BUFFER_MAP[arrayName];(results[weightId][arrayName]||results[weightId][bufferName])&&(results[weightId][arrayName]=results[weightId][arrayName]||results[weightId][bufferName].getData(),data[arrayName]=results[weightId][arrayName])}return data}updateShaders(shaderOptions={}){this.setState({shaderOptions:shaderOptions,modelDirty:!0})}_normalizeAggregationParams(opts){const aggregationParams={...DEFAULT_RUN_PARAMS,...opts},{weights:weights}=aggregationParams;return weights&&(aggregationParams.weights=function normalizeWeightParams(weights){const result={};for(const id in weights)result[id]={...DEFAULT_WEIGHT_PARAMS,...weights[id]};return result}(weights)),aggregationParams}setState(updateObject){Object.assign(this.state,updateObject)}_getAggregateData(opts){const results={},{textures:textures,framebuffers:framebuffers,maxMinFramebuffers:maxMinFramebuffers,minFramebuffers:minFramebuffers,maxFramebuffers:maxFramebuffers,resources:resources}=this.state,{weights:weights}=opts;for(const id in weights){results[id]={};const{needMin:needMin,needMax:needMax,combineMaxMin:combineMaxMin}=weights[id];results[id].aggregationTexture=textures[id],results[id].aggregationBuffer=this.device.readPixelsToBufferWebGL(framebuffers[id],{target:weights[id].aggregationBuffer,sourceType:5126}),needMin&&needMax&&combineMaxMin?(results[id].maxMinBuffer=this.device.readPixelsToBufferWebGL(maxMinFramebuffers[id],{target:weights[id].maxMinBuffer,sourceType:5126}),results[id].maxMinTexture=resources[`${id}-maxMinTexture`]):(needMin&&(results[id].minBuffer=this.device.readPixelsToBufferWebGL(minFramebuffers[id],{target:weights[id].minBuffer,sourceType:5126}),results[id].minTexture=resources[`${id}-minTexture`]),needMax&&(results[id].maxBuffer=this.device.readPixelsToBufferWebGL(maxFramebuffers[id],{target:weights[id].maxBuffer,sourceType:5126}),results[id].maxTexture=resources[`${id}-maxTexture`]))}return this._trackGPUResultBuffers(results,weights),results}_renderAggregateData(opts){const{cellSize:cellSize,projectPoints:projectPoints,attributes:attributes,moduleSettings:moduleSettings,numCol:numCol,numRow:numRow,weights:weights,translation:translation,scaling:scaling}=opts,{maxMinFramebuffers:maxMinFramebuffers,minFramebuffers:minFramebuffers,maxFramebuffers:maxFramebuffers}=this.state,gridSize=[numCol,numRow],parameters={blend:!0,depthTest:!1,blendFunc:[1,1]},uniforms={cellSize:cellSize,gridSize:gridSize,projectPoints:projectPoints,translation:translation,scaling:scaling};for(const id in weights){const{needMin:needMin,needMax:needMax}=weights[id],combineMaxMin=needMin&&needMax&&weights[id].combineMaxMin;this._renderToWeightsTexture({id:id,parameters:parameters,moduleSettings:moduleSettings,uniforms:uniforms,gridSize:gridSize,attributes:attributes,weights:weights}),combineMaxMin?this._renderToMaxMinTexture({id:id,parameters:{...parameters,blendEquation:MAX_MIN_BLEND_EQUATION},gridSize:gridSize,minOrMaxFb:maxMinFramebuffers[id],clearParams:{clearColor:[0,0,0,MAX_32_BIT_FLOAT]},combineMaxMin:combineMaxMin}):(needMin&&this._renderToMaxMinTexture({id:id,parameters:{...parameters,blendEquation:MIN_BLEND_EQUATION},gridSize:gridSize,minOrMaxFb:minFramebuffers[id],clearParams:{clearColor:[MAX_32_BIT_FLOAT,MAX_32_BIT_FLOAT,MAX_32_BIT_FLOAT,0]},combineMaxMin:combineMaxMin}),needMax&&this._renderToMaxMinTexture({id:id,parameters:{...parameters,blendEquation:MAX_BLEND_EQUATION},gridSize:gridSize,minOrMaxFb:maxFramebuffers[id],clearParams:{clearColor:[0,0,0,0]},combineMaxMin:combineMaxMin}))}}_renderToMaxMinTexture(opts){const{id:id,gridSize:gridSize,minOrMaxFb:minOrMaxFb,combineMaxMin:combineMaxMin,clearParams:clearParams={}}=opts,{framebuffers:framebuffers}=this.state,{allAggregationModel:allAggregationModel}=this;this.device.withParametersWebGL({...clearParams,framebuffer:minOrMaxFb,viewport:[0,0,gridSize[0],gridSize[1]]},(()=>{this.device.clearWebGL({color:!0}),allAggregationModel.setUniforms({gridSize:gridSize,combineMaxMin:combineMaxMin}),allAggregationModel.setBindings({uSampler:framebuffers[id].texture}),allAggregationModel.draw()}))}_renderToWeightsTexture(opts){const{id:id,parameters:parameters,moduleSettings:moduleSettings,uniforms:uniforms,gridSize:gridSize,weights:weights}=opts,{framebuffers:framebuffers,equations:equations,weightAttributes:weightAttributes}=this.state,{gridAggregationModel:gridAggregationModel}=this,{operation:operation}=weights[id],clearColor=operation===AGGREGATION_OPERATION.MIN?[MAX_32_BIT_FLOAT,MAX_32_BIT_FLOAT,MAX_32_BIT_FLOAT,0]:[0,0,0,0];if(this.device.withParametersWebGL({framebuffer:framebuffers[id],viewport:[0,0,gridSize[0],gridSize[1]],clearColor:clearColor},(()=>{this.device.clearWebGL({color:!0});const attributes={weights:weightAttributes[id]};gridAggregationModel.draw({parameters:{...parameters,blendEquation:equations[id]},moduleSettings:moduleSettings,uniforms:uniforms,attributes:attributes})})),operation===AGGREGATION_OPERATION.MEAN){const{meanTextures:meanTextures,textures:textures}=this.state,transformOptions={_sourceTextures:{aggregationValues:meanTextures[id]},_targetTexture:textures[id],elementCount:textures[id].width*textures[id].height};this.meanTransform?this.meanTransform.update(transformOptions):this.meanTransform=function getMeanTransform(device,opts){return new TextureTransform(device,{vs:transform_mean_vs_glsl,_targetTextureVarying:"meanValues",...opts})}(this.device,transformOptions),this.meanTransform.run({parameters:{blend:!1,depthTest:!1}}),framebuffers[id].attach({36064:textures[id]})}}_runAggregation(opts){this._updateModels(opts),this._setupFramebuffers(opts),this._renderAggregateData(opts);const results=this._getAggregateData(opts);return this.setState({results:results}),results}_setupFramebuffers(opts){const{textures:textures,framebuffers:framebuffers,maxMinFramebuffers:maxMinFramebuffers,minFramebuffers:minFramebuffers,maxFramebuffers:maxFramebuffers,meanTextures:meanTextures,equations:equations}=this.state,{weights:weights}=opts,{numCol:numCol,numRow:numRow}=opts,framebufferSize={width:numCol,height:numRow};for(const id in weights){const{needMin:needMin,needMax:needMax,combineMaxMin:combineMaxMin,operation:operation}=weights[id];textures[id]=weights[id].aggregationTexture||textures[id]||getFloatTexture(this.device,{id:`${id}-texture`,width:numCol,height:numRow}),textures[id].resize(framebufferSize);let texture=textures[id];operation===AGGREGATION_OPERATION.MEAN&&(meanTextures[id]=meanTextures[id]||getFloatTexture(this.device,{id:`${id}-mean-texture`,width:numCol,height:numRow}),meanTextures[id].resize(framebufferSize),texture=meanTextures[id]),framebuffers[id]?framebuffers[id].attach({36064:texture}):framebuffers[id]=getFramebuffer(this.device,{id:`${id}-fb`,width:numCol,height:numRow,texture:texture}),framebuffers[id].resize(framebufferSize),equations[id]=EQUATION_MAP[operation]||EQUATION_MAP[AGGREGATION_OPERATION.SUM],(needMin||needMax)&&(needMin&&needMax&&combineMaxMin?maxMinFramebuffers[id]||(texture=weights[id].maxMinTexture||this._getMinMaxTexture(`${id}-maxMinTexture`),maxMinFramebuffers[id]=getFramebuffer(this.device,{id:`${id}-maxMinFb`,texture:texture})):(needMin&&(minFramebuffers[id]||(texture=weights[id].minTexture||this._getMinMaxTexture(`${id}-minTexture`),minFramebuffers[id]=getFramebuffer(this.device,{id:`${id}-minFb`,texture:texture}))),needMax&&(maxFramebuffers[id]||(texture=weights[id].maxTexture||this._getMinMaxTexture(`${id}-maxTexture`),maxFramebuffers[id]=getFramebuffer(this.device,{id:`${id}-maxFb`,texture:texture})))))}}_getMinMaxTexture(name){const{resources:resources}=this.state;return resources[name]||(resources[name]=getFloatTexture(this.device,{id:"resourceName"})),resources[name]}_setupModels({numCol:numCol=0,numRow:numRow=0}={}){const{shaderOptions:shaderOptions}=this.state;if(this.gridAggregationModel?.destroy(),this.gridAggregationModel=function getAggregationModel(device,shaderOptions){const shaders=(0,shader.l)({vs:aggregate_to_grid_vs_glsl,fs:aggregate_to_grid_fs_glsl,modules:[fp64.n2,project32.Z]},shaderOptions);return new model.H(device,{id:"Grid-Aggregation-Model",vertexCount:1,drawMode:0,shaderAssembler:(0,shaderlib.ik)(),...shaders})}(this.device,shaderOptions),!this.allAggregationModel){const instanceCount=numCol*numRow;this.allAggregationModel=function getAllAggregationModel(device,instanceCount){return new model.H(device,{id:"All-Aggregation-Model",vs:aggregate_all_vs_glsl,fs:aggregate_all_fs_glsl,modules:[fp64.n2],vertexCount:1,topology:"point-list",isInstanced:!0,instanceCount:instanceCount,attributes:{position:[0,0]}})}(this.device,instanceCount)}}_setupWeightAttributes(opts){const{weightAttributes:weightAttributes}=this.state,{weights:weights}=opts;for(const id in weights)weightAttributes[id]=opts.attributes[id]}_trackGPUResultBuffers(results,weights){const{resources:resources}=this.state;for(const id in results)if(results[id])for(const bufferName of BUFFER_NAMES)if(results[id][bufferName]&&weights[id][bufferName]!==results[id][bufferName]){const name=`gpu-result-${id}-${bufferName}`;resources[name]&&resources[name].delete(),resources[name]=results[id][bufferName]}}_updateModels(opts){const{vertexCount:vertexCount,attributes:attributes,numCol:numCol,numRow:numRow}=opts,{modelDirty:modelDirty}=this.state;modelDirty&&(this._setupModels(opts),this.setState({modelDirty:!1})),this._setupWeightAttributes(opts),this.gridAggregationModel.setVertexCount(vertexCount),this.gridAggregationModel.setAttributes(attributes),this.allAggregationModel.setInstanceCount(numCol*numRow)}}var geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometry/geometry.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/layer.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/shaderlib/picking/picking.js");const defaultColorRange=[[255,255,178],[254,217,118],[254,178,76],[253,141,60],[240,59,32],[189,0,38]];function colorRangeToFlatArray(colorRange,normalize=!1,ArrayType=Float32Array){let flatArray;if(Number.isFinite(colorRange[0]))flatArray=new ArrayType(colorRange);else{flatArray=new ArrayType(4*colorRange.length);let index=0;for(let i=0;i<colorRange.length;i++){const color=colorRange[i];flatArray[index++]=color[0],flatArray[index++]=color[1],flatArray[index++]=color[2],flatArray[index++]=Number.isFinite(color[3])?color[3]:255}}if(normalize)for(let i=0;i<flatArray.length;i++)flatArray[i]/=255;return flatArray}const DEFAULT_MINCOLOR=[0,0,0,0],DEFAULT_MAXCOLOR=[0,255,0,255],COLOR_PROPS=["minColor","maxColor","colorRange","colorDomain"],defaultProps={cellSizePixels:{type:"number",value:100,min:1},cellMarginPixels:{type:"number",value:2,min:0,max:5},colorDomain:null,colorRange:defaultColorRange};class ScreenGridCellLayer extends lib_layer.Z{static{this.layerName="ScreenGridCellLayer"}static{this.defaultProps=defaultProps}getShaders(){return{vs:"#version 300 es\n#define SHADER_NAME screen-grid-layer-vertex-shader\n#define RANGE_COUNT 6\nin vec3 positions;\nin vec3 instancePositions;\nin vec4 instanceCounts;\nin vec3 instancePickingColors;\nuniform float opacity;\nuniform vec3 cellScale;\nuniform vec4 minColor;\nuniform vec4 maxColor;\nuniform vec4 colorRange[RANGE_COUNT];\nuniform vec2 colorDomain;\nuniform bool shouldUseMinMax;\nuniform sampler2D maxTexture;\nout vec4 vColor;\nout float vSampleCount;\nvec4 quantizeScale(vec2 domain, vec4 range[RANGE_COUNT], float value) {\nvec4 outColor = vec4(0., 0., 0., 0.);\nif (value >= domain.x && value <= domain.y) {\nfloat domainRange = domain.y - domain.x;\nif (domainRange <= 0.) {\noutColor = colorRange[0];\n} else {\nfloat rangeCount = float(RANGE_COUNT);\nfloat rangeStep = domainRange / rangeCount;\nfloat idx = floor((value - domain.x) / rangeStep);\nidx = clamp(idx, 0., rangeCount - 1.);\nint intIdx = int(idx);\noutColor = colorRange[intIdx];\n}\n}\noutColor = outColor / 255.;\nreturn outColor;\n}\nvoid main(void) {\nvSampleCount = instanceCounts.a;\nfloat weight = instanceCounts.r;\nfloat maxWeight = texture(maxTexture, vec2(0.5)).r;\nfloat step = weight / maxWeight;\nvec4 minMaxColor = mix(minColor, maxColor, step) / 255.;\nvec2 domain = colorDomain;\nfloat domainMaxValid = float(colorDomain.y != 0.);\ndomain.y = mix(maxWeight, colorDomain.y, domainMaxValid);\nvec4 rangeColor = quantizeScale(domain, colorRange, weight);\nfloat rangeMinMax = float(shouldUseMinMax);\nvec4 color = mix(rangeColor, minMaxColor, rangeMinMax);\nvColor = vec4(color.rgb, color.a * opacity);\npicking_setPickingColor(instancePickingColors);\ngl_Position = vec4(instancePositions + positions * cellScale, 1.);\n}\n",fs:"#version 300 es\n#define SHADER_NAME screen-grid-layer-fragment-shader\nprecision highp float;\nin vec4 vColor;\nin float vSampleCount;\nout vec4 fragColor;\nvoid main(void) {\nif (vSampleCount <= 0.0) {\ndiscard;\n}\nfragColor = vColor;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[picking.Z]}}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,update:this.calculateInstancePositions},instanceCounts:{size:4,noAlloc:!0}}),this.setState({model:this._getModel()})}shouldUpdateState({changeFlags:changeFlags}){return changeFlags.somethingChanged}updateState(params){super.updateState(params);const{oldProps:oldProps,props:props,changeFlags:changeFlags}=params,attributeManager=this.getAttributeManager();props.numInstances!==oldProps.numInstances?attributeManager.invalidateAll():oldProps.cellSizePixels!==props.cellSizePixels&&attributeManager.invalidate("instancePositions"),this._updateUniforms(oldProps,props,changeFlags)}draw({uniforms:uniforms}){const{parameters:parameters,maxTexture:maxTexture}=this.props,minColor=this.props.minColor||DEFAULT_MINCOLOR,maxColor=this.props.maxColor||DEFAULT_MAXCOLOR,colorDomain=this.props.colorDomain||[1,0],model=this.state.model;model.setUniforms(uniforms),model.setBindings({maxTexture:maxTexture}),model.setUniforms({minColor:minColor,maxColor:maxColor,colorDomain:colorDomain}),model.setParameters({depthWriteEnabled:!1,...parameters}),model.draw(this.context.renderPass)}calculateInstancePositions(attribute,{numInstances:numInstances}){const{width:width,height:height}=this.context.viewport,{cellSizePixels:cellSizePixels}=this.props,numCol=Math.ceil(width/cellSizePixels),{value:value,size:size}=attribute;for(let i=0;i<numInstances;i++){const x=i%numCol,y=Math.floor(i/numCol);value[i*size+0]=x*cellSizePixels/width*2-1,value[i*size+1]=1-y*cellSizePixels/height*2,value[i*size+2]=0}}_getModel(){return new model.H(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new geometry.Z({topology:"triangle-list",attributes:{positions:new Float32Array([0,0,0,1,0,0,1,1,0,0,0,0,1,1,0,0,1,0])}}),isInstanced:!0})}_shouldUseMinMax(){const{minColor:minColor,maxColor:maxColor,colorDomain:colorDomain,colorRange:colorRange}=this.props;return minColor||maxColor?(log.Z.deprecated("ScreenGridLayer props: minColor and maxColor","colorRange, colorDomain")(),!0):!colorDomain&&!colorRange}_updateUniforms(oldProps,props,changeFlags){const model=this.state.model;if(COLOR_PROPS.some((key=>oldProps[key]!==props[key]))&&model.setUniforms({shouldUseMinMax:this._shouldUseMinMax()}),oldProps.colorRange!==props.colorRange&&model.setUniforms({colorRange:colorRangeToFlatArray(props.colorRange)}),oldProps.cellMarginPixels!==props.cellMarginPixels||oldProps.cellSizePixels!==props.cellSizePixels||changeFlags.viewportChanged){const{width:width,height:height}=this.context.viewport,{cellSizePixels:cellSizePixels,cellMarginPixels:cellMarginPixels}=this.props,margin=cellSizePixels>cellMarginPixels?cellMarginPixels:0,cellScale=new Float32Array([(cellSizePixels-margin)/width*2,-(cellSizePixels-margin)/height*2,1]);model.setUniforms({cellScale:cellScale})}}}var composite_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/composite-layer.js"),lifecycle_props=__webpack_require__("./node_modules/@deck.gl/core/dist/lifecycle/props.js"),attribute_manager=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/attribute/attribute-manager.js");function filterProps(props,filterKeys){const filteredProps={};for(const key in props)filterKeys.includes(key)||(filteredProps[key]=props[key]);return filteredProps}class AggregationLayer extends composite_layer.Z{static{this.layerName="AggregationLayer"}initializeAggregationLayer(dimensions){super.initializeState(this.context),this.setState({ignoreProps:filterProps(this.constructor._propTypes,dimensions.data.props),dimensions:dimensions})}updateState(opts){super.updateState(opts);const{changeFlags:changeFlags}=opts;if(changeFlags.extensionsChanged){const shaders=this.getShaders({});shaders&&shaders.defines&&(shaders.defines.NON_INSTANCED_MODEL=1),this.updateShaders(shaders)}this._updateAttributes()}updateAttributes(changedAttributes){this.setState({changedAttributes:changedAttributes})}getAttributes(){return this.getAttributeManager().getAttributes()}getModuleSettings(){const{viewport:viewport,mousePosition:mousePosition,device:device}=this.context;return Object.assign(Object.create(this.props),{viewport:viewport,mousePosition:mousePosition,picking:{isActive:0},devicePixelRatio:device.canvasContext.cssToDeviceRatio()})}updateShaders(shaders){}isAggregationDirty(updateOpts,params={}){const{props:props,oldProps:oldProps,changeFlags:changeFlags}=updateOpts,{compareAll:compareAll=!1,dimension:dimension}=params,{ignoreProps:ignoreProps}=this.state,{props:dataProps,accessors:accessors=[]}=dimension,{updateTriggersChanged:updateTriggersChanged}=changeFlags;if(changeFlags.dataChanged)return!0;if(updateTriggersChanged){if(updateTriggersChanged.all)return!0;for(const accessor of accessors)if(updateTriggersChanged[accessor])return!0}if(compareAll)return!!changeFlags.extensionsChanged||(0,lifecycle_props.tg)({oldProps:oldProps,newProps:props,ignoreProps:ignoreProps,propTypes:this.constructor._propTypes});for(const name of dataProps)if(props[name]!==oldProps[name])return!0;return!1}isAttributeChanged(name){const{changedAttributes:changedAttributes}=this.state;return name?changedAttributes&&void 0!==changedAttributes[name]:!function isObjectEmpty(obj){let isEmpty=!0;for(const key in obj){isEmpty=!1;break}return isEmpty}(changedAttributes)}_getAttributeManager(){return new attribute_manager.Z(this.context.device,{id:this.props.id,stats:this.context.stats})}}function getScale(domain,range,scaleFunction){const scale=scaleFunction;return scale.domain=()=>domain,scale.range=()=>range,scale}function getQuantizeScale(domain,range){return getScale(domain,range,(value=>function quantizeScale(domain,range,value){const domainRange=domain[1]-domain[0];if(domainRange<=0)return log.Z.warn("quantizeScale: invalid domain, returning range[0]")(),range[0];const step=domainRange/range.length,idx=Math.floor((value-domain[0])/step),clampIdx=Math.max(Math.min(idx,range.length-1),0);return range[clampIdx]}(domain,range,value)))}function getLinearScale(domain,range){return getScale(domain,range,(value=>function linearScale(domain,range,value){return(value-domain[0])/(domain[1]-domain[0])*(range[1]-range[0])+range[0]}(domain,range,value)))}function getQuantileScale(domain,range){const sortedDomain=domain.sort(ascending);let i=0;const n=Math.max(1,range.length),thresholds=new Array(n-1);for(;++i<n;)thresholds[i-1]=threshold(sortedDomain,i/n);const scaleFunction=value=>function thresholdsScale(thresholds,range,value){return range[function bisectRight(a,x){let lo=0,hi=a.length;for(;lo<hi;){const mid=lo+hi>>>1;ascending(a[mid],x)>0?hi=mid:lo=mid+1}return lo}(thresholds,value)]}(thresholds,range,value);return scaleFunction.thresholds=()=>thresholds,getScale(domain,range,scaleFunction)}function ascending(a,b){return a-b}function threshold(domain,fraction){const domainLength=domain.length;if(fraction<=0||domainLength<2)return domain[0];if(fraction>=1)return domain[domainLength-1];const domainFraction=(domainLength-1)*fraction,lowIndex=Math.floor(domainFraction),low=domain[lowIndex];return low+(domain[lowIndex+1]-low)*(domainFraction-lowIndex)}function getOrdinalScale(domain,range){const domainMap=new Map,uniqueDomain=[];for(const d of domain){const key=`${d}`;domainMap.has(key)||domainMap.set(key,uniqueDomain.push(d))}return getScale(domain,range,(value=>function ordinalScale(domain,domainMap,range,value){const key=`${value}`;let d=domainMap.get(key);return void 0===d&&(d=domain.push(value),domainMap.set(key,d)),range[(d-1)%range.length]}(uniqueDomain,domainMap,range,value)))}function notNullOrUndefined(d){return null!=d}function getTruthyValues(data,valueAccessor){return("function"==typeof valueAccessor?data.map(valueAccessor):data).filter(notNullOrUndefined)}function getQuantileDomain(data,valueAccessor){return getTruthyValues(data,valueAccessor)}function getOrdinalDomain(data,valueAccessor){return function unique(values){const results=[];return values.forEach((v=>{!results.includes(v)&&notNullOrUndefined(v)&&results.push(v)})),results}(getTruthyValues(data,valueAccessor))}const defaultGetValue=points=>points.length,defaultGetPoints=bin=>bin.points,defaultGetIndex=bin=>bin.index,bin_sorter_ascending=(a,b)=>a<b?-1:a>b?1:a>=b?0:NaN,bin_sorter_defaultProps={getValue:defaultGetValue,getPoints:defaultGetPoints,getIndex:defaultGetIndex,filterData:null};class BinSorter{constructor(bins=[],props=bin_sorter_defaultProps){this.aggregatedBins=this.getAggregatedBins(bins,props),this._updateMinMaxValues(),this.binMap=this.getBinMap()}getAggregatedBins(bins,props){const{getValue:getValue=defaultGetValue,getPoints:getPoints=defaultGetPoints,getIndex:getIndex=defaultGetIndex,filterData:filterData}=props,hasFilter="function"==typeof filterData,binCount=bins.length,aggregatedBins=[];let index=0;for(let binIndex=0;binIndex<binCount;binIndex++){const bin=bins[binIndex],points=getPoints(bin),i=getIndex(bin),filteredPoints=hasFilter?points.filter(filterData):points;bin.filteredPoints=hasFilter?filteredPoints:null;const value=filteredPoints.length?getValue(filteredPoints):null;null!=value&&(aggregatedBins[index]={i:Number.isFinite(i)?i:binIndex,value:value,counts:filteredPoints.length},index++)}return aggregatedBins}_percentileToIndex(percentileRange){const len=this.sortedBins.length;if(len<2)return[0,0];const[lower,upper]=percentileRange.map((n=>function clamp(value,min,max){return Math.max(min,Math.min(max,value))}(n,0,100)));return[Math.ceil(lower/100*(len-1)),Math.floor(upper/100*(len-1))]}getBinMap(){const binMap={};for(const bin of this.aggregatedBins)binMap[bin.i]=bin;return binMap}_updateMinMaxValues(){let maxCount=0,maxValue=0,minValue=3402823466e29,totalCount=0;for(const x of this.aggregatedBins)maxCount=maxCount>x.counts?maxCount:x.counts,maxValue=maxValue>x.value?maxValue:x.value,minValue=minValue<x.value?minValue:x.value,totalCount+=x.counts;this.maxCount=maxCount,this.maxValue=maxValue,this.minValue=minValue,this.totalCount=totalCount}getValueRange(percentileRange){if(this.sortedBins||(this.sortedBins=this.aggregatedBins.sort(((a,b)=>bin_sorter_ascending(a.value,b.value)))),!this.sortedBins.length)return[];let lowerIdx=0,upperIdx=this.sortedBins.length-1;if(Array.isArray(percentileRange)){const idxRange=this._percentileToIndex(percentileRange);lowerIdx=idxRange[0],upperIdx=idxRange[1]}return[this.sortedBins[lowerIdx].value,this.sortedBins[upperIdx].value]}getValueDomainByScale(scale,[lower=0,upper=100]=[]){if(this.sortedBins||(this.sortedBins=this.aggregatedBins.sort(((a,b)=>bin_sorter_ascending(a.value,b.value)))),!this.sortedBins.length)return[];const indexEdge=this._percentileToIndex([lower,upper]);return this._getScaleDomain(scale,indexEdge)}_getScaleDomain(scaleType,[lowerIdx,upperIdx]){const bins=this.sortedBins;switch(scaleType){case"quantize":case"linear":default:return[bins[lowerIdx].value,bins[upperIdx].value];case"quantile":return getQuantileDomain(bins.slice(lowerIdx,upperIdx+1),(d=>d.value));case"ordinal":return getOrdinalDomain(bins,(d=>d.value))}}}var iterable_utils=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/iterable-utils.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/lib/constants.js");const R_EARTH=6378e3;function toFinite(n){return Number.isFinite(n)?n:0}function getBoundingBox(attributes,vertexCount){const positions=attributes.positions.value;let y,x,yMin=1/0,yMax=-1/0,xMin=1/0,xMax=-1/0;for(let i=0;i<vertexCount;i++)x=positions[3*i],y=positions[3*i+1],yMin=y<yMin?y:yMin,yMax=y>yMax?y:yMax,xMin=x<xMin?x:xMin,xMax=x>xMax?x:xMax;return{xMin:toFinite(xMin),xMax:toFinite(xMax),yMin:toFinite(yMin),yMax:toFinite(yMax)}}function alignToCell(inValue,cellSize){const sign=inValue<0?-1:1;let value=sign<0?Math.abs(inValue)+cellSize:Math.abs(inValue);return value=Math.floor(value/cellSize)*cellSize,value*sign}function getGridOffset(boundingBox,cellSize,convertToMeters=!0){if(!convertToMeters)return{xOffset:cellSize,yOffset:cellSize};const{yMin:yMin,yMax:yMax}=boundingBox;return function calculateGridLatLonOffset(cellSize,latitude){const yOffset=function calculateLatOffset(dy){return dy/R_EARTH*(180/Math.PI)}(cellSize),xOffset=function calculateLonOffset(lat,dx){return dx/R_EARTH*(180/Math.PI)/Math.cos(lat*Math.PI/180)}(latitude,cellSize);return{yOffset:yOffset,xOffset:xOffset}}(cellSize,(yMin+yMax)/2)}function getGridParams(boundingBox,cellSize,viewport,coordinateSystem){const gridOffset=getGridOffset(boundingBox,cellSize,coordinateSystem!==constants.COORDINATE_SYSTEM.CARTESIAN),translation=function getTranslation(boundingBox,gridOffset,coordinateSystem,viewport){const{width:width,height:height}=viewport,worldOrigin=coordinateSystem===constants.COORDINATE_SYSTEM.CARTESIAN?[-width/2,-height/2]:[-180,-90];log.Z.assert(coordinateSystem===constants.COORDINATE_SYSTEM.CARTESIAN||coordinateSystem===constants.COORDINATE_SYSTEM.LNGLAT||coordinateSystem===constants.COORDINATE_SYSTEM.DEFAULT);const{xMin:xMin,yMin:yMin}=boundingBox;return[-1*(alignToCell(xMin-worldOrigin[0],gridOffset.xOffset)+worldOrigin[0]),-1*(alignToCell(yMin-worldOrigin[1],gridOffset.yOffset)+worldOrigin[1])]}(boundingBox,gridOffset,coordinateSystem,viewport),{xMin:xMin,yMin:yMin,xMax:xMax,yMax:yMax}=boundingBox,width=xMax-xMin+gridOffset.xOffset,height=yMax-yMin+gridOffset.yOffset;return{gridOffset:gridOffset,translation:translation,width:width,height:height,numCol:Math.ceil(width/gridOffset.xOffset),numRow:Math.ceil(height/gridOffset.yOffset)}}function pointToDensityGridDataCPU(props,aggregationParams){const hashInfo=function pointsToGridHashing(props,aggregationParams){const{data:data=[],cellSize:cellSize}=props,{attributes:attributes,viewport:viewport,projectPoints:projectPoints,numInstances:numInstances}=aggregationParams,positions=attributes.positions.value,{size:size}=attributes.positions.getAccessor(),boundingBox=aggregationParams.boundingBox||function getPositionBoundingBox(positionAttribute,numInstance){const positions=positionAttribute.value,{size:size}=positionAttribute.getAccessor();let y,x,yMin=1/0,yMax=-1/0,xMin=1/0,xMax=-1/0;for(let i=0;i<numInstance;i++)x=positions[i*size],y=positions[i*size+1],Number.isFinite(x)&&Number.isFinite(y)&&(yMin=y<yMin?y:yMin,yMax=y>yMax?y:yMax,xMin=x<xMin?x:xMin,xMax=x>xMax?x:xMax);return{xMin:xMin,xMax:xMax,yMin:yMin,yMax:yMax}}(attributes.positions,numInstances),offsets=aggregationParams.posOffset||[180,90],gridOffset=aggregationParams.gridOffset||getGridOffset(boundingBox,cellSize);if(gridOffset.xOffset<=0||gridOffset.yOffset<=0)return{gridHash:{},gridOffset:gridOffset,offsets:[0,0]};const{width:width,height:height}=viewport,numCol=Math.ceil(width/gridOffset.xOffset),numRow=Math.ceil(height/gridOffset.yOffset),gridHash={},{iterable:iterable,objectInfo:objectInfo}=(0,iterable_utils.jB)(data),position=new Array(3);for(const pt of iterable){objectInfo.index++,position[0]=positions[objectInfo.index*size],position[1]=positions[objectInfo.index*size+1],position[2]=size>=3?positions[objectInfo.index*size+2]:0;const[x,y]=projectPoints?viewport.project(position):position;if(Number.isFinite(x)&&Number.isFinite(y)){const yIndex=Math.floor((y+offsets[1])/gridOffset.yOffset),xIndex=Math.floor((x+offsets[0])/gridOffset.xOffset);if(!projectPoints||xIndex>=0&&xIndex<numCol&&yIndex>=0&&yIndex<numRow){const key=`${yIndex}-${xIndex}`;gridHash[key]=gridHash[key]||{count:0,points:[],lonIdx:xIndex,latIdx:yIndex},gridHash[key].count+=1,gridHash[key].points.push({source:pt,index:objectInfo.index})}}}return{gridHash:gridHash,gridOffset:gridOffset,offsets:[-1*offsets[0],-1*offsets[1]]}}(props,aggregationParams),result=function getGridLayerDataFromGridHash({gridHash:gridHash,gridOffset:gridOffset,offsets:offsets}){const data=new Array(Object.keys(gridHash).length);let i=0;for(const key in gridHash){const idxs=key.split("-"),latIdx=parseInt(idxs[0],10),lonIdx=parseInt(idxs[1],10),index=i++;data[index]={index:index,position:[offsets[0]+gridOffset.xOffset*lonIdx,offsets[1]+gridOffset.yOffset*latIdx],...gridHash[key]}}return data}(hashInfo);return{gridHash:hashInfo.gridHash,gridOffset:hashInfo.gridOffset,data:result}}class GridAggregationLayer extends AggregationLayer{static{this.layerName="GridAggregationLayer"}initializeAggregationLayer({dimensions:dimensions}){super.initializeAggregationLayer(dimensions),this.setState({layerData:{},gpuGridAggregator:new GPUGridAggregator(this.context.device,{id:`${this.id}-gpu-aggregator`}),cpuGridAggregator:pointToDensityGridDataCPU})}updateState(opts){super.updateState(opts),this.updateAggregationState(opts);const{aggregationDataDirty:aggregationDataDirty,aggregationWeightsDirty:aggregationWeightsDirty,gpuAggregation:gpuAggregation}=this.state;if(this.getNumInstances()<=0)return;let aggregationDirty=!1;(aggregationDataDirty||gpuAggregation&&aggregationWeightsDirty)&&(this._updateAggregation(opts),aggregationDirty=!0),gpuAggregation||!aggregationDataDirty&&!aggregationWeightsDirty||(this._updateWeightBins(),this._uploadAggregationResults(),aggregationDirty=!0),this.setState({aggregationDirty:aggregationDirty})}finalizeState(context){const{count:count}=this.state.weights;count&&count.aggregationBuffer&&count.aggregationBuffer.delete(),this.state.gpuGridAggregator?.delete(),super.finalizeState(context)}updateShaders(shaders){this.state.gpuAggregation&&this.state.gpuGridAggregator.updateShaders(shaders)}updateAggregationState(opts){log.Z.assert(!1)}allocateResources(numRow,numCol){if(this.state.numRow!==numRow||this.state.numCol!==numCol){const dataBytes=numCol*numRow*4*4,{weights:weights}=this.state;for(const name in weights){const weight=weights[name];weight.aggregationBuffer&&weight.aggregationBuffer.delete(),weight.aggregationBuffer=this.context.device.createBuffer({byteLength:dataBytes,accessor:{size:4,type:5126,divisor:1}})}}}updateResults({aggregationData:aggregationData,maxMinData:maxMinData,maxData:maxData,minData:minData}){const{count:count}=this.state.weights;count&&(count.aggregationData=aggregationData,count.maxMinData=maxMinData,count.maxData=maxData,count.minData=minData)}_updateAggregation(opts){const{cpuGridAggregator:cpuGridAggregator,gpuGridAggregator:gpuGridAggregator,gridOffset:gridOffset,posOffset:posOffset,translation:translation=[0,0],scaling:scaling=[0,0,0],boundingBox:boundingBox,projectPoints:projectPoints,gpuAggregation:gpuAggregation,numCol:numCol,numRow:numRow}=this.state,{props:props}=opts,{viewport:viewport}=this.context,attributes=this.getAttributes(),vertexCount=this.getNumInstances();if(gpuAggregation){const{weights:weights}=this.state;gpuGridAggregator.run({weights:weights,cellSize:[gridOffset.xOffset,gridOffset.yOffset],numCol:numCol,numRow:numRow,translation:translation,scaling:scaling,vertexCount:vertexCount,projectPoints:projectPoints,attributes:attributes,moduleSettings:this.getModuleSettings()})}else{const result=cpuGridAggregator(props,{gridOffset:gridOffset,projectPoints:projectPoints,attributes:attributes,viewport:viewport,posOffset:posOffset,boundingBox:boundingBox});this.setState({layerData:result})}}_updateWeightBins(){const{getValue:getValue}=this.state,sortedBins=new BinSorter(this.state.layerData.data||[],{getValue:getValue});this.setState({sortedBins:sortedBins})}_uploadAggregationResults(){const{numCol:numCol,numRow:numRow}=this.state,{data:data}=this.state.layerData,{aggregatedBins:aggregatedBins,minValue:minValue,maxValue:maxValue,totalCount:totalCount}=this.state.sortedBins,aggregationData=new Float32Array(numCol*numRow*4).fill(0);for(const bin of aggregatedBins){const{lonIdx:lonIdx,latIdx:latIdx}=data[bin.i],{value:value,counts:counts}=bin,cellIndex=4*(lonIdx+latIdx*numCol);aggregationData[cellIndex]=value,aggregationData[cellIndex+4-1]=counts}const maxMinData=new Float32Array([maxValue,0,0,minValue]),maxData=new Float32Array([maxValue,0,0,totalCount]),minData=new Float32Array([minValue,0,0,totalCount]);this.updateResults({aggregationData:aggregationData,maxMinData:maxMinData,maxData:maxData,minData:minData})}}const screen_grid_layer_defaultProps={...ScreenGridCellLayer.defaultProps,getPosition:{type:"accessor",value:d=>d.position},getWeight:{type:"accessor",value:1},gpuAggregation:!1,aggregation:"SUM"},DIMENSIONS={data:{props:["cellSizePixels"]},weights:{props:["aggregation"],accessors:["getWeight"]}};class ScreenGridLayer extends GridAggregationLayer{static{this.layerName="ScreenGridLayer"}static{this.defaultProps=screen_grid_layer_defaultProps}initializeState(){super.initializeAggregationLayer({dimensions:DIMENSIONS,getCellSize:props=>props.cellSizePixels});const weights={count:{size:1,operation:AGGREGATION_OPERATION.SUM,needMax:!0,maxTexture:getFloatTexture(this.context.device,{id:`${this.id}-max-texture`})}};this.setState({supported:!0,projectPoints:!0,weights:weights,subLayerData:{attributes:{}},maxTexture:weights.count.maxTexture,positionAttributeName:"positions",posOffset:[0,0],translation:[1,-1]});this.getAttributeManager().add({positions:{size:3,accessor:"getPosition",type:"float64",fp64:this.use64bitPositions()},count:{size:3,accessor:"getWeight"}})}shouldUpdateState({changeFlags:changeFlags}){return this.state.supported&&changeFlags.somethingChanged}updateState(opts){super.updateState(opts)}renderLayers(){if(!this.state.supported)return[];const{maxTexture:maxTexture,numRow:numRow,numCol:numCol,weights:weights}=this.state,{updateTriggers:updateTriggers}=this.props,{aggregationBuffer:aggregationBuffer}=weights.count;return new(this.getSubLayerClass("cells",ScreenGridCellLayer))(this.props,this.getSubLayerProps({id:"cell-layer",updateTriggers:updateTriggers}),{data:{attributes:{instanceCounts:aggregationBuffer}},maxTexture:maxTexture,numInstances:numRow*numCol})}finalizeState(context){super.finalizeState(context);const{aggregationBuffer:aggregationBuffer,maxBuffer:maxBuffer,maxTexture:maxTexture}=this.state;aggregationBuffer?.delete(),maxBuffer?.delete(),maxTexture?.delete()}getPickingInfo({info:info}){const{index:index}=info;if(index>=0){const{gpuGridAggregator:gpuGridAggregator,gpuAggregation:gpuAggregation,weights:weights}=this.state,aggregationResults=gpuAggregation?gpuGridAggregator.getData("count"):weights.count;info.object=GPUGridAggregator.getAggregationData({pixelIndex:index,...aggregationResults})}return info}updateResults({aggregationData:aggregationData,maxData:maxData}){const{count:count}=this.state.weights;count.aggregationData=aggregationData,count.aggregationBuffer.write(aggregationData),count.maxData=maxData,count.maxTexture.setImageData({data:maxData})}updateAggregationState(opts){const cellSize=opts.props.cellSizePixels,cellSizeChanged=opts.oldProps.cellSizePixels!==cellSize,{viewportChanged:viewportChanged}=opts.changeFlags;let gpuAggregation=opts.props.gpuAggregation;this.state.gpuAggregation!==opts.props.gpuAggregation&&gpuAggregation&&!GPUGridAggregator.isSupported(this.context.device)&&(log.Z.warn("GPU Grid Aggregation not supported, falling back to CPU")(),gpuAggregation=!1);const gpuAggregationChanged=gpuAggregation!==this.state.gpuAggregation;this.setState({gpuAggregation:gpuAggregation});const positionsChanged=this.isAttributeChanged("positions"),{dimensions:dimensions}=this.state,{data:data,weights:weights}=dimensions,aggregationDataDirty=positionsChanged||gpuAggregationChanged||viewportChanged||this.isAggregationDirty(opts,{compareAll:gpuAggregation,dimension:data}),aggregationWeightsDirty=this.isAggregationDirty(opts,{dimension:weights});this.setState({aggregationDataDirty:aggregationDataDirty,aggregationWeightsDirty:aggregationWeightsDirty});const{viewport:viewport}=this.context;if(viewportChanged||cellSizeChanged){const{width:width,height:height}=viewport,numCol=Math.ceil(width/cellSize),numRow=Math.ceil(height/cellSize);this.allocateResources(numRow,numCol),this.setState({scaling:[width/2,-height/2,1],gridOffset:{xOffset:cellSize,yOffset:cellSize},width:width,height:height,numCol:numCol,numRow:numRow})}aggregationWeightsDirty&&this._updateAccessors(opts),(aggregationDataDirty||aggregationWeightsDirty)&&this._resetResults()}_updateAccessors(opts){const{getWeight:getWeight,aggregation:aggregation,data:data}=opts.props,{count:count}=this.state.weights;count&&(count.getWeight=getWeight,count.operation=AGGREGATION_OPERATION[aggregation]),this.setState({getValue:getValueFunc(aggregation,getWeight,{data:data})})}_resetResults(){const{count:count}=this.state.weights;count&&(count.aggregationData=null)}}var grid_cell_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/column-layer/grid-cell-layer.js");function noop(){}const dimensionSteps=["getBins","getDomain","getScaleFunc"],defaultDimensions=[{key:"fillColor",accessor:"getFillColor",pickingInfo:"colorValue",getBins:{triggers:{value:{prop:"getColorValue",updateTrigger:"getColorValue"},weight:{prop:"getColorWeight",updateTrigger:"getColorWeight"},aggregation:{prop:"colorAggregation"},filterData:{prop:"_filterData",updateTrigger:"_filterData"}}},getDomain:{triggers:{lowerPercentile:{prop:"lowerPercentile"},upperPercentile:{prop:"upperPercentile"},scaleType:{prop:"colorScaleType"}}},getScaleFunc:{triggers:{domain:{prop:"colorDomain"},range:{prop:"colorRange"}},onSet:{props:"onSetColorDomain"}},nullValue:[0,0,0,0]},{key:"elevation",accessor:"getElevation",pickingInfo:"elevationValue",getBins:{triggers:{value:{prop:"getElevationValue",updateTrigger:"getElevationValue"},weight:{prop:"getElevationWeight",updateTrigger:"getElevationWeight"},aggregation:{prop:"elevationAggregation"},filterData:{prop:"_filterData",updateTrigger:"_filterData"}}},getDomain:{triggers:{lowerPercentile:{prop:"elevationLowerPercentile"},upperPercentile:{prop:"elevationUpperPercentile"},scaleType:{prop:"elevationScaleType"}}},getScaleFunc:{triggers:{domain:{prop:"elevationDomain"},range:{prop:"elevationRange"}},onSet:{props:"onSetElevationDomain"}},nullValue:-1}],defaultGetCellSize=props=>props.cellSize;class CPUAggregator{constructor(opts){this.state={layerData:{data:void 0},dimensions:{}},this.changeFlags={},this.dimensionUpdaters={},this._getCellSize=opts.getCellSize||defaultGetCellSize,this._getAggregator=opts.getAggregator,this._addDimension(opts.dimensions||defaultDimensions)}static defaultDimensions(){return defaultDimensions}updateState(opts,aggregationParams){const{oldProps:oldProps,props:props,changeFlags:changeFlags}=opts;this.updateGetValueFuncs(oldProps,props,changeFlags);const reprojectNeeded=this.needsReProjectPoints(oldProps,props,changeFlags);let aggregationDirty=!1;if(changeFlags.dataChanged||reprojectNeeded)this.getAggregatedData(props,aggregationParams),aggregationDirty=!0;else{(this.getDimensionChanges(oldProps,props,changeFlags)||[]).forEach((f=>"function"==typeof f&&f())),aggregationDirty=!0}return this.setState({aggregationDirty:aggregationDirty}),this.state}setState(updateObject){this.state={...this.state,...updateObject}}setDimensionState(key,updateObject){this.setState({dimensions:{...this.state.dimensions,[key]:{...this.state.dimensions[key],...updateObject}}})}normalizeResult(result={}){return result.hexagons?{data:result.hexagons,...result}:result.layerData?{data:result.layerData,...result}:result}getAggregatedData(props,aggregationParams){const result=this._getAggregator(props)(props,aggregationParams);this.setState({layerData:this.normalizeResult(result)}),this.changeFlags={layerData:!0},this.getSortedBins(props)}updateGetValueFuncs(oldProps,props,changeFlags){for(const key in this.dimensionUpdaters){const{value:value,weight:weight,aggregation:aggregation}=this.dimensionUpdaters[key].getBins.triggers;let getValue=props[value.prop];this.needUpdateDimensionStep(this.dimensionUpdaters[key].getBins,oldProps,props,changeFlags)&&(getValue=getValue?wrapGetValueFunc(getValue,{data:props.data}):getValueFunc(props[aggregation.prop],props[weight.prop],{data:props.data})),getValue&&this.setDimensionState(key,{getValue:getValue})}}needsReProjectPoints(oldProps,props,changeFlags){return this._getCellSize(oldProps)!==this._getCellSize(props)||this._getAggregator(oldProps)!==this._getAggregator(props)||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getPosition)}addDimension(dimensions){this._addDimension(dimensions)}_addDimension(dimensions=[]){dimensions.forEach((dimension=>{const{key:key}=dimension;this.dimensionUpdaters[key]=this.getDimensionUpdaters(dimension),this.state.dimensions[key]={getValue:null,domain:null,sortedBins:null,scaleFunc:noop}}))}getDimensionUpdaters({key:key,accessor:accessor,pickingInfo:pickingInfo,getBins:getBins,getDomain:getDomain,getScaleFunc:getScaleFunc,nullValue:nullValue}){return{key:key,accessor:accessor,pickingInfo:pickingInfo,getBins:{updater:this.getDimensionSortedBins.bind(this),...getBins},getDomain:{updater:this.getDimensionValueDomain.bind(this),...getDomain},getScaleFunc:{updater:this.getDimensionScale.bind(this),...getScaleFunc},attributeAccessor:this.getSubLayerDimensionAttribute(key,nullValue)}}needUpdateDimensionStep(dimensionStep,oldProps,props,changeFlags){return Object.values(dimensionStep.triggers).some((item=>item.updateTrigger?changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged[item.updateTrigger]):oldProps[item.prop]!==props[item.prop]))}getDimensionChanges(oldProps,props,changeFlags){const updaters=[];for(const key in this.dimensionUpdaters){const needUpdate=dimensionSteps.find((step=>this.needUpdateDimensionStep(this.dimensionUpdaters[key][step],oldProps,props,changeFlags)));needUpdate&&updaters.push(this.dimensionUpdaters[key][needUpdate].updater.bind(this,props,this.dimensionUpdaters[key]))}return updaters.length?updaters:null}getUpdateTriggers(props){const _updateTriggers=props.updateTriggers||{},updateTriggers={};for(const key in this.dimensionUpdaters){const{accessor:accessor}=this.dimensionUpdaters[key];updateTriggers[accessor]={},dimensionSteps.forEach((step=>{Object.values(this.dimensionUpdaters[key][step].triggers).forEach((({prop:prop,updateTrigger:updateTrigger})=>{if(updateTrigger){const fromProp=_updateTriggers[updateTrigger];"object"!=typeof fromProp||Array.isArray(fromProp)?void 0!==fromProp&&(updateTriggers[accessor][prop]=fromProp):Object.assign(updateTriggers[accessor],fromProp)}else updateTriggers[accessor][prop]=props[prop]}))}))}return updateTriggers}getSortedBins(props){for(const key in this.dimensionUpdaters)this.getDimensionSortedBins(props,this.dimensionUpdaters[key])}getDimensionSortedBins(props,dimensionUpdater){const{key:key}=dimensionUpdater,{getValue:getValue}=this.state.dimensions[key],sortedBins=new BinSorter(this.state.layerData.data||[],{getValue:getValue,filterData:props._filterData});this.setDimensionState(key,{sortedBins:sortedBins}),this.getDimensionValueDomain(props,dimensionUpdater)}getDimensionValueDomain(props,dimensionUpdater){const{getDomain:getDomain,key:key}=dimensionUpdater,{triggers:{lowerPercentile:lowerPercentile,upperPercentile:upperPercentile,scaleType:scaleType}}=getDomain,valueDomain=this.state.dimensions[key].sortedBins.getValueDomainByScale(props[scaleType.prop],[props[lowerPercentile.prop],props[upperPercentile.prop]]);this.setDimensionState(key,{valueDomain:valueDomain}),this.getDimensionScale(props,dimensionUpdater)}getDimensionScale(props,dimensionUpdater){const{key:key,getScaleFunc:getScaleFunc,getDomain:getDomain}=dimensionUpdater,{domain:domain,range:range}=getScaleFunc.triggers,{scaleType:scaleType}=getDomain.triggers,{onSet:onSet}=getScaleFunc,dimensionRange=props[range.prop],dimensionDomain=props[domain.prop]||this.state.dimensions[key].valueDomain,getScaleFunction=function getScaleFunctionByScaleType(scaleType){switch(scaleType){case"quantize":default:return getQuantizeScale;case"linear":return getLinearScale;case"quantile":return getQuantileScale;case"ordinal":return getOrdinalScale}}(scaleType&&props[scaleType.prop]),scaleFunc=getScaleFunction(dimensionDomain,dimensionRange);"object"==typeof onSet&&"function"==typeof props[onSet.props]&&props[onSet.props](scaleFunc.domain()),this.setDimensionState(key,{scaleFunc:scaleFunc})}getSubLayerDimensionAttribute(key,nullValue){return cell=>{const{sortedBins:sortedBins,scaleFunc:scaleFunc}=this.state.dimensions[key],bin=sortedBins.binMap[cell.index];if(bin&&0===bin.counts)return nullValue;const cv=bin&&bin.value,domain=scaleFunc.domain();return cv>=domain[0]&&cv<=domain[domain.length-1]?scaleFunc(cv):nullValue}}getSubLayerAccessors(props){const accessors={};for(const key in this.dimensionUpdaters){const{accessor:accessor}=this.dimensionUpdaters[key];accessors[accessor]=this.getSubLayerDimensionAttribute(props,key)}return accessors}getPickingInfo({info:info}){let object=null;if(info.picked&&info.index>-1){const cell=this.state.layerData.data[info.index],binInfo={};for(const key in this.dimensionUpdaters){const{pickingInfo:pickingInfo}=this.dimensionUpdaters[key],{sortedBins:sortedBins}=this.state.dimensions[key],value=sortedBins.binMap[cell.index]&&sortedBins.binMap[cell.index].value;binInfo[pickingInfo]=value}object=Object.assign(binInfo,cell,{points:cell.filteredPoints||cell.points})}return info.picked=Boolean(object),info.object=object,info}getAccessor(dimensionKey){return this.dimensionUpdaters.hasOwnProperty(dimensionKey)?this.dimensionUpdaters[dimensionKey].attributeAccessor:noop}}function nop(){}const cpu_grid_layer_defaultProps={colorDomain:null,colorRange:defaultColorRange,getColorValue:{type:"accessor",value:null},getColorWeight:{type:"accessor",value:1},colorAggregation:"SUM",lowerPercentile:{type:"number",min:0,max:100,value:0},upperPercentile:{type:"number",min:0,max:100,value:100},colorScaleType:"quantize",onSetColorDomain:nop,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:{type:"accessor",value:null},getElevationWeight:{type:"accessor",value:1},elevationAggregation:"SUM",elevationLowerPercentile:{type:"number",min:0,max:100,value:0},elevationUpperPercentile:{type:"number",min:0,max:100,value:100},elevationScale:{type:"number",min:0,value:1},elevationScaleType:"linear",onSetElevationDomain:nop,gridAggregator:pointToDensityGridDataCPU,cellSize:{type:"number",min:0,max:1e3,value:1e3},coverage:{type:"number",min:0,max:1,value:1},getPosition:{type:"accessor",value:x=>x.position},extruded:!1,material:!0,_filterData:{type:"function",value:null,optional:!0}};class CPUGridLayer extends AggregationLayer{static{this.layerName="CPUGridLayer"}static{this.defaultProps=cpu_grid_layer_defaultProps}initializeState(){const cpuAggregator=new CPUAggregator({getAggregator:props=>props.gridAggregator,getCellSize:props=>props.cellSize});this.state={cpuAggregator:cpuAggregator,aggregatorState:cpuAggregator.state};this.getAttributeManager().add({positions:{size:3,type:"float64",accessor:"getPosition"}})}updateState(opts){super.updateState(opts),this.setState({aggregatorState:this.state.cpuAggregator.updateState(opts,{viewport:this.context.viewport,attributes:this.getAttributes(),numInstances:this.getNumInstances()})})}getPickingInfo({info:info}){return this.state.cpuAggregator.getPickingInfo({info:info})}_onGetSublayerColor(cell){return this.state.cpuAggregator.getAccessor("fillColor")(cell)}_onGetSublayerElevation(cell){return this.state.cpuAggregator.getAccessor("elevation")(cell)}_getSublayerUpdateTriggers(){return this.state.cpuAggregator.getUpdateTriggers(this.props)}renderLayers(){const{elevationScale:elevationScale,extruded:extruded,cellSize:cellSize,coverage:coverage,material:material,transitions:transitions}=this.props,{cpuAggregator:cpuAggregator}=this.state,SubLayerClass=this.getSubLayerClass("grid-cell",grid_cell_layer.Z),updateTriggers=this._getSublayerUpdateTriggers();return new SubLayerClass({cellSize:cellSize,coverage:coverage,material:material,elevationScale:elevationScale,extruded:extruded,getFillColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),transitions:transitions&&{getFillColor:transitions.getColorValue||transitions.getColorWeight,getElevation:transitions.getElevationValue||transitions.getElevationWeight}},this.getSubLayerProps({id:"grid-cell",updateTriggers:updateTriggers}),{data:cpuAggregator.state.layerData.data})}}var column_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/column-layer/column-layer.js"),thirdPi=Math.PI/3,angles=[0,thirdPi,2*thirdPi,3*thirdPi,4*thirdPi,5*thirdPi];function pointX(d){return d[0]}function pointY(d){return d[1]}function hexagon_layer_nop(){}const hexagon_layer_defaultProps={colorDomain:null,colorRange:defaultColorRange,getColorValue:{type:"accessor",value:null},getColorWeight:{type:"accessor",value:1},colorAggregation:"SUM",lowerPercentile:{type:"number",value:0,min:0,max:100},upperPercentile:{type:"number",value:100,min:0,max:100},colorScaleType:"quantize",onSetColorDomain:hexagon_layer_nop,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:{type:"accessor",value:null},getElevationWeight:{type:"accessor",value:1},elevationAggregation:"SUM",elevationLowerPercentile:{type:"number",value:0,min:0,max:100},elevationUpperPercentile:{type:"number",value:100,min:0,max:100},elevationScale:{type:"number",min:0,value:1},elevationScaleType:"linear",onSetElevationDomain:hexagon_layer_nop,radius:{type:"number",value:1e3,min:1},coverage:{type:"number",min:0,max:1,value:1},extruded:!1,hexagonAggregator:function pointToHexbin(props,aggregationParams){const{data:data,radius:radius}=props,{viewport:viewport,attributes:attributes}=aggregationParams,centerLngLat=data.length?function getPointsCenter(data,aggregationParams){const{attributes:attributes}=aggregationParams,positions=attributes.positions.value,{size:size}=attributes.positions.getAccessor();let i,minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0;for(i=0;i<size*data.length;i+=size){const x=positions[i],y=positions[i+1];Number.isFinite(x)&&Number.isFinite(y)&&(minX=Math.min(x,minX),maxX=Math.max(x,maxX),minY=Math.min(y,minY),maxY=Math.max(y,maxY))}return[minX,minY,maxX,maxY].every(Number.isFinite)?[(minX+maxX)/2,(minY+maxY)/2]:null}(data,aggregationParams):null,radiusCommon=function getRadiusInCommon(radius,viewport,center){const{unitsPerMeter:unitsPerMeter}=viewport.getDistanceScales(center);return radius*unitsPerMeter[0]}(radius,viewport,centerLngLat),screenPoints=[],{iterable:iterable,objectInfo:objectInfo}=(0,iterable_utils.jB)(data),positions=attributes.positions.value,{size:size}=attributes.positions.getAccessor();for(const object of iterable){objectInfo.index++;const posIndex=objectInfo.index*size,position=[positions[posIndex],positions[posIndex+1]];Number.isFinite(position[0])&&Number.isFinite(position[1])?screenPoints.push({screenCoord:viewport.projectFlat(position),source:object,index:objectInfo.index}):log.Z.warn("HexagonLayer: invalid position")()}const newHexbin=function hexbin(){var r,dx,dy,x0=0,y0=0,x1=1,y1=1,x=pointX,y=pointY;function hexbin(points){var i,binsById={},bins=[],n=points.length;for(i=0;i<n;++i)if(!isNaN(px=+x.call(null,point=points[i],i,points))&&!isNaN(py=+y.call(null,point,i,points))){var point,px,py,pj=Math.round(py/=dy),pi=Math.round(px=px/dx-(1&pj)/2),py1=py-pj;if(3*Math.abs(py1)>1){var px1=px-pi,pi2=pi+(px<pi?-1:1)/2,pj2=pj+(py<pj?-1:1),px2=px-pi2,py2=py-pj2;px1*px1+py1*py1>px2*px2+py2*py2&&(pi=pi2+(1&pj?1:-1)/2,pj=pj2)}var id=pi+"-"+pj,bin=binsById[id];bin?bin.push(point):(bins.push(bin=binsById[id]=[point]),bin.x=(pi+(1&pj)/2)*dx,bin.y=pj*dy)}return bins}function hexagon(radius){var x0=0,y0=0;return angles.map((function(angle){var x1=Math.sin(angle)*radius,y1=-Math.cos(angle)*radius,dx=x1-x0,dy=y1-y0;return x0=x1,y0=y1,[dx,dy]}))}return hexbin.hexagon=function(radius){return"m"+hexagon(null==radius?r:+radius).join("l")+"z"},hexbin.centers=function(){for(var centers=[],j=Math.round(y0/dy),i=Math.round(x0/dx),y=j*dy;y<y1+r;y+=dy,++j)for(var x=i*dx+(1&j)*dx/2;x<x1+dx/2;x+=dx)centers.push([x,y]);return centers},hexbin.mesh=function(){var fragment=hexagon(r).slice(0,4).join("l");return hexbin.centers().map((function(p){return"M"+p+"m"+fragment})).join("")},hexbin.x=function(_){return arguments.length?(x=_,hexbin):x},hexbin.y=function(_){return arguments.length?(y=_,hexbin):y},hexbin.radius=function(_){return arguments.length?(dx=2*(r=+_)*Math.sin(thirdPi),dy=1.5*r,hexbin):r},hexbin.size=function(_){return arguments.length?(x0=y0=0,x1=+_[0],y1=+_[1],hexbin):[x1-x0,y1-y0]},hexbin.extent=function(_){return arguments.length?(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1],hexbin):[[x0,y0],[x1,y1]]},hexbin.radius(1)}().radius(radiusCommon).x((d=>d.screenCoord[0])).y((d=>d.screenCoord[1]));return{hexagons:newHexbin(screenPoints).map(((hex,index)=>({position:viewport.unprojectFlat([hex.x,hex.y]),points:hex,index:index}))),radiusCommon:radiusCommon}},getPosition:{type:"accessor",value:x=>x.position},material:!0,_filterData:{type:"function",value:null,optional:!0}};class HexagonLayer extends AggregationLayer{static{this.layerName="HexagonLayer"}static{this.defaultProps=hexagon_layer_defaultProps}initializeState(){const cpuAggregator=new CPUAggregator({getAggregator:props=>props.hexagonAggregator,getCellSize:props=>props.radius});this.state={cpuAggregator:cpuAggregator,aggregatorState:cpuAggregator.state,vertices:null};this.getAttributeManager().add({positions:{size:3,type:"float64",accessor:"getPosition"}})}updateState(opts){if(super.updateState(opts),opts.changeFlags.propsOrDataChanged){const aggregatorState=this.state.cpuAggregator.updateState(opts,{viewport:this.context.viewport,attributes:this.getAttributes()});if(this.state.aggregatorState.layerData!==aggregatorState.layerData){const{hexagonVertices:hexagonVertices}=aggregatorState.layerData||{};this.setState({vertices:hexagonVertices&&this.convertLatLngToMeterOffset(hexagonVertices)})}this.setState({aggregatorState:aggregatorState})}}convertLatLngToMeterOffset(hexagonVertices){const{viewport:viewport}=this.context;if(Array.isArray(hexagonVertices)&&6===hexagonVertices.length){const vertex0=hexagonVertices[0],vertex3=hexagonVertices[3],centroid=[(vertex0[0]+vertex3[0])/2,(vertex0[1]+vertex3[1])/2],centroidFlat=viewport.projectFlat(centroid),{metersPerUnit:metersPerUnit}=viewport.getDistanceScales(centroid);return hexagonVertices.map((vt=>{const vtFlat=viewport.projectFlat(vt);return[(vtFlat[0]-centroidFlat[0])*metersPerUnit[0],(vtFlat[1]-centroidFlat[1])*metersPerUnit[1]]}))}return log.Z.error("HexagonLayer: hexagonVertices needs to be an array of 6 points")(),null}getPickingInfo({info:info}){return this.state.cpuAggregator.getPickingInfo({info:info})}_onGetSublayerColor(cell){return this.state.cpuAggregator.getAccessor("fillColor")(cell)}_onGetSublayerElevation(cell){return this.state.cpuAggregator.getAccessor("elevation")(cell)}_getSublayerUpdateTriggers(){return this.state.cpuAggregator.getUpdateTriggers(this.props)}renderLayers(){const{elevationScale:elevationScale,extruded:extruded,coverage:coverage,material:material,transitions:transitions}=this.props,{aggregatorState:aggregatorState,vertices:vertices}=this.state,SubLayerClass=this.getSubLayerClass("hexagon-cell",column_layer.Z),updateTriggers=this._getSublayerUpdateTriggers();return new SubLayerClass({...vertices?{vertices:vertices,radius:1}:{radius:aggregatorState.layerData.radiusCommon||1,radiusUnits:"common",angle:90},diskResolution:6,elevationScale:elevationScale,extruded:extruded,coverage:coverage,material:material,getFillColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),transitions:transitions&&{getFillColor:transitions.getColorValue||transitions.getColorWeight,getElevation:transitions.getElevationValue||transitions.getElevationWeight}},this.getSubLayerProps({id:"hexagon-cell",updateTriggers:updateTriggers}),{data:aggregatorState.layerData.data})}}var line_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/line-layer/line-layer.js"),solid_polygon_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/solid-polygon-layer/solid-polygon-layer.js");const ONE6TH=1/6,OFFSET={N:[0,.5],E:[.5,0],S:[0,-.5],W:[-.5,0],NE:[.5,.5],NW:[-.5,.5],SE:[.5,-.5],SW:[-.5,-.5]},SW_TRIANGLE=[OFFSET.W,OFFSET.SW,OFFSET.S],SE_TRIANGLE=[OFFSET.S,OFFSET.SE,OFFSET.E],NE_TRIANGLE=[OFFSET.E,OFFSET.NE,OFFSET.N],NW_TRIANGLE=[OFFSET.NW,OFFSET.W,OFFSET.N],SW_TRAPEZOID=[[-.5,ONE6TH],[-.5,-ONE6TH],[-ONE6TH,-.5],[ONE6TH,-.5]],SE_TRAPEZOID=[[-ONE6TH,-.5],[ONE6TH,-.5],[.5,-ONE6TH],[.5,ONE6TH]],NE_TRAPEZOID=[[.5,-ONE6TH],[.5,ONE6TH],[ONE6TH,.5],[-ONE6TH,.5]],NW_TRAPEZOID=[[-.5,ONE6TH],[-.5,-ONE6TH],[ONE6TH,.5],[-ONE6TH,.5]],S_RECTANGLE=[OFFSET.W,OFFSET.SW,OFFSET.SE,OFFSET.E],E_RECTANGLE=[OFFSET.S,OFFSET.SE,OFFSET.NE,OFFSET.N],N_RECTANGLE=[OFFSET.NW,OFFSET.W,OFFSET.E,OFFSET.NE],W_RECTANGLE=[OFFSET.NW,OFFSET.SW,OFFSET.S,OFFSET.N],EW_RECTANGEL=[[-.5,ONE6TH],[-.5,-ONE6TH],[.5,-ONE6TH],[.5,ONE6TH]],SN_RECTANGEL=[[-ONE6TH,-.5],[ONE6TH,-.5],[ONE6TH,.5],[-ONE6TH,.5]],SQUARE=[OFFSET.NW,OFFSET.SW,OFFSET.SE,OFFSET.NE],SW_PENTAGON=[OFFSET.NW,OFFSET.SW,OFFSET.SE,OFFSET.E,OFFSET.N],SE_PENTAGON=[OFFSET.W,OFFSET.SW,OFFSET.SE,OFFSET.NE,OFFSET.N],NE_PENTAGON=[OFFSET.NW,OFFSET.W,OFFSET.S,OFFSET.SE,OFFSET.NE],NW_PENTAGON=[OFFSET.NW,OFFSET.SW,OFFSET.S,OFFSET.E,OFFSET.NE],NW_N_PENTAGON=[OFFSET.NW,OFFSET.W,[.5,-ONE6TH],[.5,ONE6TH],OFFSET.N],NE_E_PENTAGON=[[-ONE6TH,-.5],[ONE6TH,-.5],OFFSET.E,OFFSET.NE,OFFSET.N],SE_S_PENTAGON=[[-.5,ONE6TH],[-.5,-ONE6TH],OFFSET.S,OFFSET.SE,OFFSET.E],SW_W_PENTAGON=[OFFSET.W,OFFSET.SW,OFFSET.S,[ONE6TH,.5],[-ONE6TH,.5]],NW_W_PENTAGON=[OFFSET.NW,OFFSET.W,[-ONE6TH,-.5],[ONE6TH,-.5],OFFSET.N],NE_N_PENTAGON=[[-.5,ONE6TH],[-.5,-ONE6TH],OFFSET.E,OFFSET.NE,OFFSET.N],SE_E_PENTAGON=[OFFSET.S,OFFSET.SE,OFFSET.E,[ONE6TH,.5],[-ONE6TH,.5]],SW_S_PENTAGON=[OFFSET.W,OFFSET.SW,OFFSET.S,[.5,-ONE6TH],[.5,ONE6TH]],S_HEXAGON=[OFFSET.W,OFFSET.SW,OFFSET.SE,OFFSET.E,[ONE6TH,.5],[-ONE6TH,.5]],E_HEXAGON=[[-.5,ONE6TH],[-.5,-ONE6TH],OFFSET.S,OFFSET.SE,OFFSET.NE,OFFSET.N],N_HEXAGON=[OFFSET.NW,OFFSET.W,[-ONE6TH,-.5],[ONE6TH,-.5],OFFSET.E,OFFSET.NE],W_HEXAGON=[OFFSET.NW,OFFSET.SW,OFFSET.S,[.5,-ONE6TH],[.5,ONE6TH],OFFSET.N],SW_NE_HEXAGON=[OFFSET.W,OFFSET.SW,OFFSET.S,OFFSET.E,OFFSET.NE,OFFSET.N],NW_SE_HEXAGON=[OFFSET.NW,OFFSET.W,OFFSET.S,OFFSET.SE,OFFSET.E,OFFSET.N],NE_HEPTAGON=[[-.5,ONE6TH],[-.5,-ONE6TH],[-ONE6TH,-.5],[ONE6TH,-.5],OFFSET.E,OFFSET.NE,OFFSET.N],SW_HEPTAGON=[OFFSET.W,OFFSET.SW,OFFSET.S,[.5,-ONE6TH],[.5,ONE6TH],[ONE6TH,.5],[-ONE6TH,.5]],NW_HEPTAGON=[OFFSET.NW,OFFSET.W,[-ONE6TH,-.5],[ONE6TH,-.5],[.5,-ONE6TH],[.5,ONE6TH],OFFSET.N],SE_HEPTAGON=[[-.5,ONE6TH],[-.5,-ONE6TH],OFFSET.S,OFFSET.SE,OFFSET.E,[ONE6TH,.5],[-ONE6TH,.5]],OCTAGON=[[-.5,ONE6TH],[-.5,-ONE6TH],[-ONE6TH,-.5],[ONE6TH,-.5],[.5,-ONE6TH],[.5,ONE6TH],[ONE6TH,.5],[-ONE6TH,.5]],ISOLINES_CODE_OFFSET_MAP={0:[],1:[[OFFSET.W,OFFSET.S]],2:[[OFFSET.S,OFFSET.E]],3:[[OFFSET.W,OFFSET.E]],4:[[OFFSET.N,OFFSET.E]],5:{0:[[OFFSET.W,OFFSET.S],[OFFSET.N,OFFSET.E]],1:[[OFFSET.W,OFFSET.N],[OFFSET.S,OFFSET.E]]},6:[[OFFSET.N,OFFSET.S]],7:[[OFFSET.W,OFFSET.N]],8:[[OFFSET.W,OFFSET.N]],9:[[OFFSET.N,OFFSET.S]],10:{0:[[OFFSET.W,OFFSET.N],[OFFSET.S,OFFSET.E]],1:[[OFFSET.W,OFFSET.S],[OFFSET.N,OFFSET.E]]},11:[[OFFSET.N,OFFSET.E]],12:[[OFFSET.W,OFFSET.E]],13:[[OFFSET.S,OFFSET.E]],14:[[OFFSET.W,OFFSET.S]],15:[]};function ternaryToIndex(ternary){return parseInt(ternary,4)}const ISOBANDS_CODE_OFFSET_MAP={[ternaryToIndex("0000")]:[],[ternaryToIndex("2222")]:[],[ternaryToIndex("2221")]:[SW_TRIANGLE],[ternaryToIndex("2212")]:[SE_TRIANGLE],[ternaryToIndex("2122")]:[NE_TRIANGLE],[ternaryToIndex("1222")]:[NW_TRIANGLE],[ternaryToIndex("0001")]:[SW_TRIANGLE],[ternaryToIndex("0010")]:[SE_TRIANGLE],[ternaryToIndex("0100")]:[NE_TRIANGLE],[ternaryToIndex("1000")]:[NW_TRIANGLE],[ternaryToIndex("2220")]:[SW_TRAPEZOID],[ternaryToIndex("2202")]:[SE_TRAPEZOID],[ternaryToIndex("2022")]:[NE_TRAPEZOID],[ternaryToIndex("0222")]:[NW_TRAPEZOID],[ternaryToIndex("0002")]:[SW_TRAPEZOID],[ternaryToIndex("0020")]:[SE_TRAPEZOID],[ternaryToIndex("0200")]:[NE_TRAPEZOID],[ternaryToIndex("2000")]:[NW_TRAPEZOID],[ternaryToIndex("0011")]:[S_RECTANGLE],[ternaryToIndex("0110")]:[E_RECTANGLE],[ternaryToIndex("1100")]:[N_RECTANGLE],[ternaryToIndex("1001")]:[W_RECTANGLE],[ternaryToIndex("2211")]:[S_RECTANGLE],[ternaryToIndex("2112")]:[E_RECTANGLE],[ternaryToIndex("1122")]:[N_RECTANGLE],[ternaryToIndex("1221")]:[W_RECTANGLE],[ternaryToIndex("2200")]:[EW_RECTANGEL],[ternaryToIndex("2002")]:[SN_RECTANGEL],[ternaryToIndex("0022")]:[EW_RECTANGEL],[ternaryToIndex("0220")]:[SN_RECTANGEL],[ternaryToIndex("1111")]:[SQUARE],[ternaryToIndex("1211")]:[SW_PENTAGON],[ternaryToIndex("2111")]:[SE_PENTAGON],[ternaryToIndex("1112")]:[NE_PENTAGON],[ternaryToIndex("1121")]:[NW_PENTAGON],[ternaryToIndex("1011")]:[SW_PENTAGON],[ternaryToIndex("0111")]:[SE_PENTAGON],[ternaryToIndex("1110")]:[NE_PENTAGON],[ternaryToIndex("1101")]:[NW_PENTAGON],[ternaryToIndex("1200")]:[NW_N_PENTAGON],[ternaryToIndex("0120")]:[NE_E_PENTAGON],[ternaryToIndex("0012")]:[SE_S_PENTAGON],[ternaryToIndex("2001")]:[SW_W_PENTAGON],[ternaryToIndex("1022")]:[NW_N_PENTAGON],[ternaryToIndex("2102")]:[NE_E_PENTAGON],[ternaryToIndex("2210")]:[SE_S_PENTAGON],[ternaryToIndex("0221")]:[SW_W_PENTAGON],[ternaryToIndex("1002")]:[NW_W_PENTAGON],[ternaryToIndex("2100")]:[NE_N_PENTAGON],[ternaryToIndex("0210")]:[SE_E_PENTAGON],[ternaryToIndex("0021")]:[SW_S_PENTAGON],[ternaryToIndex("1220")]:[NW_W_PENTAGON],[ternaryToIndex("0122")]:[NE_N_PENTAGON],[ternaryToIndex("2012")]:[SE_E_PENTAGON],[ternaryToIndex("2201")]:[SW_S_PENTAGON],[ternaryToIndex("0211")]:[S_HEXAGON],[ternaryToIndex("2110")]:[E_HEXAGON],[ternaryToIndex("1102")]:[N_HEXAGON],[ternaryToIndex("1021")]:[W_HEXAGON],[ternaryToIndex("2011")]:[S_HEXAGON],[ternaryToIndex("0112")]:[E_HEXAGON],[ternaryToIndex("1120")]:[N_HEXAGON],[ternaryToIndex("1201")]:[W_HEXAGON],[ternaryToIndex("2101")]:[SW_NE_HEXAGON],[ternaryToIndex("0121")]:[SW_NE_HEXAGON],[ternaryToIndex("1012")]:[NW_SE_HEXAGON],[ternaryToIndex("1210")]:[NW_SE_HEXAGON],[ternaryToIndex("0101")]:{0:[SW_TRIANGLE,NE_TRIANGLE],1:[SW_NE_HEXAGON],2:[SW_NE_HEXAGON]},[ternaryToIndex("1010")]:{0:[NW_TRIANGLE,SE_TRIANGLE],1:[NW_SE_HEXAGON],2:[NW_SE_HEXAGON]},[ternaryToIndex("2121")]:{0:[SW_NE_HEXAGON],1:[SW_NE_HEXAGON],2:[SW_TRIANGLE,NE_TRIANGLE]},[ternaryToIndex("1212")]:{0:[NW_SE_HEXAGON],1:[NW_SE_HEXAGON],2:[NW_TRIANGLE,SE_TRIANGLE]},[ternaryToIndex("2120")]:{0:[NE_HEPTAGON],1:[NE_HEPTAGON],2:[SW_TRAPEZOID,NE_TRIANGLE]},[ternaryToIndex("2021")]:{0:[SW_HEPTAGON],1:[SW_HEPTAGON],2:[SW_TRIANGLE,NE_TRAPEZOID]},[ternaryToIndex("1202")]:{0:[NW_HEPTAGON],1:[NW_HEPTAGON],2:[NW_TRIANGLE,SE_TRAPEZOID]},[ternaryToIndex("0212")]:{0:[SE_HEPTAGON],1:[SE_HEPTAGON],2:[SE_TRIANGLE,NW_TRAPEZOID]},[ternaryToIndex("0102")]:{0:[SW_TRAPEZOID,NE_TRIANGLE],1:[NE_HEPTAGON],2:[NE_HEPTAGON]},[ternaryToIndex("0201")]:{0:[SW_TRIANGLE,NE_TRAPEZOID],1:[SW_HEPTAGON],2:[SW_HEPTAGON]},[ternaryToIndex("1020")]:{0:[NW_TRIANGLE,SE_TRAPEZOID],1:[NW_HEPTAGON],2:[NW_HEPTAGON]},[ternaryToIndex("2010")]:{0:[SE_TRIANGLE,NW_TRAPEZOID],1:[SE_HEPTAGON],2:[SE_HEPTAGON]},[ternaryToIndex("2020")]:{0:[NW_TRAPEZOID,SE_TRAPEZOID],1:[OCTAGON],2:[SW_TRAPEZOID,NE_TRAPEZOID]},[ternaryToIndex("0202")]:{0:[NE_TRAPEZOID,SW_TRAPEZOID],1:[OCTAGON],2:[NW_TRAPEZOID,SE_TRAPEZOID]}},CONTOUR_TYPE={ISO_LINES:1,ISO_BANDS:2},DEFAULT_THRESHOLD_DATA={zIndex:0,zOffset:.005};function getVertexCode(weight,threshold){return Array.isArray(threshold)?weight<threshold[0]?0:weight<threshold[1]?1:2:weight>=threshold?1:0}function getCode(opts){const{cellWeights:cellWeights,x:x,y:y,width:width,height:height}=opts;let threshold=opts.threshold;opts.thresholdValue&&(log.Z.deprecated("thresholdValue","threshold")(),threshold=opts.thresholdValue);const isLeftBoundary=x<0,isRightBoundary=x>=width-1,isBottomBoundary=y<0,isTopBoundary=y>=height-1,isBoundary=isLeftBoundary||isRightBoundary||isBottomBoundary||isTopBoundary,weights={},codes={};isLeftBoundary||isTopBoundary?codes.top=0:(weights.top=cellWeights[(y+1)*width+x],codes.top=getVertexCode(weights.top,threshold)),isRightBoundary||isTopBoundary?codes.topRight=0:(weights.topRight=cellWeights[(y+1)*width+x+1],codes.topRight=getVertexCode(weights.topRight,threshold)),isRightBoundary||isBottomBoundary?codes.right=0:(weights.right=cellWeights[y*width+x+1],codes.right=getVertexCode(weights.right,threshold)),isLeftBoundary||isBottomBoundary?codes.current=0:(weights.current=cellWeights[y*width+x],codes.current=getVertexCode(weights.current,threshold));const{top:top,topRight:topRight,right:right,current:current}=codes;let code=-1;Number.isFinite(threshold)&&(code=top<<3|topRight<<2|right<<1|current),Array.isArray(threshold)&&(code=top<<6|topRight<<4|right<<2|current);let meanCode=0;return isBoundary||(meanCode=getVertexCode((weights.top+weights.topRight+weights.right+weights.current)/4,threshold)),{code:code,meanCode:meanCode}}function getVertices(opts){const{gridOrigin:gridOrigin,cellSize:cellSize,x:x,y:y,code:code,meanCode:meanCode,type:type=CONTOUR_TYPE.ISO_LINES}=opts,thresholdData={...DEFAULT_THRESHOLD_DATA,...opts.thresholdData};let offsets=type===CONTOUR_TYPE.ISO_BANDS?ISOBANDS_CODE_OFFSET_MAP[code]:ISOLINES_CODE_OFFSET_MAP[code];Array.isArray(offsets)||(offsets=offsets[meanCode]);const vZ=thresholdData.zIndex*thresholdData.zOffset,rX=(x+1)*cellSize[0],rY=(y+1)*cellSize[1],refVertexX=gridOrigin[0]+rX,refVertexY=gridOrigin[1]+rY;if(type===CONTOUR_TYPE.ISO_BANDS){const polygons=[];return offsets.forEach((polygonOffsets=>{const polygon=[];polygonOffsets.forEach((xyOffset=>{const vX=refVertexX+xyOffset[0]*cellSize[0],vY=refVertexY+xyOffset[1]*cellSize[1];polygon.push([vX,vY,vZ])})),polygons.push(polygon)})),polygons}const lines=[];return offsets.forEach((xyOffsets=>{xyOffsets.forEach((offset=>{const vX=refVertexX+offset[0]*cellSize[0],vY=refVertexY+offset[1]*cellSize[1];lines.push([vX,vY,vZ])}))})),lines}const DEFAULT_COLOR=[255,255,255,255],contour_layer_defaultProps={cellSize:{type:"number",min:1,max:1e3,value:1e3},getPosition:{type:"accessor",value:x=>x.position},getWeight:{type:"accessor",value:1},gpuAggregation:!1,aggregation:"SUM",contours:{type:"object",value:[{threshold:1}],optional:!0,compare:3},zOffset:.005},contour_layer_DIMENSIONS={data:{props:["cellSize"]},weights:{props:["aggregation"],accessors:["getWeight"]}};class ContourLayer extends GridAggregationLayer{static{this.layerName="ContourLayer"}static{this.defaultProps=contour_layer_defaultProps}initializeState(){super.initializeAggregationLayer({dimensions:contour_layer_DIMENSIONS}),this.setState({contourData:{},projectPoints:!1,weights:{count:{size:1,operation:AGGREGATION_OPERATION.SUM}}});this.getAttributeManager().add({positions:{size:3,accessor:"getPosition",type:"float64",fp64:this.use64bitPositions()},count:{size:3,accessor:"getWeight"}})}updateState(opts){super.updateState(opts);let contoursChanged=!1;const{oldProps:oldProps,props:props}=opts,{aggregationDirty:aggregationDirty}=this.state;oldProps.contours===props.contours&&oldProps.zOffset===props.zOffset||(contoursChanged=!0,this._updateThresholdData(opts.props)),this.getNumInstances()>0&&(aggregationDirty||contoursChanged)&&this._generateContours()}renderLayers(){const{contourSegments:contourSegments,contourPolygons:contourPolygons}=this.state.contourData,LinesSubLayerClass=this.getSubLayerClass("lines",line_layer.Z),BandsSubLayerClass=this.getSubLayerClass("bands",solid_polygon_layer.Z);return[contourSegments&&contourSegments.length>0&&new LinesSubLayerClass(this.getSubLayerProps({id:"lines"}),{data:this.state.contourData.contourSegments,getSourcePosition:d=>d.start,getTargetPosition:d=>d.end,getColor:d=>d.contour.color||DEFAULT_COLOR,getWidth:d=>d.contour.strokeWidth||1}),contourPolygons&&contourPolygons.length>0&&new BandsSubLayerClass(this.getSubLayerProps({id:"bands"}),{data:this.state.contourData.contourPolygons,getPolygon:d=>d.vertices,getFillColor:d=>d.contour.color||DEFAULT_COLOR})]}updateAggregationState(opts){const{props:props,oldProps:oldProps}=opts,{cellSize:cellSize,coordinateSystem:coordinateSystem}=props,{viewport:viewport}=this.context,cellSizeChanged=oldProps.cellSize!==cellSize;let gpuAggregation=props.gpuAggregation;this.state.gpuAggregation!==props.gpuAggregation&&gpuAggregation&&!GPUGridAggregator.isSupported(this.context.device)&&(log.Z.warn("GPU Grid Aggregation not supported, falling back to CPU")(),gpuAggregation=!1);const gpuAggregationChanged=gpuAggregation!==this.state.gpuAggregation;this.setState({gpuAggregation:gpuAggregation});const{dimensions:dimensions}=this.state,positionsChanged=this.isAttributeChanged("positions"),{data:data,weights:weights}=dimensions;let{boundingBox:boundingBox}=this.state;if(positionsChanged&&(boundingBox=getBoundingBox(this.getAttributes(),this.getNumInstances()),this.setState({boundingBox:boundingBox})),positionsChanged||cellSizeChanged){const{gridOffset:gridOffset,translation:translation,width:width,height:height,numCol:numCol,numRow:numRow}=getGridParams(boundingBox,cellSize,viewport,coordinateSystem);this.allocateResources(numRow,numCol),this.setState({gridOffset:gridOffset,boundingBox:boundingBox,translation:translation,posOffset:translation.slice(),gridOrigin:[-1*translation[0],-1*translation[1]],width:width,height:height,numCol:numCol,numRow:numRow})}const aggregationDataDirty=positionsChanged||gpuAggregationChanged||this.isAggregationDirty(opts,{dimension:data,compareAll:gpuAggregation}),aggregationWeightsDirty=this.isAggregationDirty(opts,{dimension:weights});aggregationWeightsDirty&&this._updateAccessors(opts),(aggregationDataDirty||aggregationWeightsDirty)&&this._resetResults(),this.setState({aggregationDataDirty:aggregationDataDirty,aggregationWeightsDirty:aggregationWeightsDirty})}_updateAccessors(opts){const{getWeight:getWeight,aggregation:aggregation,data:data}=opts.props,{count:count}=this.state.weights;count&&(count.getWeight=getWeight,count.operation=AGGREGATION_OPERATION[aggregation]),this.setState({getValue:getValueFunc(aggregation,getWeight,{data:data})})}_resetResults(){const{count:count}=this.state.weights;count&&(count.aggregationData=null)}_generateContours(){const{numCol:numCol,numRow:numRow,gridOrigin:gridOrigin,gridOffset:gridOffset,thresholdData:thresholdData}=this.state,{count:count}=this.state.weights;let{aggregationData:aggregationData}=count;aggregationData||(aggregationData=count.aggregationBuffer.readSyncWebGL(),count.aggregationData=aggregationData);const{cellWeights:cellWeights}=GPUGridAggregator.getCellData({countsData:aggregationData}),contourData=function generateContours({thresholdData:thresholdData,cellWeights:cellWeights,gridSize:gridSize,gridOrigin:gridOrigin,cellSize:cellSize}){const contourSegments=[],contourPolygons=[],width=gridSize[0],height=gridSize[1];let segmentIndex=0,polygonIndex=0;for(const data of thresholdData){const{contour:contour}=data,{threshold:threshold}=contour;for(let x=-1;x<width;x++)for(let y=-1;y<height;y++){const{code:code,meanCode:meanCode}=getCode({cellWeights:cellWeights,threshold:threshold,x:x,y:y,width:width,height:height}),opts={type:CONTOUR_TYPE.ISO_BANDS,gridOrigin:gridOrigin,cellSize:cellSize,x:x,y:y,width:width,height:height,code:code,meanCode:meanCode,thresholdData:data};if(Array.isArray(threshold)){opts.type=CONTOUR_TYPE.ISO_BANDS;const polygons=getVertices(opts);for(const polygon of polygons)contourPolygons[polygonIndex++]={vertices:polygon,contour:contour}}else{opts.type=CONTOUR_TYPE.ISO_LINES;const vertices=getVertices(opts);for(let i=0;i<vertices.length;i+=2)contourSegments[segmentIndex++]={start:vertices[i],end:vertices[i+1],contour:contour}}}}return{contourSegments:contourSegments,contourPolygons:contourPolygons}}({thresholdData:thresholdData,cellWeights:cellWeights,gridSize:[numCol,numRow],gridOrigin:gridOrigin,cellSize:[gridOffset.xOffset,gridOffset.yOffset]});this.setState({contourData:contourData})}_updateThresholdData(props){const{contours:contours,zOffset:zOffset}=props,count=contours.length,thresholdData=new Array(count);for(let i=0;i<count;i++){const contour=contours[i];thresholdData[i]={contour:contour,zIndex:contour.zIndex||i,zOffset:zOffset}}this.setState({thresholdData:thresholdData})}}var phong_lighting=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/modules-webgl1/lighting/phong-lighting/phong-lighting.js"),math_utils=__webpack_require__("./node_modules/@deck.gl/core/dist/utils/math-utils.js"),cube_geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/geometries/cube-geometry.js");const gpu_grid_cell_layer_defaultProps={colorDomain:null,colorRange:defaultColorRange,elevationDomain:null,elevationRange:[0,1e3],elevationScale:{type:"number",min:0,value:1},gridSize:{type:"array",value:[1,1]},gridOrigin:{type:"array",value:[0,0]},gridOffset:{type:"array",value:[0,0]},cellSize:{type:"number",min:0,max:1e3,value:1e3},offset:{type:"array",value:[1,1]},coverage:{type:"number",min:0,max:1,value:1},extruded:!0,material:!0};class GPUGridCellLayer extends lib_layer.Z{static{this.layerName="GPUGridCellLayer"}static{this.defaultProps=gpu_grid_cell_layer_defaultProps}getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME gpu-grid-cell-layer-vertex-shader\n#define RANGE_COUNT 6\nin vec3 positions;\nin vec3 normals;\nin vec4 colors;\nin vec4 elevations;\nin vec3 instancePickingColors;\nuniform vec2 offset;\nuniform bool extruded;\nuniform float cellSize;\nuniform float coverage;\nuniform float opacity;\nuniform float elevationScale;\nuniform ivec2 gridSize;\nuniform vec2 gridOrigin;\nuniform vec2 gridOriginLow;\nuniform vec2 gridOffset;\nuniform vec2 gridOffsetLow;\nuniform vec4 colorRange[RANGE_COUNT];\nuniform vec2 elevationRange;\nuniform vec2 colorDomain;\nuniform bool colorDomainValid;\nuniform vec2 elevationDomain;\nuniform bool elevationDomainValid;\nlayout(std140) uniform;\nuniform ColorData\n{\nvec4 maxMinCount;\n} colorData;\nuniform ElevationData\n{\nvec4 maxMinCount;\n} elevationData;\n#define EPSILON 0.00001\nout vec4 vColor;\nvec4 quantizeScale(vec2 domain, vec4 range[RANGE_COUNT], float value) {\nvec4 outColor = vec4(0., 0., 0., 0.);\nif (value >= (domain.x - EPSILON) && value <= (domain.y + EPSILON)) {\nfloat domainRange = domain.y - domain.x;\nif (domainRange <= 0.) {\noutColor = colorRange[0];\n} else {\nfloat rangeCount = float(RANGE_COUNT);\nfloat rangeStep = domainRange / rangeCount;\nfloat idx = floor((value - domain.x) / rangeStep);\nidx = clamp(idx, 0., rangeCount - 1.);\nint intIdx = int(idx);\noutColor = colorRange[intIdx];\n}\n}\nreturn outColor;\n}\nfloat linearScale(vec2 domain, vec2 range, float value) {\nif (value >= (domain.x - EPSILON) && value <= (domain.y + EPSILON)) {\nreturn ((value - domain.x) / (domain.y - domain.x)) * (range.y - range.x) + range.x;\n}\nreturn -1.;\n}\nvoid main(void) {\nvec2 clrDomain = colorDomainValid ? colorDomain : vec2(colorData.maxMinCount.a, colorData.maxMinCount.r);\nvec4 color = quantizeScale(clrDomain, colorRange, colors.r);\nfloat elevation = 0.0;\nif (extruded) {\nvec2 elvDomain = elevationDomainValid ? elevationDomain : vec2(elevationData.maxMinCount.a, elevationData.maxMinCount.r);\nelevation = linearScale(elvDomain, elevationRange, elevations.r);\nelevation = elevation  * (positions.z + 1.0) / 2.0 * elevationScale;\n}\nfloat shouldRender = float(color.r > 0.0 && elevations.r >= 0.0);\nfloat dotRadius = cellSize / 2. * coverage * shouldRender;\nint yIndex = (gl_InstanceID / gridSize[0]);\nint xIndex = gl_InstanceID - (yIndex * gridSize[0]);\nvec2 instancePositionXFP64 = mul_fp64(vec2(gridOffset[0], gridOffsetLow[0]), vec2(float(xIndex), 0.));\ninstancePositionXFP64 = sum_fp64(instancePositionXFP64, vec2(gridOrigin[0], gridOriginLow[0]));\nvec2 instancePositionYFP64 = mul_fp64(vec2(gridOffset[1], gridOffsetLow[1]), vec2(float(yIndex), 0.));\ninstancePositionYFP64 = sum_fp64(instancePositionYFP64, vec2(gridOrigin[1], gridOriginLow[1]));\nvec3 centroidPosition = vec3(instancePositionXFP64[0], instancePositionYFP64[0], elevation);\nvec3 centroidPosition64Low = vec3(instancePositionXFP64[1], instancePositionYFP64[1], 0.0);\ngeometry.worldPosition = centroidPosition;\nvec3 pos = vec3(project_size(positions.xy + offset) * dotRadius, 0.);\npicking_setPickingColor(instancePickingColors);\ngl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);\nvec3 normals_commonspace = project_normal(normals);\nif (extruded) {\nvec3 lightColor = lighting_getLightColor(color.rgb, project_uCameraPosition, geometry.position.xyz, normals_commonspace);\nvColor = vec4(lightColor, color.a * opacity) / 255.;\n} else {\nvColor = vec4(color.rgb, color.a * opacity) / 255.;\n}\n}\n",fs:"#version 300 es\n#define SHADER_NAME gpu-grid-cell-layer-fragment-shader\nprecision highp float;\nin vec4 vColor;\nout vec4 fragColor;\nvoid main(void) {\nfragColor = vColor;\nfragColor = picking_filterColor(fragColor);\n}\n",modules:[project32.Z,phong_lighting.N,picking.Z,fp64.n2]})}initializeState(){this.getAttributeManager().addInstanced({colors:{size:4,noAlloc:!0},elevations:{size:4,noAlloc:!0}});const model=this._getModel();this._setupUniformBuffer(model),this.setState({model:model})}_getModel(){return new model.H(this.context.device,{...this.getShaders(),id:this.props.id,geometry:new cube_geometry.uS,isInstanced:!0})}draw({uniforms:uniforms}){const{cellSize:cellSize,offset:offset,extruded:extruded,elevationScale:elevationScale,coverage:coverage,gridSize:gridSize,gridOrigin:gridOrigin,gridOffset:gridOffset,elevationRange:elevationRange,colorMaxMinBuffer:colorMaxMinBuffer,elevationMaxMinBuffer:elevationMaxMinBuffer}=this.props,model=this.state.model,gridOriginLow=[(0,math_utils.Ks)(gridOrigin[0]),(0,math_utils.Ks)(gridOrigin[1])],gridOffsetLow=[(0,math_utils.Ks)(gridOffset[0]),(0,math_utils.Ks)(gridOffset[1])],domainUniforms=this.getDomainUniforms(),colorRange=colorRangeToFlatArray(this.props.colorRange);this.bindUniformBuffers(colorMaxMinBuffer,elevationMaxMinBuffer),model.setUniforms(uniforms),model.setUniforms(domainUniforms),model.setUniforms({cellSize:cellSize,offset:offset,extruded:extruded,elevationScale:elevationScale,coverage:coverage,gridSize:gridSize,gridOrigin:gridOrigin,gridOriginLow:gridOriginLow,gridOffset:gridOffset,gridOffsetLow:gridOffsetLow,colorRange:colorRange,elevationRange:elevationRange}),model.draw(this.context.renderPass),this.unbindUniformBuffers(colorMaxMinBuffer,elevationMaxMinBuffer)}bindUniformBuffers(colorMaxMinBuffer,elevationMaxMinBuffer){colorMaxMinBuffer.bind({target:35345,index:0}),elevationMaxMinBuffer.bind({target:35345,index:1})}unbindUniformBuffers(colorMaxMinBuffer,elevationMaxMinBuffer){colorMaxMinBuffer.unbind({target:35345,index:0}),elevationMaxMinBuffer.unbind({target:35345,index:1})}getDomainUniforms(){const{colorDomain:colorDomain,elevationDomain:elevationDomain}=this.props,domainUniforms={};return null!==colorDomain?(domainUniforms.colorDomainValid=!0,domainUniforms.colorDomain=colorDomain):domainUniforms.colorDomainValid=!1,null!==elevationDomain?(domainUniforms.elevationDomainValid=!0,domainUniforms.elevationDomain=elevationDomain):domainUniforms.elevationDomainValid=!1,domainUniforms}_setupUniformBuffer(model){const programHandle=model.pipeline.handle,gl=this.context.gl,colorIndex=gl.getUniformBlockIndex(programHandle,"ColorData"),elevationIndex=gl.getUniformBlockIndex(programHandle,"ElevationData");gl.uniformBlockBinding(programHandle,colorIndex,0),gl.uniformBlockBinding(programHandle,elevationIndex,1)}}const gpu_grid_layer_defaultProps={colorDomain:null,colorRange:defaultColorRange,getColorWeight:{type:"accessor",value:1},colorAggregation:"SUM",elevationDomain:null,elevationRange:[0,1e3],getElevationWeight:{type:"accessor",value:1},elevationAggregation:"SUM",elevationScale:{type:"number",min:0,value:1},cellSize:{type:"number",min:1,max:1e3,value:1e3},coverage:{type:"number",min:0,max:1,value:1},getPosition:{type:"accessor",value:x=>x.position},extruded:!1,material:!0},gpu_grid_layer_DIMENSIONS={data:{props:["cellSize","colorAggregation","elevationAggregation"]}};class GPUGridLayer extends GridAggregationLayer{static{this.layerName="GPUGridLayer"}static{this.defaultProps=gpu_grid_layer_defaultProps}initializeState({device:device}){const isSupported=GPUGridAggregator.isSupported(device);isSupported||log.Z.error("GPUGridLayer is not supported on this browser, use GridLayer instead")(),super.initializeAggregationLayer({dimensions:gpu_grid_layer_DIMENSIONS}),this.setState({gpuAggregation:!1,projectPoints:!1,isSupported:isSupported,weights:{color:{needMin:!0,needMax:!0,combineMaxMin:!0,maxMinBuffer:device.createBuffer({byteLength:16,accessor:{size:4,type:5126,divisor:1}})},elevation:{needMin:!0,needMax:!0,combineMaxMin:!0,maxMinBuffer:device.createBuffer({byteLength:16,accessor:{size:4,type:5126,divisor:1}})}},positionAttributeName:"positions"});this.getAttributeManager().add({positions:{size:3,accessor:"getPosition",type:"float64",fp64:this.use64bitPositions()},color:{size:3,accessor:"getColorWeight"},elevation:{size:3,accessor:"getElevationWeight"}})}updateState(opts){if(!1===this.state.isSupported)return;super.updateState(opts);const{aggregationDirty:aggregationDirty}=this.state;aggregationDirty&&this.setState({gridHash:null})}getHashKeyForIndex(index){const{numRow:numRow,numCol:numCol,boundingBox:boundingBox,gridOffset:gridOffset}=this.state,gridSize=[numCol,numRow],gridOrigin=[boundingBox.xMin,boundingBox.yMin],cellSize=[gridOffset.xOffset,gridOffset.yOffset],yIndex=Math.floor(index/gridSize[0]),xIndex=index-yIndex*gridSize[0];return`${Math.floor((yIndex*cellSize[1]+gridOrigin[1]+90+cellSize[1]/2)/cellSize[1])}-${Math.floor((xIndex*cellSize[0]+gridOrigin[0]+180+cellSize[0]/2)/cellSize[0])}`}getPositionForIndex(index){const{numRow:numRow,numCol:numCol,boundingBox:boundingBox,gridOffset:gridOffset}=this.state,gridSize=[numCol,numRow],gridOrigin=[boundingBox.xMin,boundingBox.yMin],cellSize=[gridOffset.xOffset,gridOffset.yOffset],yIndex=Math.floor(index/gridSize[0]);return[(index-yIndex*gridSize[0])*cellSize[0]+gridOrigin[0],yIndex*cellSize[1]+gridOrigin[1]]}getPickingInfo({info:info,mode:mode}){const{index:index}=info;let object=null;if(index>=0){const gpuGridAggregator=this.state.gpuGridAggregator,position=this.getPositionForIndex(index),colorInfo=GPUGridAggregator.getAggregationData({pixelIndex:index,...gpuGridAggregator.getData("color")}),elevationInfo=GPUGridAggregator.getAggregationData({pixelIndex:index,...gpuGridAggregator.getData("elevation")});if(object={colorValue:colorInfo.cellWeight,elevationValue:elevationInfo.cellWeight,count:colorInfo.cellCount||elevationInfo.cellCount,position:position,totalCount:colorInfo.totalCount||elevationInfo.totalCount},"hover"!==mode){const{props:props}=this;let{gridHash:gridHash}=this.state;if(!gridHash){const{gridOffset:gridOffset,translation:translation,boundingBox:boundingBox}=this.state,{viewport:viewport}=this.context;gridHash=pointToDensityGridDataCPU(props,{gridOffset:gridOffset,attributes:this.getAttributes(),viewport:viewport,translation:translation,boundingBox:boundingBox}).gridHash,this.setState({gridHash:gridHash})}const cpuAggregationData=gridHash[this.getHashKeyForIndex(index)];Object.assign(object,cpuAggregationData)}}return info.picked=Boolean(object),info.object=object,info}renderLayers(){if(!this.state.isSupported)return null;const{elevationScale:elevationScale,extruded:extruded,cellSize:cellSizeMeters,coverage:coverage,material:material,elevationRange:elevationRange,colorDomain:colorDomain,elevationDomain:elevationDomain}=this.props,{weights:weights,numRow:numRow,numCol:numCol,gridOrigin:gridOrigin,gridOffset:gridOffset}=this.state,{color:color,elevation:elevation}=weights,colorRange=colorRangeToFlatArray(this.props.colorRange);return new(this.getSubLayerClass("gpu-grid-cell",GPUGridCellLayer))({gridSize:[numCol,numRow],gridOrigin:gridOrigin,gridOffset:[gridOffset.xOffset,gridOffset.yOffset],colorRange:colorRange,elevationRange:elevationRange,colorDomain:colorDomain,elevationDomain:elevationDomain,cellSize:cellSizeMeters,coverage:coverage,material:material,elevationScale:elevationScale,extruded:extruded},this.getSubLayerProps({id:"gpu-grid-cell"}),{data:{attributes:{colors:color.aggregationBuffer,elevations:elevation.aggregationBuffer}},colorMaxMinBuffer:color.maxMinBuffer,elevationMaxMinBuffer:elevation.maxMinBuffer,numInstances:numCol*numRow})}finalizeState(context){const{color:color,elevation:elevation}=this.state.weights;[color,elevation].forEach((weight=>{const{aggregationBuffer:aggregationBuffer,maxMinBuffer:maxMinBuffer}=weight;maxMinBuffer?.destroy(),aggregationBuffer?.destroy()})),super.finalizeState(context)}updateAggregationState(opts){const{props:props,oldProps:oldProps}=opts,{cellSize:cellSize,coordinateSystem:coordinateSystem}=props,{viewport:viewport}=this.context,cellSizeChanged=oldProps.cellSize!==cellSize,{dimensions:dimensions}=this.state,positionsChanged=this.isAttributeChanged("positions"),attributesChanged=positionsChanged||this.isAttributeChanged();let{boundingBox:boundingBox}=this.state;if(positionsChanged&&(boundingBox=getBoundingBox(this.getAttributes(),this.getNumInstances()),this.setState({boundingBox:boundingBox})),positionsChanged||cellSizeChanged){const{gridOffset:gridOffset,translation:translation,width:width,height:height,numCol:numCol,numRow:numRow}=getGridParams(boundingBox,cellSize,viewport,coordinateSystem);this.allocateResources(numRow,numCol),this.setState({gridOffset:gridOffset,translation:translation,gridOrigin:[-1*translation[0],-1*translation[1]],width:width,height:height,numCol:numCol,numRow:numRow})}const aggregationDataDirty=attributesChanged||this.isAggregationDirty(opts,{dimension:dimensions.data,compareAll:!0});aggregationDataDirty&&this._updateAccessors(opts),this.setState({aggregationDataDirty:aggregationDataDirty})}_updateAccessors(opts){const{colorAggregation:colorAggregation,elevationAggregation:elevationAggregation}=opts.props,{color:color,elevation:elevation}=this.state.weights;color.operation=AGGREGATION_OPERATION[colorAggregation],elevation.operation=AGGREGATION_OPERATION[elevationAggregation]}}const grid_layer_defaultProps={...GPUGridLayer.defaultProps,...CPUGridLayer.defaultProps,gpuAggregation:!1};class GridLayer extends composite_layer.Z{static{this.layerName="GridLayer"}static{this.defaultProps=grid_layer_defaultProps}initializeState(){this.state={useGPUAggregation:!1}}updateState({props:props}){this.setState({useGPUAggregation:!1})}renderLayers(){const{data:data,updateTriggers:updateTriggers}=this.props,id=this.state.useGPUAggregation?"GPU":"CPU";return new(this.state.useGPUAggregation?this.getSubLayerClass("GPU",GPUGridLayer):this.getSubLayerClass("CPU",CPUGridLayer))(this.props,this.getSubLayerProps({id:id,updateTriggers:updateTriggers}),{data:data})}canUseGPUAggregation(props){const{gpuAggregation:gpuAggregation,lowerPercentile:lowerPercentile,upperPercentile:upperPercentile,getColorValue:getColorValue,getElevationValue:getElevationValue,colorScaleType:colorScaleType}=props;return!!gpuAggregation&&(!!GPUGridAggregator.isSupported(this.context.device)&&(0===lowerPercentile&&100===upperPercentile&&(null===getColorValue&&null===getElevationValue&&("quantile"!==colorScaleType&&"ordinal"!==colorScaleType))))}}const scratchArray=new Float32Array(12);function packVertices(points,dimensions=2){let index=0;for(const point of points)for(let i=0;i<dimensions;i++)scratchArray[index++]=point[i]||0;return scratchArray}class TriangleLayer extends lib_layer.Z{static{this.layerName="TriangleLayer"}getShaders(){return{vs:"#version 300 es\n#define SHADER_NAME heatp-map-layer-vertex-shader\nuniform sampler2D maxTexture;\nuniform float intensity;\nuniform vec2 colorDomain;\nuniform float threshold;\nuniform float aggregationMode;\nin vec3 positions;\nin vec2 texCoords;\nout vec2 vTexCoords;\nout float vIntensityMin;\nout float vIntensityMax;\nvoid main(void) {\ngl_Position = project_position_to_clipspace(positions, vec3(0.0), vec3(0.0));\nvTexCoords = texCoords;\nvec4 maxTexture = texture(maxTexture, vec2(0.5));\nfloat maxValue = aggregationMode < 0.5 ? maxTexture.r : maxTexture.g;\nfloat minValue = maxValue * threshold;\nif (colorDomain[1] > 0.) {\nmaxValue = colorDomain[1];\nminValue = colorDomain[0];\n}\nvIntensityMax = intensity / maxValue;\nvIntensityMin = intensity / minValue;\n}\n",fs:"#version 300 es\n#define SHADER_NAME triangle-layer-fragment-shader\nprecision highp float;\nuniform float opacity;\nuniform sampler2D weightsTexture;\nuniform sampler2D colorTexture;\nuniform float aggregationMode;\nin vec2 vTexCoords;\nin float vIntensityMin;\nin float vIntensityMax;\nout vec4 fragColor;\nvec4 getLinearColor(float value) {\nfloat factor = clamp(value * vIntensityMax, 0., 1.);\nvec4 color = texture(colorTexture, vec2(factor, 0.5));\ncolor.a *= min(value * vIntensityMin, 1.0);\nreturn color;\n}\nvoid main(void) {\nvec4 weights = texture(weightsTexture, vTexCoords);\nfloat weight = weights.r;\nif (aggregationMode > 0.5) {\nweight /= max(1.0, weights.a);\n}\nif (weight <= 0.) {\ndiscard;\n}\nvec4 linearColor = getLinearColor(weight);\nlinearColor.a *= opacity;\nfragColor = linearColor;\n}\n",modules:[project32.Z]}}initializeState({device:device}){this.setState({model:this._getModel(device)})}_getModel(device){const{vertexCount:vertexCount,data:data,weightsTexture:weightsTexture,maxTexture:maxTexture,colorTexture:colorTexture}=this.props;return new model.H(device,{...this.getShaders(),id:this.props.id,bindings:{weightsTexture:weightsTexture,maxTexture:maxTexture,colorTexture:colorTexture},attributes:data.attributes,bufferLayout:[{name:"positions",format:"float32x3"},{name:"texCoords",format:"float32x2"}],topology:"triangle-fan-webgl",vertexCount:vertexCount})}draw({uniforms:uniforms}){const{model:model}=this.state,{intensity:intensity,threshold:threshold,aggregationMode:aggregationMode,colorDomain:colorDomain}=this.props;model.setUniforms({...uniforms,intensity:intensity,threshold:threshold,aggregationMode:aggregationMode,colorDomain:colorDomain}),model.draw(this.context.renderPass)}}var weights_vs_glsl="#version 300 es\nin vec3 positions;\nin vec3 positions64Low;\nin float weights;\nout vec4 weightsTexture;\nuniform float radiusPixels;\nuniform float textureWidth;\nuniform vec4 commonBounds;\nuniform float weightsScale;\nvoid main()\n{\nweightsTexture = vec4(weights * weightsScale, 0., 0., 1.);\nfloat radiusTexels = project_pixel_size(radiusPixels) * textureWidth / (commonBounds.z - commonBounds.x);\ngl_PointSize = radiusTexels * 2.;\nvec3 commonPosition = project_position(positions, positions64Low);\ngl_Position.xy = (commonPosition.xy - commonBounds.xy) / (commonBounds.zw - commonBounds.xy) ;\ngl_Position.xy = (gl_Position.xy * 2.) - (1.);\ngl_Position.w = 1.0;\n}\n",weights_fs_glsl="#version 300 es\nin vec4 weightsTexture;\nout vec4 fragColor;\nfloat gaussianKDE(float u){\nreturn pow(2.71828, -u*u/0.05555)/(1.77245385*0.166666);\n}\nvoid main()\n{\nfloat dist = length(gl_PointCoord - vec2(0.5, 0.5));\nif (dist > 0.5) {\ndiscard;\n}\nfragColor = weightsTexture * gaussianKDE(2. * dist);\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n";const TEXTURE_PROPS={format:"rgba8unorm",mipmaps:!1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}},DEFAULT_COLOR_DOMAIN=[0,0],AGGREGATION_MODE={SUM:0,MEAN:1},heatmap_layer_defaultProps={getPosition:{type:"accessor",value:x=>x.position},getWeight:{type:"accessor",value:1},intensity:{type:"number",min:0,value:1},radiusPixels:{type:"number",min:1,max:100,value:50},colorRange:defaultColorRange,threshold:{type:"number",min:0,max:1,value:.05},colorDomain:{type:"array",value:null,optional:!0},aggregation:"SUM",weightsTextureSize:{type:"number",min:128,max:2048,value:2048},debounceTimeout:{type:"number",min:0,max:1e3,value:500}},FLOAT_TARGET_FEATURES=["float32-renderable-webgl","texture-blend-float-webgl"],heatmap_layer_DIMENSIONS={data:{props:["radiusPixels"]}};class HeatmapLayer extends AggregationLayer{static{this.layerName="HeatmapLayer"}static{this.defaultProps=heatmap_layer_defaultProps}initializeState(){super.initializeAggregationLayer(heatmap_layer_DIMENSIONS),this.setState({colorDomain:DEFAULT_COLOR_DOMAIN}),this._setupTextureParams(),this._setupAttributes(),this._setupResources()}shouldUpdateState({changeFlags:changeFlags}){return changeFlags.somethingChanged}updateState(opts){super.updateState(opts),this._updateHeatmapState(opts)}_updateHeatmapState(opts){const{props:props,oldProps:oldProps}=opts,changeFlags=this._getChangeFlags(opts);(changeFlags.dataChanged||changeFlags.viewportChanged)&&(changeFlags.boundsChanged=this._updateBounds(changeFlags.dataChanged),this._updateTextureRenderingBounds()),changeFlags.dataChanged||changeFlags.boundsChanged?(clearTimeout(this.state.updateTimer),this.setState({isWeightMapDirty:!0})):changeFlags.viewportZoomChanged&&this._debouncedUpdateWeightmap(),props.colorRange!==oldProps.colorRange&&this._updateColorTexture(opts),this.state.isWeightMapDirty&&this._updateWeightmap(),this.setState({zoom:opts.context.viewport.zoom})}renderLayers(){const{weightsTexture:weightsTexture,triPositionBuffer:triPositionBuffer,triTexCoordBuffer:triTexCoordBuffer,maxWeightsTexture:maxWeightsTexture,colorTexture:colorTexture,colorDomain:colorDomain}=this.state,{updateTriggers:updateTriggers,intensity:intensity,threshold:threshold,aggregation:aggregation}=this.props;return new(this.getSubLayerClass("triangle",TriangleLayer))(this.getSubLayerProps({id:"triangle-layer",updateTriggers:updateTriggers}),{coordinateSystem:constants.COORDINATE_SYSTEM.DEFAULT,data:{attributes:{positions:triPositionBuffer,texCoords:triTexCoordBuffer}},vertexCount:4,maxTexture:maxWeightsTexture,colorTexture:colorTexture,aggregationMode:AGGREGATION_MODE[aggregation]||0,weightsTexture:weightsTexture,intensity:intensity,threshold:threshold,colorDomain:colorDomain})}finalizeState(context){super.finalizeState(context);const{weightsTransform:weightsTransform,weightsTexture:weightsTexture,maxWeightTransform:maxWeightTransform,maxWeightsTexture:maxWeightsTexture,triPositionBuffer:triPositionBuffer,triTexCoordBuffer:triTexCoordBuffer,colorTexture:colorTexture,updateTimer:updateTimer}=this.state;weightsTransform?.destroy(),weightsTexture?.destroy(),maxWeightTransform?.destroy(),maxWeightsTexture?.destroy(),triPositionBuffer?.destroy(),triTexCoordBuffer?.destroy(),colorTexture?.destroy(),updateTimer&&clearTimeout(updateTimer)}_getAttributeManager(){return new attribute_manager.Z(this.context.device,{id:this.props.id,stats:this.context.stats})}_getChangeFlags(opts){const changeFlags={},{dimensions:dimensions}=this.state;changeFlags.dataChanged=this.isAttributeChanged()?"attribute changed":this.isAggregationDirty(opts,{compareAll:!0,dimension:dimensions.data})&&"aggregation is dirty",changeFlags.viewportChanged=opts.changeFlags.viewportChanged;const{zoom:zoom}=this.state;return opts.context.viewport&&opts.context.viewport.zoom===zoom||(changeFlags.viewportZoomChanged=!0),changeFlags}_createTextures(){const{textureSize:textureSize,format:format}=this.state;this.setState({weightsTexture:this.context.device.createTexture({...TEXTURE_PROPS,width:textureSize,height:textureSize,format:format}),maxWeightsTexture:this.context.device.createTexture({...TEXTURE_PROPS,width:1,height:1,format:format})})}_setupAttributes(){this.getAttributeManager().add({positions:{size:3,type:"float64",accessor:"getPosition"},weights:{size:1,accessor:"getWeight"}}),this.setState({positionAttributeName:"positions"})}_setupTextureParams(){const{device:device}=this.context,{weightsTextureSize:weightsTextureSize}=this.props,textureSize=Math.min(weightsTextureSize,device.limits.maxTextureDimension2D),floatTargetSupport=FLOAT_TARGET_FEATURES.every((feature=>device.features.has(feature))),format=floatTargetSupport?"rgba32float":"rgba8unorm",weightsScale=floatTargetSupport?1:1/255;this.setState({textureSize:textureSize,format:format,weightsScale:weightsScale}),floatTargetSupport||log.Z.warn(`HeatmapLayer: ${this.id} rendering to float texture not supported, falling back to low precision format`)()}_createWeightsTransform(shaders){let{weightsTransform:weightsTransform}=this.state;const{weightsTexture:weightsTexture}=this.state,attributeManager=this.getAttributeManager();weightsTransform?.destroy(),weightsTransform=new TextureTransform(this.context.device,{id:`${this.id}-weights-transform`,bufferLayout:attributeManager.getBufferLayouts(),vertexCount:1,targetTexture:weightsTexture,parameters:{depthWriteEnabled:!1,blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"},topology:"point-list",...shaders}),this.setState({weightsTransform:weightsTransform})}_setupResources(){this._createTextures();const{device:device}=this.context,{textureSize:textureSize,weightsTexture:weightsTexture,maxWeightsTexture:maxWeightsTexture}=this.state,weightsTransformShaders=this.getShaders({vs:weights_vs_glsl,fs:weights_fs_glsl});this._createWeightsTransform(weightsTransformShaders);const maxWeightsTransformShaders=this.getShaders({vs:"#version 300 es\nuniform sampler2D inTexture;\nuniform float textureSize;\nout vec4 outTexture;\nvoid main()\n{\nint yIndex = gl_VertexID / int(textureSize);\nint xIndex = gl_VertexID - (yIndex * int(textureSize));\nvec2 uv = (0.5 + vec2(float(xIndex), float(yIndex))) / textureSize;\noutTexture = texture(inTexture, uv);\ngl_Position = vec4(0.0, 0.0, 0.0, 1.0);\ngl_PointSize = 1.0;\n}\n",fs:"#version 300 es\nin vec4 outTexture;\nout vec4 fragColor;\nvoid main() {\nfragColor = outTexture;\nfragColor.g = outTexture.r / max(1.0, outTexture.a);\n}\n"}),maxWeightTransform=new TextureTransform(device,{id:`${this.id}-max-weights-transform`,bindings:{inTexture:weightsTexture},uniforms:{textureSize:textureSize},targetTexture:maxWeightsTexture,...maxWeightsTransformShaders,vertexCount:textureSize*textureSize,topology:"point-list",parameters:{depthWriteEnabled:!1,blendColorOperation:"max",blendAlphaOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}});this.setState({weightsTexture:weightsTexture,maxWeightsTexture:maxWeightsTexture,maxWeightTransform:maxWeightTransform,zoom:null,triPositionBuffer:device.createBuffer({byteLength:48}),triTexCoordBuffer:device.createBuffer({byteLength:48})})}updateShaders(shaderOptions){this._createWeightsTransform({vs:weights_vs_glsl,fs:weights_fs_glsl,...shaderOptions})}_updateMaxWeightValue(){const{maxWeightTransform:maxWeightTransform}=this.state;maxWeightTransform.run({parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]})}_updateBounds(forceUpdate=!1){const{viewport:viewport}=this.context,viewportCorners=[viewport.unproject([0,0]),viewport.unproject([viewport.width,0]),viewport.unproject([viewport.width,viewport.height]),viewport.unproject([0,viewport.height])].map((p=>p.map(Math.fround))),visibleWorldBounds=function getBounds(points){const x=points.map((p=>p[0])),y=points.map((p=>p[1])),xMin=Math.min.apply(null,x),xMax=Math.max.apply(null,x);return[xMin,Math.min.apply(null,y),xMax,Math.max.apply(null,y)]}(viewportCorners),newState={visibleWorldBounds:visibleWorldBounds,viewportCorners:viewportCorners};let boundsChanged=!1;if(forceUpdate||!this.state.worldBounds||!function boundsContain(currentBounds,targetBounds){return targetBounds[0]>=currentBounds[0]&&targetBounds[2]<=currentBounds[2]&&targetBounds[1]>=currentBounds[1]&&targetBounds[3]<=currentBounds[3]}(this.state.worldBounds,visibleWorldBounds)){const scaledCommonBounds=this._worldToCommonBounds(visibleWorldBounds),worldBounds=this._commonToWorldBounds(scaledCommonBounds);this.props.coordinateSystem===constants.COORDINATE_SYSTEM.LNGLAT&&(worldBounds[1]=Math.max(worldBounds[1],-85.051129),worldBounds[3]=Math.min(worldBounds[3],85.051129),worldBounds[0]=Math.max(worldBounds[0],-360),worldBounds[2]=Math.min(worldBounds[2],360));const normalizedCommonBounds=this._worldToCommonBounds(worldBounds);newState.worldBounds=worldBounds,newState.normalizedCommonBounds=normalizedCommonBounds,boundsChanged=!0}return this.setState(newState),boundsChanged}_updateTextureRenderingBounds(){const{triPositionBuffer:triPositionBuffer,triTexCoordBuffer:triTexCoordBuffer,normalizedCommonBounds:normalizedCommonBounds,viewportCorners:viewportCorners}=this.state,{viewport:viewport}=this.context;triPositionBuffer.write(packVertices(viewportCorners,3));const textureBounds=viewportCorners.map((p=>function getTextureCoordinates(point,bounds){const[xMin,yMin,xMax,yMax]=bounds;return[(point[0]-xMin)/(xMax-xMin),(point[1]-yMin)/(yMax-yMin)]}(viewport.projectPosition(p),normalizedCommonBounds)));triTexCoordBuffer.write(packVertices(textureBounds,2))}_updateColorTexture(opts){const{colorRange:colorRange}=opts.props;let{colorTexture:colorTexture}=this.state;const colors=colorRangeToFlatArray(colorRange,!1,Uint8Array);colorTexture&&colorTexture?.width===colorRange.length?colorTexture.setSubImageData({data:colors}):(colorTexture?.destroy(),colorTexture=this.context.device.createTexture({...TEXTURE_PROPS,data:colors,width:colorRange.length,height:1})),this.setState({colorTexture:colorTexture})}_updateWeightmap(){const{radiusPixels:radiusPixels,colorDomain:colorDomain,aggregation:aggregation}=this.props,{worldBounds:worldBounds,textureSize:textureSize,weightsScale:weightsScale}=this.state,weightsTransform=this.state.weightsTransform;this.state.isWeightMapDirty=!1;const commonBounds=this._worldToCommonBounds(worldBounds,{useLayerCoordinateSystem:!0});if(colorDomain&&"SUM"===aggregation){const{viewport:viewport}=this.context,metersPerPixel=viewport.distanceScales.metersPerUnit[2]*(commonBounds[2]-commonBounds[0])/textureSize;this.state.colorDomain=colorDomain.map((x=>x*metersPerPixel*weightsScale))}else this.state.colorDomain=colorDomain||DEFAULT_COLOR_DOMAIN;const attributes=this.getAttributeManager().getAttributes(),moduleSettings=this.getModuleSettings(),uniforms={radiusPixels:radiusPixels,commonBounds:commonBounds,textureWidth:textureSize,weightsScale:weightsScale};this._setModelAttributes(weightsTransform.model,attributes),weightsTransform.model.setVertexCount(this.getNumInstances()),weightsTransform.model.setUniforms(uniforms),weightsTransform.model.updateModuleSettings(moduleSettings),weightsTransform.run({parameters:{viewport:[0,0,textureSize,textureSize]},clearColor:[0,0,0,0]}),this._updateMaxWeightValue()}_debouncedUpdateWeightmap(fromTimer=!1){let{updateTimer:updateTimer}=this.state;const{debounceTimeout:debounceTimeout}=this.props;fromTimer?(updateTimer=null,this._updateBounds(!0),this._updateTextureRenderingBounds(),this.setState({isWeightMapDirty:!0})):(this.setState({isWeightMapDirty:!1}),clearTimeout(updateTimer),updateTimer=setTimeout(this._debouncedUpdateWeightmap.bind(this,!0),debounceTimeout)),this.setState({updateTimer:updateTimer})}_worldToCommonBounds(worldBounds,opts={}){const{useLayerCoordinateSystem:useLayerCoordinateSystem=!1}=opts,[minLong,minLat,maxLong,maxLat]=worldBounds,{viewport:viewport}=this.context,{textureSize:textureSize}=this.state,{coordinateSystem:coordinateSystem}=this.props,offsetMode=useLayerCoordinateSystem&&(coordinateSystem===constants.COORDINATE_SYSTEM.LNGLAT_OFFSETS||coordinateSystem===constants.COORDINATE_SYSTEM.METER_OFFSETS),offsetOriginCommon=offsetMode?viewport.projectPosition(this.props.coordinateOrigin):[0,0],size=2*textureSize/viewport.scale;let bottomLeftCommon,topRightCommon;return useLayerCoordinateSystem&&!offsetMode?(bottomLeftCommon=this.projectPosition([minLong,minLat,0]),topRightCommon=this.projectPosition([maxLong,maxLat,0])):(bottomLeftCommon=viewport.projectPosition([minLong,minLat,0]),topRightCommon=viewport.projectPosition([maxLong,maxLat,0])),function scaleToAspectRatio(boundingBox,width,height){const[xMin,yMin,xMax,yMax]=boundingBox,currentWidth=xMax-xMin,currentHeight=yMax-yMin;let newWidth=currentWidth,newHeight=currentHeight;currentWidth/currentHeight<width/height?newWidth=width/height*currentHeight:newHeight=height/width*currentWidth,newWidth<width&&(newWidth=width,newHeight=height);const xCenter=(xMax+xMin)/2,yCenter=(yMax+yMin)/2;return[xCenter-newWidth/2,yCenter-newHeight/2,xCenter+newWidth/2,yCenter+newHeight/2]}([bottomLeftCommon[0]-offsetOriginCommon[0],bottomLeftCommon[1]-offsetOriginCommon[1],topRightCommon[0]-offsetOriginCommon[0],topRightCommon[1]-offsetOriginCommon[1]],size,size)}_commonToWorldBounds(commonBounds){const[xMin,yMin,xMax,yMax]=commonBounds,{viewport:viewport}=this.context,bottomLeftWorld=viewport.unprojectPosition([xMin,yMin]),topRightWorld=viewport.unprojectPosition([xMax,yMax]);return bottomLeftWorld.slice(0,2).concat(topRightWorld.slice(0,2))}}},"./packages/subsurface-viewer/node_modules/@deck.gl/json/dist/helpers/parse-expression-string.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return parseExpressionString}});var expression_eval_module_namespaceObject={};function get(container,compositeKey){const keyList=function getKeys(compositeKey){if("string"==typeof compositeKey){let keyList=keyMap[compositeKey];return keyList||(keyList=compositeKey.split("."),keyMap[compositeKey]=keyList),keyList}return Array.isArray(compositeKey)?compositeKey:[compositeKey]}(compositeKey);let value=container;for(const key of keyList)value=isObject(value)?value[key]:void 0;return value}function isObject(value){return null!==value&&"object"==typeof value}__webpack_require__.r(expression_eval_module_namespaceObject),__webpack_require__.d(expression_eval_module_namespaceObject,{eval:function(){return a},parse:function(){return jsep_default()}});const keyMap={};var jsep=__webpack_require__("./node_modules/jsep/build/jsep.js"),jsep_default=__webpack_require__.n(jsep),u={"||":function(r,e){return r||e},"&&":function(r,e){return r&&e},"|":function(r,e){return r|e},"^":function(r,e){return r^e},"&":function(r,e){return r&e},"==":function(r,e){return r==e},"!=":function(r,e){return r!=e},"===":function(r,e){return r===e},"!==":function(r,e){return r!==e},"<":function(r,e){return r<e},">":function(r,e){return r>e},"<=":function(r,e){return r<=e},">=":function(r,e){return r>=e},"<<":function(r,e){return r<<e},">>":function(r,e){return r>>e},">>>":function(r,e){return r>>>e},"+":function(r,e){return r+e},"-":function(r,e){return r-e},"*":function(r,e){return r*e},"/":function(r,e){return r/e},"%":function(r,e){return r%e}},i={"-":function(r){return-r},"+":function(r){return+r},"~":function(r){return~r},"!":function(r){return!r}};function s(r,e){return r.map((function(r){return a(r,e)}))}function c(r,e){var n,t=a(r.object,e);if(n=r.computed?a(r.property,e):r.property.name,/^__proto__|prototype|constructor$/.test(n))throw Error('Access to member "'+n+'" disallowed.');return[t,t[n]]}function a(r,e){var n=r;switch(n.type){case"ArrayExpression":return s(n.elements,e);case"BinaryExpression":return u[n.operator](a(n.left,e),a(n.right,e));case"CallExpression":var t,o,l;if("MemberExpression"===n.callee.type?(t=(l=c(n.callee,e))[0],o=l[1]):o=a(n.callee,e),"function"!=typeof o)return;return o.apply(t,s(n.arguments,e));case"ConditionalExpression":return a(n.test,e)?a(n.consequent,e):a(n.alternate,e);case"Identifier":return e[n.name];case"Literal":return n.value;case"LogicalExpression":return"||"===n.operator?a(n.left,e)||a(n.right,e):"&&"===n.operator?a(n.left,e)&&a(n.right,e):u[n.operator](a(n.left,e),a(n.right,e));case"MemberExpression":return c(n,e)[1];case"ThisExpression":return e;case"UnaryExpression":return i[n.operator](a(n.argument,e));default:return}}const{parse:parse,eval:evaluate}=expression_eval_module_namespaceObject,cachedExpressionMap={"-":object=>object};function parseExpressionString(propValue,configuration){if(propValue in cachedExpressionMap)return cachedExpressionMap[propValue];let func;const ast=parse(propValue);return"Identifier"===ast.type?func=row=>get(row,propValue):(traverse(ast,(node=>{if("CallExpression"===node.type)throw new Error("Function calls not allowed in JSON expressions")})),func=row=>evaluate(ast,row)),cachedExpressionMap[propValue]=func,func}function traverse(node,visitor){if(Array.isArray(node))node.forEach((element=>traverse(element,visitor)));else if(node&&"object"==typeof node){node.type&&visitor(node);for(const key in node)traverse(node[key],visitor)}}},"./packages/subsurface-viewer/node_modules/@deck.gl/json/dist/json-configuration.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return JSONConfiguration}});var _helpers_parse_expression_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/@deck.gl/json/dist/helpers/parse-expression-string.js"),_utils_assert_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/@deck.gl/json/dist/utils/assert.js"),_syntactic_sugar_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/@deck.gl/json/dist/syntactic-sugar.js");const isObject=value=>value&&"object"==typeof value;class JSONConfiguration{constructor(...configurations){this.typeKey=_syntactic_sugar_js__WEBPACK_IMPORTED_MODULE_0__.YJ,this.functionKey=_syntactic_sugar_js__WEBPACK_IMPORTED_MODULE_0__.Bu,this.log=console,this.classes={},this.reactComponents={},this.enumerations={},this.constants={},this.functions={},this.React=null,this.convertFunction=_helpers_parse_expression_string_js__WEBPACK_IMPORTED_MODULE_1__.Z,this.preProcessClassProps=(Class,props)=>props,this.postProcessConvertedJson=json=>json;for(const configuration of configurations)this.merge(configuration)}merge(configuration){for(const key in configuration)switch(key){case"layers":case"views":Object.assign(this.classes,configuration[key]);break;default:if(key in this){const value=configuration[key];this[key]=isObject(this[key])?Object.assign(this[key],value):value}}}validate(configuration){return(0,_utils_assert_js__WEBPACK_IMPORTED_MODULE_2__.Z)(!this.typeKey||"string"==typeof this.typeKey),(0,_utils_assert_js__WEBPACK_IMPORTED_MODULE_2__.Z)(isObject(this.classes)),!0}}},"./packages/subsurface-viewer/node_modules/@deck.gl/json/dist/json-converter.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return JSONConverter}});var assert=__webpack_require__("./packages/subsurface-viewer/node_modules/@deck.gl/json/dist/utils/assert.js"),json_configuration=__webpack_require__("./packages/subsurface-viewer/node_modules/@deck.gl/json/dist/json-configuration.js"),parse_expression_string=__webpack_require__("./packages/subsurface-viewer/node_modules/@deck.gl/json/dist/helpers/parse-expression-string.js"),syntactic_sugar=__webpack_require__("./packages/subsurface-viewer/node_modules/@deck.gl/json/dist/syntactic-sugar.js");function trimFunctionIdentifier(value){return value.replace(syntactic_sugar.QT,"")}function convertFunctions(props,configuration){const replacedProps={};for(const propName in props){let propValue=props[propName];"string"==typeof(value=propValue)&&value.startsWith(syntactic_sugar.QT)&&(propValue=trimFunctionIdentifier(propValue),propValue=(0,parse_expression_string.Z)(propValue,configuration)),replacedProps[propName]=propValue}var value;return replacedProps}function instantiateClass(type,props,configuration){const Class=configuration.classes[type],Component=configuration.reactComponents[type];if(!Class&&!Component){const{log:log}=configuration;if(log){const stringProps=JSON.stringify(props,null,0).slice(0,40);log.warn(`JSON converter: No registered class of type ${type}(${stringProps}...)  `)}return null}return Class?function instantiateJavaScriptClass(Class,props,configuration){configuration.preProcessClassProps&&(props=configuration.preProcessClassProps(Class,props,configuration));return props=convertFunctions(props,configuration),new Class(props)}(Class,props,configuration):function instantiateReactComponent(Component,props,configuration){const{React:React}=configuration,{children:children=[]}=props;delete props.children,configuration.preProcessClassProps&&(props=configuration.preProcessClassProps(Component,props,configuration));return props=convertFunctions(props,configuration),React.createElement(Component,props,children)}(Component,props,configuration)}const isObject=value=>value&&"object"==typeof value;class JSONConverter{constructor(props){this.log=console,this.onJSONChange=()=>{},this.json=null,this.convertedJson=null,this.setProps(props)}finalize(){}setProps(props){"configuration"in props&&(this.configuration=props.configuration instanceof json_configuration.Z?props.configuration:new json_configuration.Z(props.configuration)),"onJSONChange"in props&&(this.onJSONChange=props.onJSONChange)}mergeConfiguration(config){this.configuration.merge(config)}convert(json){if(!json||json===this.json)return this.convertedJson;this.json=json;const parsedJSON=function parseJSON(json){return"string"==typeof json?JSON.parse(json):json}(json);let convertedJson=function convertJSON(json,configuration){return configuration=new json_configuration.Z(configuration),convertJSONRecursively(json,"",configuration)}(parsedJSON,this.configuration);return convertedJson=this.configuration.postProcessConvertedJson(convertedJson),this.convertedJson=convertedJson,convertedJson}convertJson(json){return this.convert(json)}}function convertJSONRecursively(json,key,configuration){return Array.isArray(json)?json.map(((element,i)=>convertJSONRecursively(element,String(i),configuration))):function isClassInstance(json,configuration){const{typeKey:typeKey}=configuration,isClass=isObject(json)&&Boolean(json[typeKey]);return isClass}(json,configuration)?function convertClassInstance(json,configuration){const{typeKey:typeKey}=configuration,type=json[typeKey];let props={...json};return delete props[typeKey],props=convertPlainObject(props,configuration),instantiateClass(type,props,configuration)}(json,configuration):isObject(json)?syntactic_sugar.Bu in json?function convertFunctionObject(json,configuration){const{functionKey:functionKey}=configuration,targetFunction=json[functionKey];let props={...json};return delete props[functionKey],props=convertPlainObject(props,configuration),function executeFunction(targetFunction,props,configuration){const matchedFunction=configuration.functions[targetFunction];if(!matchedFunction){const{log:log}=configuration;if(log){const stringProps=JSON.stringify(props,null,0).slice(0,40);log.warn(`JSON converter: No registered function ${targetFunction}(${stringProps}...)  `)}return null}return matchedFunction(props)}(targetFunction,props,configuration)}(json,configuration):convertPlainObject(json,configuration):"string"==typeof json?function convertString(string,key,configuration){if(string.startsWith(syntactic_sugar.QT)&&configuration.convertFunction)return string=string.replace(syntactic_sugar.QT,""),configuration.convertFunction(string,configuration);if(string.startsWith(syntactic_sugar.tZ)){if(string=string.replace(syntactic_sugar.tZ,""),configuration.constants[string])return configuration.constants[string];const[enumVarName,enumValName]=string.split(".");return configuration.enumerations[enumVarName][enumValName]}return string}(json,0,configuration):json}function convertPlainObject(json,configuration){(0,assert.Z)(isObject(json));const result={};for(const key in json){const value=json[key];result[key]=convertJSONRecursively(value,0,configuration)}return result}},"./packages/subsurface-viewer/node_modules/@deck.gl/json/dist/syntactic-sugar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Bu:function(){return FUNCTION_KEY},QT:function(){return FUNCTION_IDENTIFIER},YJ:function(){return TYPE_KEY},tZ:function(){return CONSTANT_IDENTIFIER}});const FUNCTION_IDENTIFIER="@@=",CONSTANT_IDENTIFIER="@@#",TYPE_KEY="@@type",FUNCTION_KEY="@@function"},"./packages/subsurface-viewer/node_modules/@deck.gl/json/dist/utils/assert.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function assert(condition,message=""){if(!condition)throw new Error(`JSON conversion error ${message}`)}__webpack_require__.d(__webpack_exports__,{Z:function(){return assert}})},"./packages/subsurface-viewer/node_modules/@equinor/eds-core-react/dist/esm/components/Progress/Circular/CircularProgress.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return CircularProgress}});var CircularProgress_tokens_namespaceObject={};__webpack_require__.r(CircularProgress_tokens_namespaceObject),__webpack_require__.d(CircularProgress_tokens_namespaceObject,{neutral:function(){return neutral},primary:function(){return primary}});var react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),esm=__webpack_require__("./packages/subsurface-viewer/node_modules/@equinor/eds-tokens/dist/esm/index.mjs");const{colors:{infographic:{primary__moss_green_13:{rgba:primary13},primary__moss_green_100:{rgba:primary100}},interactive:{icon_on_interactive_colors:{rgba:icon_on_interactive_colors}},ui:{background__semitransparent:{rgba:background__semitransparent}}}}=esm.tokens,primary={background:primary13,entities:{progress:{background:primary100}}},neutral={background:background__semitransparent,entities:{progress:{background:icon_on_interactive_colors}}};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const indeterminate=(0,styled_components_browser_esm.F4)(["100%{transform:rotate(360deg);}"]),Svg=styled_components_browser_esm.ZP.svg.withConfig({displayName:"CircularProgress__Svg",componentId:"sc-hib054-0"})(["display:inline-block;",";"],(({$variant:$variant})=>"indeterminate"===$variant?(0,styled_components_browser_esm.iv)(["animation:"," 1.4s linear infinite;"],indeterminate):(0,styled_components_browser_esm.iv)(["transform:rotate(-90deg);"]))),SrOnlyOutput=styled_components_browser_esm.ZP.output.withConfig({displayName:"CircularProgress__SrOnlyOutput",componentId:"sc-hib054-1"})(["position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0;"]),TrackCircle=styled_components_browser_esm.ZP.circle.withConfig({displayName:"CircularProgress__TrackCircle",componentId:"sc-hib054-2"})([""]),ProgressCircle=styled_components_browser_esm.ZP.circle.withConfig({displayName:"CircularProgress__ProgressCircle",componentId:"sc-hib054-3"})([""]),CircularProgress=(0,react.forwardRef)((function CircularProgress({variant:variant="indeterminate",value:value=null,size:size=48,color:color="primary",...rest},ref){const progress=Math.round(value),trackStyle={},props={...rest,ref:ref,$variant:variant},token=(color=>CircularProgress_tokens_namespaceObject[color]?CircularProgress_tokens_namespaceObject[color]:{background:"transparent",entities:{progress:{background:color}}})(color),[srProgress,setSrProgress]=(0,react.useState)(0),circumference=2*Math.PI*22;"determinate"===variant&&(trackStyle.stroke=circumference.toFixed(3),trackStyle.strokeDashoffset=`${((100-progress)/100*circumference).toFixed(3)}px`,props["aria-valuenow"]=progress,void 0!==value&&(props["aria-valuenow"]=progress,props["aria-valuemin"]=0,props["aria-valuemax"]=100)),(0,react.useEffect)((()=>{"indeterminate"!==variant&&(progress>=25&&progress<50?setSrProgress(25):progress>=50&&progress<75?setSrProgress(50):progress>=75&&progress<100?setSrProgress(75):100===progress&&setSrProgress(100))}),[progress,variant]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(Svg,{...props,viewBox:"24 24 48 48",role:"progressbar",height:size,width:size,preserveAspectRatio:"xMidYMid meet",children:[(0,jsx_runtime.jsx)(TrackCircle,{style:trackStyle,cx:48,cy:48,r:22,fill:"none",strokeWidth:4,stroke:token.background}),(0,jsx_runtime.jsx)(ProgressCircle,{style:trackStyle,cx:48,cy:48,r:22,fill:"none",strokeLinecap:"round",strokeWidth:4,strokeDasharray:"determinate"===variant?circumference:48,stroke:token.entities.progress.background})]}),"determinate"===variant&&(0,jsx_runtime.jsx)(SrOnlyOutput,{children:`Loading ${srProgress}%`})]})}))},"./packages/subsurface-viewer/node_modules/fraction.js/fraction.js":function(module){!function(root){"use strict";var P={s:1,n:0,d:1};function assign(n,s){if(isNaN(n=parseInt(n,10)))throw InvalidParameter();return n*s}function newFraction(n,d){if(0===d)throw DivisionByZero();var f=Object.create(Fraction.prototype);f.s=n<0?-1:1;var a=gcd(n=n<0?-n:n,d);return f.n=n/a,f.d=d/a,f}function factorize(num){for(var factors={},n=num,i=2,s=4;s<=n;){for(;n%i==0;)n/=i,factors[i]=(factors[i]||0)+1;s+=1+2*i++}return n!==num?n>1&&(factors[n]=(factors[n]||0)+1):factors[num]=(factors[num]||0)+1,factors}var parse=function(p1,p2){var M,n=0,d=1,s=1,v=0,w=0,x=0,y=1,z=1,A=0,B=1,C=1,D=1,N=1e7;if(null==p1);else if(void 0!==p2){if(s=(n=p1)*(d=p2),n%1!=0||d%1!=0)throw NonIntegerParameter()}else switch(typeof p1){case"object":if("d"in p1&&"n"in p1)n=p1.n,d=p1.d,"s"in p1&&(n*=p1.s);else{if(!(0 in p1))throw InvalidParameter();n=p1[0],1 in p1&&(d=p1[1])}s=n*d;break;case"number":if(p1<0&&(s=p1,p1=-p1),p1%1==0)n=p1;else if(p1>0){for(p1>=1&&(p1/=z=Math.pow(10,Math.floor(1+Math.log(p1)/Math.LN10)));B<=N&&D<=N;){if(p1===(M=(A+C)/(B+D))){B+D<=N?(n=A+C,d=B+D):D>B?(n=C,d=D):(n=A,d=B);break}p1>M?(A+=C,B+=D):(C+=A,D+=B),B>N?(n=C,d=D):(n=A,d=B)}n*=z}else(isNaN(p1)||isNaN(p2))&&(d=n=NaN);break;case"string":if(null===(B=p1.match(/\d+|./g)))throw InvalidParameter();if("-"===B[A]?(s=-1,A++):"+"===B[A]&&A++,B.length===A+1?w=assign(B[A++],s):"."===B[A+1]||"."===B[A]?("."!==B[A]&&(v=assign(B[A++],s)),(++A+1===B.length||"("===B[A+1]&&")"===B[A+3]||"'"===B[A+1]&&"'"===B[A+3])&&(w=assign(B[A],s),y=Math.pow(10,B[A].length),A++),("("===B[A]&&")"===B[A+2]||"'"===B[A]&&"'"===B[A+2])&&(x=assign(B[A+1],s),z=Math.pow(10,B[A+1].length)-1,A+=3)):"/"===B[A+1]||":"===B[A+1]?(w=assign(B[A],s),y=assign(B[A+2],1),A+=3):"/"===B[A+3]&&" "===B[A+1]&&(v=assign(B[A],s),w=assign(B[A+2],s),y=assign(B[A+4],1),A+=5),B.length<=A){s=n=x+(d=y*z)*v+z*w;break}default:throw InvalidParameter()}if(0===d)throw DivisionByZero();P.s=s<0?-1:1,P.n=Math.abs(n),P.d=Math.abs(d)};function gcd(a,b){if(!a)return b;if(!b)return a;for(;;){if(!(a%=b))return b;if(!(b%=a))return a}}function Fraction(a,b){if(parse(a,b),!(this instanceof Fraction))return newFraction(P.s*P.n,P.d);a=gcd(P.d,P.n),this.s=P.s,this.n=P.n/a,this.d=P.d/a}var DivisionByZero=function(){return new Error("Division by Zero")},InvalidParameter=function(){return new Error("Invalid argument")},NonIntegerParameter=function(){return new Error("Parameters must be integer")};Fraction.prototype={s:1,n:0,d:1,abs:function(){return newFraction(this.n,this.d)},neg:function(){return newFraction(-this.s*this.n,this.d)},add:function(a,b){return parse(a,b),newFraction(this.s*this.n*P.d+P.s*this.d*P.n,this.d*P.d)},sub:function(a,b){return parse(a,b),newFraction(this.s*this.n*P.d-P.s*this.d*P.n,this.d*P.d)},mul:function(a,b){return parse(a,b),newFraction(this.s*P.s*this.n*P.n,this.d*P.d)},div:function(a,b){return parse(a,b),newFraction(this.s*P.s*this.n*P.d,this.d*P.n)},clone:function(){return newFraction(this.s*this.n,this.d)},mod:function(a,b){if(isNaN(this.n)||isNaN(this.d))return new Fraction(NaN);if(void 0===a)return newFraction(this.s*this.n%this.d,1);if(parse(a,b),0===P.n&&0===this.d)throw DivisionByZero();return newFraction(this.s*(P.d*this.n)%(P.n*this.d),P.d*this.d)},gcd:function(a,b){return parse(a,b),newFraction(gcd(P.n,this.n)*gcd(P.d,this.d),P.d*this.d)},lcm:function(a,b){return parse(a,b),0===P.n&&0===this.n?newFraction(0,1):newFraction(P.n*this.n,gcd(P.n,this.n)*gcd(P.d,this.d))},ceil:function(places){return places=Math.pow(10,places||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):newFraction(Math.ceil(places*this.s*this.n/this.d),places)},floor:function(places){return places=Math.pow(10,places||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):newFraction(Math.floor(places*this.s*this.n/this.d),places)},round:function(places){return places=Math.pow(10,places||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):newFraction(Math.round(places*this.s*this.n/this.d),places)},inverse:function(){return newFraction(this.s*this.d,this.n)},pow:function(a,b){if(parse(a,b),1===P.d)return P.s<0?newFraction(Math.pow(this.s*this.d,P.n),Math.pow(this.n,P.n)):newFraction(Math.pow(this.s*this.n,P.n),Math.pow(this.d,P.n));if(this.s<0)return null;var N=factorize(this.n),D=factorize(this.d),n=1,d=1;for(var k in N)if("1"!==k){if("0"===k){n=0;break}if(N[k]*=P.n,N[k]%P.d!=0)return null;N[k]/=P.d,n*=Math.pow(k,N[k])}for(var k in D)if("1"!==k){if(D[k]*=P.n,D[k]%P.d!=0)return null;D[k]/=P.d,d*=Math.pow(k,D[k])}return P.s<0?newFraction(d,n):newFraction(n,d)},equals:function(a,b){return parse(a,b),this.s*this.n*P.d==P.s*P.n*this.d},compare:function(a,b){parse(a,b);var t=this.s*this.n*P.d-P.s*P.n*this.d;return(0<t)-(t<0)},simplify:function(eps){if(isNaN(this.n)||isNaN(this.d))return this;eps=eps||.001;for(var thisABS=this.abs(),cont=thisABS.toContinued(),i=1;i<cont.length;i++){for(var s=newFraction(cont[i-1],1),k=i-2;k>=0;k--)s=s.inverse().add(cont[k]);if(Math.abs(s.sub(thisABS).valueOf())<eps)return s.mul(this.s)}return this},divisible:function(a,b){return parse(a,b),!(!(P.n*this.d)||this.n*P.d%(P.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(excludeWhole){var whole,str="",n=this.n,d=this.d;return this.s<0&&(str+="-"),1===d?str+=n:(excludeWhole&&(whole=Math.floor(n/d))>0&&(str+=whole,str+=" ",n%=d),str+=n,str+="/",str+=d),str},toLatex:function(excludeWhole){var whole,str="",n=this.n,d=this.d;return this.s<0&&(str+="-"),1===d?str+=n:(excludeWhole&&(whole=Math.floor(n/d))>0&&(str+=whole,n%=d),str+="\\frac{",str+=n,str+="}{",str+=d,str+="}"),str},toContinued:function(){var t,a=this.n,b=this.d,res=[];if(isNaN(a)||isNaN(b))return res;do{res.push(Math.floor(a/b)),t=a%b,a=b,b=t}while(1!==a);return res},toString:function(dec){var N=this.n,D=this.d;if(isNaN(N)||isNaN(D))return"NaN";dec=dec||15;var cycLen=function cycleLen(n,d){for(;d%2==0;d/=2);for(;d%5==0;d/=5);if(1===d)return 0;for(var rem=10%d,t=1;1!==rem;t++)if(rem=10*rem%d,t>2e3)return 0;return t}(0,D),cycOff=function cycleStart(n,d,len){for(var rem1=1,rem2=function modpow(b,e,m){for(var r=1;e>0;b=b*b%m,e>>=1)1&e&&(r=r*b%m);return r}(10,len,d),t=0;t<300;t++){if(rem1===rem2)return t;rem1=10*rem1%d,rem2=10*rem2%d}return 0}(0,D,cycLen),str=this.s<0?"-":"";if(str+=N/D|0,N%=D,(N*=10)&&(str+="."),cycLen){for(var i=cycOff;i--;)str+=N/D|0,N%=D,N*=10;str+="(";for(i=cycLen;i--;)str+=N/D|0,N%=D,N*=10;str+=")"}else for(i=dec;N&&i--;)str+=N/D|0,N%=D,N*=10;return str}},Object.defineProperty(Fraction,"__esModule",{value:!0}),Fraction.default=Fraction,Fraction.Fraction=Fraction,module.exports=Fraction}()},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/constants.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{IK:function(){return createE},Yb:function(){return createFalse},oL:function(){return createI},Ir:function(){return createInfinity},ur:function(){return createLN10},Cc:function(){return createLN2},q_:function(){return createLOG10E},p9:function(){return createLOG2E},t$:function(){return createNaN},VG:function(){return createNull},Ii:function(){return createPhi},up:function(){return createPi},JE:function(){return createSQRT1_2},rN:function(){return createSQRT2},ci:function(){return createTau},jy:function(){return createTrue},Iu:function(){return createUppercaseE},lO:function(){return createUppercasePi},hT:function(){return createVersion}});var factory=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),constants=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/constants.js"),pi=Math.PI,tau=2*Math.PI,e=Math.E,createTrue=(0,factory.d5)("true",[],(()=>!0)),createFalse=(0,factory.d5)("false",[],(()=>!1)),createNull=(0,factory.d5)("null",[],(()=>null)),createInfinity=recreateFactory("Infinity",["config","?BigNumber"],(_ref=>{var{config:config,BigNumber:BigNumber}=_ref;return"BigNumber"===config.number?new BigNumber(1/0):1/0})),createNaN=recreateFactory("NaN",["config","?BigNumber"],(_ref2=>{var{config:config,BigNumber:BigNumber}=_ref2;return"BigNumber"===config.number?new BigNumber(NaN):NaN})),createPi=recreateFactory("pi",["config","?BigNumber"],(_ref3=>{var{config:config,BigNumber:BigNumber}=_ref3;return"BigNumber"===config.number?(0,constants.wY)(BigNumber):pi})),createTau=recreateFactory("tau",["config","?BigNumber"],(_ref4=>{var{config:config,BigNumber:BigNumber}=_ref4;return"BigNumber"===config.number?(0,constants.j_)(BigNumber):tau})),createE=recreateFactory("e",["config","?BigNumber"],(_ref5=>{var{config:config,BigNumber:BigNumber}=_ref5;return"BigNumber"===config.number?(0,constants.vu)(BigNumber):e})),createPhi=recreateFactory("phi",["config","?BigNumber"],(_ref6=>{var{config:config,BigNumber:BigNumber}=_ref6;return"BigNumber"===config.number?(0,constants.zm)(BigNumber):1.618033988749895})),createLN2=recreateFactory("LN2",["config","?BigNumber"],(_ref7=>{var{config:config,BigNumber:BigNumber}=_ref7;return"BigNumber"===config.number?new BigNumber(2).ln():Math.LN2})),createLN10=recreateFactory("LN10",["config","?BigNumber"],(_ref8=>{var{config:config,BigNumber:BigNumber}=_ref8;return"BigNumber"===config.number?new BigNumber(10).ln():Math.LN10})),createLOG2E=recreateFactory("LOG2E",["config","?BigNumber"],(_ref9=>{var{config:config,BigNumber:BigNumber}=_ref9;return"BigNumber"===config.number?new BigNumber(1).div(new BigNumber(2).ln()):Math.LOG2E})),createLOG10E=recreateFactory("LOG10E",["config","?BigNumber"],(_ref10=>{var{config:config,BigNumber:BigNumber}=_ref10;return"BigNumber"===config.number?new BigNumber(1).div(new BigNumber(10).ln()):Math.LOG10E})),createSQRT1_2=recreateFactory("SQRT1_2",["config","?BigNumber"],(_ref11=>{var{config:config,BigNumber:BigNumber}=_ref11;return"BigNumber"===config.number?new BigNumber("0.5").sqrt():Math.SQRT1_2})),createSQRT2=recreateFactory("SQRT2",["config","?BigNumber"],(_ref12=>{var{config:config,BigNumber:BigNumber}=_ref12;return"BigNumber"===config.number?new BigNumber(2).sqrt():Math.SQRT2})),createI=recreateFactory("i",["Complex"],(_ref13=>{var{Complex:Complex}=_ref13;return Complex.I})),createUppercasePi=(0,factory.d5)("PI",["pi"],(_ref14=>{var{pi:pi}=_ref14;return pi})),createUppercaseE=(0,factory.d5)("E",["e"],(_ref15=>{var{e:e}=_ref15;return e})),createVersion=(0,factory.d5)("version",[],(()=>"12.4.3"));function recreateFactory(name,dependencies,create){return(0,factory.d5)(name,dependencies,create,{recreateOnConfigChange:!0})}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/core/config.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{g:function(){return DEFAULT_CONFIG}});var DEFAULT_CONFIG={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/core/function/config.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Ll:function(){return configFactory},qK:function(){return MATRIX_OPTIONS},x9:function(){return NUMBER_OPTIONS}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_config_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/core/config.js"),MATRIX_OPTIONS=["Matrix","Array"],NUMBER_OPTIONS=["number","BigNumber","Fraction"];function configFactory(config,emit){function _config(options){if(options){var prev=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.Xc)(config,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.d9);validateOption(options,"matrix",MATRIX_OPTIONS),validateOption(options,"number",NUMBER_OPTIONS),(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.ZB)(config,options);var curr=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.Xc)(config,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.d9),changes=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.Xc)(options,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.d9);return emit("config",curr,prev,changes),curr}return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.Xc)(config,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.d9)}return _config.MATRIX_OPTIONS=MATRIX_OPTIONS,_config.NUMBER_OPTIONS=NUMBER_OPTIONS,Object.keys(_config_js__WEBPACK_IMPORTED_MODULE_1__.g).forEach((key=>{Object.defineProperty(_config,key,{get:()=>config[key],enumerable:!0,configurable:!0})})),_config}function validateOption(options,name,values){void 0===options[name]||values.includes(options[name])||console.warn('Warning: Unknown value "'+options[name]+'" for configuration option "'+name+'". Available options: '+values.map((value=>JSON.stringify(value))).join(", ")+".")}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/core/function/typed.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return createTyped}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),typed_function__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/typed-function/lib/umd/typed-function.js"),typed_function__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(typed_function__WEBPACK_IMPORTED_MODULE_0__),_utils_number_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_map_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/map.js"),_createTyped2=function _createTyped(){return _createTyped2=typed_function__WEBPACK_IMPORTED_MODULE_0___default().create,typed_function__WEBPACK_IMPORTED_MODULE_0___default()},dependencies=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],createTyped=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)("typed",dependencies,(function createTyped(_ref){var{BigNumber:BigNumber,Complex:Complex,DenseMatrix:DenseMatrix,Fraction:Fraction}=_ref,typed=_createTyped2();return typed.clear(),typed.addTypes([{name:"number",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.hj},{name:"Complex",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Mc},{name:"BigNumber",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9},{name:"Fraction",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.yQ},{name:"Unit",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.wr},{name:"identifier",test:s=>_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.HD&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.HD},{name:"Chain",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.qg},{name:"Array",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kJ},{name:"Matrix",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW},{name:"DenseMatrix",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.jH},{name:"SparseMatrix",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.sA},{name:"Range",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.bR},{name:"Index",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.dh},{name:"boolean",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.jn},{name:"ResultSet",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.cB},{name:"Help",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.x1},{name:"function",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.mf},{name:"Date",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.J_},{name:"RegExp",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Kj},{name:"null",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Ft},{name:"undefined",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.o8},{name:"AccessorNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Yz},{name:"ArrayNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.j0},{name:"AssignmentNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Bp},{name:"BlockNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.zh},{name:"ConditionalNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.tS},{name:"ConstantNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.nu},{name:"FunctionNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.VO},{name:"FunctionAssignmentNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l7},{name:"IndexNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Cl},{name:"Node",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.UG},{name:"ObjectNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Lr},{name:"OperatorNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.bV},{name:"ParenthesisNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Ig},{name:"RangeNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.ex},{name:"RelationalNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Zi},{name:"SymbolNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.FG},{name:"Map",test:_utils_map_js__WEBPACK_IMPORTED_MODULE_3__._N},{name:"Object",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Kn}]),typed.addConversions([{from:"number",to:"BigNumber",convert:function convert(x){if(BigNumber||throwNoBignumber(x),(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_4__.nz)(x)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+x+"). Use function bignumber(x) to convert to BigNumber.");return new BigNumber(x)}},{from:"number",to:"Complex",convert:function convert(x){return Complex||throwNoComplex(x),new Complex(x,0)}},{from:"BigNumber",to:"Complex",convert:function convert(x){return Complex||throwNoComplex(x),new Complex(x.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function convert(x){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function convert(x){return Complex||throwNoComplex(x),new Complex(x.valueOf(),0)}},{from:"number",to:"Fraction",convert:function convert(x){Fraction||throwNoFraction(x);var f=new Fraction(x);if(f.valueOf()!==x)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+x+"). Use function fraction(x) to convert to Fraction.");return f}},{from:"string",to:"number",convert:function convert(x){var n=Number(x);if(isNaN(n))throw new Error('Cannot convert "'+x+'" to a number');return n}},{from:"string",to:"BigNumber",convert:function convert(x){BigNumber||throwNoBignumber(x);try{return new BigNumber(x)}catch(err){throw new Error('Cannot convert "'+x+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function convert(x){Fraction||throwNoFraction(x);try{return new Fraction(x)}catch(err){throw new Error('Cannot convert "'+x+'" to Fraction')}}},{from:"string",to:"Complex",convert:function convert(x){Complex||throwNoComplex(x);try{return new Complex(x)}catch(err){throw new Error('Cannot convert "'+x+'" to Complex')}}},{from:"boolean",to:"number",convert:function convert(x){return+x}},{from:"boolean",to:"BigNumber",convert:function convert(x){return BigNumber||throwNoBignumber(x),new BigNumber(+x)}},{from:"boolean",to:"Fraction",convert:function convert(x){return Fraction||throwNoFraction(x),new Fraction(+x)}},{from:"boolean",to:"string",convert:function convert(x){return String(x)}},{from:"Array",to:"Matrix",convert:function convert(array){return DenseMatrix||function throwNoMatrix(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new DenseMatrix(array)}},{from:"Matrix",to:"Array",convert:function convert(matrix){return matrix.valueOf()}}]),typed.onMismatch=(name,args,signatures)=>{var usualError=typed.createError(name,args,signatures);if(["wrongType","mismatch"].includes(usualError.data.category)&&1===args.length&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.uZ)(args[0])&&signatures.some((sig=>!sig.params.includes(",")))){var err=new TypeError("Function '".concat(name,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(name,")'."));throw err.data=usualError.data,err}throw usualError},typed.onMismatch=(name,args,signatures)=>{var usualError=typed.createError(name,args,signatures);if(["wrongType","mismatch"].includes(usualError.data.category)&&1===args.length&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.uZ)(args[0])&&signatures.some((sig=>!sig.params.includes(",")))){var err=new TypeError("Function '".concat(name,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(name,")'."));throw err.data=usualError.data,err}throw usualError},typed}));function throwNoBignumber(x){throw new Error("Cannot convert value ".concat(x," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(x){throw new Error("Cannot convert value ".concat(x," into a Complex number: no class 'Complex' provided"))}function throwNoFraction(x){throw new Error("Cannot convert value ".concat(x," into a Fraction, no class 'Fraction' provided."))}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/entry/pureFunctionsAny.generated.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{TE$:function(){return pureFunctionsAny_generated_distance},AKD:function(){return pureFunctionsAny_generated_dot},$XF:function(){return pureFunctionsAny_generated_subtract}});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),core_config=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/core/config.js"),config=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/core/function/config.js"),configReadonly_config=function config(options){if(options)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(core_config.g)};(0,esm_extends.Z)(configReadonly_config,core_config.g,{MATRIX_OPTIONS:config.qK,NUMBER_OPTIONS:config.x9});var BigNumber=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/bignumber/BigNumber.js"),Complex=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/complex/Complex.js"),Fraction=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/constants.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/unit/physicalConstants.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/fraction/Fraction.js")),Matrix=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/Matrix.js"),DenseMatrix=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/Range.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/resultset/ResultSet.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/DenseMatrix.js")),typed=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/json/replacer.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/core/function/typed.js")),abs=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/unaryPlus.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/abs.js")),addScalar=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/acos.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/acot.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/acsc.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/addScalar.js")),bignumber=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/complex/arg.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/asech.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/asinh.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/atan.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/atanh.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/bignumber/function/bignumber.js")),conj=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/bitNot.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/boolean.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/clone.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/combinations.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/complex/function/complex.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/complex/conj.js")),equalScalar=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/cos.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/cot.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/csc.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/cube.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/equalScalar.js")),isInteger=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/special/erf.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/exp.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/expm1.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/filter.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/forEach.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/string/format.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/getMatrixDataType.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/string/hex.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/complex/im.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isInteger.js")),multiplyScalar=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isNegative.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isPositive.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isZero.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/lgamma.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/log10.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/log2.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/map.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/multiplyScalar.js")),number=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/logical/not.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/number.js")),SparseMatrix=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/string/oct.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/pickRandom.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/string/print.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/random.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/complex/re.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/sec.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/sign.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/sin.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/SparseMatrix.js")),subtractScalar=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/unit/function/splitUnit.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/square.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/string.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/subtractScalar.js")),sqrt=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/tan.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/typeOf.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/acosh.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/acsch.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/apply.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/asec.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/string/bin.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/combinationsWithRep.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/cosh.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/csch.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isNaN.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isPrime.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/randomInt.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/sech.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/sinh.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/function/sparse.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/sqrt.js")),unaryMinus=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/tanh.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/unaryMinus.js")),fraction=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/acoth.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/coth.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/fraction/function/fraction.js")),matrix=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isNumeric.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/function/matrix.js")),numeric=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/matrixFromFunction.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/mode.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/numeric.js")),size=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/prod.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/reshape.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/size.js")),concat=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/squeeze.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/transpose.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/xgcd.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/zeros.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/asin.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/cbrt.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/concat.js")),divideScalar=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/count.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/ctranspose.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/diag.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/divideScalar.js")),equal=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/dotDivide.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/equal.js")),subtract=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/flatten.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/hasNumericValue.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/identity.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/kron.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/largerEq.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/leftShift.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/lsolve.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/matrixFromColumns.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/nthRoot.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/ones.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/decomposition/qr.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/resize.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/rightArithShift.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/round.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/smaller.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/subtract.js")),deepEqual=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/unit/to.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/unequal.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/usolve.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/logical/xor.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/add.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/atan2.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/bitAnd.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/bitOr.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/bitXor.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/combinatorics/catalan.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compare.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compareText.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/cumsum.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/deepEqual.js")),distance=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/diff.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/geometry/distance.js")),dot=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/dot.js"),pureFunctionsAny_generated_BigNumber=(__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/equalText.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/floor.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/gcd.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/hypot.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/ImmutableDenseMatrix.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/MatrixIndex.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/larger.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/log.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/lsolveAll.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/matrixFromRows.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/min.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/mod.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/multiply.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/nthRoots.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/logical/or.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/partitionSelect.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/rightLogShift.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/decomposition/slu.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/subset.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/sum.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/trace.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/usolveAll.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/signal/zpk2tf.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/ceil.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compareNatural.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/combinatorics/composition.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/cross.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/det.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/dotMultiply.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/FibonacciHeap.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/fix.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/function/index.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/geometry/intersect.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/invmod.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/lcm.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/log1p.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/max.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setCartesian.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setDistinct.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setIsSubset.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setPowerset.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/smallerEq.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/sort.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/logical/and.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/range.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/row.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setDifference.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setMultiplicity.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setSymDifference.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/Spa.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/column.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/inv.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/decomposition/lup.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/pinv.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/pow.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setIntersect.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setUnion.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/sqrtm.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/unit/Unit.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/dotPow.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/expm.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/fft.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/gamma.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/ifft.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/unit/function/createUnit.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/divide.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/factorial.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/lusolve.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/multinomial.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/permutations.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/polynomialRoot.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setSize.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/numeric/solveODE.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/combinatorics/stirlingS2.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/unit/function/unit.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/combinatorics/bellNumbers.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/eigs.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/kldivergence.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/mean.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/quantileSeq.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/variance.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/median.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/corr.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/signal/freqz.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/mad.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/std.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/special/zeta.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/norm.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/rotationMatrix.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/decomposition/schur.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/rotate.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/sylvester.js"),__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/lyap.js"),(0,BigNumber.w)({config:configReadonly_config})),pureFunctionsAny_generated_Complex=(0,Complex.w)({}),pureFunctionsAny_generated_Fraction=(0,Fraction.u)({}),pureFunctionsAny_generated_Matrix=(0,Matrix.K)({}),pureFunctionsAny_generated_DenseMatrix=(0,DenseMatrix.D)({Matrix:pureFunctionsAny_generated_Matrix}),pureFunctionsAny_generated_typed=(0,typed.d)({BigNumber:pureFunctionsAny_generated_BigNumber,Complex:pureFunctionsAny_generated_Complex,DenseMatrix:pureFunctionsAny_generated_DenseMatrix,Fraction:pureFunctionsAny_generated_Fraction}),pureFunctionsAny_generated_abs=(0,abs.E)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_addScalar=(0,addScalar.A)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_bignumber=(0,bignumber.p)({BigNumber:pureFunctionsAny_generated_BigNumber,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_conj=(0,conj.b)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_equalScalar=(0,equalScalar.f)({config:configReadonly_config,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_isInteger=(0,isInteger.u)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_multiplyScalar=(0,multiplyScalar.x)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_number=(0,number.k)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_SparseMatrix=(0,SparseMatrix.C)({Matrix:pureFunctionsAny_generated_Matrix,equalScalar:pureFunctionsAny_generated_equalScalar,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_subtractScalar=(0,subtractScalar.A)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_sqrt=(0,sqrt.M)({Complex:pureFunctionsAny_generated_Complex,config:configReadonly_config,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_unaryMinus=(0,unaryMinus.x)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_fraction=(0,fraction.v)({Fraction:pureFunctionsAny_generated_Fraction,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_matrix=(0,matrix.w)({DenseMatrix:pureFunctionsAny_generated_DenseMatrix,Matrix:pureFunctionsAny_generated_Matrix,SparseMatrix:pureFunctionsAny_generated_SparseMatrix,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_numeric=(0,numeric.d)({bignumber:pureFunctionsAny_generated_bignumber,fraction:pureFunctionsAny_generated_fraction,number:pureFunctionsAny_generated_number}),pureFunctionsAny_generated_size=(0,size.s)({matrix:pureFunctionsAny_generated_matrix,config:configReadonly_config,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_concat=(0,concat.k)({isInteger:pureFunctionsAny_generated_isInteger,matrix:pureFunctionsAny_generated_matrix,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_divideScalar=(0,divideScalar.L)({numeric:pureFunctionsAny_generated_numeric,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_equal=(0,equal.Z)({DenseMatrix:pureFunctionsAny_generated_DenseMatrix,concat:pureFunctionsAny_generated_concat,equalScalar:pureFunctionsAny_generated_equalScalar,matrix:pureFunctionsAny_generated_matrix,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_subtract=(0,subtract.p)({DenseMatrix:pureFunctionsAny_generated_DenseMatrix,concat:pureFunctionsAny_generated_concat,equalScalar:pureFunctionsAny_generated_equalScalar,matrix:pureFunctionsAny_generated_matrix,subtractScalar:pureFunctionsAny_generated_subtractScalar,typed:pureFunctionsAny_generated_typed,unaryMinus:pureFunctionsAny_generated_unaryMinus}),pureFunctionsAny_generated_deepEqual=(0,deepEqual.s)({equal:pureFunctionsAny_generated_equal,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_distance=(0,distance.v)({abs:pureFunctionsAny_generated_abs,addScalar:pureFunctionsAny_generated_addScalar,deepEqual:pureFunctionsAny_generated_deepEqual,divideScalar:pureFunctionsAny_generated_divideScalar,multiplyScalar:pureFunctionsAny_generated_multiplyScalar,sqrt:pureFunctionsAny_generated_sqrt,subtractScalar:pureFunctionsAny_generated_subtractScalar,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_dot=(0,dot.W)({addScalar:pureFunctionsAny_generated_addScalar,conj:pureFunctionsAny_generated_conj,multiplyScalar:pureFunctionsAny_generated_multiplyScalar,size:pureFunctionsAny_generated_size,typed:pureFunctionsAny_generated_typed})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/ArgumentsError.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function ArgumentsError(fn,count,min,max){if(!(this instanceof ArgumentsError))throw new SyntaxError("Constructor must be called with the new operator");this.fn=fn,this.count=count,this.min=min,this.max=max,this.message="Wrong number of arguments in function "+fn+" ("+count+" provided, "+min+(null!=max?"-"+max:"")+" expected)",this.stack=(new Error).stack}__webpack_require__.d(__webpack_exports__,{u:function(){return ArgumentsError}}),ArgumentsError.prototype=new Error,ArgumentsError.prototype.constructor=Error,ArgumentsError.prototype.name="ArgumentsError",ArgumentsError.prototype.isArgumentsError=!0},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function DimensionError(actual,expected,relation){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=actual,this.expected=expected,this.relation=relation,this.message="Dimension mismatch ("+(Array.isArray(actual)?"["+actual.join(", ")+"]":actual)+" "+(this.relation||"!=")+" "+(Array.isArray(expected)?"["+expected.join(", ")+"]":expected)+")",this.stack=(new Error).stack}__webpack_require__.d(__webpack_exports__,{m:function(){return DimensionError}}),DimensionError.prototype=new RangeError,DimensionError.prototype.constructor=RangeError,DimensionError.prototype.name="DimensionError",DimensionError.prototype.isDimensionError=!0},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/IndexError.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function IndexError(index,min,max){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=index,arguments.length<3?(this.min=0,this.max=min):(this.min=min,this.max=max),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}__webpack_require__.d(__webpack_exports__,{c:function(){return IndexError}}),IndexError.prototype=new RangeError,IndexError.prototype.constructor=RangeError,IndexError.prototype.name="IndexError",IndexError.prototype.isIndexError=!0},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/decomposition/lup.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createLup}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],createLup=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("lup",dependencies,(_ref=>{var{typed:typed,matrix:matrix,abs:abs,addScalar:addScalar,divideScalar:divideScalar,multiplyScalar:multiplyScalar,subtractScalar:subtractScalar,larger:larger,equalScalar:equalScalar,unaryMinus:unaryMinus,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix,Spa:Spa}=_ref;return typed("lup",{DenseMatrix:function DenseMatrix(m){return _denseLUP(m)},SparseMatrix:function SparseMatrix(m){return _sparseLUP(m)},Array:function Array(a){var r=_denseLUP(matrix(a));return{L:r.L.valueOf(),U:r.U.valueOf(),p:r.p}}});function _denseLUP(m){var i,j,k,rows=m._size[0],columns=m._size[1],n=Math.min(rows,columns),data=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(m._data),ldata=[],lsize=[rows,n],udata=[],usize=[n,columns],p=[];for(i=0;i<rows;i++)p[i]=i;for(j=0;j<columns;j++){if(j>0)for(i=0;i<rows;i++){var min=Math.min(i,j),s=0;for(k=0;k<min;k++)s=addScalar(s,multiplyScalar(data[i][k],data[k][j]));data[i][j]=subtractScalar(data[i][j],s)}var pi=j,pabsv=0,vjj=0;for(i=j;i<rows;i++){var v=data[i][j],absv=abs(v);larger(absv,pabsv)&&(pi=i,pabsv=absv,vjj=v)}if(j!==pi&&(p[j]=[p[pi],p[pi]=p[j]][0],DenseMatrix._swapRows(j,pi,data)),j<rows)for(i=j+1;i<rows;i++){var vij=data[i][j];equalScalar(vij,0)||(data[i][j]=divideScalar(data[i][j],vjj))}}for(j=0;j<columns;j++)for(i=0;i<rows;i++)0===j&&(i<columns&&(udata[i]=[]),ldata[i]=[]),i<j?(i<columns&&(udata[i][j]=data[i][j]),j<rows&&(ldata[i][j]=0)):i!==j?(i<columns&&(udata[i][j]=0),j<rows&&(ldata[i][j]=data[i][j])):(i<columns&&(udata[i][j]=data[i][j]),j<rows&&(ldata[i][j]=1));var l=new DenseMatrix({data:ldata,size:lsize}),u=new DenseMatrix({data:udata,size:usize}),pv=[];for(i=0,n=p.length;i<n;i++)pv[p[i]]=i;return{L:l,U:u,p:pv,toString:function toString(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function _sparseLUP(m){var i,j,k,rows=m._size[0],columns=m._size[1],n=Math.min(rows,columns),values=m._values,index=m._index,ptr=m._ptr,lvalues=[],lindex=[],lptr=[],lsize=[rows,n],uvalues=[],uindex=[],uptr=[],usize=[n,columns],pvCo=[],pvOc=[];for(i=0;i<rows;i++)pvCo[i]=i,pvOc[i]=i;var _loop=function _loop(){var spa=new Spa;j<rows&&(lptr.push(lvalues.length),lvalues.push(1),lindex.push(j)),uptr.push(uvalues.length);var k0=ptr[j],k1=ptr[j+1];for(k=k0;k<k1;k++)i=index[k],spa.set(pvCo[i],values[k]);j>0&&spa.forEach(0,j-1,(function(k,vkj){SparseMatrix._forEachRow(k,lvalues,lindex,lptr,(function(i,vik){i>k&&spa.accumulate(i,unaryMinus(multiplyScalar(vik,vkj)))}))}));var pi=j,vjj=spa.get(j),pabsv=abs(vjj);spa.forEach(j+1,rows-1,(function(x,v){var absv=abs(v);larger(absv,pabsv)&&(pi=x,pabsv=absv,vjj=v)})),j!==pi&&(SparseMatrix._swapRows(j,pi,lsize[1],lvalues,lindex,lptr),SparseMatrix._swapRows(j,pi,usize[1],uvalues,uindex,uptr),spa.swap(j,pi),function swapIndeces(x,y){var kx=pvOc[x],ky=pvOc[y];pvCo[kx]=y,pvCo[ky]=x,pvOc[x]=ky,pvOc[y]=kx}(j,pi)),spa.forEach(0,rows-1,(function(x,v){x<=j?(uvalues.push(v),uindex.push(x)):(v=divideScalar(v,vjj),equalScalar(v,0)||(lvalues.push(v),lindex.push(x)))}))};for(j=0;j<columns;j++)_loop();return uptr.push(uvalues.length),lptr.push(lvalues.length),{L:new SparseMatrix({values:lvalues,index:lindex,ptr:lptr,size:lsize}),U:new SparseMatrix({values:uvalues,index:uindex,ptr:uptr,size:usize}),p:pvCo,toString:function toString(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/decomposition/qr.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y:function(){return createQr}});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],createQr=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("qr",dependencies,(_ref=>{var{typed:typed,matrix:matrix,zeros:zeros,identity:identity,isZero:isZero,equal:equal,sign:sign,sqrt:sqrt,conj:conj,unaryMinus:unaryMinus,addScalar:addScalar,divideScalar:divideScalar,multiplyScalar:multiplyScalar,subtractScalar:subtractScalar,complex:complex}=_ref;return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__.Z)(typed("qr",{DenseMatrix:function DenseMatrix(m){return _denseQR(m)},SparseMatrix:function SparseMatrix(m){return function _sparseQR(m){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function Array(a){var r=_denseQR(matrix(a));return{Q:r.Q.valueOf(),R:r.R.valueOf()}}}),{_denseQRimpl:_denseQRimpl});function _denseQRimpl(m){var i,j,k,rows=m._size[0],cols=m._size[1],Q=identity([rows],"dense"),Qdata=Q._data,R=m.clone(),Rdata=R._data,w=zeros([rows],"");for(k=0;k<Math.min(cols,rows);++k){var pivot=Rdata[k][k],sgn=unaryMinus(equal(pivot,0)?1:sign(pivot)),conjSgn=conj(sgn),alphaSquared=0;for(i=k;i<rows;i++)alphaSquared=addScalar(alphaSquared,multiplyScalar(Rdata[i][k],conj(Rdata[i][k])));var alpha=multiplyScalar(sgn,sqrt(alphaSquared));if(!isZero(alpha)){var u1=subtractScalar(pivot,alpha);for(w[k]=1,i=k+1;i<rows;i++)w[i]=divideScalar(Rdata[i][k],u1);var tau=unaryMinus(conj(divideScalar(u1,alpha))),s=void 0;for(j=k;j<cols;j++){for(s=0,i=k;i<rows;i++)s=addScalar(s,multiplyScalar(conj(w[i]),Rdata[i][j]));for(s=multiplyScalar(s,tau),i=k;i<rows;i++)Rdata[i][j]=multiplyScalar(subtractScalar(Rdata[i][j],multiplyScalar(w[i],s)),conjSgn)}for(i=0;i<rows;i++){for(s=0,j=k;j<rows;j++)s=addScalar(s,multiplyScalar(Qdata[i][j],w[j]));for(s=multiplyScalar(s,tau),j=k;j<rows;++j)Qdata[i][j]=divideScalar(subtractScalar(Qdata[i][j],multiplyScalar(s,conj(w[j]))),conjSgn)}}}return{Q:Q,R:R,toString:function toString(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function _denseQR(m){var ret=_denseQRimpl(m),Rdata=ret.R._data;if(m._data.length>0)for(var zero="Complex"===Rdata[0][0].type?complex(0):0,i=0;i<Rdata.length;++i)for(var j=0;j<i&&j<(Rdata[0]||[]).length;++j)Rdata[i][j]=zero;return ret}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/decomposition/schur.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{a:function(){return createSchur}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","identity","multiply","qr","norm","subtract"],createSchur=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("schur",dependencies,(_ref=>{var{typed:typed,matrix:matrix,identity:identity,multiply:multiply,qr:qr,norm:norm,subtract:subtract}=_ref;return typed("schur",{Array:function Array(X){var r=_schur(matrix(X));return{U:r.U.valueOf(),T:r.T.valueOf()}},Matrix:function Matrix(X){return _schur(X)}});function _schur(X){var A0,n=X.size()[0],A=X,U=identity(n),k=0;do{A0=A;var QR=qr(A),Q=QR.Q,R=QR.R;if(A=multiply(R,Q),U=multiply(U,Q),k++>100)break}while(norm(subtract(A,A0))>1e-4);return{U:U,T:A}}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/decomposition/slu.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{p:function(){return createSlu}});var number=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),factory=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js");function csTdfs(j,k,w,head,next,post,stack){var top=0;for(w[stack]=j;top>=0;){var p=w[stack+top],i=w[head+p];-1===i?(top--,post[k++]=p):(w[head+p]=w[next+i],w[stack+ ++top]=i)}return k}function csFlip(i){return-i-2}var dependencies=["add","multiply","transpose"],createCsAmd=(0,factory.d5)("csAmd",dependencies,(_ref=>{var{add:add,multiply:multiply,transpose:transpose}=_ref;return function csAmd(order,a){if(!a||order<=0||order>3)return null;var asize=a._size,m=asize[0],n=asize[1],lemax=0,dense=Math.max(16,10*Math.sqrt(n)),cm=function _createTargetMatrix(order,a,m,n,dense){var at=transpose(a);if(1===order&&n===m)return add(a,at);if(2===order){for(var tindex=at._index,tptr=at._ptr,p2=0,j=0;j<m;j++){var p=tptr[j];if(tptr[j]=p2,!(tptr[j+1]-p>dense))for(var p1=tptr[j+1];p<p1;p++)tindex[p2++]=tindex[p]}return tptr[m]=p2,a=transpose(at),multiply(at,a)}return multiply(at,a)}(order,a,m,n,dense=Math.min(n-2,dense));!function csFkeep(a,callback,other){for(var avalues=a._values,aindex=a._index,aptr=a._ptr,n=a._size[1],nz=0,j=0;j<n;j++){var p=aptr[j];for(aptr[j]=nz;p<aptr[j+1];p++)callback(aindex[p],j,avalues?avalues[p]:1,other)&&(aindex[nz]=aindex[p],avalues&&(avalues[nz]=avalues[p]),nz++)}return aptr[n]=nz,aindex.splice(nz,aindex.length-nz),avalues&&avalues.splice(nz,avalues.length-nz),nz}(cm,_diag,null);for(var i,j,k,k1,k2,e,pj,ln,nvi,pk,eln,p1,p2,pn,h,d,cindex=cm._index,cptr=cm._ptr,cnz=cptr[n],P=[],W=[],nv=n+1,next=2*(n+1),head=3*(n+1),elen=4*(n+1),degree=5*(n+1),w=6*(n+1),hhead=7*(n+1),last=P,mark=function _initializeQuotientGraph(n,cptr,W,len,head,last,next,hhead,nv,w,elen,degree){for(var k=0;k<n;k++)W[len+k]=cptr[k+1]-cptr[k];W[len+n]=0;for(var i=0;i<=n;i++)W[head+i]=-1,last[i]=-1,W[next+i]=-1,W[hhead+i]=-1,W[nv+i]=1,W[w+i]=1,W[elen+i]=0,W[degree+i]=W[len+i];var mark=_wclear(0,0,W,w,n);return W[elen+n]=-2,cptr[n]=-1,W[w+n]=0,mark}(n,cptr,W,0,head,last,next,hhead,nv,w,elen,degree),nel=function _initializeDegreeLists(n,cptr,W,degree,elen,w,dense,nv,head,last,next){for(var nel=0,i=0;i<n;i++){var d=W[degree+i];if(0===d)W[elen+i]=-2,nel++,cptr[i]=-1,W[w+i]=0;else if(d>dense)W[nv+i]=0,W[elen+i]=-1,nel++,cptr[i]=csFlip(n),W[nv+n]++;else{var h=W[head+d];-1!==h&&(last[h]=i),W[next+i]=W[head+d],W[head+d]=i}}return nel}(n,cptr,W,degree,elen,w,dense,nv,head,last,next),mindeg=0;nel<n;){for(k=-1;mindeg<n&&-1===(k=W[head+mindeg]);mindeg++);-1!==W[next+k]&&(last[W[next+k]]=-1),W[head+mindeg]=W[next+k];var elenk=W[elen+k],nvk=W[nv+k];nel+=nvk;var dk=0;W[nv+k]=-nvk;var p=cptr[k],pk1=0===elenk?p:cnz,pk2=pk1;for(k1=1;k1<=elenk+1;k1++){for(k1>elenk?(e=k,pj=p,ln=W[0+k]-elenk):(pj=cptr[e=cindex[p++]],ln=W[0+e]),k2=1;k2<=ln;k2++)(nvi=W[nv+(i=cindex[pj++])])<=0||(dk+=nvi,W[nv+i]=-nvi,cindex[pk2++]=i,-1!==W[next+i]&&(last[W[next+i]]=last[i]),-1!==last[i]?W[next+last[i]]=W[next+i]:W[head+W[degree+i]]=W[next+i]);e!==k&&(cptr[e]=csFlip(k),W[w+e]=0)}for(0!==elenk&&(cnz=pk2),W[degree+k]=dk,cptr[k]=pk1,W[0+k]=pk2-pk1,W[elen+k]=-2,mark=_wclear(mark,lemax,W,w,n),pk=pk1;pk<pk2;pk++)if(!((eln=W[elen+(i=cindex[pk])])<=0)){var wnvi=mark-(nvi=-W[nv+i]);for(p=cptr[i],p1=cptr[i]+eln-1;p<=p1;p++)W[w+(e=cindex[p])]>=mark?W[w+e]-=nvi:0!==W[w+e]&&(W[w+e]=W[degree+e]+wnvi)}for(pk=pk1;pk<pk2;pk++){for(p2=(p1=cptr[i=cindex[pk]])+W[elen+i]-1,pn=p1,h=0,d=0,p=p1;p<=p2;p++)if(0!==W[w+(e=cindex[p])]){var dext=W[w+e]-mark;dext>0?(d+=dext,cindex[pn++]=e,h+=e):(cptr[e]=csFlip(k),W[w+e]=0)}W[elen+i]=pn-p1+1;var p3=pn,p4=p1+W[0+i];for(p=p2+1;p<p4;p++){var nvj=W[nv+(j=cindex[p])];nvj<=0||(d+=nvj,cindex[pn++]=j,h+=j)}0===d?(cptr[i]=csFlip(k),dk-=nvi=-W[nv+i],nvk+=nvi,nel+=nvi,W[nv+i]=0,W[elen+i]=-1):(W[degree+i]=Math.min(W[degree+i],d),cindex[pn]=cindex[p3],cindex[p3]=cindex[p1],cindex[p1]=k,W[0+i]=pn-p1+1,h=(h<0?-h:h)%n,W[next+i]=W[hhead+h],W[hhead+h]=i,last[i]=h)}for(W[degree+k]=dk,mark=_wclear(mark+(lemax=Math.max(lemax,dk)),lemax,W,w,n),pk=pk1;pk<pk2;pk++)if(!(W[nv+(i=cindex[pk])]>=0))for(i=W[hhead+(h=last[i])],W[hhead+h]=-1;-1!==i&&-1!==W[next+i];i=W[next+i],mark++){for(ln=W[0+i],eln=W[elen+i],p=cptr[i]+1;p<=cptr[i]+ln-1;p++)W[w+cindex[p]]=mark;var jlast=i;for(j=W[next+i];-1!==j;){var ok=W[0+j]===ln&&W[elen+j]===eln;for(p=cptr[j]+1;ok&&p<=cptr[j]+ln-1;p++)W[w+cindex[p]]!==mark&&(ok=0);ok?(cptr[j]=csFlip(i),W[nv+i]+=W[nv+j],W[nv+j]=0,W[elen+j]=-1,j=W[next+j],W[next+jlast]=j):(jlast=j,j=W[next+j])}}for(p=pk1,pk=pk1;pk<pk2;pk++)(nvi=-W[nv+(i=cindex[pk])])<=0||(W[nv+i]=nvi,d=W[degree+i]+dk-nvi,-1!==W[head+(d=Math.min(d,n-nel-nvi))]&&(last[W[head+d]]=i),W[next+i]=W[head+d],last[i]=-1,W[head+d]=i,mindeg=Math.min(mindeg,d),W[degree+i]=d,cindex[p++]=i);W[nv+k]=nvk,0==(W[0+k]=p-pk1)&&(cptr[k]=-1,W[w+k]=0),0!==elenk&&(cnz=p)}for(i=0;i<n;i++)cptr[i]=csFlip(cptr[i]);for(j=0;j<=n;j++)W[head+j]=-1;for(j=n;j>=0;j--)W[nv+j]>0||(W[next+j]=W[head+cptr[j]],W[head+cptr[j]]=j);for(e=n;e>=0;e--)W[nv+e]<=0||-1!==cptr[e]&&(W[next+e]=W[head+cptr[e]],W[head+cptr[e]]=e);for(k=0,i=0;i<=n;i++)-1===cptr[i]&&(k=csTdfs(i,k,W,head,next,P,w));return P.splice(P.length-1,1),P};function _wclear(mark,lemax,W,w,n){if(mark<2||mark+lemax<0){for(var k=0;k<n;k++)0!==W[w+k]&&(W[w+k]=1);mark=2}return mark}function _diag(i,j){return i!==j}}));function csLeaf(i,j,w,first,maxfirst,prevleaf,ancestor){var s,sparent,q,jleaf=0;if(i<=j||w[first+j]<=w[maxfirst+i])return-1;w[maxfirst+i]=w[first+j];var jprev=w[prevleaf+i];if(w[prevleaf+i]=j,-1===jprev)jleaf=1,q=i;else{for(jleaf=2,q=jprev;q!==w[ancestor+q];q=w[ancestor+q]);for(s=jprev;s!==q;s=sparent)sparent=w[ancestor+s],w[ancestor+s]=q}return{jleaf:jleaf,q:q}}var csCounts_dependencies=["transpose"],createCsCounts=(0,factory.d5)("csCounts",csCounts_dependencies,(_ref=>{var{transpose:transpose}=_ref;return function(a,parent,post,ata){if(!a||!parent||!post)return null;var i,j,k,J,p,p0,p1,asize=a._size,m=asize[0],n=asize[1],s=4*n+(ata?n+m+1:0),w=[],maxfirst=n,prevleaf=2*n,first=3*n,head=4*n,next=5*n+1;for(k=0;k<s;k++)w[k]=-1;var colcount=[],at=transpose(a),tindex=at._index,tptr=at._ptr;for(k=0;k<n;k++)for(colcount[j=post[k]]=-1===w[first+j]?1:0;-1!==j&&-1===w[first+j];j=parent[j])w[first+j]=k;if(ata){for(k=0;k<n;k++)w[post[k]]=k;for(i=0;i<m;i++){for(k=n,p0=tptr[i],p1=tptr[i+1],p=p0;p<p1;p++)k=Math.min(k,w[tindex[p]]);w[next+i]=w[head+k],w[head+k]=i}}for(i=0;i<n;i++)w[0+i]=i;for(k=0;k<n;k++){for(-1!==parent[j=post[k]]&&colcount[parent[j]]--,J=ata?w[head+k]:j;-1!==J;J=ata?w[next+J]:-1)for(p=tptr[J];p<tptr[J+1];p++){var r=csLeaf(i=tindex[p],j,w,first,maxfirst,prevleaf,0);r.jleaf>=1&&colcount[j]++,2===r.jleaf&&colcount[r.q]--}-1!==parent[j]&&(w[0+j]=parent[j])}for(j=0;j<n;j++)-1!==parent[j]&&(colcount[parent[j]]+=colcount[j]);return colcount}})),csSqr_dependencies=["add","multiply","transpose"],createCsSqr=(0,factory.d5)("csSqr",csSqr_dependencies,(_ref=>{var{add:add,multiply:multiply,transpose:transpose}=_ref,csAmd=createCsAmd({add:add,multiply:multiply,transpose:transpose}),csCounts=createCsCounts({transpose:transpose});return function csSqr(order,a,qr){var k,aptr=a._ptr,n=a._size[1],s={};if(s.q=csAmd(order,a),order&&!s.q)return null;if(qr){var c=order?function csPermute(a,pinv,q,values){for(var avalues=a._values,aindex=a._index,aptr=a._ptr,asize=a._size,adt=a._datatype,m=asize[0],n=asize[1],cvalues=values&&a._values?[]:null,cindex=[],cptr=[],nz=0,k=0;k<n;k++){cptr[k]=nz;for(var j=q?q[k]:k,t0=aptr[j],t1=aptr[j+1],t=t0;t<t1;t++){var r=pinv?pinv[aindex[t]]:aindex[t];cindex[nz]=r,cvalues&&(cvalues[nz]=avalues[t]),nz++}}return cptr[n]=nz,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[m,n],datatype:adt})}(a,null,s.q,0):a;s.parent=function csEtree(a,ata){if(!a)return null;var i,inext,aindex=a._index,aptr=a._ptr,asize=a._size,m=asize[0],n=asize[1],parent=[],w=[],prev=n;if(ata)for(i=0;i<m;i++)w[prev+i]=-1;for(var k=0;k<n;k++){parent[k]=-1,w[0+k]=-1;for(var p0=aptr[k],p1=aptr[k+1],p=p0;p<p1;p++){var r=aindex[p];for(i=ata?w[prev+r]:r;-1!==i&&i<k;i=inext)inext=w[0+i],w[0+i]=k,-1===inext&&(parent[i]=k);ata&&(w[prev+r]=k)}}return parent}(c,1);var post=function csPost(parent,n){if(!parent)return null;var j,k=0,post=[],w=[],next=n,stack=2*n;for(j=0;j<n;j++)w[0+j]=-1;for(j=n-1;j>=0;j--)-1!==parent[j]&&(w[next+j]=w[0+parent[j]],w[0+parent[j]]=j);for(j=0;j<n;j++)-1===parent[j]&&(k=csTdfs(j,k,w,0,next,post,stack));return post}(s.parent,n);if(s.cp=csCounts(c,s.parent,post,1),c&&s.parent&&s.cp&&function _vcount(a,s){var aptr=a._ptr,aindex=a._index,asize=a._size,m=asize[0],n=asize[1];s.pinv=[],s.leftmost=[];var i,k,p,p0,p1,parent=s.parent,pinv=s.pinv,leftmost=s.leftmost,w=[],next=0,head=m,tail=m+n,nque=m+2*n;for(k=0;k<n;k++)w[head+k]=-1,w[tail+k]=-1,w[nque+k]=0;for(i=0;i<m;i++)leftmost[i]=-1;for(k=n-1;k>=0;k--)for(p0=aptr[k],p1=aptr[k+1],p=p0;p<p1;p++)leftmost[aindex[p]]=k;for(i=m-1;i>=0;i--)pinv[i]=-1,-1!==(k=leftmost[i])&&(0==w[nque+k]++&&(w[tail+k]=i),w[next+i]=w[head+k],w[head+k]=i);for(s.lnz=0,s.m2=m,k=0;k<n;k++)if(i=w[head+k],s.lnz++,i<0&&(i=s.m2++),pinv[i]=k,!(--nque[k]<=0)){s.lnz+=w[nque+k];var pa=parent[k];-1!==pa&&(0===w[nque+pa]&&(w[tail+pa]=w[tail+k]),w[next+w[tail+k]]=w[head+pa],w[head+pa]=w[next+i],w[nque+pa]+=w[nque+k])}for(i=0;i<m;i++)pinv[i]<0&&(pinv[i]=k++);return!0}(c,s))for(s.unz=0,k=0;k<n;k++)s.unz+=s.cp[k]}else s.unz=4*aptr[n]+n,s.lnz=s.unz;return s}}));function csMarked(w,j){return w[j]<0}function csMark(w,j){w[j]=csFlip(w[j])}function csUnflip(i){return i<0?csFlip(i):i}function csDfs(j,g,top,xi,pinv){var i,p,p2,index=g._index,ptr=g._ptr,n=g._size[1],head=0;for(xi[0]=j;head>=0;){j=xi[head];var jnew=pinv?pinv[j]:j;csMarked(ptr,j)||(csMark(ptr,j),xi[n+head]=jnew<0?0:csUnflip(ptr[jnew]));var done=1;for(p=xi[n+head],p2=jnew<0?0:csUnflip(ptr[jnew+1]);p<p2;p++)if(!csMarked(ptr,i=index[p])){xi[n+head]=p,xi[++head]=i,done=0;break}done&&(head--,xi[--top]=j)}return top}var csSpsolve_dependencies=["divideScalar","multiply","subtract"],createCsSpsolve=(0,factory.d5)("csSpsolve",csSpsolve_dependencies,(_ref=>{var{divideScalar:divideScalar,multiply:multiply,subtract:subtract}=_ref;return function csSpsolve(g,b,k,xi,x,pinv,lo){var p,p0,p1,q,gvalues=g._values,gindex=g._index,gptr=g._ptr,n=g._size[1],bvalues=b._values,bindex=b._index,bptr=b._ptr,top=function csReach(g,b,k,xi,pinv){var p,p0,p1,gptr=g._ptr,gsize=g._size,bindex=b._index,bptr=b._ptr,n=gsize[1],top=n;for(p0=bptr[k],p1=bptr[k+1],p=p0;p<p1;p++){var i=bindex[p];csMarked(gptr,i)||(top=csDfs(i,g,top,xi,pinv))}for(p=top;p<n;p++)csMark(gptr,xi[p]);return top}(g,b,k,xi,pinv);for(p=top;p<n;p++)x[xi[p]]=0;for(p0=bptr[k],p1=bptr[k+1],p=p0;p<p1;p++)x[bindex[p]]=bvalues[p];for(var px=top;px<n;px++){var j=xi[px],J=pinv?pinv[j]:j;if(!(J<0))for(p0=gptr[J],p1=gptr[J+1],x[j]=divideScalar(x[j],gvalues[lo?p0:p1-1]),p=lo?p0+1:p0,q=lo?p1:p1-1;p<q;p++){var i=gindex[p];x[i]=subtract(x[i],multiply(gvalues[p],x[j]))}}return top}})),csLu_dependencies=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],createCsLu=(0,factory.d5)("csLu",csLu_dependencies,(_ref=>{var{abs:abs,divideScalar:divideScalar,multiply:multiply,subtract:subtract,larger:larger,largerEq:largerEq,SparseMatrix:SparseMatrix}=_ref,csSpsolve=createCsSpsolve({divideScalar:divideScalar,multiply:multiply,subtract:subtract});return function csLu(m,s,tol){if(!m)return null;var q,n=m._size[1],lnz=100,unz=100;s&&(q=s.q,lnz=s.lnz||lnz,unz=s.unz||unz);var i,p,lvalues=[],lindex=[],lptr=[],L=new SparseMatrix({values:lvalues,index:lindex,ptr:lptr,size:[n,n]}),uvalues=[],uindex=[],uptr=[],U=new SparseMatrix({values:uvalues,index:uindex,ptr:uptr,size:[n,n]}),pinv=[],x=[],xi=[];for(i=0;i<n;i++)x[i]=0,pinv[i]=-1,lptr[i+1]=0;lnz=0,unz=0;for(var k=0;k<n;k++){lptr[k]=lnz,uptr[k]=unz;var col=q?q[k]:k,top=csSpsolve(L,m,col,xi,x,pinv,1),ipiv=-1,a=-1;for(p=top;p<n;p++)if(pinv[i=xi[p]]<0){var xabs=abs(x[i]);larger(xabs,a)&&(a=xabs,ipiv=i)}else uindex[unz]=pinv[i],uvalues[unz++]=x[i];if(-1===ipiv||a<=0)return null;pinv[col]<0&&largerEq(abs(x[col]),multiply(a,tol))&&(ipiv=col);var pivot=x[ipiv];for(uindex[unz]=k,uvalues[unz++]=pivot,pinv[ipiv]=k,lindex[lnz]=ipiv,lvalues[lnz++]=1,p=top;p<n;p++)pinv[i=xi[p]]<0&&(lindex[lnz]=i,lvalues[lnz++]=divideScalar(x[i],pivot)),x[i]=0}for(lptr[n]=lnz,uptr[n]=unz,p=0;p<lnz;p++)lindex[p]=pinv[lindex[p]];return lvalues.splice(lnz,lvalues.length-lnz),lindex.splice(lnz,lindex.length-lnz),uvalues.splice(unz,uvalues.length-unz),uindex.splice(unz,uindex.length-unz),{L:L,U:U,pinv:pinv}}})),slu_dependencies=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],createSlu=(0,factory.d5)("slu",slu_dependencies,(_ref=>{var{typed:typed,abs:abs,add:add,multiply:multiply,transpose:transpose,divideScalar:divideScalar,subtract:subtract,larger:larger,largerEq:largerEq,SparseMatrix:SparseMatrix}=_ref,csSqr=createCsSqr({add:add,multiply:multiply,transpose:transpose}),csLu=createCsLu({abs:abs,divideScalar:divideScalar,multiply:multiply,subtract:subtract,larger:larger,largerEq:largerEq,SparseMatrix:SparseMatrix});return typed("slu",{"SparseMatrix, number, number":function SparseMatrixNumberNumber(a,order,threshold){if(!(0,number.U)(order)||order<0||order>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(threshold<0||threshold>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var s=csSqr(order,a,!1),f=csLu(a,s,threshold);return{L:f.L,U:f.U,p:f.pinv,q:s.q,toString:function toString(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/lyap.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createLyap}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","sylvester","multiply","transpose"],createLyap=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("lyap",dependencies,(_ref=>{var{typed:typed,matrix:matrix,sylvester:sylvester,multiply:multiply,transpose:transpose}=_ref;return typed("lyap",{"Matrix, Matrix":function MatrixMatrix(A,Q){return sylvester(A,transpose(A),multiply(-1,Q))},"Array, Matrix":function ArrayMatrix(A,Q){return sylvester(matrix(A),transpose(matrix(A)),multiply(-1,Q))},"Matrix, Array":function MatrixArray(A,Q){return sylvester(A,transpose(matrix(A)),matrix(multiply(-1,Q)))},"Array, Array":function ArrayArray(A,Q){return sylvester(matrix(A),transpose(matrix(A)),matrix(multiply(-1,Q))).toArray()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/polynomialRoot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return createPolynomialRoot}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),name="polynomialRoot",dependencies=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],createPolynomialRoot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,isZero:isZero,equalScalar:equalScalar,add:add,subtract:subtract,multiply:multiply,divide:divide,sqrt:sqrt,unaryMinus:unaryMinus,cbrt:cbrt,typeOf:typeOf,im:im,re:re}=_ref;return typed(name,{"number|Complex, ...number|Complex":(constant,restCoeffs)=>{for(var coeffs=[constant,...restCoeffs];coeffs.length>0&&isZero(coeffs[coeffs.length-1]);)coeffs.pop();if(coeffs.length<2)throw new RangeError("Polynomial [".concat(constant,", ").concat(restCoeffs,"] must have a non-zero non-constant coefficient"));switch(coeffs.length){case 2:return[unaryMinus(divide(coeffs[0],coeffs[1]))];case 3:var[c,b,a]=coeffs,denom=multiply(2,a),d1=multiply(b,b),d2=multiply(4,a,c);if(equalScalar(d1,d2))return[divide(unaryMinus(b),denom)];var discriminant=sqrt(subtract(d1,d2));return[divide(subtract(discriminant,b),denom),divide(subtract(unaryMinus(discriminant),b),denom)];case 4:var[d,_c,_b,_a]=coeffs,_denom=unaryMinus(multiply(3,_a)),D0_1=multiply(_b,_b),D0_2=multiply(3,_a,_c),D1_1=add(multiply(2,_b,_b,_b),multiply(27,_a,_a,d)),D1_2=multiply(9,_a,_b,_c);if(equalScalar(D0_1,D0_2)&&equalScalar(D1_1,D1_2))return[divide(_b,_denom)];var Ccubed,Delta0=subtract(D0_1,D0_2),Delta1=subtract(D1_1,D1_2),discriminant1=add(multiply(18,_a,_b,_c,d),multiply(_b,_b,_c,_c)),discriminant2=add(multiply(4,_b,_b,_b,d),multiply(4,_a,_c,_c,_c),multiply(27,_a,_a,d,d));if(equalScalar(discriminant1,discriminant2))return[divide(subtract(multiply(4,_a,_b,_c),add(multiply(9,_a,_a,d),multiply(_b,_b,_b))),multiply(_a,Delta0)),divide(subtract(multiply(9,_a,d),multiply(_b,_c)),multiply(2,Delta0))];Ccubed=equalScalar(D0_1,D0_2)?Delta1:divide(add(Delta1,sqrt(subtract(multiply(Delta1,Delta1),multiply(4,Delta0,Delta0,Delta0)))),2);return cbrt(Ccubed,!0).toArray().map((C=>divide(add(_b,C,divide(Delta0,C)),_denom))).map((r=>"Complex"===typeOf(r)&&equalScalar(re(r),re(r)+im(r))?re(r):r));default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(coeffs))}}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/lsolve.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createLsolve}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/utils/solveValidation.js"),dependencies=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],createLsolve=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("lsolve",dependencies,(_ref=>{var{typed:typed,matrix:matrix,divideScalar:divideScalar,multiplyScalar:multiplyScalar,subtractScalar:subtractScalar,equalScalar:equalScalar,DenseMatrix:DenseMatrix}=_ref,solveValidation=(0,_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__.v)({DenseMatrix:DenseMatrix});return typed("lsolve",{"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(m,b){return function _sparseForwardSubstitution(m,b){for(var bdata=(b=solveValidation(m,b,!0))._data,rows=m._size[0],columns=m._size[1],values=m._values,index=m._index,ptr=m._ptr,x=[],j=0;j<columns;j++){var bj=bdata[j][0]||0;if(equalScalar(bj,0))x[j]=[0];else{for(var vjj=0,jValues=[],jIndices=[],firstIndex=ptr[j],lastIndex=ptr[j+1],k=firstIndex;k<lastIndex;k++){var i=index[k];i===j?vjj=values[k]:i>j&&(jValues.push(values[k]),jIndices.push(i))}if(equalScalar(vjj,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var xj=divideScalar(bj,vjj),_k=0,l=jIndices.length;_k<l;_k++){var _i=jIndices[_k];bdata[_i]=[subtractScalar(bdata[_i][0]||0,multiplyScalar(xj,jValues[_k]))]}x[j]=[xj]}}return new DenseMatrix({data:x,size:[rows,1]})}(m,b)},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(m,b){return _denseForwardSubstitution(m,b)},"Array, Array | Matrix":function ArrayArrayMatrix(a,b){return _denseForwardSubstitution(matrix(a),b).valueOf()}});function _denseForwardSubstitution(m,b){for(var bdata=(b=solveValidation(m,b,!0))._data,rows=m._size[0],columns=m._size[1],x=[],mdata=m._data,j=0;j<columns;j++){var bj=bdata[j][0]||0,xj=void 0;if(equalScalar(bj,0))xj=0;else{var vjj=mdata[j][j];if(equalScalar(vjj,0))throw new Error("Linear system cannot be solved since matrix is singular");xj=divideScalar(bj,vjj);for(var i=j+1;i<rows;i++)bdata[i]=[subtractScalar(bdata[i][0]||0,multiplyScalar(xj,mdata[i][j]))]}x[j]=[xj]}return new DenseMatrix({data:x,size:[rows,1]})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/lsolveAll.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{S:function(){return createLsolveAll}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/utils/solveValidation.js"),dependencies=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],createLsolveAll=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("lsolveAll",dependencies,(_ref=>{var{typed:typed,matrix:matrix,divideScalar:divideScalar,multiplyScalar:multiplyScalar,subtractScalar:subtractScalar,equalScalar:equalScalar,DenseMatrix:DenseMatrix}=_ref,solveValidation=(0,_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__.v)({DenseMatrix:DenseMatrix});return typed("lsolveAll",{"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(m,b){return function _sparseForwardSubstitution(m,b_){for(var B=[solveValidation(m,b_,!0)._data.map((e=>e[0]))],rows=m._size[0],columns=m._size[1],values=m._values,index=m._index,ptr=m._ptr,i=0;i<columns;i++)for(var L=B.length,k=0;k<L;k++){for(var b=B[k],iValues=[],iIndices=[],firstIndex=ptr[i],lastIndex=ptr[i+1],Mii=0,j=firstIndex;j<lastIndex;j++){var J=index[j];J===i?Mii=values[j]:J>i&&(iValues.push(values[j]),iIndices.push(J))}if(equalScalar(Mii,0))if(equalScalar(b[i],0)){if(0===k){var bNew=[...b];bNew[i]=1;for(var _j3=0,_lastIndex2=iIndices.length;_j3<_lastIndex2;_j3++){var _J2=iIndices[_j3];bNew[_J2]=subtractScalar(bNew[_J2],iValues[_j3])}B.push(bNew)}}else{if(0===k)return[];B.splice(k,1),k-=1,L-=1}else{b[i]=divideScalar(b[i],Mii);for(var _j2=0,_lastIndex=iIndices.length;_j2<_lastIndex;_j2++){var _J=iIndices[_j2];b[_J]=subtractScalar(b[_J],multiplyScalar(b[i],iValues[_j2]))}}}return B.map((x=>new DenseMatrix({data:x.map((e=>[e])),size:[rows,1]})))}(m,b)},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(m,b){return _denseForwardSubstitution(m,b)},"Array, Array | Matrix":function ArrayArrayMatrix(a,b){return _denseForwardSubstitution(matrix(a),b).map((r=>r.valueOf()))}});function _denseForwardSubstitution(m,b_){for(var B=[solveValidation(m,b_,!0)._data.map((e=>e[0]))],M=m._data,rows=m._size[0],columns=m._size[1],i=0;i<columns;i++)for(var L=B.length,k=0;k<L;k++){var b=B[k];if(equalScalar(M[i][i],0))if(equalScalar(b[i],0)){if(0===k){var bNew=[...b];bNew[i]=1;for(var _j=i+1;_j<columns;_j++)bNew[_j]=subtractScalar(bNew[_j],M[_j][i]);B.push(bNew)}}else{if(0===k)return[];B.splice(k,1),k-=1,L-=1}else{b[i]=divideScalar(b[i],M[i][i]);for(var j=i+1;j<columns;j++)b[j]=subtractScalar(b[j],multiplyScalar(b[i],M[j][i]))}}return B.map((x=>new DenseMatrix({data:x.map((e=>[e])),size:[rows,1]})))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/lusolve.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return createLusolve}});var is=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),factory=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),utils_solveValidation=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/utils/solveValidation.js");function csIpvec(p,b){var k,n=b.length,x=[];if(p)for(k=0;k<n;k++)x[p[k]]=b[k];else for(k=0;k<n;k++)x[k]=b[k];return x}var dependencies=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],createLusolve=(0,factory.d5)("lusolve",dependencies,(_ref=>{var{typed:typed,matrix:matrix,lup:lup,slu:slu,usolve:usolve,lsolve:lsolve,DenseMatrix:DenseMatrix}=_ref,solveValidation=(0,utils_solveValidation.v)({DenseMatrix:DenseMatrix});return typed("lusolve",{"Array, Array | Matrix":function ArrayArrayMatrix(a,b){a=matrix(a);var d=lup(a);return _lusolve(d.L,d.U,d.p,null,b).valueOf()},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(a,b){var d=lup(a);return _lusolve(d.L,d.U,d.p,null,b)},"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(a,b){var d=lup(a);return _lusolve(d.L,d.U,d.p,null,b)},"SparseMatrix, Array | Matrix, number, number":function SparseMatrixArrayMatrixNumberNumber(a,b,order,threshold){var d=slu(a,order,threshold);return _lusolve(d.L,d.U,d.p,d.q,b)},"Object, Array | Matrix":function ObjectArrayMatrix(d,b){return _lusolve(d.L,d.U,d.p,d.q,b)}});function _toMatrix(a){if((0,is.SW)(a))return a;if((0,is.kJ)(a))return matrix(a);throw new TypeError("Invalid Matrix LU decomposition")}function _lusolve(l,u,p,q,b){l=_toMatrix(l),u=_toMatrix(u),p&&((b=solveValidation(l,b,!0))._data=csIpvec(p,b._data));var y=lsolve(l,b),x=usolve(u,y);return q&&(x._data=csIpvec(q,x._data)),x}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/usolve.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createUsolve}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/utils/solveValidation.js"),dependencies=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],createUsolve=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("usolve",dependencies,(_ref=>{var{typed:typed,matrix:matrix,divideScalar:divideScalar,multiplyScalar:multiplyScalar,subtractScalar:subtractScalar,equalScalar:equalScalar,DenseMatrix:DenseMatrix}=_ref,solveValidation=(0,_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__.v)({DenseMatrix:DenseMatrix});return typed("usolve",{"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(m,b){return function _sparseBackwardSubstitution(m,b){for(var bdata=(b=solveValidation(m,b,!0))._data,rows=m._size[0],columns=m._size[1],values=m._values,index=m._index,ptr=m._ptr,x=[],j=columns-1;j>=0;j--){var bj=bdata[j][0]||0;if(equalScalar(bj,0))x[j]=[0];else{for(var vjj=0,jValues=[],jIndices=[],firstIndex=ptr[j],k=ptr[j+1]-1;k>=firstIndex;k--){var i=index[k];i===j?vjj=values[k]:i<j&&(jValues.push(values[k]),jIndices.push(i))}if(equalScalar(vjj,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var xj=divideScalar(bj,vjj),_k=0,_lastIndex=jIndices.length;_k<_lastIndex;_k++){var _i=jIndices[_k];bdata[_i]=[subtractScalar(bdata[_i][0],multiplyScalar(xj,jValues[_k]))]}x[j]=[xj]}}return new DenseMatrix({data:x,size:[rows,1]})}(m,b)},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(m,b){return _denseBackwardSubstitution(m,b)},"Array, Array | Matrix":function ArrayArrayMatrix(a,b){return _denseBackwardSubstitution(matrix(a),b).valueOf()}});function _denseBackwardSubstitution(m,b){for(var bdata=(b=solveValidation(m,b,!0))._data,rows=m._size[0],columns=m._size[1],x=[],mdata=m._data,j=columns-1;j>=0;j--){var bj=bdata[j][0]||0,xj=void 0;if(equalScalar(bj,0))xj=0;else{var vjj=mdata[j][j];if(equalScalar(vjj,0))throw new Error("Linear system cannot be solved since matrix is singular");xj=divideScalar(bj,vjj);for(var i=j-1;i>=0;i--)bdata[i]=[subtractScalar(bdata[i][0]||0,multiplyScalar(xj,mdata[i][j]))]}x[j]=[xj]}return new DenseMatrix({data:x,size:[rows,1]})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/usolveAll.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return createUsolveAll}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/utils/solveValidation.js"),dependencies=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],createUsolveAll=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("usolveAll",dependencies,(_ref=>{var{typed:typed,matrix:matrix,divideScalar:divideScalar,multiplyScalar:multiplyScalar,subtractScalar:subtractScalar,equalScalar:equalScalar,DenseMatrix:DenseMatrix}=_ref,solveValidation=(0,_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__.v)({DenseMatrix:DenseMatrix});return typed("usolveAll",{"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(m,b){return function _sparseBackwardSubstitution(m,b_){for(var B=[solveValidation(m,b_,!0)._data.map((e=>e[0]))],rows=m._size[0],columns=m._size[1],values=m._values,index=m._index,ptr=m._ptr,i=columns-1;i>=0;i--)for(var L=B.length,k=0;k<L;k++){for(var b=B[k],iValues=[],iIndices=[],firstIndex=ptr[i],Mii=0,j=ptr[i+1]-1;j>=firstIndex;j--){var J=index[j];J===i?Mii=values[j]:J<i&&(iValues.push(values[j]),iIndices.push(J))}if(equalScalar(Mii,0))if(equalScalar(b[i],0)){if(0===k){var bNew=[...b];bNew[i]=1;for(var _j3=0,_lastIndex2=iIndices.length;_j3<_lastIndex2;_j3++){var _J2=iIndices[_j3];bNew[_J2]=subtractScalar(bNew[_J2],iValues[_j3])}B.push(bNew)}}else{if(0===k)return[];B.splice(k,1),k-=1,L-=1}else{b[i]=divideScalar(b[i],Mii);for(var _j2=0,_lastIndex=iIndices.length;_j2<_lastIndex;_j2++){var _J=iIndices[_j2];b[_J]=subtractScalar(b[_J],multiplyScalar(b[i],iValues[_j2]))}}}return B.map((x=>new DenseMatrix({data:x.map((e=>[e])),size:[rows,1]})))}(m,b)},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(m,b){return _denseBackwardSubstitution(m,b)},"Array, Array | Matrix":function ArrayArrayMatrix(a,b){return _denseBackwardSubstitution(matrix(a),b).map((r=>r.valueOf()))}});function _denseBackwardSubstitution(m,b_){for(var B=[solveValidation(m,b_,!0)._data.map((e=>e[0]))],M=m._data,rows=m._size[0],i=m._size[1]-1;i>=0;i--)for(var L=B.length,k=0;k<L;k++){var b=B[k];if(equalScalar(M[i][i],0))if(equalScalar(b[i],0)){if(0===k){var bNew=[...b];bNew[i]=1;for(var _j=i-1;_j>=0;_j--)bNew[_j]=subtractScalar(bNew[_j],M[_j][i]);B.push(bNew)}}else{if(0===k)return[];B.splice(k,1),k-=1,L-=1}else{b[i]=divideScalar(b[i],M[i][i]);for(var j=i-1;j>=0;j--)b[j]=subtractScalar(b[j],multiplyScalar(b[i],M[j][i]))}}return B.map((x=>new DenseMatrix({data:x.map((e=>[e])),size:[rows,1]})))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/solver/utils/solveValidation.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createSolveValidation}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js");function createSolveValidation(_ref){var{DenseMatrix:DenseMatrix}=_ref;return function solveValidation(m,b,copy){var mSize=m.size();if(2!==mSize.length)throw new RangeError("Matrix must be two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_0__.WU)(mSize)+")");var rows=mSize[0];if(rows!==mSize[1])throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_0__.WU)(mSize)+")");var data=[];if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(b)){var bSize=b.size(),bdata=b._data;if(1===bSize.length){if(bSize[0]!==rows)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var i=0;i<rows;i++)data[i]=[bdata[i]];return new DenseMatrix({data:data,size:[rows,1],datatype:b._datatype})}if(2===bSize.length){if(bSize[0]!==rows||1!==bSize[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.jH)(b)){if(copy){data=[];for(var _i=0;_i<rows;_i++)data[_i]=[bdata[_i][0]];return new DenseMatrix({data:data,size:[rows,1],datatype:b._datatype})}return b}if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.sA)(b)){for(var _i2=0;_i2<rows;_i2++)data[_i2]=[0];for(var values=b._values,index=b._index,ptr=b._ptr,k1=ptr[1],k=ptr[0];k<k1;k++){data[index[k]][0]=values[k]}return new DenseMatrix({data:data,size:[rows,1],datatype:b._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(b)){var bsize=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.aJ)(b);if(1===bsize.length){if(bsize[0]!==rows)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _i4=0;_i4<rows;_i4++)data[_i4]=[b[_i4]];return new DenseMatrix({data:data,size:[rows,1]})}if(2===bsize.length){if(bsize[0]!==rows||1!==bsize[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _i5=0;_i5<rows;_i5++)data[_i5]=[b[_i5][0]];return new DenseMatrix({data:data,size:[rows,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/algebra/sylvester.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createSylvester}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],createSylvester=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sylvester",dependencies,(_ref=>{var{typed:typed,schur:schur,matrixFromColumns:matrixFromColumns,matrix:matrix,multiply:multiply,range:range,concat:concat,transpose:transpose,index:index,subset:subset,add:add,subtract:subtract,identity:identity,lusolve:lusolve,abs:abs}=_ref;return typed("sylvester",{"Matrix, Matrix, Matrix":_sylvester,"Array, Matrix, Matrix":function ArrayMatrixMatrix(A,B,C){return _sylvester(matrix(A),B,C)},"Array, Array, Matrix":function ArrayArrayMatrix(A,B,C){return _sylvester(matrix(A),matrix(B),C)},"Array, Matrix, Array":function ArrayMatrixArray(A,B,C){return _sylvester(matrix(A),B,matrix(C))},"Matrix, Array, Matrix":function MatrixArrayMatrix(A,B,C){return _sylvester(A,matrix(B),C)},"Matrix, Array, Array":function MatrixArrayArray(A,B,C){return _sylvester(A,matrix(B),matrix(C))},"Matrix, Matrix, Array":function MatrixMatrixArray(A,B,C){return _sylvester(A,B,matrix(C))},"Array, Array, Array":function ArrayArrayArray(A,B,C){return _sylvester(matrix(A),matrix(B),matrix(C)).toArray()}});function _sylvester(A,B,C){for(var n=B.size()[0],m=A.size()[0],sA=schur(A),F=sA.T,U=sA.U,sB=schur(multiply(-1,B)),G=sB.T,V=sB.U,D=multiply(multiply(transpose(U),C),V),all=range(0,m),y=[],hc=(a,b)=>concat(a,b,1),vc=(a,b)=>concat(a,b,0),k=0;k<n;k++)if(k<n-1&&abs(subset(G,index(k+1,k)))>1e-5){for(var RHS=vc(subset(D,index(all,k)),subset(D,index(all,k+1))),j=0;j<k;j++)RHS=add(RHS,vc(multiply(y[j],subset(G,index(j,k))),multiply(y[j],subset(G,index(j,k+1)))));var gkk=multiply(identity(m),multiply(-1,subset(G,index(k,k)))),gmk=multiply(identity(m),multiply(-1,subset(G,index(k+1,k)))),gkm=multiply(identity(m),multiply(-1,subset(G,index(k,k+1)))),gmm=multiply(identity(m),multiply(-1,subset(G,index(k+1,k+1)))),LHS=vc(hc(add(F,gkk),gmk),hc(gkm,add(F,gmm))),yAux=lusolve(LHS,RHS);y[k]=yAux.subset(index(range(0,m),0)),y[k+1]=yAux.subset(index(range(m,2*m),0)),k++}else{for(var _RHS=subset(D,index(all,k)),_j=0;_j<k;_j++)_RHS=add(_RHS,multiply(y[_j],subset(G,index(_j,k))));var _gkk=subset(G,index(k,k)),_LHS=subtract(F,multiply(_gkk,identity(m)));y[k]=lusolve(_LHS,_RHS)}var Y=matrix(matrixFromColumns(...y));return multiply(U,multiply(Y,transpose(V)))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/abs.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return createAbs}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createAbs=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("abs",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("abs",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Q1,"Complex | BigNumber | Fraction | Unit":x=>x.abs(),"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self,!0)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/add.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:function(){return createAdd}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo01xDSid.js"),_type_matrix_utils_matAlgo04xSidSid_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo04xSidSid.js"),_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo10xSids.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),dependencies=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],createAdd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("add",dependencies,(_ref=>{var{typed:typed,matrix:matrix,addScalar:addScalar,equalScalar:equalScalar,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix,concat:concat}=_ref,matAlgo01xDSid=(0,_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__.M)({typed:typed}),matAlgo04xSidSid=(0,_type_matrix_utils_matAlgo04xSidSid_js__WEBPACK_IMPORTED_MODULE_2__.v)({typed:typed,equalScalar:equalScalar}),matAlgo10xSids=(0,_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_3__.H)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat});return typed("add",{"any, any":addScalar,"any, any, ...any":typed.referToSelf((self=>(x,y,rest)=>{for(var result=self(x,y),i=0;i<rest.length;i++)result=self(result,rest[i]);return result}))},matrixAlgorithmSuite({elop:addScalar,DS:matAlgo01xDSid,SS:matAlgo04xSidSid,Ss:matAlgo10xSids}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/addScalar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return createAddScalar}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createAddScalar=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("addScalar",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("addScalar",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Ft,"Complex, Complex":function ComplexComplex(x,y){return x.add(y)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.plus(y)},"Fraction, Fraction":function FractionFraction(x,y){return x.add(y)},"Unit, Unit":typed.referToSelf((self=>(x,y)=>{if(null===x.value||void 0===x.value)throw new Error("Parameter x contains a unit with undefined value");if(null===y.value||void 0===y.value)throw new Error("Parameter y contains a unit with undefined value");if(!x.equalBase(y))throw new Error("Units do not match");var res=x.clone();return res.value=typed.find(self,[res.valueType(),y.valueType()])(res.value,y.value),res.fixPrefix=!1,res}))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/cbrt.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{S:function(){return createCbrt}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],createCbrt=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("cbrt",dependencies,(_ref=>{var{config:config,typed:typed,isNegative:isNegative,unaryMinus:unaryMinus,matrix:matrix,Complex:Complex,BigNumber:BigNumber,Fraction:Fraction}=_ref;return typed("cbrt",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.ih,Complex:_cbrtComplex,"Complex, boolean":_cbrtComplex,BigNumber:function BigNumber(x){return x.cbrt()},Unit:function _cbrtUnit(x){if(x.value&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Mc)(x.value)){var result=x.clone();return result.value=1,(result=result.pow(1/3)).value=_cbrtComplex(x.value),result}var third,negate=isNegative(x.value);negate&&(x.value=unaryMinus(x.value)),third=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9)(x.value)?new BigNumber(1).div(3):(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.yQ)(x.value)?new Fraction(1,3):1/3;var _result=x.pow(third);return negate&&(_result.value=unaryMinus(_result.value)),_result}});function _cbrtComplex(x,allRoots){var arg3=x.arg()/3,abs=x.abs(),principal=new Complex((0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.ih)(abs),0).mul(new Complex(0,arg3).exp());if(allRoots){var all=[principal,new Complex((0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.ih)(abs),0).mul(new Complex(0,arg3+2*Math.PI/3).exp()),new Complex((0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.ih)(abs),0).mul(new Complex(0,arg3-2*Math.PI/3).exp())];return"Array"===config.matrix?all:matrix(all)}return principal}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/ceil.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return createCeil}});var decimal_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/decimal.js/decimal.mjs"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo14xDs.js"),dependencies=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],createCeilNumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)("ceil",["typed","config","round"],(_ref=>{var{typed:typed,config:config,round:round}=_ref;return typed("ceil",{number:function number(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.RI)(x,round(x),config.epsilon)?round(x):Math.ceil(x)},"number, number":function numberNumber(x,n){if((0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.RI)(x,round(x,n),config.epsilon))return round(x,n);var[number,exponent]="".concat(x,"e").split("e"),result=Math.ceil(Number("".concat(number,"e").concat(Number(exponent)+n)));return[number,exponent]="".concat(result,"e").split("e"),Number("".concat(number,"e").concat(Number(exponent)-n))}})})),createCeil=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)("ceil",dependencies,(_ref2=>{var{typed:typed,config:config,round:round,matrix:matrix,equalScalar:equalScalar,zeros:zeros,DenseMatrix:DenseMatrix}=_ref2,matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__.e)({typed:typed,equalScalar:equalScalar}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_4__.O)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo14xDs=(0,_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_5__.R)({typed:typed}),ceilNumber=createCeilNumber({typed:typed,config:config,round:round});return typed("ceil",{number:ceilNumber.signatures.number,"number,number":ceilNumber.signatures["number,number"],Complex:function Complex(x){return x.ceil()},"Complex, number":function ComplexNumber(x,n){return x.ceil(n)},"Complex, BigNumber":function ComplexBigNumber(x,n){return x.ceil(n.toNumber())},BigNumber:function BigNumber(x){return(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,round(x),config.epsilon)?round(x):x.ceil()},"BigNumber, BigNumber":function BigNumberBigNumber(x,n){return(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,round(x,n),config.epsilon)?round(x,n):x.toDecimalPlaces(n.toNumber(),decimal_js__WEBPACK_IMPORTED_MODULE_0__.Z.ROUND_CEIL)},Fraction:function Fraction(x){return x.ceil()},"Fraction, number":function FractionNumber(x,n){return x.ceil(n)},"Fraction, BigNumber":function FractionBigNumber(x,n){return x.ceil(n.toNumber())},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_7__.Fh)(x,self,!0))),"Array, number | BigNumber":typed.referToSelf((self=>(x,n)=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_7__.Fh)(x,(i=>self(i,n)),!0))),"SparseMatrix, number | BigNumber":typed.referToSelf((self=>(x,y)=>matAlgo11xS0s(x,y,self,!1))),"DenseMatrix, number | BigNumber":typed.referToSelf((self=>(x,y)=>matAlgo14xDs(x,y,self,!1))),"number | Complex | Fraction | BigNumber, Array":typed.referToSelf((self=>(x,y)=>matAlgo14xDs(matrix(y),x,self,!0).valueOf())),"number | Complex | Fraction | BigNumber, Matrix":typed.referToSelf((self=>(x,y)=>equalScalar(x,0)?zeros(y.size(),y.storage()):"dense"===y.storage()?matAlgo14xDs(y,x,self,!0):matAlgo12xSfs(y,x,self,!0)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/cube.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return createCube}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createCube=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("cube",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("cube",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Dv,Complex:function Complex(x){return x.mul(x).mul(x)},BigNumber:function BigNumber(x){return x.times(x).times(x)},Fraction:function Fraction(x){return x.pow(3)},Unit:function Unit(x){return x.pow(3)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/divide.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return createDivide}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo14xDs.js"),dependencies=["typed","matrix","multiply","equalScalar","divideScalar","inv"],createDivide=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("divide",dependencies,(_ref=>{var{typed:typed,matrix:matrix,multiply:multiply,equalScalar:equalScalar,divideScalar:divideScalar,inv:inv}=_ref,matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_1__.e)({typed:typed,equalScalar:equalScalar}),matAlgo14xDs=(0,_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_2__.R)({typed:typed});return typed("divide",(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.l7)({"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(x,y){return multiply(x,inv(y))},"DenseMatrix, any":function DenseMatrixAny(x,y){return matAlgo14xDs(x,y,divideScalar,!1)},"SparseMatrix, any":function SparseMatrixAny(x,y){return matAlgo11xS0s(x,y,divideScalar,!1)},"Array, any":function ArrayAny(x,y){return matAlgo14xDs(matrix(x),y,divideScalar,!1).valueOf()},"any, Array | Matrix":function anyArrayMatrix(x,y){return multiply(x,inv(y))}},divideScalar.signatures))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/divideScalar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{L:function(){return createDivideScalar}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","numeric"],createDivideScalar=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("divideScalar",dependencies,(_ref=>{var{typed:typed,numeric:numeric}=_ref;return typed("divideScalar",{"number, number":function numberNumber(x,y){return x/y},"Complex, Complex":function ComplexComplex(x,y){return x.div(y)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.div(y)},"Fraction, Fraction":function FractionFraction(x,y){return x.div(y)},"Unit, number | Complex | Fraction | BigNumber | Unit":(x,y)=>x.divide(y),"number | Fraction | Complex | BigNumber, Unit":(x,y)=>y.divideInto(x)})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/dotDivide.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return createDotDivide}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo02xDS0.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo07xSSf.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),dependencies=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],createDotDivide=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("dotDivide",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,divideScalar:divideScalar,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo02xDS0=(0,_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_1__.v)({typed:typed,equalScalar:equalScalar}),matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_2__.$)({typed:typed}),matAlgo07xSSf=(0,_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_3__.G)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_4__.e)({typed:typed,equalScalar:equalScalar}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_5__.O)({typed:typed,DenseMatrix:DenseMatrix});return typed("dotDivide",(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_6__.L)({typed:typed,matrix:matrix,concat:concat})({elop:divideScalar,SS:matAlgo07xSSf,DS:matAlgo03xDSf,SD:matAlgo02xDS0,Ss:matAlgo11xS0s,sS:matAlgo12xSfs}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/dotMultiply.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:function(){return createDotMultiply}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo02xDS0.js"),_type_matrix_utils_matAlgo09xS0Sf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo09xS0Sf.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),dependencies=["typed","matrix","equalScalar","multiplyScalar","concat"],createDotMultiply=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("dotMultiply",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,multiplyScalar:multiplyScalar,concat:concat}=_ref,matAlgo02xDS0=(0,_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_1__.v)({typed:typed,equalScalar:equalScalar}),matAlgo09xS0Sf=(0,_type_matrix_utils_matAlgo09xS0Sf_js__WEBPACK_IMPORTED_MODULE_2__.r)({typed:typed,equalScalar:equalScalar}),matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__.e)({typed:typed,equalScalar:equalScalar});return typed("dotMultiply",(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat})({elop:multiplyScalar,SS:matAlgo09xS0Sf,DS:matAlgo02xDS0,Ss:matAlgo11xS0s}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/dotPow.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createDotPow}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo07xSSf.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),dependencies=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],createDotPow=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("dotPow",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar,matrix:matrix,pow:pow,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__.$)({typed:typed}),matAlgo07xSSf=(0,_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__.G)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__.e)({typed:typed,equalScalar:equalScalar}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_4__.O)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_5__.L)({typed:typed,matrix:matrix,concat:concat}),powScalarSignatures={};for(var signature in pow.signatures)Object.prototype.hasOwnProperty.call(pow.signatures,signature)&&(signature.includes("Matrix")||signature.includes("Array")||(powScalarSignatures[signature]=pow.signatures[signature]));var powScalar=typed(powScalarSignatures);return typed("dotPow",matrixAlgorithmSuite({elop:powScalar,SS:matAlgo07xSSf,DS:matAlgo03xDSf,Ss:matAlgo11xS0s,sS:matAlgo12xSfs}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/exp.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:function(){return createExp}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createExp=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("exp",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("exp",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.qX,Complex:function Complex(x){return x.exp()},BigNumber:function BigNumber(x){return x.exp()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/expm1.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{j:function(){return createExpm1}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","Complex"],createExpm1=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("expm1",dependencies,(_ref=>{var{typed:typed,Complex:_Complex}=_ref;return typed("expm1",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.B,Complex:function Complex(x){var r=Math.exp(x.re);return new _Complex(r*Math.cos(x.im)-1,r*Math.sin(x.im))},BigNumber:function BigNumber(x){return x.exp().minus(1)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/fix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return createFix}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo14xDs.js"),dependencies=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],createFixNumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("fix",["typed","ceil","floor"],(_ref=>{var{typed:typed,ceil:ceil,floor:floor}=_ref;return typed("fix",{number:function number(x){return x>0?floor(x):ceil(x)},"number, number":function numberNumber(x,n){return x>0?floor(x,n):ceil(x,n)}})})),createFix=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("fix",dependencies,(_ref2=>{var{typed:typed,Complex:_Complex,matrix:matrix,ceil:ceil,floor:floor,equalScalar:equalScalar,zeros:zeros,DenseMatrix:DenseMatrix}=_ref2,matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_1__.O)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo14xDs=(0,_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_2__.R)({typed:typed}),fixNumber=createFixNumber({typed:typed,ceil:ceil,floor:floor});return typed("fix",{number:fixNumber.signatures.number,"number, number | BigNumber":fixNumber.signatures["number,number"],Complex:function Complex(x){return new _Complex(x.re>0?Math.floor(x.re):Math.ceil(x.re),x.im>0?Math.floor(x.im):Math.ceil(x.im))},"Complex, number":function ComplexNumber(x,n){return new _Complex(x.re>0?floor(x.re,n):ceil(x.re,n),x.im>0?floor(x.im,n):ceil(x.im,n))},"Complex, BigNumber":function ComplexBigNumber(x,bn){var n=bn.toNumber();return new _Complex(x.re>0?floor(x.re,n):ceil(x.re,n),x.im>0?floor(x.im,n):ceil(x.im,n))},BigNumber:function BigNumber(x){return x.isNegative()?ceil(x):floor(x)},"BigNumber, number | BigNumber":function BigNumberNumberBigNumber(x,n){return x.isNegative()?ceil(x,n):floor(x,n)},Fraction:function Fraction(x){return x.s<0?x.ceil():x.floor()},"Fraction, number | BigNumber":function FractionNumberBigNumber(x,n){return x.s<0?ceil(x,n):floor(x,n)},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_3__.Fh)(x,self,!0))),"Array | Matrix, number | BigNumber":typed.referToSelf((self=>(x,n)=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_3__.Fh)(x,(i=>self(i,n)),!0))),"number | Complex | Fraction | BigNumber, Array":typed.referToSelf((self=>(x,y)=>matAlgo14xDs(matrix(y),x,self,!0).valueOf())),"number | Complex | Fraction | BigNumber, Matrix":typed.referToSelf((self=>(x,y)=>equalScalar(x,0)?zeros(y.size(),y.storage()):"dense"===y.storage()?matAlgo14xDs(y,x,self,!0):matAlgo12xSfs(y,x,self,!0)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/floor.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createFloor}});var decimal_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/decimal.js/decimal.mjs"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo14xDs.js"),dependencies=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],createFloorNumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)("floor",["typed","config","round"],(_ref=>{var{typed:typed,config:config,round:round}=_ref;return typed("floor",{number:function number(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.RI)(x,round(x),config.epsilon)?round(x):Math.floor(x)},"number, number":function numberNumber(x,n){if((0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.RI)(x,round(x,n),config.epsilon))return round(x,n);var[number,exponent]="".concat(x,"e").split("e"),result=Math.floor(Number("".concat(number,"e").concat(Number(exponent)+n)));return[number,exponent]="".concat(result,"e").split("e"),Number("".concat(number,"e").concat(Number(exponent)-n))}})})),createFloor=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)("floor",dependencies,(_ref2=>{var{typed:typed,config:config,round:round,matrix:matrix,equalScalar:equalScalar,zeros:zeros,DenseMatrix:DenseMatrix}=_ref2,matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__.e)({typed:typed,equalScalar:equalScalar}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_4__.O)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo14xDs=(0,_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_5__.R)({typed:typed}),floorNumber=createFloorNumber({typed:typed,config:config,round:round});return typed("floor",{number:floorNumber.signatures.number,"number,number":floorNumber.signatures["number,number"],Complex:function Complex(x){return x.floor()},"Complex, number":function ComplexNumber(x,n){return x.floor(n)},"Complex, BigNumber":function ComplexBigNumber(x,n){return x.floor(n.toNumber())},BigNumber:function BigNumber(x){return(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,round(x),config.epsilon)?round(x):x.floor()},"BigNumber, BigNumber":function BigNumberBigNumber(x,n){return(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,round(x,n),config.epsilon)?round(x,n):x.toDecimalPlaces(n.toNumber(),decimal_js__WEBPACK_IMPORTED_MODULE_0__.Z.ROUND_FLOOR)},Fraction:function Fraction(x){return x.floor()},"Fraction, number":function FractionNumber(x,n){return x.floor(n)},"Fraction, BigNumber":function FractionBigNumber(x,n){return x.floor(n.toNumber())},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_7__.Fh)(x,self,!0))),"Array, number | BigNumber":typed.referToSelf((self=>(x,n)=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_7__.Fh)(x,(i=>self(i,n)),!0))),"SparseMatrix, number | BigNumber":typed.referToSelf((self=>(x,y)=>matAlgo11xS0s(x,y,self,!1))),"DenseMatrix, number | BigNumber":typed.referToSelf((self=>(x,y)=>matAlgo14xDs(x,y,self,!1))),"number | Complex | Fraction | BigNumber, Array":typed.referToSelf((self=>(x,y)=>matAlgo14xDs(matrix(y),x,self,!0).valueOf())),"number | Complex | Fraction | BigNumber, Matrix":typed.referToSelf((self=>(x,y)=>equalScalar(x,0)?zeros(y.size(),y.storage()):"dense"===y.storage()?matAlgo14xDs(y,x,self,!0):matAlgo12xSfs(y,x,self,!0)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/gcd.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{f:function(){return createGcd}});var _utils_number_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_mod_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/mod.js"),_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo01xDSid.js"),_type_matrix_utils_matAlgo04xSidSid_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo04xSidSid.js"),_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo10xSids.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_error_ArgumentsError_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/ArgumentsError.js"),dependencies=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],gcdTypes="number | BigNumber | Fraction | Matrix | Array",gcdManyTypesSignature="".concat(gcdTypes,", ").concat(gcdTypes,", ...").concat(gcdTypes);function is1d(array){return!array.some((element=>Array.isArray(element)))}var createGcd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("gcd",dependencies,(_ref=>{var{typed:typed,matrix:matrix,config:config,round:round,equalScalar:equalScalar,zeros:zeros,BigNumber:BigNumber,DenseMatrix:DenseMatrix,concat:concat}=_ref,mod=(0,_mod_js__WEBPACK_IMPORTED_MODULE_1__.J)({typed:typed,config:config,round:round,matrix:matrix,equalScalar:equalScalar,zeros:zeros,DenseMatrix:DenseMatrix,concat:concat}),matAlgo01xDSid=(0,_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_2__.M)({typed:typed}),matAlgo04xSidSid=(0,_type_matrix_utils_matAlgo04xSidSid_js__WEBPACK_IMPORTED_MODULE_3__.v)({typed:typed,equalScalar:equalScalar}),matAlgo10xSids=(0,_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_4__.H)({typed:typed,DenseMatrix:DenseMatrix});return typed("gcd",{"number, number":function _gcdNumber(a,b){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.U)(a)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.U)(b))throw new Error("Parameters in function gcd must be integer numbers");var r;for(;0!==b;)r=mod(a,b),a=b,b=r;return a<0?-a:a},"BigNumber, BigNumber":function _gcdBigNumber(a,b){if(!a.isInt()||!b.isInt())throw new Error("Parameters in function gcd must be integer numbers");var zero=new BigNumber(0);for(;!b.isZero();){var r=mod(a,b);a=b,b=r}return a.lt(zero)?a.neg():a},"Fraction, Fraction":(x,y)=>x.gcd(y)},(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_5__.L)({typed:typed,matrix:matrix,concat:concat})({SS:matAlgo04xSidSid,DS:matAlgo01xDSid,Ss:matAlgo10xSids}),{[gcdManyTypesSignature]:typed.referToSelf((self=>(a,b,args)=>{for(var res=self(a,b),i=0;i<args.length;i++)res=self(res,args[i]);return res})),Array:typed.referToSelf((self=>array=>{if(1===array.length&&Array.isArray(array[0])&&is1d(array[0]))return self(...array[0]);if(is1d(array))return self(...array);throw new _error_ArgumentsError_js__WEBPACK_IMPORTED_MODULE_6__.u("gcd() supports only 1d matrices!")})),Matrix:typed.referToSelf((self=>matrix=>self(matrix.toArray())))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/hypot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{n:function(){return createHypot}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],createHypot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("hypot",dependencies,(_ref=>{var{typed:typed,abs:abs,addScalar:addScalar,divideScalar:divideScalar,multiplyScalar:multiplyScalar,sqrt:sqrt,smaller:smaller,isPositive:isPositive}=_ref;return typed("hypot",{"... number | BigNumber":_hypot,Array:_hypot,Matrix:M=>_hypot((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(M.toArray()))});function _hypot(args){for(var result=0,largest=0,i=0;i<args.length;i++){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Mc)(args[i]))throw new TypeError("Unexpected type of argument to hypot");var value=abs(args[i]);smaller(largest,value)?(result=multiplyScalar(result,multiplyScalar(divideScalar(largest,value),divideScalar(largest,value))),result=addScalar(result,1),largest=value):result=addScalar(result,isPositive(value)?multiplyScalar(divideScalar(value,largest),divideScalar(value,largest)):value)}return multiplyScalar(largest,sqrt(result))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/invmod.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{W:function(){return createInvmod}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],createInvmod=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("invmod",dependencies,(_ref=>{var{typed:typed,config:config,BigNumber:BigNumber,xgcd:xgcd,equal:equal,smaller:smaller,mod:mod,add:add,isInteger:isInteger}=_ref;return typed("invmod",{"number, number":invmod,"BigNumber, BigNumber":invmod});function invmod(a,b){if(!isInteger(a)||!isInteger(b))throw new Error("Parameters in function invmod must be integer numbers");if(a=mod(a,b),equal(b,0))throw new Error("Divisor must be non zero");var res=xgcd(a,b);res=res.valueOf();var[gcd,inv]=res;return equal(gcd,BigNumber(1))?(inv=mod(inv,b),smaller(inv,BigNumber(0))&&(inv=add(inv,b)),inv):NaN}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/lcm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return createLcm}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo02xDS0.js"),_type_matrix_utils_matAlgo06xS0S0_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo06xS0S0.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","matrix","equalScalar","concat"],createLcm=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("lcm",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,concat:concat}=_ref,matAlgo02xDS0=(0,_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_1__.v)({typed:typed,equalScalar:equalScalar}),matAlgo06xS0S0=(0,_type_matrix_utils_matAlgo06xS0S0_js__WEBPACK_IMPORTED_MODULE_2__.X)({typed:typed,equalScalar:equalScalar}),matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__.e)({typed:typed,equalScalar:equalScalar}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat}),lcmTypes="number | BigNumber | Fraction | Matrix | Array",lcmManySignature={};return lcmManySignature["".concat(lcmTypes,", ").concat(lcmTypes,", ...").concat(lcmTypes)]=typed.referToSelf((self=>(a,b,args)=>{for(var res=self(a,b),i=0;i<args.length;i++)res=self(res,args[i]);return res})),typed("lcm",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__.K4,"BigNumber, BigNumber":function _lcmBigNumber(a,b){if(!a.isInt()||!b.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(a.isZero())return a;if(b.isZero())return b;var prod=a.times(b);for(;!b.isZero();){var t=b;b=a.mod(t),a=t}return prod.div(a).abs()},"Fraction, Fraction":(x,y)=>x.lcm(y)},matrixAlgorithmSuite({SS:matAlgo06xS0S0,DS:matAlgo02xDS0,Ss:matAlgo11xS0s}),lcmManySignature)}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/log.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createLog}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["config","typed","divideScalar","Complex"],createLog=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("log",dependencies,(_ref=>{var{typed:typed,config:config,divideScalar:divideScalar,Complex:Complex}=_ref;return typed("log",{number:function number(x){return x>=0||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.OS)(x):new Complex(x,0).log()},Complex:function Complex(x){return x.log()},BigNumber:function BigNumber(x){return!x.isNegative()||config.predictable?x.ln():new Complex(x.toNumber(),0).log()},"any, any":typed.referToSelf((self=>(x,base)=>divideScalar(self(x),self(base))))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/log10.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return createLog10}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","config","Complex"],createLog10=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("log10",dependencies,(_ref=>{var{typed:typed,config:config,Complex:_Complex}=_ref;return typed("log10",{number:function number(x){return x>=0||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.vU)(x):new _Complex(x,0).log().div(Math.LN10)},Complex:function Complex(x){return new _Complex(x).log().div(Math.LN10)},BigNumber:function BigNumber(x){return!x.isNegative()||config.predictable?x.log():new _Complex(x.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/log1p.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return createLog1p}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["typed","config","divideScalar","log","Complex"],createLog1p=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("log1p",dependencies,(_ref=>{var{typed:typed,config:config,divideScalar:divideScalar,log:log,Complex:Complex}=_ref;return typed("log1p",{number:function number(x){return x>=-1||config.predictable?(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.Kr)(x):_log1pComplex(new Complex(x,0))},Complex:_log1pComplex,BigNumber:function BigNumber(x){var y=x.plus(1);return!y.isNegative()||config.predictable?y.ln():_log1pComplex(new Complex(x.toNumber(),0))},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self))),"any, any":typed.referToSelf((self=>(x,base)=>divideScalar(self(x),log(base))))});function _log1pComplex(x){var xRe1p=x.re+1;return new Complex(Math.log(Math.sqrt(xRe1p*xRe1p+x.im*x.im)),Math.atan2(x.im,xRe1p))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/log2.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return createLog2}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","config","Complex"],createLog2=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("log2",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex}=_ref;return typed("log2",{number:function number(x){return x>=0||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.iO)(x):_log2Complex(new Complex(x,0))},Complex:_log2Complex,BigNumber:function BigNumber(x){return!x.isNegative()||config.predictable?x.log(2):_log2Complex(new Complex(x.toNumber(),0))},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self)))});function _log2Complex(x){var newX=Math.sqrt(x.re*x.re+x.im*x.im);return new Complex(Math.log2?Math.log2(newX):Math.log(newX)/Math.LN2,Math.atan2(x.im,x.re)/Math.LN2)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/mod.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J:function(){return createMod}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_floor_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/floor.js"),_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo02xDS0.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo05xSfSf_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo05xSfSf.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),dependencies=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],createMod=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("mod",dependencies,(_ref=>{var{typed:typed,config:config,round:round,matrix:matrix,equalScalar:equalScalar,zeros:zeros,DenseMatrix:DenseMatrix,concat:concat}=_ref,floor=(0,_floor_js__WEBPACK_IMPORTED_MODULE_1__.B)({typed:typed,config:config,round:round,matrix:matrix,equalScalar:equalScalar,zeros:zeros,DenseMatrix:DenseMatrix}),matAlgo02xDS0=(0,_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_2__.v)({typed:typed,equalScalar:equalScalar}),matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_3__.$)({typed:typed}),matAlgo05xSfSf=(0,_type_matrix_utils_matAlgo05xSfSf_js__WEBPACK_IMPORTED_MODULE_4__.b)({typed:typed,equalScalar:equalScalar}),matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_5__.e)({typed:typed,equalScalar:equalScalar}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_6__.O)({typed:typed,DenseMatrix:DenseMatrix});return typed("mod",{"number, number":function _modNumber(x,y){return 0===y?x:x-y*floor(x/y)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return y.isZero()?x:x.sub(y.mul(floor(x.div(y))))},"Fraction, Fraction":function FractionFraction(x,y){return y.equals(0)?x:x.sub(y.mul(floor(x.div(y))))}},(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_7__.L)({typed:typed,matrix:matrix,concat:concat})({SS:matAlgo05xSfSf,DS:matAlgo03xDSf,SD:matAlgo02xDS0,Ss:matAlgo11xS0s,sS:matAlgo12xSfs}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/multiply.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createMultiply}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo14xDs.js"),dependencies=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],createMultiply=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("multiply",dependencies,(_ref=>{var{typed:typed,matrix:matrix,addScalar:addScalar,multiplyScalar:multiplyScalar,equalScalar:equalScalar,dot:dot}=_ref,matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_1__.e)({typed:typed,equalScalar:equalScalar}),matAlgo14xDs=(0,_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_2__.R)({typed:typed});function _validateMatrixDimensions(size1,size2){switch(size1.length){case 1:switch(size2.length){case 1:if(size1[0]!==size2[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(size1[0]!==size2[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+size1[0]+") must match Matrix rows ("+size2[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+size2.length+" dimensions)")}break;case 2:switch(size2.length){case 1:if(size1[1]!==size2[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+size1[1]+") must match Vector length ("+size2[0]+")");break;case 2:if(size1[1]!==size2[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+size1[1]+") must match Matrix B rows ("+size2[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+size2.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+size1.length+" dimensions)")}}function _multiplyVectorMatrix(a,b){if("dense"!==b.storage())throw new Error("Support for SparseMatrix not implemented");return function _multiplyVectorDenseMatrix(a,b){var dt,adata=a._data,asize=a._size,adt=a._datatype||a.getDataType(),bdata=b._data,bsize=b._size,bdt=b._datatype||b.getDataType(),alength=asize[0],bcolumns=bsize[1],af=addScalar,mf=multiplyScalar;adt&&bdt&&adt===bdt&&"string"==typeof adt&&"mixed"!==adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]));for(var c=[],j=0;j<bcolumns;j++){for(var sum=mf(adata[0],bdata[0][j]),i=1;i<alength;i++)sum=af(sum,mf(adata[i],bdata[i][j]));c[j]=sum}return a.createDenseMatrix({data:c,size:[bcolumns],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0})}(a,b)}var _multiplyMatrixVector=typed("_multiplyMatrixVector",{"DenseMatrix, any":function _multiplyDenseMatrixVector(a,b){var dt,adata=a._data,asize=a._size,adt=a._datatype||a.getDataType(),bdata=b._data,bdt=b._datatype||b.getDataType(),arows=asize[0],acolumns=asize[1],af=addScalar,mf=multiplyScalar;adt&&bdt&&adt===bdt&&"string"==typeof adt&&"mixed"!==adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]));for(var c=[],i=0;i<arows;i++){for(var row=adata[i],sum=mf(row[0],bdata[0]),j=1;j<acolumns;j++)sum=af(sum,mf(row[j],bdata[j]));c[i]=sum}return a.createDenseMatrix({data:c,size:[arows],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0})},"SparseMatrix, any":function _multiplySparseMatrixVector(a,b){var avalues=a._values,aindex=a._index,aptr=a._ptr,adt=a._datatype||void 0===a._data?a._datatype:a.getDataType();if(!avalues)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var dt,bdata=b._data,bdt=b._datatype||b.getDataType(),arows=a._size[0],brows=b._size[0],cvalues=[],cindex=[],cptr=[],af=addScalar,mf=multiplyScalar,eq=equalScalar,zero=0;adt&&bdt&&adt===bdt&&"string"==typeof adt&&"mixed"!==adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]),eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt));var x=[],w=[];cptr[0]=0;for(var ib=0;ib<brows;ib++){var vbi=bdata[ib];if(!eq(vbi,zero))for(var ka0=aptr[ib],ka1=aptr[ib+1],ka=ka0;ka<ka1;ka++){var ia=aindex[ka];w[ia]?x[ia]=af(x[ia],mf(vbi,avalues[ka])):(w[ia]=!0,cindex.push(ia),x[ia]=mf(vbi,avalues[ka]))}}for(var p1=cindex.length,p=0;p<p1;p++){var ic=cindex[p];cvalues[p]=x[ic]}return cptr[1]=cindex.length,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[arows,1],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0})}}),_multiplyMatrixMatrix=typed("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function _multiplyDenseMatrixDenseMatrix(a,b){var dt,adata=a._data,asize=a._size,adt=a._datatype||a.getDataType(),bdata=b._data,bsize=b._size,bdt=b._datatype||b.getDataType(),arows=asize[0],acolumns=asize[1],bcolumns=bsize[1],af=addScalar,mf=multiplyScalar;adt&&bdt&&adt===bdt&&"string"==typeof adt&&"mixed"!==adt&&"mixed"!==adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]));for(var c=[],i=0;i<arows;i++){var row=adata[i];c[i]=[];for(var j=0;j<bcolumns;j++){for(var sum=mf(row[0],bdata[0][j]),x=1;x<acolumns;x++)sum=af(sum,mf(row[x],bdata[x][j]));c[i][j]=sum}}return a.createDenseMatrix({data:c,size:[arows,bcolumns],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0})},"DenseMatrix, SparseMatrix":function _multiplyDenseMatrixSparseMatrix(a,b){var adata=a._data,asize=a._size,adt=a._datatype||a.getDataType(),bvalues=b._values,bindex=b._index,bptr=b._ptr,bsize=b._size,bdt=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(!bvalues)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var dt,arows=asize[0],bcolumns=bsize[1],af=addScalar,mf=multiplyScalar,eq=equalScalar,zero=0;adt&&bdt&&adt===bdt&&"string"==typeof adt&&"mixed"!==adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]),eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt));for(var cvalues=[],cindex=[],cptr=[],c=b.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[arows,bcolumns],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0}),jb=0;jb<bcolumns;jb++){cptr[jb]=cindex.length;var kb0=bptr[jb],kb1=bptr[jb+1];if(kb1>kb0)for(var last=0,i=0;i<arows;i++){for(var mark=i+1,cij=void 0,kb=kb0;kb<kb1;kb++){var ib=bindex[kb];last!==mark?(cij=mf(adata[i][ib],bvalues[kb]),last=mark):cij=af(cij,mf(adata[i][ib],bvalues[kb]))}last!==mark||eq(cij,zero)||(cindex.push(i),cvalues.push(cij))}}return cptr[bcolumns]=cindex.length,c},"SparseMatrix, DenseMatrix":function _multiplySparseMatrixDenseMatrix(a,b){var avalues=a._values,aindex=a._index,aptr=a._ptr,adt=a._datatype||void 0===a._data?a._datatype:a.getDataType();if(!avalues)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var dt,bdata=b._data,bdt=b._datatype||b.getDataType(),arows=a._size[0],brows=b._size[0],bcolumns=b._size[1],af=addScalar,mf=multiplyScalar,eq=equalScalar,zero=0;adt&&bdt&&adt===bdt&&"string"==typeof adt&&"mixed"!==adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]),eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt));for(var cvalues=[],cindex=[],cptr=[],c=a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[arows,bcolumns],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0}),x=[],w=[],jb=0;jb<bcolumns;jb++){cptr[jb]=cindex.length;for(var mark=jb+1,ib=0;ib<brows;ib++){var vbij=bdata[ib][jb];if(!eq(vbij,zero))for(var ka0=aptr[ib],ka1=aptr[ib+1],ka=ka0;ka<ka1;ka++){var ia=aindex[ka];w[ia]!==mark?(w[ia]=mark,cindex.push(ia),x[ia]=mf(vbij,avalues[ka])):x[ia]=af(x[ia],mf(vbij,avalues[ka]))}}for(var p0=cptr[jb],p1=cindex.length,p=p0;p<p1;p++){var ic=cindex[p];cvalues[p]=x[ic]}}return cptr[bcolumns]=cindex.length,c},"SparseMatrix, SparseMatrix":function _multiplySparseMatrixSparseMatrix(a,b){var dt,avalues=a._values,aindex=a._index,aptr=a._ptr,adt=a._datatype||void 0===a._data?a._datatype:a.getDataType(),bvalues=b._values,bindex=b._index,bptr=b._ptr,bdt=b._datatype||void 0===b._data?b._datatype:b.getDataType(),arows=a._size[0],bcolumns=b._size[1],values=avalues&&bvalues,af=addScalar,mf=multiplyScalar;adt&&bdt&&adt===bdt&&"string"==typeof adt&&"mixed"!==adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]));for(var ka,ka0,ka1,kb,kb0,kb1,ia,ib,cvalues=values?[]:void 0,cindex=[],cptr=[],c=a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[arows,bcolumns],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0}),x=values?[]:void 0,w=[],jb=0;jb<bcolumns;jb++){cptr[jb]=cindex.length;var mark=jb+1;for(kb0=bptr[jb],kb1=bptr[jb+1],kb=kb0;kb<kb1;kb++)if(ib=bindex[kb],values)for(ka0=aptr[ib],ka1=aptr[ib+1],ka=ka0;ka<ka1;ka++)w[ia=aindex[ka]]!==mark?(w[ia]=mark,cindex.push(ia),x[ia]=mf(bvalues[kb],avalues[ka])):x[ia]=af(x[ia],mf(bvalues[kb],avalues[ka]));else for(ka0=aptr[ib],ka1=aptr[ib+1],ka=ka0;ka<ka1;ka++)w[ia=aindex[ka]]!==mark&&(w[ia]=mark,cindex.push(ia));if(values)for(var p0=cptr[jb],p1=cindex.length,p=p0;p<p1;p++){var ic=cindex[p];cvalues[p]=x[ic]}}return cptr[bcolumns]=cindex.length,c}});return typed("multiply",multiplyScalar,{"Array, Array":typed.referTo("Matrix, Matrix",(selfMM=>(x,y)=>{_validateMatrixDimensions((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.aJ)(x),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.aJ)(y));var m=selfMM(matrix(x),matrix(y));return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_4__.SW)(m)?m.valueOf():m})),"Matrix, Matrix":function MatrixMatrix(x,y){var xsize=x.size(),ysize=y.size();return _validateMatrixDimensions(xsize,ysize),1===xsize.length?1===ysize.length?function _multiplyVectorVector(a,b,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return dot(a,b)}(x,y,xsize[0]):_multiplyVectorMatrix(x,y):1===ysize.length?_multiplyMatrixVector(x,y):_multiplyMatrixMatrix(x,y)},"Matrix, Array":typed.referTo("Matrix,Matrix",(selfMM=>(x,y)=>selfMM(x,matrix(y)))),"Array, Matrix":typed.referToSelf((self=>(x,y)=>self(matrix(x,y.storage()),y))),"SparseMatrix, any":function SparseMatrixAny(x,y){return matAlgo11xS0s(x,y,multiplyScalar,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return matAlgo14xDs(x,y,multiplyScalar,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return matAlgo11xS0s(y,x,multiplyScalar,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return matAlgo14xDs(y,x,multiplyScalar,!0)},"Array, any":function ArrayAny(x,y){return matAlgo14xDs(matrix(x),y,multiplyScalar,!1).valueOf()},"any, Array":function anyArray(x,y){return matAlgo14xDs(matrix(y),x,multiplyScalar,!0).valueOf()},"any, any":multiplyScalar,"any, any, ...any":typed.referToSelf((self=>(x,y,rest)=>{for(var result=self(x,y),i=0;i<rest.length;i++)result=self(result,rest[i]);return result}))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/multiplyScalar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createMultiplyScalar}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createMultiplyScalar=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("multiplyScalar",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("multiplyScalar",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.G6,"Complex, Complex":function ComplexComplex(x,y){return x.mul(y)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.times(y)},"Fraction, Fraction":function FractionFraction(x,y){return x.mul(y)},"number | Fraction | BigNumber | Complex, Unit":(x,y)=>y.multiply(x),"Unit, number | Fraction | BigNumber | Complex | Unit":(x,y)=>x.multiply(y)})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/norm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return createNorm}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],createNorm=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("norm",dependencies,(_ref=>{var{typed:typed,abs:abs,add:add,pow:pow,conj:conj,sqrt:sqrt,multiply:multiply,equalScalar:equalScalar,larger:larger,smaller:smaller,matrix:matrix,ctranspose:ctranspose,eigs:eigs}=_ref;return typed("norm",{number:Math.abs,Complex:function Complex(x){return x.abs()},BigNumber:function BigNumber(x){return x.abs()},boolean:function boolean(x){return Math.abs(x)},Array:function Array(x){return _norm(matrix(x),2)},Matrix:function Matrix(x){return _norm(x,2)},"Array, number | BigNumber | string":function ArrayNumberBigNumberString(x,p){return _norm(matrix(x),p)},"Matrix, number | BigNumber | string":function MatrixNumberBigNumberString(x,p){return _norm(x,p)}});function _vectorNorm(x,p){if(p===Number.POSITIVE_INFINITY||"inf"===p)return function _vectorNormPlusInfinity(x){var pinf=0;return x.forEach((function(value){var v=abs(value);larger(v,pinf)&&(pinf=v)}),!0),pinf}(x);if(p===Number.NEGATIVE_INFINITY||"-inf"===p)return function _vectorNormMinusInfinity(x){var ninf;return x.forEach((function(value){var v=abs(value);ninf&&!smaller(v,ninf)||(ninf=v)}),!0),ninf||0}(x);if("fro"===p)return _norm(x,2);if("number"==typeof p&&!isNaN(p)){if(!equalScalar(p,0)){var n=0;return x.forEach((function(value){n=add(pow(abs(value),p),n)}),!0),pow(n,1/p)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function _matrixNorm(x,p){if(1===p)return function _matrixNormOne(x){var c=[],maxc=0;return x.forEach((function(value,index){var j=index[1],cj=add(c[j]||0,abs(value));larger(cj,maxc)&&(maxc=cj),c[j]=cj}),!0),maxc}(x);if(p===Number.POSITIVE_INFINITY||"inf"===p)return function _matrixNormInfinity(x){var r=[],maxr=0;return x.forEach((function(value,index){var i=index[0],ri=add(r[i]||0,abs(value));larger(ri,maxr)&&(maxr=ri),r[i]=ri}),!0),maxr}(x);if("fro"===p)return function _matrixNormFrobenius(x){var fro=0;return x.forEach((function(value,index){fro=add(fro,multiply(value,conj(value)))})),abs(sqrt(fro))}(x);if(2===p)return function _matrixNormTwo(x){var sizeX=x.size();if(sizeX[0]!==sizeX[1])throw new RangeError("Invalid matrix dimensions");var tx=ctranspose(x),squaredX=multiply(tx,x),eigenVals=eigs(squaredX).values.toArray(),rho=eigenVals[eigenVals.length-1];return abs(sqrt(rho))}(x);throw new Error("Unsupported parameter value "+p)}function _norm(x,p){var sizeX=x.size();if(1===sizeX.length)return _vectorNorm(x,p);if(2===sizeX.length){if(sizeX[0]&&sizeX[1])return _matrixNorm(x,p);throw new RangeError("Invalid matrix dimensions")}}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/nthRoot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return createNthRoot}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo01xDSid.js"),_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo02xDS0.js"),_type_matrix_utils_matAlgo06xS0S0_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo06xS0S0.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),name="nthRoot",dependencies=["typed","matrix","equalScalar","BigNumber","concat"],createNthRoot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,BigNumber:_BigNumber,concat:concat}=_ref,matAlgo01xDSid=(0,_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__.M)({typed:typed}),matAlgo02xDS0=(0,_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_2__.v)({typed:typed,equalScalar:equalScalar}),matAlgo06xS0S0=(0,_type_matrix_utils_matAlgo06xS0S0_js__WEBPACK_IMPORTED_MODULE_3__.X)({typed:typed,equalScalar:equalScalar}),matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_4__.e)({typed:typed,equalScalar:equalScalar}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_5__.L)({typed:typed,matrix:matrix,concat:concat});function complexErr(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return typed(name,{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.YS,"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.YS,BigNumber:x=>_bigNthRoot(x,new _BigNumber(2)),"BigNumber, BigNumber":_bigNthRoot,Complex:complexErr,"Complex, number":complexErr,Array:typed.referTo("DenseMatrix,number",(selfDn=>x=>selfDn(matrix(x),2).valueOf())),DenseMatrix:typed.referTo("DenseMatrix,number",(selfDn=>x=>selfDn(x,2))),SparseMatrix:typed.referTo("SparseMatrix,number",(selfSn=>x=>selfSn(x,2))),"SparseMatrix, SparseMatrix":typed.referToSelf((self=>(x,y)=>{if(1===y.density())return matAlgo06xS0S0(x,y,self);throw new Error("Root must be non-zero")})),"DenseMatrix, SparseMatrix":typed.referToSelf((self=>(x,y)=>{if(1===y.density())return matAlgo01xDSid(x,y,self,!1);throw new Error("Root must be non-zero")})),"Array, SparseMatrix":typed.referTo("DenseMatrix,SparseMatrix",(selfDS=>(x,y)=>selfDS(matrix(x),y))),"number | BigNumber, SparseMatrix":typed.referToSelf((self=>(x,y)=>{if(1===y.density())return matAlgo11xS0s(y,x,self,!0);throw new Error("Root must be non-zero")}))},matrixAlgorithmSuite({scalar:"number | BigNumber",SD:matAlgo02xDS0,Ss:matAlgo11xS0s,sS:!1}));function _bigNthRoot(a,root){var precision=_BigNumber.precision,Big=_BigNumber.clone({precision:precision+2}),zero=new _BigNumber(0),one=new Big(1),inv=root.isNegative();if(inv&&(root=root.neg()),root.isZero())throw new Error("Root must be non-zero");if(a.isNegative()&&!root.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(a.isZero())return inv?new Big(1/0):0;if(!a.isFinite())return inv?zero:a;var x=a.abs().pow(one.div(root));return x=a.isNeg()?x.neg():x,new _BigNumber((inv?one.div(x):x).toPrecision(precision))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/nthRoots.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{f:function(){return createNthRoots}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["config","typed","divideScalar","Complex"],createNthRoots=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("nthRoots",dependencies,(_ref=>{var{typed:typed,config:config,divideScalar:divideScalar,Complex:Complex}=_ref,_calculateExactResult=[function realPos(val){return new Complex(val,0)},function imagPos(val){return new Complex(0,val)},function realNeg(val){return new Complex(-val,0)},function imagNeg(val){return new Complex(0,-val)}];function _nthComplexRoots(a,root){if(root<0)throw new Error("Root must be greater than zero");if(0===root)throw new Error("Root must be non-zero");if(root%1!=0)throw new Error("Root must be an integer");if(0===a||0===a.abs())return[new Complex(0,0)];var offset,aIsNumeric="number"==typeof a;(aIsNumeric||0===a.re||0===a.im)&&(offset=aIsNumeric?2*+(a<0):0===a.im?2*+(a.re<0):2*+(a.im<0)+1);for(var arg=a.arg(),abs=a.abs(),roots=[],r=Math.pow(abs,1/root),k=0;k<root;k++){var halfPiFactor=(offset+4*k)/root;halfPiFactor!==Math.round(halfPiFactor)?roots.push(new Complex({r:r,phi:(arg+2*Math.PI*k)/root})):roots.push(_calculateExactResult[halfPiFactor%4](r))}return roots}return typed("nthRoots",{Complex:function Complex(x){return _nthComplexRoots(x,2)},"Complex, number":_nthComplexRoots})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/pow.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return createPow}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],createPow=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("pow",dependencies,(_ref=>{var{typed:typed,config:config,identity:identity,multiply:multiply,matrix:matrix,inv:inv,number:number,fraction:fraction,Complex:Complex}=_ref;return typed("pow",{"number, number":_pow,"Complex, Complex":function ComplexComplex(x,y){return x.pow(y)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return y.isInteger()||x>=0||config.predictable?x.pow(y):new Complex(x.toNumber(),0).pow(y.toNumber(),0)},"Fraction, Fraction":function FractionFraction(x,y){var result=x.pow(y);if(null!=result)return result;if(config.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return _pow(x.valueOf(),y.valueOf())},"Array, number":_powArray,"Array, BigNumber":function ArrayBigNumber(x,y){return _powArray(x,y.toNumber())},"Matrix, number":_powMatrix,"Matrix, BigNumber":function MatrixBigNumber(x,y){return _powMatrix(x,y.toNumber())},"Unit, number | BigNumber":function UnitNumberBigNumber(x,y){return x.pow(y)}});function _pow(x,y){if(config.predictable&&!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(y)&&x<0)try{var yFrac=fraction(y),yNum=number(yFrac);if((y===yNum||Math.abs((y-yNum)/y)<1e-14)&&yFrac.d%2==1)return(yFrac.n%2==0?1:-1)*Math.pow(-x,y)}catch(ex){}return config.predictable&&(x<-1&&y===1/0||x>-1&&x<0&&y===-1/0)?NaN:(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(y)||x>=0||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_2__.Ue)(x,y):x*x<1&&y===1/0||x*x>1&&y===-1/0?0:new Complex(x,0).pow(y,0)}function _powArray(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(y))throw new TypeError("For A^b, b must be an integer (value is "+y+")");var s=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.aJ)(x);if(2!==s.length)throw new Error("For A^b, A must be 2 dimensional (A has "+s.length+" dimensions)");if(s[0]!==s[1])throw new Error("For A^b, A must be square (size is "+s[0]+"x"+s[1]+")");if(y<0)try{return _powArray(inv(x),-y)}catch(error){if("Cannot calculate inverse, determinant is zero"===error.message)throw new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+y+")");throw error}for(var res=identity(s[0]).valueOf(),px=x;y>=1;)1==(1&y)&&(res=multiply(px,res)),y>>=1,px=multiply(px,px);return res}function _powMatrix(x,y){return matrix(_powArray(x.valueOf(),y))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/round.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{V:function(){return createRound}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo14xDs.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),NO_INT="Number of decimals in function round must be an integer",dependencies=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],createRound=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("round",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,equalScalar:equalScalar,zeros:zeros,BigNumber:_BigNumber,DenseMatrix:DenseMatrix}=_ref,matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_1__.e)({typed:typed,equalScalar:equalScalar}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_2__.O)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo14xDs=(0,_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_3__.R)({typed:typed});function toExponent(epsilon){return Math.abs((0,_utils_number_js__WEBPACK_IMPORTED_MODULE_4__.wV)(epsilon).exponent)}return typed("round",{number:function number(x){var xEpsilon=(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__.QV)(x,toExponent(config.epsilon)),xSelected=(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_4__.RI)(x,xEpsilon,config.epsilon)?xEpsilon:x;return(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__.QV)(xSelected)},"number, number":function numberNumber(x,n){var epsilonExponent=toExponent(config.epsilon);if(n>=epsilonExponent)return(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__.QV)(x,n);var xEpsilon=(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__.QV)(x,epsilonExponent),xSelected=(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_4__.RI)(x,xEpsilon,config.epsilon)?xEpsilon:x;return(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__.QV)(xSelected,n)},"number, BigNumber":function numberBigNumber(x,n){if(!n.isInteger())throw new TypeError(NO_INT);return new _BigNumber(x).toDecimalPlaces(n.toNumber())},Complex:function Complex(x){return x.round()},"Complex, number":function ComplexNumber(x,n){if(n%1)throw new TypeError(NO_INT);return x.round(n)},"Complex, BigNumber":function ComplexBigNumber(x,n){if(!n.isInteger())throw new TypeError(NO_INT);var _n=n.toNumber();return x.round(_n)},BigNumber:function BigNumber(x){var xEpsilon=new _BigNumber(x).toDecimalPlaces(toExponent(config.epsilon));return((0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,xEpsilon,config.epsilon)?xEpsilon:x).toDecimalPlaces(0)},"BigNumber, BigNumber":function BigNumberBigNumber(x,n){if(!n.isInteger())throw new TypeError(NO_INT);var epsilonExponent=toExponent(config.epsilon);if(n>=epsilonExponent)return x.toDecimalPlaces(n.toNumber());var xEpsilon=x.toDecimalPlaces(epsilonExponent);return((0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,xEpsilon,config.epsilon)?xEpsilon:x).toDecimalPlaces(n.toNumber())},Fraction:function Fraction(x){return x.round()},"Fraction, number":function FractionNumber(x,n){if(n%1)throw new TypeError(NO_INT);return x.round(n)},"Fraction, BigNumber":function FractionBigNumber(x,n){if(!n.isInteger())throw new TypeError(NO_INT);return x.round(n.toNumber())},"Unit, number, Unit":typed.referToSelf((self=>function(x,n,unit){var valueless=x.toNumeric(unit);return unit.multiply(self(valueless,n))})),"Unit, BigNumber, Unit":typed.referToSelf((self=>(x,n,unit)=>self(x,n.toNumber(),unit))),"Unit, Unit":typed.referToSelf((self=>(x,unit)=>self(x,0,unit))),"Array | Matrix, number, Unit":typed.referToSelf((self=>(x,n,unit)=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_7__.Fh)(x,(value=>self(value,n,unit)),!0))),"Array | Matrix, BigNumber, Unit":typed.referToSelf((self=>(x,n,unit)=>self(x,n.toNumber(),unit))),"Array | Matrix, Unit":typed.referToSelf((self=>(x,unit)=>self(x,0,unit))),"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_7__.Fh)(x,self,!0))),"SparseMatrix, number | BigNumber":typed.referToSelf((self=>(x,n)=>matAlgo11xS0s(x,n,self,!1))),"DenseMatrix, number | BigNumber":typed.referToSelf((self=>(x,n)=>matAlgo14xDs(x,n,self,!1))),"Array, number | BigNumber":typed.referToSelf((self=>(x,n)=>matAlgo14xDs(matrix(x),n,self,!1).valueOf())),"number | Complex | BigNumber | Fraction, SparseMatrix":typed.referToSelf((self=>(x,n)=>equalScalar(x,0)?zeros(n.size(),n.storage()):matAlgo12xSfs(n,x,self,!0))),"number | Complex | BigNumber | Fraction, DenseMatrix":typed.referToSelf((self=>(x,n)=>equalScalar(x,0)?zeros(n.size(),n.storage()):matAlgo14xDs(n,x,self,!0))),"number | Complex | BigNumber | Fraction, Array":typed.referToSelf((self=>(x,n)=>matAlgo14xDs(matrix(n),x,self,!0).valueOf()))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/sign.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createSign}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","BigNumber","Fraction","complex"],createSign=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sign",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber,complex:complex,Fraction:_Fraction}=_ref;return typed("sign",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.$y,Complex:function Complex(x){return 0===x.im?complex((0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.$y)(x.re)):x.sign()},BigNumber:function BigNumber(x){return new _BigNumber(x.cmp(0))},Fraction:function Fraction(x){return new _Fraction(x.s,1)},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self,!0))),Unit:typed.referToSelf((self=>x=>{if(!x._isDerived()&&0!==x.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return typed.find(self,x.valueType())(x.value)}))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/sqrt.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createSqrt}});var dependencies=["config","typed","Complex"],createSqrt=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("sqrt",dependencies,(_ref=>{var{config:config,typed:typed,Complex:Complex}=_ref;return typed("sqrt",{number:_sqrtNumber,Complex:function Complex(x){return x.sqrt()},BigNumber:function BigNumber(x){return!x.isNegative()||config.predictable?x.sqrt():_sqrtNumber(x.toNumber())},Unit:function Unit(x){return x.pow(.5)}});function _sqrtNumber(x){return isNaN(x)?NaN:x>=0||config.predictable?Math.sqrt(x):new Complex(x,0).sqrt()}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/square.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y:function(){return createSquare}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createSquare=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("square",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("square",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__._$,Complex:function Complex(x){return x.mul(x)},BigNumber:function BigNumber(x){return x.times(x)},Fraction:function Fraction(x){return x.mul(x)},Unit:function Unit(x){return x.pow(2)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/subtract.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{p:function(){return createSubtract}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo01xDSid.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo05xSfSf_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo05xSfSf.js"),_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo10xSids.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),dependencies=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],createSubtract=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("subtract",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,subtractScalar:subtractScalar,unaryMinus:unaryMinus,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo01xDSid=(0,_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__.M)({typed:typed}),matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_2__.$)({typed:typed}),matAlgo05xSfSf=(0,_type_matrix_utils_matAlgo05xSfSf_js__WEBPACK_IMPORTED_MODULE_3__.b)({typed:typed,equalScalar:equalScalar}),matAlgo10xSids=(0,_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_4__.H)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_5__.O)({typed:typed,DenseMatrix:DenseMatrix});return typed("subtract",{"any, any":subtractScalar},(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_6__.L)({typed:typed,matrix:matrix,concat:concat})({elop:subtractScalar,SS:matAlgo05xSfSf,DS:matAlgo01xDSid,SD:matAlgo03xDSf,Ss:matAlgo12xSfs,sS:matAlgo10xSids}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/subtractScalar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return createSubtractScalar}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),name="subtractScalar",dependencies=["typed"],createSubtractScalar=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed}=_ref;return typed(name,{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.hz,"Complex, Complex":function ComplexComplex(x,y){return x.sub(y)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.minus(y)},"Fraction, Fraction":function FractionFraction(x,y){return x.sub(y)},"Unit, Unit":typed.referToSelf((self=>(x,y)=>{if(null===x.value||void 0===x.value)throw new Error("Parameter x contains a unit with undefined value");if(null===y.value||void 0===y.value)throw new Error("Parameter y contains a unit with undefined value");if(!x.equalBase(y))throw new Error("Units do not match");var res=x.clone();return res.value=typed.find(self,[res.valueType(),y.valueType()])(res.value,y.value),res.fixPrefix=!1,res}))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/unaryMinus.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createUnaryMinus}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createUnaryMinus=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("unaryMinus",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("unaryMinus",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.GC,"Complex | BigNumber | Fraction":x=>x.neg(),Unit:typed.referToSelf((self=>x=>{var res=x.clone();return res.value=typed.find(self,res.valueType())(x.value),res})),"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self,!0)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/unaryPlus.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return createUnaryPlus}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","config","BigNumber"],createUnaryPlus=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("unaryPlus",dependencies,(_ref=>{var{typed:typed,config:config,BigNumber:BigNumber}=_ref;return typed("unaryPlus",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.iU,Complex:function Complex(x){return x},BigNumber:function BigNumber(x){return x},Fraction:function Fraction(x){return x},Unit:function Unit(x){return x.clone()},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self,!0))),"boolean | string":function booleanString(x){return"BigNumber"===config.number?new BigNumber(+x):+x}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/arithmetic/xgcd.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createXgcd}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","config","matrix","BigNumber"],createXgcd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("xgcd",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,BigNumber:BigNumber}=_ref;return typed("xgcd",{"number, number":function numberNumber(a,b){var res=(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.y9)(a,b);return"Array"===config.matrix?res:matrix(res)},"BigNumber, BigNumber":function _xgcdBigNumber(a,b){var t,q,r,res,zero=new BigNumber(0),one=new BigNumber(1),x=zero,lastx=one,y=one,lasty=zero;if(!a.isInt()||!b.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!b.isZero();)q=a.div(b).floor(),r=a.mod(b),t=x,x=lastx.minus(q.times(x)),lastx=t,t=y,y=lasty.minus(q.times(y)),lasty=t,a=b,b=r;res=a.lt(zero)?[a.neg(),lastx.neg(),lasty.neg()]:[a,a.isZero()?0:lastx,lasty];return"Array"===config.matrix?res:matrix(res)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/bitAnd.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return createBitAnd}});var _utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js"),_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo02xDS0.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo06xS0S0_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo06xS0S0.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/bitwise.js"),dependencies=["typed","matrix","equalScalar","concat"],createBitAnd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bitAnd",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,concat:concat}=_ref,matAlgo02xDS0=(0,_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_1__.v)({typed:typed,equalScalar:equalScalar}),matAlgo06xS0S0=(0,_type_matrix_utils_matAlgo06xS0S0_js__WEBPACK_IMPORTED_MODULE_2__.X)({typed:typed,equalScalar:equalScalar}),matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__.e)({typed:typed,equalScalar:equalScalar}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat});return typed("bitAnd",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__.qC,"BigNumber, BigNumber":_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_6__.hi},matrixAlgorithmSuite({SS:matAlgo06xS0S0,DS:matAlgo02xDS0,Ss:matAlgo11xS0s}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/bitNot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:function(){return createBitNot}});var _utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/bitwise.js"),dependencies=["typed"],createBitNot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bitNot",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("bitNot",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.NA,BigNumber:_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_2__.Xc,"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_3__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/bitOr.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{j:function(){return createBitOr}});var _utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo10xSids.js"),_type_matrix_utils_matAlgo04xSidSid_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo04xSidSid.js"),_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo01xDSid.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/bitwise.js"),dependencies=["typed","matrix","equalScalar","DenseMatrix","concat"],createBitOr=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bitOr",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo01xDSid=(0,_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__.M)({typed:typed}),matAlgo04xSidSid=(0,_type_matrix_utils_matAlgo04xSidSid_js__WEBPACK_IMPORTED_MODULE_2__.v)({typed:typed,equalScalar:equalScalar}),matAlgo10xSids=(0,_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_3__.H)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat});return typed("bitOr",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__.LE,"BigNumber, BigNumber":_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_6__.Vq},matrixAlgorithmSuite({SS:matAlgo04xSidSid,DS:matAlgo01xDSid,Ss:matAlgo10xSids}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/bitXor.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{g:function(){return createBitXor}});var _utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo07xSSf.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/bitwise.js"),dependencies=["typed","matrix","DenseMatrix","concat"],createBitXor=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bitXor",dependencies,(_ref=>{var{typed:typed,matrix:matrix,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__.$)({typed:typed}),matAlgo07xSSf=(0,_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__.G)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__.O)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat});return typed("bitXor",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__.xS,"BigNumber, BigNumber":_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_6__.nN},matrixAlgorithmSuite({SS:matAlgo07xSSf,DS:matAlgo03xDSf,Ss:matAlgo12xSfs}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/leftShift.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createLeftShift}});var _type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo02xDS0.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo14xDs.js"),_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo01xDSid.js"),_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo10xSids.js"),_type_matrix_utils_matAlgo08xS0Sid_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo08xS0Sid.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_useMatrixForArrayScalar_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/useMatrixForArrayScalar.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/bitwise.js"),_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js"),dependencies=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],createLeftShift=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("leftShift",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,zeros:zeros,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo01xDSid=(0,_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__.M)({typed:typed}),matAlgo02xDS0=(0,_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_2__.v)({typed:typed,equalScalar:equalScalar}),matAlgo08xS0Sid=(0,_type_matrix_utils_matAlgo08xS0Sid_js__WEBPACK_IMPORTED_MODULE_3__.i)({typed:typed,equalScalar:equalScalar}),matAlgo10xSids=(0,_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_4__.H)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_5__.e)({typed:typed,equalScalar:equalScalar}),matAlgo14xDs=(0,_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_6__.R)({typed:typed}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_7__.L)({typed:typed,matrix:matrix,concat:concat}),useMatrixForArrayScalar=(0,_useMatrixForArrayScalar_js__WEBPACK_IMPORTED_MODULE_8__.H)({typed:typed,matrix:matrix});return typed("leftShift",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_9__.ZG,"BigNumber, BigNumber":_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_10__.Mw,"SparseMatrix, number | BigNumber":typed.referToSelf((self=>(x,y)=>equalScalar(y,0)?x.clone():matAlgo11xS0s(x,y,self,!1))),"DenseMatrix, number | BigNumber":typed.referToSelf((self=>(x,y)=>equalScalar(y,0)?x.clone():matAlgo14xDs(x,y,self,!1))),"number | BigNumber, SparseMatrix":typed.referToSelf((self=>(x,y)=>equalScalar(x,0)?zeros(y.size(),y.storage()):matAlgo10xSids(y,x,self,!0))),"number | BigNumber, DenseMatrix":typed.referToSelf((self=>(x,y)=>equalScalar(x,0)?zeros(y.size(),y.storage()):matAlgo14xDs(y,x,self,!0)))},useMatrixForArrayScalar,matrixAlgorithmSuite({SS:matAlgo08xS0Sid,DS:matAlgo01xDSid,SD:matAlgo02xDS0}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/rightArithShift.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createRightArithShift}});var _utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js"),_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo02xDS0.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo14xDs.js"),_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo01xDSid.js"),_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo10xSids.js"),_type_matrix_utils_matAlgo08xS0Sid_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo08xS0Sid.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_useMatrixForArrayScalar_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/useMatrixForArrayScalar.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/bitwise.js"),name="rightArithShift",dependencies=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],createRightArithShift=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,zeros:zeros,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo01xDSid=(0,_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__.M)({typed:typed}),matAlgo02xDS0=(0,_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_2__.v)({typed:typed,equalScalar:equalScalar}),matAlgo08xS0Sid=(0,_type_matrix_utils_matAlgo08xS0Sid_js__WEBPACK_IMPORTED_MODULE_3__.i)({typed:typed,equalScalar:equalScalar}),matAlgo10xSids=(0,_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_4__.H)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_5__.e)({typed:typed,equalScalar:equalScalar}),matAlgo14xDs=(0,_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_6__.R)({typed:typed}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_7__.L)({typed:typed,matrix:matrix,concat:concat}),useMatrixForArrayScalar=(0,_useMatrixForArrayScalar_js__WEBPACK_IMPORTED_MODULE_8__.H)({typed:typed,matrix:matrix});return typed(name,{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_9__.Lz,"BigNumber, BigNumber":_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_10__.ti,"SparseMatrix, number | BigNumber":typed.referToSelf((self=>(x,y)=>equalScalar(y,0)?x.clone():matAlgo11xS0s(x,y,self,!1))),"DenseMatrix, number | BigNumber":typed.referToSelf((self=>(x,y)=>equalScalar(y,0)?x.clone():matAlgo14xDs(x,y,self,!1))),"number | BigNumber, SparseMatrix":typed.referToSelf((self=>(x,y)=>equalScalar(x,0)?zeros(y.size(),y.storage()):matAlgo10xSids(y,x,self,!0))),"number | BigNumber, DenseMatrix":typed.referToSelf((self=>(x,y)=>equalScalar(x,0)?zeros(y.size(),y.storage()):matAlgo14xDs(y,x,self,!0)))},useMatrixForArrayScalar,matrixAlgorithmSuite({SS:matAlgo08xS0Sid,DS:matAlgo01xDSid,SD:matAlgo02xDS0}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/rightLogShift.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createRightLogShift}});var _type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo02xDS0.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo14xDs.js"),_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo01xDSid.js"),_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo10xSids.js"),_type_matrix_utils_matAlgo08xS0Sid_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo08xS0Sid.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/bitwise.js"),_useMatrixForArrayScalar_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/useMatrixForArrayScalar.js"),name="rightLogShift",dependencies=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],createRightLogShift=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,zeros:zeros,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo01xDSid=(0,_type_matrix_utils_matAlgo01xDSid_js__WEBPACK_IMPORTED_MODULE_1__.M)({typed:typed}),matAlgo02xDS0=(0,_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_2__.v)({typed:typed,equalScalar:equalScalar}),matAlgo08xS0Sid=(0,_type_matrix_utils_matAlgo08xS0Sid_js__WEBPACK_IMPORTED_MODULE_3__.i)({typed:typed,equalScalar:equalScalar}),matAlgo10xSids=(0,_type_matrix_utils_matAlgo10xSids_js__WEBPACK_IMPORTED_MODULE_4__.H)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_5__.e)({typed:typed,equalScalar:equalScalar}),matAlgo14xDs=(0,_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_6__.R)({typed:typed}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_7__.L)({typed:typed,matrix:matrix,concat:concat}),useMatrixForArrayScalar=(0,_useMatrixForArrayScalar_js__WEBPACK_IMPORTED_MODULE_8__.H)({typed:typed,matrix:matrix});return typed(name,{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_9__.ji,"SparseMatrix, number | BigNumber":typed.referToSelf((self=>(x,y)=>equalScalar(y,0)?x.clone():matAlgo11xS0s(x,y,self,!1))),"DenseMatrix, number | BigNumber":typed.referToSelf((self=>(x,y)=>equalScalar(y,0)?x.clone():matAlgo14xDs(x,y,self,!1))),"number | BigNumber, SparseMatrix":typed.referToSelf((self=>(x,y)=>equalScalar(x,0)?zeros(y.size(),y.storage()):matAlgo10xSids(y,x,self,!0))),"number | BigNumber, DenseMatrix":typed.referToSelf((self=>(x,y)=>equalScalar(x,0)?zeros(y.size(),y.storage()):matAlgo14xDs(y,x,self,!0)))},useMatrixForArrayScalar,matrixAlgorithmSuite({SS:matAlgo08xS0Sid,DS:matAlgo01xDSid,SD:matAlgo02xDS0}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/bitwise/useMatrixForArrayScalar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{H:function(){return createUseMatrixForArrayScalar}});var createUseMatrixForArrayScalar=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("useMatrixForArrayScalar",["typed","matrix"],(_ref=>{var{typed:typed,matrix:matrix}=_ref;return{"Array, number":typed.referTo("DenseMatrix, number",(selfDn=>(x,y)=>selfDn(matrix(x),y).valueOf())),"Array, BigNumber":typed.referTo("DenseMatrix, BigNumber",(selfDB=>(x,y)=>selfDB(matrix(x),y).valueOf())),"number, Array":typed.referTo("number, DenseMatrix",(selfnD=>(x,y)=>selfnD(x,matrix(y)).valueOf())),"BigNumber, Array":typed.referTo("BigNumber, DenseMatrix",(selfBD=>(x,y)=>selfBD(x,matrix(y)).valueOf()))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/combinatorics/bellNumbers.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return createBellNumbers}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","addScalar","isNegative","isInteger","stirlingS2"],createBellNumbers=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bellNumbers",dependencies,(_ref=>{var{typed:typed,addScalar:addScalar,isNegative:isNegative,isInteger:isInteger,stirlingS2:stirlingS2}=_ref;return typed("bellNumbers",{"number | BigNumber":function numberBigNumber(n){if(!isInteger(n)||isNegative(n))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var result=0,i=0;i<=n;i++)result=addScalar(result,stirlingS2(n,i));return result}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/combinatorics/catalan.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{u:function(){return createCatalan}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],createCatalan=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("catalan",dependencies,(_ref=>{var{typed:typed,addScalar:addScalar,divideScalar:divideScalar,multiplyScalar:multiplyScalar,combinations:combinations,isNegative:isNegative,isInteger:isInteger}=_ref;return typed("catalan",{"number | BigNumber":function numberBigNumber(n){if(!isInteger(n)||isNegative(n))throw new TypeError("Non-negative integer value expected in function catalan");return divideScalar(combinations(multiplyScalar(n,2),n),addScalar(n,1))}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/combinatorics/composition.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return createComposition}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],createComposition=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("composition",dependencies,(_ref=>{var{typed:typed,addScalar:addScalar,combinations:combinations,isPositive:isPositive,isNegative:isNegative,isInteger:isInteger,larger:larger}=_ref;return typed("composition",{"number | BigNumber, number | BigNumber":function numberBigNumberNumberBigNumber(n,k){if(!(isInteger(n)&&isPositive(n)&&isInteger(k)&&isPositive(k)))throw new TypeError("Positive integer value expected in function composition");if(larger(k,n))throw new TypeError("k must be less than or equal to n in function composition");return combinations(addScalar(n,-1),addScalar(k,-1))}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/combinatorics/stirlingS2.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createStirlingS2}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],createStirlingS2=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("stirlingS2",dependencies,(_ref=>{var{typed:typed,addScalar:addScalar,subtractScalar:subtractScalar,multiplyScalar:multiplyScalar,divideScalar:divideScalar,pow:pow,factorial:factorial,combinations:combinations,isNegative:isNegative,isInteger:isInteger,number:number,bignumber:bignumber,larger:larger}=_ref,smallCache=[],bigCache=[];return typed("stirlingS2",{"number | BigNumber, number | BigNumber":function numberBigNumberNumberBigNumber(n,k){if(!isInteger(n)||isNegative(n)||!isInteger(k)||isNegative(k))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(larger(k,n))throw new TypeError("k must be less than or equal to n in function stirlingS2");var big=!((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(n)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(k)),cache=big?bigCache:smallCache,make=big?bignumber:number,nn=number(n),nk=number(k);if(cache[nn]&&cache[nn].length>nk)return cache[nn][nk];for(var m=0;m<=nn;++m)if(cache[m]||(cache[m]=[make(0===m?1:0)]),0!==m)for(var row=cache[m],prev=cache[m-1],i=row.length;i<=m&&i<=nk;++i)row[i]=i===m?1:addScalar(multiplyScalar(make(i),prev[i]),prev[i-1]);return cache[nn][nk]}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/complex/arg.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return createArg}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createArg=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("arg",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("arg",{number:function number(x){return Math.atan2(0,x)},BigNumber:function BigNumber(x){return x.constructor.atan2(0,x)},Complex:function Complex(x){return x.arg()},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/complex/conj.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return createConj}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createConj=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("conj",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("conj",{"number | BigNumber | Fraction":x=>x,Complex:x=>x.conjugate(),"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/complex/im.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{R:function(){return createIm}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createIm=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("im",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("im",{number:()=>0,"BigNumber | Fraction":x=>x.mul(0),Complex:x=>x.im,"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/complex/re.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m:function(){return createRe}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createRe=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("re",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("re",{"number | BigNumber | Fraction":x=>x,Complex:x=>x.re,"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/geometry/distance.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createDistance}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],createDistance=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("distance",dependencies,(_ref=>{var{typed:typed,addScalar:addScalar,subtractScalar:subtractScalar,multiplyScalar:multiplyScalar,divideScalar:divideScalar,deepEqual:deepEqual,sqrt:sqrt,abs:abs}=_ref;return typed("distance",{"Array, Array, Array":function ArrayArrayArray(x,y,z){if(2===x.length&&2===y.length&&2===z.length){if(!_2d(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_2d(y))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!_2d(z))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(deepEqual(y,z))throw new TypeError("LinePoint1 should not be same with LinePoint2");var xCoeff=subtractScalar(z[1],y[1]),yCoeff=subtractScalar(y[0],z[0]),constant=subtractScalar(multiplyScalar(z[0],y[1]),multiplyScalar(y[0],z[1]));return _distancePointLine2D(x[0],x[1],xCoeff,yCoeff,constant)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function ObjectObjectObject(x,y,z){if(2===Object.keys(x).length&&2===Object.keys(y).length&&2===Object.keys(z).length){if(!_2d(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!_2d(y))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!_2d(z))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(deepEqual(_objectToArray(y),_objectToArray(z)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in x&&"pointY"in x&&"lineOnePtX"in y&&"lineOnePtY"in y&&"lineTwoPtX"in z&&"lineTwoPtY"in z){var xCoeff=subtractScalar(z.lineTwoPtY,y.lineOnePtY),yCoeff=subtractScalar(y.lineOnePtX,z.lineTwoPtX),constant=subtractScalar(multiplyScalar(z.lineTwoPtX,y.lineOnePtY),multiplyScalar(y.lineOnePtX,z.lineTwoPtY));return _distancePointLine2D(x.pointX,x.pointY,xCoeff,yCoeff,constant)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function ArrayArray(x,y){if(2===x.length&&3===y.length){if(!_2d(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_3d(y))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return _distancePointLine2D(x[0],x[1],y[0],y[1],y[2])}if(3===x.length&&6===y.length){if(!_3d(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_parametricLine(y))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return _distancePointLine3D(x[0],x[1],x[2],y[0],y[1],y[2],y[3],y[4],y[5])}if(x.length===y.length&&x.length>0){if(!_containsOnlyNumbers(x))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!_containsOnlyNumbers(y))throw new TypeError("All values of an array should be numbers or BigNumbers");return _euclideanDistance(x,y)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function ObjectObject(x,y){if(2===Object.keys(x).length&&3===Object.keys(y).length){if(!_2d(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!_3d(y))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"xCoeffLine"in y&&"yCoeffLine"in y&&"constant"in y)return _distancePointLine2D(x.pointX,x.pointY,y.xCoeffLine,y.yCoeffLine,y.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(x).length&&6===Object.keys(y).length){if(!_3d(x))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!_parametricLine(y))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"x0"in y&&"y0"in y&&"z0"in y&&"a"in y&&"b"in y&&"c"in y)return _distancePointLine3D(x.pointX,x.pointY,x.pointZ,y.x0,y.y0,y.z0,y.a,y.b,y.c);throw new TypeError("Key names do not match")}if(2===Object.keys(x).length&&2===Object.keys(y).length){if(!_2d(x))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!_2d(y))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointTwoX"in y&&"pointTwoY"in y)return _euclideanDistance([x.pointOneX,x.pointOneY],[y.pointTwoX,y.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(x).length&&3===Object.keys(y).length){if(!_3d(x))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!_3d(y))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointOneZ"in x&&"pointTwoX"in y&&"pointTwoY"in y&&"pointTwoZ"in y)return _euclideanDistance([x.pointOneX,x.pointOneY,x.pointOneZ],[y.pointTwoX,y.pointTwoY,y.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function Array(arr){if(!function _pairwise(a){if(2===a[0].length&&_isNumber(a[0][0])&&_isNumber(a[0][1])){if(a.some((aI=>2!==aI.length||!_isNumber(aI[0])||!_isNumber(aI[1]))))return!1}else{if(!(3===a[0].length&&_isNumber(a[0][0])&&_isNumber(a[0][1])&&_isNumber(a[0][2])))return!1;if(a.some((aI=>3!==aI.length||!_isNumber(aI[0])||!_isNumber(aI[1])||!_isNumber(aI[2]))))return!1}return!0}(arr))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function _distancePairwise(a){for(var result=[],pointA=[],pointB=[],i=0;i<a.length-1;i++)for(var j=i+1;j<a.length;j++)2===a[0].length?(pointA=[a[i][0],a[i][1]],pointB=[a[j][0],a[j][1]]):3===a[0].length&&(pointA=[a[i][0],a[i][1],a[i][2]],pointB=[a[j][0],a[j][1],a[j][2]]),result.push(_euclideanDistance(pointA,pointB));return result}(arr)}});function _isNumber(a){return"number"==typeof a||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(a)}function _2d(a){return a.constructor!==Array&&(a=_objectToArray(a)),_isNumber(a[0])&&_isNumber(a[1])}function _3d(a){return a.constructor!==Array&&(a=_objectToArray(a)),_isNumber(a[0])&&_isNumber(a[1])&&_isNumber(a[2])}function _containsOnlyNumbers(a){return Array.isArray(a)||(a=_objectToArray(a)),a.every(_isNumber)}function _parametricLine(a){return a.constructor!==Array&&(a=_objectToArray(a)),_isNumber(a[0])&&_isNumber(a[1])&&_isNumber(a[2])&&_isNumber(a[3])&&_isNumber(a[4])&&_isNumber(a[5])}function _objectToArray(o){for(var keys=Object.keys(o),a=[],i=0;i<keys.length;i++)a.push(o[keys[i]]);return a}function _distancePointLine2D(x,y,a,b,c){var num=abs(addScalar(addScalar(multiplyScalar(a,x),multiplyScalar(b,y)),c)),den=sqrt(addScalar(multiplyScalar(a,a),multiplyScalar(b,b)));return divideScalar(num,den)}function _distancePointLine3D(x,y,z,x0,y0,z0,a,b,c){var num=[subtractScalar(multiplyScalar(subtractScalar(y0,y),c),multiplyScalar(subtractScalar(z0,z),b)),subtractScalar(multiplyScalar(subtractScalar(z0,z),a),multiplyScalar(subtractScalar(x0,x),c)),subtractScalar(multiplyScalar(subtractScalar(x0,x),b),multiplyScalar(subtractScalar(y0,y),a))];num=sqrt(addScalar(addScalar(multiplyScalar(num[0],num[0]),multiplyScalar(num[1],num[1])),multiplyScalar(num[2],num[2])));var den=sqrt(addScalar(addScalar(multiplyScalar(a,a),multiplyScalar(b,b)),multiplyScalar(c,c)));return divideScalar(num,den)}function _euclideanDistance(x,y){for(var vectorSize=x.length,result=0,diff=0,i=0;i<vectorSize;i++)diff=subtractScalar(x[i],y[i]),result=addScalar(multiplyScalar(diff,diff),result);return sqrt(result)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/geometry/intersect.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createIntersect}});var dependencies=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],createIntersect=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("intersect",dependencies,(_ref=>{var{typed:typed,config:config,abs:abs,add:add,addScalar:addScalar,matrix:matrix,multiply:multiply,multiplyScalar:multiplyScalar,divideScalar:divideScalar,subtract:subtract,smaller:smaller,equalScalar:equalScalar,flatten:flatten,isZero:isZero,isNumeric:isNumeric}=_ref;return typed("intersect",{"Array, Array, Array":_AAA,"Array, Array, Array, Array":_AAAA,"Matrix, Matrix, Matrix":function MatrixMatrixMatrix(x,y,plane){var arr=_AAA(x.valueOf(),y.valueOf(),plane.valueOf());return null===arr?null:matrix(arr)},"Matrix, Matrix, Matrix, Matrix":function MatrixMatrixMatrixMatrix(w,x,y,z){var arr=_AAAA(w.valueOf(),x.valueOf(),y.valueOf(),z.valueOf());return null===arr?null:matrix(arr)}});function _AAA(x,y,plane){if(x=_coerceArr(x),y=_coerceArr(y),plane=_coerceArr(plane),!_3d(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_3d(y))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function _4d(x){return 4===x.length&&isNumeric(x[0])&&isNumeric(x[1])&&isNumeric(x[2])&&isNumeric(x[3])}(plane))throw new TypeError("Array with 4 numbers expected as third argument");return function _intersectLinePlane(x1,y1,z1,x2,y2,z2,x,y,z,c){var x1x=multiplyScalar(x1,x),x2x=multiplyScalar(x2,x),y1y=multiplyScalar(y1,y),y2y=multiplyScalar(y2,y),z1z=multiplyScalar(z1,z),z2z=multiplyScalar(z2,z),numerator=subtract(subtract(subtract(c,x1x),y1y),z1z),denominator=subtract(subtract(subtract(addScalar(addScalar(x2x,y2y),z2z),x1x),y1y),z1z),t=divideScalar(numerator,denominator),px=addScalar(x1,multiplyScalar(t,subtract(x2,x1))),py=addScalar(y1,multiplyScalar(t,subtract(y2,y1))),pz=addScalar(z1,multiplyScalar(t,subtract(z2,z1)));return[px,py,pz]}(x[0],x[1],x[2],y[0],y[1],y[2],plane[0],plane[1],plane[2],plane[3])}function _AAAA(w,x,y,z){if(w=_coerceArr(w),x=_coerceArr(x),y=_coerceArr(y),z=_coerceArr(z),2===w.length){if(!_2d(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_2d(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!_2d(y))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!_2d(z))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function _intersect2d(p1a,p1b,p2a,p2b){var o1=p1a,o2=p2a,d1=subtract(o1,p1b),d2=subtract(o2,p2b),det=subtract(multiplyScalar(d1[0],d2[1]),multiplyScalar(d2[0],d1[1]));if(isZero(det))return null;if(smaller(abs(det),config.epsilon))return null;var d20o11=multiplyScalar(d2[0],o1[1]),d21o10=multiplyScalar(d2[1],o1[0]),d20o21=multiplyScalar(d2[0],o2[1]),d21o20=multiplyScalar(d2[1],o2[0]),t=divideScalar(addScalar(subtract(subtract(d20o11,d21o10),d20o21),d21o20),det);return add(multiply(d1,t),o1)}(w,x,y,z)}if(3===w.length){if(!_3d(w))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_3d(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_3d(y))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!_3d(z))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function _intersect3d(x1,y1,z1,x2,y2,z2,x3,y3,z3,x4,y4,z4){var d1343=_intersect3dHelper(x1,x3,x4,x3,y1,y3,y4,y3,z1,z3,z4,z3),d4321=_intersect3dHelper(x4,x3,x2,x1,y4,y3,y2,y1,z4,z3,z2,z1),d1321=_intersect3dHelper(x1,x3,x2,x1,y1,y3,y2,y1,z1,z3,z2,z1),d4343=_intersect3dHelper(x4,x3,x4,x3,y4,y3,y4,y3,z4,z3,z4,z3),d2121=_intersect3dHelper(x2,x1,x2,x1,y2,y1,y2,y1,z2,z1,z2,z1),numerator=subtract(multiplyScalar(d1343,d4321),multiplyScalar(d1321,d4343)),denominator=subtract(multiplyScalar(d2121,d4343),multiplyScalar(d4321,d4321));if(isZero(denominator))return null;var ta=divideScalar(numerator,denominator),tb=divideScalar(addScalar(d1343,multiplyScalar(ta,d4321)),d4343),pax=addScalar(x1,multiplyScalar(ta,subtract(x2,x1))),pay=addScalar(y1,multiplyScalar(ta,subtract(y2,y1))),paz=addScalar(z1,multiplyScalar(ta,subtract(z2,z1))),pbx=addScalar(x3,multiplyScalar(tb,subtract(x4,x3))),pby=addScalar(y3,multiplyScalar(tb,subtract(y4,y3))),pbz=addScalar(z3,multiplyScalar(tb,subtract(z4,z3)));return equalScalar(pax,pbx)&&equalScalar(pay,pby)&&equalScalar(paz,pbz)?[pax,pay,paz]:null}(w[0],w[1],w[2],x[0],x[1],x[2],y[0],y[1],y[2],z[0],z[1],z[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function _coerceArr(arr){return 1===arr.length?arr[0]:arr.length>1&&Array.isArray(arr[0])&&arr.every((el=>Array.isArray(el)&&1===el.length))?flatten(arr):arr}function _2d(x){return 2===x.length&&isNumeric(x[0])&&isNumeric(x[1])}function _3d(x){return 3===x.length&&isNumeric(x[0])&&isNumeric(x[1])&&isNumeric(x[2])}function _intersect3dHelper(a,b,c,d,e,f,g,h,i,j,k,l){var add1=multiplyScalar(subtract(a,b),subtract(c,d)),add2=multiplyScalar(subtract(e,f),subtract(g,h)),add3=multiplyScalar(subtract(i,j),subtract(k,l));return addScalar(addScalar(add1,add2),add3)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/logical/and.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{I:function(){return createAnd}});var _type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo02xDS0.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo14xDs.js"),_type_matrix_utils_matAlgo06xS0S0_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo06xS0S0.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/logical.js"),dependencies=["typed","matrix","equalScalar","zeros","not","concat"],createAnd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("and",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,zeros:zeros,not:not,concat:concat}=_ref,matAlgo02xDS0=(0,_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_1__.v)({typed:typed,equalScalar:equalScalar}),matAlgo06xS0S0=(0,_type_matrix_utils_matAlgo06xS0S0_js__WEBPACK_IMPORTED_MODULE_2__.X)({typed:typed,equalScalar:equalScalar}),matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_3__.e)({typed:typed,equalScalar:equalScalar}),matAlgo14xDs=(0,_type_matrix_utils_matAlgo14xDs_js__WEBPACK_IMPORTED_MODULE_4__.R)({typed:typed}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_5__.L)({typed:typed,matrix:matrix,concat:concat});return typed("and",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.FO,"Complex, Complex":function ComplexComplex(x,y){return!(0===x.re&&0===x.im||0===y.re&&0===y.im)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return!(x.isZero()||y.isZero()||x.isNaN()||y.isNaN())},"Unit, Unit":typed.referToSelf((self=>(x,y)=>self(x.value||0,y.value||0))),"SparseMatrix, any":typed.referToSelf((self=>(x,y)=>not(y)?zeros(x.size(),x.storage()):matAlgo11xS0s(x,y,self,!1))),"DenseMatrix, any":typed.referToSelf((self=>(x,y)=>not(y)?zeros(x.size(),x.storage()):matAlgo14xDs(x,y,self,!1))),"any, SparseMatrix":typed.referToSelf((self=>(x,y)=>not(x)?zeros(x.size(),x.storage()):matAlgo11xS0s(y,x,self,!0))),"any, DenseMatrix":typed.referToSelf((self=>(x,y)=>not(x)?zeros(x.size(),x.storage()):matAlgo14xDs(y,x,self,!0))),"Array, any":typed.referToSelf((self=>(x,y)=>self(matrix(x),y).valueOf())),"any, Array":typed.referToSelf((self=>(x,y)=>self(x,matrix(y)).valueOf()))},matrixAlgorithmSuite({SS:matAlgo06xS0S0,DS:matAlgo02xDS0}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/logical/not.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return createNot}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/logical.js"),dependencies=["typed"],createNot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("not",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("not",{"null | undefined":()=>!0,number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.xY,Complex:function Complex(x){return 0===x.re&&0===x.im},BigNumber:function BigNumber(x){return x.isZero()||x.isNaN()},Unit:typed.referToSelf((self=>x=>typed.find(self,x.valueType())(x.value))),"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/logical/or.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return createOr}});var _type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matAlgo05xSfSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo05xSfSf.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/logical.js"),dependencies=["typed","matrix","equalScalar","DenseMatrix","concat"],createOr=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("or",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__.$)({typed:typed}),matAlgo05xSfSf=(0,_type_matrix_utils_matAlgo05xSfSf_js__WEBPACK_IMPORTED_MODULE_2__.b)({typed:typed,equalScalar:equalScalar}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__.O)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat});return typed("or",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__.RY,"Complex, Complex":function ComplexComplex(x,y){return 0!==x.re||0!==x.im||0!==y.re||0!==y.im},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return!x.isZero()&&!x.isNaN()||!y.isZero()&&!y.isNaN()},"Unit, Unit":typed.referToSelf((self=>(x,y)=>self(x.value||0,y.value||0)))},matrixAlgorithmSuite({SS:matAlgo05xSfSf,DS:matAlgo03xDSf,Ss:matAlgo12xSfs}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/logical/xor.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return createXor}});var _type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo07xSSf.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/logical.js"),dependencies=["typed","matrix","DenseMatrix","concat"],createXor=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("xor",dependencies,(_ref=>{var{typed:typed,matrix:matrix,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__.$)({typed:typed}),matAlgo07xSSf=(0,_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__.G)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__.O)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat});return typed("xor",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__.kl,"Complex, Complex":function ComplexComplex(x,y){return(0!==x.re||0!==x.im)!=(0!==y.re||0!==y.im)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return(!x.isZero()&&!x.isNaN())!=(!y.isZero()&&!y.isNaN())},"Unit, Unit":typed.referToSelf((self=>(x,y)=>self(x.value||0,y.value||0)))},matrixAlgorithmSuite({SS:matAlgo07xSSf,DS:matAlgo03xDSf,Ss:matAlgo12xSfs}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/apply.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{j:function(){return createApply}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_error_IndexError_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/IndexError.js"),dependencies=["typed","isInteger"],createApply=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("apply",dependencies,(_ref=>{var{typed:typed,isInteger:isInteger}=_ref;return typed("apply",{"Array | Matrix, number | BigNumber, function":function ArrayMatrixNumberBigNumberFunction(mat,dim,callback){if(!isInteger(dim))throw new TypeError("Integer number expected for dimension");var size=Array.isArray(mat)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(mat):mat.size();if(dim<0||dim>=size.length)throw new _error_IndexError_js__WEBPACK_IMPORTED_MODULE_2__.c(dim,size.length);return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.SW)(mat)?mat.create(_apply(mat.valueOf(),dim,callback)):_apply(mat,dim,callback)}})}));function _apply(mat,dim,callback){var i,ret,tran;if(dim<=0){if(Array.isArray(mat[0])){for(tran=function _switch(mat){var i,j,I=mat.length,J=mat[0].length,ret=[];for(j=0;j<J;j++){var tmp=[];for(i=0;i<I;i++)tmp.push(mat[i][j]);ret.push(tmp)}return ret}(mat),ret=[],i=0;i<tran.length;i++)ret[i]=_apply(tran[i],dim-1,callback);return ret}return callback(mat)}for(ret=[],i=0;i<mat.length;i++)ret[i]=_apply(mat[i],dim-1,callback);return ret}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/column.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createColumn}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["typed","Index","matrix","range"],createColumn=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("column",dependencies,(_ref=>{var{typed:typed,Index:Index,matrix:matrix,range:range}=_ref;return typed("column",{"Matrix, number":_column,"Array, number":function ArrayNumber(value,column){return _column(matrix((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(value)),column).valueOf()}});function _column(value,column){if(2!==value.size().length)throw new Error("Only two dimensional matrix is supported");(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.Ls)(column,value.size()[1]);var rowRange=range(0,value.size()[0]),index=new Index(rowRange,column),result=value.subset(index);return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.SW)(result)?result:matrix([[result]])}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/concat.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return createConcat}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_error_IndexError_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/IndexError.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","isInteger"],createConcat=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("concat",dependencies,(_ref=>{var{typed:typed,matrix:matrix,isInteger:isInteger}=_ref;return typed("concat",{"...Array | Matrix | number | BigNumber":function ArrayMatrixNumberBigNumber(args){var i,prevDim,len=args.length,dim=-1,asMatrix=!1,matrices=[];for(i=0;i<len;i++){var arg=args[i];if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arg)&&(asMatrix=!0),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(arg)||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(arg)){if(i!==len-1)throw new Error("Dimension must be specified as last argument");if(prevDim=dim,dim=arg.valueOf(),!isInteger(dim))throw new TypeError("Integer number expected for dimension");if(dim<0||i>0&&dim>prevDim)throw new _error_IndexError_js__WEBPACK_IMPORTED_MODULE_2__.c(dim,prevDim+1)}else{var m=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.d9)(arg).valueOf(),size=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_4__.aJ)(m);if(matrices[i]=m,prevDim=dim,dim=size.length-1,i>0&&dim!==prevDim)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_5__.m(prevDim+1,dim+1)}}if(0===matrices.length)throw new SyntaxError("At least one matrix expected");for(var res=matrices.shift();matrices.length;)res=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_4__.zo)(res,matrices.shift(),dim);return asMatrix?matrix(res):res},"...string":function string(args){return args.join("")}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/count.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return createCount}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","prod"],createCount=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("count",dependencies,(_ref=>{var{typed:typed,size:size,prod:prod}=_ref;return typed("count",{string:function string(x){return x.length},"Matrix | Array":function MatrixArray(x){return prod(size(x))}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/cross.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return createCross}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","subtract","multiply"],createCross=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("cross",dependencies,(_ref=>{var{typed:typed,matrix:matrix,subtract:subtract,multiply:multiply}=_ref;return typed("cross",{"Matrix, Matrix":function MatrixMatrix(x,y){return matrix(_cross(x.toArray(),y.toArray()))},"Matrix, Array":function MatrixArray(x,y){return matrix(_cross(x.toArray(),y))},"Array, Matrix":function ArrayMatrix(x,y){return matrix(_cross(x,y.toArray()))},"Array, Array":_cross});function _cross(x,y){var highestDimension=Math.max((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x).length,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(y).length);x=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.L9)(x),y=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.L9)(y);var xSize=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),ySize=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(y);if(1!==xSize.length||1!==ySize.length||3!==xSize[0]||3!==ySize[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+xSize.join(", ")+"], B = ["+ySize.join(", ")+"])");var product=[subtract(multiply(x[1],y[2]),multiply(x[2],y[1])),subtract(multiply(x[2],y[0]),multiply(x[0],y[2])),subtract(multiply(x[0],y[1]),multiply(x[1],y[0]))];return highestDimension>1?[product]:product}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/ctranspose.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{t:function(){return createCtranspose}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","transpose","conj"],createCtranspose=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("ctranspose",dependencies,(_ref=>{var{typed:typed,transpose:transpose,conj:conj}=_ref;return typed("ctranspose",{any:function any(x){return conj(transpose(x))}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/det.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{S:function(){return createDet}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],createDet=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("det",dependencies,(_ref=>{var{typed:typed,matrix:matrix,subtractScalar:subtractScalar,multiply:multiply,divideScalar:divideScalar,isZero:isZero,unaryMinus:unaryMinus}=_ref;return typed("det",{any:function any(x){return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(x)},"Array | Matrix":function det(x){var size;switch((size=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW)(x)?x.size():Array.isArray(x)?(x=matrix(x)).size():[]).length){case 0:return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(x);case 1:if(1===size[0])return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(x.valueOf()[0]);if(0===size[0])return 1;throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")");case 2:var rows=size[0],cols=size[1];if(rows===cols)return function _det(matrix,rows,cols){if(1===rows)return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(matrix[0][0]);if(2===rows)return subtractScalar(multiply(matrix[0][0],matrix[1][1]),multiply(matrix[1][0],matrix[0][1]));for(var negated=!1,rowIndices=new Array(rows).fill(0).map(((_,i)=>i)),k=0;k<rows;k++){var k_=rowIndices[k];if(isZero(matrix[k_][k])){var _k=void 0;for(_k=k+1;_k<rows;_k++)if(!isZero(matrix[rowIndices[_k]][k])){k_=rowIndices[_k],rowIndices[_k]=rowIndices[k],rowIndices[k]=k_,negated=!negated;break}if(_k===rows)return matrix[k_][k]}for(var piv=matrix[k_][k],piv_=0===k?1:matrix[rowIndices[k-1]][k-1],i=k+1;i<rows;i++)for(var i_=rowIndices[i],j=k+1;j<rows;j++)matrix[i_][j]=divideScalar(subtractScalar(multiply(matrix[i_][j],piv),multiply(matrix[i_][k],matrix[k_][j])),piv_)}var det=matrix[rowIndices[rows-1]][rows-1];return negated?unaryMinus(det):det}(x.clone().valueOf(),rows);if(0===cols)return 1;throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")")}}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/diag.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return createDiag}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","DenseMatrix","SparseMatrix"],createDiag=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("diag",dependencies,(_ref=>{var{typed:typed,matrix:matrix,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix}=_ref;return typed("diag",{Array:function Array(x){return _diag(x,0,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),null)},"Array, number":function ArrayNumber(x,k){return _diag(x,k,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),null)},"Array, BigNumber":function ArrayBigNumber(x,k){return _diag(x,k.toNumber(),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),null)},"Array, string":function ArrayString(x,format){return _diag(x,0,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),format)},"Array, number, string":function ArrayNumberString(x,k,format){return _diag(x,k,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),format)},"Array, BigNumber, string":function ArrayBigNumberString(x,k,format){return _diag(x,k.toNumber(),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),format)},Matrix:function Matrix(x){return _diag(x,0,x.size(),x.storage())},"Matrix, number":function MatrixNumber(x,k){return _diag(x,k,x.size(),x.storage())},"Matrix, BigNumber":function MatrixBigNumber(x,k){return _diag(x,k.toNumber(),x.size(),x.storage())},"Matrix, string":function MatrixString(x,format){return _diag(x,0,x.size(),format)},"Matrix, number, string":function MatrixNumberString(x,k,format){return _diag(x,k,x.size(),format)},"Matrix, BigNumber, string":function MatrixBigNumberString(x,k,format){return _diag(x,k.toNumber(),x.size(),format)}});function _diag(x,k,size,format){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(k))throw new TypeError("Second parameter in function diag must be an integer");var kSuper=k>0?k:0,kSub=k<0?-k:0;switch(size.length){case 1:return function _createDiagonalMatrix(x,k,format,l,kSub,kSuper){var ms=[l+kSub,l+kSuper];if(format&&"sparse"!==format&&"dense"!==format)throw new TypeError("Unknown matrix type ".concat(format,'"'));var m="sparse"===format?SparseMatrix.diagonal(ms,x,k):DenseMatrix.diagonal(ms,x,k);return null!==format?m:m.valueOf()}(x,k,format,size[0],kSub,kSuper);case 2:return function _getDiagonal(x,k,format,s,kSub,kSuper){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.SW)(x)){var dm=x.diagonal(k);return null!==format?format!==dm.storage()?matrix(dm,format):dm:dm.valueOf()}for(var n=Math.min(s[0]-kSub,s[1]-kSuper),vector=[],i=0;i<n;i++)vector[i]=x[i+kSub][i+kSuper];return null!==format?matrix(vector):vector}(x,k,format,size,kSub,kSuper)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/diff.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J:function(){return createDiff}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","matrix","subtract","number"],createDiff=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("diff",dependencies,(_ref=>{var{typed:typed,matrix:matrix,subtract:subtract,number:number}=_ref;return typed("diff",{"Array | Matrix":function ArrayMatrix(arr){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arr)?matrix(_diff(arr.toArray())):_diff(arr)},"Array | Matrix, number":function ArrayMatrixNumber(arr,dim){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(dim))throw new RangeError("Dimension must be a whole number");return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arr)?matrix(_recursive(arr.toArray(),dim)):_recursive(arr,dim)},"Array, BigNumber":typed.referTo("Array,number",(selfAn=>(arr,dim)=>selfAn(arr,number(dim)))),"Matrix, BigNumber":typed.referTo("Matrix,number",(selfMn=>(arr,dim)=>selfMn(arr,number(dim))))});function _recursive(arr,dim){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arr)&&(arr=arr.toArray()),!Array.isArray(arr))throw RangeError("Array/Matrix does not have that many dimensions");if(dim>0){var result=[];return arr.forEach((element=>{result.push(_recursive(element,dim-1))})),result}if(0===dim)return _diff(arr);throw RangeError("Cannot have negative dimension")}function _diff(arr){for(var result=[],size=arr.length,i=1;i<size;i++)result.push(_ElementDiff(arr[i-1],arr[i]));return result}function _ElementDiff(obj1,obj2){(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(obj1)&&(obj1=obj1.toArray()),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(obj2)&&(obj2=obj2.toArray());var obj1IsArray=Array.isArray(obj1),obj2IsArray=Array.isArray(obj2);if(obj1IsArray&&obj2IsArray)return function _ArrayDiff(arr1,arr2){if(arr1.length!==arr2.length)throw RangeError("Not all sub-arrays have the same length");for(var result=[],size=arr1.length,i=0;i<size;i++)result.push(_ElementDiff(arr1[i],arr2[i]));return result}(obj1,obj2);if(!obj1IsArray&&!obj2IsArray)return subtract(obj2,obj1);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/dot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{W:function(){return createDot}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","addScalar","multiplyScalar","conj","size"],createDot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("dot",dependencies,(_ref=>{var{typed:typed,addScalar:addScalar,multiplyScalar:multiplyScalar,conj:conj,size:size}=_ref;return typed("dot",{"Array | DenseMatrix, Array | DenseMatrix":function _denseDot(a,b){var N=_validateDim(a,b),adata=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(a)?a._data:a,adt=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(a)?a._datatype||a.getDataType():void 0,bdata=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(b)?b._data:b,bdt=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(b)?b._datatype||b.getDataType():void 0,aIsColumn=2===_size(a).length,bIsColumn=2===_size(b).length,add=addScalar,mul=multiplyScalar;if(adt&&bdt&&adt===bdt&&"string"==typeof adt&&"mixed"!==adt){var dt=adt;add=typed.find(addScalar,[dt,dt]),mul=typed.find(multiplyScalar,[dt,dt])}if(!aIsColumn&&!bIsColumn){for(var c=mul(conj(adata[0]),bdata[0]),i=1;i<N;i++)c=add(c,mul(conj(adata[i]),bdata[i]));return c}if(!aIsColumn&&bIsColumn){for(var _c=mul(conj(adata[0]),bdata[0][0]),_i=1;_i<N;_i++)_c=add(_c,mul(conj(adata[_i]),bdata[_i][0]));return _c}if(aIsColumn&&!bIsColumn){for(var _c2=mul(conj(adata[0][0]),bdata[0]),_i2=1;_i2<N;_i2++)_c2=add(_c2,mul(conj(adata[_i2][0]),bdata[_i2]));return _c2}if(aIsColumn&&bIsColumn){for(var _c3=mul(conj(adata[0][0]),bdata[0][0]),_i3=1;_i3<N;_i3++)_c3=add(_c3,mul(conj(adata[_i3][0]),bdata[_i3][0]));return _c3}},"SparseMatrix, SparseMatrix":function _sparseDot(x,y){_validateDim(x,y);var xindex=x._index,xvalues=x._values,yindex=y._index,yvalues=y._values,c=0,add=addScalar,mul=multiplyScalar,i=0,j=0;for(;i<xindex.length&&j<yindex.length;){var I=xindex[i],J=yindex[j];I<J?i++:I>J?j++:I===J&&(c=add(c,mul(xvalues[i],yvalues[j])),i++,j++)}return c}});function _validateDim(x,y){var xLen,yLen,xSize=_size(x),ySize=_size(y);if(1===xSize.length)xLen=xSize[0];else{if(2!==xSize.length||1!==xSize[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+xSize.join(", ")+")");xLen=xSize[0]}if(1===ySize.length)yLen=ySize[0];else{if(2!==ySize.length||1!==ySize[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+ySize.join(", ")+")");yLen=ySize[0]}if(xLen!==yLen)throw new RangeError("Vectors must have equal length ("+xLen+" != "+yLen+")");if(0===xLen)throw new RangeError("Cannot calculate the dot product of empty vectors");return xLen}function _size(x){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(x)?x.size():size(x)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/eigs.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return createEigs}});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),factory=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),string=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),object=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js");function createComplexEigs(_ref){var{addScalar:addScalar,subtract:subtract,flatten:flatten,multiply:multiply,multiplyScalar:multiplyScalar,divideScalar:divideScalar,sqrt:sqrt,abs:abs,bignumber:bignumber,diag:diag,size:size,reshape:reshape,inv:inv,qr:qr,usolve:usolve,usolveAll:usolveAll,equal:equal,complex:complex,larger:larger,smaller:smaller,matrixFromColumns:matrixFromColumns,dot:dot}=_ref;function eigenvalues2x2(a,b,c,d){var trA=addScalar(a,d),detA=subtract(multiplyScalar(a,d),multiplyScalar(b,c)),x=multiplyScalar(trA,.5),y=multiplyScalar(sqrt(subtract(multiplyScalar(trA,trA),multiplyScalar(4,detA))),.5);return[addScalar(x,y),subtract(x,y)]}function jordanBase2x2(a,b,c,d,l1,l2,prec,type){var big="BigNumber"===type,cplx="Complex"===type,zero=big?bignumber(0):cplx?complex(0):0,one=big?bignumber(1):cplx?complex(1):1;if(smaller(abs(c),prec))return[[one,zero],[zero,one]];if(larger(abs(subtract(l1,l2)),prec))return[[subtract(l1,d),subtract(l2,d)],[c,c]];var na=subtract(a,l1),nd=subtract(d,l1);return smaller(abs(b),prec)&&smaller(abs(nd),prec)?[[na,one],[c,zero]]:[[b,zero],[nd,one]]}function inflateMatrix(arr,N){for(var i=0;i<arr.length;i++)arr[i].push(...Array(N-arr[i].length).fill(0));for(var _i5=arr.length;_i5<N;_i5++)arr.push(Array(N).fill(0)),arr[_i5][_i5]=1;return arr}function indexOf(arr,el,fn){for(var i=0;i<arr.length;i++)if(fn(arr[i],el))return i;return-1}function inverseIterate(A,N,orthog,prec,type){for(var b,largeNum="BigNumber"===type?bignumber(1e3):1e3,i=0;i<5;++i){b=randomOrthogonalVector(N,orthog,type);try{b=usolve(A,b)}catch(_unused){continue}if(larger(norm(b),largeNum))break}if(i>=5)return null;for(i=0;;){var c=usolve(A,b);if(smaller(norm(orthogonalComplement(b,[c])),prec))break;if(++i>=10)return null;b=normalize(c)}return b}function randomOrthogonalVector(N,orthog,type){var big="BigNumber"===type,cplx="Complex"===type,v=Array(N).fill(0).map((_=>2*Math.random()-1));return big&&(v=v.map((n=>bignumber(n)))),cplx&&(v=v.map((n=>complex(n)))),normalize(v=orthogonalComplement(v,orthog),type)}function orthogonalComplement(v,orthog){var vectorShape=size(v);for(var w of orthog)w=reshape(w,vectorShape),v=subtract(v,multiply(divideScalar(dot(w,v),dot(w,w)),w));return v}function norm(v){return abs(sqrt(dot(v,v)))}function normalize(v,type){var cplx="Complex"===type,one="BigNumber"===type?bignumber(1):cplx?complex(1):1;return multiply(divideScalar(one,norm(v)),v)}return function complexEigs(arr,N,prec,type){var findVectors=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],R=function balance(arr,N,prec,type,findVectors){var Rdiag,big="BigNumber"===type,cplx="Complex"===type,realzero=big?bignumber(0):0,one=big?bignumber(1):cplx?complex(1):1,realone=big?bignumber(1):1,radix=big?bignumber(10):2,radixSq=multiplyScalar(radix,radix);findVectors&&(Rdiag=Array(N).fill(one));var last=!1;for(;!last;){last=!0;for(var i=0;i<N;i++){for(var colNorm=realzero,rowNorm=realzero,j=0;j<N;j++)i!==j&&(colNorm=addScalar(colNorm,abs(arr[j][i])),rowNorm=addScalar(rowNorm,abs(arr[i][j])));if(!equal(colNorm,0)&&!equal(rowNorm,0)){for(var f=realone,c=colNorm,rowDivRadix=divideScalar(rowNorm,radix),rowMulRadix=multiplyScalar(rowNorm,radix);smaller(c,rowDivRadix);)c=multiplyScalar(c,radixSq),f=multiplyScalar(f,radix);for(;larger(c,rowMulRadix);)c=divideScalar(c,radixSq),f=divideScalar(f,radix);if(smaller(divideScalar(addScalar(c,rowNorm),f),multiplyScalar(addScalar(colNorm,rowNorm),.95))){last=!1;for(var g=divideScalar(1,f),_j=0;_j<N;_j++)i!==_j&&(arr[i][_j]=multiplyScalar(arr[i][_j],g),arr[_j][i]=multiplyScalar(arr[_j][i],f));findVectors&&(Rdiag[i]=multiplyScalar(Rdiag[i],g))}}}}return findVectors?diag(Rdiag):null}(arr,N,0,type,findVectors);!function reduceToHessenberg(arr,N,prec,type,findVectors,R){var big="BigNumber"===type,cplx="Complex"===type,zero=big?bignumber(0):cplx?complex(0):0;big&&(prec=bignumber(prec));for(var i=0;i<N-2;i++){for(var maxIndex=0,max=zero,j=i+1;j<N;j++){var el=arr[j][i];smaller(abs(max),abs(el))&&(max=el,maxIndex=j)}if(!smaller(abs(max),prec)){if(maxIndex!==i+1){var tmp1=arr[maxIndex];arr[maxIndex]=arr[i+1],arr[i+1]=tmp1;for(var _j2=0;_j2<N;_j2++){var tmp2=arr[_j2][maxIndex];arr[_j2][maxIndex]=arr[_j2][i+1],arr[_j2][i+1]=tmp2}if(findVectors){var tmp3=R[maxIndex];R[maxIndex]=R[i+1],R[i+1]=tmp3}}for(var _j3=i+2;_j3<N;_j3++){var n=divideScalar(arr[_j3][i],max);if(0!==n){for(var k=0;k<N;k++)arr[_j3][k]=subtract(arr[_j3][k],multiplyScalar(n,arr[i+1][k]));for(var _k=0;_k<N;_k++)arr[_k][i+1]=addScalar(arr[_k][i+1],multiplyScalar(n,arr[_k][_j3]));if(findVectors)for(var _k2=0;_k2<N;_k2++)R[_j3][_k2]=subtract(R[_j3][_k2],multiplyScalar(n,R[i+1][_k2]))}}}}return R}(arr,N,prec,type,findVectors,R);var{values:values,C:C}=function iterateUntilTriangular(A,N,prec,type,findVectors){var big="BigNumber"===type,cplx="Complex"===type,one=big?bignumber(1):cplx?complex(1):1;big&&(prec=bignumber(prec));var arr=(0,object.d9)(A),lambdas=[],n=N,Sdiag=[],Qtotal=findVectors?diag(Array(N).fill(one)):void 0,Qpartial=findVectors?diag(Array(n).fill(one)):void 0,lastConvergenceBefore=0;for(;lastConvergenceBefore<=100;){lastConvergenceBefore+=1;for(var k=arr[n-1][n-1],i=0;i<n;i++)arr[i][i]=subtract(arr[i][i],k);var{Q:Q,R:R}=qr(arr);arr=multiply(R,Q);for(var _i=0;_i<n;_i++)arr[_i][_i]=addScalar(arr[_i][_i],k);if(findVectors&&(Qpartial=multiply(Qpartial,Q)),1===n||smaller(abs(arr[n-1][n-2]),prec)){lastConvergenceBefore=0,lambdas.push(arr[n-1][n-1]),findVectors&&(Sdiag.unshift([[1]]),inflateMatrix(Qpartial,N),Qtotal=multiply(Qtotal,Qpartial),n>1&&(Qpartial=diag(Array(n-1).fill(one)))),n-=1,arr.pop();for(var _i2=0;_i2<n;_i2++)arr[_i2].pop()}else if(2===n||smaller(abs(arr[n-2][n-3]),prec)){lastConvergenceBefore=0;var ll=eigenvalues2x2(arr[n-2][n-2],arr[n-2][n-1],arr[n-1][n-2],arr[n-1][n-1]);lambdas.push(...ll),findVectors&&(Sdiag.unshift(jordanBase2x2(arr[n-2][n-2],arr[n-2][n-1],arr[n-1][n-2],arr[n-1][n-1],ll[0],ll[1],prec,type)),inflateMatrix(Qpartial,N),Qtotal=multiply(Qtotal,Qpartial),n>2&&(Qpartial=diag(Array(n-2).fill(one)))),n-=2,arr.pop(),arr.pop();for(var _i3=0;_i3<n;_i3++)arr[_i3].pop(),arr[_i3].pop()}if(0===n)break}if(lambdas.sort(((a,b)=>+subtract(abs(a),abs(b)))),lastConvergenceBefore>100){var err=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+lambdas.join(", "));throw err.values=lambdas,err.vectors=[],err}var C=findVectors?multiply(Qtotal,function blockDiag(arr,N){for(var M=[],i=0;i<N;i++)M[i]=Array(N).fill(0);var I=0;for(var sub of arr){for(var n=sub.length,_i6=0;_i6<n;_i6++)for(var j=0;j<n;j++)M[I+_i6][I+j]=sub[_i6][j];I+=n}return M}(Sdiag,N)):void 0;return{values:lambdas,C:C}}(arr,N,prec,type,findVectors);if(findVectors){var eigenvectors=function findEigenvectors(A,N,C,R,values,prec,type){var Cinv=inv(C),U=multiply(Cinv,A,C),big="BigNumber"===type,cplx="Complex"===type,zero=big?bignumber(0):cplx?complex(0):0,one=big?bignumber(1):cplx?complex(1):1,uniqueValues=[],multiplicities=[];for(var lambda of values){var i=indexOf(uniqueValues,lambda,equal);-1===i?(uniqueValues.push(lambda),multiplicities.push(1)):multiplicities[i]+=1}for(var vectors=[],len=uniqueValues.length,b=Array(N).fill(zero),E=diag(Array(N).fill(one)),_loop=function _loop(){var lambda=uniqueValues[_i4],S=subtract(U,multiply(lambda,E)),solutions=usolveAll(S,b);for(solutions.shift();solutions.length<multiplicities[_i4];){var approxVec=inverseIterate(S,N,solutions,prec,type);if(null===approxVec)break;solutions.push(approxVec)}var correction=multiply(inv(R),C);solutions=solutions.map((v=>multiply(correction,v))),vectors.push(...solutions.map((v=>({value:lambda,vector:flatten(v)}))))},_i4=0;_i4<len;_i4++)_loop();return vectors}(arr,N,C,R,values,prec,type);return{values:values,eigenvectors:eigenvectors}}return{values:values}}}function createRealSymmetric(_ref){var{config:config,addScalar:addScalar,subtract:subtract,abs:abs,atan:atan,cos:cos,sin:sin,multiplyScalar:multiplyScalar,inv:inv,bignumber:bignumber,multiply:multiply,add:add}=_ref;function getTheta(aii,ajj,aij){var denom=ajj-aii;return Math.abs(denom)<=config.epsilon?Math.PI/4:.5*Math.atan(2*aij/(ajj-aii))}function getThetaBig(aii,ajj,aij){var denom=subtract(ajj,aii);return abs(denom)<=config.epsilon?bignumber(-1).acos().div(4):multiplyScalar(.5,atan(multiply(2,aij,inv(denom))))}function Sij1(Sij,theta,i,j){for(var N=Sij.length,c=Math.cos(theta),s=Math.sin(theta),Ski=Array(N).fill(0),Skj=Array(N).fill(0),k=0;k<N;k++)Ski[k]=c*Sij[k][i]-s*Sij[k][j],Skj[k]=s*Sij[k][i]+c*Sij[k][j];for(var _k=0;_k<N;_k++)Sij[_k][i]=Ski[_k],Sij[_k][j]=Skj[_k];return Sij}function Sij1Big(Sij,theta,i,j){for(var N=Sij.length,c=cos(theta),s=sin(theta),Ski=Array(N).fill(bignumber(0)),Skj=Array(N).fill(bignumber(0)),k=0;k<N;k++)Ski[k]=subtract(multiplyScalar(c,Sij[k][i]),multiplyScalar(s,Sij[k][j])),Skj[k]=addScalar(multiplyScalar(s,Sij[k][i]),multiplyScalar(c,Sij[k][j]));for(var _k2=0;_k2<N;_k2++)Sij[_k2][i]=Ski[_k2],Sij[_k2][j]=Skj[_k2];return Sij}function x1Big(Hij,theta,i,j){for(var N=Hij.length,c=bignumber(cos(theta)),s=bignumber(sin(theta)),c2=multiplyScalar(c,c),s2=multiplyScalar(s,s),Aki=Array(N).fill(bignumber(0)),Akj=Array(N).fill(bignumber(0)),csHij=multiply(bignumber(2),c,s,Hij[i][j]),Aii=addScalar(subtract(multiplyScalar(c2,Hij[i][i]),csHij),multiplyScalar(s2,Hij[j][j])),Ajj=add(multiplyScalar(s2,Hij[i][i]),csHij,multiplyScalar(c2,Hij[j][j])),k=0;k<N;k++)Aki[k]=subtract(multiplyScalar(c,Hij[i][k]),multiplyScalar(s,Hij[j][k])),Akj[k]=addScalar(multiplyScalar(s,Hij[i][k]),multiplyScalar(c,Hij[j][k]));Hij[i][i]=Aii,Hij[j][j]=Ajj,Hij[i][j]=bignumber(0),Hij[j][i]=bignumber(0);for(var _k3=0;_k3<N;_k3++)_k3!==i&&_k3!==j&&(Hij[i][_k3]=Aki[_k3],Hij[_k3][i]=Aki[_k3],Hij[j][_k3]=Akj[_k3],Hij[_k3][j]=Akj[_k3]);return Hij}function x1(Hij,theta,i,j){for(var N=Hij.length,c=Math.cos(theta),s=Math.sin(theta),c2=c*c,s2=s*s,Aki=Array(N).fill(0),Akj=Array(N).fill(0),Aii=c2*Hij[i][i]-2*c*s*Hij[i][j]+s2*Hij[j][j],Ajj=s2*Hij[i][i]+2*c*s*Hij[i][j]+c2*Hij[j][j],k=0;k<N;k++)Aki[k]=c*Hij[i][k]-s*Hij[j][k],Akj[k]=s*Hij[i][k]+c*Hij[j][k];Hij[i][i]=Aii,Hij[j][j]=Ajj,Hij[i][j]=0,Hij[j][i]=0;for(var _k4=0;_k4<N;_k4++)_k4!==i&&_k4!==j&&(Hij[i][_k4]=Aki[_k4],Hij[_k4][i]=Aki[_k4],Hij[j][_k4]=Akj[_k4],Hij[_k4][j]=Akj[_k4]);return Hij}function getAij(Mij){for(var N=Mij.length,maxMij=0,maxIJ=[0,1],i=0;i<N;i++)for(var j=i+1;j<N;j++)Math.abs(maxMij)<Math.abs(Mij[i][j])&&(maxMij=Math.abs(Mij[i][j]),maxIJ=[i,j]);return[maxIJ,maxMij]}function getAijBig(Mij){for(var N=Mij.length,maxMij=0,maxIJ=[0,1],i=0;i<N;i++)for(var j=i+1;j<N;j++)abs(maxMij)<abs(Mij[i][j])&&(maxMij=abs(Mij[i][j]),maxIJ=[i,j]);return[maxIJ,maxMij]}function sorting(E,S,computeVectors){var vecs,N=E.length,values=Array(N);if(computeVectors){vecs=Array(N);for(var k=0;k<N;k++)vecs[k]=Array(N)}for(var i=0;i<N;i++){for(var minID=0,minE=E[0],j=0;j<E.length;j++)abs(E[j])<abs(minE)&&(minE=E[minID=j]);if(values[i]=E.splice(minID,1)[0],computeVectors)for(var _k5=0;_k5<N;_k5++)vecs[i][_k5]=S[_k5][minID],S[_k5].splice(minID,1)}if(!computeVectors)return{values:values};var eigenvectors=vecs.map(((vector,i)=>({value:values[i],vector:vector})));return{values:values,eigenvectors:eigenvectors}}return function main(arr,N){var prec=arguments.length>2&&void 0!==arguments[2]?arguments[2]:config.epsilon,type=arguments.length>3?arguments[3]:void 0,computeVectors=arguments.length>4?arguments[4]:void 0;if("number"===type)return function diag(x,precision,computeVectors){var psi,Sij,N=x.length,e0=Math.abs(precision/N);if(computeVectors){Sij=new Array(N);for(var i=0;i<N;i++)Sij[i]=Array(N).fill(0),Sij[i][i]=1}var Vab=getAij(x);for(;Math.abs(Vab[1])>=Math.abs(e0);){var _i=Vab[0][0],j=Vab[0][1];x=x1(x,psi=getTheta(x[_i][_i],x[j][j],x[_i][j]),_i,j),computeVectors&&(Sij=Sij1(Sij,psi,_i,j)),Vab=getAij(x)}for(var Ei=Array(N).fill(0),_i2=0;_i2<N;_i2++)Ei[_i2]=x[_i2][_i2];return sorting((0,object.d9)(Ei),Sij,computeVectors)}(arr,prec,computeVectors);if("BigNumber"===type)return function diagBig(x,precision,computeVectors){var psi,Sij,N=x.length,e0=abs(precision/N);if(computeVectors){Sij=new Array(N);for(var i=0;i<N;i++)Sij[i]=Array(N).fill(0),Sij[i][i]=1}var Vab=getAijBig(x);for(;abs(Vab[1])>=abs(e0);){var _i3=Vab[0][0],j=Vab[0][1];x=x1Big(x,psi=getThetaBig(x[_i3][_i3],x[j][j],x[_i3][j]),_i3,j),computeVectors&&(Sij=Sij1Big(Sij,psi,_i3,j)),Vab=getAijBig(x)}for(var Ei=Array(N).fill(0),_i4=0;_i4<N;_i4++)Ei[_i4]=x[_i4][_i4];return sorting((0,object.d9)(Ei),Sij,computeVectors)}(arr,prec,computeVectors);throw TypeError("Unsupported data type: "+type)}}var is=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],createEigs=(0,factory.d5)("eigs",dependencies,(_ref=>{var{config:config,typed:typed,matrix:matrix,addScalar:addScalar,subtract:subtract,equal:equal,abs:abs,atan:atan,cos:cos,sin:sin,multiplyScalar:multiplyScalar,divideScalar:divideScalar,inv:inv,bignumber:bignumber,multiply:multiply,add:add,larger:larger,column:column,flatten:flatten,number:number,complex:complex,sqrt:sqrt,diag:diag,size:size,reshape:reshape,qr:qr,usolve:usolve,usolveAll:usolveAll,im:im,re:re,smaller:smaller,matrixFromColumns:matrixFromColumns,dot:dot}=_ref,doRealSymmetric=createRealSymmetric({config:config,addScalar:addScalar,subtract:subtract,column:column,flatten:flatten,equal:equal,abs:abs,atan:atan,cos:cos,sin:sin,multiplyScalar:multiplyScalar,inv:inv,bignumber:bignumber,complex:complex,multiply:multiply,add:add}),doComplexEigs=createComplexEigs({config:config,addScalar:addScalar,subtract:subtract,multiply:multiply,multiplyScalar:multiplyScalar,flatten:flatten,divideScalar:divideScalar,sqrt:sqrt,abs:abs,bignumber:bignumber,diag:diag,size:size,reshape:reshape,qr:qr,inv:inv,usolve:usolve,usolveAll:usolveAll,equal:equal,complex:complex,larger:larger,smaller:smaller,matrixFromColumns:matrixFromColumns,dot:dot});return typed("eigs",{Array:function Array(x){return doEigs(matrix(x))},"Array, number|BigNumber":function ArrayNumberBigNumber(x,prec){return doEigs(matrix(x),{precision:prec})},"Array, Object"(x,opts){return doEigs(matrix(x),opts)},Matrix:function Matrix(mat){return doEigs(mat,{matricize:!0})},"Matrix, number|BigNumber":function MatrixNumberBigNumber(mat,prec){return doEigs(mat,{precision:prec,matricize:!0})},"Matrix, Object":function MatrixObject(mat,opts){var useOpts={matricize:!0};return(0,esm_extends.Z)(useOpts,opts),doEigs(mat,useOpts)}});function doEigs(mat){var _opts$precision,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},computeVectors=!("eigenvectors"in opts)||opts.eigenvectors,result=function computeValuesAndVectors(mat,prec,computeVectors){var arr=mat.toArray(),asize=mat.size();if(2!==asize.length||asize[0]!==asize[1])throw new RangeError("Matrix must be square (size: ".concat((0,string.WU)(asize),")"));var N=asize[0];if(function isReal(arr,N,prec){for(var i=0;i<N;i++)for(var j=0;j<N;j++)if(larger(bignumber(abs(im(arr[i][j]))),prec))return!1;return!0}(arr,N,prec)&&(function coerceReal(arr,N){for(var i=0;i<N;i++)for(var j=0;j<N;j++)arr[i][j]=re(arr[i][j])}(arr,N),function isSymmetric(arr,N,prec){for(var i=0;i<N;i++)for(var j=i;j<N;j++)if(larger(bignumber(abs(subtract(arr[i][j],arr[j][i]))),prec))return!1;return!0}(arr,N,prec))){var _type=coerceTypes(mat,arr,N);return doRealSymmetric(arr,N,prec,_type,computeVectors)}var type=coerceTypes(mat,arr,N);return doComplexEigs(arr,N,prec,type,computeVectors)}(mat,null!==(_opts$precision=opts.precision)&&void 0!==_opts$precision?_opts$precision:config.epsilon,computeVectors);return opts.matricize&&(result.values=matrix(result.values),computeVectors&&(result.eigenvectors=result.eigenvectors.map((_ref2=>{var{value:value,vector:vector}=_ref2;return{value:value,vector:matrix(vector)}})))),computeVectors&&Object.defineProperty(result,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),result}function coerceTypes(mat,arr,N){var type=mat.datatype();if("number"===type||"BigNumber"===type||"Complex"===type)return type;for(var hasNumber=!1,hasBig=!1,hasComplex=!1,i=0;i<N;i++)for(var j=0;j<N;j++){var el=arr[i][j];if((0,is.hj)(el)||(0,is.yQ)(el))hasNumber=!0;else if((0,is.l9)(el))hasBig=!0;else{if(!(0,is.Mc)(el))throw TypeError("Unsupported type in Matrix: "+(0,is.kM)(el));hasComplex=!0}}if(hasBig&&hasComplex&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),hasComplex){for(var _i=0;_i<N;_i++)for(var _j=0;_j<N;_j++)arr[_i][_j]=complex(arr[_i][_j]);return"Complex"}if(hasBig){for(var _i2=0;_i2<N;_i2++)for(var _j2=0;_j2<N;_j2++)arr[_i2][_j2]=bignumber(arr[_i2][_j2]);return"BigNumber"}if(hasNumber){for(var _i3=0;_i3<N;_i3++)for(var _j3=0;_j3<N;_j3++)arr[_i3][_j3]=number(arr[_i3][_j3]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/expm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createExpm}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","abs","add","identity","inv","multiply"],createExpm=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("expm",dependencies,(_ref=>{var{typed:typed,abs:abs,add:add,identity:identity,inv:inv,multiply:multiply}=_ref;return typed("expm",{Matrix:function Matrix(A){var size=A.size();if(2!==size.length||size[0]!==size[1])throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_1__.WU)(size)+")");for(var n=size[0],infNorm=function infinityNorm(A){for(var n=A.size()[0],infNorm=0,i=0;i<n;i++){for(var rowSum=0,j=0;j<n;j++)rowSum+=abs(A.get([i,j]));infNorm=Math.max(rowSum,infNorm)}return infNorm}(A),params=function findParams(infNorm,eps){for(var maxSearchSize=30,k=0;k<maxSearchSize;k++)for(var q=0;q<=k;q++){var j=k-q;if(errorEstimate(infNorm,q,j)<eps)return{q:q,j:j}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(infNorm,1e-15),q=params.q,j=params.j,Apos=multiply(A,Math.pow(2,-j)),N=identity(n),D=identity(n),factor=1,AposToI=Apos,alternate=-1,i=1;i<=q;i++)i>1&&(AposToI=multiply(AposToI,Apos),alternate=-alternate),N=add(N,multiply(factor=factor*(q-i+1)/((2*q-i+1)*i),AposToI)),D=add(D,multiply(factor*alternate,AposToI));for(var R=multiply(inv(D),N),_i=0;_i<j;_i++)R=multiply(R,R);return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.sA)(A)?A.createSparseMatrix(R):R}});function errorEstimate(infNorm,q,j){for(var qfac=1,i=2;i<=q;i++)qfac*=i;for(var twoqfac=qfac,_i2=q+1;_i2<=2*q;_i2++)twoqfac*=_i2;var twoqp1fac=twoqfac*(2*q+1);return 8*Math.pow(infNorm/Math.pow(2,j),2*q)*qfac*qfac/(twoqfac*twoqp1fac)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/fft.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return createFft}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],createFft=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("fft",dependencies,(_ref=>{var{typed:typed,matrix:matrix,addScalar:addScalar,multiplyScalar:multiplyScalar,divideScalar:divideScalar,exp:exp,tau:tau,i:I,dotDivide:dotDivide,conj:conj,pow:pow,ceil:ceil,log2:log2}=_ref;return typed("fft",{Array:_ndFft,Matrix:function Matrix(matrix){return matrix.create(_ndFft(matrix.toArray()))}});function _ndFft(arr){var size=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(arr);return 1===size.length?_fft(arr,size[0]):_1dFft(arr.map((slice=>_ndFft(slice,size.slice(1)))),0)}function _1dFft(arr,dim){var size=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(arr);if(0!==dim)return new Array(size[0]).fill(0).map(((_,i)=>_1dFft(arr[i],dim-1)));if(1===size.length)return _fft(arr);function _transpose(arr){var size=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(arr);return new Array(size[1]).fill(0).map(((_,j)=>new Array(size[0]).fill(0).map(((_,i)=>arr[i][j]))))}return _transpose(_1dFft(_transpose(arr),1))}function _fft(arr){var len=arr.length;if(1===len)return[arr[0]];if(len%2==0){for(var ret=[..._fft(arr.filter(((_,i)=>i%2==0))),..._fft(arr.filter(((_,i)=>i%2==1)))],k=0;k<len/2;k++){var p=ret[k],q=multiplyScalar(ret[k+len/2],exp(multiplyScalar(multiplyScalar(tau,I),divideScalar(-k,len))));ret[k]=addScalar(p,q),ret[k+len/2]=addScalar(p,multiplyScalar(-1,q))}return ret}return function _czt(arr){for(var n=arr.length,w=exp(divideScalar(multiplyScalar(-1,multiplyScalar(I,tau)),n)),chirp=[],i=1-n;i<n;i++)chirp.push(pow(w,divideScalar(pow(i,2),2)));for(var N2=pow(2,ceil(log2(n+n-1))),xp=[...new Array(n).fill(0).map(((_,i)=>multiplyScalar(arr[i],chirp[n-1+i]))),...new Array(N2-n).fill(0)],ichirp=[...new Array(n+n-1).fill(0).map(((_,i)=>divideScalar(1,chirp[i]))),...new Array(N2-(n+n-1)).fill(0)],fftXp=_fft(xp),fftIchirp=_fft(ichirp),fftProduct=new Array(N2).fill(0).map(((_,i)=>multiplyScalar(fftXp[i],fftIchirp[i]))),ifftProduct=dotDivide(conj(_ndFft(conj(fftProduct))),N2),ret=[],_i=n-1;_i<n+n-1;_i++)ret.push(multiplyScalar(ifftProduct[_i],chirp[_i]));return ret}(arr)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/filter.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createFilter}});var _utils_applyCallback_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/applyCallback.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["typed"],createFilter=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("filter",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("filter",{"Array, function":_filterCallback,"Matrix, function":function MatrixFunction(x,test){return x.create(_filterCallback(x.toArray(),test))},"Array, RegExp":_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.U_,"Matrix, RegExp":function MatrixRegExp(x,test){return x.create((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.U_)(x.toArray(),test))}})}));function _filterCallback(x,callback){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.hX)(x,(function(value,index,array){return(0,_utils_applyCallback_js__WEBPACK_IMPORTED_MODULE_2__.i)(callback,value,[index],array,"filter")}))}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/flatten.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createFlatten}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix"],createFlatten=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("flatten",dependencies,(_ref=>{var{typed:typed,matrix:matrix}=_ref;return typed("flatten",{Array:function Array(x){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(x)},Matrix:function Matrix(x){var flat=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(x.toArray());return matrix(flat)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/forEach.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{I:function(){return createForEach}});var _utils_applyCallback_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/applyCallback.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createForEach=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("forEach",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("forEach",{"Array, function":_forEach,"Matrix, function":function MatrixFunction(x,callback){x.forEach(callback)}})}));function _forEach(array,callback){!function recurse(value,index){if(!Array.isArray(value))return(0,_utils_applyCallback_js__WEBPACK_IMPORTED_MODULE_2__.i)(callback,value,index,array,"forEach");(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.Ed)(value,(function(child,i){recurse(child,index.concat(i))}))}(array,[])}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/getMatrixDataType.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return createGetMatrixDataType}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),name="getMatrixDataType",dependencies=["typed"],createGetMatrixDataType=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed}=_ref;return typed(name,{Array:function Array(x){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.$q)(x,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)},Matrix:function Matrix(x){return x.getDataType()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/identity.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return createIdentity}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],createIdentity=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("identity",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,BigNumber:BigNumber,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix}=_ref;return typed("identity",{"":function _(){return"Matrix"===config.matrix?matrix([]):[]},string:function string(format){return matrix(format)},"number | BigNumber":function numberBigNumber(rows){return _identity(rows,rows,"Matrix"===config.matrix?"dense":void 0)},"number | BigNumber, string":function numberBigNumberString(rows,format){return _identity(rows,rows,format)},"number | BigNumber, number | BigNumber":function numberBigNumberNumberBigNumber(rows,cols){return _identity(rows,cols,"Matrix"===config.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function numberBigNumberNumberBigNumberString(rows,cols,format){return _identity(rows,cols,format)},Array:function Array(size){return _identityVector(size)},"Array, string":function ArrayString(size,format){return _identityVector(size,format)},Matrix:function Matrix(size){return _identityVector(size.valueOf(),size.storage())},"Matrix, string":function MatrixString(size,format){return _identityVector(size.valueOf(),format)}});function _identityVector(size,format){switch(size.length){case 0:return format?matrix(format):[];case 1:return _identity(size[0],size[0],format);case 2:return _identity(size[0],size[1],format);default:throw new Error("Vector containing two values expected")}}function _identity(rows,cols,format){var Big=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(rows)||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(cols)?BigNumber:null;if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(rows)&&(rows=rows.toNumber()),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(cols)&&(cols=cols.toNumber()),!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(rows)||rows<1)throw new Error("Parameters in function identity must be positive integers");if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(cols)||cols<1)throw new Error("Parameters in function identity must be positive integers");var one=Big?new BigNumber(1):1,defaultValue=Big?new Big(0):0,size=[rows,cols];if(format){if("sparse"===format)return SparseMatrix.diagonal(size,one,0,defaultValue);if("dense"===format)return DenseMatrix.diagonal(size,one,0,defaultValue);throw new TypeError('Unknown matrix type "'.concat(format,'"'))}for(var res=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.SI)([],size,defaultValue),minimum=rows<cols?rows:cols,d=0;d<minimum;d++)res[d][d]=one;return res}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/ifft.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{g:function(){return createIfft}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","fft","dotDivide","conj"],createIfft=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("ifft",dependencies,(_ref=>{var{typed:typed,fft:fft,dotDivide:dotDivide,conj:conj}=_ref;return typed("ifft",{"Array | Matrix":function ArrayMatrix(arr){var size=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arr)?arr.size():(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.aJ)(arr);return dotDivide(conj(fft(conj(arr))),size.reduce(((acc,curr)=>acc*curr),1))}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/inv.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return createInv}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),dependencies=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],createInv=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("inv",dependencies,(_ref=>{var{typed:typed,matrix:matrix,divideScalar:divideScalar,addScalar:addScalar,multiply:multiply,unaryMinus:unaryMinus,det:det,identity:identity,abs:abs}=_ref;return typed("inv",{"Array | Matrix":function ArrayMatrix(x){var size=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(x)?x.size():(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.aJ)(x);switch(size.length){case 1:if(1===size[0])return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(x)?matrix([divideScalar(1,x.valueOf()[0])]):[divideScalar(1,x[0])];throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")");case 2:var rows=size[0],cols=size[1];if(rows===cols)return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(x)?matrix(_inv(x.valueOf(),rows,cols),x.storage()):_inv(x,rows,cols);throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")")}},any:function any(x){return divideScalar(1,x)}});function _inv(mat,rows,cols){var r,s,f,value,temp;if(1===rows){if(0===(value=mat[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[divideScalar(1,value)]]}if(2===rows){var d=det(mat);if(0===d)throw Error("Cannot calculate inverse, determinant is zero");return[[divideScalar(mat[1][1],d),divideScalar(unaryMinus(mat[0][1]),d)],[divideScalar(unaryMinus(mat[1][0]),d),divideScalar(mat[0][0],d)]]}var A=mat.concat();for(r=0;r<rows;r++)A[r]=A[r].concat();for(var B=identity(rows).valueOf(),c=0;c<cols;c++){var ABig=abs(A[c][c]),rBig=c;for(r=c+1;r<rows;)abs(A[r][c])>ABig&&(ABig=abs(A[r][c]),rBig=r),r++;if(0===ABig)throw Error("Cannot calculate inverse, determinant is zero");(r=rBig)!==c&&(temp=A[c],A[c]=A[r],A[r]=temp,temp=B[c],B[c]=B[r],B[r]=temp);var Ac=A[c],Bc=B[c];for(r=0;r<rows;r++){var Ar=A[r],Br=B[r];if(r!==c){if(0!==Ar[c]){for(f=divideScalar(unaryMinus(Ar[c]),Ac[c]),s=c;s<cols;s++)Ar[s]=addScalar(Ar[s],multiply(f,Ac[s]));for(s=0;s<cols;s++)Br[s]=addScalar(Br[s],multiply(f,Bc[s]))}}else{for(f=Ac[c],s=c;s<cols;s++)Ar[s]=divideScalar(Ar[s],f);for(s=0;s<cols;s++)Br[s]=divideScalar(Br[s],f)}}}return B}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/kron.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return createKron}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","multiplyScalar"],createKron=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("kron",dependencies,(_ref=>{var{typed:typed,matrix:matrix,multiplyScalar:multiplyScalar}=_ref;return typed("kron",{"Matrix, Matrix":function MatrixMatrix(x,y){return matrix(_kron(x.toArray(),y.toArray()))},"Matrix, Array":function MatrixArray(x,y){return matrix(_kron(x.toArray(),y))},"Array, Matrix":function ArrayMatrix(x,y){return matrix(_kron(x,y.toArray()))},"Array, Array":_kron});function _kron(a,b){if(1===(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(a).length&&(a=[a]),1===(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(b).length&&(b=[b]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(a).length>2||(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(b).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(b.length)+")");var t=[],r=[];return a.map((function(a){return b.map((function(b){return r=[],t.push(r),a.map((function(y){return b.map((function(x){return r.push(multiplyScalar(y,x))}))}))}))}))&&t}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/map.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return createMap}});var _utils_applyCallback_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/applyCallback.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createMap=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("map",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("map",{"Array, function":_map,"Matrix, function":function MatrixFunction(x,callback){return x.map(callback)}})}));function _map(array,callback){return function recurse(value,index){return Array.isArray(value)?value.map((function(child,i){return recurse(child,index.concat(i))})):(0,_utils_applyCallback_js__WEBPACK_IMPORTED_MODULE_1__.i)(callback,value,index,array,"map")}(array,[])}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/matrixFromColumns.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{u:function(){return createMatrixFromColumns}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),name="matrixFromColumns",dependencies=["typed","matrix","flatten","size"],createMatrixFromColumns=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,flatten:flatten,size:size}=_ref;return typed(name,{"...Array":function Array(arr){return _createArray(arr)},"...Matrix":function Matrix(arr){return matrix(_createArray(arr.map((m=>m.toArray()))))}});function _createArray(arr){if(0===arr.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var N=checkVectorTypeAndReturnLength(arr[0]),result=[],i=0;i<N;i++)result[i]=[];for(var col of arr){var colLength=checkVectorTypeAndReturnLength(col);if(colLength!==N)throw new TypeError("The vectors had different length: "+(0|N)+"  "+(0|colLength));for(var f=flatten(col),_i=0;_i<N;_i++)result[_i].push(f[_i])}return result}function checkVectorTypeAndReturnLength(vec){var s=size(vec);if(1===s.length)return s[0];if(2===s.length){if(1===s[0])return s[1];if(1===s[1])return s[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/matrixFromFunction.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{p:function(){return createMatrixFromFunction}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),name="matrixFromFunction",dependencies=["typed","matrix","isZero"],createMatrixFromFunction=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,isZero:isZero}=_ref;return typed(name,{"Array | Matrix, function, string, string":function ArrayMatrixFunctionStringString(size,fn,format,datatype){return _create(size,fn,format,datatype)},"Array | Matrix, function, string":function ArrayMatrixFunctionString(size,fn,format){return _create(size,fn,format)},"Matrix, function":function MatrixFunction(size,fn){return _create(size,fn,"dense")},"Array, function":function ArrayFunction(size,fn){return _create(size,fn,"dense").toArray()},"Array | Matrix, string, function":function ArrayMatrixStringFunction(size,format,fn){return _create(size,fn,format)},"Array | Matrix, string, string, function":function ArrayMatrixStringStringFunction(size,format,datatype,fn){return _create(size,fn,format,datatype)}});function _create(size,fn,format,datatype){var m;return(m=void 0!==datatype?matrix(format,datatype):matrix(format)).resize(size),m.forEach((function(_,index){var val=fn(index);isZero(val)||m.set(index,val)})),m}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/matrixFromRows.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return createMatrixFromRows}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),name="matrixFromRows",dependencies=["typed","matrix","flatten","size"],createMatrixFromRows=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,flatten:flatten,size:size}=_ref;return typed(name,{"...Array":function Array(arr){return _createArray(arr)},"...Matrix":function Matrix(arr){return matrix(_createArray(arr.map((m=>m.toArray()))))}});function _createArray(arr){if(0===arr.length)throw new TypeError("At least one row is needed to construct a matrix.");var N=checkVectorTypeAndReturnLength(arr[0]),result=[];for(var row of arr){var rowLength=checkVectorTypeAndReturnLength(row);if(rowLength!==N)throw new TypeError("The vectors had different length: "+(0|N)+"  "+(0|rowLength));result.push(flatten(row))}return result}function checkVectorTypeAndReturnLength(vec){var s=size(vec);if(1===s.length)return s[0];if(2===s.length){if(1===s[0])return s[1];if(1===s[1])return s[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/ones.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createOnes}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["typed","config","matrix","BigNumber"],createOnes=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("ones",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,BigNumber:BigNumber}=_ref;return typed("ones",{"":function _(){return"Array"===config.matrix?_ones([]):_ones([],"default")},"...number | BigNumber | string":function numberBigNumberString(size){if("string"==typeof size[size.length-1]){var format=size.pop();return _ones(size,format)}return"Array"===config.matrix?_ones(size):_ones(size,"default")},Array:_ones,Matrix:function Matrix(size){var format=size.storage();return _ones(size.valueOf(),format)},"Array | Matrix, string":function ArrayMatrixString(size,format){return _ones(size.valueOf(),format)}});function _ones(size,format){var hasBigNumbers=function _normalize(size){var hasBigNumbers=!1;return size.forEach((function(value,index,arr){(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9)(value)&&(hasBigNumbers=!0,arr[index]=value.toNumber())})),hasBigNumbers}(size),defaultValue=hasBigNumbers?new BigNumber(1):1;if(function _validate(size){size.forEach((function(value){if("number"!=typeof value||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_3__.U)(value)||value<0)throw new Error("Parameters in function ones must be positive integers")}))}(size),format){var m=matrix(format);return size.length>0?m.resize(size,defaultValue):m}var arr=[];return size.length>0?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.SI)(arr,size,defaultValue):arr}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/partitionSelect.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createPartitionSelect}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),name="partitionSelect",dependencies=["typed","isNumeric","isNaN","compare"],createPartitionSelect=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,isNumeric:isNumeric,isNaN:isNaN,compare:compare}=_ref,asc=compare,desc=(a,b)=>-compare(a,b);return typed(name,{"Array | Matrix, number":function ArrayMatrixNumber(x,k){return _partitionSelect(x,k,asc)},"Array | Matrix, number, string":function ArrayMatrixNumberString(x,k,compare){if("asc"===compare)return _partitionSelect(x,k,asc);if("desc"===compare)return _partitionSelect(x,k,desc);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":_partitionSelect});function _partitionSelect(x,k,compare){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(k)||k<0)throw new Error("k must be a non-negative integer");if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW)(x)){if(x.size().length>1)throw new Error("Only one dimensional matrices supported");return quickSelect(x.valueOf(),k,compare)}if(Array.isArray(x))return quickSelect(x,k,compare)}function quickSelect(arr,k,compare){if(k>=arr.length)throw new Error("k out of bounds");for(var i=0;i<arr.length;i++)if(isNumeric(arr[i])&&isNaN(arr[i]))return arr[i];for(var from=0,to=arr.length-1;from<to;){for(var r=from,w=to,pivot=arr[Math.floor(Math.random()*(to-from+1))+from];r<w;)if(compare(arr[r],pivot)>=0){var tmp=arr[w];arr[w]=arr[r],arr[r]=tmp,--w}else++r;compare(arr[r],pivot)>0&&--r,k<=r?to=r:from=r+1}return arr[k]}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/pinv.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return createPinv}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),dependencies=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],createPinv=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("pinv",dependencies,(_ref=>{var{typed:typed,matrix:matrix,inv:inv,deepEqual:deepEqual,equal:equal,dotDivide:dotDivide,dot:dot,ctranspose:ctranspose,divideScalar:divideScalar,multiply:multiply,add:add,Complex:Complex}=_ref;return typed("pinv",{"Array | Matrix":function ArrayMatrix(x){var size=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(x)?x.size():(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.aJ)(x);switch(size.length){case 1:return _isZeros(x)?ctranspose(x):1===size[0]?inv(x):dotDivide(ctranspose(x),dot(x,x));case 2:if(_isZeros(x))return ctranspose(x);var rows=size[0],cols=size[1];if(rows===cols)try{return inv(x)}catch(err){if(!(err instanceof Error&&err.message.match(/Cannot calculate inverse, determinant is zero/)))throw err}return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(x)?matrix(_pinv(x.valueOf(),rows,cols),x.storage()):_pinv(x,rows,cols);default:throw new RangeError("Matrix must be two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")")}},any:function any(x){return equal(x,0)?(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.d9)(x):divideScalar(1,x)}});function _pinv(mat,rows,cols){var{C:C,F:F}=function _rankFact(mat,rows,cols){var rref=function _rref(mat,rows,cols){for(var M=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.d9)(mat),lead=0,r=0;r<rows;r++){if(cols<=lead)return M;for(var i=r;_isZero(M[i][lead]);)if(rows===++i&&(i=r,cols===++lead))return M;[M[i],M[r]]=[M[r],M[i]];for(var val=M[r][lead],j=0;j<cols;j++)M[r][j]=dotDivide(M[r][j],val);for(var _i=0;_i<rows;_i++)if(_i!==r){val=M[_i][lead];for(var _j=0;_j<cols;_j++)M[_i][_j]=add(M[_i][_j],multiply(-1,multiply(val,M[r][_j])))}lead++}return M}(mat,rows,cols),C=mat.map(((_,i)=>_.filter(((_,j)=>j<rows&&!_isZero(dot(rref[j],rref[j])))))),F=rref.filter(((_,i)=>!_isZero(dot(rref[i],rref[i]))));return{C:C,F:F}}(mat,rows,cols),Cpinv=multiply(inv(multiply(ctranspose(C),C)),ctranspose(C)),Fpinv=multiply(ctranspose(F),inv(multiply(F,ctranspose(F))));return multiply(Fpinv,Cpinv)}function _isZero(x){return equal(add(x,Complex(1,1)),add(0,Complex(1,1)))}function _isZeros(arr){return deepEqual(add(arr,Complex(1,1)),add(multiply(arr,0),Complex(1,1)))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/range.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createRange}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_noop_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/noop.js"),dependencies=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],createRange=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("range",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,bignumber:bignumber,smaller:smaller,smallerEq:smallerEq,larger:larger,largerEq:largerEq,add:add,isPositive:isPositive}=_ref;return typed("range",{string:_strRange,"string, boolean":_strRange,"number, number":function numberNumber(start,end){return _out(_range(start,end,1,!1))},"number, number, number":function numberNumberNumber(start,end,step){return _out(_range(start,end,step,!1))},"number, number, boolean":function numberNumberBoolean(start,end,includeEnd){return _out(_range(start,end,1,includeEnd))},"number, number, number, boolean":function numberNumberNumberBoolean(start,end,step,includeEnd){return _out(_range(start,end,step,includeEnd))},"BigNumber, BigNumber":function BigNumberBigNumber(start,end){return _out(_range(start,end,new(0,start.constructor)(1),!1))},"BigNumber, BigNumber, BigNumber":function BigNumberBigNumberBigNumber(start,end,step){return _out(_range(start,end,step,!1))},"BigNumber, BigNumber, boolean":function BigNumberBigNumberBoolean(start,end,includeEnd){return _out(_range(start,end,new(0,start.constructor)(1),includeEnd))},"BigNumber, BigNumber, BigNumber, boolean":function BigNumberBigNumberBigNumberBoolean(start,end,step,includeEnd){return _out(_range(start,end,step,includeEnd))},"Unit, Unit, Unit":function UnitUnitUnit(start,end,step){return _out(_range(start,end,step,!1))},"Unit, Unit, Unit, boolean":function UnitUnitUnitBoolean(start,end,step,includeEnd){return _out(_range(start,end,step,includeEnd))}});function _out(arr){return"Matrix"===config.matrix?matrix?matrix(arr):(0,_utils_noop_js__WEBPACK_IMPORTED_MODULE_1__.kX)():arr}function _strRange(str,includeEnd){var r=function _parse(str){var args=str.split(":"),nums=args.map((function(arg){return Number(arg)}));if(nums.some((function(num){return isNaN(num)})))return null;switch(nums.length){case 2:return{start:nums[0],end:nums[1],step:1};case 3:return{start:nums[0],end:nums[2],step:nums[1]};default:return null}}(str);if(!r)throw new SyntaxError('String "'+str+'" is no valid range');return"BigNumber"===config.number?(void 0===bignumber&&(0,_utils_noop_js__WEBPACK_IMPORTED_MODULE_1__.R3)(),_out(_range(bignumber(r.start),bignumber(r.end),bignumber(r.step)))):_out(_range(r.start,r.end,r.step,includeEnd))}function _range(start,end,step,includeEnd){for(var array=[],ongoing=isPositive(step)?includeEnd?smallerEq:smaller:includeEnd?largerEq:larger,x=start;ongoing(x,end);)array.push(x),x=add(x,step);return array}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/reshape.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return createReshape}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","isInteger","matrix"],createReshape=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("reshape",dependencies,(_ref=>{var{typed:typed,isInteger:isInteger}=_ref;return typed("reshape",{"Matrix, Array":function MatrixArray(x,sizes){return x.reshape(sizes,!0)},"Array, Array":function ArrayArray(x,sizes){return sizes.forEach((function(size){if(!isInteger(size))throw new TypeError("Invalid size for dimension: "+size)})),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.XL)(x,sizes)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/resize.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y:function(){return createResize}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),_error_ArgumentsError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/ArgumentsError.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["config","matrix"],createResize=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("resize",dependencies,(_ref=>{var{config:config,matrix:matrix}=_ref;return function resize(x,size,defaultValue){if(2!==arguments.length&&3!==arguments.length)throw new _error_ArgumentsError_js__WEBPACK_IMPORTED_MODULE_1__.u("resize",arguments.length,2,3);if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW)(size)&&(size=size.valueOf()),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9)(size[0])&&(size=size.map((function(value){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9)(value)?value.toNumber():value}))),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW)(x))return x.resize(size,defaultValue,!0);if("string"==typeof x)return function _resizeString(str,size,defaultChar){if(void 0!==defaultChar){if("string"!=typeof defaultChar||1!==defaultChar.length)throw new TypeError("Single character expected as defaultValue")}else defaultChar=" ";if(1!==size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_5__.m(size.length,1);var len=size[0];if("number"!=typeof len||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_6__.U)(len))throw new TypeError("Invalid size, must contain positive integers (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_7__.WU)(size)+")");if(str.length>len)return str.substring(0,len);if(str.length<len){for(var res=str,i=0,ii=len-str.length;i<ii;i++)res+=defaultChar;return res}return str}(x,size,defaultValue);var asMatrix=!Array.isArray(x)&&"Array"!==config.matrix;if(0===size.length){for(;Array.isArray(x);)x=x[0];return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.d9)(x)}Array.isArray(x)||(x=[x]),x=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.d9)(x);var res=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_4__.SI)(x,size,defaultValue);return asMatrix?matrix(res):res}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/rotate.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{g:function(){return createRotate}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["typed","multiply","rotationMatrix"],createRotate=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("rotate",dependencies,(_ref=>{var{typed:typed,multiply:multiply,rotationMatrix:rotationMatrix}=_ref;return typed("rotate",{"Array , number | BigNumber | Complex | Unit":function ArrayNumberBigNumberComplexUnit(w,theta){return _validateSize(w,2),multiply(rotationMatrix(theta),w).toArray()},"Matrix , number | BigNumber | Complex | Unit":function MatrixNumberBigNumberComplexUnit(w,theta){return _validateSize(w,2),multiply(rotationMatrix(theta),w)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function ArrayNumberBigNumberComplexUnitArrayMatrix(w,theta,v){return _validateSize(w,3),multiply(rotationMatrix(theta,v),w)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function MatrixNumberBigNumberComplexUnitArrayMatrix(w,theta,v){return _validateSize(w,3),multiply(rotationMatrix(theta,v),w)}});function _validateSize(v,expectedSize){var actualSize=Array.isArray(v)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(v):v.size();if(actualSize.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(expectedSize));if(2===actualSize.length&&1!==actualSize[1])throw new RangeError("Vector must be of dimensions 1x".concat(expectedSize));if(actualSize[0]!==expectedSize)throw new RangeError("Vector must be of dimensions 1x".concat(expectedSize))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/rotationMatrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{F:function(){return createRotationMatrix}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),name="rotationMatrix",dependencies=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],createRotationMatrix=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,multiplyScalar:multiplyScalar,addScalar:addScalar,unaryMinus:unaryMinus,norm:norm,BigNumber:BigNumber,matrix:matrix,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix,cos:cos,sin:sin}=_ref;return typed(name,{"":function _(){return"Matrix"===config.matrix?matrix([]):[]},string:function string(format){return matrix(format)},"number | BigNumber | Complex | Unit":function numberBigNumberComplexUnit(theta){return _rotationMatrix2x2(theta,"Matrix"===config.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function numberBigNumberComplexUnitString(theta,format){return _rotationMatrix2x2(theta,format)},"number | BigNumber | Complex | Unit, Array":function numberBigNumberComplexUnitArray(theta,v){var matrixV=matrix(v);return _validateVector(matrixV),_rotationMatrix3x3(theta,matrixV,void 0)},"number | BigNumber | Complex | Unit, Matrix":function numberBigNumberComplexUnitMatrix(theta,v){_validateVector(v);var storageType=v.storage()||("Matrix"===config.matrix?"dense":void 0);return _rotationMatrix3x3(theta,v,storageType)},"number | BigNumber | Complex | Unit, Array, string":function numberBigNumberComplexUnitArrayString(theta,v,format){var matrixV=matrix(v);return _validateVector(matrixV),_rotationMatrix3x3(theta,matrixV,format)},"number | BigNumber | Complex | Unit, Matrix, string":function numberBigNumberComplexUnitMatrixString(theta,v,format){return _validateVector(v),_rotationMatrix3x3(theta,v,format)}});function _rotationMatrix2x2(theta,format){var minusOne=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(theta)?new BigNumber(-1):-1,cosTheta=cos(theta),sinTheta=sin(theta);return _convertToFormat([[cosTheta,multiplyScalar(minusOne,sinTheta)],[sinTheta,cosTheta]],format)}function _validateVector(v){var size=v.size();if(size.length<1||3!==size[0])throw new RangeError("Vector must be of dimensions 1x3")}function _mul(array){return array.reduce(((p,curr)=>multiplyScalar(p,curr)))}function _convertToFormat(data,format){if(format){if("sparse"===format)return new SparseMatrix(data);if("dense"===format)return new DenseMatrix(data);throw new TypeError('Unknown matrix type "'.concat(format,'"'))}return data}function _rotationMatrix3x3(theta,v,format){var normV=norm(v);if(0===normV)throw new RangeError("Rotation around zero vector");var Big=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(theta)?BigNumber:null,one=Big?new Big(1):1,minusOne=Big?new Big(-1):-1,vx=Big?new Big(v.get([0])/normV):v.get([0])/normV,vy=Big?new Big(v.get([1])/normV):v.get([1])/normV,vz=Big?new Big(v.get([2])/normV):v.get([2])/normV,c=cos(theta),oneMinusC=addScalar(one,unaryMinus(c)),s=sin(theta);return _convertToFormat([[addScalar(c,_mul([vx,vx,oneMinusC])),addScalar(_mul([vx,vy,oneMinusC]),_mul([minusOne,vz,s])),addScalar(_mul([vx,vz,oneMinusC]),_mul([vy,s]))],[addScalar(_mul([vx,vy,oneMinusC]),_mul([vz,s])),addScalar(c,_mul([vy,vy,oneMinusC])),addScalar(_mul([vy,vz,oneMinusC]),_mul([minusOne,vx,s]))],[addScalar(_mul([vx,vz,oneMinusC]),_mul([minusOne,vy,s])),addScalar(_mul([vy,vz,oneMinusC]),_mul([vx,s])),addScalar(c,_mul([vz,vz,oneMinusC]))]],format)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/row.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createRow}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["typed","Index","matrix","range"],createRow=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("row",dependencies,(_ref=>{var{typed:typed,Index:Index,matrix:matrix,range:range}=_ref;return typed("row",{"Matrix, number":_row,"Array, number":function ArrayNumber(value,row){return _row(matrix((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(value)),row).valueOf()}});function _row(value,row){if(2!==value.size().length)throw new Error("Only two dimensional matrix is supported");(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.Ls)(row,value.size()[0]);var columnRange=range(0,value.size()[1]),index=new Index(row,columnRange),result=value.subset(index);return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.SW)(result)?result:matrix([[result]])}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/size.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return createSize}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_noop_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/noop.js"),dependencies=["typed","config","?matrix"],createSize=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("size",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix}=_ref;return typed("size",{Matrix:function Matrix(x){return x.create(x.size())},Array:_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ,string:function string(x){return"Array"===config.matrix?[x.length]:matrix([x.length])},"number | Complex | BigNumber | Unit | boolean | null":function numberComplexBigNumberUnitBooleanNull(x){return"Array"===config.matrix?[]:matrix?matrix([]):(0,_utils_noop_js__WEBPACK_IMPORTED_MODULE_2__.kX)()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/sort.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return createSort}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","compare","compareNatural"],createSort=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sort",dependencies,(_ref=>{var{typed:typed,matrix:matrix,compare:compare,compareNatural:compareNatural}=_ref,compareAsc=compare,compareDesc=(a,b)=>-compare(a,b);return typed("sort",{Array:function Array(x){return _arrayIsVector(x),x.sort(compareAsc)},Matrix:function Matrix(x){return _matrixIsVector(x),matrix(x.toArray().sort(compareAsc),x.storage())},"Array, function":function ArrayFunction(x,_comparator){return _arrayIsVector(x),x.sort(_comparator)},"Matrix, function":function MatrixFunction(x,_comparator){return _matrixIsVector(x),matrix(x.toArray().sort(_comparator),x.storage())},"Array, string":function ArrayString(x,order){return _arrayIsVector(x),x.sort(_comparator(order))},"Matrix, string":function MatrixString(x,order){return _matrixIsVector(x),matrix(x.toArray().sort(_comparator(order)),x.storage())}});function _comparator(order){if("asc"===order)return compareAsc;if("desc"===order)return compareDesc;if("natural"===order)return compareNatural;throw new Error('String "asc", "desc", or "natural" expected')}function _arrayIsVector(array){if(1!==(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(array).length)throw new Error("One dimensional array expected")}function _matrixIsVector(matrix){if(1!==matrix.size().length)throw new Error("One dimensional matrix expected")}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/sqrtm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m:function(){return createSqrtm}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],createSqrtm=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sqrtm",dependencies,(_ref=>{var{typed:typed,abs:abs,add:add,multiply:multiply,map:map,sqrt:sqrt,subtract:subtract,inv:inv,size:size,max:max,identity:identity}=_ref;function _denmanBeavers(A){var error,iterations=0,Y=A,Z=identity(size(A));do{var Yk=Y;if(Y=multiply(.5,add(Yk,inv(Z))),Z=multiply(.5,add(Z,inv(Yk))),(error=max(abs(subtract(Y,Yk))))>1e-6&&++iterations>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(error>1e-6);return Y}return typed("sqrtm",{"Array | Matrix":function ArrayMatrix(A){var size=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(A)?A.size():(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.aJ)(A);switch(size.length){case 1:if(1===size[0])return map(A,sqrt);throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")");case 2:if(size[0]===size[1])return _denmanBeavers(A);throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")")}}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/squeeze.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{a:function(){return createSqueeze}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix"],createSqueeze=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("squeeze",dependencies,(_ref=>{var{typed:typed,matrix:matrix}=_ref;return typed("squeeze",{Array:function Array(x){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.L9)((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(x))},Matrix:function Matrix(x){var res=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.L9)(x.toArray());return Array.isArray(res)?matrix(res):res},any:function any(x){return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(x)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/subset.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return createSubset}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_customs_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/customs.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","zeros","add"],createSubset=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("subset",dependencies,(_ref=>{var{typed:typed,matrix:matrix,zeros:zeros,add:add}=_ref;return typed("subset",{"Matrix, Index":function MatrixIndex(value,index){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.JD)(index)?matrix():((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.bc)(value,index),value.subset(index))},"Array, Index":typed.referTo("Matrix, Index",(function(subsetRef){return function(value,index){var subsetResult=subsetRef(matrix(value),index);return index.isScalar()?subsetResult:subsetResult.valueOf()}})),"Object, Index":_getObjectProperty,"string, Index":_getSubstring,"Matrix, Index, any, any":function MatrixIndexAnyAny(value,index,replacement,defaultValue){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.JD)(index)?value:((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.bc)(value,index),value.clone().subset(index,function _broadcastReplacement(replacement,index){if("string"==typeof replacement)throw new Error("can't boradcast a string");if(index._isScalar)return replacement;var indexSize=index.size();if(!indexSize.every((d=>d>0)))return replacement;try{return add(replacement,zeros(indexSize))}catch(error){return replacement}}(replacement,index),defaultValue))},"Array, Index, any, any":typed.referTo("Matrix, Index, any, any",(function(subsetRef){return function(value,index,replacement,defaultValue){var subsetResult=subsetRef(matrix(value),index,replacement,defaultValue);return subsetResult.isMatrix?subsetResult.valueOf():subsetResult}})),"Array, Index, any":typed.referTo("Matrix, Index, any, any",(function(subsetRef){return function(value,index,replacement){return subsetRef(matrix(value),index,replacement,void 0).valueOf()}})),"Matrix, Index, any":typed.referTo("Matrix, Index, any, any",(function(subsetRef){return function(value,index,replacement){return subsetRef(value,index,replacement,void 0)}})),"string, Index, string":_setSubstring,"string, Index, string, string":_setSubstring,"Object, Index, any":_setObjectProperty})}));function _getSubstring(str,index){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.dh)(index))throw new TypeError("Index expected");if((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.JD)(index))return"";if((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.bc)(Array.from(str),index),1!==index.size().length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_3__.m(index.size().length,1);var strLen=str.length;(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.Ls)(index.min()[0],strLen),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.Ls)(index.max()[0],strLen);var range=index.dimension(0),substr="";return range.forEach((function(v){substr+=str.charAt(v)})),substr}function _setSubstring(str,index,replacement,defaultValue){if(!index||!0!==index.isIndex)throw new TypeError("Index expected");if((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.JD)(index))return str;if((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.bc)(Array.from(str),index),1!==index.size().length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_3__.m(index.size().length,1);if(void 0!==defaultValue){if("string"!=typeof defaultValue||1!==defaultValue.length)throw new TypeError("Single character expected as defaultValue")}else defaultValue=" ";var range=index.dimension(0);if(range.size()[0]!==replacement.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_3__.m(range.size()[0],replacement.length);var strLen=str.length;(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.Ls)(index.min()[0]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.Ls)(index.max()[0]);for(var chars=[],i=0;i<strLen;i++)chars[i]=str.charAt(i);if(range.forEach((function(v,i){chars[v]=replacement.charAt(i[0])})),chars.length>strLen)for(var _i=strLen-1,_len=chars.length;_i<_len;_i++)chars[_i]||(chars[_i]=defaultValue);return chars.join("")}function _getObjectProperty(object,index){if(!(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.JD)(index)){if(1!==index.size().length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_3__.m(index.size(),1);var key=index.dimension(0);if("string"!=typeof key)throw new TypeError("String expected as index to retrieve an object property");return(0,_utils_customs_js__WEBPACK_IMPORTED_MODULE_4__.YF)(object,key)}}function _setObjectProperty(object,index,replacement){if((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.JD)(index))return object;if(1!==index.size().length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_3__.m(index.size(),1);var key=index.dimension(0);if("string"!=typeof key)throw new TypeError("String expected as index to retrieve an object property");var updated=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_5__.d9)(object);return(0,_utils_customs_js__WEBPACK_IMPORTED_MODULE_4__.nI)(updated,key,replacement),updated}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/trace.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J:function(){return createTrace}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),dependencies=["typed","matrix","add"],createTrace=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("trace",dependencies,(_ref=>{var{typed:typed,matrix:matrix,add:add}=_ref;return typed("trace",{Array:function _arrayTrace(x){return _denseTrace(matrix(x))},SparseMatrix:function _sparseTrace(m){var values=m._values,index=m._index,ptr=m._ptr,size=m._size,rows=size[0],columns=size[1];if(rows===columns){var sum=0;if(values.length>0)for(var j=0;j<columns;j++)for(var k0=ptr[j],k1=ptr[j+1],k=k0;k<k1;k++){var i=index[k];if(i===j){sum=add(sum,values[k]);break}if(i>j)break}return sum}throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_2__.WU)(size)+")")},DenseMatrix:_denseTrace,any:_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9});function _denseTrace(m){var size=m._size,data=m._data;switch(size.length){case 1:if(1===size[0])return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(data[0]);throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_2__.WU)(size)+")");case 2:var rows=size[0];if(rows===size[1]){for(var sum=0,i=0;i<rows;i++)sum=add(sum,data[i][i]);return sum}throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_2__.WU)(size)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_2__.WU)(size)+")")}}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/transpose.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createTranspose}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix"],createTranspose=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("transpose",dependencies,(_ref=>{var{typed:typed,matrix:matrix}=_ref;return typed("transpose",{Array:x=>transposeMatrix(matrix(x)).valueOf(),Matrix:transposeMatrix,any:_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9});function transposeMatrix(x){var c,size=x.size();switch(size.length){case 1:c=x.clone();break;case 2:var rows=size[0],columns=size[1];if(0===columns)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_2__.WU)(size)+")");switch(x.storage()){case"dense":c=function _denseTranspose(m,rows,columns){for(var transposedRow,data=m._data,transposed=[],j=0;j<columns;j++){transposedRow=transposed[j]=[];for(var i=0;i<rows;i++)transposedRow[i]=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(data[i][j])}return m.createDenseMatrix({data:transposed,size:[columns,rows],datatype:m._datatype})}(x,rows,columns);break;case"sparse":c=function _sparseTranspose(m,rows,columns){for(var p,l,j,values=m._values,index=m._index,ptr=m._ptr,cvalues=values?[]:void 0,cindex=[],cptr=[],w=[],x=0;x<rows;x++)w[x]=0;for(p=0,l=index.length;p<l;p++)w[index[p]]++;for(var sum=0,i=0;i<rows;i++)cptr.push(sum),sum+=w[i],w[i]=cptr[i];for(cptr.push(sum),j=0;j<columns;j++)for(var k0=ptr[j],k1=ptr[j+1],k=k0;k<k1;k++){var q=w[index[k]]++;cindex[q]=j,values&&(cvalues[q]=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(values[k]))}return m.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[columns,rows],datatype:m._datatype})}(x,rows,columns)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_2__.WU)(size)+")")}return c}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/zeros.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{T:function(){return createZeros}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","config","matrix","BigNumber"],createZeros=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("zeros",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,BigNumber:BigNumber}=_ref;return typed("zeros",{"":function _(){return"Array"===config.matrix?_zeros([]):_zeros([],"default")},"...number | BigNumber | string":function numberBigNumberString(size){if("string"==typeof size[size.length-1]){var format=size.pop();return _zeros(size,format)}return"Array"===config.matrix?_zeros(size):_zeros(size,"default")},Array:_zeros,Matrix:function Matrix(size){var format=size.storage();return _zeros(size.valueOf(),format)},"Array | Matrix, string":function ArrayMatrixString(size,format){return _zeros(size.valueOf(),format)}});function _zeros(size,format){var hasBigNumbers=function _normalize(size){var hasBigNumbers=!1;return size.forEach((function(value,index,arr){(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9)(value)&&(hasBigNumbers=!0,arr[index]=value.toNumber())})),hasBigNumbers}(size),defaultValue=hasBigNumbers?new BigNumber(0):0;if(function _validate(size){size.forEach((function(value){if("number"!=typeof value||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_3__.U)(value)||value<0)throw new Error("Parameters in function zeros must be positive integers")}))}(size),format){var m=matrix(format);return size.length>0?m.resize(size,defaultValue):m}var arr=[];return size.length>0?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.SI)(arr,size,defaultValue):arr}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/numeric/solveODE.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{n:function(){return createSolveODE}});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}var dependencies=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],createSolveODE=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("solveODE",dependencies,(_ref=>{var{typed:typed,add:add,subtract:subtract,multiply:multiply,divide:divide,max:max,map:map,abs:abs,isPositive:isPositive,isNegative:isNegative,larger:larger,smaller:smaller,matrix:matrix,bignumber:bignumber,unaryMinus:unaryMinus}=_ref;function _rk(butcherTableau){return function(f,tspan,y0,options){if(!(2===tspan.length&&(tspan.every(isNumOrBig)||tspan.every(_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.wr))))throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var t0=tspan[0],tf=tspan[1],isForwards=larger(tf,t0),firstStep=options.firstStep;if(void 0!==firstStep&&!isPositive(firstStep))throw new Error('"firstStep" must be positive');var maxStep=options.maxStep;if(void 0!==maxStep&&!isPositive(maxStep))throw new Error('"maxStep" must be positive');var minStep=options.minStep;if(minStep&&isNegative(minStep))throw new Error('"minStep" must be positive or zero');var timeVars=[t0,tf,firstStep,minStep,maxStep].filter((x=>void 0!==x));if(!timeVars.every(isNumOrBig)&&!timeVars.every(_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.wr))throw new Error('Inconsistent type of "t" dependant variables');for(var tol=options.tol?options.tol:1e-4,minDelta=options.minDelta?options.minDelta:.2,maxDelta=options.maxDelta?options.maxDelta:5,maxIter=options.maxIter?options.maxIter:1e4,hasBigNumbers=[t0,tf,...y0,maxStep,minStep].some(_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9),[a,c,b,bp]=hasBigNumbers?[bignumber(butcherTableau.a),bignumber(butcherTableau.c),bignumber(butcherTableau.b),bignumber(butcherTableau.bp)]:[butcherTableau.a,butcherTableau.c,butcherTableau.b,butcherTableau.bp],h=firstStep?isForwards?firstStep:unaryMinus(firstStep):divide(subtract(tf,t0),1),t=[t0],y=[y0],deltaB=subtract(b,bp),n=0,iter=0,ongoing=function _createOngoing(isForwards){return isForwards?smaller:larger}(isForwards),trimStep=function _createTrimStep(isForwards){var outOfBounds=isForwards?larger:smaller;return function(t,tf,h){var next=add(t,h);return outOfBounds(next,tf)?subtract(tf,t):h}}(isForwards);ongoing(t[n],tf);){var k=[];h=trimStep(t[n],tf,h),k.push(f(t[n],y[n]));for(var i=1;i<c.length;++i)k.push(f(add(t[n],multiply(c[i],h)),add(y[n],multiply(h,a[i],k))));var TE=max(abs(map(multiply(deltaB,k),(X=>(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.wr)(X)?X.value:X))));TE<tol&&tol/TE>1/4&&(t.push(add(t[n],h)),y.push(add(y[n],multiply(h,b,k))),n++);var delta=.84*(tol/TE)**.2;if(smaller(delta,minDelta)?delta=minDelta:larger(delta,maxDelta)&&(delta=maxDelta),delta=hasBigNumbers?bignumber(delta):delta,h=multiply(h,delta),maxStep&&larger(abs(h),maxStep)?h=isForwards?maxStep:unaryMinus(maxStep):minStep&&smaller(abs(h),minStep)&&(h=isForwards?minStep:unaryMinus(minStep)),++iter>maxIter)throw new Error("Maximum number of iterations reached, try changing options")}return{t:t,y:y}}}function _rk23(f,tspan,y0,options){return _rk({a:[[],[.5],[0,3/4],[2/9,1/3,4/9]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(f,tspan,y0,options)}function _rk45(f,tspan,y0,options){return _rk({a:[[],[.2],[3/40,9/40],[44/45,-56/15,32/9],[19372/6561,-25360/2187,64448/6561,-212/729],[9017/3168,-355/33,46732/5247,49/176,-5103/18656],[35/384,0,500/1113,125/192,-2187/6784,11/84]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(f,tspan,y0,options)}function _solveODE(f,tspan,y0,opt){var method=opt.method?opt.method:"RK45",methods={RK23:_rk23,RK45:_rk45};if(method.toUpperCase()in methods){var methodOptions=function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},opt);return delete methodOptions.method,methods[method.toUpperCase()](f,tspan,y0,methodOptions)}var methodsWithQuotes=Object.keys(methods).map((x=>'"'.concat(x,'"'))),availableMethodsString="".concat(methodsWithQuotes.slice(0,-1).join(", ")," and ").concat(methodsWithQuotes.slice(-1));throw new Error('Unavailable method "'.concat(method,'". Available methods are ').concat(availableMethodsString))}function isNumOrBig(x){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9)(x)||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.hj)(x)}function _matrixSolveODE(f,T,y0,options){var sol=_solveODE(f,T.toArray(),y0.toArray(),options);return{t:matrix(sol.t),y:matrix(sol.y)}}return typed("solveODE",{"function, Array, Array, Object":_solveODE,"function, Matrix, Matrix, Object":_matrixSolveODE,"function, Array, Array":(f,T,y0)=>_solveODE(f,T,y0,{}),"function, Matrix, Matrix":(f,T,y0)=>_matrixSolveODE(f,T,y0,{}),"function, Array, number | BigNumber | Unit":(f,T,y0)=>{var sol=_solveODE(f,T,[y0],{});return{t:sol.t,y:sol.y.map((Y=>Y[0]))}},"function, Matrix, number | BigNumber | Unit":(f,T,y0)=>{var sol=_solveODE(f,T.toArray(),[y0],{});return{t:matrix(sol.t),y:matrix(sol.y.map((Y=>Y[0])))}},"function, Array, number | BigNumber | Unit, Object":(f,T,y0,options)=>{var sol=_solveODE(f,T,[y0],options);return{t:sol.t,y:sol.y.map((Y=>Y[0]))}},"function, Matrix, number | BigNumber | Unit, Object":(f,T,y0,options)=>{var sol=_solveODE(f,T.toArray(),[y0],options);return{t:matrix(sol.t),y:matrix(sol.y.map((Y=>Y[0])))}}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/combinations.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:function(){return createCombinations}});var factory=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),number=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),product=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/product.js");function combinationsNumber(n,k){if(!(0,number.U)(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!(0,number.U)(k)||k<0)throw new TypeError("Positive integer value expected in function combinations");if(k>n)throw new TypeError("k must be less than or equal to n");for(var nMinusk=n-k,answer=1,nextdivisor=2,lastdivisor=k<nMinusk?k:nMinusk,nextnumerator=k<nMinusk?nMinusk+1:k+1;nextnumerator<=n;++nextnumerator)for(answer*=nextnumerator;nextdivisor<=lastdivisor&&answer%nextdivisor==0;)answer/=nextdivisor,++nextdivisor;return nextdivisor<=lastdivisor&&(answer/=(0,product.O)(nextdivisor,lastdivisor)),answer}combinationsNumber.signature="number, number";var dependencies=["typed"],createCombinations=(0,factory.d5)("combinations",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("combinations",{"number, number":combinationsNumber,"BigNumber, BigNumber":function BigNumberBigNumber(n,k){var result,i,BigNumber=n.constructor,nMinusk=n.minus(k),one=new BigNumber(1);if(!isPositiveInteger(n)||!isPositiveInteger(k))throw new TypeError("Positive integer value expected in function combinations");if(k.gt(n))throw new TypeError("k must be less than n in function combinations");if(result=one,k.lt(nMinusk))for(i=one;i.lte(nMinusk);i=i.plus(one))result=result.times(k.plus(i)).dividedBy(i);else for(i=one;i.lte(k);i=i.plus(one))result=result.times(nMinusk.plus(i)).dividedBy(i);return result}})}));function isPositiveInteger(n){return n.isInteger()&&n.gte(0)}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/combinationsWithRep.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return createCombinationsWithRep}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_product_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/product.js"),name="combinationsWithRep",dependencies=["typed"],createCombinationsWithRep=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed}=_ref;return typed(name,{"number, number":function numberNumber(n,k){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(k)||k<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");return k<n-1?(0,_utils_product_js__WEBPACK_IMPORTED_MODULE_2__.O)(n,n+k-1)/(0,_utils_product_js__WEBPACK_IMPORTED_MODULE_2__.O)(1,k):(0,_utils_product_js__WEBPACK_IMPORTED_MODULE_2__.O)(k+1,n+k-1)/(0,_utils_product_js__WEBPACK_IMPORTED_MODULE_2__.O)(1,n-1)},"BigNumber, BigNumber":function BigNumberBigNumber(n,k){var result,i,one=new(0,n.constructor)(1),nMinusOne=n.minus(one);if(!isPositiveInteger(n)||!isPositiveInteger(k))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(one))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(result=one,k.lt(nMinusOne))for(i=one;i.lte(nMinusOne);i=i.plus(one))result=result.times(k.plus(i)).dividedBy(i);else for(i=one;i.lte(k);i=i.plus(one))result=result.times(nMinusOne.plus(i)).dividedBy(i);return result}})}));function isPositiveInteger(n){return n.isInteger()&&n.gte(0)}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/factorial.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return createFactorial}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","gamma"],createFactorial=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("factorial",dependencies,(_ref=>{var{typed:typed,gamma:gamma}=_ref;return typed("factorial",{number:function number(n){if(n<0)throw new Error("Value must be non-negative");return gamma(n+1)},BigNumber:function BigNumber(n){if(n.isNegative())throw new Error("Value must be non-negative");return gamma(n.plus(1))},"Array | Matrix":typed.referToSelf((self=>n=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(n,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/gamma.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J:function(){return createGamma}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/probability.js"),dependencies=["typed","config","multiplyScalar","pow","BigNumber","Complex"],createGamma=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("gamma",dependencies,(_ref=>{var{typed:typed,config:config,multiplyScalar:multiplyScalar,pow:pow,BigNumber:_BigNumber,Complex:Complex}=_ref;return typed("gamma",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.wZ,Complex:function gammaComplex(n){if(0===n.im)return(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.wZ)(n.re);if(n.re<.5){var _t=new Complex(1-n.re,-n.im),r=new Complex(Math.PI*n.re,Math.PI*n.im);return new Complex(Math.PI).div(r.sin()).div(gammaComplex(_t))}n=new Complex(n.re-1,n.im);for(var x=new Complex(_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.lG[0],0),i=1;i<_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.lG.length;++i){var gammaPval=new Complex(_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.lG[i],0);x=x.add(gammaPval.div(n.add(i)))}var t=new Complex(n.re+_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Yc+.5,n.im),twoPiSqrt=Math.sqrt(2*Math.PI),tpow=t.pow(n.add(.5)),expt=t.neg().exp();return x.mul(twoPiSqrt).mul(tpow).mul(expt)},BigNumber:function BigNumber(n){if(n.isInteger())return n.isNegative()||n.isZero()?new _BigNumber(1/0):bigFactorial(n.minus(1));if(!n.isFinite())return new _BigNumber(n.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function bigFactorial(n){if(n<8)return new _BigNumber([1,1,2,6,24,120,720,5040][n]);var precision=config.precision+(0|Math.log(n.toNumber())),Big=_BigNumber.clone({precision:precision});if(n%2==1)return n.times(bigFactorial(new _BigNumber(n-1)));for(var p=n,prod=new Big(n),sum=n.toNumber();p>2;)sum+=p-=2,prod=prod.times(sum);return new _BigNumber(prod.toPrecision(_BigNumber.precision))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/kldivergence.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return createKldivergence}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],createKldivergence=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("kldivergence",dependencies,(_ref=>{var{typed:typed,matrix:matrix,divide:divide,sum:sum,multiply:multiply,map:map,dotDivide:dotDivide,log:log,isNumeric:isNumeric}=_ref;return typed("kldivergence",{"Array, Array":function ArrayArray(q,p){return _kldiv(matrix(q),matrix(p))},"Matrix, Array":function MatrixArray(q,p){return _kldiv(q,matrix(p))},"Array, Matrix":function ArrayMatrix(q,p){return _kldiv(matrix(q),p)},"Matrix, Matrix":function MatrixMatrix(q,p){return _kldiv(q,p)}});function _kldiv(q,p){var plength=p.size().length,qlength=q.size().length;if(plength>1)throw new Error("first object must be one dimensional");if(qlength>1)throw new Error("second object must be one dimensional");if(plength!==qlength)throw new Error("Length of two vectors must be equal");if(0===sum(q))throw new Error("Sum of elements in first object must be non zero");if(0===sum(p))throw new Error("Sum of elements in second object must be non zero");var qnorm=divide(q,sum(q)),pnorm=divide(p,sum(p)),result=sum(multiply(qnorm,map(dotDivide(qnorm,pnorm),(x=>log(x)))));return isNumeric(result)?result:Number.NaN}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/lgamma.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:function(){return createLgamma}});var _plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/probability.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["Complex","typed"],createLgamma=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("lgamma",dependencies,(_ref=>{var{Complex:Complex,typed:typed}=_ref,SMALL_RE=7,coeffs=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return typed("lgamma",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Oo,Complex:function lgammaComplex(n){if(n.isNaN())return new Complex(NaN,NaN);if(0===n.im)return new Complex((0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Oo)(n.re),0);if(n.re>=SMALL_RE||Math.abs(n.im)>=7)return lgammaStirling(n);if(n.re<=.1){var tmp=(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.JG)(6.283185307179586,n.im)*Math.floor(.5*n.re+.25),a=n.mul(Math.PI).sin().log(),b=lgammaComplex(new Complex(1-n.re,-n.im));return new Complex(1.1447298858494002,tmp).sub(a).sub(b)}return n.im>=0?lgammaRecurrence(n):lgammaRecurrence(n.conjugate()).conjugate()},BigNumber:function BigNumber(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function lgammaStirling(z){for(var leftPart=z.sub(.5).mul(z.log()).sub(z).add(_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.uS),rz=new Complex(1,0).div(z),rzz=rz.div(z),a=coeffs[0],b=coeffs[1],r=2*rzz.re,s=rzz.re*rzz.re+rzz.im*rzz.im,i=2;i<8;i++){var tmp=b;b=-s*a+coeffs[i],a=r*a+tmp}var rightPart=rz.mul(rzz.mul(a).add(b));return leftPart.add(rightPart)}function lgammaRecurrence(z){var signflips=0,sb=0,shiftprod=z;for(z=z.add(1);z.re<=SMALL_RE;){var nsb=(shiftprod=shiftprod.mul(z)).im<0?1:0;0!==nsb&&0===sb&&signflips++,sb=nsb,z=z.add(1)}return lgammaStirling(z).sub(shiftprod.log()).sub(new Complex(0,2*signflips*Math.PI*1))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/multinomial.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return createMultinomial}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","add","divide","multiply","factorial","isInteger","isPositive"],createMultinomial=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("multinomial",dependencies,(_ref=>{var{typed:typed,add:add,divide:divide,multiply:multiply,factorial:factorial,isInteger:isInteger,isPositive:isPositive}=_ref;return typed("multinomial",{"Array | Matrix":function ArrayMatrix(a){var sum=0,denom=1;return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(a,(function(ai){if(!isInteger(ai)||!isPositive(ai))throw new TypeError("Positive integer value expected in function multinomial");sum=add(sum,ai),denom=multiply(denom,factorial(ai))})),divide(factorial(sum),denom)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/permutations.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return createPermutations}});var _utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_product_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/product.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","factorial"],createPermutations=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("permutations",dependencies,(_ref=>{var{typed:typed,factorial:factorial}=_ref;return typed("permutations",{"number | BigNumber":factorial,"number, number":function numberNumber(n,k){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(n)||n<0)throw new TypeError("Positive integer value expected in function permutations");if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(k)||k<0)throw new TypeError("Positive integer value expected in function permutations");if(k>n)throw new TypeError("second argument k must be less than or equal to first argument n");return(0,_utils_product_js__WEBPACK_IMPORTED_MODULE_2__.O)(n-k+1,n)},"BigNumber, BigNumber":function BigNumberBigNumber(n,k){var result,i;if(!isPositiveInteger(n)||!isPositiveInteger(k))throw new TypeError("Positive integer value expected in function permutations");if(k.gt(n))throw new TypeError("second argument k must be less than or equal to first argument n");for(result=n.mul(0).add(1),i=n.minus(k).plus(1);i.lte(n);i=i.plus(1))result=result.times(i);return result}})}));function isPositiveInteger(n){return n.isInteger()&&n.gte(0)}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/pickRandom.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return createPickRandom}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/util/seededRNG.js"),dependencies=["typed","config","?on"],createPickRandom=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("pickRandom",dependencies,(_ref=>{var{typed:typed,config:config,on:on}=_ref,rng=(0,_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__.l)(config.randomSeed);return on&&on("config",(function(curr,prev){curr.randomSeed!==prev.randomSeed&&(rng=(0,_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__.l)(curr.randomSeed))})),typed("pickRandom",{"Array | Matrix":function ArrayMatrix(possibles){return _pickRandom(possibles,{})},"Array | Matrix, Object":function ArrayMatrixObject(possibles,options){return _pickRandom(possibles,options)},"Array | Matrix, number":function ArrayMatrixNumber(possibles,number){return _pickRandom(possibles,{number:number})},"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(possibles,weights){return _pickRandom(possibles,{weights:weights})},"Array | Matrix, Array | Matrix, number":function ArrayMatrixArrayMatrixNumber(possibles,weights,number){return _pickRandom(possibles,{number:number,weights:weights})},"Array | Matrix, number, Array | Matrix":function ArrayMatrixNumberArrayMatrix(possibles,number,weights){return _pickRandom(possibles,{number:number,weights:weights})}});function _pickRandom(possibles,_ref2){var{number:number,weights:weights,elementWise:elementWise=!0}=_ref2,single=void 0===number;single&&(number=1);var createMatrix=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW)(possibles)?possibles.create:(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW)(weights)?weights.create:null;possibles=possibles.valueOf(),weights&&(weights=weights.valueOf()),!0===elementWise&&(possibles=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.xH)(possibles),weights=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.xH)(weights));var totalWeights=0;if(void 0!==weights){if(weights.length!==possibles.length)throw new Error("Weights must have the same length as possibles");for(var i=0,len=weights.length;i<len;i++){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.hj)(weights[i])||weights[i]<0)throw new Error("Weights must be an array of positive numbers");totalWeights+=weights[i]}}for(var pick,length=possibles.length,result=[];result.length<number;){if(void 0===weights)pick=possibles[Math.floor(rng()*length)];else for(var randKey=rng()*totalWeights,_i=0,_len=possibles.length;_i<_len;_i++)if((randKey-=weights[_i])<0){pick=possibles[_i];break}result.push(pick)}return single?result[0]:createMatrix?createMatrix(result):result}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/random.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createRandom}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/util/seededRNG.js"),_util_randomMatrix_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/util/randomMatrix.js"),name="random",dependencies=["typed","config","?on"],createRandom=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,on:on}=_ref,rng=(0,_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__.l)(config.randomSeed);return on&&on("config",(function(curr,prev){curr.randomSeed!==prev.randomSeed&&(rng=(0,_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__.l)(curr.randomSeed))})),typed(name,{"":()=>_random(0,1),number:max=>_random(0,max),"number, number":(min,max)=>_random(min,max),"Array | Matrix":size=>_randomMatrix(size,0,1),"Array | Matrix, number":(size,max)=>_randomMatrix(size,0,max),"Array | Matrix, number, number":(size,min,max)=>_randomMatrix(size,min,max)});function _randomMatrix(size,min,max){var res=(0,_util_randomMatrix_js__WEBPACK_IMPORTED_MODULE_2__.A)(size.valueOf(),(()=>_random(min,max)));return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.SW)(size)?size.create(res):res}function _random(min,max){return min+rng()*(max-min)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/randomInt.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return createRandomInt}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_util_randomMatrix_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/util/randomMatrix.js"),_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/util/seededRNG.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","config","?on"],createRandomInt=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("randomInt",dependencies,(_ref=>{var{typed:typed,config:config,on:on}=_ref,rng=(0,_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__.l)(config.randomSeed);return on&&on("config",(function(curr,prev){curr.randomSeed!==prev.randomSeed&&(rng=(0,_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__.l)(curr.randomSeed))})),typed("randomInt",{"":()=>_randomInt(0,1),number:max=>_randomInt(0,max),"number, number":(min,max)=>_randomInt(min,max),"Array | Matrix":size=>_randomIntMatrix(size,0,1),"Array | Matrix, number":(size,max)=>_randomIntMatrix(size,0,max),"Array | Matrix, number, number":(size,min,max)=>_randomIntMatrix(size,min,max)});function _randomIntMatrix(size,min,max){var res=(0,_util_randomMatrix_js__WEBPACK_IMPORTED_MODULE_2__.A)(size.valueOf(),(()=>_randomInt(min,max)));return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.SW)(size)?size.create(res):res}function _randomInt(min,max){return Math.floor(min+rng()*(max-min))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/util/randomMatrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function randomMatrix(size,random){var data=[];if((size=size.slice(0)).length>1)for(var i=0,length=size.shift();i<length;i++)data.push(randomMatrix(size,random));else for(var _i=0,_length=size.shift();_i<_length;_i++)data.push(random());return data}__webpack_require__.d(__webpack_exports__,{A:function(){return randomMatrix}})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/probability/util/seededRNG.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return createRng}});var seedrandom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/seedrandom/index.js"),seedrandom__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(seedrandom__WEBPACK_IMPORTED_MODULE_0__),singletonRandom=seedrandom__WEBPACK_IMPORTED_MODULE_0___default()(Date.now());function createRng(randomSeed){var random;return function setSeed(seed){random=null===seed?singletonRandom:seedrandom__WEBPACK_IMPORTED_MODULE_0___default()(String(seed))}(randomSeed),function rng(){return random()}}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compare.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return createCompare}});var _utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matAlgo05xSfSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo05xSfSf.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_compareUnits_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compareUnits.js"),name="compare",dependencies=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],createCompare=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,equalScalar:equalScalar,matrix:matrix,BigNumber:BigNumber,Fraction:Fraction,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__.$)({typed:typed}),matAlgo05xSfSf=(0,_type_matrix_utils_matAlgo05xSfSf_js__WEBPACK_IMPORTED_MODULE_2__.b)({typed:typed,equalScalar:equalScalar}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__.O)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat}),compareUnits=(0,_compareUnits_js__WEBPACK_IMPORTED_MODULE_5__.g)({typed:typed});return typed(name,createCompareNumber({typed:typed,config:config}),{"boolean, boolean":function booleanBoolean(x,y){return x===y?0:x>y?1:-1},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,y,config.epsilon)?new BigNumber(0):new BigNumber(x.cmp(y))},"Fraction, Fraction":function FractionFraction(x,y){return new Fraction(x.compare(y))},"Complex, Complex":function ComplexComplex(){throw new TypeError("No ordering relation is defined for complex numbers")}},compareUnits,matrixAlgorithmSuite({SS:matAlgo05xSfSf,DS:matAlgo03xDSf,Ss:matAlgo12xSfs}))})),createCompareNumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,["typed","config"],(_ref2=>{var{typed:typed,config:config}=_ref2;return typed(name,{"number, number":function numberNumber(x,y){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.RI)(x,y,config.epsilon)?0:x>y?1:-1}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compareNatural.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createCompareNatural}});var javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/javascript-natural-sort/naturalSort.js"),javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0__),_utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),name="compareNatural",dependencies=["typed","compare"],createCompareNatural=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)(name,dependencies,(_ref=>{var{typed:typed,compare:compare}=_ref,compareBooleans=compare.signatures["boolean,boolean"];return typed(name,{"any, any":function _compareNatural(x,y){var c,typeX=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(x),typeY=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(y);if(!("number"!==typeX&&"BigNumber"!==typeX&&"Fraction"!==typeX||"number"!==typeY&&"BigNumber"!==typeY&&"Fraction"!==typeY))return"0"!==(c=compare(x,y)).toString()?c>0?1:-1:javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default()(typeX,typeY);var matTypes=["Array","DenseMatrix","SparseMatrix"];if(matTypes.includes(typeX)||matTypes.includes(typeY))return 0!==(c=compareMatricesAndArrays(_compareNatural,x,y))?c:javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default()(typeX,typeY);if(typeX!==typeY)return javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default()(typeX,typeY);if("Complex"===typeX)return function compareComplexNumbers(x,y){if(x.re>y.re)return 1;if(x.re<y.re)return-1;if(x.im>y.im)return 1;if(x.im<y.im)return-1;return 0}(x,y);if("Unit"===typeX)return x.equalBase(y)?_compareNatural(x.value,y.value):compareArrays(_compareNatural,x.formatUnits(),y.formatUnits());if("boolean"===typeX)return compareBooleans(x,y);if("string"===typeX)return javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default()(x,y);if("Object"===typeX)return function compareObjects(compareNatural,x,y){var keysX=Object.keys(x),keysY=Object.keys(y);keysX.sort(javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default()),keysY.sort(javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default());var c=compareArrays(compareNatural,keysX,keysY);if(0!==c)return c;for(var i=0;i<keysX.length;i++){var v=compareNatural(x[keysX[i]],y[keysY[i]]);if(0!==v)return v}return 0}(_compareNatural,x,y);if("null"===typeX)return 0;if("undefined"===typeX)return 0;throw new TypeError('Unsupported type of value "'+typeX+'"')}});function compareMatricesAndArrays(compareNatural,x,y){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.sA)(x)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.sA)(y)?compareArrays(compareNatural,x.toJSON().values,y.toJSON().values):(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.sA)(x)?compareMatricesAndArrays(compareNatural,x.toArray(),y):(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.sA)(y)?compareMatricesAndArrays(compareNatural,x,y.toArray()):(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.jH)(x)?compareMatricesAndArrays(compareNatural,x.toJSON().data,y):(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.jH)(y)?compareMatricesAndArrays(compareNatural,x,y.toJSON().data):Array.isArray(x)?Array.isArray(y)?compareArrays(compareNatural,x,y):compareMatricesAndArrays(compareNatural,x,[y]):compareMatricesAndArrays(compareNatural,[x],y)}function compareArrays(compareNatural,x,y){for(var i=0,ii=Math.min(x.length,y.length);i<ii;i++){var v=compareNatural(x[i],y[i]);if(0!==v)return v}return x.length>y.length?1:x.length<y.length?-1:0}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compareText.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{f:function(){return createCompareText}});var _utils_string_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),name="compareText",dependencies=["typed","matrix","concat"];_utils_string_js__WEBPACK_IMPORTED_MODULE_0__.cd.signature="any, any";var createCompareText=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,concat:concat}=_ref,matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_2__.L)({typed:typed,matrix:matrix,concat:concat});return typed(name,_utils_string_js__WEBPACK_IMPORTED_MODULE_0__.cd,matrixAlgorithmSuite({elop:_utils_string_js__WEBPACK_IMPORTED_MODULE_0__.cd,Ds:!0}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compareUnits.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{g:function(){return createCompareUnits}});var createCompareUnits=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("compareUnits",["typed"],(_ref=>{var{typed:typed}=_ref;return{"Unit, Unit":typed.referToSelf((self=>(x,y)=>{if(!x.equalBase(y))throw new Error("Cannot compare units with different base");return typed.find(self,[x.valueType(),y.valueType()])(x.value,y.value)}))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/deepEqual.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return createDeepEqual}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","equal"],createDeepEqual=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("deepEqual",dependencies,(_ref=>{var{typed:typed,equal:equal}=_ref;return typed("deepEqual",{"any, any":function anyAny(x,y){return _deepEqual(x.valueOf(),y.valueOf())}});function _deepEqual(x,y){if(Array.isArray(x)){if(Array.isArray(y)){var len=x.length;if(len!==y.length)return!1;for(var i=0;i<len;i++)if(!_deepEqual(x[i],y[i]))return!1;return!0}return!1}return!Array.isArray(y)&&equal(x,y)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/equal.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return createEqual}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo07xSSf.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),dependencies=["typed","matrix","equalScalar","DenseMatrix","concat"],createEqual=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("equal",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__.$)({typed:typed}),matAlgo07xSSf=(0,_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__.G)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__.O)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat});return typed("equal",createEqualNumber({typed:typed,equalScalar:equalScalar}),matrixAlgorithmSuite({elop:equalScalar,SS:matAlgo07xSSf,DS:matAlgo03xDSf,Ss:matAlgo12xSfs}))})),createEqualNumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("equal",["typed","equalScalar"],(_ref2=>{var{typed:typed,equalScalar:equalScalar}=_ref2;return typed("equal",{"any, any":function anyAny(x,y){return null===x?null===y:null===y?null===x:void 0===x?void 0===y:void 0===y?void 0===x:equalScalar(x,y)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/equalScalar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{f:function(){return createEqualScalar}});var nearlyEqual=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),number=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),factory=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js");var relational_compareUnits=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compareUnits.js"),dependencies=["typed","config"],createEqualScalar=(0,factory.d5)("equalScalar",dependencies,(_ref=>{var{typed:typed,config:config}=_ref;return typed("equalScalar",{"boolean, boolean":function booleanBoolean(x,y){return x===y},"number, number":function numberNumber(x,y){return(0,number.RI)(x,y,config.epsilon)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.eq(y)||(0,nearlyEqual.R)(x,y,config.epsilon)},"Fraction, Fraction":function FractionFraction(x,y){return x.equals(y)},"Complex, Complex":function ComplexComplex(x,y){return function complexEquals(x,y,epsilon){return(0,number.RI)(x.re,y.re,epsilon)&&(0,number.RI)(x.im,y.im,epsilon)}(x,y,config.epsilon)}},(0,relational_compareUnits.g)({typed:typed}))}));(0,factory.d5)("equalScalar",["typed","config"],(_ref2=>{var{typed:typed,config:config}=_ref2;return typed("equalScalar",{"number, number":function numberNumber(x,y){return(0,number.RI)(x,y,config.epsilon)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/equalText.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return createEqualText}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","compareText","isZero"],createEqualText=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("equalText",dependencies,(_ref=>{var{typed:typed,compareText:compareText,isZero:isZero}=_ref;return typed("equalText",{"any, any":function anyAny(x,y){return isZero(compareText(x,y))}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/larger.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return createLarger}});var _utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo07xSSf.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_compareUnits_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compareUnits.js"),name="larger",dependencies=["typed","config","matrix","DenseMatrix","concat"],createLarger=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__.$)({typed:typed}),matAlgo07xSSf=(0,_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__.G)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__.O)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat}),compareUnits=(0,_compareUnits_js__WEBPACK_IMPORTED_MODULE_5__.g)({typed:typed});return typed(name,createLargerNumber({typed:typed,config:config}),{"boolean, boolean":(x,y)=>x>y,"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.gt(y)&&!(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,y,config.epsilon)},"Fraction, Fraction":(x,y)=>1===x.compare(y),"Complex, Complex":function ComplexComplex(){throw new TypeError("No ordering relation is defined for complex numbers")}},compareUnits,matrixAlgorithmSuite({SS:matAlgo07xSSf,DS:matAlgo03xDSf,Ss:matAlgo12xSfs}))})),createLargerNumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,["typed","config"],(_ref2=>{var{typed:typed,config:config}=_ref2;return typed(name,{"number, number":function numberNumber(x,y){return x>y&&!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.RI)(x,y,config.epsilon)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/largerEq.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return createLargerEq}});var _utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo07xSSf.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_compareUnits_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compareUnits.js"),name="largerEq",dependencies=["typed","config","matrix","DenseMatrix","concat"],createLargerEq=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__.$)({typed:typed}),matAlgo07xSSf=(0,_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__.G)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__.O)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat}),compareUnits=(0,_compareUnits_js__WEBPACK_IMPORTED_MODULE_5__.g)({typed:typed});return typed(name,createLargerEqNumber({typed:typed,config:config}),{"boolean, boolean":(x,y)=>x>=y,"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.gte(y)||(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,y,config.epsilon)},"Fraction, Fraction":(x,y)=>-1!==x.compare(y),"Complex, Complex":function ComplexComplex(){throw new TypeError("No ordering relation is defined for complex numbers")}},compareUnits,matrixAlgorithmSuite({SS:matAlgo07xSSf,DS:matAlgo03xDSf,Ss:matAlgo12xSfs}))})),createLargerEqNumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,["typed","config"],(_ref2=>{var{typed:typed,config:config}=_ref2;return typed(name,{"number, number":function numberNumber(x,y){return x>=y||(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.RI)(x,y,config.epsilon)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/smaller.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{r:function(){return createSmaller}});var _utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo07xSSf.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_compareUnits_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compareUnits.js"),name="smaller",dependencies=["typed","config","matrix","DenseMatrix","concat"],createSmaller=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__.$)({typed:typed}),matAlgo07xSSf=(0,_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__.G)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__.O)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat}),compareUnits=(0,_compareUnits_js__WEBPACK_IMPORTED_MODULE_5__.g)({typed:typed});return typed(name,createSmallerNumber({typed:typed,config:config}),{"boolean, boolean":(x,y)=>x<y,"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.lt(y)&&!(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,y,config.epsilon)},"Fraction, Fraction":(x,y)=>-1===x.compare(y),"Complex, Complex":function ComplexComplex(x,y){throw new TypeError("No ordering relation is defined for complex numbers")}},compareUnits,matrixAlgorithmSuite({SS:matAlgo07xSSf,DS:matAlgo03xDSf,Ss:matAlgo12xSfs}))})),createSmallerNumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,["typed","config"],(_ref2=>{var{typed:typed,config:config}=_ref2;return typed(name,{"number, number":function numberNumber(x,y){return x<y&&!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.RI)(x,y,config.epsilon)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/smallerEq.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createSmallerEq}});var _utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo07xSSf.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),_compareUnits_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/compareUnits.js"),name="smallerEq",dependencies=["typed","config","matrix","DenseMatrix","concat"],createSmallerEq=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__.$)({typed:typed}),matAlgo07xSSf=(0,_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__.G)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__.O)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat}),compareUnits=(0,_compareUnits_js__WEBPACK_IMPORTED_MODULE_5__.g)({typed:typed});return typed(name,createSmallerEqNumber({typed:typed,config:config}),{"boolean, boolean":(x,y)=>x<=y,"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.lte(y)||(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,y,config.epsilon)},"Fraction, Fraction":(x,y)=>1!==x.compare(y),"Complex, Complex":function ComplexComplex(){throw new TypeError("No ordering relation is defined for complex numbers")}},compareUnits,matrixAlgorithmSuite({SS:matAlgo07xSSf,DS:matAlgo03xDSf,Ss:matAlgo12xSfs}))})),createSmallerEqNumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,["typed","config"],(_ref2=>{var{typed:typed,config:config}=_ref2;return typed(name,{"number, number":function numberNumber(x,y){return x<=y||(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.RI)(x,y,config.epsilon)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/relational/unequal.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{I:function(){return createUnequal}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo07xSSf.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),name="unequal",dependencies=["typed","config","equalScalar","matrix","DenseMatrix","concat"],createUnequal=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,equalScalar:equalScalar,matrix:matrix,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_1__.$)({typed:typed}),matAlgo07xSSf=(0,_type_matrix_utils_matAlgo07xSSf_js__WEBPACK_IMPORTED_MODULE_2__.G)({typed:typed,DenseMatrix:DenseMatrix}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_3__.O)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_4__.L)({typed:typed,matrix:matrix,concat:concat});return typed(name,createUnequalNumber({typed:typed,equalScalar:equalScalar}),matrixAlgorithmSuite({elop:function _unequal(x,y){return!equalScalar(x,y)},SS:matAlgo07xSSf,DS:matAlgo03xDSf,Ss:matAlgo12xSfs}))})),createUnequalNumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,["typed","equalScalar"],(_ref2=>{var{typed:typed,equalScalar:equalScalar}=_ref2;return typed(name,{"any, any":function anyAny(x,y){return null===x?null!==y:null===y?null!==x:void 0===x?void 0!==y:void 0===y?void 0!==x:!equalScalar(x,y)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setCartesian.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return createSetCartesian}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetCartesian=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setCartesian",dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index,DenseMatrix:DenseMatrix}=_ref;return typed("setCartesian",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(a1,a2){var result=[];if(0!==subset(size(a1),new Index(0))&&0!==subset(size(a2),new Index(0))){var b1=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a1)?a1:a1.toArray()).sort(compareNatural),b2=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a2)?a2:a2.toArray()).sort(compareNatural);result=[];for(var i=0;i<b1.length;i++)for(var j=0;j<b2.length;j++)result.push([b1[i],b2[j]])}return Array.isArray(a1)&&Array.isArray(a2)?result:new DenseMatrix(result)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setDifference.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{L:function(){return createSetDifference}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),name="setDifference",dependencies=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetDifference=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index,DenseMatrix:DenseMatrix}=_ref;return typed(name,{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(a1,a2){var result;if(0===subset(size(a1),new Index(0)))result=[];else{if(0===subset(size(a2),new Index(0)))return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a1.toArray());var inb2,b1=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.yV)((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a1)?a1:a1.toArray()).sort(compareNatural)),b2=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.yV)((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a2)?a2:a2.toArray()).sort(compareNatural));result=[];for(var i=0;i<b1.length;i++){inb2=!1;for(var j=0;j<b2.length;j++)if(0===compareNatural(b1[i].value,b2[j].value)&&b1[i].identifier===b2[j].identifier){inb2=!0;break}inb2||result.push(b1[i])}}return Array.isArray(a1)&&Array.isArray(a2)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.D$)(result):new DenseMatrix((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.D$)(result))}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setDistinct.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createSetDistinct}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetDistinct=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setDistinct",dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index,DenseMatrix:DenseMatrix}=_ref;return typed("setDistinct",{"Array | Matrix":function ArrayMatrix(a){var result;if(0===subset(size(a),new Index(0)))result=[];else{var b=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a)?a:a.toArray()).sort(compareNatural);(result=[]).push(b[0]);for(var i=1;i<b.length;i++)0!==compareNatural(b[i],b[i-1])&&result.push(b[i])}return Array.isArray(a)?result:new DenseMatrix(result)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setIntersect.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{h:function(){return createSetIntersect}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetIntersect=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setIntersect",dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index,DenseMatrix:DenseMatrix}=_ref;return typed("setIntersect",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(a1,a2){var result;if(0===subset(size(a1),new Index(0))||0===subset(size(a2),new Index(0)))result=[];else{var b1=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.yV)((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a1)?a1:a1.toArray()).sort(compareNatural)),b2=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.yV)((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a2)?a2:a2.toArray()).sort(compareNatural));result=[];for(var i=0;i<b1.length;i++)for(var j=0;j<b2.length;j++)if(0===compareNatural(b1[i].value,b2[j].value)&&b1[i].identifier===b2[j].identifier){result.push(b1[i]);break}}return Array.isArray(a1)&&Array.isArray(a2)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.D$)(result):new DenseMatrix((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.D$)(result))}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setIsSubset.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createSetIsSubset}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","subset","compareNatural","Index"],createSetIsSubset=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setIsSubset",dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index}=_ref;return typed("setIsSubset",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(a1,a2){if(0===subset(size(a1),new Index(0)))return!0;if(0===subset(size(a2),new Index(0)))return!1;for(var inb2,b1=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.yV)((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a1)?a1:a1.toArray()).sort(compareNatural)),b2=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.yV)((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a2)?a2:a2.toArray()).sort(compareNatural)),i=0;i<b1.length;i++){inb2=!1;for(var j=0;j<b2.length;j++)if(0===compareNatural(b1[i].value,b2[j].value)&&b1[i].identifier===b2[j].identifier){inb2=!0;break}if(!1===inb2)return!1}return!0}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setMultiplicity.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m:function(){return createSetMultiplicity}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),name="setMultiplicity",dependencies=["typed","size","subset","compareNatural","Index"],createSetMultiplicity=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index}=_ref;return typed(name,{"number | BigNumber | Fraction | Complex, Array | Matrix":function numberBigNumberFractionComplexArrayMatrix(e,a){if(0===subset(size(a),new Index(0)))return 0;for(var b=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a)?a:a.toArray()),count=0,i=0;i<b.length;i++)0===compareNatural(b[i],e)&&count++;return count}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setPowerset.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createSetPowerset}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","subset","compareNatural","Index"],createSetPowerset=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setPowerset",dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index}=_ref;return typed("setPowerset",{"Array | Matrix":function ArrayMatrix(a){if(0===subset(size(a),new Index(0)))return[];for(var b=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a)?a:a.toArray()).sort(compareNatural),result=[],number=0;number.toString(2).length<=b.length;)result.push(_subset(b,number.toString(2).split("").reverse())),number++;return function _sort(array){for(var temp=[],i=array.length-1;i>0;i--)for(var j=0;j<i;j++)array[j].length>array[j+1].length&&(temp=array[j],array[j]=array[j+1],array[j+1]=temp);return array}(result)}});function _subset(array,bitarray){for(var result=[],i=0;i<bitarray.length;i++)"1"===bitarray[i]&&result.push(array[i]);return result}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setSize.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createSetSize}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","compareNatural"],createSetSize=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setSize",dependencies,(_ref=>{var{typed:typed,compareNatural:compareNatural}=_ref;return typed("setSize",{"Array | Matrix":function ArrayMatrix(a){return Array.isArray(a)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a).length:(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a.toArray()).length},"Array | Matrix, boolean":function ArrayMatrixBoolean(a,unique){if(!1===unique||0===a.length)return Array.isArray(a)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a).length:(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a.toArray()).length;for(var b=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a)?a:a.toArray()).sort(compareNatural),count=1,i=1;i<b.length;i++)0!==compareNatural(b[i],b[i-1])&&count++;return count}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setSymDifference.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createSetSymDifference}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),name="setSymDifference",dependencies=["typed","size","concat","subset","setDifference","Index"],createSetSymDifference=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,size:size,concat:concat,subset:subset,setDifference:setDifference,Index:Index}=_ref;return typed(name,{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(a1,a2){if(0===subset(size(a1),new Index(0)))return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a2);if(0===subset(size(a2),new Index(0)))return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a1);var b1=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a1),b2=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a2);return concat(setDifference(b1,b2),setDifference(b2,b1))}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/set/setUnion.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{r:function(){return createSetUnion}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],createSetUnion=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setUnion",dependencies,(_ref=>{var{typed:typed,size:size,concat:concat,subset:subset,setIntersect:setIntersect,setSymDifference:setSymDifference,Index:Index}=_ref;return typed("setUnion",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(a1,a2){if(0===subset(size(a1),new Index(0)))return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a2);if(0===subset(size(a2),new Index(0)))return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a1);var b1=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a1),b2=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a2);return concat(setSymDifference(b1,b2),setIntersect(b1,b2))}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/signal/freqz.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createFreqz}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","add","multiply","Complex","divide","matrix"],createFreqz=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("freqz",dependencies,(_ref=>{var{typed:typed,add:add,multiply:multiply,Complex:Complex,divide:divide,matrix:matrix}=_ref;return typed("freqz",{"Array, Array":function ArrayArray(b,a){return _freqz(b,a,createBins(512))},"Array, Array, Array":function ArrayArrayArray(b,a,w){return _freqz(b,a,w)},"Array, Array, number":function ArrayArrayNumber(b,a,w){if(w<0)throw new Error("w must be a positive number");return _freqz(b,a,createBins(w))},"Matrix, Matrix":function MatrixMatrix(b,a){var _w=createBins(512),{w:w,h:h}=_freqz(b.valueOf(),a.valueOf(),_w);return{w:matrix(w),h:matrix(h)}},"Matrix, Matrix, Matrix":function MatrixMatrixMatrix(b,a,w){var{h:h}=_freqz(b.valueOf(),a.valueOf(),w.valueOf());return{h:matrix(h),w:matrix(w)}},"Matrix, Matrix, number":function MatrixMatrixNumber(b,a,w){if(w<0)throw new Error("w must be a positive number");var _w=createBins(w),{h:h}=_freqz(b.valueOf(),a.valueOf(),_w);return{h:matrix(h),w:matrix(_w)}}});function _freqz(b,a,w){for(var num=[],den=[],i=0;i<w.length;i++){for(var sumNum=Complex(0,0),sumDen=Complex(0,0),j=0;j<b.length;j++)sumNum=add(sumNum,multiply(b[j],Complex(Math.cos(-j*w[i]),Math.sin(-j*w[i]))));for(var _j=0;_j<a.length;_j++)sumDen=add(sumDen,multiply(a[_j],Complex(Math.cos(-_j*w[i]),Math.sin(-_j*w[i]))));num.push(sumNum),den.push(sumDen)}for(var h=[],_i=0;_i<num.length;_i++)h.push(divide(num[_i],den[_i]));return{h:h,w:w}}function createBins(n){for(var bins=[],i=0;i<n;i++)bins.push(i/n*Math.PI);return bins}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/signal/zpk2tf.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{u:function(){return createZpk2tf}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","add","multiply","Complex","number"],createZpk2tf=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("zpk2tf",dependencies,(_ref=>{var{typed:typed,add:add,multiply:multiply,Complex:Complex,number:number}=_ref;return typed("zpk2tf",{"Array,Array,number":function ArrayArrayNumber(z,p,k){return _zpk2tf(z,p,k)},"Array,Array":function ArrayArray(z,p){return _zpk2tf(z,p,1)},"Matrix,Matrix,number":function MatrixMatrixNumber(z,p,k){return _zpk2tf(z.valueOf(),p.valueOf(),k)},"Matrix,Matrix":function MatrixMatrix(z,p){return _zpk2tf(z.valueOf(),p.valueOf(),1)}});function _zpk2tf(z,p,k){z.some((el=>"BigNumber"===el.type))&&(z=z.map((el=>number(el)))),p.some((el=>"BigNumber"===el.type))&&(p=p.map((el=>number(el))));for(var num=[Complex(1,0)],den=[Complex(1,0)],i=0;i<z.length;i++){var zero=z[i];"number"==typeof zero&&(zero=Complex(zero,0)),num=_multiply(num,[Complex(1,0),Complex(-zero.re,-zero.im)])}for(var _i=0;_i<p.length;_i++){var pole=p[_i];"number"==typeof pole&&(pole=Complex(pole,0)),den=_multiply(den,[Complex(1,0),Complex(-pole.re,-pole.im)])}for(var _i2=0;_i2<num.length;_i2++)num[_i2]=multiply(num[_i2],k);return[num,den]}function _multiply(a,b){for(var c=[],i=0;i<a.length+b.length-1;i++){c[i]=Complex(0,0);for(var j=0;j<a.length;j++)i-j>=0&&i-j<b.length&&(c[i]=add(c[i],multiply(a[j],b[i-j])))}return c}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/special/erf.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return createErf}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["typed"],createErf=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("erf",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("name",{number:function number(x){var y=Math.abs(x);return y>=MAX_NUM?(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.Xx)(x):y<=THRESH?(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.Xx)(x)*function erf1(y){var i,ysq=y*y,xnum=P[0][4]*ysq,xden=ysq;for(i=0;i<3;i+=1)xnum=(xnum+P[0][i])*ysq,xden=(xden+Q[0][i])*ysq;return y*(xnum+P[0][3])/(xden+Q[0][3])}(y):y<=4?(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.Xx)(x)*(1-function erfc2(y){var i,xnum=P[1][8]*y,xden=y;for(i=0;i<7;i+=1)xnum=(xnum+P[1][i])*y,xden=(xden+Q[1][i])*y;var result=(xnum+P[1][7])/(xden+Q[1][7]),ysq=parseInt(16*y)/16,del=(y-ysq)*(y+ysq);return Math.exp(-ysq*ysq)*Math.exp(-del)*result}(y)):(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.Xx)(x)*(1-function erfc3(y){var i,ysq=1/(y*y),xnum=P[2][5]*ysq,xden=ysq;for(i=0;i<4;i+=1)xnum=(xnum+P[2][i])*ysq,xden=(xden+Q[2][i])*ysq;var result=ysq*(xnum+P[2][4])/(xden+Q[2][4]);result=(SQRPI-result)/y,ysq=parseInt(16*y)/16;var del=(y-ysq)*(y+ysq);return Math.exp(-ysq*ysq)*Math.exp(-del)*result}(y))},"Array | Matrix":typed.referToSelf((self=>n=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(n,self)))})})),THRESH=.46875,SQRPI=.5641895835477563,P=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Q=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],MAX_NUM=Math.pow(2,53)},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/special/zeta.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{I:function(){return createZeta}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],createZeta=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("zeta",dependencies,(_ref=>{var{typed:typed,config:config,multiply:multiply,pow:pow,divide:divide,factorial:factorial,equal:equal,smallerEq:smallerEq,isNegative:isNegative,gamma:gamma,sin:sin,subtract:subtract,add:add,Complex:Complex,BigNumber:_BigNumber,pi:pi}=_ref;return typed("zeta",{number:s=>zetaNumeric(s,(value=>value),(()=>20)),BigNumber:s=>zetaNumeric(s,(value=>new _BigNumber(value)),(()=>Math.abs(Math.log10(config.epsilon)))),Complex:function zetaComplex(s){if(0===s.re&&0===s.im)return new Complex(-.5);if(1===s.re)return new Complex(NaN,NaN);if(s.re===1/0&&0===s.im)return new Complex(1);if(s.im===1/0||s.re===-1/0)return new Complex(NaN,NaN);return zeta(s,(value=>value),(s=>Math.round(19.5+.9*Math.abs(s.im))),(s=>s.re))}});function zetaNumeric(s,createValue,determineDigits){return equal(s,0)?createValue(-.5):equal(s,1)?createValue(NaN):isFinite(s)?zeta(s,createValue,determineDigits,(s=>s)):isNegative(s)?createValue(NaN):createValue(1)}function zeta(s,createValue,determineDigits,getRe){var n=determineDigits(s);if(getRe(s)>-(n-1)/2)return function f(s,n,createValue){for(var c=divide(1,multiply(d(createValue(0),n),subtract(1,pow(2,subtract(1,s))))),S=createValue(0),k=createValue(1);smallerEq(k,n);k=add(k,1))S=add(S,divide(multiply((-1)**(k-1),d(k,n)),pow(k,s)));return multiply(c,S)}(s,createValue(n),createValue);var c=multiply(pow(2,s),pow(createValue(pi),subtract(s,1)));return c=multiply(c,sin(multiply(divide(createValue(pi),2),s))),c=multiply(c,gamma(subtract(1,s))),multiply(c,zeta(subtract(1,s),createValue,determineDigits,getRe))}function d(k,n){for(var S=k,j=k;smallerEq(j,n);j=add(j,1)){var factor=divide(multiply(factorial(add(n,subtract(j,1))),pow(4,j)),multiply(factorial(subtract(n,j)),factorial(multiply(2,j))));S=add(S,factor)}return multiply(n,S)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/corr.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{L:function(){return createCorr}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],createCorr=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("corr",dependencies,(_ref=>{var{typed:typed,matrix:matrix,sqrt:sqrt,sum:sum,add:add,subtract:subtract,multiply:multiply,pow:pow,divide:divide}=_ref;return typed("corr",{"Array, Array":function ArrayArray(A,B){return _corr(A,B)},"Matrix, Matrix":function MatrixMatrix(A,B){var res=_corr(A.toArray(),B.toArray());return Array.isArray(res)?matrix(res):res}});function _corr(A,B){var correlations=[];if(Array.isArray(A[0])&&Array.isArray(B[0])){if(A.length!==B.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var i=0;i<A.length;i++){if(A[i].length!==B[i].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");correlations.push(correlation(A[i],B[i]))}return correlations}if(A.length!==B.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return correlation(A,B)}function correlation(A,B){var n=A.length,sumX=sum(A),sumY=sum(B),sumXY=A.reduce(((acc,x,index)=>add(acc,multiply(x,B[index]))),0),sumXSquare=sum(A.map((x=>pow(x,2)))),sumYSquare=sum(B.map((y=>pow(y,2)))),numerator=subtract(multiply(n,sumXY),multiply(sumX,sumY)),denominator=sqrt(multiply(subtract(multiply(n,sumXSquare),pow(sumX,2)),subtract(multiply(n,sumYSquare),pow(sumY,2))));return divide(numerator,denominator)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/cumsum.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createCumSum}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_switch_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/switch.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_error_IndexError_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/IndexError.js"),name="cumsum",dependencies=["typed","add","unaryPlus"],createCumSum=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,add:add,unaryPlus:unaryPlus}=_ref;return typed(name,{Array:_cumsum,Matrix:function Matrix(matrix){return matrix.create(_cumsum(matrix.valueOf()))},"Array, number | BigNumber":_ncumSumDim,"Matrix, number | BigNumber":function MatrixNumberBigNumber(matrix,dim){return matrix.create(_ncumSumDim(matrix.valueOf(),dim))},"...":function _(args){if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.CQ)(args))throw new TypeError("All values expected to be scalar in function cumsum");return _cumsum(args)}});function _cumsum(array){try{return _cumsummap(array)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,name)}}function _cumsummap(array){if(0===array.length)return[];for(var sums=[unaryPlus(array[0])],i=1;i<array.length;++i)sums.push(add(sums[i-1],array[i]));return sums}function _ncumSumDim(array,dim){var size=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.aJ)(array);if(dim<0||dim>=size.length)throw new _error_IndexError_js__WEBPACK_IMPORTED_MODULE_4__.c(dim,size.length);try{return _cumsumDimensional(array,dim)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,name)}}function _cumsumDimensional(mat,dim){var i,ret,tran;if(dim<=0){var initialValue=mat[0][0];if(Array.isArray(initialValue)){for(tran=(0,_utils_switch_js__WEBPACK_IMPORTED_MODULE_5__.c)(mat),ret=[],i=0;i<tran.length;i++)ret[i]=_cumsumDimensional(tran[i],dim-1);return ret}return _cumsummap(mat)}for(ret=[],i=0;i<mat.length;i++)ret[i]=_cumsumDimensional(mat[i],dim-1);return ret}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/mad.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createMad}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","abs","map","median","subtract"],createMad=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("mad",dependencies,(_ref=>{var{typed:typed,abs:abs,map:map,median:median,subtract:subtract}=_ref;return typed("mad",{"Array | Matrix":_mad,"...":function _(args){return _mad(args)}});function _mad(array){if(0===(array=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(array.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var med=median(array);return median(map(array,(function(value){return abs(subtract(value,med))})))}catch(err){throw err instanceof TypeError&&err.message.includes("median")?new TypeError(err.message.replace("median","mad")):(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"mad")}}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/max.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J:function(){return createMax}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","config","numeric","larger"],createMax=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("max",dependencies,(_ref=>{var{typed:typed,config:config,numeric:numeric,larger:larger}=_ref;return typed("max",{"Array | Matrix":_max,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(array,dim){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.u4)(array,dim.valueOf(),_largest)},"...":function _(args){if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.CQ)(args))throw new TypeError("Scalar values expected in function max");return _max(args)}});function _largest(x,y){try{return larger(x,y)?x:y}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"max",y)}}function _max(array){var res;if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){try{isNaN(value)&&"number"==typeof value?res=NaN:(void 0===res||larger(value,res))&&(res=value)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"max",value)}})),void 0===res)throw new Error("Cannot calculate max of an empty array");return"string"==typeof res&&(res=numeric(res,config.number)),res}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/mean.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return createMean}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","add","divide"],createMean=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("mean",dependencies,(_ref=>{var{typed:typed,add:add,divide:divide}=_ref;return typed("mean",{"Array | Matrix":_mean,"Array | Matrix, number | BigNumber":function _nmeanDim(array,dim){try{var sum=(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.u4)(array,dim,add),s=Array.isArray(array)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.aJ)(array):array.size();return divide(sum,s[dim])}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_3__.x)(err,"mean")}},"...":function _(args){if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.CQ)(args))throw new TypeError("Scalar values expected in function mean");return _mean(args)}});function _mean(array){var sum,num=0;if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){try{sum=void 0===sum?value:add(sum,value),num++}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_3__.x)(err,"mean",value)}})),0===num)throw new Error("Cannot calculate the mean of an empty array");return divide(sum,num)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/median.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return createMedian}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","add","divide","compare","partitionSelect"],createMedian=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("median",dependencies,(_ref=>{var{typed:typed,add:add,divide:divide,compare:compare,partitionSelect:partitionSelect}=_ref;function _median(array){try{var num=(array=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(array.valueOf())).length;if(0===num)throw new Error("Cannot calculate median of an empty array");if(num%2==0){for(var mid=num/2-1,right=partitionSelect(array,mid+1),left=array[mid],i=0;i<mid;++i)compare(array[i],left)>0&&(left=array[i]);return middle2(left,right)}var m=partitionSelect(array,(num-1)/2);return middle(m)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"median")}}var middle=typed({"number | BigNumber | Complex | Unit":function numberBigNumberComplexUnit(value){return value}}),middle2=typed({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function numberBigNumberComplexUnitNumberBigNumberComplexUnit(left,right){return divide(add(left,right),2)}});return typed("median",{"Array | Matrix":_median,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(array,dim){throw new Error("median(A, dim) is not yet supported")},"...":function _(args){if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_3__.CQ)(args))throw new TypeError("Scalar values expected in function median");return _median(args)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/min.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return createMin}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","config","numeric","smaller"],createMin=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("min",dependencies,(_ref=>{var{typed:typed,config:config,numeric:numeric,smaller:smaller}=_ref;return typed("min",{"Array | Matrix":_min,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(array,dim){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.u4)(array,dim.valueOf(),_smallest)},"...":function _(args){if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.CQ)(args))throw new TypeError("Scalar values expected in function min");return _min(args)}});function _smallest(x,y){try{return smaller(x,y)?x:y}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"min",y)}}function _min(array){var min;if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){try{isNaN(value)&&"number"==typeof value?min=NaN:(void 0===min||smaller(value,min))&&(min=value)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"min",value)}})),void 0===min)throw new Error("Cannot calculate min of an empty array");return"string"==typeof min&&(min=numeric(min,config.number)),min}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/mode.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createMode}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","isNaN","isNumeric"],createMode=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("mode",dependencies,(_ref=>{var{typed:typed,isNaN:isNaN,isNumeric:isNumeric}=_ref;return typed("mode",{"Array | Matrix":_mode,"...":function _(args){return _mode(args)}});function _mode(values){if(0===(values=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(values.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var count={},mode=[],max=0,i=0;i<values.length;i++){var value=values[i];if(isNumeric(value)&&isNaN(value))throw new Error("Cannot calculate mode of an array containing NaN values");value in count||(count[value]=0),count[value]++,count[value]===max?mode.push(value):count[value]>max&&(max=count[value],mode=[value])}return mode}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/prod.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createProd}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","config","multiplyScalar","numeric"],createProd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("prod",dependencies,(_ref=>{var{typed:typed,config:config,multiplyScalar:multiplyScalar,numeric:numeric}=_ref;return typed("prod",{"Array | Matrix":_prod,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(array,dim){throw new Error("prod(A, dim) is not yet supported")},"...":function _(args){return _prod(args)}});function _prod(array){var prod;if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){try{prod=void 0===prod?value:multiplyScalar(prod,value)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"prod",value)}})),"string"==typeof prod&&(prod=numeric(prod,config.number)),void 0===prod)throw new Error("Cannot calculate prod of an empty array");return prod}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/quantileSeq.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y:function(){return createQuantileSeq}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_matrix_apply_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/matrix/apply.js"),dependencies=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],createQuantileSeq=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("quantileSeq",dependencies,(_ref=>{var{typed:typed,bignumber:bignumber,add:add,subtract:subtract,divide:divide,multiply:multiply,partitionSelect:partitionSelect,compare:compare,isInteger:isInteger,smaller:smaller,smallerEq:smallerEq,larger:larger}=_ref,apply=(0,_matrix_apply_js__WEBPACK_IMPORTED_MODULE_1__.j)({typed:typed,isInteger:isInteger});return typed("quantileSeq",{"Array | Matrix, number | BigNumber":(data,p)=>_quantileSeqProbNumber(data,p,!1),"Array | Matrix, number | BigNumber, number":(data,prob,dim)=>_quantileSeqDim(data,prob,!1,dim,_quantileSeqProbNumber),"Array | Matrix, number | BigNumber, boolean":_quantileSeqProbNumber,"Array | Matrix, number | BigNumber, boolean, number":(data,prob,sorted,dim)=>_quantileSeqDim(data,prob,sorted,dim,_quantileSeqProbNumber),"Array | Matrix, Array | Matrix":(data,p)=>_quantileSeqProbCollection(data,p,!1),"Array | Matrix, Array | Matrix, number":(data,prob,dim)=>_quantileSeqDim(data,prob,!1,dim,_quantileSeqProbCollection),"Array | Matrix, Array | Matrix, boolean":_quantileSeqProbCollection,"Array | Matrix, Array | Matrix, boolean, number":(data,prob,sorted,dim)=>_quantileSeqDim(data,prob,sorted,dim,_quantileSeqProbCollection)});function _quantileSeqDim(data,prob,sorted,dim,fn){return apply(data,dim,(x=>fn(x,prob,sorted)))}function _quantileSeqProbNumber(data,probOrN,sorted){var probArr,dataArr=data.valueOf();if(smaller(probOrN,0))throw new Error("N/prob must be non-negative");if(smallerEq(probOrN,1))return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.hj)(probOrN)?_quantileSeq(dataArr,probOrN,sorted):bignumber(_quantileSeq(dataArr,probOrN,sorted));if(larger(probOrN,1)){if(!isInteger(probOrN))throw new Error("N must be a positive integer");if(larger(probOrN,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var nPlusOne=add(probOrN,1);probArr=[];for(var i=0;smaller(i,probOrN);i++){var prob=divide(i+1,nPlusOne);probArr.push(_quantileSeq(dataArr,prob,sorted))}return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.hj)(probOrN)?probArr:bignumber(probArr)}}function _quantileSeqProbCollection(data,probOrN,sorted){for(var dataArr=data.valueOf(),probOrNArr=probOrN.valueOf(),probArr=[],i=0;i<probOrNArr.length;++i)probArr.push(_quantileSeq(dataArr,probOrNArr[i],sorted));return probArr}function _quantileSeq(array,prob,sorted){var flat=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.xH)(array),len=flat.length;if(0===len)throw new Error("Cannot calculate quantile of an empty sequence");var left,right,index=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.hj)(prob)?prob*(len-1):prob.times(len-1),integerPart=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.hj)(prob)?Math.floor(index):index.floor().toNumber(),fracPart=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.hj)(prob)?index%1:index.minus(integerPart);if(isInteger(index))return sorted?flat[index]:partitionSelect(flat,(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.hj)(prob)?index:index.valueOf());if(sorted)left=flat[integerPart],right=flat[integerPart+1];else{right=partitionSelect(flat,integerPart+1),left=flat[integerPart];for(var i=0;i<integerPart;++i)compare(flat[i],left)>0&&(left=flat[i])}return add(multiply(left,subtract(1,fracPart)),multiply(right,fracPart))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/std.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return createStd}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","map","sqrt","variance"],createStd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("std",dependencies,(_ref=>{var{typed:typed,map:map,sqrt:sqrt,variance:variance}=_ref;return typed("std",{"Array | Matrix":_std,"Array | Matrix, string":_std,"Array | Matrix, number | BigNumber":_std,"Array | Matrix, number | BigNumber, string":_std,"...":function _(args){return _std(args)}});function _std(array,normalization){if(0===array.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var v=variance.apply(null,arguments);return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(v)?map(v,sqrt):sqrt(v)}catch(err){throw err instanceof TypeError&&err.message.includes(" variance")?new TypeError(err.message.replace(" variance"," std")):err}}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/sum.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return createSum}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","config","add","numeric"],createSum=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sum",dependencies,(_ref=>{var{typed:typed,config:config,add:add,numeric:numeric}=_ref;return typed("sum",{"Array | Matrix":_sum,"Array | Matrix, number | BigNumber":function _nsumDim(array,dim){try{return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.u4)(array,dim,add)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"sum")}},"...":function _(args){if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.CQ)(args))throw new TypeError("Scalar values expected in function sum");return _sum(args)}});function _sum(array){var sum;return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){try{sum=void 0===sum?value:add(sum,value)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"sum",value)}})),void 0===sum&&(sum=numeric(0,config.number)),"string"==typeof sum&&(sum=numeric(sum,config.number)),sum}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return improveErrorMessage}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js");function improveErrorMessage(err,fnName,value){var details;return String(err).includes("Unexpected type")?(details=arguments.length>2?" (type: "+(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_0__.kM)(value)+", value: "+JSON.stringify(value)+")":" (type: "+err.data.actual+")",new TypeError("Cannot calculate "+fnName+", unexpected type of argument"+details)):String(err).includes("complex numbers")?(details=arguments.length>2?" (type: "+(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_0__.kM)(value)+", value: "+JSON.stringify(value)+")":"",new TypeError("Cannot calculate "+fnName+", no ordering relation is defined for complex numbers"+details)):err}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/variance.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{F:function(){return createVariance}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","add","subtract","multiply","divide","apply","isNaN"],createVariance=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("variance",dependencies,(_ref=>{var{typed:typed,add:add,subtract:subtract,multiply:multiply,divide:divide,apply:apply,isNaN:isNaN}=_ref;return typed("variance",{"Array | Matrix":function ArrayMatrix(array){return _var(array,"unbiased")},"Array | Matrix, string":_var,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(array,dim){return _varDim(array,dim,"unbiased")},"Array | Matrix, number | BigNumber, string":_varDim,"...":function _(args){return _var(args,"unbiased")}});function _var(array,normalization){var sum,num=0;if(0===array.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){try{sum=void 0===sum?value:add(sum,value),num++}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"variance",value)}})),0===num)throw new Error("Cannot calculate variance of an empty array");var mean=divide(sum,num);if(sum=void 0,(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){var diff=subtract(value,mean);sum=void 0===sum?multiply(diff,diff):add(sum,multiply(diff,diff))})),isNaN(sum))return sum;switch(normalization){case"uncorrected":return divide(sum,num);case"biased":return divide(sum,num+1);case"unbiased":var zero=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.l9)(sum)?sum.mul(0):0;return 1===num?zero:divide(sum,num-1);default:throw new Error('Unknown normalization "'+normalization+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function _varDim(array,dim,normalization){try{if(0===array.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return apply(array,dim,(x=>_var(x,normalization)))}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"variance")}}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/string/bin.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return createBin}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),createBin=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bin",["typed","format"],(_ref=>{var{typed:typed,format:format}=_ref;return typed("bin",{"number | BigNumber":function numberBigNumber(n){return format(n,{notation:"bin"})},"number | BigNumber, number | BigNumber":function numberBigNumberNumberBigNumber(n,wordSize){return format(n,{notation:"bin",wordSize:wordSize})}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/string/format.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return createFormat}});var _utils_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createFormat=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("format",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("format",{any:_utils_string_js__WEBPACK_IMPORTED_MODULE_1__.WU,"any, Object | function | number | BigNumber":_utils_string_js__WEBPACK_IMPORTED_MODULE_1__.WU})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/string/hex.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return createHex}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),createHex=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("hex",["typed","format"],(_ref=>{var{typed:typed,format:format}=_ref;return typed("hex",{"number | BigNumber":function numberBigNumber(n){return format(n,{notation:"hex"})},"number | BigNumber, number | BigNumber":function numberBigNumberNumberBigNumber(n,wordSize){return format(n,{notation:"hex",wordSize:wordSize})}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/string/oct.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{L:function(){return createOct}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),createOct=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("oct",["typed","format"],(_ref=>{var{typed:typed,format:format}=_ref;return typed("oct",{"number | BigNumber":function numberBigNumber(n){return format(n,{notation:"oct"})},"number | BigNumber, number | BigNumber":function numberBigNumberNumberBigNumber(n,wordSize){return format(n,{notation:"oct",wordSize:wordSize})}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/string/print.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return createPrint}});var _utils_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_print_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/print.js"),dependencies=["typed"],createPrint=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("print",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("print",{"string, Object | Array":_print,"string, Object | Array, number | Object":_print})}));function _print(template,values,options){return template.replace(_utils_print_js__WEBPACK_IMPORTED_MODULE_1__.k,(function(original,key){var keys=key.split("."),value=values[keys.shift()];for(void 0!==value&&value.isMatrix&&(value=value.toArray());keys.length&&void 0!==value;){var k=keys.shift();value=k?value[k]:value+"."}return void 0!==value?(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.HD)(value)?value:(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(value,options):original}))}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/acos.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{L:function(){return createAcos}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","config","Complex"],createAcos=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("acos",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex}=_ref;return typed("acos",{number:function number(x){return x>=-1&&x<=1||config.predictable?Math.acos(x):new Complex(x,0).acos()},Complex:function Complex(x){return x.acos()},BigNumber:function BigNumber(x){return x.acos()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/acosh.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{H:function(){return createAcosh}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","config","Complex"],createAcosh=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("acosh",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex}=_ref;return typed("acosh",{number:function number(x){return x>=1||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.cw)(x):x<=-1?new Complex(Math.log(Math.sqrt(x*x-1)-x),Math.PI):new Complex(x,0).acosh()},Complex:function Complex(x){return x.acosh()},BigNumber:function BigNumber(x){return x.acosh()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/acot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return createAcot}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createAcot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("acot",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("acot",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.y,Complex:function Complex(x){return x.acot()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x).atan()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/acoth.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createAcoth}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","config","Complex","BigNumber"],createAcoth=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("acoth",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex,BigNumber:_BigNumber}=_ref;return typed("acoth",{number:function number(x){return x>=1||x<=-1||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.LJ)(x):new Complex(x,0).acoth()},Complex:function Complex(x){return x.acoth()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x).atanh()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/acsc.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createAcsc}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","config","Complex","BigNumber"],createAcsc=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("acsc",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex,BigNumber:_BigNumber}=_ref;return typed("acsc",{number:function number(x){return x<=-1||x>=1||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.VL)(x):new Complex(x,0).acsc()},Complex:function Complex(x){return x.acsc()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x).asin()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/acsch.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return createAcsch}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createAcsch=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("acsch",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("acsch",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.F4,Complex:function Complex(x){return x.acsch()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x).asinh()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/asec.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return createAsec}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","config","Complex","BigNumber"],createAsec=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("asec",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex,BigNumber:_BigNumber}=_ref;return typed("asec",{number:function number(x){return x<=-1||x>=1||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.zq)(x):new Complex(x,0).asec()},Complex:function Complex(x){return x.asec()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x).acos()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/asech.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return createAsech}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","config","Complex","BigNumber"],createAsech=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("asech",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex,BigNumber:_BigNumber}=_ref;return typed("asech",{number:function number(x){if(x<=1&&x>=-1||config.predictable){var xInv=1/x;if(xInv>0||config.predictable)return(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Pe)(x);var ret=Math.sqrt(xInv*xInv-1);return new Complex(Math.log(ret-xInv),Math.PI)}return new Complex(x,0).asech()},Complex:function Complex(x){return x.asech()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x).acosh()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/asin.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{K:function(){return createAsin}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","config","Complex"],createAsin=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("asin",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex}=_ref;return typed("asin",{number:function number(x){return x>=-1&&x<=1||config.predictable?Math.asin(x):new Complex(x,0).asin()},Complex:function Complex(x){return x.asin()},BigNumber:function BigNumber(x){return x.asin()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/asinh.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createAsinh}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed"],createAsinh=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("asinh",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("asinh",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Rm,Complex:function Complex(x){return x.asinh()},BigNumber:function BigNumber(x){return x.asinh()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/atan.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{a:function(){return createAtan}});var dependencies=["typed"],createAtan=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("atan",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("atan",{number:function number(x){return Math.atan(x)},Complex:function Complex(x){return x.atan()},BigNumber:function BigNumber(x){return x.atan()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/atan2.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createAtan2}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo02xDS0.js"),_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js"),_type_matrix_utils_matAlgo09xS0Sf_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo09xS0Sf.js"),_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js"),_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),dependencies=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],createAtan2=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("atan2",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,BigNumber:BigNumber,DenseMatrix:DenseMatrix,concat:concat}=_ref,matAlgo02xDS0=(0,_type_matrix_utils_matAlgo02xDS0_js__WEBPACK_IMPORTED_MODULE_1__.v)({typed:typed,equalScalar:equalScalar}),matAlgo03xDSf=(0,_type_matrix_utils_matAlgo03xDSf_js__WEBPACK_IMPORTED_MODULE_2__.$)({typed:typed}),matAlgo09xS0Sf=(0,_type_matrix_utils_matAlgo09xS0Sf_js__WEBPACK_IMPORTED_MODULE_3__.r)({typed:typed,equalScalar:equalScalar}),matAlgo11xS0s=(0,_type_matrix_utils_matAlgo11xS0s_js__WEBPACK_IMPORTED_MODULE_4__.e)({typed:typed,equalScalar:equalScalar}),matAlgo12xSfs=(0,_type_matrix_utils_matAlgo12xSfs_js__WEBPACK_IMPORTED_MODULE_5__.O)({typed:typed,DenseMatrix:DenseMatrix}),matrixAlgorithmSuite=(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_6__.L)({typed:typed,matrix:matrix,concat:concat});return typed("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":(y,x)=>BigNumber.atan2(y,x)},matrixAlgorithmSuite({scalar:"number | BigNumber",SS:matAlgo09xS0Sf,DS:matAlgo03xDSf,SD:matAlgo02xDS0,Ss:matAlgo11xS0s,sS:matAlgo12xSfs}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/atanh.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m:function(){return createAtanh}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","config","Complex"],createAtanh=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("atanh",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex}=_ref;return typed("atanh",{number:function number(x){return x<=1&&x>=-1||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Sz)(x):new Complex(x,0).atanh()},Complex:function Complex(x){return x.atanh()},BigNumber:function BigNumber(x){return x.atanh()}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/cos.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return createCos}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_trigUnit_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/trigUnit.js"),dependencies=["typed"],createCos=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("cos",dependencies,(_ref=>{var{typed:typed}=_ref,trigUnit=(0,_trigUnit_js__WEBPACK_IMPORTED_MODULE_1__.E)({typed:typed});return typed("cos",{number:Math.cos,"Complex | BigNumber":x=>x.cos()},trigUnit)}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/cosh.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createCosh}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["typed"],createCosh=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("cosh",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("cosh",{number:_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.f9,"Complex | BigNumber":x=>x.cosh()})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/cot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{j:function(){return createCot}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),_trigUnit_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/trigUnit.js"),dependencies=["typed","BigNumber"],createCot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("cot",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref,trigUnit=(0,_trigUnit_js__WEBPACK_IMPORTED_MODULE_1__.E)({typed:typed});return typed("cot",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_2__.Nw,Complex:x=>x.cot(),BigNumber:x=>new _BigNumber(1).div(x.tan())},trigUnit)}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/coth.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createCoth}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createCoth=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("coth",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("coth",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.ws,Complex:x=>x.coth(),BigNumber:x=>new _BigNumber(1).div(x.tanh())})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/csc.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createCsc}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),_trigUnit_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/trigUnit.js"),dependencies=["typed","BigNumber"],createCsc=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("csc",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref,trigUnit=(0,_trigUnit_js__WEBPACK_IMPORTED_MODULE_1__.E)({typed:typed});return typed("csc",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_2__.c$,Complex:x=>x.csc(),BigNumber:x=>new _BigNumber(1).div(x.sin())},trigUnit)}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/csch.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return createCsch}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createCsch=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("csch",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("csch",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.zr,Complex:x=>x.csch(),BigNumber:x=>new _BigNumber(1).div(x.sinh())})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/sec.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return createSec}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),_trigUnit_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/trigUnit.js"),dependencies=["typed","BigNumber"],createSec=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sec",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref,trigUnit=(0,_trigUnit_js__WEBPACK_IMPORTED_MODULE_1__.E)({typed:typed});return typed("sec",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_2__.wX,Complex:x=>x.sec(),BigNumber:x=>new _BigNumber(1).div(x.cos())},trigUnit)}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/sech.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{g:function(){return createSech}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createSech=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sech",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("sech",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.pL,Complex:x=>x.sech(),BigNumber:x=>new _BigNumber(1).div(x.cosh())})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/sin.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createSin}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_trigUnit_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/trigUnit.js"),dependencies=["typed"],createSin=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sin",dependencies,(_ref=>{var{typed:typed}=_ref,trigUnit=(0,_trigUnit_js__WEBPACK_IMPORTED_MODULE_1__.E)({typed:typed});return typed("sin",{number:Math.sin,"Complex | BigNumber":x=>x.sin()},trigUnit)}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/sinh.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return createSinh}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed"],createSinh=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sinh",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("sinh",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.T$,"Complex | BigNumber":x=>x.sinh()})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/tan.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return createTan}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_trigUnit_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/trigUnit.js"),dependencies=["typed"],createTan=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("tan",dependencies,(_ref=>{var{typed:typed}=_ref,trigUnit=(0,_trigUnit_js__WEBPACK_IMPORTED_MODULE_1__.E)({typed:typed});return typed("tan",{number:Math.tan,"Complex | BigNumber":x=>x.tan()},trigUnit)}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/tanh.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return createTanh}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["typed"],createTanh=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("tanh",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("tanh",{number:_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.AE,"Complex | BigNumber":x=>x.tanh()})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/trigonometry/trigUnit.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return createTrigUnit}});var createTrigUnit=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("trigUnit",["typed"],(_ref=>{var{typed:typed}=_ref;return{Unit:typed.referToSelf((self=>x=>{if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return typed.find(self,x.valueType())(x.value)}))}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/unit/to.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createTo}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js"),dependencies=["typed","matrix","concat"],createTo=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("to",dependencies,(_ref=>{var{typed:typed,matrix:matrix,concat:concat}=_ref;return typed("to",{"Unit, Unit | string":(x,unit)=>x.to(unit)},(0,_type_matrix_utils_matrixAlgorithmSuite_js__WEBPACK_IMPORTED_MODULE_1__.L)({typed:typed,matrix:matrix,concat:concat})({Ds:!0}))}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/clone.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createClone}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createClone=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("clone",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("clone",{any:_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/hasNumericValue.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return createHasNumericValue}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),name="hasNumericValue",dependencies=["typed","isNumeric"],createHasNumericValue=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,isNumeric:isNumeric}=_ref;return typed(name,{boolean:()=>!0,string:function string(x){return x.trim().length>0&&!isNaN(Number(x))},any:function any(x){return isNumeric(x)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isInteger.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{u:function(){return createIsInteger}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createIsInteger=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isInteger",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isInteger",{number:_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U,BigNumber:function BigNumber(x){return x.isInt()},Fraction:function Fraction(x){return 1===x.d&&isFinite(x.n)},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isNaN.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{n:function(){return createIsNaN}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/utils.js"),dependencies=["typed"],createIsNaN=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isNaN",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isNaN",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.kU,BigNumber:function BigNumber(x){return x.isNaN()},Fraction:function Fraction(x){return!1},Complex:function Complex(x){return x.isNaN()},Unit:function Unit(x){return Number.isNaN(x.value)},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isNegative.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return createIsNegative}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/utils.js"),dependencies=["typed"],createIsNegative=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isNegative",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isNegative",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Tk,BigNumber:function BigNumber(x){return x.isNeg()&&!x.isZero()&&!x.isNaN()},Fraction:function Fraction(x){return x.s<0},Unit:typed.referToSelf((self=>x=>typed.find(self,x.valueType())(x.value))),"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isNumeric.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{L:function(){return createIsNumeric}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createIsNumeric=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isNumeric",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isNumeric",{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isPositive.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return createIsPositive}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/utils.js"),dependencies=["typed"],createIsPositive=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isPositive",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isPositive",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.r,BigNumber:function BigNumber(x){return!x.isNeg()&&!x.isZero()&&!x.isNaN()},Fraction:function Fraction(x){return x.s>0&&x.n>0},Unit:typed.referToSelf((self=>x=>typed.find(self,x.valueType())(x.value))),"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isPrime.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:function(){return createIsPrime}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createIsPrime=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isPrime",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isPrime",{number:function number(x){if(0*x!=0)return!1;if(x<=3)return x>1;if(x%2==0||x%3==0)return!1;for(var i=5;i*i<=x;i+=6)if(x%i==0||x%(i+2)==0)return!1;return!0},BigNumber:function BigNumber(n){if(0*n.toNumber()!=0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var x=n.toNumber(),i=5;i*i<=x;i+=6)if(x%i==0||x%(i+2)==0)return!1;return!0}function modPow(base,exponent,modulus){for(var accumulator=1;!exponent.eq(0);)exponent.mod(2).eq(0)?(exponent=exponent.div(2),base=base.mul(base).mod(modulus)):(exponent=exponent.sub(1),accumulator=base.mul(accumulator).mod(modulus));return accumulator}for(var Decimal=n.constructor.clone({precision:2*n.toFixed(0).length}),r=0,d=(n=new Decimal(n)).sub(1);d.mod(2).eq(0);)d=d.div(2),r+=1;var bases=null;if(n.lt("3317044064679887385961981"))bases=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter((x=>x<n));else{var max=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));bases=[];for(var _i=2;_i<=max;_i+=1)bases.push(max)}for(var _i2=0;_i2<bases.length;_i2+=1){var a=bases[_i2],adn=modPow(n.sub(n).add(a),d,n);if(!adn.eq(1))for(var _i3=0,_x=adn;!_x.eq(n.sub(1));_i3+=1,_x=_x.mul(_x).mod(n))if(_i3===r-1)return!1}return!0},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/isZero.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{t:function(){return createIsZero}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/utils.js"),dependencies=["typed"],createIsZero=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isZero",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isZero",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.hG,BigNumber:function BigNumber(x){return x.isZero()},Complex:function Complex(x){return 0===x.re&&0===x.im},Fraction:function Fraction(x){return 1===x.d&&0===x.n},Unit:typed.referToSelf((self=>x=>typed.find(self,x.valueType())(x.value))),"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/numeric.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return createNumeric}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_noop_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/noop.js"),dependencies=["number","?bignumber","?fraction"],createNumeric=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("numeric",dependencies,(_ref=>{var{number:_number,bignumber:bignumber,fraction:fraction}=_ref,validInputTypes={string:!0,number:!0,BigNumber:!0,Fraction:!0},validOutputTypes={number:x=>_number(x),BigNumber:bignumber?x=>bignumber(x):_utils_noop_js__WEBPACK_IMPORTED_MODULE_1__.R3,Fraction:fraction?x=>fraction(x):_utils_noop_js__WEBPACK_IMPORTED_MODULE_1__.nG};return function numeric(value){var outputType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var inputType=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(value);if(!(inputType in validInputTypes))throw new TypeError("Cannot convert "+value+' of type "'+inputType+'"; valid input types are '+Object.keys(validInputTypes).join(", "));if(!(outputType in validOutputTypes))throw new TypeError("Cannot convert "+value+' to type "'+outputType+'"; valid output types are '+Object.keys(validOutputTypes).join(", "));return outputType===inputType?value:validOutputTypes[outputType](value)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/function/utils/typeOf.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return createTypeOf}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed"],createTypeOf=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("typeOf",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("typeOf",{any:_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/json/replacer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return createReplacer}});var dependencies=[],createReplacer=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("replacer",dependencies,(()=>function replacer(key,value){return"number"!=typeof value||isFinite(value)&&!isNaN(value)?value:{mathjs:"number",value:String(value)}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/arithmetic.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$y:function(){return signNumber},B:function(){return expm1Number},Dv:function(){return cubeNumber},Ft:function(){return addNumber},G6:function(){return multiplyNumber},GC:function(){return unaryMinusNumber},K4:function(){return lcmNumber},OS:function(){return logNumber},Q1:function(){return absNumber},QV:function(){return roundNumber},Ue:function(){return powNumber},YS:function(){return nthRootNumber},_$:function(){return squareNumber},hz:function(){return subtractNumber},iO:function(){return log2Number},iU:function(){return unaryPlusNumber},ih:function(){return cbrtNumber},qX:function(){return expNumber},vU:function(){return log10Number},y9:function(){return xgcdNumber}});var _utils_number_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),n1="number",n2="number, number";function absNumber(a){return Math.abs(a)}function addNumber(a,b){return a+b}function subtractNumber(a,b){return a-b}function multiplyNumber(a,b){return a*b}function unaryMinusNumber(x){return-x}function unaryPlusNumber(x){return x}function cbrtNumber(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.eK)(x)}function cubeNumber(x){return x*x*x}function expNumber(x){return Math.exp(x)}function expm1Number(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.t$)(x)}function lcmNumber(a,b){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(a)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(b))throw new Error("Parameters in function lcm must be integer numbers");if(0===a||0===b)return 0;for(var t,prod=a*b;0!==b;)b=a%(t=b),a=t;return Math.abs(prod/a)}function logNumber(x,y){return y?Math.log(x)/Math.log(y):Math.log(x)}function log10Number(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.mv)(x)}function log2Number(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.k3)(x)}function nthRootNumber(a){var root=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,inv=root<0;if(inv&&(root=-root),0===root)throw new Error("Root must be non-zero");if(a<0&&Math.abs(root)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===a)return inv?1/0:0;if(!isFinite(a))return inv?0:a;var x=Math.pow(Math.abs(a),1/root);return x=a<0?-x:x,inv?1/x:x}function signNumber(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.Xx)(x)}function squareNumber(x){return x*x}function xgcdNumber(a,b){var t,q,r,x=0,lastx=1,y=1,lasty=0;if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(a)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(b))throw new Error("Parameters in function xgcd must be integer numbers");for(;b;)r=a-(q=Math.floor(a/b))*b,t=x,x=lastx-q*x,lastx=t,t=y,y=lasty-q*y,lasty=t,a=b,b=r;return a<0?[-a,-lastx,-lasty]:[a,a?lastx:0,lasty]}function powNumber(x,y){return x*x<1&&y===1/0||x*x>1&&y===-1/0?0:Math.pow(x,y)}function roundNumber(value){var decimals=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(decimals)||decimals<0||decimals>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat((0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.FH)(value,decimals))}absNumber.signature=n1,addNumber.signature=n2,subtractNumber.signature=n2,multiplyNumber.signature=n2,unaryMinusNumber.signature=n1,unaryPlusNumber.signature=n1,cbrtNumber.signature=n1,cubeNumber.signature=n1,expNumber.signature=n1,expm1Number.signature=n1,lcmNumber.signature=n2,log10Number.signature=n1,log2Number.signature=n1,signNumber.signature=n1,squareNumber.signature=n1,xgcdNumber.signature=n2,powNumber.signature=n2},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/bitwise.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{LE:function(){return bitOrNumber},Lz:function(){return rightArithShiftNumber},NA:function(){return bitNotNumber},ZG:function(){return leftShiftNumber},ji:function(){return rightLogShiftNumber},qC:function(){return bitAndNumber},xS:function(){return bitXorNumber}});var _utils_number_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),n2="number, number";function bitAndNumber(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(y))throw new Error("Integers expected in function bitAnd");return x&y}function bitNotNumber(x){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x))throw new Error("Integer expected in function bitNot");return~x}function bitOrNumber(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(y))throw new Error("Integers expected in function bitOr");return x|y}function bitXorNumber(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(y))throw new Error("Integers expected in function bitXor");return x^y}function leftShiftNumber(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(y))throw new Error("Integers expected in function leftShift");return x<<y}function rightArithShiftNumber(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(y))throw new Error("Integers expected in function rightArithShift");return x>>y}function rightLogShiftNumber(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(y))throw new Error("Integers expected in function rightLogShift");return x>>>y}bitAndNumber.signature=n2,bitNotNumber.signature="number",bitOrNumber.signature=n2,bitXorNumber.signature=n2,leftShiftNumber.signature=n2,rightArithShiftNumber.signature=n2,rightLogShiftNumber.signature=n2},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/logical.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{FO:function(){return andNumber},RY:function(){return orNumber},kl:function(){return xorNumber},xY:function(){return notNumber}});var n2="number, number";function notNumber(x){return!x}function orNumber(x,y){return!(!x&&!y)}function xorNumber(x,y){return!!x!=!!y}function andNumber(x,y){return!(!x||!y)}notNumber.signature="number",orNumber.signature=n2,xorNumber.signature=n2,andNumber.signature=n2},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/probability.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Oo:function(){return lgammaNumber},Yc:function(){return gammaG},lG:function(){return gammaP},uS:function(){return lnSqrt2PI},wZ:function(){return gammaNumber}});var _utils_number_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_product_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/product.js");function gammaNumber(n){var x;if((0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:(0,_utils_product_js__WEBPACK_IMPORTED_MODULE_1__.O)(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*gammaNumber(1-n));if(n>=171.35)return 1/0;if(n>85){var twoN=n*n,threeN=twoN*n,fourN=threeN*n,fiveN=fourN*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*twoN)-139/(51840*threeN)-571/(2488320*fourN)+163879/(209018880*fiveN)+5246819/(75246796800*fiveN*n))}--n,x=gammaP[0];for(var i=1;i<gammaP.length;++i)x+=gammaP[i]/(n+i);var t=n+gammaG+.5;return Math.sqrt(2*Math.PI)*Math.pow(t,n+.5)*Math.exp(-t)*x}gammaNumber.signature="number";var gammaG=4.7421875,gammaP=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],lnSqrt2PI=.9189385332046728,lgammaG=5,lgammaN=7,lgammaSeries=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function lgammaNumber(n){if(n<0)return NaN;if(0===n)return 1/0;if(!isFinite(n))return n;if(n<.5)return Math.log(Math.PI/Math.sin(Math.PI*n))-lgammaNumber(1-n);for(var base=(n-=1)+lgammaG+.5,sum=lgammaSeries[0],i=lgammaN-1;i>=1;i--)sum+=lgammaSeries[i]/(n+i);return lnSqrt2PI+(n+.5)*Math.log(base)-base+Math.log(sum)}lgammaNumber.signature="number"},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/trigonometry.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{F4:function(){return acschNumber},LJ:function(){return acothNumber},Nw:function(){return cotNumber},Pe:function(){return asechNumber},Rm:function(){return asinhNumber},Sz:function(){return atanhNumber},T$:function(){return sinhNumber},VL:function(){return acscNumber},c$:function(){return cscNumber},cw:function(){return acoshNumber},pL:function(){return sechNumber},wX:function(){return secNumber},ws:function(){return cothNumber},y:function(){return acotNumber},zq:function(){return asecNumber},zr:function(){return cschNumber}});var _utils_number_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),n1="number";function acoshNumber(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.__)(x)}function acotNumber(x){return Math.atan(1/x)}function acothNumber(x){return isFinite(x)?(Math.log((x+1)/x)+Math.log(x/(x-1)))/2:0}function acscNumber(x){return Math.asin(1/x)}function acschNumber(x){var xInv=1/x;return Math.log(xInv+Math.sqrt(xInv*xInv+1))}function asecNumber(x){return Math.acos(1/x)}function asechNumber(x){var xInv=1/x,ret=Math.sqrt(xInv*xInv-1);return Math.log(ret+xInv)}function asinhNumber(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.Vf)(x)}function atanhNumber(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.C8)(x)}function cotNumber(x){return 1/Math.tan(x)}function cothNumber(x){var e=Math.exp(2*x);return(e+1)/(e-1)}function cscNumber(x){return 1/Math.sin(x)}function cschNumber(x){return 0===x?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(x)-Math.exp(-x)))*(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.Xx)(x)}function secNumber(x){return 1/Math.cos(x)}function sechNumber(x){return 2/(Math.exp(x)+Math.exp(-x))}function sinhNumber(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.R_)(x)}acoshNumber.signature=n1,acotNumber.signature=n1,acothNumber.signature=n1,acscNumber.signature=n1,acschNumber.signature=n1,asecNumber.signature=n1,asechNumber.signature=n1,asinhNumber.signature=n1,atanhNumber.signature=n1,cotNumber.signature=n1,cothNumber.signature=n1,cscNumber.signature=n1,cschNumber.signature=n1,secNumber.signature=n1,sechNumber.signature=n1,sinhNumber.signature=n1},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/plain/number/utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Tk:function(){return isNegativeNumber},hG:function(){return isZeroNumber},kU:function(){return isNaNNumber},r:function(){return isPositiveNumber}});__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js");var n1="number";function isNegativeNumber(x){return x<0}function isPositiveNumber(x){return x>0}function isZeroNumber(x){return 0===x}function isNaNNumber(x){return Number.isNaN(x)}isNegativeNumber.signature=n1,isPositiveNumber.signature=n1,isZeroNumber.signature=n1,isNaNNumber.signature=n1},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/bignumber/BigNumber.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createBigNumberClass}});var decimal_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/decimal.js/decimal.mjs"),dependencies=["?on","config"],createBigNumberClass=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("BigNumber",dependencies,(_ref=>{var{on:on,config:config}=_ref,BigNumber=decimal_js__WEBPACK_IMPORTED_MODULE_0__.Z.clone({precision:config.precision,modulo:decimal_js__WEBPACK_IMPORTED_MODULE_0__.Z.EUCLID});return BigNumber.prototype=Object.create(BigNumber.prototype),BigNumber.prototype.type="BigNumber",BigNumber.prototype.isBigNumber=!0,BigNumber.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},BigNumber.fromJSON=function(json){return new BigNumber(json.value)},on&&on("config",(function(curr,prev){curr.precision!==prev.precision&&BigNumber.config({precision:curr.precision})})),BigNumber}),{isClass:!0})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/bignumber/function/bignumber.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{p:function(){return createBignumber}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed","BigNumber"],createBignumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bignumber",dependencies,(_ref=>{var{typed:typed,BigNumber:BigNumber}=_ref;return typed("bignumber",{"":function _(){return new BigNumber(0)},number:function number(x){return new BigNumber(x+"")},string:function string(x){var wordSizeSuffixMatch=x.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(wordSizeSuffixMatch){var size=wordSizeSuffixMatch[2],n=BigNumber(wordSizeSuffixMatch[1]),twoPowSize=new BigNumber(2).pow(Number(size));if(n.gt(twoPowSize.sub(1)))throw new SyntaxError('String "'.concat(x,'" is out of range'));var twoPowSizeSubOne=new BigNumber(2).pow(Number(size)-1);return n.gte(twoPowSizeSubOne)?n.sub(twoPowSize):n}return new BigNumber(x)},BigNumber:function BigNumber(x){return x},Unit:typed.referToSelf((self=>x=>{var clone=x.clone();return clone.value=self(x.value),clone})),Fraction:function Fraction(x){return new BigNumber(x.n).div(x.d).times(x.s)},null:function _null(x){return new BigNumber(0)},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/boolean.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return createBoolean}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createBoolean=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("boolean",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("boolean",{"":function _(){return!1},boolean:function boolean(x){return x},number:function number(x){return!!x},null:function _null(x){return!1},BigNumber:function BigNumber(x){return!x.isZero()},string:function string(x){var lcase=x.toLowerCase();if("true"===lcase)return!0;if("false"===lcase)return!1;var num=Number(x);if(""!==x&&!isNaN(num))return!!num;throw new Error('Cannot convert "'+x+'" to a boolean')},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/complex/Complex.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createComplexClass}});var complex_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/complex.js/complex.js"),complex_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(complex_js__WEBPACK_IMPORTED_MODULE_0__),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),dependencies=[],createComplexClass=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("Complex",dependencies,(()=>(Object.defineProperty(complex_js__WEBPACK_IMPORTED_MODULE_0___default(),"name",{value:"Complex"}),complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.constructor=complex_js__WEBPACK_IMPORTED_MODULE_0___default(),complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.type="Complex",complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.isComplex=!0,complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.format=function(options){var im=this.im,re=this.re,strRe=(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.WU)(this.re,options),strIm=(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.WU)(this.im,options),precision=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.hj)(options)?options:options?options.precision:null;if(null!==precision){var epsilon=Math.pow(10,-precision);Math.abs(re/im)<epsilon&&(re=0),Math.abs(im/re)<epsilon&&(im=0)}return 0===im?strRe:0===re?1===im?"i":-1===im?"-i":strIm+"i":im<0?-1===im?strRe+" - i":strRe+" - "+strIm.substring(1)+"i":1===im?strRe+" + i":strRe+" + "+strIm+"i"},complex_js__WEBPACK_IMPORTED_MODULE_0___default().fromPolar=function(args){switch(arguments.length){case 1:var arg=arguments[0];if("object"==typeof arg)return complex_js__WEBPACK_IMPORTED_MODULE_0___default()(arg);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],phi=arguments[1];if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.hj)(r)){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.wr)(phi)&&phi.hasBase("ANGLE")&&(phi=phi.toNumber("rad")),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.hj)(phi))return new(complex_js__WEBPACK_IMPORTED_MODULE_0___default())({r:r,phi:phi});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.valueOf=complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.toString,complex_js__WEBPACK_IMPORTED_MODULE_0___default().fromJSON=function(json){return new(complex_js__WEBPACK_IMPORTED_MODULE_0___default())(json)},complex_js__WEBPACK_IMPORTED_MODULE_0___default().compare=function(a,b){return a.re>b.re?1:a.re<b.re?-1:a.im>b.im?1:a.im<b.im?-1:0},complex_js__WEBPACK_IMPORTED_MODULE_0___default())),{isClass:!0})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/complex/function/complex.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createComplex}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed","Complex"],createComplex=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("complex",dependencies,(_ref=>{var{typed:typed,Complex:Complex}=_ref;return typed("complex",{"":function _(){return Complex.ZERO},number:function number(x){return new Complex(x,0)},"number, number":function numberNumber(re,im){return new Complex(re,im)},"BigNumber, BigNumber":function BigNumberBigNumber(re,im){return new Complex(re.toNumber(),im.toNumber())},Fraction:function Fraction(x){return new Complex(x.valueOf(),0)},Complex:function Complex(x){return x.clone()},string:function string(x){return Complex(x)},null:function _null(x){return Complex(0)},Object:function Object(x){if("re"in x&&"im"in x)return new Complex(x.re,x.im);if("r"in x&&"phi"in x||"abs"in x&&"arg"in x)return new Complex(x);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/fraction/Fraction.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{u:function(){return createFractionClass}});var fraction_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/fraction.js/fraction.js"),fraction_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(fraction_js__WEBPACK_IMPORTED_MODULE_0__),dependencies=[],createFractionClass=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("Fraction",dependencies,(()=>(Object.defineProperty(fraction_js__WEBPACK_IMPORTED_MODULE_0___default(),"name",{value:"Fraction"}),fraction_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.constructor=fraction_js__WEBPACK_IMPORTED_MODULE_0___default(),fraction_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.type="Fraction",fraction_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.isFraction=!0,fraction_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},fraction_js__WEBPACK_IMPORTED_MODULE_0___default().fromJSON=function(json){return new(fraction_js__WEBPACK_IMPORTED_MODULE_0___default())(json)},fraction_js__WEBPACK_IMPORTED_MODULE_0___default())),{isClass:!0})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/fraction/function/fraction.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createFraction}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed","Fraction"],createFraction=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("fraction",dependencies,(_ref=>{var{typed:typed,Fraction:Fraction}=_ref;return typed("fraction",{number:function number(x){if(!isFinite(x)||isNaN(x))throw new Error(x+" cannot be represented as a fraction");return new Fraction(x)},string:function string(x){return new Fraction(x)},"number, number":function numberNumber(numerator,denominator){return new Fraction(numerator,denominator)},null:function _null(x){return new Fraction(0)},BigNumber:function BigNumber(x){return new Fraction(x.toString())},Fraction:function Fraction(x){return x},Unit:typed.referToSelf((self=>x=>{var clone=x.clone();return clone.value=self(x.value),clone})),Object:function Object(x){return new Fraction(x)},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/DenseMatrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return createDenseMatrixClass}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_function_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/function.js"),dependencies=["Matrix"],createDenseMatrixClass=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("DenseMatrix",dependencies,(_ref=>{var{Matrix:Matrix}=_ref;function DenseMatrix(data,datatype){if(!(this instanceof DenseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(datatype&&!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(datatype))throw new Error("Invalid datatype: "+datatype);if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(data))"DenseMatrix"===data.type?(this._data=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(data._data),this._size=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(data._size),this._datatype=datatype||data._datatype):(this._data=data.toArray(),this._size=data.size(),this._datatype=datatype||data._datatype);else if(data&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.data)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.size))this._data=data.data,this._size=data.size,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Gu)(this._data,this._size),this._datatype=datatype||data.datatype;else if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data))this._data=preprocess(data),this._size=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.aJ)(this._data),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Gu)(this._data,this._size),this._datatype=datatype;else{if(data)throw new TypeError("Unsupported type of data ("+(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)(data)+")");this._data=[],this._size=[0],this._datatype=datatype}}function _getSubmatrix(data,index,dims,dim){var last=dim===dims-1,range=index.dimension(dim);return last?range.map((function(i){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(i,data.length),data[i]})).valueOf():range.map((function(i){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(i,data.length),_getSubmatrix(data[i],index,dims,dim+1)})).valueOf()}function _setSubmatrix(data,index,submatrix,dims,dim){var last=dim===dims-1,range=index.dimension(dim);last?range.forEach((function(dataIndex,subIndex){(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(dataIndex),data[dataIndex]=submatrix[subIndex[0]]})):range.forEach((function(dataIndex,subIndex){(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(dataIndex),_setSubmatrix(data[dataIndex],index,submatrix[subIndex[0]],dims,dim+1)}))}function _resize(matrix,size,defaultValue){if(0===size.length){for(var v=matrix._data;(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(v);)v=v[0];return v}return matrix._size=size.slice(0),matrix._data=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.SI)(matrix._data,matrix._size,defaultValue),matrix}function _fit(matrix,size,defaultValue){for(var newSize=matrix._size.slice(0),changed=!1;newSize.length<size.length;)newSize.push(0),changed=!0;for(var i=0,ii=size.length;i<ii;i++)size[i]>newSize[i]&&(newSize[i]=size[i],changed=!0);changed&&_resize(matrix,newSize,defaultValue)}function preprocess(data){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(data)?preprocess(data.valueOf()):(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data)?data.map(preprocess):data}return DenseMatrix.prototype=new Matrix,DenseMatrix.prototype.createDenseMatrix=function(data,datatype){return new DenseMatrix(data,datatype)},Object.defineProperty(DenseMatrix,"name",{value:"DenseMatrix"}),DenseMatrix.prototype.constructor=DenseMatrix,DenseMatrix.prototype.type="DenseMatrix",DenseMatrix.prototype.isDenseMatrix=!0,DenseMatrix.prototype.getDataType=function(){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.$q)(this._data,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)},DenseMatrix.prototype.storage=function(){return"dense"},DenseMatrix.prototype.datatype=function(){return this._datatype},DenseMatrix.prototype.create=function(data,datatype){return new DenseMatrix(data,datatype)},DenseMatrix.prototype.subset=function(index,replacement,defaultValue){switch(arguments.length){case 1:return function _get(matrix,index){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.dh)(index))throw new TypeError("Invalid index");var isScalar=index.isScalar();if(isScalar)return matrix.get(index.min());var size=index.size();if(size.length!==matrix._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(size.length,matrix._size.length);for(var min=index.min(),max=index.max(),i=0,ii=matrix._size.length;i<ii;i++)(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(min[i],matrix._size[i]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(max[i],matrix._size[i]);return new DenseMatrix(_getSubmatrix(matrix._data,index,size.length,0),matrix._datatype)}(this,index);case 2:case 3:return function _set(matrix,index,submatrix,defaultValue){if(!index||!0!==index.isIndex)throw new TypeError("Invalid index");var sSize,iSize=index.size(),isScalar=index.isScalar();(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(submatrix)?(sSize=submatrix.size(),submatrix=submatrix.valueOf()):sSize=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.aJ)(submatrix);if(isScalar){if(0!==sSize.length)throw new TypeError("Scalar expected");matrix.set(index.min(),submatrix,defaultValue)}else{if(!(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.J5)(sSize,iSize))try{submatrix=0===sSize.length?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.UF)([submatrix],iSize):(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.UF)(submatrix,iSize),sSize=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.aJ)(submatrix)}catch(_unused){}if(iSize.length<matrix._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(iSize.length,matrix._size.length,"<");if(sSize.length<iSize.length){for(var i=0,outer=0;1===iSize[i]&&1===sSize[i];)i++;for(;1===iSize[i];)outer++,i++;submatrix=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.f4)(submatrix,iSize.length,outer,sSize)}if(!(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.J5)(iSize,sSize))throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(iSize,sSize,">");var size=index.max().map((function(i){return i+1}));_fit(matrix,size,defaultValue);var dims=iSize.length,dim=0;_setSubmatrix(matrix._data,index,submatrix,dims,dim)}return matrix}(this,index,replacement,defaultValue);default:throw new SyntaxError("Wrong number of arguments")}},DenseMatrix.prototype.get=function(index){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(index))throw new TypeError("Array expected");if(index.length!==this._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(index.length,this._size.length);for(var x=0;x<index.length;x++)(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(index[x],this._size[x]);for(var data=this._data,i=0,ii=index.length;i<ii;i++){var indexI=index[i];(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(indexI,data.length),data=data[indexI]}return data},DenseMatrix.prototype.set=function(index,value,defaultValue){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(index))throw new TypeError("Array expected");if(index.length<this._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(index.length,this._size.length,"<");var i,ii,indexI,size=index.map((function(i){return i+1}));_fit(this,size,defaultValue);var data=this._data;for(i=0,ii=index.length-1;i<ii;i++)indexI=index[i],(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(indexI,data.length),data=data[indexI];return indexI=index[index.length-1],(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(indexI,data.length),data[indexI]=value,this},DenseMatrix.prototype.resize=function(size,defaultValue,copy){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(size))throw new TypeError("Array or Matrix expected");var sizeArray=size.valueOf().map((value=>Array.isArray(value)&&1===value.length?value[0]:value));return _resize(copy?this.clone():this,sizeArray,defaultValue)},DenseMatrix.prototype.reshape=function(size,copy){var m=copy?this.clone():this;m._data=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.XL)(m._data,size);var currentLength=m._size.reduce(((length,size)=>length*size));return m._size=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.eu)(size,currentLength),m},DenseMatrix.prototype.clone=function(){return new DenseMatrix({data:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._data),size:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._size),datatype:this._datatype})},DenseMatrix.prototype.size=function(){return this._size.slice(0)},DenseMatrix.prototype.map=function(callback){var me=this,args=(0,_utils_function_js__WEBPACK_IMPORTED_MODULE_5__.oV)(callback),data=function recurse(value,index){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(value)?value.map((function(child,i){return recurse(child,index.concat(i))})):1===args?callback(value):2===args?callback(value,index):callback(value,index,me)}(this._data,[]);return new DenseMatrix(data,void 0!==this._datatype?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.$q)(data,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM):void 0)},DenseMatrix.prototype.forEach=function(callback){var me=this;!function recurse(value,index){(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(value)?value.forEach((function(child,i){recurse(child,index.concat(i))})):callback(value,index,me)}(this._data,[])},DenseMatrix.prototype[Symbol.iterator]=function*(){yield*function*recurse(value,index){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(value))for(var i=0;i<value.length;i++)yield*recurse(value[i],index.concat(i));else yield{value:value,index:index}}(this._data,[])},DenseMatrix.prototype.rows=function(){var result=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var data=this._data;for(var row of data)result.push(new DenseMatrix([row],this._datatype));return result},DenseMatrix.prototype.columns=function(){var _this=this,result=[],s=this.size();if(2!==s.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var data=this._data,_loop=function _loop(i){var col=data.map((row=>[row[i]]));result.push(new DenseMatrix(col,_this._datatype))},i=0;i<s[1];i++)_loop(i);return result},DenseMatrix.prototype.toArray=function(){return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._data)},DenseMatrix.prototype.valueOf=function(){return this._data},DenseMatrix.prototype.format=function(options){return(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(this._data,options)},DenseMatrix.prototype.toString=function(){return(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(this._data)},DenseMatrix.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},DenseMatrix.prototype.diagonal=function(k){if(k){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(k)&&(k=k.toNumber()),!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(k)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.U)(k))throw new TypeError("The parameter k must be an integer number")}else k=0;for(var kSuper=k>0?k:0,kSub=k<0?-k:0,rows=this._size[0],columns=this._size[1],n=Math.min(rows-kSub,columns-kSuper),data=[],i=0;i<n;i++)data[i]=this._data[i+kSub][i+kSuper];return new DenseMatrix({data:data,size:[n],datatype:this._datatype})},DenseMatrix.diagonal=function(size,value,k,defaultValue){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(size))throw new TypeError("Array expected, size parameter");if(2!==size.length)throw new Error("Only two dimensions matrix are supported");if(size=size.map((function(s){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(s)&&(s=s.toNumber()),!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(s)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.U)(s)||s<1)throw new Error("Size values must be positive integers");return s})),k){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(k)&&(k=k.toNumber()),!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(k)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.U)(k))throw new TypeError("The parameter k must be an integer number")}else k=0;var _value,kSuper=k>0?k:0,kSub=k<0?-k:0,rows=size[0],columns=size[1],n=Math.min(rows-kSub,columns-kSuper);if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(value)){if(value.length!==n)throw new Error("Invalid value array length");_value=function _value(i){return value[i]}}else if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(value)){var ms=value.size();if(1!==ms.length||ms[0]!==n)throw new Error("Invalid matrix length");_value=function _value(i){return value.get([i])}}else _value=function _value(){return value};defaultValue||(defaultValue=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(_value(0))?_value(0).mul(0):0);var data=[];if(size.length>0){data=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.SI)(data,size,defaultValue);for(var d=0;d<n;d++)data[d+kSub][d+kSuper]=_value(d)}return new DenseMatrix({data:data,size:[rows,columns]})},DenseMatrix.fromJSON=function(json){return new DenseMatrix(json)},DenseMatrix.prototype.swapRows=function(i,j){if(!((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(i)&&(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.U)(i)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(j)&&(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.U)(j)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(i,this._size[0]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(j,this._size[0]),DenseMatrix._swapRows(i,j,this._data),this},DenseMatrix._swapRows=function(i,j,data){var vi=data[i];data[i]=data[j],data[j]=vi},DenseMatrix}),{isClass:!0})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/FibonacciHeap.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return createFibonacciHeapClass}});var dependencies=["smaller","larger"],createFibonacciHeapClass=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("FibonacciHeap",dependencies,(_ref=>{var{smaller:smaller,larger:larger}=_ref,oneOverLogPhi=1/Math.log((1+Math.sqrt(5))/2);function FibonacciHeap(){if(!(this instanceof FibonacciHeap))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function _cut(minimum,node,parent){node.left.right=node.right,node.right.left=node.left,parent.degree--,parent.child===node&&(parent.child=node.right),0===parent.degree&&(parent.child=null),node.left=minimum,node.right=minimum.right,minimum.right=node,node.right.left=node,node.parent=null,node.mark=!1}function _cascadingCut(minimum,node){var parent=node.parent;parent&&(node.mark?(_cut(minimum,node,parent),_cascadingCut(parent)):node.mark=!0)}FibonacciHeap.prototype.type="FibonacciHeap",FibonacciHeap.prototype.isFibonacciHeap=!0,FibonacciHeap.prototype.insert=function(key,value){var node={key:key,value:value,degree:0};if(this._minimum){var minimum=this._minimum;node.left=minimum,node.right=minimum.right,minimum.right=node,node.right.left=node,smaller(key,minimum.key)&&(this._minimum=node)}else node.left=node,node.right=node,this._minimum=node;return this._size++,node},FibonacciHeap.prototype.size=function(){return this._size},FibonacciHeap.prototype.clear=function(){this._minimum=null,this._size=0},FibonacciHeap.prototype.isEmpty=function(){return 0===this._size},FibonacciHeap.prototype.extractMinimum=function(){var node=this._minimum;if(null===node)return node;for(var minimum=this._minimum,numberOfChildren=node.degree,x=node.child;numberOfChildren>0;){var tempRight=x.right;x.left.right=x.right,x.right.left=x.left,x.left=minimum,x.right=minimum.right,minimum.right=x,x.right.left=x,x.parent=null,x=tempRight,numberOfChildren--}return node.left.right=node.right,node.right.left=node.left,minimum=node===node.right?null:function _findMinimumNode(minimum,size){var y,arraySize=Math.floor(Math.log(size)*oneOverLogPhi)+1,array=new Array(arraySize),numRoots=0,x=minimum;if(x)for(numRoots++,x=x.right;x!==minimum;)numRoots++,x=x.right;for(;numRoots>0;){for(var d=x.degree,next=x.right;y=array[d];){if(larger(x.key,y.key)){var temp=y;y=x,x=temp}_linkNodes(y,x),array[d]=null,d++}array[d]=x,x=next,numRoots--}minimum=null;for(var i=0;i<arraySize;i++)(y=array[i])&&(minimum?(y.left.right=y.right,y.right.left=y.left,y.left=minimum,y.right=minimum.right,minimum.right=y,y.right.left=y,smaller(y.key,minimum.key)&&(minimum=y)):minimum=y);return minimum}(minimum=node.right,this._size),this._size--,this._minimum=minimum,node},FibonacciHeap.prototype.remove=function(node){this._minimum=function _decreaseKey(minimum,node,key){node.key=key;var parent=node.parent;parent&&smaller(node.key,parent.key)&&(_cut(minimum,node,parent),_cascadingCut(minimum,parent));smaller(node.key,minimum.key)&&(minimum=node);return minimum}(this._minimum,node,-1),this.extractMinimum()};var _linkNodes=function _linkNodes(node,parent){node.left.right=node.right,node.right.left=node.left,node.parent=parent,parent.child?(node.left=parent.child,node.right=parent.child.right,parent.child.right=node,node.right.left=node):(parent.child=node,node.right=node,node.left=node),parent.degree++,node.mark=!1};return FibonacciHeap}),{isClass:!0})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/ImmutableDenseMatrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{H:function(){return createImmutableDenseMatrixClass}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),dependencies=["smaller","DenseMatrix"],createImmutableDenseMatrixClass=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("ImmutableDenseMatrix",dependencies,(_ref=>{var{smaller:smaller,DenseMatrix:DenseMatrix}=_ref;function ImmutableDenseMatrix(data,datatype){if(!(this instanceof ImmutableDenseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(datatype&&!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(datatype))throw new Error("Invalid datatype: "+datatype);if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(data)||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data)){var matrix=new DenseMatrix(data,datatype);this._data=matrix._data,this._size=matrix._size,this._datatype=matrix._datatype,this._min=null,this._max=null}else if(data&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.data)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.size))this._data=data.data,this._size=data.size,this._datatype=data.datatype,this._min=void 0!==data.min?data.min:null,this._max=void 0!==data.max?data.max:null;else{if(data)throw new TypeError("Unsupported type of data ("+(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)(data)+")");this._data=[],this._size=[0],this._datatype=datatype,this._min=null,this._max=null}}return ImmutableDenseMatrix.prototype=new DenseMatrix,ImmutableDenseMatrix.prototype.type="ImmutableDenseMatrix",ImmutableDenseMatrix.prototype.isImmutableDenseMatrix=!0,ImmutableDenseMatrix.prototype.subset=function(index){switch(arguments.length){case 1:var m=DenseMatrix.prototype.subset.call(this,index);return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(m)?new ImmutableDenseMatrix({data:m._data,size:m._size,datatype:m._datatype}):m;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},ImmutableDenseMatrix.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.clone=function(){return new ImmutableDenseMatrix({data:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._data),size:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._size),datatype:this._datatype})},ImmutableDenseMatrix.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},ImmutableDenseMatrix.fromJSON=function(json){return new ImmutableDenseMatrix(json)},ImmutableDenseMatrix.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.min=function(){if(null===this._min){var m=null;this.forEach((function(v){(null===m||smaller(v,m))&&(m=v)})),this._min=null!==m?m:void 0}return this._min},ImmutableDenseMatrix.prototype.max=function(){if(null===this._max){var m=null;this.forEach((function(v){(null===m||smaller(m,v))&&(m=v)})),this._max=null!==m?m:void 0}return this._max},ImmutableDenseMatrix}),{isClass:!0})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/Matrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{K:function(){return createMatrixClass}});var dependencies=[],createMatrixClass=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("Matrix",dependencies,(()=>{function Matrix(){if(!(this instanceof Matrix))throw new SyntaxError("Constructor must be called with the new operator")}return Matrix.prototype.type="Matrix",Matrix.prototype.isMatrix=!0,Matrix.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},Matrix.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},Matrix.prototype.create=function(data,datatype){throw new Error("Cannot invoke create on a Matrix interface")},Matrix.prototype.subset=function(index,replacement,defaultValue){throw new Error("Cannot invoke subset on a Matrix interface")},Matrix.prototype.get=function(index){throw new Error("Cannot invoke get on a Matrix interface")},Matrix.prototype.set=function(index,value,defaultValue){throw new Error("Cannot invoke set on a Matrix interface")},Matrix.prototype.resize=function(size,defaultValue){throw new Error("Cannot invoke resize on a Matrix interface")},Matrix.prototype.reshape=function(size,defaultValue){throw new Error("Cannot invoke reshape on a Matrix interface")},Matrix.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},Matrix.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},Matrix.prototype.map=function(callback,skipZeros){throw new Error("Cannot invoke map on a Matrix interface")},Matrix.prototype.forEach=function(callback){throw new Error("Cannot invoke forEach on a Matrix interface")},Matrix.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},Matrix.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},Matrix.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},Matrix.prototype.format=function(options){throw new Error("Cannot invoke format on a Matrix interface")},Matrix.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},Matrix}),{isClass:!0})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/MatrixIndex.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createIndexClass}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["ImmutableDenseMatrix","getMatrixDataType"],createIndexClass=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("Index",dependencies,(_ref=>{var{ImmutableDenseMatrix:ImmutableDenseMatrix,getMatrixDataType:getMatrixDataType}=_ref;function Index(ranges){if(!(this instanceof Index))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var i=0,ii=arguments.length;i<ii;i++){var arg=arguments[i],argIsArray=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(arg),argIsMatrix=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arg),sourceSize=null;if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.bR)(arg))this._dimensions.push(arg),this._isScalar=!1;else if(argIsArray||argIsMatrix){var m=void 0;"boolean"===getMatrixDataType(arg)?(argIsArray&&(m=_createImmutableMatrix(_booleansArrayToNumbersForIndex(arg).valueOf())),argIsMatrix&&(m=_createImmutableMatrix(_booleansArrayToNumbersForIndex(arg._data).valueOf())),sourceSize=arg.valueOf().length):m=_createImmutableMatrix(arg.valueOf()),this._dimensions.push(m);var size=m.size();1===size.length&&1===size[0]&&null===sourceSize||(this._isScalar=!1)}else if("number"==typeof arg)this._dimensions.push(_createImmutableMatrix([arg]));else{if("string"!=typeof arg)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(arg)}this._sourceSize.push(sourceSize)}}function _createImmutableMatrix(arg){for(var i=0,l=arg.length;i<l;i++)if("number"!=typeof arg[i]||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(arg[i]))throw new TypeError("Index parameters must be positive integer numbers");return new ImmutableDenseMatrix(arg)}return Index.prototype.type="Index",Index.prototype.isIndex=!0,Index.prototype.clone=function(){var index=new Index;return index._dimensions=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.d9)(this._dimensions),index._isScalar=this._isScalar,index._sourceSize=this._sourceSize,index},Index.create=function(ranges){var index=new Index;return Index.apply(index,ranges),index},Index.prototype.size=function(){for(var size=[],i=0,ii=this._dimensions.length;i<ii;i++){var d=this._dimensions[i];size[i]="string"==typeof d?1:d.size()[0]}return size},Index.prototype.max=function(){for(var values=[],i=0,ii=this._dimensions.length;i<ii;i++){var range=this._dimensions[i];values[i]="string"==typeof range?range:range.max()}return values},Index.prototype.min=function(){for(var values=[],i=0,ii=this._dimensions.length;i<ii;i++){var range=this._dimensions[i];values[i]="string"==typeof range?range:range.min()}return values},Index.prototype.forEach=function(callback){for(var i=0,ii=this._dimensions.length;i<ii;i++)callback(this._dimensions[i],i,this)},Index.prototype.dimension=function(dim){return this._dimensions[dim]||null},Index.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},Index.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},Index.prototype.isScalar=function(){return this._isScalar},Index.prototype.toArray=function(){for(var array=[],i=0,ii=this._dimensions.length;i<ii;i++){var dimension=this._dimensions[i];array.push("string"==typeof dimension?dimension:dimension.toArray())}return array},Index.prototype.valueOf=Index.prototype.toArray,Index.prototype.toString=function(){for(var strings=[],i=0,ii=this._dimensions.length;i<ii;i++){var dimension=this._dimensions[i];"string"==typeof dimension?strings.push(JSON.stringify(dimension)):strings.push(dimension.toString())}return"["+strings.join(", ")+"]"},Index.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},Index.fromJSON=function(json){return Index.create(json.dimensions)},Index}),{isClass:!0});function _booleansArrayToNumbersForIndex(booleanArrayIndex){var indexOfNumbers=[];return booleanArrayIndex.forEach(((bool,idx)=>{bool&&indexOfNumbers.push(idx)})),indexOfNumbers}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/Range.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return createRangeClass}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),dependencies=[],createRangeClass=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("Range",dependencies,(()=>{function Range(start,end,step){if(!(this instanceof Range))throw new SyntaxError("Constructor must be called with the new operator");var hasStart=null!=start,hasEnd=null!=end,hasStep=null!=step;if(hasStart)if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(start))start=start.toNumber();else if("number"!=typeof start)throw new TypeError("Parameter start must be a number");if(hasEnd)if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(end))end=end.toNumber();else if("number"!=typeof end)throw new TypeError("Parameter end must be a number");if(hasStep)if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(step))step=step.toNumber();else if("number"!=typeof step)throw new TypeError("Parameter step must be a number");this.start=hasStart?parseFloat(start):0,this.end=hasEnd?parseFloat(end):0,this.step=hasStep?parseFloat(step):1}return Range.prototype.type="Range",Range.prototype.isRange=!0,Range.parse=function(str){if("string"!=typeof str)return null;var nums=str.split(":").map((function(arg){return parseFloat(arg)}));if(nums.some((function(num){return isNaN(num)})))return null;switch(nums.length){case 2:return new Range(nums[0],nums[1]);case 3:return new Range(nums[0],nums[2],nums[1]);default:return null}},Range.prototype.clone=function(){return new Range(this.start,this.end,this.step)},Range.prototype.size=function(){var len=0,start=this.start,step=this.step,diff=this.end-start;return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.Xx)(step)===(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.Xx)(diff)?len=Math.ceil(diff/step):0===diff&&(len=0),isNaN(len)&&(len=0),[len]},Range.prototype.min=function(){var size=this.size()[0];return size>0?this.step>0?this.start:this.start+(size-1)*this.step:void 0},Range.prototype.max=function(){var size=this.size()[0];return size>0?this.step>0?this.start+(size-1)*this.step:this.start:void 0},Range.prototype.forEach=function(callback){var x=this.start,step=this.step,end=this.end,i=0;if(step>0)for(;x<end;)callback(x,[i],this),x+=step,i++;else if(step<0)for(;x>end;)callback(x,[i],this),x+=step,i++},Range.prototype.map=function(callback){var array=[];return this.forEach((function(value,index,obj){array[index[0]]=callback(value,index,obj)})),array},Range.prototype.toArray=function(){var array=[];return this.forEach((function(value,index){array[index[0]]=value})),array},Range.prototype.valueOf=function(){return this.toArray()},Range.prototype.format=function(options){var str=(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.WU)(this.start,options);return 1!==this.step&&(str+=":"+(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.WU)(this.step,options)),str+=":"+(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.WU)(this.end,options)},Range.prototype.toString=function(){return this.format()},Range.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},Range.fromJSON=function(json){return new Range(json.start,json.end,json.step)},Range}),{isClass:!0})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/Spa.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{W:function(){return createSpaClass}});var dependencies=["addScalar","equalScalar","FibonacciHeap"],createSpaClass=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("Spa",dependencies,(_ref=>{var{addScalar:addScalar,equalScalar:equalScalar,FibonacciHeap:FibonacciHeap}=_ref;function Spa(){if(!(this instanceof Spa))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new FibonacciHeap}return Spa.prototype.type="Spa",Spa.prototype.isSpa=!0,Spa.prototype.set=function(i,v){if(this._values[i])this._values[i].value=v;else{var node=this._heap.insert(i,v);this._values[i]=node}},Spa.prototype.get=function(i){var node=this._values[i];return node?node.value:0},Spa.prototype.accumulate=function(i,v){var node=this._values[i];node?node.value=addScalar(node.value,v):(node=this._heap.insert(i,v),this._values[i]=node)},Spa.prototype.forEach=function(from,to,callback){var heap=this._heap,values=this._values,nodes=[],node=heap.extractMinimum();for(node&&nodes.push(node);node&&node.key<=to;)node.key>=from&&(equalScalar(node.value,0)||callback(node.key,node.value,this)),(node=heap.extractMinimum())&&nodes.push(node);for(var i=0;i<nodes.length;i++){var n=nodes[i];values[(node=heap.insert(n.key,n.value)).key]=node}},Spa.prototype.swap=function(i,j){var nodei=this._values[i],nodej=this._values[j];if(!nodei&&nodej)nodei=this._heap.insert(i,nodej.value),this._heap.remove(nodej),this._values[i]=nodei,this._values[j]=void 0;else if(nodei&&!nodej)nodej=this._heap.insert(j,nodei.value),this._heap.remove(nodei),this._values[j]=nodej,this._values[i]=void 0;else if(nodei&&nodej){var v=nodei.value;nodei.value=nodej.value,nodej.value=v}},Spa}),{isClass:!0})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/SparseMatrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:function(){return createSparseMatrixClass}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),_utils_function_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/function.js"),dependencies=["typed","equalScalar","Matrix"],createSparseMatrixClass=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("SparseMatrix",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar,Matrix:Matrix}=_ref;function SparseMatrix(data,datatype){if(!(this instanceof SparseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(datatype&&!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(datatype))throw new Error("Invalid datatype: "+datatype);if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(data))!function _createFromMatrix(matrix,source,datatype){"SparseMatrix"===source.type?(matrix._values=source._values?(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(source._values):void 0,matrix._index=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(source._index),matrix._ptr=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(source._ptr),matrix._size=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(source._size),matrix._datatype=datatype||source._datatype):_createFromArray(matrix,source.valueOf(),datatype||source._datatype)}(this,data,datatype);else if(data&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.index)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.ptr)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.size))this._values=data.values,this._index=data.index,this._ptr=data.ptr,this._size=data.size,this._datatype=datatype||data.datatype;else if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data))_createFromArray(this,data,datatype);else{if(data)throw new TypeError("Unsupported type of data ("+(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)(data)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=datatype}}function _createFromArray(matrix,data,datatype){matrix._values=[],matrix._index=[],matrix._ptr=[],matrix._datatype=datatype;var rows=data.length,columns=0,eq=equalScalar,zero=0;if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(datatype)&&(eq=typed.find(equalScalar,[datatype,datatype])||equalScalar,zero=typed.convert(0,datatype)),rows>0){var j=0;do{matrix._ptr.push(matrix._index.length);for(var i=0;i<rows;i++){var row=data[i];if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(row)){if(0===j&&columns<row.length&&(columns=row.length),j<row.length){var v=row[j];eq(v,zero)||(matrix._values.push(v),matrix._index.push(i))}}else 0===j&&columns<1&&(columns=1),eq(row,zero)||(matrix._values.push(row),matrix._index.push(i))}j++}while(j<columns)}matrix._ptr.push(matrix._index.length),matrix._size=[rows,columns]}function _getValueIndex(i,top,bottom,index){if(bottom-top==0)return bottom;for(var r=top;r<bottom;r++)if(index[r]===i)return r;return top}function _insert(k,i,j,v,values,index,ptr){values.splice(k,0,v),index.splice(k,0,i);for(var x=j+1;x<ptr.length;x++)ptr[x]++}function _resize(matrix,rows,columns,defaultValue){var value=defaultValue||0,eq=equalScalar,zero=0;(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(matrix._datatype)&&(eq=typed.find(equalScalar,[matrix._datatype,matrix._datatype])||equalScalar,zero=typed.convert(0,matrix._datatype),value=typed.convert(value,matrix._datatype));var i,j,k,ins=!eq(value,zero),r=matrix._size[0],c=matrix._size[1];if(columns>c){for(j=c;j<columns;j++)if(matrix._ptr[j]=matrix._values.length,ins)for(i=0;i<r;i++)matrix._values.push(value),matrix._index.push(i);matrix._ptr[columns]=matrix._values.length}else columns<c&&(matrix._ptr.splice(columns+1,c-columns),matrix._values.splice(matrix._ptr[columns],matrix._values.length),matrix._index.splice(matrix._ptr[columns],matrix._index.length));if(c=columns,rows>r){if(ins){var n=0;for(j=0;j<c;j++){matrix._ptr[j]=matrix._ptr[j]+n,k=matrix._ptr[j+1]+n;var p=0;for(i=r;i<rows;i++,p++)matrix._values.splice(k+p,0,value),matrix._index.splice(k+p,0,i),n++}matrix._ptr[c]=matrix._values.length}}else if(rows<r){var d=0;for(j=0;j<c;j++){matrix._ptr[j]=matrix._ptr[j]-d;var k0=matrix._ptr[j],k1=matrix._ptr[j+1]-d;for(k=k0;k<k1;k++)(i=matrix._index[k])>rows-1&&(matrix._values.splice(k,1),matrix._index.splice(k,1),d++)}matrix._ptr[j]=matrix._values.length}return matrix._size[0]=rows,matrix._size[1]=columns,matrix}function _toArray(values,index,ptr,size,copy){var i,j,rows=size[0],columns=size[1],a=[];for(i=0;i<rows;i++)for(a[i]=[],j=0;j<columns;j++)a[i][j]=0;for(j=0;j<columns;j++)for(var k0=ptr[j],k1=ptr[j+1],k=k0;k<k1;k++)a[i=index[k]][j]=values?copy?(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(values[k]):values[k]:1;return a}return SparseMatrix.prototype=new Matrix,SparseMatrix.prototype.createSparseMatrix=function(data,datatype){return new SparseMatrix(data,datatype)},Object.defineProperty(SparseMatrix,"name",{value:"SparseMatrix"}),SparseMatrix.prototype.constructor=SparseMatrix,SparseMatrix.prototype.type="SparseMatrix",SparseMatrix.prototype.isSparseMatrix=!0,SparseMatrix.prototype.getDataType=function(){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.$q)(this._values,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)},SparseMatrix.prototype.storage=function(){return"sparse"},SparseMatrix.prototype.datatype=function(){return this._datatype},SparseMatrix.prototype.create=function(data,datatype){return new SparseMatrix(data,datatype)},SparseMatrix.prototype.density=function(){var rows=this._size[0],columns=this._size[1];return 0!==rows&&0!==columns?this._index.length/(rows*columns):0},SparseMatrix.prototype.subset=function(index,replacement,defaultValue){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function _getsubset(matrix,idx){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.dh)(idx))throw new TypeError("Invalid index");if(idx.isScalar())return matrix.get(idx.min());var i,ii,k,kk,size=idx.size();if(size.length!==matrix._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(size.length,matrix._size.length);var min=idx.min(),max=idx.max();for(i=0,ii=matrix._size.length;i<ii;i++)(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(min[i],matrix._size[i]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(max[i],matrix._size[i]);var mvalues=matrix._values,mindex=matrix._index,mptr=matrix._ptr,rows=idx.dimension(0),columns=idx.dimension(1),w=[],pv=[];rows.forEach((function(i,r){pv[i]=r[0],w[i]=!0}));var values=mvalues?[]:void 0,index=[],ptr=[];return columns.forEach((function(j){for(ptr.push(index.length),k=mptr[j],kk=mptr[j+1];k<kk;k++)i=mindex[k],!0===w[i]&&(index.push(pv[i]),values&&values.push(mvalues[k]))})),ptr.push(index.length),new SparseMatrix({values:values,index:index,ptr:ptr,size:size,datatype:matrix._datatype})}(this,index);case 2:case 3:return function _setsubset(matrix,index,submatrix,defaultValue){if(!index||!0!==index.isIndex)throw new TypeError("Invalid index");var sSize,iSize=index.size(),isScalar=index.isScalar();(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(submatrix)?(sSize=submatrix.size(),submatrix=submatrix.toArray()):sSize=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.aJ)(submatrix);if(isScalar){if(0!==sSize.length)throw new TypeError("Scalar expected");matrix.set(index.min(),submatrix,defaultValue)}else{if(1!==iSize.length&&2!==iSize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(iSize.length,matrix._size.length,"<");if(sSize.length<iSize.length){for(var i=0,outer=0;1===iSize[i]&&1===sSize[i];)i++;for(;1===iSize[i];)outer++,i++;submatrix=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.f4)(submatrix,iSize.length,outer,sSize)}if(!(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.J5)(iSize,sSize))throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(iSize,sSize,">");if(1===iSize.length){index.dimension(0).forEach((function(dataIndex,subIndex){(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(dataIndex),matrix.set([dataIndex,0],submatrix[subIndex[0]],defaultValue)}))}else{var firstDimensionRange=index.dimension(0),secondDimensionRange=index.dimension(1);firstDimensionRange.forEach((function(firstDataIndex,firstSubIndex){(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(firstDataIndex),secondDimensionRange.forEach((function(secondDataIndex,secondSubIndex){(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(secondDataIndex),matrix.set([firstDataIndex,secondDataIndex],submatrix[firstSubIndex[0]][secondSubIndex[0]],defaultValue)}))}))}}return matrix}(this,index,replacement,defaultValue);default:throw new SyntaxError("Wrong number of arguments")}},SparseMatrix.prototype.get=function(index){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(index))throw new TypeError("Array expected");if(index.length!==this._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(index.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var i=index[0],j=index[1];(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(i,this._size[0]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(j,this._size[1]);var k=_getValueIndex(i,this._ptr[j],this._ptr[j+1],this._index);return k<this._ptr[j+1]&&this._index[k]===i?this._values[k]:0},SparseMatrix.prototype.set=function(index,v,defaultValue){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(index))throw new TypeError("Array expected");if(index.length!==this._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(index.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var i=index[0],j=index[1],rows=this._size[0],columns=this._size[1],eq=equalScalar,zero=0;(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(this._datatype)&&(eq=typed.find(equalScalar,[this._datatype,this._datatype])||equalScalar,zero=typed.convert(0,this._datatype)),(i>rows-1||j>columns-1)&&(_resize(this,Math.max(i+1,rows),Math.max(j+1,columns),defaultValue),rows=this._size[0],columns=this._size[1]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(i,rows),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(j,columns);var k=_getValueIndex(i,this._ptr[j],this._ptr[j+1],this._index);return k<this._ptr[j+1]&&this._index[k]===i?eq(v,zero)?function _remove(k,j,values,index,ptr){values.splice(k,1),index.splice(k,1);for(var x=j+1;x<ptr.length;x++)ptr[x]--}(k,j,this._values,this._index,this._ptr):this._values[k]=v:eq(v,zero)||_insert(k,i,j,v,this._values,this._index,this._ptr),this},SparseMatrix.prototype.resize=function(size,defaultValue,copy){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(size))throw new TypeError("Array or Matrix expected");var sizeArray=size.valueOf().map((value=>Array.isArray(value)&&1===value.length?value[0]:value));if(2!==sizeArray.length)throw new Error("Only two dimensions matrix are supported");return sizeArray.forEach((function(value){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(value)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(value)||value<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(sizeArray)+")")})),_resize(copy?this.clone():this,sizeArray[0],sizeArray[1],defaultValue)},SparseMatrix.prototype.reshape=function(sizes,copy){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(sizes))throw new TypeError("Array expected");if(2!==sizes.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");sizes.forEach((function(value){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(value)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(value)||value<=-2||0===value)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(sizes)+")")}));var currentLength=this._size[0]*this._size[1];if(currentLength!==(sizes=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.eu)(sizes,currentLength))[0]*sizes[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var m=copy?this.clone():this;if(this._size[0]===sizes[0]&&this._size[1]===sizes[1])return m;for(var colIndex=[],i=0;i<m._ptr.length;i++)for(var j=0;j<m._ptr[i+1]-m._ptr[i];j++)colIndex.push(i);for(var values=m._values.slice(),rowIndex=m._index.slice(),_i=0;_i<m._index.length;_i++){var r1=rowIndex[_i],c1=colIndex[_i],flat=r1*m._size[1]+c1;colIndex[_i]=flat%sizes[1],rowIndex[_i]=Math.floor(flat/sizes[1])}m._values.length=0,m._index.length=0,m._ptr.length=sizes[1]+1,m._size=sizes.slice();for(var _i2=0;_i2<m._ptr.length;_i2++)m._ptr[_i2]=0;for(var h=0;h<values.length;h++){var _i3=rowIndex[h],_j=colIndex[h],v=values[h];_insert(_getValueIndex(_i3,m._ptr[_j],m._ptr[_j+1],m._index),_i3,_j,v,m._values,m._index,m._ptr)}return m},SparseMatrix.prototype.clone=function(){return new SparseMatrix({values:this._values?(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._values):void 0,index:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._index),ptr:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._ptr),size:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._size),datatype:this._datatype})},SparseMatrix.prototype.size=function(){return this._size.slice(0)},SparseMatrix.prototype.map=function(callback,skipZeros){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var me=this,rows=this._size[0],columns=this._size[1],args=(0,_utils_function_js__WEBPACK_IMPORTED_MODULE_7__.oV)(callback);return function _map(matrix,minRow,maxRow,minColumn,maxColumn,callback,skipZeros){var values=[],index=[],ptr=[],eq=equalScalar,zero=0;(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(matrix._datatype)&&(eq=typed.find(equalScalar,[matrix._datatype,matrix._datatype])||equalScalar,zero=typed.convert(0,matrix._datatype));for(var invoke=function invoke(v,x,y){v=callback(v,x,y),eq(v,zero)||(values.push(v),index.push(x))},j=minColumn;j<=maxColumn;j++){ptr.push(values.length);var k0=matrix._ptr[j],k1=matrix._ptr[j+1];if(skipZeros)for(var k=k0;k<k1;k++){var i=matrix._index[k];i>=minRow&&i<=maxRow&&invoke(matrix._values[k],i-minRow,j-minColumn)}else{for(var _values={},_k=k0;_k<k1;_k++){_values[matrix._index[_k]]=matrix._values[_k]}for(var _i5=minRow;_i5<=maxRow;_i5++){invoke(_i5 in _values?_values[_i5]:0,_i5-minRow,j-minColumn)}}}return ptr.push(values.length),new SparseMatrix({values:values,index:index,ptr:ptr,size:[maxRow-minRow+1,maxColumn-minColumn+1]})}(this,0,rows-1,0,columns-1,(function invoke(v,i,j){return 1===args?callback(v):2===args?callback(v,[i,j]):callback(v,[i,j],me)}),skipZeros)},SparseMatrix.prototype.forEach=function(callback,skipZeros){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var rows=this._size[0],columns=this._size[1],j=0;j<columns;j++){var k0=this._ptr[j],k1=this._ptr[j+1];if(skipZeros)for(var k=k0;k<k1;k++){var i=this._index[k];callback(this._values[k],[i,j],this)}else{for(var values={},_k2=k0;_k2<k1;_k2++){values[this._index[_k2]]=this._values[_k2]}for(var _i7=0;_i7<rows;_i7++){callback(_i7 in values?values[_i7]:0,[_i7,j],this)}}}},SparseMatrix.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var columns=this._size[1],j=0;j<columns;j++)for(var k0=this._ptr[j],k1=this._ptr[j+1],k=k0;k<k1;k++){var i=this._index[k];yield{value:this._values[k],index:[i,j]}}},SparseMatrix.prototype.toArray=function(){return _toArray(this._values,this._index,this._ptr,this._size,!0)},SparseMatrix.prototype.valueOf=function(){return _toArray(this._values,this._index,this._ptr,this._size,!1)},SparseMatrix.prototype.format=function(options){for(var rows=this._size[0],columns=this._size[1],density=this.density(),str="Sparse Matrix ["+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(rows,options)+" x "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(columns,options)+"] density: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(density,options)+"\n",j=0;j<columns;j++)for(var k0=this._ptr[j],k1=this._ptr[j+1],k=k0;k<k1;k++){var i=this._index[k];str+="\n    ("+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(i,options)+", "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(j,options)+") ==> "+(this._values?(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(this._values[k],options):"X")}return str},SparseMatrix.prototype.toString=function(){return(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(this.toArray())},SparseMatrix.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},SparseMatrix.prototype.diagonal=function(k){if(k){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(k)&&(k=k.toNumber()),!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(k)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(k))throw new TypeError("The parameter k must be an integer number")}else k=0;var kSuper=k>0?k:0,kSub=k<0?-k:0,rows=this._size[0],columns=this._size[1],n=Math.min(rows-kSub,columns-kSuper),values=[],index=[],ptr=[];ptr[0]=0;for(var j=kSuper;j<columns&&values.length<n;j++)for(var k0=this._ptr[j],k1=this._ptr[j+1],x=k0;x<k1;x++){var i=this._index[x];if(i===j-kSuper+kSub){values.push(this._values[x]),index[values.length-1]=i-kSub;break}}return ptr.push(values.length),new SparseMatrix({values:values,index:index,ptr:ptr,size:[n,1]})},SparseMatrix.fromJSON=function(json){return new SparseMatrix(json)},SparseMatrix.diagonal=function(size,value,k,defaultValue,datatype){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(size))throw new TypeError("Array expected, size parameter");if(2!==size.length)throw new Error("Only two dimensions matrix are supported");if(size=size.map((function(s){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(s)&&(s=s.toNumber()),!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(s)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(s)||s<1)throw new Error("Size values must be positive integers");return s})),k){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(k)&&(k=k.toNumber()),!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(k)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(k))throw new TypeError("The parameter k must be an integer number")}else k=0;var eq=equalScalar,zero=0;(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(datatype)&&(eq=typed.find(equalScalar,[datatype,datatype])||equalScalar,zero=typed.convert(0,datatype));var _value,kSuper=k>0?k:0,kSub=k<0?-k:0,rows=size[0],columns=size[1],n=Math.min(rows-kSub,columns-kSuper);if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(value)){if(value.length!==n)throw new Error("Invalid value array length");_value=function _value(i){return value[i]}}else if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(value)){var ms=value.size();if(1!==ms.length||ms[0]!==n)throw new Error("Invalid matrix length");_value=function _value(i){return value.get([i])}}else _value=function _value(){return value};for(var values=[],index=[],ptr=[],j=0;j<columns;j++){ptr.push(values.length);var i=j-kSuper;if(i>=0&&i<n){var v=_value(i);eq(v,zero)||(index.push(i+kSub),values.push(v))}}return ptr.push(values.length),new SparseMatrix({values:values,index:index,ptr:ptr,size:[rows,columns]})},SparseMatrix.prototype.swapRows=function(i,j){if(!((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(i)&&(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(i)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(j)&&(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(j)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(i,this._size[0]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(j,this._size[0]),SparseMatrix._swapRows(i,j,this._size[1],this._values,this._index,this._ptr),this},SparseMatrix._forEachRow=function(j,values,index,ptr,callback){for(var k0=ptr[j],k1=ptr[j+1],k=k0;k<k1;k++)callback(index[k],values[k])},SparseMatrix._swapRows=function(x,y,columns,values,index,ptr){for(var j=0;j<columns;j++){var k0=ptr[j],k1=ptr[j+1],kx=_getValueIndex(x,k0,k1,index),ky=_getValueIndex(y,k0,k1,index);if(kx<k1&&ky<k1&&index[kx]===x&&index[ky]===y){if(values){var v=values[kx];values[kx]=values[ky],values[ky]=v}}else if(kx<k1&&index[kx]===x&&(ky>=k1||index[ky]!==y)){var vx=values?values[kx]:void 0;index.splice(ky,0,y),values&&values.splice(ky,0,vx),index.splice(ky<=kx?kx+1:kx,1),values&&values.splice(ky<=kx?kx+1:kx,1)}else if(ky<k1&&index[ky]===y&&(kx>=k1||index[kx]!==x)){var vy=values?values[ky]:void 0;index.splice(kx,0,x),values&&values.splice(kx,0,vy),index.splice(kx<=ky?ky+1:ky,1),values&&values.splice(kx<=ky?ky+1:ky,1)}}},SparseMatrix}),{isClass:!0})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/function/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return createIndex}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","Index"],createIndex=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("index",dependencies,(_ref=>{var{typed:typed,Index:Index}=_ref;return typed("index",{"...number | string | BigNumber | Range | Array | Matrix":function numberStringBigNumberRangeArrayMatrix(args){var ranges=args.map((function(arg){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(arg)?arg.toNumber():(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(arg)||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arg)?arg.map((function(elem){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(elem)?elem.toNumber():elem})):arg})),res=new Index;return Index.apply(res,ranges),res}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/function/matrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createMatrix}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","Matrix","DenseMatrix","SparseMatrix"],createMatrix=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("matrix",dependencies,(_ref=>{var{typed:typed,Matrix:Matrix,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix}=_ref;return typed("matrix",{"":function _(){return _create([])},string:function string(format){return _create([],format)},"string, string":function stringString(format,datatype){return _create([],format,datatype)},Array:function Array(data){return _create(data)},Matrix:function Matrix(data){return _create(data,data.storage())},"Array | Matrix, string":_create,"Array | Matrix, string, string":_create});function _create(data,format,datatype){if("dense"===format||"default"===format||void 0===format)return new DenseMatrix(data,datatype);if("sparse"===format)return new SparseMatrix(data,datatype);throw new TypeError("Unknown matrix type "+JSON.stringify(format)+".")}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/function/sparse.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createSparse}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","SparseMatrix"],createSparse=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sparse",dependencies,(_ref=>{var{typed:typed,SparseMatrix:SparseMatrix}=_ref;return typed("sparse",{"":function _(){return new SparseMatrix([])},string:function string(datatype){return new SparseMatrix([],datatype)},"Array | Matrix":function ArrayMatrix(data){return new SparseMatrix(data)},"Array | Matrix, string":function ArrayMatrixString(data,datatype){return new SparseMatrix(data,datatype)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo01xDSid.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createMatAlgo01xDSid}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed"],createMatAlgo01xDSid=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("matAlgo01xDSid",dependencies,(_ref=>{var{typed:typed}=_ref;return function algorithm1(denseMatrix,sparseMatrix,callback,inverse){var adata=denseMatrix._data,asize=denseMatrix._size,adt=denseMatrix._datatype||denseMatrix.getDataType(),bvalues=sparseMatrix._values,bindex=sparseMatrix._index,bptr=sparseMatrix._ptr,bsize=sparseMatrix._size,bdt=sparseMatrix._datatype||void 0===sparseMatrix._data?sparseMatrix._datatype:sparseMatrix.getDataType();if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");if(!bvalues)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var i,j,rows=asize[0],columns=asize[1],dt="string"==typeof adt&&"mixed"!==adt&&adt===bdt?adt:void 0,cf=dt?typed.find(callback,[dt,dt]):callback,cdata=[];for(i=0;i<rows;i++)cdata[i]=[];var x=[],w=[];for(j=0;j<columns;j++){for(var mark=j+1,k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++)x[i=bindex[k]]=inverse?cf(bvalues[k],adata[i][j]):cf(adata[i][j],bvalues[k]),w[i]=mark;for(i=0;i<rows;i++)w[i]===mark?cdata[i][j]=x[i]:cdata[i][j]=adata[i][j]}return denseMatrix.createDenseMatrix({data:cdata,size:[rows,columns],datatype:adt===denseMatrix._datatype&&bdt===sparseMatrix._datatype?dt:void 0})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo02xDS0.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createMatAlgo02xDS0}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","equalScalar"],createMatAlgo02xDS0=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("matAlgo02xDS0",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function matAlgo02xDS0(denseMatrix,sparseMatrix,callback,inverse){var adata=denseMatrix._data,asize=denseMatrix._size,adt=denseMatrix._datatype||denseMatrix.getDataType(),bvalues=sparseMatrix._values,bindex=sparseMatrix._index,bptr=sparseMatrix._ptr,bsize=sparseMatrix._size,bdt=sparseMatrix._datatype||void 0===sparseMatrix._data?sparseMatrix._datatype:sparseMatrix.getDataType();if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");if(!bvalues)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&"mixed"!==adt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));for(var cvalues=[],cindex=[],cptr=[],j=0;j<columns;j++){cptr[j]=cindex.length;for(var k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++){var i=bindex[k],cij=inverse?cf(bvalues[k],adata[i][j]):cf(adata[i][j],bvalues[k]);eq(cij,zero)||(cindex.push(i),cvalues.push(cij))}}return cptr[columns]=cindex.length,sparseMatrix.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:adt===denseMatrix._datatype&&bdt===sparseMatrix._datatype?dt:void 0})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo03xDSf.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return createMatAlgo03xDSf}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed"],createMatAlgo03xDSf=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("matAlgo03xDSf",dependencies,(_ref=>{var{typed:typed}=_ref;return function matAlgo03xDSf(denseMatrix,sparseMatrix,callback,inverse){var adata=denseMatrix._data,asize=denseMatrix._size,adt=denseMatrix._datatype||denseMatrix.getDataType(),bvalues=sparseMatrix._values,bindex=sparseMatrix._index,bptr=sparseMatrix._ptr,bsize=sparseMatrix._size,bdt=sparseMatrix._datatype||void 0===sparseMatrix._data?sparseMatrix._datatype:sparseMatrix.getDataType();if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");if(!bvalues)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var dt,rows=asize[0],columns=asize[1],zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&"mixed"!==adt&&(dt=adt,zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));for(var cdata=[],z=0;z<rows;z++)cdata[z]=[];for(var x=[],w=[],j=0;j<columns;j++){for(var mark=j+1,k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++){var i=bindex[k];x[i]=inverse?cf(bvalues[k],adata[i][j]):cf(adata[i][j],bvalues[k]),w[i]=mark}for(var y=0;y<rows;y++)w[y]===mark?cdata[y][j]=x[y]:cdata[y][j]=inverse?cf(zero,adata[y][j]):cf(adata[y][j],zero)}return denseMatrix.createDenseMatrix({data:cdata,size:[rows,columns],datatype:adt===denseMatrix._datatype&&bdt===sparseMatrix._datatype?dt:void 0})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo04xSidSid.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createMatAlgo04xSidSid}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","equalScalar"],createMatAlgo04xSidSid=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("matAlgo04xSidSid",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function matAlgo04xSidSid(a,b,callback){var avalues=a._values,aindex=a._index,aptr=a._ptr,asize=a._size,adt=a._datatype||void 0===a._data?a._datatype:a.getDataType(),bvalues=b._values,bindex=b._index,bptr=b._ptr,bsize=b._size,bdt=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&"mixed"!==adt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));var i,j,k,k0,k1,cvalues=avalues&&bvalues?[]:void 0,cindex=[],cptr=[],xa=avalues&&bvalues?[]:void 0,xb=avalues&&bvalues?[]:void 0,wa=[],wb=[];for(j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++)i=aindex[k],cindex.push(i),wa[i]=mark,xa&&(xa[i]=avalues[k]);for(k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++)if(wa[i=bindex[k]]===mark){if(xa){var v=cf(xa[i],bvalues[k]);eq(v,zero)?wa[i]=null:xa[i]=v}}else cindex.push(i),wb[i]=mark,xb&&(xb[i]=bvalues[k]);if(xa&&xb)for(k=cptr[j];k<cindex.length;)wa[i=cindex[k]]===mark?(cvalues[k]=xa[i],k++):wb[i]===mark?(cvalues[k]=xb[i],k++):cindex.splice(k,1)}return cptr[columns]=cindex.length,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo05xSfSf.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return createMatAlgo05xSfSf}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","equalScalar"],createMatAlgo05xSfSf=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("matAlgo05xSfSf",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function matAlgo05xSfSf(a,b,callback){var avalues=a._values,aindex=a._index,aptr=a._ptr,asize=a._size,adt=a._datatype||void 0===a._data?a._datatype:a.getDataType(),bvalues=b._values,bindex=b._index,bptr=b._ptr,bsize=b._size,bdt=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&"mixed"!==adt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));var i,j,k,k1,cvalues=avalues&&bvalues?[]:void 0,cindex=[],cptr=[],xa=cvalues?[]:void 0,xb=cvalues?[]:void 0,wa=[],wb=[];for(j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;for(k=aptr[j],k1=aptr[j+1];k<k1;k++)i=aindex[k],cindex.push(i),wa[i]=mark,xa&&(xa[i]=avalues[k]);for(k=bptr[j],k1=bptr[j+1];k<k1;k++)wa[i=bindex[k]]!==mark&&cindex.push(i),wb[i]=mark,xb&&(xb[i]=bvalues[k]);if(cvalues)for(k=cptr[j];k<cindex.length;){var wai=wa[i=cindex[k]],wbi=wb[i];if(wai===mark||wbi===mark){var vc=cf(wai===mark?xa[i]:zero,wbi===mark?xb[i]:zero);eq(vc,zero)?cindex.splice(k,1):(cvalues.push(vc),k++)}}}return cptr[columns]=cindex.length,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo06xS0S0.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return createMatAlgo06xS0S0}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed","equalScalar"],createMatAlgo06xS0S0=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("matAlgo06xS0S0",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function matAlgo06xS0S0(a,b,callback){var avalues=a._values,asize=a._size,adt=a._datatype||void 0===a._data?a._datatype:a.getDataType(),bvalues=b._values,bsize=b._size,bdt=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&"mixed"!==adt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));for(var cvalues=avalues&&bvalues?[]:void 0,cindex=[],cptr=[],x=cvalues?[]:void 0,w=[],u=[],j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.U6)(a,j,w,x,u,mark,cindex,cf),(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.U6)(b,j,w,x,u,mark,cindex,cf),x)for(var k=cptr[j];k<cindex.length;){var i=cindex[k];if(u[i]===mark){var v=x[i];eq(v,zero)?cindex.splice(k,1):(cvalues.push(v),k++)}else cindex.splice(k,1)}else for(var p=cptr[j];p<cindex.length;){u[cindex[p]]!==mark?cindex.splice(p,1):p++}}return cptr[columns]=cindex.length,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo07xSSf.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{G:function(){return createMatAlgo07xSSf}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","DenseMatrix"],createMatAlgo07xSSf=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("matAlgo07xSSf",dependencies,(_ref=>{var{typed:typed,DenseMatrix:DenseMatrix}=_ref;return function matAlgo07xSSf(a,b,callback){var asize=a._size,adt=a._datatype||void 0===a._data?a._datatype:a.getDataType(),bsize=b._size,bdt=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");var dt,i,j,rows=asize[0],columns=asize[1],zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&"mixed"!==adt&&(dt=adt,zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));var cdata=[];for(i=0;i<rows;i++)cdata[i]=[];var xa=[],xb=[],wa=[],wb=[];for(j=0;j<columns;j++){var mark=j+1;for(_scatter(a,j,wa,xa,mark),_scatter(b,j,wb,xb,mark),i=0;i<rows;i++){var va=wa[i]===mark?xa[i]:zero,vb=wb[i]===mark?xb[i]:zero;cdata[i][j]=cf(va,vb)}}return new DenseMatrix({data:cdata,size:[rows,columns],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0})};function _scatter(m,j,w,x,mark){for(var values=m._values,index=m._index,ptr=m._ptr,k=ptr[j],k1=ptr[j+1];k<k1;k++){var i=index[k];w[i]=mark,x[i]=values[k]}}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo08xS0Sid.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return createMatAlgo08xS0Sid}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","equalScalar"],createMatAlgo08xS0Sid=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("matAlgo08xS0Sid",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function matAlgo08xS0Sid(a,b,callback){var avalues=a._values,aindex=a._index,aptr=a._ptr,asize=a._size,adt=a._datatype||void 0===a._data?a._datatype:a.getDataType(),bvalues=b._values,bindex=b._index,bptr=b._ptr,bsize=b._size,bdt=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");if(!avalues||!bvalues)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&"mixed"!==adt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));for(var k,k0,k1,i,cvalues=[],cindex=[],cptr=[],x=[],w=[],j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++)w[i=aindex[k]]=mark,x[i]=avalues[k],cindex.push(i);for(k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++)w[i=bindex[k]]===mark&&(x[i]=cf(x[i],bvalues[k]));for(k=cptr[j];k<cindex.length;){var v=x[i=cindex[k]];eq(v,zero)?cindex.splice(k,1):(cvalues.push(v),k++)}}return cptr[columns]=cindex.length,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo09xS0Sf.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{r:function(){return createMatAlgo09xS0Sf}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","equalScalar"],createMatAlgo09xS0Sf=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("matAlgo09xS0Sf",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function matAlgo09xS0Sf(a,b,callback){var avalues=a._values,aindex=a._index,aptr=a._ptr,asize=a._size,adt=a._datatype||void 0===a._data?a._datatype:a.getDataType(),bvalues=b._values,bindex=b._index,bptr=b._ptr,bsize=b._size,bdt=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&"mixed"!==adt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));var i,j,k,k0,k1,cvalues=avalues&&bvalues?[]:void 0,cindex=[],cptr=[],x=cvalues?[]:void 0,w=[];for(j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;if(x)for(k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++)w[i=bindex[k]]=mark,x[i]=bvalues[k];for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++)if(i=aindex[k],x){var vb=w[i]===mark?x[i]:zero,vc=cf(avalues[k],vb);eq(vc,zero)||(cindex.push(i),cvalues.push(vc))}else cindex.push(i)}return cptr[columns]=cindex.length,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:adt===a._datatype&&bdt===b._datatype?dt:void 0})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo10xSids.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{H:function(){return createMatAlgo10xSids}});var dependencies=["typed","DenseMatrix"],createMatAlgo10xSids=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("matAlgo10xSids",dependencies,(_ref=>{var{typed:typed,DenseMatrix:DenseMatrix}=_ref;return function matAlgo10xSids(s,b,callback,inverse){var avalues=s._values,aindex=s._index,aptr=s._ptr,asize=s._size,adt=s._datatype;if(!avalues)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var dt,rows=asize[0],columns=asize[1],cf=callback;"string"==typeof adt&&(dt=adt,b=typed.convert(b,dt),cf=typed.find(callback,[dt,dt]));for(var cdata=[],x=[],w=[],j=0;j<columns;j++){for(var mark=j+1,k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){var r=aindex[k];x[r]=avalues[k],w[r]=mark}for(var i=0;i<rows;i++)0===j&&(cdata[i]=[]),w[i]===mark?cdata[i][j]=inverse?cf(b,x[i]):cf(x[i],b):cdata[i][j]=b}return new DenseMatrix({data:cdata,size:[rows,columns],datatype:dt})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo11xS0s.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:function(){return createMatAlgo11xS0s}});var dependencies=["typed","equalScalar"],createMatAlgo11xS0s=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("matAlgo11xS0s",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function matAlgo11xS0s(s,b,callback,inverse){var avalues=s._values,aindex=s._index,aptr=s._ptr,asize=s._size,adt=s._datatype;if(!avalues)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),b=typed.convert(b,dt),cf=typed.find(callback,[dt,dt]));for(var cvalues=[],cindex=[],cptr=[],j=0;j<columns;j++){cptr[j]=cindex.length;for(var k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){var i=aindex[k],v=inverse?cf(b,avalues[k]):cf(avalues[k],b);eq(v,zero)||(cindex.push(i),cvalues.push(v))}}return cptr[columns]=cindex.length,s.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo12xSfs.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return createMatAlgo12xSfs}});var dependencies=["typed","DenseMatrix"],createMatAlgo12xSfs=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("matAlgo12xSfs",dependencies,(_ref=>{var{typed:typed,DenseMatrix:DenseMatrix}=_ref;return function matAlgo12xSfs(s,b,callback,inverse){var avalues=s._values,aindex=s._index,aptr=s._ptr,asize=s._size,adt=s._datatype;if(!avalues)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var dt,rows=asize[0],columns=asize[1],cf=callback;"string"==typeof adt&&(dt=adt,b=typed.convert(b,dt),cf=typed.find(callback,[dt,dt]));for(var cdata=[],x=[],w=[],j=0;j<columns;j++){for(var mark=j+1,k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){var r=aindex[k];x[r]=avalues[k],w[r]=mark}for(var i=0;i<rows;i++)0===j&&(cdata[i]=[]),w[i]===mark?cdata[i][j]=inverse?cf(b,x[i]):cf(x[i],b):cdata[i][j]=inverse?cf(b,0):cf(0,b)}return new DenseMatrix({data:cdata,size:[rows,columns],datatype:dt})}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo14xDs.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{R:function(){return createMatAlgo14xDs}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),dependencies=["typed"],createMatAlgo14xDs=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("matAlgo14xDs",dependencies,(_ref=>{var{typed:typed}=_ref;return function matAlgo14xDs(a,b,callback,inverse){var dt,adata=a._data,asize=a._size,adt=a._datatype,cf=callback;"string"==typeof adt&&(dt=adt,b=typed.convert(b,dt),cf=typed.find(callback,[dt,dt]));var cdata=asize.length>0?_iterate(cf,0,asize,asize[0],adata,b,inverse):[];return a.createDenseMatrix({data:cdata,size:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(asize),datatype:dt})};function _iterate(f,level,s,n,av,bv,inverse){var cv=[];if(level===s.length-1)for(var i=0;i<n;i++)cv[i]=inverse?f(bv,av[i]):f(av[i],bv);else for(var j=0;j<n;j++)cv[j]=_iterate(f,level+1,s,s[level+1],av[j],bv,inverse);return cv}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matrixAlgorithmSuite.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{L:function(){return createMatrixAlgorithmSuite}});var factory=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),object=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),DimensionError=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed"],createMatAlgo13xDD=(0,factory.d5)("matAlgo13xDD",dependencies,(_ref=>{var{typed:typed}=_ref;return function matAlgo13xDD(a,b,callback){var dt,adata=a._data,asize=a._size,adt=a._datatype,bdata=b._data,bsize=b._size,bdt=b._datatype,csize=[];if(asize.length!==bsize.length)throw new DimensionError.m(asize.length,bsize.length);for(var s=0;s<asize.length;s++){if(asize[s]!==bsize[s])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");csize[s]=asize[s]}var cf=callback;"string"==typeof adt&&adt===bdt&&(dt=adt,cf=typed.find(callback,[dt,dt]));var cdata=csize.length>0?_iterate(cf,0,csize,csize[0],adata,bdata):[];return a.createDenseMatrix({data:cdata,size:csize,datatype:dt})};function _iterate(f,level,s,n,av,bv){var cv=[];if(level===s.length-1)for(var i=0;i<n;i++)cv[i]=f(av[i],bv[i]);else for(var j=0;j<n;j++)cv[j]=_iterate(f,level+1,s,s[level+1],av[j],bv[j]);return cv}})),utils_matAlgo14xDs=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/matrix/utils/matAlgo14xDs.js"),array=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),dependancies=["concat"],createBroadcast=(0,factory.d5)("broadcast",dependancies,(_ref=>{var{concat:concat}=_ref;return function(A,B){var N=Math.max(A._size.length,B._size.length);if(A._size.length===B._size.length&&A._size.every(((dim,i)=>dim===B._size[i])))return[A,B];for(var sizeA=_padLeft(A._size,N,0),sizeB=_padLeft(B._size,N,0),sizeMax=[],dim=0;dim<N;dim++)sizeMax[dim]=Math.max(sizeA[dim],sizeB[dim]);(0,array.cV)(sizeA,sizeMax),(0,array.cV)(sizeB,sizeMax);var AA=A.clone(),BB=B.clone();AA._size.length<N?AA.reshape(_padLeft(AA._size,N,1)):BB._size.length<N&&BB.reshape(_padLeft(BB._size,N,1));for(var _dim=0;_dim<N;_dim++)AA._size[_dim]<sizeMax[_dim]&&(AA=_stretch(AA,sizeMax[_dim],_dim)),BB._size[_dim]<sizeMax[_dim]&&(BB=_stretch(BB,sizeMax[_dim],_dim));return[AA,BB]};function _padLeft(shape,N,filler){return[...Array(N-shape.length).fill(filler),...shape]}function _stretch(arrayToStretch,sizeToStretch,dimToStretch){return concat(...Array(sizeToStretch).fill(arrayToStretch),dimToStretch)}})),matrixAlgorithmSuite_dependencies=["typed","matrix","concat"],createMatrixAlgorithmSuite=(0,factory.d5)("matrixAlgorithmSuite",matrixAlgorithmSuite_dependencies,(_ref=>{var{typed:typed,matrix:matrix,concat:concat}=_ref,matAlgo13xDD=createMatAlgo13xDD({typed:typed}),matAlgo14xDs=(0,utils_matAlgo14xDs.R)({typed:typed}),broadcast=createBroadcast({concat:concat});return function matrixAlgorithmSuite(options){var matrixSignatures,elop=options.elop,SD=options.SD||options.DS;elop?(matrixSignatures={"DenseMatrix, DenseMatrix":(x,y)=>matAlgo13xDD(...broadcast(x,y),elop),"Array, Array":(x,y)=>matAlgo13xDD(...broadcast(matrix(x),matrix(y)),elop).valueOf(),"Array, DenseMatrix":(x,y)=>matAlgo13xDD(...broadcast(matrix(x),y),elop),"DenseMatrix, Array":(x,y)=>matAlgo13xDD(...broadcast(x,matrix(y)),elop)},options.SS&&(matrixSignatures["SparseMatrix, SparseMatrix"]=(x,y)=>options.SS(...broadcast(x,y),elop,!1)),options.DS&&(matrixSignatures["DenseMatrix, SparseMatrix"]=(x,y)=>options.DS(...broadcast(x,y),elop,!1),matrixSignatures["Array, SparseMatrix"]=(x,y)=>options.DS(...broadcast(matrix(x),y),elop,!1)),SD&&(matrixSignatures["SparseMatrix, DenseMatrix"]=(x,y)=>SD(...broadcast(y,x),elop,!0),matrixSignatures["SparseMatrix, Array"]=(x,y)=>SD(...broadcast(matrix(y),x),elop,!0))):(matrixSignatures={"DenseMatrix, DenseMatrix":typed.referToSelf((self=>(x,y)=>matAlgo13xDD(...broadcast(x,y),self))),"Array, Array":typed.referToSelf((self=>(x,y)=>matAlgo13xDD(...broadcast(matrix(x),matrix(y)),self).valueOf())),"Array, DenseMatrix":typed.referToSelf((self=>(x,y)=>matAlgo13xDD(...broadcast(matrix(x),y),self))),"DenseMatrix, Array":typed.referToSelf((self=>(x,y)=>matAlgo13xDD(...broadcast(x,matrix(y)),self)))},options.SS&&(matrixSignatures["SparseMatrix, SparseMatrix"]=typed.referToSelf((self=>(x,y)=>options.SS(...broadcast(x,y),self,!1)))),options.DS&&(matrixSignatures["DenseMatrix, SparseMatrix"]=typed.referToSelf((self=>(x,y)=>options.DS(...broadcast(x,y),self,!1))),matrixSignatures["Array, SparseMatrix"]=typed.referToSelf((self=>(x,y)=>options.DS(...broadcast(matrix(x),y),self,!1)))),SD&&(matrixSignatures["SparseMatrix, DenseMatrix"]=typed.referToSelf((self=>(x,y)=>SD(...broadcast(y,x),self,!0))),matrixSignatures["SparseMatrix, Array"]=typed.referToSelf((self=>(x,y)=>SD(...broadcast(matrix(y),x),self,!0)))));var scalar=options.scalar||"any";(options.Ds||options.Ss)&&(elop?(matrixSignatures["DenseMatrix,"+scalar]=(x,y)=>matAlgo14xDs(x,y,elop,!1),matrixSignatures[scalar+", DenseMatrix"]=(x,y)=>matAlgo14xDs(y,x,elop,!0),matrixSignatures["Array,"+scalar]=(x,y)=>matAlgo14xDs(matrix(x),y,elop,!1).valueOf(),matrixSignatures[scalar+", Array"]=(x,y)=>matAlgo14xDs(matrix(y),x,elop,!0).valueOf()):(matrixSignatures["DenseMatrix,"+scalar]=typed.referToSelf((self=>(x,y)=>matAlgo14xDs(x,y,self,!1))),matrixSignatures[scalar+", DenseMatrix"]=typed.referToSelf((self=>(x,y)=>matAlgo14xDs(y,x,self,!0))),matrixSignatures["Array,"+scalar]=typed.referToSelf((self=>(x,y)=>matAlgo14xDs(matrix(x),y,self,!1).valueOf())),matrixSignatures[scalar+", Array"]=typed.referToSelf((self=>(x,y)=>matAlgo14xDs(matrix(y),x,self,!0).valueOf()))));var sS=void 0!==options.sS?options.sS:options.Ss;return elop?(options.Ss&&(matrixSignatures["SparseMatrix,"+scalar]=(x,y)=>options.Ss(x,y,elop,!1)),sS&&(matrixSignatures[scalar+", SparseMatrix"]=(x,y)=>sS(y,x,elop,!0))):(options.Ss&&(matrixSignatures["SparseMatrix,"+scalar]=typed.referToSelf((self=>(x,y)=>options.Ss(x,y,self,!1)))),sS&&(matrixSignatures[scalar+", SparseMatrix"]=typed.referToSelf((self=>(x,y)=>sS(y,x,self,!0))))),elop&&elop.signatures&&(0,object.l7)(matrixSignatures,elop.signatures),matrixSignatures}}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/number.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return createNumber}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"];var createNumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("number",dependencies,(_ref=>{var{typed:typed}=_ref,number=typed("number",{"":function _(){return 0},number:function number(x){return x},string:function string(x){if("NaN"===x)return NaN;var nonDecimalNumberParts=function getNonDecimalNumberParts(input){var nonDecimalWithRadixMatch=input.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return nonDecimalWithRadixMatch?{input:input,radix:{"0b":2,"0o":8,"0x":16}[nonDecimalWithRadixMatch[1]],integerPart:nonDecimalWithRadixMatch[2],fractionalPart:nonDecimalWithRadixMatch[3]}:null}(x);if(nonDecimalNumberParts)return function makeNumberFromNonDecimalParts(parts){for(var n=parseInt(parts.integerPart,parts.radix),f=0,i=0;i<parts.fractionalPart.length;i++)f+=parseInt(parts.fractionalPart[i],parts.radix)/Math.pow(parts.radix,i+1);var result=n+f;if(isNaN(result))throw new SyntaxError('String "'+parts.input+'" is not a valid number');return result}(nonDecimalNumberParts);var size=0,wordSizeSuffixMatch=x.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);wordSizeSuffixMatch&&(size=Number(wordSizeSuffixMatch[2]),x=wordSizeSuffixMatch[1]);var num=Number(x);if(isNaN(num))throw new SyntaxError('String "'+x+'" is not a valid number');if(wordSizeSuffixMatch){if(num>2**size-1)throw new SyntaxError('String "'.concat(x,'" is out of range'));num>=2**(size-1)&&(num-=2**size)}return num},BigNumber:function BigNumber(x){return x.toNumber()},Fraction:function Fraction(x){return x.valueOf()},Unit:typed.referToSelf((self=>x=>{var clone=x.clone();return clone.value=self(x.value),clone})),null:function _null(x){return 0},"Unit, string | Unit":function UnitStringUnit(unit,valuelessUnit){return unit.toNumber(valuelessUnit)},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,self)))});return number.fromJSON=function(json){return parseFloat(json.value)},number}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/resultset/ResultSet.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{R:function(){return createResultSet}});var dependencies=[],createResultSet=(0,__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js").d5)("ResultSet",dependencies,(()=>{function ResultSet(entries){if(!(this instanceof ResultSet))throw new SyntaxError("Constructor must be called with the new operator");this.entries=entries||[]}return ResultSet.prototype.type="ResultSet",ResultSet.prototype.isResultSet=!0,ResultSet.prototype.valueOf=function(){return this.entries},ResultSet.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},ResultSet.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},ResultSet.fromJSON=function(json){return new ResultSet(json.entries)},ResultSet}),{isClass:!0})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/string.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return createString}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["typed"],createString=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("string",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("string",{"":function _(){return""},number:_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.WU,null:function _null(x){return"null"},boolean:function boolean(x){return x+""},string:function string(x){return x},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,self))),any:function any(x){return String(x)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/unit/Unit.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createUnitClass}});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_function_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/function.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js"),_utils_bignumber_constants_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/constants.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var dependencies=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],createUnitClass=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)("Unit",dependencies,(_ref=>{var text,index,c,{on:on,config:config,addScalar:addScalar,subtractScalar:subtractScalar,multiplyScalar:multiplyScalar,divideScalar:divideScalar,pow:pow,abs:abs,fix:fix,round:round,equal:equal,isNumeric:isNumeric,format:format,number:_number,Complex:Complex,BigNumber:_BigNumber,Fraction:_Fraction}=_ref,toNumber=_number;function Unit(value,valuelessUnit){if(!(this instanceof Unit))throw new Error("Constructor must be called with the new operator");if(null!=value&&!isNumeric(value)&&!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Mc)(value))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===valuelessUnit)this.units=[],this.dimensions=BASE_DIMENSIONS.map((x=>0));else if("string"==typeof valuelessUnit){var u=Unit.parse(valuelessUnit);this.units=u.units,this.dimensions=u.dimensions}else{if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.wr)(valuelessUnit)||null!==valuelessUnit.value)throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.fixPrefix=valuelessUnit.fixPrefix,this.skipAutomaticSimplification=valuelessUnit.skipAutomaticSimplification,this.dimensions=valuelessUnit.dimensions.slice(0),this.units=valuelessUnit.units.map((u=>(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({},u)))}this.value=this._normalize(value)}function skipWhitespace(){for(;" "===c||"\t"===c;)next()}function isDigit(c){return c>="0"&&c<="9"}function next(){index++,c=text.charAt(index)}function revert(oldIndex){index=oldIndex,c=text.charAt(index)}function parseNumber(){var number="",oldIndex=index;if("+"===c?next():"-"===c&&(number+=c,next()),!function isDigitDot(c){return c>="0"&&c<="9"||"."===c}(c))return revert(oldIndex),null;if("."===c){if(number+=c,next(),!isDigit(c))return revert(oldIndex),null}else{for(;isDigit(c);)number+=c,next();"."===c&&(number+=c,next())}for(;isDigit(c);)number+=c,next();if("E"===c||"e"===c){var tentativeNumber="",tentativeIndex=index;if(tentativeNumber+=c,next(),"+"!==c&&"-"!==c||(tentativeNumber+=c,next()),!isDigit(c))return revert(tentativeIndex),number;for(number+=tentativeNumber;isDigit(c);)number+=c,next()}return number}function parseUnit(){for(var unitName="";isDigit(c)||Unit.isValidAlpha(c);)unitName+=c,next();var firstC=unitName.charAt(0);return Unit.isValidAlpha(firstC)?unitName:null}function parseCharacter(toFind){return c===toFind?(next(),toFind):null}Object.defineProperty(Unit,"name",{value:"Unit"}),Unit.prototype.constructor=Unit,Unit.prototype.type="Unit",Unit.prototype.isUnit=!0,Unit.parse=function(str,options){if(options=options||{},index=-1,c="","string"!=typeof(text=str))throw new TypeError("Invalid argument in Unit.parse, string expected");var unit=new Unit;unit.units=[];var powerMultiplierCurrent=1,expectingUnit=!1;next(),skipWhitespace();var valueStr=parseNumber(),value=null;if(valueStr){if("BigNumber"===config.number)value=new _BigNumber(valueStr);else if("Fraction"===config.number)try{value=new _Fraction(valueStr)}catch(err){value=parseFloat(valueStr)}else value=parseFloat(valueStr);skipWhitespace(),parseCharacter("*")?(powerMultiplierCurrent=1,expectingUnit=!0):parseCharacter("/")&&(powerMultiplierCurrent=-1,expectingUnit=!0)}for(var powerMultiplierStack=[],powerMultiplierStackProduct=1;;){for(skipWhitespace();"("===c;)powerMultiplierStack.push(powerMultiplierCurrent),powerMultiplierStackProduct*=powerMultiplierCurrent,powerMultiplierCurrent=1,next(),skipWhitespace();var uStr=void 0;if(!c)break;var oldC=c;if(null===(uStr=parseUnit()))throw new SyntaxError('Unexpected "'+oldC+'" in "'+text+'" at index '+index.toString());var res=_findUnit(uStr);if(null===res)throw new SyntaxError('Unit "'+uStr+'" not found.');var power=powerMultiplierCurrent*powerMultiplierStackProduct;if(skipWhitespace(),parseCharacter("^")){skipWhitespace();var p=parseNumber();if(null===p)throw new SyntaxError('In "'+str+'", "^" must be followed by a floating-point number');power*=p}unit.units.push({unit:res.unit,prefix:res.prefix,power:power});for(var i=0;i<BASE_DIMENSIONS.length;i++)unit.dimensions[i]+=(res.unit.dimensions[i]||0)*power;for(skipWhitespace();")"===c;){if(0===powerMultiplierStack.length)throw new SyntaxError('Unmatched ")" in "'+text+'" at index '+index.toString());powerMultiplierStackProduct/=powerMultiplierStack.pop(),next(),skipWhitespace()}if(expectingUnit=!1,parseCharacter("*")?(powerMultiplierCurrent=1,expectingUnit=!0):parseCharacter("/")?(powerMultiplierCurrent=-1,expectingUnit=!0):powerMultiplierCurrent=1,res.unit.base){var baseDim=res.unit.base.key;UNIT_SYSTEMS.auto[baseDim]={unit:res.unit,prefix:res.prefix}}}if(skipWhitespace(),c)throw new SyntaxError('Could not parse: "'+str+'"');if(expectingUnit)throw new SyntaxError('Trailing characters: "'+str+'"');if(0!==powerMultiplierStack.length)throw new SyntaxError('Unmatched "(" in "'+text+'"');if(0===unit.units.length&&!options.allowNoUnits)throw new SyntaxError('"'+str+'" contains no units');return unit.value=void 0!==value?unit._normalize(value):null,unit},Unit.prototype.clone=function(){var unit=new Unit;unit.fixPrefix=this.fixPrefix,unit.skipAutomaticSimplification=this.skipAutomaticSimplification,unit.value=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.d9)(this.value),unit.dimensions=this.dimensions.slice(0),unit.units=[];for(var i=0;i<this.units.length;i++)for(var p in unit.units[i]={},this.units[i])(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(this.units[i],p)&&(unit.units[i][p]=this.units[i][p]);return unit},Unit.prototype.valueType=function(){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(this.value)},Unit.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},Unit.prototype._normalize=function(value){if(null==value||0===this.units.length)return value;for(var res=value,convert=Unit._getNumberConverter((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(value)),i=0;i<this.units.length;i++){var unitValue=convert(this.units[i].unit.value),unitPrefixValue=convert(this.units[i].prefix.value),unitPower=convert(this.units[i].power);res=multiplyScalar(res,pow(multiplyScalar(unitValue,unitPrefixValue),unitPower))}return res},Unit.prototype._denormalize=function(value,prefixValue){if(null==value||0===this.units.length)return value;for(var res=value,convert=Unit._getNumberConverter((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(value)),i=0;i<this.units.length;i++){var unitValue=convert(this.units[i].unit.value),unitPrefixValue=convert(this.units[i].prefix.value),unitPower=convert(this.units[i].power);res=divideScalar(res,pow(multiplyScalar(unitValue,unitPrefixValue),unitPower))}return res};var _findUnit=(0,_utils_function_js__WEBPACK_IMPORTED_MODULE_5__.HP)((str=>{if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(UNITS,str)){var unit=UNITS[str];return{unit:unit,prefix:unit.prefixes[""]}}for(var _name in UNITS)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(UNITS,_name)&&(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.pn)(str,_name)){var _unit=UNITS[_name],prefixLen=str.length-_name.length,prefixName=str.substring(0,prefixLen),_prefix=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(_unit.prefixes,prefixName)?_unit.prefixes[prefixName]:void 0;if(void 0!==_prefix)return{unit:_unit,prefix:_prefix}}return null}),{hasher:args=>args[0],limit:100});function getNumericIfUnitless(unit){return unit.equalBase(BASE_UNITS.NONE)&&null!==unit.value&&!config.predictable?unit.value:unit}Unit.isValuelessUnit=function(name){return null!==_findUnit(name)},Unit.prototype.hasBase=function(base){if("string"==typeof base&&(base=BASE_UNITS[base]),!base)return!1;for(var i=0;i<BASE_DIMENSIONS.length;i++)if(Math.abs((this.dimensions[i]||0)-(base.dimensions[i]||0))>1e-12)return!1;return!0},Unit.prototype.equalBase=function(other){for(var i=0;i<BASE_DIMENSIONS.length;i++)if(Math.abs((this.dimensions[i]||0)-(other.dimensions[i]||0))>1e-12)return!1;return!0},Unit.prototype.equals=function(other){return this.equalBase(other)&&equal(this.value,other.value)},Unit.prototype.multiply=function(_other){for(var res=this.clone(),other=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.wr)(_other)?_other:new Unit(_other),i=0;i<BASE_DIMENSIONS.length;i++)res.dimensions[i]=(this.dimensions[i]||0)+(other.dimensions[i]||0);for(var _i=0;_i<other.units.length;_i++){var inverted=_objectSpread({},other.units[_i]);res.units.push(inverted)}if(null!==this.value||null!==other.value){var valThis=null===this.value?this._normalize(1):this.value,valOther=null===other.value?other._normalize(1):other.value;res.value=multiplyScalar(valThis,valOther)}else res.value=null;return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.wr)(_other)&&(res.skipAutomaticSimplification=!1),getNumericIfUnitless(res)},Unit.prototype.divideInto=function(numerator){return new Unit(numerator).divide(this)},Unit.prototype.divide=function(_other){for(var res=this.clone(),other=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.wr)(_other)?_other:new Unit(_other),i=0;i<BASE_DIMENSIONS.length;i++)res.dimensions[i]=(this.dimensions[i]||0)-(other.dimensions[i]||0);for(var _i2=0;_i2<other.units.length;_i2++){var inverted=_objectSpread(_objectSpread({},other.units[_i2]),{},{power:-other.units[_i2].power});res.units.push(inverted)}if(null!==this.value||null!==other.value){var valThis=null===this.value?this._normalize(1):this.value,valOther=null===other.value?other._normalize(1):other.value;res.value=divideScalar(valThis,valOther)}else res.value=null;return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.wr)(_other)&&(res.skipAutomaticSimplification=!1),getNumericIfUnitless(res)},Unit.prototype.pow=function(p){for(var res=this.clone(),i=0;i<BASE_DIMENSIONS.length;i++)res.dimensions[i]=(this.dimensions[i]||0)*p;for(var _i3=0;_i3<res.units.length;_i3++)res.units[_i3].power*=p;return null!==res.value?res.value=pow(res.value,p):res.value=null,res.skipAutomaticSimplification=!1,getNumericIfUnitless(res)},Unit.prototype.abs=function(){var ret=this.clone();if(null!==ret.value)if(ret._isDerived()||0===ret.units.length||0===ret.units[0].unit.offset)ret.value=abs(ret.value);else{var convert=ret._numberConverter(),unitValue=convert(ret.units[0].unit.value),nominalOffset=convert(ret.units[0].unit.offset),unitOffset=multiplyScalar(unitValue,nominalOffset);ret.value=subtractScalar(abs(addScalar(ret.value,unitOffset)),unitOffset)}for(var i in ret.units)"VA"!==ret.units[i].unit.name&&"VAR"!==ret.units[i].unit.name||(ret.units[i].unit=UNITS.W);return ret},Unit.prototype.to=function(valuelessUnit){var other,value=null===this.value?this._normalize(1):this.value;if("string"==typeof valuelessUnit)other=Unit.parse(valuelessUnit);else{if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.wr)(valuelessUnit))throw new Error("String or Unit expected as parameter");other=valuelessUnit.clone()}if(!this.equalBase(other))throw new Error("Units do not match ('".concat(other.toString(),"' != '").concat(this.toString(),"')"));if(null!==other.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||0===this.units.length||0===other.units.length||this.units[0].unit.offset===other.units[0].unit.offset)other.value=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.d9)(value);else{var convert=Unit._getNumberConverter((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(value)),thisUnitValue=this.units[0].unit.value,thisNominalOffset=this.units[0].unit.offset,thisUnitOffset=multiplyScalar(thisUnitValue,thisNominalOffset),otherUnitValue=other.units[0].unit.value,otherNominalOffset=other.units[0].unit.offset,otherUnitOffset=multiplyScalar(otherUnitValue,otherNominalOffset);other.value=addScalar(value,convert(subtractScalar(thisUnitOffset,otherUnitOffset)))}return other.fixPrefix=!0,other.skipAutomaticSimplification=!0,other},Unit.prototype.toNumber=function(valuelessUnit){return toNumber(this.toNumeric(valuelessUnit))},Unit.prototype.toNumeric=function(valuelessUnit){var other;return(other=valuelessUnit?this.to(valuelessUnit):this.clone())._isDerived()||0===other.units.length?other._denormalize(other.value):other._denormalize(other.value,other.units[0].prefix.value)},Unit.prototype.toString=function(){return this.format()},Unit.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},Unit.fromJSON=function(json){var _json$unit,unit=new Unit(json.value,null!==(_json$unit=json.unit)&&void 0!==_json$unit?_json$unit:void 0);return unit.fixPrefix=json.fixPrefix||!1,unit},Unit.prototype.valueOf=Unit.prototype.toString,Unit.prototype.simplify=function(){var matchingBase,matchingUnit,ret=this.clone(),proposedUnitList=[];for(var key in currentUnitSystem)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(currentUnitSystem,key)&&ret.hasBase(BASE_UNITS[key])){matchingBase=key;break}if("NONE"===matchingBase)ret.units=[];else if(matchingBase&&(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(currentUnitSystem,matchingBase)&&(matchingUnit=currentUnitSystem[matchingBase]),matchingUnit)ret.units=[{unit:matchingUnit.unit,prefix:matchingUnit.prefix,power:1}];else{for(var missingBaseDim=!1,i=0;i<BASE_DIMENSIONS.length;i++){var baseDim=BASE_DIMENSIONS[i];Math.abs(ret.dimensions[i]||0)>1e-12&&((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(currentUnitSystem,baseDim)?proposedUnitList.push({unit:currentUnitSystem[baseDim].unit,prefix:currentUnitSystem[baseDim].prefix,power:ret.dimensions[i]||0}):missingBaseDim=!0)}proposedUnitList.length<ret.units.length&&!missingBaseDim&&(ret.units=proposedUnitList)}return ret},Unit.prototype.toSI=function(){for(var ret=this.clone(),proposedUnitList=[],i=0;i<BASE_DIMENSIONS.length;i++){var baseDim=BASE_DIMENSIONS[i];if(Math.abs(ret.dimensions[i]||0)>1e-12){if(!(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(UNIT_SYSTEMS.si,baseDim))throw new Error("Cannot express custom unit "+baseDim+" in SI units");proposedUnitList.push({unit:UNIT_SYSTEMS.si[baseDim].unit,prefix:UNIT_SYSTEMS.si[baseDim].prefix,power:ret.dimensions[i]||0})}}return ret.units=proposedUnitList,ret.fixPrefix=!0,ret.skipAutomaticSimplification=!0,null!==this.value?(ret.value=null,this.to(ret)):ret},Unit.prototype.formatUnits=function(){for(var strNum="",strDen="",nNum=0,nDen=0,i=0;i<this.units.length;i++)this.units[i].power>0?(nNum++,strNum+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(strNum+="^"+this.units[i].power)):this.units[i].power<0&&nDen++;if(nDen>0)for(var _i4=0;_i4<this.units.length;_i4++)this.units[_i4].power<0&&(nNum>0?(strDen+=" "+this.units[_i4].prefix.name+this.units[_i4].unit.name,Math.abs(this.units[_i4].power+1)>1e-15&&(strDen+="^"+-this.units[_i4].power)):(strDen+=" "+this.units[_i4].prefix.name+this.units[_i4].unit.name,strDen+="^"+this.units[_i4].power));strNum=strNum.substr(1),strDen=strDen.substr(1),nNum>1&&nDen>0&&(strNum="("+strNum+")"),nDen>1&&nNum>0&&(strDen="("+strDen+")");var str=strNum;return nNum>0&&nDen>0&&(str+=" / "),str+=strDen},Unit.prototype.format=function(options){var simp=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),isImaginary=!1;for(var i in void 0!==simp.value&&null!==simp.value&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Mc)(simp.value)&&(isImaginary=Math.abs(simp.value.re)<1e-14),simp.units)(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(simp.units,i)&&simp.units[i].unit&&("VA"===simp.units[i].unit.name&&isImaginary?simp.units[i].unit=UNITS.VAR:"VAR"!==simp.units[i].unit.name||isImaginary||(simp.units[i].unit=UNITS.VA));1!==simp.units.length||simp.fixPrefix||Math.abs(simp.units[0].power-Math.round(simp.units[0].power))<1e-14&&(simp.units[0].prefix=simp._bestPrefix());var value=simp._denormalize(simp.value),str=null!==simp.value?format(value,options||{}):"",unitStr=simp.formatUnits();return simp.value&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Mc)(simp.value)&&(str="("+str+")"),unitStr.length>0&&str.length>0&&(str+=" "),str+=unitStr},Unit.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var absValue=null!==this.value?abs(this.value):0,absUnitValue=abs(this.units[0].unit.value),bestPrefix=this.units[0].prefix;if(0===absValue)return bestPrefix;var power=this.units[0].power,bestDiff=Math.log(absValue/Math.pow(bestPrefix.value*absUnitValue,power))/Math.LN10-1.2;if(bestDiff>-2.200001&&bestDiff<1.800001)return bestPrefix;bestDiff=Math.abs(bestDiff);var prefixes=this.units[0].unit.prefixes;for(var p in prefixes)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(prefixes,p)){var prefix=prefixes[p];if(prefix.scientific){var diff=Math.abs(Math.log(absValue/Math.pow(prefix.value*absUnitValue,power))/Math.LN10-1.2);(diff<bestDiff||diff===bestDiff&&prefix.name.length<bestPrefix.name.length)&&(bestPrefix=prefix,bestDiff=diff)}}return bestPrefix},Unit.prototype.splitUnit=function(parts){for(var x=this.clone(),ret=[],i=0;i<parts.length&&(x=x.to(parts[i]),i!==parts.length-1);i++){var xNumeric=x.toNumeric(),xRounded=round(xNumeric),y=new Unit(equal(xRounded,xNumeric)?xRounded:fix(x.toNumeric()),parts[i].toString());ret.push(y),x=subtractScalar(x,y)}for(var testSum=0,_i5=0;_i5<ret.length;_i5++)testSum=addScalar(testSum,ret[_i5].value);return equal(testSum,this.value)&&(x.value=0),ret.push(x),ret};var PREFIXES={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};PREFIXES.SHORTLONG=(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({},PREFIXES.SHORT,PREFIXES.LONG),PREFIXES.BINARY_SHORT=(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({},PREFIXES.BINARY_SHORT_SI,PREFIXES.BINARY_SHORT_IEC),PREFIXES.BINARY_LONG=(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({},PREFIXES.BINARY_LONG_SI,PREFIXES.BINARY_LONG_IEC);var BASE_DIMENSIONS=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],BASE_UNITS={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var key in BASE_UNITS)(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(BASE_UNITS,key)&&(BASE_UNITS[key].key=key);var UNIT_NONE={name:"",base:{},value:1,offset:0,dimensions:BASE_DIMENSIONS.map((x=>0))},UNITS={meter:{name:"meter",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.LONG,value:1,offset:0},inch:{name:"inch",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.0254,offset:0},foot:{name:"foot",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.3048,offset:0},yard:{name:"yard",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.9144,offset:0},mile:{name:"mile",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:1609.344,offset:0},link:{name:"link",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.201168,offset:0},rod:{name:"rod",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:5.0292,offset:0},chain:{name:"chain",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:1e-10,offset:0},m:{name:"m",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.SHORT,value:1,offset:0},in:{name:"in",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.0254,offset:0},ft:{name:"ft",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.3048,offset:0},yd:{name:"yd",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.9144,offset:0},mi:{name:"mi",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:1609.344,offset:0},li:{name:"li",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.201168,offset:0},rd:{name:"rd",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:5.02921,offset:0},ch:{name:"ch",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:20.1168,offset:0},mil:{name:"mil",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:254e-7,offset:0},m2:{name:"m2",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:1e4,offset:0},m3:{name:"m3",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.CUBIC,value:1,offset:0},L:{name:"L",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.SHORT,value:.001,offset:0},l:{name:"l",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.SHORT,value:.001,offset:0},litre:{name:"litre",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.LONG,value:.001,offset:0},cuin:{name:"cuin",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:15e-6,offset:0},drop:{name:"drop",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:5e-8,offset:0},minim:{name:"minim",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:1e-6,offset:0},cup:{name:"cup",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.1173478,offset:0},obl:{name:"obl",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.1589873,offset:0},g:{name:"g",base:BASE_UNITS.MASS,prefixes:PREFIXES.SHORT,value:.001,offset:0},gram:{name:"gram",base:BASE_UNITS.MASS,prefixes:PREFIXES.LONG,value:.001,offset:0},ton:{name:"ton",base:BASE_UNITS.MASS,prefixes:PREFIXES.SHORT,value:907.18474,offset:0},t:{name:"t",base:BASE_UNITS.MASS,prefixes:PREFIXES.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:BASE_UNITS.MASS,prefixes:PREFIXES.LONG,value:1e3,offset:0},grain:{name:"grain",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:45.359237,offset:0},stick:{name:"stick",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.115,offset:0},stone:{name:"stone",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:45.359237,offset:0},s:{name:"s",base:BASE_UNITS.TIME,prefixes:PREFIXES.SHORT,value:1,offset:0},min:{name:"min",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:60,offset:0},h:{name:"h",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:3600,offset:0},second:{name:"second",base:BASE_UNITS.TIME,prefixes:PREFIXES.LONG,value:1,offset:0},sec:{name:"sec",base:BASE_UNITS.TIME,prefixes:PREFIXES.LONG,value:1,offset:0},minute:{name:"minute",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:60,offset:0},hour:{name:"hour",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:3600,offset:0},day:{name:"day",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:86400,offset:0},week:{name:"week",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:604800,offset:0},month:{name:"month",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:2629800,offset:0},year:{name:"year",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:31557600,offset:0},decade:{name:"decade",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:315576e3,offset:0},century:{name:"century",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:BASE_UNITS.FREQUENCY,prefixes:PREFIXES.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:BASE_UNITS.FREQUENCY,prefixes:PREFIXES.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.SHORT,value:1,offset:0},radian:{name:"radian",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.LONG,value:1,offset:0},deg:{name:"deg",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.SHORT,value:null,offset:0},degree:{name:"degree",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.LONG,value:null,offset:0},grad:{name:"grad",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.SHORT,value:null,offset:0},gradian:{name:"gradian",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.LONG,value:null,offset:0},cycle:{name:"cycle",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.NONE,value:null,offset:0},A:{name:"A",base:BASE_UNITS.CURRENT,prefixes:PREFIXES.SHORT,value:1,offset:0},ampere:{name:"ampere",base:BASE_UNITS.CURRENT,prefixes:PREFIXES.LONG,value:1,offset:0},K:{name:"K",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.SHORT,value:1,offset:0},degC:{name:"degC",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.SHORT,value:1,offset:273.15},degF:{name:"degF",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.SHORT,value:new _Fraction(5,9),offset:459.67},degR:{name:"degR",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.SHORT,value:new _Fraction(5,9),offset:0},kelvin:{name:"kelvin",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.LONG,value:1,offset:0},celsius:{name:"celsius",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.LONG,value:new _Fraction(5,9),offset:459.67},rankine:{name:"rankine",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.LONG,value:new _Fraction(5,9),offset:0},mol:{name:"mol",base:BASE_UNITS.AMOUNT_OF_SUBSTANCE,prefixes:PREFIXES.SHORT,value:1,offset:0},mole:{name:"mole",base:BASE_UNITS.AMOUNT_OF_SUBSTANCE,prefixes:PREFIXES.LONG,value:1,offset:0},cd:{name:"cd",base:BASE_UNITS.LUMINOUS_INTENSITY,prefixes:PREFIXES.SHORT,value:1,offset:0},candela:{name:"candela",base:BASE_UNITS.LUMINOUS_INTENSITY,prefixes:PREFIXES.LONG,value:1,offset:0},N:{name:"N",base:BASE_UNITS.FORCE,prefixes:PREFIXES.SHORT,value:1,offset:0},newton:{name:"newton",base:BASE_UNITS.FORCE,prefixes:PREFIXES.LONG,value:1,offset:0},dyn:{name:"dyn",base:BASE_UNITS.FORCE,prefixes:PREFIXES.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:BASE_UNITS.FORCE,prefixes:PREFIXES.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:BASE_UNITS.FORCE,prefixes:PREFIXES.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:BASE_UNITS.FORCE,prefixes:PREFIXES.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:BASE_UNITS.FORCE,prefixes:PREFIXES.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:BASE_UNITS.FORCE,prefixes:PREFIXES.NONE,value:9.80665,offset:0},J:{name:"J",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.SHORT,value:1,offset:0},joule:{name:"joule",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.LONG,value:1,offset:0},erg:{name:"erg",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:BASE_UNITS.POWER,prefixes:PREFIXES.SHORT,value:1,offset:0},watt:{name:"watt",base:BASE_UNITS.POWER,prefixes:PREFIXES.LONG,value:1,offset:0},hp:{name:"hp",base:BASE_UNITS.POWER,prefixes:PREFIXES.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:BASE_UNITS.POWER,prefixes:PREFIXES.SHORT,value:Complex.I,offset:0},VA:{name:"VA",base:BASE_UNITS.POWER,prefixes:PREFIXES.SHORT,value:1,offset:0},Pa:{name:"Pa",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.SHORT,value:1,offset:0},psi:{name:"psi",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:101325,offset:0},bar:{name:"bar",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:BASE_UNITS.ELECTRIC_CHARGE,prefixes:PREFIXES.LONG,value:1,offset:0},C:{name:"C",base:BASE_UNITS.ELECTRIC_CHARGE,prefixes:PREFIXES.SHORT,value:1,offset:0},farad:{name:"farad",base:BASE_UNITS.ELECTRIC_CAPACITANCE,prefixes:PREFIXES.LONG,value:1,offset:0},F:{name:"F",base:BASE_UNITS.ELECTRIC_CAPACITANCE,prefixes:PREFIXES.SHORT,value:1,offset:0},volt:{name:"volt",base:BASE_UNITS.ELECTRIC_POTENTIAL,prefixes:PREFIXES.LONG,value:1,offset:0},V:{name:"V",base:BASE_UNITS.ELECTRIC_POTENTIAL,prefixes:PREFIXES.SHORT,value:1,offset:0},ohm:{name:"ohm",base:BASE_UNITS.ELECTRIC_RESISTANCE,prefixes:PREFIXES.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:BASE_UNITS.ELECTRIC_INDUCTANCE,prefixes:PREFIXES.LONG,value:1,offset:0},H:{name:"H",base:BASE_UNITS.ELECTRIC_INDUCTANCE,prefixes:PREFIXES.SHORT,value:1,offset:0},siemens:{name:"siemens",base:BASE_UNITS.ELECTRIC_CONDUCTANCE,prefixes:PREFIXES.LONG,value:1,offset:0},S:{name:"S",base:BASE_UNITS.ELECTRIC_CONDUCTANCE,prefixes:PREFIXES.SHORT,value:1,offset:0},weber:{name:"weber",base:BASE_UNITS.MAGNETIC_FLUX,prefixes:PREFIXES.LONG,value:1,offset:0},Wb:{name:"Wb",base:BASE_UNITS.MAGNETIC_FLUX,prefixes:PREFIXES.SHORT,value:1,offset:0},tesla:{name:"tesla",base:BASE_UNITS.MAGNETIC_FLUX_DENSITY,prefixes:PREFIXES.LONG,value:1,offset:0},T:{name:"T",base:BASE_UNITS.MAGNETIC_FLUX_DENSITY,prefixes:PREFIXES.SHORT,value:1,offset:0},b:{name:"b",base:BASE_UNITS.BIT,prefixes:PREFIXES.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:BASE_UNITS.BIT,prefixes:PREFIXES.BINARY_LONG,value:1,offset:0},B:{name:"B",base:BASE_UNITS.BIT,prefixes:PREFIXES.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:BASE_UNITS.BIT,prefixes:PREFIXES.BINARY_LONG,value:8,offset:0}},ALIASES={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function calculateAngleValues(config){if("BigNumber"===config.number){var pi=(0,_utils_bignumber_constants_js__WEBPACK_IMPORTED_MODULE_7__.wY)(_BigNumber);UNITS.rad.value=new _BigNumber(1),UNITS.deg.value=pi.div(180),UNITS.grad.value=pi.div(200),UNITS.cycle.value=pi.times(2),UNITS.arcsec.value=pi.div(648e3),UNITS.arcmin.value=pi.div(10800)}else UNITS.rad.value=1,UNITS.deg.value=Math.PI/180,UNITS.grad.value=Math.PI/200,UNITS.cycle.value=2*Math.PI,UNITS.arcsec.value=Math.PI/648e3,UNITS.arcmin.value=Math.PI/10800;UNITS.radian.value=UNITS.rad.value,UNITS.degree.value=UNITS.deg.value,UNITS.gradian.value=UNITS.grad.value}calculateAngleValues(config),on&&on("config",(function(curr,prev){curr.number!==prev.number&&calculateAngleValues(curr)}));var UNIT_SYSTEMS={si:{NONE:{unit:UNIT_NONE,prefix:PREFIXES.NONE[""]},LENGTH:{unit:UNITS.m,prefix:PREFIXES.SHORT[""]},MASS:{unit:UNITS.g,prefix:PREFIXES.SHORT.k},TIME:{unit:UNITS.s,prefix:PREFIXES.SHORT[""]},CURRENT:{unit:UNITS.A,prefix:PREFIXES.SHORT[""]},TEMPERATURE:{unit:UNITS.K,prefix:PREFIXES.SHORT[""]},LUMINOUS_INTENSITY:{unit:UNITS.cd,prefix:PREFIXES.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:UNITS.mol,prefix:PREFIXES.SHORT[""]},ANGLE:{unit:UNITS.rad,prefix:PREFIXES.SHORT[""]},BIT:{unit:UNITS.bits,prefix:PREFIXES.SHORT[""]},FORCE:{unit:UNITS.N,prefix:PREFIXES.SHORT[""]},ENERGY:{unit:UNITS.J,prefix:PREFIXES.SHORT[""]},POWER:{unit:UNITS.W,prefix:PREFIXES.SHORT[""]},PRESSURE:{unit:UNITS.Pa,prefix:PREFIXES.SHORT[""]},ELECTRIC_CHARGE:{unit:UNITS.C,prefix:PREFIXES.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:UNITS.F,prefix:PREFIXES.SHORT[""]},ELECTRIC_POTENTIAL:{unit:UNITS.V,prefix:PREFIXES.SHORT[""]},ELECTRIC_RESISTANCE:{unit:UNITS.ohm,prefix:PREFIXES.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:UNITS.H,prefix:PREFIXES.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:UNITS.S,prefix:PREFIXES.SHORT[""]},MAGNETIC_FLUX:{unit:UNITS.Wb,prefix:PREFIXES.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:UNITS.T,prefix:PREFIXES.SHORT[""]},FREQUENCY:{unit:UNITS.Hz,prefix:PREFIXES.SHORT[""]}}};UNIT_SYSTEMS.cgs=JSON.parse(JSON.stringify(UNIT_SYSTEMS.si)),UNIT_SYSTEMS.cgs.LENGTH={unit:UNITS.m,prefix:PREFIXES.SHORT.c},UNIT_SYSTEMS.cgs.MASS={unit:UNITS.g,prefix:PREFIXES.SHORT[""]},UNIT_SYSTEMS.cgs.FORCE={unit:UNITS.dyn,prefix:PREFIXES.SHORT[""]},UNIT_SYSTEMS.cgs.ENERGY={unit:UNITS.erg,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.us=JSON.parse(JSON.stringify(UNIT_SYSTEMS.si)),UNIT_SYSTEMS.us.LENGTH={unit:UNITS.ft,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.us.MASS={unit:UNITS.lbm,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.us.TEMPERATURE={unit:UNITS.degF,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.us.FORCE={unit:UNITS.lbf,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.us.ENERGY={unit:UNITS.BTU,prefix:PREFIXES.BTU[""]},UNIT_SYSTEMS.us.POWER={unit:UNITS.hp,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.us.PRESSURE={unit:UNITS.psi,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.auto=JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));var currentUnitSystem=UNIT_SYSTEMS.auto;for(var _key2 in Unit.setUnitSystem=function(name){if(!(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(UNIT_SYSTEMS,name))throw new Error("Unit system "+name+" does not exist. Choices are: "+Object.keys(UNIT_SYSTEMS).join(", "));currentUnitSystem=UNIT_SYSTEMS[name]},Unit.getUnitSystem=function(){for(var _key in UNIT_SYSTEMS)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(UNIT_SYSTEMS,_key)&&UNIT_SYSTEMS[_key]===currentUnitSystem)return _key},Unit.typeConverters={BigNumber:function BigNumber(x){return null!=x&&x.isFraction?new _BigNumber(x.n).div(x.d).times(x.s):new _BigNumber(x+"")},Fraction:function Fraction(x){return new _Fraction(x)},Complex:function Complex(x){return x},number:function number(x){return null!=x&&x.isFraction?_number(x):x}},Unit.prototype._numberConverter=function(){var convert=Unit.typeConverters[this.valueType()];if(convert)return convert;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},Unit._getNumberConverter=function(type){if(!Unit.typeConverters[type])throw new TypeError('Unsupported type "'+type+'"');return Unit.typeConverters[type]},UNITS)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(UNITS,_key2)){var unit=UNITS[_key2];unit.dimensions=unit.base.dimensions}for(var _name2 in ALIASES)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(ALIASES,_name2)){var _unit2=UNITS[ALIASES[_name2]],alias={};for(var _key3 in _unit2)(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(_unit2,_key3)&&(alias[_key3]=_unit2[_key3]);alias.name=_name2,UNITS[_name2]=alias}return Unit.isValidAlpha=function isValidAlpha(c){return/^[a-zA-Z]$/.test(c)},Unit.createUnit=function(obj,options){if("object"!=typeof obj)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(options&&options.override)for(var _key4 in obj)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(obj,_key4)&&Unit.deleteUnit(_key4),obj[_key4].aliases)for(var i=0;i<obj[_key4].aliases.length;i++)Unit.deleteUnit(obj[_key4].aliases[i]);var lastUnit;for(var _key5 in obj)(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(obj,_key5)&&(lastUnit=Unit.createUnitSingle(_key5,obj[_key5]));return lastUnit},Unit.createUnitSingle=function(name,obj){if(null==obj&&(obj={}),"string"!=typeof name)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(UNITS,name))throw new Error('Cannot create unit "'+name+'": a unit with that name already exists');!function assertUnitNameIsValid(name){for(var i=0;i<name.length;i++){if(c=name.charAt(i),0===i&&!Unit.isValidAlpha(c))throw new Error('Invalid unit name (must begin with alpha character): "'+name+'"');if(i>0&&!Unit.isValidAlpha(c)&&!isDigit(c))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+name+'"')}}(name);var definition,prefixes,baseName,defUnit=null,aliases=[],offset=0;if(obj&&"Unit"===obj.type)defUnit=obj.clone();else if("string"==typeof obj)""!==obj&&(definition=obj);else{if("object"!=typeof obj)throw new TypeError('Cannot create unit "'+name+'" from "'+obj.toString()+'": expecting "string" or "Unit" or "Object"');definition=obj.definition,prefixes=obj.prefixes,offset=obj.offset,baseName=obj.baseName,obj.aliases&&(aliases=obj.aliases.valueOf())}if(aliases)for(var i=0;i<aliases.length;i++)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(UNITS,aliases[i]))throw new Error('Cannot create alias "'+aliases[i]+'": a unit with that name already exists');if(definition&&"string"==typeof definition&&!defUnit)try{defUnit=Unit.parse(definition,{allowNoUnits:!0})}catch(ex){throw ex.message='Could not create unit "'+name+'" from "'+definition+'": '+ex.message,ex}else definition&&"Unit"===definition.type&&(defUnit=definition.clone());aliases=aliases||[],offset=offset||0,prefixes=prefixes&&prefixes.toUpperCase&&PREFIXES[prefixes.toUpperCase()]||PREFIXES.NONE;var newUnit={};if(defUnit){newUnit={name:name,value:defUnit.value,dimensions:defUnit.dimensions.slice(0),prefixes:prefixes,offset:offset};var anyMatch=!1;for(var _i7 in BASE_UNITS)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(BASE_UNITS,_i7)){for(var match=!0,j=0;j<BASE_DIMENSIONS.length;j++)if(Math.abs((newUnit.dimensions[j]||0)-(BASE_UNITS[_i7].dimensions[j]||0))>1e-12){match=!1;break}if(match){anyMatch=!0,newUnit.base=BASE_UNITS[_i7];break}}if(!anyMatch){baseName=baseName||name+"_STUFF";var _newBaseUnit={dimensions:defUnit.dimensions.slice(0)};_newBaseUnit.key=baseName,BASE_UNITS[baseName]=_newBaseUnit,currentUnitSystem[baseName]={unit:newUnit,prefix:PREFIXES.NONE[""]},newUnit.base=BASE_UNITS[baseName]}}else{if(baseName=baseName||name+"_STUFF",BASE_DIMENSIONS.indexOf(baseName)>=0)throw new Error('Cannot create new base unit "'+name+'": a base unit with that name already exists (and cannot be overridden)');for(var b in BASE_DIMENSIONS.push(baseName),BASE_UNITS)(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(BASE_UNITS,b)&&(BASE_UNITS[b].dimensions[BASE_DIMENSIONS.length-1]=0);for(var newBaseUnit={dimensions:[]},_i6=0;_i6<BASE_DIMENSIONS.length;_i6++)newBaseUnit.dimensions[_i6]=0;newBaseUnit.dimensions[BASE_DIMENSIONS.length-1]=1,newBaseUnit.key=baseName,BASE_UNITS[baseName]=newBaseUnit,newUnit={name:name,value:1,dimensions:BASE_UNITS[baseName].dimensions.slice(0),prefixes:prefixes,offset:offset,base:BASE_UNITS[baseName]},currentUnitSystem[baseName]={unit:newUnit,prefix:PREFIXES.NONE[""]}}Unit.UNITS[name]=newUnit;for(var _i8=0;_i8<aliases.length;_i8++){var aliasName=aliases[_i8],_alias={};for(var _key6 in newUnit)(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_4__.nr)(newUnit,_key6)&&(_alias[_key6]=newUnit[_key6]);_alias.name=aliasName,Unit.UNITS[aliasName]=_alias}return delete _findUnit.cache,new Unit(null,name)},Unit.deleteUnit=function(name){delete Unit.UNITS[name],delete _findUnit.cache},Unit.PREFIXES=PREFIXES,Unit.BASE_DIMENSIONS=BASE_DIMENSIONS,Unit.BASE_UNITS=BASE_UNITS,Unit.UNIT_SYSTEMS=UNIT_SYSTEMS,Unit.UNITS=UNITS,Unit}),{isClass:!0})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/unit/function/createUnit.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return createCreateUnit}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","Unit"],createCreateUnit=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("createUnit",dependencies,(_ref=>{var{typed:typed,Unit:Unit}=_ref;return typed("createUnit",{"Object, Object":function ObjectObject(obj,options){return Unit.createUnit(obj,options)},Object:function Object(obj){return Unit.createUnit(obj,{})},"string, Unit | string | Object, Object":function stringUnitStringObjectObject(name,def,options){var obj={};return obj[name]=def,Unit.createUnit(obj,options)},"string, Unit | string | Object":function stringUnitStringObject(name,def){var obj={};return obj[name]=def,Unit.createUnit(obj,{})},string:function string(name){var obj={};return obj[name]={},Unit.createUnit(obj,{})}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/unit/function/splitUnit.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return createSplitUnit}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createSplitUnit=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("splitUnit",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("splitUnit",{"Unit, Array":function UnitArray(unit,parts){return unit.splitUnit(parts)}})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/unit/function/unit.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return createUnitFunction}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed","Unit"],createUnitFunction=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("unit",dependencies,(_ref=>{var{typed:typed,Unit:Unit}=_ref;return typed("unit",{Unit:function Unit(x){return x.clone()},string:function string(x){return Unit.isValuelessUnit(x)?new Unit(null,x):Unit.parse(x,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function numberBigNumberFractionComplexStringUnit(value,unit){return new Unit(value,unit)},"number | BigNumber | Fraction":function numberBigNumberFraction(value){return new Unit(value)},"Array | Matrix":typed.referToSelf((self=>x=>(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,self)))})}))},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/type/unit/physicalConstants.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$M:function(){return createPlanckConstant},A0:function(){return createRydberg},B7:function(){return createPlanckCharge},BL:function(){return createProtonMass},CQ:function(){return createGravity},Dg:function(){return createWeakMixingAngle},GI:function(){return createSecondRadiation},Go:function(){return createFaraday},Gw:function(){return createBoltzmann},IW:function(){return createElementaryCharge},JS:function(){return createElectricConstant},Km:function(){return createInverseConductanceQuantum},Oz:function(){return createPlanckTemperature},Ps:function(){return createPlanckLength},Qr:function(){return createMolarMassC12},RZ:function(){return createMagneticFluxQuantum},Rw:function(){return createFineStructure},Uu:function(){return createFirstRadiation},V9:function(){return createThomsonCrossSection},VL:function(){return createKlitzing},Vv:function(){return createGasConstant},W5:function(){return createWienDisplacement},Yv:function(){return createReducedPlanckConstant},Zu:function(){return createFermiCoupling},_C:function(){return createAtomicMass},ax:function(){return createMagneticConstant},c0:function(){return createHartreeEnergy},cn:function(){return createMolarPlanckConstant},d:function(){return createNuclearMagneton},ir:function(){return createCoulomb},j5:function(){return createNeutronMass},jp:function(){return createClassicalElectronRadius},kL:function(){return createQuantumOfCirculation},lR:function(){return createMolarVolume},lr:function(){return createSackurTetrode},nH:function(){return createGravitationConstant},o8:function(){return createElectronMass},of:function(){return createPlanckTime},pz:function(){return createBohrRadius},rK:function(){return createAvogadro},ri:function(){return createBohrMagneton},sD:function(){return createLoschmidt},sW:function(){return createEfimovFactor},ss:function(){return createSpeedOfLight},u1:function(){return createConductanceQuantum},v0:function(){return createPlanckMass},xt:function(){return createMolarMass},xx:function(){return createVacuumImpedance},zP:function(){return createDeuteronMass},zt:function(){return createStefanBoltzmann}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js"),createSpeedOfLight=unitFactory("speedOfLight","299792458","m s^-1"),createGravitationConstant=unitFactory("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),createPlanckConstant=unitFactory("planckConstant","6.62607015e-34","J s"),createReducedPlanckConstant=unitFactory("reducedPlanckConstant","1.0545718176461565e-34","J s"),createMagneticConstant=unitFactory("magneticConstant","1.25663706212e-6","N A^-2"),createElectricConstant=unitFactory("electricConstant","8.8541878128e-12","F m^-1"),createVacuumImpedance=unitFactory("vacuumImpedance","376.730313667","ohm"),createCoulomb=unitFactory("coulomb","8.987551792261171e9","N m^2 C^-2"),createElementaryCharge=unitFactory("elementaryCharge","1.602176634e-19","C"),createBohrMagneton=unitFactory("bohrMagneton","9.2740100783e-24","J T^-1"),createConductanceQuantum=unitFactory("conductanceQuantum","7.748091729863649e-5","S"),createInverseConductanceQuantum=unitFactory("inverseConductanceQuantum","12906.403729652257","ohm"),createMagneticFluxQuantum=unitFactory("magneticFluxQuantum","2.0678338484619295e-15","Wb"),createNuclearMagneton=unitFactory("nuclearMagneton","5.0507837461e-27","J T^-1"),createKlitzing=unitFactory("klitzing","25812.807459304513","ohm"),createBohrRadius=unitFactory("bohrRadius","5.29177210903e-11","m"),createClassicalElectronRadius=unitFactory("classicalElectronRadius","2.8179403262e-15","m"),createElectronMass=unitFactory("electronMass","9.1093837015e-31","kg"),createFermiCoupling=unitFactory("fermiCoupling","1.1663787e-5","GeV^-2"),createFineStructure=numberFactory("fineStructure",.0072973525693),createHartreeEnergy=unitFactory("hartreeEnergy","4.3597447222071e-18","J"),createProtonMass=unitFactory("protonMass","1.67262192369e-27","kg"),createDeuteronMass=unitFactory("deuteronMass","3.3435830926e-27","kg"),createNeutronMass=unitFactory("neutronMass","1.6749271613e-27","kg"),createQuantumOfCirculation=unitFactory("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),createRydberg=unitFactory("rydberg","10973731.568160","m^-1"),createThomsonCrossSection=unitFactory("thomsonCrossSection","6.6524587321e-29","m^2"),createWeakMixingAngle=numberFactory("weakMixingAngle",.2229),createEfimovFactor=numberFactory("efimovFactor",22.7),createAtomicMass=unitFactory("atomicMass","1.66053906660e-27","kg"),createAvogadro=unitFactory("avogadro","6.02214076e23","mol^-1"),createBoltzmann=unitFactory("boltzmann","1.380649e-23","J K^-1"),createFaraday=unitFactory("faraday","96485.33212331001","C mol^-1"),createFirstRadiation=unitFactory("firstRadiation","3.7417718521927573e-16","W m^2"),createLoschmidt=unitFactory("loschmidt","2.686780111798444e25","m^-3"),createGasConstant=unitFactory("gasConstant","8.31446261815324","J K^-1 mol^-1"),createMolarPlanckConstant=unitFactory("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),createMolarVolume=unitFactory("molarVolume","0.022413969545014137","m^3 mol^-1"),createSackurTetrode=numberFactory("sackurTetrode",-1.16487052358),createSecondRadiation=unitFactory("secondRadiation","0.014387768775039337","m K"),createStefanBoltzmann=unitFactory("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),createWienDisplacement=unitFactory("wienDisplacement","2.897771955e-3","m K"),createMolarMass=unitFactory("molarMass","0.99999999965e-3","kg mol^-1"),createMolarMassC12=unitFactory("molarMassC12","11.9999999958e-3","kg mol^-1"),createGravity=unitFactory("gravity","9.80665","m s^-2"),createPlanckLength=unitFactory("planckLength","1.616255e-35","m"),createPlanckMass=unitFactory("planckMass","2.176435e-8","kg"),createPlanckTime=unitFactory("planckTime","5.391245e-44","s"),createPlanckCharge=unitFactory("planckCharge","1.87554603778e-18","C"),createPlanckTemperature=unitFactory("planckTemperature","1.416785e+32","K");function unitFactory(name,valueStr,unitStr){return(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,["config","Unit","BigNumber"],(_ref=>{var{config:config,Unit:Unit,BigNumber:BigNumber}=_ref,unit=new Unit("BigNumber"===config.number?new BigNumber(valueStr):parseFloat(valueStr),unitStr);return unit.fixPrefix=!0,unit}))}function numberFactory(name,value){return(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,["config","BigNumber"],(_ref2=>{var{config:config,BigNumber:BigNumber}=_ref2;return"BigNumber"===config.number?new BigNumber(value):value}))}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/applyCallback.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return applyCallback}});var typed_function__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/typed-function/lib/umd/typed-function.js"),typed_function__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(typed_function__WEBPACK_IMPORTED_MODULE_0__),_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js");function applyCallback(callback,value,index,array,mappingFnName){if(typed_function__WEBPACK_IMPORTED_MODULE_0___default().isTypedFunction(callback)){var args3=[value,index,array],signature3=typed_function__WEBPACK_IMPORTED_MODULE_0___default().resolve(callback,args3);if(signature3)return tryWithArgs(signature3.implementation,args3);var args2=[value,index],signature2=typed_function__WEBPACK_IMPORTED_MODULE_0___default().resolve(callback,args2);if(signature2)return tryWithArgs(signature2.implementation,args2);var args1=[value],signature1=typed_function__WEBPACK_IMPORTED_MODULE_0___default().resolve(callback,args1);return signature1?tryWithArgs(signature1.implementation,args1):tryWithArgs(callback,args3)}return callback(value,index,array);function tryWithArgs(signature,args){try{return signature.apply(signature,args)}catch(err){var _err$data;if(err instanceof TypeError&&"wrongType"===(null===(_err$data=err.data)||void 0===_err$data?void 0:_err$data.category)){var argsDesc=[];throw argsDesc.push("value: ".concat((0,_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)(value))),args.length>=2&&argsDesc.push("index: ".concat((0,_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)(index))),args.length>=3&&argsDesc.push("array: ".concat((0,_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)(array))),new TypeError("Function ".concat(mappingFnName," cannot apply callback arguments ")+"".concat(callback.name,"(").concat(argsDesc.join(", "),") at index ").concat(JSON.stringify(index)))}throw new TypeError("Function ".concat(mappingFnName," cannot apply callback arguments ")+"to function ".concat(callback.name,": ").concat(err.message))}}}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$q:function(){return getArrayDataType},D$:function(){return generalize},Ed:function(){return forEach},Gu:function(){return validate},JD:function(){return isEmptyIndex},L9:function(){return squeeze},Ls:function(){return validateIndex},SI:function(){return resize},UF:function(){return broadcastTo},UI:function(){return map},U_:function(){return filterRegExp},XL:function(){return reshape},aJ:function(){return arraySize},bc:function(){return validateIndexSourceSize},cV:function(){return checkBroadcastingRules},eu:function(){return processSizesWildcard},f4:function(){return unsqueeze},hX:function(){return filter},v_:function(){return join},xH:function(){return flatten},yV:function(){return identify},zo:function(){return concat}});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js"),_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_string_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/DimensionError.js"),_error_IndexError_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/IndexError.js"),_object_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js");function arraySize(x){for(var s=[];Array.isArray(x);)s.push(x.length),x=x[0];return s}function _validate(array,size,dim){var i,len=array.length;if(len!==size[dim])throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(len,size[dim]);if(dim<size.length-1){var dimNext=dim+1;for(i=0;i<len;i++){var child=array[i];if(!Array.isArray(child))throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(size.length-1,size.length,"<");_validate(array[i],size,dimNext)}}else for(i=0;i<len;i++)if(Array.isArray(array[i]))throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(size.length+1,size.length,">")}function validate(array,size){if(0===size.length){if(Array.isArray(array))throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(array.length,0)}else _validate(array,size,0)}function validateIndexSourceSize(value,index){var valueSize=value.isMatrix?value._size:arraySize(value);index._sourceSize.forEach(((sourceDim,i)=>{if(null!==sourceDim&&sourceDim!==valueSize[i])throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(sourceDim,valueSize[i])}))}function validateIndex(index,length){if(void 0!==index){if(!(0,_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(index)||!(0,_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(index))throw new TypeError("Index must be an integer (value: "+index+")");if(index<0||"number"==typeof length&&index>=length)throw new _error_IndexError_js__WEBPACK_IMPORTED_MODULE_3__.c(index,length)}}function isEmptyIndex(index){for(var i=0;i<index._dimensions.length;++i){var dimension=index._dimensions[i];if(dimension._data&&(0,_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(dimension._data)){if(0===dimension._size[0])return!0}else if(dimension.isRange){if(dimension.start===dimension.end)return!0}else if((0,_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(dimension)&&0===dimension.length)return!0}return!1}function resize(array,size,defaultValue){if(!Array.isArray(size))throw new TypeError("Array expected");if(0===size.length)throw new Error("Resizing to scalar is not supported");return size.forEach((function(value){if(!(0,_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(value)||!(0,_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(value)||value<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,_string_js__WEBPACK_IMPORTED_MODULE_4__.WU)(size)+")")})),((0,_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(array)||(0,_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(array))&&(array=[array]),_resize(array,size,0,void 0!==defaultValue?defaultValue:0),array}function _resize(array,size,dim,defaultValue){var i,elem,oldLen=array.length,newLen=size[dim],minLen=Math.min(oldLen,newLen);if(array.length=newLen,dim<size.length-1){var dimNext=dim+1;for(i=0;i<minLen;i++)elem=array[i],Array.isArray(elem)||(elem=[elem],array[i]=elem),_resize(elem,size,dimNext,defaultValue);for(i=minLen;i<newLen;i++)elem=[],array[i]=elem,_resize(elem,size,dimNext,defaultValue)}else{for(i=0;i<minLen;i++)for(;Array.isArray(array[i]);)array[i]=array[i][0];for(i=minLen;i<newLen;i++)array[i]=defaultValue}}function reshape(array,sizes){var flatArray=flatten(array),currentLength=flatArray.length;if(!Array.isArray(array)||!Array.isArray(sizes))throw new TypeError("Array expected");if(0===sizes.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(0,currentLength,"!=");var newLength=product(sizes=processSizesWildcard(sizes,currentLength));if(currentLength!==newLength)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(newLength,currentLength,"!=");try{return function _reshape(array,sizes){for(var tmpArray2,tmpArray=array,sizeIndex=sizes.length-1;sizeIndex>0;sizeIndex--){var size=sizes[sizeIndex];tmpArray2=[];for(var length=tmpArray.length/size,i=0;i<length;i++)tmpArray2.push(tmpArray.slice(i*size,(i+1)*size));tmpArray=tmpArray2}return tmpArray}(flatArray,sizes)}catch(e){if(e instanceof _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(newLength,currentLength,"!=");throw e}}function processSizesWildcard(sizes,currentLength){var newLength=product(sizes),processedSizes=sizes.slice(),wildCardIndex=sizes.indexOf(-1);if(sizes.indexOf(-1,wildCardIndex+1)>=0)throw new Error("More than one wildcard in sizes");if(wildCardIndex>=0){if(!(currentLength%newLength==0))throw new Error("Could not replace wildcard, since "+currentLength+" is no multiple of "+-newLength);processedSizes[wildCardIndex]=-currentLength/newLength}return processedSizes}function product(array){return array.reduce(((prev,curr)=>prev*curr),1)}function squeeze(array,size){for(var s=size||arraySize(array);Array.isArray(array)&&1===array.length;)array=array[0],s.shift();for(var dims=s.length;1===s[dims-1];)dims--;return dims<s.length&&(array=_squeeze(array,dims,0),s.length=dims),array}function _squeeze(array,dims,dim){var i,ii;if(dim<dims){var next=dim+1;for(i=0,ii=array.length;i<ii;i++)array[i]=_squeeze(array[i],dims,next)}else for(;Array.isArray(array);)array=array[0];return array}function unsqueeze(array,dims,outer,size){var s=size||arraySize(array);if(outer)for(var i=0;i<outer;i++)array=[array],s.unshift(1);for(array=_unsqueeze(array,dims,0);s.length<dims;)s.push(1);return array}function _unsqueeze(array,dims,dim){var i,ii;if(Array.isArray(array)){var next=dim+1;for(i=0,ii=array.length;i<ii;i++)array[i]=_unsqueeze(array[i],dims,next)}else for(var d=dim;d<dims;d++)array=[array];return array}function flatten(array){if(!Array.isArray(array))return array;var flat=[];return array.forEach((function callback(value){Array.isArray(value)?value.forEach(callback):flat.push(value)})),flat}function map(array,callback){return Array.prototype.map.call(array,callback)}function forEach(array,callback){Array.prototype.forEach.call(array,callback)}function filter(array,callback){if(1!==arraySize(array).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(array,callback)}function filterRegExp(array,regexp){if(1!==arraySize(array).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(array,(entry=>regexp.test(entry)))}function join(array,separator){return Array.prototype.join.call(array,separator)}function identify(a){if(!Array.isArray(a))throw new TypeError("Array input expected");if(0===a.length)return a;var b=[],count=0;b[0]={value:a[0],identifier:0};for(var i=1;i<a.length;i++)a[i]===a[i-1]?count++:count=0,b.push({value:a[i],identifier:count});return b}function generalize(a){if(!Array.isArray(a))throw new TypeError("Array input expected");if(0===a.length)return a;for(var b=[],i=0;i<a.length;i++)b.push(a[i].value);return b}function getArrayDataType(array,typeOf){for(var type,length=0,i=0;i<array.length;i++){var item=array[i],_isArray=Array.isArray(item);if(0===i&&_isArray&&(length=item.length),_isArray&&item.length!==length)return;var itemType=_isArray?getArrayDataType(item,typeOf):typeOf(item);if(void 0===type)type=itemType;else if(type!==itemType)return"mixed"}return type}function concatRecursive(a,b,concatDim,dim){if(dim<concatDim){if(a.length!==b.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(a.length,b.length);for(var c=[],i=0;i<a.length;i++)c[i]=concatRecursive(a[i],b[i],concatDim,dim+1);return c}return a.concat(b)}function concat(){var arrays=Array.prototype.slice.call(arguments,0,-1),concatDim=Array.prototype.slice.call(arguments,-1);if(1===arrays.length)return arrays[0];if(arrays.length>1)return arrays.slice(1).reduce((function(A,B){return concatRecursive(A,B,concatDim,0)}),arrays[0]);throw new Error("Wrong number of arguments in function concat")}function broadcastSizes(){for(var _len=arguments.length,sizes=new Array(_len),_key=0;_key<_len;_key++)sizes[_key]=arguments[_key];for(var dimensions=sizes.map((s=>s.length)),N=Math.max(...dimensions),sizeMax=new Array(N).fill(null),i=0;i<sizes.length;i++)for(var size=sizes[i],dim=dimensions[i],j=0;j<dim;j++){var n=N-dim+j;size[j]>sizeMax[n]&&(sizeMax[n]=size[j])}for(var _i=0;_i<sizes.length;_i++)checkBroadcastingRules(sizes[_i],sizeMax);return sizeMax}function checkBroadcastingRules(size,toSize){for(var N=toSize.length,dim=size.length,j=0;j<dim;j++){var n=N-dim+j;if(size[j]<toSize[n]&&size[j]>1||size[j]>toSize[n])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(size,") not possible to broadcast dimension ").concat(dim," with size ").concat(size[j]," to size ").concat(toSize[n]))}}function broadcastTo(array,toSize){var Asize=arraySize(array);if((0,_object_js__WEBPACK_IMPORTED_MODULE_5__.J5)(Asize,toSize))return array;checkBroadcastingRules(Asize,toSize);var arrayToStretch,sizeToStretch,dimToStretch,broadcastedSize=broadcastSizes(Asize,toSize),N=broadcastedSize.length,paddedSize=[...Array(N-Asize.length).fill(1),...Asize],A=function clone(array){return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)([],array)}(array);Asize.length<N&&(Asize=arraySize(A=reshape(A,paddedSize)));for(var dim=0;dim<N;dim++)Asize[dim]<broadcastedSize[dim]&&(arrayToStretch=A,sizeToStretch=broadcastedSize[dim],dimToStretch=dim,Asize=arraySize(A=concat(...Array(sizeToStretch).fill(arrayToStretch),dimToStretch)));return A}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function bitAndBigNumber(x,y){if(x.isFinite()&&!x.isInteger()||y.isFinite()&&!y.isInteger())throw new Error("Integers expected in function bitAnd");var BigNumber=x.constructor;if(x.isNaN()||y.isNaN())return new BigNumber(NaN);if(x.isZero()||y.eq(-1)||x.eq(y))return x;if(y.isZero()||x.eq(-1))return y;if(!x.isFinite()||!y.isFinite()){if(!x.isFinite()&&!y.isFinite())return x.isNegative()===y.isNegative()?x:new BigNumber(0);if(!x.isFinite())return y.isNegative()?x:x.isNegative()?new BigNumber(0):y;if(!y.isFinite())return x.isNegative()?y:y.isNegative()?new BigNumber(0):x}return bitwise(x,y,(function(a,b){return a&b}))}function bitNotBigNumber(x){if(x.isFinite()&&!x.isInteger())throw new Error("Integer expected in function bitNot");var BigNumber=x.constructor,prevPrec=BigNumber.precision;BigNumber.config({precision:1e9});var result=x.plus(new BigNumber(1));return result.s=-result.s||null,BigNumber.config({precision:prevPrec}),result}function bitOrBigNumber(x,y){if(x.isFinite()&&!x.isInteger()||y.isFinite()&&!y.isInteger())throw new Error("Integers expected in function bitOr");var BigNumber=x.constructor;if(x.isNaN()||y.isNaN())return new BigNumber(NaN);var negOne=new BigNumber(-1);return x.isZero()||y.eq(negOne)||x.eq(y)?y:y.isZero()||x.eq(negOne)?x:x.isFinite()&&y.isFinite()?bitwise(x,y,(function(a,b){return a|b})):!x.isFinite()&&!x.isNegative()&&y.isNegative()||x.isNegative()&&!y.isNegative()&&!y.isFinite()?negOne:x.isNegative()&&y.isNegative()?x.isFinite()?x:y:x.isFinite()?y:x}function bitwise(x,y,func){var xBits,yBits,minBits,maxBits,minSign,BigNumber=x.constructor,xSign=+(x.s<0),ySign=+(y.s<0);if(xSign){xBits=decCoefficientToBinaryString(bitNotBigNumber(x));for(var i=0;i<xBits.length;++i)xBits[i]^=1}else xBits=decCoefficientToBinaryString(x);if(ySign){yBits=decCoefficientToBinaryString(bitNotBigNumber(y));for(var _i=0;_i<yBits.length;++_i)yBits[_i]^=1}else yBits=decCoefficientToBinaryString(y);xBits.length<=yBits.length?(minBits=xBits,maxBits=yBits,minSign=xSign):(minBits=yBits,maxBits=xBits,minSign=ySign);var shortLen=minBits.length,longLen=maxBits.length,expFuncVal=1^func(xSign,ySign),outVal=new BigNumber(1^expFuncVal),twoPower=new BigNumber(1),two=new BigNumber(2),prevPrec=BigNumber.precision;for(BigNumber.config({precision:1e9});shortLen>0;)func(minBits[--shortLen],maxBits[--longLen])===expFuncVal&&(outVal=outVal.plus(twoPower)),twoPower=twoPower.times(two);for(;longLen>0;)func(minSign,maxBits[--longLen])===expFuncVal&&(outVal=outVal.plus(twoPower)),twoPower=twoPower.times(two);return BigNumber.config({precision:prevPrec}),0===expFuncVal&&(outVal.s=-outVal.s),outVal}function decCoefficientToBinaryString(x){for(var a=x.d,r=a[0]+"",i=1;i<a.length;++i){for(var s=a[i]+"",z=7-s.length;z--;)s="0"+s;r+=s}for(var j=r.length;"0"===r.charAt(j);)j--;var xe=x.e,str=r.slice(0,j+1||1),strL=str.length;if(xe>0)if(++xe>strL)for(xe-=strL;xe--;)str+="0";else xe<strL&&(str=str.slice(0,xe)+"."+str.slice(xe));for(var arr=[0],_i2=0;_i2<str.length;){for(var arrL=arr.length;arrL--;)arr[arrL]*=10;arr[0]+=parseInt(str.charAt(_i2++));for(var _j=0;_j<arr.length;++_j)arr[_j]>1&&(null!==arr[_j+1]&&void 0!==arr[_j+1]||(arr[_j+1]=0),arr[_j+1]+=arr[_j]>>1,arr[_j]&=1)}return arr.reverse()}function bitXor(x,y){if(x.isFinite()&&!x.isInteger()||y.isFinite()&&!y.isInteger())throw new Error("Integers expected in function bitXor");var BigNumber=x.constructor;if(x.isNaN()||y.isNaN())return new BigNumber(NaN);if(x.isZero())return y;if(y.isZero())return x;if(x.eq(y))return new BigNumber(0);var negOne=new BigNumber(-1);return x.eq(negOne)?bitNotBigNumber(y):y.eq(negOne)?bitNotBigNumber(x):x.isFinite()&&y.isFinite()?bitwise(x,y,(function(a,b){return a^b})):x.isFinite()||y.isFinite()?new BigNumber(x.isNegative()===y.isNegative()?1/0:-1/0):negOne}function leftShiftBigNumber(x,y){if(x.isFinite()&&!x.isInteger()||y.isFinite()&&!y.isInteger())throw new Error("Integers expected in function leftShift");var BigNumber=x.constructor;return x.isNaN()||y.isNaN()||y.isNegative()&&!y.isZero()?new BigNumber(NaN):x.isZero()||y.isZero()?x:x.isFinite()||y.isFinite()?y.lt(55)?x.times(Math.pow(2,y.toNumber())+""):x.times(new BigNumber(2).pow(y)):new BigNumber(NaN)}function rightArithShiftBigNumber(x,y){if(x.isFinite()&&!x.isInteger()||y.isFinite()&&!y.isInteger())throw new Error("Integers expected in function rightArithShift");var BigNumber=x.constructor;return x.isNaN()||y.isNaN()||y.isNegative()&&!y.isZero()?new BigNumber(NaN):x.isZero()||y.isZero()?x:y.isFinite()?y.lt(55)?x.div(Math.pow(2,y.toNumber())+"").floor():x.div(new BigNumber(2).pow(y)).floor():x.isNegative()?new BigNumber(-1):x.isFinite()?new BigNumber(0):new BigNumber(NaN)}__webpack_require__.d(__webpack_exports__,{Mw:function(){return leftShiftBigNumber},Vq:function(){return bitOrBigNumber},Xc:function(){return bitNotBigNumber},hi:function(){return bitAndBigNumber},nN:function(){return bitXor},ti:function(){return rightArithShiftBigNumber}})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/constants.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{j_:function(){return createBigNumberTau},vu:function(){return createBigNumberE},wY:function(){return createBigNumberPi},zm:function(){return createBigNumberPhi}});var _function_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/function.js"),createBigNumberE=(0,_function_js__WEBPACK_IMPORTED_MODULE_0__.HP)((function(BigNumber){return new BigNumber(1).exp()}),{hasher:hasher}),createBigNumberPhi=(0,_function_js__WEBPACK_IMPORTED_MODULE_0__.HP)((function(BigNumber){return new BigNumber(1).plus(new BigNumber(5).sqrt()).div(2)}),{hasher:hasher}),createBigNumberPi=(0,_function_js__WEBPACK_IMPORTED_MODULE_0__.HP)((function(BigNumber){return BigNumber.acos(-1)}),{hasher:hasher}),createBigNumberTau=(0,_function_js__WEBPACK_IMPORTED_MODULE_0__.HP)((function(BigNumber){return createBigNumberPi(BigNumber).times(2)}),{hasher:hasher});function hasher(args){return args[0].precision}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function nearlyEqual(x,y,epsilon){if(null==epsilon)return x.eq(y);if(x.eq(y))return!0;if(x.isNaN()||y.isNaN())return!1;if(x.isFinite()&&y.isFinite()){var diff=x.minus(y).abs();if(diff.isZero())return!0;var max=x.constructor.max(x.abs(),y.abs());return diff.lte(max.times(epsilon))}return!1}__webpack_require__.d(__webpack_exports__,{R:function(){return nearlyEqual}})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/collection.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{CQ:function(){return containsCollections},Et:function(){return deepForEach},Fh:function(){return deepMap},U6:function(){return scatter},u4:function(){return reduce}});var _is_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),_error_IndexError_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/error/IndexError.js"),_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/array.js"),_switch_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/switch.js");function containsCollections(array){for(var i=0;i<array.length;i++)if((0,_is_js__WEBPACK_IMPORTED_MODULE_0__.uZ)(array[i]))return!0;return!1}function deepForEach(array,callback){(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.SW)(array)&&(array=array.valueOf());for(var i=0,ii=array.length;i<ii;i++){var value=array[i];Array.isArray(value)?deepForEach(value,callback):callback(value)}}function deepMap(array,callback,skipZeros){return array&&"function"==typeof array.map?array.map((function(x){return deepMap(x,callback,skipZeros)})):callback(array)}function reduce(mat,dim,callback){var size=Array.isArray(mat)?(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(mat):mat.size();if(dim<0||dim>=size.length)throw new _error_IndexError_js__WEBPACK_IMPORTED_MODULE_2__.c(dim,size.length);return(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.SW)(mat)?mat.create(_reduce(mat.valueOf(),dim,callback)):_reduce(mat,dim,callback)}function _reduce(mat,dim,callback){var i,ret,val,tran;if(dim<=0){if(Array.isArray(mat[0])){for(tran=(0,_switch_js__WEBPACK_IMPORTED_MODULE_3__.c)(mat),ret=[],i=0;i<tran.length;i++)ret[i]=_reduce(tran[i],dim-1,callback);return ret}for(val=mat[0],i=1;i<mat.length;i++)val=callback(val,mat[i]);return val}for(ret=[],i=0;i<mat.length;i++)ret[i]=_reduce(mat[i],dim-1,callback);return ret}function scatter(a,j,w,x,u,mark,cindex,f,inverse,update,value){var k,k0,k1,i,avalues=a._values,aindex=a._index,aptr=a._ptr;if(x)for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++)w[i=aindex[k]]!==mark?(w[i]=mark,cindex.push(i),update?(x[i]=inverse?f(avalues[k],value):f(value,avalues[k]),u[i]=mark):x[i]=avalues[k]):(x[i]=inverse?f(avalues[k],x[i]):f(x[i],avalues[k]),u[i]=mark);else for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++)w[i=aindex[k]]!==mark?(w[i]=mark,cindex.push(i)):u[i]=mark}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/customs.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{OJ:function(){return isSafeMethod},YF:function(){return getSafeProperty},Z8:function(){return hasSafeProperty},nI:function(){return setSafeProperty},rG:function(){return getSafeMethod}});var _object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js");function getSafeProperty(object,prop){if(isPlainObject(object)&&isSafeProperty(object,prop))return object[prop];if("function"==typeof object[prop]&&isSafeMethod(object,prop))throw new Error('Cannot access method "'+prop+'" as a property');throw new Error('No access to property "'+prop+'"')}function setSafeProperty(object,prop,value){if(isPlainObject(object)&&isSafeProperty(object,prop))return object[prop]=value,value;throw new Error('No access to property "'+prop+'"')}function hasSafeProperty(object,prop){return prop in object}function isSafeProperty(object,prop){return!(!object||"object"!=typeof object)&&(!!(0,_object_js__WEBPACK_IMPORTED_MODULE_0__.nr)(safeNativeProperties,prop)||!(prop in Object.prototype)&&!(prop in Function.prototype))}function getSafeMethod(object,method){if(!isSafeMethod(object,method))throw new Error('No access to method "'+method+'"');return object[method]}function isSafeMethod(object,method){return null!=object&&"function"==typeof object[method]&&(!((0,_object_js__WEBPACK_IMPORTED_MODULE_0__.nr)(object,method)&&Object.getPrototypeOf&&method in Object.getPrototypeOf(object))&&(!!(0,_object_js__WEBPACK_IMPORTED_MODULE_0__.nr)(safeNativeMethods,method)||!(method in Object.prototype)&&!(method in Function.prototype)))}function isPlainObject(object){return"object"==typeof object&&object&&object.constructor===Object}var safeNativeProperties={length:!0,name:!0},safeNativeMethods={toString:!0,valueOf:!0,toLocaleString:!0}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/factory.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{PI:function(){return stripOptionalNotation},d5:function(){return factory},gS:function(){return isFactory}});var _object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js");function factory(name,dependencies,create,meta){function assertAndCreate(scope){var deps=(0,_object_js__WEBPACK_IMPORTED_MODULE_0__.W6)(scope,dependencies.map(stripOptionalNotation));return function assertDependencies(name,dependencies,scope){var allDefined=dependencies.filter((dependency=>!function isOptionalDependency(dependency){return dependency&&"?"===dependency[0]}(dependency))).every((dependency=>void 0!==scope[dependency]));if(!allDefined){var missingDependencies=dependencies.filter((dependency=>void 0===scope[dependency]));throw new Error('Cannot create function "'.concat(name,'", ')+"some dependencies are missing: ".concat(missingDependencies.map((d=>'"'.concat(d,'"'))).join(", "),"."))}}(name,dependencies,scope),create(deps)}return assertAndCreate.isFactory=!0,assertAndCreate.fn=name,assertAndCreate.dependencies=dependencies.slice().sort(),meta&&(assertAndCreate.meta=meta),assertAndCreate}function isFactory(obj){return"function"==typeof obj&&"string"==typeof obj.fn&&Array.isArray(obj.dependencies)}function stripOptionalNotation(dependency){return dependency&&"?"===dependency[0]?dependency.slice(1):dependency}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/function.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function lruQueue(limit){var size=0,base=1,queue=Object.create(null),map=Object.create(null),index=0,del=function del(id){var oldIndex=map[id];if(oldIndex&&(delete queue[oldIndex],delete map[id],--size,base===oldIndex)){if(!size)return index=0,void(base=1);for(;!Object.prototype.hasOwnProperty.call(queue,++base););}};return limit=Math.abs(limit),{hit:function hit(id){var oldIndex=map[id],nuIndex=++index;if(queue[nuIndex]=id,map[id]=nuIndex,!oldIndex){if(++size<=limit)return;return id=queue[base],del(id),id}if(delete queue[oldIndex],base===oldIndex)for(;!Object.prototype.hasOwnProperty.call(queue,++base););},delete:del,clear:function clear(){size=index=0,base=1,queue=Object.create(null),map=Object.create(null)}}}function memoize(fn){var{hasher:hasher,limit:limit}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return limit=null==limit?Number.POSITIVE_INFINITY:limit,hasher=null==hasher?JSON.stringify:hasher,function memoize(){"object"!=typeof memoize.cache&&(memoize.cache={values:new Map,lru:lruQueue(limit||Number.POSITIVE_INFINITY)});for(var args=[],i=0;i<arguments.length;i++)args[i]=arguments[i];var hash=hasher(args);if(memoize.cache.values.has(hash))return memoize.cache.lru.hit(hash),memoize.cache.values.get(hash);var newVal=fn.apply(fn,args);return memoize.cache.values.set(hash,newVal),memoize.cache.values.delete(memoize.cache.lru.hit(hash)),newVal}}function maxArgumentCount(fn){return Object.keys(fn.signatures||{}).reduce((function(args,signature){var count=(signature.match(/,/g)||[]).length+1;return Math.max(args,count)}),-1)}__webpack_require__.d(__webpack_exports__,{oV:function(){return maxArgumentCount},HP:function(){return memoize}})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function isNumber(x){return"number"==typeof x}function isBigNumber(x){return!(!x||"object"!=typeof x||"function"!=typeof x.constructor)&&(!0===x.isBigNumber&&"object"==typeof x.constructor.prototype&&!0===x.constructor.prototype.isBigNumber||"function"==typeof x.constructor.isDecimal&&!0===x.constructor.isDecimal(x))}function isComplex(x){return x&&"object"==typeof x&&!0===Object.getPrototypeOf(x).isComplex||!1}function isFraction(x){return x&&"object"==typeof x&&!0===Object.getPrototypeOf(x).isFraction||!1}function isUnit(x){return x&&!0===x.constructor.prototype.isUnit||!1}function isString(x){return"string"==typeof x}__webpack_require__.d(__webpack_exports__,{Bp:function(){return isAssignmentNode},Cl:function(){return isIndexNode},FG:function(){return isSymbolNode},Ft:function(){return isNull},HD:function(){return isString},Ig:function(){return isParenthesisNode},J_:function(){return isDate},Kj:function(){return isRegExp},Kn:function(){return isObject},Lr:function(){return isObjectNode},Mc:function(){return isComplex},SW:function(){return isMatrix},UG:function(){return isNode},VO:function(){return isFunctionNode},Yz:function(){return isAccessorNode},ZX:function(){return rule2Node},Zi:function(){return isRelationalNode},bR:function(){return isRange},bV:function(){return isOperatorNode},cB:function(){return isResultSet},dh:function(){return isIndex},ex:function(){return isRangeNode},hj:function(){return isNumber},j0:function(){return isArrayNode},jH:function(){return isDenseMatrix},jn:function(){return isBoolean},kJ:function(){return isArray},kM:function(){return typeOf},l7:function(){return isFunctionAssignmentNode},l9:function(){return isBigNumber},mf:function(){return isFunction},nu:function(){return isConstantNode},o8:function(){return isUndefined},qg:function(){return isChain},sA:function(){return isSparseMatrix},tS:function(){return isConditionalNode},uZ:function(){return isCollection},wr:function(){return isUnit},x1:function(){return isHelp},yQ:function(){return isFraction},zh:function(){return isBlockNode}});var isArray=Array.isArray;function isMatrix(x){return x&&!0===x.constructor.prototype.isMatrix||!1}function isCollection(x){return Array.isArray(x)||isMatrix(x)}function isDenseMatrix(x){return x&&x.isDenseMatrix&&!0===x.constructor.prototype.isMatrix||!1}function isSparseMatrix(x){return x&&x.isSparseMatrix&&!0===x.constructor.prototype.isMatrix||!1}function isRange(x){return x&&!0===x.constructor.prototype.isRange||!1}function isIndex(x){return x&&!0===x.constructor.prototype.isIndex||!1}function isBoolean(x){return"boolean"==typeof x}function isResultSet(x){return x&&!0===x.constructor.prototype.isResultSet||!1}function isHelp(x){return x&&!0===x.constructor.prototype.isHelp||!1}function isFunction(x){return"function"==typeof x}function isDate(x){return x instanceof Date}function isRegExp(x){return x instanceof RegExp}function isObject(x){return!(!x||"object"!=typeof x||x.constructor!==Object||isComplex(x)||isFraction(x))}function isNull(x){return null===x}function isUndefined(x){return void 0===x}function isAccessorNode(x){return x&&!0===x.isAccessorNode&&!0===x.constructor.prototype.isNode||!1}function isArrayNode(x){return x&&!0===x.isArrayNode&&!0===x.constructor.prototype.isNode||!1}function isAssignmentNode(x){return x&&!0===x.isAssignmentNode&&!0===x.constructor.prototype.isNode||!1}function isBlockNode(x){return x&&!0===x.isBlockNode&&!0===x.constructor.prototype.isNode||!1}function isConditionalNode(x){return x&&!0===x.isConditionalNode&&!0===x.constructor.prototype.isNode||!1}function isConstantNode(x){return x&&!0===x.isConstantNode&&!0===x.constructor.prototype.isNode||!1}function rule2Node(node){return isConstantNode(node)||isOperatorNode(node)&&1===node.args.length&&isConstantNode(node.args[0])&&"-+~".includes(node.op)}function isFunctionAssignmentNode(x){return x&&!0===x.isFunctionAssignmentNode&&!0===x.constructor.prototype.isNode||!1}function isFunctionNode(x){return x&&!0===x.isFunctionNode&&!0===x.constructor.prototype.isNode||!1}function isIndexNode(x){return x&&!0===x.isIndexNode&&!0===x.constructor.prototype.isNode||!1}function isNode(x){return x&&!0===x.isNode&&!0===x.constructor.prototype.isNode||!1}function isObjectNode(x){return x&&!0===x.isObjectNode&&!0===x.constructor.prototype.isNode||!1}function isOperatorNode(x){return x&&!0===x.isOperatorNode&&!0===x.constructor.prototype.isNode||!1}function isParenthesisNode(x){return x&&!0===x.isParenthesisNode&&!0===x.constructor.prototype.isNode||!1}function isRangeNode(x){return x&&!0===x.isRangeNode&&!0===x.constructor.prototype.isNode||!1}function isRelationalNode(x){return x&&!0===x.isRelationalNode&&!0===x.constructor.prototype.isNode||!1}function isSymbolNode(x){return x&&!0===x.isSymbolNode&&!0===x.constructor.prototype.isNode||!1}function isChain(x){return x&&!0===x.constructor.prototype.isChain||!1}function typeOf(x){var t=typeof x;return"object"===t?null===x?"null":isBigNumber(x)?"BigNumber":x.constructor&&x.constructor.name?x.constructor.name:"Object":t}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/map.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A3:function(){return PartitionedMap},_N:function(){return isMap},df:function(){return createMap},dg:function(){return createEmptyMap},hB:function(){return ObjectWrappingMap},ru:function(){return toObject}});var _customs_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/customs.js"),_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js");class ObjectWrappingMap{constructor(object){this.wrappedObject=object,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(key){return(0,_customs_js__WEBPACK_IMPORTED_MODULE_0__.YF)(this.wrappedObject,key)}set(key,value){return(0,_customs_js__WEBPACK_IMPORTED_MODULE_0__.nI)(this.wrappedObject,key,value),this}has(key){return(0,_customs_js__WEBPACK_IMPORTED_MODULE_0__.Z8)(this.wrappedObject,key)}entries(){return mapIterator(this.keys(),(key=>[key,this.get(key)]))}forEach(callback){for(var key of this.keys())callback(this.get(key),key,this)}delete(key){delete this.wrappedObject[key]}clear(){for(var key of this.keys())this.delete(key)}get size(){return Object.keys(this.wrappedObject).length}}class PartitionedMap{constructor(a,b,bKeys){this.a=a,this.b=b,this.bKeys=bKeys,this[Symbol.iterator]=this.entries}get(key){return this.bKeys.has(key)?this.b.get(key):this.a.get(key)}set(key,value){return this.bKeys.has(key)?this.b.set(key,value):this.a.set(key,value),this}has(key){return this.b.has(key)||this.a.has(key)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return mapIterator(this.keys(),(key=>[key,this.get(key)]))}forEach(callback){for(var key of this.keys())callback(this.get(key),key,this)}delete(key){return this.bKeys.has(key)?this.b.delete(key):this.a.delete(key)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function mapIterator(it,callback){return{next:()=>{var n=it.next();return n.done?n:{value:callback(n.value),done:!1}}}}function createEmptyMap(){return new Map}function createMap(mapOrObject){if(!mapOrObject)return createEmptyMap();if(isMap(mapOrObject))return mapOrObject;if((0,_is_js__WEBPACK_IMPORTED_MODULE_1__.Kn)(mapOrObject))return new ObjectWrappingMap(mapOrObject);throw new Error("createMap can create maps from objects or Maps")}function toObject(map){if(map instanceof ObjectWrappingMap)return map.wrappedObject;var object={};for(var key of map.keys()){var value=map.get(key);(0,_customs_js__WEBPACK_IMPORTED_MODULE_0__.nI)(object,key,value)}return object}function isMap(object){return!!object&&(object instanceof Map||object instanceof ObjectWrappingMap||"function"==typeof object.set&&"function"==typeof object.get&&"function"==typeof object.keys&&"function"==typeof object.has)}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/noop.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function noBignumber(){throw new Error('No "bignumber" implementation available')}function noFraction(){throw new Error('No "fraction" implementation available')}function noMatrix(){throw new Error('No "matrix" implementation available')}__webpack_require__.d(__webpack_exports__,{R3:function(){return noBignumber},kX:function(){return noMatrix},nG:function(){return noFraction}})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{AE:function(){return tanh},C8:function(){return atanh},FH:function(){return toFixed},JG:function(){return copysign},Kr:function(){return log1p},RI:function(){return nearlyEqual},R_:function(){return sinh},U:function(){return isInteger},Vf:function(){return asinh},WU:function(){return format},Xx:function(){return sign},__:function(){return acosh},eK:function(){return cbrt},f9:function(){return cosh},k3:function(){return log2},mv:function(){return log10},nz:function(){return digits},t$:function(){return expm1},uR:function(){return normalizeFormatOptions},wV:function(){return splitNumber}});var _is_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js");function isInteger(value){return"boolean"==typeof value||!!isFinite(value)&&value===Math.round(value)}var sign=Math.sign||function(x){return x>0?1:x<0?-1:0},log2=Math.log2||function log2(x){return Math.log(x)/Math.LN2},log10=Math.log10||function log10(x){return Math.log(x)/Math.LN10},log1p=Math.log1p||function(x){return Math.log(x+1)},cbrt=Math.cbrt||function cbrt(x){if(0===x)return x;var result,negate=x<0;return negate&&(x=-x),result=isFinite(x)?(x/((result=Math.exp(Math.log(x)/3))*result)+2*result)/3:x,negate?-result:result},expm1=Math.expm1||function expm1(x){return x>=2e-4||x<=-2e-4?Math.exp(x)-1:x+x*x/2+x*x*x/6};function formatNumberToBase(n,base,size){var prefix={2:"0b",8:"0o",16:"0x"}[base],suffix="";if(size){if(size<1)throw new Error("size must be in greater than 0");if(!isInteger(size))throw new Error("size must be an integer");if(n>2**(size-1)-1||n<-(2**(size-1)))throw new Error("Value must be in range [-2^".concat(size-1,", 2^").concat(size-1,"-1]"));if(!isInteger(n))throw new Error("Value must be an integer");n<0&&(n+=2**size),suffix="i".concat(size)}var sign="";return n<0&&(n=-n,sign="-"),"".concat(sign).concat(prefix).concat(n.toString(base)).concat(suffix)}function format(value,options){if("function"==typeof options)return options(value);if(value===1/0)return"Infinity";if(value===-1/0)return"-Infinity";if(isNaN(value))return"NaN";var{notation:notation,precision:precision,wordSize:wordSize}=normalizeFormatOptions(options);switch(notation){case"fixed":return toFixed(value,precision);case"exponential":return toExponential(value,precision);case"engineering":return function toEngineering(value,precision){if(isNaN(value)||!isFinite(value))return String(value);var split=splitNumber(value),rounded=roundDigits(split,precision),e=rounded.exponent,c=rounded.coefficients,newExp=e%3==0?e:e<0?e-3-e%3:e-e%3;if((0,_is_js__WEBPACK_IMPORTED_MODULE_0__.hj)(precision))for(;precision>c.length||e-newExp+1>c.length;)c.push(0);else for(var missingZeros=Math.abs(e-newExp)-(c.length-1),i=0;i<missingZeros;i++)c.push(0);var expDiff=Math.abs(e-newExp),decimalIdx=1;for(;expDiff>0;)decimalIdx++,expDiff--;var decimals=c.slice(decimalIdx).join(""),decimalVal=(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.hj)(precision)&&decimals.length||decimals.match(/[1-9]/)?"."+decimals:"",str=c.slice(0,decimalIdx).join("")+decimalVal+"e"+(e>=0?"+":"")+newExp.toString();return rounded.sign+str}(value,precision);case"bin":return formatNumberToBase(value,2,wordSize);case"oct":return formatNumberToBase(value,8,wordSize);case"hex":return formatNumberToBase(value,16,wordSize);case"auto":return function toPrecision(value,precision,options){if(isNaN(value)||!isFinite(value))return String(value);var lowerExp=_toNumberOrDefault(null==options?void 0:options.lowerExp,-3),upperExp=_toNumberOrDefault(null==options?void 0:options.upperExp,5),split=splitNumber(value),rounded=precision?roundDigits(split,precision):split;if(rounded.exponent<lowerExp||rounded.exponent>=upperExp)return toExponential(value,precision);var c=rounded.coefficients,e=rounded.exponent;c.length<precision&&(c=c.concat(zeros(precision-c.length))),c=c.concat(zeros(e-c.length+1+(c.length<precision?precision-c.length:0)));var dot=e>0?e:0;return dot<(c=zeros(-e).concat(c)).length-1&&c.splice(dot+1,0,"."),rounded.sign+c.join("")}(value,precision,options).replace(/((\.\d*?)(0+))($|e)/,(function(){var digits=arguments[2],e=arguments[4];return"."!==digits?digits+e:e}));default:throw new Error('Unknown notation "'+notation+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function normalizeFormatOptions(options){var precision,wordSize,notation="auto";if(void 0!==options)if((0,_is_js__WEBPACK_IMPORTED_MODULE_0__.hj)(options))precision=options;else if((0,_is_js__WEBPACK_IMPORTED_MODULE_0__.l9)(options))precision=options.toNumber();else{if(!(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.Kn)(options))throw new Error("Unsupported type of options, number, BigNumber, or object expected");void 0!==options.precision&&(precision=_toNumberOrThrow(options.precision,(()=>{throw new Error('Option "precision" must be a number or BigNumber')}))),void 0!==options.wordSize&&(wordSize=_toNumberOrThrow(options.wordSize,(()=>{throw new Error('Option "wordSize" must be a number or BigNumber')}))),options.notation&&(notation=options.notation)}return{notation:notation,precision:precision,wordSize:wordSize}}function splitNumber(value){var match=String(value).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!match)throw new SyntaxError("Invalid number "+value);var sign=match[1],digits=match[2],exponent=parseFloat(match[4]||"0"),dot=digits.indexOf(".");exponent+=-1!==dot?dot-1:digits.length-1;var coefficients=digits.replace(".","").replace(/^0*/,(function(zeros){return exponent-=zeros.length,""})).replace(/0*$/,"").split("").map((function(d){return parseInt(d)}));return 0===coefficients.length&&(coefficients.push(0),exponent++),{sign:sign,coefficients:coefficients,exponent:exponent}}function toFixed(value,precision){if(isNaN(value)||!isFinite(value))return String(value);var splitValue=splitNumber(value),rounded="number"==typeof precision?roundDigits(splitValue,splitValue.exponent+1+precision):splitValue,c=rounded.coefficients,p=rounded.exponent+1,pp=p+(precision||0);return c.length<pp&&(c=c.concat(zeros(pp-c.length))),p<0&&(c=zeros(1-p).concat(c),p=1),p<c.length&&c.splice(p,0,0===p?"0.":"."),rounded.sign+c.join("")}function toExponential(value,precision){if(isNaN(value)||!isFinite(value))return String(value);var split=splitNumber(value),rounded=precision?roundDigits(split,precision):split,c=rounded.coefficients,e=rounded.exponent;c.length<precision&&(c=c.concat(zeros(precision-c.length)));var first=c.shift();return rounded.sign+first+(c.length>0?"."+c.join(""):"")+"e"+(e>=0?"+":"")+e}function roundDigits(split,precision){for(var rounded={sign:split.sign,coefficients:split.coefficients,exponent:split.exponent},c=rounded.coefficients;precision<=0;)c.unshift(0),rounded.exponent++,precision++;if(c.length>precision&&c.splice(precision,c.length-precision)[0]>=5){var i=precision-1;for(c[i]++;10===c[i];)c.pop(),0===i&&(c.unshift(0),rounded.exponent++,i++),c[--i]++}return rounded}function zeros(length){for(var arr=[],i=0;i<length;i++)arr.push(0);return arr}function digits(value){return value.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var DBL_EPSILON=Number.EPSILON||2220446049250313e-31;function nearlyEqual(x,y,epsilon){if(null==epsilon)return x===y;if(x===y)return!0;if(isNaN(x)||isNaN(y))return!1;if(isFinite(x)&&isFinite(y)){var diff=Math.abs(x-y);return diff<=DBL_EPSILON||diff<=Math.max(Math.abs(x),Math.abs(y))*epsilon}return!1}var acosh=Math.acosh||function(x){return Math.log(Math.sqrt(x*x-1)+x)},asinh=Math.asinh||function(x){return Math.log(Math.sqrt(x*x+1)+x)},atanh=Math.atanh||function(x){return Math.log((1+x)/(1-x))/2},cosh=Math.cosh||function(x){return(Math.exp(x)+Math.exp(-x))/2},sinh=Math.sinh||function(x){return(Math.exp(x)-Math.exp(-x))/2},tanh=Math.tanh||function(x){var e=Math.exp(2*x);return(e-1)/(e+1)};function copysign(x,y){return(x>0||!(x<0)&&1/x==1/0)^(y>0||!(y<0)&&1/y==1/0)?-x:x}function _toNumberOrThrow(value,onError){return(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.hj)(value)?value:(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.l9)(value)?value.toNumber():void onError()}function _toNumberOrDefault(value,defaultValue){return(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.hj)(value)?value:(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.l9)(value)?value.toNumber():defaultValue}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/object.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J5:function(){return deepStrictEqual},Vo:function(){return lazy},W6:function(){return pickShallow},Xc:function(){return mapObject},Yo:function(){return isLegacyFactory},ZB:function(){return deepExtend},d9:function(){return clone},l7:function(){return extend},nr:function(){return hasOwnProperty},oO:function(){return deepFlatten}});var _is_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js");function clone(x){var type=typeof x;if("number"===type||"string"===type||"boolean"===type||null==x)return x;if("function"==typeof x.clone)return x.clone();if(Array.isArray(x))return x.map((function(value){return clone(value)}));if(x instanceof Date)return new Date(x.valueOf());if((0,_is_js__WEBPACK_IMPORTED_MODULE_0__.l9)(x))return x;if((0,_is_js__WEBPACK_IMPORTED_MODULE_0__.Kn)(x))return mapObject(x,clone);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(x,")"))}function mapObject(object,callback){var clone={};for(var key in object)hasOwnProperty(object,key)&&(clone[key]=callback(object[key]));return clone}function extend(a,b){for(var prop in b)hasOwnProperty(b,prop)&&(a[prop]=b[prop]);return a}function deepExtend(a,b){if(Array.isArray(b))throw new TypeError("Arrays are not supported by deepExtend");for(var prop in b)if(hasOwnProperty(b,prop)&&!(prop in Object.prototype)&&!(prop in Function.prototype))if(b[prop]&&b[prop].constructor===Object)void 0===a[prop]&&(a[prop]={}),a[prop]&&a[prop].constructor===Object?deepExtend(a[prop],b[prop]):a[prop]=b[prop];else{if(Array.isArray(b[prop]))throw new TypeError("Arrays are not supported by deepExtend");a[prop]=b[prop]}return a}function deepStrictEqual(a,b){var prop,i,len;if(Array.isArray(a)){if(!Array.isArray(b))return!1;if(a.length!==b.length)return!1;for(i=0,len=a.length;i<len;i++)if(!deepStrictEqual(a[i],b[i]))return!1;return!0}if("function"==typeof a)return a===b;if(a instanceof Object){if(Array.isArray(b)||!(b instanceof Object))return!1;for(prop in a)if(!(prop in b)||!deepStrictEqual(a[prop],b[prop]))return!1;for(prop in b)if(!(prop in a))return!1;return!0}return a===b}function deepFlatten(nestedObject){var flattenedObject={};return _deepFlatten(nestedObject,flattenedObject),flattenedObject}function _deepFlatten(nestedObject,flattenedObject){for(var prop in nestedObject)if(hasOwnProperty(nestedObject,prop)){var value=nestedObject[prop];"object"==typeof value&&null!==value?_deepFlatten(value,flattenedObject):flattenedObject[prop]=value}}function lazy(object,prop,valueResolver){var _value,_uninitialized=!0;Object.defineProperty(object,prop,{get:function get(){return _uninitialized&&(_value=valueResolver(),_uninitialized=!1),_value},set:function set(value){_value=value,_uninitialized=!1},configurable:!0,enumerable:!0})}function hasOwnProperty(object,property){return object&&Object.hasOwnProperty.call(object,property)}function isLegacyFactory(object){return object&&"function"==typeof object.factory}function pickShallow(object,properties){for(var copy={},i=0;i<properties.length;i++){var key=properties[i],value=object[key];void 0!==value&&(copy[key]=value)}return copy}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/print.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return printTemplate}});var printTemplate=/\$([\w.]+)/g},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/product.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function product(i,n){if(n<i)return 1;if(n===i)return n;var half=n+i>>1;return product(i,half)*product(half+1,n)}__webpack_require__.d(__webpack_exports__,{O:function(){return product}})},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/string.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{cd:function(){return compareText},pn:function(){return endsWith},YU:function(){return string_escape},WU:function(){return string_format},Pz:function(){return stringify}});var is=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/is.js"),number=__webpack_require__("./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/number.js");function formatBigNumberToBase(n,base,size){var big2=new(0,n.constructor)(2),suffix="";if(size){if(size<1)throw new Error("size must be in greater than 0");if(!(0,number.U)(size))throw new Error("size must be an integer");if(n.greaterThan(big2.pow(size-1).sub(1))||n.lessThan(big2.pow(size-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(size-1,", 2^").concat(size-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(big2.pow(size))),suffix="i".concat(size)}switch(base){case 2:return"".concat(n.toBinary()).concat(suffix);case 8:return"".concat(n.toOctal()).concat(suffix);case 16:return"".concat(n.toHexadecimal()).concat(suffix);default:throw new Error("Base ".concat(base," not supported "))}}function format(value,options){if("function"==typeof options)return options(value);if(!value.isFinite())return value.isNaN()?"NaN":value.gt(0)?"Infinity":"-Infinity";var{notation:notation,precision:precision,wordSize:wordSize}=(0,number.uR)(options);switch(notation){case"fixed":return function toFixed(value,precision){return value.toFixed(precision)}(value,precision);case"exponential":return toExponential(value,precision);case"engineering":return function toEngineering(value,precision){var e=value.e,newExp=e%3==0?e:e<0?e-3-e%3:e-e%3,valueWithoutExp=value.mul(Math.pow(10,-newExp)),valueStr=valueWithoutExp.toPrecision(precision);if(valueStr.includes("e")){valueStr=new(0,value.constructor)(valueStr).toFixed()}return valueStr+"e"+(e>=0?"+":"")+newExp.toString()}(value,precision);case"bin":return formatBigNumberToBase(value,2,wordSize);case"oct":return formatBigNumberToBase(value,8,wordSize);case"hex":return formatBigNumberToBase(value,16,wordSize);case"auto":var lowerExp=_toNumberOrDefault(null==options?void 0:options.lowerExp,-3),upperExp=_toNumberOrDefault(null==options?void 0:options.upperExp,5);if(value.isZero())return"0";var rounded=value.toSignificantDigits(precision),exp=rounded.e;return(exp>=lowerExp&&exp<upperExp?rounded.toFixed():toExponential(value,precision)).replace(/((\.\d*?)(0+))($|e)/,(function(){var digits=arguments[2],e=arguments[4];return"."!==digits?digits+e:e}));default:throw new Error('Unknown notation "'+notation+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function toExponential(value,precision){return void 0!==precision?value.toExponential(precision-1):value.toExponential()}function _toNumberOrDefault(value,defaultValue){return(0,is.hj)(value)?value:(0,is.l9)(value)?value.toNumber():defaultValue}function endsWith(text,search){var start=text.length-search.length,end=text.length;return text.substring(start,end)===search}function string_format(value,options){var result=function _format(value,options){if("number"==typeof value)return(0,number.WU)(value,options);if((0,is.l9)(value))return format(value,options);if(function looksLikeFraction(value){return value&&"object"==typeof value&&"number"==typeof value.s&&"number"==typeof value.n&&"number"==typeof value.d||!1}(value))return options&&"decimal"===options.fraction?value.toString():value.s*value.n+"/"+value.d;if(Array.isArray(value))return formatArray(value,options);if((0,is.HD)(value))return stringify(value);if("function"==typeof value)return value.syntax?String(value.syntax):"function";if(value&&"object"==typeof value){return"function"==typeof value.format?value.format(options):value&&value.toString(options)!=={}.toString()?value.toString(options):"{"+Object.keys(value).map((key=>stringify(key)+": "+string_format(value[key],options))).join(", ")+"}"}return String(value)}(value,options);return options&&"object"==typeof options&&"truncate"in options&&result.length>options.truncate?result.substring(0,options.truncate-3)+"...":result}function stringify(value){for(var text=String(value),escaped="",i=0;i<text.length;){var c=text.charAt(i);escaped+=c in controlCharacters?controlCharacters[c]:c,i++}return'"'+escaped+'"'}var controlCharacters={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function string_escape(value){var text=String(value);return text=text.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function formatArray(array,options){if(Array.isArray(array)){for(var str="[",len=array.length,i=0;i<len;i++)0!==i&&(str+=", "),str+=formatArray(array[i],options);return str+="]"}return string_format(array,options)}function compareText(x,y){if(!(0,is.HD)(x))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,is.kM)(x)+", index: 0)");if(!(0,is.HD)(y))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,is.kM)(y)+", index: 1)");return x===y?0:x>y?1:-1}},"./packages/subsurface-viewer/node_modules/mathjs/lib/esm/utils/switch.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function _switch(mat){var i,j,I=mat.length,J=mat[0].length,ret=[];for(j=0;j<J;j++){var tmp=[];for(i=0;i<I;i++)tmp.push(mat[i][j]);ret.push(tmp)}return ret}__webpack_require__.d(__webpack_exports__,{c:function(){return _switch}})}}]);