"use strict";(self.webpackChunk_webviz_subsurface_components=self.webpackChunk_webviz_subsurface_components||[]).push([[1418],{"./packages/subsurface-viewer/src/storybook/layers/MapLayerColormap.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BreakpointColorMap:function(){return BreakpointColorMap},ColorMapRange:function(){return ColorMapRange},ColorSelector:function(){return ColorSelector},ConstantColor:function(){return ConstantColor},DefaultColorScale:function(){return DefaultColorScale},GradientFunctionColorMap:function(){return GradientFunctionColorMap},StepFunctionColorMap:function(){return StepFunctionColorMap},__namedExportsOrder:function(){return __namedExportsOrder}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_mui_material__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/Slider/Slider.js"),_mui_material_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),_deck_gl_core_typed__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/views/view.js"),_emerson_eps_color_tables__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@emerson-eps/color-tables/dist/index.js"),_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/src/SubsurfaceViewer.tsx"),_sharedSettings__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/src/storybook/sharedSettings.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const stories={component:_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_2__.Z,title:"SubsurfaceViewer / Map Layer / Colormap",args:{triggerHome:0}};__webpack_exports__.default=stories;const classes={main:"MapLayer3dPng-main",legend:"MapLayer3dPng-legend"},Root=(0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_4__.ZP)("div")({[`& .${classes.main}`]:{height:500,border:"1px solid black",position:"relative"},[`& .${classes.legend}`]:{width:100,position:"absolute",top:"0",right:"0"}}),valueRange=[-3071,41048];const ConstantColor={args:{id:"map",layers:[_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.QH,{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.e1,colorMapFunction:[0,255,0]},_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.D$],bounds:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.Jl,views:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.Pl},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.R4.docs,description:{story:'Example using the property "colorMapFunction" to color the surface in one color only'}}}},GradientFunctionColorMap={args:{id:"gradient-color-map",bounds:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.Jl,layers:[{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.vz,material:!1,colorMapFunction:function gradientColorMap(x){return[255-255*x,255-100*x,255*x]}}]},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.R4.docs,description:{story:"Example using gradient color mapping function."}}}},StepFunctionColorMap={args:{id:"nearest-color-map",bounds:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.Jl,layers:[{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.vz,material:!0,colorMapFunction:function nearestColorMap(x){return x>.5?[100,255,255]:x>.1?[255,100,255]:[255,255,100]}}]},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.R4.docs,description:{story:"Example using step color mapping function."}}}},DefaultColorScale={args:{id:"default-color-scale",bounds:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.Jl,layers:[{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.vz,material:!1}]},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.R4.docs,description:{story:"Default color scale."}}}},BreakpointColorMapComponent=props=>{const[breakpoint,setBreakpoint]=react__WEBPACK_IMPORTED_MODULE_0__.useState(.5),colorMap=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((value=>function createColorMap(breakpoint){return value=>function breakpointColorMap(x,breakpoint){return x>breakpoint?[0,50,200]:[255,255,0]}(value,breakpoint)}(breakpoint)(value)),[breakpoint]),layer={...props?.layers?.[0],colorMapFunction:colorMap},propsWithLayers={...props,layers:[layer]},handleChange=react__WEBPACK_IMPORTED_MODULE_0__.useCallback(((_event,value)=>{setBreakpoint(value/100)}),[]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Root,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classes.main},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_2__.Z,propsWithLayers),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classes.legend},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_emerson_eps_color_tables__WEBPACK_IMPORTED_MODULE_1__.sG,{min:valueRange[0],max:valueRange[1],colorMapFunction:colorMap}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__.ZP,{min:0,max:100,defaultValue:50,step:1,onChangeCommitted:handleChange}))},BreakpointColorMap={args:{id:"breakpoint-color-map",bounds:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.Jl,layers:[{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.vz,gridLines:!1,material:!0}]},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.R4.docs,description:{story:"Example using a color scale with a breakpoint."}}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(BreakpointColorMapComponent,args)},ColorMapRangeComponent=props=>{const[colorMapUpper,setColorMapUpper]=react__WEBPACK_IMPORTED_MODULE_0__.useState(41048),layer={...props?.layers?.[0],colorMapRange:[-3071,colorMapUpper]},propsWithLayers={...props,layers:[layer]},handleChange=react__WEBPACK_IMPORTED_MODULE_0__.useCallback(((_event,value)=>{setColorMapUpper(value)}),[]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Root,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classes.main},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_2__.Z,propsWithLayers)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__.ZP,{min:1e4,max:41048,defaultValue:41048,step:1e3,onChange:handleChange}))},ColorMapRange={args:{id:"breakpoint-color-map",bounds:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.Jl,layers:[{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.vz,colorMapName:"Seismic",colorMapClampColor:!1,gridLines:!1,material:!0}]},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.R4.docs,description:{story:'Example changing the "ColorMapRange" property using a slider.'}}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(ColorMapRangeComponent,args)},MapLayerColorSelectorTemplate=props=>{const[colorName,setColorName]=react__WEBPACK_IMPORTED_MODULE_0__.useState("Rainbow"),[colorRange,setRange]=react__WEBPACK_IMPORTED_MODULE_0__.useState(),[isAuto,setAuto]=react__WEBPACK_IMPORTED_MODULE_0__.useState(),[breakPoints,setBreakPoint]=react__WEBPACK_IMPORTED_MODULE_0__.useState([]),[isLog,setIsLog]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),[isNearest,setIsNearest]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),userDefinedBreakPoint=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((data=>{data&&setBreakPoint(data.breakpoint)}),[]),colorNameFromSelector=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((data=>{setColorName(data)}),[]),userDefinedRange=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((data=>{data.range&&setRange(data.range),setAuto(data.isAuto)}),[]),getInterpolateMethod=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((data=>{setIsLog(data.isLog),setIsNearest(data.isNearest)}),[]),colorMapFunc=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((()=>(0,_emerson_eps_color_tables__WEBPACK_IMPORTED_MODULE_1__.rX)(colorName,isLog,isNearest,breakPoints)),[colorName,isLog,isNearest,breakPoints]),updatedLayerData=[{...props.layers?.[0],colorMapName:colorName,colorMapRange:colorRange&&0==isAuto?colorRange:[100,1e3],colorMapFunction:colorMapFunc()}];return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_2__.Z,_extends({},props,{layers:updatedLayerData}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deck_gl_core_typed__WEBPACK_IMPORTED_MODULE_6__.Z,{id:"view_1"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{marginTop:50}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_emerson_eps_color_tables__WEBPACK_IMPORTED_MODULE_1__.n6,{min:100,max:1e3,colorNameFromSelector:colorNameFromSelector,getColorRange:userDefinedRange,getInterpolateMethod:getInterpolateMethod,getBreakpointValue:userDefinedBreakPoint,horizontal:!0,numberOfTicks:2}))))},ColorSelector={args:{id:"map_layer_color_selector",bounds:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.Jl,layers:[{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.vz,material:!1}],views:{layout:[1,1],showLabel:!0,viewports:[{id:"view_1",zoom:-4}]}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(MapLayerColorSelectorTemplate,args)};ConstantColor.parameters={...ConstantColor.parameters,docs:{...ConstantColor.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "map",\n    layers: [huginAxes3DLayer, {\n      ...hugin25mKhNetmapMapLayerPng,\n      colorMapFunction: [0, 255, 0] // Use constant color instead of function\n    }, northArrowLayer],\n    bounds: hugin2DBounds,\n    views: default3DViews\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: \'Example using the property "colorMapFunction" to color the surface in one color only\'\n      }\n    }\n  }\n}',...ConstantColor.parameters?.docs?.source}}},GradientFunctionColorMap.parameters={...GradientFunctionColorMap.parameters,docs:{...GradientFunctionColorMap.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "gradient-color-map",\n    bounds: hugin2DBounds,\n    layers: [{\n      ...hugin25mKhNetmapMapLayer,\n      material: false,\n      colorMapFunction: gradientColorMap\n    }]\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: "Example using gradient color mapping function."\n      }\n    }\n  }\n}',...GradientFunctionColorMap.parameters?.docs?.source}}},StepFunctionColorMap.parameters={...StepFunctionColorMap.parameters,docs:{...StepFunctionColorMap.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "nearest-color-map",\n    bounds: hugin2DBounds,\n    layers: [{\n      ...hugin25mKhNetmapMapLayer,\n      material: true,\n      colorMapFunction: nearestColorMap\n    }]\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: "Example using step color mapping function."\n      }\n    }\n  }\n}',...StepFunctionColorMap.parameters?.docs?.source}}},DefaultColorScale.parameters={...DefaultColorScale.parameters,docs:{...DefaultColorScale.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "default-color-scale",\n    bounds: hugin2DBounds,\n    layers: [{\n      ...hugin25mKhNetmapMapLayer,\n      material: false\n    }]\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: "Default color scale."\n      }\n    }\n  }\n}',...DefaultColorScale.parameters?.docs?.source}}},BreakpointColorMap.parameters={...BreakpointColorMap.parameters,docs:{...BreakpointColorMap.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "breakpoint-color-map",\n    bounds: hugin2DBounds,\n    layers: [{\n      ...hugin25mKhNetmapMapLayer,\n      gridLines: false,\n      material: true\n    }]\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: "Example using a color scale with a breakpoint."\n      }\n    }\n  },\n  render: args => <BreakpointColorMapComponent {...args} />\n}',...BreakpointColorMap.parameters?.docs?.source}}},ColorMapRange.parameters={...ColorMapRange.parameters,docs:{...ColorMapRange.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "breakpoint-color-map",\n    bounds: hugin2DBounds,\n    layers: [{\n      ...hugin25mKhNetmapMapLayer,\n      colorMapName: "Seismic",\n      colorMapClampColor: false,\n      gridLines: false,\n      material: true\n    }]\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: \'Example changing the "ColorMapRange" property using a slider.\'\n      }\n    }\n  },\n  render: args => <ColorMapRangeComponent {...args} />\n}',...ColorMapRange.parameters?.docs?.source}}},ColorSelector.parameters={...ColorSelector.parameters,docs:{...ColorSelector.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "map_layer_color_selector",\n    bounds: hugin2DBounds,\n    layers: [{\n      ...hugin25mKhNetmapMapLayer,\n      material: false\n    }],\n    views: {\n      layout: [1, 1],\n      showLabel: true,\n      viewports: [{\n        id: "view_1",\n        zoom: -4\n      }]\n    }\n  },\n  render: args => <MapLayerColorSelectorTemplate {...args} />\n}',...ColorSelector.parameters?.docs?.source}}};const __namedExportsOrder=["ConstantColor","GradientFunctionColorMap","StepFunctionColorMap","DefaultColorScale","BreakpointColorMap","ColorMapRange","ColorSelector"]}}]);