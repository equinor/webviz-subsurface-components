"use strict";(self.webpackChunk_webviz_subsurface_components=self.webpackChunk_webviz_subsurface_components||[]).push([[3065],{"./packages/group-tree-plot/src/storybook/GroupTreePlot.interactive.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{InteractiveWithTreeTypeSwitch:function(){return InteractiveWithTreeTypeSwitch},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return GroupTreePlot_interactive_stories}});var react=__webpack_require__("./node_modules/react/index.js"),GroupTreePlot=__webpack_require__("./packages/group-tree-plot/src/GroupTreePlot.tsx");const allDates=["2020-01-01","2020-04-01","2020-07-01","2020-10-01","2021-01-01","2021-04-01","2021-07-01","2021-10-01"],edgeMetadataList=[{key:"waterrate",label:"Water Rate",unit:"m3/day"},{key:"oilrate",label:"Oil Rate",unit:"m3/day"},{key:"gasrate",label:"Gas Rate",unit:"m3/day"}],nodeMetadataList=[{key:"pressure",label:"Pressure",unit:"bar"},{key:"bhp",label:"BHP",unit:"bar"}],treeTypes=[{name:"Single Tree Definition",description:"1 tree structure valid for all 8 dates (data changes, structure stays the same)",datedTrees:[{dates:allDates,tree:{node_label:"FIELD",node_type:"Group",node_data:{pressure:[20,22,24,26,28,30,32,34]},edge_label:"",edge_data:{waterrate:[0,0,0,0,0,0,0,0],oilrate:[0,0,0,0,0,0,0,0],gasrate:[0,0,0,0,0,0,0,0]},children:[{node_label:"PLATFORM_A",node_type:"Group",node_data:{pressure:[18,20,22,24,26,28,30,32]},edge_label:"Pipeline_1",edge_data:{waterrate:[50,52,110,115,120,125,130,135],oilrate:[250,260,540,560,580,600,620,640],gasrate:[500,525,1100,1150,1200,1250,1300,1350]},children:[{node_label:"WELL_A1",node_type:"Well",node_data:{pressure:[16,18,20,22,24,26,28,30],bhp:[150,155,160,165,170,175,180,185]},edge_label:"Flowline_A1",edge_data:{waterrate:[50,52,54,56,58,60,62,64],oilrate:[250,260,270,280,290,300,310,320],gasrate:[500,525,550,575,600,625,650,675]}},{node_label:"WELL_A2",node_type:"Well",node_data:{pressure:[0,0,20,22,24,26,28,30],bhp:[0,0,158,163,168,173,178,183]},edge_label:"Flowline_A2",edge_data:{waterrate:[0,0,56,59,62,65,68,71],oilrate:[0,0,270,280,290,300,310,320],gasrate:[0,0,550,575,600,625,650,675]}}]},{node_label:"PLATFORM_B",node_type:"Group",node_data:{pressure:[0,0,0,0,26,28,30,32]},edge_label:"Pipeline_2",edge_data:{waterrate:[0,0,0,0,100,105,110,115],oilrate:[0,0,0,0,480,500,520,540],gasrate:[0,0,0,0,1e3,1050,1100,1150]},children:[{node_label:"WELL_B1",node_type:"Well",node_data:{pressure:[0,0,0,0,24,26,28,30],bhp:[0,0,0,0,165,170,175,180]},edge_label:"Flowline_B1",edge_data:{waterrate:[0,0,0,0,100,105,110,115],oilrate:[0,0,0,0,480,500,520,540],gasrate:[0,0,0,0,1e3,1050,1100,1150]}}]}]}}]},{name:"Multiple Tree Definitions",description:"4 tree structures, each valid for 2 dates (new wells/platforms appear over time)",datedTrees:[{dates:["2020-01-01","2020-04-01"],tree:{node_label:"FIELD",node_type:"Group",node_data:{pressure:[20,22]},edge_label:"",edge_data:{waterrate:[0,0],oilrate:[0,0],gasrate:[0,0]},children:[{node_label:"PLATFORM_A",node_type:"Group",node_data:{pressure:[18,20]},edge_label:"Pipeline_1",edge_data:{waterrate:[50,52],oilrate:[250,260],gasrate:[500,525]},children:[{node_label:"WELL_A1",node_type:"Well",node_data:{pressure:[16,18],bhp:[150,155]},edge_label:"Flowline_A1",edge_data:{waterrate:[50,52],oilrate:[250,260],gasrate:[500,525]}}]}]}},{dates:["2020-07-01","2020-10-01"],tree:{node_label:"FIELD",node_type:"Group",node_data:{pressure:[24,26]},edge_label:"",edge_data:{waterrate:[0,0],oilrate:[0,0],gasrate:[0,0]},children:[{node_label:"PLATFORM_A",node_type:"Group",node_data:{pressure:[22,24]},edge_label:"Pipeline_1",edge_data:{waterrate:[110,115],oilrate:[540,560],gasrate:[1100,1150]},children:[{node_label:"WELL_A1",node_type:"Well",node_data:{pressure:[20,22],bhp:[160,165]},edge_label:"Flowline_A1",edge_data:{waterrate:[54,56],oilrate:[270,280],gasrate:[550,575]}},{node_label:"WELL_A2",node_type:"Well",node_data:{pressure:[20,22],bhp:[158,163]},edge_label:"Flowline_A2",edge_data:{waterrate:[56,59],oilrate:[270,280],gasrate:[550,575]}}]}]}},{dates:["2021-01-01","2021-04-01"],tree:{node_label:"FIELD",node_type:"Group",node_data:{pressure:[28,30]},edge_label:"",edge_data:{waterrate:[0,0],oilrate:[0,0],gasrate:[0,0]},children:[{node_label:"PLATFORM_A",node_type:"Group",node_data:{pressure:[26,28]},edge_label:"Pipeline_1",edge_data:{waterrate:[120,125],oilrate:[580,600],gasrate:[1200,1250]},children:[{node_label:"WELL_A1",node_type:"Well",node_data:{pressure:[24,26],bhp:[170,175]},edge_label:"Flowline_A1",edge_data:{waterrate:[58,60],oilrate:[290,300],gasrate:[600,625]}},{node_label:"WELL_A2",node_type:"Well",node_data:{pressure:[24,26],bhp:[168,173]},edge_label:"Flowline_A2",edge_data:{waterrate:[62,65],oilrate:[290,300],gasrate:[600,625]}}]},{node_label:"PLATFORM_B",node_type:"Group",node_data:{pressure:[26,28]},edge_label:"Pipeline_2",edge_data:{waterrate:[100,105],oilrate:[480,500],gasrate:[1e3,1050]},children:[{node_label:"WELL_B1",node_type:"Well",node_data:{pressure:[24,26],bhp:[165,170]},edge_label:"Flowline_B1",edge_data:{waterrate:[100,105],oilrate:[480,500],gasrate:[1e3,1050]}}]}]}},{dates:["2021-07-01","2021-10-01"],tree:{node_label:"FIELD",node_type:"Group",node_data:{pressure:[32,34]},edge_label:"",edge_data:{waterrate:[0,0],oilrate:[0,0],gasrate:[0,0]},children:[{node_label:"PLATFORM_A",node_type:"Group",node_data:{pressure:[30,32]},edge_label:"Pipeline_1",edge_data:{waterrate:[130,135],oilrate:[620,640],gasrate:[1300,1350]},children:[{node_label:"WELL_A1",node_type:"Well",node_data:{pressure:[28,30],bhp:[180,185]},edge_label:"Flowline_A1",edge_data:{waterrate:[62,64],oilrate:[310,320],gasrate:[650,675]}},{node_label:"WELL_A2",node_type:"Well",node_data:{pressure:[28,30],bhp:[178,183]},edge_label:"Flowline_A2",edge_data:{waterrate:[68,71],oilrate:[310,320],gasrate:[650,675]}}]},{node_label:"PLATFORM_B",node_type:"Group",node_data:{pressure:[30,32]},edge_label:"Pipeline_2",edge_data:{waterrate:[110,115],oilrate:[520,540],gasrate:[1100,1150]},children:[{node_label:"WELL_B1",node_type:"Well",node_data:{pressure:[28,30],bhp:[175,180]},edge_label:"Flowline_B1",edge_data:{waterrate:[110,115],oilrate:[520,540],gasrate:[1100,1150]}}]}]}}]}],allTestDates=allDates;var GroupTreePlot_interactive_stories={component:GroupTreePlot.H,title:"GroupTreePlot/Interactive Demo",tags:["autodocs"]};const Template=()=>{const[treeTypeIndex,setTreeTypeIndex]=react.useState(0),[dateIndex,setDateIndex]=react.useState(0),[selectedEdgeKey,setSelectedEdgeKey]=react.useState(edgeMetadataList[0]?.key||""),[selectedNodeKey,setSelectedNodeKey]=react.useState(nodeMetadataList[0]?.key||""),currentTreeType=treeTypes[treeTypeIndex],currentDate=allTestDates[dateIndex]||"";return react.createElement(react.Fragment,null,react.createElement("div",{style:{padding:"20px"}},react.createElement("div",{style:{marginBottom:"20px",display:"flex",flexDirection:"column",gap:"15px"}},react.createElement("div",null,react.createElement("label",{htmlFor:"tree-type-select",style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"Tree Type:"),react.createElement("select",{id:"tree-type-select",value:treeTypeIndex,onChange:e=>setTreeTypeIndex(parseInt(e.target.value)),style:{padding:"8px",fontSize:"14px",borderRadius:"4px",border:"1px solid #ccc",width:"400px"}},treeTypes.map(((type,index)=>react.createElement("option",{key:index,value:index},type.name)))),react.createElement("div",{style:{fontSize:"12px",color:"#666",marginTop:"5px"}},currentTreeType.description)),react.createElement("div",null,react.createElement("label",{htmlFor:"date-slider",style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"Selected Date: ",currentDate),react.createElement("input",{id:"date-slider",type:"range",min:"0",max:allTestDates.length-1,value:dateIndex,onChange:e=>setDateIndex(parseInt(e.target.value)),style:{width:"100%",maxWidth:"600px"}}),react.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#666",maxWidth:"600px"}},react.createElement("span",null,allTestDates[0]),react.createElement("span",null,allTestDates[allTestDates.length-1]))),react.createElement("div",null,react.createElement("label",{htmlFor:"edge-key-select",style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"Edge Metric:"),react.createElement("select",{id:"edge-key-select",value:selectedEdgeKey,onChange:e=>setSelectedEdgeKey(e.target.value),style:{padding:"8px",fontSize:"14px",borderRadius:"4px",border:"1px solid #ccc",width:"300px"}},edgeMetadataList.map((meta=>react.createElement("option",{key:meta.key,value:meta.key},meta.label," (",meta.unit,")"))))),react.createElement("div",null,react.createElement("label",{htmlFor:"node-key-select",style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"Node Metric:"),react.createElement("select",{id:"node-key-select",value:selectedNodeKey,onChange:e=>setSelectedNodeKey(e.target.value),style:{padding:"8px",fontSize:"14px",borderRadius:"4px",border:"1px solid #ccc",width:"300px"}},nodeMetadataList.map((meta=>react.createElement("option",{key:meta.key,value:meta.key},meta.label," (",meta.unit,")")))))),react.createElement("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"10px",height:"700px",width:"100%"}},react.createElement(GroupTreePlot.H,{id:"interactive-grouptreeplot",datedTrees:currentTreeType.datedTrees,edgeMetadataList:edgeMetadataList,nodeMetadataList:nodeMetadataList,selectedDateTime:currentDate,selectedEdgeKey:selectedEdgeKey,selectedNodeKey:selectedNodeKey}))))},InteractiveWithTreeTypeSwitch={args:{},render:()=>react.createElement(Template,null)},__namedExportsOrder=["InteractiveWithTreeTypeSwitch"];InteractiveWithTreeTypeSwitch.parameters={...InteractiveWithTreeTypeSwitch.parameters,docs:{...InteractiveWithTreeTypeSwitch.parameters?.docs,source:{originalSource:"{\n  args: {},\n  render: () => <Template />\n}",...InteractiveWithTreeTypeSwitch.parameters?.docs?.source},description:{story:"Interactive storybook example with time slider and tree type dropdown.\n\nThis story demonstrates the functionality for providing new tree data:\n- **Single Tree Definition**: One tree valid for all dates (static structure with changing data)\n- **Multiple Tree Definitions**: Different tree structures over time (wells get added)\n\n**Test functionality:**\n1. Move the slider to a later date (e.g., 2021-07-01)\n2. Select new edge and node metrics\n3. Switch tree types\n4. Verify the tree still shows the same date, edge and node selected after switching",...InteractiveWithTreeTypeSwitch.parameters?.docs?.description}}}}}]);