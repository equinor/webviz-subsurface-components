"use strict";(self.webpackChunk_webviz_subsurface_components=self.webpackChunk_webviz_subsurface_components||[]).push([[2578],{"./packages/subsurface-viewer/src/storybook/examples/CameraControlExamples.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AddLayer:function(){return AddLayer},AutoZoomToBoxStory:function(){return AutoZoomToBoxStory},DisplayCameraState:function(){return DisplayCameraState},ResetCameraStory:function(){return ResetCameraStory},ScaleY:function(){return ScaleY},ScaleZ:function(){return ScaleZ},SyncedMultiView:function(){return SyncedMultiView},SyncedSubsurfaceViewers:function(){return SyncedSubsurfaceViewers},__namedExportsOrder:function(){return __namedExportsOrder}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_deck_gl_mesh_layers_typed__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/esm/simple-mesh-layer/simple-mesh-layer.js"),_luma_gl_engine__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometries/sphere-geometry.js"),_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mui/material/Box/Box.js"),_mui_material_Slider__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@mui/material/Slider/Slider.js"),_mui_material_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/subsurface-viewer/src/SubsurfaceViewer.tsx"),_layers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/subsurface-viewer/src/layers/index.ts"),_sharedSettings__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/subsurface-viewer/src/storybook/sharedSettings.tsx"),_deck_gl_layers_typed__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/geojson-layer/geojson-layer.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const stories={component:_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.Z,title:"SubsurfaceViewer/Examples/Camera",args:{triggerHome:0}};__webpack_exports__.default=stories;const classes_mainWithButton="mian-with-button",Root=(0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_4__.ZP)("div")({..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.HV,[`& .${classes_mainWithButton}`]:{height:500,border:"1px solid black",background:"azure",position:"relative"}}),SQUARE={type:"Feature",geometry:{type:"Polygon",coordinates:[[[-5,-5,0],[-5,5,0],[5,5,0],[5,-5,0],[-5,-5,0]]]}},DisplayCameraPositionComponent=args=>{const[cameraState,setCameraState]=react__WEBPACK_IMPORTED_MODULE_0__.useState(args.cameraPosition),getCameraPosition=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((input=>{setCameraState(input)}),[]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.Z,_extends({},args,{cameraPosition:args.cameraPosition,getCameraPosition:getCameraPosition})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{position:"absolute",marginLeft:200}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,"zoom: ",cameraState?.zoom),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,"rotationX: ",cameraState?.rotationX),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,"rotationOrbit: ",cameraState?.rotationOrbit),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,"targetX: ",cameraState?.target[0]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,"targetY: ",cameraState?.target[1])))},cameraPosition={target:[435800,6478e3,-2e3],zoom:-3.5,rotationX:90,rotationOrbit:0},DisplayCameraState={args:{id:"volve-wells",bounds:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.z,layers:[_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.ex],cameraPosition:cameraPosition},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(DisplayCameraPositionComponent,args)},SyncedMultiViewComponent=args=>{const subsurfaceViewerArgs={id:"view_state_synchronization",layers:[_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.vz,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.as,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.ex],views:{layout:[2,2],viewports:[{id:"view_1",layerIds:[_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.as.id],show3D:args.show3d,isSync:args.sync.includes("view_1")},{id:"view_2",layerIds:[_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.vz.id],show3D:args.show3d,isSync:args.sync.includes("view_2")},{id:"view_3",layerIds:[_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.ex.id],show3D:args.show3d,isSync:args.sync.includes("view_3")},{id:"view_4",layerIds:[_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.ex.id,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.as.id],show3D:args.show3d,isSync:args.sync.includes("view_4")}]}};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.Z,subsurfaceViewerArgs)},SyncedMultiView={args:{show3d:!1,sync:["view_1","view_2","view_3","view_4"]},argTypes:{sync:{options:["view_1","view_2","view_3","view_4"],control:"check"}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(SyncedMultiViewComponent,args)},SyncedCameraSettingsComponent=args=>{const[cameraPosition,setCameraPosition]=react__WEBPACK_IMPORTED_MODULE_0__.useState(args.cameraPosition),updateCamera=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((camera=>{args.syncViewers&&setCameraPosition(camera)}),[args.syncViewers]);react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{args.cameraPosition&&setCameraPosition({...args.cameraPosition})}),[args.cameraPosition]);const props={...args,cameraPosition:cameraPosition,getCameraPosition:updateCamera};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{height:"96vh",display:"grid",gridTemplateColumns:"1fr 1fr"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{position:"relative"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.Z,_extends({},props,{id:"left"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{position:"relative"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.Z,_extends({},props,{id:"right"}))))},SyncedSubsurfaceViewers={args:{syncViewers:!0,id:"volve-wells",bounds:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.z,layers:[_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.ex],cameraPosition:cameraPosition,views:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.zs},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(SyncedCameraSettingsComponent,args)},zoomBox3D=[-325,-450,-25,125,150,125],AutoZoomToBox=args=>{const[rotX,setRotX]=react__WEBPACK_IMPORTED_MODULE_0__.useState(0),[rotZ,setRotZ]=react__WEBPACK_IMPORTED_MODULE_0__.useState(0),cameraPosition={rotationX:rotX,rotationOrbit:rotZ,zoom:zoomBox3D,target:[]},props={...args,layers:[new _layers__WEBPACK_IMPORTED_MODULE_2__.AxesLayer({id:"axes",bounds:zoomBox3D,ZIncreasingDownwards:!1}),new _deck_gl_mesh_layers_typed__WEBPACK_IMPORTED_MODULE_5__.Z({id:"sphere",data:[{}],mesh:new _luma_gl_engine__WEBPACK_IMPORTED_MODULE_6__.Z({nlat:100,nlong:100,radius:30}),wireframe:!1,getPosition:[0,0,0],getColor:[255,255,255],material:!0})],cameraPosition:cameraPosition};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Root,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classes_mainWithButton},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.Z,props)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__.Z,{flexDirection:"column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",null,"Rotation X Axis "),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Slider__WEBPACK_IMPORTED_MODULE_8__.ZP,{defaultValue:50,valueLabelDisplay:"auto",onChange:(_event,value)=>{setRotX(2*(value/100-.5)*90)}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__.Z,{flexDirection:"column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",null,"Rotation Z Axis "),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Slider__WEBPACK_IMPORTED_MODULE_8__.ZP,{defaultValue:50,valueLabelDisplay:"auto",onChange:(_event,value)=>{setRotZ(2*(value/100-.5)*180)}})))},AutoZoomToBoxStory={args:{views:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.Pl},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.R4.docs,description:{story:""}}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(AutoZoomToBox,args)},ScaleZComponent=args=>{const[layers,setLayers]=react__WEBPACK_IMPORTED_MODULE_0__.useState([_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.QH,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.e1,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.D$]),props={...args,layers:layers};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Root,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classes_mainWithButton},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.Z,props)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:()=>{setLayers([_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.QH,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.e1,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.On,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.D$])}},"Add layer"))},ScaleZ={args:{id:"ScaleZ",layers:[_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.QH,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.e1,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.On,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.D$],bounds:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.z,views:{layout:[1,2],viewports:[{id:"view_1",layerIds:[_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.QH.id,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.e1.id,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.D$.id],show3D:!0,isSync:!0},{id:"view_2",layerIds:[_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.QH.id,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.On.id,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.D$.id],show3D:!0,isSync:!0}]}},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.R4.docs,description:{story:"Example scaling in z direction using arrow up/down buttons."}}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(ScaleZComponent,args)},ResetCameraPropertyDefaultCameraPosition={rotationOrbit:0,rotationX:45,target:[435775,6478650,-2750],zoom:-3.8},ResetCameraComponent=args=>{const[camera,setCamera]=react__WEBPACK_IMPORTED_MODULE_0__.useState((()=>args.cameraPosition??ResetCameraPropertyDefaultCameraPosition)),props={...args,cameraPosition:camera};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Root,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classes_mainWithButton},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.Z,props)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:()=>{setCamera({...camera,rotationOrbit:camera.rotationOrbit+5})}}," Change Camera "))},ResetCameraStory={args:{id:"ResetCameraProperty",layers:[_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.QH,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.e1,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.D$],bounds:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.z,cameraPosition:ResetCameraPropertyDefaultCameraPosition,views:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.Pl},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.R4.docs,description:{story:"Pressing the button 'Change Camera' does rotate it."}}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResetCameraComponent,args)},AddLayerComponent=args=>{const[layers,setLayers]=react__WEBPACK_IMPORTED_MODULE_0__.useState([_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.QH,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.e1,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.D$]),props={...args,layers:layers};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Root,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classes_mainWithButton},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.Z,props)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:()=>{setLayers([_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.e1,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.QH,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.On,_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.D$])}}," Add layer "))},AddLayer={args:{id:"map",cameraPosition:{rotationOrbit:45,rotationX:45,zoom:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.yP,target:[]},views:_sharedSettings__WEBPACK_IMPORTED_MODULE_3__.Pl},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.R4.docs,description:{story:"Example using button to add a layer."}}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(AddLayerComponent,args)},ScaleYComponent=({verticalScale:verticalScale})=>{const viewerProps={id:"ScaleY",bounds:[-10,-10,10,10],layers:[new _layers__WEBPACK_IMPORTED_MODULE_2__.Axes2DLayer({id:"axes",backgroundColor:[0,155,155]}),new _deck_gl_layers_typed__WEBPACK_IMPORTED_MODULE_9__.Z({..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.DW,getLineColor:[0,0,0],data:SQUARE})],views:{layout:[1,1],viewports:[{id:"section",verticalScale:verticalScale,zoom:2}]}};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SubsurfaceViewer__WEBPACK_IMPORTED_MODULE_1__.Z,viewerProps)},ScaleY={args:{verticalScale:1.5},argTypes:{verticalScale:{control:{type:"range",min:-1,max:10,step:.1}}},parameters:{docs:{..._sharedSettings__WEBPACK_IMPORTED_MODULE_3__.R4.docs,description:{story:"Vertical scaling example in Orthographic view."}}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(ScaleYComponent,args)};DisplayCameraState.parameters={...DisplayCameraState.parameters,docs:{...DisplayCameraState.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "volve-wells",\n    bounds: volveWellsBounds,\n    layers: [volveWellsLayer],\n    cameraPosition\n  },\n  render: args => <DisplayCameraPositionComponent {...args} />\n}',...DisplayCameraState.parameters?.docs?.source}}},SyncedMultiView.parameters={...SyncedMultiView.parameters,docs:{...SyncedMultiView.parameters?.docs,source:{originalSource:'{\n  args: {\n    show3d: false,\n    sync: ["view_1", "view_2", "view_3", "view_4"]\n  },\n  argTypes: {\n    sync: {\n      options: ["view_1", "view_2", "view_3", "view_4"],\n      control: "check"\n    }\n  },\n  render: args => <SyncedMultiViewComponent {...args} />\n}',...SyncedMultiView.parameters?.docs?.source}}},SyncedSubsurfaceViewers.parameters={...SyncedSubsurfaceViewers.parameters,docs:{...SyncedSubsurfaceViewers.parameters?.docs,source:{originalSource:'{\n  args: {\n    syncViewers: true,\n    id: "volve-wells",\n    bounds: volveWellsBounds,\n    layers: [volveWellsLayer],\n    cameraPosition,\n    views: default2DViews\n  },\n  render: args => <SyncedCameraSettingsComponent {...args} />\n}',...SyncedSubsurfaceViewers.parameters?.docs?.source}}},AutoZoomToBoxStory.parameters={...AutoZoomToBoxStory.parameters,docs:{...AutoZoomToBoxStory.parameters?.docs,source:{originalSource:'{\n  args: {\n    views: default3DViews\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: ""\n      }\n    }\n  },\n  render: args => <AutoZoomToBox {...args} />\n}',...AutoZoomToBoxStory.parameters?.docs?.source}}},ScaleZ.parameters={...ScaleZ.parameters,docs:{...ScaleZ.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "ScaleZ",\n    layers: [huginAxes3DLayer, hugin25mKhNetmapMapLayerPng, volveWellsWithLogsLayer, northArrowLayer],\n    bounds: volveWellsBounds,\n    views: {\n      layout: [1, 2],\n      viewports: [{\n        id: "view_1",\n        layerIds: [huginAxes3DLayer.id, hugin25mKhNetmapMapLayerPng.id, northArrowLayer.id],\n        show3D: true,\n        isSync: true\n      }, {\n        id: "view_2",\n        layerIds: [huginAxes3DLayer.id, volveWellsWithLogsLayer.id, northArrowLayer.id],\n        show3D: true,\n        isSync: true\n      }]\n    }\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: "Example scaling in z direction using arrow up/down buttons."\n      }\n    }\n  },\n  render: args => <ScaleZComponent {...args} />\n}',...ScaleZ.parameters?.docs?.source}}},ResetCameraStory.parameters={...ResetCameraStory.parameters,docs:{...ResetCameraStory.parameters?.docs,source:{originalSource:"{\n  args: {\n    id: \"ResetCameraProperty\",\n    layers: [huginAxes3DLayer, hugin25mKhNetmapMapLayerPng, northArrowLayer],\n    bounds: volveWellsBounds,\n    cameraPosition: ResetCameraPropertyDefaultCameraPosition,\n    views: default3DViews\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: `Pressing the button 'Change Camera' does rotate it.`\n      }\n    }\n  },\n  render: args => <ResetCameraComponent {...args} />\n}",...ResetCameraStory.parameters?.docs?.source}}},AddLayer.parameters={...AddLayer.parameters,docs:{...AddLayer.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "map",\n    //bounds: volveWellsBounds,  // Keep this line for future testing.\n    cameraPosition: {\n      rotationOrbit: 45,\n      rotationX: 45,\n      zoom: hugin3DBounds,\n      target: []\n    },\n    views: default3DViews\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: `Example using button to add a layer.`\n      }\n    }\n  },\n  render: args => <AddLayerComponent {...args} />\n}',...AddLayer.parameters?.docs?.source}}},ScaleY.parameters={...ScaleY.parameters,docs:{...ScaleY.parameters?.docs,source:{originalSource:'{\n  args: {\n    verticalScale: 1.5\n  },\n  argTypes: {\n    verticalScale: {\n      control: {\n        type: "range",\n        min: -1,\n        max: 10,\n        step: 0.1\n      }\n    }\n  },\n  parameters: {\n    docs: {\n      ...defaultStoryParameters.docs,\n      description: {\n        story: "Vertical scaling example in Orthographic view."\n      }\n    }\n  },\n  render: args => <ScaleYComponent {...args} />\n}',...ScaleY.parameters?.docs?.source}}};const __namedExportsOrder=["DisplayCameraState","SyncedMultiView","SyncedSubsurfaceViewers","AutoZoomToBoxStory","ScaleZ","ResetCameraStory","AddLayer","ScaleY"]}}]);