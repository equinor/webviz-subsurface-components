/*! For license information please see 9015.92958504.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_webviz_subsurface_components=self.webpackChunk_webviz_subsurface_components||[]).push([[9015],{"./node_modules/@mui/material/Divider/dividerClasses.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{V:function(){return getDividerUtilityClass}});var _mui_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js"),_generateUtilityClass__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js");function getDividerUtilityClass(slot){return(0,_generateUtilityClass__WEBPACK_IMPORTED_MODULE_0__.Z)("MuiDivider",slot)}const dividerClasses=(0,_mui_utils__WEBPACK_IMPORTED_MODULE_1__.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);__webpack_exports__.Z=dividerClasses},"./packages/well-log-viewer/src/components/AxisSelector.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");class AxisSelector extends react__WEBPACK_IMPORTED_MODULE_0__.Component{createItem(label,value){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:value},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"radio",value:value,checked:this.props.value===value,onChange:ev=>{this.props.onChange(ev.target.value)}}),label)}render(){return!this.props.axes||this.props.axes.length<1?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("fieldset",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("legend",null,this.props.header),this.props.axes.map((axis=>this.createItem(this.props.axisLabels?this.props.axisLabels[axis]:axis,axis)))))}}AxisSelector.displayName="AxisSelector",__webpack_exports__.Z=AxisSelector;try{AxisSelector.displayName="AxisSelector",AxisSelector.__docgenInfo={description:"",displayName:"AxisSelector",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},axes:{defaultValue:null,description:"",name:"axes",required:!0,type:{name:"string[]"}},axisLabels:{defaultValue:null,description:"",name:"axisLabels",required:!0,type:{name:"Record<string, string>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/well-log-viewer/src/components/AxisSelector.tsx#AxisSelector"]={docgenInfo:AxisSelector.__docgenInfo,name:"AxisSelector",path:"packages/well-log-viewer/src/components/AxisSelector.tsx#AxisSelector"})}catch(__react_docgen_typescript_loader_error){}},"./packages/well-log-viewer/src/components/InfoPanel.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const styleGroupRow={backgroundColor:"#ededed",cursor:"pointer"};class InfoPanel extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.createRow=this.createRow.bind(this)}onRowClick(trackId){this.props.onGroupClick&&this.props.onGroupClick(trackId)}createRow(info){if("separator"===info.type)return function createSeparator(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",{key:"separator"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{colSpan:4}," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("hr",null)))}();if(void 0!==info.groupStart)return react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",{style:styleGroupRow,key:"_group_"+info.trackId+"."+info.name,onClick:this.onRowClick.bind(this,info.trackId)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{style:{color:info.color,fontSize:"small"}},info.collapsed?"►":"▼"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{colSpan:3,style:{fontSize:"small",fontWeight:"bold"}},info.name));let name=info.name?info.name:"?";name.length>15&&(name=name.substring(0,13)+"…");const nameStyle=name.length>10?{fontSize:"x-small"}:{};let value=function formatValue(value){if(!Number.isFinite(value))return"";if(Number.isInteger(value))return value.toFixed(0);let v=value.toPrecision(4);if(v.indexOf(".")>=0)for(;;){let l=v.length;if(!l--)break;if("0"!==v[l])break;v=v.substring(0,l)}return v}(info.value);info.discrete&&(value=info.discrete+(value?" ("+value+")":""));const valueStyle={width:"90px",paddingLeft:"1.5em",textAlign:"right"};return value.length>10&&(valueStyle.fontSize="x-small"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",{key:info.trackId+"."+info.name},react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{style:{color:info.color,fontSize:"small"}},"⬤"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{style:nameStyle},name),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{style:valueStyle},value),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{style:{paddingLeft:"0.5em"}},info.units))}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{overflowY:"auto",overflowX:"hidden"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("fieldset",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("legend",null,this.props.header),react__WEBPACK_IMPORTED_MODULE_0__.createElement("table",{style:{borderSpacing:"0px",width:"100%"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("tbody",null,this.props.infos?.map(this.createRow.bind(this))))))}}InfoPanel.displayName="InfoPanel",__webpack_exports__.Z=InfoPanel;try{InfoPanel.displayName="InfoPanel",InfoPanel.__docgenInfo={description:"",displayName:"InfoPanel",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},infos:{defaultValue:null,description:"",name:"infos",required:!0,type:{name:"Info[]"}},onGroupClick:{defaultValue:null,description:"",name:"onGroupClick",required:!1,type:{name:"((trackId: string | number) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/well-log-viewer/src/components/InfoPanel.tsx#InfoPanel"]={docgenInfo:InfoPanel.__docgenInfo,name:"InfoPanel",path:"packages/well-log-viewer/src/components/InfoPanel.tsx#InfoPanel"})}catch(__react_docgen_typescript_loader_error){}},"./packages/well-log-viewer/src/components/Scroller.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");class Scroller extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.scroller=null,this.scrollable=null,this.content=null,this.resizeObserver=new ResizeObserver((entries=>{const entry=entries[0];if(entry&&entry.target){const Width=entry.target.offsetWidth,Height=entry.target.offsetHeight;if(this.content){const{vertical:vertical,horizontal:horizontal}=function getScrollbarSizes(){const outer=document.createElement("div");outer.style.visibility="hidden",outer.style.overflow="scroll",document.body.appendChild(outer);const vertical=outer.offsetWidth-outer.clientWidth,horizontal=outer.offsetHeight-outer.clientHeight;return document.body.removeChild(outer),{vertical:vertical,horizontal:horizontal}}();this.content.style.width=Width-vertical+"px",this.content.style.height=Height-horizontal+"px"}}})),this.onScroll=this.onScroll.bind(this)}componentDidMount(){this.scroller&&this.resizeObserver.observe(this.scroller)}componentWillUnmount(){this.scroller&&this.resizeObserver.unobserve(this.scroller)}getScrollX(){const elOuter=this.scroller;if(!elOuter)return 0;const scrollWidth=elOuter.scrollWidth-elOuter.clientWidth;return scrollWidth?elOuter.scrollLeft/scrollWidth:0}getScrollY(){const elOuter=this.scroller;if(!elOuter)return 0;const scrollHeight=elOuter.scrollHeight-elOuter.clientHeight;return scrollHeight?elOuter.scrollTop/scrollHeight:0}getScrollPos(vertical){return vertical?this.getScrollY():this.getScrollX()}onScroll(){this.scroller&&this.props.onScroll&&this.props.onScroll(this.getScrollX(),this.getScrollY())}scrollTo(x,y){x<0?x=0:x>1&&(x=1),y<0?y=0:y>1&&(y=1);const elOuter=this.scroller;if(!elOuter)return!1;const scrollLeft=Math.round(x*(elOuter.scrollWidth-elOuter.clientWidth)),scrollTop=Math.round(y*(elOuter.scrollHeight-elOuter.clientHeight));return(elOuter.scrollLeft!==scrollLeft||elOuter.scrollTop!==scrollTop)&&(elOuter.scrollTo(scrollLeft,scrollTop),!0)}zoom(xZoom,yZoom){const elOuter=this.scroller;if(!elOuter)return!1;const elInner=this.scrollable;if(!elInner)return!1;const widthInner=Math.round(elOuter.clientWidth*xZoom)+"px",heightInner=Math.round(elOuter.clientHeight*yZoom)+"px";return(elInner.style.width!==widthInner||elInner.style.height!==heightInner)&&(elInner.style.width=widthInner,elInner.style.height=heightInner,!0)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:el=>this.scroller=el,style:{overflow:"scroll",width:"100%",height:"100%"},onScroll:this.onScroll},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:el=>this.scrollable=el},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:el=>this.content=el,style:{position:"absolute"}},this.props.children)))}}Scroller.displayName="Scroller",__webpack_exports__.Z=Scroller;try{Scroller.displayName="Scroller",Scroller.__docgenInfo={description:"",displayName:"Scroller",props:{onScroll:{defaultValue:null,description:"callback with new scroll positions",name:"onScroll",required:!1,type:{name:"((x: number, y: number) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/well-log-viewer/src/components/Scroller.tsx#Scroller"]={docgenInfo:Scroller.__docgenInfo,name:"Scroller",path:"packages/well-log-viewer/src/components/Scroller.tsx#Scroller"})}catch(__react_docgen_typescript_loader_error){}},"./packages/well-log-viewer/src/components/WellLogViewWithScroller.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{j:function(){return argTypesWellLogViewScrollerProp}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_WellLogView__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/well-log-viewer/src/components/WellLogView.tsx"),_Scroller__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/well-log-viewer/src/components/Scroller.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const argTypesWellLogViewScrollerProp=_WellLogView__WEBPACK_IMPORTED_MODULE_1__.WH;class WellLogViewWithScroller extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.controller=null,this.scroller=null,this.onCreateController=this.onCreateController.bind(this),this.onScrollerScroll=this.onScrollerScroll.bind(this),this.onTrackScroll=this.onTrackScroll.bind(this),this.onTrackSelection=this.onTrackSelection.bind(this),this.onContentRescale=this.onContentRescale.bind(this),this.onContentSelection=this.onContentSelection.bind(this)}componentDidMount(){this.setScrollerPosAndZoom()}shouldComponentUpdate(nextProps){return!Object.is(this.props,nextProps)}updateReadoutPanel(){const controller=this.controller;controller&&controller.selectContent(controller.getContentSelection())}onCreateController(controller){this.controller=controller,this.props.onCreateController&&this.props.onCreateController(controller)}onTrackScroll(){this.setScrollerPosAndZoom(),this.props.onTrackScroll&&this.props.onTrackScroll()}onTrackSelection(){this.props.onTrackSelection&&this.props.onTrackSelection()}onContentRescale(){this.setScrollerPosAndZoom(),this.props.onContentRescale&&this.props.onContentRescale()}onContentSelection(){this.props.onContentSelection&&this.props.onContentSelection()}onScrollerScroll(x,y){const controller=this.controller;if(!controller)return;const fContent=this.props.horizontal?x:y;controller.scrollContentTo(fContent);const posTrack=this.calcPosTrack(this.props.horizontal?y:x);controller.scrollTrackTo(posTrack)}calcPosTrack(f){const controller=this.controller;if(!controller)return 0;const posTrack=f*controller.getTrackScrollPosMax();return Math.round(posTrack)}getContentPosFraction(){const controller=this.controller;if(!controller)return 0;const baseDomain=controller.getContentBaseDomain(),domain=controller.getContentDomain(),w=baseDomain[1]-baseDomain[0]-(domain[1]-domain[0]);return w?(domain[0]-baseDomain[0])/w:0}getTrackPosFraction(){const controller=this.controller;return controller&&controller.getTrackScrollPosMax()?controller.getTrackScrollPos()/controller.getTrackScrollPosMax():0}setScrollerPosAndZoom(){let x,y,xZoom,yZoom;const scroller=this.scroller;if(!scroller)return;const controller=this.controller;if(controller){const contentZoom=controller.getContentZoom(),trackZoom=controller.getTrackZoom();xZoom=this.props.horizontal?contentZoom:trackZoom,yZoom=this.props.horizontal?trackZoom:contentZoom;const fContent=this.getContentPosFraction(),fTrack=this.getTrackPosFraction();x=this.props.horizontal?fContent:fTrack,y=this.props.horizontal?fTrack:fContent}else x=y=0,xZoom=yZoom=1;scroller.zoom(xZoom,yZoom);let shouldUpdateScroller=2;{const _x=scroller.getScrollX(),_y=scroller.getScrollY(),_posTrack=this.calcPosTrack(this.props.horizontal?_y:_x);this.calcPosTrack(this.props.horizontal?y:x)===_posTrack&&(shouldUpdateScroller--,this.props.horizontal?y=_y:x=_x);const _fContent=this.props.horizontal?_x:_y,fContent=this.props.horizontal?x:y;Math.abs(fContent-_fContent)<.001&&(shouldUpdateScroller--,this.props.horizontal?x=_x:y=_y)}shouldUpdateScroller&&scroller.scrollTo(x,y)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Scroller__WEBPACK_IMPORTED_MODULE_2__.Z,{ref:el=>this.scroller=el,onScroll:this.onScrollerScroll},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_WellLogView__WEBPACK_IMPORTED_MODULE_1__.ZP,_extends({},this.props,{onCreateController:this.onCreateController,onTrackScroll:this.onTrackScroll,onTrackSelection:this.onTrackSelection,onContentRescale:this.onContentRescale,onContentSelection:this.onContentSelection})))}}WellLogViewWithScroller.displayName="WellLogViewWithScroller",WellLogViewWithScroller.propTypes=(0,_WellLogView__WEBPACK_IMPORTED_MODULE_1__.p0)(),__webpack_exports__.Z=WellLogViewWithScroller;try{WellLogViewWithScroller.displayName="WellLogViewWithScroller",WellLogViewWithScroller.__docgenInfo={description:"",displayName:"WellLogViewWithScroller",props:{welllog:{defaultValue:null,description:"Object from JSON file describing single well log data.",name:"welllog",required:!0,type:{name:"WellLog | undefined"}},template:{defaultValue:null,description:"Prop containing track template data.",name:"template",required:!0,type:{name:"Template"}},colorTables:{defaultValue:null,description:"Prop containing color table data for discrete well logs",name:"colorTables",required:!0,type:{name:"ColorTable[]"}},wellpick:{defaultValue:null,description:"Well Picks data",name:"wellpick",required:!1,type:{name:"WellPickProps"}},patternsTable:{defaultValue:null,description:"Patterns table",name:"patternsTable",required:!1,type:{name:"PatternsTable"}},patterns:{defaultValue:null,description:"Horizon to pattern index map",name:"patterns",required:!1,type:{name:"[string, number][]"}},horizontal:{defaultValue:null,description:"Orientation of the track plots on the screen.",name:"horizontal",required:!1,type:{name:"boolean"}},primaryAxis:{defaultValue:null,description:'Primary axis id: "md", "tvd", "time"... Default is the first available from axisMnemos',name:"primaryAxis",required:!1,type:{name:"string"}},axisTitles:{defaultValue:null,description:"Log mnemonics for axes",name:"axisTitles",required:!0,type:{name:"Record<string, string>"}},axisMnemos:{defaultValue:null,description:"Names for axes",name:"axisMnemos",required:!0,type:{name:"Record<string, string[]>"}},viewTitle:{defaultValue:null,description:"The view title. Set desired string or react element or true for default value from welllog file",name:"viewTitle",required:!1,type:{name:"string | boolean | Element"}},domain:{defaultValue:null,description:"Initial visible range",name:"domain",required:!1,type:{name:"[number, number]"}},selection:{defaultValue:null,description:"Initial selected range",name:"selection",required:!1,type:{name:"[number, number] | undefined"}},options:{defaultValue:null,description:"Additional options",name:"options",required:!1,type:{name:"WellLogViewOptions"}},onCreateController:{defaultValue:null,description:"",name:"onCreateController",required:!1,type:{name:"((controller: WellLogController) => void)"}},onInfo:{defaultValue:null,description:"",name:"onInfo",required:!1,type:{name:"((x: number, logController: LogViewer, iFrom: number, iTo: number) => void)"}},onTrackScroll:{defaultValue:null,description:"called when track scrolling is changed",name:"onTrackScroll",required:!1,type:{name:"(() => void)"}},onTrackSelection:{defaultValue:null,description:"called when track selection is changed",name:"onTrackSelection",required:!1,type:{name:"(() => void)"}},onContentRescale:{defaultValue:null,description:"called when content zoom and scrolling are changed",name:"onContentRescale",required:!1,type:{name:"(() => void)"}},onContentSelection:{defaultValue:null,description:"called when content zoom and scrolling are changed",name:"onContentSelection",required:!1,type:{name:"(() => void)"}},onTrackMouseEvent:{defaultValue:null,description:"called when mouse click on a track",name:"onTrackMouseEvent",required:!1,type:{name:"((wellLogView: WellLogView, ev: TrackMouseEvent) => void)"}},onTemplateChanged:{defaultValue:null,description:"called when template is changed",name:"onTemplateChanged",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/well-log-viewer/src/components/WellLogViewWithScroller.tsx#WellLogViewWithScroller"]={docgenInfo:WellLogViewWithScroller.__docgenInfo,name:"WellLogViewWithScroller",path:"packages/well-log-viewer/src/components/WellLogViewWithScroller.tsx#WellLogViewWithScroller"})}catch(__react_docgen_typescript_loader_error){}},"./packages/well-log-viewer/src/components/ZoomSlider.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_mui_material_Slider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/material/Slider/Slider.js");function convertLevelToValue(level){return 2**level}function convertValueToLevel(value){return value>0?Math.log2(value):0}function valueLabelFormat(value){return value.toFixed(Number.isInteger(value)||value>20?0:1)}class ZoomSlider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props,state){super(props,state);const level=convertValueToLevel(this.props.value);this.state={level:level},this.onChange=this.onChange.bind(this)}componentDidUpdate(prevProps){this.props.value!==prevProps.value&&this.setState((state=>{const level=convertValueToLevel(this.props.value);return state.level==level?null:{level:level}}))}onChange(_event,level){"number"==typeof level&&this.setState((state=>state.level===level?null:(this.props.onChange?this.props.onChange(convertLevelToValue(level)):console.error("ZoomSlider props.onChange not set"),{level:level})))}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material_Slider__WEBPACK_IMPORTED_MODULE_1__.ZP,{value:this.state.level,defaultValue:0,min:0,step:this.props.step||.5,max:convertValueToLevel(this.props.max||256),scale:convertLevelToValue,onChange:this.onChange,getAriaValueText:valueLabelFormat,valueLabelFormat:valueLabelFormat,"aria-labelledby":"non-linear-slider",valueLabelDisplay:"auto"})}}ZoomSlider.displayName="ZoomSlider",__webpack_exports__.Z=ZoomSlider;try{ZoomSlider.displayName="ZoomSlider",ZoomSlider.__docgenInfo={description:"",displayName:"ZoomSlider",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: number) => void"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},step:{defaultValue:null,description:"",name:"step",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/well-log-viewer/src/components/ZoomSlider.tsx#ZoomSlider"]={docgenInfo:ZoomSlider.__docgenInfo,name:"ZoomSlider",path:"packages/well-log-viewer/src/components/ZoomSlider.tsx#ZoomSlider"})}catch(__react_docgen_typescript_loader_error){}},"./packages/well-log-viewer/src/utils/edit-track.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{c:function(){return onTrackMouseEvent}});var react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),tracks=__webpack_require__("./packages/well-log-viewer/src/utils/tracks.ts"),Menu=__webpack_require__("./node_modules/@mui/material/Menu/Menu.js"),objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),composeClasses=__webpack_require__("./node_modules/@mui/utils/esm/composeClasses/composeClasses.js"),colorManipulator=__webpack_require__("./node_modules/@mui/system/esm/colorManipulator.js"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),useThemeProps=__webpack_require__("./node_modules/@mui/material/styles/useThemeProps.js"),ListContext=__webpack_require__("./node_modules/@mui/material/List/ListContext.js"),ButtonBase=__webpack_require__("./node_modules/@mui/material/ButtonBase/ButtonBase.js"),useEnhancedEffect=__webpack_require__("./node_modules/@mui/material/utils/useEnhancedEffect.js"),useForkRef=__webpack_require__("./node_modules/@mui/material/utils/useForkRef.js"),dividerClasses=__webpack_require__("./node_modules/@mui/material/Divider/dividerClasses.js"),generateUtilityClasses=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js");var ListItemIcon_listItemIconClasses=(0,generateUtilityClasses.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);var ListItemText_listItemTextClasses=(0,generateUtilityClasses.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),generateUtilityClass_generateUtilityClass=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js");function getMenuItemUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Z)("MuiMenuItem",slot)}var MenuItem_menuItemClasses=(0,generateUtilityClasses.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],MenuItemRoot=(0,styled.ZP)(ButtonBase.Z,{shouldForwardProp:prop=>(0,styled.FO)(prop)||"classes"===prop,name:"MuiMenuItem",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState:ownerState}=props;return[styles.root,ownerState.dense&&styles.dense,ownerState.divider&&styles.divider,!ownerState.disableGutters&&styles.gutters]}})((({theme:theme,ownerState:ownerState})=>(0,esm_extends.Z)({},theme.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!ownerState.disableGutters&&{paddingLeft:16,paddingRight:16},ownerState.divider&&{borderBottom:`1px solid ${(theme.vars||theme).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(theme.vars||theme).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${MenuItem_menuItemClasses.selected}`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})`:(0,colorManipulator.Fq)(theme.palette.primary.main,theme.palette.action.selectedOpacity),[`&.${MenuItem_menuItemClasses.focusVisible}`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))`:(0,colorManipulator.Fq)(theme.palette.primary.main,theme.palette.action.selectedOpacity+theme.palette.action.focusOpacity)}},[`&.${MenuItem_menuItemClasses.selected}:hover`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))`:(0,colorManipulator.Fq)(theme.palette.primary.main,theme.palette.action.selectedOpacity+theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})`:(0,colorManipulator.Fq)(theme.palette.primary.main,theme.palette.action.selectedOpacity)}},[`&.${MenuItem_menuItemClasses.focusVisible}`]:{backgroundColor:(theme.vars||theme).palette.action.focus},[`&.${MenuItem_menuItemClasses.disabled}`]:{opacity:(theme.vars||theme).palette.action.disabledOpacity},[`& + .${dividerClasses.Z.root}`]:{marginTop:theme.spacing(1),marginBottom:theme.spacing(1)},[`& + .${dividerClasses.Z.inset}`]:{marginLeft:52},[`& .${ListItemText_listItemTextClasses.root}`]:{marginTop:0,marginBottom:0},[`& .${ListItemText_listItemTextClasses.inset}`]:{paddingLeft:36},[`& .${ListItemIcon_listItemIconClasses.root}`]:{minWidth:36}},!ownerState.dense&&{[theme.breakpoints.up("sm")]:{minHeight:"auto"}},ownerState.dense&&(0,esm_extends.Z)({minHeight:32,paddingTop:4,paddingBottom:4},theme.typography.body2,{[`& .${ListItemIcon_listItemIconClasses.root} svg`]:{fontSize:"1.25rem"}}))));var MenuItem_MenuItem=react.forwardRef((function MenuItem(inProps,ref){const props=(0,useThemeProps.Z)({props:inProps,name:"MuiMenuItem"}),{autoFocus:autoFocus=!1,component:component="li",dense:dense=!1,divider:divider=!1,disableGutters:disableGutters=!1,focusVisibleClassName:focusVisibleClassName,role:role="menuitem",tabIndex:tabIndexProp,className:className}=props,other=(0,objectWithoutPropertiesLoose.Z)(props,_excluded),context=react.useContext(ListContext.Z),childContext=react.useMemo((()=>({dense:dense||context.dense||!1,disableGutters:disableGutters})),[context.dense,dense,disableGutters]),menuItemRef=react.useRef(null);(0,useEnhancedEffect.Z)((()=>{autoFocus&&menuItemRef.current&&menuItemRef.current.focus()}),[autoFocus]);const ownerState=(0,esm_extends.Z)({},props,{dense:childContext.dense,divider:divider,disableGutters:disableGutters}),classes=(ownerState=>{const{disabled:disabled,dense:dense,divider:divider,disableGutters:disableGutters,selected:selected,classes:classes}=ownerState,slots={root:["root",dense&&"dense",disabled&&"disabled",!disableGutters&&"gutters",divider&&"divider",selected&&"selected"]},composedClasses=(0,composeClasses.Z)(slots,getMenuItemUtilityClass,classes);return(0,esm_extends.Z)({},classes,composedClasses)})(props),handleRef=(0,useForkRef.Z)(menuItemRef,ref);let tabIndex;return props.disabled||(tabIndex=void 0!==tabIndexProp?tabIndexProp:-1),(0,jsx_runtime.jsx)(ListContext.Z.Provider,{value:childContext,children:(0,jsx_runtime.jsx)(MenuItemRoot,(0,esm_extends.Z)({ref:handleRef,role:role,tabIndex:tabIndex,component:component,focusVisibleClassName:(0,clsx_m.default)(classes.focusVisible,focusVisibleClassName),className:(0,clsx_m.default)(classes.root,className)},other,{ownerState:ownerState,classes:classes}))})}));function getPlotTitle(plot){let title="";const legend=plot.options.legendInfo();if(legend){legend.label&&(title=legend.label);const legend2=legend;legend2.serie1&&legend2.serie1.label&&(title=legend2.serie1.label),legend2.serie2&&legend2.serie2.label&&(title+=" – "+legend2.serie2.label)}return title}class SimpleMenu extends react.Component{constructor(props){super(props),this.state={anchorEl:this.props.anchorEl};const wellLogView=this.props.wellLogView;this.addTrack=wellLogView.addTrack.bind(wellLogView,this.state.anchorEl,this.props.track),this.editTrack=wellLogView.editTrack.bind(wellLogView,this.state.anchorEl,this.props.track),this.removeTrack=wellLogView.removeTrack.bind(wellLogView,this.props.track),this.addPlot=wellLogView.addPlot.bind(wellLogView,this.state.anchorEl,this.props.track),this.editPlots=editPlots.bind(null,this.state.anchorEl,wellLogView,this.props.track),this.removePlots=removePlots.bind(null,this.state.anchorEl,wellLogView,this.props.track)}componentDidUpdate(prevProps){this.props.anchorEl!==prevProps.anchorEl&&this.setState(((_state,props)=>({anchorEl:props.anchorEl})))}closeMenu(){this.setState({anchorEl:null})}handleContextMenu(ev){ev.preventDefault(),this.closeMenu()}handleCloseMenu(){this.closeMenu()}handleClickItem(action){action&&action(),this.closeMenu()}createRemovePlotMenuItem(title,plot){return react.createElement(MenuItem_MenuItem,{key:plot.id,onClick:()=>this.handleClickItem(this.props.wellLogView.removeTrackPlot.bind(this.props.wellLogView,this.props.track,plot))},"    ",title)}menuRemovePlotItems(){const nodes=[],welllog=this.props.wellLogView.props.welllog;if(welllog){const plots=this.props.track.plots,curves=welllog.curves;for(const plot of plots){const iCurve=plot.id,title=getPlotTitle(plot)||curves[iCurve].name;nodes.push(this.createRemovePlotMenuItem(title,plot))}}return nodes}createEditPlotMenuItem(title,plot){return react.createElement(MenuItem_MenuItem,{key:plot.id,onClick:()=>this.handleClickItem(this.props.wellLogView.editPlot.bind(this.props.wellLogView,this.state.anchorEl,this.props.track,plot))},"    ",title)}menuEditPlotItems(){const nodes=[],welllog=this.props.wellLogView.props.welllog;if(welllog){const plots=this.props.track.plots,curves=welllog.curves;for(const plot of plots){const iCurve=plot.id,title=getPlotTitle(plot)||curves[iCurve].name;nodes.push(this.createEditPlotMenuItem(title,plot))}}return nodes}createMenuItem(title,action){return react.createElement(MenuItem_MenuItem,{key:title,onClick:()=>this.handleClickItem(action)},"    ",title)}render(){if("removePlots"==this.props.type)return react.createElement("div",null,react.createElement(Menu.Z,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleCloseMenu.bind(this),onContextMenu:this.handleContextMenu.bind(this)},this.menuRemovePlotItems()));if("editPlots"==this.props.type)return react.createElement("div",null,react.createElement(Menu.Z,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleCloseMenu.bind(this),onContextMenu:this.handleContextMenu.bind(this)},this.menuEditPlotItems()));if("title"==this.props.type)return react.createElement("div",null,react.createElement(Menu.Z,{id:"simple-menu",anchorEl:this.state.anchorEl,open:Boolean(this.state.anchorEl),onClose:this.handleCloseMenu.bind(this),onContextMenu:this.handleContextMenu.bind(this)},this.createMenuItem("Add track",this.addTrack),this.createMenuItem("Edit track",this.editTrack),this.createMenuItem("Remove track",this.removeTrack)));const track=this.props.track,plots=track.plots;return react.createElement("div",null,react.createElement(Menu.Z,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleCloseMenu.bind(this),onContextMenu:this.handleContextMenu.bind(this)},(track=>track.options.plotFactory?[this.createMenuItem("Add plot",this.addPlot)]:(0,tracks.wv)(track)?[]:[this.createMenuItem("Edit track",this.editTrack)])(track),plots&&plots.length?[this.createMenuItem("Edit plot",this.editPlots),this.createMenuItem("Remove plot",this.removePlots)]:[]))}}function editPlots(parent,wellLogView,track){const plots=track.plots;if(plots&&plots.length<=1)return void(1===plots.length&&wellLogView.editPlot(parent,track,plots[0]));const el=document.createElement("div");el.style.width="10px",el.style.height="13px",parent&&parent.appendChild(el),react_dom.render(react.createElement(SimpleMenu,{type:"editPlots",anchorEl:el,wellLogView:wellLogView,track:track}),el)}function removePlots(parent,wellLogView,track){const plots=track.plots;if(plots&&plots.length<=1)return void(1===plots.length&&wellLogView.removeTrackPlot(track,plots[0]));const el=document.createElement("div");el.style.width="10px",el.style.height="13px",parent&&parent.appendChild(el),react_dom.render(react.createElement(SimpleMenu,{type:"removePlots",anchorEl:el,wellLogView:wellLogView,track:track}),el)}SimpleMenu.displayName="SimpleMenu";try{SimpleMenu.displayName="SimpleMenu",SimpleMenu.__docgenInfo={description:"",displayName:"SimpleMenu",props:{anchorEl:{defaultValue:null,description:"",name:"anchorEl",required:!0,type:{name:"HTMLElement"}},wellLogView:{defaultValue:null,description:"",name:"wellLogView",required:!0,type:{name:"WellLogView"}},track:{defaultValue:null,description:"",name:"track",required:!0,type:{name:"Track"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},plotName:{defaultValue:null,description:"",name:"plotName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/well-log-viewer/src/components/LocalMenus.tsx#SimpleMenu"]={docgenInfo:SimpleMenu.__docgenInfo,name:"SimpleMenu",path:"packages/well-log-viewer/src/components/LocalMenus.tsx#SimpleMenu"})}catch(__react_docgen_typescript_loader_error){}function onTrackMouseEvent(wellLogView,ev){const track=ev.track;if("click"===ev.type)wellLogView.selectTrack(track,!wellLogView.isTrackSelected(track));else if("dblclick"===ev.type)if(wellLogView.selectTrack(track,!0),"title"===ev.area)wellLogView.editTrack(ev.element,ev.track);else{const plot=ev.plot;plot?wellLogView.editPlot(ev.element,ev.track,plot):editPlots(ev.element,wellLogView,ev.track)}else if("contextmenu"===ev.type){wellLogView.selectTrack(track,!0);const el=document.createElement("div");el.style.width="10px",el.style.height="3px",ev.element.appendChild(el),react_dom.render(react.createElement(SimpleMenu,{type:ev.area,anchorEl:el,wellLogView:wellLogView,track:track}),el)}}},"./packages/well-log-viewer/src/utils/fill-info.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{t:function(){return fillInfos}});var _equinor_videx_wellog__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@equinor/videx-wellog/dist/index.umd.js"),_tracks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/well-log-viewer/src/utils/tracks.ts");function getValueOnInterval(x,rowPrev,row,type){if(null==rowPrev[0])return Number.NaN;if("linestep"===type)return null==row[1]?Number.NaN:row[1];const d=row[0]-rowPrev[0],f=x-rowPrev[0];if("dot"===type)return f<.5*d?null==rowPrev[1]?Number.NaN:rowPrev[1]:null==row[1]?Number.NaN:row[1];if(null==rowPrev[1])return Number.NaN;if(null==row[1])return Number.NaN;return f*(d?(row[1]-rowPrev[1])/d:1)+rowPrev[1]}function getValue(x,data,type){const v=Number.NaN;if(Number.isFinite(x)){const n=data.length;for(let i=0;i<n;i++){const row=data[i];if(x<row[0]){if(!i)break;return getValueOnInterval(x,data[i-1],row,type)}}}return v}function fillInfos(x,logController,iFrom,iTo,collapsedTrackIds,options){const infos=[],tracks=logController.tracks;!function addScaleTrackInfos(infos,x,logController,tracks){const interpolator=logController.scaleHandler.interpolator,x2=interpolator&&!isNaN(x)?interpolator.reverse(x):Number.NaN;let iPlot=0;for(const _track of tracks){if(!(0,_tracks__WEBPACK_IMPORTED_MODULE_1__.wv)(_track))continue;const track=_track,_x=track.options.mode?x2:x;infos.push({name:track.options.abbr,units:track.options.units,color:0==iPlot?"black":"grey",value:_x,type:"",trackId:track.id}),iPlot++}infos.push({color:"",value:Number.NaN,type:"separator",trackId:"separator"})}(infos,x,logController,tracks);const allTracks=options?.allTracks,grouping=options?.grouping;let iTrack=0;for(const _track of tracks){if((0,_tracks__WEBPACK_IMPORTED_MODULE_1__.wv)(_track))continue;const visible=allTracks||iFrom<=iTrack&&iTrack<iTo;if(iTrack++,!visible)continue;const collapsed=collapsedTrackIds&&collapsedTrackIds.indexOf(_track.id)>=0,track=_track;if("by_track"===grouping&&track.plots&&track.plots.length&&infos.push({name:track.options.label,color:"",value:Number.NaN,type:"track",collapsed:collapsed,trackId:track.id,groupStart:"!"}),!collapsed)if(_track instanceof _equinor_videx_wellog__WEBPACK_IMPORTED_MODULE_0__.StackedTrack){const trackStacked=_track,d=trackStacked.data;let discrete="",value=Number.NaN,color="";if(d)for(let i=0;i<d.length;i++){const p=d[i];if(p.from<=x&&x<=p.to){value=p.code,discrete=p.name,color="rgb("+p.color.r+","+p.color.g+","+p.color.b+")";break}}infos.push({name:trackStacked.options.abbr,units:"",color:color,value:value,discrete:discrete,type:"stacked",trackId:trackStacked.id})}else for(const plot of track.plots){const type=(0,_tracks__WEBPACK_IMPORTED_MODULE_1__.Z)(plot);let data=plot.data;"differential"===type&&(data=plot.data[0]);const options=plot.options,optionsDifferential=plot.options,options1=optionsDifferential.serie1,options2=optionsDifferential.serie2,legend=options.legendInfo(),legendDifferential=legend,legend1=legendDifferential.serie1,legend2=legendDifferential.serie2;infos.push({name:legend1?legend1.label:legend.label,units:legend1?legend1.unit:legend.unit,color:(options1?options1.color:options.color)||"",value:getValue(x,data,type),type:type,trackId:track.id}),"differential"===type&&(data=plot.data[1],infos.push({name:legend2.label,units:legend2.unit,color:(options2?options2.color:options.color)||"",value:getValue(x,data,type),type:type,trackId:"_"+track.id}))}}return infos}},"../example-data/wellpicks.json":function(module){module.exports=JSON.parse('[{"header":{"name":"Set 1","well":"15/9-19 A"},"curves":[{"name":"MD","quantity":"m","unit":"m","valueType":"float","dimensions":1},{"name":"HORIZON","valueType":"string","dimensions":1}],"data":[[1644,"Hor_1"],[2788,"Hor_2"],[3288,"Hor_3"],[3611,"Hor_4"],[3911,"Hor_5"],[4411,"Hor_6"]],"metadata_discrete":{"HORIZON":{"attributes":["color","code"],"objects":{"Hor_1":[[255,13,186,255],0],"Hor_2":[[255,64,53,255],1],"Hor_3":[[247,255,164,255],2],"Hor_4":[[147,255,64,255],3],"Hor_5":[[255,147,64,255],3],"Hor_6":[[155,164,247,255],3]}}}},{"header":{"name":"Set 1","well":"L916MUD"},"curves":[{"name":"MD","quantity":"m","unit":"m","valueType":"float","dimensions":1},{"name":"HORIZON","valueType":"string","dimensions":1}],"data":[[1444,"Hor_1"],[2888,"Hor_2"],[3288,"Hor_3"],[3811,"Hor_4"],[4011,"Hor_5"],[4131,"Hor_6"]],"metadata_discrete":{"HORIZON":{"attributes":["color","code"],"objects":{"Hor_1":[[255,13,186,255],0],"Hor_2":[[255,64,53,255],1],"Hor_3":[[247,255,164,255],2],"Hor_4":[[147,255,64,255],3],"Hor_5":[[255,147,64,255],3],"Hor_6":[[155,164,247,255],3]}}}}]')}}]);