(self.webpackChunk_webviz_subsurface_components=self.webpackChunk_webviz_subsurface_components||[]).push([[8718],{"./node_modules/@equinor/videx-wellog/dist/index.umd.js":function(__unused_webpack_module,exports){!function(exports){"use strict";var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(name){var prefix=name+="",i=prefix.indexOf(":");return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),namespaces.hasOwnProperty(prefix)?{space:namespaces[prefix],local:name}:name}function creatorInherit(name){return function(){var document=this.ownerDocument,uri=this.namespaceURI;return uri===xhtml&&document.documentElement.namespaceURI===xhtml?document.createElement(name):document.createElementNS(uri,name)}}function creatorFixed(fullname){return function(){return this.ownerDocument.createElementNS(fullname.space,fullname.local)}}function creator(name){var fullname=namespace(name);return(fullname.local?creatorFixed:creatorInherit)(fullname)}function none(){}function selector(selector){return null==selector?none:function(){return this.querySelector(selector)}}function empty(){return[]}function selectorAll(selector){return null==selector?empty:function(){return this.querySelectorAll(selector)}}function arrayAll(select){return function(){return function(x){return null==x?[]:Array.isArray(x)?x:Array.from(x)}(select.apply(this,arguments))}}function matcher(selector){return function(){return this.matches(selector)}}function childMatcher(selector){return function(node){return node.matches(selector)}}var find=Array.prototype.find;function childFirst(){return this.firstElementChild}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function sparse(update){return new Array(update.length)}function EnterNode(parent,datum){this.ownerDocument=parent.ownerDocument,this.namespaceURI=parent.namespaceURI,this._next=null,this._parent=parent,this.__data__=datum}function bindIndex(parent,group,enter,update,exit,data){for(var node,i=0,groupLength=group.length,dataLength=data.length;i<dataLength;++i)(node=group[i])?(node.__data__=data[i],update[i]=node):enter[i]=new EnterNode(parent,data[i]);for(;i<groupLength;++i)(node=group[i])&&(exit[i]=node)}function bindKey(parent,group,enter,update,exit,data,key){var i,node,keyValue,nodeByKeyValue=new Map,groupLength=group.length,dataLength=data.length,keyValues=new Array(groupLength);for(i=0;i<groupLength;++i)(node=group[i])&&(keyValues[i]=keyValue=key.call(node,node.__data__,i,group)+"",nodeByKeyValue.has(keyValue)?exit[i]=node:nodeByKeyValue.set(keyValue,node));for(i=0;i<dataLength;++i)keyValue=key.call(parent,data[i],i,data)+"",(node=nodeByKeyValue.get(keyValue))?(update[i]=node,node.__data__=data[i],nodeByKeyValue.delete(keyValue)):enter[i]=new EnterNode(parent,data[i]);for(i=0;i<groupLength;++i)(node=group[i])&&nodeByKeyValue.get(keyValues[i])===node&&(exit[i]=node)}function datum(node){return node.__data__}function arraylike(data){return"object"==typeof data&&"length"in data?data:Array.from(data)}function ascending$1(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function attrRemove$1(name){return function(){this.removeAttribute(name)}}function attrRemoveNS$1(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant$1(name,value){return function(){this.setAttribute(name,value)}}function attrConstantNS$1(fullname,value){return function(){this.setAttributeNS(fullname.space,fullname.local,value)}}function attrFunction$1(name,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttribute(name):this.setAttribute(name,v)}}function attrFunctionNS$1(fullname,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttributeNS(fullname.space,fullname.local):this.setAttributeNS(fullname.space,fullname.local,v)}}function defaultView(node){return node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView}function styleRemove$1(name){return function(){this.style.removeProperty(name)}}function styleConstant$1(name,value,priority){return function(){this.style.setProperty(name,value,priority)}}function styleFunction$1(name,value,priority){return function(){var v=value.apply(this,arguments);null==v?this.style.removeProperty(name):this.style.setProperty(name,v,priority)}}function styleValue(node,name){return node.style.getPropertyValue(name)||defaultView(node).getComputedStyle(node,null).getPropertyValue(name)}function propertyRemove(name){return function(){delete this[name]}}function propertyConstant(name,value){return function(){this[name]=value}}function propertyFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?delete this[name]:this[name]=v}}function classArray(string){return string.trim().split(/^|\s+/)}function classList(node){return node.classList||new ClassList(node)}function ClassList(node){this._node=node,this._names=classArray(node.getAttribute("class")||"")}function classedAdd(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.add(names[i])}function classedRemove(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.remove(names[i])}function classedTrue(names){return function(){classedAdd(this,names)}}function classedFalse(names){return function(){classedRemove(this,names)}}function classedFunction(names,value){return function(){(value.apply(this,arguments)?classedAdd:classedRemove)(this,names)}}function textRemove(){this.textContent=""}function textConstant$1(value){return function(){this.textContent=value}}function textFunction$1(value){return function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}}function htmlRemove(){this.innerHTML=""}function htmlConstant(value){return function(){this.innerHTML=value}}function htmlFunction(value){return function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function constantNull(){return null}function remove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function selection_cloneShallow(){var clone=this.cloneNode(!1),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function selection_cloneDeep(){var clone=this.cloneNode(!0),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function onRemove(typename){return function(){var on=this.__on;if(on){for(var o,j=0,i=-1,m=on.length;j<m;++j)o=on[j],typename.type&&o.type!==typename.type||o.name!==typename.name?on[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?on.length=i:delete this.__on}}}function onAdd(typename,value,options){return function(){var o,on=this.__on,listener=function(listener){return function(event){listener.call(this,event,this.__data__)}}(value);if(on)for(var j=0,m=on.length;j<m;++j)if((o=on[j]).type===typename.type&&o.name===typename.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=listener,o.options=options),void(o.value=value);this.addEventListener(typename.type,listener,options),o={type:typename.type,name:typename.name,value:value,listener:listener,options:options},on?on.push(o):this.__on=[o]}}function dispatchEvent(node,type,params){var window=defaultView(node),event=window.CustomEvent;"function"==typeof event?event=new event(type,params):(event=window.document.createEvent("Event"),params?(event.initEvent(type,params.bubbles,params.cancelable),event.detail=params.detail):event.initEvent(type,!1,!1)),node.dispatchEvent(event)}function dispatchConstant(type,params){return function(){return dispatchEvent(this,type,params)}}function dispatchFunction(type,params){return function(){return dispatchEvent(this,type,params.apply(this,arguments))}}EnterNode.prototype={constructor:EnterNode,appendChild:function(child){return this._parent.insertBefore(child,this._next)},insertBefore:function(child,next){return this._parent.insertBefore(child,next)},querySelector:function(selector){return this._parent.querySelector(selector)},querySelectorAll:function(selector){return this._parent.querySelectorAll(selector)}},ClassList.prototype={add:function(name){this._names.indexOf(name)<0&&(this._names.push(name),this._node.setAttribute("class",this._names.join(" ")))},remove:function(name){var i=this._names.indexOf(name);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(name){return this._names.indexOf(name)>=0}};var root=[null];function Selection$1(groups,parents){this._groups=groups,this._parents=parents}function selection(){return new Selection$1([[document.documentElement]],root)}function select(selector){return"string"==typeof selector?new Selection$1([[document.querySelector(selector)]],[document.documentElement]):new Selection$1([[selector]],root)}function pointer(event,node){if(event=function(event){let sourceEvent;for(;sourceEvent=event.sourceEvent;)event=sourceEvent;return event}(event),void 0===node&&(node=event.currentTarget),node){var svg=node.ownerSVGElement||node;if(svg.createSVGPoint){var point=svg.createSVGPoint();return point.x=event.clientX,point.y=event.clientY,[(point=point.matrixTransform(node.getScreenCTM().inverse())).x,point.y]}if(node.getBoundingClientRect){var rect=node.getBoundingClientRect();return[event.clientX-rect.left-node.clientLeft,event.clientY-rect.top-node.clientTop]}}return[event.pageX,event.pageY]}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:function(select){"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode);return new Selection$1(subgroups,this._parents)},selectAll:function(select){select="function"==typeof select?arrayAll(select):selectorAll(select);for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&(subgroups.push(select.call(node,node.__data__,i,group)),parents.push(node));return new Selection$1(subgroups,parents)},selectChild:function(match){return this.select(null==match?childFirst:function(match){return function(){return find.call(this.children,match)}}("function"==typeof match?match:childMatcher(match)))},selectChildren:function(match){return this.selectAll(null==match?children:function(match){return function(){return filter.call(this.children,match)}}("function"==typeof match?match:childMatcher(match)))},filter:function(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Selection$1(subgroups,this._parents)},data:function(value,key){if(!arguments.length)return Array.from(this,datum);var bind=key?bindKey:bindIndex,parents=this._parents,groups=this._groups;"function"!=typeof value&&(value=function(x){return function(){return x}}(value));for(var m=groups.length,update=new Array(m),enter=new Array(m),exit=new Array(m),j=0;j<m;++j){var parent=parents[j],group=groups[j],groupLength=group.length,data=arraylike(value.call(parent,parent&&parent.__data__,j,parents)),dataLength=data.length,enterGroup=enter[j]=new Array(dataLength),updateGroup=update[j]=new Array(dataLength);bind(parent,group,enterGroup,updateGroup,exit[j]=new Array(groupLength),data,key);for(var previous,next,i0=0,i1=0;i0<dataLength;++i0)if(previous=enterGroup[i0]){for(i0>=i1&&(i1=i0+1);!(next=updateGroup[i1])&&++i1<dataLength;);previous._next=next||null}}return(update=new Selection$1(update,parents))._enter=enter,update._exit=exit,update},enter:function(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)},exit:function(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)},join:function(onenter,onupdate,onexit){var enter=this.enter(),update=this,exit=this.exit();return"function"==typeof onenter?(enter=onenter(enter))&&(enter=enter.selection()):enter=enter.append(onenter+""),null!=onupdate&&(update=onupdate(update))&&(update=update.selection()),null==onexit?exit.remove():onexit(exit),enter&&update?enter.merge(update).order():update},merge:function(context){for(var selection=context.selection?context.selection():context,groups0=this._groups,groups1=selection._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Selection$1(merges,this._parents)},selection:function(){return this},order:function(){for(var groups=this._groups,j=-1,m=groups.length;++j<m;)for(var node,group=groups[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&4^node.compareDocumentPosition(next)&&next.parentNode.insertBefore(node,next),next=node);return this},sort:function(compare){function compareNode(a,b){return a&&b?compare(a.__data__,b.__data__):!a-!b}compare||(compare=ascending$1);for(var groups=this._groups,m=groups.length,sortgroups=new Array(m),j=0;j<m;++j){for(var node,group=groups[j],n=group.length,sortgroup=sortgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(sortgroup[i]=node);sortgroup.sort(compareNode)}return new Selection$1(sortgroups,this._parents).order()},call:function(){var callback=arguments[0];return arguments[0]=this,callback.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var group=groups[j],i=0,n=group.length;i<n;++i){var node=group[i];if(node)return node}return null},size:function(){let size=0;for(const node of this)++size;return size},empty:function(){return!this.node()},each:function(callback){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&callback.call(node,node.__data__,i,group);return this},attr:function(name,value){var fullname=namespace(name);if(arguments.length<2){var node=this.node();return fullname.local?node.getAttributeNS(fullname.space,fullname.local):node.getAttribute(fullname)}return this.each((null==value?fullname.local?attrRemoveNS$1:attrRemove$1:"function"==typeof value?fullname.local?attrFunctionNS$1:attrFunction$1:fullname.local?attrConstantNS$1:attrConstant$1)(fullname,value))},style:function(name,value,priority){return arguments.length>1?this.each((null==value?styleRemove$1:"function"==typeof value?styleFunction$1:styleConstant$1)(name,value,null==priority?"":priority)):styleValue(this.node(),name)},property:function(name,value){return arguments.length>1?this.each((null==value?propertyRemove:"function"==typeof value?propertyFunction:propertyConstant)(name,value)):this.node()[name]},classed:function(name,value){var names=classArray(name+"");if(arguments.length<2){for(var list=classList(this.node()),i=-1,n=names.length;++i<n;)if(!list.contains(names[i]))return!1;return!0}return this.each(("function"==typeof value?classedFunction:value?classedTrue:classedFalse)(names,value))},text:function(value){return arguments.length?this.each(null==value?textRemove:("function"==typeof value?textFunction$1:textConstant$1)(value)):this.node().textContent},html:function(value){return arguments.length?this.each(null==value?htmlRemove:("function"==typeof value?htmlFunction:htmlConstant)(value)):this.node().innerHTML},raise:function(){return this.each(raise)},lower:function(){return this.each(lower)},append:function(name){var create="function"==typeof name?name:creator(name);return this.select((function(){return this.appendChild(create.apply(this,arguments))}))},insert:function(name,before){var create="function"==typeof name?name:creator(name),select=null==before?constantNull:"function"==typeof before?before:selector(before);return this.select((function(){return this.insertBefore(create.apply(this,arguments),select.apply(this,arguments)||null)}))},remove:function(){return this.each(remove)},clone:function(deep){return this.select(deep?selection_cloneDeep:selection_cloneShallow)},datum:function(value){return arguments.length?this.property("__data__",value):this.node().__data__},on:function(typename,value,options){var i,t,typenames=function(typenames){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");return i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),{type:t,name:name}}))}(typename+""),n=typenames.length;if(!(arguments.length<2)){for(on=value?onAdd:onRemove,i=0;i<n;++i)this.each(on(typenames[i],value,options));return this}var on=this.node().__on;if(on)for(var o,j=0,m=on.length;j<m;++j)for(i=0,o=on[j];i<n;++i)if((t=typenames[i]).type===o.type&&t.name===o.name)return o.value},dispatch:function(type,params){return this.each(("function"==typeof params?dispatchFunction:dispatchConstant)(type,params))},[Symbol.iterator]:function*(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&(yield node)}};var noop={value:function(){}};function dispatch(){for(var t,i=0,n=arguments.length,_={};i<n;++i){if(!(t=arguments[i]+"")||t in _||/[\s.]/.test(t))throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function get$1(type,name){for(var c,i=0,n=type.length;i<n;++i)if((c=type[i]).name===name)return c.value}function set$1(type,name,callback){for(var i=0,n=type.length;i<n;++i)if(type[i].name===name){type[i]=noop,type=type.slice(0,i).concat(type.slice(i+1));break}return null!=callback&&type.push({name:name,value:callback}),type}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(typename,callback){var t,types,_=this._,T=(types=_,(typename+"").trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");if(i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:name}}))),i=-1,n=T.length;if(!(arguments.length<2)){if(null!=callback&&"function"!=typeof callback)throw new Error("invalid callback: "+callback);for(;++i<n;)if(t=(typename=T[i]).type)_[t]=set$1(_[t],typename.name,callback);else if(null==callback)for(t in _)_[t]=set$1(_[t],typename.name,null);return this}for(;++i<n;)if((t=(typename=T[i]).type)&&(t=get$1(_[t],typename.name)))return t},copy:function(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function(type,that){if((n=arguments.length-2)>0)for(var n,t,args=new Array(n),i=0;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(i=0,n=(t=this._[type]).length;i<n;++i)t[i].value.apply(that,args)},apply:function(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}};const nonpassivecapture={capture:!0,passive:!1};function noevent$1(event){event.preventDefault(),event.stopImmediatePropagation()}function define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}var brighter=1/.7,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format){var m,l;return format=(format+"").trim().toLowerCase(),(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===l?rgba(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===l?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgb(r,g,b,opacity){return 1===arguments.length?((o=r)instanceof Color||(o=color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb):new Rgb(r,g,b,null==opacity?1:opacity);var o}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatRgb(){const a=clampa(this.opacity);return`${1===a?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===a?")":`, ${a})`}`}function clampa(opacity){return isNaN(opacity)?1:Math.max(0,Math.min(1,opacity))}function clampi(value){return Math.max(0,Math.min(255,Math.round(value)||0))}function hex(value){return((value=clampi(value))<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function clamph(value){return(value=(value||0)%360)<0?value+360:value}function clampt(value){return Math.max(0,Math.min(1,value||0))}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}define(Color,color,{copy(channels){return Object.assign(new this.constructor,this,channels)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb,extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,(function(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}),extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=clampa(this.opacity);return`${1===a?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===a?")":`, ${a})`}`}}));var constant$2=x=>()=>x;function gamma(y){return 1==(y=+y)?nogamma:function(a,b){return b-a?function(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):constant$2(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?function(a,d){return function(t){return a+t*d}}(a,d):constant$2(isNaN(a)?b:a)}var interpolateRgb=function rgbGamma(y){var color=gamma(y);function rgb$1(start,end){var r=color((start=rgb(start)).r,(end=rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb$1.gamma=rgbGamma,rgb$1}(1);function numberArray(a,b){b||(b=[]);var i,n=a?Math.min(b.length,a.length):0,c=b.slice();return function(t){for(i=0;i<n;++i)c[i]=a[i]*(1-t)+b[i]*t;return c}}function genericArray(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb);for(i=0;i<na;++i)x[i]=interpolate$1(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}function date(a,b){var d=new Date;return a=+a,b=+b,function(t){return d.setTime(a*(1-t)+b*t),d}}function interpolateNumber(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function object(a,b){var k,i={},c={};for(k in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)k in a?i[k]=interpolate$1(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function interpolateString(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i:i,x:interpolateNumber(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function(b){return function(t){return b(t)+""}}(q[0].x):function(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function interpolate$1(a,b){var c,t=typeof b;return null==b||"boolean"===t?constant$2(b):("number"===t?interpolateNumber:"string"===t?(c=color(b))?(b=c,interpolateRgb):interpolateString:b instanceof color?interpolateRgb:b instanceof Date?date:function(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}(b)?numberArray:Array.isArray(b)?genericArray:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?object:interpolateNumber)(a,b)}function interpolateRound(a,b){return a=+a,b=+b,function(t){return Math.round(a*(1-t)+b*t)}}var svgNode,degrees=180/Math.PI,identity$3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX:scaleX,scaleY:scaleY}}function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),function(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:interpolateNumber(xa,xb)},{i:i-2,x:interpolateNumber(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:interpolateNumber(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}(a.rotate,b.rotate,s,q),function(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:interpolateNumber(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}(a.skewX,b.skewX,s,q),function(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:interpolateNumber(xa,xb)},{i:i-2,x:interpolateNumber(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var interpolateTransformCss=interpolateTransform((function(value){const m=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(value+"");return m.isIdentity?identity$3:decompose(m.a,m.b,m.c,m.d,m.e,m.f)}),"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform((function(value){return null==value?identity$3:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?decompose((value=value.matrix).a,value.b,value.c,value.d,value.e,value.f):identity$3)}),", ",")",")");function cosh(x){return((x=Math.exp(x))+1/x)/2}var taskHead,taskTail,interpolateZoom=function zoomRho(rho,rho2,rho4){function zoom(p0,p1){var i,S,ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy;if(d2<1e-12)S=Math.log(w1/w0)/rho,i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]};else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+rho4*d2)/(2*w0*rho2*d1),b1=(w1*w1-w0*w0-rho4*d2)/(2*w1*rho2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/rho,i=function(t){var s=t*S,coshr0=cosh(r0),u=w0/(rho2*d1)*(coshr0*function(x){return((x=Math.exp(2*x))-1)/(x+1)}(rho*s+r0)-function(x){return((x=Math.exp(x))-1/x)/2}(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/cosh(rho*s+r0)]}}return i.duration=1e3*S*rho/Math.SQRT2,i}return zoom.rho=function(_){var _1=Math.max(.001,+_),_2=_1*_1;return zoomRho(_1,_2,_2*_2)},zoom}(Math.SQRT2,2,4),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(callback,delay,time){var t=new Timer;return t.restart(callback,delay,time),t}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{!function(){now(),++frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(null,e),t=t._next;--frame}()}finally{frame=0,function(){for(var t0,t2,t1=taskHead,time=1/0;t1;)t1._call?(time>t1._time&&(time=t1._time),t0=t1,t1=t1._next):(t2=t1._next,t1._next=null,t1=t0?t0._next=t2:taskHead=t2);taskTail=t0,sleep(time)}(),clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;delay>pokeDelay&&(clockSkew-=delay,clockLast=now)}function sleep(time){frame||(timeout$1&&(timeout$1=clearTimeout(timeout$1)),time-clockNow>24?(time<1/0&&(timeout$1=setTimeout(wake,time-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake)))}function timeout(callback,delay,time){var t=new Timer;return delay=null==delay?0:+delay,t.restart((function(elapsed){t.stop(),callback(elapsed+delay)}),delay,time),t}Timer.prototype=timer.prototype={constructor:Timer,restart:function(callback,delay,time){if("function"!=typeof callback)throw new TypeError("callback is not a function");time=(null==time?now():+time)+(null==delay?0:+delay),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=callback,this._time=time,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(node,name,id,index,group,timing){var schedules=node.__transition;if(schedules){if(id in schedules)return}else node.__transition={};!function(node,id,self){var tween,schedules=node.__transition;function schedule(elapsed){self.state=SCHEDULED,self.timer.restart(start,self.delay,self.time),self.delay<=elapsed&&start(elapsed-self.delay)}function start(elapsed){var i,j,n,o;if(self.state!==SCHEDULED)return stop();for(i in schedules)if((o=schedules[i]).name===self.name){if(o.state===STARTED)return timeout(start);o.state===RUNNING?(o.state=ENDED,o.timer.stop(),o.on.call("interrupt",node,node.__data__,o.index,o.group),delete schedules[i]):+i<id&&(o.state=ENDED,o.timer.stop(),o.on.call("cancel",node,node.__data__,o.index,o.group),delete schedules[i])}if(timeout((function(){self.state===STARTED&&(self.state=RUNNING,self.timer.restart(tick,self.delay,self.time),tick(elapsed))})),self.state=STARTING,self.on.call("start",node,node.__data__,self.index,self.group),self.state===STARTING){for(self.state=STARTED,tween=new Array(n=self.tween.length),i=0,j=-1;i<n;++i)(o=self.tween[i].value.call(node,node.__data__,self.index,self.group))&&(tween[++j]=o);tween.length=j+1}}function tick(elapsed){for(var t=elapsed<self.duration?self.ease.call(null,elapsed/self.duration):(self.timer.restart(stop),self.state=ENDING,1),i=-1,n=tween.length;++i<n;)tween[i].call(node,t);self.state===ENDING&&(self.on.call("end",node,node.__data__,self.index,self.group),stop())}function stop(){for(var i in self.state=ENDED,self.timer.stop(),delete schedules[id],schedules)return;delete node.__transition}schedules[id]=self,self.timer=timer(schedule,0,self.time)}(node,id,{name:name,index:index,group:group,on:emptyOn,tween:emptyTween,time:timing.time,delay:timing.delay,duration:timing.duration,ease:timing.ease,timer:null,state:CREATED})}function init(node,id){var schedule=get(node,id);if(schedule.state>CREATED)throw new Error("too late; already scheduled");return schedule}function set(node,id){var schedule=get(node,id);if(schedule.state>STARTED)throw new Error("too late; already running");return schedule}function get(node,id){var schedule=node.__transition;if(!schedule||!(schedule=schedule[id]))throw new Error("transition not found");return schedule}function interrupt(node,name){var schedule,active,i,schedules=node.__transition,empty=!0;if(schedules){for(i in name=null==name?null:name+"",schedules)(schedule=schedules[i]).name===name?(active=schedule.state>STARTING&&schedule.state<ENDING,schedule.state=ENDED,schedule.timer.stop(),schedule.on.call(active?"interrupt":"cancel",node,node.__data__,schedule.index,schedule.group),delete schedules[i]):empty=!1;empty&&delete node.__transition}}function tweenRemove(id,name){var tween0,tween1;return function(){var schedule=set(this,id),tween=schedule.tween;if(tween!==tween0)for(var i=0,n=(tween1=tween0=tween).length;i<n;++i)if(tween1[i].name===name){(tween1=tween1.slice()).splice(i,1);break}schedule.tween=tween1}}function tweenFunction(id,name,value){var tween0,tween1;if("function"!=typeof value)throw new Error;return function(){var schedule=set(this,id),tween=schedule.tween;if(tween!==tween0){tween1=(tween0=tween).slice();for(var t={name:name,value:value},i=0,n=tween1.length;i<n;++i)if(tween1[i].name===name){tween1[i]=t;break}i===n&&tween1.push(t)}schedule.tween=tween1}}function tweenValue(transition,name,value){var id=transition._id;return transition.each((function(){var schedule=set(this,id);(schedule.value||(schedule.value={}))[name]=value.apply(this,arguments)})),function(node){return get(node,id).value[name]}}function interpolate(a,b){var c;return("number"==typeof b?interpolateNumber:b instanceof color?interpolateRgb:(c=color(b))?(b=c,interpolateRgb):interpolateString)(a,b)}function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttribute(name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attrConstantNS(fullname,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttributeNS(fullname.space,fullname.local);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attrFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttribute(name))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttribute(name)}}function attrFunctionNS(fullname,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttributeNS(fullname.space,fullname.local))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttributeNS(fullname.space,fullname.local)}}function attrTweenNS(fullname,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function(fullname,i){return function(t){this.setAttributeNS(fullname.space,fullname.local,i.call(this,t))}}(fullname,i)),t0}return tween._value=value,tween}function attrTween(name,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function(name,i){return function(t){this.setAttribute(name,i.call(this,t))}}(name,i)),t0}return tween._value=value,tween}function delayFunction(id,value){return function(){init(this,id).delay=+value.apply(this,arguments)}}function delayConstant(id,value){return value=+value,function(){init(this,id).delay=value}}function durationFunction(id,value){return function(){set(this,id).duration=+value.apply(this,arguments)}}function durationConstant(id,value){return value=+value,function(){set(this,id).duration=value}}var Selection=selection.prototype.constructor;function styleRemove(name){return function(){this.style.removeProperty(name)}}var id=0;function Transition(groups,parents,name,id){this._groups=groups,this._parents=parents,this._name=name,this._id=id}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:function(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode,schedule(subgroup[i],name,id,i,subgroup,get(node,id)));return new Transition(subgroups,this._parents,name,id)},selectAll:function(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selectorAll(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){for(var child,children=select.call(node,node.__data__,i,group),inherit=get(node,id),k=0,l=children.length;k<l;++k)(child=children[k])&&schedule(child,name,id,k,children,inherit);subgroups.push(children),parents.push(node)}return new Transition(subgroups,parents,name,id)},selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:function(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Transition(subgroups,this._parents,this._name,this._id)},merge:function(transition){if(transition._id!==this._id)throw new Error;for(var groups0=this._groups,groups1=transition._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Transition(merges,this._parents,this._name,this._id)},selection:function(){return new Selection(this._groups,this._parents)},transition:function(){for(var name=this._name,id0=this._id,id1=newId(),groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){var inherit=get(node,id0);schedule(node,name,id1,i,group,{time:inherit.time+inherit.delay+inherit.duration,delay:0,duration:inherit.duration,ease:inherit.ease})}return new Transition(groups,this._parents,name,id1)},call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:function(name,listener){var id=this._id;return arguments.length<2?get(this.node(),id).on.on(name):this.each(function(id,name,listener){var on0,on1,sit=function(name){return(name+"").trim().split(/^|\s+/).every((function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t}))}(name)?init:set;return function(){var schedule=sit(this,id),on=schedule.on;on!==on0&&(on1=(on0=on).copy()).on(name,listener),schedule.on=on1}}(id,name,listener))},attr:function(name,value){var fullname=namespace(name),i="transform"===fullname?interpolateTransformSvg:interpolate;return this.attrTween(name,"function"==typeof value?(fullname.local?attrFunctionNS:attrFunction)(fullname,i,tweenValue(this,"attr."+name,value)):null==value?(fullname.local?attrRemoveNS:attrRemove)(fullname):(fullname.local?attrConstantNS:attrConstant)(fullname,i,value))},attrTween:function(name,value){var key="attr."+name;if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;var fullname=namespace(name);return this.tween(key,(fullname.local?attrTweenNS:attrTween)(fullname,value))},style:function(name,value,priority){var i="transform"==(name+="")?interpolateTransformCss:interpolate;return null==value?this.styleTween(name,function(name,interpolate){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),string1=(this.style.removeProperty(name),styleValue(this,name));return string0===string1?null:string0===string00&&string1===string10?interpolate0:interpolate0=interpolate(string00=string0,string10=string1)}}(name,i)).on("end.style."+name,styleRemove(name)):"function"==typeof value?this.styleTween(name,function(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),value1=value(this),string1=value1+"";return null==value1&&(this.style.removeProperty(name),string1=value1=styleValue(this,name)),string0===string1?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1))}}(name,i,tweenValue(this,"style."+name,value))).each(function(id,name){var on0,on1,listener0,remove,key="style."+name,event="end."+key;return function(){var schedule=set(this,id),on=schedule.on,listener=null==schedule.value[key]?remove||(remove=styleRemove(name)):void 0;on===on0&&listener0===listener||(on1=(on0=on).copy()).on(event,listener0=listener),schedule.on=on1}}(this._id,name)):this.styleTween(name,function(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=styleValue(this,name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}(name,i,value),priority).on("end.style."+name,null)},styleTween:function(name,value,priority){var key="style."+(name+="");if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,function(name,value,priority){var t,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t=(i0=i)&&function(name,i,priority){return function(t){this.style.setProperty(name,i.call(this,t),priority)}}(name,i,priority)),t}return tween._value=value,tween}(name,value,null==priority?"":priority))},text:function(value){return this.tween("text","function"==typeof value?function(value){return function(){var value1=value(this);this.textContent=null==value1?"":value1}}(tweenValue(this,"text",value)):function(value){return function(){this.textContent=value}}(null==value?"":value+""))},textTween:function(value){var key="text";if(arguments.length<1)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,function(value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function(i){return function(t){this.textContent=i.call(this,t)}}(i)),t0}return tween._value=value,tween}(value))},remove:function(){return this.on("end.remove",function(id){return function(){var parent=this.parentNode;for(var i in this.__transition)if(+i!==id)return;parent&&parent.removeChild(this)}}(this._id))},tween:function(name,value){var id=this._id;if(name+="",arguments.length<2){for(var t,tween=get(this.node(),id).tween,i=0,n=tween.length;i<n;++i)if((t=tween[i]).name===name)return t.value;return null}return this.each((null==value?tweenRemove:tweenFunction)(id,name,value))},delay:function(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?delayFunction:delayConstant)(id,value)):get(this.node(),id).delay},duration:function(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?durationFunction:durationConstant)(id,value)):get(this.node(),id).duration},ease:function(value){var id=this._id;return arguments.length?this.each(function(id,value){if("function"!=typeof value)throw new Error;return function(){set(this,id).ease=value}}(id,value)):get(this.node(),id).ease},easeVarying:function(value){if("function"!=typeof value)throw new Error;return this.each(function(id,value){return function(){var v=value.apply(this,arguments);if("function"!=typeof v)throw new Error;set(this,id).ease=v}}(this._id,value))},end:function(){var on0,on1,that=this,id=that._id,size=that.size();return new Promise((function(resolve,reject){var cancel={value:reject},end={value:function(){0==--size&&resolve()}};that.each((function(){var schedule=set(this,id),on=schedule.on;on!==on0&&((on1=(on0=on).copy())._.cancel.push(cancel),on1._.interrupt.push(cancel),on1._.end.push(end)),schedule.on=on1})),0===size&&resolve()}))},[Symbol.iterator]:selection_prototype[Symbol.iterator]};var defaultTiming={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function inherit(node,id){for(var timing;!(timing=node.__transition)||!(timing=timing[id]);)if(!(node=node.parentNode))throw new Error(`transition ${id} not found`);return timing}selection.prototype.interrupt=function(name){return this.each((function(){interrupt(this,name)}))},selection.prototype.transition=function(name){var id,timing;name instanceof Transition?(id=name._id,name=name._name):(id=newId(),(timing=defaultTiming).time=now(),name=null==name?null:name+"");for(var groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&schedule(node,name,id,i,group,timing||inherit(node,id));return new Transition(groups,this._parents,name,id)};var constant$1=x=>()=>x;function ZoomEvent(type,{sourceEvent:sourceEvent,target:target,transform:transform,dispatch:dispatch}){Object.defineProperties(this,{type:{value:type,enumerable:!0,configurable:!0},sourceEvent:{value:sourceEvent,enumerable:!0,configurable:!0},target:{value:target,enumerable:!0,configurable:!0},transform:{value:transform,enumerable:!0,configurable:!0},_:{value:dispatch}})}function Transform(k,x,y){this.k=k,this.x=x,this.y=y}Transform.prototype={constructor:Transform,scale:function(k){return 1===k?this:new Transform(this.k*k,this.x,this.y)},translate:function(x,y){return 0===x&0===y?this:new Transform(this.k,this.x+this.k*x,this.y+this.k*y)},apply:function(point){return[point[0]*this.k+this.x,point[1]*this.k+this.y]},applyX:function(x){return x*this.k+this.x},applyY:function(y){return y*this.k+this.y},invert:function(location){return[(location[0]-this.x)/this.k,(location[1]-this.y)/this.k]},invertX:function(x){return(x-this.x)/this.k},invertY:function(y){return(y-this.y)/this.k},rescaleX:function(x){return x.copy().domain(x.range().map(this.invertX,this).map(x.invert,x))},rescaleY:function(y){return y.copy().domain(y.range().map(this.invertY,this).map(y.invert,y))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity$2=new Transform(1,0,0);function transform(node){for(;!node.__zoom;)if(!(node=node.parentNode))return identity$2;return node.__zoom}function nopropagation(event){event.stopImmediatePropagation()}function noevent(event){event.preventDefault(),event.stopImmediatePropagation()}function defaultFilter(event){return!(event.ctrlKey&&"wheel"!==event.type||event.button)}function defaultExtent(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function defaultTransform(){return this.__zoom||identity$2}function defaultWheelDelta(event){return-event.deltaY*(1===event.deltaMode?.05:event.deltaMode?1:.002)*(event.ctrlKey?10:1)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(transform,extent,translateExtent){var dx0=transform.invertX(extent[0][0])-translateExtent[0][0],dx1=transform.invertX(extent[1][0])-translateExtent[1][0],dy0=transform.invertY(extent[0][1])-translateExtent[0][1],dy1=transform.invertY(extent[1][1])-translateExtent[1][1];return transform.translate(dx1>dx0?(dx0+dx1)/2:Math.min(0,dx0)||Math.max(0,dx1),dy1>dy0?(dy0+dy1)/2:Math.min(0,dy0)||Math.max(0,dy1))}function zoom(){var touchstarting,touchfirst,touchending,filter=defaultFilter,extent=defaultExtent,constrain=defaultConstrain,wheelDelta=defaultWheelDelta,touchable=defaultTouchable,scaleExtent=[0,1/0],translateExtent=[[-1/0,-1/0],[1/0,1/0]],duration=250,interpolate=interpolateZoom,listeners=dispatch("start","zoom","end"),touchDelay=500,wheelDelay=150,clickDistance2=0,tapDistance=10;function zoom(selection){selection.property("__zoom",defaultTransform).on("wheel.zoom",wheeled,{passive:!1}).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(touchable).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(transform,k){return(k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],k)))===transform.k?transform:new Transform(k,transform.x,transform.y)}function translate(transform,p0,p1){var x=p0[0]-p1[0]*transform.k,y=p0[1]-p1[1]*transform.k;return x===transform.x&&y===transform.y?transform:new Transform(transform.k,x,y)}function centroid(extent){return[(+extent[0][0]+ +extent[1][0])/2,(+extent[0][1]+ +extent[1][1])/2]}function schedule(transition,transform,point,event){transition.on("start.zoom",(function(){gesture(this,arguments).event(event).start()})).on("interrupt.zoom end.zoom",(function(){gesture(this,arguments).event(event).end()})).tween("zoom",(function(){var args=arguments,g=gesture(this,args).event(event),e=extent.apply(this,args),p=null==point?centroid(e):"function"==typeof point?point.apply(this,args):point,w=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),a=this.__zoom,b="function"==typeof transform?transform.apply(this,args):transform,i=interpolate(a.invert(p).concat(w/a.k),b.invert(p).concat(w/b.k));return function(t){if(1===t)t=b;else{var l=i(t),k=w/l[2];t=new Transform(k,p[0]-l[0]*k,p[1]-l[1]*k)}g.zoom(null,t)}}))}function gesture(that,args,clean){return!clean&&that.__zooming||new Gesture(that,args)}function Gesture(that,args){this.that=that,this.args=args,this.active=0,this.sourceEvent=null,this.extent=extent.apply(that,args),this.taps=0}function wheeled(event,...args){if(filter.apply(this,arguments)){var g=gesture(this,args).event(event),t=this.__zoom,k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],t.k*Math.pow(2,wheelDelta.apply(this,arguments)))),p=pointer(event);if(g.wheel)g.mouse[0][0]===p[0]&&g.mouse[0][1]===p[1]||(g.mouse[1]=t.invert(g.mouse[0]=p)),clearTimeout(g.wheel);else{if(t.k===k)return;g.mouse=[p,t.invert(p)],interrupt(this),g.start()}noevent(event),g.wheel=setTimeout((function(){g.wheel=null,g.end()}),wheelDelay),g.zoom("mouse",constrain(translate(scale(t,k),g.mouse[0],g.mouse[1]),g.extent,translateExtent))}}function mousedowned(event,...args){if(!touchending&&filter.apply(this,arguments)){var currentTarget=event.currentTarget,g=gesture(this,args,!0).event(event),v=select(event.view).on("mousemove.zoom",(function(event){if(noevent(event),!g.moved){var dx=event.clientX-x0,dy=event.clientY-y0;g.moved=dx*dx+dy*dy>clickDistance2}g.event(event).zoom("mouse",constrain(translate(g.that.__zoom,g.mouse[0]=pointer(event,currentTarget),g.mouse[1]),g.extent,translateExtent))}),!0).on("mouseup.zoom",(function(event){v.on("mousemove.zoom mouseup.zoom",null),function(view,noclick){var root=view.document.documentElement,selection=select(view).on("dragstart.drag",null);noclick&&(selection.on("click.drag",noevent$1,nonpassivecapture),setTimeout((function(){selection.on("click.drag",null)}),0)),"onselectstart"in root?selection.on("selectstart.drag",null):(root.style.MozUserSelect=root.__noselect,delete root.__noselect)}(event.view,g.moved),noevent(event),g.event(event).end()}),!0),p=pointer(event,currentTarget),x0=event.clientX,y0=event.clientY;!function(view){var root=view.document.documentElement,selection=select(view).on("dragstart.drag",noevent$1,nonpassivecapture);"onselectstart"in root?selection.on("selectstart.drag",noevent$1,nonpassivecapture):(root.__noselect=root.style.MozUserSelect,root.style.MozUserSelect="none")}(event.view),nopropagation(event),g.mouse=[p,this.__zoom.invert(p)],interrupt(this),g.start()}}function dblclicked(event,...args){if(filter.apply(this,arguments)){var t0=this.__zoom,p0=pointer(event.changedTouches?event.changedTouches[0]:event,this),p1=t0.invert(p0),k1=t0.k*(event.shiftKey?.5:2),t1=constrain(translate(scale(t0,k1),p0,p1),extent.apply(this,args),translateExtent);noevent(event),duration>0?select(this).transition().duration(duration).call(schedule,t1,p0,event):select(this).call(zoom.transform,t1,p0,event)}}function touchstarted(event,...args){if(filter.apply(this,arguments)){var started,i,t,p,touches=event.touches,n=touches.length,g=gesture(this,args,event.changedTouches.length===n).event(event);for(nopropagation(event),i=0;i<n;++i)p=[p=pointer(t=touches[i],this),this.__zoom.invert(p),t.identifier],g.touch0?g.touch1||g.touch0[2]===p[2]||(g.touch1=p,g.taps=0):(g.touch0=p,started=!0,g.taps=1+!!touchstarting);touchstarting&&(touchstarting=clearTimeout(touchstarting)),started&&(g.taps<2&&(touchfirst=p[0],touchstarting=setTimeout((function(){touchstarting=null}),touchDelay)),interrupt(this),g.start())}}function touchmoved(event,...args){if(this.__zooming){var i,t,p,l,g=gesture(this,args).event(event),touches=event.changedTouches,n=touches.length;for(noevent(event),i=0;i<n;++i)p=pointer(t=touches[i],this),g.touch0&&g.touch0[2]===t.identifier?g.touch0[0]=p:g.touch1&&g.touch1[2]===t.identifier&&(g.touch1[0]=p);if(t=g.that.__zoom,g.touch1){var p0=g.touch0[0],l0=g.touch0[1],p1=g.touch1[0],l1=g.touch1[1],dp=(dp=p1[0]-p0[0])*dp+(dp=p1[1]-p0[1])*dp,dl=(dl=l1[0]-l0[0])*dl+(dl=l1[1]-l0[1])*dl;t=scale(t,Math.sqrt(dp/dl)),p=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2],l=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2]}else{if(!g.touch0)return;p=g.touch0[0],l=g.touch0[1]}g.zoom("touch",constrain(translate(t,p,l),g.extent,translateExtent))}}function touchended(event,...args){if(this.__zooming){var i,t,g=gesture(this,args).event(event),touches=event.changedTouches,n=touches.length;for(nopropagation(event),touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),touchDelay),i=0;i<n;++i)t=touches[i],g.touch0&&g.touch0[2]===t.identifier?delete g.touch0:g.touch1&&g.touch1[2]===t.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),2===g.taps&&(t=pointer(t,this),Math.hypot(touchfirst[0]-t[0],touchfirst[1]-t[1])<tapDistance)){var p=select(this).on("dblclick.zoom");p&&p.apply(this,arguments)}}}return zoom.transform=function(collection,transform,point,event){var selection=collection.selection?collection.selection():collection;selection.property("__zoom",defaultTransform),collection!==selection?schedule(collection,transform,point,event):selection.interrupt().each((function(){gesture(this,arguments).event(event).start().zoom(null,"function"==typeof transform?transform.apply(this,arguments):transform).end()}))},zoom.scaleBy=function(selection,k,p,event){zoom.scaleTo(selection,(function(){return this.__zoom.k*("function"==typeof k?k.apply(this,arguments):k)}),p,event)},zoom.scaleTo=function(selection,k,p,event){zoom.transform(selection,(function(){var e=extent.apply(this,arguments),t0=this.__zoom,p0=null==p?centroid(e):"function"==typeof p?p.apply(this,arguments):p,p1=t0.invert(p0),k1="function"==typeof k?k.apply(this,arguments):k;return constrain(translate(scale(t0,k1),p0,p1),e,translateExtent)}),p,event)},zoom.translateBy=function(selection,x,y,event){zoom.transform(selection,(function(){return constrain(this.__zoom.translate("function"==typeof x?x.apply(this,arguments):x,"function"==typeof y?y.apply(this,arguments):y),extent.apply(this,arguments),translateExtent)}),null,event)},zoom.translateTo=function(selection,x,y,p,event){zoom.transform(selection,(function(){var e=extent.apply(this,arguments),t=this.__zoom,p0=null==p?centroid(e):"function"==typeof p?p.apply(this,arguments):p;return constrain(identity$2.translate(p0[0],p0[1]).scale(t.k).translate("function"==typeof x?-x.apply(this,arguments):-x,"function"==typeof y?-y.apply(this,arguments):-y),e,translateExtent)}),p,event)},Gesture.prototype={event:function(event){return event&&(this.sourceEvent=event),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(key,transform){return this.mouse&&"mouse"!==key&&(this.mouse[1]=transform.invert(this.mouse[0])),this.touch0&&"touch"!==key&&(this.touch0[1]=transform.invert(this.touch0[0])),this.touch1&&"touch"!==key&&(this.touch1[1]=transform.invert(this.touch1[0])),this.that.__zoom=transform,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(type){var d=select(this.that).datum();listeners.call(type,this.that,new ZoomEvent(type,{sourceEvent:this.sourceEvent,target:zoom,type:type,transform:this.that.__zoom,dispatch:listeners}),d)}},zoom.wheelDelta=function(_){return arguments.length?(wheelDelta="function"==typeof _?_:constant$1(+_),zoom):wheelDelta},zoom.filter=function(_){return arguments.length?(filter="function"==typeof _?_:constant$1(!!_),zoom):filter},zoom.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:constant$1(!!_),zoom):touchable},zoom.extent=function(_){return arguments.length?(extent="function"==typeof _?_:constant$1([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),zoom):extent},zoom.scaleExtent=function(_){return arguments.length?(scaleExtent[0]=+_[0],scaleExtent[1]=+_[1],zoom):[scaleExtent[0],scaleExtent[1]]},zoom.translateExtent=function(_){return arguments.length?(translateExtent[0][0]=+_[0][0],translateExtent[1][0]=+_[1][0],translateExtent[0][1]=+_[0][1],translateExtent[1][1]=+_[1][1],zoom):[[translateExtent[0][0],translateExtent[0][1]],[translateExtent[1][0],translateExtent[1][1]]]},zoom.constrain=function(_){return arguments.length?(constrain=_,zoom):constrain},zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration},zoom.interpolate=function(_){return arguments.length?(interpolate=_,zoom):interpolate},zoom.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?zoom:value},zoom.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,zoom):Math.sqrt(clickDistance2)},zoom.tapDistance=function(_){return arguments.length?(tapDistance=+_,zoom):tapDistance},zoom}transform.prototype=Transform.prototype;class ScaleHelper{static getPixelRatio(scale){const[dmin,dmax]=scale.domain(),[rmin,rmax]=scale.range(),deltaDomain=Math.abs(dmax-dmin);return Math.abs(rmax-rmin)/deltaDomain}static getDomainRatio(scale){const[dmin,dmax]=scale.domain(),[rmin,rmax]=scale.range();return Math.abs(dmax-dmin)/Math.abs(rmax-rmin)}static getDomainSpan(scale,absoluteValue=!0){const[d1,d2]=scale.domain(),span=d2-d1;return absoluteValue?Math.abs(span):span}static getDomainPixelSpan(scale,domain){const[d1,d2]=domain||scale.domain(),y1=scale(d1),y2=scale(d2);return Math.max(0,Math.abs(y2-y1))}static getRangeSpan(scale){const[r0,r1]=scale.range();return Math.abs(r1-r0)}static createLogTicks(scale){const[,xmax]=scale.domain(),guides=[],ticks={major:[],minor:[]};let curr=1;for(;curr<xmax;)guides.push(curr),curr*=10;return scale.ticks().splice(1).forEach((t=>{guides.includes(t)?ticks.major.push(t):ticks.minor.push(t)})),ticks}static createLinearTicks(scale,num=10){const hTicks=num,hStep=ScaleHelper.getRangeSpan(scale)/hTicks,center=hTicks/2,ticks={major:[],minor:[]};for(let i=1;i<hTicks;i+=1){const x=i*hStep;center&&i%center==0?ticks.major.push(scale.invert(x)):ticks.minor.push(scale.invert(x))}return ticks}static createMinorTicks(v,steps,stepSize){const res=[];for(let i=1;i<steps;i+=1){const mv=v+i*stepSize;res.push(mv)}return res}static createTicks(scale){const[dmin,dmax]=scale.domain(),height=ScaleHelper.getRangeSpan(scale),major=[],minor=[];if(height>0){const nTicks=Math.min(Math.ceil(height/60),2*Math.floor(Math.abs(dmax-dmin)));major.push(...scale.ticks(nTicks));const tickHeight=height/major.length,majorSize=major.length>1?major[1]-major[0]:major[0]||0;let numMinor=majorSize<=1?10*majorSize:Math.min(10,majorSize);if(numMinor){tickHeight<10*numMinor&&(numMinor=5*Math.round(tickHeight/10/5));const minorSize=majorSize/numMinor;minor.push(...ScaleHelper.createMinorTicks(major[0]-majorSize,numMinor,minorSize)),major.forEach((tick=>{minor.push(...ScaleHelper.createMinorTicks(tick,numMinor,minorSize))}))}}return{major:major,minor:minor.filter((t=>t>=dmin&&t<=dmax))}}}class DataHelper{static mean(segment){if(segment.length<=2)return segment;let avgV=0,avgD=0;for(let i=0;i<segment.length;i++)avgD+=segment[i][0],avgV+=segment[i][1];return[[avgD/segment.length,avgV/segment.length]]}static minmax(segment){if(segment.length<=2)return segment;let min=segment[0][1],max=-1/0,minLast=!1;for(let i=0;i<segment.length;i++)segment[i][1]>max?(max=segment[i][1],minLast=!1):segment[i][1]<min&&(min=segment[i][1],minLast=!0);return[[segment[0][0],minLast?max:min],[segment[segment.length-1][0],minLast?min:max]]}static isWithinBounds(scale,datapoints){if(!datapoints||datapoints.length<1)return!1;const[min,max]=scale.domain(),first=datapoints[0],last=datapoints[datapoints.length-1];return!(first[0]>max||last[0]<min)}static trimUndefinedValues(datapoints){let prev=0;return null==datapoints?void 0:datapoints.filter((pt=>{let include=!0;return null===pt[1]&&null===prev&&(include=!1),prev=pt[1],include}))}static filterData(datapoints,domain,overlapFactor=.5){const[d0,d1]=domain,overlap=overlapFactor*(d1-d0),dmin=d0-overlap,dmax=d1+overlap;return null==datapoints?void 0:datapoints.filter(((pt,i)=>{if(pt[0]>=dmin&&pt[0]<=dmax)return!0;const crossingMin=pt[0]<dmin&&i+1<datapoints.length&&datapoints[i+1][0]>dmin,crossingMax=pt[0]>dmax&&i-1>=0&&datapoints[i-1][0]<dmax;return crossingMin||crossingMax}))}static findNextDefined(data,start=0){for(let i=start;i<data.length;i++)if(Number.isFinite(data[i][1]))return i;return-1}static findNextUndefined(data,start=0){for(let i=start;i<data.length;i++)if(!Number.isFinite(data[i][1]))return i;return-1}static resample(datapoints,ratio,reducer=DataHelper.mean){if(ratio<=2||datapoints.length<100)return datapoints;ratio=Math.floor(ratio);const lastIndex=datapoints.length-1,first=datapoints[0],last=datapoints[lastIndex];let l=1;const reduced=[];let _safe=0;for(;l<lastIndex;){let r=Math.min(l+ratio,lastIndex);const segment=datapoints.slice(l,r),undefinedIdx=DataHelper.findNextUndefined(segment);if(undefinedIdx>-1){r=l+1;const undefinedEntry=segment[undefinedIdx],trailingEntry=segment[undefinedIdx+1];segment.splice(undefinedIdx),undefinedIdx>0&&(segment.pop(),r++),segment.length>0&&(reduced.push(...reducer(segment)),r+=segment.length),reduced.push(undefinedEntry),trailingEntry&&(reduced.push(trailingEntry),r++)}else segment.length>0&&reduced.push(...reducer(segment));if(l=r,_safe++,_safe>1e6)throw Error("Infinite loop terminated!")}return[first,...reduced,last]}static downsample(datapoints,scale,reducer=DataHelper.minmax){if(datapoints.length<10)return datapoints;const ratio=ScaleHelper.getDomainRatio(scale),lastIndex=datapoints.length-1,firstIndex=DataHelper.findNextDefined(datapoints),first=datapoints[firstIndex],last=datapoints[lastIndex],reduced=[];reduced.push(first);let l=firstIndex+1,r=l+1;for(;r<=lastIndex;){const rp=datapoints[r],isdef=Number.isFinite(rp[1]);if(!isdef||rp[0]-datapoints[l][0]>ratio||r===lastIndex){const segment=r-l>0?datapoints.slice(l,r):[];if(1===segment.length?reduced.push(segment[0]):0!==segment.length&&reduced.push(...reducer(segment)),isdef?l=r:(reduced.push(rp),l=DataHelper.findNextDefined(datapoints,r+1)),-1===l)break;r=l+1}else r++}return reduced.push(last),reduced}static mergeDataSeries(arr1,arr2){const res=[];let n=0;if(arr1.length>0&&arr2.length>0){let md=Math.min(arr1[0][0],arr2[0][0]),i=0,j=0;if(arr1[0][0]<arr2[0][0]&&arr1[arr1.length-1][0]<arr2[0][0])return[];if(arr2[0][0]<arr1[0][0]&&arr2[arr2.length-1][0]<arr1[0][0])return[];for(;i<arr1.length&&j<arr2.length;){md=arr1[i][0];let rv=0,rn=0;for(;arr2[j][0]>md&&i<arr1.length;)j>0?j--:(res[n++]=[md,arr1[i][1],null],md=arr1[++i][0]);for(;j<arr2.length&&arr2[j][0]<=md;){if(null===arr2[j][1]){res[n++]=[arr2[j][0],arr1[i][1],arr2[j][1]],j++;break}rv+=arr2[j][1],rn++,j++}rn>0&&(res[n++]=[md,arr1[i][1],rv/rn]),i++}for(;i<arr1.length;)res[n++]=[arr1[i][0],arr1[i][1],null],i++;for(;j<arr2.length;)res[n++]=[arr2[j][0],null,arr2[j][1]],j++;return res}return arr1.length>0?arr1.map((d=>[d[0],d[1],null])):arr2.length>0?arr2.map((d=>[d[0],null,d[1]])):[]}static queryContinuousData(queryVal,data){try{if(queryVal<data[0][0]||queryVal>data[data.length-1][0])return null;let idx=data.findIndex((d=>queryVal<=d[0]));if(idx>0){const qFound=data[idx][0],qBefore=data[idx-1][0];queryVal-qBefore<qFound-queryVal&&(idx-=1)}if(-1!==idx)return data[idx][1]}catch(err){console.error(err)}return null}static queryPointData(queryVal,data,threshold=0){try{const bestMatch=data.filter((d=>queryVal-threshold<=d[0]&&d[0]<=queryVal+threshold)).reduce(((match,d)=>{const rank=Math.abs(queryVal-d[0]);return null===match.rank||rank<match.rank?{data:d,rank:rank}:match}),{data:null,rank:null}).data;if(null!==bestMatch)return bestMatch[1]}catch(err){console.error(err)}return null}static queryZoneData(queryVal,data){try{const index=data.findIndex(((d,i,arr)=>i<arr.length-1&&null!==d[1]&&d[0]<=queryVal&&arr[i+1][0]>queryVal));return index>-1?data[index][1]:null}catch(err){console.error(err)}return null}}class GridHelper{static drawGrid(ctx,xscale,xticks,yscale,yticks){const[x0,x1]=xscale.range(),[y0,y1]=yscale.range();ctx.save(),ctx.strokeStyle="#ddd",ctx.lineWidth=.5,xticks.minor.forEach((tick=>{const x=xscale(tick);ctx.beginPath(),ctx.moveTo(x,y0),ctx.lineTo(x,y1),ctx.stroke()})),ctx.strokeStyle="#ccc",ctx.lineWidth=1,xticks.major.forEach((tick=>{const x=xscale(tick);ctx.beginPath(),ctx.moveTo(x,y0),ctx.lineTo(x,y1),ctx.stroke()})),ctx.strokeStyle="#ddd",ctx.lineWidth=1,yticks.minor.forEach((tick=>{const y=yscale(tick);ctx.beginPath(),ctx.moveTo(x0,y),ctx.lineTo(x1,y),ctx.stroke()})),ctx.strokeStyle="#ccc",ctx.lineWidth=2,yticks.major.forEach((tick=>{const y=yscale(tick);ctx.beginPath(),ctx.moveTo(x0,y),ctx.lineTo(x1,y),ctx.stroke()})),ctx.restore()}}class LegendHelper{static basicLegendSvgConfig(trackRowsFunc,updateFunc){return{elementType:"svg",getLegendRows:track=>trackRowsFunc(track),onInit:(elm,track,updateTrigger)=>{track.legendUpdate=updateTrigger;const lg=select(elm);lg.selectAll("*").remove(),lg.append("g").attr("class","svg-legend")},onUpdate:updateFunc}}static renderBasicVerticalSvgLabel(g,bounds,label,abbr,horizontal=!1){const{width:width,height:height,left:left=0,top:top=0}=bounds,y=top+.9*height,x=left+Math.max(0,width/2),textSize=Math.min(12,Math.min(width,40)/3),transform=horizontal?`translate(${y},${x})`:`translate(${x},${y})rotate(90)`,lbl=g.append("text").attr("transform",transform).attr("font-size",`${textSize}px`).attr("dominant-baseline","middle").style("text-anchor","end");lbl.text(label),lbl.node().getBBox().width>.8*height&&lbl.text(abbr||label)}static basicVerticalLabel(label,abbr){return LegendHelper.basicLegendSvgConfig((()=>3),((elm,bounds,track)=>{const g=select(elm);g.selectAll("*").remove(),LegendHelper.renderBasicVerticalSvgLabel(g,bounds,label||track.options.label,abbr||track.options.abbr,track.options.horizontal)}))}}function round(v,decimals){const f=10**decimals;return Math.round(v*f)/f}function hashString(str){let hash=0;if(0===str.length)return hash;for(let i=0;i<str.length;i++)hash=(hash<<5)-hash+str.charCodeAt(i),hash&=hash;return hash}function debouncer(debounceInterval=20){const _debounces={};return function(func,...args){const funcName=hashString(func.name||func.toString()).toString();_debounces[funcName]&&clearTimeout(_debounces[funcName]),_debounces[funcName]=setTimeout((()=>{delete _debounces[funcName],func(...args)}),debounceInterval)}}function setAttrs(selection,attrs){return"function"==typeof attrs?(selection.each((function(d){const obj=attrs(d);Object.entries(obj).forEach((a=>{this.setAttribute(a[0],a[1])}))})),selection):(Object.entries(attrs).forEach((a=>{selection.attr(a[0],a[1])})),selection)}function setStyles(selection,styles){return"function"==typeof styles?(selection.each((function(d){const obj=styles(d);Object.entries(obj).forEach((s=>{this.style.setProperty(s[0],s[1])}))})),selection):(Object.entries(styles).forEach((s=>{selection.style(s[0],s[1])})),selection)}function setProps(selection,props){return props.attrs&&setAttrs(selection,props.attrs),props.styles&&setStyles(selection,props.styles),selection}function ascending(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function descending(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function bisector(f){let compare1,compare2,delta;function left(a,x,lo=0,hi=a.length){if(lo<hi){if(0!==compare1(x,x))return hi;do{const mid=lo+hi>>>1;compare2(a[mid],x)<0?lo=mid+1:hi=mid}while(lo<hi)}return lo}return 2!==f.length?(compare1=ascending,compare2=(d,x)=>ascending(f(d),x),delta=(d,x)=>f(d)-x):(compare1=f===ascending||f===descending?f:zero,compare2=f,delta=f),{left:left,center:function(a,x,lo=0,hi=a.length){const i=left(a,x,lo,hi-1);return i>lo&&delta(a[i-1],x)>-delta(a[i],x)?i-1:i},right:function(a,x,lo=0,hi=a.length){if(lo<hi){if(0!==compare1(x,x))return hi;do{const mid=lo+hi>>>1;compare2(a[mid],x)<=0?lo=mid+1:hi=mid}while(lo<hi)}return lo}}}function zero(){return 0}const bisectRight=bisector(ascending).right;bisector((function(x){return null===x?NaN:+x})).center;var bisect=bisectRight,e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(start,stop,count){var reverse,n,ticks,step,i=-1;if(count=+count,(start=+start)==(stop=+stop)&&count>0)return[start];if((reverse=stop<start)&&(n=start,start=stop,stop=n),0===(step=tickIncrement(start,stop,count))||!isFinite(step))return[];if(step>0){let r0=Math.round(start/step),r1=Math.round(stop/step);for(r0*step<start&&++r0,r1*step>stop&&--r1,ticks=new Array(n=r1-r0+1);++i<n;)ticks[i]=(r0+i)*step}else{step=-step;let r0=Math.round(start*step),r1=Math.round(stop*step);for(r0/step<start&&++r0,r1/step>stop&&--r1,ticks=new Array(n=r1-r0+1);++i<n;)ticks[i]=(r0+i)/step}return reverse&&ticks.reverse(),ticks}function tickIncrement(start,stop,count){var step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log(step)/Math.LN10),error=step/Math.pow(10,power);return power>=0?(error>=e10?10:error>=e5?5:error>=e2?2:1)*Math.pow(10,power):-Math.pow(10,-power)/(error>=e10?10:error>=e5?5:error>=e2?2:1)}function initRange(domain,range){switch(arguments.length){case 0:break;case 1:this.range(domain);break;default:this.range(range).domain(domain)}return this}function number(x){return+x}var unit=[0,1];function identity$1(x){return x}function normalize(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:function(x){return function(){return x}}(isNaN(b)?NaN:.5)}function bimap(domain,range,interpolate){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1];return d1<d0?(d0=normalize(d1,d0),r0=interpolate(r1,r0)):(d0=normalize(d0,d1),r0=interpolate(r0,r1)),function(x){return r0(d0(x))}}function polymap(domain,range,interpolate){var j=Math.min(domain.length,range.length)-1,d=new Array(j),r=new Array(j),i=-1;for(domain[j]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++i<j;)d[i]=normalize(domain[i],domain[i+1]),r[i]=interpolate(range[i],range[i+1]);return function(x){var i=bisect(domain,x,1,j)-1;return r[i](d[i](x))}}function copy(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function transformer(){var transform,untransform,unknown,piecewise,output,input,domain=unit,range=unit,interpolate=interpolate$1,clamp=identity$1;function rescale(){var a,b,t,n=Math.min(domain.length,range.length);return clamp!==identity$1&&(a=domain[0],b=domain[n-1],a>b&&(t=a,a=b,b=t),clamp=function(x){return Math.max(a,Math.min(b,x))}),piecewise=n>2?polymap:bimap,output=input=null,scale}function scale(x){return null==x||isNaN(x=+x)?unknown:(output||(output=piecewise(domain.map(transform),range,interpolate)))(transform(clamp(x)))}return scale.invert=function(y){return clamp(untransform((input||(input=piecewise(range,domain.map(transform),interpolateNumber)))(y)))},scale.domain=function(_){return arguments.length?(domain=Array.from(_,number),rescale()):domain.slice()},scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):range.slice()},scale.rangeRound=function(_){return range=Array.from(_),interpolate=interpolateRound,rescale()},scale.clamp=function(_){return arguments.length?(clamp=!!_||identity$1,rescale()):clamp!==identity$1},scale.interpolate=function(_){return arguments.length?(interpolate=_,rescale()):interpolate},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t,u){return transform=t,untransform=u,rescale()}}function formatDecimal(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}function exponent(x){return(x=formatDecimal(Math.abs(x)))?x[1]:NaN}var prefixExponent,re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}function FormatSpecifier(specifier){this.fill=void 0===specifier.fill?" ":specifier.fill+"",this.align=void 0===specifier.align?">":specifier.align+"",this.sign=void 0===specifier.sign?"-":specifier.sign+"",this.symbol=void 0===specifier.symbol?"":specifier.symbol+"",this.zero=!!specifier.zero,this.width=void 0===specifier.width?void 0:+specifier.width,this.comma=!!specifier.comma,this.precision=void 0===specifier.precision?void 0:+specifier.precision,this.trim=!!specifier.trim,this.type=void 0===specifier.type?"":specifier.type+""}function formatRounded(x,p){var d=formatDecimal(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":function(x,p){return(100*x).toFixed(p)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:function(x){return Math.round(x).toString(10)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},g:function(x,p){return x.toPrecision(p)},o:function(x){return Math.round(x).toString(8)},p:function(x,p){return formatRounded(100*x,p)},r:formatRounded,s:function(x,p){var d=formatDecimal(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(exponent/3))))+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+formatDecimal(x,Math.max(0,p+i-1))[0]},X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function identity(x){return x}var locale,format,formatPrefix,map=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(locale){var grouping,thousands,group=void 0===locale.grouping||void 0===locale.thousands?identity:(grouping=map.call(locale.grouping,Number),thousands=locale.thousands+"",function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=grouping[j=(j+1)%grouping.length];return t.reverse().join(thousands)}),currencyPrefix=void 0===locale.currency?"":locale.currency[0]+"",currencySuffix=void 0===locale.currency?"":locale.currency[1]+"",decimal=void 0===locale.decimal?".":locale.decimal+"",numerals=void 0===locale.numerals?identity:function(numerals){return function(value){return value.replace(/[0-9]/g,(function(i){return numerals[+i]}))}}(map.call(locale.numerals,String)),percent=void 0===locale.percent?"%":locale.percent+"",minus=void 0===locale.minus?"-":locale.minus+"",nan=void 0===locale.nan?"NaN":locale.nan+"";function newFormat(specifier){var fill=(specifier=formatSpecifier(specifier)).fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):formatTypes[type]||(void 0===precision&&(precision=12),trim=!0,type="g"),(zero||"0"===fill&&"="===align)&&(zero=!0,fill="0",align="=");var prefix="$"===symbol?currencyPrefix:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currencySuffix:/[%p]/.test(type)?percent:"",formatType=formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);function format(value){var i,n,c,valuePrefix=prefix,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{var valueNegative=(value=+value)<0||1/value<0;if(value=isNaN(value)?nan:formatType(Math.abs(value),precision),trim&&(value=function(s){out:for(var i1,n=s.length,i=1,i0=-1;i<n;++i)switch(s[i]){case".":i0=i1=i;break;case"0":0===i0&&(i0=i),i1=i;break;default:if(!+s[i])break out;i0>0&&(i0=0)}return i0>0?s.slice(0,i0)+s.slice(i1+1):s}(value)),valueNegative&&0==+value&&"+"!==sign&&(valueNegative=!1),valuePrefix=(valueNegative?"("===sign?sign:minus:"-"===sign||"("===sign?"":sign)+valuePrefix,valueSuffix=("s"===type?prefixes[8+prefixExponent/3]:"")+valueSuffix+(valueNegative&&"("===sign?")":""),maybeSuffix)for(i=-1,n=value.length;++i<n;)if(48>(c=value.charCodeAt(i))||c>57){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix,value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix}return numerals(value)}return precision=void 0===precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format.toString=function(){return specifier+""},format}return{format:newFormat,formatPrefix:function(specifier,value){var f=newFormat(((specifier=formatSpecifier(specifier)).type="f",specifier)),e=3*Math.max(-8,Math.min(8,Math.floor(exponent(value)/3))),k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}}}function tickFormat(start,stop,count,specifier){var precision,step=function(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count),step1=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10)),error=step0/step1;return error>=e10?step1*=10:error>=e5?step1*=5:error>=e2&&(step1*=2),stop<start?-step1:step1}(start,stop,count);switch((specifier=formatSpecifier(null==specifier?",f":specifier)).type){case"s":var value=Math.max(Math.abs(start),Math.abs(stop));return null!=specifier.precision||isNaN(precision=function(step,value){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(value)/3)))-exponent(Math.abs(step)))}(step,value))||(specifier.precision=precision),formatPrefix(specifier,value);case"":case"e":case"g":case"p":case"r":null!=specifier.precision||isNaN(precision=function(step,max){return step=Math.abs(step),max=Math.abs(max)-step,Math.max(0,exponent(max)-exponent(step))+1}(step,Math.max(Math.abs(start),Math.abs(stop))))||(specifier.precision=precision-("e"===specifier.type));break;case"f":case"%":null!=specifier.precision||isNaN(precision=function(step){return Math.max(0,-exponent(Math.abs(step)))}(step))||(specifier.precision=precision-2*("%"===specifier.type))}return format(specifier)}function linear(){var scale=transformer()(identity$1,identity$1);return scale.copy=function(){return copy(scale,linear())},initRange.apply(scale,arguments),function(scale){var domain=scale.domain;return scale.ticks=function(count){var d=domain();return ticks(d[0],d[d.length-1],null==count?10:count)},scale.tickFormat=function(count,specifier){var d=domain();return tickFormat(d[0],d[d.length-1],null==count?10:count,specifier)},scale.nice=function(count){null==count&&(count=10);var prestep,step,d=domain(),i0=0,i1=d.length-1,start=d[i0],stop=d[i1],maxIter=10;for(stop<start&&(step=start,start=stop,stop=step,step=i0,i0=i1,i1=step);maxIter-- >0;){if((step=tickIncrement(start,stop,count))===prestep)return d[i0]=start,d[i1]=stop,domain(d);if(step>0)start=Math.floor(start/step)*step,stop=Math.ceil(stop/step)*step;else{if(!(step<0))break;start=Math.ceil(start*step)/step,stop=Math.floor(stop*step)/step}prestep=step}return scale},scale}(scale)}function transformLog(x){return Math.log(x)}function transformExp(x){return Math.exp(x)}function transformLogn(x){return-Math.log(-x)}function transformExpn(x){return-Math.exp(-x)}function pow10(x){return isFinite(x)?+("1e"+x):x<0?0:x}function reflect(f){return(x,k)=>-f(-x,k)}function loggish(transform){const scale=transform(transformLog,transformExp),domain=scale.domain;let logs,pows,base=10;function rescale(){return logs=function(base){return base===Math.E?Math.log:10===base&&Math.log10||2===base&&Math.log2||(base=Math.log(base),x=>Math.log(x)/base)}(base),pows=function(base){return 10===base?pow10:base===Math.E?Math.exp:x=>Math.pow(base,x)}(base),domain()[0]<0?(logs=reflect(logs),pows=reflect(pows),transform(transformLogn,transformExpn)):transform(transformLog,transformExp),scale}return scale.base=function(_){return arguments.length?(base=+_,rescale()):base},scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()},scale.ticks=count=>{const d=domain();let u=d[0],v=d[d.length-1];const r=v<u;r&&([u,v]=[v,u]);let k,t,i=logs(u),j=logs(v);const n=null==count?10:+count;let z=[];if(!(base%1)&&j-i<n){if(i=Math.floor(i),j=Math.ceil(j),u>0){for(;i<=j;++i)for(k=1;k<base;++k)if(t=i<0?k/pows(-i):k*pows(i),!(t<u)){if(t>v)break;z.push(t)}}else for(;i<=j;++i)for(k=base-1;k>=1;--k)if(t=i>0?k/pows(-i):k*pows(i),!(t<u)){if(t>v)break;z.push(t)}2*z.length<n&&(z=ticks(u,v,n))}else z=ticks(i,j,Math.min(j-i,n)).map(pows);return r?z.reverse():z},scale.tickFormat=(count,specifier)=>{if(null==count&&(count=10),null==specifier&&(specifier=10===base?"s":","),"function"!=typeof specifier&&(base%1||null!=(specifier=formatSpecifier(specifier)).precision||(specifier.trim=!0),specifier=format(specifier)),count===1/0)return specifier;const k=Math.max(1,base*count/scale.ticks().length);return d=>{let i=d/pows(Math.round(logs(d)));return i*base<base-.5&&(i*=base),i<=k?specifier(d):""}},scale.nice=()=>domain(function(domain,interval){var t,i0=0,i1=(domain=domain.slice()).length-1,x0=domain[i0],x1=domain[i1];return x1<x0&&(t=i0,i0=i1,i1=t,t=x0,x0=x1,x1=t),domain[i0]=interval.floor(x0),domain[i1]=interval.ceil(x1),domain}(domain(),{floor:x=>pows(Math.floor(logs(x))),ceil:x=>pows(Math.ceil(logs(x)))})),scale}function log(){const scale=loggish(transformer()).domain([1,10]);return scale.copy=()=>copy(scale,log()).base(scale.base()),initRange.apply(scale,arguments),scale}locale=formatLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),format=locale.format,formatPrefix=locale.formatPrefix;class BasicScaleHandler{constructor(baseDomain=[0,100]){this._baseDomain=baseDomain,this.scale=linear().domain(baseDomain).range([0,100]),this.rescale=this.rescale.bind(this),this.ticks=this.ticks.bind(this)}rescale(transform,axis="y"){const transScale=this.scale.copy().domain(this.baseDomain()),range=transScale.range().map("x"===axis?transform.invertX:transform.invertY,transform);if(range[0]===range[1])return this;const domain=range.map(transScale.invert,transScale);return this.scale.domain(domain),this}ticks(){return ScaleHelper.createTicks(this.scale)}baseDomain(newDomain){return newDomain?(this._baseDomain=newDomain,this.scale.domain(newDomain),this):this._baseDomain}range(newRange){return newRange?(this.scale.range(newRange),this):this.scale.range()}get dataScale(){return this.scale}}const noInterpolator={forward:v=>v,reverse:v=>v,forwardInterpolatedDomain:domain=>domain,reverseInterpolatedDomain:domain=>domain},defaultOptions$2={domain:[0,1e3],showTitles:!0,showLegend:!0,autoResize:!0,horizontal:!1,transitionDuration:0};class LogController{constructor(options={}){this._deferredUpdate=null,this.options=Object.assign(Object.assign({},defaultOptions$2),options),this.tracks=[],this.container=null,this.zoom=null,this.width=0,this.height=0,this.legendRows=0,this.debounce=debouncer(),this.legends={},this._scaleHandler=this.options.scaleHandler||new BasicScaleHandler,this._scaleHandler.baseDomain(this.options.domain),this.init=this.init.bind(this),this.onMount=this.onMount.bind(this),this.onUnmount=this.onUnmount.bind(this),this.rescale=this.rescale.bind(this),this.refresh=this.refresh.bind(this),this.zoomTo=this.zoomTo.bind(this),this.zoomed=this.zoomed.bind(this),this.adjustZoomTransform=this.adjustZoomTransform.bind(this),this.addTrack=this.addTrack.bind(this),this.setTracks=this.setTracks.bind(this),this.removeTrack=this.removeTrack.bind(this),this.adjustToSize=this.adjustToSize.bind(this),this.updateTracks=this.updateTracks.bind(this),this.postUpdateTracks=this.postUpdateTracks.bind(this),this.updateLegendRows=this.updateLegendRows.bind(this),this.updateLegend=this.updateLegend.bind(this),this.processLegendConfig=this.processLegendConfig.bind(this),this.setup=this.setup.bind(this),this._trackExit=this._trackExit.bind(this),this._trackEnter=this._trackEnter.bind(this),this._trackUpdate=this._trackUpdate.bind(this)}static basic(showTitles=!0){return new LogController({showTitles:showTitles,showLegend:!1})}init(element){return this.onMount(element),this}onMount(element){this.setup(element),this.zoom=zoom().on("zoom",this.zoomed),this.adjustToSize(),this._initialized=!0}onUnmount(){this._observer&&this._observer.disconnect()}setTracks(...tracks){return this.tracks=1===tracks.length&&Array.isArray(tracks[0])?tracks[0]:tracks,this.tracks.sort(((a,b)=>a.order-b.order)),this.options.showLegend&&this.updateLegendRows(),this._initialized&&this.updateTracks(),this}addTrack(track){return this.tracks.push(track),this.tracks.sort(((a,b)=>a.order-b.order)),this.options.showLegend&&track.options.legendConfig&&track.options.legendConfig.getLegendRows(track)>this.legendRows&&this.updateLegendRows(),this._initialized&&this.updateTracks(),this}removeTrack(track){const idx=this.tracks.findIndex((d=>d.id===track.id));return idx>=0&&(this.options.showLegend&&this.legends[track.id]&&delete this.legends[track.id],this.tracks.splice(idx,1),this.options.showLegend&&track.options.legendConfig&&track.options.legendConfig.getLegendRows(track)>=this.legendRows&&this.updateLegendRows(),this._initialized&&this.updateTracks()),this}adjustToSize(force=!1){const{container:container,width:oldWidth,height:oldHeight,options:{showLegend:showLegend,showTitles:showTitles},innerBounds:oldBounds,_trackHeight:oldTrackHeight}=this,{width:width,height:height}=container.node().getBoundingClientRect();if(this.width=width,this.height=height,!force&&oldWidth===this.width&&oldHeight===this.height)return;const bounds=this.innerBounds;this._uiScale=Math.max(Math.min(1,this.width/800),.7),this._titleHeight=showTitles?18*this._uiScale:0,this._titleFontSize=showTitles?.7*this._titleHeight:0,this._legendHeight=showLegend?25*this.legendRows*this._uiScale:0,this._trackHeight=bounds.length-this._titleHeight-this._legendHeight,this._trackHeight<=0||bounds.length<=0||(this._trackHeight!==oldTrackHeight&&(this.scale.range([0,this._trackHeight]),this.adjustZoomTransform(),this.rescale()),bounds.span!==oldBounds.span&&showTitles&&this.adjustTrackTitles(),bounds.span===oldBounds.span&&this._trackHeight===oldTrackHeight||this.updateTracks())}zoomTo(domain,duration=0,callback){const[d1,d2]=domain;if(d1===d2)return this;const current=transform(this.zoomHandler.node()),[b1,b2]=this.scaleHandler.baseDomain(),k=Math.abs(b2-b1)/Math.abs(d2-d1),cp=this.options.horizontal?current.x:current.y,p=(this.scale(d1)-cp)/current.k*k;let transform$1;transform$1=this.options.horizontal?identity$2.translate(-p,0).scale(k):identity$2.translate(0,-p).scale(k);const zoomHandler=this.zoomHandler;return zoomHandler.interrupt(),Number.isFinite(duration)&&duration>0?this.zoom.transform(zoomHandler.transition().duration(duration).on("end",callback),transform$1):(this.zoom.transform(zoomHandler,transform$1),callback&&callback()),this}rescale(){const transform$1=transform(this.zoomHandler.node()),scale=this.scaleHandler.dataScale;this.tracks.forEach((track=>{track.isMounted&&requestAnimationFrame((()=>{track.onRescale({scale:scale,transform:transform$1})}))}))}refresh(){this.updateTracks(),this.rescale()}updateTracks(){const{container:container,tracks:tracks,_trackEnter:trackEnter,_trackUpdate:trackUpdate,_trackExit:trackExit}=this,selection=container.selectAll(".track").data(tracks,(t=>t.id)),exit=selection.exit(),enter=selection.enter();return exit.call(trackExit),enter.call(trackEnter),selection.call(trackUpdate),exit.empty()&&enter.empty()&&this.postUpdateTracks(),this}reset(){return this.container.selectAll(".track").remove(),this.setTracks([])}setup(element){this.options.autoResize&&(this._observer=new ResizeObserver((()=>{this.debounce((()=>this.adjustToSize()))})),requestAnimationFrame((()=>this._observer.observe(element))));const container=select(element).classed("log-controller",!0).classed("horizontal",this.options.horizontal);this.container=container}processLegendConfig(track,element){const{legendConfig:legendConfig}=track.options;if(!legendConfig)return;let legendElement=element;if("svg"===legendConfig.elementType){const legendSelection=select(element).append("svg");setProps(legendSelection,{attrs:{width:"100%",height:"100%"},styles:{flex:"1 1 auto"}}),legendElement=legendSelection.node()}legendConfig.onInit&&legendConfig.onInit(legendElement,track,(()=>this.updateLegend(track.id))),this.legends[track.id]={elm:legendElement,track:track}}zoomed(event){const{transform:transform}=event;this.options.horizontal?this.scaleHandler.rescale(transform,"x"):this.scaleHandler.rescale(transform,"y"),this.rescale()}adjustZoomTransform(){const{zoomHandler:zoomHandler,scaleHandler:scaleHandler,options:{horizontal:horizontal}}=this,[d1,d2]=scaleHandler.baseDomain();if(d1===d2)return;const p1=scaleHandler.scale(d1),p2=scaleHandler.scale(d2),[r1,r2]=scaleHandler.scale.range(),dist=r2-r1;let transform;transform=horizontal?identity$2.translate(p1,0).scale((p2-p1)/dist):identity$2.translate(0,p1).scale((p2-p1)/dist),this.zoom.transform(zoomHandler,transform)}updateLegendRows(){const{tracks:tracks}=this,maxRows=tracks.reduce(((rows,track)=>{if(track.options.legendConfig){const tr=+track.options.legendConfig.getLegendRows(track);if(Number.isFinite(tr))return Math.max(rows,tr)}return rows}),0);maxRows!==this.legendRows&&(this.legendRows=maxRows,this.adjustToSize(!0))}updateLegend(id){if(this.options.showLegend&&this.legends&&this.legends[id]){const{legends:legends,_uiScale:uiScale,_legendHeight:legendHeight}=this,{elm:elm,track:track}=legends[id],{legendConfig:legendConfig,horizontal:horizontal}=track.options,height=25*(legendConfig.getLegendRows(track)||0)*uiScale,bbox=elm.getBoundingClientRect(),bounds={left:0,height:height,top:legendHeight-height,width:horizontal?bbox.height:bbox.width};legendConfig.onUpdate&&legendConfig.onUpdate(elm,bounds,track)}}adjustTrackTitles(){const{horizontal:horizontal}=this.options,isTooSmall=horizontal?element=>element.clientHeight<element.scrollHeight:element=>element.clientWidth<element.scrollWidth;this.container.selectAll(".track-title").text((d=>d.options.label||d.id)).each((function(d){isTooSmall(this)&&d.options.abbr&&select(this).text(d.options.abbr)}))}postUpdateTracks(){const{container:container,scaleHandler:scaleHandler,updateLegend:updateLegend,options:{showLegend:showLegend,showTitles:showTitles}}=this;0!==container.node().clientWidth&&(this.tracks&&this.tracks.some((d=>{var _a;return(null===(_a=null==d?void 0:d.elm)||void 0===_a?void 0:_a.clientWidth)>0}))?(this.tracks.forEach((track=>{const elm=track.elm;if(track.onUpdate){if(!track.isMounted)return;track.onUpdate({elm:elm,scale:scaleHandler.dataScale}),track.options.legendConfig&&showLegend&&updateLegend(track.id)}})),showTitles&&this.adjustTrackTitles()):(this._deferredUpdate&&clearTimeout(this._deferredUpdate),this._deferredUpdate=setTimeout((()=>{this._deferredUpdate=null,this.postUpdateTracks()}),200)))}_trackExit(selection){selection.each((d=>d.onUnmount&&d.onUnmount())),selection.interrupt().transition().duration(this.options.transitionDuration).style("flex","0 0 0%").end().catch((()=>({}))).finally((()=>{selection.remove(),this.postUpdateTracks()})),this.options.onTrackExit&&this.options.onTrackExit()}_trackEnter(selection){const{scaleHandler:scaleHandler,processLegendConfig:processLegendConfig,_titleHeight:titleHeight,_legendHeight:legendHeight,_titleFontSize:fontSize,options:{showTitles:showTitles,showLegend:showLegend,horizontal:horizontal}}=this,attr=horizontal?{maxSpan:"max-height",size:"width"}:{maxSpan:"max-width",size:"height"},newtracks=selection.append("div").attr("class","track");setStyles(newtracks,{flex:"0 0 0%",[attr.maxSpan]:d=>d.options.maxWidth?`${d.options.maxWidth}px`:null}),showTitles&&setProps(newtracks.append("div"),{attrs:d=>({class:"track-title",title:d.options.label||d.id}),styles:{[attr.size]:`${titleHeight}px`,"font-size":`${fontSize}px`}}),showLegend&&newtracks.append("div").classed("track-legend",!0).classed("hidden",legendHeight<=0).style([attr.size],`${legendHeight}px`),newtracks.append("div").attr("class","track-container");const self=this;newtracks.each((function(d){self.options.onTrackEnter&&self.options.onTrackEnter(this,d);const ev={elm:this.querySelector(".track-container"),scale:scaleHandler.dataScale,scaleHandler:scaleHandler};d.options.horizontal=horizontal,d.onMount&&d.onMount(ev),d.options.legendConfig&&processLegendConfig(d,this.querySelector(".track-legend"))})),newtracks.interrupt().transition().duration(this.options.transitionDuration).style("flex",(d=>`${d.options.width}`)).end().catch((()=>({}))).finally((()=>this.postUpdateTracks()))}_trackUpdate(selection){const{_titleHeight:titleHeight,_legendHeight:legendHeight,_titleFontSize:fontSize,options:{showTitles:showTitles,showLegend:showLegend,horizontal:horizontal}}=this,sizeAttr=horizontal?"width":"height";selection.interrupt().style("flex",(d=>`${d.options.width}`)),showTitles&&setStyles(selection.select(".track-title"),{[sizeAttr]:`${titleHeight}px`,"font-size":`${fontSize}px`}),showLegend&&selection.select(".track-legend").style([sizeAttr],`${legendHeight}px`).classed("hidden",legendHeight<=0)}get zoomHandler(){return this.container}get innerBounds(){return this.options.horizontal?{length:this.width,span:this.height}:{length:this.height,span:this.width}}get domain(){return this.scale.domain()}set domain(value){value&&Array.isArray(value)&&(this.scaleHandler.baseDomain(value),this.rescale())}get scaleHandler(){return this._scaleHandler}set scaleHandler(newHandler){newHandler.range(this._scaleHandler.range()),this._scaleHandler=newHandler}get scale(){return this.scaleHandler.scale}}class LogViewer extends LogController{constructor(options={}){super(options)}static basic(showTitles=!0){return new LogViewer({showTitles:showTitles,showLegend:!1})}onMount(element){super.setup(element);const overlay=function(caller,container){const overlay={elm:container.append("div").classed("overlay",!0),elements:{},listeners:{},enabled:!0},source=overlay.elm.node();return overlay.elm.on("click",(function(event){if(!overlay.enabled)return;const[mx,my]=pointer(event,this);Object.keys(overlay.listeners).forEach((key=>{const target=overlay.elements[key]||null,ops=overlay.listeners[key];ops&&ops.onClick&&requestAnimationFrame((()=>ops.onClick({x:mx,y:my,target:target,source:source,caller:caller})))}))})),overlay.elm.on("mousemove",(function(event){if(!overlay.enabled)return;const[mx,my]=pointer(event,this);Object.keys(overlay.listeners).forEach((key=>{const target=overlay.elements[key]||null,ops=overlay.listeners[key];ops&&ops.onMouseMove&&requestAnimationFrame((()=>ops.onMouseMove({x:mx,y:my,target:target,source:source,caller:caller})))}))})),overlay.elm.on("mouseout",(()=>{overlay.enabled&&Object.keys(overlay.listeners).forEach((key=>{const target=overlay.elements[key]||null,ops=overlay.listeners[key];ops&&ops.onMouseExit&&requestAnimationFrame((()=>ops.onMouseExit({target:target,source:source,caller:caller})))}))})),overlay.elm.on("resize",(event=>{const{top:top,left:left,width:width,height:height}=event.detail;setStyles(overlay.elm,{width:`${width}px`,height:`${height}px`,left:`${left}px`,top:`${top}px`}),overlay.enabled&&Object.keys(overlay.listeners).forEach((key=>{const target=overlay.elements[key]||null,ops=overlay.listeners[key];ops&&ops.onResize&&requestAnimationFrame((()=>ops.onResize({target:target,source:source,caller:caller,width:width,height:height})))}))})),overlay.elm.on("rescale",(event=>{if(!overlay.enabled)return;const{transform:transform}=event.detail;Object.keys(overlay.listeners).forEach((key=>{const target=overlay.elements[key]||null,ops=overlay.listeners[key];ops&&ops.onRescale&&requestAnimationFrame((()=>ops.onRescale({target:target,source:source,caller:caller,transform:transform})))}))})),Object.assign(Object.assign({},overlay),{create:function(key,callbacks){const newElm=overlay.elm.append("div").style("position","relative").style("pointer-events","none").node();return overlay.elements[key]=newElm,callbacks&&(overlay.listeners[key]=callbacks),newElm},register:function(key,callbacks){overlay.listeners[key]=callbacks},remove:function(key){const el=overlay.elements[key];el&&(select(el).remove(),delete overlay.elements[key]),delete overlay.listeners[key]}})}(this,this.container);this.zoom=zoom().scaleExtent([1,this.options.maxZoom||256]).on("zoom",this.zoomed),overlay.elm.call(this.zoom);const wheelZoomFunc=overlay.elm.on("wheel.zoom").bind(overlay.elm.node()),dblClickZoomFunc=overlay.elm.on("dblclick.zoom").bind(overlay.elm.node());overlay.elm.on("dblclick.zoom",(event=>{this.overlay.enabled&&dblClickZoomFunc(event)})),overlay.elm.on("wheel.zoom",(event=>{if(this.overlay.enabled)if(event.ctrlKey||event.shiftKey){const scaleMod=transform(overlay.elm.node()).k/3,transitionAmount=event.wheelDeltaY/50/scaleMod;this.options.horizontal?this.zoom.translateBy(overlay.elm,transitionAmount,0):this.zoom.translateBy(overlay.elm,0,transitionAmount)}else wheelZoomFunc(event);event.preventDefault()})),this.overlay=overlay,this.adjustToSize(),this._initialized=!0}adjustToSize(force=!1){super.adjustToSize(force);const{container:container,innerBounds:innerBounds,width:width,height:height,overlay:overlay,_trackHeight:_trackHeight,options:{horizontal:horizontal,onResize:onResize}}=this,overlaySize={top:0,left:0,width:0,height:0};horizontal?(overlaySize.left=innerBounds.length-_trackHeight+1,overlaySize.width=_trackHeight,overlaySize.height=innerBounds.span):(overlaySize.top=innerBounds.length-_trackHeight+1,overlaySize.height=_trackHeight,overlaySize.width=innerBounds.span),overlay.elm.dispatch("resize",{detail:overlaySize}),onResize&&onResize({elm:container.node(),width:width,height:height,trackHeight:_trackHeight,source:this})}rescale(){super.rescale();const transform$1=transform(this.zoomHandler.node());this.overlay.elm.dispatch("rescale",{detail:{transform:transform$1}})}zoomed(event){const{transform:transform,sourceEvent:sourceEvent}=event;if(!this.overlay.enabled&&null!==sourceEvent)return;const{k:k}=transform,panExcess=this.options.panExcess||[0,0];this.options.horizontal?(this.scaleHandler.rescale(transform,"x"),this.zoom.translateExtent([[-Math.abs(panExcess[0]/k),0],[this._trackHeight+Math.abs(panExcess[1]/k),0]])):(this.scaleHandler.rescale(transform,"y"),this.zoom.translateExtent([[0,-Math.abs(panExcess[0]/k)],[0,this._trackHeight+Math.abs(panExcess[1]/k)]])),this.rescale()}get zoomHandler(){return this.overlay.elm}}const defaults={width:3,maxWidth:null,horizontal:!1};class Track{constructor(id,options={}){this.options=Object.assign(Object.assign({},defaults),options),this.id=void 0===id?Math.round(Math.random()*Date.now()):id,this.elm=null,this.order=0,this.loader=options.loader||null,this._isLoading=!1,this._data=null,this.transform={k:1,y:0,x:0},this.onMount=this.onMount.bind(this),this.onUnmount=this.onUnmount.bind(this),this.onRescale=this.onRescale.bind(this),this.onUpdate=this.onUpdate.bind(this),this.refresh=this.refresh.bind(this),this.loadData=this.loadData.bind(this),this.onError=this.onError.bind(this)}init(elm,scale){this.onMount({elm:elm,scale:scale}),this.onUpdate({elm:elm,scale:scale})}onMount(trackEvent){const{elm:elm,scale:scale}=trackEvent;this.elm=elm,this.scale=scale,this.options.onMount&&this.options.onMount(trackEvent,this),this._mounted=!0}onUnmount(trackEvent={}){this.options.onUnmount&&this.options.onUnmount(trackEvent,this),select(this.elm).selectAll("*").remove()}onUpdate(trackEvent){this._mounted&&(this.scale=trackEvent.scale,this.options.onUpdate&&this.options.onUpdate(trackEvent,this))}onRescale(trackEvent){const{domain:domain,scale:scale,transform:transform}=trackEvent;if(this._mounted){if(scale)this.scale=scale;else{if(!domain)throw Error("Event is missing updated scale or domain!");this.scale.domain(domain)}this.transform=transform,this.options.onRescale&&this.options.onRescale(trackEvent,this)}}onError(error){this._mounted=!1,this.isLoading=!1,this.error=error,this.elm&&select(this.elm).classed("error",!0).selectAll("*").remove(),this.options.onError&&this.options.onError(error,this)}onDataLoaded(data){this.isLoading&&(this.isLoading=!1)}loadData(data,showLoader=!0){showLoader&&(this.isLoading=!0);const onSuccess=d=>{this._data=d,this.isLoading&&(this.isLoading=!1),this.onDataLoaded&&this.onDataLoaded(d),this.legendUpdate&&this.legendUpdate()},res=data();res.then?res.then(onSuccess,this.onError):"object"==typeof res?onSuccess(res):this.onError("Invalid data")}clearData(){this._data=null,this.onDataLoaded(null)}refresh(){const{scale:scale}=this;scale&&this.onUpdate({elm:this.elm,scale:scale})}get isLoading(){return this._isLoading}set isLoading(val){this._isLoading=!!val,this.loader&&select(this.loader).classed("hidden",!this._isLoading),select(this.elm).classed("hidden",this._isLoading),this.refresh()}get isMounted(){return this._mounted}get data(){return this._data}set data(data){"function"==typeof data?this.loadData(data,!1):(this._data=data,this.legendUpdate&&this.legendUpdate(),this.onDataLoaded&&this.onDataLoaded(data))}}class SvgTrack extends Track{onMount(trackEvent){super.onMount(trackEvent),this.plotGroup=select(trackEvent.elm).append("svg").style("position","absolute")}onUpdate(trackEvent){super.onUpdate(trackEvent);const boundingClient=this.elm.getBoundingClientRect();setStyles(this.plotGroup,{height:`${this.elm.clientHeight}px`,width:`${boundingClient.width}px`})}}class CanvasTrack extends Track{onMount(trackEvent){super.onMount(trackEvent);const canvas=select(trackEvent.elm).append("canvas").style("position","absolute");this.ctx=canvas.node().getContext("2d")}onUpdate(trackEvent){super.onUpdate(trackEvent);const{ctx:ctx,elm:elm}=this,boundingClient=elm.getBoundingClientRect();ctx&&setProps(select(ctx.canvas),{styles:{width:`${boundingClient.width}px`,height:`${elm.clientHeight}px`},attrs:{width:boundingClient.width,height:elm.clientHeight}})}}class Plot{constructor(id,options={}){this.id=id,this.options=Object.assign({defined:v=>null!==v,horizontal:!0},options),this.data=[],this.scale=options.scale&&"function"!=typeof options.domain?createScale(options.scale,options.domain||[0,1]):null,this.setRange=this.setRange.bind(this),this.setData=this.setData.bind(this)}get offset(){return this.options.offset||0}setRange(range){return this.scale&&this.scale.range(range),this.range=range,this}setData(data,scale,plotOptions){let plotData=data;if(this.options.dataAccessor&&"function"==typeof this.options.dataAccessor&&(plotData=this.options.dataAccessor(data,plotOptions)),this.options.filterToScale&&scale){const filterOverlapFactor=this.options.filterOverlapFactor||.5;plotData=DataHelper.filterData(plotData,scale.domain(),filterOverlapFactor)}return this.data=plotData,this}setOption(key,value){if(this.options||(this.options={}),this.options[key]=value,"domain"===key&&this.scale)this.scale.domain(value);else if("scale"===key&&this.scale){const domain=this.scale.domain(),range=this.scale.range();this.scale=createScale(value,domain),this.scale.range(range.slice())}return this}setOptions(options){return Object.entries(options).forEach((o=>{this.setOption(o[0],o[1])})),this}updateDynamicScale(data,graphOptions){const{options:options,range:range}=this;if("function"==typeof options.domain){const domain=options.domain(data);this.scale=createScale(options.scale||graphOptions.scale,domain)}range&&this.scale.range(range)}plot(ctx,scale){}}var pi=Math.PI,tau=2*pi,tauEpsilon=tau-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}function constant(x){return function(){return x}}function array(x){return"object"==typeof x&&"length"in x?x:Array.from(x)}function Linear(context){this._context=context}function curveLinear(context){return new Linear(context)}function x(p){return p[0]}function y(p){return p[1]}function line(x$1,y$1){var defined=constant(!0),context=null,curve=curveLinear,output=null;function line(data){var i,d,buffer,n=(data=array(data)).length,defined0=!1;for(null==context&&(output=curve(buffer=path())),i=0;i<=n;++i)!(i<n&&defined(d=data[i],i,data))===defined0&&((defined0=!defined0)?output.lineStart():output.lineEnd()),defined0&&output.point(+x$1(d,i,data),+y$1(d,i,data));if(buffer)return output=null,buffer+""||null}return x$1="function"==typeof x$1?x$1:void 0===x$1?x:constant(x$1),y$1="function"==typeof y$1?y$1:void 0===y$1?y:constant(y$1),line.x=function(_){return arguments.length?(x$1="function"==typeof _?_:constant(+_),line):x$1},line.y=function(_){return arguments.length?(y$1="function"==typeof _?_:constant(+_),line):y$1},line.defined=function(_){return arguments.length?(defined="function"==typeof _?_:constant(!!_),line):defined},line.curve=function(_){return arguments.length?(curve=_,null!=context&&(output=curve(context)),line):curve},line.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),line):context},line}function area(x0,y0,y1){var x1=null,defined=constant(!0),context=null,curve=curveLinear,output=null;function area(data){var i,j,k,d,buffer,n=(data=array(data)).length,defined0=!1,x0z=new Array(n),y0z=new Array(n);for(null==context&&(output=curve(buffer=path())),i=0;i<=n;++i){if(!(i<n&&defined(d=data[i],i,data))===defined0)if(defined0=!defined0)j=i,output.areaStart(),output.lineStart();else{for(output.lineEnd(),output.lineStart(),k=i-1;k>=j;--k)output.point(x0z[k],y0z[k]);output.lineEnd(),output.areaEnd()}defined0&&(x0z[i]=+x0(d,i,data),y0z[i]=+y0(d,i,data),output.point(x1?+x1(d,i,data):x0z[i],y1?+y1(d,i,data):y0z[i]))}if(buffer)return output=null,buffer+""||null}function arealine(){return line().defined(defined).curve(curve).context(context)}return x0="function"==typeof x0?x0:void 0===x0?x:constant(+x0),y0="function"==typeof y0?y0:constant(void 0===y0?0:+y0),y1="function"==typeof y1?y1:void 0===y1?y:constant(+y1),area.x=function(_){return arguments.length?(x0="function"==typeof _?_:constant(+_),x1=null,area):x0},area.x0=function(_){return arguments.length?(x0="function"==typeof _?_:constant(+_),area):x0},area.x1=function(_){return arguments.length?(x1=null==_?null:"function"==typeof _?_:constant(+_),area):x1},area.y=function(_){return arguments.length?(y0="function"==typeof _?_:constant(+_),y1=null,area):y0},area.y0=function(_){return arguments.length?(y0="function"==typeof _?_:constant(+_),area):y0},area.y1=function(_){return arguments.length?(y1=null==_?null:"function"==typeof _?_:constant(+_),area):y1},area.lineX0=area.lineY0=function(){return arealine().x(x0).y(y0)},area.lineY1=function(){return arealine().x(x0).y(y1)},area.lineX1=function(){return arealine().x(x1).y(y0)},area.defined=function(_){return arguments.length?(defined="function"==typeof _?_:constant(!!_),area):defined},area.curve=function(_){return arguments.length?(curve=_,null!=context&&(output=curve(context)),area):curve},area.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),area):context},area}Path.prototype=path.prototype={constructor:Path,moveTo:function(x,y){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(x,y){this._+="L"+(this._x1=+x)+","+(this._y1=+y)},quadraticCurveTo:function(x1,y1,x,y){this._+="Q"+ +x1+","+ +y1+","+(this._x1=+x)+","+(this._y1=+y)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._+="C"+ +x1+","+ +y1+","+ +x2+","+ +y2+","+(this._x1=+x)+","+(this._y1=+y)},arcTo:function(x1,y1,x2,y2,r){x1=+x1,y1=+y1,x2=+x2,y2=+y2,r=+r;var x0=this._x1,y0=this._y1,x21=x2-x1,y21=y2-y1,x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=x1)+","+(this._y1=y1);else if(l01_2>1e-6)if(Math.abs(y01*x21-y21*x01)>1e-6&&r){var x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l20_2=x20*x20+y20*y20,l21=Math.sqrt(l21_2),l01=Math.sqrt(l01_2),l=r*Math.tan((pi-Math.acos((l21_2+l01_2-l20_2)/(2*l21*l01)))/2),t01=l/l01,t21=l/l21;Math.abs(t01-1)>1e-6&&(this._+="L"+(x1+t01*x01)+","+(y1+t01*y01)),this._+="A"+r+","+r+",0,0,"+ +(y01*x20>x01*y20)+","+(this._x1=x1+t21*x21)+","+(this._y1=y1+t21*y21)}else this._+="L"+(this._x1=x1)+","+(this._y1=y1)},arc:function(x,y,r,a0,a1,ccw){x=+x,y=+y,ccw=!!ccw;var dx=(r=+r)*Math.cos(a0),dy=r*Math.sin(a0),x0=x+dx,y0=y+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+x0+","+y0:(Math.abs(this._x1-x0)>1e-6||Math.abs(this._y1-y0)>1e-6)&&(this._+="L"+x0+","+y0),r&&(da<0&&(da=da%tau+tau),da>tauEpsilon?this._+="A"+r+","+r+",0,1,"+cw+","+(x-dx)+","+(y-dy)+"A"+r+","+r+",0,1,"+cw+","+(this._x1=x0)+","+(this._y1=y0):da>1e-6&&(this._+="A"+r+","+r+",0,"+ +(da>=pi)+","+cw+","+(this._x1=x+r*Math.cos(a1))+","+(this._y1=y+r*Math.sin(a1))))},rect:function(x,y,w,h){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)+"h"+ +w+"v"+ +h+"h"+-w+"Z"},toString:function(){return this._}},Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:this._context.lineTo(x,y)}}};class LinePlot extends Plot{plot(ctx,scale){const{scale:xscale,data:plotdata,options:options}=this;if(!xscale||options.hidden)return;ctx.save();const lineFunction=line().defined((d=>options.defined(d[1],d[0]))).context(ctx);if(options.horizontal?lineFunction.y((d=>xscale(d[1]))).x((d=>scale(d[0]))):lineFunction.x((d=>xscale(d[1]))).y((d=>scale(d[0]))),ctx.beginPath(),lineFunction(plotdata),ctx.lineWidth=options.width,ctx.strokeStyle=options.color,options.dash&&Array.isArray(options.dash)?(ctx.setLineDash(options.dash),ctx.stroke(),ctx.setLineDash([])):ctx.stroke(),options.allowWrapping&&this.plotWrapped(ctx,lineFunction),options.showIsolatedPoints){const arcL=2*Math.PI;ctx.fillStyle=options.color,plotdata.filter(((t,i)=>{var _a,_b;if(!options.defined(t[1],t[0]))return!1;const prev=null===(_a=plotdata[i-1])||void 0===_a?void 0:_a[1],next=null===(_b=plotdata[i+1])||void 0===_b?void 0:_b[1];return 0===i?!options.defined(next):i===plotdata.length-1?!options.defined(prev):!options.defined(prev)&&!options.defined(next)})).forEach((d=>{ctx.beginPath(),options.horizontal?ctx.arc(scale(d[0]),xscale(d[1]),1,0,arcL):ctx.arc(xscale(d[1]),scale(d[0]),1,0,arcL),ctx.fill()}))}ctx.restore()}plotWrapped(ctx,lineFunction){const{scale:xscale,data:plotdata,options:options}=this,isLogarithmic="log"===options.scale;if(!(null==plotdata?void 0:plotdata.length)||options.horizontal)return;ctx.setLineDash(options.dashWrapped||[2,3]);const plotSegment=(segment,disp)=>{ctx.beginPath(),lineFunction(segment.map((([y,x])=>isLogarithmic?[y,10**(Math.log10(x)+disp)]:[y,x+disp]))),ctx.stroke()},[min,max]=isLogarithmic?xscale.domain().map(Math.log10):xscale.domain(),range=max-min;let prev,segmentDisp,segment=[];for(let i=0;i<plotdata.length;i++){const cur=plotdata[i];if(null===cur[1]||void 0===cur[1]){prev=null;continue}const curX=isLogarithmic?Math.log10(cur[1]):cur[1];curX>max||curX<min?(segmentDisp=curX>max?-range:range,0===segment.length&&prev&&segment.push(prev),segment.push(cur)):segment.length>0&&(segment.push(cur),plotSegment(segment,segmentDisp),segment=[]),prev=cur}segment.length>0&&plotSegment(segment,segmentDisp),ctx.setLineDash([])}}class AreaPlot extends Plot{plot(ctx,scale){const{scale:xscale,data:plotdata,options:options}=this;if(!xscale||options.hidden)return;const useMinAsBase=void 0===options.useMinAsBase||options.useMinAsBase,[d0,d1]=xscale.domain(),dmin=Math.min(d0,d1),dmax=Math.max(d0,d1),rmin=xscale(dmin),rmax=xscale(dmax),zeroValue=useMinAsBase?rmin:rmax;let index=0;plotdata.reduce(((acc,v)=>(acc.length>0&&null===v[1]?acc[++index]=[]:acc[index].push(v),acc)),[[]]).forEach((data=>{ctx.save();const areaFunction=area().context(ctx);if(options.horizontal?areaFunction.y1((d=>xscale(d[1]))).y0(zeroValue).x((d=>scale(d[0]))):areaFunction.x1((d=>xscale(d[1]))).x0(zeroValue).y((d=>scale(d[0]))),ctx.globalAlpha=options.fillOpacity||1,options.inverseColor){const inverseValue=useMinAsBase?rmax:rmin,inverseAreaFunction=area().context(ctx);options.horizontal?inverseAreaFunction.y1((d=>xscale(d[1]))).y0(inverseValue).x((d=>scale(d[0]))):inverseAreaFunction.x1((d=>xscale(d[1]))).x0(inverseValue).y((d=>scale(d[0]))),ctx.beginPath(),inverseAreaFunction(data),ctx.fillStyle=options.inverseColor,ctx.fill()}ctx.beginPath(),areaFunction(data),ctx.lineWidth=options.width,ctx.fillStyle=options.fill||options.color,ctx.fill(),ctx.globalAlpha=1,ctx.strokeStyle=options.color,ctx.stroke(),ctx.restore()}))}}class DotPlot extends Plot{plot(ctx,scale){const{scale:xscale,data:plotdata,options:options}=this;if(!xscale||options.hidden)return;const r=options.radius||Math.min(5,.04*ScaleHelper.getRangeSpan(xscale));ctx.save(),ctx.fillStyle=options.color;const arcL=2*Math.PI;null==plotdata||plotdata.forEach((d=>{options.defined(d[1],d[0])&&(ctx.beginPath(),options.horizontal?ctx.arc(scale(d[0]),xscale(d[1]),r,0,arcL):ctx.arc(xscale(d[1]),scale(d[0]),r,0,arcL),ctx.fill())})),ctx.restore()}}class DifferentialPlot extends Plot{constructor(id,options={}){super(id,Object.assign({serie1:{color:"red",fill:"red"},serie2:{color:"darkblue",fill:"darkblue"}},options)),this.scale1=null,this.scale2=null,this.setRange=this.setRange.bind(this);const{serie1:serie1,serie2:serie2}=options;options.scale&&options.domain&&"function"!=typeof options.domain&&(this.scale=createScale(options.scale,options.domain||[0,1]),this.scale1=this.scale,this.scale2=this.scale),(null==serie1?void 0:serie1.scale)&&"function"!=typeof serie1.domain&&(this.scale1=createScale(serie1.scale,serie1.domain||[0,1])),(null==serie2?void 0:serie2.scale)&&"function"!=typeof serie2.domain&&(this.scale2=createScale(serie2.scale,serie2.domain||[0,1]))}setData(data,scale,plotOptions){let diffplotData=data;if(this.options.dataAccessor&&"function"==typeof this.options.dataAccessor&&(diffplotData=this.options.dataAccessor(data,plotOptions)),this.options.filterToScale&&scale){const filterOverlapFactor=this.options.filterOverlapFactor||.5;diffplotData=diffplotData.map((d=>DataHelper.filterData(d,scale.domain(),filterOverlapFactor)))}return this.data=diffplotData,this}setRange(range){return this.scale1&&this.scale1.range(range),this.scale2&&this.scale2.range(range),this.range=range,this}setOption(key,value){this.options||(this.options={});let ops=this.options;const path=key.split(".");if(2===path.length&&path[0].match(/serie(1|2)/)){if(ops[path[0]]||(ops[path[0]]={}),ops=ops[path[0]],"domain"===path[1])"serie2"===path[0]&&this.scale2?this.scale2.domain(value):"serie1"===path[0]&&this.scale1&&this.scale1.domain(value);else if("scale"===path[1])if("serie2"===path[0]&&this.scale2){const range=this.scale2.range();this.scale2=createScale(value,this.scale2.domain()).range(range)}else if("serie1"===path[0]&&this.scale1){const range=this.scale1.range();this.scale1=createScale(value,this.scale1.domain()).range(range)}key=path[1]}return ops[key]=value,this}updateDynamicScale(data,graphOptions){const{options:options,range:range}=this;if("function"==typeof options.domain){const domain=options.domain(data);this.scale=createScale(options.scale||graphOptions.scale,domain),this.scale1=this.scale,this.scale2=this.scale}if("function"==typeof options.serie1.domain){const domain=options.serie1.domain(data);this.scale1=createScale(options.scale||graphOptions.scale,domain)}if("function"==typeof options.serie2.domain){const domain=options.serie2.domain(data);this.scale2=createScale(options.scale||graphOptions.scale,domain)}range&&(this.scale1.range(range),this.scale2.range(range))}plot(ctx,scale){const{scale1:xscale1,scale2:xscale2,data:plotdata,options:{serie1:serie1,serie2:serie2,fillOpacity:fillOpacity,horizontal:horizontal,defined:def,hidden:hidden}}=this;if(2!==plotdata.length||!xscale1||!xscale2||hidden)return;const l=Math.max(plotdata[0].length,plotdata[1].length),scaleddata=[[],[]];let min=1/0,max=-1/0;for(let i=0;i<l;i++){const a=plotdata[0][i],b=plotdata[1][i];a&&(scaleddata[0][i]=def(a[1],a[0])?[scale(a[0]),xscale1(a[1])]:[scale(a[0]),a[1]],scaleddata[0][i][1]<min&&(min=scaleddata[0][i][1]),scaleddata[0][i][1]>max&&(max=scaleddata[0][i][1])),b&&(scaleddata[1][i]=def(b[1],b[0])?[scale(b[0]),xscale2(b[1])]:[scale(b[0]),b[1]],scaleddata[1][i][1]<min&&(min=scaleddata[1][i][1]),scaleddata[1][i][1]>max&&(max=scaleddata[1][i][1]))}const merged=DataHelper.mergeDataSeries(scaleddata[0]||[],scaleddata[1]||[]),areaFunction1=area().context(ctx),areaFunction2=area().context(ctx);horizontal?(areaFunction1.defined((d=>def(d[1],d[0])&&def(d[2],d[0]))).y0(max).y1((d=>d[1])).x((d=>d[0])),areaFunction2.defined((d=>def(d[1],d[0])&&def(d[2],d[0]))).y0(min).y1((d=>d[2])).x((d=>d[0]))):(areaFunction1.defined((d=>def(d[1],d[0])&&def(d[2],d[0]))).x0(min).x1((d=>d[1])).y((d=>d[0])),areaFunction2.defined((d=>def(d[1],d[0])&&def(d[2],d[0]))).x0(max).x1((d=>d[2])).y((d=>d[0]))),ctx.save(),ctx.globalAlpha=fillOpacity||.5,ctx.beginPath(),areaFunction2(merged),ctx.clip(),ctx.beginPath(),areaFunction1(merged),ctx.fillStyle=serie1.fill,ctx.fill(),ctx.restore(),horizontal?(areaFunction1.y0(min),areaFunction2.y0(max)):(areaFunction1.x0(max),areaFunction2.x0(min)),ctx.save(),ctx.globalAlpha=fillOpacity||.5,ctx.beginPath(),areaFunction1(merged),ctx.clip(),ctx.beginPath(),areaFunction2(merged),ctx.fillStyle=serie2.fill,ctx.fill(),ctx.restore();const lineFunction1=line().defined((d=>def(d[1],d[0]))).context(ctx);horizontal?lineFunction1.y((d=>d[1])).x((d=>d[0])):lineFunction1.x((d=>d[1])).y((d=>d[0])),ctx.save(),ctx.globalAlpha=1,ctx.beginPath(),lineFunction1(scaleddata[0]),ctx.lineWidth=serie1.lineWidth||1,ctx.strokeStyle=serie1.color||"red",ctx.stroke();const lineFunction2=line().defined((d=>def(d[1],d[0]))).context(ctx);horizontal?lineFunction2.y((d=>d[1])).x((d=>d[0])):lineFunction2.x((d=>d[1])).y((d=>d[0])),ctx.beginPath(),lineFunction2(scaleddata[1]),ctx.lineWidth=serie2.lineWidth||1,ctx.strokeStyle=serie2.color||"blue",ctx.stroke(),ctx.restore()}}class StepCustom{constructor(ctx){this._ctx=ctx,this._line=void 0,this._x=NaN,this._y=NaN}areaStart(){this._line=!0}areaEnd(){this._line=!1}lineStart(){this._x=NaN,this._y=NaN}lineEnd(){this._line&&this._ctx.closePath()}point(x,y){Number.isNaN(x)||Number.isNaN(y)?Number.isNaN(x)||Number.isNaN(this._x)||Number.isNaN(this._y)||this._ctx.lineTo(x,this._y):Number.isNaN(this._y)?this._ctx.moveTo(x,y):(y!==this._y&&this._ctx.lineTo(x,this._y),this._ctx.lineTo(x,y)),this._x=x,this._y=y}}function stepCustom(ctx){return new StepCustom(ctx)}class LineStepPlot extends Plot{plot(ctx,scale){const{scale:xscale,data:plotdata,options:options}=this;if(!xscale||options.hidden)return;ctx.save();const lineFunction=line().defined((()=>!0)).curve(stepCustom).context(ctx);options.horizontal?lineFunction.y((d=>null===d[1]?NaN:xscale(d[1]))).x((d=>null===d[0]?NaN:scale(d[0]))):lineFunction.x((d=>null==d[1]?NaN:xscale(d[1]))).y((d=>null==d[0]?NaN:scale(d[0]))),ctx.beginPath(),lineFunction(plotdata),ctx.lineWidth=options.width,ctx.lineCap="square",ctx.strokeStyle=options.color,options.dash&&Array.isArray(options.dash)?(ctx.setLineDash(options.dash),ctx.stroke(),ctx.setLineDash([])):ctx.stroke(),ctx.restore()}}function patchPlotOptions(options){return options?(options&&options.data&&(options.dataAccessor=options.data,delete options.data),options):{}}function createScale(type,domain){if("linear"===type)return linear().domain(domain);if("log"===type)return log().domain(domain);throw Error("Invalid input!")}function createPlotType(PlotType){return(config,trackScale)=>{const options=Object.assign({legendRows:1,filterToScale:!0,dataAccessor:d=>d},patchPlotOptions(config.options)),p=new PlotType(config.id,options);return options.scale||(p.scale=trackScale),p}}const plotFactory={line:createPlotType(LinePlot),area:createPlotType(AreaPlot),dot:createPlotType(DotPlot),differential:function(config,trackScale){const options=Object.assign({legendRows:2,filterToScale:!0},patchPlotOptions(config.options)),p=new DifferentialPlot(config.id,options);return options.serie1.scale||(p.scale1=trackScale),options.serie2.scale||(p.scale2=trackScale),p},linestep:createPlotType(LineStepPlot)},defaultOptions$1={scale:"linear",domain:[0,100],togglePlotFromLegend:!0,forceDataUpdateOnToggle:!1,plotFactory:plotFactory},setupDomainBackground=(bg,text)=>{const bbox=text.node().getBBox();setProps(bg,{styles:{fill:"white"},attrs:{x:bbox.x-2,y:bbox.y-2,width:bbox.width+4,height:bbox.height+4}})};function renderTextLabels(g,bounds,label,unit,domain,color,{addLabelBg:addLabelBg,largeFontEnabled:largeFontEnabled}={}){const{height:h,width:w,top:top,left:left}=bounds,lineY=top+.5*h,textSize=.35*h,centerX=left+w/2,[min,max]=domain,isLargeFont=largeFontEnabled&&w>90,unitTextSixe=.85*textSize,unitY=lineY+unitTextSixe,domainTextSize=isLargeFont?1.1*textSize:unitTextSixe,subY=isLargeFont?lineY+domainTextSize/2-.05*h:lineY+domainTextSize,labelTransform=`translate(${centerX},${top+textSize})`;let labelBg;addLabelBg&&(labelBg=g.append("rect").classed("label-bg",!0).attr("fill","white"));const labelText=g.append("text").text(label);if(setProps(labelText,{styles:{"text-anchor":"middle",fill:color},attrs:{class:"legend-label","font-size":`${textSize}px`,transform:labelTransform}}),addLabelBg){const bbox=labelText.node().getBBox();setAttrs(labelBg,{x:centerX+bbox.x-1,y:top+1,width:bbox.width+2,height:.5*h-2})}if(unit){const unitTransform=`translate(${centerX},${unitY})`;setProps(g.append("text").text(unit),{styles:{"text-anchor":"middle",fill:color},attrs:{class:"legend-unit","font-size":`${unitTextSixe}px`,transform:unitTransform}})}let minBg,maxBg;isLargeFont&&(minBg=g.append("rect"),maxBg=g.append("rect"));const minText=Math.abs(min)>1e3&&min%1e3==0?`${Math.round(min/1e3)}k`:`${min}`,maxText=Math.abs(max)>1e3&&max%1e3==0?`${Math.round(max/1e3)}k`:`${max}`,minDomain=g.append("text").text(minText);setProps(minDomain,{styles:{"text-anchor":"start",fill:color},attrs:{class:"legend-domain","font-size":`${domainTextSize}px`,x:left+2,y:subY}});const maxDomain=g.append("text").text(maxText);setProps(maxDomain,{styles:{"text-anchor":"end",fill:color},attrs:{class:"legend-domain","font-size":`${domainTextSize}px`,x:left+w-2,y:subY}}),isLargeFont&&(setupDomainBackground(minBg,minDomain),setupDomainBackground(maxBg,maxDomain))}function renderBasicPlotLegend(g,bounds,label,unit,domain,color,legendOptions={}){const x1=bounds.left+2,x2=Math.max(x1,bounds.left+bounds.width-2),lineY=bounds.top+.5*bounds.height,lineWidth=.1*bounds.height;setProps(g.append("rect"),{attrs:{width:Math.max(0,bounds.width-4),height:bounds.height-4,x:2,y:2,visibility:"hidden"}}),setProps(g.append("line"),{attrs:{x1:x1,x2:x2,y1:lineY,y2:lineY},styles:{"stroke-width":lineWidth,stroke:color,fill:color}}),renderTextLabels(g,bounds,label,unit,domain,color,legendOptions)}function getGraphTrackLegendRows(track){return track.plots.reduce(((rows,p)=>rows+p.options.legendRows||0),0)}function updateLegendRows(selection,bounds,track){const{horizontal:horizontal}=track.options;let posY=bounds.top;const width=bounds.width,legendRows=getGraphTrackLegendRows(track),legendRowHeight=bounds.height/legendRows;selection.each((function(plot){const g=select(this);g.selectAll("*").remove();const left=plot.offset*width;track.options.togglePlotFromLegend&&(g.style("cursor","pointer"),g.append("title").text("Toggle plot on/off"),g.on("click",(()=>{const nextState=!plot.options.hidden;g.attr("opacity",nextState?.25:1),plot.setOption("hidden",nextState),plot.options.forceDataUpdateOnToggle&&track.prepareData(),track.plot()})));const rowBounds={top:0,left:left,width:width-left,height:(plot.options.legendRows||0)*legendRowHeight};horizontal?g.attr("transform",`translate(${posY},${bounds.width})rotate(-90)`):g.attr("transform",`translate(0,${posY})`),posY+=rowBounds.height;const legendInfo=track.data&&plot.options.legendInfo?plot.options.legendInfo(track.data):{};plot.options.renderLegend?plot.options.renderLegend(g,rowBounds,legendInfo,plot):plot instanceof LinePlot?function(g,bounds,legendInfo,plot){var _a;renderBasicPlotLegend(g,bounds,legendInfo.label,legendInfo.unit,(null===(_a=plot.scale)||void 0===_a?void 0:_a.domain())||[0,1],plot.options.color,{largeFontEnabled:!0})}(g,rowBounds,legendInfo,plot):plot instanceof AreaPlot?function(g,bounds,legendInfo,plot){const{top:top,left:left,width:width,height:height}=bounds,shadeH=height/2,shadeY=top,[min,max]=plot.scale.domain(),minIsLeft=min<=max,fillOpacity=Math.min(plot.options.fillOpacity+.25,1),centerX=left+width/2,useMinAsBase=void 0===plot.options.useMinAsBase||plot.options.useMinAsBase;if(plot.options.inverseColor){const shadeW=Math.max(0,width-2),fillNrm=useMinAsBase&&minIsLeft?plot.options.color:plot.options.inverseColor,fillInv=useMinAsBase&&minIsLeft?plot.options.inverseColor:plot.options.color;setAttrs(g.append("rect"),{x:left+2,y:shadeY,width:shadeW/2,height:shadeH,fill:fillNrm,"fill-opacity":fillOpacity}),setAttrs(g.append("rect"),{x:centerX,y:shadeY,width:shadeW/2,height:shadeH,fill:fillInv,"fill-opacity":fillOpacity})}else setAttrs(g.append("rect"),{x:left+2,y:shadeY,width:Math.max(0,width-4),height:shadeH,fill:plot.options.color,"fill-opacity":fillOpacity});renderBasicPlotLegend(g,bounds,legendInfo.label,legendInfo.unit,plot.scale.domain(),plot.options.color,{addLabelBg:!0})}(g,rowBounds,legendInfo,plot):plot instanceof DotPlot?function(g,bounds,legendInfo,plot){const{top:top,left:left,width:width}=bounds,r=Math.min(5,.04*(left+width)),cx1=left+4+r,cx2=Math.max(cx1,left+width-4-r),cy=top+r+2,{scale:scale,options:options}=plot,{label:label,unit:unit}=legendInfo;setProps(g.append("circle"),{attrs:{cx:cx1,cy:cy,r:r},styles:{fill:options.color}}),setProps(g.append("circle"),{attrs:{cx:cx2,cy:cy,r:r},styles:{fill:options.color}}),renderTextLabels(g,bounds,label,unit,scale.domain(),options.color)}(g,rowBounds,legendInfo,plot):plot instanceof DifferentialPlot?function(g,bounds,legendInfo,plot){var _a,_b;const{top:top,left:left,width:width,height:height}=bounds,{legendRows:legendRows,serie1:options1,serie2:options2}=plot.options,{serie1:legend1,serie2:legend2}=legendInfo,hasTwoLegends=2===legendRows&&null!=legend2,d1=(null===(_a=plot.scale1)||void 0===_a?void 0:_a.domain())||[0,1],d2=(null===(_b=plot.scale2)||void 0===_b?void 0:_b.domain())||[0,1],fillOpacity=Math.min(plot.options.fillOpacity+.25,1),centerX=left+width/2,y1=top,y2=hasTwoLegends?top+.5*height:top+height,y3=top+height,shadeH=hasTwoLegends?height/4:height/2,shadeW=Math.max(0,width/2-2),shadeY=y1;legend1&&legend1.show&&(setAttrs(g.append("rect"),{x:left+2,y:shadeY,width:shadeW,height:shadeH,fill:options1.fill,"fill-opacity":fillOpacity}),setAttrs(g.append("rect"),{x:centerX,y:shadeY,width:shadeW,height:shadeH,fill:options2.fill,"fill-opacity":fillOpacity}),renderBasicPlotLegend(g,Object.assign(Object.assign({},bounds),{height:y2-y1}),legend1.label,legend1.unit,d1,options1.color,{addLabelBg:!0})),legend2&&legend2.show&&renderBasicPlotLegend(g,Object.assign(Object.assign({},bounds),{top:y2,height:y3-y2}),legend2.label,legend2.unit,d2,options2.color,{largeFontEnabled:!0})}(g,rowBounds,legendInfo,plot):plot instanceof LineStepPlot?function(g,bounds,legendInfo,plot){renderBasicPlotLegend(g,bounds,legendInfo.label,legendInfo.unit,plot.scale.domain(),plot.options.color)}(g,rowBounds,legendInfo,plot):function(g,bounds,legendInfo,plot){var _a;renderBasicPlotLegend(g,bounds,legendInfo.label,legendInfo.unit,(null===(_a=plot.scale)||void 0===_a?void 0:_a.domain())||[0,1],plot.options.color,{largeFontEnabled:!0})}(g,rowBounds,legendInfo,plot)}))}var graphLegend=LegendHelper.basicLegendSvgConfig(getGraphTrackLegendRows,(function(elm,bounds,track){const g=select(elm).select(".svg-legend"),rows=g.selectAll(".legend-row").data(track.plots);rows.enter().append("g").classed("legend-row",!0),rows.exit().remove(),g.selectAll(".legend-row").call(updateLegendRows,bounds,track)}));class DualScaleTrack extends SvgTrack{constructor(id,options={}){super(id,Object.assign({mode:0},options)),this.xscale=linear().domain([0,10]),this.viewMode=void 0===options.mode?0:options.mode,this.createMeasures=this.createMeasures.bind(this),this.createTicks=this.createTicks.bind(this),this.createRuler=this.createRuler.bind(this)}clearData(){this.scaleHandler=null}refresh(){this.onUpdate({elm:this.elm,scale:this.scale})}onMount(trackEvent){super.onMount(trackEvent),this.scaleHandler=trackEvent.scaleHandler,this.createTicks()}onRescale(trackEvent){super.onRescale(trackEvent),this.createTicks(),this.legendUpdate&&this.legendUpdate(),this.plot()}onUpdate(trackEvent){super.onUpdate(trackEvent);const{elm:elm}=this;this.xscale.range([0,this.options.horizontal?elm.clientHeight:elm.clientWidth]),this.plot()}createTicks(){const{scaleHandler:scaleHandler}=this;this.ticks=scaleHandler?ScaleHelper.createTicks(scaleHandler.scale).major:[]}createRuler(g){const{xscale:xscale,scaleHandler:scaleHandler,labelBounds:labelBounds,ticks:ticks,options:{horizontal:horizontal}}=this,[,max]=xscale.domain(),data=ticks.map((tick=>({y:scaleHandler.scale(tick),v:tick})));g.selectAll("g.major-tick").data(data).call(horizontal?renderHorizontalTicks:renderTicks,xscale,labelBounds,max)}createMeasures(g){const{xscale:xscale,scaleHandler:scaleHandler,labelBounds:labelBounds,viewMode:viewMode,options:{horizontal:horizontal}}=this,[,max]=xscale.domain(),ticks=(null==scaleHandler?void 0:scaleHandler.ticks(viewMode).major)||[];let data=[];data=1===viewMode?ticks.map((tick=>({y:scaleHandler.scale(scaleHandler.interpolator.forward(tick)),v:tick}))):ticks.map((tick=>({y:scaleHandler.dataScale(tick),v:tick}))),g.selectAll("g.major-tick").data(data).call(horizontal?renderHorizontalTicks:renderTicks,xscale,labelBounds,max)}plot(){const{createRuler:createRuler,createMeasures:createMeasures,plotGroup:g,isMaster:isMaster,xscale:xscale,options:{horizontal:horizontal}}=this;if(!g)return;this.labelBounds=horizontal?computeLabelBoundsHorizontal(xscale):computeLabelBounds(xscale);const modeClass=isMaster?"master-scale":"slave-scale";g.attr("class",`scale-track ${modeClass}`),isMaster?createRuler(g):createMeasures(g)}get isMaster(){const{viewMode:viewMode,scaleHandler:scaleHandler}=this;return!!scaleHandler&&(void 0===scaleHandler.mode||viewMode===scaleHandler.mode)}get extent(){var _a,_b,_c;const{viewMode:viewMode,scaleHandler:scaleHandler}=this;return(null==scaleHandler?void 0:scaleHandler.mode)===viewMode?null===(_a=null==scaleHandler?void 0:scaleHandler.scale)||void 0===_a?void 0:_a.domain():1===viewMode?null===(_b=null==scaleHandler?void 0:scaleHandler.interpolator)||void 0===_b?void 0:_b.reverseInterpolatedDomain(scaleHandler.scale.domain()):null===(_c=null==scaleHandler?void 0:scaleHandler.interpolator)||void 0===_c?void 0:_c.forwardInterpolatedDomain(scaleHandler.scale.domain())}}function renderTicks(selection,x,lb,max){let labelX,labelY,labelTransform;lb.rotateText?(labelX=lb.offsetX+(lb.size-1.5),labelY=-lb.offsetY-lb.length/2,labelTransform=`translate(${labelX},${labelY})rotate(-90)`):(labelX=lb.offsetX+lb.length/2,labelY=-lb.offsetY-lb.size/6,labelTransform=`translate(${labelX},${labelY})`),selection.attr("transform",(d=>`translate(0,${d.y})`)),selection.select("line").attr("x2",x(max)),setAttrs(selection.select("rect"),{x:lb.offsetX,y:lb.offsetY,width:lb.rotateText?lb.size:lb.length,height:lb.rotateText?lb.length:lb.size}),selection.select("text").text((d=>d.v)).attr("font-size",`${lb.size}px`).attr("transform",labelTransform);const newTicks=selection.enter().append("g").classed("major-tick",!0).attr("transform",(d=>`translate(0,${d.y})`));setAttrs(newTicks.append("line"),{x1:0,x2:x(max),class:"major-tick-line"}),setAttrs(newTicks.append("rect"),{x:lb.offsetX,y:lb.offsetY,class:"label-bg",width:lb.rotateText?lb.size:lb.length,height:lb.rotateText?lb.length:lb.size}),setAttrs(newTicks.append("text").text((d=>d.v)).classed("label",!0).style("text-anchor","middle"),{"font-size":`${lb.size}px`,"stroke-width":.5,"font-family":"Verdana Tahoma Arial",transform:labelTransform}),selection.exit().remove()}function renderHorizontalTicks(selection,x,lb,max){const labelTransform=`translate(${-(lb.offsetX+lb.size/2)},${lb.offsetY+lb.length/2+1.5})`;selection.attr("transform",(d=>`translate(${d.y},0)`)),selection.select("line").attr("y2",x(max)),setAttrs(selection.select("rect"),{x:-lb.length/2,y:lb.offsetY+lb.size/2,width:lb.length,height:lb.size}),selection.select("text").text((d=>d.v)).attr("font-size",`${lb.size}px`).attr("transform",labelTransform);const newTicks=selection.enter().append("g").classed("major-tick",!0).attr("transform",(d=>`translate(${d.y},0)`));setAttrs(newTicks.append("line"),{y1:0,y2:x(max),class:"major-tick-line"}),setAttrs(newTicks.append("rect"),{x:-lb.length/2,y:lb.offsetY+lb.size/2,class:"label-bg",width:lb.length,height:lb.size}),setAttrs(newTicks.append("text").text((d=>d.v)).classed("label",!0).style("text-anchor","middle"),{"font-size":`${lb.size}px`,"stroke-width":.5,"font-family":"Verdana Tahoma Arial",transform:labelTransform}),selection.exit().remove()}function computeLabelBounds(xscale){const[,max]=xscale.domain(),[,width]=xscale.range();let rotateText=!1,length=xscale(max-4),size=.4*length;return size<9?(size=9,length=size/.4,size<12&&(size=Math.max(length,9),length=.4*size,rotateText=!0)):size>12&&(size=12,length=size/.4),{offsetX:(width-length)/2,offsetY:-size/2,length:rotateText?size:length,size:rotateText?length:size,rotateText:rotateText}}function computeLabelBoundsHorizontal(yscale){const[,max]=yscale.domain(),[,height]=yscale.range();let length=yscale(max-4),size=.4*length;return size<9?(size=9,length=size/.4):size>12&&(size=12,length=size/.4),{offsetX:-size/2,offsetY:(height-length)/2,length:length,size:size,rotateText:!1}}const scaleLegendConfig={elementType:"svg",getLegendRows:()=>2,onInit:(elm,track,updateTrigger)=>{track.legendUpdate=updateTrigger;const lg=select(elm);lg.selectAll("g.scale-legend").remove();const g=lg.append("g").attr("class","scale-legend");g.append("text").classed("scale-title",!0).attr("font-weight","600").style("text-anchor","middle"),g.append("text").attr("class","scale-range").style("text-anchor","middle"),g.append("text").attr("class","scale-units").style("text-anchor","middle")},onUpdate:function(elm,bounds,track){const lg=select(elm);if(!track.extent)return;const{horizontal:horizontal,label:label,abbr:abbr}=track.options,[min,max]=track.extent,span=Math.round(2*(max-min))/2,{height:h,width:w,top:top}=bounds,textSize=Math.min(12,.22*w),lsp=.1*textSize,x=horizontal?h:w/2,y3=(horizontal?w/2+2*(textSize+lsp):top+h)-textSize/1.2,y2=y3-textSize+lsp,y1=y2-textSize-lsp,g=lg.select(".scale-legend"),lbl=g.select("text.scale-title");setAttrs(lbl,{transform:`translate(${x},${y1})`,"font-size":`${textSize}px`,fill:track instanceof DualScaleTrack&&track.isMaster?"black":"#555"}),lbl.text(abbr||label);const val=g.select("text.scale-range");setAttrs(val,{transform:`translate(${x},${y2})`,"font-size":`${textSize}px`}),val.text(Number.isNaN(span)?"-":span);const unit=g.select("text.scale-units");setAttrs(unit,{transform:`translate(${x},${y3})`,"font-size":textSize/1.2+"px"}),unit.text(track.options.units||"units")}},defaultOptions={showLines:!0,showLabels:!0,labelRotation:0};function clamp(value,min,max){return void 0===min&&(min=0),void 0===max&&(max=1),value<min?min:value>max?max:value}function lerp(a,b,t){var m=clamp(t,0,1);return a*(1-m)+b*m}const Padding=20,LabelPadding=10;exports.AreaPlot=AreaPlot,exports.BasicScaleHandler=BasicScaleHandler,exports.CanvasTrack=CanvasTrack,exports.DataHelper=DataHelper,exports.DifferentialPlot=DifferentialPlot,exports.DistributionTrack=class extends SvgTrack{onMount(event){var _a;super.onMount(event);const{options:options,loader:loader}=this;if(this.xscale=linear().domain([0,1]),this.discreteHeight=options.discreteHeight||10,options.data){const showLoader=null!==(_a=options.showLoader)&&void 0!==_a?_a:Boolean(loader);showLoader&&"function"==typeof options.data?this.loadData(options.data,showLoader):this.data=options.data}}onUpdate(event){super.onUpdate(event),this.options.horizontal?this.xscale.range([0,this.elm.clientHeight]):this.xscale.range([0,this.elm.clientWidth]),this.plot()}onRescale(event){super.onRescale(event),this.plot()}plot(){const{plotGroup:g,scale:yscale,xscale:xscale,data:data,options:options,discreteHeight:discreteHeight}=this;if(!g)return;if(!(null==data?void 0:data.length))return void g.selectAll("g.area").remove();const[min,max]=yscale.domain(),transformedData=data.filter((d=>d.depth+discreteHeight>=min&&d.depth-discreteHeight<=max)).map((d=>({depth:yscale(d.depth),composition:d.composition}))),selection=g.selectAll("g.area").data(transformedData,(d=>d.depth)),transform=options.horizontal?d=>`translate(${d.depth-discreteHeight/2}, 0)`:d=>`translate(0, ${d.depth-discreteHeight/2})`;selection.attr("transform",transform);const updateGroup=(group,composition)=>{let cumulativeWidth=0;composition.forEach((({key:key,value:value})=>{var _a;const width=value/100,color=null===(_a=options.components[key])||void 0===_a?void 0:_a.color,rectGeom=((x0,x1,color)=>options.horizontal?{x:0,y:xscale(x0),width:discreteHeight,height:xscale(x1),fill:color}:{x:xscale(x0),y:0,width:xscale(x1),height:discreteHeight,fill:color})(cumulativeWidth,cumulativeWidth+width,color||"black");cumulativeWidth+=width,group.append("rect").call(setAttrs,rectGeom)}))};selection.each((function(d){const group=select(this);group.selectAll("rect").remove(),updateGroup(group,d.composition)})),selection.enter().append("g").classed("area",!0).attr("transform",transform).each((function(d){const group=select(this);updateGroup(group,d.composition)})),selection.exit().remove()}},exports.DotPlot=DotPlot,exports.DualScaleTrack=DualScaleTrack,exports.GraphTrack=class extends CanvasTrack{constructor(id,options={}){super(id,Object.assign(Object.assign({},defaultOptions$1),options)),this._transformCondition=null,this.trackScale=createScale(this.options.scale,this.options.domain),this.plots=[],this.options.plots&&(this.plots=options.plots.map((p=>{const createPlot=this.options.plotFactory[p.type];if(!createPlot)throw Error(`No factory function for creating '${p.type}'-plot!`);return createPlot(p,this.trackScale)}))),this.plot=this.plot.bind(this),this.prepareData=this.prepareData.bind(this),this.debounce=debouncer()}onMount(trackEvent){var _a;super.onMount(trackEvent);const{options:options,loader:loader}=this;if(options.data){const showLoader=null!==(_a=options.showLoader)&&void 0!==_a?_a:Boolean(loader);showLoader&&"function"==typeof options.data?this.loadData(options.data,showLoader):this.data=options.data}}onRescale(trackEvent){super.onRescale(trackEvent),this.prepareData(),this.plot()}onUpdate(trackEvent){super.onUpdate(trackEvent),this.updateRange(),this.plot()}onDataLoaded(data){this._transformCondition=null,this._transformedData=null,this.prepareData(),this.updateDynamicScales(),this.plot()}updateRange(){const range=this.options.horizontal?[this.elm.clientHeight,0]:[0,this.elm.clientWidth];this.trackScale.range(range),this.plots.forEach((plot=>{let r=range;if(Number.isFinite(plot.options.offset)){const[r0,r1]=range;r=this.options.horizontal?[r0-plot.options.offset*Math.abs(r0-r1),r1]:[plot.options.offset*(r1-r0),r1]}plot.options.horizontal=this.options.horizontal,plot.setRange(r)}))}prepareData(){const{data:data,options:options,_transformCondition:previousCondition}=this;if(this.setPlotData(this._transformedData||data),options.transform){const currentCondition=this.getCurrentCondition();!options.alwaysTransform&&previousCondition&&previousCondition===currentCondition||(this._transformedData?this.scheduleUpdateTransform(currentCondition):this.updateTransform(currentCondition))}}updateDynamicScales(){const{plots:plots,data:data}=this;plots.forEach((plot=>{plot.updateDynamicScale(data,this.options)}))}getCurrentCondition(){return Math.round(10*ScaleHelper.getDomainSpan(this.scale,!1))}scheduleUpdateTransform(condition){this.debounce((()=>this.updateTransform(condition)))}updateTransform(condition){const{data:data,scale:scale,options:options,plot:plot}=this;this._transformCondition=condition,options.transform(data,scale).then((transformedData=>{this._transformCondition===condition&&(this._transformedData=transformedData,this.setPlotData(transformedData),plot())}))}setPlotOption(id,key,value){const plot=this.plots.find((d=>d.id===id));if(plot)return plot.setOption(key,value),this.plot(),this;throw Error(`Plot not found with id ${id}`)}plot(){const{ctx:ctx,scale:dscale,trackScale:vscale,plots:plots,options:{horizontal:horizontal,scale:scaleType}}=this;if(!ctx)return;let xticks,yticks;ctx.save(),ctx.clearRect(0,0,ctx.canvas.clientWidth,ctx.canvas.clientHeight),horizontal?(yticks="log"===scaleType?ScaleHelper.createLogTicks(vscale):ScaleHelper.createLinearTicks(vscale),xticks=ScaleHelper.createTicks(dscale),GridHelper.drawGrid(ctx,dscale,xticks,vscale,yticks)):(xticks="log"===scaleType?ScaleHelper.createLogTicks(vscale):ScaleHelper.createLinearTicks(vscale),yticks=ScaleHelper.createTicks(dscale),GridHelper.drawGrid(ctx,vscale,xticks,dscale,yticks)),ctx.restore(),plots.forEach((plot=>plot.plot(ctx,dscale)))}setPlotData(data){const plotOptions=new Map;this.plots.forEach((plot=>{plotOptions.set(plot.id,plot.options)})),this.plots.forEach((p=>p.setData(data,this.scale,plotOptions)))}},exports.GridHelper=GridHelper,exports.HtmlTrack=class extends Track{onMount(trackEvent){super.onMount(trackEvent),this.container=select(trackEvent.elm).append("div").style("position","relative")}onUpdate(trackEvent){super.onUpdate(trackEvent);const{container:container,elm:elm}=this;container&&setStyles(container,{width:`${elm.clientWidth}px`,height:`${elm.clientHeight}px`})}},exports.InterpolatedScaleHandler=class extends BasicScaleHandler{constructor(interpolator,baseDomain=[0,100]){super(baseDomain),this._mode=0,this.interpolator=interpolator||noInterpolator,this._alternateBase=this.interpolator.reverseInterpolatedDomain(baseDomain),this.ticks=this.ticks.bind(this)}createInterpolatedScale(){const{interpolator:interpolator}=this,_t=this,domain=interpolator.forwardInterpolatedDomain(_t.scale.domain()),iscale=v=>{const iv=interpolator.reverse(v);return _t.scale(iv)};return iscale.invert=v=>interpolator.forward(_t.scale.invert(v)),iscale.domain=function(newDomain){if(newDomain)throw Error("Scale is read-only and may not be altered!");return domain},iscale.range=function(newRange){if(newRange)throw Error("Scale is read-only and may not be altered!");return _t.scale.range()},iscale.ticks=linear().domain(domain).range(iscale.range().slice()).ticks,iscale.copy=()=>this.createInterpolatedScale(),iscale}setMode(m){if(0===m||1===m)return this._mode=m,this.rescaleToMode(),this;throw Error("Invalid scale mode!")}rescaleToMode(){const{_mode:mode,interpolator:interpolator,scale:scale}=this;let d;return d=1===mode?interpolator.reverseInterpolatedDomain(scale.domain()):interpolator.forwardInterpolatedDomain(scale.domain()),scale.domain(d),this}ticks(mode){const{_mode:_mode,scale:scale,interpolator:interpolator}=this;if(void 0===mode||mode===_mode)return ScaleHelper.createTicks(scale);let domain;domain=0===mode?interpolator.forwardInterpolatedDomain(scale.domain()):interpolator.reverseInterpolatedDomain(scale.domain());const iscale=linear().domain(domain).range(scale.range());return ScaleHelper.createTicks(iscale)}baseDomain(newDomain){if(newDomain){const{_mode:mode,interpolator:interpolator,scale:scale}=this;return this._baseDomain=newDomain,this._alternateBase=1===mode?[...newDomain]:interpolator.reverseInterpolatedDomain(newDomain),scale.domain(newDomain),this}return 1===this._mode?this._alternateBase:this._baseDomain}get mode(){return this._mode}get dataScale(){return 1===this._mode?this.createInterpolatedScale():this.scale}},exports.LegendHelper=LegendHelper,exports.LinePlot=LinePlot,exports.LineStepPlot=LineStepPlot,exports.LogController=LogController,exports.LogViewer=LogViewer,exports.Plot=Plot,exports.ScaleHelper=ScaleHelper,exports.ScaleTrack=class extends SvgTrack{constructor(id,options){super(id,options),this.xscale=linear().domain([0,10]),this.ticks=[],this.createTicks=this.createTicks.bind(this),this.createRuler=this.createRuler.bind(this),this.plot=this.plot.bind(this)}onMount(trackEvent){super.onMount(trackEvent),this.createTicks()}onRescale(trackEvent){super.onRescale(trackEvent),this.createTicks(),this.legendUpdate&&this.legendUpdate(),this.plot()}onUpdate(trackEvent){super.onUpdate(trackEvent);const{elm:elm}=this;this.xscale.range([0,this.options.horizontal?elm.clientHeight:elm.clientWidth]),this.plot()}createTicks(){const{scale:scale}=this;this.ticks=scale?ScaleHelper.createTicks(scale).major:[]}createRuler(g){const{xscale:xscale,scale:scale,labelBounds:labelBounds,ticks:ticks,options:{horizontal:horizontal}}=this,[,max]=xscale.domain(),data=ticks.map((tick=>({y:scale(tick),v:tick})));g.selectAll("g.major-tick").data(data).call(horizontal?renderHorizontalTicks:renderTicks,xscale,labelBounds,max,horizontal)}plot(){const{createRuler:createRuler,plotGroup:g,xscale:xscale,options:{horizontal:horizontal}}=this;g&&(this.labelBounds=horizontal?computeLabelBoundsHorizontal(xscale):computeLabelBounds(xscale),g.attr("class","scale-track master-scale"),createRuler(g))}get extent(){return this.scale.domain()}},exports.StackedTrack=class extends SvgTrack{constructor(id,options){super(id,Object.assign(Object.assign({},defaultOptions),options))}onMount(event){super.onMount(event);const{options:options}=this;this.xscale=linear().domain([0,1]),options.data&&(this.isLoading=!0,options.data().then((data=>{data.sort(((a,b)=>a.from-b.from));for(let index=1;index<data.length;index++){const currentArea=data[index],previousArea=data[index-1];previousArea.name===currentArea.name&&previousArea.color.r===currentArea.color.r&&previousArea.color.g===currentArea.color.g&&previousArea.color.b===currentArea.color.b&&previousArea.color.a===currentArea.color.a&&previousArea.to===currentArea.from&&(previousArea.to=currentArea.to,data.splice(index,1),index--)}this.data=data,this.isLoading=!1,this.plot()}),(error=>super.onError(error))))}onUpdate(event){super.onUpdate(event),this.options.horizontal?this.xscale.range([0,this.elm.clientHeight]):this.xscale.range([0,this.elm.clientWidth]),this.plot()}onRescale(event){super.onRescale(event),this.plot()}plot(){const{plotGroup:g,scale:yscale,xscale:xscale,data:data,options:options}=this;if(!g)return;if(!data||0===data.length)return void g.selectAll("g.area").remove();const[min,max]=yscale.domain(),areaData=[];data.filter((d=>d.to>min&&d.from<max)).forEach((d=>{const transformedData={name:d.name,yFrom:yscale(d.from),yTo:yscale(d.to),color:`rgb(${d.color.r},${d.color.g},${d.color.b})`,opacity:null!=d.color.a?d.color.a:1},lastIndex=areaData.length-1;lastIndex>=0&&transformedData.yTo-areaData[lastIndex].yFrom<.5?areaData[lastIndex].yTo=transformedData.yTo:areaData.push(transformedData)}));const selection=g.selectAll("g.area").data(areaData,(d=>d.name)),transform=options.horizontal?d=>`translate(${d.yFrom}, 0)`:d=>`translate(0, ${d.yFrom})`;selection.attr("transform",transform);const rectGeom=options.horizontal?d=>({x:0,y:xscale(0),width:Math.max(0,d.yTo-d.yFrom),height:xscale(1),fill:d.color,"fill-opacity":d.opacity}):d=>({x:xscale(0),y:0,width:xscale(1),height:Math.max(0,d.yTo-d.yFrom),fill:d.color,"fill-opacity":d.opacity});setAttrs(selection.select("rect"),rectGeom);const newAreas=selection.enter().append("g").classed("area",!0).attr("transform",transform);if(setAttrs(newAreas.append("rect"),rectGeom),!1!==options.showLines){const lineAttrs={stroke:"black"},sc25=xscale(.25),sc50=xscale(.5),sc75=xscale(.75),horizontalLineData=[{className:"line-top",x1:()=>0,x2:()=>0,y1:()=>sc25,y2:()=>sc75},{className:"line-bottom",x1:d=>d.yTo-d.yFrom,x2:d=>d.yTo-d.yFrom,y1:()=>sc25,y2:()=>sc75},{className:"line-middle",x1:()=>0,x2:d=>d.yTo-d.yFrom,y1:()=>sc50,y2:()=>sc50}],verticalLineData=[{className:"line-top",x1:()=>sc25,x2:()=>sc75,y1:()=>0,y2:()=>0},{className:"line-bottom",x1:()=>sc25,x2:()=>sc75,y1:d=>d.yTo-d.yFrom,y2:d=>d.yTo-d.yFrom},{className:"line-middle",x1:()=>sc50,x2:()=>sc50,y1:()=>0,y2:d=>d.yTo-d.yFrom}];(options.horizontal?horizontalLineData:verticalLineData).forEach((l=>{const{className:className,x1:x1,y1:y1,x2:x2,y2:y2}=l;setAttrs(selection.select(`line.${className}`),(d=>({x1:x1(d),y1:y1(d),x2:x2(d),y2:y2(d)}))),setAttrs(newAreas.append("line"),(d=>Object.assign({x1:x1(d),y1:y1(d),x2:x2(d),y2:y2(d),class:`${className}`},lineAttrs)))}))}if(!1!==options.showLabels){const[,yMax]=yscale.range(),trackWidth=xscale(1)-xscale(0);g.selectAll("g.area").each(((d,i,nodes)=>{const fg=select(nodes[i]),offsets=[Math.max(0,-d.yFrom),Math.max(0,d.yTo-yMax)];!function(g,d,trackWidth,offsets,horizontal,angle){let height=d.yTo-d.yFrom-offsets[0]-offsets[1],width=trackWidth;if(horizontal&&([width,height]=[height,width]),g.select("g.label").remove(),20>height||20>width)return;horizontal||(angle+=90);let labelX=width/2,labelY=offsets[0]+height/2;horizontal&&(labelX=offsets[0]+width/2,labelY=height/2);const rad_angle=angle*Math.PI/180;labelX-=19*Math.sin(rad_angle)/3,labelY+=19*Math.cos(rad_angle)/3;const labelTransform=`translate(${labelX},${labelY})rotate(${angle})`,labelGroup=g.append("g").attr("class","label").attr("transform",labelTransform),labelBg=labelGroup.append("rect"),label=labelGroup.append("text").text(d.name);setProps(label,{styles:{"text-anchor":"middle","text-rendering":"optimizeSpeed","stroke-width":.5},attrs:{class:"label",fill:"black",stroke:"#333","text-anchor":"middle","font-size":"18px"}});const label_bbox=label.node().getBBox(),rot_label_width=Math.abs(Math.cos(rad_angle)*(label_bbox.width+2))+Math.abs(Math.sin(rad_angle)*(label_bbox.height+2)),rot_label_height=Math.abs(Math.cos(rad_angle)*(label_bbox.height+2))+Math.abs(Math.sin(rad_angle)*(label_bbox.width+2));rot_label_width>width||rot_label_height>height?labelGroup.remove():setAttrs(labelBg,{x:label_bbox.x-1,y:label_bbox.y-1,width:label_bbox.width+2,height:label_bbox.height+2,fill:d.color})}(fg,d,trackWidth,offsets,options.horizontal,options.labelRotation)}))}selection.exit().remove()}},exports.SvgTrack=SvgTrack,exports.Track=Track,exports.UIHelper=class{static pickHStackedElement(elements,xpos){for(let i=0;i<elements.length;i++){const elm=elements[i];if(elm&&xpos>=elm.offsetLeft&&xpos<=elm.offsetLeft+elm.clientWidth)return elm}return null}static pickVStackedElement(elements,ypos){for(let i=0;i<elements.length;i++){const elm=elements[i];if(elm&&ypos>=elm.offsetTop&&ypos<=elm.offsetTop+elm.clientHeight)return elm}return null}static attachTrackLoader(elm,track){const loader=select(elm).append("div").classed("loader hidden",!0);for(let i=0;i<3;i++)loader.append("div").classed("loading-dots",!0);track.loader=loader.node()}},exports.createPlotType=createPlotType,exports.debouncer=debouncer,exports.defaultPlotFactory=plotFactory,exports.distributionLegendConfig=function(data){return LegendHelper.basicLegendSvgConfig((()=>3),((elm,bounds,track)=>{const g=select(elm);g.selectAll("*").remove(),function(g,bounds,data,horizontal=!1){const{width:width,height:height,left:left=0,top:top=0}=bounds,components=data&&Object.entries(data);if(!components)return;const textSize=Math.min(12,width/3),squareSize=.75*textSize,wMin=left+Padding,wMax=width-Padding,h=top+height-squareSize,labelSpace=width-2*Padding,labelCount=clamp(Math.floor(labelSpace/(textSize+LabelPadding)),1,components.length);for(let i=0;i<labelCount;i++){const[label,component]=components[i],color=component.color,t=1===labelCount?.5:i/(labelCount-1);let x,y;horizontal?(y=lerp(wMin,wMax,t),x=h):(x=lerp(wMin,wMax,t),y=h),g.append("rect").attr("x",x-.5*squareSize).attr("y",y-.5*squareSize).attr("width",squareSize).attr("height",squareSize).attr("fill",color);const transform=horizontal?`translate(${x-squareSize},${y})`:`translate(${x},${y-squareSize})rotate(90)`;g.append("text").attr("transform",transform).attr("font-size",`${textSize}px`).attr("dominant-baseline","middle").style("text-anchor","end").text(label)}}(g,bounds,data,track.options.horizontal)}))},exports.graphLegendConfig=graphLegend,exports.hashString=hashString,exports.numberFormatter=function(v,decimals=1){return null===v||Number.isNaN(+v)?"-":round(v,decimals).toFixed(decimals)},exports.round=round,exports.scaleLegendConfig=scaleLegendConfig,exports.setAttrs=setAttrs,exports.setProps=setProps,exports.setStyles=setStyles,Object.defineProperty(exports,"__esModule",{value:!0})}(exports)},"./node_modules/@mui/material/Button/Button.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return Button_Button}});var objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),resolveProps=__webpack_require__("./node_modules/@mui/utils/resolveProps/resolveProps.js"),composeClasses=__webpack_require__("./node_modules/@mui/utils/composeClasses/composeClasses.js"),colorManipulator=__webpack_require__("./node_modules/@mui/system/colorManipulator.js"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),rootShouldForwardProp=__webpack_require__("./node_modules/@mui/material/styles/rootShouldForwardProp.js"),useThemeProps=__webpack_require__("./node_modules/@mui/material/styles/useThemeProps.js"),ButtonBase=__webpack_require__("./node_modules/@mui/material/ButtonBase/ButtonBase.js"),capitalize=__webpack_require__("./node_modules/@mui/material/utils/capitalize.js"),generateUtilityClasses=__webpack_require__("./node_modules/@mui/utils/generateUtilityClasses/generateUtilityClasses.js"),generateUtilityClass=__webpack_require__("./node_modules/@mui/utils/generateUtilityClass/generateUtilityClass.js");function getButtonUtilityClass(slot){return(0,generateUtilityClass.Ay)("MuiButton",slot)}var Button_buttonClasses=(0,generateUtilityClasses.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var ButtonGroup_ButtonGroupContext=react.createContext({});var ButtonGroup_ButtonGroupButtonContext=react.createContext(void 0),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],commonIconStyles=ownerState=>(0,esm_extends.A)({},"small"===ownerState.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===ownerState.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===ownerState.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=(0,styled.Ay)(ButtonBase.A,{shouldForwardProp:prop=>(0,rootShouldForwardProp.A)(prop)||"classes"===prop,name:"MuiButton",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState:ownerState}=props;return[styles.root,styles[ownerState.variant],styles[`${ownerState.variant}${(0,capitalize.A)(ownerState.color)}`],styles[`size${(0,capitalize.A)(ownerState.size)}`],styles[`${ownerState.variant}Size${(0,capitalize.A)(ownerState.size)}`],"inherit"===ownerState.color&&styles.colorInherit,ownerState.disableElevation&&styles.disableElevation,ownerState.fullWidth&&styles.fullWidth]}})((({theme:theme,ownerState:ownerState})=>{var _theme$palette$getCon,_theme$palette;const inheritContainedBackgroundColor="light"===theme.palette.mode?theme.palette.grey[300]:theme.palette.grey[800],inheritContainedHoverBackgroundColor="light"===theme.palette.mode?theme.palette.grey.A100:theme.palette.grey[700];return(0,esm_extends.A)({},theme.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(theme.vars||theme).shape.borderRadius,transition:theme.transitions.create(["background-color","box-shadow","border-color","color"],{duration:theme.transitions.duration.short}),"&:hover":(0,esm_extends.A)({textDecoration:"none",backgroundColor:theme.vars?`rgba(${theme.vars.palette.text.primaryChannel} / ${theme.vars.palette.action.hoverOpacity})`:(0,colorManipulator.X4)(theme.palette.text.primary,theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===ownerState.variant&&"inherit"!==ownerState.color&&{backgroundColor:theme.vars?`rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})`:(0,colorManipulator.X4)(theme.palette[ownerState.color].main,theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===ownerState.variant&&"inherit"!==ownerState.color&&{border:`1px solid ${(theme.vars||theme).palette[ownerState.color].main}`,backgroundColor:theme.vars?`rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})`:(0,colorManipulator.X4)(theme.palette[ownerState.color].main,theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===ownerState.variant&&{backgroundColor:theme.vars?theme.vars.palette.Button.inheritContainedHoverBg:inheritContainedHoverBackgroundColor,boxShadow:(theme.vars||theme).shadows[4],"@media (hover: none)":{boxShadow:(theme.vars||theme).shadows[2],backgroundColor:(theme.vars||theme).palette.grey[300]}},"contained"===ownerState.variant&&"inherit"!==ownerState.color&&{backgroundColor:(theme.vars||theme).palette[ownerState.color].dark,"@media (hover: none)":{backgroundColor:(theme.vars||theme).palette[ownerState.color].main}}),"&:active":(0,esm_extends.A)({},"contained"===ownerState.variant&&{boxShadow:(theme.vars||theme).shadows[8]}),[`&.${Button_buttonClasses.focusVisible}`]:(0,esm_extends.A)({},"contained"===ownerState.variant&&{boxShadow:(theme.vars||theme).shadows[6]}),[`&.${Button_buttonClasses.disabled}`]:(0,esm_extends.A)({color:(theme.vars||theme).palette.action.disabled},"outlined"===ownerState.variant&&{border:`1px solid ${(theme.vars||theme).palette.action.disabledBackground}`},"contained"===ownerState.variant&&{color:(theme.vars||theme).palette.action.disabled,boxShadow:(theme.vars||theme).shadows[0],backgroundColor:(theme.vars||theme).palette.action.disabledBackground})},"text"===ownerState.variant&&{padding:"6px 8px"},"text"===ownerState.variant&&"inherit"!==ownerState.color&&{color:(theme.vars||theme).palette[ownerState.color].main},"outlined"===ownerState.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===ownerState.variant&&"inherit"!==ownerState.color&&{color:(theme.vars||theme).palette[ownerState.color].main,border:theme.vars?`1px solid rgba(${theme.vars.palette[ownerState.color].mainChannel} / 0.5)`:`1px solid ${(0,colorManipulator.X4)(theme.palette[ownerState.color].main,.5)}`},"contained"===ownerState.variant&&{color:theme.vars?theme.vars.palette.text.primary:null==(_theme$palette$getCon=(_theme$palette=theme.palette).getContrastText)?void 0:_theme$palette$getCon.call(_theme$palette,theme.palette.grey[300]),backgroundColor:theme.vars?theme.vars.palette.Button.inheritContainedBg:inheritContainedBackgroundColor,boxShadow:(theme.vars||theme).shadows[2]},"contained"===ownerState.variant&&"inherit"!==ownerState.color&&{color:(theme.vars||theme).palette[ownerState.color].contrastText,backgroundColor:(theme.vars||theme).palette[ownerState.color].main},"inherit"===ownerState.color&&{color:"inherit",borderColor:"currentColor"},"small"===ownerState.size&&"text"===ownerState.variant&&{padding:"4px 5px",fontSize:theme.typography.pxToRem(13)},"large"===ownerState.size&&"text"===ownerState.variant&&{padding:"8px 11px",fontSize:theme.typography.pxToRem(15)},"small"===ownerState.size&&"outlined"===ownerState.variant&&{padding:"3px 9px",fontSize:theme.typography.pxToRem(13)},"large"===ownerState.size&&"outlined"===ownerState.variant&&{padding:"7px 21px",fontSize:theme.typography.pxToRem(15)},"small"===ownerState.size&&"contained"===ownerState.variant&&{padding:"4px 10px",fontSize:theme.typography.pxToRem(13)},"large"===ownerState.size&&"contained"===ownerState.variant&&{padding:"8px 22px",fontSize:theme.typography.pxToRem(15)},ownerState.fullWidth&&{width:"100%"})}),(({ownerState:ownerState})=>ownerState.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Button_buttonClasses.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Button_buttonClasses.disabled}`]:{boxShadow:"none"}})),ButtonStartIcon=(0,styled.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(props,styles)=>{const{ownerState:ownerState}=props;return[styles.startIcon,styles[`iconSize${(0,capitalize.A)(ownerState.size)}`]]}})((({ownerState:ownerState})=>(0,esm_extends.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===ownerState.size&&{marginLeft:-2},commonIconStyles(ownerState)))),ButtonEndIcon=(0,styled.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(props,styles)=>{const{ownerState:ownerState}=props;return[styles.endIcon,styles[`iconSize${(0,capitalize.A)(ownerState.size)}`]]}})((({ownerState:ownerState})=>(0,esm_extends.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===ownerState.size&&{marginRight:-2},commonIconStyles(ownerState))));var Button_Button=react.forwardRef((function Button(inProps,ref){const contextProps=react.useContext(ButtonGroup_ButtonGroupContext),buttonGroupButtonContextPositionClassName=react.useContext(ButtonGroup_ButtonGroupButtonContext),resolvedProps=(0,resolveProps.A)(contextProps,inProps),props=(0,useThemeProps.A)({props:resolvedProps,name:"MuiButton"}),{children:children,color:color="primary",component:component="button",className:className,disabled:disabled=!1,disableElevation:disableElevation=!1,disableFocusRipple:disableFocusRipple=!1,endIcon:endIconProp,focusVisibleClassName:focusVisibleClassName,fullWidth:fullWidth=!1,size:size="medium",startIcon:startIconProp,type:type,variant:variant="text"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,_excluded),ownerState=(0,esm_extends.A)({},props,{color:color,component:component,disabled:disabled,disableElevation:disableElevation,disableFocusRipple:disableFocusRipple,fullWidth:fullWidth,size:size,type:type,variant:variant}),classes=(ownerState=>{const{color:color,disableElevation:disableElevation,fullWidth:fullWidth,size:size,variant:variant,classes:classes}=ownerState,slots={root:["root",variant,`${variant}${(0,capitalize.A)(color)}`,`size${(0,capitalize.A)(size)}`,`${variant}Size${(0,capitalize.A)(size)}`,`color${(0,capitalize.A)(color)}`,disableElevation&&"disableElevation",fullWidth&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,capitalize.A)(size)}`],endIcon:["icon","endIcon",`iconSize${(0,capitalize.A)(size)}`]},composedClasses=(0,composeClasses.A)(slots,getButtonUtilityClass,classes);return(0,esm_extends.A)({},classes,composedClasses)})(ownerState),startIcon=startIconProp&&(0,jsx_runtime.jsx)(ButtonStartIcon,{className:classes.startIcon,ownerState:ownerState,children:startIconProp}),endIcon=endIconProp&&(0,jsx_runtime.jsx)(ButtonEndIcon,{className:classes.endIcon,ownerState:ownerState,children:endIconProp}),positionClassName=buttonGroupButtonContextPositionClassName||"";return(0,jsx_runtime.jsxs)(ButtonRoot,(0,esm_extends.A)({ownerState:ownerState,className:(0,clsx.A)(contextProps.className,classes.root,className,positionClassName),component:component,disabled:disabled,focusRipple:!disableFocusRipple,focusVisibleClassName:(0,clsx.A)(classes.focusVisible,focusVisibleClassName),ref:ref,type:type},other,{classes:classes,children:[startIcon,children,endIcon]}))}))},"./node_modules/@mui/material/DialogActions/DialogActions.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return DialogActions_DialogActions}});var objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),composeClasses=__webpack_require__("./node_modules/@mui/utils/composeClasses/composeClasses.js"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),useThemeProps=__webpack_require__("./node_modules/@mui/material/styles/useThemeProps.js"),generateUtilityClasses=__webpack_require__("./node_modules/@mui/utils/generateUtilityClasses/generateUtilityClasses.js"),generateUtilityClass=__webpack_require__("./node_modules/@mui/utils/generateUtilityClass/generateUtilityClass.js");function getDialogActionsUtilityClass(slot){return(0,generateUtilityClass.Ay)("MuiDialogActions",slot)}(0,generateUtilityClasses.A)("MuiDialogActions",["root","spacing"]);var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["className","disableSpacing"],DialogActionsRoot=(0,styled.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState:ownerState}=props;return[styles.root,!ownerState.disableSpacing&&styles.spacing]}})((({ownerState:ownerState})=>(0,esm_extends.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!ownerState.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})));var DialogActions_DialogActions=react.forwardRef((function DialogActions(inProps,ref){const props=(0,useThemeProps.A)({props:inProps,name:"MuiDialogActions"}),{className:className,disableSpacing:disableSpacing=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,_excluded),ownerState=(0,esm_extends.A)({},props,{disableSpacing:disableSpacing}),classes=(ownerState=>{const{classes:classes,disableSpacing:disableSpacing}=ownerState,slots={root:["root",!disableSpacing&&"spacing"]};return(0,composeClasses.A)(slots,getDialogActionsUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(DialogActionsRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ownerState:ownerState,ref:ref},other))}))},"./node_modules/@mui/material/DialogContent/DialogContent.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return DialogContent_DialogContent}});var objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),composeClasses=__webpack_require__("./node_modules/@mui/utils/composeClasses/composeClasses.js"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),useThemeProps=__webpack_require__("./node_modules/@mui/material/styles/useThemeProps.js"),generateUtilityClasses=__webpack_require__("./node_modules/@mui/utils/generateUtilityClasses/generateUtilityClasses.js"),generateUtilityClass=__webpack_require__("./node_modules/@mui/utils/generateUtilityClass/generateUtilityClass.js");function getDialogContentUtilityClass(slot){return(0,generateUtilityClass.Ay)("MuiDialogContent",slot)}(0,generateUtilityClasses.A)("MuiDialogContent",["root","dividers"]);var dialogTitleClasses=__webpack_require__("./node_modules/@mui/material/DialogTitle/dialogTitleClasses.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["className","dividers"],DialogContentRoot=(0,styled.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState:ownerState}=props;return[styles.root,ownerState.dividers&&styles.dividers]}})((({theme:theme,ownerState:ownerState})=>(0,esm_extends.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},ownerState.dividers?{padding:"16px 24px",borderTop:`1px solid ${(theme.vars||theme).palette.divider}`,borderBottom:`1px solid ${(theme.vars||theme).palette.divider}`}:{[`.${dialogTitleClasses.A.root} + &`]:{paddingTop:0}})));var DialogContent_DialogContent=react.forwardRef((function DialogContent(inProps,ref){const props=(0,useThemeProps.A)({props:inProps,name:"MuiDialogContent"}),{className:className,dividers:dividers=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,_excluded),ownerState=(0,esm_extends.A)({},props,{dividers:dividers}),classes=(ownerState=>{const{classes:classes,dividers:dividers}=ownerState,slots={root:["root",dividers&&"dividers"]};return(0,composeClasses.A)(slots,getDialogContentUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(DialogContentRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ownerState:ownerState,ref:ref},other))}))},"./node_modules/@mui/material/DialogTitle/DialogTitle.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_mui_utils_composeClasses__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/utils/composeClasses/composeClasses.js"),_Typography__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),_styles_styled__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),_styles_useThemeProps__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mui/material/styles/useThemeProps.js"),_dialogTitleClasses__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/DialogTitle/dialogTitleClasses.js"),_Dialog_DialogContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@mui/material/Dialog/DialogContext.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["className","id"],DialogTitleRoot=(0,_styles_styled__WEBPACK_IMPORTED_MODULE_4__.Ay)(_Typography__WEBPACK_IMPORTED_MODULE_5__.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(props,styles)=>styles.root})({padding:"16px 24px",flex:"0 0 auto"}),DialogTitle=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function DialogTitle(inProps,ref){const props=(0,_styles_useThemeProps__WEBPACK_IMPORTED_MODULE_6__.A)({props:inProps,name:"MuiDialogTitle"}),{className:className,id:idProp}=props,other=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_7__.A)(props,_excluded),ownerState=props,classes=(ownerState=>{const{classes:classes}=ownerState;return(0,_mui_utils_composeClasses__WEBPACK_IMPORTED_MODULE_2__.A)({root:["root"]},_dialogTitleClasses__WEBPACK_IMPORTED_MODULE_3__.t,classes)})(ownerState),{titleId:titleId=idProp}=react__WEBPACK_IMPORTED_MODULE_0__.useContext(_Dialog_DialogContext__WEBPACK_IMPORTED_MODULE_8__.A);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DialogTitleRoot,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_9__.A)({component:"h2",className:(0,clsx__WEBPACK_IMPORTED_MODULE_10__.A)(classes.root,className),ownerState:ownerState,ref:ref,variant:"h6",id:null!=idProp?idProp:titleId},other))}));__webpack_exports__.A=DialogTitle},"./node_modules/@mui/material/DialogTitle/dialogTitleClasses.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{t:function(){return getDialogTitleUtilityClass}});var _mui_utils_generateUtilityClasses__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/utils/generateUtilityClasses/generateUtilityClasses.js"),_mui_utils_generateUtilityClass__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/utils/generateUtilityClass/generateUtilityClass.js");function getDialogTitleUtilityClass(slot){return(0,_mui_utils_generateUtilityClass__WEBPACK_IMPORTED_MODULE_0__.Ay)("MuiDialogTitle",slot)}const dialogTitleClasses=(0,_mui_utils_generateUtilityClasses__WEBPACK_IMPORTED_MODULE_1__.A)("MuiDialogTitle",["root"]);__webpack_exports__.A=dialogTitleClasses},"./node_modules/@mui/material/NativeSelect/NativeSelect.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_mui_utils_composeClasses__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/utils/composeClasses/composeClasses.js"),_NativeSelectInput__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@mui/material/NativeSelect/NativeSelectInput.js"),_FormControl_formControlState__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@mui/material/FormControl/formControlState.js"),_FormControl_useFormControl__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@mui/material/FormControl/useFormControl.js"),_internal_svg_icons_ArrowDropDown__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mui/material/internal/svg-icons/ArrowDropDown.js"),_Input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/Input/Input.js"),_styles_useThemeProps__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/styles/useThemeProps.js"),_nativeSelectClasses__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/NativeSelect/nativeSelectClasses.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["className","children","classes","IconComponent","input","inputProps","variant"],_excluded2=["root"],defaultInput=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Input__WEBPACK_IMPORTED_MODULE_4__.A,{}),NativeSelect=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function NativeSelect(inProps,ref){const props=(0,_styles_useThemeProps__WEBPACK_IMPORTED_MODULE_5__.A)({name:"MuiNativeSelect",props:inProps}),{className:className,children:children,classes:classesProp={},IconComponent:IconComponent=_internal_svg_icons_ArrowDropDown__WEBPACK_IMPORTED_MODULE_6__.A,input:input=defaultInput,inputProps:inputProps}=props,other=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_7__.A)(props,_excluded),muiFormControl=(0,_FormControl_useFormControl__WEBPACK_IMPORTED_MODULE_8__.A)(),fcs=(0,_FormControl_formControlState__WEBPACK_IMPORTED_MODULE_9__.A)({props:props,muiFormControl:muiFormControl,states:["variant"]}),classes=(ownerState=>{const{classes:classes}=ownerState;return(0,_mui_utils_composeClasses__WEBPACK_IMPORTED_MODULE_2__.A)({root:["root"]},_nativeSelectClasses__WEBPACK_IMPORTED_MODULE_3__.w,classes)})((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_10__.A)({},props,{classes:classesProp})),otherClasses=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_7__.A)(classesProp,_excluded2);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(input,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_10__.A)({inputComponent:_NativeSelectInput__WEBPACK_IMPORTED_MODULE_11__.Ay,inputProps:(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_10__.A)({children:children,classes:otherClasses,IconComponent:IconComponent,variant:fcs.variant,type:void 0},inputProps,input?input.props.inputProps:{}),ref:ref},other,{className:(0,clsx__WEBPACK_IMPORTED_MODULE_12__.A)(classes.root,input.props.className,className)}))})}));NativeSelect.muiName="Select",__webpack_exports__.A=NativeSelect},"./node_modules/@mui/material/Typography/Typography.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return Typography_Typography}});var objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),extendSxProp=__webpack_require__("./node_modules/@mui/system/esm/styleFunctionSx/extendSxProp.js"),composeClasses=__webpack_require__("./node_modules/@mui/utils/composeClasses/composeClasses.js"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),useThemeProps=__webpack_require__("./node_modules/@mui/material/styles/useThemeProps.js"),capitalize=__webpack_require__("./node_modules/@mui/material/utils/capitalize.js"),generateUtilityClasses=__webpack_require__("./node_modules/@mui/utils/generateUtilityClasses/generateUtilityClasses.js"),generateUtilityClass=__webpack_require__("./node_modules/@mui/utils/generateUtilityClass/generateUtilityClass.js");function getTypographyUtilityClass(slot){return(0,generateUtilityClass.Ay)("MuiTypography",slot)}(0,generateUtilityClasses.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],TypographyRoot=(0,styled.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState:ownerState}=props;return[styles.root,ownerState.variant&&styles[ownerState.variant],"inherit"!==ownerState.align&&styles[`align${(0,capitalize.A)(ownerState.align)}`],ownerState.noWrap&&styles.noWrap,ownerState.gutterBottom&&styles.gutterBottom,ownerState.paragraph&&styles.paragraph]}})((({theme:theme,ownerState:ownerState})=>(0,esm_extends.A)({margin:0},"inherit"===ownerState.variant&&{font:"inherit"},"inherit"!==ownerState.variant&&theme.typography[ownerState.variant],"inherit"!==ownerState.align&&{textAlign:ownerState.align},ownerState.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},ownerState.gutterBottom&&{marginBottom:"0.35em"},ownerState.paragraph&&{marginBottom:16}))),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var Typography_Typography=react.forwardRef((function Typography(inProps,ref){const themeProps=(0,useThemeProps.A)({props:inProps,name:"MuiTypography"}),color=(color=>colorTransformations[color]||color)(themeProps.color),props=(0,extendSxProp.A)((0,esm_extends.A)({},themeProps,{color:color})),{align:align="inherit",className:className,component:component,gutterBottom:gutterBottom=!1,noWrap:noWrap=!1,paragraph:paragraph=!1,variant:variant="body1",variantMapping:variantMapping=defaultVariantMapping}=props,other=(0,objectWithoutPropertiesLoose.A)(props,_excluded),ownerState=(0,esm_extends.A)({},props,{align:align,color:color,className:className,component:component,gutterBottom:gutterBottom,noWrap:noWrap,paragraph:paragraph,variant:variant,variantMapping:variantMapping}),Component=component||(paragraph?"p":variantMapping[variant]||defaultVariantMapping[variant])||"span",classes=(ownerState=>{const{align:align,gutterBottom:gutterBottom,noWrap:noWrap,paragraph:paragraph,variant:variant,classes:classes}=ownerState,slots={root:["root",variant,"inherit"!==ownerState.align&&`align${(0,capitalize.A)(align)}`,gutterBottom&&"gutterBottom",noWrap&&"noWrap",paragraph&&"paragraph"]};return(0,composeClasses.A)(slots,getTypographyUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(TypographyRoot,(0,esm_extends.A)({as:Component,ref:ref,ownerState:ownerState,className:(0,clsx.A)(classes.root,className)},other))}))},"./node_modules/css-loader/dist/runtime/api.js":function(module){"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item);return item[2]?"@media ".concat(item[2]," {").concat(content,"}"):content})).join("")},list.i=function(modules,mediaQuery,dedupe){"string"==typeof modules&&(modules=[[null,modules,""]]);var alreadyImportedModules={};if(dedupe)for(var i=0;i<this.length;i++){var id=this[i][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);dedupe&&alreadyImportedModules[item[0]]||(mediaQuery&&(item[2]?item[2]="".concat(mediaQuery," and ").concat(item[2]):item[2]=mediaQuery),list.push(item))}},list}},"./node_modules/css-loader/dist/runtime/cssWithMappingToString.js":function(module){"use strict";function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=arr&&("undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"]);if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}module.exports=function cssWithMappingToString(item){var _item=_slicedToArray(item,4),content=_item[1],cssMapping=_item[3];if(!cssMapping)return content;if("function"==typeof btoa){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),sourceMapping="/*# ".concat(data," */"),sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}},"./node_modules/vue-style-loader/lib/addStylesClient.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function listToStyles(parentId,list){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=item[0],part={id:parentId+":"+i,css:item[1],media:item[2],sourceMap:item[3]};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}__webpack_require__.d(__webpack_exports__,{A:function(){return addStylesClient}});var hasDocument="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!hasDocument)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var stylesInDom={},head=hasDocument&&(document.head||document.getElementsByTagName("head")[0]),singletonElement=null,singletonCounter=0,isProduction=!1,noop=function(){},options=null,ssrIdKey="data-vue-ssr-id",isOldIE="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function addStylesClient(parentId,list,_isProduction,_options){isProduction=_isProduction,options=_options||{};var styles=listToStyles(parentId,list);return addStylesToDom(styles),function update(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i];(domStyle=stylesInDom[item.id]).refs--,mayRemove.push(domStyle)}newList?addStylesToDom(styles=listToStyles(parentId,newList)):styles=[];for(i=0;i<mayRemove.length;i++){var domStyle;if(0===(domStyle=mayRemove[i]).refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}}function addStylesToDom(styles){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j]));domStyle.parts.length>item.parts.length&&(domStyle.parts.length=item.parts.length)}else{var parts=[];for(j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j]));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function createStyleElement(){var styleElement=document.createElement("style");return styleElement.type="text/css",head.appendChild(styleElement),styleElement}function addStyle(obj){var update,remove,styleElement=document.querySelector("style["+ssrIdKey+'~="'+obj.id+'"]');if(styleElement){if(isProduction)return noop;styleElement.parentNode.removeChild(styleElement)}if(isOldIE){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement()),update=applyToSingletonTag.bind(null,styleElement,styleIndex,!1),remove=applyToSingletonTag.bind(null,styleElement,styleIndex,!0)}else styleElement=createStyleElement(),update=applyToTag.bind(null,styleElement),remove=function(){styleElement.parentNode.removeChild(styleElement)};return update(obj),function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}var textStore,replaceText=(textStore=[],function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")});function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=styleElement.childNodes;childNodes[index]&&styleElement.removeChild(childNodes[index]),childNodes.length?styleElement.insertBefore(cssNode,childNodes[index]):styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css,media=obj.media,sourceMap=obj.sourceMap;if(media&&styleElement.setAttribute("media",media),options.ssrId&&styleElement.setAttribute(ssrIdKey,obj.id),sourceMap&&(css+="\n/*# sourceURL="+sourceMap.sources[0]+" */",css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */"),styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}}}]);