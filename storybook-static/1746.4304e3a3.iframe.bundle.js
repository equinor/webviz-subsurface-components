/*! For license information please see 1746.4304e3a3.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_webviz_subsurface_components=self.webpackChunk_webviz_subsurface_components||[]).push([[1746],{"./node_modules/@deck.gl/aggregation-layers/dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AGGREGATION_OPERATION:function(){return AGGREGATION_OPERATION},CPUGridLayer:function(){return CPUGridLayer},ContourLayer:function(){return ContourLayer},GPUGridLayer:function(){return GPUGridLayer},GridLayer:function(){return GridLayer},HeatmapLayer:function(){return HeatmapLayer},HexagonLayer:function(){return HexagonLayer},ScreenGridLayer:function(){return ScreenGridLayer},_AggregationLayer:function(){return AggregationLayer},_BinSorter:function(){return BinSorter},_CPUAggregator:function(){return CPUAggregator},_GPUGridAggregator:function(){return GPUGridAggregator}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),log=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/log.js"),webgl_features_table=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/features/webgl-features-table.js"),features=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/features/features.js"),esm=__webpack_require__("./node_modules/@luma.gl/gltools/dist/esm/index.js"),copy_and_blit=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/copy-and-blit.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),transform=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/transform/transform.js"),fp64=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/fp64/fp64.js"),shader=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/shader.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js");const AGGREGATION_OPERATION={SUM:1,MEAN:2,MIN:3,MAX:4};function sumReducer(accu,cur){return accu+cur}function maxReducer(accu,cur){return cur>accu?cur:accu}function minReducer(accu,cur){return cur<accu?cur:accu}function getValueFunc(aggregation,accessor,context){const op=AGGREGATION_OPERATION[aggregation]||AGGREGATION_OPERATION.SUM;switch(accessor=function wrapAccessor(accessor,context={}){if(Number.isFinite(accessor))return accessor;return pt=>(context.index=pt.index,accessor(pt.source,context))}(accessor,context),op){case AGGREGATION_OPERATION.MIN:return pts=>function getMin(pts,accessor){if(Number.isFinite(accessor))return pts.length?accessor:null;const filtered=pts.map(accessor).filter(Number.isFinite);return filtered.length?filtered.reduce(minReducer,1/0):null}(pts,accessor);case AGGREGATION_OPERATION.SUM:return pts=>function getSum(pts,accessor){if(Number.isFinite(accessor))return pts.length?pts.length*accessor:null;const filtered=pts.map(accessor).filter(Number.isFinite);return filtered.length?filtered.reduce(sumReducer,0):null}(pts,accessor);case AGGREGATION_OPERATION.MEAN:return pts=>function getMean(pts,accessor){if(Number.isFinite(accessor))return pts.length?accessor:null;const filtered=pts.map(accessor).filter(Number.isFinite);return filtered.length?filtered.reduce(sumReducer,0)/filtered.length:null}(pts,accessor);case AGGREGATION_OPERATION.MAX:return pts=>function getMax(pts,accessor){if(Number.isFinite(accessor))return pts.length?accessor:null;const filtered=pts.map(accessor).filter(Number.isFinite);return filtered.length?filtered.reduce(maxReducer,-1/0):null}(pts,accessor);default:return null}}function wrapGetValueFunc(getValue,context={}){return pts=>(context.indices=pts.map((pt=>pt.index)),getValue(pts.map((pt=>pt.source)),context))}const DEFAULT_RUN_PARAMS={projectPoints:!1,viewport:null,createBufferObjects:!0,moduleSettings:{}},MAX_32_BIT_FLOAT=3402823466e29,MIN_BLEND_EQUATION=[32775,32774],MAX_BLEND_EQUATION=[32776,32774],MAX_MIN_BLEND_EQUATION=[32776,32775],EQUATION_MAP={[AGGREGATION_OPERATION.SUM]:32774,[AGGREGATION_OPERATION.MEAN]:32774,[AGGREGATION_OPERATION.MIN]:MIN_BLEND_EQUATION,[AGGREGATION_OPERATION.MAX]:MAX_BLEND_EQUATION},DEFAULT_WEIGHT_PARAMS={size:1,operation:AGGREGATION_OPERATION.SUM,needMin:!1,needMax:!1,combineMaxMin:!1};var aggregate_to_grid_vs_glsl="#define SHADER_NAME gpu-aggregation-to-grid-vs\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute vec3 weights;\nuniform vec2 cellSize;\nuniform vec2 gridSize;\nuniform bool projectPoints;\nuniform vec2 translation;\nuniform vec3 scaling;\n\nvarying vec3 vWeights;\n\nvec2 project_to_pixel(vec4 pos) {\n  vec4 result;\n  pos.xy = pos.xy/pos.w;\n  result = pos + vec4(translation, 0., 0.);\n  result.xy = scaling.z > 0. ? result.xy * scaling.xy : result.xy;\n  return result.xy;\n}\n\nvoid main(void) {\n\n  vWeights = weights;\n\n  vec4 windowPos = vec4(positions, 1.);\n  if (projectPoints) {\n    windowPos = project_position_to_clipspace(positions, positions64Low, vec3(0));\n  }\n\n  vec2 pos = project_to_pixel(windowPos);\n\n  vec2 pixelXY64[2];\n  pixelXY64[0] = vec2(pos.x, 0.);\n  pixelXY64[1] = vec2(pos.y, 0.);\n  vec2 gridXY64[2];\n  gridXY64[0] = div_fp64(pixelXY64[0], vec2(cellSize.x, 0));\n  gridXY64[1] = div_fp64(pixelXY64[1], vec2(cellSize.y, 0));\n  float x = floor(gridXY64[0].x);\n  float y = floor(gridXY64[1].x);\n  pos = vec2(x, y);\n  pos = (pos * (2., 2.) / (gridSize)) - (1., 1.);\n  vec2 offset = 1.0 / gridSize;\n  pos = pos + offset;\n\n  gl_Position = vec4(pos, 0.0, 1.0);\n  gl_PointSize = 1.0;\n}\n",aggregate_to_grid_fs_glsl="#define SHADER_NAME gpu-aggregation-to-grid-fs\n\nprecision highp float;\n\nvarying vec3 vWeights;\n\nvoid main(void) {\n  gl_FragColor = vec4(vWeights, 1.0);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",aggregate_all_vs_glsl="#version 300 es\n#define SHADER_NAME gpu-aggregation-all-vs-64\n\nin vec2 position;\nuniform ivec2 gridSize;\nout vec2 vTextureCoord;\n\nvoid main(void) {\n  vec2 pos = vec2(-1.0, -1.0);\n  vec2 offset = 1.0 / vec2(gridSize);\n  pos = pos + offset;\n\n  gl_Position = vec4(pos, 0.0, 1.0);\n\n  int yIndex = gl_InstanceID / gridSize[0];\n  int xIndex = gl_InstanceID - (yIndex * gridSize[0]);\n\n  vec2 yIndexFP64 = vec2(float(yIndex), 0.);\n  vec2 xIndexFP64 = vec2(float(xIndex), 0.);\n  vec2 gridSizeYFP64 = vec2(gridSize[1], 0.);\n  vec2 gridSizeXFP64 = vec2(gridSize[0], 0.);\n\n  vec2 texCoordXFP64 = div_fp64(yIndexFP64, gridSizeYFP64);\n  vec2 texCoordYFP64 = div_fp64(xIndexFP64, gridSizeXFP64);\n\n  vTextureCoord = vec2(texCoordYFP64.x, texCoordXFP64.x);\n  gl_PointSize = 1.0;\n}\n",aggregate_all_fs_glsl="#version 300 es\n#define SHADER_NAME gpu-aggregation-all-fs\n\nprecision highp float;\n\nin vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform bool combineMaxMin;\nout vec4 fragColor;\nvoid main(void) {\n  vec4 textureColor = texture(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n  if (textureColor.a == 0.) {\n    discard;\n  }\n  fragColor.rgb = textureColor.rgb;\n  fragColor.a = combineMaxMin ? textureColor.r : textureColor.a;\n}\n",transform_mean_vs_glsl="#define SHADER_NAME gpu-aggregation-transform-mean-vs\nattribute vec4 aggregationValues;\nvarying vec4 meanValues;\n\nvoid main()\n{\n  bool isCellValid = bool(aggregationValues.w > 0.);\n  meanValues.xyz = isCellValid ? aggregationValues.xyz/aggregationValues.w : vec3(0, 0, 0);\n  meanValues.w = aggregationValues.w;\n  gl_PointSize = 1.0;\n}\n",texture_2d=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/texture-2d.js"),framebuffer=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/framebuffer.js");const DEFAULT_PARAMETERS={10240:9728,10241:9728};function getFloatTexture(gl,opts={}){const{width:width=1,height:height=1,data:data=null,unpackFlipY:unpackFlipY=!0,parameters:parameters=DEFAULT_PARAMETERS}=opts;return new texture_2d.Z(gl,{data:data,format:(0,esm.D0)(gl)?34836:6408,type:5126,border:0,mipmaps:!1,parameters:parameters,dataFormat:6408,width:width,height:height,unpackFlipY:unpackFlipY})}function getFramebuffer(gl,opts){const{id:id,width:width=1,height:height=1,texture:texture}=opts;return new framebuffer.Z(gl,{id:id,width:width,height:height,attachments:{36064:texture}})}const BUFFER_NAMES=["aggregationBuffer","maxMinBuffer","minBuffer","maxBuffer"],ARRAY_BUFFER_MAP={maxData:"maxBuffer",minData:"minBuffer",maxMinData:"maxMinBuffer"},REQUIRED_FEATURES=[webgl_features_table.h.WEBGL2,webgl_features_table.h.COLOR_ATTACHMENT_RGBA32F,webgl_features_table.h.BLEND_EQUATION_MINMAX,webgl_features_table.h.FLOAT_BLEND,webgl_features_table.h.TEXTURE_FLOAT];class GPUGridAggregator{static getAggregationData({aggregationData:aggregationData,maxData:maxData,minData:minData,maxMinData:maxMinData,pixelIndex:pixelIndex}){const index=4*pixelIndex,results={};return aggregationData&&(results.cellCount=aggregationData[index+3],results.cellWeight=aggregationData[index]),maxMinData?(results.maxCellWieght=maxMinData[0],results.minCellWeight=maxMinData[3]):(maxData&&(results.maxCellWieght=maxData[0],results.totalCount=maxData[3]),minData&&(results.minCellWeight=minData[0],results.totalCount=maxData[3])),results}static getCellData({countsData:countsData,size:size=1}){const numCells=countsData.length/4,cellWeights=new Float32Array(numCells*size),cellCounts=new Uint32Array(numCells);for(let i=0;i<numCells;i++){for(let sizeIndex=0;sizeIndex<size;sizeIndex++)cellWeights[i*size+sizeIndex]=countsData[4*i+sizeIndex];cellCounts[i]=countsData[4*i+3]}return{cellCounts:cellCounts,cellWeights:cellWeights}}static isSupported(gl){return(0,features.ag)(gl,REQUIRED_FEATURES)}constructor(gl,opts={}){this.id=opts.id||"gpu-grid-aggregator",this.gl=gl,this.state={weightAttributes:{},textures:{},meanTextures:{},buffers:{},framebuffers:{},maxMinFramebuffers:{},minFramebuffers:{},maxFramebuffers:{},equations:{},resources:{},results:{}},this._hasGPUSupport=(0,esm.D0)(gl)&&(0,features.ag)(this.gl,webgl_features_table.h.BLEND_EQUATION_MINMAX,webgl_features_table.h.COLOR_ATTACHMENT_RGBA32F,webgl_features_table.h.TEXTURE_FLOAT),this._hasGPUSupport&&this._setupModels()}delete(){const{gridAggregationModel:gridAggregationModel,allAggregationModel:allAggregationModel,meanTransform:meanTransform}=this,{textures:textures,framebuffers:framebuffers,maxMinFramebuffers:maxMinFramebuffers,minFramebuffers:minFramebuffers,maxFramebuffers:maxFramebuffers,meanTextures:meanTextures,resources:resources}=this.state;null==gridAggregationModel||gridAggregationModel.delete(),null==allAggregationModel||allAggregationModel.delete(),null==meanTransform||meanTransform.delete(),function deleteResources(resources){resources=Array.isArray(resources)?resources:[resources],resources.forEach((obj=>{for(const name in obj)obj[name].delete()}))}([framebuffers,textures,maxMinFramebuffers,minFramebuffers,maxFramebuffers,meanTextures,resources])}run(opts={}){this.setState({results:{}});const aggregationParams=this._normalizeAggregationParams(opts);return this._hasGPUSupport||log.Z.log(1,"GPUGridAggregator: not supported")(),this._runAggregation(aggregationParams)}getData(weightId){const data={},results=this.state.results;results[weightId].aggregationData||(results[weightId].aggregationData=results[weightId].aggregationBuffer.getData()),data.aggregationData=results[weightId].aggregationData;for(const arrayName in ARRAY_BUFFER_MAP){const bufferName=ARRAY_BUFFER_MAP[arrayName];(results[weightId][arrayName]||results[weightId][bufferName])&&(results[weightId][arrayName]=results[weightId][arrayName]||results[weightId][bufferName].getData(),data[arrayName]=results[weightId][arrayName])}return data}updateShaders(shaderOptions={}){this.setState({shaderOptions:shaderOptions,modelDirty:!0})}_normalizeAggregationParams(opts){const aggregationParams={...DEFAULT_RUN_PARAMS,...opts},{weights:weights}=aggregationParams;return weights&&(aggregationParams.weights=function normalizeWeightParams(weights){const result={};for(const id in weights)result[id]={...DEFAULT_WEIGHT_PARAMS,...weights[id]};return result}(weights)),aggregationParams}setState(updateObject){Object.assign(this.state,updateObject)}_getAggregateData(opts){const results={},{textures:textures,framebuffers:framebuffers,maxMinFramebuffers:maxMinFramebuffers,minFramebuffers:minFramebuffers,maxFramebuffers:maxFramebuffers,resources:resources}=this.state,{weights:weights}=opts;for(const id in weights){results[id]={};const{needMin:needMin,needMax:needMax,combineMaxMin:combineMaxMin}=weights[id];results[id].aggregationTexture=textures[id],results[id].aggregationBuffer=(0,copy_and_blit.Jb)(framebuffers[id],{target:weights[id].aggregationBuffer,sourceType:5126}),needMin&&needMax&&combineMaxMin?(results[id].maxMinBuffer=(0,copy_and_blit.Jb)(maxMinFramebuffers[id],{target:weights[id].maxMinBuffer,sourceType:5126}),results[id].maxMinTexture=resources["".concat(id,"-maxMinTexture")]):(needMin&&(results[id].minBuffer=(0,copy_and_blit.Jb)(minFramebuffers[id],{target:weights[id].minBuffer,sourceType:5126}),results[id].minTexture=resources["".concat(id,"-minTexture")]),needMax&&(results[id].maxBuffer=(0,copy_and_blit.Jb)(maxFramebuffers[id],{target:weights[id].maxBuffer,sourceType:5126}),results[id].maxTexture=resources["".concat(id,"-maxTexture")]))}return this._trackGPUResultBuffers(results,weights),results}_renderAggregateData(opts){const{cellSize:cellSize,projectPoints:projectPoints,attributes:attributes,moduleSettings:moduleSettings,numCol:numCol,numRow:numRow,weights:weights,translation:translation,scaling:scaling}=opts,{maxMinFramebuffers:maxMinFramebuffers,minFramebuffers:minFramebuffers,maxFramebuffers:maxFramebuffers}=this.state,gridSize=[numCol,numRow],parameters={blend:!0,depthTest:!1,blendFunc:[1,1]},uniforms={cellSize:cellSize,gridSize:gridSize,projectPoints:projectPoints,translation:translation,scaling:scaling};for(const id in weights){const{needMin:needMin,needMax:needMax}=weights[id],combineMaxMin=needMin&&needMax&&weights[id].combineMaxMin;this._renderToWeightsTexture({id:id,parameters:parameters,moduleSettings:moduleSettings,uniforms:uniforms,gridSize:gridSize,attributes:attributes,weights:weights}),combineMaxMin?this._renderToMaxMinTexture({id:id,parameters:{...parameters,blendEquation:MAX_MIN_BLEND_EQUATION},gridSize:gridSize,minOrMaxFb:maxMinFramebuffers[id],clearParams:{clearColor:[0,0,0,MAX_32_BIT_FLOAT]},combineMaxMin:combineMaxMin}):(needMin&&this._renderToMaxMinTexture({id:id,parameters:{...parameters,blendEquation:MIN_BLEND_EQUATION},gridSize:gridSize,minOrMaxFb:minFramebuffers[id],clearParams:{clearColor:[MAX_32_BIT_FLOAT,MAX_32_BIT_FLOAT,MAX_32_BIT_FLOAT,0]},combineMaxMin:combineMaxMin}),needMax&&this._renderToMaxMinTexture({id:id,parameters:{...parameters,blendEquation:MAX_BLEND_EQUATION},gridSize:gridSize,minOrMaxFb:maxFramebuffers[id],clearParams:{clearColor:[0,0,0,0]},combineMaxMin:combineMaxMin}))}}_renderToMaxMinTexture(opts){const{id:id,parameters:parameters,gridSize:gridSize,minOrMaxFb:minOrMaxFb,combineMaxMin:combineMaxMin,clearParams:clearParams={}}=opts,{framebuffers:framebuffers}=this.state,{gl:gl,allAggregationModel:allAggregationModel}=this;(0,esm.s8)(gl,{...clearParams,framebuffer:minOrMaxFb,viewport:[0,0,gridSize[0],gridSize[1]]},(()=>{gl.clear(16384),allAggregationModel.draw({parameters:parameters,uniforms:{uSampler:framebuffers[id].texture,gridSize:gridSize,combineMaxMin:combineMaxMin}})}))}_renderToWeightsTexture(opts){const{id:id,parameters:parameters,moduleSettings:moduleSettings,uniforms:uniforms,gridSize:gridSize,weights:weights}=opts,{framebuffers:framebuffers,equations:equations,weightAttributes:weightAttributes}=this.state,{gl:gl,gridAggregationModel:gridAggregationModel}=this,{operation:operation}=weights[id],clearColor=operation===AGGREGATION_OPERATION.MIN?[MAX_32_BIT_FLOAT,MAX_32_BIT_FLOAT,MAX_32_BIT_FLOAT,0]:[0,0,0,0];if((0,esm.s8)(gl,{framebuffer:framebuffers[id],viewport:[0,0,gridSize[0],gridSize[1]],clearColor:clearColor},(()=>{gl.clear(16384);const attributes={weights:weightAttributes[id]};gridAggregationModel.draw({parameters:{...parameters,blendEquation:equations[id]},moduleSettings:moduleSettings,uniforms:uniforms,attributes:attributes})})),operation===AGGREGATION_OPERATION.MEAN){const{meanTextures:meanTextures,textures:textures}=this.state,transformOptions={_sourceTextures:{aggregationValues:meanTextures[id]},_targetTexture:textures[id],elementCount:textures[id].width*textures[id].height};this.meanTransform?this.meanTransform.update(transformOptions):this.meanTransform=function getMeanTransform(gl,opts){return new transform.Z(gl,{vs:transform_mean_vs_glsl,_targetTextureVarying:"meanValues",...opts})}(gl,transformOptions),this.meanTransform.run({parameters:{blend:!1,depthTest:!1}}),framebuffers[id].attach({36064:textures[id]})}}_runAggregation(opts){this._updateModels(opts),this._setupFramebuffers(opts),this._renderAggregateData(opts);const results=this._getAggregateData(opts);return this.setState({results:results}),results}_setupFramebuffers(opts){const{textures:textures,framebuffers:framebuffers,maxMinFramebuffers:maxMinFramebuffers,minFramebuffers:minFramebuffers,maxFramebuffers:maxFramebuffers,meanTextures:meanTextures,equations:equations}=this.state,{weights:weights}=opts,{numCol:numCol,numRow:numRow}=opts,framebufferSize={width:numCol,height:numRow};for(const id in weights){const{needMin:needMin,needMax:needMax,combineMaxMin:combineMaxMin,operation:operation}=weights[id];textures[id]=weights[id].aggregationTexture||textures[id]||getFloatTexture(this.gl,{id:"".concat(id,"-texture"),width:numCol,height:numRow}),textures[id].resize(framebufferSize);let texture=textures[id];operation===AGGREGATION_OPERATION.MEAN&&(meanTextures[id]=meanTextures[id]||getFloatTexture(this.gl,{id:"".concat(id,"-mean-texture"),width:numCol,height:numRow}),meanTextures[id].resize(framebufferSize),texture=meanTextures[id]),framebuffers[id]?framebuffers[id].attach({36064:texture}):framebuffers[id]=getFramebuffer(this.gl,{id:"".concat(id,"-fb"),width:numCol,height:numRow,texture:texture}),framebuffers[id].resize(framebufferSize),equations[id]=EQUATION_MAP[operation]||EQUATION_MAP.SUM,(needMin||needMax)&&(needMin&&needMax&&combineMaxMin?maxMinFramebuffers[id]||(texture=weights[id].maxMinTexture||this._getMinMaxTexture("".concat(id,"-maxMinTexture")),maxMinFramebuffers[id]=getFramebuffer(this.gl,{id:"".concat(id,"-maxMinFb"),texture:texture})):(needMin&&(minFramebuffers[id]||(texture=weights[id].minTexture||this._getMinMaxTexture("".concat(id,"-minTexture")),minFramebuffers[id]=getFramebuffer(this.gl,{id:"".concat(id,"-minFb"),texture:texture}))),needMax&&(maxFramebuffers[id]||(texture=weights[id].maxTexture||this._getMinMaxTexture("".concat(id,"-maxTexture")),maxFramebuffers[id]=getFramebuffer(this.gl,{id:"".concat(id,"-maxFb"),texture:texture})))))}}_getMinMaxTexture(name){const{resources:resources}=this.state;return resources[name]||(resources[name]=getFloatTexture(this.gl,{id:"resourceName"})),resources[name]}_setupModels({numCol:numCol=0,numRow:numRow=0}={}){var _this$gridAggregation;const{gl:gl}=this,{shaderOptions:shaderOptions}=this.state;if(null===(_this$gridAggregation=this.gridAggregationModel)||void 0===_this$gridAggregation||_this$gridAggregation.delete(),this.gridAggregationModel=function getAggregationModel(gl,shaderOptions){const shaders=(0,shader.l)({vs:aggregate_to_grid_vs_glsl,fs:aggregate_to_grid_fs_glsl,modules:[fp64.n2,project32.Z]},shaderOptions);return new model.Z(gl,{id:"Gird-Aggregation-Model",vertexCount:1,drawMode:0,...shaders})}(gl,shaderOptions),!this.allAggregationModel){const instanceCount=numCol*numRow;this.allAggregationModel=function getAllAggregationModel(gl,instanceCount){return new model.Z(gl,{id:"All-Aggregation-Model",vs:aggregate_all_vs_glsl,fs:aggregate_all_fs_glsl,modules:[fp64.n2],vertexCount:1,drawMode:0,isInstanced:!0,instanceCount:instanceCount,attributes:{position:[0,0]}})}(gl,instanceCount)}}_setupWeightAttributes(opts){const{weightAttributes:weightAttributes}=this.state,{weights:weights}=opts;for(const id in weights)weightAttributes[id]=opts.attributes[id]}_trackGPUResultBuffers(results,weights){const{resources:resources}=this.state;for(const id in results)if(results[id])for(const bufferName of BUFFER_NAMES)if(results[id][bufferName]&&weights[id][bufferName]!==results[id][bufferName]){const name="gpu-result-".concat(id,"-").concat(bufferName);resources[name]&&resources[name].delete(),resources[name]=results[id][bufferName]}}_updateModels(opts){const{vertexCount:vertexCount,attributes:attributes,numCol:numCol,numRow:numRow}=opts,{modelDirty:modelDirty}=this.state;modelDirty&&(this._setupModels(opts),this.setState({modelDirty:!1})),this._setupWeightAttributes(opts),this.gridAggregationModel.setVertexCount(vertexCount),this.gridAggregationModel.setAttributes(attributes),this.allAggregationModel.setInstanceCount(numCol*numRow)}}var geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js");const defaultColorRange=[[255,255,178],[254,217,118],[254,178,76],[253,141,60],[240,59,32],[189,0,38]];function colorRangeToFlatArray(colorRange,normalize=!1,ArrayType=Float32Array){let flatArray;if(Number.isFinite(colorRange[0]))flatArray=new ArrayType(colorRange);else{flatArray=new ArrayType(4*colorRange.length);let index=0;for(let i=0;i<colorRange.length;i++){const color=colorRange[i];flatArray[index++]=color[0],flatArray[index++]=color[1],flatArray[index++]=color[2],flatArray[index++]=Number.isFinite(color[3])?color[3]:255}}if(normalize)for(let i=0;i<flatArray.length;i++)flatArray[i]/=255;return flatArray}const DEFAULT_MINCOLOR=[0,0,0,0],DEFAULT_MAXCOLOR=[0,255,0,255],COLOR_PROPS=["minColor","maxColor","colorRange","colorDomain"],defaultProps={cellSizePixels:{value:100,min:1},cellMarginPixels:{value:2,min:0,max:5},colorDomain:null,colorRange:defaultColorRange};class ScreenGridCellLayer extends lib_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}static isSupported(gl){return(0,features.ag)(gl,[webgl_features_table.h.TEXTURE_FLOAT])}getShaders(){return{vs:"#define SHADER_NAME screen-grid-layer-vertex-shader\n#define RANGE_COUNT 6\n\nattribute vec3 positions;\nattribute vec3 instancePositions;\nattribute vec4 instanceCounts;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform vec3 cellScale;\nuniform vec4 minColor;\nuniform vec4 maxColor;\nuniform vec4 colorRange[RANGE_COUNT];\nuniform vec2 colorDomain;\nuniform bool shouldUseMinMax;\nuniform sampler2D maxTexture;\n\nvarying vec4 vColor;\nvarying float vSampleCount;\n\nvec4 quantizeScale(vec2 domain, vec4 range[RANGE_COUNT], float value) {\n  vec4 outColor = vec4(0., 0., 0., 0.);\n  if (value >= domain.x && value <= domain.y) {\n    float domainRange = domain.y - domain.x;\n    if (domainRange <= 0.) {\n      outColor = colorRange[0];\n    } else {\n      float rangeCount = float(RANGE_COUNT);\n      float rangeStep = domainRange / rangeCount;\n      float idx = floor((value - domain.x) / rangeStep);\n      idx = clamp(idx, 0., rangeCount - 1.);\n      int intIdx = int(idx);\n      outColor = colorRange[intIdx];\n    }\n  }\n  outColor = outColor / 255.;\n  return outColor;\n}\n\nvoid main(void) {\n  vSampleCount = instanceCounts.a;\n\n  float weight = instanceCounts.r;\n  float maxWeight = texture2D(maxTexture, vec2(0.5)).r;\n\n  float step = weight / maxWeight;\n  vec4 minMaxColor = mix(minColor, maxColor, step) / 255.;\n\n  vec2 domain = colorDomain;\n  float domainMaxValid = float(colorDomain.y != 0.);\n  domain.y = mix(maxWeight, colorDomain.y, domainMaxValid);\n  vec4 rangeColor = quantizeScale(domain, colorRange, weight);\n\n  float rangeMinMax = float(shouldUseMinMax);\n  vec4 color = mix(rangeColor, minMaxColor, rangeMinMax);\n  vColor = vec4(color.rgb, color.a * opacity);\n  picking_setPickingColor(instancePickingColors);\n\n  gl_Position = vec4(instancePositions + positions * cellScale, 1.);\n}\n",fs:"#define SHADER_NAME screen-grid-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying float vSampleCount;\n\nvoid main(void) {\n  if (vSampleCount <= 0.0) {\n    discard;\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[picking.Z]}}initializeState(){const{gl:gl}=this.context;this.getAttributeManager().addInstanced({instancePositions:{size:3,update:this.calculateInstancePositions},instanceCounts:{size:4,noAlloc:!0}}),this.setState({model:this._getModel(gl)})}shouldUpdateState({changeFlags:changeFlags}){return changeFlags.somethingChanged}updateState(params){super.updateState(params);const{oldProps:oldProps,props:props,changeFlags:changeFlags}=params,attributeManager=this.getAttributeManager();props.numInstances!==oldProps.numInstances?attributeManager.invalidateAll():oldProps.cellSizePixels!==props.cellSizePixels&&attributeManager.invalidate("instancePositions"),this._updateUniforms(oldProps,props,changeFlags)}draw({uniforms:uniforms}){const{parameters:parameters,maxTexture:maxTexture}=this.props,minColor=this.props.minColor||DEFAULT_MINCOLOR,maxColor=this.props.maxColor||DEFAULT_MAXCOLOR,colorDomain=this.props.colorDomain||[1,0],{model:model}=this.state;model.setUniforms(uniforms).setUniforms({minColor:minColor,maxColor:maxColor,maxTexture:maxTexture,colorDomain:colorDomain}).draw({parameters:{depthTest:!1,depthMask:!1,...parameters}})}calculateInstancePositions(attribute,{numInstances:numInstances}){const{width:width,height:height}=this.context.viewport,{cellSizePixels:cellSizePixels}=this.props,numCol=Math.ceil(width/cellSizePixels),{value:value,size:size}=attribute;for(let i=0;i<numInstances;i++){const x=i%numCol,y=Math.floor(i/numCol);value[i*size+0]=x*cellSizePixels/width*2-1,value[i*size+1]=1-y*cellSizePixels/height*2,value[i*size+2]=0}}_getModel(gl){return new model.Z(gl,{...this.getShaders(),id:this.props.id,geometry:new geometry.Z({drawMode:6,attributes:{positions:new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])}}),isInstanced:!0})}_shouldUseMinMax(){const{minColor:minColor,maxColor:maxColor,colorDomain:colorDomain,colorRange:colorRange}=this.props;return minColor||maxColor?(log.Z.deprecated("ScreenGridLayer props: minColor and maxColor","colorRange, colorDomain")(),!0):!colorDomain&&!colorRange}_updateUniforms(oldProps,props,changeFlags){const{model:model}=this.state;if(COLOR_PROPS.some((key=>oldProps[key]!==props[key]))&&model.setUniforms({shouldUseMinMax:this._shouldUseMinMax()}),oldProps.colorRange!==props.colorRange&&model.setUniforms({colorRange:colorRangeToFlatArray(props.colorRange)}),oldProps.cellMarginPixels!==props.cellMarginPixels||oldProps.cellSizePixels!==props.cellSizePixels||changeFlags.viewportChanged){const{width:width,height:height}=this.context.viewport,{cellSizePixels:cellSizePixels,cellMarginPixels:cellMarginPixels}=this.props,margin=cellSizePixels>cellMarginPixels?cellMarginPixels:0,cellScale=new Float32Array([(cellSizePixels-margin)/width*2,-(cellSizePixels-margin)/height*2,1]);model.setUniforms({cellScale:cellScale})}}}(0,defineProperty.Z)(ScreenGridCellLayer,"layerName","ScreenGridCellLayer"),(0,defineProperty.Z)(ScreenGridCellLayer,"defaultProps",defaultProps);var composite_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/composite-layer.js"),lifecycle_props=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lifecycle/props.js"),attribute_manager=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/attribute/attribute-manager.js");function filterProps(props,filterKeys){const filteredProps={};for(const key in props)filterKeys.includes(key)||(filteredProps[key]=props[key]);return filteredProps}class AggregationLayer extends composite_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}initializeAggregationLayer(dimensions){super.initializeState(this.context),this.setState({ignoreProps:filterProps(this.constructor._propTypes,dimensions.data.props),dimensions:dimensions})}updateState(opts){super.updateState(opts);const{changeFlags:changeFlags}=opts;if(changeFlags.extensionsChanged){const shaders=this.getShaders({});shaders&&shaders.defines&&(shaders.defines.NON_INSTANCED_MODEL=1),this.updateShaders(shaders)}this._updateAttributes()}updateAttributes(changedAttributes){this.setState({changedAttributes:changedAttributes})}getAttributes(){return this.getAttributeManager().getShaderAttributes()}getModuleSettings(){const{viewport:viewport,mousePosition:mousePosition,gl:gl}=this.context;return Object.assign(Object.create(this.props),{viewport:viewport,mousePosition:mousePosition,pickingActive:0,devicePixelRatio:(0,esm.w)(gl)})}updateShaders(shaders){}isAggregationDirty(updateOpts,params={}){const{props:props,oldProps:oldProps,changeFlags:changeFlags}=updateOpts,{compareAll:compareAll=!1,dimension:dimension}=params,{ignoreProps:ignoreProps}=this.state,{props:dataProps,accessors:accessors=[]}=dimension,{updateTriggersChanged:updateTriggersChanged}=changeFlags;if(changeFlags.dataChanged)return!0;if(updateTriggersChanged){if(updateTriggersChanged.all)return!0;for(const accessor of accessors)if(updateTriggersChanged[accessor])return!0}if(compareAll)return!!changeFlags.extensionsChanged||(0,lifecycle_props.tg)({oldProps:oldProps,newProps:props,ignoreProps:ignoreProps,propTypes:this.constructor._propTypes});for(const name of dataProps)if(props[name]!==oldProps[name])return!0;return!1}isAttributeChanged(name){const{changedAttributes:changedAttributes}=this.state;return name?changedAttributes&&void 0!==changedAttributes[name]:!function isObjectEmpty(obj){let isEmpty=!0;for(const key in obj){isEmpty=!1;break}return isEmpty}(changedAttributes)}_getAttributeManager(){return new attribute_manager.Z(this.context.gl,{id:this.props.id,stats:this.context.stats})}}(0,defineProperty.Z)(AggregationLayer,"layerName","AggregationLayer");var buffer=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/buffer.js");function getScale(domain,range,scaleFunction){const scale=scaleFunction;return scale.domain=()=>domain,scale.range=()=>range,scale}function getQuantizeScale(domain,range){return getScale(domain,range,(value=>function quantizeScale(domain,range,value){const domainRange=domain[1]-domain[0];if(domainRange<=0)return log.Z.warn("quantizeScale: invalid domain, returning range[0]")(),range[0];const step=domainRange/range.length,idx=Math.floor((value-domain[0])/step),clampIdx=Math.max(Math.min(idx,range.length-1),0);return range[clampIdx]}(domain,range,value)))}function getLinearScale(domain,range){return getScale(domain,range,(value=>function linearScale(domain,range,value){return(value-domain[0])/(domain[1]-domain[0])*(range[1]-range[0])+range[0]}(domain,range,value)))}function getQuantileScale(domain,range){const sortedDomain=domain.sort(ascending);let i=0;const n=Math.max(1,range.length),thresholds=new Array(n-1);for(;++i<n;)thresholds[i-1]=threshold(sortedDomain,i/n);const scaleFunction=value=>function thresholdsScale(thresholds,range,value){return range[function bisectRight(a,x){let lo=0,hi=a.length;for(;lo<hi;){const mid=lo+hi>>>1;ascending(a[mid],x)>0?hi=mid:lo=mid+1}return lo}(thresholds,value)]}(thresholds,range,value);return scaleFunction.thresholds=()=>thresholds,getScale(domain,range,scaleFunction)}function ascending(a,b){return a-b}function threshold(domain,fraction){const domainLength=domain.length;if(fraction<=0||domainLength<2)return domain[0];if(fraction>=1)return domain[domainLength-1];const domainFraction=(domainLength-1)*fraction,lowIndex=Math.floor(domainFraction),low=domain[lowIndex];return low+(domain[lowIndex+1]-low)*(domainFraction-lowIndex)}function getOrdinalScale(domain,range){const domainMap=new Map,uniqueDomain=[];for(const d of domain){const key="".concat(d);domainMap.has(key)||domainMap.set(key,uniqueDomain.push(d))}return getScale(domain,range,(value=>function ordinalScale(domain,domainMap,range,value){const key="".concat(value);let d=domainMap.get(key);return void 0===d&&(d=domain.push(value),domainMap.set(key,d)),range[(d-1)%range.length]}(uniqueDomain,domainMap,range,value)))}function notNullOrUndefined(d){return null!=d}function getTruthyValues(data,valueAccessor){return("function"==typeof valueAccessor?data.map(valueAccessor):data).filter(notNullOrUndefined)}function getQuantileDomain(data,valueAccessor){return getTruthyValues(data,valueAccessor)}function getOrdinalDomain(data,valueAccessor){return function unique(values){const results=[];return values.forEach((v=>{!results.includes(v)&&notNullOrUndefined(v)&&results.push(v)})),results}(getTruthyValues(data,valueAccessor))}const defaultGetValue=points=>points.length,defaultGetPoints=bin=>bin.points,defaultGetIndex=bin=>bin.index,bin_sorter_ascending=(a,b)=>a<b?-1:a>b?1:a>=b?0:NaN,bin_sorter_defaultProps={getValue:defaultGetValue,getPoints:defaultGetPoints,getIndex:defaultGetIndex,filterData:null};class BinSorter{constructor(bins=[],props=bin_sorter_defaultProps){(0,defineProperty.Z)(this,"maxCount",void 0),(0,defineProperty.Z)(this,"maxValue",void 0),(0,defineProperty.Z)(this,"minValue",void 0),(0,defineProperty.Z)(this,"totalCount",void 0),(0,defineProperty.Z)(this,"aggregatedBins",void 0),(0,defineProperty.Z)(this,"sortedBins",void 0),(0,defineProperty.Z)(this,"binMap",void 0),this.aggregatedBins=this.getAggregatedBins(bins,props),this._updateMinMaxValues(),this.binMap=this.getBinMap()}getAggregatedBins(bins,props){const{getValue:getValue=defaultGetValue,getPoints:getPoints=defaultGetPoints,getIndex:getIndex=defaultGetIndex,filterData:filterData}=props,hasFilter="function"==typeof filterData,binCount=bins.length,aggregatedBins=[];let index=0;for(let binIndex=0;binIndex<binCount;binIndex++){const bin=bins[binIndex],points=getPoints(bin),i=getIndex(bin),filteredPoints=hasFilter?points.filter(filterData):points;bin.filteredPoints=hasFilter?filteredPoints:null;const value=filteredPoints.length?getValue(filteredPoints):null;null!=value&&(aggregatedBins[index]={i:Number.isFinite(i)?i:binIndex,value:value,counts:filteredPoints.length},index++)}return aggregatedBins}_percentileToIndex(percentileRange){const len=this.sortedBins.length;if(len<2)return[0,0];const[lower,upper]=percentileRange.map((n=>function clamp(value,min,max){return Math.max(min,Math.min(max,value))}(n,0,100)));return[Math.ceil(lower/100*(len-1)),Math.floor(upper/100*(len-1))]}getBinMap(){const binMap={};for(const bin of this.aggregatedBins)binMap[bin.i]=bin;return binMap}_updateMinMaxValues(){let maxCount=0,maxValue=0,minValue=3402823466e29,totalCount=0;for(const x of this.aggregatedBins)maxCount=maxCount>x.counts?maxCount:x.counts,maxValue=maxValue>x.value?maxValue:x.value,minValue=minValue<x.value?minValue:x.value,totalCount+=x.counts;this.maxCount=maxCount,this.maxValue=maxValue,this.minValue=minValue,this.totalCount=totalCount}getValueRange(percentileRange){if(this.sortedBins||(this.sortedBins=this.aggregatedBins.sort(((a,b)=>bin_sorter_ascending(a.value,b.value)))),!this.sortedBins.length)return[];let lowerIdx=0,upperIdx=this.sortedBins.length-1;if(Array.isArray(percentileRange)){const idxRange=this._percentileToIndex(percentileRange);lowerIdx=idxRange[0],upperIdx=idxRange[1]}return[this.sortedBins[lowerIdx].value,this.sortedBins[upperIdx].value]}getValueDomainByScale(scale,[lower=0,upper=100]=[]){if(this.sortedBins||(this.sortedBins=this.aggregatedBins.sort(((a,b)=>bin_sorter_ascending(a.value,b.value)))),!this.sortedBins.length)return[];const indexEdge=this._percentileToIndex([lower,upper]);return this._getScaleDomain(scale,indexEdge)}_getScaleDomain(scaleType,[lowerIdx,upperIdx]){const bins=this.sortedBins;switch(scaleType){case"quantize":case"linear":default:return[bins[lowerIdx].value,bins[upperIdx].value];case"quantile":return getQuantileDomain(bins.slice(lowerIdx,upperIdx+1),(d=>d.value));case"ordinal":return getOrdinalDomain(bins,(d=>d.value))}}}var iterable_utils=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/iterable-utils.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js");const R_EARTH=6378e3;function toFinite(n){return Number.isFinite(n)?n:0}function getBoundingBox(attributes,vertexCount){const positions=attributes.positions.value;let y,x,yMin=1/0,yMax=-1/0,xMin=1/0,xMax=-1/0;for(let i=0;i<vertexCount;i++)x=positions[3*i],y=positions[3*i+1],yMin=y<yMin?y:yMin,yMax=y>yMax?y:yMax,xMin=x<xMin?x:xMin,xMax=x>xMax?x:xMax;return{xMin:toFinite(xMin),xMax:toFinite(xMax),yMin:toFinite(yMin),yMax:toFinite(yMax)}}function alignToCell(inValue,cellSize){const sign=inValue<0?-1:1;let value=sign<0?Math.abs(inValue)+cellSize:Math.abs(inValue);return value=Math.floor(value/cellSize)*cellSize,value*sign}function getGridOffset(boundingBox,cellSize,convertToMeters=!0){if(!convertToMeters)return{xOffset:cellSize,yOffset:cellSize};const{yMin:yMin,yMax:yMax}=boundingBox;return function calculateGridLatLonOffset(cellSize,latitude){const yOffset=function calculateLatOffset(dy){return dy/R_EARTH*(180/Math.PI)}(cellSize),xOffset=function calculateLonOffset(lat,dx){return dx/R_EARTH*(180/Math.PI)/Math.cos(lat*Math.PI/180)}(latitude,cellSize);return{yOffset:yOffset,xOffset:xOffset}}(cellSize,(yMin+yMax)/2)}function getGridParams(boundingBox,cellSize,viewport,coordinateSystem){const gridOffset=getGridOffset(boundingBox,cellSize,coordinateSystem!==constants.COORDINATE_SYSTEM.CARTESIAN),translation=function getTranslation(boundingBox,gridOffset,coordinateSystem,viewport){const{width:width,height:height}=viewport,worldOrigin=coordinateSystem===constants.COORDINATE_SYSTEM.CARTESIAN?[-width/2,-height/2]:[-180,-90];log.Z.assert(coordinateSystem===constants.COORDINATE_SYSTEM.CARTESIAN||coordinateSystem===constants.COORDINATE_SYSTEM.LNGLAT||coordinateSystem===constants.COORDINATE_SYSTEM.DEFAULT);const{xMin:xMin,yMin:yMin}=boundingBox;return[-1*(alignToCell(xMin-worldOrigin[0],gridOffset.xOffset)+worldOrigin[0]),-1*(alignToCell(yMin-worldOrigin[1],gridOffset.yOffset)+worldOrigin[1])]}(boundingBox,gridOffset,coordinateSystem,viewport),{xMin:xMin,yMin:yMin,xMax:xMax,yMax:yMax}=boundingBox,width=xMax-xMin+gridOffset.xOffset,height=yMax-yMin+gridOffset.yOffset;return{gridOffset:gridOffset,translation:translation,width:width,height:height,numCol:Math.ceil(width/gridOffset.xOffset),numRow:Math.ceil(height/gridOffset.yOffset)}}function pointToDensityGridDataCPU(props,aggregationParams){const hashInfo=function pointsToGridHashing(props,aggregationParams){const{data:data=[],cellSize:cellSize}=props,{attributes:attributes,viewport:viewport,projectPoints:projectPoints,numInstances:numInstances}=aggregationParams,positions=attributes.positions.value,{size:size}=attributes.positions.getAccessor(),boundingBox=aggregationParams.boundingBox||function getPositionBoundingBox(positionAttribute,numInstance){const positions=positionAttribute.value,{size:size}=positionAttribute.getAccessor();let y,x,yMin=1/0,yMax=-1/0,xMin=1/0,xMax=-1/0;for(let i=0;i<numInstance;i++)x=positions[i*size],y=positions[i*size+1],Number.isFinite(x)&&Number.isFinite(y)&&(yMin=y<yMin?y:yMin,yMax=y>yMax?y:yMax,xMin=x<xMin?x:xMin,xMax=x>xMax?x:xMax);return{xMin:xMin,xMax:xMax,yMin:yMin,yMax:yMax}}(attributes.positions,numInstances),offsets=aggregationParams.posOffset||[180,90],gridOffset=aggregationParams.gridOffset||getGridOffset(boundingBox,cellSize);if(gridOffset.xOffset<=0||gridOffset.yOffset<=0)return{gridHash:{},gridOffset:gridOffset};const{width:width,height:height}=viewport,numCol=Math.ceil(width/gridOffset.xOffset),numRow=Math.ceil(height/gridOffset.yOffset),gridHash={},{iterable:iterable,objectInfo:objectInfo}=(0,iterable_utils.jB)(data),position=new Array(3);for(const pt of iterable){objectInfo.index++,position[0]=positions[objectInfo.index*size],position[1]=positions[objectInfo.index*size+1],position[2]=size>=3?positions[objectInfo.index*size+2]:0;const[x,y]=projectPoints?viewport.project(position):position;if(Number.isFinite(x)&&Number.isFinite(y)){const yIndex=Math.floor((y+offsets[1])/gridOffset.yOffset),xIndex=Math.floor((x+offsets[0])/gridOffset.xOffset);if(!projectPoints||xIndex>=0&&xIndex<numCol&&yIndex>=0&&yIndex<numRow){const key="".concat(yIndex,"-").concat(xIndex);gridHash[key]=gridHash[key]||{count:0,points:[],lonIdx:xIndex,latIdx:yIndex},gridHash[key].count+=1,gridHash[key].points.push({source:pt,index:objectInfo.index})}}}return{gridHash:gridHash,gridOffset:gridOffset,offsets:[-1*offsets[0],-1*offsets[1]]}}(props,aggregationParams),result=function getGridLayerDataFromGridHash({gridHash:gridHash,gridOffset:gridOffset,offsets:offsets}){const data=new Array(Object.keys(gridHash).length);let i=0;for(const key in gridHash){const idxs=key.split("-"),latIdx=parseInt(idxs[0],10),lonIdx=parseInt(idxs[1],10),index=i++;data[index]={index:index,position:[offsets[0]+gridOffset.xOffset*lonIdx,offsets[1]+gridOffset.yOffset*latIdx],...gridHash[key]}}return data}(hashInfo);return{gridHash:hashInfo.gridHash,gridOffset:hashInfo.gridOffset,data:result}}class GridAggregationLayer extends AggregationLayer{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}initializeAggregationLayer({dimensions:dimensions}){const{gl:gl}=this.context;super.initializeAggregationLayer(dimensions),this.setState({layerData:{},gpuGridAggregator:new GPUGridAggregator(gl,{id:"".concat(this.id,"-gpu-aggregator")}),cpuGridAggregator:pointToDensityGridDataCPU})}updateState(opts){super.updateState(opts),this.updateAggregationState(opts);const{aggregationDataDirty:aggregationDataDirty,aggregationWeightsDirty:aggregationWeightsDirty,gpuAggregation:gpuAggregation}=this.state;if(this.getNumInstances()<=0)return;let aggregationDirty=!1;(aggregationDataDirty||gpuAggregation&&aggregationWeightsDirty)&&(this._updateAggregation(opts),aggregationDirty=!0),gpuAggregation||!aggregationDataDirty&&!aggregationWeightsDirty||(this._updateWeightBins(),this._uploadAggregationResults(),aggregationDirty=!0),this.setState({aggregationDirty:aggregationDirty})}finalizeState(context){var _this$state$gpuGridAg;const{count:count}=this.state.weights;count&&count.aggregationBuffer&&count.aggregationBuffer.delete(),null===(_this$state$gpuGridAg=this.state.gpuGridAggregator)||void 0===_this$state$gpuGridAg||_this$state$gpuGridAg.delete(),super.finalizeState(context)}updateShaders(shaders){this.state.gpuAggregation&&this.state.gpuGridAggregator.updateShaders(shaders)}updateAggregationState(opts){log.Z.assert(!1)}allocateResources(numRow,numCol){if(this.state.numRow!==numRow||this.state.numCol!==numCol){const dataBytes=numCol*numRow*4*4,gl=this.context.gl,{weights:weights}=this.state;for(const name in weights){const weight=weights[name];weight.aggregationBuffer&&weight.aggregationBuffer.delete(),weight.aggregationBuffer=new buffer.Z(gl,{byteLength:dataBytes,accessor:{size:4,type:5126,divisor:1}})}}}updateResults({aggregationData:aggregationData,maxMinData:maxMinData,maxData:maxData,minData:minData}){const{count:count}=this.state.weights;count&&(count.aggregationData=aggregationData,count.maxMinData=maxMinData,count.maxData=maxData,count.minData=minData)}_updateAggregation(opts){const{cpuGridAggregator:cpuGridAggregator,gpuGridAggregator:gpuGridAggregator,gridOffset:gridOffset,posOffset:posOffset,translation:translation=[0,0],scaling:scaling=[0,0,0],boundingBox:boundingBox,projectPoints:projectPoints,gpuAggregation:gpuAggregation,numCol:numCol,numRow:numRow}=this.state,{props:props}=opts,{viewport:viewport}=this.context,attributes=this.getAttributes(),vertexCount=this.getNumInstances();if(gpuAggregation){const{weights:weights}=this.state;gpuGridAggregator.run({weights:weights,cellSize:[gridOffset.xOffset,gridOffset.yOffset],numCol:numCol,numRow:numRow,translation:translation,scaling:scaling,vertexCount:vertexCount,projectPoints:projectPoints,attributes:attributes,moduleSettings:this.getModuleSettings()})}else{const result=cpuGridAggregator(props,{gridOffset:gridOffset,projectPoints:projectPoints,attributes:attributes,viewport:viewport,posOffset:posOffset,boundingBox:boundingBox});this.setState({layerData:result})}}_updateWeightBins(){const{getValue:getValue}=this.state,sortedBins=new BinSorter(this.state.layerData.data||[],{getValue:getValue});this.setState({sortedBins:sortedBins})}_uploadAggregationResults(){const{numCol:numCol,numRow:numRow}=this.state,{data:data}=this.state.layerData,{aggregatedBins:aggregatedBins,minValue:minValue,maxValue:maxValue,totalCount:totalCount}=this.state.sortedBins,aggregationData=new Float32Array(numCol*numRow*4).fill(0);for(const bin of aggregatedBins){const{lonIdx:lonIdx,latIdx:latIdx}=data[bin.i],{value:value,counts:counts}=bin,cellIndex=4*(lonIdx+latIdx*numCol);aggregationData[cellIndex]=value,aggregationData[cellIndex+4-1]=counts}const maxMinData=new Float32Array([maxValue,0,0,minValue]),maxData=new Float32Array([maxValue,0,0,totalCount]),minData=new Float32Array([minValue,0,0,totalCount]);this.updateResults({aggregationData:aggregationData,maxMinData:maxMinData,maxData:maxData,minData:minData})}}(0,defineProperty.Z)(GridAggregationLayer,"layerName","GridAggregationLayer");const screen_grid_layer_defaultProps={...ScreenGridCellLayer.defaultProps,getPosition:{type:"accessor",value:d=>d.position},getWeight:{type:"accessor",value:1},gpuAggregation:!0,aggregation:"SUM"},DIMENSIONS={data:{props:["cellSizePixels"]},weights:{props:["aggregation"],accessors:["getWeight"]}};class ScreenGridLayer extends GridAggregationLayer{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}initializeState(){const{gl:gl}=this.context;if(!ScreenGridCellLayer.isSupported(gl))return this.setState({supported:!1}),void log.Z.error("ScreenGridLayer: ".concat(this.id," is not supported on this browser"))();super.initializeAggregationLayer({dimensions:DIMENSIONS,getCellSize:props=>props.cellSizePixels});const weights={count:{size:1,operation:AGGREGATION_OPERATION.SUM,needMax:!0,maxTexture:getFloatTexture(gl,{id:"".concat(this.id,"-max-texture")})}};this.setState({supported:!0,projectPoints:!0,weights:weights,subLayerData:{attributes:{}},maxTexture:weights.count.maxTexture,positionAttributeName:"positions",posOffset:[0,0],translation:[1,-1]});this.getAttributeManager().add({positions:{size:3,accessor:"getPosition",type:5130,fp64:this.use64bitPositions()},count:{size:3,accessor:"getWeight"}})}shouldUpdateState({changeFlags:changeFlags}){return this.state.supported&&changeFlags.somethingChanged}updateState(opts){super.updateState(opts)}renderLayers(){if(!this.state.supported)return[];const{maxTexture:maxTexture,numRow:numRow,numCol:numCol,weights:weights}=this.state,{updateTriggers:updateTriggers}=this.props,{aggregationBuffer:aggregationBuffer}=weights.count;return new(this.getSubLayerClass("cells",ScreenGridCellLayer))(this.props,this.getSubLayerProps({id:"cell-layer",updateTriggers:updateTriggers}),{data:{attributes:{instanceCounts:aggregationBuffer}},maxTexture:maxTexture,numInstances:numRow*numCol})}finalizeState(context){super.finalizeState(context);const{aggregationBuffer:aggregationBuffer,maxBuffer:maxBuffer,maxTexture:maxTexture}=this.state;null==aggregationBuffer||aggregationBuffer.delete(),null==maxBuffer||maxBuffer.delete(),null==maxTexture||maxTexture.delete()}getPickingInfo({info:info}){const{index:index}=info;if(index>=0){const{gpuGridAggregator:gpuGridAggregator,gpuAggregation:gpuAggregation,weights:weights}=this.state,aggregationResults=gpuAggregation?gpuGridAggregator.getData("count"):weights.count;info.object=GPUGridAggregator.getAggregationData({pixelIndex:index,...aggregationResults})}return info}updateResults({aggregationData:aggregationData,maxData:maxData}){const{count:count}=this.state.weights;count.aggregationData=aggregationData,count.aggregationBuffer.setData({data:aggregationData}),count.maxData=maxData,count.maxTexture.setImageData({data:maxData})}updateAggregationState(opts){const cellSize=opts.props.cellSizePixels,cellSizeChanged=opts.oldProps.cellSizePixels!==cellSize,{viewportChanged:viewportChanged}=opts.changeFlags;let gpuAggregation=opts.props.gpuAggregation;this.state.gpuAggregation!==opts.props.gpuAggregation&&gpuAggregation&&!GPUGridAggregator.isSupported(this.context.gl)&&(log.Z.warn("GPU Grid Aggregation not supported, falling back to CPU")(),gpuAggregation=!1);const gpuAggregationChanged=gpuAggregation!==this.state.gpuAggregation;this.setState({gpuAggregation:gpuAggregation});const positionsChanged=this.isAttributeChanged("positions"),{dimensions:dimensions}=this.state,{data:data,weights:weights}=dimensions,aggregationDataDirty=positionsChanged||gpuAggregationChanged||viewportChanged||this.isAggregationDirty(opts,{compareAll:gpuAggregation,dimension:data}),aggregationWeightsDirty=this.isAggregationDirty(opts,{dimension:weights});this.setState({aggregationDataDirty:aggregationDataDirty,aggregationWeightsDirty:aggregationWeightsDirty});const{viewport:viewport}=this.context;if(viewportChanged||cellSizeChanged){const{width:width,height:height}=viewport,numCol=Math.ceil(width/cellSize),numRow=Math.ceil(height/cellSize);this.allocateResources(numRow,numCol),this.setState({scaling:[width/2,-height/2,1],gridOffset:{xOffset:cellSize,yOffset:cellSize},width:width,height:height,numCol:numCol,numRow:numRow})}aggregationWeightsDirty&&this._updateAccessors(opts),(aggregationDataDirty||aggregationWeightsDirty)&&this._resetResults()}_updateAccessors(opts){const{getWeight:getWeight,aggregation:aggregation,data:data}=opts.props,{count:count}=this.state.weights;count&&(count.getWeight=getWeight,count.operation=AGGREGATION_OPERATION[aggregation]),this.setState({getValue:getValueFunc(aggregation,getWeight,{data:data})})}_resetResults(){const{count:count}=this.state.weights;count&&(count.aggregationData=null)}}(0,defineProperty.Z)(ScreenGridLayer,"layerName","ScreenGridLayer"),(0,defineProperty.Z)(ScreenGridLayer,"defaultProps",screen_grid_layer_defaultProps);var grid_cell_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/column-layer/grid-cell-layer.js");function nop(){}const dimensionSteps=["getBins","getDomain","getScaleFunc"],defaultDimensions=[{key:"fillColor",accessor:"getFillColor",pickingInfo:"colorValue",getBins:{triggers:{value:{prop:"getColorValue",updateTrigger:"getColorValue"},weight:{prop:"getColorWeight",updateTrigger:"getColorWeight"},aggregation:{prop:"colorAggregation"},filterData:{prop:"_filterData",updateTrigger:"_filterData"}}},getDomain:{triggers:{lowerPercentile:{prop:"lowerPercentile"},upperPercentile:{prop:"upperPercentile"},scaleType:{prop:"colorScaleType"}}},getScaleFunc:{triggers:{domain:{prop:"colorDomain"},range:{prop:"colorRange"}},onSet:{props:"onSetColorDomain"}},nullValue:[0,0,0,0]},{key:"elevation",accessor:"getElevation",pickingInfo:"elevationValue",getBins:{triggers:{value:{prop:"getElevationValue",updateTrigger:"getElevationValue"},weight:{prop:"getElevationWeight",updateTrigger:"getElevationWeight"},aggregation:{prop:"elevationAggregation"},filterData:{prop:"_filterData",updateTrigger:"_filterData"}}},getDomain:{triggers:{lowerPercentile:{prop:"elevationLowerPercentile"},upperPercentile:{prop:"elevationUpperPercentile"},scaleType:{prop:"elevationScaleType"}}},getScaleFunc:{triggers:{domain:{prop:"elevationDomain"},range:{prop:"elevationRange"}},onSet:{props:"onSetElevationDomain"}},nullValue:-1}],defaultGetCellSize=props=>props.cellSize;class CPUAggregator{constructor(opts){this.state={layerData:{},dimensions:{}},this.changeFlags={},this.dimensionUpdaters={},this._getCellSize=opts.getCellSize||defaultGetCellSize,this._getAggregator=opts.getAggregator,this._addDimension(opts.dimensions||defaultDimensions)}static defaultDimensions(){return defaultDimensions}updateState(opts,aggregationParams){const{oldProps:oldProps,props:props,changeFlags:changeFlags}=opts;this.updateGetValueFuncs(oldProps,props,changeFlags);const reprojectNeeded=this.needsReProjectPoints(oldProps,props,changeFlags);let aggregationDirty=!1;if(changeFlags.dataChanged||reprojectNeeded)this.getAggregatedData(props,aggregationParams),aggregationDirty=!0;else{(this.getDimensionChanges(oldProps,props,changeFlags)||[]).forEach((f=>"function"==typeof f&&f())),aggregationDirty=!0}return this.setState({aggregationDirty:aggregationDirty}),this.state}setState(updateObject){this.state={...this.state,...updateObject}}setDimensionState(key,updateObject){this.setState({dimensions:{...this.state.dimensions,[key]:{...this.state.dimensions[key],...updateObject}}})}normalizeResult(result={}){return result.hexagons?{data:result.hexagons,...result}:result.layerData?{data:result.layerData,...result}:result}getAggregatedData(props,aggregationParams){const result=this._getAggregator(props)(props,aggregationParams);this.setState({layerData:this.normalizeResult(result)}),this.changeFlags={layerData:!0},this.getSortedBins(props)}updateGetValueFuncs(oldProps,props,changeFlags){for(const key in this.dimensionUpdaters){const{value:value,weight:weight,aggregation:aggregation}=this.dimensionUpdaters[key].getBins.triggers;let getValue=props[value.prop];this.needUpdateDimensionStep(this.dimensionUpdaters[key].getBins,oldProps,props,changeFlags)&&(getValue=getValue?wrapGetValueFunc(getValue,{data:props.data}):getValueFunc(props[aggregation.prop],props[weight.prop],{data:props.data})),getValue&&this.setDimensionState(key,{getValue:getValue})}}needsReProjectPoints(oldProps,props,changeFlags){return this._getCellSize(oldProps)!==this._getCellSize(props)||this._getAggregator(oldProps)!==this._getAggregator(props)||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getPosition)}addDimension(dimensions){this._addDimension(dimensions)}_addDimension(dimensions=[]){dimensions.forEach((dimension=>{const{key:key}=dimension;this.dimensionUpdaters[key]=this.getDimensionUpdaters(dimension),this.state.dimensions[key]={getValue:null,domain:null,sortedBins:null,scaleFunc:nop}}))}getDimensionUpdaters({key:key,accessor:accessor,pickingInfo:pickingInfo,getBins:getBins,getDomain:getDomain,getScaleFunc:getScaleFunc,nullValue:nullValue}){return{key:key,accessor:accessor,pickingInfo:pickingInfo,getBins:{updater:this.getDimensionSortedBins,...getBins},getDomain:{updater:this.getDimensionValueDomain,...getDomain},getScaleFunc:{updater:this.getDimensionScale,...getScaleFunc},attributeAccessor:this.getSubLayerDimensionAttribute(key,nullValue)}}needUpdateDimensionStep(dimensionStep,oldProps,props,changeFlags){return Object.values(dimensionStep.triggers).some((item=>item.updateTrigger?changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged[item.updateTrigger]):oldProps[item.prop]!==props[item.prop]))}getDimensionChanges(oldProps,props,changeFlags){const updaters=[];for(const key in this.dimensionUpdaters){const needUpdate=dimensionSteps.find((step=>this.needUpdateDimensionStep(this.dimensionUpdaters[key][step],oldProps,props,changeFlags)));needUpdate&&updaters.push(this.dimensionUpdaters[key][needUpdate].updater.bind(this,props,this.dimensionUpdaters[key]))}return updaters.length?updaters:null}getUpdateTriggers(props){const _updateTriggers=props.updateTriggers||{},updateTriggers={};for(const key in this.dimensionUpdaters){const{accessor:accessor}=this.dimensionUpdaters[key];updateTriggers[accessor]={},dimensionSteps.forEach((step=>{Object.values(this.dimensionUpdaters[key][step].triggers).forEach((({prop:prop,updateTrigger:updateTrigger})=>{if(updateTrigger){const fromProp=_updateTriggers[updateTrigger];"object"!=typeof fromProp||Array.isArray(fromProp)?void 0!==fromProp&&(updateTriggers[accessor][prop]=fromProp):Object.assign(updateTriggers[accessor],fromProp)}else updateTriggers[accessor][prop]=props[prop]}))}))}return updateTriggers}getSortedBins(props){for(const key in this.dimensionUpdaters)this.getDimensionSortedBins(props,this.dimensionUpdaters[key])}getDimensionSortedBins(props,dimensionUpdater){const{key:key}=dimensionUpdater,{getValue:getValue}=this.state.dimensions[key],sortedBins=new BinSorter(this.state.layerData.data||[],{getValue:getValue,filterData:props._filterData});this.setDimensionState(key,{sortedBins:sortedBins}),this.getDimensionValueDomain(props,dimensionUpdater)}getDimensionValueDomain(props,dimensionUpdater){const{getDomain:getDomain,key:key}=dimensionUpdater,{triggers:{lowerPercentile:lowerPercentile,upperPercentile:upperPercentile,scaleType:scaleType}}=getDomain,valueDomain=this.state.dimensions[key].sortedBins.getValueDomainByScale(props[scaleType.prop],[props[lowerPercentile.prop],props[upperPercentile.prop]]);this.setDimensionState(key,{valueDomain:valueDomain}),this.getDimensionScale(props,dimensionUpdater)}getDimensionScale(props,dimensionUpdater){const{key:key,getScaleFunc:getScaleFunc,getDomain:getDomain}=dimensionUpdater,{domain:domain,range:range}=getScaleFunc.triggers,{scaleType:scaleType}=getDomain.triggers,{onSet:onSet}=getScaleFunc,dimensionRange=props[range.prop],dimensionDomain=props[domain.prop]||this.state.dimensions[key].valueDomain,getScaleFunction=function getScaleFunctionByScaleType(scaleType){switch(scaleType){case"quantize":default:return getQuantizeScale;case"linear":return getLinearScale;case"quantile":return getQuantileScale;case"ordinal":return getOrdinalScale}}(scaleType&&props[scaleType.prop]),scaleFunc=getScaleFunction(dimensionDomain,dimensionRange);"object"==typeof onSet&&"function"==typeof props[onSet.props]&&props[onSet.props](scaleFunc.domain()),this.setDimensionState(key,{scaleFunc:scaleFunc})}getSubLayerDimensionAttribute(key,nullValue){return cell=>{const{sortedBins:sortedBins,scaleFunc:scaleFunc}=this.state.dimensions[key],bin=sortedBins.binMap[cell.index];if(bin&&0===bin.counts)return nullValue;const cv=bin&&bin.value,domain=scaleFunc.domain();return cv>=domain[0]&&cv<=domain[domain.length-1]?scaleFunc(cv):nullValue}}getSubLayerAccessors(props){const accessors={};for(const key in this.dimensionUpdaters){const{accessor:accessor}=this.dimensionUpdaters[key];accessors[accessor]=this.getSubLayerDimensionAttribute(props,key)}return accessors}getPickingInfo({info:info}){let object=null;if(info.picked&&info.index>-1){const cell=this.state.layerData.data[info.index],binInfo={};for(const key in this.dimensionUpdaters){const{pickingInfo:pickingInfo}=this.dimensionUpdaters[key],{sortedBins:sortedBins}=this.state.dimensions[key],value=sortedBins.binMap[cell.index]&&sortedBins.binMap[cell.index].value;binInfo[pickingInfo]=value}object=Object.assign(binInfo,cell,{points:cell.filteredPoints||cell.points})}return info.picked=Boolean(object),info.object=object,info}getAccessor(dimensionKey){return this.dimensionUpdaters.hasOwnProperty(dimensionKey)?this.dimensionUpdaters[dimensionKey].attributeAccessor:nop}}function cpu_grid_layer_nop(){}const cpu_grid_layer_defaultProps={colorDomain:null,colorRange:defaultColorRange,getColorValue:{type:"accessor",value:null},getColorWeight:{type:"accessor",value:1},colorAggregation:"SUM",lowerPercentile:{type:"number",min:0,max:100,value:0},upperPercentile:{type:"number",min:0,max:100,value:100},colorScaleType:"quantize",onSetColorDomain:cpu_grid_layer_nop,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:{type:"accessor",value:null},getElevationWeight:{type:"accessor",value:1},elevationAggregation:"SUM",elevationLowerPercentile:{type:"number",min:0,max:100,value:0},elevationUpperPercentile:{type:"number",min:0,max:100,value:100},elevationScale:{type:"number",min:0,value:1},elevationScaleType:"linear",onSetElevationDomain:cpu_grid_layer_nop,gridAggregator:pointToDensityGridDataCPU,cellSize:{type:"number",min:0,max:1e3,value:1e3},coverage:{type:"number",min:0,max:1,value:1},getPosition:{type:"accessor",value:x=>x.position},extruded:!1,material:!0,_filterData:{type:"function",value:null,optional:!0}};class CPUGridLayer extends AggregationLayer{initializeState(){const cpuAggregator=new CPUAggregator({getAggregator:props=>props.gridAggregator,getCellSize:props=>props.cellSize});this.state={cpuAggregator:cpuAggregator,aggregatorState:cpuAggregator.state};this.getAttributeManager().add({positions:{size:3,type:5130,accessor:"getPosition"}})}updateState(opts){super.updateState(opts),this.setState({aggregatorState:this.state.cpuAggregator.updateState(opts,{viewport:this.context.viewport,attributes:this.getAttributes(),numInstances:this.getNumInstances()})})}getPickingInfo({info:info}){return this.state.cpuAggregator.getPickingInfo({info:info})}_onGetSublayerColor(cell){return this.state.cpuAggregator.getAccessor("fillColor")(cell)}_onGetSublayerElevation(cell){return this.state.cpuAggregator.getAccessor("elevation")(cell)}_getSublayerUpdateTriggers(){return this.state.cpuAggregator.getUpdateTriggers(this.props)}renderLayers(){const{elevationScale:elevationScale,extruded:extruded,cellSize:cellSize,coverage:coverage,material:material,transitions:transitions}=this.props,{cpuAggregator:cpuAggregator}=this.state,SubLayerClass=this.getSubLayerClass("grid-cell",grid_cell_layer.Z),updateTriggers=this._getSublayerUpdateTriggers();return new SubLayerClass({cellSize:cellSize,coverage:coverage,material:material,elevationScale:elevationScale,extruded:extruded,getFillColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),transitions:transitions&&{getFillColor:transitions.getColorValue||transitions.getColorWeight,getElevation:transitions.getElevationValue||transitions.getElevationWeight}},this.getSubLayerProps({id:"grid-cell",updateTriggers:updateTriggers}),{data:cpuAggregator.state.layerData.data})}}(0,defineProperty.Z)(CPUGridLayer,"layerName","CPUGridLayer"),(0,defineProperty.Z)(CPUGridLayer,"defaultProps",cpu_grid_layer_defaultProps);var column_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/column-layer/column-layer.js"),thirdPi=Math.PI/3,angles=[0,thirdPi,2*thirdPi,3*thirdPi,4*thirdPi,5*thirdPi];function pointX(d){return d[0]}function pointY(d){return d[1]}function hexagon_layer_nop(){}const hexagon_layer_defaultProps={colorDomain:null,colorRange:defaultColorRange,getColorValue:{type:"accessor",value:null},getColorWeight:{type:"accessor",value:1},colorAggregation:"SUM",lowerPercentile:{type:"number",value:0,min:0,max:100},upperPercentile:{type:"number",value:100,min:0,max:100},colorScaleType:"quantize",onSetColorDomain:hexagon_layer_nop,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:{type:"accessor",value:null},getElevationWeight:{type:"accessor",value:1},elevationAggregation:"SUM",elevationLowerPercentile:{type:"number",value:0,min:0,max:100},elevationUpperPercentile:{type:"number",value:100,min:0,max:100},elevationScale:{type:"number",min:0,value:1},elevationScaleType:"linear",onSetElevationDomain:hexagon_layer_nop,radius:{type:"number",value:1e3,min:1},coverage:{type:"number",min:0,max:1,value:1},extruded:!1,hexagonAggregator:function pointToHexbin(props,aggregationParams){const{data:data,radius:radius}=props,{viewport:viewport,attributes:attributes}=aggregationParams,centerLngLat=data.length?function getPointsCenter(data,aggregationParams){const{attributes:attributes}=aggregationParams,positions=attributes.positions.value,{size:size}=attributes.positions.getAccessor();let i,minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0;for(i=0;i<size*data.length;i+=size){const x=positions[i],y=positions[i+1];Number.isFinite(x)&&Number.isFinite(y)&&(minX=Math.min(x,minX),maxX=Math.max(x,maxX),minY=Math.min(y,minY),maxY=Math.max(y,maxY))}return[minX,minY,maxX,maxY].every(Number.isFinite)?[(minX+maxX)/2,(minY+maxY)/2]:null}(data,aggregationParams):null,radiusCommon=function getRadiusInCommon(radius,viewport,center){const{unitsPerMeter:unitsPerMeter}=viewport.getDistanceScales(center);return radius*unitsPerMeter[0]}(radius,viewport,centerLngLat),screenPoints=[],{iterable:iterable,objectInfo:objectInfo}=(0,iterable_utils.jB)(data),positions=attributes.positions.value,{size:size}=attributes.positions.getAccessor();for(const object of iterable){objectInfo.index++;const posIndex=objectInfo.index*size,position=[positions[posIndex],positions[posIndex+1]];Number.isFinite(position[0])&&Number.isFinite(position[1])?screenPoints.push({screenCoord:viewport.projectFlat(position),source:object,index:objectInfo.index}):log.Z.warn("HexagonLayer: invalid position")()}const newHexbin=function hexbin(){var r,dx,dy,x0=0,y0=0,x1=1,y1=1,x=pointX,y=pointY;function hexbin(points){var i,binsById={},bins=[],n=points.length;for(i=0;i<n;++i)if(!isNaN(px=+x.call(null,point=points[i],i,points))&&!isNaN(py=+y.call(null,point,i,points))){var point,px,py,pj=Math.round(py/=dy),pi=Math.round(px=px/dx-(1&pj)/2),py1=py-pj;if(3*Math.abs(py1)>1){var px1=px-pi,pi2=pi+(px<pi?-1:1)/2,pj2=pj+(py<pj?-1:1),px2=px-pi2,py2=py-pj2;px1*px1+py1*py1>px2*px2+py2*py2&&(pi=pi2+(1&pj?1:-1)/2,pj=pj2)}var id=pi+"-"+pj,bin=binsById[id];bin?bin.push(point):(bins.push(bin=binsById[id]=[point]),bin.x=(pi+(1&pj)/2)*dx,bin.y=pj*dy)}return bins}function hexagon(radius){var x0=0,y0=0;return angles.map((function(angle){var x1=Math.sin(angle)*radius,y1=-Math.cos(angle)*radius,dx=x1-x0,dy=y1-y0;return x0=x1,y0=y1,[dx,dy]}))}return hexbin.hexagon=function(radius){return"m"+hexagon(null==radius?r:+radius).join("l")+"z"},hexbin.centers=function(){for(var centers=[],j=Math.round(y0/dy),i=Math.round(x0/dx),y=j*dy;y<y1+r;y+=dy,++j)for(var x=i*dx+(1&j)*dx/2;x<x1+dx/2;x+=dx)centers.push([x,y]);return centers},hexbin.mesh=function(){var fragment=hexagon(r).slice(0,4).join("l");return hexbin.centers().map((function(p){return"M"+p+"m"+fragment})).join("")},hexbin.x=function(_){return arguments.length?(x=_,hexbin):x},hexbin.y=function(_){return arguments.length?(y=_,hexbin):y},hexbin.radius=function(_){return arguments.length?(dx=2*(r=+_)*Math.sin(thirdPi),dy=1.5*r,hexbin):r},hexbin.size=function(_){return arguments.length?(x0=y0=0,x1=+_[0],y1=+_[1],hexbin):[x1-x0,y1-y0]},hexbin.extent=function(_){return arguments.length?(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1],hexbin):[[x0,y0],[x1,y1]]},hexbin.radius(1)}().radius(radiusCommon).x((d=>d.screenCoord[0])).y((d=>d.screenCoord[1]));return{hexagons:newHexbin(screenPoints).map(((hex,index)=>({position:viewport.unprojectFlat([hex.x,hex.y]),points:hex,index:index}))),radiusCommon:radiusCommon}},getPosition:{type:"accessor",value:x=>x.position},material:!0,_filterData:{type:"function",value:null,optional:!0}};class HexagonLayer extends AggregationLayer{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}initializeState(){const cpuAggregator=new CPUAggregator({getAggregator:props=>props.hexagonAggregator,getCellSize:props=>props.radius});this.state={cpuAggregator:cpuAggregator,aggregatorState:cpuAggregator.state,vertices:null};this.getAttributeManager().add({positions:{size:3,type:5130,accessor:"getPosition"}})}updateState(opts){if(super.updateState(opts),opts.changeFlags.propsOrDataChanged){const aggregatorState=this.state.cpuAggregator.updateState(opts,{viewport:this.context.viewport,attributes:this.getAttributes()});if(this.state.aggregatorState.layerData!==aggregatorState.layerData){const{hexagonVertices:hexagonVertices}=aggregatorState.layerData||{};this.setState({vertices:hexagonVertices&&this.convertLatLngToMeterOffset(hexagonVertices)})}this.setState({aggregatorState:aggregatorState})}}convertLatLngToMeterOffset(hexagonVertices){const{viewport:viewport}=this.context;if(Array.isArray(hexagonVertices)&&6===hexagonVertices.length){const vertex0=hexagonVertices[0],vertex3=hexagonVertices[3],centroid=[(vertex0[0]+vertex3[0])/2,(vertex0[1]+vertex3[1])/2],centroidFlat=viewport.projectFlat(centroid),{metersPerUnit:metersPerUnit}=viewport.getDistanceScales(centroid);return hexagonVertices.map((vt=>{const vtFlat=viewport.projectFlat(vt);return[(vtFlat[0]-centroidFlat[0])*metersPerUnit[0],(vtFlat[1]-centroidFlat[1])*metersPerUnit[1]]}))}return log.Z.error("HexagonLayer: hexagonVertices needs to be an array of 6 points")(),null}getPickingInfo({info:info}){return this.state.cpuAggregator.getPickingInfo({info:info})}_onGetSublayerColor(cell){return this.state.cpuAggregator.getAccessor("fillColor")(cell)}_onGetSublayerElevation(cell){return this.state.cpuAggregator.getAccessor("elevation")(cell)}_getSublayerUpdateTriggers(){return this.state.cpuAggregator.getUpdateTriggers(this.props)}renderLayers(){const{elevationScale:elevationScale,extruded:extruded,coverage:coverage,material:material,transitions:transitions}=this.props,{aggregatorState:aggregatorState,vertices:vertices}=this.state,SubLayerClass=this.getSubLayerClass("hexagon-cell",column_layer.Z),updateTriggers=this._getSublayerUpdateTriggers();return new SubLayerClass({...vertices?{vertices:vertices,radius:1}:{radius:aggregatorState.layerData.radiusCommon||1,radiusUnits:"common",angle:90},diskResolution:6,elevationScale:elevationScale,extruded:extruded,coverage:coverage,material:material,getFillColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),transitions:transitions&&{getFillColor:transitions.getColorValue||transitions.getColorWeight,getElevation:transitions.getElevationValue||transitions.getElevationWeight}},this.getSubLayerProps({id:"hexagon-cell",updateTriggers:updateTriggers}),{data:aggregatorState.layerData.data})}}(0,defineProperty.Z)(HexagonLayer,"layerName","HexagonLayer"),(0,defineProperty.Z)(HexagonLayer,"defaultProps",hexagon_layer_defaultProps);var line_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/line-layer/line-layer.js"),solid_polygon_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/solid-polygon-layer.js");const ONE6TH=1/6,OFFSET={N:[0,.5],E:[.5,0],S:[0,-.5],W:[-.5,0],NE:[.5,.5],NW:[-.5,.5],SE:[.5,-.5],SW:[-.5,-.5]},SW_TRIANGLE=[OFFSET.W,OFFSET.SW,OFFSET.S],SE_TRIANGLE=[OFFSET.S,OFFSET.SE,OFFSET.E],NE_TRIANGLE=[OFFSET.E,OFFSET.NE,OFFSET.N],NW_TRIANGLE=[OFFSET.NW,OFFSET.W,OFFSET.N],SW_TRAPEZOID=[[-.5,ONE6TH],[-.5,-ONE6TH],[-ONE6TH,-.5],[ONE6TH,-.5]],SE_TRAPEZOID=[[-ONE6TH,-.5],[ONE6TH,-.5],[.5,-ONE6TH],[.5,ONE6TH]],NE_TRAPEZOID=[[.5,-ONE6TH],[.5,ONE6TH],[ONE6TH,.5],[-ONE6TH,.5]],NW_TRAPEZOID=[[-.5,ONE6TH],[-.5,-ONE6TH],[ONE6TH,.5],[-ONE6TH,.5]],S_RECTANGLE=[OFFSET.W,OFFSET.SW,OFFSET.SE,OFFSET.E],E_RECTANGLE=[OFFSET.S,OFFSET.SE,OFFSET.NE,OFFSET.N],N_RECTANGLE=[OFFSET.NW,OFFSET.W,OFFSET.E,OFFSET.NE],W_RECTANGLE=[OFFSET.NW,OFFSET.SW,OFFSET.S,OFFSET.N],EW_RECTANGEL=[[-.5,ONE6TH],[-.5,-ONE6TH],[.5,-ONE6TH],[.5,ONE6TH]],SN_RECTANGEL=[[-ONE6TH,-.5],[ONE6TH,-.5],[ONE6TH,.5],[-ONE6TH,.5]],SQUARE=[OFFSET.NW,OFFSET.SW,OFFSET.SE,OFFSET.NE],SW_PENTAGON=[OFFSET.NW,OFFSET.SW,OFFSET.SE,OFFSET.E,OFFSET.N],SE_PENTAGON=[OFFSET.W,OFFSET.SW,OFFSET.SE,OFFSET.NE,OFFSET.N],NE_PENTAGON=[OFFSET.NW,OFFSET.W,OFFSET.S,OFFSET.SE,OFFSET.NE],NW_PENTAGON=[OFFSET.NW,OFFSET.SW,OFFSET.S,OFFSET.E,OFFSET.NE],NW_N_PENTAGON=[OFFSET.NW,OFFSET.W,[.5,-ONE6TH],[.5,ONE6TH],OFFSET.N],NE_E_PENTAGON=[[-ONE6TH,-.5],[ONE6TH,-.5],OFFSET.E,OFFSET.NE,OFFSET.N],SE_S_PENTAGON=[[-.5,ONE6TH],[-.5,-ONE6TH],OFFSET.S,OFFSET.SE,OFFSET.E],SW_W_PENTAGON=[OFFSET.W,OFFSET.SW,OFFSET.S,[ONE6TH,.5],[-ONE6TH,.5]],NW_W_PENTAGON=[OFFSET.NW,OFFSET.W,[-ONE6TH,-.5],[ONE6TH,-.5],OFFSET.N],NE_N_PENTAGON=[[-.5,ONE6TH],[-.5,-ONE6TH],OFFSET.E,OFFSET.NE,OFFSET.N],SE_E_PENTAGON=[OFFSET.S,OFFSET.SE,OFFSET.E,[ONE6TH,.5],[-ONE6TH,.5]],SW_S_PENTAGON=[OFFSET.W,OFFSET.SW,OFFSET.S,[.5,-ONE6TH],[.5,ONE6TH]],S_HEXAGON=[OFFSET.W,OFFSET.SW,OFFSET.SE,OFFSET.E,[ONE6TH,.5],[-ONE6TH,.5]],E_HEXAGON=[[-.5,ONE6TH],[-.5,-ONE6TH],OFFSET.S,OFFSET.SE,OFFSET.NE,OFFSET.N],N_HEXAGON=[OFFSET.NW,OFFSET.W,[-ONE6TH,-.5],[ONE6TH,-.5],OFFSET.E,OFFSET.NE],W_HEXAGON=[OFFSET.NW,OFFSET.SW,OFFSET.S,[.5,-ONE6TH],[.5,ONE6TH],OFFSET.N],SW_NE_HEXAGON=[OFFSET.W,OFFSET.SW,OFFSET.S,OFFSET.E,OFFSET.NE,OFFSET.N],NW_SE_HEXAGON=[OFFSET.NW,OFFSET.W,OFFSET.S,OFFSET.SE,OFFSET.E,OFFSET.N],NE_HEPTAGON=[[-.5,ONE6TH],[-.5,-ONE6TH],[-ONE6TH,-.5],[ONE6TH,-.5],OFFSET.E,OFFSET.NE,OFFSET.N],SW_HEPTAGON=[OFFSET.W,OFFSET.SW,OFFSET.S,[.5,-ONE6TH],[.5,ONE6TH],[ONE6TH,.5],[-ONE6TH,.5]],NW_HEPTAGON=[OFFSET.NW,OFFSET.W,[-ONE6TH,-.5],[ONE6TH,-.5],[.5,-ONE6TH],[.5,ONE6TH],OFFSET.N],SE_HEPTAGON=[[-.5,ONE6TH],[-.5,-ONE6TH],OFFSET.S,OFFSET.SE,OFFSET.E,[ONE6TH,.5],[-ONE6TH,.5]],OCTAGON=[[-.5,ONE6TH],[-.5,-ONE6TH],[-ONE6TH,-.5],[ONE6TH,-.5],[.5,-ONE6TH],[.5,ONE6TH],[ONE6TH,.5],[-ONE6TH,.5]],ISOLINES_CODE_OFFSET_MAP={0:[],1:[[OFFSET.W,OFFSET.S]],2:[[OFFSET.S,OFFSET.E]],3:[[OFFSET.W,OFFSET.E]],4:[[OFFSET.N,OFFSET.E]],5:{0:[[OFFSET.W,OFFSET.S],[OFFSET.N,OFFSET.E]],1:[[OFFSET.W,OFFSET.N],[OFFSET.S,OFFSET.E]]},6:[[OFFSET.N,OFFSET.S]],7:[[OFFSET.W,OFFSET.N]],8:[[OFFSET.W,OFFSET.N]],9:[[OFFSET.N,OFFSET.S]],10:{0:[[OFFSET.W,OFFSET.N],[OFFSET.S,OFFSET.E]],1:[[OFFSET.W,OFFSET.S],[OFFSET.N,OFFSET.E]]},11:[[OFFSET.N,OFFSET.E]],12:[[OFFSET.W,OFFSET.E]],13:[[OFFSET.S,OFFSET.E]],14:[[OFFSET.W,OFFSET.S]],15:[]};function ternaryToIndex(ternary){return parseInt(ternary,4)}const ISOBANDS_CODE_OFFSET_MAP={[ternaryToIndex("0000")]:[],[ternaryToIndex("2222")]:[],[ternaryToIndex("2221")]:[SW_TRIANGLE],[ternaryToIndex("2212")]:[SE_TRIANGLE],[ternaryToIndex("2122")]:[NE_TRIANGLE],[ternaryToIndex("1222")]:[NW_TRIANGLE],[ternaryToIndex("0001")]:[SW_TRIANGLE],[ternaryToIndex("0010")]:[SE_TRIANGLE],[ternaryToIndex("0100")]:[NE_TRIANGLE],[ternaryToIndex("1000")]:[NW_TRIANGLE],[ternaryToIndex("2220")]:[SW_TRAPEZOID],[ternaryToIndex("2202")]:[SE_TRAPEZOID],[ternaryToIndex("2022")]:[NE_TRAPEZOID],[ternaryToIndex("0222")]:[NW_TRAPEZOID],[ternaryToIndex("0002")]:[SW_TRAPEZOID],[ternaryToIndex("0020")]:[SE_TRAPEZOID],[ternaryToIndex("0200")]:[NE_TRAPEZOID],[ternaryToIndex("2000")]:[NW_TRAPEZOID],[ternaryToIndex("0011")]:[S_RECTANGLE],[ternaryToIndex("0110")]:[E_RECTANGLE],[ternaryToIndex("1100")]:[N_RECTANGLE],[ternaryToIndex("1001")]:[W_RECTANGLE],[ternaryToIndex("2211")]:[S_RECTANGLE],[ternaryToIndex("2112")]:[E_RECTANGLE],[ternaryToIndex("1122")]:[N_RECTANGLE],[ternaryToIndex("1221")]:[W_RECTANGLE],[ternaryToIndex("2200")]:[EW_RECTANGEL],[ternaryToIndex("2002")]:[SN_RECTANGEL],[ternaryToIndex("0022")]:[EW_RECTANGEL],[ternaryToIndex("0220")]:[SN_RECTANGEL],[ternaryToIndex("1111")]:[SQUARE],[ternaryToIndex("1211")]:[SW_PENTAGON],[ternaryToIndex("2111")]:[SE_PENTAGON],[ternaryToIndex("1112")]:[NE_PENTAGON],[ternaryToIndex("1121")]:[NW_PENTAGON],[ternaryToIndex("1011")]:[SW_PENTAGON],[ternaryToIndex("0111")]:[SE_PENTAGON],[ternaryToIndex("1110")]:[NE_PENTAGON],[ternaryToIndex("1101")]:[NW_PENTAGON],[ternaryToIndex("1200")]:[NW_N_PENTAGON],[ternaryToIndex("0120")]:[NE_E_PENTAGON],[ternaryToIndex("0012")]:[SE_S_PENTAGON],[ternaryToIndex("2001")]:[SW_W_PENTAGON],[ternaryToIndex("1022")]:[NW_N_PENTAGON],[ternaryToIndex("2102")]:[NE_E_PENTAGON],[ternaryToIndex("2210")]:[SE_S_PENTAGON],[ternaryToIndex("0221")]:[SW_W_PENTAGON],[ternaryToIndex("1002")]:[NW_W_PENTAGON],[ternaryToIndex("2100")]:[NE_N_PENTAGON],[ternaryToIndex("0210")]:[SE_E_PENTAGON],[ternaryToIndex("0021")]:[SW_S_PENTAGON],[ternaryToIndex("1220")]:[NW_W_PENTAGON],[ternaryToIndex("0122")]:[NE_N_PENTAGON],[ternaryToIndex("2012")]:[SE_E_PENTAGON],[ternaryToIndex("2201")]:[SW_S_PENTAGON],[ternaryToIndex("0211")]:[S_HEXAGON],[ternaryToIndex("2110")]:[E_HEXAGON],[ternaryToIndex("1102")]:[N_HEXAGON],[ternaryToIndex("1021")]:[W_HEXAGON],[ternaryToIndex("2011")]:[S_HEXAGON],[ternaryToIndex("0112")]:[E_HEXAGON],[ternaryToIndex("1120")]:[N_HEXAGON],[ternaryToIndex("1201")]:[W_HEXAGON],[ternaryToIndex("2101")]:[SW_NE_HEXAGON],[ternaryToIndex("0121")]:[SW_NE_HEXAGON],[ternaryToIndex("1012")]:[NW_SE_HEXAGON],[ternaryToIndex("1210")]:[NW_SE_HEXAGON],[ternaryToIndex("0101")]:{0:[SW_TRIANGLE,NE_TRIANGLE],1:[SW_NE_HEXAGON],2:[SW_NE_HEXAGON]},[ternaryToIndex("1010")]:{0:[NW_TRIANGLE,SE_TRIANGLE],1:[NW_SE_HEXAGON],2:[NW_SE_HEXAGON]},[ternaryToIndex("2121")]:{0:[SW_NE_HEXAGON],1:[SW_NE_HEXAGON],2:[SW_TRIANGLE,NE_TRIANGLE]},[ternaryToIndex("1212")]:{0:[NW_SE_HEXAGON],1:[NW_SE_HEXAGON],2:[NW_TRIANGLE,SE_TRIANGLE]},[ternaryToIndex("2120")]:{0:[NE_HEPTAGON],1:[NE_HEPTAGON],2:[SW_TRAPEZOID,NE_TRIANGLE]},[ternaryToIndex("2021")]:{0:[SW_HEPTAGON],1:[SW_HEPTAGON],2:[SW_TRIANGLE,NE_TRAPEZOID]},[ternaryToIndex("1202")]:{0:[NW_HEPTAGON],1:[NW_HEPTAGON],2:[NW_TRIANGLE,SE_TRAPEZOID]},[ternaryToIndex("0212")]:{0:[SE_HEPTAGON],1:[SE_HEPTAGON],2:[SE_TRIANGLE,NW_TRAPEZOID]},[ternaryToIndex("0102")]:{0:[SW_TRAPEZOID,NE_TRIANGLE],1:[NE_HEPTAGON],2:[NE_HEPTAGON]},[ternaryToIndex("0201")]:{0:[SW_TRIANGLE,NE_TRAPEZOID],1:[SW_HEPTAGON],2:[SW_HEPTAGON]},[ternaryToIndex("1020")]:{0:[NW_TRIANGLE,SE_TRAPEZOID],1:[NW_HEPTAGON],2:[NW_HEPTAGON]},[ternaryToIndex("2010")]:{0:[SE_TRIANGLE,NW_TRAPEZOID],1:[SE_HEPTAGON],2:[SE_HEPTAGON]},[ternaryToIndex("2020")]:{0:[NW_TRAPEZOID,SE_TRAPEZOID],1:[OCTAGON],2:[SW_TRAPEZOID,NE_TRAPEZOID]},[ternaryToIndex("0202")]:{0:[NE_TRAPEZOID,SW_TRAPEZOID],1:[OCTAGON],2:[NW_TRAPEZOID,SE_TRAPEZOID]}},CONTOUR_TYPE={ISO_LINES:1,ISO_BANDS:2},DEFAULT_THRESHOLD_DATA={zIndex:0,zOffset:.005};function getVertexCode(weight,threshold){return Array.isArray(threshold)?weight<threshold[0]?0:weight<threshold[1]?1:2:weight>=threshold?1:0}function getCode(opts){const{cellWeights:cellWeights,x:x,y:y,width:width,height:height}=opts;let threshold=opts.threshold;opts.thresholdValue&&(log.Z.deprecated("thresholdValue","threshold")(),threshold=opts.thresholdValue);const isLeftBoundary=x<0,isRightBoundary=x>=width-1,isBottomBoundary=y<0,isTopBoundary=y>=height-1,isBoundary=isLeftBoundary||isRightBoundary||isBottomBoundary||isTopBoundary,weights={},codes={};isLeftBoundary||isTopBoundary?codes.top=0:(weights.top=cellWeights[(y+1)*width+x],codes.top=getVertexCode(weights.top,threshold)),isRightBoundary||isTopBoundary?codes.topRight=0:(weights.topRight=cellWeights[(y+1)*width+x+1],codes.topRight=getVertexCode(weights.topRight,threshold)),isRightBoundary||isBottomBoundary?codes.right=0:(weights.right=cellWeights[y*width+x+1],codes.right=getVertexCode(weights.right,threshold)),isLeftBoundary||isBottomBoundary?codes.current=0:(weights.current=cellWeights[y*width+x],codes.current=getVertexCode(weights.current,threshold));const{top:top,topRight:topRight,right:right,current:current}=codes;let code=-1;Number.isFinite(threshold)&&(code=top<<3|topRight<<2|right<<1|current),Array.isArray(threshold)&&(code=top<<6|topRight<<4|right<<2|current);let meanCode=0;return isBoundary||(meanCode=getVertexCode((weights.top+weights.topRight+weights.right+weights.current)/4,threshold)),{code:code,meanCode:meanCode}}function getVertices(opts){const{gridOrigin:gridOrigin,cellSize:cellSize,x:x,y:y,code:code,meanCode:meanCode,type:type=CONTOUR_TYPE.ISO_LINES}=opts,thresholdData={...DEFAULT_THRESHOLD_DATA,...opts.thresholdData};let offsets=type===CONTOUR_TYPE.ISO_BANDS?ISOBANDS_CODE_OFFSET_MAP[code]:ISOLINES_CODE_OFFSET_MAP[code];Array.isArray(offsets)||(offsets=offsets[meanCode]);const vZ=thresholdData.zIndex*thresholdData.zOffset,rX=(x+1)*cellSize[0],rY=(y+1)*cellSize[1],refVertexX=gridOrigin[0]+rX,refVertexY=gridOrigin[1]+rY;if(type===CONTOUR_TYPE.ISO_BANDS){const polygons=[];return offsets.forEach((polygonOffsets=>{const polygon=[];polygonOffsets.forEach((xyOffset=>{const vX=refVertexX+xyOffset[0]*cellSize[0],vY=refVertexY+xyOffset[1]*cellSize[1];polygon.push([vX,vY,vZ])})),polygons.push(polygon)})),polygons}const lines=[];return offsets.forEach((xyOffsets=>{xyOffsets.forEach((offset=>{const vX=refVertexX+offset[0]*cellSize[0],vY=refVertexY+offset[1]*cellSize[1];lines.push([vX,vY,vZ])}))})),lines}const DEFAULT_COLOR=[255,255,255,255],contour_layer_defaultProps={cellSize:{type:"number",min:1,max:1e3,value:1e3},getPosition:{type:"accessor",value:x=>x.position},getWeight:{type:"accessor",value:1},gpuAggregation:!0,aggregation:"SUM",contours:{type:"object",value:[{threshold:1}],optional:!0,compare:3},zOffset:.005},contour_layer_DIMENSIONS={data:{props:["cellSize"]},weights:{props:["aggregation"],accessors:["getWeight"]}};class ContourLayer extends GridAggregationLayer{initializeState(){super.initializeAggregationLayer({dimensions:contour_layer_DIMENSIONS}),this.setState({contourData:{},projectPoints:!1,weights:{count:{size:1,operation:AGGREGATION_OPERATION.SUM}}});this.getAttributeManager().add({positions:{size:3,accessor:"getPosition",type:5130,fp64:this.use64bitPositions()},count:{size:3,accessor:"getWeight"}})}updateState(opts){super.updateState(opts);let contoursChanged=!1;const{oldProps:oldProps,props:props}=opts,{aggregationDirty:aggregationDirty}=this.state;oldProps.contours===props.contours&&oldProps.zOffset===props.zOffset||(contoursChanged=!0,this._updateThresholdData(opts.props)),this.getNumInstances()>0&&(aggregationDirty||contoursChanged)&&this._generateContours()}renderLayers(){const{contourSegments:contourSegments,contourPolygons:contourPolygons}=this.state.contourData,LinesSubLayerClass=this.getSubLayerClass("lines",line_layer.Z),BandsSubLayerClass=this.getSubLayerClass("bands",solid_polygon_layer.Z);return[contourSegments&&contourSegments.length>0&&new LinesSubLayerClass(this.getSubLayerProps({id:"lines"}),{data:this.state.contourData.contourSegments,getSourcePosition:d=>d.start,getTargetPosition:d=>d.end,getColor:d=>d.contour.color||DEFAULT_COLOR,getWidth:d=>d.contour.strokeWidth||1}),contourPolygons&&contourPolygons.length>0&&new BandsSubLayerClass(this.getSubLayerProps({id:"bands"}),{data:this.state.contourData.contourPolygons,getPolygon:d=>d.vertices,getFillColor:d=>d.contour.color||DEFAULT_COLOR})]}updateAggregationState(opts){const{props:props,oldProps:oldProps}=opts,{cellSize:cellSize,coordinateSystem:coordinateSystem}=props,{viewport:viewport}=this.context,cellSizeChanged=oldProps.cellSize!==cellSize;let gpuAggregation=props.gpuAggregation;this.state.gpuAggregation!==props.gpuAggregation&&gpuAggregation&&!GPUGridAggregator.isSupported(this.context.gl)&&(log.Z.warn("GPU Grid Aggregation not supported, falling back to CPU")(),gpuAggregation=!1);const gpuAggregationChanged=gpuAggregation!==this.state.gpuAggregation;this.setState({gpuAggregation:gpuAggregation});const{dimensions:dimensions}=this.state,positionsChanged=this.isAttributeChanged("positions"),{data:data,weights:weights}=dimensions;let{boundingBox:boundingBox}=this.state;if(positionsChanged&&(boundingBox=getBoundingBox(this.getAttributes(),this.getNumInstances()),this.setState({boundingBox:boundingBox})),positionsChanged||cellSizeChanged){const{gridOffset:gridOffset,translation:translation,width:width,height:height,numCol:numCol,numRow:numRow}=getGridParams(boundingBox,cellSize,viewport,coordinateSystem);this.allocateResources(numRow,numCol),this.setState({gridOffset:gridOffset,boundingBox:boundingBox,translation:translation,posOffset:translation.slice(),gridOrigin:[-1*translation[0],-1*translation[1]],width:width,height:height,numCol:numCol,numRow:numRow})}const aggregationDataDirty=positionsChanged||gpuAggregationChanged||this.isAggregationDirty(opts,{dimension:data,compareAll:gpuAggregation}),aggregationWeightsDirty=this.isAggregationDirty(opts,{dimension:weights});aggregationWeightsDirty&&this._updateAccessors(opts),(aggregationDataDirty||aggregationWeightsDirty)&&this._resetResults(),this.setState({aggregationDataDirty:aggregationDataDirty,aggregationWeightsDirty:aggregationWeightsDirty})}_updateAccessors(opts){const{getWeight:getWeight,aggregation:aggregation,data:data}=opts.props,{count:count}=this.state.weights;count&&(count.getWeight=getWeight,count.operation=AGGREGATION_OPERATION[aggregation]),this.setState({getValue:getValueFunc(aggregation,getWeight,{data:data})})}_resetResults(){const{count:count}=this.state.weights;count&&(count.aggregationData=null)}_generateContours(){const{numCol:numCol,numRow:numRow,gridOrigin:gridOrigin,gridOffset:gridOffset,thresholdData:thresholdData}=this.state,{count:count}=this.state.weights;let{aggregationData:aggregationData}=count;aggregationData||(aggregationData=count.aggregationBuffer.getData(),count.aggregationData=aggregationData);const{cellWeights:cellWeights}=GPUGridAggregator.getCellData({countsData:aggregationData}),contourData=function generateContours({thresholdData:thresholdData,cellWeights:cellWeights,gridSize:gridSize,gridOrigin:gridOrigin,cellSize:cellSize}){const contourSegments=[],contourPolygons=[],width=gridSize[0],height=gridSize[1];let segmentIndex=0,polygonIndex=0;for(const data of thresholdData){const{contour:contour}=data,{threshold:threshold}=contour;for(let x=-1;x<width;x++)for(let y=-1;y<height;y++){const{code:code,meanCode:meanCode}=getCode({cellWeights:cellWeights,threshold:threshold,x:x,y:y,width:width,height:height}),opts={type:CONTOUR_TYPE.ISO_BANDS,gridOrigin:gridOrigin,cellSize:cellSize,x:x,y:y,width:width,height:height,code:code,meanCode:meanCode,thresholdData:data};if(Array.isArray(threshold)){opts.type=CONTOUR_TYPE.ISO_BANDS;const polygons=getVertices(opts);for(const polygon of polygons)contourPolygons[polygonIndex++]={vertices:polygon,contour:contour}}else{opts.type=CONTOUR_TYPE.ISO_LINES;const vertices=getVertices(opts);for(let i=0;i<vertices.length;i+=2)contourSegments[segmentIndex++]={start:vertices[i],end:vertices[i+1],contour:contour}}}}return{contourSegments:contourSegments,contourPolygons:contourPolygons}}({thresholdData:thresholdData,cellWeights:cellWeights,gridSize:[numCol,numRow],gridOrigin:gridOrigin,cellSize:[gridOffset.xOffset,gridOffset.yOffset]});this.setState({contourData:contourData})}_updateThresholdData(props){const{contours:contours,zOffset:zOffset}=props,count=contours.length,thresholdData=new Array(count);for(let i=0;i<count;i++){const contour=contours[i];thresholdData[i]={contour:contour,zIndex:contour.zIndex||i,zOffset:zOffset}}this.setState({thresholdData:thresholdData})}}(0,defineProperty.Z)(ContourLayer,"layerName","ContourLayer"),(0,defineProperty.Z)(ContourLayer,"defaultProps",contour_layer_defaultProps);var phong_lighting=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/phong-lighting/phong-lighting.js"),math_utils=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/math-utils.js"),cube_geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometries/cube-geometry.js");const gpu_grid_cell_layer_defaultProps={colorDomain:null,colorRange:defaultColorRange,elevationDomain:null,elevationRange:[0,1e3],elevationScale:{type:"number",min:0,value:1},gridSize:{type:"array",value:[1,1]},gridOrigin:{type:"array",value:[0,0]},gridOffset:{type:"array",value:[0,0]},cellSize:{type:"number",min:0,max:1e3,value:1e3},offset:{type:"array",value:[1,1]},coverage:{type:"number",min:0,max:1,value:1},extruded:!0,material:!0};class GPUGridCellLayer extends lib_layer.Z{getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME gpu-grid-cell-layer-vertex-shader\n#define RANGE_COUNT 6\n\nin vec3 positions;\nin vec3 normals;\n\nin vec4 colors;\nin vec4 elevations;\nin vec3 instancePickingColors;\nuniform vec2 offset;\nuniform bool extruded;\nuniform float cellSize;\nuniform float coverage;\nuniform float opacity;\nuniform float elevationScale;\n\nuniform ivec2 gridSize;\nuniform vec2 gridOrigin;\nuniform vec2 gridOriginLow;\nuniform vec2 gridOffset;\nuniform vec2 gridOffsetLow;\nuniform vec4 colorRange[RANGE_COUNT];\nuniform vec2 elevationRange;\nuniform vec2 colorDomain;\nuniform bool colorDomainValid;\nuniform vec2 elevationDomain;\nuniform bool elevationDomainValid;\n\nlayout(std140) uniform;\nuniform ColorData\n{\n  vec4 maxMinCount;\n} colorData;\nuniform ElevationData\n{\n  vec4 maxMinCount;\n} elevationData;\n\n#define EPSILON 0.00001\nout vec4 vColor;\n\nvec4 quantizeScale(vec2 domain, vec4 range[RANGE_COUNT], float value) {\n  vec4 outColor = vec4(0., 0., 0., 0.);\n  if (value >= (domain.x - EPSILON) && value <= (domain.y + EPSILON)) {\n    float domainRange = domain.y - domain.x;\n    if (domainRange <= 0.) {\n      outColor = colorRange[0];\n    } else {\n      float rangeCount = float(RANGE_COUNT);\n      float rangeStep = domainRange / rangeCount;\n      float idx = floor((value - domain.x) / rangeStep);\n      idx = clamp(idx, 0., rangeCount - 1.);\n      int intIdx = int(idx);\n      outColor = colorRange[intIdx];\n    }\n  }\n  return outColor;\n}\n\nfloat linearScale(vec2 domain, vec2 range, float value) {\n  if (value >= (domain.x - EPSILON) && value <= (domain.y + EPSILON)) {\n    return ((value - domain.x) / (domain.y - domain.x)) * (range.y - range.x) + range.x;\n  }\n  return -1.;\n}\n\nvoid main(void) {\n  vec2 clrDomain = colorDomainValid ? colorDomain : vec2(colorData.maxMinCount.a, colorData.maxMinCount.r);\n  vec4 color = quantizeScale(clrDomain, colorRange, colors.r);\n\n  float elevation = 0.0;\n\n  if (extruded) {\n    vec2 elvDomain = elevationDomainValid ? elevationDomain : vec2(elevationData.maxMinCount.a, elevationData.maxMinCount.r);\n    elevation = linearScale(elvDomain, elevationRange, elevations.r);\n    elevation = elevation  * (positions.z + 1.0) / 2.0 * elevationScale;\n  }\n  float shouldRender = float(color.r > 0.0 && elevations.r >= 0.0);\n  float dotRadius = cellSize / 2. * coverage * shouldRender;\n\n  int yIndex = (gl_InstanceID / gridSize[0]);\n  int xIndex = gl_InstanceID - (yIndex * gridSize[0]);\n\n  vec2 instancePositionXFP64 = mul_fp64(vec2(gridOffset[0], gridOffsetLow[0]), vec2(float(xIndex), 0.));\n  instancePositionXFP64 = sum_fp64(instancePositionXFP64, vec2(gridOrigin[0], gridOriginLow[0]));\n  vec2 instancePositionYFP64 = mul_fp64(vec2(gridOffset[1], gridOffsetLow[1]), vec2(float(yIndex), 0.));\n  instancePositionYFP64 = sum_fp64(instancePositionYFP64, vec2(gridOrigin[1], gridOriginLow[1]));\n\n  vec3 centroidPosition = vec3(instancePositionXFP64[0], instancePositionYFP64[0], elevation);\n  vec3 centroidPosition64Low = vec3(instancePositionXFP64[1], instancePositionYFP64[1], 0.0);\n  geometry.worldPosition = centroidPosition;\n  vec3 pos = vec3(project_size(positions.xy + offset) * dotRadius, 0.);\n  picking_setPickingColor(instancePickingColors);\n\n  gl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);\n\n  vec3 normals_commonspace = project_normal(normals);\n\n   if (extruded) {\n    vec3 lightColor = lighting_getLightColor(color.rgb, project_uCameraPosition, geometry.position.xyz, normals_commonspace);\n    vColor = vec4(lightColor, color.a * opacity) / 255.;\n  } else {\n    vColor = vec4(color.rgb, color.a * opacity) / 255.;\n  }\n}\n",fs:"#version 300 es\n#define SHADER_NAME gpu-grid-cell-layer-fragment-shader\n\nprecision highp float;\n\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  fragColor = vColor;\n  fragColor = picking_filterColor(fragColor);\n}\n",modules:[project32.Z,phong_lighting.N,picking.Z,fp64.n2]})}initializeState({gl:gl}){this.getAttributeManager().addInstanced({colors:{size:4,noAlloc:!0},elevations:{size:4,noAlloc:!0}});const model=this._getModel(gl);this._setupUniformBuffer(model),this.setState({model:model})}_getModel(gl){return new model.Z(gl,{...this.getShaders(),id:this.props.id,geometry:new cube_geometry.Z,isInstanced:!0})}draw({uniforms:uniforms}){const{cellSize:cellSize,offset:offset,extruded:extruded,elevationScale:elevationScale,coverage:coverage,gridSize:gridSize,gridOrigin:gridOrigin,gridOffset:gridOffset,elevationRange:elevationRange,colorMaxMinBuffer:colorMaxMinBuffer,elevationMaxMinBuffer:elevationMaxMinBuffer}=this.props,gridOriginLow=[(0,math_utils.Ks)(gridOrigin[0]),(0,math_utils.Ks)(gridOrigin[1])],gridOffsetLow=[(0,math_utils.Ks)(gridOffset[0]),(0,math_utils.Ks)(gridOffset[1])],domainUniforms=this.getDomainUniforms(),colorRange=colorRangeToFlatArray(this.props.colorRange);this.bindUniformBuffers(colorMaxMinBuffer,elevationMaxMinBuffer),this.state.model.setUniforms(uniforms).setUniforms(domainUniforms).setUniforms({cellSize:cellSize,offset:offset,extruded:extruded,elevationScale:elevationScale,coverage:coverage,gridSize:gridSize,gridOrigin:gridOrigin,gridOriginLow:gridOriginLow,gridOffset:gridOffset,gridOffsetLow:gridOffsetLow,colorRange:colorRange,elevationRange:elevationRange}).draw(),this.unbindUniformBuffers(colorMaxMinBuffer,elevationMaxMinBuffer)}bindUniformBuffers(colorMaxMinBuffer,elevationMaxMinBuffer){colorMaxMinBuffer.bind({target:35345,index:0}),elevationMaxMinBuffer.bind({target:35345,index:1})}unbindUniformBuffers(colorMaxMinBuffer,elevationMaxMinBuffer){colorMaxMinBuffer.unbind({target:35345,index:0}),elevationMaxMinBuffer.unbind({target:35345,index:1})}getDomainUniforms(){const{colorDomain:colorDomain,elevationDomain:elevationDomain}=this.props,domainUniforms={};return null!==colorDomain?(domainUniforms.colorDomainValid=!0,domainUniforms.colorDomain=colorDomain):domainUniforms.colorDomainValid=!1,null!==elevationDomain?(domainUniforms.elevationDomainValid=!0,domainUniforms.elevationDomain=elevationDomain):domainUniforms.elevationDomainValid=!1,domainUniforms}_setupUniformBuffer(model){const gl=this.context.gl,programHandle=model.program.handle,colorIndex=gl.getUniformBlockIndex(programHandle,"ColorData"),elevationIndex=gl.getUniformBlockIndex(programHandle,"ElevationData");gl.uniformBlockBinding(programHandle,colorIndex,0),gl.uniformBlockBinding(programHandle,elevationIndex,1)}}(0,defineProperty.Z)(GPUGridCellLayer,"layerName","GPUGridCellLayer"),(0,defineProperty.Z)(GPUGridCellLayer,"defaultProps",gpu_grid_cell_layer_defaultProps);const gpu_grid_layer_defaultProps={colorDomain:null,colorRange:defaultColorRange,getColorWeight:{type:"accessor",value:1},colorAggregation:"SUM",elevationDomain:null,elevationRange:[0,1e3],getElevationWeight:{type:"accessor",value:1},elevationAggregation:"SUM",elevationScale:{type:"number",min:0,value:1},cellSize:{type:"number",min:1,max:1e3,value:1e3},coverage:{type:"number",min:0,max:1,value:1},getPosition:{type:"accessor",value:x=>x.position},extruded:!1,material:!0},gpu_grid_layer_DIMENSIONS={data:{props:["cellSize","colorAggregation","elevationAggregation"]}};class GPUGridLayer extends GridAggregationLayer{initializeState({gl:gl}){const isSupported=GPUGridAggregator.isSupported(gl);isSupported||log.Z.error("GPUGridLayer is not supported on this browser, use GridLayer instead")(),super.initializeAggregationLayer({dimensions:gpu_grid_layer_DIMENSIONS}),this.setState({gpuAggregation:!0,projectPoints:!1,isSupported:isSupported,weights:{color:{needMin:!0,needMax:!0,combineMaxMin:!0,maxMinBuffer:new buffer.Z(gl,{byteLength:16,accessor:{size:4,type:5126,divisor:1}})},elevation:{needMin:!0,needMax:!0,combineMaxMin:!0,maxMinBuffer:new buffer.Z(gl,{byteLength:16,accessor:{size:4,type:5126,divisor:1}})}},positionAttributeName:"positions"});this.getAttributeManager().add({positions:{size:3,accessor:"getPosition",type:5130,fp64:this.use64bitPositions()},color:{size:3,accessor:"getColorWeight"},elevation:{size:3,accessor:"getElevationWeight"}})}updateState(opts){if(!1===this.state.isSupported)return;super.updateState(opts);const{aggregationDirty:aggregationDirty}=this.state;aggregationDirty&&this.setState({gridHash:null})}getHashKeyForIndex(index){const{numRow:numRow,numCol:numCol,boundingBox:boundingBox,gridOffset:gridOffset}=this.state,gridSize=[numCol,numRow],gridOrigin=[boundingBox.xMin,boundingBox.yMin],cellSize=[gridOffset.xOffset,gridOffset.yOffset],yIndex=Math.floor(index/gridSize[0]),xIndex=index-yIndex*gridSize[0],latIdx=Math.floor((yIndex*cellSize[1]+gridOrigin[1]+90+cellSize[1]/2)/cellSize[1]),lonIdx=Math.floor((xIndex*cellSize[0]+gridOrigin[0]+180+cellSize[0]/2)/cellSize[0]);return"".concat(latIdx,"-").concat(lonIdx)}getPositionForIndex(index){const{numRow:numRow,numCol:numCol,boundingBox:boundingBox,gridOffset:gridOffset}=this.state,gridSize=[numCol,numRow],gridOrigin=[boundingBox.xMin,boundingBox.yMin],cellSize=[gridOffset.xOffset,gridOffset.yOffset],yIndex=Math.floor(index/gridSize[0]);return[(index-yIndex*gridSize[0])*cellSize[0]+gridOrigin[0],yIndex*cellSize[1]+gridOrigin[1]]}getPickingInfo({info:info,mode:mode}){const{index:index}=info;let object=null;if(index>=0){const{gpuGridAggregator:gpuGridAggregator}=this.state,position=this.getPositionForIndex(index),colorInfo=GPUGridAggregator.getAggregationData({pixelIndex:index,...gpuGridAggregator.getData("color")}),elevationInfo=GPUGridAggregator.getAggregationData({pixelIndex:index,...gpuGridAggregator.getData("elevation")});if(object={colorValue:colorInfo.cellWeight,elevationValue:elevationInfo.cellWeight,count:colorInfo.cellCount||elevationInfo.cellCount,position:position,totalCount:colorInfo.totalCount||elevationInfo.totalCount},"hover"!==mode){const{props:props}=this;let{gridHash:gridHash}=this.state;if(!gridHash){const{gridOffset:gridOffset,translation:translation,boundingBox:boundingBox}=this.state,{viewport:viewport}=this.context;gridHash=pointToDensityGridDataCPU(props,{gridOffset:gridOffset,attributes:this.getAttributes(),viewport:viewport,translation:translation,boundingBox:boundingBox}).gridHash,this.setState({gridHash:gridHash})}const cpuAggregationData=gridHash[this.getHashKeyForIndex(index)];Object.assign(object,cpuAggregationData)}}return info.picked=Boolean(object),info.object=object,info}renderLayers(){if(!this.state.isSupported)return null;const{elevationScale:elevationScale,extruded:extruded,cellSize:cellSizeMeters,coverage:coverage,material:material,elevationRange:elevationRange,colorDomain:colorDomain,elevationDomain:elevationDomain}=this.props,{weights:weights,numRow:numRow,numCol:numCol,gridOrigin:gridOrigin,gridOffset:gridOffset}=this.state,{color:color,elevation:elevation}=weights,colorRange=colorRangeToFlatArray(this.props.colorRange);return new(this.getSubLayerClass("gpu-grid-cell",GPUGridCellLayer))({gridSize:[numCol,numRow],gridOrigin:gridOrigin,gridOffset:[gridOffset.xOffset,gridOffset.yOffset],colorRange:colorRange,elevationRange:elevationRange,colorDomain:colorDomain,elevationDomain:elevationDomain,cellSize:cellSizeMeters,coverage:coverage,material:material,elevationScale:elevationScale,extruded:extruded},this.getSubLayerProps({id:"gpu-grid-cell"}),{data:{attributes:{colors:color.aggregationBuffer,elevations:elevation.aggregationBuffer}},colorMaxMinBuffer:color.maxMinBuffer,elevationMaxMinBuffer:elevation.maxMinBuffer,numInstances:numCol*numRow})}finalizeState(context){const{color:color,elevation:elevation}=this.state.weights;[color,elevation].forEach((weight=>{const{aggregationBuffer:aggregationBuffer,maxMinBuffer:maxMinBuffer}=weight;maxMinBuffer.delete(),null==aggregationBuffer||aggregationBuffer.delete()})),super.finalizeState(context)}updateAggregationState(opts){const{props:props,oldProps:oldProps}=opts,{cellSize:cellSize,coordinateSystem:coordinateSystem}=props,{viewport:viewport}=this.context,cellSizeChanged=oldProps.cellSize!==cellSize,{dimensions:dimensions}=this.state,positionsChanged=this.isAttributeChanged("positions"),attributesChanged=positionsChanged||this.isAttributeChanged();let{boundingBox:boundingBox}=this.state;if(positionsChanged&&(boundingBox=getBoundingBox(this.getAttributes(),this.getNumInstances()),this.setState({boundingBox:boundingBox})),positionsChanged||cellSizeChanged){const{gridOffset:gridOffset,translation:translation,width:width,height:height,numCol:numCol,numRow:numRow}=getGridParams(boundingBox,cellSize,viewport,coordinateSystem);this.allocateResources(numRow,numCol),this.setState({gridOffset:gridOffset,translation:translation,gridOrigin:[-1*translation[0],-1*translation[1]],width:width,height:height,numCol:numCol,numRow:numRow})}const aggregationDataDirty=attributesChanged||this.isAggregationDirty(opts,{dimension:dimensions.data,compareAll:!0});aggregationDataDirty&&this._updateAccessors(opts),this.setState({aggregationDataDirty:aggregationDataDirty})}_updateAccessors(opts){const{colorAggregation:colorAggregation,elevationAggregation:elevationAggregation}=opts.props,{color:color,elevation:elevation}=this.state.weights;color.operation=AGGREGATION_OPERATION[colorAggregation],elevation.operation=AGGREGATION_OPERATION[elevationAggregation]}}(0,defineProperty.Z)(GPUGridLayer,"layerName","GPUGridLayer"),(0,defineProperty.Z)(GPUGridLayer,"defaultProps",gpu_grid_layer_defaultProps);const grid_layer_defaultProps={...GPUGridLayer.defaultProps,...CPUGridLayer.defaultProps,gpuAggregation:!1};class GridLayer extends composite_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}initializeState(){this.state={useGPUAggregation:!0}}updateState({props:props}){this.setState({useGPUAggregation:this.canUseGPUAggregation(props)})}renderLayers(){const{data:data,updateTriggers:updateTriggers}=this.props,id=this.state.useGPUAggregation?"GPU":"CPU";return new(this.state.useGPUAggregation?this.getSubLayerClass("GPU",GPUGridLayer):this.getSubLayerClass("CPU",CPUGridLayer))(this.props,this.getSubLayerProps({id:id,updateTriggers:updateTriggers}),{data:data})}canUseGPUAggregation(props){const{gpuAggregation:gpuAggregation,lowerPercentile:lowerPercentile,upperPercentile:upperPercentile,getColorValue:getColorValue,getElevationValue:getElevationValue,colorScaleType:colorScaleType}=props;return!!gpuAggregation&&(!!GPUGridAggregator.isSupported(this.context.gl)&&(0===lowerPercentile&&100===upperPercentile&&(null===getColorValue&&null===getElevationValue&&("quantile"!==colorScaleType&&"ordinal"!==colorScaleType))))}}(0,defineProperty.Z)(GridLayer,"layerName","GridLayer"),(0,defineProperty.Z)(GridLayer,"defaultProps",grid_layer_defaultProps);const scratchArray=new Float32Array(12);function packVertices(points,dimensions=2){let index=0;for(const point of points)for(let i=0;i<dimensions;i++)scratchArray[index++]=point[i]||0;return scratchArray}class TriangleLayer extends lib_layer.Z{getShaders(){return{vs:"#define SHADER_NAME heatp-map-layer-vertex-shader\n\nuniform sampler2D maxTexture;\nuniform float intensity;\nuniform vec2 colorDomain;\nuniform float threshold;\nuniform float aggregationMode;\n\nattribute vec3 positions;\nattribute vec2 texCoords;\n\nvarying vec2 vTexCoords;\nvarying float vIntensityMin;\nvarying float vIntensityMax;\n\nvoid main(void) {\n  gl_Position = project_position_to_clipspace(positions, vec3(0.0), vec3(0.0));\n  vTexCoords = texCoords;\n  vec4 maxTexture = texture2D(maxTexture, vec2(0.5));\n  float maxValue = aggregationMode < 0.5 ? maxTexture.r : maxTexture.g;\n  float minValue = maxValue * threshold;\n  if (colorDomain[1] > 0.) {\n    maxValue = colorDomain[1];\n    minValue = colorDomain[0];\n  }\n  vIntensityMax = intensity / maxValue;\n  vIntensityMin = intensity / minValue;\n}\n",fs:"#define SHADER_NAME triangle-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D texture;\nuniform sampler2D colorTexture;\nuniform float aggregationMode;\n\nvarying vec2 vTexCoords;\nvarying float vIntensityMin;\nvarying float vIntensityMax;\n\nvec4 getLinearColor(float value) {\n  float factor = clamp(value * vIntensityMax, 0., 1.);\n  vec4 color = texture2D(colorTexture, vec2(factor, 0.5));\n  color.a *= min(value * vIntensityMin, 1.0);\n  return color;\n}\n\nvoid main(void) {\n  vec4 weights = texture2D(texture, vTexCoords);\n  float weight = weights.r;\n\n  if (aggregationMode > 0.5) {\n    weight /= max(1.0, weights.a);\n  }\n  if (weight <= 0.) {\n     discard;\n  }\n\n  vec4 linearColor = getLinearColor(weight);\n  linearColor.a *= opacity;\n  gl_FragColor =linearColor;\n}\n",modules:[project32.Z]}}initializeState({gl:gl}){this.getAttributeManager().add({positions:{size:3,noAlloc:!0},texCoords:{size:2,noAlloc:!0}}),this.setState({model:this._getModel(gl)})}_getModel(gl){const{vertexCount:vertexCount}=this.props;return new model.Z(gl,{...this.getShaders(),id:this.props.id,geometry:new geometry.Z({drawMode:6,vertexCount:vertexCount})})}draw({uniforms:uniforms}){const{model:model}=this.state,{texture:texture,maxTexture:maxTexture,colorTexture:colorTexture,intensity:intensity,threshold:threshold,aggregationMode:aggregationMode,colorDomain:colorDomain}=this.props;model.setUniforms({...uniforms,texture:texture,maxTexture:maxTexture,colorTexture:colorTexture,intensity:intensity,threshold:threshold,aggregationMode:aggregationMode,colorDomain:colorDomain}).draw()}}(0,defineProperty.Z)(TriangleLayer,"layerName","TriangleLayer");const TEXTURE_OPTIONS={mipmaps:!1,parameters:{10240:9729,10241:9729,10242:33071,10243:33071},dataFormat:6408},DEFAULT_COLOR_DOMAIN=[0,0],AGGREGATION_MODE={SUM:0,MEAN:1},heatmap_layer_defaultProps={getPosition:{type:"accessor",value:x=>x.position},getWeight:{type:"accessor",value:1},intensity:{type:"number",min:0,value:1},radiusPixels:{type:"number",min:1,max:100,value:50},colorRange:defaultColorRange,threshold:{type:"number",min:0,max:1,value:.05},colorDomain:{type:"array",value:null,optional:!0},aggregation:"SUM",weightsTextureSize:{type:"number",min:128,max:2048,value:2048},debounceTimeout:{type:"number",min:0,max:1e3,value:500}},heatmap_layer_REQUIRED_FEATURES=[webgl_features_table.h.BLEND_EQUATION_MINMAX,webgl_features_table.h.TEXTURE_FLOAT],FLOAT_TARGET_FEATURES=[webgl_features_table.h.COLOR_ATTACHMENT_RGBA32F,webgl_features_table.h.FLOAT_BLEND],heatmap_layer_DIMENSIONS={data:{props:["radiusPixels"]}};class HeatmapLayer extends AggregationLayer{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}initializeState(){const{gl:gl}=this.context;if(!(0,features.ag)(gl,heatmap_layer_REQUIRED_FEATURES))return this.setState({supported:!1}),void log.Z.error("HeatmapLayer: ".concat(this.id," is not supported on this browser"))();super.initializeAggregationLayer(heatmap_layer_DIMENSIONS),this.setState({supported:!0,colorDomain:DEFAULT_COLOR_DOMAIN}),this._setupTextureParams(),this._setupAttributes(),this._setupResources()}shouldUpdateState({changeFlags:changeFlags}){return changeFlags.somethingChanged}updateState(opts){this.state.supported&&(super.updateState(opts),this._updateHeatmapState(opts))}_updateHeatmapState(opts){const{props:props,oldProps:oldProps}=opts,changeFlags=this._getChangeFlags(opts);(changeFlags.dataChanged||changeFlags.viewportChanged)&&(changeFlags.boundsChanged=this._updateBounds(changeFlags.dataChanged),this._updateTextureRenderingBounds()),changeFlags.dataChanged||changeFlags.boundsChanged?(clearTimeout(this.state.updateTimer),this.setState({isWeightMapDirty:!0})):changeFlags.viewportZoomChanged&&this._debouncedUpdateWeightmap(),props.colorRange!==oldProps.colorRange&&this._updateColorTexture(opts),this.state.isWeightMapDirty&&this._updateWeightmap(),this.setState({zoom:opts.context.viewport.zoom})}renderLayers(){if(!this.state.supported)return[];const{weightsTexture:weightsTexture,triPositionBuffer:triPositionBuffer,triTexCoordBuffer:triTexCoordBuffer,maxWeightsTexture:maxWeightsTexture,colorTexture:colorTexture,colorDomain:colorDomain}=this.state,{updateTriggers:updateTriggers,intensity:intensity,threshold:threshold,aggregation:aggregation}=this.props;return new(this.getSubLayerClass("triangle",TriangleLayer))(this.getSubLayerProps({id:"triangle-layer",updateTriggers:updateTriggers}),{coordinateSystem:constants.COORDINATE_SYSTEM.DEFAULT,data:{attributes:{positions:triPositionBuffer,texCoords:triTexCoordBuffer}},vertexCount:4,maxTexture:maxWeightsTexture,colorTexture:colorTexture,aggregationMode:AGGREGATION_MODE[aggregation]||0,texture:weightsTexture,intensity:intensity,threshold:threshold,colorDomain:colorDomain})}finalizeState(context){super.finalizeState(context);const{weightsTransform:weightsTransform,weightsTexture:weightsTexture,maxWeightTransform:maxWeightTransform,maxWeightsTexture:maxWeightsTexture,triPositionBuffer:triPositionBuffer,triTexCoordBuffer:triTexCoordBuffer,colorTexture:colorTexture,updateTimer:updateTimer}=this.state;null==weightsTransform||weightsTransform.delete(),null==weightsTexture||weightsTexture.delete(),null==maxWeightTransform||maxWeightTransform.delete(),null==maxWeightsTexture||maxWeightsTexture.delete(),null==triPositionBuffer||triPositionBuffer.delete(),null==triTexCoordBuffer||triTexCoordBuffer.delete(),null==colorTexture||colorTexture.delete(),updateTimer&&clearTimeout(updateTimer)}_getAttributeManager(){return new attribute_manager.Z(this.context.gl,{id:this.props.id,stats:this.context.stats})}_getChangeFlags(opts){const changeFlags={},{dimensions:dimensions}=this.state;changeFlags.dataChanged=this.isAttributeChanged()||this.isAggregationDirty(opts,{compareAll:!0,dimension:dimensions.data}),changeFlags.viewportChanged=opts.changeFlags.viewportChanged;const{zoom:zoom}=this.state;return opts.context.viewport&&opts.context.viewport.zoom===zoom||(changeFlags.viewportZoomChanged=!0),changeFlags}_createTextures(){const{gl:gl}=this.context,{textureSize:textureSize,format:format,type:type}=this.state;this.setState({weightsTexture:new texture_2d.Z(gl,{width:textureSize,height:textureSize,format:format,type:type,...TEXTURE_OPTIONS}),maxWeightsTexture:new texture_2d.Z(gl,{format:format,type:type,...TEXTURE_OPTIONS})})}_setupAttributes(){this.getAttributeManager().add({positions:{size:3,type:5130,accessor:"getPosition"},weights:{size:1,accessor:"getWeight"}}),this.setState({positionAttributeName:"positions"})}_setupTextureParams(){const{gl:gl}=this.context,{weightsTextureSize:weightsTextureSize}=this.props,textureSize=Math.min(weightsTextureSize,(0,esm.ZS)(gl,3379)),floatTargetSupport=(0,features.ag)(gl,FLOAT_TARGET_FEATURES),{format:format,type:type}=function getTextureParams({gl:gl,floatTargetSupport:floatTargetSupport}){return floatTargetSupport?{format:(0,esm.D0)(gl)?34836:6408,type:5126}:{format:6408,type:5121}}({gl:gl,floatTargetSupport:floatTargetSupport}),weightsScale=floatTargetSupport?1:1/255;this.setState({textureSize:textureSize,format:format,type:type,weightsScale:weightsScale}),floatTargetSupport||log.Z.warn("HeatmapLayer: ".concat(this.id," rendering to float texture not supported, fallingback to low precession format"))()}getShaders(type){return super.getShaders("max-weights-transform"===type?{vs:"attribute vec4 inTexture;\nvarying vec4 outTexture;\n\nvoid main()\n{\noutTexture = inTexture;\ngl_Position = vec4(0, 0, 0, 1.);\ngl_PointSize = 1.0;\n}\n",_fs:"varying vec4 outTexture;\nvoid main() {\n  gl_FragColor = outTexture;\n  gl_FragColor.g = outTexture.r / max(1.0, outTexture.a);\n}\n"}:{vs:"attribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float weights;\nvarying vec4 weightsTexture;\nuniform float radiusPixels;\nuniform float textureWidth;\nuniform vec4 commonBounds;\nuniform float weightsScale;\nvoid main()\n{\n  weightsTexture = vec4(weights * weightsScale, 0., 0., 1.);\n\n  float radiusTexels  = project_pixel_size(radiusPixels) * textureWidth / (commonBounds.z - commonBounds.x);\n  gl_PointSize = radiusTexels * 2.;\n\n  vec3 commonPosition = project_position(positions, positions64Low);\n  gl_Position.xy = (commonPosition.xy - commonBounds.xy) / (commonBounds.zw - commonBounds.xy) ;\n  gl_Position.xy = (gl_Position.xy * 2.) - (1.);\n}\n",_fs:"varying vec4 weightsTexture;\nfloat gaussianKDE(float u){\n  return pow(2.71828, -u*u/0.05555)/(1.77245385*0.166666);\n}\nvoid main()\n{\n  float dist = length(gl_PointCoord - vec2(0.5, 0.5));\n  if (dist > 0.5) {\n    discard;\n  }\n  gl_FragColor = weightsTexture * gaussianKDE(2. * dist);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"})}_createWeightsTransform(shaders={}){var _weightsTransform;const{gl:gl}=this.context;let{weightsTransform:weightsTransform}=this.state;const{weightsTexture:weightsTexture}=this.state;null===(_weightsTransform=weightsTransform)||void 0===_weightsTransform||_weightsTransform.delete(),weightsTransform=new transform.Z(gl,{id:"".concat(this.id,"-weights-transform"),elementCount:1,_targetTexture:weightsTexture,_targetTextureVarying:"weightsTexture",...shaders}),this.setState({weightsTransform:weightsTransform})}_setupResources(){const{gl:gl}=this.context;this._createTextures();const{textureSize:textureSize,weightsTexture:weightsTexture,maxWeightsTexture:maxWeightsTexture}=this.state,weightsTransformShaders=this.getShaders("weights-transform");this._createWeightsTransform(weightsTransformShaders);const maxWeightsTransformShaders=this.getShaders("max-weights-transform"),maxWeightTransform=new transform.Z(gl,{id:"".concat(this.id,"-max-weights-transform"),_sourceTextures:{inTexture:weightsTexture},_targetTexture:maxWeightsTexture,_targetTextureVarying:"outTexture",...maxWeightsTransformShaders,elementCount:textureSize*textureSize});this.setState({weightsTexture:weightsTexture,maxWeightsTexture:maxWeightsTexture,maxWeightTransform:maxWeightTransform,zoom:null,triPositionBuffer:new buffer.Z(gl,{byteLength:48,accessor:{size:3}}),triTexCoordBuffer:new buffer.Z(gl,{byteLength:48,accessor:{size:2}})})}updateShaders(shaderOptions){this._createWeightsTransform(shaderOptions)}_updateMaxWeightValue(){const{maxWeightTransform:maxWeightTransform}=this.state;maxWeightTransform.run({parameters:{blend:!0,depthTest:!1,blendFunc:[1,1],blendEquation:32776}})}_updateBounds(forceUpdate=!1){const{viewport:viewport}=this.context,viewportCorners=[viewport.unproject([0,0]),viewport.unproject([viewport.width,0]),viewport.unproject([viewport.width,viewport.height]),viewport.unproject([0,viewport.height])].map((p=>p.map(Math.fround))),visibleWorldBounds=function getBounds(points){const x=points.map((p=>p[0])),y=points.map((p=>p[1])),xMin=Math.min.apply(null,x),xMax=Math.max.apply(null,x);return[xMin,Math.min.apply(null,y),xMax,Math.max.apply(null,y)]}(viewportCorners),newState={visibleWorldBounds:visibleWorldBounds,viewportCorners:viewportCorners};let boundsChanged=!1;if(forceUpdate||!this.state.worldBounds||!function boundsContain(currentBounds,targetBounds){return targetBounds[0]>=currentBounds[0]&&targetBounds[2]<=currentBounds[2]&&targetBounds[1]>=currentBounds[1]&&targetBounds[3]<=currentBounds[3]}(this.state.worldBounds,visibleWorldBounds)){const scaledCommonBounds=this._worldToCommonBounds(visibleWorldBounds),worldBounds=this._commonToWorldBounds(scaledCommonBounds);this.props.coordinateSystem===constants.COORDINATE_SYSTEM.LNGLAT&&(worldBounds[1]=Math.max(worldBounds[1],-85.051129),worldBounds[3]=Math.min(worldBounds[3],85.051129),worldBounds[0]=Math.max(worldBounds[0],-360),worldBounds[2]=Math.min(worldBounds[2],360));const normalizedCommonBounds=this._worldToCommonBounds(worldBounds);newState.worldBounds=worldBounds,newState.normalizedCommonBounds=normalizedCommonBounds,boundsChanged=!0}return this.setState(newState),boundsChanged}_updateTextureRenderingBounds(){const{triPositionBuffer:triPositionBuffer,triTexCoordBuffer:triTexCoordBuffer,normalizedCommonBounds:normalizedCommonBounds,viewportCorners:viewportCorners}=this.state,{viewport:viewport}=this.context;triPositionBuffer.subData(packVertices(viewportCorners,3));const textureBounds=viewportCorners.map((p=>function getTextureCoordinates(point,bounds){const[xMin,yMin,xMax,yMax]=bounds;return[(point[0]-xMin)/(xMax-xMin),(point[1]-yMin)/(yMax-yMin)]}(viewport.projectPosition(p),normalizedCommonBounds)));triTexCoordBuffer.subData(packVertices(textureBounds,2))}_updateColorTexture(opts){const{colorRange:colorRange}=opts.props;let{colorTexture:colorTexture}=this.state;const colors=colorRangeToFlatArray(colorRange,!1,Uint8Array);colorTexture?colorTexture.setImageData({data:colors,width:colorRange.length}):colorTexture=new texture_2d.Z(this.context.gl,{data:colors,width:colorRange.length,height:1,...TEXTURE_OPTIONS}),this.setState({colorTexture:colorTexture})}_updateWeightmap(){const{radiusPixels:radiusPixels,colorDomain:colorDomain,aggregation:aggregation}=this.props,{weightsTransform:weightsTransform,worldBounds:worldBounds,textureSize:textureSize,weightsTexture:weightsTexture,weightsScale:weightsScale}=this.state;this.state.isWeightMapDirty=!1;const commonBounds=this._worldToCommonBounds(worldBounds,{useLayerCoordinateSystem:!0});if(colorDomain&&"SUM"===aggregation){const{viewport:viewport}=this.context,metersPerPixel=viewport.distanceScales.metersPerUnit[2]*(commonBounds[2]-commonBounds[0])/textureSize;this.state.colorDomain=colorDomain.map((x=>x*metersPerPixel*weightsScale))}else this.state.colorDomain=colorDomain||DEFAULT_COLOR_DOMAIN;const uniforms={radiusPixels:radiusPixels,commonBounds:commonBounds,textureWidth:textureSize,weightsScale:weightsScale};weightsTransform.update({elementCount:this.getNumInstances()}),(0,esm.s8)(this.context.gl,{clearColor:[0,0,0,0]},(()=>{weightsTransform.run({uniforms:uniforms,parameters:{blend:!0,depthTest:!1,blendFunc:[1,1],blendEquation:32774},clearRenderTarget:!0,attributes:this.getAttributes(),moduleSettings:this.getModuleSettings()})})),this._updateMaxWeightValue(),weightsTexture.setParameters({10240:9729,10241:9729})}_debouncedUpdateWeightmap(fromTimer=!1){let{updateTimer:updateTimer}=this.state;const{debounceTimeout:debounceTimeout}=this.props;fromTimer?(updateTimer=null,this._updateBounds(!0),this._updateTextureRenderingBounds(),this.setState({isWeightMapDirty:!0})):(this.setState({isWeightMapDirty:!1}),clearTimeout(updateTimer),updateTimer=setTimeout(this._debouncedUpdateWeightmap.bind(this,!0),debounceTimeout)),this.setState({updateTimer:updateTimer})}_worldToCommonBounds(worldBounds,opts={}){const{useLayerCoordinateSystem:useLayerCoordinateSystem=!1}=opts,[minLong,minLat,maxLong,maxLat]=worldBounds,{viewport:viewport}=this.context,{textureSize:textureSize}=this.state,{coordinateSystem:coordinateSystem}=this.props,offsetMode=useLayerCoordinateSystem&&(coordinateSystem===constants.COORDINATE_SYSTEM.LNGLAT_OFFSETS||coordinateSystem===constants.COORDINATE_SYSTEM.METER_OFFSETS),offsetOriginCommon=offsetMode?viewport.projectPosition(this.props.coordinateOrigin):[0,0],size=2*textureSize/viewport.scale;let bottomLeftCommon,topRightCommon;return useLayerCoordinateSystem&&!offsetMode?(bottomLeftCommon=this.projectPosition([minLong,minLat,0]),topRightCommon=this.projectPosition([maxLong,maxLat,0])):(bottomLeftCommon=viewport.projectPosition([minLong,minLat,0]),topRightCommon=viewport.projectPosition([maxLong,maxLat,0])),function scaleToAspectRatio(boundingBox,width,height){const[xMin,yMin,xMax,yMax]=boundingBox,currentWidth=xMax-xMin,currentHeight=yMax-yMin;let newWidth=currentWidth,newHeight=currentHeight;currentWidth/currentHeight<width/height?newWidth=width/height*currentHeight:newHeight=height/width*currentWidth,newWidth<width&&(newWidth=width,newHeight=height);const xCenter=(xMax+xMin)/2,yCenter=(yMax+yMin)/2;return[xCenter-newWidth/2,yCenter-newHeight/2,xCenter+newWidth/2,yCenter+newHeight/2]}([bottomLeftCommon[0]-offsetOriginCommon[0],bottomLeftCommon[1]-offsetOriginCommon[1],topRightCommon[0]-offsetOriginCommon[0],topRightCommon[1]-offsetOriginCommon[1]],size,size)}_commonToWorldBounds(commonBounds){const[xMin,yMin,xMax,yMax]=commonBounds,{viewport:viewport}=this.context,bottomLeftWorld=viewport.unprojectPosition([xMin,yMin]),topRightWorld=viewport.unprojectPosition([xMax,yMax]);return bottomLeftWorld.slice(0,2).concat(topRightWorld.slice(0,2))}}(0,defineProperty.Z)(HeatmapLayer,"layerName","HeatmapLayer"),(0,defineProperty.Z)(HeatmapLayer,"defaultProps",heatmap_layer_defaultProps)},"./node_modules/@deck.gl/core/dist/esm/controllers/first-person-controller.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return FirstPersonController}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_controller__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/controllers/controller.js"),_view_state__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/controllers/view-state.js"),_utils_math_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/math-utils.js"),_transitions_linear_interpolator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/transitions/linear-interpolator.js"),_math_gl_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/vector3.js"),_math_gl_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/spherical-coordinates.js"),_math_gl_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/common.js");class FirstPersonState extends _view_state__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(options){const{width:width,height:height,position:position=[0,0,0],bearing:bearing=0,pitch:pitch=0,longitude:longitude=null,latitude:latitude=null,maxPitch:maxPitch=90,minPitch:minPitch=-90,startRotatePos:startRotatePos,startBearing:startBearing,startPitch:startPitch,startZoomPosition:startZoomPosition}=options;super({width:width,height:height,position:position,bearing:bearing,pitch:pitch,longitude:longitude,latitude:latitude,maxPitch:maxPitch,minPitch:minPitch},{startRotatePos:startRotatePos,startBearing:startBearing,startPitch:startPitch,startZoomPosition:startZoomPosition})}panStart(){return this}pan(){return this}panEnd(){return this}rotateStart({pos:pos}){return this._getUpdatedState({startRotatePos:pos,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:pos,deltaAngleX:deltaAngleX=0,deltaAngleY:deltaAngleY=0}){const{startRotatePos:startRotatePos,startBearing:startBearing,startPitch:startPitch}=this.getState(),{width:width,height:height}=this.getViewportProps();if(!startRotatePos||void 0===startBearing||void 0===startPitch)return this;let newRotation;if(pos){newRotation={bearing:startBearing-180*((pos[0]-startRotatePos[0])/width),pitch:startPitch-90*((pos[1]-startRotatePos[1])/height)}}else newRotation={bearing:startBearing-deltaAngleX,pitch:startPitch-deltaAngleY};return this._getUpdatedState(newRotation)}rotateEnd(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})}zoomStart(){return this._getUpdatedState({startZoomPosition:this.getViewportProps().position})}zoom({scale:scale}){let{startZoomPosition:startZoomPosition}=this.getState();startZoomPosition||(startZoomPosition=this.getViewportProps().position);const direction=this.getDirection();return this._move(direction,20*Math.log2(scale),startZoomPosition)}zoomEnd(){return this._getUpdatedState({startZoomPosition:null})}moveLeft(speed=20){const direction=this.getDirection(!0);return this._move(direction.rotateZ({radians:Math.PI/2}),speed)}moveRight(speed=20){const direction=this.getDirection(!0);return this._move(direction.rotateZ({radians:-Math.PI/2}),speed)}moveUp(speed=20){const direction=this.getDirection(!0);return this._move(direction,speed)}moveDown(speed=20){const direction=this.getDirection(!0);return this._move(direction.negate(),speed)}rotateLeft(speed=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-speed})}rotateRight(speed=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+speed})}rotateUp(speed=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+speed})}rotateDown(speed=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-speed})}zoomIn(speed=2){return this.zoom({scale:speed})}zoomOut(speed=2){return this.zoom({scale:1/speed})}shortestPathFrom(viewState){const fromProps=viewState.getViewportProps(),props={...this.getViewportProps()},{bearing:bearing,longitude:longitude}=props;return Math.abs(bearing-fromProps.bearing)>180&&(props.bearing=bearing<0?bearing+360:bearing-360),null!==longitude&&null!==fromProps.longitude&&Math.abs(longitude-fromProps.longitude)>180&&(props.longitude=longitude<0?longitude+360:longitude-360),props}_move(direction,speed,fromPosition=this.getViewportProps().position){const delta=direction.scale(speed);return this._getUpdatedState({position:new _math_gl_core__WEBPACK_IMPORTED_MODULE_1__.Z(fromPosition).add(delta)})}getDirection(use2D=!1){return new _math_gl_core__WEBPACK_IMPORTED_MODULE_2__.Z({bearing:this.getViewportProps().bearing,pitch:use2D?90:90+this.getViewportProps().pitch}).toVector3().normalize()}_getUpdatedState(newProps){return new FirstPersonState({...this.getViewportProps(),...this.getState(),...newProps})}applyConstraints(props){const{pitch:pitch,maxPitch:maxPitch,minPitch:minPitch,longitude:longitude,bearing:bearing}=props;return props.pitch=(0,_math_gl_core__WEBPACK_IMPORTED_MODULE_3__.uZ)(pitch,minPitch,maxPitch),null!==longitude&&(longitude<-180||longitude>180)&&(props.longitude=(0,_utils_math_utils__WEBPACK_IMPORTED_MODULE_4__.wQ)(longitude+180,360)-180),(bearing<-180||bearing>180)&&(props.bearing=(0,_utils_math_utils__WEBPACK_IMPORTED_MODULE_4__.wQ)(bearing+180,360)-180),props}}class FirstPersonController extends _controller__WEBPACK_IMPORTED_MODULE_5__.Z{constructor(...args){super(...args),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__.Z)(this,"ControllerState",FirstPersonState),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new _transitions_linear_interpolator__WEBPACK_IMPORTED_MODULE_7__.Z(["position","pitch","bearing"])})}}},"./node_modules/@deck.gl/core/dist/esm/effects/lighting/camera-light.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return CameraLight}});var _point_light__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/effects/lighting/point-light.js"),_shaderlib_project_viewport_uniforms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project/viewport-uniforms.js");class CameraLight extends _point_light__WEBPACK_IMPORTED_MODULE_0__.c{getProjectedLight({layer:layer}){const{projectedLight:projectedLight}=this,viewport=layer.context.viewport,{coordinateSystem:coordinateSystem,coordinateOrigin:coordinateOrigin,modelMatrix:modelMatrix}=layer.props,{project_uCameraPosition:project_uCameraPosition}=(0,_shaderlib_project_viewport_uniforms__WEBPACK_IMPORTED_MODULE_1__.C)({viewport:viewport,modelMatrix:modelMatrix,coordinateSystem:coordinateSystem,coordinateOrigin:coordinateOrigin});return projectedLight.color=this.color,projectedLight.intensity=this.intensity,projectedLight.position=project_uCameraPosition,projectedLight}}},"./node_modules/@deck.gl/core/dist/esm/effects/lighting/point-light.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return PointLight}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_shaderlib_project_project_functions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project/project-functions.js"),_lib_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js");const DEFAULT_LIGHT_COLOR=[255,255,255],DEFAULT_LIGHT_INTENSITY=1,DEFAULT_ATTENUATION=[0,0,1],DEFAULT_LIGHT_POSITION=[0,0,1];let idCount=0;class PointLight{constructor(props={}){(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"id",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"color",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"intensity",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"type","point"),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"position",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"attenuation",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"projectedLight",void 0);const{color:color=DEFAULT_LIGHT_COLOR}=props,{intensity:intensity=DEFAULT_LIGHT_INTENSITY}=props,{position:position=DEFAULT_LIGHT_POSITION}=props;this.id=props.id||"point-".concat(idCount++),this.color=color,this.intensity=intensity,this.type="point",this.position=position,this.attenuation=function getAttenuation(props){if(props.attenuation)return props.attenuation;if("intensity"in props)return[0,0,props.intensity||0];return DEFAULT_ATTENUATION}(props),this.projectedLight={...this}}getProjectedLight({layer:layer}){const{projectedLight:projectedLight}=this,viewport=layer.context.viewport,{coordinateSystem:coordinateSystem,coordinateOrigin:coordinateOrigin}=layer.props,position=(0,_shaderlib_project_project_functions__WEBPACK_IMPORTED_MODULE_1__.D)(this.position,{viewport:viewport,coordinateSystem:coordinateSystem,coordinateOrigin:coordinateOrigin,fromCoordinateSystem:viewport.isGeospatial?_lib_constants__WEBPACK_IMPORTED_MODULE_2__.COORDINATE_SYSTEM.LNGLAT:_lib_constants__WEBPACK_IMPORTED_MODULE_2__.COORDINATE_SYSTEM.CARTESIAN,fromCoordinateOrigin:[0,0,0]});return projectedLight.color=this.color,projectedLight.intensity=this.intensity,projectedLight.position=position,projectedLight}}},"./node_modules/@deck.gl/core/dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AmbientLight:function(){return ambient_light.M},AttributeManager:function(){return attribute_manager.Z},COORDINATE_SYSTEM:function(){return constants.COORDINATE_SYSTEM},CompositeLayer:function(){return composite_layer.Z},Controller:function(){return controller.Z},Deck:function(){return deck.Z},DeckRenderer:function(){return deck_renderer.Z},DirectionalLight:function(){return directional_light.O},FirstPersonController:function(){return first_person_controller.Z},FirstPersonView:function(){return first_person_view.Z},FirstPersonViewport:function(){return first_person_viewport.Z},FlyToInterpolator:function(){return FlyToInterpolator},Layer:function(){return lib_layer.Z},LayerExtension:function(){return layer_extension.Z},LayerManager:function(){return layer_manager.Z},LightingEffect:function(){return lighting_effect.Z},LinearInterpolator:function(){return linear_interpolator.Z},MapController:function(){return map_controller.Z},MapView:function(){return map_view.Z},OPERATION:function(){return constants.k8},OrbitController:function(){return orbit_controller.Z},OrbitView:function(){return orbit_view.Z},OrbitViewport:function(){return orbit_viewport.Z},OrthographicController:function(){return orthographic_controller.Z},OrthographicView:function(){return orthographic_view.Z},OrthographicViewport:function(){return orthographic_viewport.Z},PointLight:function(){return point_light.c},PostProcessEffect:function(){return PostProcessEffect},TRANSITION_EVENTS:function(){return transition_manager.r},Tesselator:function(){return tesselator.Z},TransitionInterpolator:function(){return transition_interpolator.Z},UNIT:function(){return constants.iI},VERSION:function(){return init.q},View:function(){return view.Z},Viewport:function(){return viewport.Z},WebMercatorViewport:function(){return web_mercator_viewport.Z},_CameraLight:function(){return camera_light.Z},_GlobeController:function(){return GlobeController},_GlobeView:function(){return GlobeView},_GlobeViewport:function(){return globe_viewport.Z},_LayersPass:function(){return layers_pass.Z},_PickLayersPass:function(){return pick_layers_pass.Z},_SunLight:function(){return SunLight},_compareProps:function(){return props.tg},_count:function(){return count.Q},_deepEqual:function(){return deep_equal.v},_fillArray:function(){return flatten.k},_flatten:function(){return flatten.x},_memoize:function(){return memoize.Z},_mergeShaders:function(){return shader.l},assert:function(){return assert.Z},createIterable:function(){return iterable_utils.jB},fp64LowPart:function(){return math_utils.Ks},gouraudLighting:function(){return phong_lighting.N},log:function(){return log.Z},phongLighting:function(){return phong_lighting.s},picking:function(){return picking.Z},project:function(){return project.Z},project32:function(){return project32.Z},shadow:function(){return shadow.Z}});var init=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/init.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js"),lighting_effect=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/effects/lighting/lighting-effect.js"),ambient_light=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/effects/lighting/ambient-light.js"),directional_light=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/effects/lighting/directional-light.js"),point_light=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/effects/lighting/point-light.js"),camera_light=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/effects/lighting/camera-light.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");const DEGREES_TO_RADIANS=Math.PI/180,DAY_IN_MS=864e5,JD1970=2440588,JD2000=2451545,e=23.4397*DEGREES_TO_RADIANS,M0=357.5291,M1=.98560028,THETA0=280.147,THETA1=360.9856235;function getSunPosition(timestamp,latitude,longitude){const longitudeWestInRadians=DEGREES_TO_RADIANS*-longitude,phi=DEGREES_TO_RADIANS*latitude,d=function toDays(timestamp){return function toJulianDay(timestamp){const ts="number"==typeof timestamp?timestamp:timestamp.getTime();return ts/DAY_IN_MS-.5+JD1970}(timestamp)-JD2000}(timestamp),c=function getSunCoords(dates){const L=function getEclipticLongitude(meanAnomaly){const M=meanAnomaly,C=DEGREES_TO_RADIANS*(1.9148*Math.sin(M)+.02*Math.sin(2*M)+3e-4*Math.sin(3*M));return M+C+102.9372*DEGREES_TO_RADIANS+Math.PI}(function getSolarMeanAnomaly(days){return DEGREES_TO_RADIANS*(M0+M1*days)}(dates));return{declination:getDeclination(L,0),rightAscension:getRightAscension(L,0)}}(d),H=function getSiderealTime(dates,longitudeWestInRadians){return DEGREES_TO_RADIANS*(THETA0+THETA1*dates)-longitudeWestInRadians}(d,longitudeWestInRadians)-c.rightAscension;return{azimuth:getAzimuth(H,phi,c.declination),altitude:getAltitude(H,phi,c.declination)}}function getSunDirection(timestamp,latitude,longitude){const{azimuth:azimuth,altitude:altitude}=getSunPosition(timestamp,latitude,longitude);return[Math.sin(azimuth)*Math.cos(altitude),Math.cos(azimuth)*Math.cos(altitude),-Math.sin(altitude)]}function getRightAscension(eclipticLongitude,b){const lambda=eclipticLongitude;return Math.atan2(Math.sin(lambda)*Math.cos(e)-Math.tan(b)*Math.sin(e),Math.cos(lambda))}function getDeclination(eclipticLongitude,b){const lambda=eclipticLongitude;return Math.asin(Math.sin(b)*Math.cos(e)+Math.cos(b)*Math.sin(e)*Math.sin(lambda))}function getAzimuth(hourAngle,latitudeInRadians,declination){const H=hourAngle,phi=latitudeInRadians,delta=declination;return Math.atan2(Math.sin(H),Math.cos(H)*Math.sin(phi)-Math.tan(delta)*Math.cos(phi))}function getAltitude(hourAngle,latitudeInRadians,declination){const H=hourAngle,phi=latitudeInRadians,delta=declination;return Math.asin(Math.sin(phi)*Math.sin(delta)+Math.cos(phi)*Math.cos(delta)*Math.cos(H))}class SunLight extends directional_light.O{constructor(opts){super(opts),(0,defineProperty.Z)(this,"timestamp",void 0),this.timestamp=opts.timestamp}getProjectedLight({layer:layer}){const{viewport:viewport}=layer.context;if(viewport.resolution&&viewport.resolution>0){const[x,y,z]=getSunDirection(this.timestamp,0,0);this.direction=[x,-z,y]}else{const{latitude:latitude,longitude:longitude}=viewport;this.direction=getSunDirection(this.timestamp,latitude,longitude)}return this}}var clip_space=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/utils/clip-space.js"),esm=__webpack_require__("./node_modules/@luma.gl/gltools/dist/esm/index.js"),clear=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/clear.js"),pass=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/passes/pass.js");class ScreenPass extends pass.Z{constructor(gl,props){super(gl,props),(0,defineProperty.Z)(this,"model",void 0);const{module:module,fs:fs,id:id}=props;this.model=new clip_space.Z(gl,{id:id,fs:fs,modules:[module]})}render(params){const gl=this.gl;(0,esm.dR)(gl,{viewport:[0,0,gl.drawingBufferWidth,gl.drawingBufferHeight]}),(0,esm.s8)(gl,{framebuffer:params.outputBuffer,clearColor:[0,0,0,0]},(()=>this._renderPass(gl,params)))}delete(){this.model.delete(),this.model=null}_renderPass(gl,options){const{inputBuffer:inputBuffer}=options;(0,clear.Z)(gl,{color:!0}),this.model.draw({moduleSettings:options.moduleSettings,uniforms:{texture:inputBuffer,texSize:[inputBuffer.width,inputBuffer.height]},parameters:{depthWrite:!1,depthTest:!1}})}}var shader_module=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/lib/shader-module.js");class PostProcessEffect{constructor(module,props={}){(0,defineProperty.Z)(this,"id",void 0),(0,defineProperty.Z)(this,"props",void 0),(0,defineProperty.Z)(this,"module",void 0),(0,defineProperty.Z)(this,"passes",void 0),this.id="".concat(module.name,"-pass"),this.props=props,(0,shader_module.v)(module),this.module=module}setProps(props){this.props=props}preRender(){}postRender(gl,params){const passes=this.passes||function createPasses(gl,module,id){if(!module.passes){const fs=getFragmentShaderForRenderPass(module);return[new ScreenPass(gl,{id:id,module:module,fs:fs})]}return module.passes.map(((pass,index)=>{const fs=getFragmentShaderForRenderPass(module,pass),idn="".concat(id,"-").concat(index);return new ScreenPass(gl,{id:idn,module:module,fs:fs})}))}(gl,this.module,this.id);this.passes=passes;const{target:target}=params;let inputBuffer=params.inputBuffer,outputBuffer=params.swapBuffer;for(let index=0;index<this.passes.length;index++){target&&index===this.passes.length-1&&(outputBuffer=target),this.passes[index].render({inputBuffer:inputBuffer,outputBuffer:outputBuffer,moduleSettings:this.props});const switchBuffer=outputBuffer;outputBuffer=inputBuffer,inputBuffer=switchBuffer}return inputBuffer}cleanup(){if(this.passes){for(const pass of this.passes)pass.delete();this.passes=void 0}}}const FILTER_FS_TEMPLATE=func=>"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = texture2D(texture, texCoord);\n  gl_FragColor = ".concat(func,"(gl_FragColor, texSize, texCoord);\n}\n"),SAMPLER_FS_TEMPLATE=func=>"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = ".concat(func,"(texture, texSize, texCoord);\n}\n");function getFragmentShaderForRenderPass(module,pass=module){if(pass.filter){const func="string"==typeof pass.filter?pass.filter:"".concat(module.name,"_filterColor");return FILTER_FS_TEMPLATE(func)}if(pass.sampler){const func="string"==typeof pass.sampler?pass.sampler:"".concat(module.name,"_sampleColor");return SAMPLER_FS_TEMPLATE(func)}return null}var layers_pass=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/passes/layers-pass.js"),pick_layers_pass=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/passes/pick-layers-pass.js"),deck=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/deck.js"),layer_manager=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js"),attribute_manager=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/attribute/attribute-manager.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer.js"),composite_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/composite-layer.js"),deck_renderer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/deck-renderer.js"),viewport=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/viewport.js"),web_mercator_viewport=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/web-mercator-viewport.js"),globe_viewport=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/globe-viewport.js"),orbit_viewport=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/orbit-viewport.js"),orthographic_viewport=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/orthographic-viewport.js"),first_person_viewport=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/first-person-viewport.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js"),project=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project/project.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js"),phong_lighting=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/phong-lighting/phong-lighting.js"),shadow=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/shadow/shadow.js"),view=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/views/view.js"),map_view=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/views/map-view.js"),first_person_view=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/views/first-person-view.js"),orbit_view=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/views/orbit-view.js"),orthographic_view=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/views/orthographic-view.js"),common=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/common.js"),controller=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/controllers/controller.js"),map_controller=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/controllers/map-controller.js"),math_utils=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/math-utils.js"),linear_interpolator=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/transitions/linear-interpolator.js");class GlobeState extends map_controller.U{applyConstraints(props){const{maxZoom:maxZoom,minZoom:minZoom,zoom:zoom}=props;props.zoom=(0,common.uZ)(zoom,minZoom,maxZoom);const{longitude:longitude,latitude:latitude}=props;return(longitude<-180||longitude>180)&&(props.longitude=(0,math_utils.wQ)(longitude+180,360)-180),props.latitude=(0,common.uZ)(latitude,-89,89),props}}class GlobeController extends controller.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"ControllerState",GlobeState),(0,defineProperty.Z)(this,"transition",{transitionDuration:300,transitionInterpolator:new linear_interpolator.Z(["longitude","latitude","zoom"])}),(0,defineProperty.Z)(this,"dragMode","pan")}setProps(props){super.setProps(props),this.dragRotate=!1,this.touchRotate=!1}}class GlobeView extends view.Z{get ViewportType(){return globe_viewport.Z}get ControllerType(){return GlobeController}}(0,defineProperty.Z)(GlobeView,"displayName","GlobeView");var first_person_controller=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/controllers/first-person-controller.js"),orbit_controller=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/controllers/orbit-controller.js"),orthographic_controller=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/controllers/orthographic-controller.js"),layer_extension=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer-extension.js"),transition_manager=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/controllers/transition-manager.js"),transition_interpolator=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/transitions/transition-interpolator.js"),dist_esm=__webpack_require__("./node_modules/@math.gl/web-mercator/dist/esm/index.js");const LINEARLY_INTERPOLATED_PROPS={bearing:0,pitch:0,position:[0,0,0]},DEFAULT_OPTS={speed:1.2,curve:1.414};class FlyToInterpolator extends transition_interpolator.Z{constructor(opts={}){super({compare:["longitude","latitude","zoom","bearing","pitch","position"],extract:["width","height","longitude","latitude","zoom","bearing","pitch","position"],required:["width","height","latitude","longitude","zoom"]}),(0,defineProperty.Z)(this,"opts",void 0),this.opts={...DEFAULT_OPTS,...opts}}interpolateProps(startProps,endProps,t){const viewport=(0,dist_esm.if)(startProps,endProps,t,this.opts);for(const key in LINEARLY_INTERPOLATED_PROPS)viewport[key]=(0,common.t7)(startProps[key]||LINEARLY_INTERPOLATED_PROPS[key],endProps[key]||LINEARLY_INTERPOLATED_PROPS[key],t);return viewport}getDuration(startProps,endProps){let{transitionDuration:transitionDuration}=endProps;return"auto"===transitionDuration&&(transitionDuration=(0,dist_esm.up)(startProps,endProps,this.opts)),transitionDuration}}var log=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/log.js"),assert=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/assert.js"),iterable_utils=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/iterable-utils.js"),tesselator=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/tesselator.js"),flatten=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/flatten.js"),count=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/count.js"),deep_equal=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/deep-equal.js"),memoize=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/memoize.js"),shader=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/shader.js"),props=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lifecycle/props.js")},"./node_modules/@deck.gl/core/dist/esm/lib/layer-extension.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return LayerExtension}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_utils_deep_equal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/deep-equal.js");class LayerExtension{static get componentName(){return Object.prototype.hasOwnProperty.call(this,"extensionName")?this.extensionName:""}constructor(opts){(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"opts",void 0),opts&&(this.opts=opts)}equals(extension){return this===extension||this.constructor===extension.constructor&&(0,_utils_deep_equal__WEBPACK_IMPORTED_MODULE_1__.v)(this.opts,extension.opts,1)}getShaders(extension){return null}getSubLayerProps(extension){const{defaultProps:defaultProps}=extension.constructor,newProps={updateTriggers:{}};for(const key in defaultProps)if(key in this.props){const propDef=defaultProps[key],propValue=this.props[key];newProps[key]=propValue,propDef&&"accessor"===propDef.type&&(newProps.updateTriggers[key]=this.props.updateTriggers[key],"function"==typeof propValue&&(newProps[key]=this.getSubLayerAccessor(propValue)))}return newProps}initializeState(context,extension){}updateState(params,extension){}onNeedsRedraw(extension){}getNeedsPickingBuffer(extension){return!1}draw(params,extension){}finalizeState(context,extension){}}(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(LayerExtension,"defaultProps",{}),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(LayerExtension,"extensionName","LayerExtension")},"./node_modules/@deck.gl/core/dist/esm/utils/tesselator.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return Tesselator}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_iterable_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/iterable-utils.js"),_typed_array_manager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/typed-array-manager.js"),_assert__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/assert.js"),_luma_gl_webgl__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/buffer.js");class Tesselator{constructor(opts){(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"opts",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"typedArrayManager",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"indexStarts",[0]),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"vertexStarts",[0]),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"vertexCount",0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"instanceCount",0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"attributes",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"_attributeDefs",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"data",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"getGeometry",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"geometryBuffer",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"buffers",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"positionSize",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"normalize",void 0);const{attributes:attributes={}}=opts;this.typedArrayManager=_typed_array_manager__WEBPACK_IMPORTED_MODULE_1__.Z,this.attributes={},this._attributeDefs=attributes,this.opts=opts,this.updateGeometry(opts)}updateGeometry(opts){Object.assign(this.opts,opts);const{data:data,buffers:buffers={},getGeometry:getGeometry,geometryBuffer:geometryBuffer,positionFormat:positionFormat,dataChanged:dataChanged,normalize:normalize=!0}=this.opts;if(this.data=data,this.getGeometry=getGeometry,this.positionSize=geometryBuffer&&geometryBuffer.size||("XY"===positionFormat?2:3),this.buffers=buffers,this.normalize=normalize,geometryBuffer&&((0,_assert__WEBPACK_IMPORTED_MODULE_2__.Z)(data.startIndices),this.getGeometry=this.getGeometryFromBuffer(geometryBuffer),normalize||(buffers.positions=geometryBuffer)),this.geometryBuffer=buffers.positions,Array.isArray(dataChanged))for(const dataRange of dataChanged)this._rebuildGeometry(dataRange);else this._rebuildGeometry()}updatePartialGeometry({startRow:startRow,endRow:endRow}){this._rebuildGeometry({startRow:startRow,endRow:endRow})}getGeometryFromBuffer(geometryBuffer){const value=geometryBuffer.value||geometryBuffer;return ArrayBuffer.isView(value)?(0,_iterable_utils__WEBPACK_IMPORTED_MODULE_3__.jr)(value,{size:this.positionSize,offset:geometryBuffer.offset,stride:geometryBuffer.stride,startIndices:this.data.startIndices}):null}_allocate(instanceCount,copy){const{attributes:attributes,buffers:buffers,_attributeDefs:_attributeDefs,typedArrayManager:typedArrayManager}=this;for(const name in _attributeDefs)if(name in buffers)typedArrayManager.release(attributes[name]),attributes[name]=null;else{const def=_attributeDefs[name];def.copy=copy,attributes[name]=typedArrayManager.allocate(attributes[name],instanceCount,def)}}_forEachGeometry(visitor,startRow,endRow){const{data:data,getGeometry:getGeometry}=this,{iterable:iterable,objectInfo:objectInfo}=(0,_iterable_utils__WEBPACK_IMPORTED_MODULE_3__.jB)(data,startRow,endRow);for(const object of iterable){objectInfo.index++;visitor(getGeometry?getGeometry(object,objectInfo):null,objectInfo.index)}}_rebuildGeometry(dataRange){if(!this.data)return;let{indexStarts:indexStarts,vertexStarts:vertexStarts,instanceCount:instanceCount}=this;const{data:data,geometryBuffer:geometryBuffer}=this,{startRow:startRow=0,endRow:endRow=1/0}=dataRange||{},normalizedData={};if(dataRange||(indexStarts=[0],vertexStarts=[0]),this.normalize||!geometryBuffer)this._forEachGeometry(((geometry,dataIndex)=>{const normalizedGeometry=geometry&&this.normalizeGeometry(geometry);normalizedData[dataIndex]=normalizedGeometry,vertexStarts[dataIndex+1]=vertexStarts[dataIndex]+(normalizedGeometry?this.getGeometrySize(normalizedGeometry):0)}),startRow,endRow),instanceCount=vertexStarts[vertexStarts.length-1];else if(vertexStarts=data.startIndices,instanceCount=vertexStarts[data.length]||0,ArrayBuffer.isView(geometryBuffer))instanceCount=instanceCount||geometryBuffer.length/this.positionSize;else if(geometryBuffer instanceof _luma_gl_webgl__WEBPACK_IMPORTED_MODULE_4__.Z){const byteStride=geometryBuffer.accessor.stride||4*this.positionSize;instanceCount=instanceCount||geometryBuffer.byteLength/byteStride}else if(geometryBuffer.buffer){const byteStride=geometryBuffer.stride||4*this.positionSize;instanceCount=instanceCount||geometryBuffer.buffer.byteLength/byteStride}else if(geometryBuffer.value){const bufferValue=geometryBuffer.value,elementStride=geometryBuffer.stride/bufferValue.BYTES_PER_ELEMENT||this.positionSize;instanceCount=instanceCount||bufferValue.length/elementStride}this._allocate(instanceCount,Boolean(dataRange)),this.indexStarts=indexStarts,this.vertexStarts=vertexStarts,this.instanceCount=instanceCount;const context={};this._forEachGeometry(((geometry,dataIndex)=>{const normalizedGeometry=normalizedData[dataIndex]||geometry;context.vertexStart=vertexStarts[dataIndex],context.indexStart=indexStarts[dataIndex];const vertexEnd=dataIndex<vertexStarts.length-1?vertexStarts[dataIndex+1]:instanceCount;context.geometrySize=vertexEnd-vertexStarts[dataIndex],context.geometryIndex=dataIndex,this.updateGeometryAttributes(normalizedGeometry,context)}),startRow,endRow),this.vertexCount=indexStarts[indexStarts.length-1]}}},"./node_modules/@deck.gl/core/dist/esm/viewports/first-person-viewport.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return FirstPersonViewport}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_viewports_viewport__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/viewport.js"),_math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@math.gl/web-mercator/dist/esm/index.js"),_math_gl_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/spherical-coordinates.js"),_math_gl_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/matrix4.js");class FirstPersonViewport extends _viewports_viewport__WEBPACK_IMPORTED_MODULE_1__.Z{constructor(props){const{longitude:longitude,latitude:latitude,modelMatrix:modelMatrix,bearing:bearing=0,pitch:pitch=0,up:up=[0,0,1]}=props,dir=new _math_gl_core__WEBPACK_IMPORTED_MODULE_2__.Z({bearing:bearing,pitch:-90===pitch?1e-4:90+pitch}).toVector3().normalize(),center=modelMatrix?new _math_gl_core__WEBPACK_IMPORTED_MODULE_3__.Z(modelMatrix).transformAsVector(dir):dir,zoom=Number.isFinite(latitude)?(0,_math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.Bf)({latitude:latitude}):0,scale=Math.pow(2,zoom),viewMatrix=(new _math_gl_core__WEBPACK_IMPORTED_MODULE_3__.Z).lookAt({eye:[0,0,0],center:center,up:up}).scale(scale);super({...props,zoom:zoom,viewMatrix:viewMatrix}),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__.Z)(this,"longitude",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__.Z)(this,"latitude",void 0),this.latitude=latitude,this.longitude=longitude}}},"./node_modules/@deck.gl/core/dist/esm/viewports/globe-viewport.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return GlobeViewport}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_math_gl_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/matrix4.js"),_viewport__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/viewport.js"),_lib_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js"),gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/gl-matrix/esm/vec3.js"),gl_matrix_vec4__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/gl-matrix/esm/vec4.js");const DEGREES_TO_RADIANS=Math.PI/180,RADIANS_TO_DEGREES=180/Math.PI;function getDistanceScales(){const unitsPerMeter=256/6370972,unitsPerDegree=Math.PI/180*256;return{unitsPerMeter:[unitsPerMeter,unitsPerMeter,unitsPerMeter],unitsPerMeter2:[0,0,0],metersPerUnit:[24886.609375,24886.609375,24886.609375],unitsPerDegree:[unitsPerDegree,unitsPerDegree,unitsPerMeter],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/unitsPerDegree,1/unitsPerDegree,24886.609375]}}class GlobeViewport extends _viewport__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(opts={}){const{latitude:latitude=0,longitude:longitude=0,zoom:zoom=0,nearZMultiplier:nearZMultiplier=.1,farZMultiplier:farZMultiplier=2,resolution:resolution=10}=opts;let{height:height,altitude:altitude=1.5}=opts;height=height||1,altitude=Math.max(.75,altitude);const viewMatrix=(new _math_gl_core__WEBPACK_IMPORTED_MODULE_1__.Z).lookAt({eye:[0,-altitude,0],up:[0,0,1]}),scale=Math.pow(2,zoom);viewMatrix.rotateX(latitude*DEGREES_TO_RADIANS),viewMatrix.rotateZ(-longitude*DEGREES_TO_RADIANS),viewMatrix.scale(scale/height);const halfFov=Math.atan(.5/altitude),relativeScale=512*scale/height;super({...opts,height:height,viewMatrix:viewMatrix,longitude:longitude,latitude:latitude,zoom:zoom,distanceScales:getDistanceScales(),fovyRadians:2*halfFov,focalDistance:altitude,near:nearZMultiplier,far:Math.min(2,1/relativeScale+1)*altitude*farZMultiplier}),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.Z)(this,"longitude",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.Z)(this,"latitude",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.Z)(this,"resolution",void 0),this.latitude=latitude,this.longitude=longitude,this.resolution=resolution}get projectionMode(){return _lib_constants__WEBPACK_IMPORTED_MODULE_3__.zG.GLOBE}getDistanceScales(){return this.distanceScales}getBounds(options={}){const unprojectOption={targetZ:options.z||0},left=this.unproject([0,this.height/2],unprojectOption),top=this.unproject([this.width/2,0],unprojectOption),right=this.unproject([this.width,this.height/2],unprojectOption),bottom=this.unproject([this.width/2,this.height],unprojectOption);return right[0]<this.longitude&&(right[0]+=360),left[0]>this.longitude&&(left[0]-=360),[Math.min(left[0],right[0],top[0],bottom[0]),Math.min(left[1],right[1],top[1],bottom[1]),Math.max(left[0],right[0],top[0],bottom[0]),Math.max(left[1],right[1],top[1],bottom[1])]}unproject(xyz,{topLeft:topLeft=!0,targetZ:targetZ}={}){const[x,y,z]=xyz,y2=topLeft?y:this.height-y,{pixelUnprojectionMatrix:pixelUnprojectionMatrix}=this;let coord;if(Number.isFinite(z))coord=transformVector(pixelUnprojectionMatrix,[x,y2,z,1]);else{const coord0=transformVector(pixelUnprojectionMatrix,[x,y2,-1,1]),coord1=transformVector(pixelUnprojectionMatrix,[x,y2,1,1]),lt=256*((targetZ||0)/6370972+1),lSqr=gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_4__.x9(gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_4__.lu([],coord0,coord1)),l0Sqr=gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_4__.x9(coord0),l1Sqr=gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_4__.x9(coord1),dSqr=4*((4*l0Sqr*l1Sqr-(lSqr-l0Sqr-l1Sqr)**2)/16)/lSqr,t=(Math.sqrt(l0Sqr-dSqr)-Math.sqrt(Math.max(0,lt*lt-dSqr)))/Math.sqrt(lSqr);coord=gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_4__.t7([],coord0,coord1,t)}const[X,Y,Z]=this.unprojectPosition(coord);return Number.isFinite(z)?[X,Y,Z]:Number.isFinite(targetZ)?[X,Y,targetZ]:[X,Y]}projectPosition(xyz){const[lng,lat,Z=0]=xyz,lambda=lng*DEGREES_TO_RADIANS,phi=lat*DEGREES_TO_RADIANS,cosPhi=Math.cos(phi),D=256*(Z/6370972+1);return[Math.sin(lambda)*cosPhi*D,-Math.cos(lambda)*cosPhi*D,Math.sin(phi)*D]}unprojectPosition(xyz){const[x,y,z]=xyz,D=gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_4__.Zh(xyz),phi=Math.asin(z/D);return[Math.atan2(x,-y)*RADIANS_TO_DEGREES,phi*RADIANS_TO_DEGREES,6370972*(D/256-1)]}projectFlat(xyz){return xyz}unprojectFlat(xyz){return xyz}panByPosition(coords,pixel){const fromPosition=this.unproject(pixel);return{longitude:coords[0]-fromPosition[0]+this.longitude,latitude:coords[1]-fromPosition[1]+this.latitude}}}function transformVector(matrix,vector){const result=gl_matrix_vec4__WEBPACK_IMPORTED_MODULE_5__.fF([],vector,matrix);return gl_matrix_vec4__WEBPACK_IMPORTED_MODULE_5__.bA(result,result,1/result[3]),result}},"./node_modules/@deck.gl/core/dist/esm/viewports/orbit-viewport.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return OrbitViewport}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_viewports_viewport__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/viewport.js"),_math_gl_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/matrix4.js"),_math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@math.gl/web-mercator/dist/esm/index.js");const DEGREES_TO_RADIANS=Math.PI/180;function getViewMatrix({height:height,focalDistance:focalDistance,orbitAxis:orbitAxis,rotationX:rotationX,rotationOrbit:rotationOrbit,zoom:zoom}){const up="Z"===orbitAxis?[0,0,1]:[0,1,0],eye="Z"===orbitAxis?[0,-focalDistance,0]:[0,0,focalDistance],viewMatrix=(new _math_gl_core__WEBPACK_IMPORTED_MODULE_1__.Z).lookAt({eye:eye,up:up});viewMatrix.rotateX(rotationX*DEGREES_TO_RADIANS),"Z"===orbitAxis?viewMatrix.rotateZ(rotationOrbit*DEGREES_TO_RADIANS):viewMatrix.rotateY(rotationOrbit*DEGREES_TO_RADIANS);const projectionScale=Math.pow(2,zoom)/height;return viewMatrix.scale(projectionScale),viewMatrix}class OrbitViewport extends _viewports_viewport__WEBPACK_IMPORTED_MODULE_2__.Z{constructor(props){const{height:height,projectionMatrix:projectionMatrix,fovy:fovy=50,orbitAxis:orbitAxis="Z",target:target=[0,0,0],rotationX:rotationX=0,rotationOrbit:rotationOrbit=0,zoom:zoom=0}=props,focalDistance=projectionMatrix?projectionMatrix[5]/2:(0,_math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.sj)(fovy);super({...props,longitude:void 0,viewMatrix:getViewMatrix({height:height||1,focalDistance:focalDistance,orbitAxis:orbitAxis,rotationX:rotationX,rotationOrbit:rotationOrbit,zoom:zoom}),fovy:fovy,focalDistance:focalDistance,position:target,zoom:zoom}),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__.Z)(this,"projectedCenter",void 0),this.projectedCenter=this.project(this.center)}unproject(xyz,{topLeft:topLeft=!0}={}){const[x,y,z=this.projectedCenter[2]]=xyz,y2=topLeft?y:this.height-y,[X,Y,Z]=(0,_math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.CT)([x,y2,z],this.pixelUnprojectionMatrix);return[X,Y,Z]}panByPosition(coords,pixel){const p0=this.project(coords),nextCenter=[this.width/2+p0[0]-pixel[0],this.height/2+p0[1]-pixel[1],this.projectedCenter[2]];return{target:this.unproject(nextCenter)}}}},"./node_modules/@deck.gl/core/dist/esm/views/first-person-view.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return FirstPersonView}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_view__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/views/view.js"),_viewports_first_person_viewport__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/first-person-viewport.js"),_controllers_first_person_controller__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/controllers/first-person-controller.js");class FirstPersonView extends _view__WEBPACK_IMPORTED_MODULE_0__.Z{get ViewportType(){return _viewports_first_person_viewport__WEBPACK_IMPORTED_MODULE_1__.Z}get ControllerType(){return _controllers_first_person_controller__WEBPACK_IMPORTED_MODULE_2__.Z}}(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__.Z)(FirstPersonView,"displayName","FirstPersonView")},"./node_modules/@deck.gl/core/dist/esm/views/orbit-view.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return OrbitView}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_view__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/views/view.js"),_viewports_orbit_viewport__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/orbit-viewport.js"),_controllers_orbit_controller__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/controllers/orbit-controller.js");class OrbitView extends _view__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(props={}){super(props),this.props.orbitAxis=props.orbitAxis||"Z"}get ViewportType(){return _viewports_orbit_viewport__WEBPACK_IMPORTED_MODULE_1__.Z}get ControllerType(){return _controllers_orbit_controller__WEBPACK_IMPORTED_MODULE_2__.Z}}(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__.Z)(OrbitView,"displayName","OrbitView")},"./node_modules/@deck.gl/extensions/dist/esm/path-style/path-style-extension.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return PathStyleExtension}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),layer_extension=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer-extension.js"),shader=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/shader.js");const dashShaders={inject:{"vs:#decl":"\nattribute vec2 instanceDashArrays;\nattribute float instanceDashOffsets;\nvarying vec2 vDashArray;\nvarying float vDashOffset;\n","vs:#main-end":"\nvDashArray = instanceDashArrays;\nvDashOffset = instanceDashOffsets / width.x;\n","fs:#decl":"\nuniform float dashAlignMode;\nuniform float capType;\nuniform bool dashGapPickable;\nvarying vec2 vDashArray;\nvarying float vDashOffset;\n\nfloat round(float x) {\n  return floor(x + 0.5);\n}\n","fs:#main-start":"\n  float solidLength = vDashArray.x;\n  float gapLength = vDashArray.y;\n  float unitLength = solidLength + gapLength;\n\n  float offset;\n\n  if (unitLength > 0.0) {\n    if (dashAlignMode == 0.0) {\n      offset = vDashOffset;\n    } else {\n      unitLength = vPathLength / round(vPathLength / unitLength);\n      offset = solidLength / 2.0;\n    }\n\n    float unitOffset = mod(clamp(vPathPosition.y, 0.0, vPathLength) + offset, unitLength);\n\n    if (gapLength > 0.0 && unitOffset > solidLength) {\n      if (capType <= 0.5) {\n        if (!(dashGapPickable && picking_uActive)) {\n          discard;\n        }\n      } else {\n        float distToEnd = length(vec2(\n          min(unitOffset - solidLength, unitLength - unitOffset),\n          vPathPosition.x\n        ));\n        if (distToEnd > 1.0) {\n          if (!(dashGapPickable && picking_uActive)) {\n            discard;\n          }\n        }\n      }\n    }\n  }\n"}},offsetShaders={inject:{"vs:#decl":"\nattribute float instanceOffsets;\n","vs:DECKGL_FILTER_SIZE":"\n  float offsetWidth = abs(instanceOffsets * 2.0) + 1.0;\n  size *= offsetWidth;\n","vCornerOffset = offsetVec;":"\n  float offsetWidth = abs(instanceOffsets * 2.0) + 1.0;\n  vec2 offsetCenter = -instanceOffsets * (isCap ? perp : miterVec * miterSize) * 2.0;\n  vCornerOffset = vCornerOffset * offsetWidth - offsetCenter;\n","fs:#main-start":"\n  float isInside;\n  isInside = step(-1.0, vPathPosition.x) * step(vPathPosition.x, 1.0);\n  if (isInside == 0.0) {\n    discard;\n  }\n"}};var vec3=__webpack_require__("./node_modules/gl-matrix/esm/vec3.js");class PathStyleExtension extends layer_extension.Z{constructor({dash:dash=!1,offset:offset=!1,highPrecisionDash:highPrecisionDash=!1}={}){super({dash:dash||highPrecisionDash,offset:offset,highPrecisionDash:highPrecisionDash})}isEnabled(layer){return"pathTesselator"in layer.state}getShaders(extension){if(!extension.isEnabled(this))return null;let result={};return extension.opts.dash&&(result=(0,shader.l)(result,dashShaders)),extension.opts.offset&&(result=(0,shader.l)(result,offsetShaders)),result}initializeState(context,extension){const attributeManager=this.getAttributeManager();attributeManager&&extension.isEnabled(this)&&(extension.opts.dash&&attributeManager.addInstanced({instanceDashArrays:{size:2,accessor:"getDashArray"}}),extension.opts.highPrecisionDash&&attributeManager.addInstanced({instanceDashOffsets:{size:1,accessor:"getPath",transform:extension.getDashOffsets.bind(this)}}),extension.opts.offset&&attributeManager.addInstanced({instanceOffsets:{size:1,accessor:"getOffset"}}))}updateState(params,extension){if(!extension.isEnabled(this))return;const uniforms={};extension.opts.dash&&(uniforms.dashAlignMode=this.props.dashJustified?1:0,uniforms.dashGapPickable=Boolean(this.props.dashGapPickable)),this.state.model.setUniforms(uniforms)}getDashOffsets(path){const result=[0],positionSize="XY"===this.props.positionFormat?2:3,isNested=Array.isArray(path[0]),geometrySize=isNested?path.length:path.length/positionSize;let p,prevP;for(let i=0;i<geometrySize-1;i++)p=isNested?path[i]:path.slice(i*positionSize,i*positionSize+positionSize),p=this.projectPosition(p),i>0&&(result[i]=result[i-1]+(0,vec3.TK)(prevP,p)),prevP=p;return result}}(0,defineProperty.Z)(PathStyleExtension,"defaultProps",{getDashArray:{type:"accessor",value:[0,0]},getOffset:{type:"accessor",value:0},dashJustified:!1,dashGapPickable:!1}),(0,defineProperty.Z)(PathStyleExtension,"extensionName","PathStyleExtension")},"./node_modules/@deck.gl/geo-layers/dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GeohashLayer:function(){return GeohashLayer},GreatCircleLayer:function(){return GreatCircleLayer},H3ClusterLayer:function(){return H3ClusterLayer},H3HexagonLayer:function(){return H3HexagonLayer},MVTLayer:function(){return MVTLayer},QuadkeyLayer:function(){return QuadkeyLayer},S2Layer:function(){return S2Layer},TerrainLayer:function(){return TerrainLayer},Tile3DLayer:function(){return Tile3DLayer},TileLayer:function(){return TileLayer},TripsLayer:function(){return TripsLayer},_GeoCellLayer:function(){return GeoCellLayer},_Tile2DHeader:function(){return Tile2DHeader},_Tileset2D:function(){return Tileset2D},_WMSLayer:function(){return WMSLayer},_getURLFromTemplate:function(){return getURLFromTemplate}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),composite_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/composite-layer.js"),deep_equal=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/deep-equal.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js"),bitmap_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/bitmap-layer/bitmap-layer.js");class DataSource{constructor(props){(0,defineProperty.Z)(this,"fetch",void 0),(0,defineProperty.Z)(this,"loadOptions",void 0),(0,defineProperty.Z)(this,"_needsRefresh",!0),(0,defineProperty.Z)(this,"props",void 0),this.props={...props},this.loadOptions={...props.loadOptions},this.fetch=function getFetchFunction(options){const fetchFunction=null==options?void 0:options.fetch;if(fetchFunction&&"function"==typeof fetchFunction)return(url,fetchOptions)=>fetchFunction(url,fetchOptions);const fetchOptions=null==options?void 0:options.fetch;if(fetchOptions&&"function"!=typeof fetchOptions)return url=>fetch(url,fetchOptions);return url=>fetch(url)}(this.loadOptions)}setProps(props){this.props=Object.assign(this.props,props),this.setNeedsRefresh()}setNeedsRefresh(){this._needsRefresh=!0}getNeedsRefresh(){let clear=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const needsRefresh=this._needsRefresh;return clear&&(this._needsRefresh=!1),needsRefresh}}class ImageSource extends DataSource{}function assert_assert(condition,message){if(!condition)throw new Error(message||"loader assertion failed.")}var process=__webpack_require__("./node_modules/process/browser.js");"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,void 0!==__webpack_require__.g&&__webpack_require__.g,"undefined"!=typeof document&&document;const isBrowser=Boolean("object"!=typeof process||"[object process]"!==String(process)||process.browser),matches=void 0!==process&&process.version&&/v([0-9]*)/.exec(process.version),{_parseImageNode:_parseImageNode}=(matches&&parseFloat(matches[1]),globalThis),IMAGE_SUPPORTED="undefined"!=typeof Image,IMAGE_BITMAP_SUPPORTED="undefined"!=typeof ImageBitmap,NODE_IMAGE_SUPPORTED=Boolean(_parseImageNode),DATA_SUPPORTED=!!isBrowser||NODE_IMAGE_SUPPORTED;function getImageType(image){const format=getImageTypeOrNull(image);if(!format)throw new Error("Not an image");return format}function getImageData(image){switch(getImageType(image)){case"data":return image;case"image":case"imagebitmap":const canvas=document.createElement("canvas"),context=canvas.getContext("2d");if(!context)throw new Error("getImageData");return canvas.width=image.width,canvas.height=image.height,context.drawImage(image,0,0),context.getImageData(0,0,image.width,image.height);default:throw new Error("getImageData")}}function getImageTypeOrNull(image){return"undefined"!=typeof ImageBitmap&&image instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&image instanceof Image?"image":image&&"object"==typeof image&&image.data&&image.width&&image.height?"data":null}const SVG_DATA_URL_PATTERN=/^data:image\/svg\+xml/,SVG_URL_PATTERN=/\.svg((\?|#).*)?$/;function isSVG(url){return url&&(SVG_DATA_URL_PATTERN.test(url)||SVG_URL_PATTERN.test(url))}function getBlob(arrayBuffer,url){if(isSVG(url))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(arrayBuffer)])}async function parseToImage(arrayBuffer,options,url){const blobOrDataUrl=function getBlobOrSVGDataUrl(arrayBuffer,url){if(isSVG(url)){let xmlText=(new TextDecoder).decode(arrayBuffer);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(xmlText=unescape(encodeURIComponent(xmlText)))}catch(error){throw new Error(error.message)}return"data:image/svg+xml;base64,".concat(btoa(xmlText))}return getBlob(arrayBuffer,url)}(arrayBuffer,url),URL=self.URL||self.webkitURL,objectUrl="string"!=typeof blobOrDataUrl&&URL.createObjectURL(blobOrDataUrl);try{return await async function loadToImage(url,options){const image=new Image;if(image.src=url,options.image&&options.image.decode&&image.decode)return await image.decode(),image;return await new Promise(((resolve,reject)=>{try{image.onload=()=>resolve(image),image.onerror=err=>reject(new Error("Could not load image ".concat(url,": ").concat(err)))}catch(error){reject(error)}}))}(objectUrl||blobOrDataUrl,options)}finally{objectUrl&&URL.revokeObjectURL(objectUrl)}}const EMPTY_OBJECT={};let imagebitmapOptionsSupported=!0;async function parseToImageBitmap(arrayBuffer,options,url){let blob;if(isSVG(url)){blob=await parseToImage(arrayBuffer,options,url)}else blob=getBlob(arrayBuffer,url);const imagebitmapOptions=options&&options.imagebitmap;return await async function safeCreateImageBitmap(blob){let imagebitmapOptions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function isEmptyObject(object){for(const key in object||EMPTY_OBJECT)return!1;return!0}(imagebitmapOptions)&&imagebitmapOptionsSupported||(imagebitmapOptions=null);if(imagebitmapOptions)try{return await createImageBitmap(blob,imagebitmapOptions)}catch(error){console.warn(error),imagebitmapOptionsSupported=!1}return await createImageBitmap(blob)}(blob,imagebitmapOptions)}function getISOBMFFMediaType(buffer){return function checkString(buffer,header){let offset=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const headerBytes=function stringToBytes(string){return[...string].map((character=>character.charCodeAt(0)))}(header);for(let i=0;i<headerBytes.length;++i)if(headerBytes[i]!==buffer[i+offset])return!1;return!0}(buffer,"ftyp",4)?0==(96&buffer[8])?null:function decodeMajorBrand(buffer){switch(function getUTF8String(array,start,end){return String.fromCharCode(...array.slice(start,end))}(buffer,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(buffer):null}const BIG_ENDIAN=!1,LITTLE_ENDIAN=!0;function getBinaryImageMetadata(binaryData){const dataView=toDataView(binaryData);return function getPngMetadata(binaryData){const dataView=toDataView(binaryData),isPng=dataView.byteLength>=24&&2303741511===dataView.getUint32(0,BIG_ENDIAN);if(!isPng)return null;return{mimeType:"image/png",width:dataView.getUint32(16,BIG_ENDIAN),height:dataView.getUint32(20,BIG_ENDIAN)}}(dataView)||function getJpegMetadata(binaryData){const dataView=toDataView(binaryData),isJpeg=dataView.byteLength>=3&&65496===dataView.getUint16(0,BIG_ENDIAN)&&255===dataView.getUint8(2);if(!isJpeg)return null;const{tableMarkers:tableMarkers,sofMarkers:sofMarkers}=function getJpegMarkers(){const tableMarkers=new Set([65499,65476,65484,65501,65534]);for(let i=65504;i<65520;++i)tableMarkers.add(i);const sofMarkers=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:tableMarkers,sofMarkers:sofMarkers}}();let i=2;for(;i+9<dataView.byteLength;){const marker=dataView.getUint16(i,BIG_ENDIAN);if(sofMarkers.has(marker))return{mimeType:"image/jpeg",height:dataView.getUint16(i+5,BIG_ENDIAN),width:dataView.getUint16(i+7,BIG_ENDIAN)};if(!tableMarkers.has(marker))return null;i+=2,i+=dataView.getUint16(i,BIG_ENDIAN)}return null}(dataView)||function getGifMetadata(binaryData){const dataView=toDataView(binaryData),isGif=dataView.byteLength>=10&&1195984440===dataView.getUint32(0,BIG_ENDIAN);if(!isGif)return null;return{mimeType:"image/gif",width:dataView.getUint16(6,LITTLE_ENDIAN),height:dataView.getUint16(8,LITTLE_ENDIAN)}}(dataView)||function getBmpMetadata(binaryData){const dataView=toDataView(binaryData),isBmp=dataView.byteLength>=14&&16973===dataView.getUint16(0,BIG_ENDIAN)&&dataView.getUint32(2,LITTLE_ENDIAN)===dataView.byteLength;if(!isBmp)return null;return{mimeType:"image/bmp",width:dataView.getUint32(18,LITTLE_ENDIAN),height:dataView.getUint32(22,LITTLE_ENDIAN)}}(dataView)||function getISOBMFFMetadata(binaryData){const buffer=new Uint8Array(binaryData instanceof DataView?binaryData.buffer:binaryData),mediaType=getISOBMFFMediaType(buffer);if(!mediaType)return null;return{mimeType:mediaType.mimeType,width:0,height:0}}(dataView)}function toDataView(data){if(data instanceof DataView)return data;if(ArrayBuffer.isView(data))return new DataView(data.buffer);if(data instanceof ArrayBuffer)return new DataView(data);throw new Error("toDataView")}const ImageLoader={id:"image",module:"images",name:"Images",version:"3.4.5",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:async function parseImage(arrayBuffer,options,context){const imageType=((options=options||{}).image||{}).type||"auto",{url:url}=context||{};let image;switch(function getLoadableImageType(type){switch(type){case"auto":case"data":return function getDefaultImageType(){if(IMAGE_BITMAP_SUPPORTED)return"imagebitmap";if(IMAGE_SUPPORTED)return"image";if(DATA_SUPPORTED)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function isImageTypeSupported(type){switch(type){case"auto":return IMAGE_BITMAP_SUPPORTED||IMAGE_SUPPORTED||DATA_SUPPORTED;case"imagebitmap":return IMAGE_BITMAP_SUPPORTED;case"image":return IMAGE_SUPPORTED;case"data":return DATA_SUPPORTED;default:throw new Error("@loaders.gl/images: image ".concat(type," not supported in this environment"))}}(type),type}}(imageType)){case"imagebitmap":image=await parseToImageBitmap(arrayBuffer,options,url);break;case"image":image=await parseToImage(arrayBuffer,options,url);break;case"data":image=await async function parseToNodeImage(arrayBuffer,options){const{mimeType:mimeType}=getBinaryImageMetadata(arrayBuffer)||{},_parseImageNode=globalThis._parseImageNode;return assert_assert(_parseImageNode),await _parseImageNode(arrayBuffer,mimeType)}(arrayBuffer);break;default:assert_assert(!1)}return"data"===imageType&&(image=getImageData(image)),image},tests:[arrayBuffer=>Boolean(getBinaryImageMetadata(new DataView(arrayBuffer)))],options:{image:{type:"auto",decode:!0}}};class ImageService extends ImageSource{constructor(props){super(props)}async getMetadata(){throw new Error("ImageSource.getMetadata not implemented")}async getImage(parameters){const granularParameters=this.getGranularParameters(parameters),url=this.getURLFromTemplate(granularParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();return await ImageLoader.parse(arrayBuffer)}getGranularParameters(parameters){const[east,north,west,south]=parameters.bbox;return{...parameters,east:east,north:north,south:south,west:west}}getURLFromTemplate(parameters){let url=this.props.url;for(const[key,value]of Object.entries(parameters))url=url.replace("${".concat(key,"}"),String(value)),url=url.replace("{".concat(key,"}"),String(value));return url}}(0,defineProperty.Z)(ImageService,"type","template"),(0,defineProperty.Z)(ImageService,"testURL",(url=>url.toLowerCase().includes("{")));var fxp=__webpack_require__("./node_modules/fast-xml-parser/src/fxp.js");function uncapitalizeKeys(object){if(Array.isArray(object))return object.map((element=>uncapitalizeKeys(element)));if(object&&"object"==typeof object){const newObject={};for(const[key,value]of Object.entries(object))newObject[(str=key,"string"==typeof str?str.charAt(0).toLowerCase()+str.slice(1):str)]=uncapitalizeKeys(value);return newObject}var str;return object}const XMLLoader={name:"XML",id:"xml",module:"xml",version:"3.4.5",worker:!1,extensions:["xml"],mimeTypes:["application/xml","text/xml"],testText:function testXMLFile(text){return text.startsWith("<?xml")},options:{xml:{parser:"fast-xml-parser",uncapitalizeKeys:!1,removeNSPrefix:!1,textNodeName:"value",arrayPaths:[]}},parse:async(arrayBuffer,options)=>parseTextSync((new TextDecoder).decode(arrayBuffer),options),parseTextSync:(text,options)=>parseTextSync(text,options)};function parseTextSync(text,options){var _options$xml;const xmlOptions={...XMLLoader.options.xml,...null==options?void 0:options.xml};if("fast-xml-parser"===xmlOptions.parser){const fastXMLOptions={allowBooleanAttributes:!0,ignoreDeclaration:!0,removeNSPrefix:xmlOptions.removeNSPrefix,textNodeName:xmlOptions.textNodeName,isArray:(name,jpath,isLeafNode,isAttribute)=>{var _xmlOptions$arrayPath;const array=Boolean(null==xmlOptions||null===(_xmlOptions$arrayPath=xmlOptions.arrayPaths)||void 0===_xmlOptions$arrayPath?void 0:_xmlOptions$arrayPath.some((path=>jpath===path)));return array},...null==options?void 0:options._fastXML},xml=function fastParseXML(text,options){return new fxp.XMLParser({ignoreAttributes:!1,attributeNamePrefix:"",...options}).parse(text)}(text,fastXMLOptions);return xmlOptions.uncapitalizeKeys?uncapitalizeKeys(xml):xml}throw new Error(null==options||null===(_options$xml=options.xml)||void 0===_options$xml?void 0:_options$xml.parser)}function getXMLArray(xmlValue){return Array.isArray(xmlValue)?xmlValue:xmlValue?[xmlValue]:[]}function getXMLStringArray(xmlValue){const xmlArray=getXMLArray(xmlValue);return xmlArray.length>0&&xmlArray.every((_=>"string"==typeof _))?xmlArray:[]}function getXMLFloat(xmlValue){switch(typeof xmlValue){case"number":return xmlValue;case"string":return parseFloat(xmlValue);default:return}}function getXMLInteger(xmlValue){switch(typeof xmlValue){case"number":return xmlValue;case"string":return parseInt(xmlValue,10);default:return}}function getXMLBoolean(xmlValue){switch(xmlValue){case"true":case"1":return!0;default:return!1}}function parseWMSCapabilities(xmlText,options){const parsedXML=XMLLoader.parseTextSync(xmlText,options),xmlCapabilities=parsedXML.WMT_MS_Capabilities||parsedXML.WMS_Capabilities||parsedXML,capabilities=function extractCapabilities(xml){var _xml$Service,_xml$Service2,_xml$Service3,_xml$Service4,_xml$Service5,_xml$Service6,_xml$Service6$Keyword,_xml$Service7,_xml$Service8,_xml$Service9,_xml$Service10,_xml$Service11,_xml$Service12,_xml$Service13,_xml$Capability,_xml$Capability2;const capabilities={version:String(xml.version||""),name:String((null===(_xml$Service=xml.Service)||void 0===_xml$Service?void 0:_xml$Service.Name)||"unnamed"),title:null!==(_xml$Service2=xml.Service)&&void 0!==_xml$Service2&&_xml$Service2.Title?String(null===(_xml$Service3=xml.Service)||void 0===_xml$Service3?void 0:_xml$Service3.Title):void 0,abstract:null!==(_xml$Service4=xml.Service)&&void 0!==_xml$Service4&&_xml$Service4.Abstract?String(null===(_xml$Service5=xml.Service)||void 0===_xml$Service5?void 0:_xml$Service5.Abstract):void 0,keywords:getXMLStringArray(null===(_xml$Service6=xml.Service)||void 0===_xml$Service6||null===(_xml$Service6$Keyword=_xml$Service6.KeywordList)||void 0===_xml$Service6$Keyword?void 0:_xml$Service6$Keyword.Keyword),fees:null!==(_xml$Service7=xml.Service)&&void 0!==_xml$Service7&&_xml$Service7.Fees?JSON.stringify(null===(_xml$Service8=xml.Service)||void 0===_xml$Service8?void 0:_xml$Service8.Fees):void 0,accessConstraints:null!==(_xml$Service9=xml.Service)&&void 0!==_xml$Service9&&_xml$Service9.AccessConstraints?JSON.stringify(null===(_xml$Service10=xml.Service)||void 0===_xml$Service10?void 0:_xml$Service10.AccessConstraints):void 0,layerLimit:getXMLInteger(null===(_xml$Service11=xml.Service)||void 0===_xml$Service11?void 0:_xml$Service11.LayerLimit),maxWidth:getXMLInteger(null===(_xml$Service12=xml.Service)||void 0===_xml$Service12?void 0:_xml$Service12.maxWidth),maxHeight:getXMLInteger(null===(_xml$Service13=xml.Service)||void 0===_xml$Service13?void 0:_xml$Service13.maxHeight),layers:[],requests:extractRequests(null===(_xml$Capability=xml.Capability)||void 0===_xml$Capability?void 0:_xml$Capability.Request),exceptions:extractExceptions(xml.Exception)},xmlLayers=getXMLArray(null===(_xml$Capability2=xml.Capability)||void 0===_xml$Capability2?void 0:_xml$Capability2.Layer);for(const xmlSubLayer of xmlLayers)capabilities.layers.push(extractLayer(xmlSubLayer));for(const[key,value]of Object.entries(capabilities))void 0===value&&delete capabilities[key];return capabilities}(xmlCapabilities);if(null!=options&&options.inheritedLayerProps)for(const layer of capabilities.layers)addInheritedLayerProps(layer,null);return(null!=options&&options.includeRawData||null!=options&&options.raw)&&(capabilities.raw=xmlCapabilities),null!=options&&options.includeXMLText&&(capabilities.xml=xmlText),capabilities}function extractRequests(xmlRequests){const requests={};for(const[name,xmlRequest]of Object.entries(xmlRequests||{})){const mimeTypes=getXMLStringArray(null==xmlRequest?void 0:xmlRequest.Format);requests[name]={mimeTypes:mimeTypes}}return requests}function extractExceptions(xmlException){if(getXMLArray(null==xmlException?void 0:xmlException.Format).length>0)return{mimeTypes:getXMLStringArray(xmlException)}}function extractLayer(xmlLayer){var _xmlLayer$KeywordList;const layer={title:String((null==xmlLayer?void 0:xmlLayer.Title)||""),name:(null==xmlLayer?void 0:xmlLayer.Name)&&String(null==xmlLayer?void 0:xmlLayer.Name),abstract:(null==xmlLayer?void 0:xmlLayer.Name)&&String(null==xmlLayer?void 0:xmlLayer.Abstract),keywords:getXMLStringArray(null===(_xmlLayer$KeywordList=xmlLayer.KeywordList)||void 0===_xmlLayer$KeywordList?void 0:_xmlLayer$KeywordList.Keyword)},crs=(null==xmlLayer?void 0:xmlLayer.CRS)||(null==xmlLayer?void 0:xmlLayer.SRS);crs&&Array.isArray(crs)&&crs.every((_=>"string"==typeof _))&&(layer.crs=crs);let geographicBoundingBox=(null==xmlLayer?void 0:xmlLayer.EX_GeographicBoundingBox)&&function extractEXBoundingBox(xmlBoundingBox){const{westBoundLongitude:w,northBoundLatitude:n,eastBoundLongitude:e,southBoundLatitude:s}=xmlBoundingBox;return[[w,s],[e,n]]}(null==xmlLayer?void 0:xmlLayer.EX_GeographicBoundingBox);geographicBoundingBox&&(layer.geographicBoundingBox=geographicBoundingBox),geographicBoundingBox=(null==xmlLayer?void 0:xmlLayer.LatLonBoundingBox)&&function extractLatLonBoundingBox(xmlBoundingBox){const{minx:minx,miny:miny,maxx:maxx,maxy:maxy}=xmlBoundingBox;return[[minx,miny],[maxx,maxy]]}(null==xmlLayer?void 0:xmlLayer.LatLonBoundingBox),geographicBoundingBox&&(layer.geographicBoundingBox=geographicBoundingBox);const boundingBoxes=(null==xmlLayer?void 0:xmlLayer.BoundingBox)&&function extractWMSBoundingBoxes(xmlBoundingBoxes){return getXMLArray(xmlBoundingBoxes).map((xmlBox=>function extractWMSBoundingBox(xmlBoundingBox){const{CRS:CRS,SRS:SRS,minx:minx,miny:miny,maxx:maxx,maxy:maxy,resx:resx,resy:resy}=xmlBoundingBox,boundingBox={crs:CRS||SRS,boundingBox:[[getXMLFloat(minx),getXMLFloat(miny)],[getXMLFloat(maxx),getXMLFloat(maxy)]]};resx&&(boundingBox.xResolution=resx);resy&&(boundingBox.yResolution=resy);return boundingBox}(xmlBox)))}(null==xmlLayer?void 0:xmlLayer.BoundingBox);boundingBoxes&&boundingBoxes.length>0&&(layer.boundingBoxes=boundingBoxes);const dimensions=getXMLArray(null==xmlLayer?void 0:xmlLayer.Dimension).map((xml=>function extractDimension(xmlDimension){const{name:name,units:units,value:extent}=xmlDimension,dimension={name:name,units:units,extent:extent};xmlDimension.unitSymbol&&(dimension.unitSymbol=xmlDimension.unitSymbol);xmlDimension.default&&(dimension.defaultValue=xmlDimension.default);xmlDimension.multipleValues&&(dimension.multipleValues=getXMLBoolean(xmlDimension.multipleValues));xmlDimension.nearestValue&&(dimension.nearestValue=getXMLBoolean(xmlDimension.nearestValue));xmlDimension.current&&(dimension.current=getXMLBoolean(xmlDimension.current));return dimension}(xml)));dimensions.length&&(layer.dimensions=dimensions),null!=xmlLayer&&xmlLayer.opaque&&(layer.opaque=getXMLBoolean(null==xmlLayer?void 0:xmlLayer.opaque)),null!=xmlLayer&&xmlLayer.cascaded&&(layer.cascaded=getXMLBoolean(null==xmlLayer?void 0:xmlLayer.cascaded)),null!=xmlLayer&&xmlLayer.queryable&&(layer.queryable=getXMLBoolean(null==xmlLayer?void 0:xmlLayer.queryable));const xmlLayers=getXMLArray(null==xmlLayer?void 0:xmlLayer.Layer),layers=[];for(const xmlSubLayer of xmlLayers)layers.push(extractLayer(xmlSubLayer));layers.length>0&&(layer.layers=layers);for(const[key,value]of Object.entries(layer))void 0===value&&delete layer[key];return layer}function addInheritedLayerProps(layer,parent){null!=parent&&parent.geographicBoundingBox&&!layer.geographicBoundingBox&&(layer.geographicBoundingBox=[...parent.geographicBoundingBox]),null!=parent&&parent.crs&&!layer.crs&&(layer.crs=[...parent.crs]),null!=parent&&parent.boundingBoxes&&!layer.boundingBoxes&&(layer.boundingBoxes=[...parent.boundingBoxes]),null!=parent&&parent.dimensions&&!layer.dimensions&&(layer.dimensions=[...parent.dimensions]);for(const subLayer of layer.layers||[])addInheritedLayerProps(subLayer,layer)}const WMSCapabilitiesLoader={id:"wms-capabilities",name:"WMS Capabilities",module:"wms",version:"3.4.5",worker:!1,extensions:["xml"],mimeTypes:["application/vnd.ogc.wms_xml","application/xml","text/xml"],testText:function wms_capabilities_loader_testXMLFile(text){return text.startsWith("<?xml")},options:{wms:{}},parse:async(arrayBuffer,options)=>parseWMSCapabilities((new TextDecoder).decode(arrayBuffer),null==options?void 0:options.wms),parseTextSync:(text,options)=>parseWMSCapabilities(text,null==options?void 0:options.wms)};function parseWMSFeatureInfo(text,options){var _parsedXML$FeatureInf;const xmlFeatureInfo=(null===(_parsedXML$FeatureInf=XMLLoader.parseTextSync(text,options).FeatureInfoResponse)||void 0===_parsedXML$FeatureInf?void 0:_parsedXML$FeatureInf.FIELDS)||[];return{features:(Array.isArray(xmlFeatureInfo)?xmlFeatureInfo:[xmlFeatureInfo]).map((xmlFeature=>function extractFeature(xmlFeature){const xmlFields=xmlFeature||{};return{attributes:xmlFields,type:"",bounds:{bottom:0,top:0,left:0,right:0}}}(xmlFeature)))}}const WMSFeatureInfoLoader={...WMSCapabilitiesLoader,id:"wms-feature-info",name:"WMS FeatureInfo",parse:async(arrayBuffer,options)=>parseWMSFeatureInfo((new TextDecoder).decode(arrayBuffer),options),parseTextSync:(text,options)=>parseWMSFeatureInfo(text,options)};function parseWMSLayerDescription(text,options){var _XMLLoader$parseTextS;return null===(_XMLLoader$parseTextS=XMLLoader.parseTextSync)||void 0===_XMLLoader$parseTextS?void 0:_XMLLoader$parseTextS.call(XMLLoader,text,options)}const WMSLayerDescriptionLoader={...WMSCapabilitiesLoader,id:"wms-layer-description",name:"WMS DescribeLayer",parse:async(arrayBuffer,options)=>parseWMSLayerDescription((new TextDecoder).decode(arrayBuffer),options),parseTextSync:(text,options)=>parseWMSLayerDescription(text,options)};const WMSErrorLoader={id:"wms-error",name:"WMS Error",module:"wms",version:"3.4.5",worker:!1,extensions:["xml"],mimeTypes:["application/vnd.ogc.se_xml","application/xml","text/xml"],testText:function wms_error_loader_testXMLFile(text){return text.startsWith("<?xml")},options:{wms:{throwOnError:!1}},parse:async(arrayBuffer,options)=>wms_error_loader_parseTextSync((new TextDecoder).decode(arrayBuffer),options),parseSync:(arrayBuffer,options)=>wms_error_loader_parseTextSync((new TextDecoder).decode(arrayBuffer),options),parseTextSync:(text,options)=>wms_error_loader_parseTextSync(text,options)};function wms_error_loader_parseTextSync(text,options){const wmsOptions={...WMSErrorLoader.options.wms,...null==options?void 0:options.wms},error=function parseWMSError(text,options){var _XMLLoader$parseTextS,_parsedXML$ServiceExc,_parsedXML$ogcServic;const parsedXML=null===(_XMLLoader$parseTextS=XMLLoader.parseTextSync)||void 0===_XMLLoader$parseTextS?void 0:_XMLLoader$parseTextS.call(XMLLoader,text,options),serviceExceptionXML=(null==parsedXML||null===(_parsedXML$ServiceExc=parsedXML.ServiceExceptionReport)||void 0===_parsedXML$ServiceExc?void 0:_parsedXML$ServiceExc.ServiceException)||(null==parsedXML||null===(_parsedXML$ogcServic=parsedXML["ogc:ServiceExceptionReport"])||void 0===_parsedXML$ogcServic?void 0:_parsedXML$ogcServic["ogc:ServiceException"]);return"string"==typeof serviceExceptionXML?serviceExceptionXML:serviceExceptionXML.value||serviceExceptionXML.code||"Unknown error"}(text,wmsOptions),message=wmsOptions.minimalErrors?error:"WMS Service error: ".concat(error);if(wmsOptions.throwOnError)throw new Error(message);return message}class WMSService extends ImageSource{constructor(props){var _props$substituteCRS;super(props),(0,defineProperty.Z)(this,"url",void 0),(0,defineProperty.Z)(this,"substituteCRS84",void 0),(0,defineProperty.Z)(this,"flipCRS",void 0),(0,defineProperty.Z)(this,"wmsParameters",void 0),(0,defineProperty.Z)(this,"vendorParameters",void 0),(0,defineProperty.Z)(this,"capabilities",null),(0,defineProperty.Z)(this,"loaders",[ImageLoader,WMSErrorLoader,WMSCapabilitiesLoader,WMSFeatureInfoLoader,WMSLayerDescriptionLoader]),this.url=props.url,this.substituteCRS84=null!==(_props$substituteCRS=props.substituteCRS84)&&void 0!==_props$substituteCRS&&_props$substituteCRS,this.flipCRS=["EPSG:4326"],this.wmsParameters={layers:void 0,query_layers:void 0,styles:void 0,version:"1.3.0",crs:"EPSG:4326",format:"image/png",info_format:"text/plain",transparent:void 0,time:void 0,elevation:void 0,...props.wmsParameters},this.vendorParameters=props.vendorParameters||{}}async getMetadata(){const capabilities=await this.getCapabilities();return this.normalizeMetadata(capabilities)}async getImage(parameters){return await this.getMap(parameters)}normalizeMetadata(capabilities){return capabilities}async getCapabilities(wmsParameters,vendorParameters){const url=this.getCapabilitiesURL(wmsParameters,vendorParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();this._checkResponse(response,arrayBuffer);const capabilities=await WMSCapabilitiesLoader.parse(arrayBuffer,this.loadOptions);return this.capabilities=capabilities,capabilities}async getMap(wmsParameters,vendorParameters){const url=this.getMapURL(wmsParameters,vendorParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();this._checkResponse(response,arrayBuffer);try{return await ImageLoader.parse(arrayBuffer,this.loadOptions)}catch{throw this._parseError(arrayBuffer)}}async getFeatureInfo(wmsParameters,vendorParameters){const url=this.getFeatureInfoURL(wmsParameters,vendorParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();return this._checkResponse(response,arrayBuffer),await WMSFeatureInfoLoader.parse(arrayBuffer,this.loadOptions)}async getFeatureInfoText(wmsParameters,vendorParameters){const url=this.getFeatureInfoURL(wmsParameters,vendorParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();return this._checkResponse(response,arrayBuffer),(new TextDecoder).decode(arrayBuffer)}async describeLayer(wmsParameters,vendorParameters){const url=this.describeLayerURL(wmsParameters,vendorParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();return this._checkResponse(response,arrayBuffer),await WMSLayerDescriptionLoader.parse(arrayBuffer,this.loadOptions)}async getLegendGraphic(wmsParameters,vendorParameters){const url=this.getLegendGraphicURL(wmsParameters,vendorParameters),response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();this._checkResponse(response,arrayBuffer);try{return await ImageLoader.parse(arrayBuffer,this.loadOptions)}catch{throw this._parseError(arrayBuffer)}}getCapabilitiesURL(wmsParameters,vendorParameters){const options={version:this.wmsParameters.version,...wmsParameters};return this._getWMSUrl("GetCapabilities",options,vendorParameters)}getMapURL(wmsParameters,vendorParameters){wmsParameters=this._getWMS130Parameters(wmsParameters);const options={version:this.wmsParameters.version,format:this.wmsParameters.format,transparent:this.wmsParameters.transparent,time:this.wmsParameters.time,elevation:this.wmsParameters.elevation,layers:this.wmsParameters.layers,styles:this.wmsParameters.styles,crs:this.wmsParameters.crs,...wmsParameters};return this._getWMSUrl("GetMap",options,vendorParameters)}getFeatureInfoURL(wmsParameters,vendorParameters){const options={version:this.wmsParameters.version,info_format:this.wmsParameters.info_format,layers:this.wmsParameters.layers,query_layers:this.wmsParameters.query_layers,styles:this.wmsParameters.styles,crs:this.wmsParameters.crs,...wmsParameters};return this._getWMSUrl("GetFeatureInfo",options,vendorParameters)}describeLayerURL(wmsParameters,vendorParameters){const options={version:this.wmsParameters.version,...wmsParameters};return this._getWMSUrl("DescribeLayer",options,vendorParameters)}getLegendGraphicURL(wmsParameters,vendorParameters){const options={version:this.wmsParameters.version,...wmsParameters};return this._getWMSUrl("GetLegendGraphic",options,vendorParameters)}_parseWMSUrl(url){const[baseUrl,search]=url.split("?"),searchParams=search.split("&"),parameters={};for(const parameter of searchParams){const[key,value]=parameter.split("=");parameters[key]=value}return{url:baseUrl,parameters:parameters}}_getWMSUrl(request,wmsParameters,vendorParameters){let url=this.url,first=!0;const allParameters={service:"WMS",version:wmsParameters.version,request:request,...wmsParameters,...this.vendorParameters,...vendorParameters},IGNORE_EMPTY_KEYS=["transparent","time","elevation"];for(const[key,value]of Object.entries(allParameters))IGNORE_EMPTY_KEYS.includes(key)&&!value||(url+=first?"?":"&",first=!1,url+=this._getURLParameter(key,value,wmsParameters));return encodeURI(url)}_getWMS130Parameters(wmsParameters){const newParameters={...wmsParameters};return newParameters.srs&&(newParameters.crs=newParameters.crs||newParameters.srs,delete newParameters.srs),newParameters}_getURLParameter(key,value,wmsParameters){switch(key){case"crs":"1.3.0"!==wmsParameters.version?key="srs":this.substituteCRS84&&"EPSG:4326"===value&&(value="CRS:84");break;case"srs":"1.3.0"===wmsParameters.version&&(key="crs");break;case"bbox":const bbox=this._flipBoundingBox(value,wmsParameters);bbox&&(value=bbox)}return key=key.toUpperCase(),Array.isArray(value)?"".concat(key,"=").concat(value.join(",")):"".concat(key,"=").concat(value?String(value):"")}_flipBoundingBox(bboxValue,wmsParameters){if(!Array.isArray(bboxValue)||4!==bboxValue.length)return null;const bbox=bboxValue;return"1.3.0"===wmsParameters.version&&this.flipCRS.includes(wmsParameters.crs||"")&&!(this.substituteCRS84&&"EPSG:4326"===wmsParameters.crs)?[bbox[1],bbox[0],bbox[3],bbox[2]]:bbox}async _fetchArrayBuffer(url){const response=await this.fetch(url),arrayBuffer=await response.arrayBuffer();return this._checkResponse(response,arrayBuffer),arrayBuffer}_checkResponse(response,arrayBuffer){const contentType=response.headers["content-type"];if(!response.ok||WMSErrorLoader.mimeTypes.includes(contentType)){const loadOptions=function mergeLoaderOptions(baseOptions,newOptions){const options={...baseOptions};for(const[key,newValue]of Object.entries(newOptions))newValue&&"object"==typeof newValue?(options[key]=options[key]||{},Object.assign(options[key],newOptions[key])):options[key]=newOptions[key];return options}(this.loadOptions,{wms:{throwOnError:!0}}),error=WMSErrorLoader.parseSync(arrayBuffer,loadOptions);throw new Error(error)}}_parseError(arrayBuffer){const error=WMSErrorLoader.parseSync(arrayBuffer,this.loadOptions);return new Error(error)}}(0,defineProperty.Z)(WMSService,"type","wms"),(0,defineProperty.Z)(WMSService,"testURL",(url=>url.toLowerCase().includes("wms")));class ArcGISImageServer extends ImageSource{constructor(props){super(props)}async getMetadata(){return await this.metadata()}async getImage(parameters){throw new Error("not implemented")}async metadata(){throw new Error("not implemented")}exportImage(options){throw new Error("not implemented")}metadataURL(options){return"".concat(this.props.url,"?f=pjson")}exportImageURL(options){const bbox="bbox=".concat(options.bbox[0],",").concat(options.bbox[1],",").concat(options.bbox[2],",").concat(options.bbox[3]),size="size=".concat(options.width,",").concat(options.height),arcgisOptions={...options,bbox:bbox,size:size};return delete arcgisOptions.width,delete arcgisOptions.height,this.getUrl("exportImage",arcgisOptions)}getUrl(path,options,extra){let url="".concat(this.props.url,"/").concat(path),first=!0;for(const[key,value]of Object.entries(options))url+=first?"?":"&",first=!1,Array.isArray(value)?url+="".concat(key.toUpperCase(),"=").concat(value.join(",")):url+="".concat(key.toUpperCase(),"=").concat(value?String(value):"");return url}async checkResponse(response){if(!response.ok)throw new Error("error")}}(0,defineProperty.Z)(ArcGISImageServer,"type","arcgis-image-server"),(0,defineProperty.Z)(ArcGISImageServer,"testURL",(url=>url.toLowerCase().includes("ImageServer")));const SERVICES=[WMSService,ArcGISImageServer,ImageService];function createImageSource(props){const{type:type="auto"}=props;switch("auto"===type?function guessServiceType(url){for(const Service of SERVICES)if(Service.testURL&&Service.testURL(url))return Service.type;return"wms"}(props.url):type){case"template":return new ImageService(props);case"wms":return new WMSService(props);default:throw new Error("Not a valid image source type")}}var esm=__webpack_require__("./node_modules/@math.gl/web-mercator/dist/esm/index.js");const HALF_EARTH_CIRCUMFERENCE=6378137*Math.PI;function WGS84ToPseudoMercator(coord){const mercator=(0,esm.w5)(coord);return mercator[0]=(mercator[0]/256-1)*HALF_EARTH_CIRCUMFERENCE,mercator[1]=(mercator[1]/256-1)*HALF_EARTH_CIRCUMFERENCE,mercator}const defaultProps={id:"imagery-layer",data:"",serviceType:"auto",srs:"auto",layers:{type:"array",compare:!0,value:[]},onMetadataLoad:{type:"function",value:()=>{}},onMetadataLoadError:{type:"function",value:console.error},onImageLoadStart:{type:"function",value:()=>{}},onImageLoad:{type:"function",value:()=>{}},onImageLoadError:{type:"function",compare:!1,value:(requestId,error)=>console.error(error,requestId)}};class WMSLayer extends composite_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}get isLoaded(){return Boolean(this.state)&&0===this.state.loadCounter&&super.isLoaded}shouldUpdateState(){return!0}initializeState(){this.state._nextRequestId=0,this.state.lastRequestId=-1,this.state.loadCounter=0}updateState({changeFlags:changeFlags,props:props,oldProps:oldProps}){const{viewport:viewport}=this.context;changeFlags.dataChanged||props.serviceType!==oldProps.serviceType?(this.state.imageSource=this._createImageSource(props),this._loadMetadata(),this.debounce((()=>this.loadImage(viewport,"image source changed")),0)):(0,deep_equal.v)(props.layers,oldProps.layers,1)?changeFlags.viewportChanged&&this.debounce((()=>this.loadImage(viewport,"viewport changed"))):this.debounce((()=>this.loadImage(viewport,"layers changed")),0)}finalizeState(){}renderLayers(){const{bounds:bounds,image:image,lastRequestParameters:lastRequestParameters}=this.state;return image&&new bitmap_layer.Z({...this.getSubLayerProps({id:"bitmap"}),_imageCoordinateSystem:"EPSG:4326"===lastRequestParameters.srs?constants.COORDINATE_SYSTEM.LNGLAT:constants.COORDINATE_SYSTEM.CARTESIAN,bounds:bounds,image:image})}async getFeatureInfoText(x,y){const{lastRequestParameters:lastRequestParameters}=this.state;if(lastRequestParameters){var _this$state$imageSour,_this$state$imageSour2;return await(null===(_this$state$imageSour=(_this$state$imageSour2=this.state.imageSource).getFeatureInfoText)||void 0===_this$state$imageSour?void 0:_this$state$imageSour.call(_this$state$imageSour2,{...lastRequestParameters,query_layers:lastRequestParameters.layers,x:x,y:y,info_format:"application/vnd.ogc.gml"}))}return""}_createImageSource(props){if(props.data instanceof ImageSource)return props.data;if("string"==typeof props.data)return createImageSource({url:props.data,loadOptions:props.loadOptions,type:props.serviceType});throw new Error("invalid image source in props.data")}async _loadMetadata(){const{imageSource:imageSource}=this.state;try{this.state.loadCounter++;const metadata=await imageSource.getMetadata();var _this$getCurrentLayer;if(this.state.imageSource===imageSource)null===(_this$getCurrentLayer=this.getCurrentLayer())||void 0===_this$getCurrentLayer||_this$getCurrentLayer.props.onMetadataLoad(metadata)}catch(error){var _this$getCurrentLayer2;null===(_this$getCurrentLayer2=this.getCurrentLayer())||void 0===_this$getCurrentLayer2||_this$getCurrentLayer2.props.onMetadataLoadError(error)}finally{this.state.loadCounter--}}async loadImage(viewport,reason){const{layers:layers,serviceType:serviceType}=this.props;if("wms"===serviceType&&0===layers.length)return;const bounds=viewport.getBounds(),{width:width,height:height}=viewport,requestId=this.getRequestId();let{srs:srs}=this.props;"auto"===srs&&(srs=viewport.resolution?"EPSG:4326":"EPSG:3857");const requestParams={width:width,height:height,bbox:bounds,layers:layers,srs:srs};if("EPSG:3857"===srs){const[minX,minY]=WGS84ToPseudoMercator([bounds[0],bounds[1]]),[maxX,maxY]=WGS84ToPseudoMercator([bounds[2],bounds[3]]);requestParams.bbox=[minX,minY,maxX,maxY]}try{this.state.loadCounter++,this.props.onImageLoadStart(requestId);const image=await this.state.imageSource.getImage(requestParams);var _this$getCurrentLayer3;if(this.state.lastRequestId<requestId)null===(_this$getCurrentLayer3=this.getCurrentLayer())||void 0===_this$getCurrentLayer3||_this$getCurrentLayer3.props.onImageLoad(requestId),this.setState({image:image,bounds:bounds,lastRequestParameters:requestParams,lastRequestId:requestId})}catch(error){var _this$getCurrentLayer4;this.raiseError(error,"Load image"),null===(_this$getCurrentLayer4=this.getCurrentLayer())||void 0===_this$getCurrentLayer4||_this$getCurrentLayer4.props.onImageLoadError(requestId,error)}finally{this.state.loadCounter--}}getRequestId(){return this.state._nextRequestId++}debounce(fn,ms=500){clearTimeout(this.state._timeoutId),this.state._timeoutId=setTimeout((()=>fn()),ms)}}(0,defineProperty.Z)(WMSLayer,"layerName","WMSLayer"),(0,defineProperty.Z)(WMSLayer,"defaultProps",defaultProps);var arc_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/arc-layer/arc-layer.js");class GreatCircleLayer extends arc_layer.Z{}(0,defineProperty.Z)(GreatCircleLayer,"layerName","GreatCircleLayer"),(0,defineProperty.Z)(GreatCircleLayer,"defaultProps",{getHeight:{type:"accessor",value:0},greatCircle:!0});var polygon_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/polygon-layer/polygon-layer.js");const GeoCellLayer_defaultProps={...polygon_layer.Z.defaultProps};class GeoCellLayer extends composite_layer.Z{indexToBounds(){return null}renderLayers(){const{elevationScale:elevationScale,extruded:extruded,wireframe:wireframe,filled:filled,stroked:stroked,lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels,lineJointRounded:lineJointRounded,lineMiterLimit:lineMiterLimit,lineDashJustified:lineDashJustified,getElevation:getElevation,getFillColor:getFillColor,getLineColor:getLineColor,getLineWidth:getLineWidth}=this.props,{updateTriggers:updateTriggers,material:material,transitions:transitions}=this.props;return new(this.getSubLayerClass("cell",polygon_layer.Z))({filled:filled,wireframe:wireframe,extruded:extruded,elevationScale:elevationScale,stroked:stroked,lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels,lineJointRounded:lineJointRounded,lineMiterLimit:lineMiterLimit,lineDashJustified:lineDashJustified,material:material,transitions:transitions,getElevation:getElevation,getFillColor:getFillColor,getLineColor:getLineColor,getLineWidth:getLineWidth},this.getSubLayerProps({id:"cell",updateTriggers:updateTriggers&&{getElevation:updateTriggers.getElevation,getFillColor:updateTriggers.getFillColor,getLineColor:updateTriggers.getLineColor,getLineWidth:updateTriggers.getLineWidth}}),this.indexToBounds())}}(0,defineProperty.Z)(GeoCellLayer,"layerName","GeoCellLayer"),(0,defineProperty.Z)(GeoCellLayer,"defaultProps",GeoCellLayer_defaultProps);var dist_long=__webpack_require__("./node_modules/long/dist/long.js"),long_default=__webpack_require__.n(dist_long);const FACE_BITS=3,POS_BITS=61,RADIAN_TO_DEGREE=180/Math.PI;function IJToST(ij,order,offsets){const maxSize=1<<order;return[(ij[0]+offsets[0])/maxSize,(ij[1]+offsets[1])/maxSize]}function singleSTtoUV(st){return st>=.5?1/3*(4*st*st-1):1/3*(1-4*(1-st)*(1-st))}function STToUV(st){return[singleSTtoUV(st[0]),singleSTtoUV(st[1])]}function FaceUVToXYZ(face,[u,v]){switch(face){case 0:return[1,u,v];case 1:return[-u,1,v];case 2:return[-u,-v,1];case 3:return[-1,-v,-u];case 4:return[v,-1,-u];case 5:return[v,u,-1];default:throw new Error("Invalid face")}}function XYZToLngLat([x,y,z]){const lat=Math.atan2(z,Math.sqrt(x*x+y*y));return[Math.atan2(y,x)*RADIAN_TO_DEGREE,lat*RADIAN_TO_DEGREE]}function rotateAndFlipQuadrant(n,point,rx,ry){if(0===ry){1===rx&&(point[0]=n-1-point[0],point[1]=n-1-point[1]);const x=point[0];point[0]=point[1],point[1]=x}}const MAX_RESOLUTION=100;function getS2QuadKey(token){if("string"==typeof token){if(token.indexOf("/")>0)return token;token=function getIdFromToken(token){const paddedToken=token.padEnd(16,"0");return long_default().fromString(paddedToken,16)}(token)}return function toHilbertQuadkey(idS){let bin=long_default().fromString(idS,!0,10).toString(2);for(;bin.length<FACE_BITS+POS_BITS;)bin="0"+bin;const lsbIndex=bin.lastIndexOf("1"),faceB=bin.substring(0,3),posB=bin.substring(3,lsbIndex),levelN=posB.length/2,faceS=long_default().fromString(faceB,!0,2).toString(10);let posS=long_default().fromString(posB,!0,2).toString(4);for(;posS.length<levelN;)posS="0"+posS;return"".concat(faceS,"/").concat(posS)}(token.toString())}function getS2Polygon(token){const s2cell=function FromHilbertQuadKey(hilbertQuadkey){const parts=hilbertQuadkey.split("/"),face=parseInt(parts[0],10),position=parts[1],maxLevel=position.length,point=[0,0];let level;for(let i=maxLevel-1;i>=0;i--){level=maxLevel-i;const bit=position[i];let rx=0,ry=0;"1"===bit?ry=1:"2"===bit?(rx=1,ry=1):"3"===bit&&(rx=1);const val=Math.pow(2,level-1);rotateAndFlipQuadrant(val,point,rx,ry),point[0]+=val*rx,point[1]+=val*ry}if(face%2==1){const t=point[0];point[0]=point[1],point[1]=t}return{face:face,ij:point,level:level}}(getS2QuadKey(token));return function getGeoBounds({face:face,ij:ij,level:level}){const offsets=[[0,0],[0,1],[1,1],[1,0],[0,0]],resolution=Math.max(1,Math.ceil(MAX_RESOLUTION*Math.pow(2,-level))),result=new Float64Array(4*resolution*2+2);let ptIndex=0,prevLng=0;for(let i=0;i<4;i++){const offset=offsets[i].slice(0),nextOffset=offsets[i+1],stepI=(nextOffset[0]-offset[0])/resolution,stepJ=(nextOffset[1]-offset[1])/resolution;for(let j=0;j<resolution;j++){offset[0]+=stepI,offset[1]+=stepJ;const lngLat=XYZToLngLat(FaceUVToXYZ(face,STToUV(IJToST(ij,level,offset))));Math.abs(lngLat[1])>89.999&&(lngLat[0]=prevLng);const deltaLng=lngLat[0]-prevLng;lngLat[0]+=deltaLng>180?-360:deltaLng<-180?360:0,result[ptIndex++]=lngLat[0],result[ptIndex++]=lngLat[1],prevLng=lngLat[0]}}return result[ptIndex++]=result[0],result[ptIndex++]=result[1],result}(s2cell)}class S2Layer extends GeoCellLayer{indexToBounds(){const{data:data,getS2Token:getS2Token}=this.props;return{data:data,_normalize:!1,positionFormat:"XY",getPolygon:(x,objectInfo)=>getS2Polygon(getS2Token(x,objectInfo))}}}(0,defineProperty.Z)(S2Layer,"layerName","S2Layer"),(0,defineProperty.Z)(S2Layer,"defaultProps",{getS2Token:{type:"accessor",value:d=>d.token}});const TILE_SIZE=512;function getQuadkeyPolygon(quadkey){const[topLeft,bottomRight]=function quadkeyToWorldBounds(quadkey){let x=0,y=0,mask=1<<quadkey.length;const scale=mask/TILE_SIZE;for(let i=0;i<quadkey.length;i++){mask>>=1;const q=parseInt(quadkey[i]);q%2&&(x|=mask),q>1&&(y|=mask)}return[[x/scale,TILE_SIZE-y/scale],[(x+.99)/scale,TILE_SIZE-(y+.99)/scale]]}(quadkey),[w,n]=(0,esm.es)(topLeft),[e,s]=(0,esm.es)(bottomRight);return[e,n,e,s,w,s,w,n,e,n]}class QuadkeyLayer extends GeoCellLayer{indexToBounds(){const{data:data,getQuadkey:getQuadkey}=this.props;return{data:data,_normalize:!1,positionFormat:"XY",getPolygon:(x,objectInfo)=>getQuadkeyPolygon(getQuadkey(x,objectInfo))}}}(0,defineProperty.Z)(QuadkeyLayer,"layerName","QuadkeyLayer"),(0,defineProperty.Z)(QuadkeyLayer,"defaultProps",{getQuadkey:{type:"accessor",value:d=>d.quadkey}});var flatten=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/flatten.js"),geojson_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/geojson-layer/geojson-layer.js"),hi_res_timestamp_process=__webpack_require__("./node_modules/process/browser.js");function getHiResTimestamp(){let timestamp;if("undefined"!=typeof window&&window.performance)timestamp=window.performance.now();else if(void 0!==hi_res_timestamp_process&&hi_res_timestamp_process.hrtime){const timeParts=hi_res_timestamp_process.hrtime();timestamp=1e3*timeParts[0]+timeParts[1]/1e6}else timestamp=Date.now();return timestamp}class Stat{constructor(name,type){this.name=void 0,this.type=void 0,this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=name,this.type=type,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(samples){return this.sampleSize=samples,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(value){return this._count+=value,this._samples++,this._checkSampling(),this}subtractCount(value){return this._count-=value,this._samples++,this._checkSampling(),this}addTime(time){return this._time+=time,this.lastTiming=time,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=getHiResTimestamp(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(getHiResTimestamp()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class Stats{constructor(options){this.id=void 0,this.stats={},this.id=options.id,this.stats={},this._initializeStats(options.stats),Object.seal(this)}get(name){let type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:name,type:type})}get size(){return Object.keys(this.stats).length}reset(){for(const stat of Object.values(this.stats))stat.reset();return this}forEach(fn){for(const stat of Object.values(this.stats))fn(stat)}getTable(){const table={};return this.forEach((stat=>{table[stat.name]={time:stat.time||0,count:stat.count||0,average:stat.getAverageTime()||0,hz:stat.getHz()||0}})),table}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((stat=>this._getOrCreate(stat)))}_getOrCreate(stat){const{name:name,type:type}=stat;let result=this.stats[name];return result||(result=stat instanceof Stat?stat:new Stat(name,type),this.stats[name]=result),result}}const DEFAULT_PROPS={id:"request-scheduler",throttleRequests:!0,maxRequests:6};class RequestScheduler{constructor(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,defineProperty.Z)(this,"props",void 0),(0,defineProperty.Z)(this,"stats",void 0),(0,defineProperty.Z)(this,"activeRequestCount",0),(0,defineProperty.Z)(this,"requestQueue",[]),(0,defineProperty.Z)(this,"requestMap",new Map),(0,defineProperty.Z)(this,"deferredUpdate",null),this.props={...DEFAULT_PROPS,...props},this.stats=new Stats({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}scheduleRequest(handle){let getPriority=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>0;if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(handle))return this.requestMap.get(handle);const request={handle:handle,priority:0,getPriority:getPriority},promise=new Promise((resolve=>(request.resolve=resolve,request)));return this.requestQueue.push(request),this.requestMap.set(handle,promise),this._issueNewRequests(),promise}_issueRequest(request){const{handle:handle,resolve:resolve}=request;let isDone=!1;const done=()=>{isDone||(isDone=!0,this.requestMap.delete(handle),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,resolve?resolve({done:done}):Promise.resolve({done:done})}_issueNewRequests(){this.deferredUpdate||(this.deferredUpdate=setTimeout((()=>this._issueNewRequestsAsync()),0))}_issueNewRequestsAsync(){this.deferredUpdate=null;const freeSlots=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==freeSlots){this._updateAllRequests();for(let i=0;i<freeSlots;++i){const request=this.requestQueue.shift();request&&this._issueRequest(request)}}}_updateAllRequests(){const requestQueue=this.requestQueue;for(let i=0;i<requestQueue.length;++i){const request=requestQueue[i];this._updateRequest(request)||(requestQueue.splice(i,1),this.requestMap.delete(request.handle),i--)}requestQueue.sort(((a,b)=>a.priority-b.priority))}_updateRequest(request){return request.priority=request.getPriority(request.handle),!(request.priority<0)||(request.resolve(null),!1)}}var matrix4=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/matrix4.js"),common=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/common.js");class Tile2DHeader{constructor(index){(0,defineProperty.Z)(this,"index",void 0),(0,defineProperty.Z)(this,"isVisible",void 0),(0,defineProperty.Z)(this,"isSelected",void 0),(0,defineProperty.Z)(this,"parent",void 0),(0,defineProperty.Z)(this,"children",void 0),(0,defineProperty.Z)(this,"content",void 0),(0,defineProperty.Z)(this,"state",void 0),(0,defineProperty.Z)(this,"layers",void 0),(0,defineProperty.Z)(this,"id",void 0),(0,defineProperty.Z)(this,"zoom",void 0),(0,defineProperty.Z)(this,"userData",void 0),(0,defineProperty.Z)(this,"boundingBox",void 0),(0,defineProperty.Z)(this,"_abortController",void 0),(0,defineProperty.Z)(this,"_loader",void 0),(0,defineProperty.Z)(this,"_loaderId",void 0),(0,defineProperty.Z)(this,"_isLoaded",void 0),(0,defineProperty.Z)(this,"_isCancelled",void 0),(0,defineProperty.Z)(this,"_needsReload",void 0),(0,defineProperty.Z)(this,"_bbox",void 0),this.index=index,this.isVisible=!1,this.isSelected=!1,this.parent=null,this.children=[],this.content=null,this._loader=void 0,this._abortController=null,this._loaderId=0,this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1}get bbox(){return this._bbox}set bbox(value){this._bbox||(this._bbox=value,this.boundingBox="west"in value?[[value.west,value.south],[value.east,value.north]]:[[value.left,value.top],[value.right,value.bottom]])}get data(){return this.isLoading&&this._loader?this._loader.then((()=>this.data)):this.content}get isLoaded(){return this._isLoaded&&!this._needsReload}get isLoading(){return Boolean(this._loader)&&!this._isCancelled}get needsReload(){return this._needsReload||this._isCancelled}get byteLength(){const result=this.content?this.content.byteLength:0;return Number.isFinite(result)||console.error("byteLength not defined in tile data"),result}async _loadData({getData:getData,requestScheduler:requestScheduler,onLoad:onLoad,onError:onError}){const{index:index,id:id,bbox:bbox,userData:userData,zoom:zoom}=this,loaderId=this._loaderId;this._abortController=new AbortController;const{signal:signal}=this._abortController,requestToken=await requestScheduler.scheduleRequest(this,(tile=>tile.isSelected?1:-1));if(!requestToken)return void(this._isCancelled=!0);if(this._isCancelled)return void requestToken.done();let error,tileData=null;try{tileData=await getData({index:index,id:id,bbox:bbox,userData:userData,zoom:zoom,signal:signal})}catch(err){error=err||!0}finally{requestToken.done()}loaderId===this._loaderId&&(this._loader=void 0,this.content=tileData,!this._isCancelled||tileData?(this._isLoaded=!0,this._isCancelled=!1,error?onError(error,this):onLoad(this)):this._isLoaded=!1)}loadData(opts){return this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1,this._loaderId++,this._loader=this._loadData(opts),this._loader}setNeedsReload(){this.isLoading&&(this.abort(),this._loader=void 0),this._needsReload=!0}abort(){var _this$_abortControlle;this.isLoaded||(this._isCancelled=!0,null===(_this$_abortControlle=this._abortController)||void 0===_this$_abortControlle||_this$_abortControlle.abort())}}var globe_viewport=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/globe-viewport.js"),web_mercator_viewport=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/viewports/web-mercator-viewport.js");const INTERSECTION_OUTSIDE=-1,INTERSECTION_INTERSECTING=0,INTERSECTION_INSIDE=1;var vector3=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/vector3.js");const scratchVector=new vector3.Z,scratchNormal=new vector3.Z;class axis_aligned_bounding_box_AxisAlignedBoundingBox{constructor(minimum=[0,0,0],maximum=[0,0,0],center){(0,defineProperty.Z)(this,"center",void 0),(0,defineProperty.Z)(this,"halfDiagonal",void 0),(0,defineProperty.Z)(this,"minimum",void 0),(0,defineProperty.Z)(this,"maximum",void 0),center=center||scratchVector.copy(minimum).add(maximum).scale(.5),this.center=new vector3.Z(center),this.halfDiagonal=new vector3.Z(maximum).subtract(this.center),this.minimum=new vector3.Z(minimum),this.maximum=new vector3.Z(maximum)}clone(){return new axis_aligned_bounding_box_AxisAlignedBoundingBox(this.minimum,this.maximum,this.center)}equals(right){return this===right||Boolean(right)&&this.minimum.equals(right.minimum)&&this.maximum.equals(right.maximum)}transform(transform){return this.center.transformAsPoint(transform),this.halfDiagonal.transform(transform),this.minimum.transform(transform),this.maximum.transform(transform),this}intersectPlane(plane){const{halfDiagonal:halfDiagonal}=this,normal=scratchNormal.from(plane.normal),e=halfDiagonal.x*Math.abs(normal.x)+halfDiagonal.y*Math.abs(normal.y)+halfDiagonal.z*Math.abs(normal.z),s=this.center.dot(normal)+plane.distance;return s-e>0?INTERSECTION_INSIDE:s+e<0?INTERSECTION_OUTSIDE:INTERSECTION_INTERSECTING}distanceTo(point){return Math.sqrt(this.distanceSquaredTo(point))}distanceSquaredTo(point){const offset=scratchVector.from(point).subtract(this.center),{halfDiagonal:halfDiagonal}=this;let d,distanceSquared=0;return d=Math.abs(offset.x)-halfDiagonal.x,d>0&&(distanceSquared+=d*d),d=Math.abs(offset.y)-halfDiagonal.y,d>0&&(distanceSquared+=d*d),d=Math.abs(offset.z)-halfDiagonal.z,d>0&&(distanceSquared+=d*d),distanceSquared}}var mat4=__webpack_require__("./node_modules/gl-matrix/esm/mat4.js");const bounding_sphere_scratchVector=new vector3.Z,scratchVector2=new vector3.Z;class bounding_sphere_BoundingSphere{constructor(center=[0,0,0],radius=0){(0,defineProperty.Z)(this,"center",void 0),(0,defineProperty.Z)(this,"radius",void 0),this.radius=-0,this.center=new vector3.Z,this.fromCenterRadius(center,radius)}fromCenterRadius(center,radius){return this.center.from(center),this.radius=radius,this}fromCornerPoints(corner,oppositeCorner){return oppositeCorner=bounding_sphere_scratchVector.from(oppositeCorner),this.center=(new vector3.Z).from(corner).add(oppositeCorner).scale(.5),this.radius=this.center.distance(oppositeCorner),this}equals(right){return this===right||Boolean(right)&&this.center.equals(right.center)&&this.radius===right.radius}clone(){return new bounding_sphere_BoundingSphere(this.center,this.radius)}union(boundingSphere){const leftCenter=this.center,leftRadius=this.radius,rightCenter=boundingSphere.center,rightRadius=boundingSphere.radius,toRightCenter=bounding_sphere_scratchVector.copy(rightCenter).subtract(leftCenter),centerSeparation=toRightCenter.magnitude();if(leftRadius>=centerSeparation+rightRadius)return this.clone();if(rightRadius>=centerSeparation+leftRadius)return boundingSphere.clone();const halfDistanceBetweenTangentPoints=.5*(leftRadius+centerSeparation+rightRadius);return scratchVector2.copy(toRightCenter).scale((-leftRadius+halfDistanceBetweenTangentPoints)/centerSeparation).add(leftCenter),this.center.copy(scratchVector2),this.radius=halfDistanceBetweenTangentPoints,this}expand(point){const radius=bounding_sphere_scratchVector.from(point).subtract(this.center).magnitude();return radius>this.radius&&(this.radius=radius),this}transform(transform){this.center.transform(transform);const scale=mat4.Q$(bounding_sphere_scratchVector,transform);return this.radius=Math.max(scale[0],Math.max(scale[1],scale[2]))*this.radius,this}distanceSquaredTo(point){const d=this.distanceTo(point);return d*d}distanceTo(point){const delta=bounding_sphere_scratchVector.from(point).subtract(this.center);return Math.max(0,delta.len()-this.radius)}intersectPlane(plane){const center=this.center,radius=this.radius,distanceToPlane=plane.normal.dot(center)+plane.distance;return distanceToPlane<-radius?INTERSECTION_OUTSIDE:distanceToPlane<radius?INTERSECTION_INTERSECTING:INTERSECTION_INSIDE}}var matrix3=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/matrix3.js"),classes_quaternion=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/quaternion.js");const scratchVector3=new vector3.Z,scratchOffset=new vector3.Z,scratchVectorU=new vector3.Z,scratchVectorV=new vector3.Z,scratchVectorW=new vector3.Z,scratchCorner=new vector3.Z,scratchToCenter=new vector3.Z,MATRIX3_COLUMN0ROW0=0,MATRIX3_COLUMN0ROW1=1,MATRIX3_COLUMN0ROW2=2,MATRIX3_COLUMN1ROW0=3,MATRIX3_COLUMN1ROW1=4,MATRIX3_COLUMN1ROW2=5,MATRIX3_COLUMN2ROW0=6,MATRIX3_COLUMN2ROW1=7,MATRIX3_COLUMN2ROW2=8;class OrientedBoundingBox{constructor(center=[0,0,0],halfAxes=[0,0,0,0,0,0,0,0,0]){(0,defineProperty.Z)(this,"center",void 0),(0,defineProperty.Z)(this,"halfAxes",void 0),this.center=(new vector3.Z).from(center),this.halfAxes=new matrix3.Z(halfAxes)}get halfSize(){const xAxis=this.halfAxes.getColumn(0),yAxis=this.halfAxes.getColumn(1),zAxis=this.halfAxes.getColumn(2);return[new vector3.Z(xAxis).len(),new vector3.Z(yAxis).len(),new vector3.Z(zAxis).len()]}get quaternion(){const xAxis=this.halfAxes.getColumn(0),yAxis=this.halfAxes.getColumn(1),zAxis=this.halfAxes.getColumn(2),normXAxis=new vector3.Z(xAxis).normalize(),normYAxis=new vector3.Z(yAxis).normalize(),normZAxis=new vector3.Z(zAxis).normalize();return(new classes_quaternion.Z).fromMatrix3(new matrix3.Z([...normXAxis,...normYAxis,...normZAxis]))}fromCenterHalfSizeQuaternion(center,halfSize,quaternion){const quaternionObject=new classes_quaternion.Z(quaternion),directionsMatrix=(new matrix3.Z).fromQuaternion(quaternionObject);return directionsMatrix[0]=directionsMatrix[0]*halfSize[0],directionsMatrix[1]=directionsMatrix[1]*halfSize[0],directionsMatrix[2]=directionsMatrix[2]*halfSize[0],directionsMatrix[3]=directionsMatrix[3]*halfSize[1],directionsMatrix[4]=directionsMatrix[4]*halfSize[1],directionsMatrix[5]=directionsMatrix[5]*halfSize[1],directionsMatrix[6]=directionsMatrix[6]*halfSize[2],directionsMatrix[7]=directionsMatrix[7]*halfSize[2],directionsMatrix[8]=directionsMatrix[8]*halfSize[2],this.center=(new vector3.Z).from(center),this.halfAxes=directionsMatrix,this}clone(){return new OrientedBoundingBox(this.center,this.halfAxes)}equals(right){return this===right||Boolean(right)&&this.center.equals(right.center)&&this.halfAxes.equals(right.halfAxes)}getBoundingSphere(result=new bounding_sphere_BoundingSphere){const halfAxes=this.halfAxes,u=halfAxes.getColumn(0,scratchVectorU),v=halfAxes.getColumn(1,scratchVectorV),w=halfAxes.getColumn(2,scratchVectorW),cornerVector=scratchVector3.copy(u).add(v).add(w);return result.center.copy(this.center),result.radius=cornerVector.magnitude(),result}intersectPlane(plane){const center=this.center,normal=plane.normal,halfAxes=this.halfAxes,normalX=normal.x,normalY=normal.y,normalZ=normal.z,radEffective=Math.abs(normalX*halfAxes[MATRIX3_COLUMN0ROW0]+normalY*halfAxes[MATRIX3_COLUMN0ROW1]+normalZ*halfAxes[MATRIX3_COLUMN0ROW2])+Math.abs(normalX*halfAxes[MATRIX3_COLUMN1ROW0]+normalY*halfAxes[MATRIX3_COLUMN1ROW1]+normalZ*halfAxes[MATRIX3_COLUMN1ROW2])+Math.abs(normalX*halfAxes[MATRIX3_COLUMN2ROW0]+normalY*halfAxes[MATRIX3_COLUMN2ROW1]+normalZ*halfAxes[MATRIX3_COLUMN2ROW2]),distanceToPlane=normal.dot(center)+plane.distance;return distanceToPlane<=-radEffective?INTERSECTION_OUTSIDE:distanceToPlane>=radEffective?INTERSECTION_INSIDE:INTERSECTION_INTERSECTING}distanceTo(point){return Math.sqrt(this.distanceSquaredTo(point))}distanceSquaredTo(point){const offset=scratchOffset.from(point).subtract(this.center),halfAxes=this.halfAxes,u=halfAxes.getColumn(0,scratchVectorU),v=halfAxes.getColumn(1,scratchVectorV),w=halfAxes.getColumn(2,scratchVectorW),uHalf=u.magnitude(),vHalf=v.magnitude(),wHalf=w.magnitude();u.normalize(),v.normalize(),w.normalize();let d,distanceSquared=0;return d=Math.abs(offset.dot(u))-uHalf,d>0&&(distanceSquared+=d*d),d=Math.abs(offset.dot(v))-vHalf,d>0&&(distanceSquared+=d*d),d=Math.abs(offset.dot(w))-wHalf,d>0&&(distanceSquared+=d*d),distanceSquared}computePlaneDistances(position,direction,result=[-0,-0]){let minDist=Number.POSITIVE_INFINITY,maxDist=Number.NEGATIVE_INFINITY;const center=this.center,halfAxes=this.halfAxes,u=halfAxes.getColumn(0,scratchVectorU),v=halfAxes.getColumn(1,scratchVectorV),w=halfAxes.getColumn(2,scratchVectorW),corner=scratchCorner.copy(u).add(v).add(w).add(center),toCenter=scratchToCenter.copy(corner).subtract(position);let mag=direction.dot(toCenter);return minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),corner.copy(center).add(u).add(v).subtract(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),corner.copy(center).add(u).subtract(v).add(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),corner.copy(center).add(u).subtract(v).subtract(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),center.copy(corner).subtract(u).add(v).add(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),center.copy(corner).subtract(u).add(v).subtract(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),center.copy(corner).subtract(u).subtract(v).add(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),center.copy(corner).subtract(u).subtract(v).subtract(w),toCenter.copy(corner).subtract(position),mag=direction.dot(toCenter),minDist=Math.min(mag,minDist),maxDist=Math.max(mag,maxDist),result[0]=minDist,result[1]=maxDist,result}transform(transformation){this.center.transformAsPoint(transformation);const xAxis=this.halfAxes.getColumn(0,scratchVectorU);xAxis.transformAsPoint(transformation);const yAxis=this.halfAxes.getColumn(1,scratchVectorV);yAxis.transformAsPoint(transformation);const zAxis=this.halfAxes.getColumn(2,scratchVectorW);return zAxis.transformAsPoint(transformation),this.halfAxes=new matrix3.Z([...xAxis,...yAxis,...zAxis]),this}getTransform(){throw new Error("not implemented")}}var lib_assert=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/assert.js");const scratchPosition=new vector3.Z,plane_scratchNormal=new vector3.Z;class plane_Plane{constructor(normal=[0,0,1],distance=0){(0,defineProperty.Z)(this,"normal",void 0),(0,defineProperty.Z)(this,"distance",void 0),this.normal=new vector3.Z,this.distance=-0,this.fromNormalDistance(normal,distance)}fromNormalDistance(normal,distance){return(0,lib_assert.Z)(Number.isFinite(distance)),this.normal.from(normal).normalize(),this.distance=distance,this}fromPointNormal(point,normal){point=scratchPosition.from(point),this.normal.from(normal).normalize();const distance=-this.normal.dot(point);return this.distance=distance,this}fromCoefficients(a,b,c,d){return this.normal.set(a,b,c),(0,lib_assert.Z)((0,common.fS)(this.normal.len(),1)),this.distance=d,this}clone(){return new plane_Plane(this.normal,this.distance)}equals(right){return(0,common.fS)(this.distance,right.distance)&&(0,common.fS)(this.normal,right.normal)}getPointDistance(point){return this.normal.dot(point)+this.distance}transform(matrix4){const normal=plane_scratchNormal.copy(this.normal).transformAsVector(matrix4).normalize(),point=this.normal.scale(-this.distance).transform(matrix4);return this.fromPointNormal(point,normal)}projectPointOntoPlane(point,result=[0,0,0]){point=scratchPosition.from(point);const pointDistance=this.getPointDistance(point),scaledNormal=plane_scratchNormal.copy(this.normal).scale(pointDistance);return point.subtract(scaledNormal).to(result)}}const faces=[new vector3.Z([1,0,0]),new vector3.Z([0,1,0]),new vector3.Z([0,0,1])],scratchPlaneCenter=new vector3.Z,scratchPlaneNormal=new vector3.Z;new plane_Plane(new vector3.Z(1,0,0),0);class culling_volume_CullingVolume{constructor(planes=[]){(0,defineProperty.Z)(this,"planes",void 0),this.planes=planes}fromBoundingSphere(boundingSphere){this.planes.length=2*faces.length;const center=boundingSphere.center,radius=boundingSphere.radius;let planeIndex=0;for(const faceNormal of faces){let plane0=this.planes[planeIndex],plane1=this.planes[planeIndex+1];plane0||(plane0=this.planes[planeIndex]=new plane_Plane),plane1||(plane1=this.planes[planeIndex+1]=new plane_Plane);const plane0Center=scratchPlaneCenter.copy(faceNormal).scale(-radius).add(center);faceNormal.dot(plane0Center);plane0.fromPointNormal(plane0Center,faceNormal);const plane1Center=scratchPlaneCenter.copy(faceNormal).scale(radius).add(center),negatedFaceNormal=scratchPlaneNormal.copy(faceNormal).negate();negatedFaceNormal.dot(plane1Center);plane1.fromPointNormal(plane1Center,negatedFaceNormal),planeIndex+=2}return this}computeVisibility(boundingVolume){let intersect=INTERSECTION_INSIDE;for(const plane of this.planes){switch(boundingVolume.intersectPlane(plane)){case INTERSECTION_OUTSIDE:return INTERSECTION_OUTSIDE;case INTERSECTION_INTERSECTING:intersect=INTERSECTION_INTERSECTING}}return intersect}computeVisibilityWithPlaneMask(boundingVolume,parentPlaneMask){if((0,lib_assert.Z)(Number.isFinite(parentPlaneMask),"parentPlaneMask is required."),parentPlaneMask===culling_volume_CullingVolume.MASK_OUTSIDE||parentPlaneMask===culling_volume_CullingVolume.MASK_INSIDE)return parentPlaneMask;let mask=culling_volume_CullingVolume.MASK_INSIDE;const planes=this.planes;for(let k=0;k<this.planes.length;++k){const flag=k<31?1<<k:0;if(k<31&&0==(parentPlaneMask&flag))continue;const plane=planes[k],result=boundingVolume.intersectPlane(plane);if(result===INTERSECTION_OUTSIDE)return culling_volume_CullingVolume.MASK_OUTSIDE;result===INTERSECTION_INTERSECTING&&(mask|=flag)}return mask}}(0,defineProperty.Z)(culling_volume_CullingVolume,"MASK_OUTSIDE",4294967295),(0,defineProperty.Z)(culling_volume_CullingVolume,"MASK_INSIDE",0),(0,defineProperty.Z)(culling_volume_CullingVolume,"MASK_INDETERMINATE",2147483647);new vector3.Z,new vector3.Z,new vector3.Z,new vector3.Z,new vector3.Z;new vector3.Z,new vector3.Z,new vector3.Z,new vector3.Z,new vector3.Z,new vector3.Z,new vector3.Z,new vector3.Z,new vector3.Z,new vector3.Z,new vector3.Z,new vector3.Z,Math.PI;var math_utils=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/math-utils.js");const scratchMatrix=new matrix3.Z,scratchUnitary=new matrix3.Z,scratchDiagonal=new matrix3.Z,jMatrix=new matrix3.Z,jMatrixTranspose=new matrix3.Z;function computeEigenDecomposition(matrix,result={}){const EIGEN_TOLERANCE=math_utils.Z.EPSILON20;let count=0,sweep=0;const unitaryMatrix=scratchUnitary,diagonalMatrix=scratchDiagonal;unitaryMatrix.identity(),diagonalMatrix.copy(matrix);const epsilon=EIGEN_TOLERANCE*function computeFrobeniusNorm(matrix){let norm=0;for(let i=0;i<9;++i){const temp=matrix[i];norm+=temp*temp}return Math.sqrt(norm)}(diagonalMatrix);for(;sweep<10&&offDiagonalFrobeniusNorm(diagonalMatrix)>epsilon;)shurDecomposition(diagonalMatrix,jMatrix),jMatrixTranspose.copy(jMatrix).transpose(),diagonalMatrix.multiplyRight(jMatrix),diagonalMatrix.multiplyLeft(jMatrixTranspose),unitaryMatrix.multiplyRight(jMatrix),++count>2&&(++sweep,count=0);return result.unitary=unitaryMatrix.toTarget(result.unitary),result.diagonal=diagonalMatrix.toTarget(result.diagonal),result}const rowVal=[1,0,0],colVal=[2,2,1];function offDiagonalFrobeniusNorm(matrix){let norm=0;for(let i=0;i<3;++i){const temp=matrix[scratchMatrix.getElementIndex(colVal[i],rowVal[i])];norm+=2*temp*temp}return Math.sqrt(norm)}function shurDecomposition(matrix,result){const tolerance=math_utils.Z.EPSILON15;let maxDiagonal=0,rotAxis=1;for(let i=0;i<3;++i){const temp=Math.abs(matrix[scratchMatrix.getElementIndex(colVal[i],rowVal[i])]);temp>maxDiagonal&&(rotAxis=i,maxDiagonal=temp)}const p=rowVal[rotAxis],q=colVal[rotAxis];let c=1,s=0;if(Math.abs(matrix[scratchMatrix.getElementIndex(q,p)])>tolerance){const tau=(matrix[scratchMatrix.getElementIndex(q,q)]-matrix[scratchMatrix.getElementIndex(p,p)])/2/matrix[scratchMatrix.getElementIndex(q,p)];let t;t=tau<0?-1/(-tau+Math.sqrt(1+tau*tau)):1/(tau+Math.sqrt(1+tau*tau)),c=1/Math.sqrt(1+t*t),s=t*c}return matrix3.Z.IDENTITY.to(result),result[scratchMatrix.getElementIndex(p,p)]=result[scratchMatrix.getElementIndex(q,q)]=c,result[scratchMatrix.getElementIndex(q,p)]=s,result[scratchMatrix.getElementIndex(p,q)]=-s,result}const bounding_box_from_points_scratchVector2=new vector3.Z,bounding_box_from_points_scratchVector3=new vector3.Z,scratchVector4=new vector3.Z,scratchVector5=new vector3.Z,scratchVector6=new vector3.Z,scratchCovarianceResult=new matrix3.Z,scratchEigenResult={diagonal:new matrix3.Z,unitary:new matrix3.Z};function makeOrientedBoundingBoxFromPoints(positions,result=new OrientedBoundingBox){if(!positions||0===positions.length)return result.halfAxes=new matrix3.Z([0,0,0,0,0,0,0,0,0]),result.center=new vector3.Z,result;const length=positions.length,meanPoint=new vector3.Z(0,0,0);for(const position of positions)meanPoint.add(position);const invLength=1/length;meanPoint.multiplyByScalar(invLength);let exx=0,exy=0,exz=0,eyy=0,eyz=0,ezz=0;for(const position of positions){const p=bounding_box_from_points_scratchVector2.copy(position).subtract(meanPoint);exx+=p.x*p.x,exy+=p.x*p.y,exz+=p.x*p.z,eyy+=p.y*p.y,eyz+=p.y*p.z,ezz+=p.z*p.z}exx*=invLength,exy*=invLength,exz*=invLength,eyy*=invLength,eyz*=invLength,ezz*=invLength;const covarianceMatrix=scratchCovarianceResult;covarianceMatrix[0]=exx,covarianceMatrix[1]=exy,covarianceMatrix[2]=exz,covarianceMatrix[3]=exy,covarianceMatrix[4]=eyy,covarianceMatrix[5]=eyz,covarianceMatrix[6]=exz,covarianceMatrix[7]=eyz,covarianceMatrix[8]=ezz;const{unitary:unitary}=computeEigenDecomposition(covarianceMatrix,scratchEigenResult),rotation=result.halfAxes.copy(unitary);let v1=rotation.getColumn(0,scratchVector4),v2=rotation.getColumn(1,scratchVector5),v3=rotation.getColumn(2,scratchVector6),u1=-Number.MAX_VALUE,u2=-Number.MAX_VALUE,u3=-Number.MAX_VALUE,l1=Number.MAX_VALUE,l2=Number.MAX_VALUE,l3=Number.MAX_VALUE;for(const position of positions)bounding_box_from_points_scratchVector2.copy(position),u1=Math.max(bounding_box_from_points_scratchVector2.dot(v1),u1),u2=Math.max(bounding_box_from_points_scratchVector2.dot(v2),u2),u3=Math.max(bounding_box_from_points_scratchVector2.dot(v3),u3),l1=Math.min(bounding_box_from_points_scratchVector2.dot(v1),l1),l2=Math.min(bounding_box_from_points_scratchVector2.dot(v2),l2),l3=Math.min(bounding_box_from_points_scratchVector2.dot(v3),l3);v1=v1.multiplyByScalar(.5*(l1+u1)),v2=v2.multiplyByScalar(.5*(l2+u2)),v3=v3.multiplyByScalar(.5*(l3+u3)),result.center.copy(v1).add(v2).add(v3);const scale=bounding_box_from_points_scratchVector3.set(u1-l1,u2-l2,u3-l3).multiplyByScalar(.5),scaleMatrix=new matrix3.Z([scale[0],0,0,0,scale[1],0,0,0,scale[2]]);return result.halfAxes.multiplyRight(scaleMatrix),result}const tile_2d_traversal_TILE_SIZE=512,MAX_MAPS=3,REF_POINTS_5=[[.5,.5],[0,0],[0,1],[1,0],[1,1]],REF_POINTS_9=REF_POINTS_5.concat([[0,.5],[.5,0],[1,.5],[.5,1]]),REF_POINTS_11=REF_POINTS_9.concat([[.25,.5],[.75,.5]]);class OSMNode{constructor(x,y,z){(0,defineProperty.Z)(this,"x",void 0),(0,defineProperty.Z)(this,"y",void 0),(0,defineProperty.Z)(this,"z",void 0),(0,defineProperty.Z)(this,"childVisible",void 0),(0,defineProperty.Z)(this,"selected",void 0),(0,defineProperty.Z)(this,"_children",void 0),this.x=x,this.y=y,this.z=z}get children(){if(!this._children){const x=2*this.x,y=2*this.y,z=this.z+1;this._children=[new OSMNode(x,y,z),new OSMNode(x,y+1,z),new OSMNode(x+1,y,z),new OSMNode(x+1,y+1,z)]}return this._children}update(params){const{viewport:viewport,cullingVolume:cullingVolume,elevationBounds:elevationBounds,minZ:minZ,maxZ:maxZ,bounds:bounds,offset:offset,project:project}=params,boundingVolume=this.getBoundingVolume(elevationBounds,offset,project);if(bounds&&!this.insideBounds(bounds))return!1;if(cullingVolume.computeVisibility(boundingVolume)<0)return!1;if(!this.childVisible){let{z:z}=this;if(z<maxZ&&z>=minZ){const distance=boundingVolume.distanceTo(viewport.cameraPosition)*viewport.scale/viewport.height;z+=Math.floor(Math.log2(distance))}if(z>=maxZ)return this.selected=!0,!0}this.selected=!1,this.childVisible=!0;for(const child of this.children)child.update(params);return!0}getSelected(result=[]){if(this.selected&&result.push(this),this._children)for(const node of this._children)node.getSelected(result);return result}insideBounds([minX,minY,maxX,maxY]){const scale=Math.pow(2,this.z),extent=tile_2d_traversal_TILE_SIZE/scale;return this.x*extent<maxX&&this.y*extent<maxY&&(this.x+1)*extent>minX&&(this.y+1)*extent>minY}getBoundingVolume(zRange,worldOffset,project){if(project){const refPoints=this.z<1?REF_POINTS_11:this.z<2?REF_POINTS_9:REF_POINTS_5,refPointPositions=[];for(const p of refPoints){const lngLat=osmTile2lngLat(this.x+p[0],this.y+p[1],this.z);lngLat[2]=zRange[0],refPointPositions.push(project(lngLat)),zRange[0]!==zRange[1]&&(lngLat[2]=zRange[1],refPointPositions.push(project(lngLat)))}return makeOrientedBoundingBoxFromPoints(refPointPositions)}const scale=Math.pow(2,this.z),extent=tile_2d_traversal_TILE_SIZE/scale,originX=this.x*extent+worldOffset*tile_2d_traversal_TILE_SIZE,originY=tile_2d_traversal_TILE_SIZE-(this.y+1)*extent;return new axis_aligned_bounding_box_AxisAlignedBoundingBox([originX,originY,zRange[0]],[originX+extent,originY+extent,zRange[1]])}}const utils_TILE_SIZE=512,DEFAULT_EXTENT=[-1/0,-1/0,1/0,1/0],urlType={type:"object",value:null,validate:(value,propType)=>propType.optional&&null===value||"string"==typeof value||Array.isArray(value)&&value.every((url=>"string"==typeof url)),equal:(value1,value2)=>{if(value1===value2)return!0;if(!Array.isArray(value1)||!Array.isArray(value2))return!1;const len=value1.length;if(len!==value2.length)return!1;for(let i=0;i<len;i++)if(value1[i]!==value2[i])return!1;return!0}};function transformBox(bbox,modelMatrix){const transformedCoords=[modelMatrix.transformAsPoint([bbox[0],bbox[1]]),modelMatrix.transformAsPoint([bbox[2],bbox[1]]),modelMatrix.transformAsPoint([bbox[0],bbox[3]]),modelMatrix.transformAsPoint([bbox[2],bbox[3]])],transformedBox=[Math.min(...transformedCoords.map((i=>i[0]))),Math.min(...transformedCoords.map((i=>i[1]))),Math.max(...transformedCoords.map((i=>i[0]))),Math.max(...transformedCoords.map((i=>i[1])))];return transformedBox}function getURLFromTemplate(template,tile){if(!template||!template.length)return null;const{index:index,id:id}=tile;if(Array.isArray(template)){template=template[function stringHash(s){return Math.abs(s.split("").reduce(((a,b)=>(a<<5)-a+b.charCodeAt(0)|0),0))}(id)%template.length]}let url=template;for(const key of Object.keys(index)){const regex=new RegExp("{".concat(key,"}"),"g");url=url.replace(regex,String(index[key]))}return Number.isInteger(index.y)&&Number.isInteger(index.z)&&(url=url.replace(/\{-y\}/g,String(Math.pow(2,index.z)-index.y-1))),url}function getCullBounds({viewport:viewport,z:z=0,cullRect:cullRect}){return(viewport.subViewports||[viewport]).map((v=>getCullBoundsInViewport(v,z,cullRect)))}function getCullBoundsInViewport(viewport,z,cullRect){if(!Array.isArray(z)){const x=cullRect.x-viewport.x,y=cullRect.y-viewport.y,{width:width,height:height}=cullRect,unprojectOption={targetZ:z},topLeft=viewport.unproject([x,y],unprojectOption),topRight=viewport.unproject([x+width,y],unprojectOption),bottomLeft=viewport.unproject([x,y+height],unprojectOption),bottomRight=viewport.unproject([x+width,y+height],unprojectOption);return[Math.min(topLeft[0],topRight[0],bottomLeft[0],bottomRight[0]),Math.min(topLeft[1],topRight[1],bottomLeft[1],bottomRight[1]),Math.max(topLeft[0],topRight[0],bottomLeft[0],bottomRight[0]),Math.max(topLeft[1],topRight[1],bottomLeft[1],bottomRight[1])]}const bounds0=getCullBoundsInViewport(viewport,z[0],cullRect),bounds1=getCullBoundsInViewport(viewport,z[1],cullRect);return[Math.min(bounds0[0],bounds1[0]),Math.min(bounds0[1],bounds1[1]),Math.max(bounds0[2],bounds1[2]),Math.max(bounds0[3],bounds1[3])]}function getScale(z,tileSize){return Math.pow(2,z)*utils_TILE_SIZE/tileSize}function osmTile2lngLat(x,y,z){const scale=getScale(z,utils_TILE_SIZE),lng=x/scale*360-180,n=Math.PI-2*Math.PI*y/scale;return[lng,180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))]}function tile2XY(x,y,z,tileSize){const scale=getScale(z,tileSize);return[x/scale*utils_TILE_SIZE,y/scale*utils_TILE_SIZE]}function tileToBoundingBox(viewport,x,y,z,tileSize=utils_TILE_SIZE){if(viewport.isGeospatial){const[west,north]=osmTile2lngLat(x,y,z),[east,south]=osmTile2lngLat(x+1,y+1,z);return{west:west,north:north,east:east,south:south}}const[left,top]=tile2XY(x,y,z,tileSize),[right,bottom]=tile2XY(x+1,y+1,z,tileSize);return{left:left,top:top,right:right,bottom:bottom}}function getIdentityTileIndices(viewport,z,tileSize,extent,modelMatrixInverse){const bbox=function getBoundingBox(viewport,zRange,extent){let bounds;if(zRange&&2===zRange.length){const[minZ,maxZ]=zRange,bounds0=viewport.getBounds({z:minZ}),bounds1=viewport.getBounds({z:maxZ});bounds=[Math.min(bounds0[0],bounds1[0]),Math.min(bounds0[1],bounds1[1]),Math.max(bounds0[2],bounds1[2]),Math.max(bounds0[3],bounds1[3])]}else bounds=viewport.getBounds();return viewport.isGeospatial?[Math.max(bounds[0],extent[0]),Math.max(bounds[1],extent[1]),Math.min(bounds[2],extent[2]),Math.min(bounds[3],extent[3])]:[Math.max(Math.min(bounds[0],extent[2]),extent[0]),Math.max(Math.min(bounds[1],extent[3]),extent[1]),Math.min(Math.max(bounds[2],extent[0]),extent[2]),Math.min(Math.max(bounds[3],extent[1]),extent[3])]}(viewport,null,extent),scale=getScale(z,tileSize),[minX,minY,maxX,maxY]=function getIndexingCoords(bbox,scale,modelMatrixInverse){if(modelMatrixInverse){const transformedTileIndex=transformBox(bbox,modelMatrixInverse).map((i=>i*scale/utils_TILE_SIZE));return transformedTileIndex}return bbox.map((i=>i*scale/utils_TILE_SIZE))}(bbox,scale,modelMatrixInverse),indices=[];for(let x=Math.floor(minX);x<maxX;x++)for(let y=Math.floor(minY);y<maxY;y++)indices.push({x:x,y:y,z:z});return indices}function getTileIndices({viewport:viewport,maxZoom:maxZoom,minZoom:minZoom,zRange:zRange,extent:extent,tileSize:tileSize=utils_TILE_SIZE,modelMatrix:modelMatrix,modelMatrixInverse:modelMatrixInverse,zoomOffset:zoomOffset=0}){let z=viewport.isGeospatial?Math.round(viewport.zoom+Math.log2(utils_TILE_SIZE/tileSize))+zoomOffset:Math.ceil(viewport.zoom)+zoomOffset;if("number"==typeof minZoom&&Number.isFinite(minZoom)&&z<minZoom){if(!extent)return[];z=minZoom}"number"==typeof maxZoom&&Number.isFinite(maxZoom)&&z>maxZoom&&(z=maxZoom);let transformedExtent=extent;return modelMatrix&&modelMatrixInverse&&extent&&!viewport.isGeospatial&&(transformedExtent=transformBox(extent,modelMatrix)),viewport.isGeospatial?function getOSMTileIndices(viewport,maxZ,zRange,bounds){const project=viewport instanceof globe_viewport.Z&&viewport.resolution?viewport.projectPosition:null,planes=Object.values(viewport.getFrustumPlanes()).map((({normal:normal,distance:distance})=>new plane_Plane(normal.clone().negate(),distance))),cullingVolume=new culling_volume_CullingVolume(planes),unitsPerMeter=viewport.distanceScales.unitsPerMeter[2],elevationMin=zRange&&zRange[0]*unitsPerMeter||0,elevationMax=zRange&&zRange[1]*unitsPerMeter||0,minZ=viewport instanceof web_mercator_viewport.Z&&viewport.pitch<=60?maxZ:0;if(bounds){const[minLng,minLat,maxLng,maxLat]=bounds,topLeft=(0,esm.w5)([minLng,maxLat]),bottomRight=(0,esm.w5)([maxLng,minLat]);bounds=[topLeft[0],tile_2d_traversal_TILE_SIZE-topLeft[1],bottomRight[0],tile_2d_traversal_TILE_SIZE-bottomRight[1]]}const root=new OSMNode(0,0,0),traversalParams={viewport:viewport,project:project,cullingVolume:cullingVolume,elevationBounds:[elevationMin,elevationMax],minZ:minZ,maxZ:maxZ,bounds:bounds,offset:0};if(root.update(traversalParams),viewport instanceof web_mercator_viewport.Z&&viewport.subViewports&&viewport.subViewports.length>1){for(traversalParams.offset=-1;root.update(traversalParams)&&!(--traversalParams.offset<-MAX_MAPS););for(traversalParams.offset=1;root.update(traversalParams)&&!(++traversalParams.offset>MAX_MAPS););}return root.getSelected()}(viewport,z,zRange,extent):getIdentityTileIndices(viewport,z,tileSize,transformedExtent||DEFAULT_EXTENT,modelMatrixInverse)}function isEqual(a,b){if(a===b)return!0;if(Array.isArray(a)){const len=a.length;if(!b||b.length!==len)return!1;for(let i=0;i<len;i++)if(a[i]!==b[i])return!1;return!0}return!1}const TILE_STATE_VISIBLE=2,STRATEGIES={"best-available":function updateTileStateDefault(allTiles){for(const tile of allTiles)tile.state=0;for(const tile of allTiles)tile.isSelected&&!getPlaceholderInAncestors(tile)&&getPlaceholderInChildren(tile);for(const tile of allTiles)tile.isVisible=Boolean(tile.state&TILE_STATE_VISIBLE)},"no-overlap":function updateTileStateReplace(allTiles){for(const tile of allTiles)tile.state=0;for(const tile of allTiles)tile.isSelected&&getPlaceholderInAncestors(tile);const sortedTiles=Array.from(allTiles).sort(((t1,t2)=>t1.zoom-t2.zoom));for(const tile of sortedTiles)if(tile.isVisible=Boolean(tile.state&TILE_STATE_VISIBLE),tile.children&&(tile.isVisible||1&tile.state))for(const child of tile.children)child.state=1;else tile.isSelected&&getPlaceholderInChildren(tile)},never:()=>{}},DEFAULT_TILESET2D_PROPS={extent:null,tileSize:512,maxZoom:null,minZoom:null,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:"best-available",zRange:null,maxRequests:6,zoomOffset:0,onTileLoad:()=>{},onTileUnload:()=>{},onTileError:()=>{}};class Tileset2D{constructor(opts){(0,defineProperty.Z)(this,"opts",void 0),(0,defineProperty.Z)(this,"_requestScheduler",void 0),(0,defineProperty.Z)(this,"_cache",void 0),(0,defineProperty.Z)(this,"_dirty",void 0),(0,defineProperty.Z)(this,"_tiles",void 0),(0,defineProperty.Z)(this,"_cacheByteSize",void 0),(0,defineProperty.Z)(this,"_viewport",void 0),(0,defineProperty.Z)(this,"_zRange",void 0),(0,defineProperty.Z)(this,"_selectedTiles",void 0),(0,defineProperty.Z)(this,"_frameNumber",void 0),(0,defineProperty.Z)(this,"_modelMatrix",void 0),(0,defineProperty.Z)(this,"_modelMatrixInverse",void 0),(0,defineProperty.Z)(this,"_maxZoom",void 0),(0,defineProperty.Z)(this,"_minZoom",void 0),(0,defineProperty.Z)(this,"onTileLoad",void 0),(0,defineProperty.Z)(this,"_getCullBounds",function memoize(compute){let cachedResult,cachedArgs={};return args=>{for(const key in args)if(!isEqual(args[key],cachedArgs[key])){cachedResult=compute(args),cachedArgs=args;break}return cachedResult}}(getCullBounds)),this.opts={...DEFAULT_TILESET2D_PROPS,...opts},this.onTileLoad=tile=>{var _this$opts$onTileLoad,_this$opts;null===(_this$opts$onTileLoad=(_this$opts=this.opts).onTileLoad)||void 0===_this$opts$onTileLoad||_this$opts$onTileLoad.call(_this$opts,tile),this.opts.maxCacheByteSize&&(this._cacheByteSize+=tile.byteLength,this._resizeCache())},this._requestScheduler=new RequestScheduler({maxRequests:opts.maxRequests,throttleRequests:Boolean(opts.maxRequests&&opts.maxRequests>0)}),this._cache=new Map,this._tiles=[],this._dirty=!1,this._cacheByteSize=0,this._viewport=null,this._selectedTiles=null,this._frameNumber=0,this._modelMatrix=new matrix4.Z,this._modelMatrixInverse=new matrix4.Z,this.setOptions(opts)}get tiles(){return this._tiles}get selectedTiles(){return this._selectedTiles}get isLoaded(){return null!==this._selectedTiles&&this._selectedTiles.every((tile=>tile.isLoaded))}get needsReload(){return null!==this._selectedTiles&&this._selectedTiles.some((tile=>tile.needsReload))}setOptions(opts){Object.assign(this.opts,opts),Number.isFinite(opts.maxZoom)&&(this._maxZoom=Math.floor(opts.maxZoom)),Number.isFinite(opts.minZoom)&&(this._minZoom=Math.ceil(opts.minZoom))}finalize(){for(const tile of this._cache.values())tile.isLoading&&tile.abort();this._cache.clear(),this._tiles=[],this._selectedTiles=null}reloadAll(){for(const id of this._cache.keys()){const tile=this._cache.get(id);this._selectedTiles&&this._selectedTiles.includes(tile)?tile.setNeedsReload():this._cache.delete(id)}}update(viewport,{zRange:zRange,modelMatrix:modelMatrix}={}){const modelMatrixAsMatrix4=new matrix4.Z(modelMatrix),isModelMatrixNew=!modelMatrixAsMatrix4.equals(this._modelMatrix);if(this._viewport&&viewport.equals(this._viewport)&&(0,common.fS)(this._zRange,zRange)&&!isModelMatrixNew)this.needsReload&&(this._selectedTiles=this._selectedTiles.map((tile=>this._getTile(tile.index,!0))));else{isModelMatrixNew&&(this._modelMatrixInverse=modelMatrixAsMatrix4.clone().invert(),this._modelMatrix=modelMatrixAsMatrix4),this._viewport=viewport,this._zRange=zRange;const tileIndices=this.getTileIndices({viewport:viewport,maxZoom:this._maxZoom,minZoom:this._minZoom,zRange:zRange,modelMatrix:this._modelMatrix,modelMatrixInverse:this._modelMatrixInverse});this._selectedTiles=tileIndices.map((index=>this._getTile(index,!0))),this._dirty&&this._rebuildTree()}const changed=this.updateTileStates();return this._pruneRequests(),this._dirty&&this._resizeCache(),changed&&this._frameNumber++,this._frameNumber}isTileVisible(tile,cullRect){if(!tile.isVisible)return!1;if(cullRect&&this._viewport){const boundsArr=this._getCullBounds({viewport:this._viewport,z:this._zRange,cullRect:cullRect}),{bbox:bbox}=tile;for(const[minX,minY,maxX,maxY]of boundsArr){let overlaps;if("west"in bbox)overlaps=bbox.west<maxX&&bbox.east>minX&&bbox.south<maxY&&bbox.north>minY;else{const y0=Math.min(bbox.top,bbox.bottom),y1=Math.max(bbox.top,bbox.bottom);overlaps=bbox.left<maxX&&bbox.right>minX&&y0<maxY&&y1>minY}if(overlaps)return!0}return!1}return!0}getTileIndices({viewport:viewport,maxZoom:maxZoom,minZoom:minZoom,zRange:zRange,modelMatrix:modelMatrix,modelMatrixInverse:modelMatrixInverse}){const{tileSize:tileSize,extent:extent,zoomOffset:zoomOffset}=this.opts;return getTileIndices({viewport:viewport,maxZoom:maxZoom,minZoom:minZoom,zRange:zRange,tileSize:tileSize,extent:extent,modelMatrix:modelMatrix,modelMatrixInverse:modelMatrixInverse,zoomOffset:zoomOffset})}getTileId(index){return"".concat(index.x,"-").concat(index.y,"-").concat(index.z)}getTileZoom(index){return index.z}getTileMetadata(index){const{tileSize:tileSize}=this.opts;return{bbox:tileToBoundingBox(this._viewport,index.x,index.y,index.z,tileSize)}}getParentIndex(index){return{x:Math.floor(index.x/2),y:Math.floor(index.y/2),z:index.z-1}}updateTileStates(){const refinementStrategy=this.opts.refinementStrategy||"best-available",visibilities=new Array(this._cache.size);let i=0;for(const tile of this._cache.values())visibilities[i++]=tile.isVisible,tile.isSelected=!1,tile.isVisible=!1;for(const tile of this._selectedTiles)tile.isSelected=!0,tile.isVisible=!0;("function"==typeof refinementStrategy?refinementStrategy:STRATEGIES[refinementStrategy])(Array.from(this._cache.values())),i=0;for(const tile of this._cache.values())if(visibilities[i++]!==tile.isVisible)return!0;return!1}_pruneRequests(){const{maxRequests:maxRequests=0}=this.opts,abortCandidates=[];let ongoingRequestCount=0;for(const tile of this._cache.values())tile.isLoading&&(ongoingRequestCount++,tile.isSelected||tile.isVisible||abortCandidates.push(tile));for(;maxRequests>0&&ongoingRequestCount>maxRequests&&abortCandidates.length>0;){abortCandidates.shift().abort(),ongoingRequestCount--}}_rebuildTree(){const{_cache:_cache}=this;for(const tile of _cache.values())tile.parent=null,tile.children&&(tile.children.length=0);for(const tile of _cache.values()){const parent=this._getNearestAncestor(tile);tile.parent=parent,null!=parent&&parent.children&&parent.children.push(tile)}}_resizeCache(){const{_cache:_cache,opts:opts}=this,maxCacheSize=opts.maxCacheSize||(opts.maxCacheByteSize?1/0:5*this.selectedTiles.length),maxCacheByteSize=opts.maxCacheByteSize||1/0;if(_cache.size>maxCacheSize||this._cacheByteSize>maxCacheByteSize){for(const[id,tile]of _cache){var _this$opts$onTileUnlo,_this$opts2;if(!tile.isVisible&&!tile.isSelected)this._cacheByteSize-=opts.maxCacheByteSize?tile.byteLength:0,_cache.delete(id),null===(_this$opts$onTileUnlo=(_this$opts2=this.opts).onTileUnload)||void 0===_this$opts$onTileUnlo||_this$opts$onTileUnlo.call(_this$opts2,tile);if(_cache.size<=maxCacheSize&&this._cacheByteSize<=maxCacheByteSize)break}this._rebuildTree(),this._dirty=!0}this._dirty&&(this._tiles=Array.from(this._cache.values()).sort(((t1,t2)=>t1.zoom-t2.zoom)),this._dirty=!1)}_getTile(index,create){const id=this.getTileId(index);let tile=this._cache.get(id),needsReload=!1;return!tile&&create?(tile=new Tile2DHeader(index),Object.assign(tile,this.getTileMetadata(tile.index)),Object.assign(tile,{id:id,zoom:this.getTileZoom(tile.index)}),needsReload=!0,this._cache.set(id,tile),this._dirty=!0):tile&&tile.needsReload&&(needsReload=!0),tile&&needsReload&&tile.loadData({getData:this.opts.getTileData,requestScheduler:this._requestScheduler,onLoad:this.onTileLoad,onError:this.opts.onTileError}),tile}_getNearestAncestor(tile){const{_minZoom:_minZoom=0}=this;let index=tile.index;for(;this.getTileZoom(index)>_minZoom;){index=this.getParentIndex(index);const parent=this._getTile(index);if(parent)return parent}return null}}function getPlaceholderInAncestors(startTile){let tile=startTile;for(;tile;){if(tile.isLoaded||tile.content)return tile.state|=TILE_STATE_VISIBLE,!0;tile=tile.parent}return!1}function getPlaceholderInChildren(tile){for(const child of tile.children)child.isLoaded||child.content?child.state|=TILE_STATE_VISIBLE:getPlaceholderInChildren(child)}const tile_layer_defaultProps={TilesetClass:Tileset2D,data:{type:"data",value:[]},dataComparator:urlType.equal,renderSubLayers:{type:"function",value:props=>new geojson_layer.Z(props)},getTileData:{type:"function",optional:!0,value:null},onViewportLoad:{type:"function",optional:!0,value:null},onTileLoad:{type:"function",value:tile=>{}},onTileUnload:{type:"function",value:tile=>{}},onTileError:{type:"function",value:err=>console.error(err)},extent:{type:"array",optional:!0,value:null,compare:!0},tileSize:512,maxZoom:null,minZoom:0,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:"best-available",zRange:null,maxRequests:6,zoomOffset:0};class TileLayer extends composite_layer.Z{initializeState(){this.state={tileset:null,isLoaded:!1}}finalizeState(){var _this$state,_this$state$tileset;null===(_this$state=this.state)||void 0===_this$state||null===(_this$state$tileset=_this$state.tileset)||void 0===_this$state$tileset||_this$state$tileset.finalize()}get isLoaded(){var _this$state2,_this$state2$tileset;return null===(_this$state2=this.state)||void 0===_this$state2||null===(_this$state2$tileset=_this$state2.tileset)||void 0===_this$state2$tileset?void 0:_this$state2$tileset.selectedTiles.every((tile=>tile.isLoaded&&tile.layers&&tile.layers.every((layer=>layer.isLoaded))))}shouldUpdateState({changeFlags:changeFlags}){return changeFlags.somethingChanged}updateState({changeFlags:changeFlags}){let{tileset:tileset}=this.state;const propsChanged=changeFlags.propsOrDataChanged||changeFlags.updateTriggersChanged,dataChanged=changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getTileData);tileset?propsChanged&&(tileset.setOptions(this._getTilesetOptions()),dataChanged?tileset.reloadAll():this.state.tileset.tiles.forEach((tile=>{tile.layers=null}))):(tileset=new this.props.TilesetClass(this._getTilesetOptions()),this.setState({tileset:tileset})),this._updateTileset()}_getTilesetOptions(){const{tileSize:tileSize,maxCacheSize:maxCacheSize,maxCacheByteSize:maxCacheByteSize,refinementStrategy:refinementStrategy,extent:extent,maxZoom:maxZoom,minZoom:minZoom,maxRequests:maxRequests,zoomOffset:zoomOffset}=this.props;return{maxCacheSize:maxCacheSize,maxCacheByteSize:maxCacheByteSize,maxZoom:maxZoom,minZoom:minZoom,tileSize:tileSize,refinementStrategy:refinementStrategy,extent:extent,maxRequests:maxRequests,zoomOffset:zoomOffset,getTileData:this.getTileData.bind(this),onTileLoad:this._onTileLoad.bind(this),onTileError:this._onTileError.bind(this),onTileUnload:this._onTileUnload.bind(this)}}_updateTileset(){const{tileset:tileset}=this.state,{zRange:zRange,modelMatrix:modelMatrix}=this.props,frameNumber=tileset.update(this.context.viewport,{zRange:zRange,modelMatrix:modelMatrix}),{isLoaded:isLoaded}=tileset,loadingStateChanged=this.state.isLoaded!==isLoaded,tilesetChanged=this.state.frameNumber!==frameNumber;isLoaded&&(loadingStateChanged||tilesetChanged)&&this._onViewportLoad(),tilesetChanged&&this.setState({frameNumber:frameNumber}),this.state.isLoaded=isLoaded}_onViewportLoad(){const{tileset:tileset}=this.state,{onViewportLoad:onViewportLoad}=this.props;onViewportLoad&&onViewportLoad(tileset.selectedTiles)}_onTileLoad(tile){this.props.onTileLoad(tile),tile.layers=null,this.setNeedsUpdate()}_onTileError(error,tile){this.props.onTileError(error),tile.layers=null,this.setNeedsUpdate()}_onTileUnload(tile){this.props.onTileUnload(tile)}getTileData(tile){const{data:data,getTileData:getTileData,fetch:fetch}=this.props,{signal:signal}=tile;return tile.url="string"==typeof data||Array.isArray(data)?getURLFromTemplate(data,tile):null,getTileData?getTileData(tile):fetch&&tile.url?fetch(tile.url,{propName:"data",layer:this,signal:signal}):null}renderSubLayers(props){return this.props.renderSubLayers(props)}getSubLayerPropsByTile(tile){return null}getPickingInfo({info:info,sourceLayer:sourceLayer}){const sourceTile=sourceLayer.props.tile;return info.picked&&(info.tile=sourceTile),info.sourceTile=sourceTile,info}_updateAutoHighlight(info){const sourceTile=info.sourceTile;if(sourceTile&&sourceTile.layers)for(const layer of sourceTile.layers)layer.updateAutoHighlight(info)}renderLayers(){return this.state.tileset.tiles.map((tile=>{const subLayerProps=this.getSubLayerPropsByTile(tile);if(tile.isLoaded||tile.content)if(tile.layers)subLayerProps&&tile.layers[0]&&Object.keys(subLayerProps).some((propName=>tile.layers[0].props[propName]!==subLayerProps[propName]))&&(tile.layers=tile.layers.map((layer=>layer.clone(subLayerProps))));else{const layers=this.renderSubLayers({...this.props,id:"".concat(this.id,"-").concat(tile.id),data:tile.content,_offset:0,tile:tile});tile.layers=(0,flatten.x)(layers,Boolean).map((layer=>layer.clone({tile:tile,...subLayerProps})))}else;return tile.layers}))}filterSubLayer({layer:layer,cullRect:cullRect}){const{tile:tile}=layer.props;return this.state.tileset.isTileVisible(tile,cullRect)}}(0,defineProperty.Z)(TileLayer,"defaultProps",tile_layer_defaultProps),(0,defineProperty.Z)(TileLayer,"layerName","TileLayer");var path_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/path-layer/path-layer.js");class TripsLayer extends path_layer.Z{getShaders(){const shaders=super.getShaders();return shaders.inject={"vs:#decl":"uniform float trailLength;\nattribute float instanceTimestamps;\nattribute float instanceNextTimestamps;\nvarying float vTime;\n","vs:#main-end":"vTime = instanceTimestamps + (instanceNextTimestamps - instanceTimestamps) * vPathPosition.y / vPathLength;\n","fs:#decl":"uniform bool fadeTrail;\nuniform float trailLength;\nuniform float currentTime;\nvarying float vTime;\n","fs:#main-start":"if(vTime > currentTime || (fadeTrail && (vTime < currentTime - trailLength))) {\n  discard;\n}\n","fs:DECKGL_FILTER_COLOR":"if(fadeTrail) {\n  color.a *= 1.0 - (currentTime - vTime) / trailLength;\n}\n"},shaders}initializeState(){super.initializeState();this.getAttributeManager().addInstanced({timestamps:{size:1,accessor:"getTimestamps",shaderAttributes:{instanceTimestamps:{vertexOffset:0},instanceNextTimestamps:{vertexOffset:1}}}})}draw(params){const{fadeTrail:fadeTrail,trailLength:trailLength,currentTime:currentTime}=this.props;params.uniforms={...params.uniforms,fadeTrail:fadeTrail,trailLength:trailLength,currentTime:currentTime},super.draw(params)}}(0,defineProperty.Z)(TripsLayer,"layerName","TripsLayer"),(0,defineProperty.Z)(TripsLayer,"defaultProps",{fadeTrail:!0,trailLength:{type:"number",value:120,min:0},currentTime:{type:"number",value:0,min:0},getTimestamps:{type:"accessor",value:d=>d.timestamps}});var h3_js_es=__webpack_require__("./node_modules/h3-js/dist/browser/h3-js.es.js"),iterable_utils=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/iterable-utils.js"),column_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/column-layer/column-layer.js");function normalizeLongitudes(vertices,refLng){refLng=void 0===refLng?vertices[0][0]:refLng;for(const pt of vertices){const deltaLng=pt[0]-refLng;deltaLng>180?pt[0]-=360:deltaLng<-180&&(pt[0]+=360)}}function getHexagonCentroid(getHexagon,object,objectInfo){const hexagonId=getHexagon(object,objectInfo),[lat,lng]=(0,h3_js_es.h3ToGeo)(hexagonId);return[lng,lat]}function h3ToPolygon(hexId,coverage=1){const vertices=(0,h3_js_es.h3ToGeoBoundary)(hexId,!0);return 1!==coverage?function scalePolygon(hexId,vertices,factor){const[lat,lng]=(0,h3_js_es.h3ToGeo)(hexId),actualCount=vertices.length;normalizeLongitudes(vertices,lng);const vertexCount=vertices[0]===vertices[actualCount-1]?actualCount-1:actualCount;for(let i=0;i<vertexCount;i++)vertices[i][0]=(0,common.t7)(lng,vertices[i][0],factor),vertices[i][1]=(0,common.t7)(lat,vertices[i][1],factor)}(hexId,vertices,coverage):normalizeLongitudes(vertices),vertices}const h3_hexagon_layer_defaultProps={...polygon_layer.Z.defaultProps,highPrecision:"auto",coverage:{type:"number",min:0,max:1,value:1},centerHexagon:null,getHexagon:{type:"accessor",value:x=>x.hexagon},extruded:!0};class H3HexagonLayer extends composite_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}initializeState(){H3HexagonLayer._checkH3Lib(),this.state={edgeLengthKM:0,resolution:-1}}shouldUpdateState({changeFlags:changeFlags}){return this._shouldUseHighPrecision()?changeFlags.propsOrDataChanged:changeFlags.somethingChanged}updateState({props:props,changeFlags:changeFlags}){if(!0!==props.highPrecision&&(changeFlags.dataChanged||changeFlags.updateTriggersChanged&&changeFlags.updateTriggersChanged.getHexagon)){const dataProps=this._calculateH3DataProps();this.setState(dataProps)}this._updateVertices(this.context.viewport)}_calculateH3DataProps(){let resolution=-1,hasPentagon=!1,hasMultipleRes=!1;const{iterable:iterable,objectInfo:objectInfo}=(0,iterable_utils.jB)(this.props.data);for(const object of iterable){objectInfo.index++;const hexId=this.props.getHexagon(object,objectInfo),hexResolution=(0,h3_js_es.h3GetResolution)(hexId);if(resolution<0){if(resolution=hexResolution,!this.props.highPrecision)break}else if(resolution!==hexResolution){hasMultipleRes=!0;break}if((0,h3_js_es.h3IsPentagon)(hexId)){hasPentagon=!0;break}}return{resolution:resolution,edgeLengthKM:resolution>=0?(0,h3_js_es.edgeLength)(resolution,"km"):0,hasMultipleRes:hasMultipleRes,hasPentagon:hasPentagon}}_shouldUseHighPrecision(){if("auto"===this.props.highPrecision){const{resolution:resolution,hasPentagon:hasPentagon,hasMultipleRes:hasMultipleRes}=this.state,{viewport:viewport}=this.context;return Boolean(null==viewport?void 0:viewport.resolution)||hasMultipleRes||hasPentagon||resolution>=0&&resolution<=5}return this.props.highPrecision}_updateVertices(viewport){if(this._shouldUseHighPrecision())return;const{resolution:resolution,edgeLengthKM:edgeLengthKM,centerHex:centerHex}=this.state;if(resolution<0)return;const hex=this.props.centerHexagon||(0,h3_js_es.geoToH3)(viewport.latitude,viewport.longitude,resolution);if(centerHex===hex)return;if(centerHex){const distance=(0,h3_js_es.h3Distance)(centerHex,hex);if(distance>=0&&distance*edgeLengthKM<10)return}const{unitsPerMeter:unitsPerMeter}=viewport.distanceScales;let vertices=h3ToPolygon(hex);const[centerLat,centerLng]=(0,h3_js_es.h3ToGeo)(hex),[centerX,centerY]=viewport.projectFlat([centerLng,centerLat]);vertices=vertices.map((p=>{const worldPosition=viewport.projectFlat(p);return[(worldPosition[0]-centerX)/unitsPerMeter[0],(worldPosition[1]-centerY)/unitsPerMeter[1]]})),this.setState({centerHex:hex,vertices:vertices})}renderLayers(){return this._shouldUseHighPrecision()?this._renderPolygonLayer():this._renderColumnLayer()}_getForwardProps(){const{elevationScale:elevationScale,material:material,coverage:coverage,extruded:extruded,wireframe:wireframe,stroked:stroked,filled:filled,lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels,getFillColor:getFillColor,getElevation:getElevation,getLineColor:getLineColor,getLineWidth:getLineWidth,transitions:transitions,updateTriggers:updateTriggers}=this.props;return{elevationScale:elevationScale,extruded:extruded,coverage:coverage,wireframe:wireframe,stroked:stroked,filled:filled,lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels,material:material,getElevation:getElevation,getFillColor:getFillColor,getLineColor:getLineColor,getLineWidth:getLineWidth,transitions:transitions,updateTriggers:{getFillColor:updateTriggers.getFillColor,getElevation:updateTriggers.getElevation,getLineColor:updateTriggers.getLineColor,getLineWidth:updateTriggers.getLineWidth}}}_renderPolygonLayer(){const{data:data,getHexagon:getHexagon,updateTriggers:updateTriggers,coverage:coverage}=this.props,SubLayerClass=this.getSubLayerClass("hexagon-cell-hifi",polygon_layer.Z),forwardProps=this._getForwardProps();return forwardProps.updateTriggers.getPolygon=function mergeTriggers(getHexagon,coverage){let trigger;return trigger=null==getHexagon?coverage:"object"==typeof getHexagon?{...getHexagon,coverage:coverage}:{getHexagon:getHexagon,coverage:coverage},trigger}(updateTriggers.getHexagon,coverage),new SubLayerClass(forwardProps,this.getSubLayerProps({id:"hexagon-cell-hifi",updateTriggers:forwardProps.updateTriggers}),{data:data,_normalize:!1,_windingOrder:"CCW",positionFormat:"XY",getPolygon:(object,objectInfo)=>function flattenPolygon(vertices){const positions=new Float64Array(2*vertices.length);let i=0;for(const pt of vertices)positions[i++]=pt[0],positions[i++]=pt[1];return positions}(h3ToPolygon(getHexagon(object,objectInfo),coverage))})}_renderColumnLayer(){const{data:data,getHexagon:getHexagon,updateTriggers:updateTriggers}=this.props,SubLayerClass=this.getSubLayerClass("hexagon-cell",column_layer.Z),forwardProps=this._getForwardProps();return forwardProps.updateTriggers.getPosition=updateTriggers.getHexagon,new SubLayerClass(forwardProps,this.getSubLayerProps({id:"hexagon-cell",flatShading:!0,updateTriggers:forwardProps.updateTriggers}),{data:data,diskResolution:6,radius:1,vertices:this.state.vertices,getPosition:getHexagonCentroid.bind(null,getHexagon)})}}(0,defineProperty.Z)(H3HexagonLayer,"defaultProps",h3_hexagon_layer_defaultProps),(0,defineProperty.Z)(H3HexagonLayer,"layerName","H3HexagonLayer"),(0,defineProperty.Z)(H3HexagonLayer,"_checkH3Lib",(()=>{}));class H3ClusterLayer extends GeoCellLayer{initializeState(){H3HexagonLayer._checkH3Lib()}updateState({props:props,changeFlags:changeFlags}){if(changeFlags.dataChanged||changeFlags.updateTriggersChanged&&changeFlags.updateTriggersChanged.getHexagons){const{data:data,getHexagons:getHexagons}=props,polygons=[],{iterable:iterable,objectInfo:objectInfo}=(0,iterable_utils.jB)(data);for(const object of iterable){objectInfo.index++;const hexagons=getHexagons(object,objectInfo),multiPolygon=(0,h3_js_es.h3SetToMultiPolygon)(hexagons,!0);for(const polygon of multiPolygon)polygons.push(this.getSubLayerRow({polygon:polygon},object,objectInfo.index))}this.setState({polygons:polygons})}}indexToBounds(){const{getElevation:getElevation,getFillColor:getFillColor,getLineColor:getLineColor,getLineWidth:getLineWidth}=this.props;return{data:this.state.polygons,getPolygon:d=>d.polygon,getElevation:this.getSubLayerAccessor(getElevation),getFillColor:this.getSubLayerAccessor(getFillColor),getLineColor:this.getSubLayerAccessor(getLineColor),getLineWidth:this.getSubLayerAccessor(getLineWidth)}}}(0,defineProperty.Z)(H3ClusterLayer,"layerName","H3ClusterLayer"),(0,defineProperty.Z)(H3ClusterLayer,"defaultProps",{getHexagons:{type:"accessor",value:d=>d.hexagons}});var geometry_geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js"),log=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/log.js"),point_cloud_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/point-cloud-layer/point-cloud-layer.js"),scenegraph_layer=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/esm/scenegraph-layer/scenegraph-layer.js"),gltf_material_parser=__webpack_require__("./node_modules/@luma.gl/experimental/dist/esm/gltf/gltf-material-parser.js"),pbr=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/pbr/pbr.js"),lib_model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),simple_mesh_layer=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/esm/simple-mesh-layer/simple-mesh-layer.js");class MeshLayer extends simple_mesh_layer.Z{getShaders(){const shaders=super.getShaders();return shaders.modules.push(pbr.b),{...shaders,vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nuniform bool pickFeatureIds;\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec4 uvRegions;\nin vec3 featureIdsPickingColors;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvec2 applyUVRegion(vec2 uv) {\n  #ifdef HAS_UV_REGIONS\n    return fract(uv) * (uvRegions.zw - uvRegions.xy) + uvRegions.xy;\n  #else\n    return uv;\n  #endif\n}\n\nvoid main(void) {\n  vec2 uv = applyUVRegion(texCoords);\n  geometry.uv = uv;\n\n  if (pickFeatureIds) {\n    geometry.pickingColor = featureIdsPickingColors;\n  } else {\n    geometry.pickingColor = instancePickingColors;\n  }\n\n  vTexCoord = uv;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale;\n  vec3 projectedPosition = project_position(positions);\n  position_commonspace = vec4(projectedPosition, 1.0);\n  gl_Position = project_common_position_to_clipspace(position_commonspace);\n\n  geometry.position = position_commonspace;\n  normals_commonspace = project_normal(instanceModelMatrix * normals);\n  geometry.normal = normals_commonspace;\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = uv;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  \n#ifdef MODULE_PBR\n\n  fragColor = vColor * pbr_filterColor(vec4(0));\n  geometry.uv = pbr_vUV;\n  fragColor.a *= opacity;\n\n#else\n\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n#endif\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n"}}initializeState(){const{featureIds:featureIds}=this.props;super.initializeState();const attributeManager=this.getAttributeManager();featureIds&&attributeManager.add({featureIdsPickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateFeatureIdsPickingColors}})}updateState(params){super.updateState(params);const{props:props,oldProps:oldProps}=params;props.pbrMaterial!==oldProps.pbrMaterial&&this.updatePbrMaterialUniforms(props.pbrMaterial)}draw(opts){const{featureIds:featureIds}=this.props;this.state.model&&(this.state.model.setUniforms({u_Camera:this.state.model.getUniforms().project_uCameraPosition,pickFeatureIds:Boolean(featureIds)}),super.draw(opts))}getModel(mesh){const{id:id,pbrMaterial:pbrMaterial}=this.props,materialParser=this.parseMaterial(pbrMaterial,mesh);this.setState({materialParser:materialParser});const shaders=this.getShaders();!function validateGeometryAttributes(attributes){attributes.COLOR_0||attributes.colors||(attributes.colors={constant:!0,value:new Float32Array([1,1,1])})}(mesh.attributes);return new lib_model.Z(this.context.gl,{...this.getShaders(),id:id,geometry:mesh,defines:{...shaders.defines,...null==materialParser?void 0:materialParser.defines,HAS_UV_REGIONS:mesh.attributes.uvRegions},parameters:null==materialParser?void 0:materialParser.parameters,isInstanced:!0})}updatePbrMaterialUniforms(pbrMaterial){const{model:model}=this.state;if(model){const{mesh:mesh}=this.props,materialParser=this.parseMaterial(pbrMaterial,mesh);this.setState({materialParser:materialParser}),model.setUniforms(materialParser.uniforms)}}parseMaterial(pbrMaterial,mesh){var _this$state$materialP;const unlit=Boolean(pbrMaterial.pbrMetallicRoughness&&pbrMaterial.pbrMetallicRoughness.baseColorTexture);return null===(_this$state$materialP=this.state.materialParser)||void 0===_this$state$materialP||_this$state$materialP.delete(),new gltf_material_parser.Z(this.context.gl,{attributes:{NORMAL:mesh.attributes.normals,TEXCOORD_0:mesh.attributes.texCoords},material:{unlit:unlit,...pbrMaterial},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1})}calculateFeatureIdsPickingColors(attribute){const featureIds=this.props.featureIds,value=new Uint8ClampedArray(featureIds.length*attribute.size),pickingColor=[];for(let index=0;index<featureIds.length;index++)this.encodePickingColor(featureIds[index],pickingColor),value[3*index]=pickingColor[0],value[3*index+1]=pickingColor[1],value[3*index+2]=pickingColor[2];attribute.value=value}finalizeState(context){var _this$state$materialP2;super.finalizeState(context),null===(_this$state$materialP2=this.state.materialParser)||void 0===_this$state$materialP2||_this$state$materialP2.delete(),this.setState({materialParser:null})}}(0,defineProperty.Z)(MeshLayer,"layerName","MeshLayer"),(0,defineProperty.Z)(MeshLayer,"defaultProps",{pbrMaterial:{type:"object",value:null},featureIds:{type:"array",value:null,optional:!0}});var load=__webpack_require__("./node_modules/@loaders.gl/core/dist/esm/lib/api/load.js"),vec3=__webpack_require__("./node_modules/gl-matrix/esm/vec3.js");Math.max(6378137,6378137,6356752.314245179);function identity(x){return x}new vector3.Z;function fromCartographic(cartographic,result=[],map=identity){return"longitude"in cartographic?(result[0]=map(cartographic.longitude),result[1]=map(cartographic.latitude),result[2]=cartographic.height):"x"in cartographic?(result[0]=map(cartographic.x),result[1]=map(cartographic.y),result[2]=cartographic.z):(result[0]=map(cartographic[0]),result[1]=map(cartographic[1]),result[2]=cartographic[2]),result}function toCartographic(vector,cartographic,map=identity){return"longitude"in cartographic?(cartographic.longitude=map(vector[0]),cartographic.latitude=map(vector[1]),cartographic.height=vector[2]):"x"in cartographic?(cartographic.x=map(vector[0]),cartographic.y=map(vector[1]),cartographic.z=vector[2]):(cartographic[0]=map(vector[0]),cartographic[1]=map(vector[1]),cartographic[2]=vector[2]),cartographic}const scale_to_geodetic_surface_scratchVector=new vector3.Z,scaleToGeodeticSurfaceIntersection=new vector3.Z,scaleToGeodeticSurfaceGradient=new vector3.Z;const scratchOrigin=new vector3.Z,VECTOR_PRODUCT_LOCAL_FRAME={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},degeneratePositionLocalFrame={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},scratchAxisVectors={east:new vector3.Z,north:new vector3.Z,up:new vector3.Z,west:new vector3.Z,south:new vector3.Z,down:new vector3.Z},scratchVector1=new vector3.Z,ellipsoid_transform_scratchVector2=new vector3.Z,ellipsoid_transform_scratchVector3=new vector3.Z;function localFrameToFixedFrame(ellipsoid,firstAxis,secondAxis,thirdAxis,cartesianOrigin,result){const thirdAxisInferred=VECTOR_PRODUCT_LOCAL_FRAME[firstAxis]&&VECTOR_PRODUCT_LOCAL_FRAME[firstAxis][secondAxis];let firstAxisVector,secondAxisVector,thirdAxisVector;(0,lib_assert.Z)(thirdAxisInferred&&(!thirdAxis||thirdAxis===thirdAxisInferred));const origin=scratchOrigin.copy(cartesianOrigin);if((0,common.fS)(origin.x,0,1e-14)&&(0,common.fS)(origin.y,0,1e-14)){const sign=Math.sign(origin.z);firstAxisVector=scratchVector1.fromArray(degeneratePositionLocalFrame[firstAxis]),"east"!==firstAxis&&"west"!==firstAxis&&firstAxisVector.scale(sign),secondAxisVector=ellipsoid_transform_scratchVector2.fromArray(degeneratePositionLocalFrame[secondAxis]),"east"!==secondAxis&&"west"!==secondAxis&&secondAxisVector.scale(sign),thirdAxisVector=ellipsoid_transform_scratchVector3.fromArray(degeneratePositionLocalFrame[thirdAxis]),"east"!==thirdAxis&&"west"!==thirdAxis&&thirdAxisVector.scale(sign)}else{const{up:up,east:east,north:north}=scratchAxisVectors;east.set(-origin.y,origin.x,0).normalize(),ellipsoid.geodeticSurfaceNormal(origin,up),north.copy(up).cross(east);const{down:down,west:west,south:south}=scratchAxisVectors;down.copy(up).scale(-1),west.copy(east).scale(-1),south.copy(north).scale(-1),firstAxisVector=scratchAxisVectors[firstAxis],secondAxisVector=scratchAxisVectors[secondAxis],thirdAxisVector=scratchAxisVectors[thirdAxis]}return result[0]=firstAxisVector.x,result[1]=firstAxisVector.y,result[2]=firstAxisVector.z,result[3]=0,result[4]=secondAxisVector.x,result[5]=secondAxisVector.y,result[6]=secondAxisVector.z,result[7]=0,result[8]=thirdAxisVector.x,result[9]=thirdAxisVector.y,result[10]=thirdAxisVector.z,result[11]=0,result[12]=origin.x,result[13]=origin.y,result[14]=origin.z,result[15]=1,result}const ellipsoid_scratchVector=new vector3.Z,ellipsoid_scratchNormal=new vector3.Z,scratchK=new vector3.Z,ellipsoid_scratchPosition=new vector3.Z,scratchHeight=new vector3.Z,scratchCartesian=new vector3.Z;class Ellipsoid{constructor(x=0,y=0,z=0){(0,defineProperty.Z)(this,"radii",void 0),(0,defineProperty.Z)(this,"radiiSquared",void 0),(0,defineProperty.Z)(this,"radiiToTheFourth",void 0),(0,defineProperty.Z)(this,"oneOverRadii",void 0),(0,defineProperty.Z)(this,"oneOverRadiiSquared",void 0),(0,defineProperty.Z)(this,"minimumRadius",void 0),(0,defineProperty.Z)(this,"maximumRadius",void 0),(0,defineProperty.Z)(this,"centerToleranceSquared",math_utils.Z.EPSILON1),(0,defineProperty.Z)(this,"squaredXOverSquaredZ",void 0),(0,lib_assert.Z)(x>=0),(0,lib_assert.Z)(y>=0),(0,lib_assert.Z)(z>=0),this.radii=new vector3.Z(x,y,z),this.radiiSquared=new vector3.Z(x*x,y*y,z*z),this.radiiToTheFourth=new vector3.Z(x*x*x*x,y*y*y*y,z*z*z*z),this.oneOverRadii=new vector3.Z(0===x?0:1/x,0===y?0:1/y,0===z?0:1/z),this.oneOverRadiiSquared=new vector3.Z(0===x?0:1/(x*x),0===y?0:1/(y*y),0===z?0:1/(z*z)),this.minimumRadius=Math.min(x,y,z),this.maximumRadius=Math.max(x,y,z),0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}equals(right){return this===right||Boolean(right&&this.radii.equals(right.radii))}toString(){return this.radii.toString()}cartographicToCartesian(cartographic,result=[0,0,0]){const normal=ellipsoid_scratchNormal,k=scratchK,[,,height]=cartographic;this.geodeticSurfaceNormalCartographic(cartographic,normal),k.copy(this.radiiSquared).scale(normal);const gamma=Math.sqrt(normal.dot(k));return k.scale(1/gamma),normal.scale(height),k.add(normal),k.to(result)}cartesianToCartographic(cartesian,result=[0,0,0]){scratchCartesian.from(cartesian);const point=this.scaleToGeodeticSurface(scratchCartesian,ellipsoid_scratchPosition);if(!point)return;const normal=this.geodeticSurfaceNormal(point,ellipsoid_scratchNormal),h=scratchHeight;h.copy(scratchCartesian).subtract(point);return function toCartographicFromRadians(vector,cartographic){return toCartographic(vector,cartographic,common.vc._cartographicRadians?identity:common.Ux)}([Math.atan2(normal.y,normal.x),Math.asin(normal.z),Math.sign(vec3.AK(h,scratchCartesian))*vec3.kE(h)],result)}eastNorthUpToFixedFrame(origin,result=new matrix4.Z){return localFrameToFixedFrame(this,"east","north","up",origin,result)}localFrameToFixedFrame(firstAxis,secondAxis,thirdAxis,origin,result=new matrix4.Z){return localFrameToFixedFrame(this,firstAxis,secondAxis,thirdAxis,origin,result)}geocentricSurfaceNormal(cartesian,result=[0,0,0]){return ellipsoid_scratchVector.from(cartesian).normalize().to(result)}geodeticSurfaceNormalCartographic(cartographic,result=[0,0,0]){const cartographicVectorRadians=function fromCartographicToRadians(cartographic,vector=[]){return fromCartographic(cartographic,vector,common.vc._cartographicRadians?identity:common.Yr)}(cartographic),longitude=cartographicVectorRadians[0],latitude=cartographicVectorRadians[1],cosLatitude=Math.cos(latitude);return ellipsoid_scratchVector.set(cosLatitude*Math.cos(longitude),cosLatitude*Math.sin(longitude),Math.sin(latitude)).normalize(),ellipsoid_scratchVector.to(result)}geodeticSurfaceNormal(cartesian,result=[0,0,0]){return ellipsoid_scratchVector.from(cartesian).scale(this.oneOverRadiiSquared).normalize().to(result)}scaleToGeodeticSurface(cartesian,result){return function scaleToGeodeticSurface(cartesian,ellipsoid,result=[]){const{oneOverRadii:oneOverRadii,oneOverRadiiSquared:oneOverRadiiSquared,centerToleranceSquared:centerToleranceSquared}=ellipsoid;scale_to_geodetic_surface_scratchVector.from(cartesian);const positionX=scale_to_geodetic_surface_scratchVector.x,positionY=scale_to_geodetic_surface_scratchVector.y,positionZ=scale_to_geodetic_surface_scratchVector.z,oneOverRadiiX=oneOverRadii.x,oneOverRadiiY=oneOverRadii.y,oneOverRadiiZ=oneOverRadii.z,x2=positionX*positionX*oneOverRadiiX*oneOverRadiiX,y2=positionY*positionY*oneOverRadiiY*oneOverRadiiY,z2=positionZ*positionZ*oneOverRadiiZ*oneOverRadiiZ,squaredNorm=x2+y2+z2,ratio=Math.sqrt(1/squaredNorm);if(!Number.isFinite(ratio))return;const intersection=scaleToGeodeticSurfaceIntersection;if(intersection.copy(cartesian).scale(ratio),squaredNorm<centerToleranceSquared)return intersection.to(result);const oneOverRadiiSquaredX=oneOverRadiiSquared.x,oneOverRadiiSquaredY=oneOverRadiiSquared.y,oneOverRadiiSquaredZ=oneOverRadiiSquared.z,gradient=scaleToGeodeticSurfaceGradient;gradient.set(intersection.x*oneOverRadiiSquaredX*2,intersection.y*oneOverRadiiSquaredY*2,intersection.z*oneOverRadiiSquaredZ*2);let xMultiplier,yMultiplier,zMultiplier,func,lambda=(1-ratio)*scale_to_geodetic_surface_scratchVector.len()/(.5*gradient.len()),correction=0;do{lambda-=correction,xMultiplier=1/(1+lambda*oneOverRadiiSquaredX),yMultiplier=1/(1+lambda*oneOverRadiiSquaredY),zMultiplier=1/(1+lambda*oneOverRadiiSquaredZ);const xMultiplier2=xMultiplier*xMultiplier,yMultiplier2=yMultiplier*yMultiplier,zMultiplier2=zMultiplier*zMultiplier;func=x2*xMultiplier2+y2*yMultiplier2+z2*zMultiplier2-1,correction=func/(-2*(x2*(xMultiplier2*xMultiplier)*oneOverRadiiSquaredX+y2*(yMultiplier2*yMultiplier)*oneOverRadiiSquaredY+z2*(zMultiplier2*zMultiplier)*oneOverRadiiSquaredZ))}while(Math.abs(func)>math_utils.Z.EPSILON12);return scale_to_geodetic_surface_scratchVector.scale([xMultiplier,yMultiplier,zMultiplier]).to(result)}(cartesian,this,result)}scaleToGeocentricSurface(cartesian,result=[0,0,0]){ellipsoid_scratchPosition.from(cartesian);const positionX=ellipsoid_scratchPosition.x,positionY=ellipsoid_scratchPosition.y,positionZ=ellipsoid_scratchPosition.z,oneOverRadiiSquared=this.oneOverRadiiSquared,beta=1/Math.sqrt(positionX*positionX*oneOverRadiiSquared.x+positionY*positionY*oneOverRadiiSquared.y+positionZ*positionZ*oneOverRadiiSquared.z);return ellipsoid_scratchPosition.multiplyScalar(beta).to(result)}transformPositionToScaledSpace(position,result=[0,0,0]){return ellipsoid_scratchPosition.from(position).scale(this.oneOverRadii).to(result)}transformPositionFromScaledSpace(position,result=[0,0,0]){return ellipsoid_scratchPosition.from(position).scale(this.radii).to(result)}getSurfaceNormalIntersectionWithZAxis(position,buffer=0,result=[0,0,0]){(0,lib_assert.Z)((0,common.fS)(this.radii.x,this.radii.y,math_utils.Z.EPSILON15)),(0,lib_assert.Z)(this.radii.z>0),ellipsoid_scratchPosition.from(position);const z=ellipsoid_scratchPosition.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(z)>=this.radii.z-buffer))return ellipsoid_scratchPosition.set(0,0,z).to(result)}}(0,defineProperty.Z)(Ellipsoid,"WGS84",new Ellipsoid(6378137,6378137,6356752.314245179));var utils_hi_res_timestamp_process=__webpack_require__("./node_modules/process/browser.js");function hi_res_timestamp_getHiResTimestamp(){let timestamp;if("undefined"!=typeof window&&window.performance)timestamp=window.performance.now();else if(void 0!==utils_hi_res_timestamp_process&&utils_hi_res_timestamp_process.hrtime){const timeParts=utils_hi_res_timestamp_process.hrtime();timestamp=1e3*timeParts[0]+timeParts[1]/1e6}else timestamp=Date.now();return timestamp}class stat_Stat{constructor(name,type){this.name=void 0,this.type=void 0,this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=name,this.type=type,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(samples){return this.sampleSize=samples,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(value){return this._count+=value,this._samples++,this._checkSampling(),this}subtractCount(value){return this._count-=value,this._samples++,this._checkSampling(),this}addTime(time){return this._time+=time,this.lastTiming=time,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=hi_res_timestamp_getHiResTimestamp(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(hi_res_timestamp_getHiResTimestamp()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class stats_Stats{constructor(options){this.id=void 0,this.stats={},this.id=options.id,this.stats={},this._initializeStats(options.stats),Object.seal(this)}get(name){let type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:name,type:type})}get size(){return Object.keys(this.stats).length}reset(){for(const stat of Object.values(this.stats))stat.reset();return this}forEach(fn){for(const stat of Object.values(this.stats))fn(stat)}getTable(){const table={};return this.forEach((stat=>{table[stat.name]={time:stat.time||0,count:stat.count||0,average:stat.getAverageTime()||0,hz:stat.getHz()||0}})),table}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((stat=>this._getOrCreate(stat)))}_getOrCreate(stat){const{name:name,type:type}=stat;let result=this.stats[name];return result||(result=stat instanceof stat_Stat?stat:new stat_Stat(name,type),this.stats[name]=result),result}}var path=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/esm/lib/path-utils/path.js");class DoublyLinkedListNode{constructor(item,previous,next){(0,defineProperty.Z)(this,"item",void 0),(0,defineProperty.Z)(this,"previous",void 0),(0,defineProperty.Z)(this,"next",void 0),this.item=item,this.previous=previous,this.next=next}}class DoublyLinkedList{constructor(){(0,defineProperty.Z)(this,"head",null),(0,defineProperty.Z)(this,"tail",null),(0,defineProperty.Z)(this,"_length",0)}get length(){return this._length}add(item){const node=new DoublyLinkedListNode(item,this.tail,null);return this.tail?(this.tail.next=node,this.tail=node):(this.head=node,this.tail=node),++this._length,node}remove(node){node&&(node.previous&&node.next?(node.previous.next=node.next,node.next.previous=node.previous):node.previous?(node.previous.next=null,this.tail=node.previous):node.next?(node.next.previous=null,this.head=node.next):(this.head=null,this.tail=null),node.next=null,node.previous=null,--this._length)}splice(node,nextNode){node!==nextNode&&(this.remove(nextNode),this._insert(node,nextNode))}_insert(node,nextNode){const oldNodeNext=node.next;node.next=nextNode,this.tail===node?this.tail=nextNode:oldNodeNext.previous=nextNode,nextNode.next=oldNodeNext,nextNode.previous=node,++this._length}}class TilesetCache{constructor(){(0,defineProperty.Z)(this,"_list",void 0),(0,defineProperty.Z)(this,"_sentinel",void 0),(0,defineProperty.Z)(this,"_trimTiles",void 0),this._list=new DoublyLinkedList,this._sentinel=this._list.add("sentinel"),this._trimTiles=!1}reset(){this._list.splice(this._list.tail,this._sentinel)}touch(tile){const node=tile._cacheNode;node&&this._list.splice(this._sentinel,node)}add(tileset,tile,addCallback){tile._cacheNode||(tile._cacheNode=this._list.add(tile),addCallback&&addCallback(tileset,tile))}unloadTile(tileset,tile,unloadCallback){const node=tile._cacheNode;node&&(this._list.remove(node),tile._cacheNode=null,unloadCallback&&unloadCallback(tileset,tile))}unloadTiles(tileset,unloadCallback){const trimTiles=this._trimTiles;this._trimTiles=!1;const list=this._list,maximumMemoryUsageInBytes=1024*tileset.maximumMemoryUsage*1024,sentinel=this._sentinel;let node=list.head;for(;node!==sentinel&&(tileset.gpuMemoryUsageInBytes>maximumMemoryUsageInBytes||trimTiles);){const tile=node.item;node=node.next,this.unloadTile(tileset,tile,unloadCallback)}}trim(){this._trimTiles=!0}}var env_utils_assert=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/esm/lib/env-utils/assert.js");const frame_state_scratchVector=new vector3.Z,frame_state_scratchPosition=new vector3.Z,cullingVolume=new culling_volume_CullingVolume([new plane_Plane,new plane_Plane,new plane_Plane,new plane_Plane,new plane_Plane,new plane_Plane]);function getFrameState(viewport,frameNumber){const{cameraDirection:cameraDirection,cameraUp:cameraUp,height:height}=viewport,{metersPerUnit:metersPerUnit}=viewport.distanceScales,viewportCenterCartesian=worldToCartesian(viewport,viewport.center),enuToFixedTransform=Ellipsoid.WGS84.eastNorthUpToFixedFrame(viewportCenterCartesian),cameraPositionCartographic=viewport.unprojectPosition(viewport.cameraPosition),cameraPositionCartesian=Ellipsoid.WGS84.cartographicToCartesian(cameraPositionCartographic,new vector3.Z),cameraDirectionCartesian=new vector3.Z(enuToFixedTransform.transformAsVector(new vector3.Z(cameraDirection).scale(metersPerUnit))).normalize(),cameraUpCartesian=new vector3.Z(enuToFixedTransform.transformAsVector(new vector3.Z(cameraUp).scale(metersPerUnit))).normalize();!function commonSpacePlanesToWGS84(viewport){const frustumPlanes=viewport.getFrustumPlanes(),nearCenterCommon=closestPointOnPlane(frustumPlanes.near,viewport.cameraPosition),nearCenterCartesian=worldToCartesian(viewport,nearCenterCommon),cameraCartesian=worldToCartesian(viewport,viewport.cameraPosition,frame_state_scratchPosition);let i=0;cullingVolume.planes[i++].fromPointNormal(nearCenterCartesian,frame_state_scratchVector.copy(nearCenterCartesian).subtract(cameraCartesian));for(const dir in frustumPlanes){if("near"===dir)continue;const cartesianPos=worldToCartesian(viewport,closestPointOnPlane(frustumPlanes[dir],nearCenterCommon,frame_state_scratchPosition),frame_state_scratchPosition);cullingVolume.planes[i++].fromPointNormal(cartesianPos,frame_state_scratchVector.copy(nearCenterCartesian).subtract(cartesianPos))}}(viewport);const ViewportClass=viewport.constructor,{longitude:longitude,latitude:latitude,width:width,bearing:bearing,zoom:zoom}=viewport;return{camera:{position:cameraPositionCartesian,direction:cameraDirectionCartesian,up:cameraUpCartesian},viewport:viewport,topDownViewport:new ViewportClass({longitude:longitude,latitude:latitude,height:height,width:width,bearing:bearing,zoom:zoom,pitch:0}),height:height,cullingVolume:cullingVolume,frameNumber:frameNumber,sseDenominator:1.15}}function closestPointOnPlane(plane,refPoint){let out=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new vector3.Z;const distanceToRef=plane.normal.dot(refPoint);return out.copy(plane.normal).scale(plane.distance-distanceToRef).add(refPoint),out}function worldToCartesian(viewport,point){let out=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new vector3.Z;const cartographicPos=viewport.unprojectPosition(point);return Ellipsoid.WGS84.cartographicToCartesian(cartographicPos,out)}const zoom_WGS84_RADIUS_Z=6356752.314245179,zoom_scratchVector=new vector3.Z;function getZoomFromBoundingVolume(boundingVolume,cartorgraphicCenter){if(boundingVolume instanceof OrientedBoundingBox){const{halfAxes:halfAxes}=boundingVolume,obbSize=function getObbSize(halfAxes){halfAxes.getColumn(0,zoom_scratchVector);const axeY=halfAxes.getColumn(1),axeZ=halfAxes.getColumn(2),farthestVertex=zoom_scratchVector.add(axeY).add(axeZ);return farthestVertex.len()}(halfAxes);return Math.log2(zoom_WGS84_RADIUS_Z/(obbSize+cartorgraphicCenter[2]))}if(boundingVolume instanceof bounding_sphere_BoundingSphere){const{radius:radius}=boundingVolume;return Math.log2(zoom_WGS84_RADIUS_Z/(radius+cartorgraphicCenter[2]))}if(boundingVolume.width&&boundingVolume.height){const{width:width,height:height}=boundingVolume;return(Math.log2(6378137/width)+Math.log2(6378137/height))/2}return 1}function getZoomFromFullExtent(fullExtent,cartorgraphicCenter,cartesianCenter){const extentVertex=Ellipsoid.WGS84.cartographicToCartesian([fullExtent.xmax,fullExtent.ymax,fullExtent.zmax],new vector3.Z),extentSize=Math.sqrt(Math.pow(extentVertex[0]-cartesianCenter[0],2)+Math.pow(extentVertex[1]-cartesianCenter[1],2)+Math.pow(extentVertex[2]-cartesianCenter[2],2));return Math.log2(zoom_WGS84_RADIUS_Z/(extentSize+cartorgraphicCenter[2]))}const TILE_CONTENT_STATE_UNLOADED=0,TILE_CONTENT_STATE_LOADING=1,TILE_CONTENT_STATE_READY=3,TILE_CONTENT_STATE_EXPIRED=4,TILE_CONTENT_STATE_FAILED=5,TILE_REFINEMENT={ADD:1,REPLACE:2},TILE_TYPE={EMPTY:"empty",SCENEGRAPH:"scenegraph",POINTCLOUD:"pointcloud",MESH:"mesh"},TILESET_TYPE={I3S:"I3S",TILES3D:"TILES3D"},LOD_METRIC_TYPE={GEOMETRIC_ERROR:"geometricError",MAX_SCREEN_THRESHOLD:"maxScreenThreshold"},TILE3D_OPTIMIZATION_HINT_USE_OPTIMIZATION=1;function bounding_volume_defined(x){return null!=x}const scratchPoint=new vector3.Z,scratchScale=new vector3.Z,scratchNorthWest=new vector3.Z,scratchSouthEast=new vector3.Z;function createBoundingVolume(boundingVolumeHeader,transform,result){if((0,env_utils_assert.h)(boundingVolumeHeader,"3D Tile: boundingVolume must be defined"),boundingVolumeHeader.box)return function createBox(box,transform,result){const center=new vector3.Z(box[0],box[1],box[2]);transform.transform(center,center);let origin=[];if(10===box.length){const halfSize=box.slice(3,6),quaternion=new classes_quaternion.Z;quaternion.fromArray(box,6);const x=new vector3.Z([1,0,0]),y=new vector3.Z([0,1,0]),z=new vector3.Z([0,0,1]);x.transformByQuaternion(quaternion),x.scale(halfSize[0]),y.transformByQuaternion(quaternion),y.scale(halfSize[1]),z.transformByQuaternion(quaternion),z.scale(halfSize[2]),origin=[...x.toArray(),...y.toArray(),...z.toArray()]}else origin=[...box.slice(3,6),...box.slice(6,9),...box.slice(9,12)];const xAxis=transform.transformAsVector(origin.slice(0,3)),yAxis=transform.transformAsVector(origin.slice(3,6)),zAxis=transform.transformAsVector(origin.slice(6,9)),halfAxes=new matrix3.Z([xAxis[0],xAxis[1],xAxis[2],yAxis[0],yAxis[1],yAxis[2],zAxis[0],zAxis[1],zAxis[2]]);if(bounding_volume_defined(result))return result.center=center,result.halfAxes=halfAxes,result;return new OrientedBoundingBox(center,halfAxes)}(boundingVolumeHeader.box,transform,result);if(boundingVolumeHeader.region){const[west,south,east,north,minHeight,maxHeight]=boundingVolumeHeader.region,northWest=Ellipsoid.WGS84.cartographicToCartesian([(0,common.RW)(west),(0,common.RW)(north),minHeight],scratchNorthWest),southEast=Ellipsoid.WGS84.cartographicToCartesian([(0,common.RW)(east),(0,common.RW)(south),maxHeight],scratchSouthEast),centerInCartesian=(new vector3.Z).addVectors(northWest,southEast).multiplyScalar(.5),radius=(new vector3.Z).subVectors(northWest,southEast).len()/2;return createSphere([centerInCartesian[0],centerInCartesian[1],centerInCartesian[2],radius],new matrix4.Z)}if(boundingVolumeHeader.sphere)return createSphere(boundingVolumeHeader.sphere,transform,result);throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")}function getCartographicBounds(boundingVolumeHeader,boundingVolume){if(boundingVolumeHeader.box)return function orientedBoundingBoxToCartographicBounds(boundingVolume){const result=emptyCartographicBounds(),{halfAxes:halfAxes}=boundingVolume,xAxis=new vector3.Z(halfAxes.getColumn(0)),yAxis=new vector3.Z(halfAxes.getColumn(1)),zAxis=new vector3.Z(halfAxes.getColumn(2));for(let x=0;x<2;x++){for(let y=0;y<2;y++){for(let z=0;z<2;z++)scratchPoint.copy(boundingVolume.center),scratchPoint.add(xAxis),scratchPoint.add(yAxis),scratchPoint.add(zAxis),addToCartographicBounds(result,scratchPoint),zAxis.negate();yAxis.negate()}xAxis.negate()}return result}(boundingVolume);if(boundingVolumeHeader.region){const[west,south,east,north,minHeight,maxHeight]=boundingVolumeHeader.region;return[[(0,common.RW)(west),(0,common.RW)(south),minHeight],[(0,common.RW)(east),(0,common.RW)(north),maxHeight]]}if(boundingVolumeHeader.sphere)return function boundingSphereToCartographicBounds(boundingVolume){const result=emptyCartographicBounds(),{center:center,radius:radius}=boundingVolume,point=Ellipsoid.WGS84.scaleToGeodeticSurface(center,scratchPoint);let zAxis;zAxis=point?Ellipsoid.WGS84.geodeticSurfaceNormal(point):new vector3.Z(0,0,1);let xAxis=new vector3.Z(zAxis[2],-zAxis[1],0);xAxis.len()>0?xAxis.normalize():xAxis=new vector3.Z(0,1,0);const yAxis=xAxis.clone().cross(zAxis);for(const axis of[xAxis,yAxis,zAxis]){scratchScale.copy(axis).scale(radius);for(let dir=0;dir<2;dir++)scratchPoint.copy(center),scratchPoint.add(scratchScale),addToCartographicBounds(result,scratchPoint),scratchScale.negate()}return result}(boundingVolume);throw new Error("Unkown boundingVolume type")}function createSphere(sphere,transform,result){const center=new vector3.Z(sphere[0],sphere[1],sphere[2]);transform.transform(center,center);const scale=transform.getScale(scratchScale),uniformScale=Math.max(Math.max(scale[0],scale[1]),scale[2]),radius=sphere[3]*uniformScale;return bounding_volume_defined(result)?(result.center=center,result.radius=radius,result):new bounding_sphere_BoundingSphere(center,radius)}function emptyCartographicBounds(){return[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]]}function addToCartographicBounds(target,cartesian){Ellipsoid.WGS84.cartesianToCartographic(cartesian,scratchPoint),target[0][0]=Math.min(target[0][0],scratchPoint[0]),target[0][1]=Math.min(target[0][1],scratchPoint[1]),target[0][2]=Math.min(target[0][2],scratchPoint[2]),target[1][0]=Math.max(target[1][0],scratchPoint[0]),target[1][1]=Math.max(target[1][1],scratchPoint[1]),target[1][2]=Math.max(target[1][2],scratchPoint[2])}new vector3.Z,new vector3.Z,new matrix4.Z,new vector3.Z,new vector3.Z,new vector3.Z;function getDynamicScreenSpaceError(tileset,distanceToCamera){if(tileset.dynamicScreenSpaceError&&tileset.dynamicScreenSpaceErrorComputedDensity){const density=tileset.dynamicScreenSpaceErrorComputedDensity,factor=tileset.dynamicScreenSpaceErrorFactor,dynamicError=function fog(distanceToCamera,density){const scalar=distanceToCamera*density;return 1-Math.exp(-scalar*scalar)}(distanceToCamera,density)*factor;return dynamicError}return 0}const cameraPositionCartesian=new vector3.Z,toEye=new vector3.Z,cameraPositionEnu=new vector3.Z,extraVertexEnu=new vector3.Z,projectedOriginVector=new vector3.Z,enuToCartesianMatrix=new matrix4.Z,cartesianToEnuMatrix=new matrix4.Z;function getProjectedRadius(tile,frameState){const{topDownViewport:viewport}=frameState,mbsLat=tile.header.mbs[1],mbsLon=tile.header.mbs[0],mbsZ=tile.header.mbs[2],mbsR=tile.header.mbs[3],mbsCenterCartesian=[...tile.boundingVolume.center],cameraPositionCartographic=viewport.unprojectPosition(viewport.cameraPosition);Ellipsoid.WGS84.cartographicToCartesian(cameraPositionCartographic,cameraPositionCartesian),toEye.copy(cameraPositionCartesian).subtract(mbsCenterCartesian).normalize(),Ellipsoid.WGS84.eastNorthUpToFixedFrame(mbsCenterCartesian,enuToCartesianMatrix),cartesianToEnuMatrix.copy(enuToCartesianMatrix).invert(),cameraPositionEnu.copy(cameraPositionCartesian).transform(cartesianToEnuMatrix);const projection=Math.sqrt(cameraPositionEnu[0]*cameraPositionEnu[0]+cameraPositionEnu[1]*cameraPositionEnu[1]),extraZ=projection*projection/cameraPositionEnu[2];extraVertexEnu.copy([cameraPositionEnu[0],cameraPositionEnu[1],extraZ]);const extraVectorCartesian=extraVertexEnu.transform(enuToCartesianMatrix).subtract(mbsCenterCartesian).normalize(),sphereMbsBorderVertexCartesian=toEye.cross(extraVectorCartesian).normalize().scale(mbsR).add(mbsCenterCartesian),sphereMbsBorderVertexCartographic=Ellipsoid.WGS84.cartesianToCartographic(sphereMbsBorderVertexCartesian),projectedOrigin=viewport.project([mbsLon,mbsLat,mbsZ]),projectedMbsBorderVertex=viewport.project(sphereMbsBorderVertexCartographic);return projectedOriginVector.copy(projectedOrigin).subtract(projectedMbsBorderVertex).magnitude()}class ManagedArray{constructor(){let length=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,defineProperty.Z)(this,"_map",new Map),(0,defineProperty.Z)(this,"_array",void 0),(0,defineProperty.Z)(this,"_length",void 0),this._array=new Array(length),this._length=length}get length(){return this._length}set length(length){this._length=length,length>this._array.length&&(this._array.length=length)}get values(){return this._array}get(index){return(0,env_utils_assert.h)(index<this._array.length),this._array[index]}set(index,element){(0,env_utils_assert.h)(index>=0),index>=this.length&&(this.length=index+1),this._map.has(this._array[index])&&this._map.delete(this._array[index]),this._array[index]=element,this._map.set(element,index)}delete(element){const index=this._map.get(element);index>=0&&(this._array.splice(index,1),this._map.delete(element),this.length--)}peek(){return this._array[this._length-1]}push(element){if(!this._map.has(element)){const index=this.length++;this._array[index]=element,this._map.set(element,index)}}pop(){const element=this._array[--this.length];return this._map.delete(element),element}reserve(length){(0,env_utils_assert.h)(length>=0),length>this._array.length&&(this._array.length=length)}resize(length){(0,env_utils_assert.h)(length>=0),this.length=length}trim(length){null==length&&(length=this.length),this._array.length=length}reset(){this._array=[],this._map=new Map,this._length=0}find(target){return this._map.has(target)}}const tileset_traverser_DEFAULT_PROPS={loadSiblings:!1,skipLevelOfDetail:!1,maximumScreenSpaceError:2,updateTransforms:!0,onTraversalEnd:()=>{},viewportTraversersMap:{},basePath:""};class TilesetTraverser{traversalFinished(frameState){return!0}constructor(options){(0,defineProperty.Z)(this,"options",void 0),(0,defineProperty.Z)(this,"root",null),(0,defineProperty.Z)(this,"selectedTiles",{}),(0,defineProperty.Z)(this,"requestedTiles",{}),(0,defineProperty.Z)(this,"emptyTiles",{}),(0,defineProperty.Z)(this,"lastUpdate",(new Date).getTime()),(0,defineProperty.Z)(this,"updateDebounceTime",1e3),(0,defineProperty.Z)(this,"_traversalStack",new ManagedArray),(0,defineProperty.Z)(this,"_emptyTraversalStack",new ManagedArray),(0,defineProperty.Z)(this,"_frameNumber",null),this.options={...tileset_traverser_DEFAULT_PROPS,...options}}traverse(root,frameState,options){this.root=root,this.options={...this.options,...options},this.reset(),this.updateTile(root,frameState),this._frameNumber=frameState.frameNumber,this.executeTraversal(root,frameState)}reset(){this.requestedTiles={},this.selectedTiles={},this.emptyTiles={},this._traversalStack.reset(),this._emptyTraversalStack.reset()}executeTraversal(root,frameState){const stack=this._traversalStack;for(root._selectionDepth=1,stack.push(root);stack.length>0;){const tile=stack.pop();let shouldRefine=!1;this.canTraverse(tile,frameState)&&(this.updateChildTiles(tile,frameState),shouldRefine=this.updateAndPushChildren(tile,frameState,stack,tile.hasRenderContent?tile._selectionDepth+1:tile._selectionDepth));const parent=tile.parent,parentRefines=Boolean(!parent||parent._shouldRefine),stoppedRefining=!shouldRefine;tile.hasRenderContent?tile.refine===TILE_REFINEMENT.ADD?(this.loadTile(tile,frameState),this.selectTile(tile,frameState)):tile.refine===TILE_REFINEMENT.REPLACE&&(this.loadTile(tile,frameState),stoppedRefining&&this.selectTile(tile,frameState)):(this.emptyTiles[tile.id]=tile,this.loadTile(tile,frameState),stoppedRefining&&this.selectTile(tile,frameState)),this.touchTile(tile,frameState),tile._shouldRefine=shouldRefine&&parentRefines}const newTime=(new Date).getTime();(this.traversalFinished(frameState)||newTime-this.lastUpdate>this.updateDebounceTime)&&(this.lastUpdate=newTime,this.options.onTraversalEnd(frameState))}updateChildTiles(tile,frameState){const children=tile.children;for(const child of children)this.updateTile(child,frameState)}updateAndPushChildren(tile,frameState,stack,depth){const{loadSiblings:loadSiblings,skipLevelOfDetail:skipLevelOfDetail}=this.options,children=tile.children;children.sort(this.compareDistanceToCamera.bind(this));const checkRefines=tile.refine===TILE_REFINEMENT.REPLACE&&tile.hasRenderContent&&!skipLevelOfDetail;let hasVisibleChild=!1,refines=!0;for(const child of children)if(child._selectionDepth=depth,child.isVisibleAndInRequestVolume?(stack.find(child)&&stack.delete(child),stack.push(child),hasVisibleChild=!0):(checkRefines||loadSiblings)&&(this.loadTile(child,frameState),this.touchTile(child,frameState)),checkRefines){let childRefines;if(childRefines=!!child._inRequestVolume&&(child.hasRenderContent?child.contentAvailable:this.executeEmptyTraversal(child,frameState)),refines=refines&&childRefines,!refines)return!1}return hasVisibleChild||(refines=!1),refines}updateTile(tile,frameState){this.updateTileVisibility(tile,frameState)}selectTile(tile,frameState){this.shouldSelectTile(tile)&&(tile._selectedFrame=frameState.frameNumber,this.selectedTiles[tile.id]=tile)}loadTile(tile,frameState){this.shouldLoadTile(tile)&&(tile._requestedFrame=frameState.frameNumber,tile._priority=tile._getPriority(),this.requestedTiles[tile.id]=tile)}touchTile(tile,frameState){tile.tileset._cache.touch(tile),tile._touchedFrame=frameState.frameNumber}canTraverse(tile,frameState){let useParentMetric=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ignoreVisibility=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!tile.hasChildren&&(tile.hasTilesetContent?!tile.contentExpired:!(!ignoreVisibility&&!tile.isVisibleAndInRequestVolume)&&this.shouldRefine(tile,frameState,useParentMetric))}shouldLoadTile(tile){return tile.hasUnloadedContent||tile.contentExpired}shouldSelectTile(tile){return tile.contentAvailable&&!this.options.skipLevelOfDetail}shouldRefine(tile,frameState){let useParentMetric=arguments.length>2&&void 0!==arguments[2]&&arguments[2],screenSpaceError=tile._screenSpaceError;return useParentMetric&&(screenSpaceError=tile.getScreenSpaceError(frameState,!0)),screenSpaceError>this.options.maximumScreenSpaceError}updateTileVisibility(tile,frameState){const viewportIds=[];if(this.options.viewportTraversersMap)for(const key in this.options.viewportTraversersMap){this.options.viewportTraversersMap[key]===frameState.viewport.id&&viewportIds.push(key)}else viewportIds.push(frameState.viewport.id);tile.updateVisibility(frameState,viewportIds)}compareDistanceToCamera(b,a){return b._distanceToCamera-a._distanceToCamera}anyChildrenVisible(tile,frameState){let anyVisible=!1;for(const child of tile.children)child.updateVisibility(frameState),anyVisible=anyVisible||child.isVisibleAndInRequestVolume;return anyVisible}executeEmptyTraversal(root,frameState){let allDescendantsLoaded=!0;const stack=this._emptyTraversalStack;for(stack.push(root);stack.length>0&&allDescendantsLoaded;){const tile=stack.pop();this.updateTile(tile,frameState),tile.isVisibleAndInRequestVolume||this.loadTile(tile,frameState),this.touchTile(tile,frameState);if(!tile.hasRenderContent&&this.canTraverse(tile,frameState,!1,!0)){const children=tile.children;for(const child of children)stack.find(child)&&stack.delete(child),stack.push(child)}else tile.contentAvailable||(allDescendantsLoaded=!1)}return allDescendantsLoaded}}const tile_3d_scratchVector=new vector3.Z;class Tile3D{constructor(tileset,header,parentHeader){let extendedId=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";(0,defineProperty.Z)(this,"tileset",void 0),(0,defineProperty.Z)(this,"header",void 0),(0,defineProperty.Z)(this,"id",void 0),(0,defineProperty.Z)(this,"url",void 0),(0,defineProperty.Z)(this,"parent",void 0),(0,defineProperty.Z)(this,"refine",void 0),(0,defineProperty.Z)(this,"type",void 0),(0,defineProperty.Z)(this,"contentUrl",void 0),(0,defineProperty.Z)(this,"lodMetricType","geometricError"),(0,defineProperty.Z)(this,"lodMetricValue",0),(0,defineProperty.Z)(this,"boundingVolume",null),(0,defineProperty.Z)(this,"content",null),(0,defineProperty.Z)(this,"contentState",TILE_CONTENT_STATE_UNLOADED),(0,defineProperty.Z)(this,"gpuMemoryUsageInBytes",0),(0,defineProperty.Z)(this,"children",[]),(0,defineProperty.Z)(this,"depth",0),(0,defineProperty.Z)(this,"viewportIds",[]),(0,defineProperty.Z)(this,"transform",new matrix4.Z),(0,defineProperty.Z)(this,"extensions",null),(0,defineProperty.Z)(this,"implicitTiling",null),(0,defineProperty.Z)(this,"userData",{}),(0,defineProperty.Z)(this,"computedTransform",void 0),(0,defineProperty.Z)(this,"hasEmptyContent",!1),(0,defineProperty.Z)(this,"hasTilesetContent",!1),(0,defineProperty.Z)(this,"traverser",new TilesetTraverser({})),(0,defineProperty.Z)(this,"_cacheNode",null),(0,defineProperty.Z)(this,"_frameNumber",null),(0,defineProperty.Z)(this,"_expireDate",null),(0,defineProperty.Z)(this,"_expiredContent",null),(0,defineProperty.Z)(this,"_boundingBox",void 0),(0,defineProperty.Z)(this,"_distanceToCamera",0),(0,defineProperty.Z)(this,"_screenSpaceError",0),(0,defineProperty.Z)(this,"_visibilityPlaneMask",void 0),(0,defineProperty.Z)(this,"_visible",void 0),(0,defineProperty.Z)(this,"_contentBoundingVolume",void 0),(0,defineProperty.Z)(this,"_viewerRequestVolume",void 0),(0,defineProperty.Z)(this,"_initialTransform",new matrix4.Z),(0,defineProperty.Z)(this,"_priority",0),(0,defineProperty.Z)(this,"_selectedFrame",0),(0,defineProperty.Z)(this,"_requestedFrame",0),(0,defineProperty.Z)(this,"_selectionDepth",0),(0,defineProperty.Z)(this,"_touchedFrame",0),(0,defineProperty.Z)(this,"_centerZDepth",0),(0,defineProperty.Z)(this,"_shouldRefine",!1),(0,defineProperty.Z)(this,"_stackLength",0),(0,defineProperty.Z)(this,"_visitedFrame",0),(0,defineProperty.Z)(this,"_inRequestVolume",!1),(0,defineProperty.Z)(this,"_lodJudge",null),this.header=header,this.tileset=tileset,this.id=extendedId||header.id,this.url=header.url,this.parent=parentHeader,this.refine=this._getRefine(header.refine),this.type=header.type,this.contentUrl=header.contentUrl,this._initializeLodMetric(header),this._initializeTransforms(header),this._initializeBoundingVolumes(header),this._initializeContent(header),this._initializeRenderingState(header),Object.seal(this)}destroy(){this.header=null}isDestroyed(){return null===this.header}get selected(){return this._selectedFrame===this.tileset._frameNumber}get isVisible(){return this._visible}get isVisibleAndInRequestVolume(){return this._visible&&this._inRequestVolume}get hasRenderContent(){return!this.hasEmptyContent&&!this.hasTilesetContent}get hasChildren(){return this.children.length>0||this.header.children&&this.header.children.length>0}get contentReady(){return this.contentState===TILE_CONTENT_STATE_READY||this.hasEmptyContent}get contentAvailable(){return Boolean(this.contentReady&&this.hasRenderContent||this._expiredContent&&!this.contentFailed)}get hasUnloadedContent(){return this.hasRenderContent&&this.contentUnloaded}get contentUnloaded(){return this.contentState===TILE_CONTENT_STATE_UNLOADED}get contentExpired(){return this.contentState===TILE_CONTENT_STATE_EXPIRED}get contentFailed(){return this.contentState===TILE_CONTENT_STATE_FAILED}get distanceToCamera(){return this._distanceToCamera}get screenSpaceError(){return this._screenSpaceError}get boundingBox(){return this._boundingBox||(this._boundingBox=getCartographicBounds(this.header.boundingVolume,this.boundingVolume)),this._boundingBox}getScreenSpaceError(frameState,useParentLodMetric){switch(this.tileset.type){case TILESET_TYPE.I3S:return getProjectedRadius(this,frameState);case TILESET_TYPE.TILES3D:return function getTiles3DScreenSpaceError(tile,frameState,useParentLodMetric){const tileset=tile.tileset,parentLodMetricValue=tile.parent&&tile.parent.lodMetricValue||tile.lodMetricValue,lodMetricValue=useParentLodMetric?parentLodMetricValue:tile.lodMetricValue;if(0===lodMetricValue)return 0;const distance=Math.max(tile._distanceToCamera,1e-7),{height:height,sseDenominator:sseDenominator}=frameState,{viewDistanceScale:viewDistanceScale}=tileset.options;let error=lodMetricValue*height*(viewDistanceScale||1)/(distance*sseDenominator);return error-=getDynamicScreenSpaceError(tileset,distance),error}(this,frameState,useParentLodMetric);default:throw new Error("Unsupported tileset type")}}unselect(){this._selectedFrame=0}_getGpuMemoryUsageInBytes(){return this.content.gpuMemoryUsageInBytes||this.content.byteLength||0}_getPriority(){const traverser=this.tileset._traverser,{skipLevelOfDetail:skipLevelOfDetail}=traverser.options,maySkipTile=this.refine===TILE_REFINEMENT.ADD||skipLevelOfDetail;if(maySkipTile&&!this.isVisible&&void 0!==this._visible)return-1;if(this.tileset._frameNumber-this._touchedFrame>=1)return-1;if(this.contentState===TILE_CONTENT_STATE_UNLOADED)return-1;const parent=this.parent,screenSpaceError=parent&&(!maySkipTile||0===this._screenSpaceError||parent.hasTilesetContent)?parent._screenSpaceError:this._screenSpaceError,rootScreenSpaceError=traverser.root?traverser.root._screenSpaceError:0;return Math.max(rootScreenSpaceError-screenSpaceError,0)}async loadContent(){if(this.hasEmptyContent)return!1;if(this.content)return!0;this.contentExpired&&(this._expireDate=null),this.contentState=TILE_CONTENT_STATE_LOADING;const requestToken=await this.tileset._requestScheduler.scheduleRequest(this.id,this._getPriority.bind(this));if(!requestToken)return this.contentState=TILE_CONTENT_STATE_UNLOADED,!1;try{const contentUrl=this.tileset.getTileUrl(this.contentUrl),loader=this.tileset.loader,options={...this.tileset.loadOptions,[loader.id]:{...this.tileset.loadOptions[loader.id],isTileset:"json"===this.type,...this._getLoaderSpecificOptions(loader.id)}};return this.content=await(0,load.z)(contentUrl,loader,options),this.tileset.options.contentLoader&&await this.tileset.options.contentLoader(this),this._isTileset()&&this.tileset._initializeTileHeaders(this.content,this),this.contentState=TILE_CONTENT_STATE_READY,this._onContentLoaded(),!0}catch(error){throw this.contentState=TILE_CONTENT_STATE_FAILED,error}finally{requestToken.done()}}unloadContent(){return this.content&&this.content.destroy&&this.content.destroy(),this.content=null,this.header.content&&this.header.content.destroy&&this.header.content.destroy(),this.header.content=null,this.contentState=TILE_CONTENT_STATE_UNLOADED,!0}updateVisibility(frameState,viewportIds){if(this._frameNumber===frameState.frameNumber)return;const parent=this.parent,parentVisibilityPlaneMask=parent?parent._visibilityPlaneMask:culling_volume_CullingVolume.MASK_INDETERMINATE;if(this.tileset._traverser.options.updateTransforms){const parentTransform=parent?parent.computedTransform:this.tileset.modelMatrix;this._updateTransform(parentTransform)}this._distanceToCamera=this.distanceToTile(frameState),this._screenSpaceError=this.getScreenSpaceError(frameState,!1),this._visibilityPlaneMask=this.visibility(frameState,parentVisibilityPlaneMask),this._visible=this._visibilityPlaneMask!==culling_volume_CullingVolume.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(frameState),this._frameNumber=frameState.frameNumber,this.viewportIds=viewportIds}visibility(frameState,parentVisibilityPlaneMask){const{cullingVolume:cullingVolume}=frameState,{boundingVolume:boundingVolume}=this;return cullingVolume.computeVisibilityWithPlaneMask(boundingVolume,parentVisibilityPlaneMask)}contentVisibility(){return!0}distanceToTile(frameState){const boundingVolume=this.boundingVolume;return Math.sqrt(Math.max(boundingVolume.distanceSquaredTo(frameState.camera.position),0))}cameraSpaceZDepth(_ref){let{camera:camera}=_ref;const boundingVolume=this.boundingVolume;return tile_3d_scratchVector.subVectors(boundingVolume.center,camera.position),camera.direction.dot(tile_3d_scratchVector)}insideViewerRequestVolume(frameState){const viewerRequestVolume=this._viewerRequestVolume;return!viewerRequestVolume||viewerRequestVolume.distanceSquaredTo(frameState.camera.position)<=0}updateExpiration(){if(function tile_3d_defined(x){return null!=x}(this._expireDate)&&this.contentReady&&!this.hasEmptyContent){const now=Date.now();Date.lessThan(this._expireDate,now)&&(this.contentState=TILE_CONTENT_STATE_EXPIRED,this._expiredContent=this.content)}}get extras(){return this.header.extras}_initializeLodMetric(header){"lodMetricType"in header?this.lodMetricType=header.lodMetricType:(this.lodMetricType=this.parent&&this.parent.lodMetricType||this.tileset.lodMetricType,console.warn("3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType")),"lodMetricValue"in header?this.lodMetricValue=header.lodMetricValue:(this.lodMetricValue=this.parent&&this.parent.lodMetricValue||this.tileset.lodMetricValue,console.warn("3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue"))}_initializeTransforms(tileHeader){this.transform=tileHeader.transform?new matrix4.Z(tileHeader.transform):new matrix4.Z;const parent=this.parent,tileset=this.tileset,parentTransform=parent&&parent.computedTransform?parent.computedTransform.clone():tileset.modelMatrix.clone();this.computedTransform=new matrix4.Z(parentTransform).multiplyRight(this.transform);const parentInitialTransform=parent&&parent._initialTransform?parent._initialTransform.clone():new matrix4.Z;this._initialTransform=new matrix4.Z(parentInitialTransform).multiplyRight(this.transform)}_initializeBoundingVolumes(tileHeader){this._contentBoundingVolume=null,this._viewerRequestVolume=null,this._updateBoundingVolume(tileHeader)}_initializeContent(tileHeader){this.content={_tileset:this.tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=TILE_CONTENT_STATE_UNLOADED,this.hasTilesetContent=!1,tileHeader.contentUrl&&(this.content=null,this.hasEmptyContent=!1)}_initializeRenderingState(header){this.depth=header.level||(this.parent?this.parent.depth+1:0),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=culling_volume_CullingVolume.MASK_INDETERMINATE,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._frameNumber=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._priority=0}_getRefine(refine){return refine||this.parent&&this.parent.refine||TILE_REFINEMENT.REPLACE}_isTileset(){return-1!==this.contentUrl.indexOf(".json")}_onContentLoaded(){switch(this.content&&this.content.type){case"vctr":case"geom":this.tileset._traverser.disableSkipLevelOfDetail=!0}this._isTileset()?this.hasTilesetContent=!0:this.gpuMemoryUsageInBytes=this._getGpuMemoryUsageInBytes()}_updateBoundingVolume(header){this.boundingVolume=createBoundingVolume(header.boundingVolume,this.computedTransform,this.boundingVolume);const content=header.content;content&&(content.boundingVolume&&(this._contentBoundingVolume=createBoundingVolume(content.boundingVolume,this.computedTransform,this._contentBoundingVolume)),header.viewerRequestVolume&&(this._viewerRequestVolume=createBoundingVolume(header.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)))}_updateTransform(){const computedTransform=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new matrix4.Z).clone().multiplyRight(this.transform);!computedTransform.equals(this.computedTransform)&&(this.computedTransform=computedTransform,this._updateBoundingVolume(this.header))}_getLoaderSpecificOptions(loaderId){return"i3s"===loaderId?{...this.tileset.options.i3s,_tileOptions:{attributeUrls:this.header.attributeUrls,textureUrl:this.header.textureUrl,textureFormat:this.header.textureFormat,textureLoaderOptions:this.header.textureLoaderOptions,materialDefinition:this.header.materialDefinition,isDracoGeometry:this.header.isDracoGeometry,mbs:this.header.mbs},_tilesetOptions:{store:this.tileset.tileset.store,attributeStorageInfo:this.tileset.tileset.attributeStorageInfo,fields:this.tileset.tileset.fields},isTileHeader:!1}:function get3dTilesOptions(tileset){return{assetGltfUpAxis:tileset.asset&&tileset.asset.gltfUpAxis||"Y"}}(this.tileset.tileset)}}class Tileset3DTraverser extends TilesetTraverser{compareDistanceToCamera(a,b){return 0===b._distanceToCamera&&0===a._distanceToCamera?b._centerZDepth-a._centerZDepth:b._distanceToCamera-a._distanceToCamera}updateTileVisibility(tile,frameState){if(super.updateTileVisibility(tile,frameState),!tile.isVisibleAndInRequestVolume)return;const hasChildren=tile.children.length>0;if(tile.hasTilesetContent&&hasChildren){const firstChild=tile.children[0];return this.updateTileVisibility(firstChild,frameState),void(tile._visible=firstChild._visible)}if(this.meetsScreenSpaceErrorEarly(tile,frameState))return void(tile._visible=!1);const replace=tile.refine===TILE_REFINEMENT.REPLACE,useOptimization=tile._optimChildrenWithinParent===TILE3D_OPTIMIZATION_HINT_USE_OPTIMIZATION;replace&&useOptimization&&hasChildren&&!this.anyChildrenVisible(tile,frameState)&&(tile._visible=!1)}meetsScreenSpaceErrorEarly(tile,frameState){const{parent:parent}=tile;return!(!parent||parent.hasTilesetContent||parent.refine!==TILE_REFINEMENT.ADD)&&!this.shouldRefine(tile,frameState,!0)}}class I3SPendingTilesRegister{constructor(){(0,defineProperty.Z)(this,"frameNumberMap",new Map)}register(viewportId,frameNumber){const viewportMap=this.frameNumberMap.get(viewportId)||new Map,oldCount=viewportMap.get(frameNumber)||0;viewportMap.set(frameNumber,oldCount+1),this.frameNumberMap.set(viewportId,viewportMap)}deregister(viewportId,frameNumber){const viewportMap=this.frameNumberMap.get(viewportId);if(!viewportMap)return;const oldCount=viewportMap.get(frameNumber)||1;viewportMap.set(frameNumber,oldCount-1)}isZero(viewportId,frameNumber){var _this$frameNumberMap$;return 0===((null===(_this$frameNumberMap$=this.frameNumberMap.get(viewportId))||void 0===_this$frameNumberMap$?void 0:_this$frameNumberMap$.get(frameNumber))||0)}}const STATUS_REQUESTED="REQUESTED",STATUS_COMPLETED="COMPLETED",STATUS_ERROR="ERROR";class I3STileManager{constructor(){(0,defineProperty.Z)(this,"_statusMap",void 0),(0,defineProperty.Z)(this,"pendingTilesRegister",new I3SPendingTilesRegister),this._statusMap={}}add(request,key,callback,frameState){if(!this._statusMap[key]){const{frameNumber:frameNumber,viewport:{id:id}}=frameState;this._statusMap[key]={request:request,callback:callback,key:key,frameState:frameState,status:STATUS_REQUESTED},this.pendingTilesRegister.register(id,frameNumber),request().then((data=>{this._statusMap[key].status=STATUS_COMPLETED;const{frameNumber:actualFrameNumber,viewport:{id:id}}=this._statusMap[key].frameState;this.pendingTilesRegister.deregister(id,actualFrameNumber),this._statusMap[key].callback(data,frameState)})).catch((error=>{this._statusMap[key].status=STATUS_ERROR;const{frameNumber:actualFrameNumber,viewport:{id:id}}=this._statusMap[key].frameState;this.pendingTilesRegister.deregister(id,actualFrameNumber),callback(error)}))}}update(key,frameState){if(this._statusMap[key]){const{frameNumber:frameNumber,viewport:{id:id}}=this._statusMap[key].frameState;this.pendingTilesRegister.deregister(id,frameNumber);const{frameNumber:newFrameNumber,viewport:{id:newViewportId}}=frameState;this.pendingTilesRegister.register(newViewportId,newFrameNumber),this._statusMap[key].frameState=frameState}}find(key){return this._statusMap[key]}hasPendingTiles(viewportId,frameNumber){return!this.pendingTilesRegister.isZero(viewportId,frameNumber)}}class I3STilesetTraverser extends TilesetTraverser{constructor(options){super(options),(0,defineProperty.Z)(this,"_tileManager",void 0),this._tileManager=new I3STileManager}traversalFinished(frameState){return!this._tileManager.hasPendingTiles(frameState.viewport.id,this._frameNumber||0)}shouldRefine(tile,frameState){return tile._lodJudge=function getLodStatus(tile,frameState){if(0===tile.lodMetricValue||isNaN(tile.lodMetricValue))return"DIG";const screenSize=2*getProjectedRadius(tile,frameState);return screenSize<2?"OUT":!tile.header.children||screenSize<=tile.lodMetricValue?"DRAW":tile.header.children?"DIG":"OUT"}(tile,frameState),"DIG"===tile._lodJudge}updateChildTiles(tile,frameState){const children=tile.header.children||[],childTiles=tile.children,tileset=tile.tileset;for(const child of children){const extendedId="".concat(child.id,"-").concat(frameState.viewport.id),childTile=childTiles&&childTiles.find((t=>t.id===extendedId));if(childTile)childTile&&this.updateTile(childTile,frameState);else{let request=()=>this._loadTile(child.id,tileset);this._tileManager.find(extendedId)?this._tileManager.update(extendedId,frameState):(tileset.tileset.nodePages&&(request=()=>tileset.tileset.nodePagesTile.formTileFromNodePages(child.id)),this._tileManager.add(request,extendedId,(header=>this._onTileLoad(header,tile,extendedId)),frameState))}}return!1}async _loadTile(nodeId,tileset){const{loader:loader}=tileset,nodeUrl=tileset.getTileUrl("".concat(tileset.url,"/nodes/").concat(nodeId)),options={...tileset.loadOptions,i3s:{...tileset.loadOptions.i3s,isTileHeader:!0}};return await(0,load.z)(nodeUrl,loader,options)}_onTileLoad(header,tile,extendedId){const childTile=new Tile3D(tile.tileset,header,tile,extendedId);tile.children.push(childTile);const frameState=this._tileManager.find(childTile.id).frameState;this.updateTile(childTile,frameState),this._frameNumber===frameState.frameNumber&&(this.traversalFinished(frameState)||(new Date).getTime()-this.lastUpdate>this.updateDebounceTime)&&this.executeTraversal(childTile,frameState)}}const tileset_3d_DEFAULT_PROPS={description:"",ellipsoid:Ellipsoid.WGS84,modelMatrix:new matrix4.Z,throttleRequests:!0,maxRequests:64,maximumMemoryUsage:32,maximumTilesSelected:0,debounceTime:0,onTileLoad:()=>{},onTileUnload:()=>{},onTileError:()=>{},onTraversalComplete:selectedTiles=>selectedTiles,contentLoader:void 0,viewDistanceScale:1,maximumScreenSpaceError:8,loadTiles:!0,updateTransforms:!0,viewportTraversersMap:null,loadOptions:{fetch:{}},attributions:[],basePath:"",i3s:{}},TILES_TOTAL="Tiles In Tileset(s)";class Tileset3D{constructor(tileset,options){(0,defineProperty.Z)(this,"options",void 0),(0,defineProperty.Z)(this,"loadOptions",void 0),(0,defineProperty.Z)(this,"type",void 0),(0,defineProperty.Z)(this,"tileset",void 0),(0,defineProperty.Z)(this,"loader",void 0),(0,defineProperty.Z)(this,"url",void 0),(0,defineProperty.Z)(this,"basePath",void 0),(0,defineProperty.Z)(this,"modelMatrix",void 0),(0,defineProperty.Z)(this,"ellipsoid",void 0),(0,defineProperty.Z)(this,"lodMetricType",void 0),(0,defineProperty.Z)(this,"lodMetricValue",void 0),(0,defineProperty.Z)(this,"refine",void 0),(0,defineProperty.Z)(this,"root",null),(0,defineProperty.Z)(this,"roots",{}),(0,defineProperty.Z)(this,"asset",{}),(0,defineProperty.Z)(this,"description",""),(0,defineProperty.Z)(this,"properties",void 0),(0,defineProperty.Z)(this,"extras",null),(0,defineProperty.Z)(this,"attributions",{}),(0,defineProperty.Z)(this,"credits",{}),(0,defineProperty.Z)(this,"stats",void 0),(0,defineProperty.Z)(this,"contentFormats",{draco:!1,meshopt:!1,dds:!1,ktx2:!1}),(0,defineProperty.Z)(this,"cartographicCenter",null),(0,defineProperty.Z)(this,"cartesianCenter",null),(0,defineProperty.Z)(this,"zoom",1),(0,defineProperty.Z)(this,"boundingVolume",null),(0,defineProperty.Z)(this,"dynamicScreenSpaceErrorComputedDensity",0),(0,defineProperty.Z)(this,"maximumMemoryUsage",32),(0,defineProperty.Z)(this,"gpuMemoryUsageInBytes",0),(0,defineProperty.Z)(this,"_frameNumber",0),(0,defineProperty.Z)(this,"_queryParams",{}),(0,defineProperty.Z)(this,"_extensionsUsed",[]),(0,defineProperty.Z)(this,"_tiles",{}),(0,defineProperty.Z)(this,"_pendingCount",0),(0,defineProperty.Z)(this,"selectedTiles",[]),(0,defineProperty.Z)(this,"traverseCounter",0),(0,defineProperty.Z)(this,"geometricError",0),(0,defineProperty.Z)(this,"lastUpdatedVieports",null),(0,defineProperty.Z)(this,"_requestedTiles",[]),(0,defineProperty.Z)(this,"_emptyTiles",[]),(0,defineProperty.Z)(this,"frameStateData",{}),(0,defineProperty.Z)(this,"_traverser",void 0),(0,defineProperty.Z)(this,"_cache",new TilesetCache),(0,defineProperty.Z)(this,"_requestScheduler",void 0),(0,defineProperty.Z)(this,"updatePromise",null),(0,defineProperty.Z)(this,"tilesetInitializationPromise",void 0),this.options={...tileset_3d_DEFAULT_PROPS,...options},this.tileset=tileset,this.loader=tileset.loader,this.type=tileset.type,this.url=tileset.url,this.basePath=tileset.basePath||path.XX(this.url),this.modelMatrix=this.options.modelMatrix,this.ellipsoid=this.options.ellipsoid,this.lodMetricType=tileset.lodMetricType,this.lodMetricValue=tileset.lodMetricValue,this.refine=tileset.root.refine,this.loadOptions=this.options.loadOptions||{},this._traverser=this._initializeTraverser(),this._requestScheduler=new RequestScheduler({throttleRequests:this.options.throttleRequests,maxRequests:this.options.maxRequests}),this.stats=new stats_Stats({id:this.url}),this._initializeStats(),this.tilesetInitializationPromise=this._initializeTileSet(tileset)}destroy(){this._destroy()}isLoaded(){return 0===this._pendingCount&&0!==this._frameNumber&&0===this._requestedTiles.length}get tiles(){return Object.values(this._tiles)}get frameNumber(){return this._frameNumber}get queryParams(){return new URLSearchParams(this._queryParams).toString()}setProps(props){this.options={...this.options,...props}}setOptions(options){this.options={...this.options,...options}}getTileUrl(tilePath){return tilePath.startsWith("data:")?tilePath:"".concat(tilePath).concat(tilePath.includes("?")?"&":"?").concat(this.queryParams)}hasExtension(extensionName){return Boolean(this._extensionsUsed.indexOf(extensionName)>-1)}update(){let viewports=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.tilesetInitializationPromise.then((()=>{!viewports&&this.lastUpdatedVieports?viewports=this.lastUpdatedVieports:this.lastUpdatedVieports=viewports,viewports&&this.doUpdate(viewports)}))}async selectTiles(){let viewports=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return await this.tilesetInitializationPromise,viewports&&(this.lastUpdatedVieports=viewports),this.updatePromise||(this.updatePromise=new Promise((resolve=>{setTimeout((()=>{this.lastUpdatedVieports&&this.doUpdate(this.lastUpdatedVieports),resolve(this._frameNumber),this.updatePromise=null}),this.options.debounceTime)}))),this.updatePromise}doUpdate(viewports){if("loadTiles"in this.options&&!this.options.loadTiles)return;if(this.traverseCounter>0)return;const preparedViewports=viewports instanceof Array?viewports:[viewports];this._cache.reset(),this._frameNumber++,this.traverseCounter=preparedViewports.length;const viewportsToTraverse=[];for(const viewport of preparedViewports){const id=viewport.id;this._needTraverse(id)?viewportsToTraverse.push(id):this.traverseCounter--}for(const viewport of preparedViewports){const id=viewport.id;if(this.roots[id]||(this.roots[id]=this._initializeTileHeaders(this.tileset,null)),!viewportsToTraverse.includes(id))continue;const frameState=getFrameState(viewport,this._frameNumber);this._traverser.traverse(this.roots[id],frameState,this.options)}}_needTraverse(viewportId){let traverserId=viewportId;return this.options.viewportTraversersMap&&(traverserId=this.options.viewportTraversersMap[viewportId]),traverserId===viewportId}_onTraversalEnd(frameState){const id=frameState.viewport.id;this.frameStateData[id]||(this.frameStateData[id]={selectedTiles:[],_requestedTiles:[],_emptyTiles:[]});const currentFrameStateData=this.frameStateData[id],selectedTiles=Object.values(this._traverser.selectedTiles),[filteredSelectedTiles,unselectedTiles]=function limitSelectedTiles(tiles,frameState,maximumTilesSelected){if(0===maximumTilesSelected||tiles.length<=maximumTilesSelected)return[tiles,[]];const tuples=[],{longitude:viewportLongitude,latitude:viewportLatitude}=frameState.viewport;for(const[index,tile]of tiles.entries()){const[longitude,latitude]=tile.header.mbs,deltaLon=Math.abs(viewportLongitude-longitude),deltaLat=Math.abs(viewportLatitude-latitude),distance=Math.sqrt(deltaLat*deltaLat+deltaLon*deltaLon);tuples.push([index,distance])}const tuplesSorted=tuples.sort(((a,b)=>a[1]-b[1])),selectedTiles=[];for(let i=0;i<maximumTilesSelected;i++)selectedTiles.push(tiles[tuplesSorted[i][0]]);const unselectedTiles=[];for(let i=maximumTilesSelected;i<tuplesSorted.length;i++)unselectedTiles.push(tiles[tuplesSorted[i][0]]);return[selectedTiles,unselectedTiles]}(selectedTiles,frameState,this.options.maximumTilesSelected);currentFrameStateData.selectedTiles=filteredSelectedTiles;for(const tile of unselectedTiles)tile.unselect();currentFrameStateData._requestedTiles=Object.values(this._traverser.requestedTiles),currentFrameStateData._emptyTiles=Object.values(this._traverser.emptyTiles),this.traverseCounter--,this.traverseCounter>0||this._updateTiles()}_updateTiles(){this.selectedTiles=[],this._requestedTiles=[],this._emptyTiles=[];for(const frameStateKey in this.frameStateData){const frameStateDataValue=this.frameStateData[frameStateKey];this.selectedTiles=this.selectedTiles.concat(frameStateDataValue.selectedTiles),this._requestedTiles=this._requestedTiles.concat(frameStateDataValue._requestedTiles),this._emptyTiles=this._emptyTiles.concat(frameStateDataValue._emptyTiles)}this.selectedTiles=this.options.onTraversalComplete(this.selectedTiles);for(const tile of this.selectedTiles)this._tiles[tile.id]=tile;this._loadTiles(),this._unloadTiles(),this._updateStats()}_tilesChanged(oldSelectedTiles,selectedTiles){if(oldSelectedTiles.length!==selectedTiles.length)return!0;const set1=new Set(oldSelectedTiles.map((t=>t.id))),set2=new Set(selectedTiles.map((t=>t.id)));let changed=oldSelectedTiles.filter((x=>!set2.has(x.id))).length>0;return changed=changed||selectedTiles.filter((x=>!set1.has(x.id))).length>0,changed}_loadTiles(){for(const tile of this._requestedTiles)tile.contentUnloaded&&this._loadTile(tile)}_unloadTiles(){this._cache.unloadTiles(this,((tileset,tile)=>tileset._unloadTile(tile)))}_updateStats(){let tilesRenderable=0,pointsRenderable=0;for(const tile of this.selectedTiles)tile.contentAvailable&&tile.content&&(tilesRenderable++,tile.content.pointCount?pointsRenderable+=tile.content.pointCount:pointsRenderable+=tile.content.vertexCount);this.stats.get("Tiles In View").count=this.selectedTiles.length,this.stats.get("Tiles To Render").count=tilesRenderable,this.stats.get("Points/Vertices").count=pointsRenderable}async _initializeTileSet(tilesetJson){this.type===TILESET_TYPE.I3S&&(this.calculateViewPropsI3S(),tilesetJson.root=await tilesetJson.root),this.root=this._initializeTileHeaders(tilesetJson,null),this.type===TILESET_TYPE.TILES3D&&(this._initializeTiles3DTileset(tilesetJson),this.calculateViewPropsTiles3D()),this.type===TILESET_TYPE.I3S&&this._initializeI3STileset()}calculateViewPropsI3S(){var _this$tileset$store;const fullExtent=this.tileset.fullExtent;if(fullExtent){const{xmin:xmin,xmax:xmax,ymin:ymin,ymax:ymax,zmin:zmin,zmax:zmax}=fullExtent;return this.cartographicCenter=new vector3.Z(xmin+(xmax-xmin)/2,ymin+(ymax-ymin)/2,zmin+(zmax-zmin)/2),this.cartesianCenter=Ellipsoid.WGS84.cartographicToCartesian(this.cartographicCenter,new vector3.Z),void(this.zoom=getZoomFromFullExtent(fullExtent,this.cartographicCenter,this.cartesianCenter))}const extent=null===(_this$tileset$store=this.tileset.store)||void 0===_this$tileset$store?void 0:_this$tileset$store.extent;if(extent){const[xmin,ymin,xmax,ymax]=extent;return this.cartographicCenter=new vector3.Z(xmin+(xmax-xmin)/2,ymin+(ymax-ymin)/2,0),this.cartesianCenter=Ellipsoid.WGS84.cartographicToCartesian(this.cartographicCenter,new vector3.Z),void(this.zoom=function getZoomFromExtent(extent,cartorgraphicCenter,cartesianCenter){const[xmin,ymin,xmax,ymax]=extent;return getZoomFromFullExtent({xmin:xmin,xmax:xmax,ymin:ymin,ymax:ymax,zmin:0,zmax:0},cartorgraphicCenter,cartesianCenter)}(extent,this.cartographicCenter,this.cartesianCenter))}console.warn("Extent is not defined in the tileset header"),this.cartographicCenter=new vector3.Z,this.zoom=1}calculateViewPropsTiles3D(){const root=this.root,{center:center}=root.boundingVolume;if(!center)return console.warn("center was not pre-calculated for the root tile"),this.cartographicCenter=new vector3.Z,void(this.zoom=1);0!==center[0]||0!==center[1]||0!==center[2]?this.cartographicCenter=Ellipsoid.WGS84.cartesianToCartographic(center,new vector3.Z):this.cartographicCenter=new vector3.Z(0,0,-Ellipsoid.WGS84.radii[0]),this.cartesianCenter=center,this.zoom=getZoomFromBoundingVolume(root.boundingVolume,this.cartographicCenter)}_initializeStats(){this.stats.get(TILES_TOTAL),this.stats.get("Tiles Loading"),this.stats.get("Tiles In Memory"),this.stats.get("Tiles In View"),this.stats.get("Tiles To Render"),this.stats.get("Tiles Loaded"),this.stats.get("Tiles Unloaded"),this.stats.get("Failed Tile Loads"),this.stats.get("Points/Vertices"),this.stats.get("Tile Memory Use","memory")}_initializeTileHeaders(tilesetJson,parentTileHeader){const rootTile=new Tile3D(this,tilesetJson.root,parentTileHeader);if(parentTileHeader&&(parentTileHeader.children.push(rootTile),rootTile.depth=parentTileHeader.depth+1),this.type===TILESET_TYPE.TILES3D){const stack=[];for(stack.push(rootTile);stack.length>0;){const tile=stack.pop();this.stats.get(TILES_TOTAL).incrementCount();const children=tile.header.children||[];for(const childHeader of children){var _childTile$contentUrl;const childTile=new Tile3D(this,childHeader,tile);if(null!==(_childTile$contentUrl=childTile.contentUrl)&&void 0!==_childTile$contentUrl&&_childTile$contentUrl.includes("?session=")){const session=new URL(childTile.contentUrl).searchParams.get("session");session&&(this._queryParams.session=session)}tile.children.push(childTile),childTile.depth=tile.depth+1,stack.push(childTile)}}}return rootTile}_initializeTraverser(){let TraverserClass;switch(this.type){case TILESET_TYPE.TILES3D:TraverserClass=Tileset3DTraverser;break;case TILESET_TYPE.I3S:TraverserClass=I3STilesetTraverser;break;default:TraverserClass=TilesetTraverser}return new TraverserClass({basePath:this.basePath,onTraversalEnd:this._onTraversalEnd.bind(this)})}_destroyTileHeaders(parentTile){this._destroySubtree(parentTile)}async _loadTile(tile){let loaded;try{this._onStartTileLoading(),loaded=await tile.loadContent()}catch(error){this._onTileLoadError(tile,error instanceof Error?error:new Error("load failed"))}finally{this._onEndTileLoading(),this._onTileLoad(tile,loaded)}}_onTileLoadError(tile,error){this.stats.get("Failed Tile Loads").incrementCount();const message=error.message||error.toString(),url=tile.url;console.error("A 3D tile failed to load: ".concat(tile.url," ").concat(message)),this.options.onTileError(tile,message,url)}_onTileLoad(tile,loaded){if(loaded){if(this.type===TILESET_TYPE.I3S){var _this$tileset,_this$tileset$nodePag;const nodesInNodePages=(null===(_this$tileset=this.tileset)||void 0===_this$tileset||null===(_this$tileset$nodePag=_this$tileset.nodePagesTile)||void 0===_this$tileset$nodePag?void 0:_this$tileset$nodePag.nodesInNodePages)||0;this.stats.get(TILES_TOTAL).reset(),this.stats.get(TILES_TOTAL).addCount(nodesInNodePages)}tile&&tile.content&&function calculateTransformProps(tileHeader,tile){(0,env_utils_assert.h)(tileHeader),(0,env_utils_assert.h)(tile);const{rtcCenter:rtcCenter,gltfUpAxis:gltfUpAxis}=tile,{computedTransform:computedTransform,boundingVolume:{center:center}}=tileHeader;let modelMatrix=new matrix4.Z(computedTransform);switch(rtcCenter&&modelMatrix.translate(rtcCenter),gltfUpAxis){case"Z":default:break;case"Y":const rotationY=(new matrix4.Z).rotateX(Math.PI/2);modelMatrix=modelMatrix.multiplyRight(rotationY);break;case"X":const rotationX=(new matrix4.Z).rotateY(-Math.PI/2);modelMatrix=modelMatrix.multiplyRight(rotationX)}tile.isQuantized&&modelMatrix.translate(tile.quantizedVolumeOffset).scale(tile.quantizedVolumeScale);const cartesianOrigin=new vector3.Z(center);tile.cartesianModelMatrix=modelMatrix,tile.cartesianOrigin=cartesianOrigin;const cartographicOrigin=Ellipsoid.WGS84.cartesianToCartographic(cartesianOrigin,new vector3.Z),toFixedFrameMatrix=Ellipsoid.WGS84.eastNorthUpToFixedFrame(cartesianOrigin).invert();tile.cartographicModelMatrix=toFixedFrameMatrix.multiplyRight(modelMatrix),tile.cartographicOrigin=cartographicOrigin,tile.coordinateSystem||(tile.modelMatrix=tile.cartographicModelMatrix)}(tile,tile.content),this.updateContentTypes(tile),this._addTileToCache(tile),this.options.onTileLoad(tile)}}updateContentTypes(tile){if(this.type===TILESET_TYPE.I3S)switch(tile.header.isDracoGeometry&&(this.contentFormats.draco=!0),tile.header.textureFormat){case"dds":this.contentFormats.dds=!0;break;case"ktx2":this.contentFormats.ktx2=!0}else if(this.type===TILESET_TYPE.TILES3D){var _tile$content;const{extensionsRemoved:extensionsRemoved=[]}=(null===(_tile$content=tile.content)||void 0===_tile$content?void 0:_tile$content.gltf)||{};extensionsRemoved.includes("KHR_draco_mesh_compression")&&(this.contentFormats.draco=!0),extensionsRemoved.includes("EXT_meshopt_compression")&&(this.contentFormats.meshopt=!0),extensionsRemoved.includes("KHR_texture_basisu")&&(this.contentFormats.ktx2=!0)}}_onStartTileLoading(){this._pendingCount++,this.stats.get("Tiles Loading").incrementCount()}_onEndTileLoading(){this._pendingCount--,this.stats.get("Tiles Loading").decrementCount()}_addTileToCache(tile){this._cache.add(this,tile,(tileset=>tileset._updateCacheStats(tile)))}_updateCacheStats(tile){this.stats.get("Tiles Loaded").incrementCount(),this.stats.get("Tiles In Memory").incrementCount(),this.gpuMemoryUsageInBytes+=tile.gpuMemoryUsageInBytes||0,this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes}_unloadTile(tile){this.gpuMemoryUsageInBytes-=tile.gpuMemoryUsageInBytes||0,this.stats.get("Tiles In Memory").decrementCount(),this.stats.get("Tiles Unloaded").incrementCount(),this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes,this.options.onTileUnload(tile),tile.unloadContent()}_destroy(){const stack=[];for(this.root&&stack.push(this.root);stack.length>0;){const tile=stack.pop();for(const child of tile.children)stack.push(child);this._destroyTile(tile)}this.root=null}_destroySubtree(tile){const root=tile,stack=[];for(stack.push(root);stack.length>0;){tile=stack.pop();for(const child of tile.children)stack.push(child);tile!==root&&this._destroyTile(tile)}root.children=[]}_destroyTile(tile){this._cache.unloadTile(this,tile),this._unloadTile(tile),tile.destroy()}_initializeTiles3DTileset(tilesetJson){if(tilesetJson.queryString){const searchParams=new URLSearchParams(tilesetJson.queryString),queryParams=Object.fromEntries(searchParams.entries());this._queryParams={...this._queryParams,...queryParams}}if(this.asset=tilesetJson.asset,!this.asset)throw new Error("Tileset must have an asset property.");if("0.0"!==this.asset.version&&"1.0"!==this.asset.version)throw new Error("The tileset must be 3D Tiles version 0.0 or 1.0.");"tilesetVersion"in this.asset&&(this._queryParams.v=this.asset.tilesetVersion),this.credits={attributions:this.options.attributions||[]},this.description=this.options.description||"",this.properties=tilesetJson.properties,this.geometricError=tilesetJson.geometricError,this._extensionsUsed=tilesetJson.extensionsUsed||[],this.extras=tilesetJson.extras}_initializeI3STileset(){this.loadOptions.i3s&&"token"in this.loadOptions.i3s&&(this._queryParams.token=this.loadOptions.i3s.token)}}const TILE3D_TYPE={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GEOMETRY:"geom",VECTOR:"vect",GLTF:"glTF"};Object.keys(TILE3D_TYPE);function getStringFromArrayBuffer(arrayBuffer,byteOffset,byteLength){(0,env_utils_assert.h)(arrayBuffer instanceof ArrayBuffer);const textDecoder=new TextDecoder("utf8"),typedArray=new Uint8Array(arrayBuffer,byteOffset,byteLength);return textDecoder.decode(typedArray)}var dist_esm=__webpack_require__("./node_modules/@loaders.gl/draco/dist/esm/index.js");const GL_TYPE={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},constants_GL={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,...GL_TYPE},GL_TYPE_TO_ARRAY_TYPE={[GL_TYPE.DOUBLE]:Float64Array,[GL_TYPE.FLOAT]:Float32Array,[GL_TYPE.UNSIGNED_SHORT]:Uint16Array,[GL_TYPE.UNSIGNED_INT]:Uint32Array,[GL_TYPE.UNSIGNED_BYTE]:Uint8Array,[GL_TYPE.BYTE]:Int8Array,[GL_TYPE.SHORT]:Int16Array,[GL_TYPE.INT]:Int32Array},NAME_TO_GL_TYPE={DOUBLE:GL_TYPE.DOUBLE,FLOAT:GL_TYPE.FLOAT,UNSIGNED_SHORT:GL_TYPE.UNSIGNED_SHORT,UNSIGNED_INT:GL_TYPE.UNSIGNED_INT,UNSIGNED_BYTE:GL_TYPE.UNSIGNED_BYTE,BYTE:GL_TYPE.BYTE,SHORT:GL_TYPE.SHORT,INT:GL_TYPE.INT};class GLType{static fromTypedArray(arrayOrType){arrayOrType=ArrayBuffer.isView(arrayOrType)?arrayOrType.constructor:arrayOrType;for(const glType in GL_TYPE_TO_ARRAY_TYPE){if(GL_TYPE_TO_ARRAY_TYPE[glType]===arrayOrType)return glType}throw new Error("Failed to convert GL type")}static fromName(name){const glType=NAME_TO_GL_TYPE[name];if(!glType)throw new Error("Failed to convert GL type");return glType}static getArrayType(glType){switch(glType){case GL_TYPE.UNSIGNED_SHORT_5_6_5:case GL_TYPE.UNSIGNED_SHORT_4_4_4_4:case GL_TYPE.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:const ArrayType=GL_TYPE_TO_ARRAY_TYPE[glType];if(!ArrayType)throw new Error("Failed to convert GL type");return ArrayType}}static getByteSize(glType){return GLType.getArrayType(glType).BYTES_PER_ELEMENT}static validate(glType){return Boolean(GLType.getArrayType(glType))}static createTypedArray(glType,buffer){let byteOffset=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,length=arguments.length>3?arguments[3]:void 0;void 0===length&&(length=(buffer.byteLength-byteOffset)/GLType.getByteSize(glType));return new(GLType.getArrayType(glType))(buffer,byteOffset,length)}}class Tile3DFeatureTable{constructor(featureTableJson,featureTableBinary){(0,defineProperty.Z)(this,"json",void 0),(0,defineProperty.Z)(this,"buffer",void 0),(0,defineProperty.Z)(this,"featuresLength",0),(0,defineProperty.Z)(this,"_cachedTypedArrays",{}),this.json=featureTableJson,this.buffer=featureTableBinary}getExtension(extensionName){return this.json.extensions&&this.json.extensions[extensionName]}hasProperty(propertyName){return Boolean(this.json[propertyName])}getGlobalProperty(propertyName){let componentType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:constants_GL.UNSIGNED_INT,componentLength=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const jsonValue=this.json[propertyName];return jsonValue&&Number.isFinite(jsonValue.byteOffset)?this._getTypedArrayFromBinary(propertyName,componentType,componentLength,1,jsonValue.byteOffset):jsonValue}getPropertyArray(propertyName,componentType,componentLength){const jsonValue=this.json[propertyName];return jsonValue&&Number.isFinite(jsonValue.byteOffset)?("componentType"in jsonValue&&(componentType=GLType.fromName(jsonValue.componentType)),this._getTypedArrayFromBinary(propertyName,componentType,componentLength,this.featuresLength,jsonValue.byteOffset)):this._getTypedArrayFromArray(propertyName,componentType,jsonValue)}getProperty(propertyName,componentType,componentLength,featureId,result){const jsonValue=this.json[propertyName];if(!jsonValue)return jsonValue;const typedArray=this.getPropertyArray(propertyName,componentType,componentLength);if(1===componentLength)return typedArray[featureId];for(let i=0;i<componentLength;++i)result[i]=typedArray[componentLength*featureId+i];return result}_getTypedArrayFromBinary(propertyName,componentType,componentLength,count,byteOffset){const cachedTypedArrays=this._cachedTypedArrays;let typedArray=cachedTypedArrays[propertyName];return typedArray||(typedArray=GLType.createTypedArray(componentType,this.buffer.buffer,this.buffer.byteOffset+byteOffset,count*componentLength),cachedTypedArrays[propertyName]=typedArray),typedArray}_getTypedArrayFromArray(propertyName,componentType,array){const cachedTypedArrays=this._cachedTypedArrays;let typedArray=cachedTypedArrays[propertyName];return typedArray||(typedArray=GLType.createTypedArray(componentType,array),cachedTypedArrays[propertyName]=typedArray),typedArray}}const COMPONENTS_PER_ATTRIBUTE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},UNPACKER={SCALAR:(values,i)=>values[i],VEC2:(values,i)=>[values[2*i+0],values[2*i+1]],VEC3:(values,i)=>[values[3*i+0],values[3*i+1],values[3*i+2]],VEC4:(values,i)=>[values[4*i+0],values[4*i+1],values[4*i+2],values[4*i+3]],MAT2:(values,i)=>[values[4*i+0],values[4*i+1],values[4*i+2],values[4*i+3]],MAT3:(values,i)=>[values[9*i+0],values[9*i+1],values[9*i+2],values[9*i+3],values[9*i+4],values[9*i+5],values[9*i+6],values[9*i+7],values[9*i+8]],MAT4:(values,i)=>[values[16*i+0],values[16*i+1],values[16*i+2],values[16*i+3],values[16*i+4],values[16*i+5],values[16*i+6],values[16*i+7],values[16*i+8],values[16*i+9],values[16*i+10],values[16*i+11],values[16*i+12],values[16*i+13],values[16*i+14],values[16*i+15]]},PACKER={SCALAR:(x,values,i)=>{values[i]=x},VEC2:(x,values,i)=>{values[2*i+0]=x[0],values[2*i+1]=x[1]},VEC3:(x,values,i)=>{values[3*i+0]=x[0],values[3*i+1]=x[1],values[3*i+2]=x[2]},VEC4:(x,values,i)=>{values[4*i+0]=x[0],values[4*i+1]=x[1],values[4*i+2]=x[2],values[4*i+3]=x[3]},MAT2:(x,values,i)=>{values[4*i+0]=x[0],values[4*i+1]=x[1],values[4*i+2]=x[2],values[4*i+3]=x[3]},MAT3:(x,values,i)=>{values[9*i+0]=x[0],values[9*i+1]=x[1],values[9*i+2]=x[2],values[9*i+3]=x[3],values[9*i+4]=x[4],values[9*i+5]=x[5],values[9*i+6]=x[6],values[9*i+7]=x[7],values[9*i+8]=x[8],values[9*i+9]=x[9]},MAT4:(x,values,i)=>{values[16*i+0]=x[0],values[16*i+1]=x[1],values[16*i+2]=x[2],values[16*i+3]=x[3],values[16*i+4]=x[4],values[16*i+5]=x[5],values[16*i+6]=x[6],values[16*i+7]=x[7],values[16*i+8]=x[8],values[16*i+9]=x[9],values[16*i+10]=x[10],values[16*i+11]=x[11],values[16*i+12]=x[12],values[16*i+13]=x[13],values[16*i+14]=x[14],values[16*i+15]=x[15]}};const tile_3d_batch_table_hierarchy_defined=x=>void 0!==x;function initializeHierarchy(batchTable,jsonHeader,binaryBody){if(!jsonHeader)return null;let hierarchy=batchTable.getExtension("3DTILES_batch_table_hierarchy");const legacyHierarchy=jsonHeader.HIERARCHY;return legacyHierarchy&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),jsonHeader.extensions=jsonHeader.extensions||{},jsonHeader.extensions["3DTILES_batch_table_hierarchy"]=legacyHierarchy,hierarchy=legacyHierarchy),hierarchy?function initializeHierarchyValues(hierarchyJson,binaryBody){let i,classId,binaryAccessor;const instancesLength=hierarchyJson.instancesLength,classes=hierarchyJson.classes;let parentIndexes,classIds=hierarchyJson.classIds,parentCounts=hierarchyJson.parentCounts,parentIds=hierarchyJson.parentIds,parentIdsLength=instancesLength;tile_3d_batch_table_hierarchy_defined(classIds.byteOffset)&&(classIds.componentType=defaultValue(classIds.componentType,GL.UNSIGNED_SHORT),classIds.type=AttributeType.SCALAR,binaryAccessor=getBinaryAccessor(classIds),classIds=binaryAccessor.createArrayBufferView(binaryBody.buffer,binaryBody.byteOffset+classIds.byteOffset,instancesLength));if(tile_3d_batch_table_hierarchy_defined(parentCounts))for(tile_3d_batch_table_hierarchy_defined(parentCounts.byteOffset)&&(parentCounts.componentType=defaultValue(parentCounts.componentType,GL.UNSIGNED_SHORT),parentCounts.type=AttributeType.SCALAR,binaryAccessor=getBinaryAccessor(parentCounts),parentCounts=binaryAccessor.createArrayBufferView(binaryBody.buffer,binaryBody.byteOffset+parentCounts.byteOffset,instancesLength)),parentIndexes=new Uint16Array(instancesLength),parentIdsLength=0,i=0;i<instancesLength;++i)parentIndexes[i]=parentIdsLength,parentIdsLength+=parentCounts[i];tile_3d_batch_table_hierarchy_defined(parentIds)&&tile_3d_batch_table_hierarchy_defined(parentIds.byteOffset)&&(parentIds.componentType=defaultValue(parentIds.componentType,GL.UNSIGNED_SHORT),parentIds.type=AttributeType.SCALAR,binaryAccessor=getBinaryAccessor(parentIds),parentIds=binaryAccessor.createArrayBufferView(binaryBody.buffer,binaryBody.byteOffset+parentIds.byteOffset,parentIdsLength));const classesLength=classes.length;for(i=0;i<classesLength;++i){const classInstancesLength=classes[i].length,properties=classes[i].instances,binaryProperties=getBinaryProperties(classInstancesLength,properties,binaryBody);classes[i].instances=combine(binaryProperties,properties)}const classCounts=new Array(classesLength).fill(0),classIndexes=new Uint16Array(instancesLength);for(i=0;i<instancesLength;++i)classId=classIds[i],classIndexes[i]=classCounts[classId],++classCounts[classId];const hierarchy={classes:classes,classIds:classIds,classIndexes:classIndexes,parentCounts:parentCounts,parentIndexes:parentIndexes,parentIds:parentIds};return function validateHierarchy(hierarchy){const classIds=hierarchy.classIds,instancesLength=classIds.length;for(let i=0;i<instancesLength;++i)validateInstance(hierarchy,i,stack)}(hierarchy),hierarchy}(hierarchy,binaryBody):null}function traverseHierarchy(hierarchy,instanceIndex,endConditionCallback){if(!hierarchy)return;const parentCounts=hierarchy.parentCounts;return hierarchy.parentIds?endConditionCallback(hierarchy,instanceIndex):parentCounts>0?function traverseHierarchyMultipleParents(hierarchy,instanceIndex,endConditionCallback){const classIds=hierarchy.classIds,parentCounts=hierarchy.parentCounts,parentIds=hierarchy.parentIds,parentIndexes=hierarchy.parentIndexes,instancesLength=classIds.length,visited=scratchVisited;visited.length=Math.max(visited.length,instancesLength);const visitedMarker=++marker,stack=scratchStack;stack.length=0,stack.push(instanceIndex);for(;stack.length>0;){if(visited[instanceIndex=stack.pop()]===visitedMarker)continue;visited[instanceIndex]=visitedMarker;const result=endConditionCallback(hierarchy,instanceIndex);if(tile_3d_batch_table_hierarchy_defined(result))return result;const parentCount=parentCounts[instanceIndex],parentIndex=parentIndexes[instanceIndex];for(let i=0;i<parentCount;++i){const parentId=parentIds[parentIndex+i];parentId!==instanceIndex&&stack.push(parentId)}}return null}(hierarchy,instanceIndex,endConditionCallback):function traverseHierarchySingleParent(hierarchy,instanceIndex,endConditionCallback){let hasParent=!0;for(;hasParent;){const result=endConditionCallback(hierarchy,instanceIndex);if(tile_3d_batch_table_hierarchy_defined(result))return result;const parentId=hierarchy.parentIds[instanceIndex];hasParent=parentId!==instanceIndex,instanceIndex=parentId}throw new Error("traverseHierarchySingleParent")}(hierarchy,instanceIndex,endConditionCallback)}function validateInstance(hierarchy,instanceIndex,stack){const parentCounts=hierarchy.parentCounts,parentIds=hierarchy.parentIds,parentIndexes=hierarchy.parentIndexes,instancesLength=hierarchy.classIds.length;if(!tile_3d_batch_table_hierarchy_defined(parentIds))return;assert(instanceIndex<instancesLength,"Parent index ".concat(instanceIndex," exceeds the total number of instances: ").concat(instancesLength)),assert(-1===stack.indexOf(instanceIndex),"Circular dependency detected in the batch table hierarchy."),stack.push(instanceIndex);const parentCount=tile_3d_batch_table_hierarchy_defined(parentCounts)?parentCounts[instanceIndex]:1,parentIndex=tile_3d_batch_table_hierarchy_defined(parentCounts)?parentIndexes[instanceIndex]:instanceIndex;for(let i=0;i<parentCount;++i){const parentId=parentIds[parentIndex+i];parentId!==instanceIndex&&validateInstance(hierarchy,parentId,stack)}stack.pop(instanceIndex)}function tile_3d_batch_table_defined(x){return null!=x}const clone=(x,y)=>x,IGNORED_PROPERTY_FIELDS={HIERARCHY:!0,extensions:!0,extras:!0};class Tile3DBatchTableParser{constructor(json,binary,featureCount){var _this$json;let options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,defineProperty.Z)(this,"json",void 0),(0,defineProperty.Z)(this,"binary",void 0),(0,defineProperty.Z)(this,"featureCount",void 0),(0,defineProperty.Z)(this,"_extensions",void 0),(0,defineProperty.Z)(this,"_properties",void 0),(0,defineProperty.Z)(this,"_binaryProperties",void 0),(0,defineProperty.Z)(this,"_hierarchy",void 0),(0,env_utils_assert.h)(featureCount>=0),this.json=json||{},this.binary=binary,this.featureCount=featureCount,this._extensions=(null===(_this$json=this.json)||void 0===_this$json?void 0:_this$json.extensions)||{},this._properties={};for(const propertyName in this.json)IGNORED_PROPERTY_FIELDS[propertyName]||(this._properties[propertyName]=this.json[propertyName]);this._binaryProperties=this._initializeBinaryProperties(),options["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=initializeHierarchy(this,this.json,this.binary))}getExtension(extensionName){return this.json&&this.json.extensions&&this.json.extensions[extensionName]}memorySizeInBytes(){return 0}isClass(batchId,className){if(this._checkBatchId(batchId),(0,env_utils_assert.h)("string"==typeof className,className),this._hierarchy){return tile_3d_batch_table_defined(traverseHierarchy(this._hierarchy,batchId,((hierarchy,instanceIndex)=>{const classId=hierarchy.classIds[instanceIndex];return hierarchy.classes[classId].name===className})))}return!1}isExactClass(batchId,className){return(0,env_utils_assert.h)("string"==typeof className,className),this.getExactClassName(batchId)===className}getExactClassName(batchId){if(this._checkBatchId(batchId),this._hierarchy){const classId=this._hierarchy.classIds[batchId];return this._hierarchy.classes[classId].name}}hasProperty(batchId,name){return this._checkBatchId(batchId),(0,env_utils_assert.h)("string"==typeof name,name),tile_3d_batch_table_defined(this._properties[name])||this._hasPropertyInHierarchy(batchId,name)}getPropertyNames(batchId,results){this._checkBatchId(batchId),(results=tile_3d_batch_table_defined(results)?results:[]).length=0;const propertyNames=Object.keys(this._properties);return results.push(...propertyNames),this._hierarchy&&this._getPropertyNamesInHierarchy(batchId,results),results}getProperty(batchId,name){if(this._checkBatchId(batchId),(0,env_utils_assert.h)("string"==typeof name,name),this._binaryProperties){const binaryProperty=this._binaryProperties[name];if(tile_3d_batch_table_defined(binaryProperty))return this._getBinaryProperty(binaryProperty,batchId)}const propertyValues=this._properties[name];if(tile_3d_batch_table_defined(propertyValues))return clone(propertyValues[batchId]);if(this._hierarchy){const hierarchyProperty=this._getHierarchyProperty(batchId,name);if(tile_3d_batch_table_defined(hierarchyProperty))return hierarchyProperty}}setProperty(batchId,name,value){const featureCount=this.featureCount;if(this._checkBatchId(batchId),(0,env_utils_assert.h)("string"==typeof name,name),this._binaryProperties){const binaryProperty=this._binaryProperties[name];if(binaryProperty)return void this._setBinaryProperty(binaryProperty,batchId,value)}if(this._hierarchy&&this._setHierarchyProperty(this,batchId,name,value))return;let propertyValues=this._properties[name];tile_3d_batch_table_defined(propertyValues)||(this._properties[name]=new Array(featureCount),propertyValues=this._properties[name]),propertyValues[batchId]=clone(value)}_checkBatchId(batchId){if(!(batchId>=0&&batchId<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")}_getBinaryProperty(binaryProperty,index){return binaryProperty.unpack(binaryProperty.typedArray,index)}_setBinaryProperty(binaryProperty,index,value){binaryProperty.pack(value,binaryProperty.typedArray,index)}_initializeBinaryProperties(){let binaryProperties=null;for(const name in this._properties){const property=this._properties[name],binaryProperty=this._initializeBinaryProperty(name,property);binaryProperty&&(binaryProperties=binaryProperties||{},binaryProperties[name]=binaryProperty)}return binaryProperties}_initializeBinaryProperty(name,property){if("byteOffset"in property){const tile3DAccessor=property;(0,env_utils_assert.h)(this.binary,"Property ".concat(name," requires a batch table binary.")),(0,env_utils_assert.h)(tile3DAccessor.type,"Property ".concat(name," requires a type."));const accessor=function createTypedArrayFromAccessor(tile3DAccessor,buffer,byteOffset,length){const{componentType:componentType}=tile3DAccessor;(0,env_utils_assert.h)(tile3DAccessor.componentType);const type="string"==typeof componentType?GLType.fromName(componentType):componentType,size=COMPONENTS_PER_ATTRIBUTE[tile3DAccessor.type],unpacker=UNPACKER[tile3DAccessor.type],packer=PACKER[tile3DAccessor.type];return byteOffset+=tile3DAccessor.byteOffset,{values:GLType.createTypedArray(type,buffer,byteOffset,size*length),type:type,size:size,unpacker:unpacker,packer:packer}}(tile3DAccessor,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:accessor.values,componentCount:accessor.size,unpack:accessor.unpacker,pack:accessor.packer}}return null}_hasPropertyInHierarchy(batchId,name){if(!this._hierarchy)return!1;const result=traverseHierarchy(this._hierarchy,batchId,((hierarchy,instanceIndex)=>{const classId=hierarchy.classIds[instanceIndex];return tile_3d_batch_table_defined(hierarchy.classes[classId].instances[name])}));return tile_3d_batch_table_defined(result)}_getPropertyNamesInHierarchy(batchId,results){traverseHierarchy(this._hierarchy,batchId,((hierarchy,instanceIndex)=>{const classId=hierarchy.classIds[instanceIndex],instances=hierarchy.classes[classId].instances;for(const name in instances)instances.hasOwnProperty(name)&&-1===results.indexOf(name)&&results.push(name)}))}_getHierarchyProperty(batchId,name){return traverseHierarchy(this._hierarchy,batchId,((hierarchy,instanceIndex)=>{const classId=hierarchy.classIds[instanceIndex],instanceClass=hierarchy.classes[classId],indexInClass=hierarchy.classIndexes[instanceIndex],propertyValues=instanceClass.instances[name];return tile_3d_batch_table_defined(propertyValues)?tile_3d_batch_table_defined(propertyValues.typedArray)?this._getBinaryProperty(propertyValues,indexInClass):clone(propertyValues[indexInClass]):null}))}_setHierarchyProperty(batchTable,batchId,name,value){const result=traverseHierarchy(this._hierarchy,batchId,((hierarchy,instanceIndex)=>{const classId=hierarchy.classIds[instanceIndex],instanceClass=hierarchy.classes[classId],indexInClass=hierarchy.classIndexes[instanceIndex],propertyValues=instanceClass.instances[name];return!!tile_3d_batch_table_defined(propertyValues)&&((0,env_utils_assert.h)(instanceIndex===batchId,'Inherited property "'.concat(name,'" is read-only.')),tile_3d_batch_table_defined(propertyValues.typedArray)?this._setBinaryProperty(propertyValues,indexInClass,value):propertyValues[indexInClass]=clone(value),!0)}));return tile_3d_batch_table_defined(result)}}const SIZEOF_UINT32=4;function parse3DTileHeaderSync(tile,arrayBuffer){let byteOffset=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const view=new DataView(arrayBuffer);if(tile.magic=view.getUint32(byteOffset,!0),byteOffset+=SIZEOF_UINT32,tile.version=view.getUint32(byteOffset,!0),byteOffset+=SIZEOF_UINT32,tile.byteLength=view.getUint32(byteOffset,!0),byteOffset+=SIZEOF_UINT32,1!==tile.version)throw new Error("3D Tile Version ".concat(tile.version," not supported"));return byteOffset}const parse_3d_tile_tables_SIZEOF_UINT32=4,DEPRECATION_WARNING="b3dm tile in legacy format.";function parse3DTileTablesHeaderSync(tile,arrayBuffer,byteOffset){const view=new DataView(arrayBuffer);let batchLength;tile.header=tile.header||{};let featureTableJsonByteLength=view.getUint32(byteOffset,!0);byteOffset+=parse_3d_tile_tables_SIZEOF_UINT32;let featureTableBinaryByteLength=view.getUint32(byteOffset,!0);byteOffset+=parse_3d_tile_tables_SIZEOF_UINT32;let batchTableJsonByteLength=view.getUint32(byteOffset,!0);byteOffset+=parse_3d_tile_tables_SIZEOF_UINT32;let batchTableBinaryByteLength=view.getUint32(byteOffset,!0);return byteOffset+=parse_3d_tile_tables_SIZEOF_UINT32,batchTableJsonByteLength>=570425344?(byteOffset-=2*parse_3d_tile_tables_SIZEOF_UINT32,batchLength=featureTableJsonByteLength,batchTableJsonByteLength=featureTableBinaryByteLength,batchTableBinaryByteLength=0,featureTableJsonByteLength=0,featureTableBinaryByteLength=0,console.warn(DEPRECATION_WARNING)):batchTableBinaryByteLength>=570425344&&(byteOffset-=parse_3d_tile_tables_SIZEOF_UINT32,batchLength=batchTableJsonByteLength,batchTableJsonByteLength=featureTableJsonByteLength,batchTableBinaryByteLength=featureTableBinaryByteLength,featureTableJsonByteLength=0,featureTableBinaryByteLength=0,console.warn(DEPRECATION_WARNING)),tile.header.featureTableJsonByteLength=featureTableJsonByteLength,tile.header.featureTableBinaryByteLength=featureTableBinaryByteLength,tile.header.batchTableJsonByteLength=batchTableJsonByteLength,tile.header.batchTableBinaryByteLength=batchTableBinaryByteLength,tile.header.batchLength=batchLength,byteOffset}function parse3DTileTablesSync(tile,arrayBuffer,byteOffset,options){return byteOffset=function parse3DTileFeatureTable(tile,arrayBuffer,byteOffset,options){const{featureTableJsonByteLength:featureTableJsonByteLength,featureTableBinaryByteLength:featureTableBinaryByteLength,batchLength:batchLength}=tile.header;if(tile.featureTableJson={BATCH_LENGTH:batchLength||0},featureTableJsonByteLength>0){const featureTableString=getStringFromArrayBuffer(arrayBuffer,byteOffset,featureTableJsonByteLength);tile.featureTableJson=JSON.parse(featureTableString)}return byteOffset+=featureTableJsonByteLength,tile.featureTableBinary=new Uint8Array(arrayBuffer,byteOffset,featureTableBinaryByteLength),byteOffset+=featureTableBinaryByteLength,byteOffset}(tile,arrayBuffer,byteOffset),byteOffset=function parse3DTileBatchTable(tile,arrayBuffer,byteOffset,options){const{batchTableJsonByteLength:batchTableJsonByteLength,batchTableBinaryByteLength:batchTableBinaryByteLength}=tile.header;if(batchTableJsonByteLength>0){const batchTableString=getStringFromArrayBuffer(arrayBuffer,byteOffset,batchTableJsonByteLength);tile.batchTableJson=JSON.parse(batchTableString),byteOffset+=batchTableJsonByteLength,batchTableBinaryByteLength>0&&(tile.batchTableBinary=new Uint8Array(arrayBuffer,byteOffset,batchTableBinaryByteLength),tile.batchTableBinary=new Uint8Array(tile.batchTableBinary),byteOffset+=batchTableBinaryByteLength)}return byteOffset}(tile,arrayBuffer,byteOffset),byteOffset}function decodeRGB565(rgb565){let target=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];const r5=rgb565>>11&31,g6=rgb565>>5&63,b5=31&rgb565;return target[0]=r5<<3,target[1]=g6<<2,target[2]=b5<<3,target}function normalize3DTileColorAttribute(tile,colors,batchTable){if(!(colors||tile&&tile.batchIds&&batchTable))return null;const{batchIds:batchIds,isRGB565:isRGB565,pointCount:pointCount}=tile;if(batchIds&&batchTable){const colorArray=new Uint8ClampedArray(3*pointCount);for(let i=0;i<pointCount;i++){const batchId=batchIds[i],color=batchTable.getProperty(batchId,"dimensions").map((d=>255*d));colorArray[3*i]=color[0],colorArray[3*i+1]=color[1],colorArray[3*i+2]=color[2]}return{type:constants_GL.UNSIGNED_BYTE,value:colorArray,size:3,normalized:!0}}if(isRGB565){const colorArray=new Uint8ClampedArray(3*pointCount);for(let i=0;i<pointCount;i++){const color=decodeRGB565(colors[i]);colorArray[3*i]=color[0],colorArray[3*i+1]=color[1],colorArray[3*i+2]=color[2]}return{type:constants_GL.UNSIGNED_BYTE,value:colorArray,size:3,normalized:!0}}return colors&&colors.length===3*pointCount?{type:constants_GL.UNSIGNED_BYTE,value:colors,size:3,normalized:!0}:{type:constants_GL.UNSIGNED_BYTE,value:colors,size:4,normalized:!0}}var vector2=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/vector2.js");new vector2.Z,new vector3.Z,new vector2.Z,new vector2.Z,new Uint8Array(1);function fromSNorm(value){let rangeMaximum=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return(0,common.uZ)(value,0,rangeMaximum)/rangeMaximum*2-1}function signNotZero(value){return value<0?-1:1}function octDecodeInRange(x,y,rangeMax,result){if(function utils_assert_assert(condition,message){if(!condition)throw new Error("math.gl assertion failed. ".concat(message))}(result),x<0||x>rangeMax||y<0||y>rangeMax)throw new Error("x and y must be unsigned normalized integers between 0 and ".concat(rangeMax));if(result.x=fromSNorm(x,rangeMax),result.y=fromSNorm(y,rangeMax),result.z=1-(Math.abs(result.x)+Math.abs(result.y)),result.z<0){const oldVX=result.x;result.x=(1-Math.abs(result.y))*signNotZero(oldVX),result.y=(1-Math.abs(oldVX))*signNotZero(result.y)}return result.normalize()}function octDecode(x,y,result){return octDecodeInRange(x,y,255,result)}const normalize_3d_tile_normals_scratchNormal=new vector3.Z;function normalize3DTilePositionAttribute(tile,positions,options){return tile.isQuantized?options["3d-tiles"]&&options["3d-tiles"].decodeQuantizedPositions?(tile.isQuantized=!1,function decodeQuantizedPositions(tile,positions){const scratchPosition=new vector3.Z,decodedArray=new Float32Array(3*tile.pointCount);for(let i=0;i<tile.pointCount;i++)scratchPosition.set(positions[3*i],positions[3*i+1],positions[3*i+2]).scale(1/tile.quantizedRange).multiply(tile.quantizedVolumeScale).add(tile.quantizedVolumeOffset).toArray(decodedArray,3*i);return decodedArray}(tile,positions)):{type:constants_GL.UNSIGNED_SHORT,value:positions,size:3,normalized:!0}:positions}async function parsePointCloud3DTile(tile,arrayBuffer,byteOffset,options,context){byteOffset=parse3DTileTablesSync(tile,arrayBuffer,byteOffset=parse3DTileTablesHeaderSync(tile,arrayBuffer,byteOffset=parse3DTileHeaderSync(tile,arrayBuffer,byteOffset))),function initializeTile(tile){tile.attributes={positions:null,colors:null,normals:null,batchIds:null},tile.isQuantized=!1,tile.isTranslucent=!1,tile.isRGB565=!1,tile.isOctEncoded16P=!1}(tile);const{featureTable:featureTable,batchTable:batchTable}=function parsePointCloudTables(tile){const featureTable=new Tile3DFeatureTable(tile.featureTableJson,tile.featureTableBinary),pointsLength=featureTable.getGlobalProperty("POINTS_LENGTH");if(!Number.isFinite(pointsLength))throw new Error("POINTS_LENGTH must be defined");featureTable.featuresLength=pointsLength,tile.featuresLength=pointsLength,tile.pointsLength=pointsLength,tile.pointCount=pointsLength,tile.rtcCenter=featureTable.getGlobalProperty("RTC_CENTER",constants_GL.FLOAT,3);const batchTable=function parseBatchIds(tile,featureTable){let batchTable=null;if(!tile.batchIds&&featureTable.hasProperty("BATCH_ID")&&(tile.batchIds=featureTable.getPropertyArray("BATCH_ID",constants_GL.UNSIGNED_SHORT,1),tile.batchIds)){const batchFeatureLength=featureTable.getGlobalProperty("BATCH_LENGTH");if(!batchFeatureLength)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");const{batchTableJson:batchTableJson,batchTableBinary:batchTableBinary}=tile;batchTable=new Tile3DBatchTableParser(batchTableJson,batchTableBinary,batchFeatureLength)}return batchTable}(tile,featureTable);return{featureTable:featureTable,batchTable:batchTable}}(tile);return await async function parseDraco(tile,featureTable,batchTable,options,context){let dracoBuffer,dracoFeatureTableProperties,dracoBatchTableProperties;const batchTableDraco=tile.batchTableJson&&tile.batchTableJson.extensions&&tile.batchTableJson.extensions["3DTILES_draco_point_compression"];batchTableDraco&&(dracoBatchTableProperties=batchTableDraco.properties);const featureTableDraco=featureTable.getExtension("3DTILES_draco_point_compression");if(featureTableDraco){dracoFeatureTableProperties=featureTableDraco.properties;const dracoByteOffset=featureTableDraco.byteOffset,dracoByteLength=featureTableDraco.byteLength;if(!dracoFeatureTableProperties||!Number.isFinite(dracoByteOffset)||!dracoByteLength)throw new Error("Draco properties, byteOffset, and byteLength must be defined");dracoBuffer=tile.featureTableBinary.slice(dracoByteOffset,dracoByteOffset+dracoByteLength),tile.hasPositions=Number.isFinite(dracoFeatureTableProperties.POSITION),tile.hasColors=Number.isFinite(dracoFeatureTableProperties.RGB)||Number.isFinite(dracoFeatureTableProperties.RGBA),tile.hasNormals=Number.isFinite(dracoFeatureTableProperties.NORMAL),tile.hasBatchIds=Number.isFinite(dracoFeatureTableProperties.BATCH_ID),tile.isTranslucent=Number.isFinite(dracoFeatureTableProperties.RGBA)}if(!dracoBuffer)return!0;const dracoData={buffer:dracoBuffer,properties:{...dracoFeatureTableProperties,...dracoBatchTableProperties},featureTableProperties:dracoFeatureTableProperties,batchTableProperties:dracoBatchTableProperties,dequantizeInShader:!1};return await async function loadDraco(tile,dracoData,options,context){const{parse:parse}=context,dracoOptions={...options,draco:{...options.draco,extraAttributes:dracoData.batchTableProperties||{}}};delete dracoOptions["3d-tiles"];const data=await parse(dracoData.buffer,dist_esm.VJ,dracoOptions),decodedPositions=data.attributes.POSITION&&data.attributes.POSITION.value,decodedColors=data.attributes.COLOR_0&&data.attributes.COLOR_0.value,decodedNormals=data.attributes.NORMAL&&data.attributes.NORMAL.value,decodedBatchIds=data.attributes.BATCH_ID&&data.attributes.BATCH_ID.value,isQuantizedDraco=decodedPositions&&data.attributes.POSITION.value.quantization,isOctEncodedDraco=decodedNormals&&data.attributes.NORMAL.value.quantization;if(isQuantizedDraco){const quantization=data.POSITION.data.quantization,range=quantization.range;tile.quantizedVolumeScale=new vector3.Z(range,range,range),tile.quantizedVolumeOffset=new vector3.Z(quantization.minValues),tile.quantizedRange=(1<<quantization.quantizationBits)-1,tile.isQuantizedDraco=!0}isOctEncodedDraco&&(tile.octEncodedRange=(1<<data.NORMAL.data.quantization.quantizationBits)-1,tile.isOctEncodedDraco=!0);const batchTableAttributes={};if(dracoData.batchTableProperties)for(const attributeName of Object.keys(dracoData.batchTableProperties))data.attributes[attributeName]&&data.attributes[attributeName].value&&(batchTableAttributes[attributeName.toLowerCase()]=data.attributes[attributeName].value);tile.attributes={positions:decodedPositions,colors:normalize3DTileColorAttribute(tile,decodedColors,void 0),normals:decodedNormals,batchIds:decodedBatchIds,...batchTableAttributes}}(tile,dracoData,options,context)}(tile,featureTable,0,options,context),function parsePositions(tile,featureTable,options){if(!tile.attributes.positions)if(featureTable.hasProperty("POSITION"))tile.attributes.positions=featureTable.getPropertyArray("POSITION",constants_GL.FLOAT,3);else if(featureTable.hasProperty("POSITION_QUANTIZED")){const positions=featureTable.getPropertyArray("POSITION_QUANTIZED",constants_GL.UNSIGNED_SHORT,3);if(tile.isQuantized=!0,tile.quantizedRange=65535,tile.quantizedVolumeScale=featureTable.getGlobalProperty("QUANTIZED_VOLUME_SCALE",constants_GL.FLOAT,3),!tile.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(tile.quantizedVolumeOffset=featureTable.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",constants_GL.FLOAT,3),!tile.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");tile.attributes.positions=normalize3DTilePositionAttribute(tile,positions,options)}if(!tile.attributes.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}(tile,featureTable,options),function parseColors(tile,featureTable,batchTable){if(!tile.attributes.colors){let colors=null;featureTable.hasProperty("RGBA")?(colors=featureTable.getPropertyArray("RGBA",constants_GL.UNSIGNED_BYTE,4),tile.isTranslucent=!0):featureTable.hasProperty("RGB")?colors=featureTable.getPropertyArray("RGB",constants_GL.UNSIGNED_BYTE,3):featureTable.hasProperty("RGB565")&&(colors=featureTable.getPropertyArray("RGB565",constants_GL.UNSIGNED_SHORT,1),tile.isRGB565=!0),tile.attributes.colors=normalize3DTileColorAttribute(tile,colors,batchTable)}featureTable.hasProperty("CONSTANT_RGBA")&&(tile.constantRGBA=featureTable.getGlobalProperty("CONSTANT_RGBA",constants_GL.UNSIGNED_BYTE,4))}(tile,featureTable,batchTable),function parseNormals(tile,featureTable){if(!tile.attributes.normals){let normals=null;featureTable.hasProperty("NORMAL")?normals=featureTable.getPropertyArray("NORMAL",constants_GL.FLOAT,3):featureTable.hasProperty("NORMAL_OCT16P")&&(normals=featureTable.getPropertyArray("NORMAL_OCT16P",constants_GL.UNSIGNED_BYTE,2),tile.isOctEncoded16P=!0),tile.attributes.normals=function normalize3DTileNormalAttribute(tile,normals){if(!normals)return null;if(tile.isOctEncoded16P){const decodedArray=new Float32Array(3*tile.pointsLength);for(let i=0;i<tile.pointsLength;i++)octDecode(normals[2*i],normals[2*i+1],normalize_3d_tile_normals_scratchNormal),normalize_3d_tile_normals_scratchNormal.toArray(decodedArray,3*i);return{type:constants_GL.FLOAT,size:2,value:decodedArray}}return{type:constants_GL.FLOAT,size:2,value:normals}}(tile,normals)}}(tile,featureTable),byteOffset}var gltf_loader=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/esm/gltf-loader.js"),gltf_utils=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/esm/lib/gltf-utils/gltf-utils.js"),array_buffer_utils=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/esm/lib/binary-utils/array-buffer-utils.js");const GLTF_FORMAT={URI:0,EMBEDDED:1};function parse3DTileGLTFViewSync(tile,arrayBuffer,byteOffset,options){tile.rotateYtoZ=!0;const gltfByteLength=tile.byteOffset+tile.byteLength-byteOffset;if(0===gltfByteLength)throw new Error("glTF byte length must be greater than 0.");return tile.gltfUpAxis=options["3d-tiles"]&&options["3d-tiles"].assetGltfUpAxis?options["3d-tiles"].assetGltfUpAxis:"Y",tile.gltfArrayBuffer=(0,array_buffer_utils.qv)(arrayBuffer,byteOffset,gltfByteLength),tile.gltfByteOffset=0,tile.gltfByteLength=gltfByteLength,byteOffset%4==0||console.warn("".concat(tile.type,": embedded glb is not aligned to a 4-byte boundary.")),tile.byteOffset+tile.byteLength}async function extractGLTF(tile,gltfFormat,options,context){const tile3DOptions=options["3d-tiles"]||{};if(function extractGLTFBufferOrURL(tile,gltfFormat,options){switch(gltfFormat){case GLTF_FORMAT.URI:const gltfUrlBytes=new Uint8Array(tile.gltfArrayBuffer,tile.gltfByteOffset),gltfUrl=(new TextDecoder).decode(gltfUrlBytes);tile.gltfUrl=gltfUrl.replace(/[\s\0]+$/,""),delete tile.gltfArrayBuffer,delete tile.gltfByteOffset,delete tile.gltfByteLength;break;case GLTF_FORMAT.EMBEDDED:break;default:throw new Error("b3dm: Illegal glTF format field")}}(tile,gltfFormat),tile3DOptions.loadGLTF){const{parse:parse,fetch:fetch}=context;tile.gltfUrl&&(tile.gltfArrayBuffer=await fetch(tile.gltfUrl,options),tile.gltfByteOffset=0),tile.gltfArrayBuffer&&(tile.gltf=await parse(tile.gltfArrayBuffer,gltf_loader.E,options,context),tile.gpuMemoryUsageInBytes=(0,gltf_utils.Xr)(tile.gltf),delete tile.gltfArrayBuffer,delete tile.gltfByteOffset,delete tile.gltfByteLength)}}async function parseBatchedModel3DTile(tile,arrayBuffer,byteOffset,options,context){var _tile$gltf;byteOffset=function parseBatchedModel(tile,arrayBuffer,byteOffset,options,context){byteOffset=parse3DTileHeaderSync(tile,arrayBuffer,byteOffset),byteOffset=parse3DTileTablesHeaderSync(tile,arrayBuffer,byteOffset),byteOffset=parse3DTileTablesSync(tile,arrayBuffer,byteOffset),byteOffset=parse3DTileGLTFViewSync(tile,arrayBuffer,byteOffset,options);const featureTable=new Tile3DFeatureTable(tile.featureTableJson,tile.featureTableBinary);return tile.rtcCenter=featureTable.getGlobalProperty("RTC_CENTER",constants_GL.FLOAT,3),byteOffset}(tile,arrayBuffer,byteOffset,options),await extractGLTF(tile,GLTF_FORMAT.EMBEDDED,options,context);const extensions=null==tile||null===(_tile$gltf=tile.gltf)||void 0===_tile$gltf?void 0:_tile$gltf.extensions;return extensions&&extensions.CESIUM_RTC&&(tile.rtcCenter=extensions.CESIUM_RTC.center),byteOffset}async function parseInstancedModel3DTile(tile,arrayBuffer,byteOffset,options,context){return byteOffset=function parseInstancedModel(tile,arrayBuffer,byteOffset,options,context){if(byteOffset=parse3DTileHeaderSync(tile,arrayBuffer,byteOffset),1!==tile.version)throw new Error("Instanced 3D Model version ".concat(tile.version," is not supported"));byteOffset=parse3DTileTablesHeaderSync(tile,arrayBuffer,byteOffset);const view=new DataView(arrayBuffer);if(tile.gltfFormat=view.getUint32(byteOffset,!0),byteOffset+=4,byteOffset=parse3DTileTablesSync(tile,arrayBuffer,byteOffset),byteOffset=parse3DTileGLTFViewSync(tile,arrayBuffer,byteOffset,options),0===tile.featureTableJsonByteLength)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");const featureTable=new Tile3DFeatureTable(tile.featureTableJson,tile.featureTableBinary),instancesLength=featureTable.getGlobalProperty("INSTANCES_LENGTH");if(featureTable.featuresLength=instancesLength,!Number.isFinite(instancesLength))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");tile.eastNorthUp=featureTable.getGlobalProperty("EAST_NORTH_UP"),tile.rtcCenter=featureTable.getGlobalProperty("RTC_CENTER",constants_GL.FLOAT,3);new Tile3DBatchTableParser(tile.batchTableJson,tile.batchTableBinary,instancesLength);return function extractInstancedAttributes(tile,featureTable,batchTable,instancesLength){const collectionOptions={instances:new Array(instancesLength),batchTable:tile._batchTable,cull:!1,url:void 0,gltf:void 0,basePath:void 0,incrementallyLoadTextures:!1,forwardAxis:[1,0,0]},instances=collectionOptions.instances,instancePosition=new vector3.Z,instanceNormalRight=new vector3.Z,instanceNormalUp=new vector3.Z,instanceNormalForward=new vector3.Z,instanceRotation=new matrix3.Z,instanceQuaternion=new classes_quaternion.Z,instanceScale=new vector3.Z,instanceTranslationRotationScale={},instanceTransform=new matrix4.Z,scratch1=[],scratch2=[],scratchVector1=new vector3.Z,scratchVector2=new vector3.Z;for(let i=0;i<instancesLength;i++){let position;if(featureTable.hasProperty("POSITION"))position=featureTable.getProperty("POSITION",constants_GL.FLOAT,3,i,instancePosition);else if(featureTable.hasProperty("POSITION_QUANTIZED")){position=featureTable.getProperty("POSITION_QUANTIZED",constants_GL.UNSIGNED_SHORT,3,i,instancePosition);const quantizedVolumeOffset=featureTable.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",constants_GL.FLOAT,3,scratchVector1);if(!quantizedVolumeOffset)throw new Error("i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");const quantizedVolumeScale=featureTable.getGlobalProperty("QUANTIZED_VOLUME_SCALE",constants_GL.FLOAT,3,scratchVector2);if(!quantizedVolumeScale)throw new Error("i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");const MAX_UNSIGNED_SHORT=65535;for(let j=0;j<3;j++)position[j]=position[j]/MAX_UNSIGNED_SHORT*quantizedVolumeScale[j]+quantizedVolumeOffset[j]}if(!position)throw new Error("i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.");instancePosition.copy(position),instanceTranslationRotationScale.translation=instancePosition,tile.normalUp=featureTable.getProperty("NORMAL_UP",constants_GL.FLOAT,3,i,scratch1),tile.normalRight=featureTable.getProperty("NORMAL_RIGHT",constants_GL.FLOAT,3,i,scratch2);const hasCustomOrientation=!1;if(tile.normalUp){if(!tile.normalRight)throw new Error("i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.");tile.hasCustomOrientation=!0}else{if(tile.octNormalUp=featureTable.getProperty("NORMAL_UP_OCT32P",constants_GL.UNSIGNED_SHORT,2,scratch1),tile.octNormalRight=featureTable.getProperty("NORMAL_RIGHT_OCT32P",constants_GL.UNSIGNED_SHORT,2,scratch2),tile.octNormalUp){if(!tile.octNormalRight)throw new Error("i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P");throw new Error("i3dm: oct-encoded orientation not implemented")}tile.eastNorthUp?(Ellipsoid.WGS84.eastNorthUpToFixedFrame(instancePosition,instanceTransform),instanceTransform.getRotationMatrix3(instanceRotation)):instanceRotation.identity()}hasCustomOrientation&&(instanceNormalForward.copy(instanceNormalRight).cross(instanceNormalUp).normalize(),instanceRotation.setColumn(0,instanceNormalRight),instanceRotation.setColumn(1,instanceNormalUp),instanceRotation.setColumn(2,instanceNormalForward)),instanceQuaternion.fromMatrix3(instanceRotation),instanceTranslationRotationScale.rotation=instanceQuaternion,instanceScale.set(1,1,1);const scale=featureTable.getProperty("SCALE",constants_GL.FLOAT,1,i);Number.isFinite(scale)&&instanceScale.multiplyByScalar(scale);const nonUniformScale=featureTable.getProperty("SCALE_NON_UNIFORM",constants_GL.FLOAT,3,i,scratch1);nonUniformScale&&instanceScale.scale(nonUniformScale),instanceTranslationRotationScale.scale=instanceScale;let batchId=featureTable.getProperty("BATCH_ID",constants_GL.UNSIGNED_SHORT,1,i);void 0===batchId&&(batchId=i);const rotationMatrix=(new matrix4.Z).fromQuaternion(instanceTranslationRotationScale.rotation);instanceTransform.identity(),instanceTransform.translate(instanceTranslationRotationScale.translation),instanceTransform.multiplyRight(rotationMatrix),instanceTransform.scale(instanceTranslationRotationScale.scale);const modelMatrix=instanceTransform.clone();instances[i]={modelMatrix:modelMatrix,batchId:batchId}}tile.instances=instances}(tile,featureTable,0,instancesLength),byteOffset}(tile,arrayBuffer,byteOffset,options),await extractGLTF(tile,tile.gltfFormat,options,context),byteOffset}async function parse3DTile(arrayBuffer){let byteOffset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,options=arguments.length>2?arguments[2]:void 0,context=arguments.length>3?arguments[3]:void 0,tile=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};switch(tile.byteOffset=byteOffset,tile.type=function getMagicString(arrayBuffer){let byteOffset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const dataView=new DataView(arrayBuffer);return"".concat(String.fromCharCode(dataView.getUint8(byteOffset+0))).concat(String.fromCharCode(dataView.getUint8(byteOffset+1))).concat(String.fromCharCode(dataView.getUint8(byteOffset+2))).concat(String.fromCharCode(dataView.getUint8(byteOffset+3)))}(arrayBuffer,byteOffset),tile.type){case TILE3D_TYPE.COMPOSITE:return await async function parseComposite3DTile(tile,arrayBuffer,byteOffset,options,context,parse3DTile){byteOffset=parse3DTileHeaderSync(tile,arrayBuffer,byteOffset);const view=new DataView(arrayBuffer);for(tile.tilesLength=view.getUint32(byteOffset,!0),byteOffset+=4,tile.tiles=[];tile.tiles.length<tile.tilesLength&&tile.byteLength-byteOffset>12;){const subtile={};tile.tiles.push(subtile),byteOffset=await parse3DTile(arrayBuffer,byteOffset,options,context,subtile)}return byteOffset}(tile,arrayBuffer,byteOffset,options,context,parse3DTile);case TILE3D_TYPE.BATCHED_3D_MODEL:return await parseBatchedModel3DTile(tile,arrayBuffer,byteOffset,options,context);case TILE3D_TYPE.GLTF:return await async function parseGltf3DTile(tile,arrayBuffer,options,context){tile.rotateYtoZ=!0,tile.gltfUpAxis=options["3d-tiles"]&&options["3d-tiles"].assetGltfUpAxis?options["3d-tiles"].assetGltfUpAxis:"Y";const{parse:parse}=context;tile.gltf=await parse(arrayBuffer,gltf_loader.E,options,context),tile.gpuMemoryUsageInBytes=(0,gltf_utils.Xr)(tile.gltf)}(tile,arrayBuffer,options,context);case TILE3D_TYPE.INSTANCED_3D_MODEL:return await parseInstancedModel3DTile(tile,arrayBuffer,byteOffset,options,context);case TILE3D_TYPE.POINT_CLOUD:return await parsePointCloud3DTile(tile,arrayBuffer,byteOffset,options,context);default:throw new Error("3DTileLoader: unknown type ".concat(tile.type))}}async function getExplicitBitstream(subtree,name,internalBinaryBuffer,context){const bufferViewIndex=subtree[name].bufferView,bufferView=subtree.bufferViews[bufferViewIndex],buffer=subtree.buffers[bufferView.buffer];if(null==context||!context.url||!context.fetch)throw new Error("Url is not provided");if(!context.fetch)throw new Error("fetch is not provided");if(buffer.uri){const bufferUri=function resolveBufferUri(bitstreamRelativeUri,basePath){if(basePath.startsWith("http")){const resolvedUri=new URL(bitstreamRelativeUri,basePath);return decodeURI(resolvedUri.toString())}const basePathWithProtocol="http://".concat(basePath),resolvedUri=new URL(bitstreamRelativeUri,basePathWithProtocol);return"/".concat(resolvedUri.host).concat(resolvedUri.pathname)}(buffer.uri,null==context?void 0:context.url),response=await context.fetch(bufferUri),data=await response.arrayBuffer();return new Uint8Array(data,bufferView.byteOffset,bufferView.byteLength)}return new Uint8Array(internalBinaryBuffer,bufferView.byteOffset,bufferView.byteLength)}function parseUint64Value(buffer){const dataView=new DataView(buffer);return dataView.getUint32(0,!0)+2**32*dataView.getUint32(4,!0)}const Tile3DSubtreeLoader={id:"3d-tiles-subtree",name:"3D Tiles Subtree",module:"3d-tiles",version:"3.4.4",extensions:["subtree"],mimeTypes:["application/octet-stream"],tests:["subtree"],parse:async function parse3DTilesSubtree(data,options,context){if(1952609651!==new Uint32Array(data.slice(0,4))[0])throw new Error("Wrong subtree file magic number");if(1!==new Uint32Array(data.slice(4,8))[0])throw new Error("Wrong subtree file verson, must be 1");const jsonByteLength=parseUint64Value(data.slice(8,16)),stringAttribute=new Uint8Array(data,24,jsonByteLength),string=new TextDecoder("utf8").decode(stringAttribute),subtree=JSON.parse(string),binaryByteLength=parseUint64Value(data.slice(16,24));let internalBinaryBuffer=new ArrayBuffer(0);return binaryByteLength&&(internalBinaryBuffer=data.slice(24+jsonByteLength)),"bufferView"in subtree.tileAvailability&&(subtree.tileAvailability.explicitBitstream=await getExplicitBitstream(subtree,"tileAvailability",internalBinaryBuffer,context)),"bufferView"in subtree.contentAvailability&&(subtree.contentAvailability.explicitBitstream=await getExplicitBitstream(subtree,"contentAvailability",internalBinaryBuffer,context)),"bufferView"in subtree.childSubtreeAvailability&&(subtree.childSubtreeAvailability.explicitBitstream=await getExplicitBitstream(subtree,"childSubtreeAvailability",internalBinaryBuffer,context)),subtree},options:{}};var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function long_Long(low,high,unsigned){this.low=0|low,this.high=0|high,this.unsigned=!!unsigned}function isLong(obj){return!0===(obj&&obj.__isLong__)}function ctz32(value){var c=Math.clz32(value&-value);return value?31-c:c}long_Long.prototype.__isLong__,Object.defineProperty(long_Long.prototype,"__isLong__",{value:!0}),long_Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(value,unsigned){var obj,cachedObj,cache;return unsigned?(cache=0<=(value>>>=0)&&value<256)&&(cachedObj=UINT_CACHE[value])?cachedObj:(obj=fromBits(value,0,!0),cache&&(UINT_CACHE[value]=obj),obj):(cache=-128<=(value|=0)&&value<128)&&(cachedObj=INT_CACHE[value])?cachedObj:(obj=fromBits(value,value<0?-1:0,!1),cache&&(INT_CACHE[value]=obj),obj)}function fromNumber(value,unsigned){if(isNaN(value))return unsigned?UZERO:ZERO;if(unsigned){if(value<0)return UZERO;if(value>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(value<=-TWO_PWR_63_DBL)return MIN_VALUE;if(value+1>=TWO_PWR_63_DBL)return MAX_VALUE}return value<0?fromNumber(-value,unsigned).neg():fromBits(value%TWO_PWR_32_DBL|0,value/TWO_PWR_32_DBL|0,unsigned)}function fromBits(lowBits,highBits,unsigned){return new long_Long(lowBits,highBits,unsigned)}long_Long.fromInt=fromInt,long_Long.fromNumber=fromNumber,long_Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(str,unsigned,radix){if(0===str.length)throw Error("empty string");if("number"==typeof unsigned?(radix=unsigned,unsigned=!1):unsigned=!!unsigned,"NaN"===str||"Infinity"===str||"+Infinity"===str||"-Infinity"===str)return unsigned?UZERO:ZERO;if((radix=radix||10)<2||36<radix)throw RangeError("radix");var p;if((p=str.indexOf("-"))>0)throw Error("interior hyphen");if(0===p)return fromString(str.substring(1),unsigned,radix).neg();for(var radixToPower=fromNumber(pow_dbl(radix,8)),result=ZERO,i=0;i<str.length;i+=8){var size=Math.min(8,str.length-i),value=parseInt(str.substring(i,i+size),radix);if(size<8){var power=fromNumber(pow_dbl(radix,size));result=result.mul(power).add(fromNumber(value))}else result=(result=result.mul(radixToPower)).add(fromNumber(value))}return result.unsigned=unsigned,result}function fromValue(val,unsigned){return"number"==typeof val?fromNumber(val,unsigned):"string"==typeof val?fromString(val,unsigned):fromBits(val.low,val.high,"boolean"==typeof unsigned?unsigned:val.unsigned)}long_Long.fromString=fromString,long_Long.fromValue=fromValue;var TWO_PWR_32_DBL=4294967296,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(1<<24),ZERO=fromInt(0);long_Long.ZERO=ZERO;var UZERO=fromInt(0,!0);long_Long.UZERO=UZERO;var ONE=fromInt(1);long_Long.ONE=ONE;var UONE=fromInt(1,!0);long_Long.UONE=UONE;var NEG_ONE=fromInt(-1);long_Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);long_Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);long_Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);long_Long.MIN_VALUE=MIN_VALUE;var LongPrototype=long_Long.prototype;LongPrototype.toInt=function toInt(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function toNumber(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function toString(radix){if((radix=radix||10)<2||36<radix)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var radixLong=fromNumber(radix),div=this.div(radixLong),rem1=div.mul(radixLong).sub(this);return div.toString(radix)+rem1.toInt().toString(radix)}return"-"+this.neg().toString(radix)}for(var radixToPower=fromNumber(pow_dbl(radix,6),this.unsigned),rem=this,result="";;){var remDiv=rem.div(radixToPower),digits=(rem.sub(remDiv.mul(radixToPower)).toInt()>>>0).toString(radix);if((rem=remDiv).isZero())return digits+result;for(;digits.length<6;)digits="0"+digits;result=""+digits+result}},LongPrototype.getHighBits=function getHighBits(){return this.high},LongPrototype.getHighBitsUnsigned=function getHighBitsUnsigned(){return this.high>>>0},LongPrototype.getLowBits=function getLowBits(){return this.low},LongPrototype.getLowBitsUnsigned=function getLowBitsUnsigned(){return this.low>>>0},LongPrototype.getNumBitsAbs=function getNumBitsAbs(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var val=0!=this.high?this.high:this.low,bit=31;bit>0&&0==(val&1<<bit);bit--);return 0!=this.high?bit+33:bit+1},LongPrototype.isZero=function isZero(){return 0===this.high&&0===this.low},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function isNegative(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function isPositive(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function isOdd(){return 1==(1&this.low)},LongPrototype.isEven=function isEven(){return 0==(1&this.low)},LongPrototype.equals=function equals(other){return isLong(other)||(other=fromValue(other)),(this.unsigned===other.unsigned||this.high>>>31!=1||other.high>>>31!=1)&&(this.high===other.high&&this.low===other.low)},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function notEquals(other){return!this.eq(other)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function lessThan(other){return this.comp(other)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function lessThanOrEqual(other){return this.comp(other)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function greaterThan(other){return this.comp(other)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function greaterThanOrEqual(other){return this.comp(other)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function compare(other){if(isLong(other)||(other=fromValue(other)),this.eq(other))return 0;var thisNeg=this.isNegative(),otherNeg=other.isNegative();return thisNeg&&!otherNeg?-1:!thisNeg&&otherNeg?1:this.unsigned?other.high>>>0>this.high>>>0||other.high===this.high&&other.low>>>0>this.low>>>0?-1:1:this.sub(other).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function negate(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function add(addend){isLong(addend)||(addend=fromValue(addend));var a48=this.high>>>16,a32=65535&this.high,a16=this.low>>>16,a00=65535&this.low,b48=addend.high>>>16,b32=65535&addend.high,b16=addend.low>>>16,c48=0,c32=0,c16=0,c00=0;return c16+=(c00+=a00+(65535&addend.low))>>>16,c32+=(c16+=a16+b16)>>>16,c48+=(c32+=a32+b32)>>>16,c48+=a48+b48,fromBits((c16&=65535)<<16|(c00&=65535),(c48&=65535)<<16|(c32&=65535),this.unsigned)},LongPrototype.subtract=function subtract(subtrahend){return isLong(subtrahend)||(subtrahend=fromValue(subtrahend)),this.add(subtrahend.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function multiply(multiplier){if(this.isZero())return this;if(isLong(multiplier)||(multiplier=fromValue(multiplier)),wasm)return fromBits(wasm.mul(this.low,this.high,multiplier.low,multiplier.high),wasm.get_high(),this.unsigned);if(multiplier.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return multiplier.isOdd()?MIN_VALUE:ZERO;if(multiplier.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return multiplier.isNegative()?this.neg().mul(multiplier.neg()):this.neg().mul(multiplier).neg();if(multiplier.isNegative())return this.mul(multiplier.neg()).neg();if(this.lt(TWO_PWR_24)&&multiplier.lt(TWO_PWR_24))return fromNumber(this.toNumber()*multiplier.toNumber(),this.unsigned);var a48=this.high>>>16,a32=65535&this.high,a16=this.low>>>16,a00=65535&this.low,b48=multiplier.high>>>16,b32=65535&multiplier.high,b16=multiplier.low>>>16,b00=65535&multiplier.low,c48=0,c32=0,c16=0,c00=0;return c16+=(c00+=a00*b00)>>>16,c32+=(c16+=a16*b00)>>>16,c16&=65535,c32+=(c16+=a00*b16)>>>16,c48+=(c32+=a32*b00)>>>16,c32&=65535,c48+=(c32+=a16*b16)>>>16,c32&=65535,c48+=(c32+=a00*b32)>>>16,c48+=a48*b00+a32*b16+a16*b32+a00*b48,fromBits((c16&=65535)<<16|(c00&=65535),(c48&=65535)<<16|(c32&=65535),this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function divide(divisor){if(isLong(divisor)||(divisor=fromValue(divisor)),divisor.isZero())throw Error("division by zero");var approx,rem,res;if(wasm)return this.unsigned||-2147483648!==this.high||-1!==divisor.low||-1!==divisor.high?fromBits((this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,divisor.low,divisor.high),wasm.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?UZERO:ZERO;if(this.unsigned){if(divisor.unsigned||(divisor=divisor.toUnsigned()),divisor.gt(this))return UZERO;if(divisor.gt(this.shru(1)))return UONE;res=UZERO}else{if(this.eq(MIN_VALUE))return divisor.eq(ONE)||divisor.eq(NEG_ONE)?MIN_VALUE:divisor.eq(MIN_VALUE)?ONE:(approx=this.shr(1).div(divisor).shl(1)).eq(ZERO)?divisor.isNegative()?ONE:NEG_ONE:(rem=this.sub(divisor.mul(approx)),res=approx.add(rem.div(divisor)));if(divisor.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return divisor.isNegative()?this.neg().div(divisor.neg()):this.neg().div(divisor).neg();if(divisor.isNegative())return this.div(divisor.neg()).neg();res=ZERO}for(rem=this;rem.gte(divisor);){approx=Math.max(1,Math.floor(rem.toNumber()/divisor.toNumber()));for(var log2=Math.ceil(Math.log(approx)/Math.LN2),delta=log2<=48?1:pow_dbl(2,log2-48),approxRes=fromNumber(approx),approxRem=approxRes.mul(divisor);approxRem.isNegative()||approxRem.gt(rem);)approxRem=(approxRes=fromNumber(approx-=delta,this.unsigned)).mul(divisor);approxRes.isZero()&&(approxRes=ONE),res=res.add(approxRes),rem=rem.sub(approxRem)}return res},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function modulo(divisor){return isLong(divisor)||(divisor=fromValue(divisor)),wasm?fromBits((this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,divisor.low,divisor.high),wasm.get_high(),this.unsigned):this.sub(this.div(divisor).mul(divisor))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function not(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.countLeadingZeros=function countLeadingZeros(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},LongPrototype.clz=LongPrototype.countLeadingZeros,LongPrototype.countTrailingZeros=function countTrailingZeros(){return this.low?ctz32(this.low):ctz32(this.high)+32},LongPrototype.ctz=LongPrototype.countTrailingZeros,LongPrototype.and=function and(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low&other.low,this.high&other.high,this.unsigned)},LongPrototype.or=function or(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low|other.low,this.high|other.high,this.unsigned)},LongPrototype.xor=function xor(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low^other.low,this.high^other.high,this.unsigned)},LongPrototype.shiftLeft=function shiftLeft(numBits){return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:numBits<32?fromBits(this.low<<numBits,this.high<<numBits|this.low>>>32-numBits,this.unsigned):fromBits(0,this.low<<numBits-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function shiftRight(numBits){return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:numBits<32?fromBits(this.low>>>numBits|this.high<<32-numBits,this.high>>numBits,this.unsigned):fromBits(this.high>>numBits-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function shiftRightUnsigned(numBits){return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:numBits<32?fromBits(this.low>>>numBits|this.high<<32-numBits,this.high>>>numBits,this.unsigned):fromBits(32===numBits?this.high:this.high>>>numBits-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.rotateLeft=function rotateLeft(numBits){var b;return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:32===numBits?fromBits(this.high,this.low,this.unsigned):numBits<32?(b=32-numBits,fromBits(this.low<<numBits|this.high>>>b,this.high<<numBits|this.low>>>b,this.unsigned)):(b=32-(numBits-=32),fromBits(this.high<<numBits|this.low>>>b,this.low<<numBits|this.high>>>b,this.unsigned))},LongPrototype.rotl=LongPrototype.rotateLeft,LongPrototype.rotateRight=function rotateRight(numBits){var b;return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:32===numBits?fromBits(this.high,this.low,this.unsigned):numBits<32?(b=32-numBits,fromBits(this.high<<b|this.low>>>numBits,this.low<<b|this.high>>>numBits,this.unsigned)):(b=32-(numBits-=32),fromBits(this.low<<b|this.high>>>numBits,this.high<<b|this.low>>>numBits,this.unsigned))},LongPrototype.rotr=LongPrototype.rotateRight,LongPrototype.toSigned=function toSigned(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function toUnsigned(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function toBytes(le){return le?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function toBytesLE(){var hi=this.high,lo=this.low;return[255&lo,lo>>>8&255,lo>>>16&255,lo>>>24,255&hi,hi>>>8&255,hi>>>16&255,hi>>>24]},LongPrototype.toBytesBE=function toBytesBE(){var hi=this.high,lo=this.low;return[hi>>>24,hi>>>16&255,hi>>>8&255,255&hi,lo>>>24,lo>>>16&255,lo>>>8&255,255&lo]},long_Long.fromBytes=function fromBytes(bytes,unsigned,le){return le?long_Long.fromBytesLE(bytes,unsigned):long_Long.fromBytesBE(bytes,unsigned)},long_Long.fromBytesLE=function fromBytesLE(bytes,unsigned){return new long_Long(bytes[0]|bytes[1]<<8|bytes[2]<<16|bytes[3]<<24,bytes[4]|bytes[5]<<8|bytes[6]<<16|bytes[7]<<24,unsigned)},long_Long.fromBytesBE=function fromBytesBE(bytes,unsigned){return new long_Long(bytes[4]<<24|bytes[5]<<16|bytes[6]<<8|bytes[7],bytes[0]<<24|bytes[1]<<16|bytes[2]<<8|bytes[3],unsigned)};var node_modules_long=long_Long;const MAXIMUM_TOKEN_LENGTH=16;function getS2CellIdFromToken(token){"X"===token&&(token="");const paddedToken=token.padEnd(MAXIMUM_TOKEN_LENGTH,"0");return node_modules_long.fromString(paddedToken,!0,16)}const s2_geometry_FACE_BITS=3,s2_geometry_POS_BITS=61,s2_geometry_RADIAN_TO_DEGREE=180/Math.PI;function s2_geometry_IJToST(ij,level,offsets){const maxSize=1<<level;return[(ij[0]+offsets[0])/maxSize,(ij[1]+offsets[1])/maxSize]}function s2_geometry_singleSTtoUV(st){return st>=.5?1/3*(4*st*st-1):1/3*(1-4*(1-st)*(1-st))}function s2_geometry_STToUV(st){return[s2_geometry_singleSTtoUV(st[0]),s2_geometry_singleSTtoUV(st[1])]}function s2_geometry_FaceUVToXYZ(face,_ref){let[u,v]=_ref;switch(face){case 0:return[1,u,v];case 1:return[-u,1,v];case 2:return[-u,-v,1];case 3:return[-1,-v,-u];case 4:return[v,-1,-u];case 5:return[v,u,-1];default:throw new Error("Invalid face")}}function s2_geometry_XYZToLngLat(_ref2){let[x,y,z]=_ref2;const lat=Math.atan2(z,Math.sqrt(x*x+y*y));return[Math.atan2(y,x)*s2_geometry_RADIAN_TO_DEGREE,lat*s2_geometry_RADIAN_TO_DEGREE]}function s2_geometry_rotateAndFlipQuadrant(n,point,rx,ry){if(0===ry){1===rx&&(point[0]=n-1-point[0],point[1]=n-1-point[1]);const x=point[0];point[0]=point[1],point[1]=x}}function s2_cell_utils_getS2Cell(tokenOrKey){const key=function s2_cell_utils_getS2QuadKey(tokenOrKey){if(tokenOrKey.indexOf("/")>0)return tokenOrKey;const id=getS2CellIdFromToken(tokenOrKey);return function getS2QuadkeyFromCellId(cellId){if(cellId.isZero())return"";let bin=cellId.toString(2);for(;bin.length<s2_geometry_FACE_BITS+s2_geometry_POS_BITS;)bin="0"+bin;const lsbIndex=bin.lastIndexOf("1"),faceB=bin.substring(0,3),posB=bin.substring(3,lsbIndex),levelN=posB.length/2,faceS=node_modules_long.fromString(faceB,!0,2).toString(10);let posS="";if(0!==levelN)for(posS=node_modules_long.fromString(posB,!0,2).toString(4);posS.length<levelN;)posS="0"+posS;return"".concat(faceS,"/").concat(posS)}(id)}(tokenOrKey),s2cell=function getS2CellFromQuadKey(hilbertQuadkey){if(0===hilbertQuadkey.length)throw new Error("Invalid Hilbert quad key ".concat(hilbertQuadkey));const parts=hilbertQuadkey.split("/"),face=parseInt(parts[0],10),position=parts[1],maxLevel=position.length;let level=0;const point=[0,0];for(let i=maxLevel-1;i>=0;i--){level=maxLevel-i;const bit=position[i];let rx=0,ry=0;"1"===bit?ry=1:"2"===bit?(rx=1,ry=1):"3"===bit&&(rx=1);const val=Math.pow(2,level-1);s2_geometry_rotateAndFlipQuadrant(val,point,rx,ry),point[0]+=val*rx,point[1]+=val*ry}if(face%2==1){const t=point[0];point[0]=point[1],point[1]=t}return{face:face,ij:point,level:level}}(key);return s2cell}const s2_to_boundary_MAX_RESOLUTION=100;function s2_to_boundary_getS2BoundaryFlatFromS2Cell(s2cell){const{face:face,ij:ij,level:level}=s2cell,offsets=[[0,0],[0,1],[1,1],[1,0],[0,0]],resolution=Math.max(1,Math.ceil(s2_to_boundary_MAX_RESOLUTION*Math.pow(2,-level))),result=new Float64Array(4*resolution*2+2);let ptIndex=0,prevLng=0;for(let i=0;i<4;i++){const offset=offsets[i].slice(0),nextOffset=offsets[i+1],stepI=(nextOffset[0]-offset[0])/resolution,stepJ=(nextOffset[1]-offset[1])/resolution;for(let j=0;j<resolution;j++){offset[0]+=stepI,offset[1]+=stepJ;const lngLat=s2_geometry_XYZToLngLat(s2_geometry_FaceUVToXYZ(face,s2_geometry_STToUV(s2_geometry_IJToST(ij,level,offset))));Math.abs(lngLat[1])>89.999&&(lngLat[0]=prevLng);const deltaLng=lngLat[0]-prevLng;lngLat[0]+=deltaLng>180?-360:deltaLng<-180?360:0,result[ptIndex++]=lngLat[0],result[ptIndex++]=lngLat[1],prevLng=lngLat[0]}}return result[ptIndex++]=result[0],result[ptIndex++]=result[1],result}function get2DRegionFromS2Corners(corners){if(corners.length%2!=0)throw new Error("Invalid corners");const longitudes=[],latitudes=[];for(let i=0;i<corners.length;i+=2)longitudes.push(corners[i]),latitudes.push(corners[i+1]);return longitudes.sort(((a,b)=>a-b)),latitudes.sort(((a,b)=>a-b)),{west:longitudes[0],east:longitudes[longitudes.length-1],north:latitudes[latitudes.length-1],south:latitudes[0]}}function getS2OrientedBoundingBoxCornerPoints(tokenOrKey,heightInfo){const min=(null==heightInfo?void 0:heightInfo.minimumHeight)||0,max=(null==heightInfo?void 0:heightInfo.maximumHeight)||0,region=function getS2Region(s2cell){let region;if(2===s2cell.face||5===s2cell.face){let corners=null,len=0;for(let i=0;i<4;i++){const corns=s2_to_boundary_getS2BoundaryFlatFromS2Cell(s2_cell_utils_getS2Cell("".concat(s2cell.face,"/").concat(i)));null==corners&&(corners=new Float64Array(4*corns.length)),corners.set(corns,len),len+=corns.length}region=get2DRegionFromS2Corners(corners)}else region=get2DRegionFromS2Corners(s2_to_boundary_getS2BoundaryFlatFromS2Cell(s2cell));return region}(s2_cell_utils_getS2Cell(tokenOrKey)),W=region.west,S=region.south,E=region.east,N=region.north,points=[];return points.push(new vector3.Z(W,N,min)),points.push(new vector3.Z(E,N,min)),points.push(new vector3.Z(E,S,min)),points.push(new vector3.Z(W,S,min)),points.push(new vector3.Z(W,N,max)),points.push(new vector3.Z(E,N,max)),points.push(new vector3.Z(E,S,max)),points.push(new vector3.Z(W,S,max)),points}function getS2LngLat(s2Token){return function getS2LngLatFromS2Cell(s2Cell){const uv=s2_geometry_STToUV(s2_geometry_IJToST(s2Cell.ij,s2Cell.level,[.5,.5]));return s2_geometry_XYZToLngLat(s2_geometry_FaceUVToXYZ(s2Cell.face,uv))}(s2_cell_utils_getS2Cell(s2Token))}function convertS2BoundingVolumetoOBB(s2VolumeInfo){const token=s2VolumeInfo.token,heightInfo={minimumHeight:s2VolumeInfo.minimumHeight,maximumHeight:s2VolumeInfo.maximumHeight},corners=getS2OrientedBoundingBoxCornerPoints(token,heightInfo),center=getS2LngLat(token),centerLng=center[0],centerLat=center[1],point=Ellipsoid.WGS84.cartographicToCartesian([centerLng,centerLat,heightInfo.maximumHeight]),centerPointAdditional=new vector3.Z(point[0],point[1],point[2]);corners.push(centerPointAdditional);const obb=makeOrientedBoundingBoxFromPoints(corners);return[...obb.center,...obb.halfAxes]}const SUBDIVISION_COUNT_MAP={QUADTREE:4,OCTREE:8};function getChildS2VolumeBox(s2VolumeBox,index,subdivisionScheme){if(null!=s2VolumeBox&&s2VolumeBox.box){const childCellId=function getS2ChildCellId(cellId,index){const newLsb=function lsb(cellId){return cellId.and(cellId.not().add(1))}(cellId).shiftRightUnsigned(2);return cellId.add(node_modules_long.fromNumber(2*index+1-4).multiply(newLsb))}(getS2CellIdFromToken(s2VolumeBox.s2VolumeInfo.token),index),childToken=function getS2TokenFromCellId(cellId){if(cellId.isZero())return"X";let numZeroDigits=cellId.countTrailingZeros();numZeroDigits=(numZeroDigits-numZeroDigits%4)/4;const trailingZeroHexChars=numZeroDigits;numZeroDigits*=4;const hexString=cellId.shiftRightUnsigned(numZeroDigits).toString(16).replace(/0+$/,"");return Array(17-trailingZeroHexChars-hexString.length).join("0")+hexString}(childCellId),s2ChildVolumeInfo={...s2VolumeBox.s2VolumeInfo};if(s2ChildVolumeInfo.token=childToken,"OCTREE"===subdivisionScheme){const s2VolumeInfo=s2VolumeBox.s2VolumeInfo,delta=s2VolumeInfo.maximumHeight-s2VolumeInfo.minimumHeight,sizeZ=delta/2,midZ=s2VolumeInfo.minimumHeight+delta/2;s2VolumeInfo.minimumHeight=midZ-sizeZ,s2VolumeInfo.maximumHeight=midZ+sizeZ}return{box:convertS2BoundingVolumetoOBB(s2ChildVolumeInfo),s2VolumeInfo:s2ChildVolumeInfo}}}async function parseImplicitTiles(params){const{options:options,parentData:parentData={mortonIndex:0,x:0,y:0,z:0},childIndex:childIndex=0,globalData:globalData={level:0,mortonIndex:0,x:0,y:0,z:0},s2VolumeBox:s2VolumeBox}=params;let{subtree:subtree,level:level=0}=params;const{subdivisionScheme:subdivisionScheme,subtreeLevels:subtreeLevels,maximumLevel:maximumLevel,contentUrlTemplate:contentUrlTemplate,subtreesUriTemplate:subtreesUriTemplate,basePath:basePath}=options,tile={children:[],lodMetricValue:0,contentUrl:""},childrenPerTile=SUBDIVISION_COUNT_MAP[subdivisionScheme],childX=1&childIndex,childY=childIndex>>1&1,childZ=childIndex>>2&1,levelOffset=(childrenPerTile**level-1)/(childrenPerTile-1);let childTileMortonIndex=concatBits(parentData.mortonIndex,childIndex),tileAvailabilityIndex=levelOffset+childTileMortonIndex,childTileX=concatBits(parentData.x,childX),childTileY=concatBits(parentData.y,childY),childTileZ=concatBits(parentData.z,childZ),isChildSubtreeAvailable=!1;level+1>subtreeLevels&&(isChildSubtreeAvailable=getAvailabilityResult(subtree.childSubtreeAvailability,childTileMortonIndex));const x=concatBits(globalData.x,childTileX),y=concatBits(globalData.y,childTileY),z=concatBits(globalData.z,childTileZ),lev=level+globalData.level;if(isChildSubtreeAvailable){const childSubtreeUrl=replaceContentUrlTemplate("".concat(basePath,"/").concat(subtreesUriTemplate),lev,x,y,z);subtree=await(0,load.z)(childSubtreeUrl,Tile3DSubtreeLoader),globalData.mortonIndex=childTileMortonIndex,globalData.x=childTileX,globalData.y=childTileY,globalData.z=childTileZ,globalData.level=level,childTileMortonIndex=0,tileAvailabilityIndex=0,childTileX=0,childTileY=0,childTileZ=0,level=0}if(!getAvailabilityResult(subtree.tileAvailability,tileAvailabilityIndex)||level>maximumLevel)return tile;getAvailabilityResult(subtree.contentAvailability,tileAvailabilityIndex)&&(tile.contentUrl=replaceContentUrlTemplate(contentUrlTemplate,lev,x,y,z));const childTileLevel=level+1,pData={mortonIndex:childTileMortonIndex,x:childTileX,y:childTileY,z:childTileZ};for(let index=0;index<childrenPerTile;index++){const childS2VolumeBox=getChildS2VolumeBox(s2VolumeBox,index,subdivisionScheme),childTileParsed=await parseImplicitTiles({subtree:subtree,options:options,parentData:pData,childIndex:index,level:childTileLevel,globalData:globalData,s2VolumeBox:childS2VolumeBox});if(childTileParsed.contentUrl||childTileParsed.children.length){const formattedTile=formatTileData(childTileParsed,lev+1,{childTileX:childTileX,childTileY:childTileY,childTileZ:childTileZ},options,s2VolumeBox);tile.children.push(formattedTile)}}return tile}function getAvailabilityResult(availabilityData,index){return"constant"in availabilityData?Boolean(availabilityData.constant):!!availabilityData.explicitBitstream&&function getBooleanValueFromBitstream(availabilityIndex,availabilityBuffer){const byteIndex=Math.floor(availabilityIndex/8),bitIndex=availabilityIndex%8;return 1==(availabilityBuffer[byteIndex]>>bitIndex&1)}(index,availabilityData.explicitBitstream)}function formatTileData(tile,level,childCoordinates,options,s2VolumeBox){const{basePath:basePath,refine:refine,getRefine:getRefine,lodMetricType:lodMetricType,getTileType:getTileType,rootLodMetricValue:rootLodMetricValue,rootBoundingVolume:rootBoundingVolume}=options,uri=tile.contentUrl&&tile.contentUrl.replace("".concat(basePath,"/"),""),lodMetricValue=rootLodMetricValue/2**level,boundingVolumeForChildTile=function calculateBoundingVolumeForChildTile(level,rootBoundingVolume,childCoordinates){if(rootBoundingVolume.region){const{childTileX:childTileX,childTileY:childTileY,childTileZ:childTileZ}=childCoordinates,[west,south,east,north,minimumHeight,maximumHeight]=rootBoundingVolume.region,boundingVolumesCount=2**level,sizeX=(east-west)/boundingVolumesCount,sizeY=(north-south)/boundingVolumesCount,sizeZ=(maximumHeight-minimumHeight)/boundingVolumesCount,[childWest,childEast]=[west+sizeX*childTileX,west+sizeX*(childTileX+1)],[childSouth,childNorth]=[south+sizeY*childTileY,south+sizeY*(childTileY+1)],[childMinimumHeight,childMaximumHeight]=[minimumHeight+sizeZ*childTileZ,minimumHeight+sizeZ*(childTileZ+1)];return{region:[childWest,childSouth,childEast,childNorth,childMinimumHeight,childMaximumHeight]}}if(rootBoundingVolume.box)return rootBoundingVolume;throw new Error("Unsupported bounding volume type ".concat(rootBoundingVolume))}(level,null!=s2VolumeBox&&s2VolumeBox.box?{box:s2VolumeBox.box}:rootBoundingVolume,childCoordinates);return{children:tile.children,contentUrl:tile.contentUrl,content:{uri:uri},id:tile.contentUrl,refine:getRefine(refine),type:getTileType(tile),lodMetricType:lodMetricType,lodMetricValue:lodMetricValue,geometricError:lodMetricValue,transform:tile.transform,boundingVolume:boundingVolumeForChildTile}}function concatBits(first,second){return parseInt(first.toString(2)+second.toString(2),2)}function replaceContentUrlTemplate(templateUrl,level,x,y,z){const mapUrl=function generateMapUrl(items){const mapUrl={};for(const key in items)mapUrl["{".concat(key,"}")]=items[key];return mapUrl}({level:level,x:x,y:y,z:z});return templateUrl.replace(/{level}|{x}|{y}|{z}/gi,(matched=>mapUrl[matched]))}function getTileType(tile){if(!tile.contentUrl)return TILE_TYPE.EMPTY;const fileExtension=tile.contentUrl.split("?")[0].split(".").pop();switch(fileExtension){case"pnts":return TILE_TYPE.POINTCLOUD;case"i3dm":case"b3dm":case"glb":case"gltf":return TILE_TYPE.SCENEGRAPH;default:return fileExtension}}function getRefine(refine){switch(refine){case"REPLACE":case"replace":return TILE_REFINEMENT.REPLACE;case"ADD":case"add":return TILE_REFINEMENT.ADD;default:return refine}}function resolveUri(uri,basePath){if(/^[a-z][0-9a-z+.-]*:/i.test(basePath)){const url=new URL(uri,"".concat(basePath,"/"));return decodeURI(url.toString())}return uri.startsWith("/")?uri:"".concat(basePath,"/").concat(uri)}function normalizeTileData(tile,options){if(!tile)return null;if(tile.content){const contentUri=tile.content.uri||tile.content.url;tile.contentUrl=resolveUri(contentUri,options.basePath)}return tile.id=tile.contentUrl,tile.lodMetricType=LOD_METRIC_TYPE.GEOMETRIC_ERROR,tile.lodMetricValue=tile.geometricError,tile.transformMatrix=tile.transform,tile.type=getTileType(tile),tile.refine=getRefine(tile.refine),tile}async function normalizeImplicitTileHeaders(tile,tileset,implicitTilingExtension,options){var _tileset$root,_tile$boundingVolume$;const basePath=tileset.basePath,{subdivisionScheme:subdivisionScheme,maximumLevel:maximumLevel,subtreeLevels:subtreeLevels,subtrees:{uri:subtreesUriTemplate}}=implicitTilingExtension,subtreeUrl=resolveUri(replaceContentUrlTemplate(subtreesUriTemplate,0,0,0,0),basePath),subtree=await(0,load.z)(subtreeUrl,Tile3DSubtreeLoader,options),contentUrlTemplate=resolveUri(tile.content.uri,basePath),refine=null==tileset||null===(_tileset$root=tileset.root)||void 0===_tileset$root?void 0:_tileset$root.refine,rootLodMetricValue=tile.geometricError,s2VolumeInfo=null===(_tile$boundingVolume$=tile.boundingVolume.extensions)||void 0===_tile$boundingVolume$?void 0:_tile$boundingVolume$["3DTILES_bounding_volume_S2"];if(s2VolumeInfo){const s2VolumeBox={box:convertS2BoundingVolumetoOBB(s2VolumeInfo),s2VolumeInfo:s2VolumeInfo};tile.boundingVolume=s2VolumeBox}const rootBoundingVolume=tile.boundingVolume,implicitOptions={contentUrlTemplate:contentUrlTemplate,subtreesUriTemplate:subtreesUriTemplate,subdivisionScheme:subdivisionScheme,subtreeLevels:subtreeLevels,maximumLevel:maximumLevel,refine:refine,basePath:basePath,lodMetricType:LOD_METRIC_TYPE.GEOMETRIC_ERROR,rootLodMetricValue:rootLodMetricValue,rootBoundingVolume:rootBoundingVolume,getTileType:getTileType,getRefine:getRefine};return await async function normalizeImplicitTileData(tile,rootSubtree,options){if(!tile)return null;tile.lodMetricType=LOD_METRIC_TYPE.GEOMETRIC_ERROR,tile.lodMetricValue=tile.geometricError,tile.transformMatrix=tile.transform;const{children:children,contentUrl:contentUrl}=await parseImplicitTiles({subtree:rootSubtree,options:options,s2VolumeBox:tile});contentUrl&&(tile.contentUrl=contentUrl,tile.content={uri:contentUrl.replace("".concat(options.basePath,"/"),"")});return tile.refine=getRefine(tile.refine),tile.type=getTileType(tile),tile.children=children,tile.id=tile.contentUrl,tile}(tile,subtree,implicitOptions)}function getImplicitTilingExtensionData(tile){var _tile$extensions;return(null==tile||null===(_tile$extensions=tile.extensions)||void 0===_tile$extensions?void 0:_tile$extensions["3DTILES_implicit_tiling"])||(null==tile?void 0:tile.implicitTiling)}const Tiles3DLoader={id:"3d-tiles",name:"3D Tiles",module:"3d-tiles",version:"3.4.4",extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],tests:["cmpt","pnts","b3dm","i3dm"],parse:async function parse(data,options,context){const loaderOptions=options["3d-tiles"]||{};let isTileset;isTileset="auto"===loaderOptions.isTileset?context.url&&-1!==context.url.indexOf(".json"):loaderOptions.isTileset;data=isTileset?await async function parseTileset(data,options,context){var _tilesetJson$root;const tilesetJson=JSON.parse((new TextDecoder).decode(data));return tilesetJson.loader=options.loader||Tiles3DLoader,tilesetJson.url=context.url,tilesetJson.queryString=context.queryString,tilesetJson.basePath=function getBaseUri(tileset){return path.XX(tileset.url)}(tilesetJson),tilesetJson.root=await async function normalizeTileHeaders(tileset,options){const basePath=tileset.basePath;let root;const rootImplicitTilingExtension=getImplicitTilingExtensionData(null==tileset?void 0:tileset.root);root=rootImplicitTilingExtension&&tileset.root?await normalizeImplicitTileHeaders(tileset.root,tileset,rootImplicitTilingExtension,options):normalizeTileData(tileset.root,tileset);const stack=[];for(stack.push(root);stack.length>0;){const children=(stack.pop()||{}).children||[];for(let childHeader of children){const childImplicitTilingExtension=getImplicitTilingExtensionData(childHeader);childImplicitTilingExtension?childHeader=await normalizeImplicitTileHeaders(childHeader,tileset,childImplicitTilingExtension,options):normalizeTileData(childHeader,{basePath:basePath}),stack.push(childHeader)}}return root}(tilesetJson,options),tilesetJson.type=TILESET_TYPE.TILES3D,tilesetJson.lodMetricType=LOD_METRIC_TYPE.GEOMETRIC_ERROR,tilesetJson.lodMetricValue=(null===(_tilesetJson$root=tilesetJson.root)||void 0===_tilesetJson$root?void 0:_tilesetJson$root.lodMetricValue)||0,tilesetJson}(data,options,context):await async function parseTile(arrayBuffer,options,context){const tile={content:{featureIds:null}},byteOffset=0;return await parse3DTile(arrayBuffer,byteOffset,options,context,tile.content),tile.content}(data,options,context);return data},options:{"3d-tiles":{loadGLTF:!0,decodeQuantizedPositions:!1,isTileset:"auto",assetGltfUpAxis:null}}};const SINGLE_DATA=[0],tile_3d_layer_defaultProps={getPointColor:{type:"accessor",value:[0,0,0,255]},pointSize:1,data:"",loader:Tiles3DLoader,onTilesetLoad:{type:"function",value:tileset3d=>{}},onTileLoad:{type:"function",value:tileHeader=>{}},onTileUnload:{type:"function",value:tileHeader=>{}},onTileError:{type:"function",value:(tile,message,url)=>{}},_getMeshColor:{type:"function",value:tileHeader=>[255,255,255]}};class Tile3DLayer extends composite_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}initializeState(){"onTileLoadFail"in this.props&&log.Z.removed("onTileLoadFail","onTileError")(),this.state={layerMap:{},tileset3d:null,activeViewports:{},lastUpdatedViewports:null}}get isLoaded(){const{tileset3d:tileset3d}=this.state;return null!==tileset3d&&tileset3d.isLoaded()}shouldUpdateState({changeFlags:changeFlags}){return changeFlags.somethingChanged}updateState({props:props,oldProps:oldProps,changeFlags:changeFlags}){if(props.data&&props.data!==oldProps.data&&this._loadTileset(props.data),changeFlags.viewportChanged){const{activeViewports:activeViewports}=this.state;Object.keys(activeViewports).length&&(this._updateTileset(activeViewports),this.state.lastUpdatedViewports=activeViewports,this.state.activeViewports={})}if(changeFlags.propsChanged){const{layerMap:layerMap}=this.state;for(const key in layerMap)layerMap[key].needsUpdate=!0}}activateViewport(viewport){const{activeViewports:activeViewports,lastUpdatedViewports:lastUpdatedViewports}=this.state;this.internalState.viewport=viewport,activeViewports[viewport.id]=viewport;const lastViewport=null==lastUpdatedViewports?void 0:lastUpdatedViewports[viewport.id];lastViewport&&viewport.equals(lastViewport)||(this.setChangeFlags({viewportChanged:!0}),this.setNeedsUpdate())}getPickingInfo({info:info,sourceLayer:sourceLayer}){const sourceTile=sourceLayer&&sourceLayer.props.tile;return info.picked&&(info.object=sourceTile),info.sourceTile=sourceTile,info}filterSubLayer({layer:layer,viewport:viewport}){const{tile:tile}=layer.props,{id:viewportId}=viewport;return tile.selected&&tile.viewportIds.includes(viewportId)}_updateAutoHighlight(info){const sourceTile=info.sourceTile,layerCache=this.state.layerMap[null==sourceTile?void 0:sourceTile.id];layerCache&&layerCache.layer&&layerCache.layer.updateAutoHighlight(info)}async _loadTileset(tilesetUrl){const{loadOptions:loadOptions={}}=this.props;let loader=this.props.loader||this.props.loaders;Array.isArray(loader)&&(loader=loader[0]);const options={loadOptions:{...loadOptions}};if(loader.preload){const preloadOptions=await loader.preload(tilesetUrl,loadOptions);preloadOptions.headers&&(options.loadOptions.fetch={...options.loadOptions.fetch,headers:preloadOptions.headers}),Object.assign(options,preloadOptions)}const tilesetJson=await(0,load.z)(tilesetUrl,loader,options.loadOptions),tileset3d=new Tileset3D(tilesetJson,{onTileLoad:this._onTileLoad.bind(this),onTileUnload:this._onTileUnload.bind(this),onTileError:this.props.onTileError,...options});this.setState({tileset3d:tileset3d,layerMap:{}}),this._updateTileset(this.state.activeViewports),this.props.onTilesetLoad(tileset3d)}_onTileLoad(tileHeader){const{lastUpdatedViewports:lastUpdatedViewports}=this.state;this.props.onTileLoad(tileHeader),this._updateTileset(lastUpdatedViewports),this.setNeedsUpdate()}_onTileUnload(tileHeader){delete this.state.layerMap[tileHeader.id],this.props.onTileUnload(tileHeader)}_updateTileset(viewports){if(!viewports)return;const{tileset3d:tileset3d}=this.state,{timeline:timeline}=this.context,viewportsNumber=Object.keys(viewports).length;timeline&&viewportsNumber&&tileset3d&&tileset3d.selectTiles(Object.values(viewports)).then((frameNumber=>{this.state.frameNumber!==frameNumber&&this.setState({frameNumber:frameNumber})}))}_getSubLayer(tileHeader,oldLayer){if(!tileHeader.content)return null;switch(tileHeader.type){case TILE_TYPE.POINTCLOUD:return this._makePointCloudLayer(tileHeader,oldLayer);case TILE_TYPE.SCENEGRAPH:return this._make3DModelLayer(tileHeader);case TILE_TYPE.MESH:return this._makeSimpleMeshLayer(tileHeader,oldLayer);default:throw new Error("Tile3DLayer: Failed to render layer of type ".concat(tileHeader.content.type))}}_makePointCloudLayer(tileHeader,oldLayer){const{attributes:attributes,pointCount:pointCount,constantRGBA:constantRGBA,cartographicOrigin:cartographicOrigin,modelMatrix:modelMatrix}=tileHeader.content,{positions:positions,normals:normals,colors:colors}=attributes;if(!positions)return null;const data=oldLayer&&oldLayer.props.data||{header:{vertexCount:pointCount},attributes:{POSITION:positions,NORMAL:normals,COLOR_0:colors}},{pointSize:pointSize,getPointColor:getPointColor}=this.props;return new(this.getSubLayerClass("pointcloud",point_cloud_layer.Z))({pointSize:pointSize},this.getSubLayerProps({id:"pointcloud"}),{id:"".concat(this.id,"-pointcloud-").concat(tileHeader.id),tile:tileHeader,data:data,coordinateSystem:constants.COORDINATE_SYSTEM.METER_OFFSETS,coordinateOrigin:cartographicOrigin,modelMatrix:modelMatrix,getColor:constantRGBA||getPointColor,_offset:0})}_make3DModelLayer(tileHeader){const{gltf:gltf,instances:instances,cartographicOrigin:cartographicOrigin,modelMatrix:modelMatrix}=tileHeader.content;return new(this.getSubLayerClass("scenegraph",scenegraph_layer.Z))({_lighting:"pbr"},this.getSubLayerProps({id:"scenegraph"}),{id:"".concat(this.id,"-scenegraph-").concat(tileHeader.id),tile:tileHeader,data:instances||SINGLE_DATA,scenegraph:gltf,coordinateSystem:constants.COORDINATE_SYSTEM.METER_OFFSETS,coordinateOrigin:cartographicOrigin,modelMatrix:modelMatrix,getTransformMatrix:instance=>instance.modelMatrix,getPosition:[0,0,0],_offset:0})}_makeSimpleMeshLayer(tileHeader,oldLayer){const content=tileHeader.content,{attributes:attributes,indices:indices,modelMatrix:modelMatrix,cartographicOrigin:cartographicOrigin,coordinateSystem:coordinateSystem=constants.COORDINATE_SYSTEM.METER_OFFSETS,material:material,featureIds:featureIds}=content,{_getMeshColor:_getMeshColor}=this.props,geometry=oldLayer&&oldLayer.props.mesh||new geometry_geometry.Z({drawMode:4,attributes:getMeshGeometry(attributes),indices:indices});return new(this.getSubLayerClass("mesh",MeshLayer))(this.getSubLayerProps({id:"mesh"}),{id:"".concat(this.id,"-mesh-").concat(tileHeader.id),tile:tileHeader,mesh:geometry,data:SINGLE_DATA,getColor:_getMeshColor(tileHeader),pbrMaterial:material,modelMatrix:modelMatrix,coordinateOrigin:cartographicOrigin,coordinateSystem:coordinateSystem,featureIds:featureIds,_offset:0})}renderLayers(){const{tileset3d:tileset3d,layerMap:layerMap}=this.state;return tileset3d?tileset3d.tiles.map((tile=>{const layerCache=layerMap[tile.id]=layerMap[tile.id]||{tile:tile};let{layer:layer}=layerCache;return tile.selected&&(layer?layerCache.needsUpdate&&(layer=this._getSubLayer(tile,layer),layerCache.needsUpdate=!1):layer=this._getSubLayer(tile)),layerCache.layer=layer,layer})).filter(Boolean):null}}function getMeshGeometry(contentAttributes){const attributes={};return attributes.positions={...contentAttributes.positions,value:new Float32Array(contentAttributes.positions.value)},contentAttributes.normals&&(attributes.normals=contentAttributes.normals),contentAttributes.texCoords&&(attributes.texCoords=contentAttributes.texCoords),contentAttributes.colors&&(attributes.colors=contentAttributes.colors),contentAttributes.uvRegions&&(attributes.uvRegions=contentAttributes.uvRegions),attributes}(0,defineProperty.Z)(Tile3DLayer,"defaultProps",tile_3d_layer_defaultProps),(0,defineProperty.Z)(Tile3DLayer,"layerName","Tile3DLayer");var terrain_loader=__webpack_require__("./node_modules/@loaders.gl/terrain/dist/esm/terrain-loader.js");const DUMMY_DATA=[1],terrain_layer_defaultProps={...TileLayer.defaultProps,elevationData:urlType,texture:{...urlType,optional:!0},meshMaxError:{type:"number",value:4},bounds:{type:"array",value:null,optional:!0,compare:!0},color:{type:"color",value:[255,255,255]},elevationDecoder:{type:"object",value:{rScaler:1,gScaler:0,bScaler:0,offset:0}},workerUrl:"",wireframe:!1,material:!0,loaders:[terrain_loader.x]};function urlTemplateToUpdateTrigger(template){return Array.isArray(template)?template.join(";"):template||""}class TerrainLayer extends composite_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}updateState({props:props,oldProps:oldProps}){const elevationDataChanged=props.elevationData!==oldProps.elevationData;if(elevationDataChanged){const{elevationData:elevationData}=props,isTiled=elevationData&&(Array.isArray(elevationData)||elevationData.includes("{x}")&&elevationData.includes("{y}"));this.setState({isTiled:isTiled})}const shouldReload=elevationDataChanged||props.meshMaxError!==oldProps.meshMaxError||props.elevationDecoder!==oldProps.elevationDecoder||props.bounds!==oldProps.bounds;if(!this.state.isTiled&&shouldReload){const terrain=this.loadTerrain(props);this.setState({terrain:terrain})}props.workerUrl&&log.Z.removed("workerUrl","loadOptions.terrain.workerUrl")()}loadTerrain({elevationData:elevationData,bounds:bounds,elevationDecoder:elevationDecoder,meshMaxError:meshMaxError,signal:signal}){var _loadOptions;if(!elevationData)return null;let loadOptions=this.getLoadOptions();loadOptions={...loadOptions,terrain:{skirtHeight:this.state.isTiled?2*meshMaxError:0,...null===(_loadOptions=loadOptions)||void 0===_loadOptions?void 0:_loadOptions.terrain,bounds:bounds,meshMaxError:meshMaxError,elevationDecoder:elevationDecoder}};const{fetch:fetch}=this.props;return fetch(elevationData,{propName:"elevationData",layer:this,loadOptions:loadOptions,signal:signal})}getTiledTerrainData(tile){const{elevationData:elevationData,fetch:fetch,texture:texture,elevationDecoder:elevationDecoder,meshMaxError:meshMaxError}=this.props,{viewport:viewport}=this.context,dataUrl=getURLFromTemplate(elevationData,tile),textureUrl=texture&&getURLFromTemplate(texture,tile),{signal:signal}=tile;let bottomLeft=[0,0],topRight=[0,0];if(viewport.isGeospatial){const bbox=tile.bbox;bottomLeft=viewport.projectFlat([bbox.west,bbox.south]),topRight=viewport.projectFlat([bbox.east,bbox.north])}else{const bbox=tile.bbox;bottomLeft=[bbox.left,bbox.bottom],topRight=[bbox.right,bbox.top]}const bounds=[bottomLeft[0],bottomLeft[1],topRight[0],topRight[1]],terrain=this.loadTerrain({elevationData:dataUrl,bounds:bounds,elevationDecoder:elevationDecoder,meshMaxError:meshMaxError,signal:signal}),surface=textureUrl?fetch(textureUrl,{propName:"texture",layer:this,loaders:[],signal:signal}).catch((_=>null)):Promise.resolve(null);return Promise.all([terrain,surface])}renderSubLayers(props){const SubLayerClass=this.getSubLayerClass("mesh",simple_mesh_layer.Z),{color:color,wireframe:wireframe,material:material}=this.props,{data:data}=props;if(!data)return null;const[mesh,texture]=data;return new SubLayerClass(props,{data:DUMMY_DATA,mesh:mesh,texture:texture,_instanced:!1,coordinateSystem:constants.COORDINATE_SYSTEM.CARTESIAN,getPosition:d=>[0,0,0],getColor:color,wireframe:wireframe,material:material})}onViewportLoad(tiles){if(!tiles)return;const{zRange:zRange}=this.state,ranges=tiles.map((tile=>tile.content)).filter(Boolean).map((arr=>arr[0].header.boundingBox.map((bound=>bound[2]))));if(0===ranges.length)return;const minZ=Math.min(...ranges.map((x=>x[0]))),maxZ=Math.max(...ranges.map((x=>x[1])));(!zRange||minZ<zRange[0]||maxZ>zRange[1])&&this.setState({zRange:[minZ,maxZ]})}renderLayers(){const{color:color,material:material,elevationData:elevationData,texture:texture,wireframe:wireframe,meshMaxError:meshMaxError,elevationDecoder:elevationDecoder,tileSize:tileSize,maxZoom:maxZoom,minZoom:minZoom,extent:extent,maxRequests:maxRequests,onTileLoad:onTileLoad,onTileUnload:onTileUnload,onTileError:onTileError,maxCacheSize:maxCacheSize,maxCacheByteSize:maxCacheByteSize,refinementStrategy:refinementStrategy}=this.props;if(this.state.isTiled)return new TileLayer(this.getSubLayerProps({id:"tiles"}),{getTileData:this.getTiledTerrainData.bind(this),renderSubLayers:this.renderSubLayers.bind(this),updateTriggers:{getTileData:{elevationData:urlTemplateToUpdateTrigger(elevationData),texture:urlTemplateToUpdateTrigger(texture),meshMaxError:meshMaxError,elevationDecoder:elevationDecoder}},onViewportLoad:this.onViewportLoad.bind(this),zRange:this.state.zRange||null,tileSize:tileSize,maxZoom:maxZoom,minZoom:minZoom,extent:extent,maxRequests:maxRequests,onTileLoad:onTileLoad,onTileUnload:onTileUnload,onTileError:onTileError,maxCacheSize:maxCacheSize,maxCacheByteSize:maxCacheByteSize,refinementStrategy:refinementStrategy});return new(this.getSubLayerClass("mesh",simple_mesh_layer.Z))(this.getSubLayerProps({id:"mesh"}),{data:DUMMY_DATA,mesh:this.state.terrain,texture:texture,_instanced:!1,getPosition:d=>[0,0,0],getColor:color,material:material,wireframe:wireframe})}}(0,defineProperty.Z)(TerrainLayer,"defaultProps",terrain_layer_defaultProps),(0,defineProperty.Z)(TerrainLayer,"layerName","TerrainLayer");var layer_extension=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer-extension.js");const clip_extension_defaultProps={clipBounds:[0,0,1,1],clipByInstance:void 0},shaderFunction="\nuniform vec4 clip_bounds;\n\nbool clip_isInBounds(vec2 position) {\n  return position.x >= clip_bounds[0] && position.y >= clip_bounds[1] && position.x < clip_bounds[2] && position.y < clip_bounds[3];\n}\n",shaderModuleVs={name:"clip-vs",vs:shaderFunction},injectionVs={"vs:#decl":"\nvarying float clip_isVisible;\n","vs:DECKGL_FILTER_GL_POSITION":"\n  clip_isVisible = float(clip_isInBounds(geometry.worldPosition.xy));\n","fs:#decl":"\nvarying float clip_isVisible;\n","fs:DECKGL_FILTER_COLOR":"\n  if (clip_isVisible < 0.5) discard;\n"},shaderModuleFs={name:"clip-fs",fs:shaderFunction},injectionFs={"vs:#decl":"\nvarying vec2 clip_commonPosition;\n","vs:DECKGL_FILTER_GL_POSITION":"\n  clip_commonPosition = geometry.position.xy;\n","fs:#decl":"\nvarying vec2 clip_commonPosition;\n","fs:DECKGL_FILTER_COLOR":"\n  if (!clip_isInBounds(clip_commonPosition)) discard;\n"};class ClipExtension extends layer_extension.Z{getShaders(){let clipByInstance="instancePositions"in this.getAttributeManager().attributes;return void 0!==this.props.clipByInstance&&(clipByInstance=Boolean(this.props.clipByInstance)),this.state.clipByInstance=clipByInstance,clipByInstance?{modules:[shaderModuleVs],inject:injectionVs}:{modules:[shaderModuleFs],inject:injectionFs}}draw({uniforms:uniforms}){const{clipBounds:clipBounds}=this.props;if(this.state.clipByInstance)uniforms.clip_bounds=clipBounds;else{const corner0=this.projectPosition([clipBounds[0],clipBounds[1],0]),corner1=this.projectPosition([clipBounds[2],clipBounds[3],0]);uniforms.clip_bounds=[Math.min(corner0[0],corner1[0]),Math.min(corner0[1],corner1[1]),Math.max(corner0[0],corner1[0]),Math.max(corner0[1],corner1[1])]}}}(0,defineProperty.Z)(ClipExtension,"defaultProps",clip_extension_defaultProps),(0,defineProperty.Z)(ClipExtension,"extensionName","ClipExtension");var polygon_dist_esm=__webpack_require__("./node_modules/@math.gl/polygon/dist/esm/index.js");function flatGeojsonToBinary(features,geometryInfo,options){const propArrayTypes=extractNumericPropTypes(features),numericPropKeys=Object.keys(propArrayTypes).filter((k=>propArrayTypes[k]!==Array));return function fillArrays(features,geometryInfo,options){const{pointPositionsCount:pointPositionsCount,pointFeaturesCount:pointFeaturesCount,linePositionsCount:linePositionsCount,linePathsCount:linePathsCount,lineFeaturesCount:lineFeaturesCount,polygonPositionsCount:polygonPositionsCount,polygonObjectsCount:polygonObjectsCount,polygonRingsCount:polygonRingsCount,polygonFeaturesCount:polygonFeaturesCount,propArrayTypes:propArrayTypes,coordLength:coordLength}=geometryInfo,{numericPropKeys:numericPropKeys=[],PositionDataType:PositionDataType=Float32Array}=options,hasGlobalId=features[0]&&"id"in features[0],GlobalFeatureIdsDataType=features.length>65535?Uint32Array:Uint16Array,points={type:"Point",positions:new PositionDataType(pointPositionsCount*coordLength),globalFeatureIds:new GlobalFeatureIdsDataType(pointPositionsCount),featureIds:pointFeaturesCount>65535?new Uint32Array(pointPositionsCount):new Uint16Array(pointPositionsCount),numericProps:{},properties:[],fields:[]},lines={type:"LineString",pathIndices:linePositionsCount>65535?new Uint32Array(linePathsCount+1):new Uint16Array(linePathsCount+1),positions:new PositionDataType(linePositionsCount*coordLength),globalFeatureIds:new GlobalFeatureIdsDataType(linePositionsCount),featureIds:lineFeaturesCount>65535?new Uint32Array(linePositionsCount):new Uint16Array(linePositionsCount),numericProps:{},properties:[],fields:[]},polygons={type:"Polygon",polygonIndices:polygonPositionsCount>65535?new Uint32Array(polygonObjectsCount+1):new Uint16Array(polygonObjectsCount+1),primitivePolygonIndices:polygonPositionsCount>65535?new Uint32Array(polygonRingsCount+1):new Uint16Array(polygonRingsCount+1),positions:new PositionDataType(polygonPositionsCount*coordLength),triangles:[],globalFeatureIds:new GlobalFeatureIdsDataType(polygonPositionsCount),featureIds:polygonFeaturesCount>65535?new Uint32Array(polygonPositionsCount):new Uint16Array(polygonPositionsCount),numericProps:{},properties:[],fields:[]};for(const object of[points,lines,polygons])for(const propName of numericPropKeys){const T=propArrayTypes[propName];object.numericProps[propName]=new T(object.positions.length/coordLength)}lines.pathIndices[linePathsCount]=linePositionsCount,polygons.polygonIndices[polygonObjectsCount]=polygonPositionsCount,polygons.primitivePolygonIndices[polygonRingsCount]=polygonPositionsCount;const indexMap={pointPosition:0,pointFeature:0,linePosition:0,linePath:0,lineFeature:0,polygonPosition:0,polygonObject:0,polygonRing:0,polygonFeature:0,feature:0};for(const feature of features){const geometry=feature.geometry,properties=feature.properties||{};switch(geometry.type){case"Point":handlePoint(geometry,points,indexMap,coordLength,properties),points.properties.push(keepStringProperties(properties,numericPropKeys)),hasGlobalId&&points.fields.push({id:feature.id}),indexMap.pointFeature++;break;case"LineString":handleLineString(geometry,lines,indexMap,coordLength,properties),lines.properties.push(keepStringProperties(properties,numericPropKeys)),hasGlobalId&&lines.fields.push({id:feature.id}),indexMap.lineFeature++;break;case"Polygon":handlePolygon(geometry,polygons,indexMap,coordLength,properties),polygons.properties.push(keepStringProperties(properties,numericPropKeys)),hasGlobalId&&polygons.fields.push({id:feature.id}),indexMap.polygonFeature++;break;default:throw new Error("Invalid geometry type")}indexMap.feature++}return function makeAccessorObjects(points,lines,polygons,coordLength){return{points:{...points,positions:{value:points.positions,size:coordLength},globalFeatureIds:{value:points.globalFeatureIds,size:1},featureIds:{value:points.featureIds,size:1},numericProps:wrapProps(points.numericProps,1)},lines:{...lines,positions:{value:lines.positions,size:coordLength},pathIndices:{value:lines.pathIndices,size:1},globalFeatureIds:{value:lines.globalFeatureIds,size:1},featureIds:{value:lines.featureIds,size:1},numericProps:wrapProps(lines.numericProps,1)},polygons:{...polygons,positions:{value:polygons.positions,size:coordLength},polygonIndices:{value:polygons.polygonIndices,size:1},primitivePolygonIndices:{value:polygons.primitivePolygonIndices,size:1},triangles:{value:new Uint32Array(polygons.triangles),size:1},globalFeatureIds:{value:polygons.globalFeatureIds,size:1},featureIds:{value:polygons.featureIds,size:1},numericProps:wrapProps(polygons.numericProps,1)}}}(points,lines,polygons,coordLength)}(features,{propArrayTypes:propArrayTypes,...geometryInfo},{numericPropKeys:options&&options.numericPropKeys||numericPropKeys,PositionDataType:options?options.PositionDataType:Float32Array})}function extractNumericPropTypes(features){const propArrayTypes={};for(const feature of features)if(feature.properties)for(const key in feature.properties){const val=feature.properties[key];propArrayTypes[key]=deduceArrayType(val,propArrayTypes[key])}return propArrayTypes}function handlePoint(geometry,points,indexMap,coordLength,properties){points.positions.set(geometry.data,indexMap.pointPosition*coordLength);const nPositions=geometry.data.length/coordLength;fillNumericProperties(points,properties,indexMap.pointPosition,nPositions),points.globalFeatureIds.fill(indexMap.feature,indexMap.pointPosition,indexMap.pointPosition+nPositions),points.featureIds.fill(indexMap.pointFeature,indexMap.pointPosition,indexMap.pointPosition+nPositions),indexMap.pointPosition+=nPositions}function handleLineString(geometry,lines,indexMap,coordLength,properties){lines.positions.set(geometry.data,indexMap.linePosition*coordLength);const nPositions=geometry.data.length/coordLength;fillNumericProperties(lines,properties,indexMap.linePosition,nPositions),lines.globalFeatureIds.fill(indexMap.feature,indexMap.linePosition,indexMap.linePosition+nPositions),lines.featureIds.fill(indexMap.lineFeature,indexMap.linePosition,indexMap.linePosition+nPositions);for(let i=0,il=geometry.indices.length;i<il;++i){const start=geometry.indices[i],end=i===il-1?geometry.data.length:geometry.indices[i+1];lines.pathIndices[indexMap.linePath++]=indexMap.linePosition,indexMap.linePosition+=(end-start)/coordLength}}function handlePolygon(geometry,polygons,indexMap,coordLength,properties){polygons.positions.set(geometry.data,indexMap.polygonPosition*coordLength);const nPositions=geometry.data.length/coordLength;fillNumericProperties(polygons,properties,indexMap.polygonPosition,nPositions),polygons.globalFeatureIds.fill(indexMap.feature,indexMap.polygonPosition,indexMap.polygonPosition+nPositions),polygons.featureIds.fill(indexMap.polygonFeature,indexMap.polygonPosition,indexMap.polygonPosition+nPositions);for(let l=0,ll=geometry.indices.length;l<ll;++l){const startPosition=indexMap.polygonPosition;polygons.polygonIndices[indexMap.polygonObject++]=startPosition;const areas=geometry.areas[l],indices=geometry.indices[l],nextIndices=geometry.indices[l+1];for(let i=0,il=indices.length;i<il;++i){const start=indices[i],end=i===il-1?void 0===nextIndices?geometry.data.length:nextIndices[0]:indices[i+1];polygons.primitivePolygonIndices[indexMap.polygonRing++]=indexMap.polygonPosition,indexMap.polygonPosition+=(end-start)/coordLength}triangulatePolygon(polygons,areas,indices,{startPosition:startPosition,endPosition:indexMap.polygonPosition,coordLength:coordLength})}}function triangulatePolygon(polygons,areas,indices,_ref){let{startPosition:startPosition,endPosition:endPosition,coordLength:coordLength}=_ref;const start=startPosition*coordLength,end=endPosition*coordLength,polygonPositions=polygons.positions.subarray(start,end),offset=indices[0],holes=indices.slice(1).map((n=>(n-offset)/coordLength)),triangles=(0,polygon_dist_esm.OT)(polygonPositions,holes,coordLength,areas);for(let t=0,tl=triangles.length;t<tl;++t)polygons.triangles.push(startPosition+triangles[t])}function wrapProps(obj,size){const returnObj={};for(const key in obj)returnObj[key]={value:obj[key],size:size};return returnObj}function fillNumericProperties(object,properties,index,length){for(const numericPropName in object.numericProps)if(numericPropName in properties){const value=properties[numericPropName];object.numericProps[numericPropName].fill(value,index,index+length)}}function keepStringProperties(properties,numericKeys){const props={};for(const key in properties)numericKeys.includes(key)||(props[key]=properties[key]);return props}function deduceArrayType(x,constructor){return constructor!==Array&&Number.isFinite(x)?constructor===Float64Array||Math.fround(x)!==x?Float64Array:Float32Array:Array}var pbf=__webpack_require__("./node_modules/pbf/index.js"),pbf_default=__webpack_require__.n(pbf);function signedArea(ring){let sum=0;for(let p1,p2,i=0,j=ring.length-1;i<ring.length;j=i++)p1=ring[i],p2=ring[j],sum+=(p2[0]-p1[0])*(p1[1]+p2[1]);return sum}function readFeature(tag,feature,pbf){feature&&pbf&&(1===tag?feature.id=pbf.readVarint():2===tag?function readTag(pbf,feature){const end=pbf.readVarint()+pbf.pos;for(;pbf.pos<end;){const key=feature._keys[pbf.readVarint()],value=feature._values[pbf.readVarint()];feature.properties[key]=value}}(pbf,feature):3===tag?feature.type=pbf.readVarint():4===tag&&(feature._geometry=pbf.pos))}class VectorTileFeature{static get types(){return["Unknown","Point","LineString","Polygon"]}constructor(pbf,end,extent,keys,values){(0,defineProperty.Z)(this,"properties",void 0),(0,defineProperty.Z)(this,"extent",void 0),(0,defineProperty.Z)(this,"type",void 0),(0,defineProperty.Z)(this,"id",void 0),(0,defineProperty.Z)(this,"_pbf",void 0),(0,defineProperty.Z)(this,"_geometry",void 0),(0,defineProperty.Z)(this,"_keys",void 0),(0,defineProperty.Z)(this,"_values",void 0),this.properties={},this.extent=extent,this.type=0,this.id=null,this._pbf=pbf,this._geometry=-1,this._keys=keys,this._values=values,pbf.readFields(readFeature,this,end)}loadGeometry(){const pbf=this._pbf;pbf.pos=this._geometry;const end=pbf.readVarint()+pbf.pos;let cmd=1,length=0,x=0,y=0;const lines=[];let line;for(;pbf.pos<end;){if(length<=0){const cmdLen=pbf.readVarint();cmd=7&cmdLen,length=cmdLen>>3}if(length--,1===cmd||2===cmd)x+=pbf.readSVarint(),y+=pbf.readSVarint(),1===cmd&&(line&&lines.push(line),line=[]),line&&line.push([x,y]);else{if(7!==cmd)throw new Error("unknown command ".concat(cmd));line&&line.push(line[0].slice())}}return line&&lines.push(line),lines}bbox(){const pbf=this._pbf;pbf.pos=this._geometry;const end=pbf.readVarint()+pbf.pos;let cmd=1,length=0,x=0,y=0,x1=1/0,x2=-1/0,y1=1/0,y2=-1/0;for(;pbf.pos<end;){if(length<=0){const cmdLen=pbf.readVarint();cmd=7&cmdLen,length=cmdLen>>3}if(length--,1===cmd||2===cmd)x+=pbf.readSVarint(),y+=pbf.readSVarint(),x<x1&&(x1=x),x>x2&&(x2=x),y<y1&&(y1=y),y>y2&&(y2=y);else if(7!==cmd)throw new Error("unknown command ".concat(cmd))}return[x1,y1,x2,y2]}_toGeoJSON(transform){let i,j,coords=this.loadGeometry(),type=VectorTileFeature.types[this.type];switch(this.type){case 1:const points=[];for(i=0;i<coords.length;i++)points[i]=coords[i][0];coords=points,transform(coords,this);break;case 2:for(i=0;i<coords.length;i++)transform(coords[i],this);break;case 3:for(coords=function classifyRings(rings){const len=rings.length;if(len<=1)return[rings];const polygons=[];let polygon,ccw;for(let i=0;i<len;i++){const area=signedArea(rings[i]);0!==area&&(void 0===ccw&&(ccw=area<0),ccw===area<0?(polygon&&polygons.push(polygon),polygon=[rings[i]]):polygon&&polygon.push(rings[i]))}return polygon&&polygons.push(polygon),polygons}(coords),i=0;i<coords.length;i++)for(j=0;j<coords[i].length;j++)transform(coords[i][j],this)}1===coords.length?coords=coords[0]:type="Multi".concat(type);const result={type:"Feature",geometry:{type:type,coordinates:coords},properties:this.properties};return null!==this.id&&(result.id=this.id),result}toGeoJSON(options){if("function"==typeof options)return this._toGeoJSON(options);const{x:x,y:y,z:z}=options,size=this.extent*Math.pow(2,z),x0=this.extent*x,y0=this.extent*y;return this._toGeoJSON((function project(line){for(let j=0;j<line.length;j++){const p=line[j];p[0]=360*(p[0]+x0)/size-180;const y2=180-360*(p[1]+y0)/size;p[1]=360/Math.PI*Math.atan(Math.exp(y2*Math.PI/180))-90}}))}}class VectorTileLayer{constructor(pbf,end){(0,defineProperty.Z)(this,"version",void 0),(0,defineProperty.Z)(this,"name",void 0),(0,defineProperty.Z)(this,"extent",void 0),(0,defineProperty.Z)(this,"length",void 0),(0,defineProperty.Z)(this,"_pbf",void 0),(0,defineProperty.Z)(this,"_keys",void 0),(0,defineProperty.Z)(this,"_values",void 0),(0,defineProperty.Z)(this,"_features",void 0),this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=pbf,this._keys=[],this._values=[],this._features=[],pbf.readFields(readLayer,this,end),this.length=this._features.length}feature(i){if(i<0||i>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[i];const end=this._pbf.readVarint()+this._pbf.pos;return new VectorTileFeature(this._pbf,end,this.extent,this._keys,this._values)}}function readLayer(tag,layer,pbf){layer&&pbf&&(15===tag?layer.version=pbf.readVarint():1===tag?layer.name=pbf.readString():5===tag?layer.extent=pbf.readVarint():2===tag?layer._features.push(pbf.pos):3===tag?layer._keys.push(pbf.readString()):4===tag&&layer._values.push(function readValueMessage(pbf){let value=null;const end=pbf.readVarint()+pbf.pos;for(;pbf.pos<end;){const tag=pbf.readVarint()>>3;value=1===tag?pbf.readString():2===tag?pbf.readFloat():3===tag?pbf.readDouble():4===tag?pbf.readVarint64():5===tag?pbf.readVarint():6===tag?pbf.readSVarint():7===tag?pbf.readBoolean():null}return value}(pbf)))}class VectorTile{constructor(pbf,end){(0,defineProperty.Z)(this,"layers",void 0),this.layers=pbf.readFields(readTile,{},end)}}function readTile(tag,layers,pbf){if(3===tag&&pbf){const layer=new VectorTileLayer(pbf,pbf.readVarint()+pbf.pos);layer.length&&layers&&(layers[layer.name]=layer)}}function binary_util_functions_classifyRings(geom){const len=geom.indices.length;if(len<=1)return{type:"Polygon",data:geom.data,areas:[[(0,polygon_dist_esm.ap)(geom.data)]],indices:[geom.indices]};const areas=[],polygons=[];let ccw,ringAreas=[],polygon=[],offset=0;for(let endIndex,startIndex,i=0;i<len;i++){startIndex=geom.indices[i]-offset,endIndex=geom.indices[i+1]-offset||geom.data.length;const shape=geom.data.slice(startIndex,endIndex),area=(0,polygon_dist_esm.ap)(shape);if(0!==area)void 0===ccw&&(ccw=area<0),ccw===area<0?(polygon.length&&(areas.push(ringAreas),polygons.push(polygon)),polygon=[startIndex],ringAreas=[area]):(ringAreas.push(area),polygon.push(startIndex));else{const before=geom.data.slice(0,startIndex),after=geom.data.slice(endIndex);geom.data=before.concat(after),offset+=endIndex-startIndex}}return ringAreas&&areas.push(ringAreas),polygon.length&&polygons.push(polygon),{type:"Polygon",areas:areas,indices:polygons,data:geom.data}}function binary_util_functions_readFeature(tag,feature,pbf){feature&&pbf&&(1===tag?feature.id=pbf.readVarint():2===tag?function binary_util_functions_readTag(pbf,feature){const end=pbf.readVarint()+pbf.pos;for(;pbf.pos<end;){const key=feature._keys[pbf.readVarint()],value=feature._values[pbf.readVarint()];feature.properties[key]=value}}(pbf,feature):3===tag?feature.type=pbf.readVarint():4===tag&&(feature._geometry=pbf.pos))}let endPos,cmd,cmdLen,vector_tile_feature_length,x,y,i;class vector_tile_feature_VectorTileFeature{constructor(pbf,end,extent,keys,values,geometryInfo){(0,defineProperty.Z)(this,"properties",void 0),(0,defineProperty.Z)(this,"extent",void 0),(0,defineProperty.Z)(this,"type",void 0),(0,defineProperty.Z)(this,"id",void 0),(0,defineProperty.Z)(this,"_pbf",void 0),(0,defineProperty.Z)(this,"_geometry",void 0),(0,defineProperty.Z)(this,"_keys",void 0),(0,defineProperty.Z)(this,"_values",void 0),(0,defineProperty.Z)(this,"_geometryInfo",void 0),this.properties={},this.extent=extent,this.type=0,this.id=null,this._pbf=pbf,this._geometry=-1,this._keys=keys,this._values=values,this._geometryInfo=geometryInfo,pbf.readFields(binary_util_functions_readFeature,this,end)}loadGeometry(){const pbf=this._pbf;pbf.pos=this._geometry,endPos=pbf.readVarint()+pbf.pos,cmd=1,vector_tile_feature_length=0,x=0,y=0,i=0;const indices=[],data=[];for(;pbf.pos<endPos;)if(vector_tile_feature_length<=0&&(cmdLen=pbf.readVarint(),cmd=7&cmdLen,vector_tile_feature_length=cmdLen>>3),vector_tile_feature_length--,1===cmd||2===cmd)x+=pbf.readSVarint(),y+=pbf.readSVarint(),1===cmd&&indices.push(i),data.push(x,y),i+=2;else{if(7!==cmd)throw new Error("unknown command ".concat(cmd));if(i>0){const start=indices[indices.length-1];data.push(data[start],data[start+1]),i+=2}}return{data:data,indices:indices}}_toBinaryCoordinates(transform){const geom=this.loadGeometry();let geometry;transform(geom.data,this);switch(this.type){case 1:this._geometryInfo.pointFeaturesCount++,this._geometryInfo.pointPositionsCount+=geom.indices.length,geometry={type:"Point",...geom};break;case 2:this._geometryInfo.lineFeaturesCount++,this._geometryInfo.linePathsCount+=geom.indices.length,this._geometryInfo.linePositionsCount+=geom.data.length/2,geometry={type:"LineString",...geom};break;case 3:geometry=binary_util_functions_classifyRings(geom),this._geometryInfo.polygonFeaturesCount++,this._geometryInfo.polygonObjectsCount+=geometry.indices.length;for(const indices of geometry.indices)this._geometryInfo.polygonRingsCount+=indices.length;this._geometryInfo.polygonPositionsCount+=geometry.data.length/2;break;default:throw new Error("Invalid geometry type: ".concat(this.type))}const result={type:"Feature",geometry:geometry,properties:this.properties};return null!==this.id&&(result.id=this.id),result}toBinaryCoordinates(options){if("function"==typeof options)return this._toBinaryCoordinates(options);const{x:x,y:y,z:z}=options,size=this.extent*Math.pow(2,z),x0=this.extent*x,y0=this.extent*y;return this._toBinaryCoordinates((data=>function project(data,x0,y0,size){for(let j=0,jl=data.length;j<jl;j+=2){data[j]=360*(data[j]+x0)/size-180;const y2=180-360*(data[j+1]+y0)/size;data[j+1]=360/Math.PI*Math.atan(Math.exp(y2*Math.PI/180))-90}}(data,x0,y0,size)))}}class vector_tile_layer_VectorTileLayer{constructor(pbf,end){(0,defineProperty.Z)(this,"version",void 0),(0,defineProperty.Z)(this,"name",void 0),(0,defineProperty.Z)(this,"extent",void 0),(0,defineProperty.Z)(this,"length",void 0),(0,defineProperty.Z)(this,"_pbf",void 0),(0,defineProperty.Z)(this,"_keys",void 0),(0,defineProperty.Z)(this,"_values",void 0),(0,defineProperty.Z)(this,"_features",void 0),this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=pbf,this._keys=[],this._values=[],this._features=[],pbf.readFields(vector_tile_layer_readLayer,this,end),this.length=this._features.length}feature(i,geometryInfo){if(i<0||i>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[i];const end=this._pbf.readVarint()+this._pbf.pos;return new vector_tile_feature_VectorTileFeature(this._pbf,end,this.extent,this._keys,this._values,geometryInfo)}}function vector_tile_layer_readLayer(tag,layer,pbf){layer&&pbf&&(15===tag?layer.version=pbf.readVarint():1===tag?layer.name=pbf.readString():5===tag?layer.extent=pbf.readVarint():2===tag?layer._features.push(pbf.pos):3===tag?layer._keys.push(pbf.readString()):4===tag&&layer._values.push(function vector_tile_layer_readValueMessage(pbf){let value=null;const end=pbf.readVarint()+pbf.pos;for(;pbf.pos<end;){const tag=pbf.readVarint()>>3;value=1===tag?pbf.readString():2===tag?pbf.readFloat():3===tag?pbf.readDouble():4===tag?pbf.readVarint64():5===tag?pbf.readVarint():6===tag?pbf.readSVarint():7===tag?pbf.readBoolean():null}return value}(pbf)))}class vector_tile_VectorTile{constructor(pbf,end){(0,defineProperty.Z)(this,"layers",void 0),this.layers=pbf.readFields(vector_tile_readTile,{},end)}}function vector_tile_readTile(tag,layers,pbf){if(3===tag&&pbf){const layer=new vector_tile_layer_VectorTileLayer(pbf,pbf.readVarint()+pbf.pos);layer.length&&layers&&(layers[layer.name]=layer)}}function parseMVT(arrayBuffer,options){var _options$gis,_options$mvt;const mvtOptions=function normalizeOptions(options){var _options$mvt2;if(null==options||!options.mvt)throw new Error("mvt options required");const wgs84Coordinates="wgs84"===(null===(_options$mvt2=options.mvt)||void 0===_options$mvt2?void 0:_options$mvt2.coordinates),{tileIndex:tileIndex}=options.mvt,hasTileIndex=tileIndex&&Number.isFinite(tileIndex.x)&&Number.isFinite(tileIndex.y)&&Number.isFinite(tileIndex.z);if(wgs84Coordinates&&!hasTileIndex)throw new Error("MVT Loader: WGS84 coordinates need tileIndex property");return options.mvt}(options),shape=(null==options||null===(_options$gis=options.gis)||void 0===_options$gis?void 0:_options$gis.format)||(null==options||null===(_options$mvt=options.mvt)||void 0===_options$mvt?void 0:_options$mvt.shape);switch(shape){case"columnar-table":return{shape:"columnar-table",data:parseToBinary(arrayBuffer,mvtOptions)};case"geojson-row-table":return{shape:"geojson-row-table",data:parseToGeojson(arrayBuffer,mvtOptions)};case"geojson":return parseToGeojson(arrayBuffer,mvtOptions);case"binary-geometry":case"binary":return parseToBinary(arrayBuffer,mvtOptions);default:throw new Error(shape)}}function parseToBinary(arrayBuffer,options){const[flatGeoJsonFeatures,geometryInfo]=function parseToFlatGeoJson(arrayBuffer,options){const features=[],geometryInfo={coordLength:2,pointPositionsCount:0,pointFeaturesCount:0,linePositionsCount:0,linePathsCount:0,lineFeaturesCount:0,polygonPositionsCount:0,polygonObjectsCount:0,polygonRingsCount:0,polygonFeaturesCount:0};if(arrayBuffer.byteLength<=0)return[features,geometryInfo];const tile=new vector_tile_VectorTile(new(pbf_default())(arrayBuffer)),selectedLayers=options&&Array.isArray(options.layers)?options.layers:Object.keys(tile.layers);return selectedLayers.forEach((layerName=>{const vectorTileLayer=tile.layers[layerName];if(vectorTileLayer)for(let i=0;i<vectorTileLayer.length;i++){const decodedFeature=getDecodedFeatureBinary(vectorTileLayer.feature(i,geometryInfo),options,layerName);features.push(decodedFeature)}})),[features,geometryInfo]}(arrayBuffer,options),binaryData=flatGeojsonToBinary(flatGeoJsonFeatures,geometryInfo);return binaryData.byteLength=arrayBuffer.byteLength,binaryData}function parseToGeojson(arrayBuffer,options){if(arrayBuffer.byteLength<=0)return[];const features=[],tile=new VectorTile(new(pbf_default())(arrayBuffer));return(Array.isArray(options.layers)?options.layers:Object.keys(tile.layers)).forEach((layerName=>{const vectorTileLayer=tile.layers[layerName];if(vectorTileLayer)for(let i=0;i<vectorTileLayer.length;i++){const decodedFeature=getDecodedFeature(vectorTileLayer.feature(i),options,layerName);features.push(decodedFeature)}})),features}function getDecodedFeature(feature,options,layerName){const decodedFeature=feature.toGeoJSON("wgs84"===options.coordinates?options.tileIndex:transformToLocalCoordinates);return options.layerProperty&&(decodedFeature.properties[options.layerProperty]=layerName),decodedFeature}function getDecodedFeatureBinary(feature,options,layerName){const decodedFeature=feature.toBinaryCoordinates("wgs84"===options.coordinates?options.tileIndex:transformToLocalCoordinatesBinary);return options.layerProperty&&decodedFeature.properties&&(decodedFeature.properties[options.layerProperty]=layerName),decodedFeature}function transformToLocalCoordinates(line,feature){const{extent:extent}=feature;for(let i=0;i<line.length;i++){const p=line[i];p[0]/=extent,p[1]/=extent}}function transformToLocalCoordinatesBinary(data,feature){const{extent:extent}=feature;for(let i=0,il=data.length;i<il;++i)data[i]/=extent}const MVTWorkerLoader={name:"Mapbox Vector Tile",id:"mvt",module:"mvt",version:"3.4.4",extensions:["mvt","pbf"],mimeTypes:["application/vnd.mapbox-vector-tile","application/x-protobuf"],worker:!0,category:"geometry",options:{mvt:{shape:"geojson",coordinates:"local",layerProperty:"layerName",layers:void 0,tileIndex:null}}};function binaryToGeojson(data,options){const globalFeatureId=null==options?void 0:options.globalFeatureId;return void 0!==globalFeatureId?function getSingleFeature(data,globalFeatureId){const dataArray=normalizeInput(data);for(const data of dataArray){let lastIndex=0,lastValue=data.featureIds.value[0];for(let i=0;i<data.featureIds.value.length;i++){const currValue=data.featureIds.value[i];if(currValue!==lastValue){if(globalFeatureId===data.globalFeatureIds.value[lastIndex])return parseFeature(data,lastIndex,i);lastIndex=i,lastValue=currValue}}if(globalFeatureId===data.globalFeatureIds.value[lastIndex])return parseFeature(data,lastIndex,data.featureIds.value.length)}throw new Error("featureId:".concat(globalFeatureId," not found"))}(data,globalFeatureId):parseFeatures(data,null==options?void 0:options.type)}function parseFeatures(data,type){return function parseFeatureCollection(dataArray){const features=[];for(const data of dataArray){if(0===data.featureIds.value.length)continue;let lastIndex=0,lastValue=data.featureIds.value[0];for(let i=0;i<data.featureIds.value.length;i++){const currValue=data.featureIds.value[i];currValue!==lastValue&&(features.push(parseFeature(data,lastIndex,i)),lastIndex=i,lastValue=currValue)}features.push(parseFeature(data,lastIndex,data.featureIds.value.length))}return features}(normalizeInput(data,type))}function binaryToGeometry(data,startIndex,endIndex){switch(data.type){case"Point":return function pointToGeoJson(data,startIndex,endIndex){const{positions:positions}=data,coordinates=ringToGeoJson(positions,startIndex,endIndex);if(coordinates.length>1)return{type:"MultiPoint",coordinates:coordinates};return{type:"Point",coordinates:coordinates[0]}}(data,startIndex,endIndex);case"LineString":return function lineStringToGeoJson(data){let startIndex=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,endIndex=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const{positions:positions}=data,pathIndices=data.pathIndices.value.filter((x=>x>=startIndex&&x<=endIndex));if(!(pathIndices.length>2)){return{type:"LineString",coordinates:ringToGeoJson(positions,pathIndices[0],pathIndices[1])}}const coordinates=[];for(let i=0;i<pathIndices.length-1;i++){const ringCoordinates=ringToGeoJson(positions,pathIndices[i],pathIndices[i+1]);coordinates.push(ringCoordinates)}return{type:"MultiLineString",coordinates:coordinates}}(data,startIndex,endIndex);case"Polygon":return polygonToGeoJson(data,startIndex,endIndex);default:const unexpectedInput=data;throw new Error("Unsupported geometry type: ".concat(null==unexpectedInput?void 0:unexpectedInput.type))}}function normalizeInput(data,type){if(!Boolean(data.points||data.lines||data.polygons))return data.type=type||function parseType(data){if(data.pathIndices)return"LineString";if(data.polygonIndices)return"Polygon";return"Point"}(data),[data];const features=[];return data.points&&(data.points.type="Point",features.push(data.points)),data.lines&&(data.lines.type="LineString",features.push(data.lines)),data.polygons&&(data.polygons.type="Polygon",features.push(data.polygons)),features}function parseFeature(data,startIndex,endIndex){const geometry=binaryToGeometry(data,startIndex,endIndex),properties=function parseProperties(data){let startIndex=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const properties=Object.assign({},data.properties[data.featureIds.value[startIndex]]);for(const key in data.numericProps)properties[key]=data.numericProps[key].value[startIndex];return properties}(data,startIndex,endIndex),fields=function parseFields(data){let startIndex=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return data.fields&&data.fields[data.featureIds.value[startIndex]]}(data,startIndex,endIndex);return{type:"Feature",geometry:geometry,properties:properties,...fields}}function polygonToGeoJson(data){let startIndex=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,endIndex=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const{positions:positions}=data,polygonIndices=data.polygonIndices.value.filter((x=>x>=startIndex&&x<=endIndex)),primitivePolygonIndices=data.primitivePolygonIndices.value.filter((x=>x>=startIndex&&x<=endIndex));if(!(polygonIndices.length>2)){const coordinates=[];for(let i=0;i<primitivePolygonIndices.length-1;i++){const ringCoordinates=ringToGeoJson(positions,primitivePolygonIndices[i],primitivePolygonIndices[i+1]);coordinates.push(ringCoordinates)}return{type:"Polygon",coordinates:coordinates}}const coordinates=[];for(let i=0;i<polygonIndices.length-1;i++){const polygonCoordinates=polygonToGeoJson(data,polygonIndices[i],polygonIndices[i+1]).coordinates;coordinates.push(polygonCoordinates)}return{type:"MultiPolygon",coordinates:coordinates}}function ringToGeoJson(positions,startIndex,endIndex){startIndex=startIndex||0,endIndex=endIndex||positions.value.length/positions.size;const ringCoordinates=[];for(let j=startIndex;j<endIndex;j++){const coord=Array();for(let k=j*positions.size;k<(j+1)*positions.size;k++)coord.push(Number(positions.value[k]));ringCoordinates.push(coord)}return ringCoordinates}const availableTransformations={Point:Point,MultiPoint:function MultiPoint(multiPoint,bbox,viewport){return getPoints(multiPoint,bbox,viewport)},LineString:LineString,MultiLineString:function MultiLineString(multiLineString,bbox,viewport){return multiLineString.map((lineString=>LineString(lineString,bbox,viewport)))},Polygon:Polygon,MultiPolygon:function MultiPolygon(multiPolygon,bbox,viewport){return multiPolygon.map((polygon=>Polygon(polygon,bbox,viewport)))}};function Point([pointX,pointY],[nw,se],viewport){const x=(0,common.t7)(nw[0],se[0],pointX),y=(0,common.t7)(nw[1],se[1],pointY);return viewport.unprojectFlat([x,y])}function getPoints(geometry,bbox,viewport){return geometry.map((g=>Point(g,bbox,viewport)))}function LineString(line,bbox,viewport){return getPoints(line,bbox,viewport)}function Polygon(polygon,bbox,viewport){return polygon.map((polygonRing=>getPoints(polygonRing,bbox,viewport)))}const GEOM_TYPES=["points","lines","polygons"];function findIndexByType(geomData,uniqueIdProperty,featureId,layerName){const featureIds=geomData.featureIds.value;if(!featureIds.length)return-1;let startFeatureIndex=0,endFeatureIndex=featureIds[featureIds.length-1]+1;if(layerName){const layerRange=function getLayerRange(geomData,layerName){if(!geomData.__layers){const layerNames={},{properties:properties}=geomData;for(let i=0;i<properties.length;i++){const{layerName:key}=properties[i];key&&(layerNames[key]?layerNames[key][1]=i:layerNames[key]=[i,i])}geomData.__layers=layerNames}return geomData.__layers[layerName]}(geomData,layerName);if(!layerRange)return-1;startFeatureIndex=layerRange[0],endFeatureIndex=layerRange[1]+1}let featureIndex=-1;if(uniqueIdProperty in geomData.numericProps){const vertexIndex=geomData.numericProps[uniqueIdProperty].value.findIndex(((x,i)=>x===featureId&&featureIds[i]>=startFeatureIndex&&featureIds[i]<endFeatureIndex));return vertexIndex>=0?geomData.globalFeatureIds.value[vertexIndex]:-1}return uniqueIdProperty?featureIndex=findIndex(geomData.properties,(elem=>elem[uniqueIdProperty]===featureId),startFeatureIndex,endFeatureIndex):geomData.fields&&(featureIndex=findIndex(geomData.fields,(elem=>elem.id===featureId),startFeatureIndex,endFeatureIndex)),featureIndex>=0?function getGlobalFeatureId(geomData,featureIndex){if(!geomData.__ids){const result=[],featureIds=geomData.featureIds.value,globalFeatureIds=geomData.globalFeatureIds.value;for(let i=0;i<featureIds.length;i++)result[featureIds[i]]=globalFeatureIds[i];geomData.__ids=result}return geomData.__ids[featureIndex]}(geomData,featureIndex):-1}function findIndex(array,predicate,startIndex,endIndex){for(let i=startIndex;i<endIndex;i++)if(predicate(array[i],i))return i;return-1}const mvt_layer_defaultProps={...geojson_layer.Z.defaultProps,data:urlType,onDataLoad:{type:"function",value:null,optional:!0,compare:!1},uniqueIdProperty:"",highlightedFeatureId:null,loaders:[MVTWorkerLoader],binary:!0};class MVTLayer extends TileLayer{initializeState(){super.initializeState();const binary=void 0===this.context.viewport.resolution&&this.props.binary;this.setState({binary:binary,data:null,tileJSON:null})}get isLoaded(){return this.state&&this.state.data&&this.state.tileset&&super.isLoaded}updateState({props:props,oldProps:oldProps,context:context,changeFlags:changeFlags}){var _this$state;changeFlags.dataChanged&&this._updateTileData(),null!==(_this$state=this.state)&&void 0!==_this$state&&_this$state.data&&(super.updateState({props:props,oldProps:oldProps,context:context,changeFlags:changeFlags}),this._setWGS84PropertyForTiles());const{highlightColor:highlightColor}=props;highlightColor!==oldProps.highlightColor&&Array.isArray(highlightColor)&&this.setState({highlightColor:highlightColor})}async _updateTileData(){let data=this.props.data,tileJSON=null;if("string"!=typeof data||function isURLTemplate(s){return/(?=.*{z})(?=.*{x})(?=.*({y}|{-y}))/.test(s)}(data))data.tilejson&&(tileJSON=data);else{const{onDataLoad:onDataLoad,fetch:fetch}=this.props;this.setState({data:null,tileJSON:null});try{tileJSON=await fetch(data,{propName:"data",layer:this,loaders:[]})}catch(error){this.raiseError(error,"loading TileJSON"),data=null}onDataLoad&&onDataLoad(tileJSON,{propName:"data",layer:this})}tileJSON&&(data=tileJSON.tiles),this.setState({data:data,tileJSON:tileJSON})}_getTilesetOptions(){const opts=super._getTilesetOptions(),tileJSON=this.state.tileJSON,{minZoom:minZoom,maxZoom:maxZoom}=this.props;return tileJSON&&(Number.isFinite(tileJSON.minzoom)&&tileJSON.minzoom>minZoom&&(opts.minZoom=tileJSON.minzoom),Number.isFinite(tileJSON.maxzoom)&&(!Number.isFinite(maxZoom)||tileJSON.maxzoom<maxZoom)&&(opts.maxZoom=tileJSON.maxzoom)),opts}renderLayers(){var _this$state2;return null!==(_this$state2=this.state)&&void 0!==_this$state2&&_this$state2.data?super.renderLayers():null}getTileData(loadProps){var _loadOptions;const{data:data,binary:binary}=this.state,{index:index,signal:signal}=loadProps,url=getURLFromTemplate(data,loadProps);if(!url)return Promise.reject("Invalid URL");let loadOptions=this.getLoadOptions();const{fetch:fetch}=this.props;return loadOptions={...loadOptions,mimeType:"application/x-protobuf",mvt:{...null===(_loadOptions=loadOptions)||void 0===_loadOptions?void 0:_loadOptions.mvt,coordinates:this.context.viewport.resolution?"wgs84":"local",tileIndex:index},gis:binary?{format:"binary"}:{}},fetch(url,{propName:"data",layer:this,loadOptions:loadOptions,signal:signal})}renderSubLayers(props){const{x:x,y:y,z:z}=props.tile.index,worldScale=Math.pow(2,z),xScale=512/worldScale,yScale=-xScale,xOffset=512*x/worldScale,yOffset=512*(1-y/worldScale),modelMatrix=(new matrix4.Z).scale([xScale,yScale,1]);props.autoHighlight=!1,this.context.viewport.resolution||(props.modelMatrix=modelMatrix,props.coordinateOrigin=[xOffset,yOffset,0],props.coordinateSystem=constants.COORDINATE_SYSTEM.CARTESIAN,props.extensions=[...props.extensions||[],new ClipExtension]);const subLayers=super.renderSubLayers(props);return!this.state.binary||subLayers instanceof geojson_layer.Z||log.Z.warn("renderSubLayers() must return GeoJsonLayer when using binary:true")(),subLayers}_updateAutoHighlight(info){const{uniqueIdProperty:uniqueIdProperty}=this.props,{hoveredFeatureId:hoveredFeatureId,hoveredFeatureLayerName:hoveredFeatureLayerName}=this.state,hoveredFeature=info.object;let newHoveredFeatureId,newHoveredFeatureLayerName;hoveredFeature&&(newHoveredFeatureId=getFeatureUniqueId(hoveredFeature,uniqueIdProperty),newHoveredFeatureLayerName=getFeatureLayerName(hoveredFeature));let{highlightColor:highlightColor}=this.props;"function"==typeof highlightColor&&(highlightColor=highlightColor(info)),hoveredFeatureId===newHoveredFeatureId&&hoveredFeatureLayerName===newHoveredFeatureLayerName||this.setState({highlightColor:highlightColor,hoveredFeatureId:newHoveredFeatureId,hoveredFeatureLayerName:newHoveredFeatureLayerName})}getPickingInfo(params){const info=super.getPickingInfo(params),isWGS84=Boolean(this.context.viewport.resolution);if(this.state.binary&&-1!==info.index){const{data:data}=params.sourceLayer.props;info.object=binaryToGeojson(data,{globalFeatureId:info.index})}return info.object&&!isWGS84&&(info.object=transformTileCoordsToWGS84(info.object,info.tile.bbox,this.context.viewport)),info}getSubLayerPropsByTile(tile){return{highlightedObjectIndex:this.getHighlightedObjectIndex(tile),highlightColor:this.state.highlightColor}}getHighlightedObjectIndex(tile){const{hoveredFeatureId:hoveredFeatureId,hoveredFeatureLayerName:hoveredFeatureLayerName,binary:binary}=this.state,{uniqueIdProperty:uniqueIdProperty,highlightedFeatureId:highlightedFeatureId}=this.props,data=tile.content,isHighlighted=isFeatureIdDefined(highlightedFeatureId);if(!(isFeatureIdDefined(hoveredFeatureId)||isHighlighted))return-1;const featureIdToHighlight=isHighlighted?highlightedFeatureId:hoveredFeatureId;return Array.isArray(data)?data.findIndex((feature=>{const isMatchingId=getFeatureUniqueId(feature,uniqueIdProperty)===featureIdToHighlight,isMatchingLayer=isHighlighted||getFeatureLayerName(feature)===hoveredFeatureLayerName;return isMatchingId&&isMatchingLayer})):data&&binary?function findIndexBinary(data,uniqueIdProperty,featureId,layerName){for(const gt of GEOM_TYPES){const index=data[gt]&&findIndexByType(data[gt],uniqueIdProperty,featureId,layerName);if(index>=0)return index}return-1}(data,uniqueIdProperty,featureIdToHighlight,isHighlighted?"":hoveredFeatureLayerName):-1}_pickObjects(maxObjects){const{deck:deck,viewport:viewport}=this.context,width=viewport.width,height=viewport.height,x=viewport.x,y=viewport.y,layerIds=[this.id];return deck.pickObjects({x:x,y:y,width:width,height:height,layerIds:layerIds,maxObjects:maxObjects})}getRenderedFeatures(maxFeatures=null){const features=this._pickObjects(maxFeatures),featureCache=new Set,renderedFeatures=[];for(const f of features){const featureId=getFeatureUniqueId(f.object,this.props.uniqueIdProperty);void 0===featureId?renderedFeatures.push(f.object):featureCache.has(featureId)||(featureCache.add(featureId),renderedFeatures.push(f.object))}return renderedFeatures}_setWGS84PropertyForTiles(){this.state.tileset.selectedTiles.forEach((tile=>{tile.hasOwnProperty("dataInWGS84")||Object.defineProperty(tile,"dataInWGS84",{get:()=>{if(!tile.content)return null;if(this.state.binary&&Array.isArray(tile.content)&&!tile.content.length)return[];const{bbox:bbox}=tile;if(void 0===tile._contentWGS84&&function isGeoBoundingBox(v){return Number.isFinite(v.west)&&Number.isFinite(v.north)&&Number.isFinite(v.east)&&Number.isFinite(v.south)}(bbox)){const content=this.state.binary?binaryToGeojson(tile.content):tile.content;tile._contentWGS84=content.map((feature=>transformTileCoordsToWGS84(feature,bbox,this.context.viewport)))}return tile._contentWGS84}})}))}}function getFeatureUniqueId(feature,uniqueIdProperty){return feature.properties&&uniqueIdProperty?feature.properties[uniqueIdProperty]:"id"in feature?feature.id:void 0}function getFeatureLayerName(feature){var _feature$properties;return(null===(_feature$properties=feature.properties)||void 0===_feature$properties?void 0:_feature$properties.layerName)||null}function isFeatureIdDefined(value){return null!=value&&""!==value}function transformTileCoordsToWGS84(object,bbox,viewport){const feature={...object,geometry:{type:object.geometry.type}};return Object.defineProperty(feature.geometry,"coordinates",{get:()=>{const wgs84Geom=function transform(geometry,bbox,viewport){const projectedBbox=[viewport.projectFlat([bbox.west,bbox.north]),viewport.projectFlat([bbox.east,bbox.south])];return{...geometry,coordinates:availableTransformations[geometry.type](geometry.coordinates,projectedBbox,viewport)}}(object.geometry,bbox,viewport);return wgs84Geom.coordinates}}),feature}(0,defineProperty.Z)(MVTLayer,"layerName","MVTLayer"),(0,defineProperty.Z)(MVTLayer,"defaultProps",mvt_layer_defaultProps);const BASE32_CODES_DICT={};for(let i=0;i<32;i++)BASE32_CODES_DICT["0123456789bcdefghjkmnpqrstuvwxyz".charAt(i)]=i;const MIN_LAT=-90,MAX_LAT=90,MIN_LON=-180,MAX_LON=180;function getGeohashPolygon(geohash){const[s,w,n,e]=function getGeohashBounds(geohash){let mid,isLon=!0,maxLat=MAX_LAT,minLat=MIN_LAT,maxLon=MAX_LON,minLon=MIN_LON,hashValue=0;for(let i=0,l=geohash.length;i<l;i++){const code=geohash[i].toLowerCase();hashValue=BASE32_CODES_DICT[code];for(let bits=4;bits>=0;bits--){const bit=hashValue>>bits&1;isLon?(mid=(maxLon+minLon)/2,1===bit?minLon=mid:maxLon=mid):(mid=(maxLat+minLat)/2,1===bit?minLat=mid:maxLat=mid),isLon=!isLon}}return[minLat,minLon,maxLat,maxLon]}(geohash);return[e,n,e,s,w,s,w,n,e,n]}class GeohashLayer extends GeoCellLayer{indexToBounds(){const{data:data,getGeohash:getGeohash}=this.props;return{data:data,_normalize:!1,positionFormat:"XY",getPolygon:(x,objectInfo)=>getGeohashPolygon(getGeohash(x,objectInfo))}}}(0,defineProperty.Z)(GeohashLayer,"layerName","GeohashLayer"),(0,defineProperty.Z)(GeohashLayer,"defaultProps",{getGeohash:{type:"accessor",value:d=>d.geohash}})},"./node_modules/@deck.gl/json/dist/esm/helpers/parse-expression-string.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function get(container,compositeKey){const keyList=function getKeys(compositeKey){if("string"==typeof compositeKey){let keyList=keyMap[compositeKey];return keyList||(keyList=compositeKey.split("."),keyMap[compositeKey]=keyList),keyList}return Array.isArray(compositeKey)?compositeKey:[compositeKey]}(compositeKey);let value=container;for(const key of keyList)value=isObject(value)?value[key]:void 0;return value}function isObject(value){return null!==value&&"object"==typeof value}__webpack_require__.d(__webpack_exports__,{Z:function(){return parseExpressionString}});const keyMap={};var expression_eval=__webpack_require__("./node_modules/expression-eval/index.js"),expression_eval_default=__webpack_require__.n(expression_eval);const cachedExpressionMap={"-":object=>object};function parseExpressionString(propValue,configuration){if(propValue in cachedExpressionMap)return cachedExpressionMap[propValue];let func;const ast=expression_eval_default().parse(propValue);return ast.right||ast.left||"Identifier"!==ast.type?(traverse(ast,(node=>{if("CallExpression"===node.type)throw new Error("Function calls not allowed in JSON expressions")})),func=row=>expression_eval_default().eval(ast,row)):func=row=>get(row,propValue),cachedExpressionMap[propValue]=func,func}function traverse(node,visitor){if(Array.isArray(node))node.forEach((element=>traverse(element,visitor)));else if(node&&"object"==typeof node){node.type&&visitor(node);for(const key in node)traverse(node[key],visitor)}}},"./node_modules/@deck.gl/json/dist/esm/json-configuration.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return JSONConfiguration}});var _helpers_parse_expression_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/json/dist/esm/helpers/parse-expression-string.js"),_utils_assert__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/json/dist/esm/utils/assert.js"),_syntactic_sugar__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/json/dist/esm/syntactic-sugar.js");const isObject=value=>value&&"object"==typeof value;class JSONConfiguration{constructor(...configurations){this.typeKey=_syntactic_sugar__WEBPACK_IMPORTED_MODULE_0__.YJ,this.functionKey=_syntactic_sugar__WEBPACK_IMPORTED_MODULE_0__.Bu,this.log=console,this.classes={},this.reactComponents={},this.enumerations={},this.constants={},this.functions={},this.convertFunction=_helpers_parse_expression_string__WEBPACK_IMPORTED_MODULE_1__.Z,this.preProcessClassProps=(Class,props)=>props,this.postProcessConvertedJson=json=>json;for(const configuration of configurations)this.merge(configuration)}merge(configuration){for(const key in configuration)switch(key){case"layers":case"views":Object.assign(this.classes,configuration[key]);break;default:if(key in this){const value=configuration[key];this[key]=isObject(this[key])?Object.assign(this[key],value):value}}}validate(configuration){return(0,_utils_assert__WEBPACK_IMPORTED_MODULE_2__.Z)(!this.typeKey||"string"==typeof this.typeKey),(0,_utils_assert__WEBPACK_IMPORTED_MODULE_2__.Z)(isObject(this.classes)),!0}}},"./node_modules/@deck.gl/json/dist/esm/json-converter.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return JSONConverter}});var assert=__webpack_require__("./node_modules/@deck.gl/json/dist/esm/utils/assert.js"),json_configuration=__webpack_require__("./node_modules/@deck.gl/json/dist/esm/json-configuration.js"),parse_expression_string=__webpack_require__("./node_modules/@deck.gl/json/dist/esm/helpers/parse-expression-string.js"),syntactic_sugar=__webpack_require__("./node_modules/@deck.gl/json/dist/esm/syntactic-sugar.js");function trimFunctionIdentifier(value){return value.replace(syntactic_sugar.QT,"")}function convertFunctions(props,configuration){const replacedProps={};for(const propName in props){let propValue=props[propName];"string"==typeof(value=propValue)&&value.startsWith(syntactic_sugar.QT)&&(propValue=trimFunctionIdentifier(propValue),propValue=(0,parse_expression_string.Z)(propValue,configuration)),replacedProps[propName]=propValue}var value;return replacedProps}function instantiateClass(type,props,configuration){const Class=configuration.classes[type],Component=configuration.reactComponents[type];if(!Class&&!Component){const{log:log}=configuration;if(log){const stringProps=JSON.stringify(props,null,0).slice(0,40);log.warn("JSON converter: No registered class of type ".concat(type,"(").concat(stringProps,"...)  "))}return null}return Class?function instantiateJavaScriptClass(Class,props,configuration){configuration.preProcessClassProps&&(props=configuration.preProcessClassProps(Class,props,configuration));return props=convertFunctions(props,configuration),new Class(props)}(Class,props,configuration):function instantiateReactComponent(Component,props,configuration){const{React:React}=configuration,{children:children=[]}=props;delete props.children,configuration.preProcessClassProps&&(props=configuration.preProcessClassProps(Component,props,configuration));return props=convertFunctions(props,configuration),React.createElement(Component,props,children)}(Component,props,configuration)}const isObject=value=>value&&"object"==typeof value;class JSONConverter{constructor(props){this.log=console,this.configuration={},this.onJSONChange=()=>{},this.json=null,this.convertedJson=null,this.setProps(props)}finalize(){}setProps(props){"configuration"in props&&(this.configuration=props.configuration instanceof json_configuration.Z?props.configuration:new json_configuration.Z(props.configuration)),"onJSONChange"in props&&(this.onJSONChange=props.onJSONChange)}mergeConfiguration(config){this.configuration.merge(config)}convert(json){if(!json||json===this.json)return this.convertedJson;this.json=json;const parsedJSON=function parseJSON(json){return"string"==typeof json?JSON.parse(json):json}(json);let convertedJson=function convertJSON(json,configuration){return configuration=new json_configuration.Z(configuration),convertJSONRecursively(json,"",configuration)}(parsedJSON,this.configuration);return convertedJson=this.configuration.postProcessConvertedJson(convertedJson),this.convertedJson=convertedJson,convertedJson}convertJson(json){return this.convert(json)}}function convertJSONRecursively(json,key,configuration){return Array.isArray(json)?json.map(((element,i)=>convertJSONRecursively(element,String(i),configuration))):function isClassInstance(json,configuration){const{typeKey:typeKey}=configuration,isClass=isObject(json)&&Boolean(json[typeKey]);return isClass}(json,configuration)?function convertClassInstance(json,configuration){const{typeKey:typeKey}=configuration,type=json[typeKey];let props={...json};return delete props[typeKey],props=convertPlainObject(props,configuration),instantiateClass(type,props,configuration)}(json,configuration):isObject(json)?syntactic_sugar.Bu in json?function convertFunctionObject(json,configuration){const{functionKey:functionKey}=configuration,targetFunction=json[functionKey];let props={...json};return delete props[functionKey],props=convertPlainObject(props,configuration),function executeFunction(targetFunction,props,configuration){const matchedFunction=configuration.functions[targetFunction];if(!matchedFunction){const{log:log}=configuration;if(log){const stringProps=JSON.stringify(props,null,0).slice(0,40);log.warn("JSON converter: No registered function ".concat(targetFunction,"(").concat(stringProps,"...)  "))}return null}return matchedFunction(props)}(targetFunction,props,configuration)}(json,configuration):convertPlainObject(json,configuration):"string"==typeof json?function convertString(string,key,configuration){if(string.startsWith(syntactic_sugar.QT)&&configuration.convertFunction)return string=string.replace(syntactic_sugar.QT,""),configuration.convertFunction(string,configuration);if(string.startsWith(syntactic_sugar.tZ)){if(string=string.replace(syntactic_sugar.tZ,""),configuration.constants[string])return configuration.constants[string];const[enumVarName,enumValName]=string.split(".");return configuration.enumerations[enumVarName][enumValName]}return string}(json,0,configuration):json}function convertPlainObject(json,configuration){(0,assert.Z)(isObject(json));const result={};for(const key in json){const value=json[key];result[key]=convertJSONRecursively(value,0,configuration)}return result}},"./node_modules/@deck.gl/json/dist/esm/syntactic-sugar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Bu:function(){return FUNCTION_KEY},QT:function(){return FUNCTION_IDENTIFIER},YJ:function(){return TYPE_KEY},tZ:function(){return CONSTANT_IDENTIFIER}});const FUNCTION_IDENTIFIER="@@=",CONSTANT_IDENTIFIER="@@#",TYPE_KEY="@@type",FUNCTION_KEY="@@function"},"./node_modules/@deck.gl/json/dist/esm/utils/assert.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function assert(condition,message=""){if(!condition)throw new Error("JSON conversion error ".concat(message))}__webpack_require__.d(__webpack_exports__,{Z:function(){return assert}})},"./node_modules/@deck.gl/layers/dist/esm/arc-layer/arc-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return ArcLayer}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js"),lib_model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js");const DEFAULT_COLOR=[0,0,0,255],defaultProps={getSourcePosition:{type:"accessor",value:x=>x.sourcePosition},getTargetPosition:{type:"accessor",value:x=>x.targetPosition},getSourceColor:{type:"accessor",value:DEFAULT_COLOR},getTargetColor:{type:"accessor",value:DEFAULT_COLOR},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class ArcLayer extends lib_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}getBounds(){var _this$getAttributeMan;return null===(_this$getAttributeMan=this.getAttributeManager())||void 0===_this$getAttributeMan?void 0:_this$getAttributeMan.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:"#define SHADER_NAME arc-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\nattribute float instanceHeights;\nattribute float instanceTilts;\n\nuniform bool greatCircle;\nuniform bool useShortestPath;\nuniform float numSegments;\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nfloat paraboloid(float distance, float sourceZ, float targetZ, float ratio) {\n\n  float deltaZ = targetZ - sourceZ;\n  float dh = distance * instanceHeights;\n  if (dh == 0.0) {\n    return sourceZ + deltaZ * ratio;\n  }\n  float unitZ = deltaZ / dh;\n  float p2 = unitZ * unitZ + 1.0;\n  float dir = step(deltaZ, 0.0);\n  float z0 = mix(sourceZ, targetZ, dir);\n  float r = mix(ratio, 1.0 - ratio, dir);\n  return sqrt(r * (p2 - r)) * dh + z0;\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {\n  float distance = length(source.xy - target.xy);\n  float z = paraboloid(distance, source.z, target.z, segmentRatio);\n\n  float tiltAngle = radians(instanceTilts);\n  vec2 tiltDirection = normalize(target.xy - source.xy);\n  vec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);\n\n  return vec3(\n    mix(source.xy, target.xy, segmentRatio) + tilt,\n    z * cos(tiltAngle)\n  );\n}\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 sourceRadians = radians(source);\n  vec2 targetRadians = radians(target);\n  vec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);\n  vec2 shd_sq = sin_half_delta * sin_half_delta;\n\n  float a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;\n  return 2.0 * asin(sqrt(a));\n}\n\nvec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {\n  vec2 lngLat;\n  if(abs(angularDist - PI) < 0.001) {\n    lngLat = (1.0 - t) * source.xy + t * target.xy;\n  } else {\n    float a = sin((1.0 - t) * angularDist);\n    float b = sin(t * angularDist);\n    vec3 p = source3D.yxz * a + target3D.yxz * b;\n    lngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));\n  }\n\n  float z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);\n\n  return vec3(lngLat, z);\n}\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));\n  float nextSegmentRatio = getSegmentRatio(min(numSegments - 1.0, segmentIndex + 1.0));\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  isValid = 1.0;\n\n  uv = vec2(segmentRatio, positions.y);\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n\n  vec4 curr;\n  vec4 next;\n  vec3 source;\n  vec3 target;\n\n  if ((greatCircle || project_uProjectionMode == PROJECTION_MODE_GLOBE) && project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    source = project_globe_(vec3(instanceSourcePositions.xy, 0.0));\n    target = project_globe_(vec3(instanceTargetPositions.xy, 0.0));\n    float angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);\n\n    vec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);\n    vec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);\n    vec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);\n\n    if (abs(currPos.x - prevPos.x) > 180.0) {\n      indexDir = -1.0;\n      isValid = 0.0;\n    } else if (abs(currPos.x - nextPos.x) > 180.0) {\n      indexDir = 1.0;\n      isValid = 0.0;\n    }\n    nextPos = indexDir < 0.0 ? prevPos : nextPos;\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n\n    if (isValid == 0.0) {\n      nextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;\n      float t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);\n      currPos = mix(currPos, nextPos, t);\n      segmentRatio = mix(segmentRatio, nextSegmentRatio, t);\n    }\n\n    vec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);\n    vec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);\n  \n    curr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);\n    next = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));\n  \n  } else {\n    vec3 source_world = instanceSourcePositions;\n    vec3 target_world = instanceTargetPositions;\n    if (useShortestPath) {\n      source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n      target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n\n      float deltaLng = target_world.x - source_world.x;\n      if (deltaLng > 180.) target_world.x -= 360.;\n      if (deltaLng < -180.) source_world.x -= 360.;\n    }\n    source = project_position(source_world, instanceSourcePositions64Low);\n    target = project_position(target_world, instanceTargetPositions64Low);\n    float antiMeridianX = 0.0;\n\n    if (useShortestPath) {\n      if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n        antiMeridianX = -(project_uCoordinateOrigin.x + 180.) / 360. * TILE_SIZE;\n      }\n      float thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);\n\n      if (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {\n        isValid = 0.0;\n        indexDir = sign(segmentRatio - thresholdRatio);\n        segmentRatio = thresholdRatio;\n      }\n    }\n\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n    vec3 currPos = interpolateFlat(source, target, segmentRatio);\n    vec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);\n\n    if (useShortestPath) {\n      if (nextPos.x < antiMeridianX) {\n        currPos.x += TILE_SIZE;\n        nextPos.x += TILE_SIZE;\n      }\n    }\n\n    curr = project_common_position_to_clipspace(vec4(currPos, 1.0));\n    next = project_common_position_to_clipspace(vec4(nextPos, 1.0));\n    geometry.position = vec4(currPos, 1.0);\n  }\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n  vec3 offset = vec3(\n    getExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  DECKGL_FILTER_GL_POSITION(curr, geometry);\n  gl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);\n  vColor = vec4(color.rgb, color.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME arc-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nvoid main(void) {\n  if (isValid == 0.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  geometry.uv = uv;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[project32.Z,picking.Z]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getSourceColor",defaultValue:DEFAULT_COLOR},instanceTargetColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getTargetColor",defaultValue:DEFAULT_COLOR},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}updateState(opts){if(super.updateState(opts),opts.changeFlags.extensionsChanged){var _this$state$model;const{gl:gl}=this.context;null===(_this$state$model=this.state.model)||void 0===_this$state$model||_this$state$model.delete(),this.state.model=this._getModel(gl),this.getAttributeManager().invalidateAll()}}draw({uniforms:uniforms}){const{widthUnits:widthUnits,widthScale:widthScale,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels,greatCircle:greatCircle,wrapLongitude:wrapLongitude}=this.props;this.state.model.setUniforms(uniforms).setUniforms({greatCircle:greatCircle,widthUnits:constants.iI[widthUnits],widthScale:widthScale,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels,useShortestPath:wrapLongitude}).draw()}_getModel(gl){let positions=[];for(let i=0;i<50;i++)positions=positions.concat([i,1,0,i,-1,0]);const model=new lib_model.Z(gl,{...this.getShaders(),id:this.props.id,geometry:new geometry.Z({drawMode:5,attributes:{positions:new Float32Array(positions)}}),isInstanced:!0});return model.setUniforms({numSegments:50}),model}}(0,defineProperty.Z)(ArcLayer,"layerName","ArcLayer"),(0,defineProperty.Z)(ArcLayer,"defaultProps",defaultProps)},"./node_modules/@deck.gl/layers/dist/esm/bitmap-layer/bitmap-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return BitmapLayer}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js"),esm=__webpack_require__("./node_modules/@math.gl/web-mercator/dist/esm/index.js"),common=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/common.js");const DEFAULT_INDICES=new Uint16Array([0,2,1,0,3,2]),DEFAULT_TEX_COORDS=new Float32Array([0,1,0,0,1,0,1,1]);function createMesh(bounds,resolution){if(!resolution)return function createQuad(bounds){const positions=new Float64Array(12);for(let i=0;i<bounds.length;i++)positions[3*i+0]=bounds[i][0],positions[3*i+1]=bounds[i][1],positions[3*i+2]=bounds[i][2]||0;return{vertexCount:6,positions:positions,indices:DEFAULT_INDICES,texCoords:DEFAULT_TEX_COORDS}}(bounds);const maxXSpan=Math.max(Math.abs(bounds[0][0]-bounds[3][0]),Math.abs(bounds[1][0]-bounds[2][0])),maxYSpan=Math.max(Math.abs(bounds[1][1]-bounds[0][1]),Math.abs(bounds[2][1]-bounds[3][1])),uCount=Math.ceil(maxXSpan/resolution)+1,vCount=Math.ceil(maxYSpan/resolution)+1,vertexCount=(uCount-1)*(vCount-1)*6,indices=new Uint32Array(vertexCount),texCoords=new Float32Array(uCount*vCount*2),positions=new Float64Array(uCount*vCount*3);let vertex=0,index=0;for(let u=0;u<uCount;u++){const ut=u/(uCount-1);for(let v=0;v<vCount;v++){const vt=v/(vCount-1),p=interpolateQuad(bounds,ut,vt);positions[3*vertex+0]=p[0],positions[3*vertex+1]=p[1],positions[3*vertex+2]=p[2]||0,texCoords[2*vertex+0]=ut,texCoords[2*vertex+1]=1-vt,u>0&&v>0&&(indices[index++]=vertex-vCount,indices[index++]=vertex-vCount-1,indices[index++]=vertex-1,indices[index++]=vertex-vCount,indices[index++]=vertex-1,indices[index++]=vertex),vertex++}}return{vertexCount:vertexCount,positions:positions,indices:indices,texCoords:texCoords}}function interpolateQuad(quad,ut,vt){return(0,common.t7)((0,common.t7)(quad[0],quad[1],vt),(0,common.t7)(quad[3],quad[2],vt),ut)}var bitmap_layer_fragment="\n#define SHADER_NAME bitmap-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D bitmapTexture;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float desaturate;\nuniform vec4 transparentColor;\nuniform vec3 tintColor;\nuniform float opacity;\n\nuniform float coordinateConversion;\nuniform vec4 bounds;\n\n/* projection utils */\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / PI / 2.0;\n\n// from degrees to Web Mercator\nvec2 lnglat_to_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\n// from Web Mercator to degrees\nvec2 mercator_to_lnglat(vec2 xy) {\n  xy /= WORLD_SCALE;\n  return degrees(vec2(\n    xy.x - PI,\n    atan(exp(xy.y - PI)) * 2.0 - PI * 0.5\n  ));\n}\n/* End projection utils */\n\n// apply desaturation\nvec3 color_desaturate(vec3 color) {\n  float luminance = (color.r + color.g + color.b) * 0.333333333;\n  return mix(color, vec3(luminance), desaturate);\n}\n\n// apply tint\nvec3 color_tint(vec3 color) {\n  return color * tintColor;\n}\n\n// blend with background color\nvec4 apply_opacity(vec3 color, float alpha) {\n  if (transparentColor.a == 0.0) {\n    return vec4(color, alpha);\n  }\n  float blendedAlpha = alpha + transparentColor.a * (1.0 - alpha);\n  float highLightRatio = alpha / blendedAlpha;\n  vec3 blendedRGB = mix(transparentColor.rgb, color, highLightRatio);\n  return vec4(blendedRGB, blendedAlpha);\n}\n\nvec2 getUV(vec2 pos) {\n  return vec2(\n    (pos.x - bounds[0]) / (bounds[2] - bounds[0]),\n    (pos.y - bounds[3]) / (bounds[1] - bounds[3])\n  );\n}\n\n".concat("\nvec3 packUVsIntoRGB(vec2 uv) {\n  // Extract the top 8 bits. We want values to be truncated down so we can add a fraction\n  vec2 uv8bit = floor(uv * 256.);\n\n  // Calculate the normalized remainders of u and v parts that do not fit into 8 bits\n  // Scale and clamp to 0-1 range\n  vec2 uvFraction = fract(uv * 256.);\n  vec2 uvFraction4bit = floor(uvFraction * 16.);\n\n  // Remainder can be encoded in blue channel, encode as 4 bits for pixel coordinates\n  float fractions = uvFraction4bit.x + uvFraction4bit.y * 16.;\n\n  return vec3(uv8bit, fractions) / 255.;\n}\n","\n\nvoid main(void) {\n  vec2 uv = vTexCoord;\n  if (coordinateConversion < -0.5) {\n    vec2 lnglat = mercator_to_lnglat(vTexPos);\n    uv = getUV(lnglat);\n  } else if (coordinateConversion > 0.5) {\n    vec2 commonPos = lnglat_to_mercator(vTexPos);\n    uv = getUV(commonPos);\n  }\n  vec4 bitmapColor = texture2D(bitmapTexture, uv);\n\n  gl_FragColor = apply_opacity(color_tint(color_desaturate(bitmapColor.rgb)), bitmapColor.a * opacity);\n\n  geometry.uv = uv;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n\n  if (picking_uActive && !picking_uAttribute) {\n    // Since instance information is not used, we can use picking color for pixel index\n    gl_FragColor.rgb = packUVsIntoRGB(uv);\n  }\n}\n");const defaultProps={image:{type:"image",value:null,async:!0},bounds:{type:"array",value:[1,0,0,1],compare:!0},_imageCoordinateSystem:constants.COORDINATE_SYSTEM.DEFAULT,desaturate:{type:"number",min:0,max:1,value:0},transparentColor:{type:"color",value:[0,0,0,0]},tintColor:{type:"color",value:[255,255,255]},textureParameters:{type:"object",ignore:!0}};class BitmapLayer extends lib_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"\n#define SHADER_NAME bitmap-layer-vertex-shader\n\nattribute vec2 texCoords;\nattribute vec3 positions;\nattribute vec3 positions64Low;\n\nvarying vec2 vTexCoord;\nvarying vec2 vTexPos;\n\nuniform float coordinateConversion;\n\nconst vec3 pickingColor = vec3(1.0, 0.0, 0.0);\n\nvoid main(void) {\n  geometry.worldPosition = positions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = pickingColor;\n\n  gl_Position = project_position_to_clipspace(positions, positions64Low, vec3(0.0), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTexCoord = texCoords;\n\n  if (coordinateConversion < -0.5) {\n    vTexPos = geometry.position.xy + project_uCommonOrigin.xy;\n  } else if (coordinateConversion > 0.5) {\n    vTexPos = geometry.worldPosition.xy;\n  }\n\n  vec4 color = vec4(0.0);\n  DECKGL_FILTER_COLOR(color, geometry);\n}\n",fs:bitmap_layer_fragment,modules:[project32.Z,picking.Z]})}initializeState(){const attributeManager=this.getAttributeManager();attributeManager.remove(["instancePickingColors"]);attributeManager.add({indices:{size:1,isIndexed:!0,update:attribute=>attribute.value=this.state.mesh.indices,noAlloc:true},positions:{size:3,type:5130,fp64:this.use64bitPositions(),update:attribute=>attribute.value=this.state.mesh.positions,noAlloc:true},texCoords:{size:2,update:attribute=>attribute.value=this.state.mesh.texCoords,noAlloc:true}})}updateState({props:props,oldProps:oldProps,changeFlags:changeFlags}){const attributeManager=this.getAttributeManager();if(changeFlags.extensionsChanged){var _this$state$model;const{gl:gl}=this.context;null===(_this$state$model=this.state.model)||void 0===_this$state$model||_this$state$model.delete(),this.state.model=this._getModel(gl),attributeManager.invalidateAll()}if(props.bounds!==oldProps.bounds){const oldMesh=this.state.mesh,mesh=this._createMesh();this.state.model.setVertexCount(mesh.vertexCount);for(const key in mesh)oldMesh&&oldMesh[key]!==mesh[key]&&attributeManager.invalidate(key);this.setState({mesh:mesh,...this._getCoordinateUniforms()})}else props._imageCoordinateSystem!==oldProps._imageCoordinateSystem&&this.setState(this._getCoordinateUniforms())}getPickingInfo(params){const{image:image}=this.props,info=params.info;if(!info.color||!image)return info.bitmap=null,info;const{width:width,height:height}=image;info.index=0;const uv=function unpackUVsFromRGB(color){const[u,v,fracUV]=color;return[(u+(15&fracUV)/16)/256,(v+(240&fracUV)/256)/256]}(info.color),pixel=[Math.floor(uv[0]*width),Math.floor(uv[1]*height)];return info.bitmap={size:{width:width,height:height},uv:uv,pixel:pixel},info}disablePickingIndex(){this.setState({disablePicking:!0})}restorePickingColors(){this.setState({disablePicking:!1})}_updateAutoHighlight(info){super._updateAutoHighlight({...info,color:this.encodePickingColor(0)})}_createMesh(){const{bounds:bounds}=this.props;let normalizedBounds=bounds;return isRectangularBounds(bounds)&&(normalizedBounds=[[bounds[0],bounds[1]],[bounds[0],bounds[3]],[bounds[2],bounds[3]],[bounds[2],bounds[1]]]),createMesh(normalizedBounds,this.context.viewport.resolution)}_getModel(gl){return gl?new model.Z(gl,{...this.getShaders(),id:this.props.id,geometry:new geometry.Z({drawMode:4,vertexCount:6}),isInstanced:!1}):null}draw(opts){const{uniforms:uniforms,moduleParameters:moduleParameters}=opts,{model:model,coordinateConversion:coordinateConversion,bounds:bounds,disablePicking:disablePicking}=this.state,{image:image,desaturate:desaturate,transparentColor:transparentColor,tintColor:tintColor}=this.props;moduleParameters.pickingActive&&disablePicking||image&&model&&model.setUniforms(uniforms).setUniforms({bitmapTexture:image,desaturate:desaturate,transparentColor:transparentColor.map((x=>x/255)),tintColor:tintColor.slice(0,3).map((x=>x/255)),coordinateConversion:coordinateConversion,bounds:bounds}).draw()}_getCoordinateUniforms(){const{LNGLAT:LNGLAT,CARTESIAN:CARTESIAN,DEFAULT:DEFAULT}=constants.COORDINATE_SYSTEM;let{_imageCoordinateSystem:imageCoordinateSystem}=this.props;if(imageCoordinateSystem!==DEFAULT){const{bounds:bounds}=this.props;if(!isRectangularBounds(bounds))throw new Error("_imageCoordinateSystem only supports rectangular bounds");const defaultImageCoordinateSystem=this.context.viewport.resolution?LNGLAT:CARTESIAN;if(imageCoordinateSystem=imageCoordinateSystem===LNGLAT?LNGLAT:CARTESIAN,imageCoordinateSystem===LNGLAT&&defaultImageCoordinateSystem===CARTESIAN)return{coordinateConversion:-1,bounds:bounds};if(imageCoordinateSystem===CARTESIAN&&defaultImageCoordinateSystem===LNGLAT){const bottomLeft=(0,esm.w5)([bounds[0],bounds[1]]),topRight=(0,esm.w5)([bounds[2],bounds[3]]);return{coordinateConversion:1,bounds:[bottomLeft[0],bottomLeft[1],topRight[0],topRight[1]]}}}return{coordinateConversion:0,bounds:[0,0,0,0]}}}function isRectangularBounds(bounds){return Number.isFinite(bounds[0])}(0,defineProperty.Z)(BitmapLayer,"layerName","BitmapLayer"),(0,defineProperty.Z)(BitmapLayer,"defaultProps",defaultProps)},"./node_modules/@deck.gl/layers/dist/esm/column-layer/column-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return ColumnLayer}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js"),phong_lighting=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/phong-lighting/phong-lighting.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js"),esm=__webpack_require__("./node_modules/@luma.gl/gltools/dist/esm/index.js"),features=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/features/features.js"),webgl_features_table=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/features/webgl-features-table.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),log=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/log.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js"),utils=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/utils/utils.js"),dist_esm=__webpack_require__("./node_modules/@math.gl/polygon/dist/esm/index.js");class ColumnGeometry extends geometry.Z{constructor(props){const{id:id=(0,utils.hQ)("column-geometry")}=props,{indices:indices,attributes:attributes}=function tesselateColumn(props){const{radius:radius,height:height=1,nradial:nradial=10}=props;let{vertices:vertices}=props;vertices&&(log.Z.assert(vertices.length>=nradial),vertices=vertices.flatMap((v=>[v[0],v[1]])),(0,dist_esm.Ny)(vertices,dist_esm.wG.COUNTER_CLOCKWISE));const isExtruded=height>0,vertsAroundEdge=nradial+1,numVertices=isExtruded?3*vertsAroundEdge+1:nradial,stepAngle=2*Math.PI/nradial,indices=new Uint16Array(isExtruded?3*nradial*2:0),positions=new Float32Array(3*numVertices),normals=new Float32Array(3*numVertices);let i=0;if(isExtruded){for(let j=0;j<vertsAroundEdge;j++){const a=j*stepAngle,vertexIndex=j%nradial,sin=Math.sin(a),cos=Math.cos(a);for(let k=0;k<2;k++)positions[i+0]=vertices?vertices[2*vertexIndex]:cos*radius,positions[i+1]=vertices?vertices[2*vertexIndex+1]:sin*radius,positions[i+2]=(.5-k)*height,normals[i+0]=vertices?vertices[2*vertexIndex]:cos,normals[i+1]=vertices?vertices[2*vertexIndex+1]:sin,i+=3}positions[i+0]=positions[i-3],positions[i+1]=positions[i-2],positions[i+2]=positions[i-1],i+=3}for(let j=isExtruded?0:1;j<vertsAroundEdge;j++){const v=Math.floor(j/2)*Math.sign(.5-j%2),a=v*stepAngle,vertexIndex=(v+nradial)%nradial,sin=Math.sin(a),cos=Math.cos(a);positions[i+0]=vertices?vertices[2*vertexIndex]:cos*radius,positions[i+1]=vertices?vertices[2*vertexIndex+1]:sin*radius,positions[i+2]=height/2,normals[i+2]=1,i+=3}if(isExtruded){let index=0;for(let j=0;j<nradial;j++)indices[index++]=2*j+0,indices[index++]=2*j+2,indices[index++]=2*j+0,indices[index++]=2*j+1,indices[index++]=2*j+1,indices[index++]=2*j+3}return{indices:indices,attributes:{POSITION:{size:3,value:positions},NORMAL:{size:3,value:normals}}}}(props);super({...props,id:id,indices:indices,attributes:attributes})}}const DEFAULT_COLOR=[0,0,0,255],defaultProps={diskResolution:{type:"number",min:4,value:20},vertices:null,radius:{type:"number",min:0,value:1e3},angle:{type:"number",value:0},offset:{type:"array",value:[0,0]},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},radiusUnits:"meters",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,extruded:!0,wireframe:!1,filled:!0,stroked:!1,getPosition:{type:"accessor",value:x=>x.position},getFillColor:{type:"accessor",value:DEFAULT_COLOR},getLineColor:{type:"accessor",value:DEFAULT_COLOR},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0,getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class ColumnLayer extends lib_layer.Z{getShaders(){const{gl:gl}=this.context,transpileToGLSL100=!(0,esm.D0)(gl),defines={},useDerivatives=this.props.flatShading&&(0,features.U6)(gl,webgl_features_table.h.GLSL_DERIVATIVES);return useDerivatives&&(defines.FLAT_SHADING=1),super.getShaders({vs:"#version 300 es\n\n#define SHADER_NAME column-layer-vertex-shader\n\nin vec3 positions;\nin vec3 normals;\n\nin vec3 instancePositions;\nin float instanceElevations;\nin vec3 instancePositions64Low;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin float instanceStrokeWidths;\n\nin vec3 instancePickingColors;\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform bool extruded;\nuniform bool stroked;\nuniform bool isStroke;\nuniform float coverage;\nuniform float elevationScale;\nuniform float edgeDistance;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int radiusUnits;\nuniform int widthUnits;\nout vec4 vColor;\n#ifdef FLAT_SHADING\nout vec4 position_commonspace;\n#endif\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  vec4 color = isStroke ? instanceLineColors : instanceFillColors;\n  mat2 rotationMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  float elevation = 0.0;\n  float strokeOffsetRatio = 1.0;\n\n  if (extruded) {\n    elevation = instanceElevations * (positions.z + 1.0) / 2.0 * elevationScale;\n  } else if (stroked) {\n    float widthPixels = clamp(\n      project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n      widthMinPixels, widthMaxPixels) / 2.0;\n    float halfOffset = project_pixel_size(widthPixels) / project_size(edgeDistance * coverage * radius);\n    if (isStroke) {\n      strokeOffsetRatio -= sign(positions.z) * halfOffset;\n    } else {\n      strokeOffsetRatio -= halfOffset;\n    }\n  }\n  float shouldRender = float(color.a > 0.0 && instanceElevations >= 0.0);\n  float dotRadius = radius * coverage * shouldRender;\n\n  geometry.pickingColor = instancePickingColors;\n  vec3 centroidPosition = vec3(instancePositions.xy, instancePositions.z + elevation);\n  vec3 centroidPosition64Low = instancePositions64Low;\n  vec2 offset = (rotationMatrix * positions.xy * strokeOffsetRatio + offset) * dotRadius;\n  if (radiusUnits == UNIT_METERS) {\n    offset = project_size(offset);\n  }\n  vec3 pos = vec3(offset, 0.);\n  DECKGL_FILTER_SIZE(pos, geometry);\n\n  gl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);\n  geometry.normal = project_normal(vec3(rotationMatrix * normals.xy, normals.z));\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  if (extruded && !isStroke) {\n#ifdef FLAT_SHADING\n    position_commonspace = geometry.position;\n    vColor = vec4(color.rgb, color.a * opacity);\n#else\n    vec3 lightColor = lighting_getLightColor(color.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n    vColor = vec4(lightColor, color.a * opacity);\n#endif\n  } else {\n    vColor = vec4(color.rgb, color.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME column-layer-fragment-shader\n\nprecision highp float;\n\nuniform vec3 project_uCameraPosition;\nuniform bool extruded;\nuniform bool isStroke;\n\nout vec4 fragColor;\n\nin vec4 vColor;\n#ifdef FLAT_SHADING\nin vec4 position_commonspace;\n#endif\n\nvoid main(void) {\n  fragColor = vColor;\n#ifdef FLAT_SHADING\n  if (extruded && !isStroke && !picking_uActive) {\n    vec3 normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n    fragColor.rgb = lighting_getLightColor(vColor.rgb, project_uCameraPosition, position_commonspace.xyz, normal);\n  }\n#endif\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",defines:defines,transpileToGLSL100:transpileToGLSL100,modules:[project32.Z,useDerivatives?phong_lighting.s:phong_lighting.N,picking.Z]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instanceFillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getFillColor",defaultValue:DEFAULT_COLOR},instanceLineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getLineColor",defaultValue:DEFAULT_COLOR},instanceStrokeWidths:{size:1,accessor:"getLineWidth",transition:!0}})}updateState(params){super.updateState(params);const{props:props,oldProps:oldProps,changeFlags:changeFlags}=params,regenerateModels=changeFlags.extensionsChanged||props.flatShading!==oldProps.flatShading;if(regenerateModels){var _this$state$model;const{gl:gl}=this.context;null===(_this$state$model=this.state.model)||void 0===_this$state$model||_this$state$model.delete(),this.state.model=this._getModel(gl),this.getAttributeManager().invalidateAll()}(regenerateModels||props.diskResolution!==oldProps.diskResolution||props.vertices!==oldProps.vertices||(props.extruded||props.stroked)!==(oldProps.extruded||oldProps.stroked))&&this._updateGeometry(props)}getGeometry(diskResolution,vertices,hasThinkness){const geometry=new ColumnGeometry({radius:1,height:hasThinkness?2:0,vertices:vertices,nradial:diskResolution});let meanVertexDistance=0;if(vertices)for(let i=0;i<diskResolution;i++){const p=vertices[i];meanVertexDistance+=Math.sqrt(p[0]*p[0]+p[1]*p[1])/diskResolution}else meanVertexDistance=1;return this.setState({edgeDistance:Math.cos(Math.PI/diskResolution)*meanVertexDistance}),geometry}_getModel(gl){return new model.Z(gl,{...this.getShaders(),id:this.props.id,isInstanced:!0})}_updateGeometry({diskResolution:diskResolution,vertices:vertices,extruded:extruded,stroked:stroked}){const geometry=this.getGeometry(diskResolution,vertices,extruded||stroked);this.setState({fillVertexCount:geometry.attributes.POSITION.value.length/3,wireframeVertexCount:geometry.indices.value.length}),this.state.model.setProps({geometry:geometry})}draw({uniforms:uniforms}){const{lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels,radiusUnits:radiusUnits,elevationScale:elevationScale,extruded:extruded,filled:filled,stroked:stroked,wireframe:wireframe,offset:offset,coverage:coverage,radius:radius,angle:angle}=this.props,{model:model,fillVertexCount:fillVertexCount,wireframeVertexCount:wireframeVertexCount,edgeDistance:edgeDistance}=this.state;model.setUniforms(uniforms).setUniforms({radius:radius,angle:angle/180*Math.PI,offset:offset,extruded:extruded,stroked:stroked,coverage:coverage,elevationScale:elevationScale,edgeDistance:edgeDistance,radiusUnits:constants.iI[radiusUnits],widthUnits:constants.iI[lineWidthUnits],widthScale:lineWidthScale,widthMinPixels:lineWidthMinPixels,widthMaxPixels:lineWidthMaxPixels}),extruded&&wireframe&&(model.setProps({isIndexed:!0}),model.setVertexCount(wireframeVertexCount).setDrawMode(1).setUniforms({isStroke:!0}).draw()),filled&&(model.setProps({isIndexed:!1}),model.setVertexCount(fillVertexCount).setDrawMode(5).setUniforms({isStroke:!1}).draw()),!extruded&&stroked&&(model.setProps({isIndexed:!1}),model.setVertexCount(2*fillVertexCount/3).setDrawMode(5).setUniforms({isStroke:!0}).draw())}}(0,defineProperty.Z)(ColumnLayer,"layerName","ColumnLayer"),(0,defineProperty.Z)(ColumnLayer,"defaultProps",defaultProps)},"./node_modules/@deck.gl/layers/dist/esm/column-layer/grid-cell-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return GridCellLayer}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_luma_gl_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometries/cube-geometry.js"),_deck_gl_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js"),_column_layer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/column-layer/column-layer.js");class GridCellLayer extends _column_layer__WEBPACK_IMPORTED_MODULE_0__.Z{getGeometry(diskResolution){return new _luma_gl_core__WEBPACK_IMPORTED_MODULE_1__.Z}draw({uniforms:uniforms}){const{elevationScale:elevationScale,extruded:extruded,offset:offset,coverage:coverage,cellSize:cellSize,angle:angle,radiusUnits:radiusUnits}=this.props;this.state.model.setUniforms(uniforms).setUniforms({radius:cellSize/2,radiusUnits:_deck_gl_core__WEBPACK_IMPORTED_MODULE_2__.iI[radiusUnits],angle:angle,offset:offset,extruded:extruded,coverage:coverage,elevationScale:elevationScale,edgeDistance:1,isWireframe:!1}).draw()}}(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__.Z)(GridCellLayer,"layerName","GridCellLayer"),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__.Z)(GridCellLayer,"defaultProps",{cellSize:{type:"number",min:0,value:1e3},offset:{type:"array",value:[1,1]}})},"./node_modules/@deck.gl/layers/dist/esm/geojson-layer/geojson-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return GeoJsonLayer}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),composite_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/composite-layer.js"),utils=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/utils.js");var icon_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/icon-layer/icon-layer.js"),scatterplot_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/scatterplot-layer/scatterplot-layer.js"),text_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/text-layer/text-layer.js"),path_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/path-layer/path-layer.js"),solid_polygon_layer=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/solid-polygon-layer.js");const POINT_LAYER={circle:{type:scatterplot_layer.Z,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:icon_layer.Z,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:text_layer.Z,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},LINE_LAYER={type:path_layer.Z,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},POLYGON_LAYER={type:solid_polygon_layer.Z,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",_full3d:"_full3d",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function getDefaultProps({type:type,props:props}){const result={};for(const key in props)result[key]=type.defaultProps[props[key]];return result}function forwardProps(layer,mapping){const{transitions:transitions,updateTriggers:updateTriggers}=layer.props,result={updateTriggers:{},transitions:transitions&&{getPosition:transitions.geometry}};for(const sourceKey in mapping){const targetKey=mapping[sourceKey];let value=layer.props[sourceKey];sourceKey.startsWith("get")&&(value=layer.getSubLayerAccessor(value),result.updateTriggers[targetKey]=updateTriggers[sourceKey],transitions&&(result.transitions[targetKey]=transitions[sourceKey])),result[targetKey]=value}return result}var log=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/log.js");function separateGeojsonFeatures(features,wrapFeature,dataRange={}){const separated={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:startRow=0,endRow:endRow=features.length}=dataRange;for(let featureIndex=startRow;featureIndex<endRow;featureIndex++){const feature=features[featureIndex],{geometry:geometry}=feature;if(geometry)if("GeometryCollection"===geometry.type){log.Z.assert(Array.isArray(geometry.geometries),"GeoJSON does not have geometries array");const{geometries:geometries}=geometry;for(let i=0;i<geometries.length;i++){separateGeometry(geometries[i],separated,wrapFeature,feature,featureIndex)}}else separateGeometry(geometry,separated,wrapFeature,feature,featureIndex)}return separated}function separateGeometry(geometry,separated,wrapFeature,sourceFeature,sourceFeatureIndex){const{type:type,coordinates:coordinates}=geometry,{pointFeatures:pointFeatures,lineFeatures:lineFeatures,polygonFeatures:polygonFeatures,polygonOutlineFeatures:polygonOutlineFeatures}=separated;if(function validateGeometry(type,coordinates){let nestLevel=COORDINATE_NEST_LEVEL[type];log.Z.assert(nestLevel,"Unknown GeoJSON type ".concat(type));for(;coordinates&&--nestLevel>0;)coordinates=coordinates[0];return coordinates&&Number.isFinite(coordinates[0])}(type,coordinates))switch(type){case"Point":pointFeatures.push(wrapFeature({geometry:geometry},sourceFeature,sourceFeatureIndex));break;case"MultiPoint":coordinates.forEach((point=>{pointFeatures.push(wrapFeature({geometry:{type:"Point",coordinates:point}},sourceFeature,sourceFeatureIndex))}));break;case"LineString":lineFeatures.push(wrapFeature({geometry:geometry},sourceFeature,sourceFeatureIndex));break;case"MultiLineString":coordinates.forEach((path=>{lineFeatures.push(wrapFeature({geometry:{type:"LineString",coordinates:path}},sourceFeature,sourceFeatureIndex))}));break;case"Polygon":polygonFeatures.push(wrapFeature({geometry:geometry},sourceFeature,sourceFeatureIndex)),coordinates.forEach((path=>{polygonOutlineFeatures.push(wrapFeature({geometry:{type:"LineString",coordinates:path}},sourceFeature,sourceFeatureIndex))}));break;case"MultiPolygon":coordinates.forEach((polygon=>{polygonFeatures.push(wrapFeature({geometry:{type:"Polygon",coordinates:polygon}},sourceFeature,sourceFeatureIndex)),polygon.forEach((path=>{polygonOutlineFeatures.push(wrapFeature({geometry:{type:"LineString",coordinates:path}},sourceFeature,sourceFeatureIndex))}))}))}else log.Z.warn("".concat(type," coordinates are malformed"))()}const COORDINATE_NEST_LEVEL={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function getCoordinates(f){return f.geometry.coordinates}function createLayerPropsFromBinary(geojsonBinary,encodePickingColor){const layerProps={points:{},lines:{},polygons:{},polygonsOutline:{}},{points:points,lines:lines,polygons:polygons}=geojsonBinary,customPickingColors=function calculatePickingColors(geojsonBinary,encodePickingColor){const pickingColors={points:null,lines:null,polygons:null};for(const key in pickingColors){const featureIds=geojsonBinary[key].globalFeatureIds.value;pickingColors[key]=new Uint8ClampedArray(3*featureIds.length);const pickingColor=[];for(let i=0;i<featureIds.length;i++)encodePickingColor(featureIds[i],pickingColor),pickingColors[key][3*i+0]=pickingColor[0],pickingColors[key][3*i+1]=pickingColor[1],pickingColors[key][3*i+2]=pickingColor[2]}return pickingColors}(geojsonBinary,encodePickingColor);return layerProps.points.data={length:points.positions.value.length/points.positions.size,attributes:{...points.attributes,getPosition:points.positions,instancePickingColors:{size:3,value:customPickingColors.points}},properties:points.properties,numericProps:points.numericProps,featureIds:points.featureIds},layerProps.lines.data={length:lines.pathIndices.value.length-1,startIndices:lines.pathIndices.value,attributes:{...lines.attributes,getPath:lines.positions,instancePickingColors:{size:3,value:customPickingColors.lines}},properties:lines.properties,numericProps:lines.numericProps,featureIds:lines.featureIds},layerProps.lines._pathType="open",layerProps.polygons.data={length:polygons.polygonIndices.value.length-1,startIndices:polygons.polygonIndices.value,attributes:{...polygons.attributes,getPolygon:polygons.positions,pickingColors:{size:3,value:customPickingColors.polygons}},properties:polygons.properties,numericProps:polygons.numericProps,featureIds:polygons.featureIds},layerProps.polygons._normalize=!1,polygons.triangles&&(layerProps.polygons.data.attributes.indices=polygons.triangles.value),layerProps.polygonsOutline.data={length:polygons.primitivePolygonIndices.value.length-1,startIndices:polygons.primitivePolygonIndices.value,attributes:{...polygons.attributes,getPath:polygons.positions,instancePickingColors:{size:3,value:customPickingColors.polygons}},properties:polygons.properties,numericProps:polygons.numericProps,featureIds:polygons.featureIds},layerProps.polygonsOutline._pathType="open",layerProps}const FEATURE_TYPES=["points","linestrings","polygons"],defaultProps={...getDefaultProps(POINT_LAYER.circle),...getDefaultProps(POINT_LAYER.icon),...getDefaultProps(POINT_LAYER.text),...getDefaultProps(LINE_LAYER),...getDefaultProps(POLYGON_LAYER),stroked:!0,filled:!0,extruded:!1,wireframe:!1,_full3d:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:f=>f.properties.icon},getText:{type:"accessor",value:f=>f.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class GeoJsonLayer extends composite_layer.Z{initializeState(){this.state={layerProps:{},features:{}}}updateState({props:props,changeFlags:changeFlags}){if(!changeFlags.dataChanged)return;const{data:data}=this.props,binary=data&&"points"in data&&"polygons"in data&&"lines"in data;this.setState({binary:binary}),binary?this._updateStateBinary({props:props,changeFlags:changeFlags}):this._updateStateJSON({props:props,changeFlags:changeFlags})}_updateStateBinary({props:props,changeFlags:changeFlags}){const layerProps=createLayerPropsFromBinary(props.data,this.encodePickingColor);this.setState({layerProps:layerProps})}_updateStateJSON({props:props,changeFlags:changeFlags}){const features=function getGeojsonFeatures(geojson){if(Array.isArray(geojson))return geojson;switch(log.Z.assert(geojson.type,"GeoJSON does not have type"),geojson.type){case"Feature":return[geojson];case"FeatureCollection":return log.Z.assert(Array.isArray(geojson.features),"GeoJSON does not have features array"),geojson.features;default:return[{geometry:geojson}]}}(props.data),wrapFeature=this.getSubLayerRow.bind(this);let newFeatures={};const featuresDiff={};if(Array.isArray(changeFlags.dataChanged)){const oldFeatures=this.state.features;for(const key in oldFeatures)newFeatures[key]=oldFeatures[key].slice(),featuresDiff[key]=[];for(const dataRange of changeFlags.dataChanged){const partialFeatures=separateGeojsonFeatures(features,wrapFeature,dataRange);for(const key in oldFeatures)featuresDiff[key].push((0,utils.b)({data:newFeatures[key],getIndex:f=>f.__source.index,dataRange:dataRange,replace:partialFeatures[key]}))}}else newFeatures=separateGeojsonFeatures(features,wrapFeature);const layerProps=function createLayerPropsFromFeatures(features,featuresDiff){const layerProps={points:{},lines:{},polygons:{},polygonsOutline:{}},{pointFeatures:pointFeatures,lineFeatures:lineFeatures,polygonFeatures:polygonFeatures,polygonOutlineFeatures:polygonOutlineFeatures}=features;return layerProps.points.data=pointFeatures,layerProps.points._dataDiff=featuresDiff.pointFeatures&&(()=>featuresDiff.pointFeatures),layerProps.points.getPosition=getCoordinates,layerProps.lines.data=lineFeatures,layerProps.lines._dataDiff=featuresDiff.lineFeatures&&(()=>featuresDiff.lineFeatures),layerProps.lines.getPath=getCoordinates,layerProps.polygons.data=polygonFeatures,layerProps.polygons._dataDiff=featuresDiff.polygonFeatures&&(()=>featuresDiff.polygonFeatures),layerProps.polygons.getPolygon=getCoordinates,layerProps.polygonsOutline.data=polygonOutlineFeatures,layerProps.polygonsOutline._dataDiff=featuresDiff.polygonOutlineFeatures&&(()=>featuresDiff.polygonOutlineFeatures),layerProps.polygonsOutline.getPath=getCoordinates,layerProps}(newFeatures,featuresDiff);this.setState({features:newFeatures,featuresDiff:featuresDiff,layerProps:layerProps})}getPickingInfo(params){const info=super.getPickingInfo(params),{index:index,sourceLayer:sourceLayer}=info;return info.featureType=FEATURE_TYPES.find((ft=>sourceLayer.id.startsWith("".concat(this.id,"-").concat(ft,"-")))),index>=0&&sourceLayer.id.startsWith("".concat(this.id,"-points-text"))&&this.state.binary&&(info.index=this.props.data.points.globalFeatureIds.value[index]),info}_updateAutoHighlight(info){const pointLayerIdPrefix="".concat(this.id,"-points-"),sourceIsPoints="points"===info.featureType;for(const layer of this.getSubLayers())layer.id.startsWith(pointLayerIdPrefix)===sourceIsPoints&&layer.updateAutoHighlight(info)}_renderPolygonLayer(){const{extruded:extruded,wireframe:wireframe}=this.props,{layerProps:layerProps}=this.state,id="polygons-fill",PolygonFillLayer=this.shouldRenderSubLayer(id,layerProps.polygons.data)&&this.getSubLayerClass(id,POLYGON_LAYER.type);if(PolygonFillLayer){const forwardedProps=forwardProps(this,POLYGON_LAYER.props),useLineColor=extruded&&wireframe;return useLineColor||delete forwardedProps.getLineColor,forwardedProps.updateTriggers.lineColors=useLineColor,new PolygonFillLayer(forwardedProps,this.getSubLayerProps({id:id,updateTriggers:forwardedProps.updateTriggers}),layerProps.polygons)}return null}_renderLineLayers(){const{extruded:extruded,stroked:stroked}=this.props,{layerProps:layerProps}=this.state,PolygonStrokeLayer=!extruded&&stroked&&this.shouldRenderSubLayer("polygons-stroke",layerProps.polygonsOutline.data)&&this.getSubLayerClass("polygons-stroke",LINE_LAYER.type),LineStringsLayer=this.shouldRenderSubLayer("linestrings",layerProps.lines.data)&&this.getSubLayerClass("linestrings",LINE_LAYER.type);if(PolygonStrokeLayer||LineStringsLayer){const forwardedProps=forwardProps(this,LINE_LAYER.props);return[PolygonStrokeLayer&&new PolygonStrokeLayer(forwardedProps,this.getSubLayerProps({id:"polygons-stroke",updateTriggers:forwardedProps.updateTriggers}),layerProps.polygonsOutline),LineStringsLayer&&new LineStringsLayer(forwardedProps,this.getSubLayerProps({id:"linestrings",updateTriggers:forwardedProps.updateTriggers}),layerProps.lines)]}return null}_renderPointLayers(){const{pointType:pointType}=this.props,{layerProps:layerProps,binary:binary}=this.state;let{highlightedObjectIndex:highlightedObjectIndex}=this.props;!binary&&Number.isFinite(highlightedObjectIndex)&&(highlightedObjectIndex=layerProps.points.data.findIndex((d=>d.__source.index===highlightedObjectIndex)));const types=new Set(pointType.split("+")),pointLayers=[];for(const type of types){const id="points-".concat(type),PointLayerMapping=POINT_LAYER[type],PointsLayer=PointLayerMapping&&this.shouldRenderSubLayer(id,layerProps.points.data)&&this.getSubLayerClass(id,PointLayerMapping.type);if(PointsLayer){const forwardedProps=forwardProps(this,PointLayerMapping.props);let pointsLayerProps=layerProps.points;if("text"===type&&binary){const{instancePickingColors:instancePickingColors,...rest}=pointsLayerProps.data.attributes;pointsLayerProps={...pointsLayerProps,data:{...pointsLayerProps.data,attributes:rest}}}pointLayers.push(new PointsLayer(forwardedProps,this.getSubLayerProps({id:id,updateTriggers:forwardedProps.updateTriggers,highlightedObjectIndex:highlightedObjectIndex}),pointsLayerProps))}}return pointLayers}renderLayers(){const{extruded:extruded}=this.props,polygonFillLayer=this._renderPolygonLayer();return[!extruded&&polygonFillLayer,this._renderLineLayers(),this._renderPointLayers(),extruded&&polygonFillLayer]}getSubLayerAccessor(accessor){const{binary:binary}=this.state;return binary&&"function"==typeof accessor?(object,info)=>{const{data:data,index:index}=info,feature=function binaryToFeatureForAccesor(data,index){if(!data)return null;const featureIndex="startIndices"in data?data.startIndices[index]:index,geometryIndex=data.featureIds.value[featureIndex];return-1!==featureIndex?function getPropertiesForIndex(data,propertiesIndex,numericPropsIndex){const feature={properties:{...data.properties[propertiesIndex]}};for(const prop in data.numericProps)feature.properties[prop]=data.numericProps[prop].value[numericPropsIndex];return feature}(data,geometryIndex,featureIndex):null}(data,index);return accessor(feature,info)}:super.getSubLayerAccessor(accessor)}}(0,defineProperty.Z)(GeoJsonLayer,"layerName","GeoJsonLayer"),(0,defineProperty.Z)(GeoJsonLayer,"defaultProps",defaultProps)},"./node_modules/@deck.gl/layers/dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ArcLayer:function(){return _arc_layer_arc_layer__WEBPACK_IMPORTED_MODULE_0__.Z},BitmapLayer:function(){return _bitmap_layer_bitmap_layer__WEBPACK_IMPORTED_MODULE_1__.Z},ColumnLayer:function(){return _column_layer_column_layer__WEBPACK_IMPORTED_MODULE_6__.Z},GeoJsonLayer:function(){return _geojson_layer_geojson_layer__WEBPACK_IMPORTED_MODULE_10__.Z},GridCellLayer:function(){return _column_layer_grid_cell_layer__WEBPACK_IMPORTED_MODULE_7__.Z},IconLayer:function(){return _icon_layer_icon_layer__WEBPACK_IMPORTED_MODULE_2__.Z},LineLayer:function(){return _line_layer_line_layer__WEBPACK_IMPORTED_MODULE_3__.Z},PathLayer:function(){return _path_layer_path_layer__WEBPACK_IMPORTED_MODULE_8__.Z},PointCloudLayer:function(){return _point_cloud_layer_point_cloud_layer__WEBPACK_IMPORTED_MODULE_4__.Z},PolygonLayer:function(){return _polygon_layer_polygon_layer__WEBPACK_IMPORTED_MODULE_9__.Z},ScatterplotLayer:function(){return _scatterplot_layer_scatterplot_layer__WEBPACK_IMPORTED_MODULE_5__.Z},SolidPolygonLayer:function(){return _solid_polygon_layer_solid_polygon_layer__WEBPACK_IMPORTED_MODULE_12__.Z},TextLayer:function(){return _text_layer_text_layer__WEBPACK_IMPORTED_MODULE_11__.Z},_MultiIconLayer:function(){return _text_layer_multi_icon_layer_multi_icon_layer__WEBPACK_IMPORTED_MODULE_13__.Z},_TextBackgroundLayer:function(){return _text_layer_text_background_layer_text_background_layer__WEBPACK_IMPORTED_MODULE_14__.Z}});var _arc_layer_arc_layer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/arc-layer/arc-layer.js"),_bitmap_layer_bitmap_layer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/bitmap-layer/bitmap-layer.js"),_icon_layer_icon_layer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/icon-layer/icon-layer.js"),_line_layer_line_layer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/line-layer/line-layer.js"),_point_cloud_layer_point_cloud_layer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/point-cloud-layer/point-cloud-layer.js"),_scatterplot_layer_scatterplot_layer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/scatterplot-layer/scatterplot-layer.js"),_column_layer_column_layer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/column-layer/column-layer.js"),_column_layer_grid_cell_layer__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/column-layer/grid-cell-layer.js"),_path_layer_path_layer__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/path-layer/path-layer.js"),_polygon_layer_polygon_layer__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/polygon-layer/polygon-layer.js"),_geojson_layer_geojson_layer__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/geojson-layer/geojson-layer.js"),_text_layer_text_layer__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/text-layer/text-layer.js"),_solid_polygon_layer_solid_polygon_layer__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/solid-polygon-layer.js"),_text_layer_multi_icon_layer_multi_icon_layer__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/text-layer/multi-icon-layer/multi-icon-layer.js"),_text_layer_text_background_layer_text_background_layer__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/text-layer/text-background-layer/text-background-layer.js")},"./node_modules/@deck.gl/layers/dist/esm/line-layer/line-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return LineLayer}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js");const defaultProps={getSourcePosition:{type:"accessor",value:x=>x.sourcePosition},getTargetPosition:{type:"accessor",value:x=>x.targetPosition},getColor:{type:"accessor",value:[0,0,0,255]},getWidth:{type:"accessor",value:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class LineLayer extends lib_layer.Z{getBounds(){var _this$getAttributeMan;return null===(_this$getAttributeMan=this.getAttributeManager())||void 0===_this$getAttributeMan?void 0:_this$getAttributeMan.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:"#define SHADER_NAME line-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\n\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float useShortestPath;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nvec3 splitLine(vec3 a, vec3 b, float x) {\n  float t = (x - a.x) / (b.x - a.x);\n  return vec3(x, mix(a.yz, b.yz, t));\n}\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  vec3 source_world = instanceSourcePositions;\n  vec3 target_world = instanceTargetPositions;\n  vec3 source_world_64low = instanceSourcePositions64Low;\n  vec3 target_world_64low = instanceTargetPositions64Low;\n\n  if (useShortestPath > 0.5 || useShortestPath < -0.5) {\n    source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n    target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n    float deltaLng = target_world.x - source_world.x;\n\n    if (deltaLng * useShortestPath > 180.) {\n      source_world.x += 360. * useShortestPath;\n      source_world = splitLine(source_world, target_world, 180. * useShortestPath);\n      source_world_64low = vec3(0.0);\n    } else if (deltaLng * useShortestPath < -180.) {\n      target_world.x += 360. * useShortestPath;\n      target_world = splitLine(source_world, target_world, 180. * useShortestPath);\n      target_world_64low = vec3(0.0);\n    } else if (useShortestPath < 0.) {\n      gl_Position = vec4(0.);\n      return;\n    }\n  }\n  vec4 source_commonspace;\n  vec4 target_commonspace;\n  vec4 source = project_position_to_clipspace(source_world, source_world_64low, vec3(0.), source_commonspace);\n  vec4 target = project_position_to_clipspace(target_world, target_world_64low, vec3(0.), target_commonspace);\n  float segmentIndex = positions.x;\n  vec4 p = mix(source, target, segmentIndex);\n  geometry.position = mix(source_commonspace, target_commonspace, segmentIndex);\n  uv = positions.xy;\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n  vec3 offset = vec3(\n    getExtrusionOffset(target.xy - source.xy, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  DECKGL_FILTER_GL_POSITION(p, geometry);\n  gl_Position = p + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME line-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[project32.Z,picking.Z]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1}})}updateState(params){if(super.updateState(params),params.changeFlags.extensionsChanged){var _this$state$model;const{gl:gl}=this.context;null===(_this$state$model=this.state.model)||void 0===_this$state$model||_this$state$model.delete(),this.state.model=this._getModel(gl),this.getAttributeManager().invalidateAll()}}draw({uniforms:uniforms}){const{widthUnits:widthUnits,widthScale:widthScale,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels,wrapLongitude:wrapLongitude}=this.props;this.state.model.setUniforms(uniforms).setUniforms({widthUnits:constants.iI[widthUnits],widthScale:widthScale,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels,useShortestPath:wrapLongitude?1:0}).draw(),wrapLongitude&&this.state.model.setUniforms({useShortestPath:-1}).draw()}_getModel(gl){return new model.Z(gl,{...this.getShaders(),id:this.props.id,geometry:new geometry.Z({drawMode:5,attributes:{positions:new Float32Array([0,-1,0,0,1,0,1,-1,0,1,1,0])}}),isInstanced:!0})}}(0,defineProperty.Z)(LineLayer,"layerName","LineLayer"),(0,defineProperty.Z)(LineLayer,"defaultProps",defaultProps)},"./node_modules/@deck.gl/layers/dist/esm/path-layer/path-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return PathLayer}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js"),tesselator=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/tesselator.js"),esm=__webpack_require__("./node_modules/@math.gl/polygon/dist/esm/index.js");class PathTesselator extends tesselator.Z{constructor(opts){super({...opts,attributes:{positions:{size:3,padding:18,initialize:!0,type:opts.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(attributeName){return this.attributes[attributeName]}getGeometryFromBuffer(buffer){return this.normalize?super.getGeometryFromBuffer(buffer):null}normalizeGeometry(path){return this.normalize?function normalizePath(path,size,gridResolution,wrapLongitude){let flatPath;if(Array.isArray(path[0])){const length=path.length*size;flatPath=new Array(length);for(let i=0;i<path.length;i++)for(let j=0;j<size;j++)flatPath[i*size+j]=path[i][j]||0}else flatPath=path;return gridResolution?(0,esm.dj)(flatPath,{size:size,gridResolution:gridResolution}):wrapLongitude?(0,esm.ct)(flatPath,{size:size}):flatPath}(path,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):path}getGeometrySize(path){if(isCut(path)){let size=0;for(const subPath of path)size+=this.getGeometrySize(subPath);return size}const numPoints=this.getPathLength(path);return numPoints<2?0:this.isClosed(path)?numPoints<3?0:numPoints+2:numPoints}updateGeometryAttributes(path,context){if(0!==context.geometrySize)if(path&&isCut(path))for(const subPath of path){const geometrySize=this.getGeometrySize(subPath);context.geometrySize=geometrySize,this.updateGeometryAttributes(subPath,context),context.vertexStart+=geometrySize}else this._updateSegmentTypes(path,context),this._updatePositions(path,context)}_updateSegmentTypes(path,context){const segmentTypes=this.attributes.segmentTypes,isPathClosed=!!path&&this.isClosed(path),{vertexStart:vertexStart,geometrySize:geometrySize}=context;segmentTypes.fill(0,vertexStart,vertexStart+geometrySize),isPathClosed?(segmentTypes[vertexStart]=4,segmentTypes[vertexStart+geometrySize-2]=4):(segmentTypes[vertexStart]+=1,segmentTypes[vertexStart+geometrySize-2]+=2),segmentTypes[vertexStart+geometrySize-1]=4}_updatePositions(path,context){const{positions:positions}=this.attributes;if(!positions||!path)return;const{vertexStart:vertexStart,geometrySize:geometrySize}=context,p=new Array(3);for(let i=vertexStart,ptIndex=0;ptIndex<geometrySize;i++,ptIndex++)this.getPointOnPath(path,ptIndex,p),positions[3*i]=p[0],positions[3*i+1]=p[1],positions[3*i+2]=p[2]}getPathLength(path){return path.length/this.positionSize}getPointOnPath(path,index,target=[]){const{positionSize:positionSize}=this;index*positionSize>=path.length&&(index+=1-path.length/positionSize);const i=index*positionSize;return target[0]=path[i],target[1]=path[i+1],target[2]=3===positionSize&&path[i+2]||0,target}isClosed(path){if(!this.normalize)return Boolean(this.opts.loop);const{positionSize:positionSize}=this,lastPointIndex=path.length-positionSize;return path[0]===path[lastPointIndex]&&path[1]===path[lastPointIndex+1]&&(2===positionSize||path[2]===path[lastPointIndex+2])}}function isCut(path){return Array.isArray(path[0])}const DEFAULT_COLOR=[0,0,0,255],defaultProps={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:object=>object.path},getColor:{type:"accessor",value:DEFAULT_COLOR},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},ATTRIBUTE_TRANSITION={enter:(value,chunk)=>chunk.length?chunk.subarray(chunk.length-value.length):value};class PathLayer extends lib_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\nvec3 getLineJoinOffset(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  vec2 dir = isEnd ? dirA : dirB;\n  vec2 perp = isEnd ? perpA : perpB;\n  float L = isEnd ? lenA : lenB;\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\n    vJointType = capType;\n  } else {\n    vJointType = jointType;\n  }\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return offset;\n}\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.pickingColor = instancePickingColors;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  geometry.worldPosition = currPosition;\n  vec2 widthPixels = vec2(clamp(\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  if (billboard) {\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 offset = getLineJoinOffset(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    DECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);\n    gl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);\n    geometry.position = vec4(currPosition + offset, 1.0);\n    gl_Position = project_common_position_to_clipspace(geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[project32.Z,picking.Z]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:ATTRIBUTE_TRANSITION,accessor:"getPath",update:this.calculatePositions,noAlloc:true,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:true},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:ATTRIBUTE_TRANSITION,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:ATTRIBUTE_TRANSITION,defaultValue:DEFAULT_COLOR},instancePickingColors:{size:3,type:5121,accessor:(object,{index:index,target:value})=>this.encodePickingColor(object&&object.__source?object.__source.index:index,value)}}),this.setState({pathTesselator:new PathTesselator({fp64:this.use64bitPositions()})})}updateState(params){super.updateState(params);const{props:props,changeFlags:changeFlags}=params,attributeManager=this.getAttributeManager();if(changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getPath)){const{pathTesselator:pathTesselator}=this.state,buffers=props.data.attributes||{};pathTesselator.updateGeometry({data:props.data,geometryBuffer:buffers.getPath,buffers:buffers,normalize:!props._pathType,loop:"loop"===props._pathType,getGeometry:props.getPath,positionFormat:props.positionFormat,wrapLongitude:props.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:changeFlags.dataChanged}),this.setState({numInstances:pathTesselator.instanceCount,startIndices:pathTesselator.vertexStarts}),changeFlags.dataChanged||attributeManager.invalidateAll()}if(changeFlags.extensionsChanged){var _this$state$model;const{gl:gl}=this.context;null===(_this$state$model=this.state.model)||void 0===_this$state$model||_this$state$model.delete(),this.state.model=this._getModel(gl),attributeManager.invalidateAll()}}getPickingInfo(params){const info=super.getPickingInfo(params),{index:index}=info,{data:data}=this.props;return data[0]&&data[0].__source&&(info.object=data.find((d=>d.__source.index===index))),info}disablePickingIndex(objectIndex){const{data:data}=this.props;if(data[0]&&data[0].__source)for(let i=0;i<data.length;i++)data[i].__source.index===objectIndex&&this._disablePickingIndex(i);else super.disablePickingIndex(objectIndex)}draw({uniforms:uniforms}){const{jointRounded:jointRounded,capRounded:capRounded,billboard:billboard,miterLimit:miterLimit,widthUnits:widthUnits,widthScale:widthScale,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels}=this.props;this.state.model.setUniforms(uniforms).setUniforms({jointType:Number(jointRounded),capType:Number(capRounded),billboard:billboard,widthUnits:constants.iI[widthUnits],widthScale:widthScale,miterLimit:miterLimit,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels}).draw()}_getModel(gl){return new model.Z(gl,{...this.getShaders(),id:this.props.id,geometry:new geometry.Z({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0})}calculatePositions(attribute){const{pathTesselator:pathTesselator}=this.state;attribute.startIndices=pathTesselator.vertexStarts,attribute.value=pathTesselator.get("positions")}calculateSegmentTypes(attribute){const{pathTesselator:pathTesselator}=this.state;attribute.startIndices=pathTesselator.vertexStarts,attribute.value=pathTesselator.get("segmentTypes")}}(0,defineProperty.Z)(PathLayer,"defaultProps",defaultProps),(0,defineProperty.Z)(PathLayer,"layerName","PathLayer")},"./node_modules/@deck.gl/layers/dist/esm/point-cloud-layer/point-cloud-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return PointCloudLayer}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js"),phong_lighting=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/phong-lighting/phong-lighting.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js");const DEFAULT_COLOR=[0,0,0,255],DEFAULT_NORMAL=[0,0,1],defaultProps={sizeUnits:"pixels",pointSize:{type:"number",min:0,value:10},getPosition:{type:"accessor",value:x=>x.position},getNormal:{type:"accessor",value:DEFAULT_NORMAL},getColor:{type:"accessor",value:DEFAULT_COLOR},material:!0,radiusPixels:{deprecatedFor:"pointSize"}};class PointCloudLayer extends lib_layer.Z{getShaders(){return super.getShaders({vs:"#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\nuniform int sizeUnits;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.normal = project_normal(instanceNormals);\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n  vec3 offset = vec3(positions.xy * project_size_to_pixel(radiusPixels, sizeUnits), 0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  vec3 lightColor = lighting_getLightColor(instanceColors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\n  vColor = vec4(lightColor, instanceColors.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME point-cloud-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[project32.Z,phong_lighting.N,picking.Z]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:DEFAULT_NORMAL},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:DEFAULT_COLOR}})}updateState(params){const{changeFlags:changeFlags,props:props}=params;if(super.updateState(params),changeFlags.extensionsChanged){var _this$state$model;const{gl:gl}=this.context;null===(_this$state$model=this.state.model)||void 0===_this$state$model||_this$state$model.delete(),this.state.model=this._getModel(gl),this.getAttributeManager().invalidateAll()}changeFlags.dataChanged&&function normalizeData(data){const{header:header,attributes:attributes}=data;header&&attributes&&(data.length=header.vertexCount,attributes.POSITION&&(attributes.instancePositions=attributes.POSITION),attributes.NORMAL&&(attributes.instanceNormals=attributes.NORMAL),attributes.COLOR_0&&(attributes.instanceColors=attributes.COLOR_0))}(props.data)}draw({uniforms:uniforms}){const{pointSize:pointSize,sizeUnits:sizeUnits}=this.props;this.state.model.setUniforms(uniforms).setUniforms({sizeUnits:constants.iI[sizeUnits],radiusPixels:pointSize}).draw()}_getModel(gl){const positions=[];for(let i=0;i<3;i++){const angle=i/3*Math.PI*2;positions.push(2*Math.cos(angle),2*Math.sin(angle),0)}return new model.Z(gl,{...this.getShaders(),id:this.props.id,geometry:new geometry.Z({drawMode:4,attributes:{positions:new Float32Array(positions)}}),isInstanced:!0})}}(0,defineProperty.Z)(PointCloudLayer,"layerName","PointCloudLayer"),(0,defineProperty.Z)(PointCloudLayer,"defaultProps",defaultProps)},"./node_modules/@deck.gl/layers/dist/esm/polygon-layer/polygon-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return PolygonLayer}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_deck_gl_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/composite-layer.js"),_deck_gl_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/log.js"),_deck_gl_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/iterable-utils.js"),_solid_polygon_layer_solid_polygon_layer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/solid-polygon-layer.js"),_path_layer_path_layer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/path-layer/path-layer.js"),_solid_polygon_layer_polygon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/polygon.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/utils.js");const defaultLineColor=[0,0,0,255],defaultProps={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:f=>f.polygon},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:defaultLineColor},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0};class PolygonLayer extends _deck_gl_core__WEBPACK_IMPORTED_MODULE_0__.Z{initializeState(){this.state={paths:[]},this.props.getLineDashArray&&_deck_gl_core__WEBPACK_IMPORTED_MODULE_1__.Z.removed("getLineDashArray","PathStyleExtension")()}updateState({changeFlags:changeFlags}){const geometryChanged=changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getPolygon);if(geometryChanged&&Array.isArray(changeFlags.dataChanged)){const paths=this.state.paths.slice(),pathsDiff=changeFlags.dataChanged.map((dataRange=>(0,_utils__WEBPACK_IMPORTED_MODULE_2__.b)({data:paths,getIndex:p=>p.__source.index,dataRange:dataRange,replace:this._getPaths(dataRange)})));this.setState({paths:paths,pathsDiff:pathsDiff})}else geometryChanged&&this.setState({paths:this._getPaths(),pathsDiff:null})}_getPaths(dataRange={}){const{data:data,getPolygon:getPolygon,positionFormat:positionFormat,_normalize:_normalize}=this.props,paths=[],positionSize="XY"===positionFormat?2:3,{startRow:startRow,endRow:endRow}=dataRange,{iterable:iterable,objectInfo:objectInfo}=(0,_deck_gl_core__WEBPACK_IMPORTED_MODULE_3__.jB)(data,startRow,endRow);for(const object of iterable){objectInfo.index++;let polygon=getPolygon(object,objectInfo);_normalize&&(polygon=_solid_polygon_layer_polygon__WEBPACK_IMPORTED_MODULE_4__.Fv(polygon,positionSize));const{holeIndices:holeIndices}=polygon,positions=polygon.positions||polygon;if(holeIndices)for(let i=0;i<=holeIndices.length;i++){const path=positions.slice(holeIndices[i-1]||0,holeIndices[i]||positions.length);paths.push(this.getSubLayerRow({path:path},object,objectInfo.index))}else paths.push(this.getSubLayerRow({path:positions},object,objectInfo.index))}return paths}renderLayers(){const{data:data,_dataDiff:_dataDiff,stroked:stroked,filled:filled,extruded:extruded,wireframe:wireframe,_normalize:_normalize,_windingOrder:_windingOrder,elevationScale:elevationScale,transitions:transitions,positionFormat:positionFormat}=this.props,{lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels,lineJointRounded:lineJointRounded,lineMiterLimit:lineMiterLimit,lineDashJustified:lineDashJustified}=this.props,{getFillColor:getFillColor,getLineColor:getLineColor,getLineWidth:getLineWidth,getLineDashArray:getLineDashArray,getElevation:getElevation,getPolygon:getPolygon,updateTriggers:updateTriggers,material:material}=this.props,{paths:paths,pathsDiff:pathsDiff}=this.state,FillLayer=this.getSubLayerClass("fill",_solid_polygon_layer_solid_polygon_layer__WEBPACK_IMPORTED_MODULE_5__.Z),StrokeLayer=this.getSubLayerClass("stroke",_path_layer_path_layer__WEBPACK_IMPORTED_MODULE_6__.Z),polygonLayer=this.shouldRenderSubLayer("fill",paths)&&new FillLayer({_dataDiff:_dataDiff,extruded:extruded,elevationScale:elevationScale,filled:filled,wireframe:wireframe,_normalize:_normalize,_windingOrder:_windingOrder,getElevation:getElevation,getFillColor:getFillColor,getLineColor:extruded&&wireframe?getLineColor:defaultLineColor,material:material,transitions:transitions},this.getSubLayerProps({id:"fill",updateTriggers:updateTriggers&&{getPolygon:updateTriggers.getPolygon,getElevation:updateTriggers.getElevation,getFillColor:updateTriggers.getFillColor,lineColors:extruded&&wireframe,getLineColor:updateTriggers.getLineColor}}),{data:data,positionFormat:positionFormat,getPolygon:getPolygon});return[!extruded&&polygonLayer,!extruded&&stroked&&this.shouldRenderSubLayer("stroke",paths)&&new StrokeLayer({_dataDiff:pathsDiff&&(()=>pathsDiff),widthUnits:lineWidthUnits,widthScale:lineWidthScale,widthMinPixels:lineWidthMinPixels,widthMaxPixels:lineWidthMaxPixels,jointRounded:lineJointRounded,miterLimit:lineMiterLimit,dashJustified:lineDashJustified,_pathType:"loop",transitions:transitions&&{getWidth:transitions.getLineWidth,getColor:transitions.getLineColor,getPath:transitions.getPolygon},getColor:this.getSubLayerAccessor(getLineColor),getWidth:this.getSubLayerAccessor(getLineWidth),getDashArray:this.getSubLayerAccessor(getLineDashArray)},this.getSubLayerProps({id:"stroke",updateTriggers:updateTriggers&&{getWidth:updateTriggers.getLineWidth,getColor:updateTriggers.getLineColor,getDashArray:updateTriggers.getLineDashArray}}),{data:paths,positionFormat:positionFormat,getPath:x=>x.path}),extruded&&polygonLayer]}}(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_7__.Z)(PolygonLayer,"layerName","PolygonLayer"),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_7__.Z)(PolygonLayer,"defaultProps",defaultProps)},"./node_modules/@deck.gl/layers/dist/esm/scatterplot-layer/scatterplot-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return ScatterplotLayer}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js");const DEFAULT_COLOR=[0,0,0,255],defaultProps={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:x=>x.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:DEFAULT_COLOR},getLineColor:{type:"accessor",value:DEFAULT_COLOR},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class ScatterplotLayer extends lib_layer.Z{getShaders(){return super.getShaders({vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool antialiasing;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\n    radiusMinPixels, radiusMaxPixels\n  );\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n  float edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\n  unitPosition = edgePadding * positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  if (billboard) {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n    vec3 offset = edgePadding * positions * outerRadiusPixels;\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  }\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\nuniform bool antialiasing;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = antialiasing ? \n    smoothedge(distToCenter, outerRadiusPixels) : \n    step(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = antialiasing ? \n      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\n      step(innerUnitRadius * outerRadiusPixels, distToCenter);\n\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[project32.Z,picking.Z]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(params){if(super.updateState(params),params.changeFlags.extensionsChanged){var _this$state$model;const{gl:gl}=this.context;null===(_this$state$model=this.state.model)||void 0===_this$state$model||_this$state$model.delete(),this.state.model=this._getModel(gl),this.getAttributeManager().invalidateAll()}}draw({uniforms:uniforms}){const{radiusUnits:radiusUnits,radiusScale:radiusScale,radiusMinPixels:radiusMinPixels,radiusMaxPixels:radiusMaxPixels,stroked:stroked,filled:filled,billboard:billboard,antialiasing:antialiasing,lineWidthUnits:lineWidthUnits,lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels}=this.props;this.state.model.setUniforms(uniforms).setUniforms({stroked:stroked?1:0,filled:filled,billboard:billboard,antialiasing:antialiasing,radiusUnits:constants.iI[radiusUnits],radiusScale:radiusScale,radiusMinPixels:radiusMinPixels,radiusMaxPixels:radiusMaxPixels,lineWidthUnits:constants.iI[lineWidthUnits],lineWidthScale:lineWidthScale,lineWidthMinPixels:lineWidthMinPixels,lineWidthMaxPixels:lineWidthMaxPixels}).draw()}_getModel(gl){return new model.Z(gl,{...this.getShaders(),id:this.props.id,geometry:new geometry.Z({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}}}),isInstanced:!0})}}(0,defineProperty.Z)(ScatterplotLayer,"defaultProps",defaultProps),(0,defineProperty.Z)(ScatterplotLayer,"layerName","ScatterplotLayer")},"./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/polygon.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Fv:function(){return normalize},Gd:function(){return getHoleIndices},k8:function(){return getPositions},mD:function(){return getSurfaceIndices}});var earcut__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/earcut/src/earcut.js"),earcut__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(earcut__WEBPACK_IMPORTED_MODULE_0__),_math_gl_polygon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@math.gl/polygon/dist/esm/index.js");const OUTER_POLYGON_WINDING=_math_gl_polygon__WEBPACK_IMPORTED_MODULE_1__.wG.CLOCKWISE,HOLE_POLYGON_WINDING=_math_gl_polygon__WEBPACK_IMPORTED_MODULE_1__.wG.COUNTER_CLOCKWISE,windingOptions={isClosed:!0};function getPositions(polygon){return"positions"in polygon?polygon.positions:polygon}function getHoleIndices(polygon){return"holeIndices"in polygon?polygon.holeIndices:null}function copyNestedRing(target,targetStartIndex,simplePolygon,size,windingDirection){let targetIndex=targetStartIndex;const len=simplePolygon.length;for(let i=0;i<len;i++)for(let j=0;j<size;j++)target[targetIndex++]=simplePolygon[i][j]||0;if(!function isNestedRingClosed(simplePolygon){const p0=simplePolygon[0],p1=simplePolygon[simplePolygon.length-1];return p0[0]===p1[0]&&p0[1]===p1[1]&&p0[2]===p1[2]}(simplePolygon))for(let j=0;j<size;j++)target[targetIndex++]=simplePolygon[0][j]||0;return windingOptions.start=targetStartIndex,windingOptions.end=targetIndex,windingOptions.size=size,(0,_math_gl_polygon__WEBPACK_IMPORTED_MODULE_1__.Ny)(target,windingDirection,windingOptions),targetIndex}function copyFlatRing(target,targetStartIndex,positions,size,srcStartIndex=0,srcEndIndex,windingDirection){const srcLength=(srcEndIndex=srcEndIndex||positions.length)-srcStartIndex;if(srcLength<=0)return targetStartIndex;let targetIndex=targetStartIndex;for(let i=0;i<srcLength;i++)target[targetIndex++]=positions[srcStartIndex+i];if(!function isFlatRingClosed(positions,size,startIndex,endIndex){for(let i=0;i<size;i++)if(positions[startIndex+i]!==positions[endIndex-size+i])return!1;return!0}(positions,size,srcStartIndex,srcEndIndex))for(let i=0;i<size;i++)target[targetIndex++]=positions[srcStartIndex+i];return windingOptions.start=targetStartIndex,windingOptions.end=targetIndex,windingOptions.size=size,(0,_math_gl_polygon__WEBPACK_IMPORTED_MODULE_1__.Ny)(target,windingDirection,windingOptions),targetIndex}function normalize(polygon,positionSize){!function validate(polygon){if(polygon=polygon&&polygon.positions||polygon,!Array.isArray(polygon)&&!ArrayBuffer.isView(polygon))throw new Error("invalid polygon")}(polygon);const positions=[],holeIndices=[];if("positions"in polygon){const{positions:srcPositions,holeIndices:srcHoleIndices}=polygon;if(srcHoleIndices){let targetIndex=0;for(let i=0;i<=srcHoleIndices.length;i++)targetIndex=copyFlatRing(positions,targetIndex,srcPositions,positionSize,srcHoleIndices[i-1],srcHoleIndices[i],0===i?OUTER_POLYGON_WINDING:HOLE_POLYGON_WINDING),holeIndices.push(targetIndex);return holeIndices.pop(),{positions:positions,holeIndices:holeIndices}}polygon=srcPositions}if(!function isNested(polygon){return Array.isArray(polygon[0])}(polygon))return copyFlatRing(positions,0,polygon,positionSize,0,positions.length,OUTER_POLYGON_WINDING),positions;if(!function isSimple(polygon){return polygon.length>=1&&polygon[0].length>=2&&Number.isFinite(polygon[0][0])}(polygon)){let targetIndex=0;for(const[polygonIndex,simplePolygon]of polygon.entries())targetIndex=copyNestedRing(positions,targetIndex,simplePolygon,positionSize,0===polygonIndex?OUTER_POLYGON_WINDING:HOLE_POLYGON_WINDING),holeIndices.push(targetIndex);return holeIndices.pop(),{positions:positions,holeIndices:holeIndices}}return copyNestedRing(positions,0,polygon,positionSize,OUTER_POLYGON_WINDING),positions}function getPlaneArea(positions,xIndex,yIndex){const numVerts=positions.length/3;let area=0;for(let i=0;i<numVerts;i++){const j=(i+1)%numVerts;area+=positions[3*i+xIndex]*positions[3*j+yIndex],area-=positions[3*j+xIndex]*positions[3*i+yIndex]}return Math.abs(area/2)}function permutePositions(positions,xIndex,yIndex,zIndex){const numVerts=positions.length/3;for(let i=0;i<numVerts;i++){const o=3*i,x=positions[o+0],y=positions[o+1],z=positions[o+2];positions[o+xIndex]=x,positions[o+yIndex]=y,positions[o+zIndex]=z}}function getSurfaceIndices(polygon,positionSize,preproject,full3d){let holeIndices=getHoleIndices(polygon);holeIndices&&(holeIndices=holeIndices.map((positionIndex=>positionIndex/positionSize)));let positions=getPositions(polygon);const is3d=full3d&&3===positionSize;if(preproject){const n=positions.length;positions=positions.slice();const p=[];for(let i=0;i<n;i+=positionSize){p[0]=positions[i],p[1]=positions[i+1],is3d&&(p[2]=positions[i+2]);const xy=preproject(p);positions[i]=xy[0],positions[i+1]=xy[1],is3d&&(positions[i+2]=xy[2])}}if(is3d){const xyArea=getPlaneArea(positions,0,1),xzArea=getPlaneArea(positions,0,2),yzArea=getPlaneArea(positions,1,2);if(!xyArea&&!xzArea&&!yzArea)return[];xyArea>xzArea&&xyArea>yzArea||(xzArea>yzArea?(preproject||(positions=positions.slice()),permutePositions(positions,0,2,1)):(preproject||(positions=positions.slice()),permutePositions(positions,2,0,1)))}return earcut__WEBPACK_IMPORTED_MODULE_0___default()(positions,holeIndices,positionSize)}},"./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/solid-polygon-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return SolidPolygonLayer}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js"),phong_lighting=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/phong-lighting/phong-lighting.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js"),constants=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js"),features=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/features/features.js"),webgl_features_table=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/features/webgl-features-table.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js"),solid_polygon_layer_polygon=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/solid-polygon-layer/polygon.js"),tesselator=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/tesselator.js"),esm=__webpack_require__("./node_modules/@math.gl/polygon/dist/esm/index.js");class PolygonTesselator extends tesselator.Z{constructor(opts){const{fp64:fp64,IndexType:IndexType=Uint32Array}=opts;super({...opts,attributes:{positions:{size:3,type:fp64?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:IndexType,size:1}}})}get(attributeName){const{attributes:attributes}=this;return"indices"===attributeName?attributes.indices&&attributes.indices.subarray(0,this.vertexCount):attributes[attributeName]}updateGeometry(opts){super.updateGeometry(opts);const externalIndices=this.buffers.indices;if(externalIndices)this.vertexCount=(externalIndices.value||externalIndices).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(polygon){if(this.normalize){const normalizedPolygon=solid_polygon_layer_polygon.Fv(polygon,this.positionSize);return this.opts.resolution?(0,esm.WZ)(solid_polygon_layer_polygon.k8(normalizedPolygon),solid_polygon_layer_polygon.Gd(normalizedPolygon),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?(0,esm.GU)(solid_polygon_layer_polygon.k8(normalizedPolygon),solid_polygon_layer_polygon.Gd(normalizedPolygon),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):normalizedPolygon}return polygon}getGeometrySize(polygon){if(isCut(polygon)){let size=0;for(const subPolygon of polygon)size+=this.getGeometrySize(subPolygon);return size}return solid_polygon_layer_polygon.k8(polygon).length/this.positionSize}getGeometryFromBuffer(buffer){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(buffer):null}updateGeometryAttributes(polygon,context){if(polygon&&isCut(polygon))for(const subPolygon of polygon){const geometrySize=this.getGeometrySize(subPolygon);context.geometrySize=geometrySize,this.updateGeometryAttributes(subPolygon,context),context.vertexStart+=geometrySize,context.indexStart=this.indexStarts[context.geometryIndex+1]}else this._updateIndices(polygon,context),this._updatePositions(polygon,context),this._updateVertexValid(polygon,context)}_updateIndices(polygon,{geometryIndex:geometryIndex,vertexStart:offset,indexStart:indexStart}){const{attributes:attributes,indexStarts:indexStarts,typedArrayManager:typedArrayManager}=this;let target=attributes.indices;if(!target||!polygon)return;let i=indexStart;const indices=solid_polygon_layer_polygon.mD(polygon,this.positionSize,this.opts.preproject,this.opts.full3d);target=typedArrayManager.allocate(target,indexStart+indices.length,{copy:!0});for(let j=0;j<indices.length;j++)target[i++]=indices[j]+offset;indexStarts[geometryIndex+1]=indexStart+indices.length,attributes.indices=target}_updatePositions(polygon,{vertexStart:vertexStart,geometrySize:geometrySize}){const{attributes:{positions:positions},positionSize:positionSize}=this;if(!positions||!polygon)return;const polygonPositions=solid_polygon_layer_polygon.k8(polygon);for(let i=vertexStart,j=0;j<geometrySize;i++,j++){const x=polygonPositions[j*positionSize],y=polygonPositions[j*positionSize+1],z=positionSize>2?polygonPositions[j*positionSize+2]:0;positions[3*i]=x,positions[3*i+1]=y,positions[3*i+2]=z}}_updateVertexValid(polygon,{vertexStart:vertexStart,geometrySize:geometrySize}){const{positionSize:positionSize}=this,vertexValid=this.attributes.vertexValid,holeIndices=polygon&&solid_polygon_layer_polygon.Gd(polygon);if(polygon&&polygon.edgeTypes?vertexValid.set(polygon.edgeTypes,vertexStart):vertexValid.fill(1,vertexStart,vertexStart+geometrySize),holeIndices)for(let j=0;j<holeIndices.length;j++)vertexValid[vertexStart+holeIndices[j]/positionSize-1]=0;vertexValid[vertexStart+geometrySize-1]=0}}function isCut(polygon){return Array.isArray(polygon)&&polygon.length>0&&!Number.isFinite(polygon[0])}var solid_polygon_layer_vertex_main_glsl="\nattribute vec2 vertexPositions;\nattribute float vertexValid;\n\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nstruct PolygonProps {\n  vec4 fillColors;\n  vec4 lineColors;\n  vec3 positions;\n  vec3 nextPositions;\n  vec3 pickingColors;\n  vec3 positions64Low;\n  vec3 nextPositions64Low;\n  float elevations;\n};\n\nvec3 project_offset_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\n  }\n  return project_normal(vector);\n}\n\nvoid calculatePosition(PolygonProps props) {\n#ifdef IS_SIDE_VERTEX\n  if(vertexValid < 0.5){\n    gl_Position = vec4(0.);\n    return;\n  }\n#endif\n\n  vec3 pos;\n  vec3 pos64Low;\n  vec3 normal;\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\n\n  geometry.worldPosition = props.positions;\n  geometry.worldPositionAlt = props.nextPositions;\n  geometry.pickingColor = props.pickingColors;\n\n#ifdef IS_SIDE_VERTEX\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\n#else\n  pos = props.positions;\n  pos64Low = props.positions64Low;\n#endif\n\n  if (extruded) {\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\n  }\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  if (extruded) {\n  #ifdef IS_SIDE_VERTEX\n    normal = vec3(\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\n      0.0);\n    normal = project_offset_normal(normal);\n  #else\n    normal = project_normal(vec3(0.0, 0.0, 1.0));\n  #endif\n    geometry.normal = normal;\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\n    vColor = vec4(lightColor, colors.a * opacity);\n  } else {\n    vColor = vec4(colors.rgb, colors.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",solid_polygon_layer_vertex_top_glsl="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\n".concat(solid_polygon_layer_vertex_main_glsl,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = positions;\n  props.positions64Low = positions64Low;\n  props.elevations = elevations;\n  props.fillColors = fillColors;\n  props.lineColors = lineColors;\n  props.pickingColors = pickingColors;\n\n  calculatePosition(props);\n}\n"),solid_polygon_layer_vertex_side_glsl="#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\n\n\nattribute vec3 instancePositions;\nattribute vec3 nextPositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 nextPositions64Low;\nattribute float instanceElevations;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\n".concat(solid_polygon_layer_vertex_main_glsl,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  #if RING_WINDING_ORDER_CW == 1\n    props.positions = instancePositions;\n    props.positions64Low = instancePositions64Low;\n    props.nextPositions = nextPositions;\n    props.nextPositions64Low = nextPositions64Low;\n  #else\n    props.positions = nextPositions;\n    props.positions64Low = nextPositions64Low;\n    props.nextPositions = instancePositions;\n    props.nextPositions64Low = instancePositions64Low;\n  #endif\n  props.elevations = instanceElevations;\n  props.fillColors = instanceFillColors;\n  props.lineColors = instanceLineColors;\n  props.pickingColors = instancePickingColors;\n\n  calculatePosition(props);\n}\n");const DEFAULT_COLOR=[0,0,0,255],defaultProps={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:f=>f.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:DEFAULT_COLOR},getLineColor:{type:"accessor",value:DEFAULT_COLOR},material:!0},ATTRIBUTE_TRANSITION={enter:(value,chunk)=>chunk.length?chunk.subarray(chunk.length-value.length):value};class SolidPolygonLayer extends lib_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}getShaders(type){return super.getShaders({vs:"top"===type?solid_polygon_layer_vertex_top_glsl:solid_polygon_layer_vertex_side_glsl,fs:"#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[project32.Z,phong_lighting.N,picking.Z]})}get wrapLongitude(){return!1}initializeState(){const{gl:gl,viewport:viewport}=this.context;let{coordinateSystem:coordinateSystem}=this.props;const{_full3d:_full3d}=this.props;let preproject;viewport.isGeospatial&&coordinateSystem===constants.COORDINATE_SYSTEM.DEFAULT&&(coordinateSystem=constants.COORDINATE_SYSTEM.LNGLAT),coordinateSystem===constants.COORDINATE_SYSTEM.LNGLAT&&(preproject=_full3d?viewport.projectPosition.bind(viewport):viewport.projectFlat.bind(viewport)),this.setState({numInstances:0,polygonTesselator:new PolygonTesselator({preproject:preproject,fp64:this.use64bitPositions(),IndexType:!gl||(0,features.ag)(gl,webgl_features_table.h.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});const attributeManager=this.getAttributeManager();attributeManager.remove(["instancePickingColors"]),attributeManager.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:true},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:ATTRIBUTE_TRANSITION,accessor:"getPolygon",update:this.calculatePositions,noAlloc:true,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:true},elevations:{size:1,transition:ATTRIBUTE_TRANSITION,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:ATTRIBUTE_TRANSITION,accessor:"getFillColor",defaultValue:DEFAULT_COLOR,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:ATTRIBUTE_TRANSITION,accessor:"getLineColor",defaultValue:DEFAULT_COLOR,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:(object,{index:index,target:value})=>this.encodePickingColor(object&&object.__source?object.__source.index:index,value),shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}getPickingInfo(params){const info=super.getPickingInfo(params),{index:index}=info,{data:data}=this.props;return data[0]&&data[0].__source&&(info.object=data.find((d=>d.__source.index===index))),info}disablePickingIndex(objectIndex){const{data:data}=this.props;if(data[0]&&data[0].__source)for(let i=0;i<data.length;i++)data[i].__source.index===objectIndex&&this._disablePickingIndex(i);else super.disablePickingIndex(objectIndex)}draw({uniforms:uniforms}){const{extruded:extruded,filled:filled,wireframe:wireframe,elevationScale:elevationScale}=this.props,{topModel:topModel,sideModel:sideModel,polygonTesselator:polygonTesselator}=this.state,renderUniforms={...uniforms,extruded:Boolean(extruded),elevationScale:elevationScale};sideModel&&(sideModel.setInstanceCount(polygonTesselator.instanceCount-1),sideModel.setUniforms(renderUniforms),wireframe&&(sideModel.setDrawMode(3),sideModel.setUniforms({isWireframe:!0}).draw()),filled&&(sideModel.setDrawMode(6),sideModel.setUniforms({isWireframe:!1}).draw())),topModel&&(topModel.setVertexCount(polygonTesselator.vertexCount),topModel.setUniforms(renderUniforms).draw())}updateState(updateParams){super.updateState(updateParams),this.updateGeometry(updateParams);const{props:props,oldProps:oldProps,changeFlags:changeFlags}=updateParams,attributeManager=this.getAttributeManager();var _this$state$models;(changeFlags.extensionsChanged||props.filled!==oldProps.filled||props.extruded!==oldProps.extruded)&&(null===(_this$state$models=this.state.models)||void 0===_this$state$models||_this$state$models.forEach((model=>model.delete())),this.setState(this._getModels(this.context.gl)),attributeManager.invalidateAll())}updateGeometry({props:props,oldProps:oldProps,changeFlags:changeFlags}){if(changeFlags.dataChanged||changeFlags.updateTriggersChanged&&(changeFlags.updateTriggersChanged.all||changeFlags.updateTriggersChanged.getPolygon)){const{polygonTesselator:polygonTesselator}=this.state,buffers=props.data.attributes||{};polygonTesselator.updateGeometry({data:props.data,normalize:props._normalize,geometryBuffer:buffers.getPolygon,buffers:buffers,getGeometry:props.getPolygon,positionFormat:props.positionFormat,wrapLongitude:props.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:changeFlags.dataChanged,full3d:props._full3d}),this.setState({numInstances:polygonTesselator.instanceCount,startIndices:polygonTesselator.vertexStarts}),changeFlags.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(gl){const{id:id,filled:filled,extruded:extruded}=this.props;let topModel,sideModel;if(filled){const shaders=this.getShaders("top");shaders.defines.NON_INSTANCED_MODEL=1,topModel=new model.Z(gl,{...shaders,id:"".concat(id,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0})}return extruded&&(sideModel=new model.Z(gl,{...this.getShaders("side"),id:"".concat(id,"-side"),geometry:new geometry.Z({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}),sideModel.userData.excludeAttributes={indices:!0}),{models:[sideModel,topModel].filter(Boolean),topModel:topModel,sideModel:sideModel}}calculateIndices(attribute){const{polygonTesselator:polygonTesselator}=this.state;attribute.startIndices=polygonTesselator.indexStarts,attribute.value=polygonTesselator.get("indices")}calculatePositions(attribute){const{polygonTesselator:polygonTesselator}=this.state;attribute.startIndices=polygonTesselator.vertexStarts,attribute.value=polygonTesselator.get("positions")}calculateVertexValid(attribute){attribute.value=this.state.polygonTesselator.get("vertexValid")}}(0,defineProperty.Z)(SolidPolygonLayer,"defaultProps",defaultProps),(0,defineProperty.Z)(SolidPolygonLayer,"layerName","SolidPolygonLayer")},"./node_modules/@deck.gl/layers/dist/esm/utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function replaceInRange({data:data,getIndex:getIndex,dataRange:dataRange,replace:replace}){const{startRow:startRow=0,endRow:endRow=1/0}=dataRange,count=data.length;let replaceStart=count,replaceEnd=count;for(let i=0;i<count;i++){const row=getIndex(data[i]);if(replaceStart>i&&row>=startRow&&(replaceStart=i),row>=endRow){replaceEnd=i;break}}let index=replaceStart;const endChunk=replaceEnd-replaceStart!==replace.length?data.slice(replaceEnd):void 0;for(let i=0;i<replace.length;i++)data[index++]=replace[i];if(endChunk){for(let i=0;i<endChunk.length;i++)data[index++]=endChunk[i];data.length=index}return{startRow:replaceStart,endRow:replaceStart+replace.length}}__webpack_require__.d(__webpack_exports__,{b:function(){return replaceInRange}})},"./node_modules/@deck.gl/mesh-layers/dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ScenegraphLayer:function(){return _scenegraph_layer_scenegraph_layer__WEBPACK_IMPORTED_MODULE_1__.Z},SimpleMeshLayer:function(){return _simple_mesh_layer_simple_mesh_layer__WEBPACK_IMPORTED_MODULE_0__.Z}});var _simple_mesh_layer_simple_mesh_layer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/esm/simple-mesh-layer/simple-mesh-layer.js"),_scenegraph_layer_scenegraph_layer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/esm/scenegraph-layer/scenegraph-layer.js")},"./node_modules/@deck.gl/mesh-layers/dist/esm/scenegraph-layer/scenegraph-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return ScenegraphLayer}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js"),log=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/log.js"),esm=__webpack_require__("./node_modules/@luma.gl/gltools/dist/esm/index.js"),pbr=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/pbr/pbr.js"),vector3=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/vector3.js"),matrix4=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/matrix4.js"),utils=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/utils/utils.js"),assert=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/utils/assert.js");class ScenegraphNode{constructor(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:id}=props;this.id=id||(0,utils.hQ)(this.constructor.name),this.display=!0,this.position=new vector3.Z,this.rotation=new vector3.Z,this.scale=new vector3.Z(1,1,1),this.matrix=new matrix4.Z,this.userData={},this.props={},this._setScenegraphNodeProps(props)}delete(){}setProps(props){return this._setScenegraphNodeProps(props),this}toString(){return"{type: ScenegraphNode, id: ".concat(this.id,")}")}getBounds(){return null}setPosition(position){return(0,assert.h)(3===position.length,"setPosition requires vector argument"),this.position=position,this}setRotation(rotation){return(0,assert.h)(3===rotation.length,"setRotation requires vector argument"),this.rotation=rotation,this}setScale(scale){return(0,assert.h)(3===scale.length,"setScale requires vector argument"),this.scale=scale,this}setMatrix(matrix){!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?this.matrix.copy(matrix):this.matrix=matrix}setMatrixComponents(_ref){let{position:position,rotation:rotation,scale:scale,update:update=!0}=_ref;return position&&this.setPosition(position),rotation&&this.setRotation(rotation),scale&&this.setScale(scale),update&&this.updateMatrix(),this}updateMatrix(){const pos=this.position,rot=this.rotation,scale=this.scale;return this.matrix.identity(),this.matrix.translate(pos),this.matrix.rotateXYZ(rot),this.matrix.scale(scale),this}update(){let options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{position:position,rotation:rotation,scale:scale}=options;return position&&this.setPosition(position),rotation&&this.setRotation(rotation),scale&&this.setScale(scale),this.updateMatrix(),this}getCoordinateUniforms(viewMatrix,modelMatrix){(0,assert.h)(viewMatrix),modelMatrix=modelMatrix||this.matrix;const worldMatrix=new matrix4.Z(viewMatrix).multiplyRight(modelMatrix),worldInverse=worldMatrix.invert(),worldInverseTranspose=worldInverse.transpose();return{viewMatrix:viewMatrix,modelMatrix:modelMatrix,objectMatrix:modelMatrix,worldMatrix:worldMatrix,worldInverseMatrix:worldInverse,worldInverseTransposeMatrix:worldInverseTranspose}}_setScenegraphNodeProps(props){"display"in props&&(this.display=props.display),"position"in props&&this.setPosition(props.position),"rotation"in props&&this.setRotation(props.rotation),"scale"in props&&this.setScale(props.scale),"matrix"in props&&this.setMatrix(props.matrix),Object.assign(this.props,props)}}var buffer=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/buffer.js"),classes_accessor=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/accessor.js");class GroupNode extends ScenegraphNode{constructor(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};props=Array.isArray(props)?{children:props}:props;const{children:children=[]}=props;esm.cM.assert(children.every((child=>child instanceof ScenegraphNode)),"every child must an instance of ScenegraphNode"),super(props),this.children=children}add(){for(var _len=arguments.length,children=new Array(_len),_key=0;_key<_len;_key++)children[_key]=arguments[_key];for(const child of children)Array.isArray(child)?this.add(...child):this.children.push(child);return this}remove(child){const children=this.children,indexOf=children.indexOf(child);return indexOf>-1&&children.splice(indexOf,1),this}removeAll(){return this.children=[],this}delete(){this.children.forEach((child=>child.delete())),this.removeAll(),super.delete()}getBounds(){const result=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];return this.traverse(((node,_ref)=>{let{worldMatrix:worldMatrix}=_ref;const bounds=node.getBounds();if(!bounds)return;const[min,max]=bounds,center=new vector3.Z(min).add(max).divide([2,2,2]);worldMatrix.transformAsPoint(center,center);const halfSize=new vector3.Z(max).subtract(min).divide([2,2,2]);worldMatrix.transformAsVector(halfSize,halfSize);for(let v=0;v<8;v++){const position=new vector3.Z(1&v?-1:1,2&v?-1:1,4&v?-1:1).multiply(halfSize).add(center);for(let i=0;i<3;i++)result[0][i]=Math.min(result[0][i],position[i]),result[1][i]=Math.max(result[1][i],position[i])}})),Number.isFinite(result[0][0])?result:null}traverse(visitor){let{worldMatrix:worldMatrix=new matrix4.Z}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const modelMatrix=new matrix4.Z(worldMatrix).multiplyRight(this.matrix);for(const child of this.children)child instanceof GroupNode?child.traverse(visitor,{worldMatrix:modelMatrix}):visitor(child,{worldMatrix:modelMatrix})}}var quaternion=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/quaternion.js");const ATTRIBUTE_TYPE_TO_COMPONENTS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function accessorToJsArray(accessor){if(!accessor._animation){const ArrayType=ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[accessor.componentType],components=ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type],length=components*accessor.count,{buffer:buffer,byteOffset:byteOffset}=accessor.bufferView.data,array=new ArrayType(buffer,byteOffset+(accessor.byteOffset||0),length);if(1===components)accessor._animation=Array.from(array);else{const slicedArray=[];for(let i=0;i<array.length;i+=components)slicedArray.push(Array.from(array.slice(i,i+components)));accessor._animation=slicedArray}}return accessor._animation}const helperMatrix=new matrix4.Z;const gltf_animator_quaternion=new quaternion.Z;function interpolate(time,_ref2,target,path){let{input:input,interpolation:interpolation,output:output}=_ref2;const animationTime=time%input[input.length-1],nextIndex=input.findIndex((t=>t>=animationTime)),previousIndex=Math.max(0,nextIndex-1);if(!Array.isArray(target[path]))switch(path){case"translation":target[path]=[0,0,0];break;case"rotation":target[path]=[0,0,0,1];break;case"scale":target[path]=[1,1,1];break;default:esm.cM.warn("Bad animation path ".concat(path))()}(0,assert.h)(target[path].length===output[previousIndex].length);const previousTime=input[previousIndex],nextTime=input[nextIndex];switch(interpolation){case"STEP":!function stepInterpolate(target,path,value){for(let i=0;i<value.length;i++)target[path][i]=value[i]}(target,path,output[previousIndex]);break;case"LINEAR":if(nextTime>previousTime){const ratio=(animationTime-previousTime)/(nextTime-previousTime);!function linearInterpolate(target,path,start,stop,ratio){if("rotation"===path){gltf_animator_quaternion.slerp({start:start,target:stop,ratio:ratio});for(let i=0;i<gltf_animator_quaternion.length;i++)target[path][i]=gltf_animator_quaternion[i]}else for(let i=0;i<start.length;i++)target[path][i]=ratio*stop[i]+(1-ratio)*start[i]}(target,path,output[previousIndex],output[nextIndex],ratio)}break;case"CUBICSPLINE":if(nextTime>previousTime){const ratio=(animationTime-previousTime)/(nextTime-previousTime),tDiff=nextTime-previousTime;!function cubicsplineInterpolate(target,path,_ref){let{p0:p0,outTangent0:outTangent0,inTangent1:inTangent1,p1:p1,tDiff:tDiff,ratio:t}=_ref;for(let i=0;i<target[path].length;i++){const m0=outTangent0[i]*tDiff,m1=inTangent1[i]*tDiff;target[path][i]=(2*Math.pow(t,3)-3*Math.pow(t,2)+1)*p0[i]+(Math.pow(t,3)-2*Math.pow(t,2)+t)*m0+(-2*Math.pow(t,3)+3*Math.pow(t,2))*p1[i]+(Math.pow(t,3)-Math.pow(t,2))*m1}}(target,path,{p0:output[3*previousIndex+1],outTangent0:output[3*previousIndex+2],inTangent1:output[3*nextIndex+0],p1:output[3*nextIndex+1],tDiff:tDiff,ratio:ratio})}break;default:esm.cM.warn("Interpolation ".concat(interpolation," not supported"))()}}class GLTFAnimation{constructor(props){this.startTime=0,this.playing=!0,this.speed=1,this.channels=[],Object.assign(this,props)}animate(timeMs){if(!this.playing)return;const time=(timeMs/1e3-this.startTime)*this.speed;this.channels.forEach((_ref3=>{let{sampler:sampler,target:target,path:path}=_ref3;interpolate(time,sampler,target,path),function applyTranslationRotationScale(gltfNode,node){if(node.matrix.identity(),gltfNode.translation&&node.matrix.translate(gltfNode.translation),gltfNode.rotation){const rotationMatrix=helperMatrix.fromQuaternion(gltfNode.rotation);node.matrix.multiplyRight(rotationMatrix)}gltfNode.scale&&node.matrix.scale(gltfNode.scale)}(target,target._node)}))}}class GLTFAnimator{constructor(gltf){this.animations=gltf.animations.map(((animation,index)=>{const name=animation.name||"Animation-".concat(index),samplers=animation.samplers.map((_ref4=>{let{input:input,interpolation:interpolation="LINEAR",output:output}=_ref4;return{input:accessorToJsArray(gltf.accessors[input]),interpolation:interpolation,output:accessorToJsArray(gltf.accessors[output])}})),channels=animation.channels.map((_ref5=>{let{sampler:sampler,target:target}=_ref5;return{sampler:samplers[sampler],target:gltf.nodes[target.node],path:target.path}}));return new GLTFAnimation({name:name,channels:channels})}))}animate(time){this.setTime(time)}setTime(time){this.animations.forEach((animation=>animation.animate(time)))}getAnimations(){return this.animations}}var model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js");class ModelNode extends ScenegraphNode{constructor(gl){let props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(props),this.onBeforeRender=null,this.AfterRender=null,gl instanceof model.Z?(this.model=gl,this._setModelNodeProps(props)):this.model=new model.Z(gl,props),this.bounds=null,this.managedResources=props.managedResources||[]}setProps(props){return super.setProps(props),this._setModelNodeProps(props),this}getBounds(){return this.bounds}delete(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach((resource=>resource.delete())),this.managedResources=[]}draw(){return this.model.draw(...arguments)}setUniforms(){return this.model.setUniforms(...arguments),this}setAttributes(){return this.model.setAttributes(...arguments),this}updateModuleSettings(){return this.model.updateModuleSettings(...arguments),this}_setModelNodeProps(props){this.model.setProps(props)}}var gltf_material_parser=__webpack_require__("./node_modules/@luma.gl/experimental/dist/esm/gltf/gltf-material-parser.js");function addVersionToShader(gl,source){return(0,esm.D0)(gl)?"#version 300 es\n".concat(source):source}const gltf_instantiator_ATTRIBUTE_TYPE_TO_COMPONENTS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},DEFAULT_OPTIONS={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1};class GLTFInstantiator{constructor(gl){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=gl,this.options=Object.assign({},DEFAULT_OPTIONS,options)}instantiate(gltf){this.gltf=gltf;return(gltf.scenes||[]).map((scene=>this.createScene(scene)))}createAnimator(){return Array.isArray(this.gltf.animations)?new GLTFAnimator(this.gltf):null}createScene(gltfScene){const nodes=(gltfScene.nodes||[]).map((node=>this.createNode(node)));return new GroupNode({id:gltfScene.name||gltfScene.id,children:nodes})}createNode(gltfNode){if(!gltfNode._node){const children=(gltfNode.children||[]).map((child=>this.createNode(child)));gltfNode.mesh&&children.push(this.createMesh(gltfNode.mesh));const node=new GroupNode({id:gltfNode.name||gltfNode.id,children:children});if(gltfNode.matrix)node.setMatrix(gltfNode.matrix);else{if(node.matrix.identity(),gltfNode.translation&&node.matrix.translate(gltfNode.translation),gltfNode.rotation){const rotationMatrix=(new matrix4.Z).fromQuaternion(gltfNode.rotation);node.matrix.multiplyRight(rotationMatrix)}gltfNode.scale&&node.matrix.scale(gltfNode.scale)}gltfNode._node=node}return gltfNode._node}createMesh(gltfMesh){if(!gltfMesh._mesh){const primitives=(gltfMesh.primitives||[]).map(((gltfPrimitive,i)=>this.createPrimitive(gltfPrimitive,i,gltfMesh))),mesh=new GroupNode({id:gltfMesh.name||gltfMesh.id,children:primitives});gltfMesh._mesh=mesh}return gltfMesh._mesh}getVertexCount(attributes){esm.cM.warn("getVertexCount() not found")()}createPrimitive(gltfPrimitive,i,gltfMesh){const model=function createGLTFModel(gl,options){const{id:id,drawMode:drawMode,vertexCount:vertexCount,attributes:attributes,modelOptions:modelOptions}=options,materialParser=new gltf_material_parser.Z(gl,options);esm.cM.info(4,"createGLTFModel defines: ",materialParser.defines)();const managedResources=[];managedResources.push(...materialParser.generatedTextures),managedResources.push(...Object.values(attributes).map((attribute=>attribute.buffer)));const model=new ModelNode(gl,Object.assign({id:id,drawMode:drawMode,vertexCount:vertexCount,modules:[pbr.b],defines:materialParser.defines,parameters:materialParser.parameters,vs:addVersionToShader(gl,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:addVersionToShader(gl,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:managedResources},modelOptions));return model.setProps({attributes:attributes}),model.setUniforms(materialParser.uniforms),model}(this.gl,Object.assign({id:gltfPrimitive.name||"".concat(gltfMesh.name||gltfMesh.id,"-primitive-").concat(i),drawMode:gltfPrimitive.mode||4,vertexCount:gltfPrimitive.indices?gltfPrimitive.indices.count:this.getVertexCount(gltfPrimitive.attributes),attributes:this.createAttributes(gltfPrimitive.attributes,gltfPrimitive.indices),material:gltfPrimitive.material},this.options));return model.bounds=[gltfPrimitive.attributes.POSITION.min,gltfPrimitive.attributes.POSITION.max],model}createAttributes(attributes,indices){const loadedAttributes={};return Object.keys(attributes).forEach((attrName=>{loadedAttributes[attrName]=this.createAccessor(attributes[attrName],this.createBuffer(attributes[attrName],this.gl.ARRAY_BUFFER))})),indices&&(loadedAttributes.indices=this.createAccessor(indices,this.createBuffer(indices,this.gl.ELEMENT_ARRAY_BUFFER))),esm.cM.info(4,"glTF Attributes",{attributes:attributes,indices:indices,generated:loadedAttributes})(),loadedAttributes}createBuffer(attribute,target){attribute.bufferView||(attribute.bufferView={});const{bufferView:bufferView}=attribute;return bufferView.lumaBuffers||(bufferView.lumaBuffers={}),bufferView.lumaBuffers[target]||(bufferView.lumaBuffers[target]=new buffer.Z(this.gl,{id:"from-".concat(bufferView.id),data:bufferView.data||attribute.value,target:target})),bufferView.lumaBuffers[target]}createAccessor(accessor,buffer){return new classes_accessor.Z({buffer:buffer,offset:accessor.byteOffset||0,stride:accessor.bufferView.byteStride||0,type:accessor.componentType,size:gltf_instantiator_ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type]})}createSampler(gltfSampler){return gltfSampler}needsPOT(){return!1}}var gltf_loader=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/esm/gltf-loader.js");async function waitForGLTFAssets(gltfObjects){const remaining=[];return gltfObjects.scenes.forEach((scene=>{scene.traverse((model=>{Object.values(model.model.getUniforms()).forEach((uniform=>{!1===uniform.loaded&&remaining.push(uniform)}))}))})),await async function waitWhileCondition(condition){for(;condition();)await new Promise((resolve=>requestAnimationFrame(resolve)))}((()=>remaining.some((uniform=>!uniform.loaded))))}var matrix=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/esm/utils/matrix.js");const DEFAULT_COLOR=[255,255,255,255],defaultProps={scenegraph:{type:"object",value:null,async:!0},getScene:gltf=>gltf&&gltf.scenes?"object"==typeof gltf.scene?gltf.scene:gltf.scenes[gltf.scene||0]:gltf,getAnimator:scenegraph=>scenegraph&&scenegraph.animator,_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:x=>x.position},getColor:{type:"accessor",value:DEFAULT_COLOR},_lighting:"flat",_imageBasedLightingEnvironment:null,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[gltf_loader.E]};class ScenegraphLayer extends lib_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}getShaders(){const modules=[project32.Z,picking.Z];return"pbr"===this.props._lighting&&modules.push(pbr.b),{vs:"#version 300 es\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\nin vec4 POSITION;\n\n#ifdef HAS_UV\n  in vec2 TEXCOORD_0;\n#endif\n\n#ifdef MODULE_PBR\n  #ifdef HAS_NORMALS\n    in vec4 NORMAL;\n  #endif\n#endif\nout vec4 vColor;\n#ifndef MODULE_PBR\n  #ifdef HAS_UV\n    out vec2 vTEXCOORD_0;\n  #endif\n#endif\nvoid main(void) {\n  #if defined(HAS_UV) && !defined(MODULE_PBR)\n    vTEXCOORD_0 = TEXCOORD_0;\n    geometry.uv = vTEXCOORD_0;\n  #endif\n\n  geometry.worldPosition = instancePositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec3 normal = vec3(0.0, 0.0, 1.0);\n  #ifdef MODULE_PBR\n    #ifdef HAS_NORMALS\n      normal = instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz;\n    #endif\n  #endif\n\n  float originalSize = project_size_to_pixel(sizeScale);\n  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\n\n  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\n  if(composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    geometry.normal = project_normal(normal);\n    geometry.worldPosition += pos;\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\n    geometry.normal = project_normal(normal);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = TEXCOORD_0;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\nuniform float opacity;\nin vec4 vColor;\n\nout vec4 fragmentColor;\n#ifndef MODULE_PBR\n  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n    in vec2 vTEXCOORD_0;\n    uniform sampler2D u_BaseColorSampler;\n  #endif\n#endif\n\nvoid main(void) {\n  #ifdef MODULE_PBR\n    fragmentColor = vColor * pbr_filterColor(vec4(0));\n    geometry.uv = pbr_vUV;\n  #else\n    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);\n      geometry.uv = vTEXCOORD_0;\n    #else\n      fragmentColor = vColor;\n    #endif\n  #endif\n\n  fragmentColor.a *= opacity;\n  DECKGL_FILTER_COLOR(fragmentColor, geometry);\n}\n",modules:modules}}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:5121,size:this.props.colorFormat.length,accessor:"getColor",normalized:!0,defaultValue:DEFAULT_COLOR,transition:!0},instanceModelMatrix:matrix.P})}updateState(params){super.updateState(params);const{props:props,oldProps:oldProps}=params;props.scenegraph!==oldProps.scenegraph?this._updateScenegraph():props._animations!==oldProps._animations&&this._applyAnimationsProp(this.state.scenegraph,this.state.animator,props._animations)}finalizeState(context){super.finalizeState(context),this._deleteScenegraph()}_updateScenegraph(){const props=this.props,{gl:gl}=this.context;let scenegraphData=null;if(props.scenegraph instanceof ScenegraphNode)scenegraphData={scenes:[props.scenegraph]};else if(props.scenegraph&&!props.scenegraph.gltf){const gltf=props.scenegraph,gltfObjects=function createGLTFObjects(gl,gltf,options){const instantiator=new GLTFInstantiator(gl,options);return{scenes:instantiator.instantiate(gltf),animator:instantiator.createAnimator()}}(gl,gltf,this._getModelOptions());scenegraphData={gltf:gltf,...gltfObjects},waitForGLTFAssets(gltfObjects).then((()=>this.setNeedsRedraw()))}else props.scenegraph&&(log.Z.deprecated("ScenegraphLayer.props.scenegraph","Use GLTFLoader instead of GLTFScenegraphLoader")(),scenegraphData=props.scenegraph);const options={layer:this,gl:gl},scenegraph=props.getScene(scenegraphData,options),animator=props.getAnimator(scenegraphData,options);scenegraph instanceof ScenegraphNode?(this._deleteScenegraph(),this._applyAllAttributes(scenegraph),this._applyAnimationsProp(scenegraph,animator,props._animations),this.setState({scenegraph:scenegraph,animator:animator})):null!==scenegraph&&log.Z.warn("invalid scenegraph:",scenegraph)()}_applyAllAttributes(scenegraph){if(this.state.attributesAvailable){const allAttributes=this.getAttributeManager().getAttributes();scenegraph.traverse((model=>{this._setModelAttributes(model.model,allAttributes)}))}}_applyAnimationsProp(scenegraph,animator,animationsProp){if(!scenegraph||!animator||!animationsProp)return;const animations=animator.getAnimations();Object.keys(animationsProp).sort().forEach((key=>{const value=animationsProp[key];if("*"===key)animations.forEach((animation=>{Object.assign(animation,value)}));else if(Number.isFinite(Number(key))){const number=Number(key);number>=0&&number<animations.length?Object.assign(animations[number],value):log.Z.warn("animation ".concat(key," not found"))()}else{const findResult=animations.find((({name:name})=>name===key));findResult?Object.assign(findResult,value):log.Z.warn("animation ".concat(key," not found"))()}}))}_deleteScenegraph(){const{scenegraph:scenegraph}=this.state;scenegraph instanceof ScenegraphNode&&scenegraph.delete()}_getModelOptions(){const{_imageBasedLightingEnvironment:_imageBasedLightingEnvironment}=this.props;let env=null;return _imageBasedLightingEnvironment&&(env="function"==typeof _imageBasedLightingEnvironment?_imageBasedLightingEnvironment({gl:this.context.gl,layer:this}):_imageBasedLightingEnvironment),{gl:this.context.gl,waitForFullLoad:!0,imageBasedLightingEnvironment:env,modelOptions:{isInstanced:!0,transpileToGLSL100:!(0,esm.D0)(this.context.gl),...this.getShaders()},useTangents:!1}}updateAttributes(changedAttributes){this.setState({attributesAvailable:!0}),this.state.scenegraph&&this.state.scenegraph.traverse((model=>{this._setModelAttributes(model.model,changedAttributes)}))}draw({moduleParameters:moduleParameters=null,parameters:parameters={},context:context}){if(!this.state.scenegraph)return;this.props._animations&&this.state.animator&&(this.state.animator.animate(context.timeline.getTime()),this.setNeedsRedraw());const{viewport:viewport}=this.context,{sizeScale:sizeScale,sizeMinPixels:sizeMinPixels,sizeMaxPixels:sizeMaxPixels,opacity:opacity,coordinateSystem:coordinateSystem}=this.props,numInstances=this.getNumInstances();this.state.scenegraph.traverse(((model,{worldMatrix:worldMatrix})=>{model.model.setInstanceCount(numInstances),model.updateModuleSettings(moduleParameters),model.draw({parameters:parameters,uniforms:{sizeScale:sizeScale,opacity:opacity,sizeMinPixels:sizeMinPixels,sizeMaxPixels:sizeMaxPixels,composeModelMatrix:(0,matrix.X)(viewport,coordinateSystem),sceneModelMatrix:worldMatrix,u_Camera:model.model.getUniforms().project_uCameraPosition}})}))}}(0,defineProperty.Z)(ScenegraphLayer,"defaultProps",defaultProps),(0,defineProperty.Z)(ScenegraphLayer,"layerName","ScenegraphLayer")},"./node_modules/@deck.gl/mesh-layers/dist/esm/simple-mesh-layer/simple-mesh-layer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return SimpleMeshLayer}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),log=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/log.js"),lib_layer=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/layer.js"),project32=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js"),phong_lighting=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/phong-lighting/phong-lighting.js"),picking=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js"),esm=__webpack_require__("./node_modules/@luma.gl/gltools/dist/esm/index.js"),texture_2d=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/texture-2d.js"),lib_model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),features=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/features/features.js"),webgl_features_table=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/features/webgl-features-table.js"),matrix=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/esm/utils/matrix.js"),mesh_utils=__webpack_require__("./node_modules/@loaders.gl/schema/dist/esm/category/mesh/mesh-utils.js");function validateGeometryAttributes(attributes,useMeshColors){(attributes.COLOR_0||attributes.colors)&&useMeshColors||(attributes.colors={constant:!0,value:new Float32Array([1,1,1])}),log.Z.assert(attributes.positions||attributes.POSITION,'no "postions" or "POSITION" attribute in mesh')}function getGeometry(data,useMeshColors){if(data.attributes)return validateGeometryAttributes(data.attributes,useMeshColors),data instanceof geometry.Z?data:new geometry.Z(data);if(data.positions||data.POSITION)return validateGeometryAttributes(data,useMeshColors),new geometry.Z({attributes:data});throw Error("Invalid mesh")}const defaultProps={mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:x=>x.position},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},textureParameters:{type:"object",ignore:!0}};class SimpleMeshLayer extends lib_layer.Z{constructor(...args){super(...args),(0,defineProperty.Z)(this,"state",void 0)}getShaders(){const transpileToGLSL100=!(0,esm.D0)(this.context.gl),defines={};return(0,features.U6)(this.context.gl,webgl_features_table.h.GLSL_DERIVATIVES)&&(defines.DERIVATIVES_AVAILABLE=1),super.getShaders({vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    geometry.worldPosition += pos;\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  DECKGL_FILTER_COLOR(color, geometry);\n\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n}\n",modules:[project32.Z,phong_lighting.s,picking.Z],transpileToGLSL100:transpileToGLSL100,defines:defines})}getBounds(){var _mesh$header;if(this.props._instanced)return super.getBounds();let result=this.state.positionBounds;if(result)return result;const{mesh:mesh}=this.props;if(!mesh)return null;if(result=null===(_mesh$header=mesh.header)||void 0===_mesh$header?void 0:_mesh$header.boundingBox,!result){const{attributes:attributes}=getGeometry(mesh,this.props._useMeshColors);attributes.POSITION=attributes.POSITION||attributes.positions,result=(0,mesh_utils.v)(attributes)}return this.state.positionBounds=result,result}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:matrix.P}),this.setState({emptyTexture:new texture_2d.Z(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}updateState(params){super.updateState(params);const{props:props,oldProps:oldProps,changeFlags:changeFlags}=params;if(props.mesh!==oldProps.mesh||changeFlags.extensionsChanged){var _this$state$model;if(this.state.positionBounds=null,null===(_this$state$model=this.state.model)||void 0===_this$state$model||_this$state$model.delete(),props.mesh){this.state.model=this.getModel(props.mesh);const attributes=props.mesh.attributes||props.mesh;this.setState({hasNormals:Boolean(attributes.NORMAL||attributes.normals)})}this.getAttributeManager().invalidateAll()}props.texture!==oldProps.texture&&this.setTexture(props.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}finalizeState(context){super.finalizeState(context),this.state.emptyTexture.delete()}draw({uniforms:uniforms}){if(!this.state.model)return;const{viewport:viewport}=this.context,{sizeScale:sizeScale,coordinateSystem:coordinateSystem,_instanced:_instanced}=this.props;this.state.model.setUniforms(uniforms).setUniforms({sizeScale:sizeScale,composeModelMatrix:!_instanced||(0,matrix.X)(viewport,coordinateSystem),flatShading:!this.state.hasNormals}).draw()}getModel(mesh){const model=new lib_model.Z(this.context.gl,{...this.getShaders(),id:this.props.id,geometry:getGeometry(mesh,this.props._useMeshColors),isInstanced:!0}),{texture:texture}=this.props,{emptyTexture:emptyTexture}=this.state;return model.setUniforms({sampler:texture||emptyTexture,hasTexture:Boolean(texture)}),model}setTexture(texture){const{emptyTexture:emptyTexture,model:model}=this.state;model&&model.setUniforms({sampler:texture||emptyTexture,hasTexture:Boolean(texture)})}}(0,defineProperty.Z)(SimpleMeshLayer,"defaultProps",defaultProps),(0,defineProperty.Z)(SimpleMeshLayer,"layerName","SimpleMeshLayer")},"./node_modules/@deck.gl/mesh-layers/dist/esm/utils/matrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return MATRIX_ATTRIBUTES},X:function(){return shouldComposeModelMatrix}});var _deck_gl_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/utils/iterable-utils.js"),_deck_gl_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/lib/constants.js");const RADIAN_PER_DEGREE=Math.PI/180,modelMatrix=new Float32Array(16),valueArray=new Float32Array(12);function calculateTransformMatrix(targetMatrix,orientation,scale){const pitch=orientation[0]*RADIAN_PER_DEGREE,yaw=orientation[1]*RADIAN_PER_DEGREE,roll=orientation[2]*RADIAN_PER_DEGREE,sr=Math.sin(roll),sp=Math.sin(pitch),sw=Math.sin(yaw),cr=Math.cos(roll),cp=Math.cos(pitch),cw=Math.cos(yaw),scx=scale[0],scy=scale[1],scz=scale[2];targetMatrix[0]=scx*cw*cp,targetMatrix[1]=scx*sw*cp,targetMatrix[2]=scx*-sp,targetMatrix[3]=scy*(-sw*cr+cw*sp*sr),targetMatrix[4]=scy*(cw*cr+sw*sp*sr),targetMatrix[5]=scy*cp*sr,targetMatrix[6]=scz*(sw*sr+cw*sp*cr),targetMatrix[7]=scz*(-cw*sr+sw*sp*cr),targetMatrix[8]=scz*cp*cr}function getExtendedMat3FromMat4(mat4){return mat4[0]=mat4[0],mat4[1]=mat4[1],mat4[2]=mat4[2],mat4[3]=mat4[4],mat4[4]=mat4[5],mat4[5]=mat4[6],mat4[6]=mat4[8],mat4[7]=mat4[9],mat4[8]=mat4[10],mat4[9]=mat4[12],mat4[10]=mat4[13],mat4[11]=mat4[14],mat4.subarray(0,12)}const MATRIX_ATTRIBUTES={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(attribute,{startRow:startRow,endRow:endRow}){const{data:data,getOrientation:getOrientation,getScale:getScale,getTranslation:getTranslation,getTransformMatrix:getTransformMatrix}=this.props,arrayMatrix=Array.isArray(getTransformMatrix),constantMatrix=arrayMatrix&&16===getTransformMatrix.length,constantScale=Array.isArray(getScale),constantOrientation=Array.isArray(getOrientation),constantTranslation=Array.isArray(getTranslation),hasMatrix=constantMatrix||!arrayMatrix&&Boolean(getTransformMatrix(data[0]));attribute.constant=hasMatrix?constantMatrix:constantOrientation&&constantScale&&constantTranslation;const instanceModelMatrixData=attribute.value;if(attribute.constant){let matrix;if(hasMatrix)modelMatrix.set(getTransformMatrix),matrix=getExtendedMat3FromMat4(modelMatrix);else{matrix=valueArray;calculateTransformMatrix(matrix,getOrientation,getScale),matrix.set(getTranslation,9)}attribute.value=new Float32Array(matrix)}else{let i=startRow*attribute.size;const{iterable:iterable,objectInfo:objectInfo}=(0,_deck_gl_core__WEBPACK_IMPORTED_MODULE_0__.jB)(data,startRow,endRow);for(const object of iterable){let matrix;if(objectInfo.index++,hasMatrix)modelMatrix.set(constantMatrix?getTransformMatrix:getTransformMatrix(object,objectInfo)),matrix=getExtendedMat3FromMat4(modelMatrix);else{matrix=valueArray;calculateTransformMatrix(matrix,constantOrientation?getOrientation:getOrientation(object,objectInfo),constantScale?getScale:getScale(object,objectInfo)),matrix.set(constantTranslation?getTranslation:getTranslation(object,objectInfo),9)}instanceModelMatrixData[i++]=matrix[0],instanceModelMatrixData[i++]=matrix[1],instanceModelMatrixData[i++]=matrix[2],instanceModelMatrixData[i++]=matrix[3],instanceModelMatrixData[i++]=matrix[4],instanceModelMatrixData[i++]=matrix[5],instanceModelMatrixData[i++]=matrix[6],instanceModelMatrixData[i++]=matrix[7],instanceModelMatrixData[i++]=matrix[8],instanceModelMatrixData[i++]=matrix[9],instanceModelMatrixData[i++]=matrix[10],instanceModelMatrixData[i++]=matrix[11]}}}};function shouldComposeModelMatrix(viewport,coordinateSystem){return coordinateSystem===_deck_gl_core__WEBPACK_IMPORTED_MODULE_1__.COORDINATE_SYSTEM.CARTESIAN||coordinateSystem===_deck_gl_core__WEBPACK_IMPORTED_MODULE_1__.COORDINATE_SYSTEM.METER_OFFSETS||coordinateSystem===_deck_gl_core__WEBPACK_IMPORTED_MODULE_1__.COORDINATE_SYSTEM.DEFAULT&&!viewport.isGeospatial}},"./node_modules/@loaders.gl/draco/dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{VJ:function(){return esm_DracoLoader}});var globals=__webpack_require__("./node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/globals.js");const DEFAULT_DRACO_OPTIONS={draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}},DracoLoader={name:"Draco",id:globals.jU?"draco":"draco-nodejs",module:"draco",shapes:["mesh"],version:"3.4.4",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:DEFAULT_DRACO_OPTIONS};var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),mesh_utils=__webpack_require__("./node_modules/@loaders.gl/schema/dist/esm/category/mesh/mesh-utils.js");class Field{constructor(name,type){let nullable=arguments.length>2&&void 0!==arguments[2]&&arguments[2],metadata=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;(0,defineProperty.Z)(this,"name",void 0),(0,defineProperty.Z)(this,"type",void 0),(0,defineProperty.Z)(this,"nullable",void 0),(0,defineProperty.Z)(this,"metadata",void 0),this.name=name,this.type=type,this.nullable=nullable,this.metadata=metadata}get typeId(){return this.type&&this.type.typeId}clone(){return new Field(this.name,this.type,this.nullable,this.metadata)}compareTo(other){return this.name===other.name&&this.type===other.type&&this.nullable===other.nullable&&this.metadata===other.metadata}toString(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}let _Symbol$toStringTag,_Symbol$toStringTag2,_Symbol$toStringTag3,_Symbol$toStringTag4,_Symbol$toStringTag5,_Symbol$toStringTag6,_Symbol$toStringTag7,_Symbol$toStringTag8,enum_Type=function(Type){return Type[Type.NONE=0]="NONE",Type[Type.Null=1]="Null",Type[Type.Int=2]="Int",Type[Type.Float=3]="Float",Type[Type.Binary=4]="Binary",Type[Type.Utf8=5]="Utf8",Type[Type.Bool=6]="Bool",Type[Type.Decimal=7]="Decimal",Type[Type.Date=8]="Date",Type[Type.Time=9]="Time",Type[Type.Timestamp=10]="Timestamp",Type[Type.Interval=11]="Interval",Type[Type.List=12]="List",Type[Type.Struct=13]="Struct",Type[Type.Union=14]="Union",Type[Type.FixedSizeBinary=15]="FixedSizeBinary",Type[Type.FixedSizeList=16]="FixedSizeList",Type[Type.Map=17]="Map",Type[Type.Dictionary=-1]="Dictionary",Type[Type.Int8=-2]="Int8",Type[Type.Int16=-3]="Int16",Type[Type.Int32=-4]="Int32",Type[Type.Int64=-5]="Int64",Type[Type.Uint8=-6]="Uint8",Type[Type.Uint16=-7]="Uint16",Type[Type.Uint32=-8]="Uint32",Type[Type.Uint64=-9]="Uint64",Type[Type.Float16=-10]="Float16",Type[Type.Float32=-11]="Float32",Type[Type.Float64=-12]="Float64",Type[Type.DateDay=-13]="DateDay",Type[Type.DateMillisecond=-14]="DateMillisecond",Type[Type.TimestampSecond=-15]="TimestampSecond",Type[Type.TimestampMillisecond=-16]="TimestampMillisecond",Type[Type.TimestampMicrosecond=-17]="TimestampMicrosecond",Type[Type.TimestampNanosecond=-18]="TimestampNanosecond",Type[Type.TimeSecond=-19]="TimeSecond",Type[Type.TimeMillisecond=-20]="TimeMillisecond",Type[Type.TimeMicrosecond=-21]="TimeMicrosecond",Type[Type.TimeNanosecond=-22]="TimeNanosecond",Type[Type.DenseUnion=-23]="DenseUnion",Type[Type.SparseUnion=-24]="SparseUnion",Type[Type.IntervalDayTime=-25]="IntervalDayTime",Type[Type.IntervalYearMonth=-26]="IntervalYearMonth",Type}({});class DataType{static isNull(x){return x&&x.typeId===enum_Type.Null}static isInt(x){return x&&x.typeId===enum_Type.Int}static isFloat(x){return x&&x.typeId===enum_Type.Float}static isBinary(x){return x&&x.typeId===enum_Type.Binary}static isUtf8(x){return x&&x.typeId===enum_Type.Utf8}static isBool(x){return x&&x.typeId===enum_Type.Bool}static isDecimal(x){return x&&x.typeId===enum_Type.Decimal}static isDate(x){return x&&x.typeId===enum_Type.Date}static isTime(x){return x&&x.typeId===enum_Type.Time}static isTimestamp(x){return x&&x.typeId===enum_Type.Timestamp}static isInterval(x){return x&&x.typeId===enum_Type.Interval}static isList(x){return x&&x.typeId===enum_Type.List}static isStruct(x){return x&&x.typeId===enum_Type.Struct}static isUnion(x){return x&&x.typeId===enum_Type.Union}static isFixedSizeBinary(x){return x&&x.typeId===enum_Type.FixedSizeBinary}static isFixedSizeList(x){return x&&x.typeId===enum_Type.FixedSizeList}static isMap(x){return x&&x.typeId===enum_Type.Map}static isDictionary(x){return x&&x.typeId===enum_Type.Dictionary}get typeId(){return enum_Type.NONE}compareTo(other){return this===other}}Symbol.toStringTag;Symbol.toStringTag;_Symbol$toStringTag=Symbol.toStringTag;class Int extends DataType{constructor(isSigned,bitWidth){super(),(0,defineProperty.Z)(this,"isSigned",void 0),(0,defineProperty.Z)(this,"bitWidth",void 0),this.isSigned=isSigned,this.bitWidth=bitWidth}get typeId(){return enum_Type.Int}get[_Symbol$toStringTag](){return"Int"}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}class Int8 extends Int{constructor(){super(!0,8)}}class Int16 extends Int{constructor(){super(!0,16)}}class Int32 extends Int{constructor(){super(!0,32)}}class Uint8 extends Int{constructor(){super(!1,8)}}class Uint16 extends Int{constructor(){super(!1,16)}}class Uint32 extends Int{constructor(){super(!1,32)}}const Precision_SINGLE=32,Precision_DOUBLE=64;_Symbol$toStringTag2=Symbol.toStringTag;class Float extends DataType{constructor(precision){super(),(0,defineProperty.Z)(this,"precision",void 0),this.precision=precision}get typeId(){return enum_Type.Float}get[_Symbol$toStringTag2](){return"Float"}toString(){return"Float".concat(this.precision)}}class Float32 extends Float{constructor(){super(Precision_SINGLE)}}class Float64 extends Float{constructor(){super(Precision_DOUBLE)}}Symbol.toStringTag;Symbol.toStringTag;_Symbol$toStringTag3=Symbol.toStringTag;_Symbol$toStringTag4=Symbol.toStringTag;_Symbol$toStringTag5=Symbol.toStringTag;_Symbol$toStringTag6=Symbol.toStringTag;_Symbol$toStringTag7=Symbol.toStringTag;class FixedSizeList extends DataType{constructor(listSize,child){super(),(0,defineProperty.Z)(this,"listSize",void 0),(0,defineProperty.Z)(this,"children",void 0),this.listSize=listSize,this.children=[child]}get typeId(){return enum_Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[_Symbol$toStringTag7](){return"FixedSizeList"}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}_Symbol$toStringTag8=Symbol.toStringTag;function deduceMeshField(attributeName,attribute,optionalMetadata){const type=function getArrowTypeFromTypedArray(array){switch(array.constructor){case Int8Array:return new Int8;case Uint8Array:return new Uint8;case Int16Array:return new Int16;case Uint16Array:return new Uint16;case Int32Array:return new Int32;case Uint32Array:return new Uint32;case Float32Array:return new Float32;case Float64Array:return new Float64;default:throw new Error("array type not supported")}}(attribute.value),metadata=optionalMetadata||function makeMeshAttributeMetadata(attribute){const result=new Map;"byteOffset"in attribute&&result.set("byteOffset",attribute.byteOffset.toString(10));"byteStride"in attribute&&result.set("byteStride",attribute.byteStride.toString(10));"normalized"in attribute&&result.set("normalized",attribute.normalized.toString());return result}(attribute);return new Field(attributeName,new FixedSizeList(attribute.size,new Field("value",type)),!1,metadata)}class schema_Schema{constructor(fields,metadata){(0,defineProperty.Z)(this,"fields",void 0),(0,defineProperty.Z)(this,"metadata",void 0),function assert(condition,message){if(!condition)throw new Error(message||"loader assertion failed.")}(Array.isArray(fields)),function checkNames(fields){const usedNames={};for(const field of fields)usedNames[field.name]&&console.warn("Schema: duplicated field name",field.name,field),usedNames[field.name]=!0}(fields),this.fields=fields,this.metadata=metadata||new Map}compareTo(other){if(this.metadata!==other.metadata)return!1;if(this.fields.length!==other.fields.length)return!1;for(let i=0;i<this.fields.length;++i)if(!this.fields[i].compareTo(other.fields[i]))return!1;return!0}select(){const nameMap=Object.create(null);for(var _len=arguments.length,columnNames=new Array(_len),_key=0;_key<_len;_key++)columnNames[_key]=arguments[_key];for(const name of columnNames)nameMap[name]=!0;const selectedFields=this.fields.filter((field=>nameMap[field.name]));return new schema_Schema(selectedFields,this.metadata)}selectAt(){for(var _len2=arguments.length,columnIndices=new Array(_len2),_key2=0;_key2<_len2;_key2++)columnIndices[_key2]=arguments[_key2];const selectedFields=columnIndices.map((index=>this.fields[index])).filter(Boolean);return new schema_Schema(selectedFields,this.metadata)}assign(schemaOrFields){let fields,metadata=this.metadata;if(schemaOrFields instanceof schema_Schema){const otherSchema=schemaOrFields;fields=otherSchema.fields,metadata=mergeMaps(mergeMaps(new Map,this.metadata),otherSchema.metadata)}else fields=schemaOrFields;const fieldMap=Object.create(null);for(const field of this.fields)fieldMap[field.name]=field;for(const field of fields)fieldMap[field.name]=field;const mergedFields=Object.values(fieldMap);return new schema_Schema(mergedFields,metadata)}}function mergeMaps(m1,m2){return new Map([...m1||new Map,...m2||new Map])}function getArrowFieldFromAttribute(attributeName,attribute,loaderData){return deduceMeshField(attributeName,attribute,loaderData?makeMetadata(loaderData.metadata):void 0)}function makeMetadata(metadata){const metadataMap=new Map;for(const key in metadata)metadataMap.set("".concat(key,".string"),JSON.stringify(metadata[key]));return metadataMap}const DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},DRACO_DATA_TYPE_TO_TYPED_ARRAY_MAP={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};class DracoParser{constructor(draco){(0,defineProperty.Z)(this,"draco",void 0),(0,defineProperty.Z)(this,"decoder",void 0),(0,defineProperty.Z)(this,"metadataQuerier",void 0),this.draco=draco,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(arrayBuffer){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const buffer=new this.draco.DecoderBuffer;buffer.Init(new Int8Array(arrayBuffer),arrayBuffer.byteLength),this._disableAttributeTransforms(options);const geometry_type=this.decoder.GetEncodedGeometryType(buffer),dracoGeometry=geometry_type===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let dracoStatus;switch(geometry_type){case this.draco.TRIANGULAR_MESH:dracoStatus=this.decoder.DecodeBufferToMesh(buffer,dracoGeometry);break;case this.draco.POINT_CLOUD:dracoStatus=this.decoder.DecodeBufferToPointCloud(buffer,dracoGeometry);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!dracoStatus.ok()||!dracoGeometry.ptr){const message="DRACO decompression failed: ".concat(dracoStatus.error_msg());throw new Error(message)}const loaderData=this._getDracoLoaderData(dracoGeometry,geometry_type,options),geometry=this._getMeshData(dracoGeometry,loaderData,options),boundingBox=(0,mesh_utils.v)(geometry.attributes),schema=function getDracoSchema(attributes,loaderData,indices){const metadataMap=makeMetadata(loaderData.metadata),fields=[],namedLoaderDataAttributes=function transformAttributesLoaderData(loaderData){const result={};for(const key in loaderData){const dracoAttribute=loaderData[key];result[dracoAttribute.name||"undefined"]=dracoAttribute}return result}(loaderData.attributes);for(const attributeName in attributes){const field=getArrowFieldFromAttribute(attributeName,attributes[attributeName],namedLoaderDataAttributes[attributeName]);fields.push(field)}if(indices){const indicesField=getArrowFieldFromAttribute("indices",indices);fields.push(indicesField)}return new schema_Schema(fields,metadataMap)}(geometry.attributes,loaderData,geometry.indices);return{loader:"draco",loaderData:loaderData,header:{vertexCount:dracoGeometry.num_points(),boundingBox:boundingBox},...geometry,schema:schema}}finally{this.draco.destroy(buffer),dracoGeometry&&this.draco.destroy(dracoGeometry)}}_getDracoLoaderData(dracoGeometry,geometry_type,options){const metadata=this._getTopLevelMetadata(dracoGeometry),attributes=this._getDracoAttributes(dracoGeometry,options);return{geometry_type:geometry_type,num_attributes:dracoGeometry.num_attributes(),num_points:dracoGeometry.num_points(),num_faces:dracoGeometry instanceof this.draco.Mesh?dracoGeometry.num_faces():0,metadata:metadata,attributes:attributes}}_getDracoAttributes(dracoGeometry,options){const dracoAttributes={};for(let attributeId=0;attributeId<dracoGeometry.num_attributes();attributeId++){const dracoAttribute=this.decoder.GetAttribute(dracoGeometry,attributeId),metadata=this._getAttributeMetadata(dracoGeometry,attributeId);dracoAttributes[dracoAttribute.unique_id()]={unique_id:dracoAttribute.unique_id(),attribute_type:dracoAttribute.attribute_type(),data_type:dracoAttribute.data_type(),num_components:dracoAttribute.num_components(),byte_offset:dracoAttribute.byte_offset(),byte_stride:dracoAttribute.byte_stride(),normalized:dracoAttribute.normalized(),attribute_index:attributeId,metadata:metadata};const quantization=this._getQuantizationTransform(dracoAttribute,options);quantization&&(dracoAttributes[dracoAttribute.unique_id()].quantization_transform=quantization);const octahedron=this._getOctahedronTransform(dracoAttribute,options);octahedron&&(dracoAttributes[dracoAttribute.unique_id()].octahedron_transform=octahedron)}return dracoAttributes}_getMeshData(dracoGeometry,loaderData,options){const attributes=this._getMeshAttributes(loaderData,dracoGeometry,options);if(!attributes.POSITION)throw new Error("DRACO: No position attribute found.");return dracoGeometry instanceof this.draco.Mesh?"triangle-strip"===options.topology?{topology:"triangle-strip",mode:4,attributes:attributes,indices:{value:this._getTriangleStripIndices(dracoGeometry),size:1}}:{topology:"triangle-list",mode:5,attributes:attributes,indices:{value:this._getTriangleListIndices(dracoGeometry),size:1}}:{topology:"point-list",mode:0,attributes:attributes}}_getMeshAttributes(loaderData,dracoGeometry,options){const attributes={};for(const loaderAttribute of Object.values(loaderData.attributes)){const attributeName=this._deduceAttributeName(loaderAttribute,options);loaderAttribute.name=attributeName;const{value:value,size:size}=this._getAttributeValues(dracoGeometry,loaderAttribute);attributes[attributeName]={value:value,size:size,byteOffset:loaderAttribute.byte_offset,byteStride:loaderAttribute.byte_stride,normalized:loaderAttribute.normalized}}return attributes}_getTriangleListIndices(dracoGeometry){const numIndices=3*dracoGeometry.num_faces(),byteLength=4*numIndices,ptr=this.draco._malloc(byteLength);try{return this.decoder.GetTrianglesUInt32Array(dracoGeometry,byteLength,ptr),new Uint32Array(this.draco.HEAPF32.buffer,ptr,numIndices).slice()}finally{this.draco._free(ptr)}}_getTriangleStripIndices(dracoGeometry){const dracoArray=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(dracoGeometry,dracoArray),function getUint32Array(dracoArray){const numValues=dracoArray.size(),intArray=new Int32Array(numValues);for(let i=0;i<numValues;i++)intArray[i]=dracoArray.GetValue(i);return intArray}(dracoArray)}finally{this.draco.destroy(dracoArray)}}_getAttributeValues(dracoGeometry,attribute){const TypedArrayCtor=DRACO_DATA_TYPE_TO_TYPED_ARRAY_MAP[attribute.data_type],numComponents=attribute.num_components,numValues=dracoGeometry.num_points()*numComponents,byteLength=numValues*TypedArrayCtor.BYTES_PER_ELEMENT,dataType=function getDracoDataType(draco,attributeType){switch(attributeType){case Float32Array:return draco.DT_FLOAT32;case Int8Array:return draco.DT_INT8;case Int16Array:return draco.DT_INT16;case Int32Array:return draco.DT_INT32;case Uint8Array:return draco.DT_UINT8;case Uint16Array:return draco.DT_UINT16;case Uint32Array:return draco.DT_UINT32;default:return draco.DT_INVALID}}(this.draco,TypedArrayCtor);let value;const ptr=this.draco._malloc(byteLength);try{const dracoAttribute=this.decoder.GetAttribute(dracoGeometry,attribute.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(dracoGeometry,dracoAttribute,dataType,byteLength,ptr),value=new TypedArrayCtor(this.draco.HEAPF32.buffer,ptr,numValues).slice()}finally{this.draco._free(ptr)}return{value:value,size:numComponents}}_deduceAttributeName(attribute,options){const uniqueId=attribute.unique_id;for(const[attributeName,attributeUniqueId]of Object.entries(options.extraAttributes||{}))if(attributeUniqueId===uniqueId)return attributeName;const thisAttributeType=attribute.attribute_type;for(const dracoAttributeConstant in DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP){if(this.draco[dracoAttributeConstant]===thisAttributeType)return DRACO_TO_GLTF_ATTRIBUTE_NAME_MAP[dracoAttributeConstant]}const entryName=options.attributeNameEntry||"name";return attribute.metadata[entryName]?attribute.metadata[entryName].string:"CUSTOM_ATTRIBUTE_".concat(uniqueId)}_getTopLevelMetadata(dracoGeometry){const dracoMetadata=this.decoder.GetMetadata(dracoGeometry);return this._getDracoMetadata(dracoMetadata)}_getAttributeMetadata(dracoGeometry,attributeId){const dracoMetadata=this.decoder.GetAttributeMetadata(dracoGeometry,attributeId);return this._getDracoMetadata(dracoMetadata)}_getDracoMetadata(dracoMetadata){if(!dracoMetadata||!dracoMetadata.ptr)return{};const result={},numEntries=this.metadataQuerier.NumEntries(dracoMetadata);for(let entryIndex=0;entryIndex<numEntries;entryIndex++){const entryName=this.metadataQuerier.GetEntryName(dracoMetadata,entryIndex);result[entryName]=this._getDracoMetadataField(dracoMetadata,entryName)}return result}_getDracoMetadataField(dracoMetadata,entryName){const dracoArray=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(dracoMetadata,entryName,dracoArray);const intArray=function getInt32Array(dracoArray){const numValues=dracoArray.size(),intArray=new Int32Array(numValues);for(let i=0;i<numValues;i++)intArray[i]=dracoArray.GetValue(i);return intArray}(dracoArray);return{int:this.metadataQuerier.GetIntEntry(dracoMetadata,entryName),string:this.metadataQuerier.GetStringEntry(dracoMetadata,entryName),double:this.metadataQuerier.GetDoubleEntry(dracoMetadata,entryName),intArray:intArray}}finally{this.draco.destroy(dracoArray)}}_disableAttributeTransforms(options){const{quantizedAttributes:quantizedAttributes=[],octahedronAttributes:octahedronAttributes=[]}=options,skipAttributes=[...quantizedAttributes,...octahedronAttributes];for(const dracoAttributeName of skipAttributes)this.decoder.SkipAttributeTransform(this.draco[dracoAttributeName])}_getQuantizationTransform(dracoAttribute,options){const{quantizedAttributes:quantizedAttributes=[]}=options,attribute_type=dracoAttribute.attribute_type();if(quantizedAttributes.map((type=>this.decoder[type])).includes(attribute_type)){const transform=new this.draco.AttributeQuantizationTransform;try{if(transform.InitFromAttribute(dracoAttribute))return{quantization_bits:transform.quantization_bits(),range:transform.range(),min_values:new Float32Array([1,2,3]).map((i=>transform.min_value(i)))}}finally{this.draco.destroy(transform)}}return null}_getOctahedronTransform(dracoAttribute,options){const{octahedronAttributes:octahedronAttributes=[]}=options,attribute_type=dracoAttribute.attribute_type();if(octahedronAttributes.map((type=>this.decoder[type])).includes(attribute_type)){const transform=new this.draco.AttributeQuantizationTransform;try{if(transform.InitFromAttribute(dracoAttribute))return{quantization_bits:transform.quantization_bits()}}finally{this.draco.destroy(transform)}}return null}}var library_utils=__webpack_require__("./node_modules/@loaders.gl/worker-utils/dist/esm/lib/library-utils/library-utils.js");const STATIC_DECODER_URL="https://www.gstatic.com/draco/versioned/decoders/".concat("1.5.5"),DRACO_JS_DECODER_URL="".concat(STATIC_DECODER_URL,"/draco_decoder.js"),DRACO_WASM_WRAPPER_URL="".concat(STATIC_DECODER_URL,"/draco_wasm_wrapper.js"),DRACO_WASM_DECODER_URL="".concat(STATIC_DECODER_URL,"/draco_decoder.wasm");"https://raw.githubusercontent.com/google/draco/".concat("1.4.1","/javascript/draco_encoder.js");let loadDecoderPromise;async function loadDracoDecoderModule(options){const modules=options.modules||{};return loadDecoderPromise=modules.draco3d?loadDecoderPromise||modules.draco3d.createDecoderModule({}).then((draco=>({draco:draco}))):loadDecoderPromise||async function loadDracoDecoder(options){let DracoDecoderModule,wasmBinary;if("js"===(options.draco&&options.draco.decoderType))DracoDecoderModule=await(0,library_utils.Y)(DRACO_JS_DECODER_URL,"draco",options);else[DracoDecoderModule,wasmBinary]=await Promise.all([await(0,library_utils.Y)(DRACO_WASM_WRAPPER_URL,"draco",options),await(0,library_utils.Y)(DRACO_WASM_DECODER_URL,"draco",options)]);return DracoDecoderModule=DracoDecoderModule||globalThis.DracoDecoderModule,await function initializeDracoDecoder(DracoDecoderModule,wasmBinary){const options={};wasmBinary&&(options.wasmBinary=wasmBinary);return new Promise((resolve=>{DracoDecoderModule({...options,onModuleLoaded:draco=>resolve({draco:draco})})}))}(DracoDecoderModule,wasmBinary)}(options),await loadDecoderPromise}globals.jU;const esm_DracoLoader={...DracoLoader,parse:async function parse(arrayBuffer,options){const{draco:draco}=await loadDracoDecoderModule(options),dracoParser=new DracoParser(draco);try{return dracoParser.parseSync(arrayBuffer,null==options?void 0:options.draco)}finally{dracoParser.destroy()}}}},"./node_modules/@loaders.gl/gltf/dist/esm/gltf-loader.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return GLTFLoader}});var EXT_meshopt_compression_namespaceObject={};__webpack_require__.r(EXT_meshopt_compression_namespaceObject),__webpack_require__.d(EXT_meshopt_compression_namespaceObject,{decode:function(){return EXT_meshopt_compression_decode},name:function(){return EXT_meshopt_compression_name}});var EXT_texture_webp_namespaceObject={};__webpack_require__.r(EXT_texture_webp_namespaceObject),__webpack_require__.d(EXT_texture_webp_namespaceObject,{name:function(){return EXT_texture_webp_name},preprocess:function(){return preprocess}});var KHR_texture_basisu_namespaceObject={};__webpack_require__.r(KHR_texture_basisu_namespaceObject),__webpack_require__.d(KHR_texture_basisu_namespaceObject,{name:function(){return KHR_texture_basisu_name},preprocess:function(){return KHR_texture_basisu_preprocess}});var KHR_draco_mesh_compression_namespaceObject={};__webpack_require__.r(KHR_draco_mesh_compression_namespaceObject),__webpack_require__.d(KHR_draco_mesh_compression_namespaceObject,{decode:function(){return KHR_draco_mesh_compression_decode},encode:function(){return encode},name:function(){return KHR_draco_mesh_compression_name},preprocess:function(){return KHR_draco_mesh_compression_preprocess}});var KHR_texture_transform_namespaceObject={};__webpack_require__.r(KHR_texture_transform_namespaceObject),__webpack_require__.d(KHR_texture_transform_namespaceObject,{decode:function(){return KHR_texture_transform_decode},name:function(){return KHR_texture_transform_name}});var KHR_lights_punctual_namespaceObject={};__webpack_require__.r(KHR_lights_punctual_namespaceObject),__webpack_require__.d(KHR_lights_punctual_namespaceObject,{decode:function(){return KHR_lights_punctual_decode},encode:function(){return KHR_lights_punctual_encode},name:function(){return KHR_lights_punctual_name}});var KHR_materials_unlit_namespaceObject={};__webpack_require__.r(KHR_materials_unlit_namespaceObject),__webpack_require__.d(KHR_materials_unlit_namespaceObject,{decode:function(){return KHR_materials_unlit_decode},encode:function(){return KHR_materials_unlit_encode},name:function(){return KHR_materials_unlit_name}});var KHR_techniques_webgl_namespaceObject={};__webpack_require__.r(KHR_techniques_webgl_namespaceObject),__webpack_require__.d(KHR_techniques_webgl_namespaceObject,{decode:function(){return KHR_techniques_webgl_decode},encode:function(){return KHR_techniques_webgl_encode},name:function(){return KHR_techniques_webgl_name}});var EXT_feature_metadata_namespaceObject={};__webpack_require__.r(EXT_feature_metadata_namespaceObject),__webpack_require__.d(EXT_feature_metadata_namespaceObject,{decode:function(){return EXT_feature_metadata_decode},name:function(){return EXT_feature_metadata_name}});var globals=__webpack_require__("./node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/globals.js");var library_utils=__webpack_require__("./node_modules/@loaders.gl/worker-utils/dist/esm/lib/library-utils/library-utils.js");const BASIS_CDN_ENCODER_WASM="https://unpkg.com/@loaders.gl/textures@".concat("3.4.4","/dist/libs/basis_encoder.wasm"),BASIS_CDN_ENCODER_JS="https://unpkg.com/@loaders.gl/textures@".concat("3.4.4","/dist/libs/basis_encoder.js");let loadBasisTranscoderPromise,loadBasisEncoderPromise;async function loadBasisTrascoderModule(options){const modules=options.modules||{};return modules.basis?modules.basis:(loadBasisTranscoderPromise=loadBasisTranscoderPromise||async function loadBasisTrascoder(options){let BASIS=null,wasmBinary=null;return[BASIS,wasmBinary]=await Promise.all([await(0,library_utils.Y)("basis_transcoder.js","textures",options),await(0,library_utils.Y)("basis_transcoder.wasm","textures",options)]),BASIS=BASIS||globalThis.BASIS,await function initializeBasisTrascoderModule(BasisModule,wasmBinary){const options={};wasmBinary&&(options.wasmBinary=wasmBinary);return new Promise((resolve=>{BasisModule(options).then((module=>{const{BasisFile:BasisFile,initializeBasis:initializeBasis}=module;initializeBasis(),resolve({BasisFile:BasisFile})}))}))}(BASIS,wasmBinary)}(options),await loadBasisTranscoderPromise)}async function loadBasisEncoderModule(options){const modules=options.modules||{};return modules.basisEncoder?modules.basisEncoder:(loadBasisEncoderPromise=loadBasisEncoderPromise||async function loadBasisEncoder(options){let BASIS_ENCODER=null,wasmBinary=null;return[BASIS_ENCODER,wasmBinary]=await Promise.all([await(0,library_utils.Y)(BASIS_CDN_ENCODER_JS,"textures",options),await(0,library_utils.Y)(BASIS_CDN_ENCODER_WASM,"textures",options)]),BASIS_ENCODER=BASIS_ENCODER||globalThis.BASIS,await function initializeBasisEncoderModule(BasisEncoderModule,wasmBinary){const options={};wasmBinary&&(options.wasmBinary=wasmBinary);return new Promise((resolve=>{BasisEncoderModule(options).then((module=>{const{BasisFile:BasisFile,KTX2File:KTX2File,initializeBasis:initializeBasis,BasisEncoder:BasisEncoder}=module;initializeBasis(),resolve({BasisFile:BasisFile,KTX2File:KTX2File,BasisEncoder:BasisEncoder})}))}))}(BASIS_ENCODER,wasmBinary)}(options),await loadBasisEncoderPromise)}const GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGB_S3TC_DXT1_EXT=33776,GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGB_ETC1_WEBGL=36196,GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGBA_ASTC_4X4_KHR=37808,BROWSER_PREFIXES=["","WEBKIT_","MOZ_"],WEBGL_EXTENSIONS={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let formats=null;function getSupportedGPUTextureFormats(gl){if(!formats){gl=gl||function getWebGLContext(){try{return document.createElement("canvas").getContext("webgl")}catch(error){return null}}()||void 0,formats=new Set;for(const prefix of BROWSER_PREFIXES)for(const extension in WEBGL_EXTENSIONS)if(gl&&gl.getExtension("".concat(prefix).concat(extension))){const gpuTextureFormat=WEBGL_EXTENSIONS[extension];formats.add(gpuTextureFormat)}}return formats}new Uint8Array([0]);var n,i,s,a,r,o,l,f;!function(t){t[t.NONE=0]="NONE",t[t.BASISLZ=1]="BASISLZ",t[t.ZSTD=2]="ZSTD",t[t.ZLIB=3]="ZLIB"}(n||(n={})),function(t){t[t.BASICFORMAT=0]="BASICFORMAT"}(i||(i={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.ETC1S=163]="ETC1S",t[t.UASTC=166]="UASTC"}(s||(s={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.SRGB=1]="SRGB"}(a||(a={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.LINEAR=1]="LINEAR",t[t.SRGB=2]="SRGB",t[t.ITU=3]="ITU",t[t.NTSC=4]="NTSC",t[t.SLOG=5]="SLOG",t[t.SLOG2=6]="SLOG2"}(r||(r={})),function(t){t[t.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",t[t.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(o||(o={})),function(t){t[t.RGB=0]="RGB",t[t.RRR=3]="RRR",t[t.GGG=4]="GGG",t[t.AAA=15]="AAA"}(l||(l={})),function(t){t[t.RGB=0]="RGB",t[t.RGBA=3]="RGBA",t[t.RRR=4]="RRR",t[t.RRRG=5]="RRRG"}(f||(f={}));const KTX2_ID=[171,75,84,88,32,50,48,187,13,10,26,10];const OutputFormat={etc1:{basisFormat:0,compressed:!0,format:GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGB_ETC1_WEBGL},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGB_PVRTC_4BPPV1_IMG},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG},"astc-4x4":{basisFormat:10,compressed:!0,format:GL_EXTENSIONS_CONSTANTS_COMPRESSED_RGBA_ASTC_4X4_KHR},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function parseBasisFile(BasisFile,data,options){const basisFile=new BasisFile(new Uint8Array(data));try{if(!basisFile.startTranscoding())throw new Error("Failed to start basis transcoding");const imageCount=basisFile.getNumImages(),images=[];for(let imageIndex=0;imageIndex<imageCount;imageIndex++){const levelsCount=basisFile.getNumLevels(imageIndex),levels=[];for(let levelIndex=0;levelIndex<levelsCount;levelIndex++)levels.push(transcodeImage(basisFile,imageIndex,levelIndex,options));images.push(levels)}return images}finally{basisFile.close(),basisFile.delete()}}function transcodeImage(basisFile,imageIndex,levelIndex,options){const width=basisFile.getImageWidth(imageIndex,levelIndex),height=basisFile.getImageHeight(imageIndex,levelIndex),hasAlpha=basisFile.getHasAlpha(),{compressed:compressed,format:format,basisFormat:basisFormat}=getBasisOptions(options,hasAlpha),decodedSize=basisFile.getImageTranscodedSizeInBytes(imageIndex,levelIndex,basisFormat),decodedData=new Uint8Array(decodedSize);if(!basisFile.transcodeImage(decodedData,imageIndex,levelIndex,basisFormat,0,0))throw new Error("failed to start Basis transcoding");return{width:width,height:height,data:decodedData,compressed:compressed,format:format,hasAlpha:hasAlpha}}function parseKTX2File(KTX2File,data,options){const ktx2File=new KTX2File(new Uint8Array(data));try{if(!ktx2File.startTranscoding())throw new Error("failed to start KTX2 transcoding");const levelsCount=ktx2File.getLevels(),levels=[];for(let levelIndex=0;levelIndex<levelsCount;levelIndex++){levels.push(transcodeKTX2Image(ktx2File,levelIndex,options));break}return[levels]}finally{ktx2File.close(),ktx2File.delete()}}function transcodeKTX2Image(ktx2File,levelIndex,options){const{alphaFlag:alphaFlag,height:height,width:width}=ktx2File.getImageLevelInfo(levelIndex,0,0),{compressed:compressed,format:format,basisFormat:basisFormat}=getBasisOptions(options,alphaFlag),decodedSize=ktx2File.getImageTranscodedSizeInBytes(levelIndex,0,0,basisFormat),decodedData=new Uint8Array(decodedSize);if(!ktx2File.transcodeImage(decodedData,levelIndex,0,0,basisFormat,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:width,height:height,data:decodedData,compressed:compressed,levelSize:decodedSize,hasAlpha:alphaFlag,format:format}}function getBasisOptions(options,hasAlpha){let format=options&&options.basis&&options.basis.format;return"auto"===format&&(format=selectSupportedBasisFormat()),"object"==typeof format&&(format=hasAlpha?format.alpha:format.noAlpha),format=format.toLowerCase(),OutputFormat[format]}function selectSupportedBasisFormat(){const supportedFormats=getSupportedGPUTextureFormats();return supportedFormats.has("astc")?"astc-4x4":supportedFormats.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:supportedFormats.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:supportedFormats.has("etc1")?"etc1":supportedFormats.has("etc2")?"etc2":"rgb565"}const BasisWorkerLoader={name:"Basis",id:globals.jU?"basis":"basis-nodejs",module:"textures",version:"3.4.4",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}}},BasisLoader={...BasisWorkerLoader,parse:async function parseBasis(data,options){if("auto"===options.basis.containerFormat){if(function isKTX(data){const id=new Uint8Array(data);return!(id.byteLength<KTX2_ID.length||id[0]!==KTX2_ID[0]||id[1]!==KTX2_ID[1]||id[2]!==KTX2_ID[2]||id[3]!==KTX2_ID[3]||id[4]!==KTX2_ID[4]||id[5]!==KTX2_ID[5]||id[6]!==KTX2_ID[6]||id[7]!==KTX2_ID[7]||id[8]!==KTX2_ID[8]||id[9]!==KTX2_ID[9]||id[10]!==KTX2_ID[10]||id[11]!==KTX2_ID[11])}(data)){return parseKTX2File((await loadBasisEncoderModule(options)).KTX2File,data,options)}const{BasisFile:BasisFile}=await loadBasisTrascoderModule(options);return parseBasisFile(BasisFile,data,options)}if("encoder"===options.basis.module){const fileConstructors=await loadBasisEncoderModule(options);return"ktx2"===options.basis.containerFormat?parseKTX2File(fileConstructors.KTX2File,data,options):parseBasisFile(fileConstructors.BasisFile,data,options)}{const{BasisFile:BasisFile}=await loadBasisTrascoderModule(options);return parseBasisFile(BasisFile,data,options)}}};var image_loader=__webpack_require__("./node_modules/@loaders.gl/images/dist/esm/image-loader.js");function getMagicString(arrayBuffer,byteOffset,length){if(arrayBuffer.byteLength<=byteOffset+length)return"";const dataView=new DataView(arrayBuffer);let magic="";for(let i=0;i<length;i++)magic+=String.fromCharCode(dataView.getUint8(byteOffset+i));return magic}function parseJSON(string){try{return JSON.parse(string)}catch(_){throw new Error('Failed to parse JSON from data starting with "'.concat(function getFirstCharacters(data){let length=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof data)return data.slice(0,length);if(ArrayBuffer.isView(data))return getMagicString(data.buffer,data.byteOffset,length);if(data instanceof ArrayBuffer)return getMagicString(data,0,length);return""}(string),'"'))}}var array_buffer_utils=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/esm/lib/binary-utils/array-buffer-utils.js"),assert=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/esm/lib/utils/assert.js");function resolveUrl(url,options){if(url.startsWith("data:")||url.startsWith("http:")||url.startsWith("https:"))return url;const baseUrl=options.baseUri||options.uri;if(!baseUrl)throw new Error("'baseUri' must be provided to resolve relative url ".concat(url));return baseUrl.substr(0,baseUrl.lastIndexOf("/")+1)+url}function getTypedArrayForBufferView(json,buffers,bufferViewIndex){const bufferView=json.bufferViews[bufferViewIndex];(0,assert.h)(bufferView);const binChunk=buffers[bufferView.buffer];(0,assert.h)(binChunk);const byteOffset=(bufferView.byteOffset||0)+binChunk.byteOffset;return new Uint8Array(binChunk.arrayBuffer,byteOffset,bufferView.byteLength)}var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),binary_image_api=__webpack_require__("./node_modules/@loaders.gl/images/dist/esm/lib/category-api/binary-image-api.js"),env_utils_assert=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/esm/lib/env-utils/assert.js");function padToNBytes(byteLength,padding){return(0,env_utils_assert.h)(byteLength>=0),(0,env_utils_assert.h)(padding>0),byteLength+(padding-1)&~(padding-1)}function copyToArray(source,target,targetOffset){let sourceArray;if(source instanceof ArrayBuffer)sourceArray=new Uint8Array(source);else{const srcByteOffset=source.byteOffset,srcByteLength=source.byteLength;sourceArray=new Uint8Array(source.buffer||source.arrayBuffer,srcByteOffset,srcByteLength)}return target.set(sourceArray,targetOffset),targetOffset+padToNBytes(sourceArray.byteLength,4)}var gltf_utils=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/esm/lib/gltf-utils/gltf-utils.js");const DEFAULT_GLTF_JSON={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]};class GLTFScenegraph{constructor(gltf){(0,defineProperty.Z)(this,"gltf",void 0),(0,defineProperty.Z)(this,"sourceBuffers",void 0),(0,defineProperty.Z)(this,"byteLength",void 0),this.gltf=gltf||{json:{...DEFAULT_GLTF_JSON},buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(key){return this.json[key]}getExtraData(key){return(this.json.extras||{})[key]}getExtension(extensionName){const isExtension=this.getUsedExtensions().find((name=>name===extensionName)),extensions=this.json.extensions||{};return isExtension?extensions[extensionName]||!0:null}getRequiredExtension(extensionName){return this.getRequiredExtensions().find((name=>name===extensionName))?this.getExtension(extensionName):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(object,extensionName){return(object.extensions||{})[extensionName]}getScene(index){return this.getObject("scenes",index)}getNode(index){return this.getObject("nodes",index)}getSkin(index){return this.getObject("skins",index)}getMesh(index){return this.getObject("meshes",index)}getMaterial(index){return this.getObject("materials",index)}getAccessor(index){return this.getObject("accessors",index)}getTexture(index){return this.getObject("textures",index)}getSampler(index){return this.getObject("samplers",index)}getImage(index){return this.getObject("images",index)}getBufferView(index){return this.getObject("bufferViews",index)}getBuffer(index){return this.getObject("buffers",index)}getObject(array,index){if("object"==typeof index)return index;const object=this.json[array]&&this.json[array][index];if(!object)throw new Error("glTF file error: Could not find ".concat(array,"[").concat(index,"]"));return object}getTypedArrayForBufferView(bufferView){const bufferIndex=(bufferView=this.getBufferView(bufferView)).buffer,binChunk=this.gltf.buffers[bufferIndex];(0,assert.h)(binChunk);const byteOffset=(bufferView.byteOffset||0)+binChunk.byteOffset;return new Uint8Array(binChunk.arrayBuffer,byteOffset,bufferView.byteLength)}getTypedArrayForAccessor(accessor){accessor=this.getAccessor(accessor);const bufferView=this.getBufferView(accessor.bufferView),arrayBuffer=this.getBuffer(bufferView.buffer).data,{ArrayType:ArrayType,length:length}=(0,gltf_utils.pN)(accessor,bufferView);return new ArrayType(arrayBuffer,bufferView.byteOffset+accessor.byteOffset,length)}getTypedArrayForImageData(image){image=this.getAccessor(image);const bufferView=this.getBufferView(image.bufferView),arrayBuffer=this.getBuffer(bufferView.buffer).data,byteOffset=bufferView.byteOffset||0;return new Uint8Array(arrayBuffer,byteOffset,bufferView.byteLength)}addApplicationData(key,data){return this.json[key]=data,this}addExtraData(key,data){return this.json.extras=this.json.extras||{},this.json.extras[key]=data,this}addObjectExtension(object,extensionName,data){return object.extensions=object.extensions||{},object.extensions[extensionName]=data,this.registerUsedExtension(extensionName),this}setObjectExtension(object,extensionName,data){(object.extensions||{})[extensionName]=data}removeObjectExtension(object,extensionName){const extensions=object.extensions||{},extension=extensions[extensionName];return delete extensions[extensionName],extension}addExtension(extensionName){let extensionData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,assert.h)(extensionData),this.json.extensions=this.json.extensions||{},this.json.extensions[extensionName]=extensionData,this.registerUsedExtension(extensionName),extensionData}addRequiredExtension(extensionName){let extensionData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,assert.h)(extensionData),this.addExtension(extensionName,extensionData),this.registerRequiredExtension(extensionName),extensionData}registerUsedExtension(extensionName){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((ext=>ext===extensionName))||this.json.extensionsUsed.push(extensionName)}registerRequiredExtension(extensionName){this.registerUsedExtension(extensionName),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((ext=>ext===extensionName))||this.json.extensionsRequired.push(extensionName)}removeExtension(extensionName){if(!this.getExtension(extensionName))return;this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,extensionName),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,extensionName),this.json.extensions&&delete this.json.extensions[extensionName],Array.isArray(this.json.extensionsRemoved)||(this.json.extensionsRemoved=[]);const extensionsRemoved=this.json.extensionsRemoved;extensionsRemoved.includes(extensionName)||extensionsRemoved.push(extensionName)}setDefaultScene(sceneIndex){this.json.scene=sceneIndex}addScene(scene){const{nodeIndices:nodeIndices}=scene;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:nodeIndices}),this.json.scenes.length-1}addNode(node){const{meshIndex:meshIndex,matrix:matrix}=node;this.json.nodes=this.json.nodes||[];const nodeData={mesh:meshIndex};return matrix&&(nodeData.matrix=matrix),this.json.nodes.push(nodeData),this.json.nodes.length-1}addMesh(mesh){const{attributes:attributes,indices:indices,material:material,mode:mode=4}=mesh,glTFMesh={primitives:[{attributes:this._addAttributes(attributes),mode:mode}]};if(indices){const indicesAccessor=this._addIndices(indices);glTFMesh.primitives[0].indices=indicesAccessor}return Number.isFinite(material)&&(glTFMesh.primitives[0].material=material),this.json.meshes=this.json.meshes||[],this.json.meshes.push(glTFMesh),this.json.meshes.length-1}addPointCloud(attributes){const glTFMesh={primitives:[{attributes:this._addAttributes(attributes),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(glTFMesh),this.json.meshes.length-1}addImage(imageData,mimeTypeOpt){const metadata=(0,binary_image_api.I)(imageData),mimeType=mimeTypeOpt||(null==metadata?void 0:metadata.mimeType),glTFImage={bufferView:this.addBufferView(imageData),mimeType:mimeType};return this.json.images=this.json.images||[],this.json.images.push(glTFImage),this.json.images.length-1}addBufferView(buffer){const byteLength=buffer.byteLength;(0,assert.h)(Number.isFinite(byteLength)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(buffer);const glTFBufferView={buffer:0,byteOffset:this.byteLength,byteLength:byteLength};return this.byteLength+=padToNBytes(byteLength,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(glTFBufferView),this.json.bufferViews.length-1}addAccessor(bufferViewIndex,accessor){const glTFAccessor={bufferView:bufferViewIndex,type:(0,gltf_utils.dl)(accessor.size),componentType:accessor.componentType,count:accessor.count,max:accessor.max,min:accessor.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(glTFAccessor),this.json.accessors.length-1}addBinaryBuffer(sourceBuffer){let accessor=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3};const bufferViewIndex=this.addBufferView(sourceBuffer);let minMax={min:accessor.min,max:accessor.max};minMax.min&&minMax.max||(minMax=this._getAccessorMinMax(sourceBuffer,accessor.size));const accessorDefaults={size:accessor.size,componentType:(0,gltf_utils.x$)(sourceBuffer),count:Math.round(sourceBuffer.length/accessor.size),min:minMax.min,max:minMax.max};return this.addAccessor(bufferViewIndex,Object.assign(accessorDefaults,accessor))}addTexture(texture){const{imageIndex:imageIndex}=texture,glTFTexture={source:imageIndex};return this.json.textures=this.json.textures||[],this.json.textures.push(glTFTexture),this.json.textures.length-1}addMaterial(pbrMaterialInfo){return this.json.materials=this.json.materials||[],this.json.materials.push(pbrMaterialInfo),this.json.materials.length-1}createBinaryChunk(){var _this$json,_this$json$buffers;this.gltf.buffers=[];const totalByteLength=this.byteLength,arrayBuffer=new ArrayBuffer(totalByteLength),targetArray=new Uint8Array(arrayBuffer);let dstByteOffset=0;for(const sourceBuffer of this.sourceBuffers||[])dstByteOffset=copyToArray(sourceBuffer,targetArray,dstByteOffset);null!==(_this$json=this.json)&&void 0!==_this$json&&null!==(_this$json$buffers=_this$json.buffers)&&void 0!==_this$json$buffers&&_this$json$buffers[0]?this.json.buffers[0].byteLength=totalByteLength:this.json.buffers=[{byteLength:totalByteLength}],this.gltf.binary=arrayBuffer,this.sourceBuffers=[arrayBuffer]}_removeStringFromArray(array,string){let found=!0;for(;found;){const index=array.indexOf(string);index>-1?array.splice(index,1):found=!1}}_addAttributes(){let attributes=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const result={};for(const attributeKey in attributes){const attributeData=attributes[attributeKey],attrName=this._getGltfAttributeName(attributeKey),accessor=this.addBinaryBuffer(attributeData.value,attributeData);result[attrName]=accessor}return result}_addIndices(indices){return this.addBinaryBuffer(indices,{size:1})}_getGltfAttributeName(attributeName){switch(attributeName.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return attributeName}}_getAccessorMinMax(buffer,size){const result={min:null,max:null};if(buffer.length<size)return result;result.min=[],result.max=[];const initValues=buffer.subarray(0,size);for(const value of initValues)result.min.push(value),result.max.push(value);for(let index=size;index<buffer.length;index+=size)for(let componentIndex=0;componentIndex<size;componentIndex++)result.min[0+componentIndex]=Math.min(result.min[0+componentIndex],buffer[index+componentIndex]),result.max[0+componentIndex]=Math.max(result.max[0+componentIndex],buffer[index+componentIndex]);return result}}const wasm_base="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",wasm_simd="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",detector=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),wasmpack=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),FILTERS={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},DECODERS={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};let wasmPromise;async function loadWasmInstance(){return wasmPromise||(wasmPromise=async function loadWasmModule(){let wasm=wasm_base;WebAssembly.validate(detector)&&(wasm=wasm_simd,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const result=await WebAssembly.instantiate(function unpack(data){const result=new Uint8Array(data.length);for(let i=0;i<data.length;++i){const ch=data.charCodeAt(i);result[i]=ch>96?ch-71:ch>64?ch-65:ch>47?ch+4:ch>46?63:62}let write=0;for(let i=0;i<data.length;++i)result[write++]=result[i]<60?wasmpack[result[i]]:64*(result[i]-60)+result[++i];return result.buffer.slice(0,write)}(wasm),{});return await result.instance.exports.__wasm_call_ctors(),result.instance}()),wasmPromise}function decode(instance,fun,target,count,size,source,filter){const sbrk=instance.exports.sbrk,count4=count+3&-4,tp=sbrk(count4*size),sp=sbrk(source.length),heap=new Uint8Array(instance.exports.memory.buffer);heap.set(source,sp);const res=fun(tp,count,size,sp,source.length);if(0===res&&filter&&filter(tp,count4,size),target.set(heap.subarray(tp,tp+count*size)),sbrk(tp-sbrk(0)),0!==res)throw new Error("Malformed buffer data: ".concat(res))}const EXT_MESHOPT_COMPRESSION="EXT_meshopt_compression",EXT_meshopt_compression_name=EXT_MESHOPT_COMPRESSION;async function EXT_meshopt_compression_decode(gltfData,options){var _options$gltf;const scenegraph=new GLTFScenegraph(gltfData);if(null==options||null===(_options$gltf=options.gltf)||void 0===_options$gltf||!_options$gltf.decompressMeshes)return;const promises=[];for(const bufferViewIndex of gltfData.json.bufferViews||[])promises.push(decodeMeshoptBufferView(scenegraph,bufferViewIndex));await Promise.all(promises),scenegraph.removeExtension(EXT_MESHOPT_COMPRESSION)}async function decodeMeshoptBufferView(scenegraph,bufferView){const meshoptExtension=scenegraph.getObjectExtension(bufferView,EXT_MESHOPT_COMPRESSION);if(meshoptExtension){const{byteOffset:byteOffset=0,byteLength:byteLength=0,byteStride:byteStride,count:count,mode:mode,filter:filter="NONE",buffer:bufferIndex}=meshoptExtension,buffer=scenegraph.gltf.buffers[bufferIndex],source=new Uint8Array(buffer.arrayBuffer,buffer.byteOffset+byteOffset,byteLength),result=new Uint8Array(scenegraph.gltf.buffers[bufferView.buffer].arrayBuffer,bufferView.byteOffset,bufferView.byteLength);return await async function meshoptDecodeGltfBuffer(target,count,size,source,mode){let filter=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NONE";const instance=await loadWasmInstance();decode(instance,instance.exports[DECODERS[mode]],target,count,size,source,instance.exports[FILTERS[filter||"NONE"]])}(result,count,byteStride,source,mode,filter),result}return null}var env_utils_globals=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/esm/lib/env-utils/globals.js");const mimeTypeSupportedSync={};function isImageFormatSupported(mimeType){if(void 0===mimeTypeSupportedSync[mimeType]){const supported=env_utils_globals.jU?function checkBrowserImageFormatSupport(mimeType){switch(mimeType){case"image/avif":case"image/webp":return function testBrowserImageFormatSupport(mimeType){try{const element=document.createElement("canvas");return 0===element.toDataURL(mimeType).indexOf("data:".concat(mimeType))}catch{return!1}}(mimeType);default:return!0}}(mimeType):checkNodeImageFormatSupport(mimeType);mimeTypeSupportedSync[mimeType]=supported}return mimeTypeSupportedSync[mimeType]}function checkNodeImageFormatSupport(mimeType){const NODE_FORMAT_SUPPORT=["image/png","image/jpeg","image/gif"],{_parseImageNode:_parseImageNode,_imageFormatsNode:_imageFormatsNode=NODE_FORMAT_SUPPORT}=globalThis;return Boolean(_parseImageNode)&&_imageFormatsNode.includes(mimeType)}const EXT_TEXTURE_WEBP="EXT_texture_webp",EXT_texture_webp_name=EXT_TEXTURE_WEBP;function preprocess(gltfData,options){const scenegraph=new GLTFScenegraph(gltfData);if(!isImageFormatSupported("image/webp")){if(scenegraph.getRequiredExtensions().includes(EXT_TEXTURE_WEBP))throw new Error("gltf: Required extension ".concat(EXT_TEXTURE_WEBP," not supported by browser"));return}const{json:json}=scenegraph;for(const texture of json.textures||[]){const extension=scenegraph.getObjectExtension(texture,EXT_TEXTURE_WEBP);extension&&(texture.source=extension.source),scenegraph.removeObjectExtension(texture,EXT_TEXTURE_WEBP)}scenegraph.removeExtension(EXT_TEXTURE_WEBP)}const KHR_TEXTURE_BASISU="KHR_texture_basisu",KHR_texture_basisu_name=KHR_TEXTURE_BASISU;function KHR_texture_basisu_preprocess(gltfData,options){const scene=new GLTFScenegraph(gltfData),{json:json}=scene;for(const texture of json.textures||[]){const extension=scene.getObjectExtension(texture,KHR_TEXTURE_BASISU);extension&&(texture.source=extension.source),scene.removeObjectExtension(texture,KHR_TEXTURE_BASISU)}scene.removeExtension(KHR_TEXTURE_BASISU)}var esm=__webpack_require__("./node_modules/@loaders.gl/draco/dist/esm/index.js");function getGLTFAccessor(attribute){const{buffer:buffer,size:size,count:count}=function getAccessorData(attribute){let buffer=attribute,size=1,count=0;attribute&&attribute.value&&(buffer=attribute.value,size=attribute.size||1);buffer&&(ArrayBuffer.isView(buffer)||(buffer=function toTypedArray(array,ArrayType){let convertTypedArrays=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!array)return null;if(Array.isArray(array))return new ArrayType(array);if(convertTypedArrays&&!(array instanceof ArrayType))return new ArrayType(array);return array}(buffer,Float32Array)),count=buffer.length/size);return{buffer:buffer,size:size,count:count}}(attribute);return{value:buffer,size:size,byteOffset:0,count:count,type:(0,gltf_utils.dl)(size),componentType:(0,gltf_utils.x$)(buffer)}}const KHR_DRACO_MESH_COMPRESSION="KHR_draco_mesh_compression",KHR_draco_mesh_compression_name=KHR_DRACO_MESH_COMPRESSION;function KHR_draco_mesh_compression_preprocess(gltfData,options,context){const scenegraph=new GLTFScenegraph(gltfData);for(const primitive of makeMeshPrimitiveIterator(scenegraph))scenegraph.getObjectExtension(primitive,KHR_DRACO_MESH_COMPRESSION)}async function KHR_draco_mesh_compression_decode(gltfData,options,context){var _options$gltf;if(null==options||null===(_options$gltf=options.gltf)||void 0===_options$gltf||!_options$gltf.decompressMeshes)return;const scenegraph=new GLTFScenegraph(gltfData),promises=[];for(const primitive of makeMeshPrimitiveIterator(scenegraph))scenegraph.getObjectExtension(primitive,KHR_DRACO_MESH_COMPRESSION)&&promises.push(decompressPrimitive(scenegraph,primitive,options,context));await Promise.all(promises),scenegraph.removeExtension(KHR_DRACO_MESH_COMPRESSION)}function encode(gltfData){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const scenegraph=new GLTFScenegraph(gltfData);for(const mesh of scenegraph.json.meshes||[])compressMesh(mesh,options),scenegraph.addRequiredExtension(KHR_DRACO_MESH_COMPRESSION)}async function decompressPrimitive(scenegraph,primitive,options,context){const dracoExtension=scenegraph.getObjectExtension(primitive,KHR_DRACO_MESH_COMPRESSION);if(!dracoExtension)return;const buffer=scenegraph.getTypedArrayForBufferView(dracoExtension.bufferView),bufferCopy=(0,array_buffer_utils.qv)(buffer.buffer,buffer.byteOffset),{parse:parse}=context,dracoOptions={...options};delete dracoOptions["3d-tiles"];const decodedData=await parse(bufferCopy,esm.VJ,dracoOptions,context),decodedAttributes=function getGLTFAccessors(attributes){const accessors={};for(const name in attributes){const attribute=attributes[name];if("indices"!==name){const glTFAccessor=getGLTFAccessor(attribute);accessors[name]=glTFAccessor}}return accessors}(decodedData.attributes);for(const[attributeName,decodedAttribute]of Object.entries(decodedAttributes))if(attributeName in primitive.attributes){const accessorIndex=primitive.attributes[attributeName],accessor=scenegraph.getAccessor(accessorIndex);null!=accessor&&accessor.min&&null!=accessor&&accessor.max&&(decodedAttribute.min=accessor.min,decodedAttribute.max=accessor.max)}primitive.attributes=decodedAttributes,decodedData.indices&&(primitive.indices=getGLTFAccessor(decodedData.indices)),function checkPrimitive(primitive){if(!primitive.attributes&&Object.keys(primitive.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(primitive)}function compressMesh(attributes,indices){var _context$parseSync;let mode=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,options=arguments.length>3?arguments[3]:void 0,context=arguments.length>4?arguments[4]:void 0;if(!options.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const compressedData=options.DracoWriter.encodeSync({attributes:attributes}),decodedData=null==context||null===(_context$parseSync=context.parseSync)||void 0===_context$parseSync?void 0:_context$parseSync.call(context,{attributes:attributes}),fauxAccessors=options._addFauxAttributes(decodedData.attributes),bufferViewIndex=options.addBufferView(compressedData);return{primitives:[{attributes:fauxAccessors,mode:mode,extensions:{[KHR_DRACO_MESH_COMPRESSION]:{bufferView:bufferViewIndex,attributes:fauxAccessors}}}]}}function*makeMeshPrimitiveIterator(scenegraph){for(const mesh of scenegraph.json.meshes||[])for(const primitive of mesh.primitives)yield primitive}var vector3=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/vector3.js"),matrix3=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/matrix3.js");const COMPONENTS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},BYTES={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4};const EXT_MESHOPT_TRANSFORM="KHR_texture_transform",KHR_texture_transform_name=EXT_MESHOPT_TRANSFORM,scratchVector=new vector3.Z,scratchRotationMatrix=new matrix3.Z,scratchScaleMatrix=new matrix3.Z;async function KHR_texture_transform_decode(gltfData,options){if(!new GLTFScenegraph(gltfData).getExtension(EXT_MESHOPT_TRANSFORM))return;const materials=gltfData.json.materials||[];for(let i=0;i<materials.length;i++)transformTexCoords(i,gltfData)}function transformTexCoords(materialIndex,gltfData){var _gltfData$json$materi,_material$pbrMetallic,_material$pbrMetallic2;const processedTexCoords=[],material=null===(_gltfData$json$materi=gltfData.json.materials)||void 0===_gltfData$json$materi?void 0:_gltfData$json$materi[materialIndex],baseColorTexture=null==material||null===(_material$pbrMetallic=material.pbrMetallicRoughness)||void 0===_material$pbrMetallic?void 0:_material$pbrMetallic.baseColorTexture;baseColorTexture&&transformPrimitives(gltfData,materialIndex,baseColorTexture,processedTexCoords);const emisiveTexture=null==material?void 0:material.emissiveTexture;emisiveTexture&&transformPrimitives(gltfData,materialIndex,emisiveTexture,processedTexCoords);const normalTexture=null==material?void 0:material.normalTexture;normalTexture&&transformPrimitives(gltfData,materialIndex,normalTexture,processedTexCoords);const occlusionTexture=null==material?void 0:material.occlusionTexture;occlusionTexture&&transformPrimitives(gltfData,materialIndex,occlusionTexture,processedTexCoords);const metallicRoughnessTexture=null==material||null===(_material$pbrMetallic2=material.pbrMetallicRoughness)||void 0===_material$pbrMetallic2?void 0:_material$pbrMetallic2.metallicRoughnessTexture;metallicRoughnessTexture&&transformPrimitives(gltfData,materialIndex,metallicRoughnessTexture,processedTexCoords)}function transformPrimitives(gltfData,materialIndex,texture,processedTexCoords){const transformParameters=function getTransformParameters(texture,processedTexCoords){var _texture$extensions;const textureInfo=null===(_texture$extensions=texture.extensions)||void 0===_texture$extensions?void 0:_texture$extensions[EXT_MESHOPT_TRANSFORM],{texCoord:originalTexCoord=0}=texture,{texCoord:texCoord=originalTexCoord}=textureInfo,isProcessed=-1!==processedTexCoords.findIndex((_ref=>{let[original,newTexCoord]=_ref;return original===originalTexCoord&&newTexCoord===texCoord}));if(!isProcessed){const matrix=function makeTransformationMatrix(extensionData){const{offset:offset=[0,0],rotation:rotation=0,scale:scale=[1,1]}=extensionData,translationMatirx=(new matrix3.Z).set(1,0,0,0,1,0,offset[0],offset[1],1),rotationMatirx=scratchRotationMatrix.set(Math.cos(rotation),Math.sin(rotation),0,-Math.sin(rotation),Math.cos(rotation),0,0,0,1),scaleMatrix=scratchScaleMatrix.set(scale[0],0,0,0,scale[1],0,0,0,1);return translationMatirx.multiplyRight(rotationMatirx).multiplyRight(scaleMatrix)}(textureInfo);return originalTexCoord!==texCoord&&(texture.texCoord=texCoord),processedTexCoords.push([originalTexCoord,texCoord]),{originalTexCoord:originalTexCoord,texCoord:texCoord,matrix:matrix}}return null}(texture,processedTexCoords);if(!transformParameters)return;const meshes=gltfData.json.meshes||[];for(const mesh of meshes)for(const primitive of mesh.primitives){const material=primitive.material;Number.isFinite(material)&&materialIndex===material&&transformPrimitive(gltfData,primitive,transformParameters)}}function transformPrimitive(gltfData,primitive,transformParameters){const{originalTexCoord:originalTexCoord,texCoord:texCoord,matrix:matrix}=transformParameters,texCoordAccessor=primitive.attributes["TEXCOORD_".concat(originalTexCoord)];if(Number.isFinite(texCoordAccessor)){var _gltfData$json$access;const accessor=null===(_gltfData$json$access=gltfData.json.accessors)||void 0===_gltfData$json$access?void 0:_gltfData$json$access[texCoordAccessor];if(accessor&&accessor.bufferView){var _gltfData$json$buffer;const bufferView=null===(_gltfData$json$buffer=gltfData.json.bufferViews)||void 0===_gltfData$json$buffer?void 0:_gltfData$json$buffer[accessor.bufferView];if(bufferView){const{arrayBuffer:arrayBuffer,byteOffset:bufferByteOffset}=gltfData.buffers[bufferView.buffer],byteOffset=(bufferByteOffset||0)+(accessor.byteOffset||0)+(bufferView.byteOffset||0),{ArrayType:ArrayType,length:length}=(0,gltf_utils.pN)(accessor,bufferView),bytes=BYTES[accessor.componentType],components=COMPONENTS[accessor.type],elementAddressScale=bufferView.byteStride||bytes*components,result=new Float32Array(length);for(let i=0;i<accessor.count;i++){const uv=new ArrayType(arrayBuffer,byteOffset+i*elementAddressScale,2);scratchVector.set(uv[0],uv[1],1),scratchVector.transformByMatrix3(matrix),result.set([scratchVector[0],scratchVector[1]],i*components)}originalTexCoord===texCoord?function updateGltf(accessor,bufferView,buffers,newTexCoordArray){accessor.componentType=5126,buffers.push({arrayBuffer:newTexCoordArray.buffer,byteOffset:0,byteLength:newTexCoordArray.buffer.byteLength}),bufferView.buffer=buffers.length-1,bufferView.byteLength=newTexCoordArray.buffer.byteLength,bufferView.byteOffset=0,delete bufferView.byteStride}(accessor,bufferView,gltfData.buffers,result):function createAttribute(newTexCoord,originalAccessor,primitive,gltfData,newTexCoordArray){gltfData.buffers.push({arrayBuffer:newTexCoordArray.buffer,byteOffset:0,byteLength:newTexCoordArray.buffer.byteLength});const bufferViews=gltfData.json.bufferViews;if(!bufferViews)return;bufferViews.push({buffer:gltfData.buffers.length-1,byteLength:newTexCoordArray.buffer.byteLength,byteOffset:0});const accessors=gltfData.json.accessors;if(!accessors)return;accessors.push({bufferView:(null==bufferViews?void 0:bufferViews.length)-1,byteOffset:0,componentType:5126,count:originalAccessor.count,type:"VEC2"}),primitive.attributes["TEXCOORD_".concat(newTexCoord)]=accessors.length-1}(texCoord,accessor,primitive,gltfData,result)}}}}const KHR_LIGHTS_PUNCTUAL="KHR_lights_punctual",KHR_lights_punctual_name=KHR_LIGHTS_PUNCTUAL;async function KHR_lights_punctual_decode(gltfData){const gltfScenegraph=new GLTFScenegraph(gltfData),{json:json}=gltfScenegraph,extension=gltfScenegraph.getExtension(KHR_LIGHTS_PUNCTUAL);extension&&(gltfScenegraph.json.lights=extension.lights,gltfScenegraph.removeExtension(KHR_LIGHTS_PUNCTUAL));for(const node of json.nodes||[]){const nodeExtension=gltfScenegraph.getObjectExtension(node,KHR_LIGHTS_PUNCTUAL);nodeExtension&&(node.light=nodeExtension.light),gltfScenegraph.removeObjectExtension(node,KHR_LIGHTS_PUNCTUAL)}}async function KHR_lights_punctual_encode(gltfData){const gltfScenegraph=new GLTFScenegraph(gltfData),{json:json}=gltfScenegraph;if(json.lights){const extension=gltfScenegraph.addExtension(KHR_LIGHTS_PUNCTUAL);(0,assert.h)(!extension.lights),extension.lights=json.lights,delete json.lights}if(gltfScenegraph.json.lights){for(const light of gltfScenegraph.json.lights){const node=light.node;gltfScenegraph.addObjectExtension(node,KHR_LIGHTS_PUNCTUAL,light)}delete gltfScenegraph.json.lights}}const KHR_MATERIALS_UNLIT="KHR_materials_unlit",KHR_materials_unlit_name=KHR_MATERIALS_UNLIT;async function KHR_materials_unlit_decode(gltfData){const gltfScenegraph=new GLTFScenegraph(gltfData),{json:json}=gltfScenegraph;for(const material of json.materials||[]){material.extensions&&material.extensions.KHR_materials_unlit&&(material.unlit=!0),gltfScenegraph.removeObjectExtension(material,KHR_MATERIALS_UNLIT)}gltfScenegraph.removeExtension(KHR_MATERIALS_UNLIT)}function KHR_materials_unlit_encode(gltfData){const gltfScenegraph=new GLTFScenegraph(gltfData),{json:json}=gltfScenegraph;if(gltfScenegraph.materials)for(const material of json.materials||[])material.unlit&&(delete material.unlit,gltfScenegraph.addObjectExtension(material,KHR_MATERIALS_UNLIT,{}),gltfScenegraph.addExtension(KHR_MATERIALS_UNLIT))}const KHR_TECHNIQUES_WEBGL="KHR_techniques_webgl",KHR_techniques_webgl_name=KHR_TECHNIQUES_WEBGL;async function KHR_techniques_webgl_decode(gltfData){const gltfScenegraph=new GLTFScenegraph(gltfData),{json:json}=gltfScenegraph,extension=gltfScenegraph.getExtension(KHR_TECHNIQUES_WEBGL);if(extension){const techniques=function resolveTechniques(techniquesExtension,gltfScenegraph){const{programs:programs=[],shaders:shaders=[],techniques:techniques=[]}=techniquesExtension,textDecoder=new TextDecoder;return shaders.forEach((shader=>{if(!Number.isFinite(shader.bufferView))throw new Error("KHR_techniques_webgl: no shader code");shader.code=textDecoder.decode(gltfScenegraph.getTypedArrayForBufferView(shader.bufferView))})),programs.forEach((program=>{program.fragmentShader=shaders[program.fragmentShader],program.vertexShader=shaders[program.vertexShader]})),techniques.forEach((technique=>{technique.program=programs[technique.program]})),techniques}(extension,gltfScenegraph);for(const material of json.materials||[]){const materialExtension=gltfScenegraph.getObjectExtension(material,KHR_TECHNIQUES_WEBGL);materialExtension&&(material.technique=Object.assign({},materialExtension,techniques[materialExtension.technique]),material.technique.values=resolveValues(material.technique,gltfScenegraph)),gltfScenegraph.removeObjectExtension(material,KHR_TECHNIQUES_WEBGL)}gltfScenegraph.removeExtension(KHR_TECHNIQUES_WEBGL)}}async function KHR_techniques_webgl_encode(gltfData,options){}function resolveValues(technique,gltfScenegraph){const values=Object.assign({},technique.values);return Object.keys(technique.uniforms||{}).forEach((uniform=>{technique.uniforms[uniform].value&&!(uniform in values)&&(values[uniform]=technique.uniforms[uniform].value)})),Object.keys(values).forEach((uniform=>{"object"==typeof values[uniform]&&void 0!==values[uniform].index&&(values[uniform].texture=gltfScenegraph.getTexture(values[uniform].index))})),values}const EXT_FEATURE_METADATA="EXT_feature_metadata",EXT_feature_metadata_name=EXT_FEATURE_METADATA;async function EXT_feature_metadata_decode(gltfData){!function decodeExtFeatureMetadata(scenegraph){var _extension$schema;const extension=scenegraph.getExtension(EXT_FEATURE_METADATA),schemaClasses=null==extension||null===(_extension$schema=extension.schema)||void 0===_extension$schema?void 0:_extension$schema.classes,featureTables=null==extension?void 0:extension.featureTables;(null==extension?void 0:extension.featureTextures)&&console.warn('featureTextures is not yet supported in the "EXT_feature_metadata" extension.');if(schemaClasses&&featureTables)for(const schemaName in schemaClasses){const schemaClass=schemaClasses[schemaName],featureTable=findFeatureTableByName(featureTables,schemaName);featureTable&&handleFeatureTableProperties(scenegraph,featureTable,schemaClass)}}(new GLTFScenegraph(gltfData))}function handleFeatureTableProperties(scenegraph,featureTable,schemaClass){for(const propertyName in schemaClass.properties){var _featureTable$propert;const schemaProperty=schemaClass.properties[propertyName],featureTableProperty=null==featureTable||null===(_featureTable$propert=featureTable.properties)||void 0===_featureTable$propert?void 0:_featureTable$propert[propertyName],numberOfFeatures=featureTable.count;if(featureTableProperty){const data=getPropertyDataFromBinarySource(scenegraph,schemaProperty,numberOfFeatures,featureTableProperty);featureTableProperty.data=data}}}function getPropertyDataFromBinarySource(scenegraph,schemaProperty,numberOfFeatures,featureTableProperty){const bufferView=featureTableProperty.bufferView;let data=scenegraph.getTypedArrayForBufferView(bufferView);switch(schemaProperty.type){case"STRING":{const stringOffsetBufferView=featureTableProperty.stringOffsetBufferView;data=function getStringAttributes(data,offsetsData,stringsCount){const stringsArray=[],textDecoder=new TextDecoder("utf8");let stringOffset=0;const bytesPerStringSize=4;for(let index=0;index<stringsCount;index++){const stringByteSize=offsetsData[(index+1)*bytesPerStringSize]-offsetsData[index*bytesPerStringSize],stringData=data.subarray(stringOffset,stringByteSize+stringOffset),stringAttribute=textDecoder.decode(stringData);stringsArray.push(stringAttribute),stringOffset+=stringByteSize}return stringsArray}(data,scenegraph.getTypedArrayForBufferView(stringOffsetBufferView),numberOfFeatures);break}}return data}function findFeatureTableByName(featureTables,schemaClassName){for(const featureTableName in featureTables){const featureTable=featureTables[featureTableName];if(featureTable.class===schemaClassName)return featureTable}return null}const EXTENSIONS=[EXT_meshopt_compression_namespaceObject,EXT_texture_webp_namespaceObject,KHR_texture_basisu_namespaceObject,KHR_draco_mesh_compression_namespaceObject,KHR_lights_punctual_namespaceObject,KHR_materials_unlit_namespaceObject,KHR_techniques_webgl_namespaceObject,KHR_texture_transform_namespaceObject,EXT_feature_metadata_namespaceObject];function useExtension(extensionName,options){var _options$gltf;const excludes=(null==options||null===(_options$gltf=options.gltf)||void 0===_options$gltf?void 0:_options$gltf.excludeExtensions)||{};return!(extensionName in excludes&&!excludes[extensionName])}const GLTF_ARRAYS={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},GLTF_KEYS={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class GLTFV1Normalizer{constructor(){(0,defineProperty.Z)(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),(0,defineProperty.Z)(this,"json",void 0)}normalize(gltf,options){this.json=gltf.json;const json=gltf.json;switch(json.asset&&json.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(json.asset.version))}if(!options.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(json),this._convertTopLevelObjectsToArrays(json),function KHR_binary_gltf_preprocess(gltfData){const gltfScenegraph=new GLTFScenegraph(gltfData),{json:json}=gltfScenegraph;for(const image of json.images||[]){const extension=gltfScenegraph.getObjectExtension(image,"KHR_binary_glTF");extension&&Object.assign(image,extension),gltfScenegraph.removeObjectExtension(image,"KHR_binary_glTF")}json.buffers&&json.buffers[0]&&delete json.buffers[0].uri,gltfScenegraph.removeExtension("KHR_binary_glTF")}(gltf),this._convertObjectIdsToArrayIndices(json),this._updateObjects(json),this._updateMaterial(json)}_addAsset(json){json.asset=json.asset||{},json.asset.version="2.0",json.asset.generator=json.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(json){for(const arrayName in GLTF_ARRAYS)this._convertTopLevelObjectToArray(json,arrayName)}_convertTopLevelObjectToArray(json,mapName){const objectMap=json[mapName];if(objectMap&&!Array.isArray(objectMap)){json[mapName]=[];for(const id in objectMap){const object=objectMap[id];object.id=object.id||id;const index=json[mapName].length;json[mapName].push(object),this.idToIndexMap[mapName][id]=index}}}_convertObjectIdsToArrayIndices(json){for(const arrayName in GLTF_ARRAYS)this._convertIdsToIndices(json,arrayName);"scene"in json&&(json.scene=this._convertIdToIndex(json.scene,"scene"));for(const texture of json.textures)this._convertTextureIds(texture);for(const mesh of json.meshes)this._convertMeshIds(mesh);for(const node of json.nodes)this._convertNodeIds(node);for(const node of json.scenes)this._convertSceneIds(node)}_convertTextureIds(texture){texture.source&&(texture.source=this._convertIdToIndex(texture.source,"image"))}_convertMeshIds(mesh){for(const primitive of mesh.primitives){const{attributes:attributes,indices:indices,material:material}=primitive;for(const attributeName in attributes)attributes[attributeName]=this._convertIdToIndex(attributes[attributeName],"accessor");indices&&(primitive.indices=this._convertIdToIndex(indices,"accessor")),material&&(primitive.material=this._convertIdToIndex(material,"material"))}}_convertNodeIds(node){node.children&&(node.children=node.children.map((child=>this._convertIdToIndex(child,"node")))),node.meshes&&(node.meshes=node.meshes.map((mesh=>this._convertIdToIndex(mesh,"mesh"))))}_convertSceneIds(scene){scene.nodes&&(scene.nodes=scene.nodes.map((node=>this._convertIdToIndex(node,"node"))))}_convertIdsToIndices(json,topLevelArrayName){json[topLevelArrayName]||(console.warn("gltf v1: json doesn't contain attribute ".concat(topLevelArrayName)),json[topLevelArrayName]=[]);for(const object of json[topLevelArrayName])for(const key in object){const id=object[key],index=this._convertIdToIndex(id,key);object[key]=index}}_convertIdToIndex(id,key){const arrayName=GLTF_KEYS[key];if(arrayName in this.idToIndexMap){const index=this.idToIndexMap[arrayName][id];if(!Number.isFinite(index))throw new Error("gltf v1: failed to resolve ".concat(key," with id ").concat(id));return index}return id}_updateObjects(json){for(const buffer of this.json.buffers)delete buffer.type}_updateMaterial(json){for(const material of json.materials){var _material$values,_material$values2,_material$values3;material.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const textureId=(null===(_material$values=material.values)||void 0===_material$values?void 0:_material$values.tex)||(null===(_material$values2=material.values)||void 0===_material$values2?void 0:_material$values2.texture2d_0)||(null===(_material$values3=material.values)||void 0===_material$values3?void 0:_material$values3.diffuseTex),textureIndex=json.textures.findIndex((texture=>texture.id===textureId));-1!==textureIndex&&(material.pbrMetallicRoughness.baseColorTexture={index:textureIndex})}}}const post_process_gltf_COMPONENTS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},post_process_gltf_BYTES={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},GL_SAMPLER_TEXTURE_MAG_FILTER=10240,GL_SAMPLER_TEXTURE_MIN_FILTER=10241,GL_SAMPLER_TEXTURE_WRAP_S=10242,GL_SAMPLER_TEXTURE_WRAP_T=10243,GL_SAMPLER_REPEAT=10497,SAMPLER_PARAMETER_GLTF_TO_GL={magFilter:GL_SAMPLER_TEXTURE_MAG_FILTER,minFilter:GL_SAMPLER_TEXTURE_MIN_FILTER,wrapS:GL_SAMPLER_TEXTURE_WRAP_S,wrapT:GL_SAMPLER_TEXTURE_WRAP_T},DEFAULT_SAMPLER={[GL_SAMPLER_TEXTURE_MAG_FILTER]:9729,[GL_SAMPLER_TEXTURE_MIN_FILTER]:9986,[GL_SAMPLER_TEXTURE_WRAP_S]:GL_SAMPLER_REPEAT,[GL_SAMPLER_TEXTURE_WRAP_T]:GL_SAMPLER_REPEAT};class GLTFPostProcessor{constructor(){(0,defineProperty.Z)(this,"baseUri",""),(0,defineProperty.Z)(this,"json",{}),(0,defineProperty.Z)(this,"buffers",[]),(0,defineProperty.Z)(this,"images",[])}postProcess(gltf){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{json:json,buffers:buffers=[],images:images=[],baseUri:baseUri=""}=gltf;return(0,assert.h)(json),this.baseUri=baseUri,this.json=json,this.buffers=buffers,this.images=images,this._resolveTree(this.json,options),this.json}_resolveTree(json){json.bufferViews&&(json.bufferViews=json.bufferViews.map(((bufView,i)=>this._resolveBufferView(bufView,i)))),json.images&&(json.images=json.images.map(((image,i)=>this._resolveImage(image,i)))),json.samplers&&(json.samplers=json.samplers.map(((sampler,i)=>this._resolveSampler(sampler,i)))),json.textures&&(json.textures=json.textures.map(((texture,i)=>this._resolveTexture(texture,i)))),json.accessors&&(json.accessors=json.accessors.map(((accessor,i)=>this._resolveAccessor(accessor,i)))),json.materials&&(json.materials=json.materials.map(((material,i)=>this._resolveMaterial(material,i)))),json.meshes&&(json.meshes=json.meshes.map(((mesh,i)=>this._resolveMesh(mesh,i)))),json.nodes&&(json.nodes=json.nodes.map(((node,i)=>this._resolveNode(node,i)))),json.skins&&(json.skins=json.skins.map(((skin,i)=>this._resolveSkin(skin,i)))),json.scenes&&(json.scenes=json.scenes.map(((scene,i)=>this._resolveScene(scene,i)))),void 0!==json.scene&&(json.scene=json.scenes[this.json.scene])}getScene(index){return this._get("scenes",index)}getNode(index){return this._get("nodes",index)}getSkin(index){return this._get("skins",index)}getMesh(index){return this._get("meshes",index)}getMaterial(index){return this._get("materials",index)}getAccessor(index){return this._get("accessors",index)}getCamera(index){return null}getTexture(index){return this._get("textures",index)}getSampler(index){return this._get("samplers",index)}getImage(index){return this._get("images",index)}getBufferView(index){return this._get("bufferViews",index)}getBuffer(index){return this._get("buffers",index)}_get(array,index){if("object"==typeof index)return index;const object=this.json[array]&&this.json[array][index];return object||console.warn("glTF file error: Could not find ".concat(array,"[").concat(index,"]")),object}_resolveScene(scene,index){return scene.id=scene.id||"scene-".concat(index),scene.nodes=(scene.nodes||[]).map((node=>this.getNode(node))),scene}_resolveNode(node,index){return node.id=node.id||"node-".concat(index),node.children&&(node.children=node.children.map((child=>this.getNode(child)))),void 0!==node.mesh?node.mesh=this.getMesh(node.mesh):void 0!==node.meshes&&node.meshes.length&&(node.mesh=node.meshes.reduce(((accum,meshIndex)=>{const mesh=this.getMesh(meshIndex);return accum.id=mesh.id,accum.primitives=accum.primitives.concat(mesh.primitives),accum}),{primitives:[]})),void 0!==node.camera&&(node.camera=this.getCamera(node.camera)),void 0!==node.skin&&(node.skin=this.getSkin(node.skin)),node}_resolveSkin(skin,index){return skin.id=skin.id||"skin-".concat(index),skin.inverseBindMatrices=this.getAccessor(skin.inverseBindMatrices),skin}_resolveMesh(mesh,index){return mesh.id=mesh.id||"mesh-".concat(index),mesh.primitives&&(mesh.primitives=mesh.primitives.map((primitive=>{const attributes=(primitive={...primitive}).attributes;primitive.attributes={};for(const attribute in attributes)primitive.attributes[attribute]=this.getAccessor(attributes[attribute]);return void 0!==primitive.indices&&(primitive.indices=this.getAccessor(primitive.indices)),void 0!==primitive.material&&(primitive.material=this.getMaterial(primitive.material)),primitive}))),mesh}_resolveMaterial(material,index){if(material.id=material.id||"material-".concat(index),material.normalTexture&&(material.normalTexture={...material.normalTexture},material.normalTexture.texture=this.getTexture(material.normalTexture.index)),material.occlusionTexture&&(material.occlustionTexture={...material.occlustionTexture},material.occlusionTexture.texture=this.getTexture(material.occlusionTexture.index)),material.emissiveTexture&&(material.emmisiveTexture={...material.emmisiveTexture},material.emissiveTexture.texture=this.getTexture(material.emissiveTexture.index)),material.emissiveFactor||(material.emissiveFactor=material.emmisiveTexture?[1,1,1]:[0,0,0]),material.pbrMetallicRoughness){material.pbrMetallicRoughness={...material.pbrMetallicRoughness};const mr=material.pbrMetallicRoughness;mr.baseColorTexture&&(mr.baseColorTexture={...mr.baseColorTexture},mr.baseColorTexture.texture=this.getTexture(mr.baseColorTexture.index)),mr.metallicRoughnessTexture&&(mr.metallicRoughnessTexture={...mr.metallicRoughnessTexture},mr.metallicRoughnessTexture.texture=this.getTexture(mr.metallicRoughnessTexture.index))}return material}_resolveAccessor(accessor,index){if(accessor.id=accessor.id||"accessor-".concat(index),void 0!==accessor.bufferView&&(accessor.bufferView=this.getBufferView(accessor.bufferView)),accessor.bytesPerComponent=function post_process_gltf_getBytesFromComponentType(componentType){return post_process_gltf_BYTES[componentType]}(accessor.componentType),accessor.components=function post_process_gltf_getSizeFromAccessorType(type){return post_process_gltf_COMPONENTS[type]}(accessor.type),accessor.bytesPerElement=accessor.bytesPerComponent*accessor.components,accessor.bufferView){const buffer=accessor.bufferView.buffer,{ArrayType:ArrayType,byteLength:byteLength}=(0,gltf_utils.pN)(accessor,accessor.bufferView),byteOffset=(accessor.bufferView.byteOffset||0)+(accessor.byteOffset||0)+buffer.byteOffset;let cutBuffer=buffer.arrayBuffer.slice(byteOffset,byteOffset+byteLength);accessor.bufferView.byteStride&&(cutBuffer=this._getValueFromInterleavedBuffer(buffer,byteOffset,accessor.bufferView.byteStride,accessor.bytesPerElement,accessor.count)),accessor.value=new ArrayType(cutBuffer)}return accessor}_getValueFromInterleavedBuffer(buffer,byteOffset,byteStride,bytesPerElement,count){const result=new Uint8Array(count*bytesPerElement);for(let i=0;i<count;i++){const elementOffset=byteOffset+i*byteStride;result.set(new Uint8Array(buffer.arrayBuffer.slice(elementOffset,elementOffset+bytesPerElement)),i*bytesPerElement)}return result.buffer}_resolveTexture(texture,index){return texture.id=texture.id||"texture-".concat(index),texture.sampler="sampler"in texture?this.getSampler(texture.sampler):DEFAULT_SAMPLER,texture.source=this.getImage(texture.source),texture}_resolveSampler(sampler,index){sampler.id=sampler.id||"sampler-".concat(index),sampler.parameters={};for(const key in sampler){const glEnum=this._enumSamplerParameter(key);void 0!==glEnum&&(sampler.parameters[glEnum]=sampler[key])}return sampler}_enumSamplerParameter(key){return SAMPLER_PARAMETER_GLTF_TO_GL[key]}_resolveImage(image,index){image.id=image.id||"image-".concat(index),void 0!==image.bufferView&&(image.bufferView=this.getBufferView(image.bufferView));const preloadedImage=this.images[index];return preloadedImage&&(image.image=preloadedImage),image}_resolveBufferView(bufferView,index){const bufferIndex=bufferView.buffer,result={id:"bufferView-".concat(index),...bufferView,buffer:this.buffers[bufferIndex]},arrayBuffer=this.buffers[bufferIndex].arrayBuffer;let byteOffset=this.buffers[bufferIndex].byteOffset||0;return"byteOffset"in bufferView&&(byteOffset+=bufferView.byteOffset),result.data=new Uint8Array(arrayBuffer,byteOffset,bufferView.byteLength),result}_resolveCamera(camera,index){return camera.id=camera.id||"camera-".concat(index),camera.perspective,camera.orthographic,camera}}const MAGIC_glTF=1735152710,GLB_FILE_HEADER_SIZE=12,GLB_CHUNK_HEADER_SIZE=8,GLB_CHUNK_TYPE_JSON=1313821514,GLB_CHUNK_TYPE_BIN=5130562,GLB_CHUNK_TYPE_JSON_XVIZ_DEPRECATED=0,GLB_CHUNK_TYPE_BIX_XVIZ_DEPRECATED=1,GLB_V1_CONTENT_FORMAT_JSON=0,LE=!0;function parseGLBSync(glb,arrayBuffer){let byteOffset=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const dataView=new DataView(arrayBuffer),type=function parse_glb_getMagicString(dataView){let byteOffset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(dataView.getUint8(byteOffset+0))).concat(String.fromCharCode(dataView.getUint8(byteOffset+1))).concat(String.fromCharCode(dataView.getUint8(byteOffset+2))).concat(String.fromCharCode(dataView.getUint8(byteOffset+3)))}(dataView,byteOffset+0),version=dataView.getUint32(byteOffset+4,LE),byteLength=dataView.getUint32(byteOffset+8,LE);switch(Object.assign(glb,{header:{byteOffset:byteOffset,byteLength:byteLength,hasBinChunk:!1},type:type,version:version,json:{},binChunks:[]}),byteOffset+=GLB_FILE_HEADER_SIZE,glb.version){case 1:return function parseGLBV1(glb,dataView,byteOffset){(0,env_utils_assert.h)(glb.header.byteLength>GLB_FILE_HEADER_SIZE+GLB_CHUNK_HEADER_SIZE);const contentLength=dataView.getUint32(byteOffset+0,LE),contentFormat=dataView.getUint32(byteOffset+4,LE);return byteOffset+=GLB_CHUNK_HEADER_SIZE,(0,env_utils_assert.h)(contentFormat===GLB_V1_CONTENT_FORMAT_JSON),parseJSONChunk(glb,dataView,byteOffset,contentLength),byteOffset+=contentLength,byteOffset+=parseBINChunk(glb,dataView,byteOffset,glb.header.byteLength),byteOffset}(glb,dataView,byteOffset);case 2:return function parseGLBV2(glb,dataView,byteOffset,options){return(0,env_utils_assert.h)(glb.header.byteLength>GLB_FILE_HEADER_SIZE+GLB_CHUNK_HEADER_SIZE),function parseGLBChunksSync(glb,dataView,byteOffset,options){for(;byteOffset+8<=glb.header.byteLength;){const chunkLength=dataView.getUint32(byteOffset+0,LE),chunkFormat=dataView.getUint32(byteOffset+4,LE);switch(byteOffset+=GLB_CHUNK_HEADER_SIZE,chunkFormat){case GLB_CHUNK_TYPE_JSON:parseJSONChunk(glb,dataView,byteOffset,chunkLength);break;case GLB_CHUNK_TYPE_BIN:parseBINChunk(glb,dataView,byteOffset,chunkLength);break;case GLB_CHUNK_TYPE_JSON_XVIZ_DEPRECATED:options.strict||parseJSONChunk(glb,dataView,byteOffset,chunkLength);break;case GLB_CHUNK_TYPE_BIX_XVIZ_DEPRECATED:options.strict||parseBINChunk(glb,dataView,byteOffset,chunkLength)}byteOffset+=padToNBytes(chunkLength,4)}return byteOffset}(glb,dataView,byteOffset,options),byteOffset+glb.header.byteLength}(glb,dataView,byteOffset,options={});default:throw new Error("Invalid GLB version ".concat(glb.version,". Only supports v1 and v2."))}}function parseJSONChunk(glb,dataView,byteOffset,chunkLength){const jsonChunk=new Uint8Array(dataView.buffer,byteOffset,chunkLength),jsonText=new TextDecoder("utf8").decode(jsonChunk);return glb.json=JSON.parse(jsonText),padToNBytes(chunkLength,4)}function parseBINChunk(glb,dataView,byteOffset,chunkLength){return glb.header.hasBinChunk=!0,glb.binChunks.push({byteOffset:byteOffset,byteLength:chunkLength,arrayBuffer:dataView.buffer}),padToNBytes(chunkLength,4)}async function parseGLTF(gltf,arrayBufferOrString){var _options$gltf,_options$gltf2,_options$gltf3,_options$gltf4;let options=arguments.length>3?arguments[3]:void 0,context=arguments.length>4?arguments[4]:void 0;!function parseGLTFContainerSync(gltf,data,byteOffset,options){options.uri&&(gltf.baseUri=options.uri);if(data instanceof ArrayBuffer&&!function parse_glb_isGLB(arrayBuffer){let byteOffset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const dataView=new DataView(arrayBuffer),{magic:magic=MAGIC_glTF}=options,magic1=dataView.getUint32(byteOffset,!1);return magic1===magic||magic1===MAGIC_glTF}(data,byteOffset,options)){data=(new TextDecoder).decode(data)}if("string"==typeof data)gltf.json=parseJSON(data);else if(data instanceof ArrayBuffer){const glb={};byteOffset=parseGLBSync(glb,data,byteOffset,options.glb),(0,assert.h)("glTF"===glb.type,"Invalid GLB magic string ".concat(glb.type)),gltf._glb=glb,gltf.json=glb.json}else(0,assert.h)(!1,"GLTF: must be ArrayBuffer or string");const buffers=gltf.json.buffers||[];if(gltf.buffers=new Array(buffers.length).fill(null),gltf._glb&&gltf._glb.header.hasBinChunk){const{binChunks:binChunks}=gltf._glb;gltf.buffers[0]={arrayBuffer:binChunks[0].arrayBuffer,byteOffset:binChunks[0].byteOffset,byteLength:binChunks[0].byteLength}}const images=gltf.json.images||[];gltf.images=new Array(images.length).fill({})}(gltf,arrayBufferOrString,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,options),function normalizeGLTFV1(gltf){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new GLTFV1Normalizer).normalize(gltf,options)}(gltf,{normalize:null==options||null===(_options$gltf=options.gltf)||void 0===_options$gltf?void 0:_options$gltf.normalize}),function preprocessExtensions(gltf){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},context=arguments.length>2?arguments[2]:void 0;const extensions=EXTENSIONS.filter((extension=>useExtension(extension.name,options)));for(const extension of extensions){var _extension$preprocess;null===(_extension$preprocess=extension.preprocess)||void 0===_extension$preprocess||_extension$preprocess.call(extension,gltf,options,context)}}(gltf,options,context);const promises=[];if(null!=options&&null!==(_options$gltf2=options.gltf)&&void 0!==_options$gltf2&&_options$gltf2.loadBuffers&&gltf.json.buffers&&await async function loadBuffers(gltf,options,context){const buffers=gltf.json.buffers||[];for(let i=0;i<buffers.length;++i){const buffer=buffers[i];if(buffer.uri){var _context$fetch,_response$arrayBuffer;const{fetch:fetch}=context;(0,assert.h)(fetch);const uri=resolveUrl(buffer.uri,options),response=await(null==context||null===(_context$fetch=context.fetch)||void 0===_context$fetch?void 0:_context$fetch.call(context,uri)),arrayBuffer=await(null==response||null===(_response$arrayBuffer=response.arrayBuffer)||void 0===_response$arrayBuffer?void 0:_response$arrayBuffer.call(response));gltf.buffers[i]={arrayBuffer:arrayBuffer,byteOffset:0,byteLength:arrayBuffer.byteLength},delete buffer.uri}else null===gltf.buffers[i]&&(gltf.buffers[i]={arrayBuffer:new ArrayBuffer(buffer.byteLength),byteOffset:0,byteLength:buffer.byteLength})}}(gltf,options,context),null!=options&&null!==(_options$gltf3=options.gltf)&&void 0!==_options$gltf3&&_options$gltf3.loadImages){const promise=async function loadImages(gltf,options,context){const imageIndices=function getReferencesImageIndices(gltf){const imageIndices=new Set,textures=gltf.json.textures||[];for(const texture of textures)void 0!==texture.source&&imageIndices.add(texture.source);return Array.from(imageIndices).sort()}(gltf),images=gltf.json.images||[],promises=[];for(const imageIndex of imageIndices)promises.push(loadImage(gltf,images[imageIndex],imageIndex,options,context));return await Promise.all(promises)}(gltf,options,context);promises.push(promise)}const promise=async function decodeExtensions(gltf){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},context=arguments.length>2?arguments[2]:void 0;const extensions=EXTENSIONS.filter((extension=>useExtension(extension.name,options)));for(const extension of extensions){var _extension$decode;await(null===(_extension$decode=extension.decode)||void 0===_extension$decode?void 0:_extension$decode.call(extension,gltf,options,context))}}(gltf,options,context);return promises.push(promise),await Promise.all(promises),null!=options&&null!==(_options$gltf4=options.gltf)&&void 0!==_options$gltf4&&_options$gltf4.postProcess?function postProcessGLTF(gltf,options){return(new GLTFPostProcessor).postProcess(gltf,options)}(gltf,options):gltf}async function loadImage(gltf,image,index,options,context){const{fetch:fetch,parse:parse}=context;let arrayBuffer;if(image.uri&&!image.hasOwnProperty("bufferView")){const uri=resolveUrl(image.uri,options),response=await fetch(uri);arrayBuffer=await response.arrayBuffer(),image.bufferView={data:arrayBuffer}}if(Number.isFinite(image.bufferView)){const array=getTypedArrayForBufferView(gltf.json,gltf.buffers,image.bufferView);arrayBuffer=(0,array_buffer_utils.qv)(array.buffer,array.byteOffset,array.byteLength)}(0,assert.h)(arrayBuffer,"glTF image has no data");let parsedImage=await parse(arrayBuffer,[image_loader.S,BasisLoader],{mimeType:image.mimeType,basis:options.basis||{format:selectSupportedBasisFormat()}},context);parsedImage&&parsedImage[0]&&(parsedImage={compressed:!0,mipmaps:!1,width:parsedImage[0].width,height:parsedImage[0].height,data:parsedImage[0]}),gltf.images=gltf.images||[],gltf.images[index]=parsedImage}const GLTFLoader={name:"glTF",id:"gltf",module:"gltf",version:"3.4.4",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:async function parse(arrayBuffer){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},context=arguments.length>2?arguments[2]:void 0;options={...GLTFLoader.options,...options},options.gltf={...GLTFLoader.options.gltf,...options.gltf};const{byteOffset:byteOffset=0}=options;return await parseGLTF({},arrayBuffer,byteOffset,options,context)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}}},"./node_modules/@loaders.gl/gltf/dist/esm/lib/gltf-utils/gltf-utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Xr:function(){return getMemoryUsageGLTF},dl:function(){return getAccessorTypeFromSize},pN:function(){return getAccessorArrayTypeAndLength},x$:function(){return getComponentTypeFromArray}});var _utils_assert__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@loaders.gl/gltf/dist/esm/lib/utils/assert.js");const TYPES=["SCALAR","VEC2","VEC3","VEC4"],ARRAY_CONSTRUCTOR_TO_WEBGL_CONSTANT=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],ARRAY_TO_COMPONENT_TYPE=new Map(ARRAY_CONSTRUCTOR_TO_WEBGL_CONSTANT),ATTRIBUTE_TYPE_TO_COMPONENTS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function getAccessorTypeFromSize(size){return TYPES[size-1]||TYPES[0]}function getComponentTypeFromArray(typedArray){const componentType=ARRAY_TO_COMPONENT_TYPE.get(typedArray.constructor);if(!componentType)throw new Error("Illegal typed array");return componentType}function getAccessorArrayTypeAndLength(accessor,bufferView){const ArrayType=ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[accessor.componentType],components=ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type],bytesPerComponent=ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[accessor.componentType],length=accessor.count*components,byteLength=accessor.count*components*bytesPerComponent;return(0,_utils_assert__WEBPACK_IMPORTED_MODULE_0__.h)(byteLength>=0&&byteLength<=bufferView.byteLength),{ArrayType:ArrayType,length:length,byteLength:byteLength}}function getMemoryUsageGLTF(gltf){let{images:images,bufferViews:bufferViews}=gltf;images=images||[],bufferViews=bufferViews||[];const imageBufferViews=images.map((i=>i.bufferView));bufferViews=bufferViews.filter((view=>!imageBufferViews.includes(view)));const bufferMemory=bufferViews.reduce(((acc,view)=>acc+view.byteLength),0),pixelCount=images.reduce(((acc,image)=>{const{width:width,height:height}=image.image;return acc+width*height}),0);return bufferMemory+Math.ceil(4*pixelCount*1.33)}},"./node_modules/@loaders.gl/gltf/dist/esm/lib/utils/assert.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function assert(condition,message){if(!condition)throw new Error(message||"assert failed: gltf")}__webpack_require__.d(__webpack_exports__,{h:function(){return assert}})},"./node_modules/@loaders.gl/loader-utils/dist/esm/json-loader.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{H:function(){return JSONLoader}});const JSONLoader={name:"JSON",id:"json",module:"json",version:"3.4.4",extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:parseTextSync,parse:async arrayBuffer=>parseTextSync((new TextDecoder).decode(arrayBuffer)),options:{}};function parseTextSync(text){return JSON.parse(text)}},"./node_modules/@loaders.gl/schema/dist/esm/category/mesh/mesh-utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function getMeshBoundingBox(attributes){let minX=1/0,minY=1/0,minZ=1/0,maxX=-1/0,maxY=-1/0,maxZ=-1/0;const positions=attributes.POSITION?attributes.POSITION.value:[],len=positions&&positions.length;for(let i=0;i<len;i+=3){const x=positions[i],y=positions[i+1],z=positions[i+2];minX=x<minX?x:minX,minY=y<minY?y:minY,minZ=z<minZ?z:minZ,maxX=x>maxX?x:maxX,maxY=y>maxY?y:maxY,maxZ=z>maxZ?z:maxZ}return[[minX,minY,minZ],[maxX,maxY,maxZ]]}__webpack_require__.d(__webpack_exports__,{v:function(){return getMeshBoundingBox}})},"./node_modules/@loaders.gl/terrain/dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{xu:function(){return TerrainLoader}});var mesh_utils=__webpack_require__("./node_modules/@loaders.gl/schema/dist/esm/category/mesh/mesh-utils.js");const QUANTIZED_MESH_HEADER=new Map([["centerX",Float64Array.BYTES_PER_ELEMENT],["centerY",Float64Array.BYTES_PER_ELEMENT],["centerZ",Float64Array.BYTES_PER_ELEMENT],["minHeight",Float32Array.BYTES_PER_ELEMENT],["maxHeight",Float32Array.BYTES_PER_ELEMENT],["boundingSphereCenterX",Float64Array.BYTES_PER_ELEMENT],["boundingSphereCenterY",Float64Array.BYTES_PER_ELEMENT],["boundingSphereCenterZ",Float64Array.BYTES_PER_ELEMENT],["boundingSphereRadius",Float64Array.BYTES_PER_ELEMENT],["horizonOcclusionPointX",Float64Array.BYTES_PER_ELEMENT],["horizonOcclusionPointY",Float64Array.BYTES_PER_ELEMENT],["horizonOcclusionPointZ",Float64Array.BYTES_PER_ELEMENT]]);function decodeZigZag(value){return value>>1^-(1&value)}function decodeIndex(buffer,position,indicesCount,bytesPerIndex){let indices,encoded=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(indices=2===bytesPerIndex?new Uint16Array(buffer,position,indicesCount):new Uint32Array(buffer,position,indicesCount),!encoded)return indices;let highest=0;for(let i=0;i<indices.length;++i){const code=indices[i];indices[i]=highest-code,0===code&&++highest}return indices}function decodeWaterMaskExtension(extensionDataView){return extensionDataView.buffer.slice(extensionDataView.byteOffset,extensionDataView.byteOffset+extensionDataView.byteLength)}const DECODING_STEPS={header:0,vertices:1,triangleIndices:2,edgeIndices:3,extensions:4},DEFAULT_OPTIONS={maxDecodingStep:DECODING_STEPS.extensions};function decode(data,userOptions){const options=Object.assign({},DEFAULT_OPTIONS,userOptions),view=new DataView(data),{header:header,headerEndPosition:headerEndPosition}=function decodeHeader(dataView){let position=0;const header={};for(const[key,bytesCount]of QUANTIZED_MESH_HEADER){const getter=8===bytesCount?dataView.getFloat64:dataView.getFloat32;header[key]=getter.call(dataView,position,!0),position+=bytesCount}return{header:header,headerEndPosition:position}}(view);if(options.maxDecodingStep<DECODING_STEPS.vertices)return{header:header};const{vertexData:vertexData,vertexDataEndPosition:vertexDataEndPosition}=function decodeVertexData(dataView,headerEndPosition){let position=headerEndPosition;const vertexCount=dataView.getUint32(position,!0),vertexData=new Uint16Array(3*vertexCount);position+=Uint32Array.BYTES_PER_ELEMENT;const bytesPerArrayElement=Uint16Array.BYTES_PER_ELEMENT,elementArrayLength=vertexCount*bytesPerArrayElement,uArrayStartPosition=position,vArrayStartPosition=uArrayStartPosition+elementArrayLength,heightArrayStartPosition=vArrayStartPosition+elementArrayLength;let u=0,v=0,height=0;for(let i=0;i<vertexCount;i++)u+=decodeZigZag(dataView.getUint16(uArrayStartPosition+bytesPerArrayElement*i,!0)),v+=decodeZigZag(dataView.getUint16(vArrayStartPosition+bytesPerArrayElement*i,!0)),height+=decodeZigZag(dataView.getUint16(heightArrayStartPosition+bytesPerArrayElement*i,!0)),vertexData[i]=u,vertexData[i+vertexCount]=v,vertexData[i+2*vertexCount]=height;return position+=3*elementArrayLength,{vertexData:vertexData,vertexDataEndPosition:position}}(view,headerEndPosition);if(options.maxDecodingStep<DECODING_STEPS.triangleIndices)return{header:header,vertexData:vertexData};const{triangleIndices:triangleIndices,triangleIndicesEndPosition:triangleIndicesEndPosition}=function decodeTriangleIndices(dataView,vertexData,vertexDataEndPosition){let position=vertexDataEndPosition;const bytesPerIndex=vertexData.length/3>65536?Uint32Array.BYTES_PER_ELEMENT:Uint16Array.BYTES_PER_ELEMENT;position%bytesPerIndex!=0&&(position+=bytesPerIndex-position%bytesPerIndex);const triangleCount=dataView.getUint32(position,!0);position+=Uint32Array.BYTES_PER_ELEMENT;const triangleIndicesCount=3*triangleCount,triangleIndices=decodeIndex(dataView.buffer,position,triangleIndicesCount,bytesPerIndex);return position+=triangleIndicesCount*bytesPerIndex,{triangleIndicesEndPosition:position,triangleIndices:triangleIndices}}(view,vertexData,vertexDataEndPosition);if(options.maxDecodingStep<DECODING_STEPS.edgeIndices)return{header:header,vertexData:vertexData,triangleIndices:triangleIndices};const{westIndices:westIndices,southIndices:southIndices,eastIndices:eastIndices,northIndices:northIndices,edgeIndicesEndPosition:edgeIndicesEndPosition}=function decodeEdgeIndices(dataView,vertexData,triangleIndicesEndPosition){let position=triangleIndicesEndPosition;const bytesPerIndex=vertexData.length/3>65536?Uint32Array.BYTES_PER_ELEMENT:Uint16Array.BYTES_PER_ELEMENT,westVertexCount=dataView.getUint32(position,!0);position+=Uint32Array.BYTES_PER_ELEMENT;const westIndices=decodeIndex(dataView.buffer,position,westVertexCount,bytesPerIndex,!1);position+=westVertexCount*bytesPerIndex;const southVertexCount=dataView.getUint32(position,!0);position+=Uint32Array.BYTES_PER_ELEMENT;const southIndices=decodeIndex(dataView.buffer,position,southVertexCount,bytesPerIndex,!1);position+=southVertexCount*bytesPerIndex;const eastVertexCount=dataView.getUint32(position,!0);position+=Uint32Array.BYTES_PER_ELEMENT;const eastIndices=decodeIndex(dataView.buffer,position,eastVertexCount,bytesPerIndex,!1);position+=eastVertexCount*bytesPerIndex;const northVertexCount=dataView.getUint32(position,!0);position+=Uint32Array.BYTES_PER_ELEMENT;const northIndices=decodeIndex(dataView.buffer,position,northVertexCount,bytesPerIndex,!1);return position+=northVertexCount*bytesPerIndex,{edgeIndicesEndPosition:position,westIndices:westIndices,southIndices:southIndices,eastIndices:eastIndices,northIndices:northIndices}}(view,vertexData,triangleIndicesEndPosition);if(options.maxDecodingStep<DECODING_STEPS.extensions)return{header:header,vertexData:vertexData,triangleIndices:triangleIndices,westIndices:westIndices,northIndices:northIndices,eastIndices:eastIndices,southIndices:southIndices};const{extensions:extensions}=function decodeExtensions(dataView,indicesEndPosition){const extensions={};if(dataView.byteLength<=indicesEndPosition)return{extensions:extensions,extensionsEndPosition:indicesEndPosition};let position=indicesEndPosition;for(;position<dataView.byteLength;){const extensionId=dataView.getUint8(position,!0);position+=Uint8Array.BYTES_PER_ELEMENT;const extensionLength=dataView.getUint32(position,!0);position+=Uint32Array.BYTES_PER_ELEMENT;const extensionView=new DataView(dataView.buffer,position,extensionLength);switch(extensionId){case 1:extensions.vertexNormals=(extensionDataView=extensionView,new Uint8Array(extensionDataView.buffer,extensionDataView.byteOffset,extensionDataView.byteLength));break;case 2:extensions.waterMask=decodeWaterMaskExtension(extensionView)}position+=extensionLength}var extensionDataView;return{extensions:extensions,extensionsEndPosition:position}}(view,edgeIndicesEndPosition);return{header:header,vertexData:vertexData,triangleIndices:triangleIndices,westIndices:westIndices,northIndices:northIndices,eastIndices:eastIndices,southIndices:southIndices,extensions:extensions}}var array_buffer_utils=__webpack_require__("./node_modules/@loaders.gl/loader-utils/dist/esm/lib/binary-utils/array-buffer-utils.js");function addSkirt(attributes,triangles,skirtHeight,outsideIndices){const outsideEdges=outsideIndices?function getOutsideEdgesFromIndices(indices,position){indices.westIndices.sort(((a,b)=>position[3*a+1]-position[3*b+1])),indices.eastIndices.sort(((a,b)=>position[3*b+1]-position[3*a+1])),indices.southIndices.sort(((a,b)=>position[3*b]-position[3*a])),indices.northIndices.sort(((a,b)=>position[3*a]-position[3*b]));const edges=[];for(const index in indices){const indexGroup=indices[index];for(let i=0;i<indexGroup.length-1;i++)edges.push([indexGroup[i],indexGroup[i+1]])}return edges}(outsideIndices,attributes.POSITION.value):function getOutsideEdgesFromTriangles(triangles){const edges=[];for(let i=0;i<triangles.length;i+=3)edges.push([triangles[i],triangles[i+1]]),edges.push([triangles[i+1],triangles[i+2]]),edges.push([triangles[i+2],triangles[i]]);edges.sort(((a,b)=>Math.min(...a)-Math.min(...b)||Math.max(...a)-Math.max(...b)));const outsideEdges=[];let index=0;for(;index<edges.length;){var _edges,_edges2;edges[index][0]===(null===(_edges=edges[index+1])||void 0===_edges?void 0:_edges[1])&&edges[index][1]===(null===(_edges2=edges[index+1])||void 0===_edges2?void 0:_edges2[0])?index+=2:(outsideEdges.push(edges[index]),index++)}return outsideEdges}(triangles),newPosition=new attributes.POSITION.value.constructor(6*outsideEdges.length),newTexcoord0=new attributes.TEXCOORD_0.value.constructor(4*outsideEdges.length),newTriangles=new triangles.constructor(6*outsideEdges.length);for(let i=0;i<outsideEdges.length;i++){updateAttributesForNewEdge({edge:outsideEdges[i],edgeIndex:i,attributes:attributes,skirtHeight:skirtHeight,newPosition:newPosition,newTexcoord0:newTexcoord0,newTriangles:newTriangles})}attributes.POSITION.value=(0,array_buffer_utils.eV)(attributes.POSITION.value,newPosition),attributes.TEXCOORD_0.value=(0,array_buffer_utils.eV)(attributes.TEXCOORD_0.value,newTexcoord0);return{attributes:attributes,triangles:triangles instanceof Array?triangles.concat(newTriangles):(0,array_buffer_utils.eV)(triangles,newTriangles)}}function updateAttributesForNewEdge(_ref){let{edge:edge,edgeIndex:edgeIndex,attributes:attributes,skirtHeight:skirtHeight,newPosition:newPosition,newTexcoord0:newTexcoord0,newTriangles:newTriangles}=_ref;const positionsLength=attributes.POSITION.value.length,vertex1Offset=2*edgeIndex,vertex2Offset=2*edgeIndex+1;newPosition.set(attributes.POSITION.value.subarray(3*edge[0],3*edge[0]+3),3*vertex1Offset),newPosition[3*vertex1Offset+2]=newPosition[3*vertex1Offset+2]-skirtHeight,newPosition.set(attributes.POSITION.value.subarray(3*edge[1],3*edge[1]+3),3*vertex2Offset),newPosition[3*vertex2Offset+2]=newPosition[3*vertex2Offset+2]-skirtHeight,newTexcoord0.set(attributes.TEXCOORD_0.value.subarray(2*edge[0],2*edge[0]+2),2*vertex1Offset),newTexcoord0.set(attributes.TEXCOORD_0.value.subarray(2*edge[1],2*edge[1]+2),2*vertex2Offset);const triangle1Offset=2*edgeIndex*3;newTriangles[triangle1Offset]=edge[0],newTriangles[triangle1Offset+1]=positionsLength/3+vertex2Offset,newTriangles[triangle1Offset+2]=edge[1],newTriangles[triangle1Offset+3]=positionsLength/3+vertex2Offset,newTriangles[triangle1Offset+4]=edge[0],newTriangles[triangle1Offset+5]=positionsLength/3+vertex1Offset}function getTileMesh(arrayBuffer,options){if(!arrayBuffer)return null;const{bounds:bounds}=options,{header:header,vertexData:vertexData,triangleIndices:originalTriangleIndices,westIndices:westIndices,northIndices:northIndices,eastIndices:eastIndices,southIndices:southIndices}=decode(arrayBuffer,DECODING_STEPS.triangleIndices);let triangleIndices=originalTriangleIndices,attributes=function getMeshAttributes(vertexData,header,bounds){const{minHeight:minHeight,maxHeight:maxHeight}=header,[minX,minY,maxX,maxY]=bounds||[0,0,1,1],xScale=maxX-minX,yScale=maxY-minY,zScale=maxHeight-minHeight,nCoords=vertexData.length/3,positions=new Float32Array(3*nCoords),texCoords=new Float32Array(2*nCoords);for(let i=0;i<nCoords;i++){const x=vertexData[i]/32767,y=vertexData[i+nCoords]/32767,z=vertexData[i+2*nCoords]/32767;positions[3*i+0]=x*xScale+minX,positions[3*i+1]=y*yScale+minY,positions[3*i+2]=z*zScale+minHeight,texCoords[2*i+0]=x,texCoords[2*i+1]=y}return{POSITION:{value:positions,size:3},TEXCOORD_0:{value:texCoords,size:2}}}(vertexData,header,bounds);const boundingBox=(0,mesh_utils.v)(attributes);if(options.skirtHeight){const{attributes:newAttributes,triangles:newTriangles}=addSkirt(attributes,triangleIndices,options.skirtHeight,{westIndices:westIndices,northIndices:northIndices,eastIndices:eastIndices,southIndices:southIndices});attributes=newAttributes,triangleIndices=newTriangles}return{loaderData:{header:{}},header:{vertexCount:triangleIndices.length,boundingBox:boundingBox},mode:4,indices:{value:triangleIndices,size:1},attributes:attributes}}function loadQuantizedMesh(arrayBuffer,options){return getTileMesh(arrayBuffer,options["quantized-mesh"])}class Martini{constructor(gridSize=257){this.gridSize=gridSize;const tileSize=gridSize-1;if(tileSize&tileSize-1)throw new Error(`Expected grid size to be 2^n+1, got ${gridSize}.`);this.numTriangles=tileSize*tileSize*2-2,this.numParentTriangles=this.numTriangles-tileSize*tileSize,this.indices=new Uint32Array(this.gridSize*this.gridSize),this.coords=new Uint16Array(4*this.numTriangles);for(let i=0;i<this.numTriangles;i++){let id=i+2,ax=0,ay=0,bx=0,by=0,cx=0,cy=0;for(1&id?bx=by=cx=tileSize:ax=ay=cy=tileSize;(id>>=1)>1;){const mx=ax+bx>>1,my=ay+by>>1;1&id?(bx=ax,by=ay,ax=cx,ay=cy):(ax=bx,ay=by,bx=cx,by=cy),cx=mx,cy=my}const k=4*i;this.coords[k+0]=ax,this.coords[k+1]=ay,this.coords[k+2]=bx,this.coords[k+3]=by}}createTile(terrain){return new Tile(terrain,this)}}class Tile{constructor(terrain,martini){const size=martini.gridSize;if(terrain.length!==size*size)throw new Error(`Expected terrain data of length ${size*size} (${size} x ${size}), got ${terrain.length}.`);this.terrain=terrain,this.martini=martini,this.errors=new Float32Array(terrain.length),this.update()}update(){const{numTriangles:numTriangles,numParentTriangles:numParentTriangles,coords:coords,gridSize:size}=this.martini,{terrain:terrain,errors:errors}=this;for(let i=numTriangles-1;i>=0;i--){const k=4*i,ax=coords[k+0],ay=coords[k+1],bx=coords[k+2],by=coords[k+3],mx=ax+bx>>1,my=ay+by>>1,cx=mx+my-ay,cy=my+ax-mx,interpolatedHeight=(terrain[ay*size+ax]+terrain[by*size+bx])/2,middleIndex=my*size+mx,middleError=Math.abs(interpolatedHeight-terrain[middleIndex]);if(errors[middleIndex]=Math.max(errors[middleIndex],middleError),i<numParentTriangles){const leftChildIndex=(ay+cy>>1)*size+(ax+cx>>1),rightChildIndex=(by+cy>>1)*size+(bx+cx>>1);errors[middleIndex]=Math.max(errors[middleIndex],errors[leftChildIndex],errors[rightChildIndex])}}}getMesh(maxError=0){const{gridSize:size,indices:indices}=this.martini,{errors:errors}=this;let numVertices=0,numTriangles=0;const max=size-1;function countElements(ax,ay,bx,by,cx,cy){const mx=ax+bx>>1,my=ay+by>>1;Math.abs(ax-cx)+Math.abs(ay-cy)>1&&errors[my*size+mx]>maxError?(countElements(cx,cy,ax,ay,mx,my),countElements(bx,by,cx,cy,mx,my)):(indices[ay*size+ax]=indices[ay*size+ax]||++numVertices,indices[by*size+bx]=indices[by*size+bx]||++numVertices,indices[cy*size+cx]=indices[cy*size+cx]||++numVertices,numTriangles++)}indices.fill(0),countElements(0,0,max,max,max,0),countElements(max,max,0,0,0,max);const vertices=new Uint16Array(2*numVertices),triangles=new Uint32Array(3*numTriangles);let triIndex=0;function processTriangle(ax,ay,bx,by,cx,cy){const mx=ax+bx>>1,my=ay+by>>1;if(Math.abs(ax-cx)+Math.abs(ay-cy)>1&&errors[my*size+mx]>maxError)processTriangle(cx,cy,ax,ay,mx,my),processTriangle(bx,by,cx,cy,mx,my);else{const a=indices[ay*size+ax]-1,b=indices[by*size+bx]-1,c=indices[cy*size+cx]-1;vertices[2*a]=ax,vertices[2*a+1]=ay,vertices[2*b]=bx,vertices[2*b+1]=by,vertices[2*c]=cx,vertices[2*c+1]=cy,triangles[triIndex++]=a,triangles[triIndex++]=b,triangles[triIndex++]=c}}return processTriangle(0,0,max,max,max,0),processTriangle(max,max,0,0,0,max),{vertices:vertices,triangles:triangles}}}class Delatin{constructor(data,width){let height=arguments.length>2&&void 0!==arguments[2]?arguments[2]:width;this.data=data,this.width=width,this.height=height,this.coords=[],this.triangles=[],this._halfedges=[],this._candidates=[],this._queueIndices=[],this._queue=[],this._errors=[],this._rms=[],this._pending=[],this._pendingLen=0,this._rmsSum=0;const x1=width-1,y1=height-1,p0=this._addPoint(0,0),p1=this._addPoint(x1,0),p2=this._addPoint(0,y1),p3=this._addPoint(x1,y1),t0=this._addTriangle(p3,p0,p2,-1,-1,-1);this._addTriangle(p0,p3,p1,t0,-1,-1),this._flush()}run(){let maxError=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(;this.getMaxError()>maxError;)this.refine()}refine(){this._step(),this._flush()}getMaxError(){return this._errors[0]}getRMSD(){return this._rmsSum>0?Math.sqrt(this._rmsSum/(this.width*this.height)):0}heightAt(x,y){return this.data[this.width*y+x]}_flush(){const coords=this.coords;for(let i=0;i<this._pendingLen;i++){const t=this._pending[i],a=2*this.triangles[3*t+0],b=2*this.triangles[3*t+1],c=2*this.triangles[3*t+2];this._findCandidate(coords[a],coords[a+1],coords[b],coords[b+1],coords[c],coords[c+1],t)}this._pendingLen=0}_findCandidate(p0x,p0y,p1x,p1y,p2x,p2y,t){const minX=Math.min(p0x,p1x,p2x),minY=Math.min(p0y,p1y,p2y),maxX=Math.max(p0x,p1x,p2x),maxY=Math.max(p0y,p1y,p2y);let w00=orient(p1x,p1y,p2x,p2y,minX,minY),w01=orient(p2x,p2y,p0x,p0y,minX,minY),w02=orient(p0x,p0y,p1x,p1y,minX,minY);const a01=p1y-p0y,b01=p0x-p1x,a12=p2y-p1y,b12=p1x-p2x,a20=p0y-p2y,b20=p2x-p0x,a=orient(p0x,p0y,p1x,p1y,p2x,p2y),z0=this.heightAt(p0x,p0y)/a,z1=this.heightAt(p1x,p1y)/a,z2=this.heightAt(p2x,p2y)/a;let maxError=0,mx=0,my=0,rms=0;for(let y=minY;y<=maxY;y++){let dx=0;w00<0&&0!==a12&&(dx=Math.max(dx,Math.floor(-w00/a12))),w01<0&&0!==a20&&(dx=Math.max(dx,Math.floor(-w01/a20))),w02<0&&0!==a01&&(dx=Math.max(dx,Math.floor(-w02/a01)));let w0=w00+a12*dx,w1=w01+a20*dx,w2=w02+a01*dx,wasInside=!1;for(let x=minX+dx;x<=maxX;x++){if(w0>=0&&w1>=0&&w2>=0){wasInside=!0;const z=z0*w0+z1*w1+z2*w2,dz=Math.abs(z-this.heightAt(x,y));rms+=dz*dz,dz>maxError&&(maxError=dz,mx=x,my=y)}else if(wasInside)break;w0+=a12,w1+=a20,w2+=a01}w00+=b12,w01+=b20,w02+=b01}(mx===p0x&&my===p0y||mx===p1x&&my===p1y||mx===p2x&&my===p2y)&&(maxError=0),this._candidates[2*t]=mx,this._candidates[2*t+1]=my,this._rms[t]=rms,this._queuePush(t,maxError,rms)}_step(){const t=this._queuePop(),e0=3*t+0,e1=3*t+1,e2=3*t+2,p0=this.triangles[e0],p1=this.triangles[e1],p2=this.triangles[e2],ax=this.coords[2*p0],ay=this.coords[2*p0+1],bx=this.coords[2*p1],by=this.coords[2*p1+1],cx=this.coords[2*p2],cy=this.coords[2*p2+1],px=this._candidates[2*t],py=this._candidates[2*t+1],pn=this._addPoint(px,py);if(0===orient(ax,ay,bx,by,px,py))this._handleCollinear(pn,e0);else if(0===orient(bx,by,cx,cy,px,py))this._handleCollinear(pn,e1);else if(0===orient(cx,cy,ax,ay,px,py))this._handleCollinear(pn,e2);else{const h0=this._halfedges[e0],h1=this._halfedges[e1],h2=this._halfedges[e2],t0=this._addTriangle(p0,p1,pn,h0,-1,-1,e0),t1=this._addTriangle(p1,p2,pn,h1,-1,t0+1),t2=this._addTriangle(p2,p0,pn,h2,t0+2,t1+1);this._legalize(t0),this._legalize(t1),this._legalize(t2)}}_addPoint(x,y){const i=this.coords.length>>1;return this.coords.push(x,y),i}_addTriangle(a,b,c,ab,bc,ca){let e=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.triangles.length;const t=e/3;return this.triangles[e+0]=a,this.triangles[e+1]=b,this.triangles[e+2]=c,this._halfedges[e+0]=ab,this._halfedges[e+1]=bc,this._halfedges[e+2]=ca,ab>=0&&(this._halfedges[ab]=e+0),bc>=0&&(this._halfedges[bc]=e+1),ca>=0&&(this._halfedges[ca]=e+2),this._candidates[2*t+0]=0,this._candidates[2*t+1]=0,this._queueIndices[t]=-1,this._rms[t]=0,this._pending[this._pendingLen++]=t,e}_legalize(a){const b=this._halfedges[a];if(b<0)return;const a0=a-a%3,b0=b-b%3,al=a0+(a+1)%3,ar=a0+(a+2)%3,bl=b0+(b+2)%3,br=b0+(b+1)%3,p0=this.triangles[ar],pr=this.triangles[a],pl=this.triangles[al],p1=this.triangles[bl],coords=this.coords;if(!function inCircle(ax,ay,bx,by,cx,cy,px,py){const dx=ax-px,dy=ay-py,ex=bx-px,ey=by-py,fx=cx-px,fy=cy-py,bp=ex*ex+ey*ey,cp=fx*fx+fy*fy;return dx*(ey*cp-bp*fy)-dy*(ex*cp-bp*fx)+(dx*dx+dy*dy)*(ex*fy-ey*fx)<0}(coords[2*p0],coords[2*p0+1],coords[2*pr],coords[2*pr+1],coords[2*pl],coords[2*pl+1],coords[2*p1],coords[2*p1+1]))return;const hal=this._halfedges[al],har=this._halfedges[ar],hbl=this._halfedges[bl],hbr=this._halfedges[br];this._queueRemove(a0/3),this._queueRemove(b0/3);const t0=this._addTriangle(p0,p1,pl,-1,hbl,hal,a0),t1=this._addTriangle(p1,p0,pr,t0,har,hbr,b0);this._legalize(t0+1),this._legalize(t1+2)}_handleCollinear(pn,a){const a0=a-a%3,al=a0+(a+1)%3,ar=a0+(a+2)%3,p0=this.triangles[ar],pr=this.triangles[a],pl=this.triangles[al],hal=this._halfedges[al],har=this._halfedges[ar],b=this._halfedges[a];if(b<0){const t0=this._addTriangle(pn,p0,pr,-1,har,-1,a0),t1=this._addTriangle(p0,pn,pl,t0,-1,hal);return this._legalize(t0+1),void this._legalize(t1+2)}const b0=b-b%3,bl=b0+(b+2)%3,br=b0+(b+1)%3,p1=this.triangles[bl],hbl=this._halfedges[bl],hbr=this._halfedges[br];this._queueRemove(b0/3);const t0=this._addTriangle(p0,pr,pn,har,-1,-1,a0),t1=this._addTriangle(pr,p1,pn,hbr,-1,t0+1,b0),t2=this._addTriangle(p1,pl,pn,hbl,-1,t1+1),t3=this._addTriangle(pl,p0,pn,hal,t0+2,t2+1);this._legalize(t0),this._legalize(t1),this._legalize(t2),this._legalize(t3)}_queuePush(t,error,rms){const i=this._queue.length;this._queueIndices[t]=i,this._queue.push(t),this._errors.push(error),this._rmsSum+=rms,this._queueUp(i)}_queuePop(){const n=this._queue.length-1;return this._queueSwap(0,n),this._queueDown(0,n),this._queuePopBack()}_queuePopBack(){const t=this._queue.pop();return this._errors.pop(),this._rmsSum-=this._rms[t],this._queueIndices[t]=-1,t}_queueRemove(t){const i=this._queueIndices[t];if(i<0){const it=this._pending.indexOf(t);if(-1===it)throw new Error("Broken triangulation (something went wrong).");return void(this._pending[it]=this._pending[--this._pendingLen])}const n=this._queue.length-1;n!==i&&(this._queueSwap(i,n),this._queueDown(i,n)||this._queueUp(i)),this._queuePopBack()}_queueLess(i,j){return this._errors[i]>this._errors[j]}_queueSwap(i,j){const pi=this._queue[i],pj=this._queue[j];this._queue[i]=pj,this._queue[j]=pi,this._queueIndices[pi]=j,this._queueIndices[pj]=i;const e=this._errors[i];this._errors[i]=this._errors[j],this._errors[j]=e}_queueUp(j0){let j=j0;for(;;){const i=j-1>>1;if(i===j||!this._queueLess(j,i))break;this._queueSwap(i,j),j=i}}_queueDown(i0,n){let i=i0;for(;;){const j1=2*i+1;if(j1>=n||j1<0)break;const j2=j1+1;let j=j1;if(j2<n&&this._queueLess(j2,j1)&&(j=j2),!this._queueLess(j,i))break;this._queueSwap(i,j),i=j}return i>i0}}function orient(ax,ay,bx,by,cx,cy){return(bx-cx)*(ay-cy)-(by-cy)*(ax-cx)}function getTerrain(imageData,width,height,elevationDecoder,tesselator){const{rScaler:rScaler,bScaler:bScaler,gScaler:gScaler,offset:offset}=elevationDecoder,terrain=new Float32Array((width+1)*(height+1));for(let i=0,y=0;y<height;y++)for(let x=0;x<width;x++,i++){const k=4*i,r=imageData[k+0],g=imageData[k+1],b=imageData[k+2];terrain[i+y]=r*rScaler+g*gScaler+b*bScaler+offset}if("martini"===tesselator){for(let i=(width+1)*width,x=0;x<width;x++,i++)terrain[i]=terrain[i-width-1];for(let i=height,y=0;y<height+1;y++,i+=height+1)terrain[i]=terrain[i-1]}return terrain}function getMesh(terrainImage,terrainOptions){if(null===terrainImage)return null;const{meshMaxError:meshMaxError,bounds:bounds,elevationDecoder:elevationDecoder}=terrainOptions,{data:data,width:width,height:height}=terrainImage;let terrain,mesh;switch(terrainOptions.tesselator){case"martini":terrain=getTerrain(data,width,height,elevationDecoder,terrainOptions.tesselator),mesh=getMartiniTileMesh(meshMaxError,width,terrain);break;case"delatin":terrain=getTerrain(data,width,height,elevationDecoder,terrainOptions.tesselator),mesh=getDelatinTileMesh(meshMaxError,width,height,terrain);break;default:width!==height||height&width-1?(terrain=getTerrain(data,width,height,elevationDecoder,"delatin"),mesh=getDelatinTileMesh(meshMaxError,width,height,terrain)):(terrain=getTerrain(data,width,height,elevationDecoder,"martini"),mesh=getMartiniTileMesh(meshMaxError,width,terrain))}const{vertices:vertices}=mesh;let{triangles:triangles}=mesh,attributes=function parse_terrain_getMeshAttributes(vertices,terrain,width,height,bounds){const gridSize=width+1,numOfVerticies=vertices.length/2,positions=new Float32Array(3*numOfVerticies),texCoords=new Float32Array(2*numOfVerticies),[minX,minY,maxX,maxY]=bounds||[0,0,width,height],xScale=(maxX-minX)/width,yScale=(maxY-minY)/height;for(let i=0;i<numOfVerticies;i++){const x=vertices[2*i],y=vertices[2*i+1],pixelIdx=y*gridSize+x;positions[3*i+0]=x*xScale+minX,positions[3*i+1]=-y*yScale+maxY,positions[3*i+2]=terrain[pixelIdx],texCoords[2*i+0]=x/width,texCoords[2*i+1]=y/height}return{POSITION:{value:positions,size:3},TEXCOORD_0:{value:texCoords,size:2}}}(vertices,terrain,width,height,bounds);const boundingBox=(0,mesh_utils.v)(attributes);if(terrainOptions.skirtHeight){const{attributes:newAttributes,triangles:newTriangles}=addSkirt(attributes,triangles,terrainOptions.skirtHeight);attributes=newAttributes,triangles=newTriangles}return{loaderData:{header:{}},header:{vertexCount:triangles.length,boundingBox:boundingBox},mode:4,indices:{value:Uint32Array.from(triangles),size:1},attributes:attributes}}function getMartiniTileMesh(meshMaxError,width,terrain){const tile=new Martini(width+1).createTile(terrain),{vertices:vertices,triangles:triangles}=tile.getMesh(meshMaxError);return{vertices:vertices,triangles:triangles}}function getDelatinTileMesh(meshMaxError,width,height,terrain){const tin=new Delatin(terrain,width+1,height+1);tin.run(meshMaxError);const{coords:coords,triangles:triangles}=tin;return{vertices:coords,triangles:triangles}}var terrain_loader=__webpack_require__("./node_modules/@loaders.gl/terrain/dist/esm/terrain-loader.js");const QuantizedMeshLoader={name:"Quantized Mesh",id:"quantized-mesh",module:"terrain",version:__webpack_require__("./node_modules/@loaders.gl/terrain/dist/esm/lib/utils/version.js").q,worker:!0,extensions:["terrain"],mimeTypes:["application/vnd.quantized-mesh"],options:{"quantized-mesh":{bounds:[0,0,1,1],skirtHeight:null}}},TerrainLoader={...terrain_loader.x,parse:async function loadTerrain(arrayBuffer,options,context){const loadImageOptions={...options,mimeType:"application/x.image",image:{...options.image,type:"data"}};return getMesh(await context.parse(arrayBuffer,loadImageOptions),options.terrain)}}},"./node_modules/@loaders.gl/terrain/dist/esm/lib/utils/version.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return VERSION}});const VERSION="3.4.4"},"./node_modules/@loaders.gl/terrain/dist/esm/terrain-loader.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return TerrainLoader}});const TerrainLoader={name:"Terrain",id:"terrain",module:"terrain",version:__webpack_require__("./node_modules/@loaders.gl/terrain/dist/esm/lib/utils/version.js").q,worker:!0,extensions:["png","pngraw","jpg","jpeg","gif","webp","bmp"],mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp"],options:{terrain:{tesselator:"auto",bounds:null,meshMaxError:10,elevationDecoder:{rScaler:1,gScaler:0,bScaler:0,offset:0},skirtHeight:null}}}},"./node_modules/@loaders.gl/worker-utils/dist/esm/lib/library-utils/library-utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return loadLibrary}});var _env_utils_globals__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/globals.js"),_node_require_utils_node__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("?b079"),_env_utils_assert__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/assert.js");const VERSION="3.4.4",loadLibraryPromises={};async function loadLibrary(libraryUrl){let moduleName=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return moduleName&&(libraryUrl=function getLibraryUrl(library,moduleName,options){if(library.startsWith("http"))return library;const modules=options.modules||{};if(modules[library])return modules[library];if(!_env_utils_globals__WEBPACK_IMPORTED_MODULE_1__.jU)return"modules/".concat(moduleName,"/dist/libs/").concat(library);if(options.CDN)return(0,_env_utils_assert__WEBPACK_IMPORTED_MODULE_2__.h)(options.CDN.startsWith("http")),"".concat(options.CDN,"/").concat(moduleName,"@").concat(VERSION,"/dist/libs/").concat(library);if(_env_utils_globals__WEBPACK_IMPORTED_MODULE_1__.hJ)return"../src/libs/".concat(library);return"modules/".concat(moduleName,"/src/libs/").concat(library)}(libraryUrl,moduleName,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})),loadLibraryPromises[libraryUrl]=loadLibraryPromises[libraryUrl]||async function loadLibraryFromFile(libraryUrl){if(libraryUrl.endsWith("wasm")){const response=await fetch(libraryUrl);return await response.arrayBuffer()}if(!_env_utils_globals__WEBPACK_IMPORTED_MODULE_1__.jU)try{return _node_require_utils_node__WEBPACK_IMPORTED_MODULE_0__&&_node_require_utils_node__WEBPACK_IMPORTED_MODULE_0__.requireFromFile&&await _node_require_utils_node__WEBPACK_IMPORTED_MODULE_0__.requireFromFile(libraryUrl)}catch{return null}if(_env_utils_globals__WEBPACK_IMPORTED_MODULE_1__.hJ)return importScripts(libraryUrl);const response=await fetch(libraryUrl);return function loadLibraryFromString(scriptSource,id){if(!_env_utils_globals__WEBPACK_IMPORTED_MODULE_1__.jU)return _node_require_utils_node__WEBPACK_IMPORTED_MODULE_0__.requireFromString&&_node_require_utils_node__WEBPACK_IMPORTED_MODULE_0__.requireFromString(scriptSource,id);if(_env_utils_globals__WEBPACK_IMPORTED_MODULE_1__.hJ)return eval.call(_env_utils_globals__WEBPACK_IMPORTED_MODULE_1__.CO,scriptSource),null;const script=document.createElement("script");script.id=id;try{script.appendChild(document.createTextNode(scriptSource))}catch(e){script.text=scriptSource}return document.body.appendChild(script),null}(await response.text(),libraryUrl)}(libraryUrl),await loadLibraryPromises[libraryUrl]}},"./node_modules/@luma.gl/core/dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AnimationLoop:function(){return animation_loop.Z},Buffer:function(){return buffer.Z},ClipSpace:function(){return clip_space.Z},ConeGeometry:function(){return ConeGeometry},CubeGeometry:function(){return cube_geometry.Z},CylinderGeometry:function(){return CylinderGeometry},FEATURES:function(){return webgl_features_table.h},FragmentShader:function(){return shader.gs},Framebuffer:function(){return framebuffer.Z},Geometry:function(){return geometry.Z},IcoSphereGeometry:function(){return IcoSphereGeometry},Model:function(){return model.Z},PlaneGeometry:function(){return PlaneGeometry},Program:function(){return program.Z},ProgramManager:function(){return program_manager.Z},Renderbuffer:function(){return renderbuffer.Z},SphereGeometry:function(){return sphere_geometry.Z},Texture2D:function(){return texture_2d.Z},Texture3D:function(){return texture_3d.Z},TextureCube:function(){return texture_cube.Z},Timeline:function(){return timeline.T},Transform:function(){return transform.Z},TransformFeedback:function(){return transform_feedback.Z},TruncatedConeGeometry:function(){return TruncatedConeGeometry},VertexShader:function(){return shader.Qh},assert:function(){return assert.h},clear:function(){return clear.Z},cloneTextureFrom:function(){return texture_utils.h},copyToTexture:function(){return copy_and_blit.Lv},createGLContext:function(){return esm.s9},cssToDevicePixels:function(){return esm.JY},cssToDeviceRatio:function(){return esm.w},dirlight:function(){return dirlight},fp32:function(){return fp32.O},fp64:function(){return fp64.hO},getParameters:function(){return esm.ZS},gouraudLighting:function(){return phong_lighting.N},hasFeature:function(){return features.U6},hasFeatures:function(){return features.ag},instrumentGLContext:function(){return esm.yW},isWebGL:function(){return esm.UF},isWebGL2:function(){return esm.D0},log:function(){return esm.cM},lumaStats:function(){return init.lR},normalizeShaderModule:function(){return shader_module.v},pbr:function(){return pbr.b},phongLighting:function(){return phong_lighting.s},picking:function(){return picking.q},project:function(){return project},readPixelsToArray:function(){return copy_and_blit.z6},readPixelsToBuffer:function(){return copy_and_blit.Jb},resetParameters:function(){return esm.kL},setParameters:function(){return esm.dR},uid:function(){return utils.hQ},withParameters:function(){return esm.s8}});var esm=__webpack_require__("./node_modules/@luma.gl/gltools/dist/esm/index.js"),init=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/init.js"),webgl_features_table=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/features/webgl-features-table.js"),features=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/features/features.js"),buffer=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/buffer.js"),program=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/program.js"),framebuffer=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/framebuffer.js"),renderbuffer=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/renderbuffer.js"),texture_2d=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/texture-2d.js"),texture_cube=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/texture-cube.js"),shader=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/shader.js"),clear=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/clear.js"),copy_and_blit=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/copy-and-blit.js"),texture_utils=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/texture-utils.js"),texture_3d=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/texture-3d.js"),transform_feedback=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/transform-feedback.js"),geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js"),utils=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/utils/utils.js");const INDEX_OFFSETS={x:[2,0,1],y:[0,1,2],z:[1,2,0]};class TruncatedConeGeometry extends geometry.Z{constructor(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:id=(0,utils.hQ)("truncated-code-geometry")}=props,{indices:indices,attributes:attributes}=function tesselateTruncatedCone(props){const{bottomRadius:bottomRadius=0,topRadius:topRadius=0,height:height=1,nradial:nradial=10,nvertical:nvertical=10,verticalAxis:verticalAxis="y",topCap:topCap=!1,bottomCap:bottomCap=!1}=props,extra=(topCap?2:0)+(bottomCap?2:0),numVertices=(nradial+1)*(nvertical+1+extra),slant=Math.atan2(bottomRadius-topRadius,height),msin=Math.sin,mcos=Math.cos,mpi=Math.PI,cosSlant=mcos(slant),sinSlant=msin(slant),start=topCap?-2:0,end=nvertical+(bottomCap?2:0),vertsAroundEdge=nradial+1,indices=new Uint16Array(nradial*(nvertical+extra)*6),indexOffset=INDEX_OFFSETS[verticalAxis],positions=new Float32Array(3*numVertices),normals=new Float32Array(3*numVertices),texCoords=new Float32Array(2*numVertices);let i3=0,i2=0;for(let i=start;i<=end;i++){let ringRadius,v=i/nvertical,y=height*v;i<0?(y=0,v=1,ringRadius=bottomRadius):i>nvertical?(y=height,v=1,ringRadius=topRadius):ringRadius=bottomRadius+i/nvertical*(topRadius-bottomRadius),-2!==i&&i!==nvertical+2||(ringRadius=0,v=0),y-=height/2;for(let j=0;j<vertsAroundEdge;j++){const sin=msin(j*mpi*2/nradial),cos=mcos(j*mpi*2/nradial);positions[i3+indexOffset[0]]=sin*ringRadius,positions[i3+indexOffset[1]]=y,positions[i3+indexOffset[2]]=cos*ringRadius,normals[i3+indexOffset[0]]=i<0||i>nvertical?0:sin*cosSlant,normals[i3+indexOffset[1]]=i<0?-1:i>nvertical?1:sinSlant,normals[i3+indexOffset[2]]=i<0||i>nvertical?0:cos*cosSlant,texCoords[i2+0]=j/nradial,texCoords[i2+1]=v,i2+=2,i3+=3}}for(let i=0;i<nvertical+extra;i++)for(let j=0;j<nradial;j++){const index=6*(i*nradial+j);indices[index+0]=vertsAroundEdge*(i+0)+0+j,indices[index+1]=vertsAroundEdge*(i+0)+1+j,indices[index+2]=vertsAroundEdge*(i+1)+1+j,indices[index+3]=vertsAroundEdge*(i+0)+0+j,indices[index+4]=vertsAroundEdge*(i+1)+1+j,indices[index+5]=vertsAroundEdge*(i+1)+0+j}return{indices:indices,attributes:{POSITION:{size:3,value:positions},NORMAL:{size:3,value:normals},TEXCOORD_0:{size:2,value:texCoords}}}}(props);super({...props,id:id,indices:indices,attributes:{...attributes,...props.attributes}})}}class ConeGeometry extends TruncatedConeGeometry{constructor(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:id=(0,utils.hQ)("cone-geometry"),radius:radius=1,cap:cap=!0}=props;super({...props,id:id,topRadius:0,topCap:Boolean(cap),bottomCap:Boolean(cap),bottomRadius:radius})}}class CylinderGeometry extends TruncatedConeGeometry{constructor(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:id=(0,utils.hQ)("cylinder-geometry"),radius:radius=1}=props;super({...props,id:id,bottomRadius:radius,topRadius:radius})}}var vector3=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/vector3.js");const ICO_POSITIONS=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0],ICO_INDICES=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1];class IcoSphereGeometry extends geometry.Z{constructor(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:id=(0,utils.hQ)("ico-sphere-geometry")}=props,{indices:indices,attributes:attributes}=function tesselateIcosaHedron(props){const{iterations:iterations=0}=props,PI=Math.PI,PI2=2*PI,positions=[...ICO_POSITIONS];let indices=[...ICO_INDICES];positions.push(),indices.push();const getMiddlePoint=(()=>{const pointMemo={};return(i1,i2)=>{const maxi=(i1*=3)>(i2*=3)?i1:i2,key="".concat(i1<i2?i1:i2,"|").concat(maxi);if(key in pointMemo)return pointMemo[key];const x1=positions[i1],y1=positions[i1+1],z1=positions[i1+2];let xm=(x1+positions[i2])/2,ym=(y1+positions[i2+1])/2,zm=(z1+positions[i2+2])/2;const len=Math.sqrt(xm*xm+ym*ym+zm*zm);return xm/=len,ym/=len,zm/=len,positions.push(xm,ym,zm),pointMemo[key]=positions.length/3-1}})();for(let i=0;i<iterations;i++){const indices2=[];for(let j=0;j<indices.length;j+=3){const a=getMiddlePoint(indices[j+0],indices[j+1]),b=getMiddlePoint(indices[j+1],indices[j+2]),c=getMiddlePoint(indices[j+2],indices[j+0]);indices2.push(c,indices[j+0],a,a,indices[j+1],b,b,indices[j+2],c,a,b,c)}indices=indices2}const normals=new Array(positions.length),texCoords=new Array(positions.length/3*2);for(let i=indices.length-3;i>=0;i-=3){const i1=indices[i+0],i2=indices[i+1],i3=indices[i+2],in1=3*i1,in2=3*i2,in3=3*i3,iu1=2*i1,iu2=2*i2,iu3=2*i3,x1=positions[in1+0],y1=positions[in1+1],z1=positions[in1+2],v1=Math.acos(z1/Math.sqrt(x1*x1+y1*y1+z1*z1))/PI,u1=1-(Math.atan2(y1,x1)+PI)/PI2,x2=positions[in2+0],y2=positions[in2+1],z2=positions[in2+2],v2=Math.acos(z2/Math.sqrt(x2*x2+y2*y2+z2*z2))/PI,u2=1-(Math.atan2(y2,x2)+PI)/PI2,x3=positions[in3+0],y3=positions[in3+1],z3=positions[in3+2],v3=Math.acos(z3/Math.sqrt(x3*x3+y3*y3+z3*z3))/PI,u3=1-(Math.atan2(y3,x3)+PI)/PI2,vec1=[x3-x2,y3-y2,z3-z2],vec2=[x1-x2,y1-y2,z1-z2],normal=new vector3.Z(vec1).cross(vec2).normalize();let newIndex;(0===u1||0===u2||0===u3)&&(0===u1||u1>.5)&&(0===u2||u2>.5)&&(0===u3||u3>.5)&&(positions.push(positions[in1+0],positions[in1+1],positions[in1+2]),newIndex=positions.length/3-1,indices.push(newIndex),texCoords[2*newIndex+0]=1,texCoords[2*newIndex+1]=v1,normals[3*newIndex+0]=normal.x,normals[3*newIndex+1]=normal.y,normals[3*newIndex+2]=normal.z,positions.push(positions[in2+0],positions[in2+1],positions[in2+2]),newIndex=positions.length/3-1,indices.push(newIndex),texCoords[2*newIndex+0]=1,texCoords[2*newIndex+1]=v2,normals[3*newIndex+0]=normal.x,normals[3*newIndex+1]=normal.y,normals[3*newIndex+2]=normal.z,positions.push(positions[in3+0],positions[in3+1],positions[in3+2]),newIndex=positions.length/3-1,indices.push(newIndex),texCoords[2*newIndex+0]=1,texCoords[2*newIndex+1]=v3,normals[3*newIndex+0]=normal.x,normals[3*newIndex+1]=normal.y,normals[3*newIndex+2]=normal.z),normals[in1+0]=normals[in2+0]=normals[in3+0]=normal.x,normals[in1+1]=normals[in2+1]=normals[in3+1]=normal.y,normals[in1+2]=normals[in2+2]=normals[in3+2]=normal.z,texCoords[iu1+0]=u1,texCoords[iu1+1]=v1,texCoords[iu2+0]=u2,texCoords[iu2+1]=v2,texCoords[iu3+0]=u3,texCoords[iu3+1]=v3}return{indices:{size:1,value:new Uint16Array(indices)},attributes:{POSITION:{size:3,value:new Float32Array(positions)},NORMAL:{size:3,value:new Float32Array(normals)},TEXCOORD_0:{size:2,value:new Float32Array(texCoords)}}}}(props);super({...props,id:id,indices:indices,attributes:{...attributes,...props.attributes}})}}class PlaneGeometry extends geometry.Z{constructor(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:id=(0,utils.hQ)("plane-geometry")}=props,{indices:indices,attributes:attributes}=function tesselatePlane(props){const{type:type="x,y",offset:offset=0,flipCull:flipCull=!1,unpack:unpack=!1}=props,coords=type.split(",");let c1len=props["".concat(coords[0],"len")]||1;const c2len=props["".concat(coords[1],"len")]||1,subdivisions1=props["n".concat(coords[0])]||1,subdivisions2=props["n".concat(coords[1])]||1,numVertices=(subdivisions1+1)*(subdivisions2+1),positions=new Float32Array(3*numVertices),normals=new Float32Array(3*numVertices),texCoords=new Float32Array(2*numVertices);flipCull&&(c1len=-c1len);let i2=0,i3=0;for(let z=0;z<=subdivisions2;z++)for(let x=0;x<=subdivisions1;x++){const u=x/subdivisions1,v=z/subdivisions2;switch(texCoords[i2+0]=flipCull?1-u:u,texCoords[i2+1]=v,type){case"x,y":positions[i3+0]=c1len*u-.5*c1len,positions[i3+1]=c2len*v-.5*c2len,positions[i3+2]=offset,normals[i3+0]=0,normals[i3+1]=0,normals[i3+2]=flipCull?1:-1;break;case"x,z":positions[i3+0]=c1len*u-.5*c1len,positions[i3+1]=offset,positions[i3+2]=c2len*v-.5*c2len,normals[i3+0]=0,normals[i3+1]=flipCull?1:-1,normals[i3+2]=0;break;case"y,z":positions[i3+0]=offset,positions[i3+1]=c1len*u-.5*c1len,positions[i3+2]=c2len*v-.5*c2len,normals[i3+0]=flipCull?1:-1,normals[i3+1]=0,normals[i3+2]=0;break;default:throw new Error("PlaneGeometry: unknown type")}i2+=2,i3+=3}const numVertsAcross=subdivisions1+1,indices=new Uint16Array(subdivisions1*subdivisions2*6);for(let z=0;z<subdivisions2;z++)for(let x=0;x<subdivisions1;x++){const index=6*(z*subdivisions1+x);indices[index+0]=(z+0)*numVertsAcross+x,indices[index+1]=(z+1)*numVertsAcross+x,indices[index+2]=(z+0)*numVertsAcross+x+1,indices[index+3]=(z+1)*numVertsAcross+x,indices[index+4]=(z+1)*numVertsAcross+x+1,indices[index+5]=(z+0)*numVertsAcross+x+1}const geometry={indices:{size:1,value:indices},attributes:{POSITION:{size:3,value:positions},NORMAL:{size:3,value:normals},TEXCOORD_0:{size:2,value:texCoords}}};return unpack?function unpackIndexedGeometry(geometry){const{indices:indices,attributes:attributes}=geometry;if(!indices)return geometry;const vertexCount=indices.value.length,unpackedAttributes={};for(const attributeName in attributes){const attribute=attributes[attributeName],{constant:constant,value:value,size:size}=attribute;if(constant||!size)continue;const unpackedValue=new value.constructor(vertexCount*size);for(let x=0;x<vertexCount;++x){const index=indices.value[x];for(let i=0;i<size;i++)unpackedValue[x*size+i]=value[index*size+i]}unpackedAttributes[attributeName]={size:size,value:unpackedValue}}return{attributes:Object.assign({},attributes,unpackedAttributes)}}(geometry):geometry}(props);super({...props,id:id,indices:indices,attributes:{...attributes,...props.attributes}})}}var animation_loop=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/animation-loop.js"),model=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),transform=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/transform/transform.js"),program_manager=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/program-manager.js"),timeline=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/animation/timeline.js"),clip_space=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/utils/clip-space.js"),cube_geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometries/cube-geometry.js"),sphere_geometry=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometries/sphere-geometry.js"),matrix4=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/matrix4.js");const IDENTITY_MATRIX=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],DEFAULT_MODULE_OPTIONS={modelMatrix:IDENTITY_MATRIX,viewMatrix:IDENTITY_MATRIX,projectionMatrix:IDENTITY_MATRIX,cameraPositionWorld:[0,0,0]};const common="varying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n",project={name:"project",getUniforms:function getUniforms(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DEFAULT_MODULE_OPTIONS;const uniforms={};return void 0!==opts.modelMatrix&&(uniforms.modelMatrix=opts.modelMatrix),void 0!==opts.viewMatrix&&(uniforms.viewMatrix=opts.viewMatrix),void 0!==opts.projectionMatrix&&(uniforms.projectionMatrix=opts.projectionMatrix),void 0!==opts.cameraPositionWorld&&(uniforms.cameraPositionWorld=opts.cameraPositionWorld),void 0===opts.projectionMatrix&&void 0===opts.viewMatrix||(uniforms.viewProjectionMatrix=new matrix4.Z(opts.projectionMatrix).multiplyRight(opts.viewMatrix)),uniforms},vs:"".concat(common,"\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n"),fs:"\n".concat(common)},dirlight_DEFAULT_MODULE_OPTIONS={lightDirection:new Float32Array([1,1,2])};const dirlight={name:"dirlight",vs:null,fs:"uniform vec3 dirlight_uLightDirection;\nvec4 dirlight_filterColor(vec4 color) {\n  vec3 normal = project_getNormal_World();\n  float d = abs(dot(normalize(normal), normalize(dirlight_uLightDirection)));\n  return vec4(color.rgb * d, color.a);\n}\n",getUniforms:function dirlight_getUniforms(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dirlight_DEFAULT_MODULE_OPTIONS;const uniforms={};return opts.lightDirection&&(uniforms.dirlight_uLightDirection=opts.lightDirection),uniforms},dependencies:[project]};var shader_module=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/lib/shader-module.js"),fp32=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/fp32/fp32.js"),fp64=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/fp64/fp64.js"),picking=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/picking/picking.js"),phong_lighting=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/phong-lighting/phong-lighting.js"),pbr=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/pbr/pbr.js"),assert=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/utils/assert.js")},"./node_modules/@luma.gl/engine/dist/esm/geometries/cube-geometry.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return CubeGeometry}});var _geometry_geometry__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js"),_luma_gl_webgl__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/utils/utils.js");const CUBE_INDICES=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),CUBE_POSITIONS=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),CUBE_NORMALS=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),CUBE_TEX_COORDS=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),ATTRIBUTES={POSITION:{size:3,value:new Float32Array(CUBE_POSITIONS)},NORMAL:{size:3,value:new Float32Array(CUBE_NORMALS)},TEXCOORD_0:{size:2,value:new Float32Array(CUBE_TEX_COORDS)}};class CubeGeometry extends _geometry_geometry__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:id=(0,_luma_gl_webgl__WEBPACK_IMPORTED_MODULE_1__.hQ)("cube-geometry")}=props;super({...props,id:id,indices:{size:1,value:new Uint16Array(CUBE_INDICES)},attributes:{...ATTRIBUTES,...props.attributes}})}}},"./node_modules/@luma.gl/engine/dist/esm/geometries/sphere-geometry.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return SphereGeometry}});var _geometry_geometry__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js"),_luma_gl_webgl__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/utils/utils.js");class SphereGeometry extends _geometry_geometry__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:id=(0,_luma_gl_webgl__WEBPACK_IMPORTED_MODULE_1__.hQ)("sphere-geometry")}=props,{indices:indices,attributes:attributes}=function tesselateSphere(props){const{nlat:nlat=10,nlong:nlong=10}=props;let{radius:radius=1}=props;const startLat=0,latRange=Math.PI-startLat,startLong=0,longRange=2*Math.PI-startLong,numVertices=(nlat+1)*(nlong+1);if("number"==typeof radius){const value=radius;radius=(n1,n2,n3,u,v)=>value}const positions=new Float32Array(3*numVertices),normals=new Float32Array(3*numVertices),texCoords=new Float32Array(2*numVertices),indices=new(numVertices>65535?Uint32Array:Uint16Array)(nlat*nlong*6);for(let y=0;y<=nlat;y++)for(let x=0;x<=nlong;x++){const u=x/nlong,v=y/nlat,index=x+y*(nlong+1),i2=2*index,i3=3*index,theta=longRange*u,phi=latRange*v,sinTheta=Math.sin(theta),cosTheta=Math.cos(theta),sinPhi=Math.sin(phi),ux=cosTheta*sinPhi,uy=Math.cos(phi),uz=sinTheta*sinPhi,r=radius(ux,uy,uz,u,v);positions[i3+0]=r*ux,positions[i3+1]=r*uy,positions[i3+2]=r*uz,normals[i3+0]=ux,normals[i3+1]=uy,normals[i3+2]=uz,texCoords[i2+0]=u,texCoords[i2+1]=1-v}const numVertsAround=nlong+1;for(let x=0;x<nlong;x++)for(let y=0;y<nlat;y++){const index=6*(x*nlat+y);indices[index+0]=y*numVertsAround+x,indices[index+1]=y*numVertsAround+x+1,indices[index+2]=(y+1)*numVertsAround+x,indices[index+3]=(y+1)*numVertsAround+x,indices[index+4]=y*numVertsAround+x+1,indices[index+5]=(y+1)*numVertsAround+x+1}return{indices:{size:1,value:indices},attributes:{POSITION:{size:3,value:positions},NORMAL:{size:3,value:normals},TEXCOORD_0:{size:2,value:texCoords}}}}(props);super({...props,id:id,indices:indices,attributes:{...attributes,...props.attributes}})}}},"./node_modules/@luma.gl/engine/dist/esm/utils/clip-space.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return ClipSpace}});var _lib_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/lib/model.js"),_geometry_geometry__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js");const POSITIONS=[-1,-1,1,-1,-1,1,1,1];class ClipSpace extends _lib_model__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(gl,opts){const TEX_COORDS=POSITIONS.map((coord=>-1===coord?0:coord));super(gl,Object.assign({},opts,{vs:"attribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n",geometry:new _geometry_geometry__WEBPACK_IMPORTED_MODULE_1__.Z({drawMode:5,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(POSITIONS)},aTexCoord:{size:2,value:new Float32Array(TEX_COORDS)},aCoordinate:{size:2,value:new Float32Array(TEX_COORDS)}}})})),this.setVertexCount(4)}}},"./node_modules/@luma.gl/experimental/dist/esm/gltf/gltf-material-parser.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return GLTFMaterialParser}});var _luma_gl_webgl__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/features/features.js"),_luma_gl_webgl__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/features/webgl-features-table.js"),_luma_gl_webgl__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@luma.gl/webgl/dist/esm/classes/texture-2d.js"),_luma_gl_webgl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@luma.gl/gltools/dist/esm/index.js");class GLTFMaterialParser{constructor(gl,_ref){let{attributes:attributes,material:material,pbrDebug:pbrDebug,imageBasedLightingEnvironment:imageBasedLightingEnvironment,lights:lights,useTangents:useTangents}=_ref;this.gl=gl,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},(0,_luma_gl_webgl__WEBPACK_IMPORTED_MODULE_0__.U6)(gl,_luma_gl_webgl__WEBPACK_IMPORTED_MODULE_1__.h.GLSL_TEXTURE_LOD)&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],imageBasedLightingEnvironment&&(this.uniforms.u_DiffuseEnvSampler=imageBasedLightingEnvironment.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=imageBasedLightingEnvironment.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=imageBasedLightingEnvironment.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),pbrDebug&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(attributes.NORMAL,"HAS_NORMALS"),this.defineIfPresent(attributes.TANGENT&&useTangents,"HAS_TANGENTS"),this.defineIfPresent(attributes.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(imageBasedLightingEnvironment,"USE_IBL"),this.defineIfPresent(lights,"USE_LIGHTS"),this.defineIfPresent(pbrDebug,"PBR_DEBUG"),material&&this.parseMaterial(material)}defineIfPresent(value,name){value&&(this.defines[name]=1)}parseTexture(gltfTexture,name){let define=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const parameters=gltfTexture.texture&&gltfTexture.texture.sampler&&gltfTexture.texture.sampler.parameters||{},image=gltfTexture.texture.source.image;let textureOptions,specialTextureParameters={};image.compressed?(textureOptions=image,specialTextureParameters={[this.gl.TEXTURE_MIN_FILTER]:image.data.length>1?this.gl.LINEAR_MIPMAP_NEAREST:this.gl.LINEAR}):textureOptions={data:image};const texture=new _luma_gl_webgl__WEBPACK_IMPORTED_MODULE_2__.Z(this.gl,{id:gltfTexture.name||gltfTexture.id,parameters:{...parameters,...specialTextureParameters},pixelStore:{[this.gl.UNPACK_FLIP_Y_WEBGL]:!1},...textureOptions});this.uniforms[name]=texture,this.defineIfPresent(define,define),this.generatedTextures.push(texture)}parsePbrMetallicRoughness(pbrMetallicRoughness){pbrMetallicRoughness.baseColorTexture&&this.parseTexture(pbrMetallicRoughness.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=pbrMetallicRoughness.baseColorFactor||[1,1,1,1],pbrMetallicRoughness.metallicRoughnessTexture&&this.parseTexture(pbrMetallicRoughness.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");const{metallicFactor:metallicFactor=1,roughnessFactor:roughnessFactor=1}=pbrMetallicRoughness;this.uniforms.u_MetallicRoughnessValues=[metallicFactor,roughnessFactor]}parseMaterial(material){if(this.uniforms.pbr_uUnlit=Boolean(material.unlit),material.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(material.pbrMetallicRoughness),material.normalTexture){this.parseTexture(material.normalTexture,"u_NormalSampler","HAS_NORMALMAP");const{scale:scale=1}=material.normalTexture;this.uniforms.u_NormalScale=scale}if(material.occlusionTexture){this.parseTexture(material.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");const{strength:strength=1}=material.occlusionTexture;this.uniforms.u_OcclusionStrength=strength}if(material.emissiveTexture&&(this.parseTexture(material.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=material.emissiveFactor||[0,0,0]),"MASK"===material.alphaMode){const{alphaCutoff:alphaCutoff=.5}=material;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=alphaCutoff}else"BLEND"===material.alphaMode&&(_luma_gl_webgl__WEBPACK_IMPORTED_MODULE_3__.cM.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))}delete(){this.generatedTextures.forEach((texture=>texture.delete()))}}},"./node_modules/@luma.gl/shadertools/dist/esm/modules/fp64/fp64.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function fp64ify(a){let out=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],startIndex=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const hiPart=Math.fround(a),loPart=a-hiPart;return out[startIndex]=hiPart,out[startIndex+1]=loPart,out}function fp64LowPart(a){return a-Math.fround(a)}function fp64ifyMatrix4(matrix){const matrixFP64=new Float32Array(32);for(let i=0;i<4;++i)for(let j=0;j<4;++j){const index=4*i+j;fp64ify(matrix[4*j+i],matrixFP64,2*index)}return matrixFP64}__webpack_require__.d(__webpack_exports__,{hO:function(){return fp64},n2:function(){return fp64arithmetic}});const CONST_UNIFORMS={ONE:1};const fp64arithmetic={name:"fp64-arithmetic",vs:"uniform float ONE;\nvec2 split(float a) {\n  const float SPLIT = 4097.0;\n  float t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float a_hi = t * ONE - (t - a);\n  float a_lo = a * ONE - a_hi;\n#else\n  float a_hi = t - (t - a);\n  float a_lo = a - a_hi;\n#endif\n  return vec2(a_hi, a_lo);\n}\nvec2 split2(vec2 a) {\n  vec2 b = split(a.x);\n  b.y += a.y;\n  return b;\n}\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float sum = (a + b) * ONE;\n  float err = b - (sum - a) * ONE;\n#else\n  float sum = a + b;\n  float err = b - (sum - a);\n#endif\n  return vec2(sum, err);\n}\nvec2 twoSum(float a, float b) {\n  float s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) + (b - v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSub(float a, float b) {\n  float s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) - (b + v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSqr(float a) {\n  float prod = a * a;\n  vec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\n    a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\n  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\n  return vec2(prod, err);\n}\n\nvec2 twoProd(float a, float b) {\n  float prod = a * b;\n  vec2 a_fp64 = split(a);\n  vec2 b_fp64 = split(b);\n  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\n    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\n  return vec2(prod, err);\n}\n\nvec2 sum_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSum(a.x, b.x);\n  t = twoSum(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 sub_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSub(a.x, b.x);\n  t = twoSub(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 mul_fp64(vec2 a, vec2 b) {\n  vec2 prod = twoProd(a.x, b.x);\n  prod.y += a.x * b.y;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  prod.y += a.y * b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  return prod;\n}\n\nvec2 div_fp64(vec2 a, vec2 b) {\n  float xn = 1.0 / b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  vec2 yn = mul_fp64(a, vec2(xn, 0));\n#else\n  vec2 yn = a * xn;\n#endif\n  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;\n  vec2 prod = twoProd(xn, diff);\n  return sum_fp64(yn, prod);\n}\n\nvec2 sqrt_fp64(vec2 a) {\n  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n\n  float x = 1.0 / sqrt(a.x);\n  float yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  vec2 yn_sqr = twoSqr(yn) * ONE;\n#else\n  vec2 yn_sqr = twoSqr(yn);\n#endif\n  float diff = sub_fp64(a, yn_sqr).x;\n  vec2 prod = twoProd(x * 0.5, diff);\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  return sum_fp64(split(yn), prod);\n#else\n  return sum_fp64(vec2(yn, 0.0), prod);\n#endif\n}\n",fs:null,getUniforms:function getUniforms(){return CONST_UNIFORMS},fp64ify:fp64ify,fp64LowPart:fp64LowPart,fp64ifyMatrix4:fp64ifyMatrix4},fp64={name:"fp64",vs:"const vec2 E_FP64 = vec2(2.7182817459106445e+00, 8.254840366817007e-08);\nconst vec2 LOG2_FP64 = vec2(0.6931471824645996e+00, -1.9046542121259336e-09);\nconst vec2 PI_FP64 = vec2(3.1415927410125732, -8.742278012618954e-8);\nconst vec2 TWO_PI_FP64 = vec2(6.2831854820251465, -1.7484556025237907e-7);\nconst vec2 PI_2_FP64 = vec2(1.5707963705062866, -4.371139006309477e-8);\nconst vec2 PI_4_FP64 = vec2(0.7853981852531433, -2.1855695031547384e-8);\nconst vec2 PI_16_FP64 = vec2(0.19634954631328583, -5.463923757886846e-9);\nconst vec2 PI_16_2_FP64 = vec2(0.39269909262657166, -1.0927847515773692e-8);\nconst vec2 PI_16_3_FP64 = vec2(0.5890486240386963, -1.4906100798128818e-9);\nconst vec2 PI_180_FP64 = vec2(0.01745329238474369, 1.3519960498364902e-10);\n\nconst vec2 SIN_TABLE_0_FP64 = vec2(0.19509032368659973, -1.6704714833615242e-9);\nconst vec2 SIN_TABLE_1_FP64 = vec2(0.3826834261417389, 6.22335089017767e-9);\nconst vec2 SIN_TABLE_2_FP64 = vec2(0.5555702447891235, -1.1769521357507529e-8);\nconst vec2 SIN_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617041793133e-8);\n\nconst vec2 COS_TABLE_0_FP64 = vec2(0.9807852506637573, 2.9739473106360492e-8);\nconst vec2 COS_TABLE_1_FP64 = vec2(0.9238795042037964, 2.8307490351764386e-8);\nconst vec2 COS_TABLE_2_FP64 = vec2(0.8314695954322815, 1.6870263741530778e-8);\nconst vec2 COS_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617152815436e-8);\n\nconst vec2 INVERSE_FACTORIAL_3_FP64 = vec2(1.666666716337204e-01, -4.967053879312289e-09);\nconst vec2 INVERSE_FACTORIAL_4_FP64 = vec2(4.16666679084301e-02, -1.2417634698280722e-09);\nconst vec2 INVERSE_FACTORIAL_5_FP64 = vec2(8.333333767950535e-03, -4.34617203337595e-10);\nconst vec2 INVERSE_FACTORIAL_6_FP64 = vec2(1.3888889225199819e-03, -3.3631094437103215e-11);\nconst vec2 INVERSE_FACTORIAL_7_FP64 = vec2(1.9841270113829523e-04,  -2.725596874933456e-12);\nconst vec2 INVERSE_FACTORIAL_8_FP64 = vec2(2.4801587642286904e-05, -3.406996025904184e-13);\nconst vec2 INVERSE_FACTORIAL_9_FP64 = vec2(2.75573188446287533e-06, 3.7935713937038186e-14);\nconst vec2 INVERSE_FACTORIAL_10_FP64 = vec2(2.755731998149713e-07, -7.575112367869873e-15);\n\nfloat nint(float d) {\n    if (d == floor(d)) return d;\n    return floor(d + 0.5);\n}\n\nvec2 nint_fp64(vec2 a) {\n    float hi = nint(a.x);\n    float lo;\n    vec2 tmp;\n    if (hi == a.x) {\n        lo = nint(a.y);\n        tmp = quickTwoSum(hi, lo);\n    } else {\n        lo = 0.0;\n        if (abs(hi - a.x) == 0.5 && a.y < 0.0) {\n            hi -= 1.0;\n        }\n        tmp = vec2(hi, lo);\n    }\n    return tmp;\n}\n\nvec2 exp_fp64(vec2 a) {\n\n  const int k_power = 4;\n  const float k = 16.0;\n\n  const float inv_k = 1.0 / k;\n\n  if (a.x <= -88.0) return vec2(0.0, 0.0);\n  if (a.x >= 88.0) return vec2(1.0 / 0.0, 1.0 / 0.0);\n  if (a.x == 0.0 && a.y == 0.0) return vec2(1.0, 0.0);\n  if (a.x == 1.0 && a.y == 0.0) return E_FP64;\n\n  float m = floor(a.x / LOG2_FP64.x + 0.5);\n  vec2 r = sub_fp64(a, mul_fp64(LOG2_FP64, vec2(m, 0.0))) * inv_k;\n  vec2 s, t, p;\n\n  p = mul_fp64(r, r);\n  s = sum_fp64(r, p * 0.5);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_3_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_4_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_5_FP64);\n\n\n\n\n\n\n  s = sum_fp64(s, t);\n  for (int i = 0; i < k_power; i++) {\n    s = sum_fp64(s * 2.0, mul_fp64(s, s));\n  }\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = sum_fp64(s, vec2(ONE, 0.0));\n#else\n  s = sum_fp64(s, vec2(1.0, 0.0));\n#endif\n\n  return s * pow(2.0, m);\n}\n\nvec2 log_fp64(vec2 a)\n{\n  if (a.x == 1.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x <= 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n  vec2 x = vec2(log(a.x), 0.0);\n  vec2 s;\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = vec2(ONE, 0.0);\n#else\n  s = vec2(1.0, 0.0);\n#endif\n\n  x = sub_fp64(sum_fp64(x, mul_fp64(a, exp_fp64(-x))), s);\n  return x;\n}\n\nvec2 sin_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(0.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  s = a;\n  r = a;\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_3_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_5_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvec2 cos_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(1.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  r = x;\n  s = sum_fp64(vec2(1.0, 0.0), r * 0.5);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_4_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_6_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvoid sincos_taylor_fp64(vec2 a, out vec2 sin_t, out vec2 cos_t) {\n  if (a.x == 0.0 && a.y == 0.0) {\n    sin_t = vec2(0.0, 0.0);\n    cos_t = vec2(1.0, 0.0);\n  }\n\n  sin_t = sin_taylor_fp64(a);\n  cos_t = sqrt_fp64(sub_fp64(vec2(1.0, 0.0), mul_fp64(sin_t, sin_t)));\n}\n\nvec2 sin_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return sin_taylor_fp64(t);\n        } else if (j == 1) {\n            return cos_taylor_fp64(t);\n        } else if (j == -1) {\n            return -cos_taylor_fp64(t);\n        } else {\n            return -sin_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 cos_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(1.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return cos_taylor_fp64(t);\n        } else if (j == 1) {\n            return -sin_taylor_fp64(t);\n        } else if (j == -1) {\n            return sin_taylor_fp64(t);\n        } else {\n            return -cos_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 tan_fp64(vec2 a) {\n    vec2 sin_a;\n    vec2 cos_a;\n\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n    vec2 sin_t, cos_t;\n    vec2 s, c;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#else\n        if (abs_k == 1) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs_k == 2) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs_k == 3) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs_k == 4) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#endif\n        if (k > 0) {\n            s = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            s = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return div_fp64(sin_a, cos_a);\n}\n\nvec2 radians_fp64(vec2 degree) {\n  return mul_fp64(degree, PI_180_FP64);\n}\n\nvec2 mix_fp64(vec2 a, vec2 b, float x) {\n  vec2 range = sub_fp64(b, a);\n  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));\n}\n\nvoid vec2_sum_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sum_fp64(a[0], b[0]);\n    out_val[1] = sum_fp64(a[1], b[1]);\n}\n\nvoid vec2_sub_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sub_fp64(a[0], b[0]);\n    out_val[1] = sub_fp64(a[1], b[1]);\n}\n\nvoid vec2_mul_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = mul_fp64(a[0], b[0]);\n    out_val[1] = mul_fp64(a[1], b[1]);\n}\n\nvoid vec2_div_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = div_fp64(a[0], b[0]);\n    out_val[1] = div_fp64(a[1], b[1]);\n}\n\nvoid vec2_mix_fp64(vec2 x[2], vec2 y[2], float a, out vec2 out_val[2]) {\n  vec2 range[2];\n  vec2_sub_fp64(y, x, range);\n  vec2 portion[2];\n  portion[0] = range[0] * a;\n  portion[1] = range[1] * a;\n  vec2_sum_fp64(x, portion, out_val);\n}\n\nvec2 vec2_length_fp64(vec2 x[2]) {\n  return sqrt_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])));\n}\n\nvoid vec2_normalize_fp64(vec2 x[2], out vec2 out_val[2]) {\n  vec2 length = vec2_length_fp64(x);\n  vec2 length_vec2[2];\n  length_vec2[0] = length;\n  length_vec2[1] = length;\n\n  vec2_div_fp64(x, length_vec2, out_val);\n}\n\nvec2 vec2_distance_fp64(vec2 x[2], vec2 y[2]) {\n  vec2 diff[2];\n  vec2_sub_fp64(x, y, diff);\n  return vec2_length_fp64(diff);\n}\n\nvec2 vec2_dot_fp64(vec2 a[2], vec2 b[2]) {\n  vec2 v[2];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n\n  return sum_fp64(v[0], v[1]);\n}\nvoid vec3_sub_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec3_sum_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvec2 vec3_length_fp64(vec2 x[3]) {\n  return sqrt_fp64(sum_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])),\n    mul_fp64(x[2], x[2])));\n}\n\nvec2 vec3_distance_fp64(vec2 x[3], vec2 y[3]) {\n  vec2 diff[3];\n  vec3_sub_fp64(x, y, diff);\n  return vec3_length_fp64(diff);\n}\nvoid vec4_fp64(vec4 a, out vec2 out_val[4]) {\n  out_val[0].x = a[0];\n  out_val[0].y = 0.0;\n\n  out_val[1].x = a[1];\n  out_val[1].y = 0.0;\n\n  out_val[2].x = a[2];\n  out_val[2].y = 0.0;\n\n  out_val[3].x = a[3];\n  out_val[3].y = 0.0;\n}\n\nvoid vec4_scalar_mul_fp64(vec2 a[4], vec2 b, out vec2 out_val[4]) {\n  out_val[0] = mul_fp64(a[0], b);\n  out_val[1] = mul_fp64(a[1], b);\n  out_val[2] = mul_fp64(a[2], b);\n  out_val[3] = mul_fp64(a[3], b);\n}\n\nvoid vec4_sum_fp64(vec2 a[4], vec2 b[4], out vec2 out_val[4]) {\n  for (int i = 0; i < 4; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec4_dot_fp64(vec2 a[4], vec2 b[4], out vec2 out_val) {\n  vec2 v[4];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n  v[2] = mul_fp64(a[2], b[2]);\n  v[3] = mul_fp64(a[3], b[3]);\n\n  out_val = sum_fp64(sum_fp64(v[0], v[1]), sum_fp64(v[2], v[3]));\n}\n\nvoid mat4_vec4_mul_fp64(vec2 b[16], vec2 a[4], out vec2 out_val[4]) {\n  vec2 tmp[4];\n\n  for (int i = 0; i < 4; i++)\n  {\n    for (int j = 0; j < 4; j++)\n    {\n      tmp[j] = b[j + i * 4];\n    }\n    vec4_dot_fp64(a, tmp, out_val[i]);\n  }\n}\n",fs:null,dependencies:[fp64arithmetic],fp64ify:fp64ify,fp64LowPart:fp64LowPart,fp64ifyMatrix4:fp64ifyMatrix4}},"./node_modules/@luma.gl/shadertools/dist/esm/modules/lights/lights.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{H:function(){return lights}});var lights_glsl="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n";const INITIAL_MODULE_OPTIONS={lightSources:{}};function convertColor(){let{color:color=[0,0,0],intensity:intensity=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return color.map((component=>component*intensity/255))}const lights={name:"lights",vs:lights_glsl,fs:lights_glsl,getUniforms:function getUniforms(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:INITIAL_MODULE_OPTIONS;if("lightSources"in opts){const{ambientLight:ambientLight,pointLights:pointLights,directionalLights:directionalLights}=opts.lightSources||{};return ambientLight||pointLights&&pointLights.length>0||directionalLights&&directionalLights.length>0?Object.assign({},function getLightSourceUniforms(_ref){let{ambientLight:ambientLight,pointLights:pointLights=[],directionalLights:directionalLights=[]}=_ref;const lightSourceUniforms={};return lightSourceUniforms["lighting_uAmbientLight.color"]=ambientLight?convertColor(ambientLight):[0,0,0],pointLights.forEach(((pointLight,index)=>{lightSourceUniforms["lighting_uPointLight[".concat(index,"].color")]=convertColor(pointLight),lightSourceUniforms["lighting_uPointLight[".concat(index,"].position")]=pointLight.position,lightSourceUniforms["lighting_uPointLight[".concat(index,"].attenuation")]=pointLight.attenuation||[1,0,0]})),lightSourceUniforms.lighting_uPointLightCount=pointLights.length,directionalLights.forEach(((directionalLight,index)=>{lightSourceUniforms["lighting_uDirectionalLight[".concat(index,"].color")]=convertColor(directionalLight),lightSourceUniforms["lighting_uDirectionalLight[".concat(index,"].direction")]=directionalLight.direction})),lightSourceUniforms.lighting_uDirectionalLightCount=directionalLights.length,lightSourceUniforms}({ambientLight:ambientLight,pointLights:pointLights,directionalLights:directionalLights}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in opts){const lightSources={pointLights:[],directionalLights:[]};for(const light of opts.lights||[])switch(light.type){case"ambient":lightSources.ambientLight=light;break;case"directional":lightSources.directionalLights.push(light);break;case"point":lightSources.pointLights.push(light)}return getUniforms({lightSources:lightSources})}return{}},defines:{MAX_LIGHTS:3}}},"./node_modules/@luma.gl/shadertools/dist/esm/modules/pbr/pbr.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return pbr}});const pbr={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n  vec3 n;\n  vec3 v;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\n  return vec4(linOut,srgbIn.w);;\n#else\n  return srgbIn;\n#endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);\n  vec3 h = normalize(l+v);\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n\n\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();\n    vec3 v = normalize(u_Camera - pbr_vPosition);\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0,\n      NdotV,\n      0.0,\n      0.0,\n      0.0,\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n#ifdef PBR_DEBUG\n\n\n\n\n\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/lights/lights.js").H]}},"./node_modules/@luma.gl/shadertools/dist/esm/modules/phong-lighting/phong-lighting.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return gouraudLighting},s:function(){return phongLighting}});var lights=__webpack_require__("./node_modules/@luma.gl/shadertools/dist/esm/modules/lights/lights.js"),phong_lighting_glsl="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n";const INITIAL_MODULE_OPTIONS={};function getUniforms(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:INITIAL_MODULE_OPTIONS;if(!("material"in opts))return{};const{material:material}=opts;return material?function getMaterialUniforms(material){const{ambient:ambient=.35,diffuse:diffuse=.6,shininess:shininess=32,specularColor:specularColor=[30,30,30]}=material;return{lighting_uAmbient:ambient,lighting_uDiffuse:diffuse,lighting_uShininess:shininess,lighting_uSpecularColor:specularColor.map((x=>x/255))}}(material):{lighting_uEnabled:!1}}const gouraudLighting={name:"gouraud-lighting",dependencies:[lights.H],vs:phong_lighting_glsl,defines:{LIGHTING_VERTEX:1},getUniforms:getUniforms},phongLighting={name:"phong-lighting",dependencies:[lights.H],fs:phong_lighting_glsl,defines:{LIGHTING_FRAGMENT:1},getUniforms:getUniforms}},"./node_modules/@math.gl/core/dist/esm/classes/matrix3.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return Matrix3}});var INDICES,_base_matrix__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/base/matrix.js"),_lib_validators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/validators.js"),_lib_gl_matrix_extras__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/gl-matrix-extras.js"),gl_matrix_mat3__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/gl-matrix/esm/mat3.js"),gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/gl-matrix/esm/vec2.js"),gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/gl-matrix/esm/vec3.js");!function(INDICES){INDICES[INDICES.COL0ROW0=0]="COL0ROW0",INDICES[INDICES.COL0ROW1=1]="COL0ROW1",INDICES[INDICES.COL0ROW2=2]="COL0ROW2",INDICES[INDICES.COL1ROW0=3]="COL1ROW0",INDICES[INDICES.COL1ROW1=4]="COL1ROW1",INDICES[INDICES.COL1ROW2=5]="COL1ROW2",INDICES[INDICES.COL2ROW0=6]="COL2ROW0",INDICES[INDICES.COL2ROW1=7]="COL2ROW1",INDICES[INDICES.COL2ROW2=8]="COL2ROW2"}(INDICES||(INDICES={}));const IDENTITY_MATRIX=Object.freeze([1,0,0,0,1,0,0,0,1]);class Matrix3 extends _base_matrix__WEBPACK_IMPORTED_MODULE_0__.Z{static get IDENTITY(){return function getIdentityMatrix(){IDENTITY_MATRIX3||(IDENTITY_MATRIX3=new Matrix3,Object.freeze(IDENTITY_MATRIX3));return IDENTITY_MATRIX3}()}static get ZERO(){return function getZeroMatrix(){ZERO_MATRIX3||(ZERO_MATRIX3=new Matrix3([0,0,0,0,0,0,0,0,0]),Object.freeze(ZERO_MATRIX3));return ZERO_MATRIX3}()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return INDICES}constructor(array,...args){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(array)?this.copy(array):args.length>0?this.copy([array,...args]):this.identity()}copy(array){return this[0]=array[0],this[1]=array[1],this[2]=array[2],this[3]=array[3],this[4]=array[4],this[5]=array[5],this[6]=array[6],this[7]=array[7],this[8]=array[8],this.check()}identity(){return this.copy(IDENTITY_MATRIX)}fromObject(object){return this.check()}fromQuaternion(q){return gl_matrix_mat3__WEBPACK_IMPORTED_MODULE_1__.en(this,q),this.check()}set(m00,m10,m20,m01,m11,m21,m02,m12,m22){return this[0]=m00,this[1]=m10,this[2]=m20,this[3]=m01,this[4]=m11,this[5]=m21,this[6]=m02,this[7]=m12,this[8]=m22,this.check()}setRowMajor(m00,m01,m02,m10,m11,m12,m20,m21,m22){return this[0]=m00,this[1]=m10,this[2]=m20,this[3]=m01,this[4]=m11,this[5]=m21,this[6]=m02,this[7]=m12,this[8]=m22,this.check()}determinant(){return gl_matrix_mat3__WEBPACK_IMPORTED_MODULE_1__.GH(this)}transpose(){return gl_matrix_mat3__WEBPACK_IMPORTED_MODULE_1__.p4(this,this),this.check()}invert(){return gl_matrix_mat3__WEBPACK_IMPORTED_MODULE_1__.U_(this,this),this.check()}multiplyLeft(a){return gl_matrix_mat3__WEBPACK_IMPORTED_MODULE_1__.Jp(this,a,this),this.check()}multiplyRight(a){return gl_matrix_mat3__WEBPACK_IMPORTED_MODULE_1__.Jp(this,this,a),this.check()}rotate(radians){return gl_matrix_mat3__WEBPACK_IMPORTED_MODULE_1__.U1(this,this,radians),this.check()}scale(factor){return Array.isArray(factor)?gl_matrix_mat3__WEBPACK_IMPORTED_MODULE_1__.bA(this,this,factor):gl_matrix_mat3__WEBPACK_IMPORTED_MODULE_1__.bA(this,this,[factor,factor]),this.check()}translate(vec){return gl_matrix_mat3__WEBPACK_IMPORTED_MODULE_1__.Iu(this,this,vec),this.check()}transform(vector,result){let out;switch(vector.length){case 2:out=gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_2__.kK(result||[-0,-0],vector,this);break;case 3:out=gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_3__.kK(result||[-0,-0,-0],vector,this);break;case 4:out=(0,_lib_gl_matrix_extras__WEBPACK_IMPORTED_MODULE_4__._x)(result||[-0,-0,-0,-0],vector,this);break;default:throw new Error("Illegal vector")}return(0,_lib_validators__WEBPACK_IMPORTED_MODULE_5__.IL)(out,vector.length),out}transformVector(vector,result){return this.transform(vector,result)}transformVector2(vector,result){return this.transform(vector,result)}transformVector3(vector,result){return this.transform(vector,result)}}let ZERO_MATRIX3,IDENTITY_MATRIX3},"./node_modules/@math.gl/core/dist/esm/classes/quaternion.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return Quaternion}});var math_array=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/base/math-array.js"),validators=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/validators.js"),vector4=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/vector4.js"),common=__webpack_require__("./node_modules/gl-matrix/esm/common.js"),mat3=__webpack_require__("./node_modules/gl-matrix/esm/mat3.js"),vec3=__webpack_require__("./node_modules/gl-matrix/esm/vec3.js"),vec4=__webpack_require__("./node_modules/gl-matrix/esm/vec4.js");function create(){var out=new common.WT(4);return common.WT!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out[3]=1,out}function setAxisAngle(out,axis,rad){rad*=.5;var s=Math.sin(rad);return out[0]=s*axis[0],out[1]=s*axis[1],out[2]=s*axis[2],out[3]=Math.cos(rad),out}function multiply(out,a,b){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return out[0]=ax*bw+aw*bx+ay*bz-az*by,out[1]=ay*bw+aw*by+az*bx-ax*bz,out[2]=az*bw+aw*bz+ax*by-ay*bx,out[3]=aw*bw-ax*bx-ay*by-az*bz,out}function slerp(out,a,b,t){var omega,cosom,sinom,scale0,scale1,ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return(cosom=ax*bx+ay*by+az*bz+aw*bw)<0&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,bw=-bw),1-cosom>common.Ib?(omega=Math.acos(cosom),sinom=Math.sin(omega),scale0=Math.sin((1-t)*omega)/sinom,scale1=Math.sin(t*omega)/sinom):(scale0=1-t,scale1=t),out[0]=scale0*ax+scale1*bx,out[1]=scale0*ay+scale1*by,out[2]=scale0*az+scale1*bz,out[3]=scale0*aw+scale1*bw,out}function fromMat3(out,m){var fRoot,fTrace=m[0]+m[4]+m[8];if(fTrace>0)fRoot=Math.sqrt(fTrace+1),out[3]=.5*fRoot,fRoot=.5/fRoot,out[0]=(m[5]-m[7])*fRoot,out[1]=(m[6]-m[2])*fRoot,out[2]=(m[1]-m[3])*fRoot;else{var i=0;m[4]>m[0]&&(i=1),m[8]>m[3*i+i]&&(i=2);var j=(i+1)%3,k=(i+2)%3;fRoot=Math.sqrt(m[3*i+i]-m[3*j+j]-m[3*k+k]+1),out[i]=.5*fRoot,fRoot=.5/fRoot,out[3]=(m[3*j+k]-m[3*k+j])*fRoot,out[j]=(m[3*j+i]+m[3*i+j])*fRoot,out[k]=(m[3*k+i]+m[3*i+k])*fRoot}return out}vec4.d9,vec4.al,vec4.JG,vec4.t8;var tmpvec3,xUnitVec3,yUnitVec3,temp1,temp2,matr,add=vec4.IH,scale=vec4.bA,dot=vec4.AK,lerp=vec4.t7,quat_length=vec4.kE,squaredLength=vec4.we,normalize=vec4.Fv,rotationTo=(vec4.I6,vec4.fS,tmpvec3=vec3.Ue(),xUnitVec3=vec3.al(1,0,0),yUnitVec3=vec3.al(0,1,0),function(out,a,b){var dot=vec3.AK(a,b);return dot<-.999999?(vec3.kC(tmpvec3,xUnitVec3,a),vec3.Zh(tmpvec3)<1e-6&&vec3.kC(tmpvec3,yUnitVec3,a),vec3.Fv(tmpvec3,tmpvec3),setAxisAngle(out,tmpvec3,Math.PI),out):dot>.999999?(out[0]=0,out[1]=0,out[2]=0,out[3]=1,out):(vec3.kC(tmpvec3,a,b),out[0]=tmpvec3[0],out[1]=tmpvec3[1],out[2]=tmpvec3[2],out[3]=1+dot,normalize(out,out))});temp1=create(),temp2=create(),matr=mat3.Ue();const IDENTITY_QUATERNION=[0,0,0,1];class Quaternion extends math_array.Z{constructor(x=0,y=0,z=0,w=1){super(-0,-0,-0,-0),Array.isArray(x)&&1===arguments.length?this.copy(x):this.set(x,y,z,w)}copy(array){return this[0]=array[0],this[1]=array[1],this[2]=array[2],this[3]=array[3],this.check()}set(x,y,z,w){return this[0]=x,this[1]=y,this[2]=z,this[3]=w,this.check()}fromObject(object){return this[0]=object.x,this[1]=object.y,this[2]=object.z,this[3]=object.w,this.check()}fromMatrix3(m){return fromMat3(this,m),this.check()}fromAxisRotation(axis,rad){return setAxisAngle(this,axis,rad),this.check()}identity(){return function identity(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out}(this),this.check()}setAxisAngle(axis,rad){return this.fromAxisRotation(axis,rad)}get ELEMENTS(){return 4}get x(){return this[0]}set x(value){this[0]=(0,validators.u5)(value)}get y(){return this[1]}set y(value){this[1]=(0,validators.u5)(value)}get z(){return this[2]}set z(value){this[2]=(0,validators.u5)(value)}get w(){return this[3]}set w(value){this[3]=(0,validators.u5)(value)}len(){return quat_length(this)}lengthSquared(){return squaredLength(this)}dot(a){return dot(this,a)}rotationTo(vectorA,vectorB){return rotationTo(this,vectorA,vectorB),this.check()}add(a){return add(this,this,a),this.check()}calculateW(){return function calculateW(out,a){var x=a[0],y=a[1],z=a[2];return out[0]=x,out[1]=y,out[2]=z,out[3]=Math.sqrt(Math.abs(1-x*x-y*y-z*z)),out}(this,this),this.check()}conjugate(){return function conjugate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out}(this,this),this.check()}invert(){return function invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],dot=a0*a0+a1*a1+a2*a2+a3*a3,invDot=dot?1/dot:0;return out[0]=-a0*invDot,out[1]=-a1*invDot,out[2]=-a2*invDot,out[3]=a3*invDot,out}(this,this),this.check()}lerp(a,b,t){return void 0===t?this.lerp(this,a,b):(lerp(this,a,b,t),this.check())}multiplyRight(a){return multiply(this,this,a),this.check()}multiplyLeft(a){return multiply(this,a,this),this.check()}normalize(){const length=this.len(),l=length>0?1/length:0;return this[0]=this[0]*l,this[1]=this[1]*l,this[2]=this[2]*l,this[3]=this[3]*l,0===length&&(this[3]=1),this.check()}rotateX(rad){return function rotateX(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+aw*bx,out[1]=ay*bw+az*bx,out[2]=az*bw-ay*bx,out[3]=aw*bw-ax*bx,out}(this,this,rad),this.check()}rotateY(rad){return function rotateY(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],by=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw-az*by,out[1]=ay*bw+aw*by,out[2]=az*bw+ax*by,out[3]=aw*bw-ay*by,out}(this,this,rad),this.check()}rotateZ(rad){return function rotateZ(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bz=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+ay*bz,out[1]=ay*bw-ax*bz,out[2]=az*bw+aw*bz,out[3]=aw*bw-az*bz,out}(this,this,rad),this.check()}scale(b){return scale(this,this,b),this.check()}slerp(arg0,arg1,arg2){let start,target,ratio;switch(arguments.length){case 1:({start:start=IDENTITY_QUATERNION,target:target,ratio:ratio}=arg0);break;case 2:start=this,target=arg0,ratio=arg1;break;default:start=arg0,target=arg1,ratio=arg2}return slerp(this,start,target,ratio),this.check()}transformVector4(vector,result=new vector4.Z){return vec4.VC(result,vector,this),(0,validators.IL)(result,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(axis,rad){return this.setAxisAngle(axis,rad)}premultiply(a){return this.multiplyLeft(a)}multiply(a){return this.multiplyRight(a)}}},"./node_modules/@math.gl/core/dist/esm/classes/spherical-coordinates.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return SphericalCoordinates}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_vector3__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/vector3.js"),_lib_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/common.js"),gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/gl-matrix/esm/vec3.js");class SphericalCoordinates{constructor({phi:phi=0,theta:theta=0,radius:radius=1,bearing:bearing,pitch:pitch,altitude:altitude,radiusScale:radiusScale=6371e3}={}){(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"phi",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"theta",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"radius",void 0),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(this,"radiusScale",void 0),this.phi=phi,this.theta=theta,this.radius=radius||altitude||1,this.radiusScale=radiusScale||1,void 0!==bearing&&(this.bearing=bearing),void 0!==pitch&&(this.pitch=pitch),this.check()}toString(){return this.formatString(_lib_common__WEBPACK_IMPORTED_MODULE_1__.vc)}formatString({printTypes:printTypes=!1}){const f=_lib_common__WEBPACK_IMPORTED_MODULE_1__.Bw;return"".concat(printTypes?"Spherical":"","[rho:").concat(f(this.radius),",theta:").concat(f(this.theta),",phi:").concat(f(this.phi),"]")}equals(other){return(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.fS)(this.radius,other.radius)&&(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.fS)(this.theta,other.theta)&&(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.fS)(this.phi,other.phi)}exactEquals(other){return this.radius===other.radius&&this.theta===other.theta&&this.phi===other.phi}get bearing(){return 180-(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.RW)(this.phi)}set bearing(v){this.phi=Math.PI-(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.uR)(v)}get pitch(){return(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.RW)(this.theta)}set pitch(v){this.theta=(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.uR)(v)}get longitude(){return(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.RW)(this.phi)}get latitude(){return(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.RW)(this.theta)}get lng(){return(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.RW)(this.phi)}get lat(){return(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.RW)(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(radius,phi,theta){return this.radius=radius,this.phi=phi,this.theta=theta,this.check()}clone(){return(new SphericalCoordinates).copy(this)}copy(other){return this.radius=other.radius,this.phi=other.phi,this.theta=other.theta,this.check()}fromLngLatZ([lng,lat,z]){return this.radius=1+z/this.radiusScale,this.phi=(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.uR)(lat),this.theta=(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.uR)(lng),this.check()}fromVector3(v){return this.radius=gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_2__.kE(v),this.radius>0&&(this.theta=Math.atan2(v[0],v[1]),this.phi=Math.acos((0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.uZ)(v[2]/this.radius,-1,1))),this.check()}toVector3(){return new _vector3__WEBPACK_IMPORTED_MODULE_3__.Z(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}},"./node_modules/@math.gl/core/dist/esm/classes/vector2.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return Vector2}});var _base_vector__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/base/vector.js"),_lib_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/common.js"),_lib_validators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/validators.js"),gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/gl-matrix/esm/vec2.js"),_lib_gl_matrix_extras__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/gl-matrix-extras.js");class Vector2 extends _base_vector__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(x=0,y=0){super(2),(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.kJ)(x)&&1===arguments.length?this.copy(x):(_lib_common__WEBPACK_IMPORTED_MODULE_1__.vc.debug&&((0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(x),(0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(y)),this[0]=x,this[1]=y)}set(x,y){return this[0]=x,this[1]=y,this.check()}copy(array){return this[0]=array[0],this[1]=array[1],this.check()}fromObject(object){return _lib_common__WEBPACK_IMPORTED_MODULE_1__.vc.debug&&((0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(object.x),(0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(object.y)),this[0]=object.x,this[1]=object.y,this.check()}toObject(object){return object.x=this[0],object.y=this[1],object}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(matrix4){return this.transformAsPoint(matrix4)}transformAsPoint(matrix4){return gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_3__.fF(this,this,matrix4),this.check()}transformAsVector(matrix4){return(0,_lib_gl_matrix_extras__WEBPACK_IMPORTED_MODULE_4__.pb)(this,this,matrix4),this.check()}transformByMatrix3(matrix3){return gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_3__.kK(this,this,matrix3),this.check()}transformByMatrix2x3(matrix2x3){return gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_3__.iu(this,this,matrix2x3),this.check()}transformByMatrix2(matrix2){return gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_3__.c(this,this,matrix2),this.check()}}},"./node_modules/@math.gl/core/dist/esm/classes/vector4.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return Vector4}});var _base_vector__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/base/vector.js"),_lib_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/common.js"),_lib_validators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/validators.js"),gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/gl-matrix/esm/vec3.js"),_lib_gl_matrix_extras__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/gl-matrix-extras.js");let ZERO;class Vector4 extends _base_vector__WEBPACK_IMPORTED_MODULE_0__.Z{static get ZERO(){return ZERO||(ZERO=new Vector4(0,0,0,0),Object.freeze(ZERO)),ZERO}constructor(x=0,y=0,z=0,w=0){super(-0,-0,-0,-0),(0,_lib_common__WEBPACK_IMPORTED_MODULE_1__.kJ)(x)&&1===arguments.length?this.copy(x):(_lib_common__WEBPACK_IMPORTED_MODULE_1__.vc.debug&&((0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(x),(0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(y),(0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(z),(0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(w)),this[0]=x,this[1]=y,this[2]=z,this[3]=w)}set(x,y,z,w){return this[0]=x,this[1]=y,this[2]=z,this[3]=w,this.check()}copy(array){return this[0]=array[0],this[1]=array[1],this[2]=array[2],this[3]=array[3],this.check()}fromObject(object){return _lib_common__WEBPACK_IMPORTED_MODULE_1__.vc.debug&&((0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(object.x),(0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(object.y),(0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(object.z),(0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(object.w)),this[0]=object.x,this[1]=object.y,this[2]=object.z,this[3]=object.w,this}toObject(object){return object.x=this[0],object.y=this[1],object.z=this[2],object.w=this[3],object}get ELEMENTS(){return 4}get z(){return this[2]}set z(value){this[2]=(0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(value)}get w(){return this[3]}set w(value){this[3]=(0,_lib_validators__WEBPACK_IMPORTED_MODULE_2__.u5)(value)}transform(matrix4){return gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_3__.fF(this,this,matrix4),this.check()}transformByMatrix3(matrix3){return(0,_lib_gl_matrix_extras__WEBPACK_IMPORTED_MODULE_4__._x)(this,this,matrix3),this.check()}transformByMatrix2(matrix2){return(0,_lib_gl_matrix_extras__WEBPACK_IMPORTED_MODULE_4__.G7)(this,this,matrix2),this.check()}transformByQuaternion(quaternion){return gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_3__.VC(this,this,quaternion),this.check()}applyMatrix4(m){return m.transform(this,this),this}}},"./node_modules/@math.gl/core/dist/esm/lib/math-utils.js":function(__unused_webpack_module,__webpack_exports__){"use strict";__webpack_exports__.Z={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},"./node_modules/@math.gl/polygon/dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{wG:function(){return WINDING},WZ:function(){return cutPolygonByGrid},GU:function(){return cutPolygonByMercatorBounds},dj:function(){return cutPolylineByGrid},ct:function(){return cutPolylineByMercatorBounds},OT:function(){return earcut},ap:function(){return polygon_utils_getPolygonSignedArea},Ny:function(){return polygon_utils_modifyPolygonWindingDirection}});const WINDING={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function polygon_utils_modifyPolygonWindingDirection(points,direction,options={}){const windingDirection=function getPolygonWindingDirection(points,options={}){return Math.sign(polygon_utils_getPolygonSignedArea(points,options))}(points,options);return windingDirection!==direction&&(function reversePolygon(points,options){const{start:start=0,end:end=points.length,size:size=2}=options,numPoints=(end-start)/size,numSwaps=Math.floor(numPoints/2);for(let i=0;i<numSwaps;++i){const b1=start+i*size,b2=start+(numPoints-1-i)*size;for(let j=0;j<size;++j){const tmp=points[b1+j];points[b1+j]=points[b2+j],points[b2+j]=tmp}}}(points,options),!0)}function polygon_utils_getPolygonSignedArea(points,options={}){const{start:start=0,end:end=points.length}=options,dim=options.size||2;let area=0;for(let i=start,j=end-dim;i<end;i+=dim)area+=(points[i]-points[j])*(points[i+1]+points[j+1]),j=i;return area/2}function earcut(positions,holeIndices,dim=2,areas){const hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:positions.length;let outerNode=linkedList(positions,0,outerLen,dim,!0,areas&&areas[0]);const triangles=[];if(!outerNode||outerNode.next===outerNode.prev)return triangles;let invSize,maxX,maxY,minX,minY,x,y;if(hasHoles&&(outerNode=function eliminateHoles(data,holeIndices,outerNode,dim,areas){const queue=[];let i,len,start,end,list;for(i=0,len=holeIndices.length;i<len;i++)start=holeIndices[i]*dim,end=i<len-1?holeIndices[i+1]*dim:data.length,list=linkedList(data,start,end,dim,!1,areas&&areas[i+1]),list===list.next&&(list.steiner=!0),queue.push(getLeftmost(list));for(queue.sort(compareX),i=0;i<queue.length;i++)eliminateHole(queue[i],outerNode),outerNode=filterPoints(outerNode,outerNode.next);return outerNode}(positions,holeIndices,outerNode,dim,areas)),positions.length>80*dim){minX=maxX=positions[0],minY=maxY=positions[1];for(let i=dim;i<outerLen;i+=dim)x=positions[i],y=positions[i+1],x<minX&&(minX=x),y<minY&&(minY=y),x>maxX&&(maxX=x),y>maxY&&(maxY=y);invSize=Math.max(maxX-minX,maxY-minY),invSize=0!==invSize?1/invSize:0}return earcutLinked(outerNode,triangles,dim,minX,minY,invSize),triangles}function linkedList(data,start,end,dim,clockwise,area){let i,last;if(void 0===area&&(area=polygon_utils_getPolygonSignedArea(data,{start:start,end:end,size:dim})),clockwise===area<0)for(i=start;i<end;i+=dim)last=insertNode(i,data[i],data[i+1],last);else for(i=end-dim;i>=start;i-=dim)last=insertNode(i,data[i],data[i+1],last);return last&&earcut_equals(last,last.next)&&(removeNode(last),last=last.next),last}function filterPoints(start,end){if(!start)return start;end||(end=start);let again,p=start;do{if(again=!1,p.steiner||!earcut_equals(p,p.next)&&0!==earcut_area(p.prev,p,p.next))p=p.next;else{if(removeNode(p),p=end=p.prev,p===p.next)break;again=!0}}while(again||p!==end);return end}function earcutLinked(ear,triangles,dim,minX,minY,invSize,pass){if(!ear)return;!pass&&invSize&&function indexCurve(start,minX,minY,invSize){let p=start;do{null===p.z&&(p.z=zOrder(p.x,p.y,minX,minY,invSize)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==start);p.prevZ.nextZ=null,p.prevZ=null,function sortLinked(list){let e,i,numMerges,p,pSize,q,qSize,tail,inSize=1;do{for(p=list,list=null,tail=null,numMerges=0;p;){for(numMerges++,q=p,pSize=0,i=0;i<inSize&&(pSize++,q=q.nextZ,q);i++);for(qSize=inSize;pSize>0||qSize>0&&q;)0!==pSize&&(0===qSize||!q||p.z<=q.z)?(e=p,p=p.nextZ,pSize--):(e=q,q=q.nextZ,qSize--),tail?tail.nextZ=e:list=e,e.prevZ=tail,tail=e;p=q}tail.nextZ=null,inSize*=2}while(numMerges>1);return list}(p)}(ear,minX,minY,invSize);let prev,next,stop=ear;for(;ear.prev!==ear.next;)if(prev=ear.prev,next=ear.next,invSize?isEarHashed(ear,minX,minY,invSize):isEar(ear))triangles.push(prev.i/dim),triangles.push(ear.i/dim),triangles.push(next.i/dim),removeNode(ear),ear=next.next,stop=next.next;else if((ear=next)===stop){pass?1===pass?earcutLinked(ear=cureLocalIntersections(filterPoints(ear),triangles,dim),triangles,dim,minX,minY,invSize,2):2===pass&&splitEarcut(ear,triangles,dim,minX,minY,invSize):earcutLinked(filterPoints(ear),triangles,dim,minX,minY,invSize,1);break}}function isEar(ear){const a=ear.prev,b=ear,c=ear.next;if(earcut_area(a,b,c)>=0)return!1;let p=ear.next.next;for(;p!==ear.prev;){if(pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&earcut_area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function isEarHashed(ear,minX,minY,invSize){const a=ear.prev,b=ear,c=ear.next;if(earcut_area(a,b,c)>=0)return!1;const minTX=a.x<b.x?a.x<c.x?a.x:c.x:b.x<c.x?b.x:c.x,minTY=a.y<b.y?a.y<c.y?a.y:c.y:b.y<c.y?b.y:c.y,maxTX=a.x>b.x?a.x>c.x?a.x:c.x:b.x>c.x?b.x:c.x,maxTY=a.y>b.y?a.y>c.y?a.y:c.y:b.y>c.y?b.y:c.y,minZ=zOrder(minTX,minTY,minX,minY,invSize),maxZ=zOrder(maxTX,maxTY,minX,minY,invSize);let p=ear.prevZ,n=ear.nextZ;for(;p&&p.z>=minZ&&n&&n.z<=maxZ;){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&earcut_area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,n!==ear.prev&&n!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,n.x,n.y)&&earcut_area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}for(;p&&p.z>=minZ;){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&earcut_area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;n&&n.z<=maxZ;){if(n!==ear.prev&&n!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,n.x,n.y)&&earcut_area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}return!0}function cureLocalIntersections(start,triangles,dim){let p=start;do{const a=p.prev,b=p.next.next;!earcut_equals(a,b)&&intersects(a,p,p.next,b)&&locallyInside(a,b)&&locallyInside(b,a)&&(triangles.push(a.i/dim),triangles.push(p.i/dim),triangles.push(b.i/dim),removeNode(p),removeNode(p.next),p=start=b),p=p.next}while(p!==start);return filterPoints(p)}function splitEarcut(start,triangles,dim,minX,minY,invSize){let a=start;do{let b=a.next.next;for(;b!==a.prev;){if(a.i!==b.i&&isValidDiagonal(a,b)){let c=splitPolygon(a,b);return a=filterPoints(a,a.next),c=filterPoints(c,c.next),earcutLinked(a,triangles,dim,minX,minY,invSize),void earcutLinked(c,triangles,dim,minX,minY,invSize)}b=b.next}a=a.next}while(a!==start)}function compareX(a,b){return a.x-b.x}function eliminateHole(hole,outerNode){if(outerNode=function findHoleBridge(hole,outerNode){let p=outerNode;const hx=hole.x,hy=hole.y;let m,qx=-1/0;do{if(hy<=p.y&&hy>=p.next.y&&p.next.y!==p.y){const x=p.x+(hy-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(x<=hx&&x>qx){if(qx=x,x===hx){if(hy===p.y)return p;if(hy===p.next.y)return p.next}m=p.x<p.next.x?p:p.next}}p=p.next}while(p!==outerNode);if(!m)return null;if(hx===qx)return m;const stop=m,mx=m.x,my=m.y;let tan,tanMin=1/0;p=m;do{hx>=p.x&&p.x>=mx&&hx!==p.x&&pointInTriangle(hy<my?hx:qx,hy,mx,my,hy<my?qx:hx,hy,p.x,p.y)&&(tan=Math.abs(hy-p.y)/(hx-p.x),locallyInside(p,hole)&&(tan<tanMin||tan===tanMin&&(p.x>m.x||p.x===m.x&&sectorContainsSector(m,p)))&&(m=p,tanMin=tan)),p=p.next}while(p!==stop);return m}(hole,outerNode),outerNode){const b=splitPolygon(outerNode,hole);filterPoints(outerNode,outerNode.next),filterPoints(b,b.next)}}function sectorContainsSector(m,p){return earcut_area(m.prev,m,p.prev)<0&&earcut_area(p.next,m,m.next)<0}function zOrder(x,y,minX,minY,invSize){return(x=1431655765&((x=858993459&((x=252645135&((x=16711935&((x=32767*(x-minX)*invSize)|x<<8))|x<<4))|x<<2))|x<<1))|(y=1431655765&((y=858993459&((y=252645135&((y=16711935&((y=32767*(y-minY)*invSize)|y<<8))|y<<4))|y<<2))|y<<1))<<1}function getLeftmost(start){let p=start,leftmost=start;do{(p.x<leftmost.x||p.x===leftmost.x&&p.y<leftmost.y)&&(leftmost=p),p=p.next}while(p!==start);return leftmost}function pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return(cx-px)*(ay-py)-(ax-px)*(cy-py)>=0&&(ax-px)*(by-py)-(bx-px)*(ay-py)>=0&&(bx-px)*(cy-py)-(cx-px)*(by-py)>=0}function isValidDiagonal(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function intersectsPolygon(a,b){let p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&intersects(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}(a,b)&&(locallyInside(a,b)&&locallyInside(b,a)&&function middleInside(a,b){let p=a,inside=!1;const px=(a.x+b.x)/2,py=(a.y+b.y)/2;do{p.y>py!=p.next.y>py&&p.next.y!==p.y&&px<(p.next.x-p.x)*(py-p.y)/(p.next.y-p.y)+p.x&&(inside=!inside),p=p.next}while(p!==a);return inside}(a,b)&&(earcut_area(a.prev,a,b.prev)||earcut_area(a,b.prev,b))||earcut_equals(a,b)&&earcut_area(a.prev,a,a.next)>0&&earcut_area(b.prev,b,b.next)>0)}function earcut_area(p,q,r){return(q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y)}function earcut_equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y}function intersects(p1,q1,p2,q2){const o1=sign(earcut_area(p1,q1,p2)),o2=sign(earcut_area(p1,q1,q2)),o3=sign(earcut_area(p2,q2,p1)),o4=sign(earcut_area(p2,q2,q1));return o1!==o2&&o3!==o4||(!(0!==o1||!onSegment(p1,p2,q1))||(!(0!==o2||!onSegment(p1,q2,q1))||(!(0!==o3||!onSegment(p2,p1,q2))||!(0!==o4||!onSegment(p2,q1,q2)))))}function onSegment(p,q,r){return q.x<=Math.max(p.x,r.x)&&q.x>=Math.min(p.x,r.x)&&q.y<=Math.max(p.y,r.y)&&q.y>=Math.min(p.y,r.y)}function sign(num){return num>0?1:num<0?-1:0}function locallyInside(a,b){return earcut_area(a.prev,a,a.next)<0?earcut_area(a,b,a.next)>=0&&earcut_area(a,a.prev,b)>=0:earcut_area(a,b,a.prev)<0||earcut_area(a,a.next,b)<0}function splitPolygon(a,b){const a2=new Node(a.i,a.x,a.y),b2=new Node(b.i,b.x,b.y),an=a.next,bp=b.prev;return a.next=b,b.prev=a,a2.next=an,an.prev=a2,b2.next=a2,a2.prev=b2,bp.next=b2,b2.prev=bp,b2}function insertNode(i,x,y,last){const p=new Node(i,x,y);return last?(p.next=last.next,p.prev=last,last.next.prev=p,last.next=p):(p.prev=p,p.next=p),p}function removeNode(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function Node(i,x,y){this.i=i,this.x=x,this.y=y,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function intersect(a,b,edge,bbox,out=[]){let t,snap;if(8&edge)t=(bbox[3]-a[1])/(b[1]-a[1]),snap=3;else if(4&edge)t=(bbox[1]-a[1])/(b[1]-a[1]),snap=1;else if(2&edge)t=(bbox[2]-a[0])/(b[0]-a[0]),snap=2;else{if(!(1&edge))return null;t=(bbox[0]-a[0])/(b[0]-a[0]),snap=0}for(let i=0;i<a.length;i++)out[i]=(1&snap)===i?bbox[snap]:t*(b[i]-a[i])+a[i];return out}function bitCode(p,bbox){let code=0;return p[0]<bbox[0]?code|=1:p[0]>bbox[2]&&(code|=2),p[1]<bbox[1]?code|=4:p[1]>bbox[3]&&(code|=8),code}function utils_push(target,source){const size=source.length,startIndex=target.length;if(startIndex>0){let isDuplicate=!0;for(let i=0;i<size;i++)if(target[startIndex-size+i]!==source[i]){isDuplicate=!1;break}if(isDuplicate)return!1}for(let i=0;i<size;i++)target[startIndex+i]=source[i];return!0}function utils_copy(target,source){const size=source.length;for(let i=0;i<size;i++)target[i]=source[i]}function utils_getPointAtIndex(positions,index,size,offset,out=[]){const startI=offset+index*size;for(let i=0;i<size;i++)out[i]=positions[startI+i];return out}function cutPolylineByGrid(positions,options){const{size:size=2,broken:broken=!1,gridResolution:gridResolution=10,gridOffset:gridOffset=[0,0],startIndex:startIndex=0,endIndex:endIndex=positions.length}=options||{},numPoints=(endIndex-startIndex)/size;let part=[];const result=[part],a=utils_getPointAtIndex(positions,0,size,startIndex);let b,codeB;const cell=getGridCell(a,gridResolution,gridOffset,[]),scratchPoint=[];utils_push(part,a);for(let i=1;i<numPoints;i++){for(b=utils_getPointAtIndex(positions,i,size,startIndex,b),codeB=bitCode(b,cell);codeB;){intersect(a,b,codeB,cell,scratchPoint);const codeAlt=bitCode(scratchPoint,cell);codeAlt&&(intersect(a,scratchPoint,codeAlt,cell,scratchPoint),codeB=codeAlt),utils_push(part,scratchPoint),utils_copy(a,scratchPoint),moveToNeighborCell(cell,gridResolution,codeB),broken&&part.length>size&&(part=[],result.push(part),utils_push(part,a)),codeB=bitCode(b,cell)}utils_push(part,b),utils_copy(a,b)}return broken?result:result[0]}const TYPE_INSIDE=0,TYPE_BORDER=1;function concatInPlace(arr1,arr2){for(let i=0;i<arr2.length;i++)arr1.push(arr2[i]);return arr1}function cutPolygonByGrid(positions,holeIndices=null,options){if(!positions.length)return[];const{size:size=2,gridResolution:gridResolution=10,gridOffset:gridOffset=[0,0],edgeTypes:edgeTypes=!1}=options||{},result=[],queue=[{pos:positions,types:edgeTypes?new Array(positions.length/size).fill(TYPE_BORDER):null,holes:holeIndices||[]}],bbox=[[],[]];let cell=[];for(;queue.length;){const{pos:pos,types:types,holes:holes}=queue.shift();getBoundingBox(pos,size,holes[0]||pos.length,bbox),cell=getGridCell(bbox[0],gridResolution,gridOffset,cell);const code=bitCode(bbox[1],cell);if(code){let parts=bisectPolygon(pos,types,size,0,holes[0]||pos.length,cell,code);const polygonLow={pos:parts[0].pos,types:parts[0].types,holes:[]},polygonHigh={pos:parts[1].pos,types:parts[1].types,holes:[]};queue.push(polygonLow,polygonHigh);for(let i=0;i<holes.length;i++)parts=bisectPolygon(pos,types,size,holes[i],holes[i+1]||pos.length,cell,code),parts[0]&&(polygonLow.holes.push(polygonLow.pos.length),polygonLow.pos=concatInPlace(polygonLow.pos,parts[0].pos),edgeTypes&&(polygonLow.types=concatInPlace(polygonLow.types,parts[0].types))),parts[1]&&(polygonHigh.holes.push(polygonHigh.pos.length),polygonHigh.pos=concatInPlace(polygonHigh.pos,parts[1].pos),edgeTypes&&(polygonHigh.types=concatInPlace(polygonHigh.types,parts[1].types)))}else{const polygon={positions:pos};edgeTypes&&(polygon.edgeTypes=types),holes.length&&(polygon.holeIndices=holes),result.push(polygon)}}return result}function bisectPolygon(positions,edgeTypes,size,startIndex,endIndex,bbox,edge){const numPoints=(endIndex-startIndex)/size,resultLow=[],resultHigh=[],typesLow=[],typesHigh=[],scratchPoint=[];let p,side,type;const prev=utils_getPointAtIndex(positions,numPoints-1,size,startIndex);let prevSide=Math.sign(8&edge?prev[1]-bbox[3]:prev[0]-bbox[2]),prevType=edgeTypes&&edgeTypes[numPoints-1],lowPointCount=0,highPointCount=0;for(let i=0;i<numPoints;i++)p=utils_getPointAtIndex(positions,i,size,startIndex,p),side=Math.sign(8&edge?p[1]-bbox[3]:p[0]-bbox[2]),type=edgeTypes&&edgeTypes[startIndex/size+i],side&&prevSide&&prevSide!==side&&(intersect(prev,p,edge,bbox,scratchPoint),utils_push(resultLow,scratchPoint)&&typesLow.push(prevType),utils_push(resultHigh,scratchPoint)&&typesHigh.push(prevType)),side<=0?(utils_push(resultLow,p)&&typesLow.push(type),lowPointCount-=side):typesLow.length&&(typesLow[typesLow.length-1]=TYPE_INSIDE),side>=0?(utils_push(resultHigh,p)&&typesHigh.push(type),highPointCount+=side):typesHigh.length&&(typesHigh[typesHigh.length-1]=TYPE_INSIDE),utils_copy(prev,p),prevSide=side,prevType=type;return[lowPointCount?{pos:resultLow,types:edgeTypes&&typesLow}:null,highPointCount?{pos:resultHigh,types:edgeTypes&&typesHigh}:null]}function getGridCell(p,gridResolution,gridOffset,out){const left=Math.floor((p[0]-gridOffset[0])/gridResolution)*gridResolution+gridOffset[0],bottom=Math.floor((p[1]-gridOffset[1])/gridResolution)*gridResolution+gridOffset[1];return out[0]=left,out[1]=bottom,out[2]=left+gridResolution,out[3]=bottom+gridResolution,out}function moveToNeighborCell(cell,gridResolution,edge){8&edge?(cell[1]+=gridResolution,cell[3]+=gridResolution):4&edge?(cell[1]-=gridResolution,cell[3]-=gridResolution):2&edge?(cell[0]+=gridResolution,cell[2]+=gridResolution):1&edge&&(cell[0]-=gridResolution,cell[2]-=gridResolution)}function getBoundingBox(positions,size,endIndex,out){let minX=1/0,maxX=-1/0,minY=1/0,maxY=-1/0;for(let i=0;i<endIndex;i+=size){const x=positions[i],y=positions[i+1];minX=x<minX?x:minX,maxX=x>maxX?x:maxX,minY=y<minY?y:minY,maxY=y>maxY?y:maxY}return out[0][0]=minX,out[0][1]=minY,out[1][0]=maxX,out[1][1]=maxY,out}const DEFAULT_MAX_LATITUDE=85.051129;function cutPolylineByMercatorBounds(positions,options){const{size:size=2,startIndex:startIndex=0,endIndex:endIndex=positions.length,normalize:normalize=!0}=options||{},newPositions=positions.slice(startIndex,endIndex);wrapLongitudesForShortestPath(newPositions,size,0,endIndex-startIndex);const parts=cutPolylineByGrid(newPositions,{size:size,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(normalize)for(const part of parts)shiftLongitudesIntoRange(part,size);return parts}function cutPolygonByMercatorBounds(positions,holeIndices=null,options){const{size:size=2,normalize:normalize=!0,edgeTypes:edgeTypes=!1}=options||{};holeIndices=holeIndices||[];const newPositions=[],newHoleIndices=[];let srcStartIndex=0,targetIndex=0;for(let ringIndex=0;ringIndex<=holeIndices.length;ringIndex++){const srcEndIndex=holeIndices[ringIndex]||positions.length,targetStartIndex=targetIndex,splitIndex=findSplitIndex(positions,size,srcStartIndex,srcEndIndex);for(let i=splitIndex;i<srcEndIndex;i++)newPositions[targetIndex++]=positions[i];for(let i=srcStartIndex;i<splitIndex;i++)newPositions[targetIndex++]=positions[i];wrapLongitudesForShortestPath(newPositions,size,targetStartIndex,targetIndex),insertPoleVertices(newPositions,size,targetStartIndex,targetIndex,null==options?void 0:options.maxLatitude),srcStartIndex=srcEndIndex,newHoleIndices[ringIndex]=targetIndex}newHoleIndices.pop();const parts=cutPolygonByGrid(newPositions,newHoleIndices,{size:size,gridResolution:360,gridOffset:[-180,-180],edgeTypes:edgeTypes});if(normalize)for(const part of parts)shiftLongitudesIntoRange(part.positions,size);return parts}function findSplitIndex(positions,size,startIndex,endIndex){let maxLat=-1,pointIndex=-1;for(let i=startIndex+1;i<endIndex;i+=size){const lat=Math.abs(positions[i]);lat>maxLat&&(maxLat=lat,pointIndex=i-1)}return pointIndex}function insertPoleVertices(positions,size,startIndex,endIndex,maxLatitude=DEFAULT_MAX_LATITUDE){const firstLng=positions[startIndex],lastLng=positions[endIndex-size];if(Math.abs(firstLng-lastLng)>180){const p=utils_getPointAtIndex(positions,0,size,startIndex);p[0]+=360*Math.round((lastLng-firstLng)/360),utils_push(positions,p),p[1]=Math.sign(p[1])*maxLatitude,utils_push(positions,p),p[0]=firstLng,utils_push(positions,p)}}function wrapLongitudesForShortestPath(positions,size,startIndex,endIndex){let lng,prevLng=positions[0];for(let i=startIndex;i<endIndex;i+=size){lng=positions[i];const delta=lng-prevLng;(delta>180||delta<-180)&&(lng-=360*Math.round(delta/360)),positions[i]=prevLng=lng}}function shiftLongitudesIntoRange(positions,size){let refLng;const pointCount=positions.length/size;for(let i=0;i<pointCount&&(refLng=positions[i*size],(refLng+180)%360==0);i++);const delta=360*-Math.round(refLng/360);if(0!==delta)for(let i=0;i<pointCount;i++)positions[i*size]+=delta}},"./node_modules/@nebula.gl/edit-modes/dist-es6/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"GeoJsonEditMode",{enumerable:!0,get:function get(){return _geojsonEditMode.GeoJsonEditMode}}),Object.defineProperty(exports,"ModifyMode",{enumerable:!0,get:function get(){return _modifyMode.ModifyMode}}),Object.defineProperty(exports,"ResizeCircleMode",{enumerable:!0,get:function get(){return _resizeCircleMode.ResizeCircleMode}}),Object.defineProperty(exports,"TranslateMode",{enumerable:!0,get:function get(){return _translateMode.TranslateMode}}),Object.defineProperty(exports,"ScaleMode",{enumerable:!0,get:function get(){return _scaleMode.ScaleMode}}),Object.defineProperty(exports,"RotateMode",{enumerable:!0,get:function get(){return _rotateMode.RotateMode}}),Object.defineProperty(exports,"DuplicateMode",{enumerable:!0,get:function get(){return _duplicateMode.DuplicateMode}}),Object.defineProperty(exports,"ExtendLineStringMode",{enumerable:!0,get:function get(){return _extendLineStringMode.ExtendLineStringMode}}),Object.defineProperty(exports,"SplitPolygonMode",{enumerable:!0,get:function get(){return _splitPolygonMode.SplitPolygonMode}}),Object.defineProperty(exports,"ExtrudeMode",{enumerable:!0,get:function get(){return _extrudeMode.ExtrudeMode}}),Object.defineProperty(exports,"ElevationMode",{enumerable:!0,get:function get(){return _elevationMode.ElevationMode}}),Object.defineProperty(exports,"TransformMode",{enumerable:!0,get:function get(){return _transformMode.TransformMode}}),Object.defineProperty(exports,"DrawPointMode",{enumerable:!0,get:function get(){return _drawPointMode.DrawPointMode}}),Object.defineProperty(exports,"DrawLineStringMode",{enumerable:!0,get:function get(){return _drawLineStringMode.DrawLineStringMode}}),Object.defineProperty(exports,"DrawPolygonMode",{enumerable:!0,get:function get(){return _drawPolygonMode.DrawPolygonMode}}),Object.defineProperty(exports,"DrawRectangleMode",{enumerable:!0,get:function get(){return _drawRectangleMode.DrawRectangleMode}}),Object.defineProperty(exports,"DrawSquareMode",{enumerable:!0,get:function get(){return _drawSquareMode.DrawSquareMode}}),Object.defineProperty(exports,"DrawRectangleFromCenterMode",{enumerable:!0,get:function get(){return _drawRectangleFromCenterMode.DrawRectangleFromCenterMode}}),Object.defineProperty(exports,"DrawSquareFromCenterMode",{enumerable:!0,get:function get(){return _drawSquareFromCenterMode.DrawSquareFromCenterMode}}),Object.defineProperty(exports,"DrawCircleByDiameterMode",{enumerable:!0,get:function get(){return _drawCircleByDiameterMode.DrawCircleByDiameterMode}}),Object.defineProperty(exports,"DrawCircleFromCenterMode",{enumerable:!0,get:function get(){return _drawCircleFromCenterMode.DrawCircleFromCenterMode}}),Object.defineProperty(exports,"DrawEllipseByBoundingBoxMode",{enumerable:!0,get:function get(){return _drawEllipseByBoundingBoxMode.DrawEllipseByBoundingBoxMode}}),Object.defineProperty(exports,"DrawEllipseUsingThreePointsMode",{enumerable:!0,get:function get(){return _drawEllipseUsingThreePointsMode.DrawEllipseUsingThreePointsMode}}),Object.defineProperty(exports,"DrawRectangleUsingThreePointsMode",{enumerable:!0,get:function get(){return _drawRectangleUsingThreePointsMode.DrawRectangleUsingThreePointsMode}}),Object.defineProperty(exports,"Draw90DegreePolygonMode",{enumerable:!0,get:function get(){return _draw90degreePolygonMode.Draw90DegreePolygonMode}}),Object.defineProperty(exports,"DrawPolygonByDraggingMode",{enumerable:!0,get:function get(){return _drawPolygonByDraggingMode.DrawPolygonByDraggingMode}}),Object.defineProperty(exports,"ImmutableFeatureCollection",{enumerable:!0,get:function get(){return _immutableFeatureCollection.ImmutableFeatureCollection}}),Object.defineProperty(exports,"ViewMode",{enumerable:!0,get:function get(){return _viewMode.ViewMode}}),Object.defineProperty(exports,"MeasureDistanceMode",{enumerable:!0,get:function get(){return _measureDistanceMode.MeasureDistanceMode}}),Object.defineProperty(exports,"MeasureAreaMode",{enumerable:!0,get:function get(){return _measureAreaMode.MeasureAreaMode}}),Object.defineProperty(exports,"MeasureAngleMode",{enumerable:!0,get:function get(){return _measureAngleMode.MeasureAngleMode}}),Object.defineProperty(exports,"CompositeMode",{enumerable:!0,get:function get(){return _compositeMode.CompositeMode}}),Object.defineProperty(exports,"SnappableMode",{enumerable:!0,get:function get(){return _snappableMode.SnappableMode}}),Object.defineProperty(exports,"_memoize",{enumerable:!0,get:function get(){return _memoize.default}}),exports.utils=void 0;var _geojsonEditMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js"),_modifyMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/modify-mode.js"),_resizeCircleMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/resize-circle-mode.js"),_translateMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/translate-mode.js"),_scaleMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/scale-mode.js"),_rotateMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/rotate-mode.js"),_duplicateMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/duplicate-mode.js"),_extendLineStringMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/extend-line-string-mode.js"),_splitPolygonMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/split-polygon-mode.js"),_extrudeMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/extrude-mode.js"),_elevationMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/elevation-mode.js"),_transformMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/transform-mode.js"),_drawPointMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-point-mode.js"),_drawLineStringMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-line-string-mode.js"),_drawPolygonMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-polygon-mode.js"),_drawRectangleMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-rectangle-mode.js"),_drawSquareMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-square-mode.js"),_drawRectangleFromCenterMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-rectangle-from-center-mode.js"),_drawSquareFromCenterMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-square-from-center-mode.js"),_drawCircleByDiameterMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-circle-by-diameter-mode.js"),_drawCircleFromCenterMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-circle-from-center-mode.js"),_drawEllipseByBoundingBoxMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-ellipse-by-bounding-box-mode.js"),_drawEllipseUsingThreePointsMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-ellipse-using-three-points-mode.js"),_drawRectangleUsingThreePointsMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-rectangle-using-three-points-mode.js"),_draw90degreePolygonMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-90degree-polygon-mode.js"),_drawPolygonByDraggingMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-polygon-by-dragging-mode.js"),_immutableFeatureCollection=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/immutable-feature-collection.js"),_viewMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/view-mode.js"),_measureDistanceMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/measure-distance-mode.js"),_measureAreaMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/measure-area-mode.js"),_measureAngleMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/measure-angle-mode.js"),_compositeMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/composite-mode.js"),_snappableMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/snappable-mode.js"),_memoize=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/memoize.js")),utils=function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return cache},cache}exports.utils=utils},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/composite-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return _assertThisInitialized(self)}(this,result)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CompositeMode=void 0;var CompositeMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(CompositeMode,_GeoJsonEditMode);var _super=_createSuper(CompositeMode);function CompositeMode(modes){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CompositeMode),function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this=_super.call(this)),"_modes",void 0),_this._modes=modes,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CompositeMode,[{key:"_coalesce",value:function _coalesce(callback){for(var result,resultEval=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=0;i<this._modes.length&&(result=callback(this._modes[i]),!(resultEval?resultEval(result):result));i++);return result}},{key:"handleClick",value:function handleClick(event,props){this._coalesce((function(handler){return handler.handleClick(event,props)}))}},{key:"handlePointerMove",value:function handlePointerMove(event,props){return this._coalesce((function(handler){return handler.handlePointerMove(event,props)}))}},{key:"handleStartDragging",value:function handleStartDragging(event,props){return this._coalesce((function(handler){return handler.handleStartDragging(event,props)}))}},{key:"handleStopDragging",value:function handleStopDragging(event,props){return this._coalesce((function(handler){return handler.handleStopDragging(event,props)}))}},{key:"handleDragging",value:function handleDragging(event,props){return this._coalesce((function(handler){return handler.handleDragging(event,props)}))}},{key:"getGuides",value:function getGuides(props){var _step,allGuides=[],_iterator=function _createForOfIteratorHelper(o){if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(o=_unsupportedIterableToArray(o))){var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var it,err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(this._modes);try{for(_iterator.s();!(_step=_iterator.n()).done;){var mode=_step.value;allGuides.push.apply(allGuides,_toConsumableArray(mode.getGuides(props).features))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return{type:"FeatureCollection",features:allGuides}}}]),CompositeMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js").GeoJsonEditMode);exports.CompositeMode=CompositeMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-90degree-polygon-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Draw90DegreePolygonMode=void 0;var _destination=_interopRequireDefault(__webpack_require__("./node_modules/@turf/destination/dist/js/index.js")),_bearing=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js")),_lineIntersect=_interopRequireDefault(__webpack_require__("./node_modules/@turf/line-intersect/dist/js/index.js")),_distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var Draw90DegreePolygonMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Draw90DegreePolygonMode,_GeoJsonEditMode);var _super=_createSuper(Draw90DegreePolygonMode);function Draw90DegreePolygonMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Draw90DegreePolygonMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Draw90DegreePolygonMode,[{key:"createTentativeFeature",value:function createTentativeFeature(props){var p3,clickSequence=this.getClickSequence(),mapCoords=props.lastPointerMoveEvent.mapCoords;if(1===clickSequence.length)p3=mapCoords;else{var p1=clickSequence[clickSequence.length-2],p2=clickSequence[clickSequence.length-1];p3=_slicedToArray((0,_utils.generatePointsParallelToLinePoints)(p1,p2,mapCoords),1)[0]}return clickSequence.length<3?{type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[].concat(_toConsumableArray(clickSequence),[p3])}}:{type:"Feature",properties:{guideType:"tentative"},geometry:{type:"Polygon",coordinates:[[].concat(_toConsumableArray(clickSequence),[p3,clickSequence[0]])]}}}},{key:"getGuides",value:function getGuides(props){var guides={type:"FeatureCollection",features:[]};if(0===this.getClickSequence().length||!props.lastPointerMoveEvent)return guides;var tentativeFeature=this.createTentativeFeature(props);return guides.features.push(tentativeFeature),guides.features=guides.features.concat((0,_utils.getEditHandlesForGeometry)(tentativeFeature.geometry,-1)),guides.features=guides.features.slice(0,-1),guides}},{key:"handlePointerMove",value:function handlePointerMove(event,props){props.onUpdateCursor("cell"),_get(_getPrototypeOf(Draw90DegreePolygonMode.prototype),"handlePointerMove",this).call(this,event,props)}},{key:"handleClick",value:function handleClick(event,props){var picks=event.picks,tentativeFeature=this.getTentativeGuide(props);this.addClickSequence(event);var clickSequence=this.getClickSequence();if(tentativeFeature){if(3===clickSequence.length&&"LineString"===tentativeFeature.geometry.type){var lineString=tentativeFeature.geometry;clickSequence[clickSequence.length-1]=lineString.coordinates[lineString.coordinates.length-1]}else if(clickSequence.length>3&&"Polygon"===tentativeFeature.geometry.type){var polygon=tentativeFeature.geometry;clickSequence[clickSequence.length-1]=polygon.coordinates[0][polygon.coordinates[0].length-2];var clickedEditHandle=(0,_utils.getPickedEditHandle)(picks);if(clickedEditHandle&&Array.isArray(clickedEditHandle.properties.positionIndexes)&&(0===clickedEditHandle.properties.positionIndexes[1]||clickedEditHandle.properties.positionIndexes[1]===polygon.coordinates[0].length-3)){var polygonToAdd={type:"Polygon",coordinates:this.finalizedCoordinates(_toConsumableArray(polygon.coordinates[0]))};this.resetClickSequence();var editAction=this.getAddFeatureOrBooleanPolygonAction(polygonToAdd,props);editAction&&props.onEdit(editAction)}}var fakePointerMoveEvent={screenCoords:[-1,-1],mapCoords:event.mapCoords,picks:[],pointerDownPicks:null,pointerDownScreenCoords:null,pointerDownMapCoords:null,cancelPan:function cancelPan(){},sourceEvent:null};this.handlePointerMove(fakePointerMoveEvent,props)}}},{key:"finalizedCoordinates",value:function finalizedCoordinates(coords){var coordinates=[[].concat(_toConsumableArray(coords.slice(0,-2)),[coords[0]])],pt=this.getIntermediatePoint(_toConsumableArray(coords));if(pt)coordinates=[[].concat(_toConsumableArray(coords.slice(0,-2)),[pt,coords[0]])];else{var tc=_toConsumableArray(coords);tc.splice(-3,1),(pt=this.getIntermediatePoint(_toConsumableArray(tc)))&&(coordinates=[[].concat(_toConsumableArray(coords.slice(0,-3)),[pt,coords[0]])])}return coordinates}},{key:"getIntermediatePoint",value:function getIntermediatePoint(coordinates){var pt;if(coordinates.length>4){var _ref=_toConsumableArray(coordinates),p1=_ref[0],p2=_ref[1],angle1=(0,_bearing.default)(p1,p2),p3=coordinates[coordinates.length-3],p4=coordinates[coordinates.length-4],angle2=(0,_bearing.default)(p3,p4),angles={first:[],second:[]};[1,2,3].forEach((function(factor){var newAngle1=angle1+90*factor;angles.first.push(newAngle1>180?newAngle1-360:newAngle1);var newAngle2=angle2+90*factor;angles.second.push(newAngle2>180?newAngle2-360:newAngle2)}));var distance=(0,_distance.default)((0,_helpers.point)(p1),(0,_helpers.point)(p3));[0,1,2].forEach((function(indexFirst){var line1=(0,_helpers.lineString)([p1,(0,_destination.default)(p1,distance,angles.first[indexFirst]).geometry.coordinates]);[0,1,2].forEach((function(indexSecond){var line2=(0,_helpers.lineString)([p3,(0,_destination.default)(p3,distance,angles.second[indexSecond]).geometry.coordinates]),fc=(0,_lineIntersect.default)(line1,line2);fc&&fc.features.length&&(pt=fc.features[0].geometry.coordinates)}))}))}return pt}}]),Draw90DegreePolygonMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js").GeoJsonEditMode);exports.Draw90DegreePolygonMode=Draw90DegreePolygonMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-circle-by-diameter-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawCircleByDiameterMode=void 0;var _circle=_interopRequireDefault(__webpack_require__("./node_modules/@turf/circle/dist/js/index.js")),_distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),_geojsonEditMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DrawCircleByDiameterMode=function(_TwoClickPolygonMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawCircleByDiameterMode,_TwoClickPolygonMode);var _super=_createSuper(DrawCircleByDiameterMode);function DrawCircleByDiameterMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawCircleByDiameterMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawCircleByDiameterMode,[{key:"getTwoClickPolygon",value:function getTwoClickPolygon(coord1,coord2,modeConfig){var _ref$steps=(modeConfig||{}).steps,steps=void 0===_ref$steps?64:_ref$steps,options={steps:steps};steps<4&&(console.warn("Minimum steps to draw a circle is 4 "),options.steps=4);var centerCoordinates=(0,_geojsonEditMode.getIntermediatePosition)(coord1,coord2),radius=Math.max((0,_distance.default)(coord1,centerCoordinates),.001),geometry=(0,_circle.default)(centerCoordinates,radius,options);return geometry.properties=geometry.properties||{},geometry.properties.shape="Circle",geometry}}]),DrawCircleByDiameterMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/two-click-polygon-mode.js").TwoClickPolygonMode);exports.DrawCircleByDiameterMode=DrawCircleByDiameterMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-circle-from-center-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawCircleFromCenterMode=void 0;var _circle=_interopRequireDefault(__webpack_require__("./node_modules/@turf/circle/dist/js/index.js")),_distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DrawCircleFromCenterMode=function(_TwoClickPolygonMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawCircleFromCenterMode,_TwoClickPolygonMode);var _super=_createSuper(DrawCircleFromCenterMode);function DrawCircleFromCenterMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawCircleFromCenterMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawCircleFromCenterMode,[{key:"getTwoClickPolygon",value:function getTwoClickPolygon(coord1,coord2,modeConfig){var _ref$steps=(modeConfig||{}).steps,steps=void 0===_ref$steps?64:_ref$steps,options={steps:steps};steps<4&&(console.warn("Minimum steps to draw a circle is 4 "),options.steps=4);var radius=Math.max((0,_distance.default)(coord1,coord2),.001),geometry=(0,_circle.default)(coord1,radius,options);return geometry.properties=geometry.properties||{},geometry.properties.shape="Circle",geometry}}]),DrawCircleFromCenterMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/two-click-polygon-mode.js").TwoClickPolygonMode);exports.DrawCircleFromCenterMode=DrawCircleFromCenterMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-ellipse-by-bounding-box-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawEllipseByBoundingBoxMode=void 0;var _bboxPolygon=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bbox-polygon/dist/js/index.js")),_distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),_ellipse=_interopRequireDefault(__webpack_require__("./node_modules/@turf/ellipse/dist/js/index.js")),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_geojsonEditMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DrawEllipseByBoundingBoxMode=function(_TwoClickPolygonMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawEllipseByBoundingBoxMode,_TwoClickPolygonMode);var _super=_createSuper(DrawEllipseByBoundingBoxMode);function DrawEllipseByBoundingBoxMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawEllipseByBoundingBoxMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawEllipseByBoundingBoxMode,[{key:"getTwoClickPolygon",value:function getTwoClickPolygon(coord1,coord2,modeConfig){var minX=Math.min(coord1[0],coord2[0]),minY=Math.min(coord1[1],coord2[1]),maxX=Math.max(coord1[0],coord2[0]),maxY=Math.max(coord1[1],coord2[1]),polygonPoints=(0,_bboxPolygon.default)([minX,minY,maxX,maxY]).geometry.coordinates[0],centerCoordinates=(0,_geojsonEditMode.getIntermediatePosition)(coord1,coord2),xSemiAxis=Math.max((0,_distance.default)((0,_helpers.point)(polygonPoints[0]),(0,_helpers.point)(polygonPoints[1])),.001),ySemiAxis=Math.max((0,_distance.default)((0,_helpers.point)(polygonPoints[0]),(0,_helpers.point)(polygonPoints[3])),.001);return(0,_ellipse.default)(centerCoordinates,xSemiAxis,ySemiAxis)}}]),DrawEllipseByBoundingBoxMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/two-click-polygon-mode.js").TwoClickPolygonMode);exports.DrawEllipseByBoundingBoxMode=DrawEllipseByBoundingBoxMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-ellipse-using-three-points-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawEllipseUsingThreePointsMode=void 0;var _distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),_ellipse=_interopRequireDefault(__webpack_require__("./node_modules/@turf/ellipse/dist/js/index.js")),_bearing=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js")),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_geojsonEditMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DrawEllipseUsingThreePointsMode=function(_ThreeClickPolygonMod){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawEllipseUsingThreePointsMode,_ThreeClickPolygonMod);var _super=_createSuper(DrawEllipseUsingThreePointsMode);function DrawEllipseUsingThreePointsMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawEllipseUsingThreePointsMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawEllipseUsingThreePointsMode,[{key:"getThreeClickPolygon",value:function getThreeClickPolygon(coord1,coord2,coord3,modeConfig){var centerCoordinates=(0,_geojsonEditMode.getIntermediatePosition)(coord1,coord2),xSemiAxis=Math.max((0,_distance.default)(centerCoordinates,(0,_helpers.point)(coord3)),.001),ySemiAxis=Math.max((0,_distance.default)(coord1,coord2),.001)/2,options={angle:(0,_bearing.default)(coord1,coord2)};return(0,_ellipse.default)(centerCoordinates,xSemiAxis,ySemiAxis,options)}}]),DrawEllipseUsingThreePointsMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/three-click-polygon-mode.js").ThreeClickPolygonMode);exports.DrawEllipseUsingThreePointsMode=DrawEllipseUsingThreePointsMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-line-string-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawLineStringMode=void 0;var _utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DrawLineStringMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawLineStringMode,_GeoJsonEditMode);var _super=_createSuper(DrawLineStringMode);function DrawLineStringMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawLineStringMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawLineStringMode,[{key:"handleClick",value:function handleClick(event,props){var picks=event.picks,clickedEditHandle=(0,_utils.getPickedEditHandle)(picks),positionAdded=!1;clickedEditHandle||(this.addClickSequence(event),positionAdded=!0);var clickSequence=this.getClickSequence();if(clickSequence.length>1&&clickedEditHandle&&Array.isArray(clickedEditHandle.properties.positionIndexes)&&clickedEditHandle.properties.positionIndexes[0]===clickSequence.length-1){var lineStringToAdd={type:"LineString",coordinates:_toConsumableArray(clickSequence)};this.resetClickSequence();var editAction=this.getAddFeatureAction(lineStringToAdd,props.data);editAction&&props.onEdit(editAction)}else positionAdded&&props.onEdit({updatedData:props.data,editType:"addTentativePosition",editContext:{position:event.mapCoords}})}},{key:"handleKeyUp",value:function handleKeyUp(event,props){if("Enter"===event.key){var clickSequence=this.getClickSequence();if(clickSequence.length>1){var lineStringToAdd={type:"LineString",coordinates:_toConsumableArray(clickSequence)};this.resetClickSequence();var editAction=this.getAddFeatureAction(lineStringToAdd,props.data);editAction&&props.onEdit(editAction)}}}},{key:"getGuides",value:function getGuides(props){var _guides$features,tentativeFeature,lastPointerMoveEvent=props.lastPointerMoveEvent,clickSequence=this.getClickSequence(),lastCoords=lastPointerMoveEvent?[lastPointerMoveEvent.mapCoords]:[],guides={type:"FeatureCollection",features:[]};clickSequence.length>0&&(tentativeFeature={type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[].concat(_toConsumableArray(clickSequence),lastCoords)}}),tentativeFeature&&guides.features.push(tentativeFeature);var editHandles=clickSequence.map((function(clickedCoord,index){return{type:"Feature",properties:{guideType:"editHandle",editHandleType:"existing",featureIndex:-1,positionIndexes:[index]},geometry:{type:"Point",coordinates:clickedCoord}}}));return(_guides$features=guides.features).push.apply(_guides$features,_toConsumableArray(editHandles)),guides}},{key:"handlePointerMove",value:function handlePointerMove(event,props){props.onUpdateCursor("cell")}}]),DrawLineStringMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js").GeoJsonEditMode);exports.DrawLineStringMode=DrawLineStringMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-point-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawPointMode=void 0;var DrawPointMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawPointMode,_GeoJsonEditMode);var _super=_createSuper(DrawPointMode);function DrawPointMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawPointMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawPointMode,[{key:"createTentativeFeature",value:function createTentativeFeature(props){var lastPointerMoveEvent=props.lastPointerMoveEvent;return{type:"Feature",properties:{guideType:"tentative"},geometry:{type:"Point",coordinates:(lastPointerMoveEvent?[lastPointerMoveEvent.mapCoords]:[])[0]}}}},{key:"handleClick",value:function handleClick(_ref,props){var geometry={type:"Point",coordinates:_ref.mapCoords};props.onEdit(this.getAddFeatureAction(geometry,props.data))}},{key:"handlePointerMove",value:function handlePointerMove(event,props){props.onUpdateCursor("cell"),_get(_getPrototypeOf(DrawPointMode.prototype),"handlePointerMove",this).call(this,event,props)}}]),DrawPointMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js").GeoJsonEditMode);exports.DrawPointMode=DrawPointMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-polygon-by-dragging-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawPolygonByDraggingMode=void 0;var _lodash=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/lodash.throttle/index.js")),_utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return _assertThisInitialized(self)}(this,result)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DrawPolygonByDraggingMode=function(_DrawPolygonMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawPolygonByDraggingMode,_DrawPolygonMode);var _super=_createSuper(DrawPolygonByDraggingMode);function DrawPolygonByDraggingMode(){var _this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawPolygonByDraggingMode);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"handleDraggingThrottled",null),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawPolygonByDraggingMode,[{key:"handleClick",value:function handleClick(event,props){}},{key:"handleStartDragging",value:function handleStartDragging(event,props){event.cancelPan(),props.modeConfig&&props.modeConfig.throttleMs?this.handleDraggingThrottled=(0,_lodash.default)(this.handleDraggingAux,props.modeConfig.throttleMs):this.handleDraggingThrottled=this.handleDraggingAux}},{key:"handleStopDragging",value:function handleStopDragging(event,props){this.addClickSequence(event);var clickSequence=this.getClickSequence();if(this.handleDraggingThrottled&&this.handleDraggingThrottled.cancel&&this.handleDraggingThrottled.cancel(),clickSequence.length>2){var polygonToAdd={type:"Polygon",coordinates:[[].concat(_toConsumableArray(clickSequence),[clickSequence[0]])]};this.resetClickSequence();var editAction=this.getAddFeatureOrBooleanPolygonAction(polygonToAdd,props);editAction&&props.onEdit(editAction)}}},{key:"handleDraggingAux",value:function handleDraggingAux(event,props){var picks=event.picks;(0,_utils.getPickedEditHandle)(picks)||this.addClickSequence(event)}},{key:"handleDragging",value:function handleDragging(event,props){this.handleDraggingThrottled&&this.handleDraggingThrottled(event,props)}}]),DrawPolygonByDraggingMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-polygon-mode.js").DrawPolygonMode);exports.DrawPolygonByDraggingMode=DrawPolygonByDraggingMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-polygon-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawPolygonMode=void 0;var _lineIntersect=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/@turf/line-intersect/dist/js/index.js")),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DrawPolygonMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawPolygonMode,_GeoJsonEditMode);var _super=_createSuper(DrawPolygonMode);function DrawPolygonMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawPolygonMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawPolygonMode,[{key:"createTentativeFeature",value:function createTentativeFeature(props){var tentativeFeature,lastPointerMoveEvent=props.lastPointerMoveEvent,clickSequence=this.getClickSequence(),lastCoords=lastPointerMoveEvent?[lastPointerMoveEvent.mapCoords]:[];return 1===clickSequence.length||2===clickSequence.length?tentativeFeature={type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[].concat(_toConsumableArray(clickSequence),lastCoords)}}:clickSequence.length>2&&(tentativeFeature={type:"Feature",properties:{guideType:"tentative"},geometry:{type:"Polygon",coordinates:[[].concat(_toConsumableArray(clickSequence),lastCoords,[clickSequence[0]])]}}),tentativeFeature}},{key:"getGuides",value:function getGuides(props){var _guides$features,clickSequence=this.getClickSequence(),guides={type:"FeatureCollection",features:[]},tentativeFeature=this.createTentativeFeature(props);tentativeFeature&&guides.features.push(tentativeFeature);var editHandles=clickSequence.map((function(clickedCoord,index){return{type:"Feature",properties:{guideType:"editHandle",editHandleType:"existing",featureIndex:-1,positionIndexes:[index]},geometry:{type:"Point",coordinates:clickedCoord}}}));return(_guides$features=guides.features).push.apply(_guides$features,_toConsumableArray(editHandles)),guides}},{key:"handleClick",value:function handleClick(event,props){var picks=event.picks,clickedEditHandle=(0,_utils.getPickedEditHandle)(picks),clickSequence=this.getClickSequence(),overlappingLines=!1;if(clickSequence.length>2&&props.modeConfig&&props.modeConfig.preventOverlappingLines){var currentLine=(0,_helpers.lineString)([clickSequence[clickSequence.length-1],event.mapCoords]),otherLines=(0,_helpers.lineString)(_toConsumableArray(clickSequence.slice(0,clickSequence.length-1)));(0,_lineIntersect.default)(currentLine,otherLines).features.length>0&&(overlappingLines=!0)}var positionAdded=!1;if(clickedEditHandle||overlappingLines||(this.addClickSequence(event),positionAdded=!0),clickSequence.length>2&&clickedEditHandle&&Array.isArray(clickedEditHandle.properties.positionIndexes)&&(0===clickedEditHandle.properties.positionIndexes[0]||clickedEditHandle.properties.positionIndexes[0]===clickSequence.length-1)){var polygonToAdd={type:"Polygon",coordinates:[[].concat(_toConsumableArray(clickSequence),[clickSequence[0]])]};this.resetClickSequence();var editAction=this.getAddFeatureOrBooleanPolygonAction(polygonToAdd,props);editAction&&props.onEdit(editAction)}else positionAdded&&props.onEdit({updatedData:props.data,editType:"addTentativePosition",editContext:{position:event.mapCoords}})}},{key:"handleKeyUp",value:function handleKeyUp(event,props){if("Enter"===event.key){var clickSequence=this.getClickSequence();if(clickSequence.length>2){var polygonToAdd={type:"Polygon",coordinates:[[].concat(_toConsumableArray(clickSequence),[clickSequence[0]])]};this.resetClickSequence();var editAction=this.getAddFeatureOrBooleanPolygonAction(polygonToAdd,props);editAction&&props.onEdit(editAction)}}}},{key:"handlePointerMove",value:function handlePointerMove(event,props){props.onUpdateCursor("cell"),_get(_getPrototypeOf(DrawPolygonMode.prototype),"handlePointerMove",this).call(this,event,props)}}]),DrawPolygonMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js").GeoJsonEditMode);exports.DrawPolygonMode=DrawPolygonMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-rectangle-from-center-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawRectangleFromCenterMode=void 0;var _bboxPolygon=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/@turf/bbox-polygon/dist/js/index.js"));function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DrawRectangleFromCenterMode=function(_TwoClickPolygonMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawRectangleFromCenterMode,_TwoClickPolygonMode);var _super=_createSuper(DrawRectangleFromCenterMode);function DrawRectangleFromCenterMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawRectangleFromCenterMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawRectangleFromCenterMode,[{key:"getTwoClickPolygon",value:function getTwoClickPolygon(coord1,coord2,modeConfig){var longitude=coord1[0]>coord2[0]?coord1[0]+Math.abs(coord1[0]-coord2[0]):coord1[0]-Math.abs(coord1[0]-coord2[0]),latitude=coord1[1]>coord2[1]?coord1[1]+Math.abs(coord1[1]-coord2[1]):coord1[1]-Math.abs(coord1[1]-coord2[1]),rectangle=(0,_bboxPolygon.default)([longitude,latitude,coord2[0],coord2[1]]);return rectangle.properties=rectangle.properties||{},rectangle.properties.shape="Rectangle",rectangle}}]),DrawRectangleFromCenterMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/two-click-polygon-mode.js").TwoClickPolygonMode);exports.DrawRectangleFromCenterMode=DrawRectangleFromCenterMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-rectangle-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawRectangleMode=void 0;var _bboxPolygon=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/@turf/bbox-polygon/dist/js/index.js"));function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DrawRectangleMode=function(_TwoClickPolygonMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawRectangleMode,_TwoClickPolygonMode);var _super=_createSuper(DrawRectangleMode);function DrawRectangleMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawRectangleMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawRectangleMode,[{key:"getTwoClickPolygon",value:function getTwoClickPolygon(coord1,coord2,modeConfig){var rectangle=(0,_bboxPolygon.default)([coord1[0],coord1[1],coord2[0],coord2[1]]);return rectangle.properties=rectangle.properties||{},rectangle.properties.shape="Rectangle",rectangle}}]),DrawRectangleMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/two-click-polygon-mode.js").TwoClickPolygonMode);exports.DrawRectangleMode=DrawRectangleMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-rectangle-using-three-points-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawRectangleUsingThreePointsMode=void 0;var _utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DrawRectangleUsingThreePointsMode=function(_ThreeClickPolygonMod){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawRectangleUsingThreePointsMode,_ThreeClickPolygonMod);var _super=_createSuper(DrawRectangleUsingThreePointsMode);function DrawRectangleUsingThreePointsMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawRectangleUsingThreePointsMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawRectangleUsingThreePointsMode,[{key:"getThreeClickPolygon",value:function getThreeClickPolygon(coord1,coord2,coord3,modeConfig){var _generatePointsParall2=_slicedToArray((0,_utils.generatePointsParallelToLinePoints)(coord1,coord2,coord3),2);return{type:"Feature",properties:{shape:"Rectangle"},geometry:{type:"Polygon",coordinates:[[coord1,coord2,_generatePointsParall2[0],_generatePointsParall2[1],coord1]]}}}}]),DrawRectangleUsingThreePointsMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/three-click-polygon-mode.js").ThreeClickPolygonMode);exports.DrawRectangleUsingThreePointsMode=DrawRectangleUsingThreePointsMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-square-from-center-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawSquareFromCenterMode=void 0;var _bboxPolygon=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bbox-polygon/dist/js/index.js")),_distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),_along=_interopRequireDefault(__webpack_require__("./node_modules/@turf/along/dist/js/index.js")),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DrawSquareFromCenterMode=function(_TwoClickPolygonMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawSquareFromCenterMode,_TwoClickPolygonMode);var _super=_createSuper(DrawSquareFromCenterMode);function DrawSquareFromCenterMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawSquareFromCenterMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawSquareFromCenterMode,[{key:"getTwoClickPolygon",value:function getTwoClickPolygon(coord1,coord2,modeConfig){var coord3=[coord2[0],coord1[1]],coord4=[coord1[0],coord2[1]],distance1=(0,_distance.default)((0,_helpers.point)(coord3),(0,_helpers.point)(coord1)),distance2=(0,_distance.default)((0,_helpers.point)(coord4),(0,_helpers.point)(coord1)),shortestDistance=distance1<=distance2?distance1:distance2,closestPoint=distance1<=distance2?coord3:coord4,line=(0,_helpers.lineString)([closestPoint,coord2]),corner=(0,_along.default)(line,shortestDistance).geometry.coordinates,longitude=coord1[0]>corner[0]?coord1[0]+Math.abs(coord1[0]-corner[0]):coord1[0]-Math.abs(coord1[0]-corner[0]),latitude=coord1[1]>corner[1]?coord1[1]+Math.abs(coord1[1]-corner[1]):coord1[1]-Math.abs(coord1[1]-corner[1]),square=(0,_bboxPolygon.default)([longitude,latitude,corner[0],corner[1]]);return square.properties=square.properties||{},square.properties.shape="Square",square}}]),DrawSquareFromCenterMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/two-click-polygon-mode.js").TwoClickPolygonMode);exports.DrawSquareFromCenterMode=DrawSquareFromCenterMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-square-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DrawSquareMode=void 0;var _bboxPolygon=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bbox-polygon/dist/js/index.js")),_distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),_along=_interopRequireDefault(__webpack_require__("./node_modules/@turf/along/dist/js/index.js")),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DrawSquareMode=function(_TwoClickPolygonMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DrawSquareMode,_TwoClickPolygonMode);var _super=_createSuper(DrawSquareMode);function DrawSquareMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DrawSquareMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DrawSquareMode,[{key:"getTwoClickPolygon",value:function getTwoClickPolygon(coord1,coord2,modeConfig){var coord3=[coord2[0],coord1[1]],coord4=[coord1[0],coord2[1]],distance1=(0,_distance.default)((0,_helpers.point)(coord3),(0,_helpers.point)(coord1)),distance2=(0,_distance.default)((0,_helpers.point)(coord4),(0,_helpers.point)(coord1)),shortestDistance=distance1<=distance2?distance1:distance2,closestPoint=distance1<=distance2?coord3:coord4,line=(0,_helpers.lineString)([closestPoint,coord2]),corner=(0,_along.default)(line,shortestDistance).geometry.coordinates,square=(0,_bboxPolygon.default)([coord1[0],coord1[1],corner[0],corner[1]]);return square.properties=square.properties||{},square.properties.shape="Square",square}}]),DrawSquareMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/two-click-polygon-mode.js").TwoClickPolygonMode);exports.DrawSquareMode=DrawSquareMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/duplicate-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DuplicateMode=void 0;var DuplicateMode=function(_TranslateMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(DuplicateMode,_TranslateMode);var _super=_createSuper(DuplicateMode);function DuplicateMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DuplicateMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DuplicateMode,[{key:"handleStartDragging",value:function handleStartDragging(event,props){_get(_getPrototypeOf(DuplicateMode.prototype),"handleStartDragging",this).call(this,event,props),this._geometryBeforeTranslate&&props.onEdit(this.getAddManyFeaturesAction(this._geometryBeforeTranslate,props.data))}},{key:"updateCursor",value:function updateCursor(props){this._isTranslatable?props.onUpdateCursor("copy"):props.onUpdateCursor(null)}}]),DuplicateMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/translate-mode.js").TranslateMode);exports.DuplicateMode=DuplicateMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/elevation-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ElevationMode=void 0;var _utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function defaultCalculateElevationChange(_ref){var pointerDownScreenCoords=_ref.pointerDownScreenCoords,screenCoords=_ref.screenCoords;return 10*(pointerDownScreenCoords[1]-screenCoords[1])}var ElevationMode=function(_ModifyMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ElevationMode,_ModifyMode);var _super=_createSuper(ElevationMode);function ElevationMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ElevationMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ElevationMode,[{key:"makeElevatedEvent",value:function makeElevatedEvent(event,position,props){var _ref2=props.modeConfig||{},_ref2$minElevation=_ref2.minElevation,minElevation=void 0===_ref2$minElevation?0:_ref2$minElevation,_ref2$maxElevation=_ref2.maxElevation,maxElevation=void 0===_ref2$maxElevation?2e4:_ref2$maxElevation,_ref2$calculateElevat=_ref2.calculateElevationChange,calculateElevationChange=void 0===_ref2$calculateElevat?defaultCalculateElevationChange:_ref2$calculateElevat;if(!event.pointerDownScreenCoords)return event;var elevation=3===position.length?position[2]:0;return elevation+=calculateElevationChange({pointerDownScreenCoords:event.pointerDownScreenCoords,screenCoords:event.screenCoords}),elevation=Math.min(elevation,maxElevation),elevation=Math.max(elevation,minElevation),Object.assign({},event,{mapCoords:[position[0],position[1],elevation]})}},{key:"handlePointerMove",value:function handlePointerMove(event,props){var editHandle=(0,_utils.getPickedEditHandle)(event.pointerDownPicks),position=editHandle?editHandle.geometry.coordinates:event.mapCoords;_get(_getPrototypeOf(ElevationMode.prototype),"handlePointerMove",this).call(this,this.makeElevatedEvent(event,position,props),props)}},{key:"handleStopDragging",value:function handleStopDragging(event,props){var editHandle=(0,_utils.getPickedEditHandle)(event.picks),position=editHandle?editHandle.geometry.coordinates:event.mapCoords;_get(_getPrototypeOf(ElevationMode.prototype),"handleStopDragging",this).call(this,this.makeElevatedEvent(event,position,props),props)}},{key:"getCursor",value:function getCursor(event){var cursor=_get(_getPrototypeOf(ElevationMode.prototype),"getCursor",this).call(this,event);return"cell"===cursor&&(cursor="ns-resize"),cursor}}],[{key:"calculateElevationChangeWithViewport",value:function calculateElevationChangeWithViewport(viewport,_ref3){var pointerDownScreenCoords=_ref3.pointerDownScreenCoords,screenCoords=_ref3.screenCoords;return 156543.03392*Math.cos(viewport.latitude*Math.PI/180)/Math.pow(2,viewport.zoom)*(pointerDownScreenCoords[1]-screenCoords[1])/2}}]),ElevationMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/modify-mode.js").ModifyMode);exports.ElevationMode=ElevationMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/extend-line-string-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExtendLineStringMode=void 0;var _geojsonEditMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js"),_immutableFeatureCollection=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/immutable-feature-collection.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var ExtendLineStringMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ExtendLineStringMode,_GeoJsonEditMode);var _super=_createSuper(ExtendLineStringMode);function ExtendLineStringMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ExtendLineStringMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ExtendLineStringMode,[{key:"getSingleSelectedLineString",value:function getSingleSelectedLineString(props){var selectedGeometry=this.getSelectedGeometry(props);return selectedGeometry&&"LineString"===selectedGeometry.type?selectedGeometry:null}},{key:"handleClick",value:function handleClick(event,props){var selectedIndexes=props.selectedIndexes,selectedLineString=this.getSingleSelectedLineString(props);if(selectedLineString){var positionIndexes=[selectedLineString.coordinates.length],modeConfig=props.modeConfig;modeConfig&&modeConfig.drawAtFront&&(positionIndexes=[0]);var featureIndex=selectedIndexes[0],updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data).addPosition(featureIndex,positionIndexes,event.mapCoords).getObject();props.onEdit({updatedData:updatedData,editType:"addPosition",editContext:{featureIndexes:[featureIndex],positionIndexes:positionIndexes,position:event.mapCoords}})}else console.warn("ExtendLineStringMode only supported for single LineString selection")}},{key:"getGuides",value:function getGuides(props){var guides={type:"FeatureCollection",features:[]},selectedLineString=this.getSingleSelectedLineString(props);if(!selectedLineString)return guides;var mapCoords=props.lastPointerMoveEvent&&props.lastPointerMoveEvent.mapCoords,startPosition=null,modeConfig=props.modeConfig;return startPosition=modeConfig&&modeConfig.drawAtFront?selectedLineString.coordinates[0]:selectedLineString.coordinates[selectedLineString.coordinates.length-1],guides.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[startPosition,mapCoords]}}),guides}},{key:"handlePointerMove",value:function handlePointerMove(event,props){props.onUpdateCursor("cell")}}]),ExtendLineStringMode}(_geojsonEditMode.GeoJsonEditMode);exports.ExtendLineStringMode=ExtendLineStringMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/extrude-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExtrudeMode=void 0;var _bearing=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js")),_utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js"),_modifyMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/modify-mode.js"),_immutableFeatureCollection=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/immutable-feature-collection.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return _assertThisInitialized(self)}(this,result)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var ExtrudeMode=function(_ModifyMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ExtrudeMode,_ModifyMode);var _super=_createSuper(ExtrudeMode);function ExtrudeMode(){var _this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ExtrudeMode);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"isPointAdded",!1),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ExtrudeMode,[{key:"handleDragging",value:function handleDragging(event,props){var editHandle=(0,_utils.getPickedEditHandle)(event.pointerDownPicks);if(editHandle){var featureIndex=editHandle.properties.featureIndex,positionIndexes=editHandle.properties.positionIndexes,size=this.coordinatesSize(positionIndexes,featureIndex,props.data);positionIndexes=this.isPointAdded?this.nextPositionIndexes(positionIndexes,size):positionIndexes;var p1=this.getPointForPositionIndexes(this.prevPositionIndexes(positionIndexes,size),featureIndex,props.data),p2=this.getPointForPositionIndexes(positionIndexes,featureIndex,props.data);if(p1&&p2){var _generatePointsParall2=_slicedToArray((0,_utils.generatePointsParallelToLinePoints)(p1,p2,event.mapCoords),2),p3=_generatePointsParall2[0],p4=_generatePointsParall2[1],updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data).replacePosition(featureIndex,this.prevPositionIndexes(positionIndexes,size),p4).replacePosition(featureIndex,positionIndexes,p3).getObject();props.onEdit({updatedData:updatedData,editType:"extruding",editContext:{featureIndexes:[featureIndex],positionIndexes:this.nextPositionIndexes(positionIndexes,size),position:p3}}),event.cancelPan()}}}},{key:"handleStartDragging",value:function handleStartDragging(event,props){var selectedFeatureIndexes=props.selectedIndexes,editHandle=(0,_utils.getPickedIntermediateEditHandle)(event.picks);if(selectedFeatureIndexes.length&&editHandle){var _editHandle$propertie=editHandle.properties,positionIndexes=_editHandle$propertie.positionIndexes,featureIndex=_editHandle$propertie.featureIndex,size=this.coordinatesSize(positionIndexes,featureIndex,props.data),p1=this.getPointForPositionIndexes(this.prevPositionIndexes(positionIndexes,size),featureIndex,props.data),p2=this.getPointForPositionIndexes(positionIndexes,featureIndex,props.data);if(p1&&p2){var updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data);this.isOrthogonal(positionIndexes,featureIndex,size,props.data)||(updatedData=updatedData.addPosition(featureIndex,positionIndexes,p2)),this.isOrthogonal(this.prevPositionIndexes(positionIndexes,size),featureIndex,size,props.data)||(updatedData=updatedData.addPosition(featureIndex,positionIndexes,p1),this.isPointAdded=!0),props.onEdit({updatedData:updatedData.getObject(),editType:"startExtruding",editContext:{featureIndexes:[featureIndex],positionIndexes:positionIndexes,position:p1}})}}}},{key:"handleStopDragging",value:function handleStopDragging(event,props){var selectedFeatureIndexes=props.selectedIndexes,editHandle=(0,_utils.getPickedEditHandle)(event.pointerDownPicks);if(selectedFeatureIndexes.length&&editHandle){var featureIndex=editHandle.properties.featureIndex,positionIndexes=editHandle.properties.positionIndexes,size=this.coordinatesSize(positionIndexes,featureIndex,props.data);positionIndexes=this.isPointAdded?this.nextPositionIndexes(positionIndexes,size):positionIndexes;var p1=this.getPointForPositionIndexes(this.prevPositionIndexes(positionIndexes,size),featureIndex,props.data),p2=this.getPointForPositionIndexes(positionIndexes,featureIndex,props.data);if(p1&&p2){var _generatePointsParall4=_slicedToArray((0,_utils.generatePointsParallelToLinePoints)(p1,p2,event.mapCoords),2),p3=_generatePointsParall4[0],p4=_generatePointsParall4[1],updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data).replacePosition(featureIndex,this.prevPositionIndexes(positionIndexes,size),p4).replacePosition(featureIndex,positionIndexes,p3).getObject();props.onEdit({updatedData:updatedData,editType:"extruded",editContext:{featureIndexes:[featureIndex],positionIndexes:positionIndexes,position:p3}})}}this.isPointAdded=!1}},{key:"coordinatesSize",value:function coordinatesSize(positionIndexes,featureIndex,_ref){var features=_ref.features,size=0;if(Array.isArray(positionIndexes)){var coordinates=features[featureIndex].geometry.coordinates;if(3===positionIndexes.length){var _positionIndexes=_slicedToArray(positionIndexes,2),a=_positionIndexes[0],b=_positionIndexes[1];coordinates.length&&coordinates[a].length&&(size=coordinates[a][b].length)}else{var _b=_slicedToArray(positionIndexes,1)[0];coordinates.length&&coordinates[_b].length&&(size=coordinates[_b].length)}}return size}},{key:"getBearing",value:function getBearing(p1,p2){var angle=(0,_bearing.default)(p1,p2);return angle<0?Math.floor(360+angle):Math.floor(angle)}},{key:"isOrthogonal",value:function isOrthogonal(positionIndexes,featureIndex,size,features){if(!Array.isArray(positionIndexes))return!1;positionIndexes[positionIndexes.length-1]===size-1&&(positionIndexes[positionIndexes.length-1]=0);var prevPoint=this.getPointForPositionIndexes(this.prevPositionIndexes(positionIndexes,size),featureIndex,features),nextPoint=this.getPointForPositionIndexes(this.nextPositionIndexes(positionIndexes,size),featureIndex,features),currentPoint=this.getPointForPositionIndexes(positionIndexes,featureIndex,features),prevAngle=this.getBearing(currentPoint,prevPoint),nextAngle=this.getBearing(currentPoint,nextPoint);return[89,90,91,269,270,271].includes(Math.abs(prevAngle-nextAngle))}},{key:"nextPositionIndexes",value:function nextPositionIndexes(positionIndexes,size){if(!Array.isArray(positionIndexes))return[];var next=_toConsumableArray(positionIndexes);return next.length&&(next[next.length-1]=next[next.length-1]===size-1?0:next[next.length-1]+1),next}},{key:"prevPositionIndexes",value:function prevPositionIndexes(positionIndexes,size){if(!Array.isArray(positionIndexes))return[];var prev=_toConsumableArray(positionIndexes);return prev.length&&(prev[prev.length-1]=0===prev[prev.length-1]?size-2:prev[prev.length-1]-1),prev}},{key:"getPointForPositionIndexes",value:function getPointForPositionIndexes(positionIndexes,featureIndex,_ref2){var p1,features=_ref2.features;if(Array.isArray(positionIndexes)){var coordinates=features[featureIndex].geometry.coordinates;if(3===positionIndexes.length){var _positionIndexes3=_slicedToArray(positionIndexes,3),a=_positionIndexes3[0],b=_positionIndexes3[1],c=_positionIndexes3[2];coordinates.length&&coordinates[a].length&&(p1=coordinates[a][b][c])}else{var _positionIndexes4=_slicedToArray(positionIndexes,2),_b2=_positionIndexes4[0],_c=_positionIndexes4[1];coordinates.length&&coordinates[_b2].length&&(p1=coordinates[_b2][_c])}}return p1}}]),ExtrudeMode}(_modifyMode.ModifyMode);exports.ExtrudeMode=ExtrudeMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getIntermediatePosition=function getIntermediatePosition(position1,position2){return[(position1[0]+position2[0])/2,(position1[1]+position2[1])/2]},exports.GeoJsonEditMode=void 0;var _union=_interopRequireDefault(__webpack_require__("./node_modules/@turf/union/dist/js/index.js")),_difference=_interopRequireDefault(__webpack_require__("./node_modules/@turf/difference/dist/js/index.js")),_intersect=_interopRequireDefault(__webpack_require__("./node_modules/@turf/intersect/dist/js/index.js")),_rewind=_interopRequireDefault(__webpack_require__("./node_modules/@turf/rewind/dist/js/index.js")),_utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js"),_immutableFeatureCollection=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/immutable-feature-collection.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var DEFAULT_GUIDES={type:"FeatureCollection",features:[]},DEFAULT_TOOLTIPS=[],GeoJsonEditMode=function(){function GeoJsonEditMode(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GeoJsonEditMode),function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(this,"_clickSequence",[])}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(GeoJsonEditMode,[{key:"getGuides",value:function getGuides(props){return DEFAULT_GUIDES}},{key:"getTooltips",value:function getTooltips(props){return DEFAULT_TOOLTIPS}},{key:"getSelectedFeature",value:function getSelectedFeature(props){return 1===props.selectedIndexes.length?props.data.features[props.selectedIndexes[0]]:null}},{key:"getSelectedGeometry",value:function getSelectedGeometry(props){var feature=this.getSelectedFeature(props);return feature?feature.geometry:null}},{key:"getSelectedFeaturesAsFeatureCollection",value:function getSelectedFeaturesAsFeatureCollection(props){var features=props.data.features;return{type:"FeatureCollection",features:props.selectedIndexes.map((function(selectedIndex){return features[selectedIndex]}))}}},{key:"getClickSequence",value:function getClickSequence(){return this._clickSequence}},{key:"addClickSequence",value:function addClickSequence(_ref){var mapCoords=_ref.mapCoords;this._clickSequence.push(mapCoords)}},{key:"resetClickSequence",value:function resetClickSequence(){this._clickSequence=[]}},{key:"getTentativeGuide",value:function getTentativeGuide(props){return this.getGuides(props).features.find((function(f){return f.properties&&"tentative"===f.properties.guideType}))}},{key:"isSelectionPicked",value:function isSelectionPicked(picks,props){if(!picks.length)return!1;var pickedFeatures=(0,_utils.getNonGuidePicks)(picks).map((function(_ref2){return _ref2.index})),pickedHandles=(0,_utils.getPickedEditHandles)(picks).map((function(_ref3){return _ref3.properties.featureIndex})),pickedIndexes=new Set([].concat(_toConsumableArray(pickedFeatures),_toConsumableArray(pickedHandles)));return props.selectedIndexes.some((function(index){return pickedIndexes.has(index)}))}},{key:"rewindPolygon",value:function rewindPolygon(feature){var geometry=feature.geometry;return"Polygon"===geometry.type||"MultiPolygon"===geometry.type?(0,_rewind.default)(feature):feature}},{key:"getAddFeatureAction",value:function getAddFeatureAction(featureOrGeometry,features){var featureOrGeometryAsAny=featureOrGeometry,feature="Feature"===featureOrGeometryAsAny.type?featureOrGeometryAsAny:{type:"Feature",properties:{},geometry:featureOrGeometryAsAny},rewindFeature=this.rewindPolygon(feature),updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(features).addFeature(rewindFeature).getObject();return{updatedData:updatedData,editType:"addFeature",editContext:{featureIndexes:[updatedData.features.length-1]}}}},{key:"getAddManyFeaturesAction",value:function getAddManyFeaturesAction(_ref4,features){var _step,featuresToAdd=_ref4.features,updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(features),initialIndex=updatedData.getObject().features.length,updatedIndexes=[],_iterator=function _createForOfIteratorHelper(o){if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(o=_unsupportedIterableToArray(o))){var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var it,err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(featuresToAdd);try{for(_iterator.s();!(_step=_iterator.n()).done;){var feature=_step.value,properties=feature.properties,geometryAsAny=feature.geometry;updatedData=updatedData.addFeature({type:"Feature",properties:properties,geometry:geometryAsAny}),updatedIndexes.push(initialIndex+updatedIndexes.length)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return{updatedData:updatedData.getObject(),editType:"addFeature",editContext:{featureIndexes:updatedIndexes}}}},{key:"getAddFeatureOrBooleanPolygonAction",value:function getAddFeatureOrBooleanPolygonAction(featureOrGeometry,props){var featureOrGeometryAsAny=featureOrGeometry,selectedFeature=this.getSelectedFeature(props),modeConfig=props.modeConfig;if(modeConfig&&modeConfig.booleanOperation){if(!selectedFeature||"Polygon"!==selectedFeature.geometry.type&&"MultiPolygon"!==selectedFeature.geometry.type)return console.warn("booleanOperation only supported for single Polygon or MultiPolygon selection"),null;var updatedGeometry,feature="Feature"===featureOrGeometryAsAny.type?featureOrGeometryAsAny:{type:"Feature",geometry:featureOrGeometryAsAny};if("union"===modeConfig.booleanOperation)updatedGeometry=(0,_union.default)(selectedFeature,feature);else if("difference"===modeConfig.booleanOperation)updatedGeometry=(0,_difference.default)(selectedFeature,feature);else{if("intersection"!==modeConfig.booleanOperation)return console.warn("Invalid booleanOperation ".concat(modeConfig.booleanOperation)),null;updatedGeometry=(0,_intersect.default)(selectedFeature,feature)}if(!updatedGeometry)return console.warn("Canceling edit. Boolean operation erased entire polygon."),null;var featureIndex=props.selectedIndexes[0];return{updatedData:new _immutableFeatureCollection.ImmutableFeatureCollection(props.data).replaceGeometry(featureIndex,updatedGeometry.geometry).getObject(),editType:"unionGeometry",editContext:{featureIndexes:[featureIndex]}}}return this.getAddFeatureAction(featureOrGeometry,props.data)}},{key:"createTentativeFeature",value:function createTentativeFeature(props){return null}},{key:"handleClick",value:function handleClick(event,props){}},{key:"handlePointerMove",value:function handlePointerMove(event,props){var tentativeFeature=this.createTentativeFeature(props);tentativeFeature&&props.onEdit({updatedData:props.data,editType:"updateTentativeFeature",editContext:{feature:tentativeFeature}})}},{key:"handleStartDragging",value:function handleStartDragging(event,props){}},{key:"handleStopDragging",value:function handleStopDragging(event,props){}},{key:"handleDragging",value:function handleDragging(event,props){}},{key:"handleKeyUp",value:function handleKeyUp(event,props){"Escape"===event.key&&(this.resetClickSequence(),props.onEdit({updatedData:props.data,editType:"cancelFeature",editContext:{}}))}}]),GeoJsonEditMode}();exports.GeoJsonEditMode=GeoJsonEditMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/immutable-feature-collection.js":function(__unused_webpack_module,exports){"use strict";function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImmutableFeatureCollection=void 0;var ImmutableFeatureCollection=function(){function ImmutableFeatureCollection(featureCollection){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ImmutableFeatureCollection),_defineProperty(this,"featureCollection",void 0),this.featureCollection=featureCollection}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ImmutableFeatureCollection,[{key:"getObject",value:function getObject(){return this.featureCollection}},{key:"replacePosition",value:function replacePosition(featureIndex,positionIndexes,updatedPosition){var geometry=this.featureCollection.features[featureIndex].geometry,isPolygonal="Polygon"===geometry.type||"MultiPolygon"===geometry.type,updatedGeometry=_objectSpread({},geometry,{coordinates:immutablyReplacePosition(geometry.coordinates,positionIndexes,updatedPosition,isPolygonal)});return this.replaceGeometry(featureIndex,updatedGeometry)}},{key:"removePosition",value:function removePosition(featureIndex,positionIndexes){var geometry=this.featureCollection.features[featureIndex].geometry;if("Point"===geometry.type)throw Error("Can't remove a position from a Point or there'd be nothing left");if("MultiPoint"===geometry.type&&geometry.coordinates.length<2)throw Error("Can't remove the last point of a MultiPoint or there'd be nothing left");if("LineString"===geometry.type&&geometry.coordinates.length<3)throw Error("Can't remove position. LineString must have at least two positions");if("Polygon"===geometry.type&&geometry.coordinates[0].length<5&&Array.isArray(positionIndexes)&&0===positionIndexes[0])throw Error("Can't remove position. Polygon's outer ring must have at least four positions");if("MultiLineString"===geometry.type&&1===geometry.coordinates.length&&geometry.coordinates[0].length<3)throw Error("Can't remove position. MultiLineString must have at least two positions");if("MultiPolygon"===geometry.type&&1===geometry.coordinates.length&&geometry.coordinates[0][0].length<5&&Array.isArray(positionIndexes)&&0===positionIndexes[0]&&0===positionIndexes[1])throw Error("Can't remove position. MultiPolygon's outer ring must have at least four positions");var isPolygonal="Polygon"===geometry.type||"MultiPolygon"===geometry.type,updatedGeometry=_objectSpread({},geometry,{coordinates:immutablyRemovePosition(geometry.coordinates,positionIndexes,isPolygonal)});return function pruneGeometryIfNecessary(geometry){switch(geometry.type){case"Polygon":!function prunePolygonIfNecessary(geometry){for(var polygon=geometry.coordinates,holeIndex=1;holeIndex<polygon.length;holeIndex++)removeHoleIfNecessary(polygon,holeIndex)&&holeIndex--}(geometry);break;case"MultiLineString":!function pruneMultiLineStringIfNecessary(geometry){for(var lineStringIndex=0;lineStringIndex<geometry.coordinates.length;lineStringIndex++){1===geometry.coordinates[lineStringIndex].length&&(geometry.coordinates.splice(lineStringIndex,1),lineStringIndex--)}}(geometry);break;case"MultiPolygon":!function pruneMultiPolygonIfNecessary(geometry){for(var polygonIndex=0;polygonIndex<geometry.coordinates.length;polygonIndex++){var polygon=geometry.coordinates[polygonIndex];polygon[0].length<=3&&(geometry.coordinates.splice(polygonIndex,1),polygonIndex--);for(var holeIndex=1;holeIndex<polygon.length;holeIndex++)removeHoleIfNecessary(polygon,holeIndex)&&holeIndex--}}(geometry)}}(updatedGeometry),this.replaceGeometry(featureIndex,updatedGeometry)}},{key:"addPosition",value:function addPosition(featureIndex,positionIndexes,positionToAdd){var geometry=this.featureCollection.features[featureIndex].geometry;if("Point"===geometry.type)throw new Error("Unable to add a position to a Point feature");var isPolygonal="Polygon"===geometry.type||"MultiPolygon"===geometry.type,updatedGeometry=_objectSpread({},geometry,{coordinates:immutablyAddPosition(geometry.coordinates,positionIndexes,positionToAdd,isPolygonal)});return this.replaceGeometry(featureIndex,updatedGeometry)}},{key:"replaceGeometry",value:function replaceGeometry(featureIndex,geometry){var updatedFeature=_objectSpread({},this.featureCollection.features[featureIndex],{geometry:geometry});return new ImmutableFeatureCollection(_objectSpread({},this.featureCollection,{features:[].concat(_toConsumableArray(this.featureCollection.features.slice(0,featureIndex)),[updatedFeature],_toConsumableArray(this.featureCollection.features.slice(featureIndex+1)))}))}},{key:"addFeature",value:function addFeature(feature){return this.addFeatures([feature])}},{key:"addFeatures",value:function addFeatures(features){return new ImmutableFeatureCollection(_objectSpread({},this.featureCollection,{features:[].concat(_toConsumableArray(this.featureCollection.features),_toConsumableArray(features))}))}},{key:"deleteFeature",value:function deleteFeature(featureIndex){return this.deleteFeatures([featureIndex])}},{key:"deleteFeatures",value:function deleteFeatures(featureIndexes){var features=_toConsumableArray(this.featureCollection.features);featureIndexes.sort();for(var i=featureIndexes.length-1;i>=0;i--){var featureIndex=featureIndexes[i];featureIndex>=0&&featureIndex<features.length&&features.splice(featureIndex,1)}return new ImmutableFeatureCollection(_objectSpread({},this.featureCollection,{features:features}))}}]),ImmutableFeatureCollection}();function getUpdatedPosition(updatedPosition,previousPosition){if(2===updatedPosition.length&&3===previousPosition.length){var elevation=previousPosition[2];return[updatedPosition[0],updatedPosition[1],elevation]}return updatedPosition}function immutablyReplacePosition(coordinates,positionIndexes,updatedPosition,isPolygonal){if(!positionIndexes)return coordinates;if(0===positionIndexes.length)return getUpdatedPosition(updatedPosition,coordinates);if(1===positionIndexes.length){var updated=[].concat(_toConsumableArray(coordinates.slice(0,positionIndexes[0])),[getUpdatedPosition(updatedPosition,coordinates[positionIndexes[0]])],_toConsumableArray(coordinates.slice(positionIndexes[0]+1)));return!isPolygonal||0!==positionIndexes[0]&&positionIndexes[0]!==coordinates.length-1||(updated[0]=getUpdatedPosition(updatedPosition,coordinates[0]),updated[coordinates.length-1]=getUpdatedPosition(updatedPosition,coordinates[0])),updated}return[].concat(_toConsumableArray(coordinates.slice(0,positionIndexes[0])),[immutablyReplacePosition(coordinates[positionIndexes[0]],positionIndexes.slice(1,positionIndexes.length),updatedPosition,isPolygonal)],_toConsumableArray(coordinates.slice(positionIndexes[0]+1)))}function immutablyRemovePosition(coordinates,positionIndexes,isPolygonal){if(!positionIndexes)return coordinates;if(0===positionIndexes.length)throw Error("Must specify the index of the position to remove");if(1===positionIndexes.length){var updated=[].concat(_toConsumableArray(coordinates.slice(0,positionIndexes[0])),_toConsumableArray(coordinates.slice(positionIndexes[0]+1)));return!isPolygonal||0!==positionIndexes[0]&&positionIndexes[0]!==coordinates.length-1||(0===positionIndexes[0]?updated[updated.length-1]=updated[0]:positionIndexes[0]===coordinates.length-1&&(updated[0]=updated[updated.length-1])),updated}return[].concat(_toConsumableArray(coordinates.slice(0,positionIndexes[0])),[immutablyRemovePosition(coordinates[positionIndexes[0]],positionIndexes.slice(1,positionIndexes.length),isPolygonal)],_toConsumableArray(coordinates.slice(positionIndexes[0]+1)))}function immutablyAddPosition(coordinates,positionIndexes,positionToAdd,isPolygonal){if(!positionIndexes)return coordinates;if(0===positionIndexes.length)throw Error("Must specify the index of the position to remove");return 1===positionIndexes.length?[].concat(_toConsumableArray(coordinates.slice(0,positionIndexes[0])),[positionToAdd],_toConsumableArray(coordinates.slice(positionIndexes[0]))):[].concat(_toConsumableArray(coordinates.slice(0,positionIndexes[0])),[immutablyAddPosition(coordinates[positionIndexes[0]],positionIndexes.slice(1,positionIndexes.length),positionToAdd,isPolygonal)],_toConsumableArray(coordinates.slice(positionIndexes[0]+1)))}function removeHoleIfNecessary(polygon,holeIndex){return polygon[holeIndex].length<=3&&(polygon.splice(holeIndex,1),!0)}exports.ImmutableFeatureCollection=ImmutableFeatureCollection},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/measure-angle-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MeasureAngleMode=void 0;var _bearing=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js")),_center=_interopRequireDefault(__webpack_require__("./node_modules/@turf/center/dist/js/index.js")),_memoize=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/memoize.js")),_geojsonEditMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return _assertThisInitialized(self)}(this,result)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DEFAULT_TOOLTIPS=[],MeasureAngleMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MeasureAngleMode,_GeoJsonEditMode);var _super=_createSuper(MeasureAngleMode);function MeasureAngleMode(){var _this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MeasureAngleMode);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"_getTooltips",(0,_memoize.default)((function(_ref){var modeConfig=_ref.modeConfig,vertex=_ref.vertex,point1=_ref.point1,point2=_ref.point2,tooltips=DEFAULT_TOOLTIPS;if(vertex&&point1&&point2){var text,_ref2=modeConfig||{},formatTooltip=_ref2.formatTooltip,measurementCallback=_ref2.measurementCallback,angle1=(0,_bearing.default)(vertex,point1),angle2=(0,_bearing.default)(vertex,point2),angle=Math.abs(angle1-angle2);angle>180&&(angle=360-angle),text=formatTooltip?formatTooltip(angle):"".concat(parseFloat(angle).toFixed(2)," ").concat("deg"),measurementCallback&&measurementCallback(angle),tooltips=[{position:(0,_center.default)({type:"FeatureCollection",features:[point1,point2].map((function(p){return{type:"Feature",geometry:{type:"Point",coordinates:p}}}))}).geometry.coordinates,text:text}]}return tooltips}))),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(MeasureAngleMode,[{key:"handleClick",value:function handleClick(event,props){this.getClickSequence().length>=3&&this.resetClickSequence(),this.addClickSequence(event)}},{key:"handlePointerMove",value:function handlePointerMove(event,props){props.onUpdateCursor("cell")}},{key:"getPoints",value:function getPoints(props){var clickSequence=this.getClickSequence(),points=_toConsumableArray(clickSequence);return clickSequence.length<3&&props.lastPointerMoveEvent&&points.push(props.lastPointerMoveEvent.mapCoords),points}},{key:"getGuides",value:function getGuides(props){var guides={type:"FeatureCollection",features:[]},features=guides.features,points=this.getPoints(props);return points.length>2?features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[points[1],points[0],points[2]]}}):points.length>1&&features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[points[1],points[0]]}}),guides}},{key:"getTooltips",value:function getTooltips(props){var points=this.getPoints(props);return this._getTooltips({modeConfig:props.modeConfig,vertex:points[0],point1:points[1],point2:points[2]})}}]),MeasureAngleMode}(_geojsonEditMode.GeoJsonEditMode);exports.MeasureAngleMode=MeasureAngleMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/measure-area-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MeasureAreaMode=void 0;var _area=_interopRequireDefault(__webpack_require__("./node_modules/@turf/area/dist/js/index.js")),_centroid=_interopRequireDefault(__webpack_require__("./node_modules/@turf/centroid/dist/js/index.js")),_drawPolygonMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/draw-polygon-mode.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var DEFAULT_TOOLTIPS=[],MeasureAreaMode=function(_DrawPolygonMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MeasureAreaMode,_DrawPolygonMode);var _super=_createSuper(MeasureAreaMode);function MeasureAreaMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MeasureAreaMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(MeasureAreaMode,[{key:"handleClick",value:function handleClick(event,props){var propsWithoutEdit=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},props,{onEdit:function onEdit(){}});_get(_getPrototypeOf(MeasureAreaMode.prototype),"handleClick",this).call(this,event,propsWithoutEdit)}},{key:"getTooltips",value:function getTooltips(props){var tentativeGuide=this.getTentativeGuide(props);if(tentativeGuide&&"Polygon"===tentativeGuide.geometry.type){var text,_ref=props.modeConfig||{},formatTooltip=_ref.formatTooltip,measurementCallback=_ref.measurementCallback,centroid=(0,_centroid.default)(tentativeGuide),area=(0,_area.default)(tentativeGuide);return text=formatTooltip?formatTooltip(area):"".concat(parseFloat(area).toFixed(2)," ").concat("sq. m"),measurementCallback&&measurementCallback(area),[{position:centroid.geometry.coordinates,text:text}]}return DEFAULT_TOOLTIPS}}]),MeasureAreaMode}(_drawPolygonMode.DrawPolygonMode);exports.MeasureAreaMode=MeasureAreaMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/measure-distance-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MeasureDistanceMode=void 0;var _distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),_midpoint=_interopRequireDefault(__webpack_require__("./node_modules/@turf/midpoint/dist/js/index.js")),_utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return _assertThisInitialized(self)}(this,result)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var MeasureDistanceMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MeasureDistanceMode,_GeoJsonEditMode);var _super=_createSuper(MeasureDistanceMode);function MeasureDistanceMode(){var _this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MeasureDistanceMode);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"_isMeasuringSessionFinished",!1),_defineProperty(_assertThisInitialized(_this),"_currentTooltips",[]),_defineProperty(_assertThisInitialized(_this),"_currentDistance",0),_defineProperty(_assertThisInitialized(_this),"_calculateDistanceForTooltip",(function(_ref){var positionA=_ref.positionA,positionB=_ref.positionB,_ref2=_ref.modeConfig||{},turfOptions=_ref2.turfOptions,measurementCallback=_ref2.measurementCallback,distance=(0,_distance.default)(positionA,positionB,turfOptions);return measurementCallback&&measurementCallback(distance),distance})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(MeasureDistanceMode,[{key:"_formatTooltip",value:function _formatTooltip(distance,modeConfig){var _ref3=modeConfig||{},formatTooltip=_ref3.formatTooltip,turfOptions=_ref3.turfOptions,units=turfOptions&&turfOptions.units||"kilometers";return formatTooltip?formatTooltip(distance):"".concat(parseFloat(distance).toFixed(2)," ").concat(units)}},{key:"handleClick",value:function handleClick(event,props){var modeConfig=props.modeConfig,data=props.data,onEdit=props.onEdit,_ref4$centerTooltipsO=(modeConfig||{}).centerTooltipsOnLine,centerTooltipsOnLine=void 0!==_ref4$centerTooltipsO&&_ref4$centerTooltipsO;this._isMeasuringSessionFinished&&(this._isMeasuringSessionFinished=!1,this.resetClickSequence(),this._currentTooltips=[],this._currentDistance=0);var picks=event.picks,clickedEditHandle=(0,_utils.getPickedEditHandle)(picks),positionAdded=!1;clickedEditHandle||(this.addClickSequence(event),positionAdded=!0);var clickSequence=this.getClickSequence();if(clickSequence.length>1&&clickedEditHandle&&Array.isArray(clickedEditHandle.properties.positionIndexes)&&clickedEditHandle.properties.positionIndexes[0]===clickSequence.length-1)this._isMeasuringSessionFinished=!0;else if(positionAdded){if(clickSequence.length>1){this._currentDistance+=this._calculateDistanceForTooltip({positionA:clickSequence[clickSequence.length-2],positionB:clickSequence[clickSequence.length-1],modeConfig:modeConfig});var tooltipPosition=centerTooltipsOnLine?(0,_midpoint.default)(clickSequence[clickSequence.length-2],clickSequence[clickSequence.length-1]).geometry.coordinates:event.mapCoords;this._currentTooltips.push({position:tooltipPosition,text:this._formatTooltip(this._currentDistance,modeConfig)})}onEdit({updatedData:data,editType:"addTentativePosition",editContext:{position:event.mapCoords}})}}},{key:"handleKeyUp",value:function handleKeyUp(event,props){if(!this._isMeasuringSessionFinished){event.stopPropagation();var key=event.key,clickSequenceLength=this.getClickSequence().length;switch(key){case"Escape":this._isMeasuringSessionFinished=!0,1===clickSequenceLength&&(this.resetClickSequence(),this._currentTooltips=[]),props.onUpdateCursor("cell");break;case"Enter":this.handleClick(props.lastPointerMoveEvent,props),this._isMeasuringSessionFinished=!0}}}},{key:"getGuides",value:function getGuides(props){var _guides$features,lastPointerMoveEvent=props.lastPointerMoveEvent,clickSequence=this.getClickSequence(),lastCoords=lastPointerMoveEvent&&!this._isMeasuringSessionFinished?[lastPointerMoveEvent.mapCoords]:[],guides={type:"FeatureCollection",features:[]};clickSequence.length>0&&guides.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[].concat(_toConsumableArray(clickSequence),lastCoords)}});var editHandles=clickSequence.map((function(clickedCoord,index){return{type:"Feature",properties:{guideType:"editHandle",editHandleType:"existing",featureIndex:-1,positionIndexes:[index]},geometry:{type:"Point",coordinates:clickedCoord}}}));return(_guides$features=guides.features).push.apply(_guides$features,_toConsumableArray(editHandles)),guides}},{key:"handlePointerMove",value:function handlePointerMove(event,props){props.onUpdateCursor("cell")}},{key:"getTooltips",value:function getTooltips(props){var lastPointerMoveEvent=props.lastPointerMoveEvent,modeConfig=props.modeConfig,_ref5$centerTooltipsO=(modeConfig||{}).centerTooltipsOnLine,centerTooltipsOnLine=void 0!==_ref5$centerTooltipsO&&_ref5$centerTooltipsO,positions=this.getClickSequence();if(positions.length>0&&lastPointerMoveEvent&&!this._isMeasuringSessionFinished){var distance=this._calculateDistanceForTooltip({positionA:positions[positions.length-1],positionB:lastPointerMoveEvent.mapCoords,modeConfig:props.modeConfig}),tooltipPosition=centerTooltipsOnLine?(0,_midpoint.default)(positions[positions.length-1],lastPointerMoveEvent.mapCoords).geometry.coordinates:lastPointerMoveEvent.mapCoords;return[].concat(_toConsumableArray(this._currentTooltips),[{position:tooltipPosition,text:this._formatTooltip(this._currentDistance+distance,modeConfig)}])}return this._currentTooltips}}]),MeasureDistanceMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js").GeoJsonEditMode);exports.MeasureDistanceMode=MeasureDistanceMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/modify-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModifyMode=void 0;var _helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js"),_geojsonEditMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js"),_immutableFeatureCollection=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/immutable-feature-collection.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var ModifyMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ModifyMode,_GeoJsonEditMode);var _super=_createSuper(ModifyMode);function ModifyMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ModifyMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ModifyMode,[{key:"getGuides",value:function getGuides(props){var _step,_this=this,handles=[],data=props.data,lastPointerMoveEvent=props.lastPointerMoveEvent,features=data.features,picks=lastPointerMoveEvent&&lastPointerMoveEvent.picks,mapCoords=lastPointerMoveEvent&&lastPointerMoveEvent.mapCoords,_iterator=function _createForOfIteratorHelper(o){if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(o=_unsupportedIterableToArray(o))){var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var it,err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(props.selectedIndexes);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _index=_step.value;if(_index<features.length){var geometry=features[_index].geometry;handles.push.apply(handles,_toConsumableArray((0,_utils.getEditHandlesForGeometry)(geometry,_index)))}else console.warn("selectedFeatureIndexes out of range ".concat(_index))}}catch(err){_iterator.e(err)}finally{_iterator.f()}if(picks&&picks.length&&mapCoords){var _props$modeConfig,featureAsPick=!(0,_utils.getPickedExistingEditHandle)(picks)&&picks.find((function(pick){return!pick.isGuide}));if(featureAsPick&&!featureAsPick.object.geometry.type.includes("Point")&&(!(null===(_props$modeConfig=props.modeConfig)||void 0===_props$modeConfig?void 0:_props$modeConfig.lockRectangles)||"Rectangle"!==featureAsPick.object.properties.shape)&&props.selectedIndexes.includes(featureAsPick.index)){var intermediatePoint=null,positionIndexPrefix=[],referencePoint=(0,_helpers.point)(mapCoords);if((0,_utils.recursivelyTraverseNestedArrays)(featureAsPick.object.geometry.coordinates,[],(function(lineString,prefix){var lineStringFeature=(0,_helpers.lineString)(lineString),candidateIntermediatePoint=_this.getNearestPoint(lineStringFeature,referencePoint,props.modeConfig&&props.modeConfig.viewport);(!intermediatePoint||candidateIntermediatePoint.properties.dist<intermediatePoint.properties.dist)&&(intermediatePoint=candidateIntermediatePoint,positionIndexPrefix=prefix)})),intermediatePoint){var _intermediatePoint=intermediatePoint,position=_intermediatePoint.geometry.coordinates,index=_intermediatePoint.properties.index;handles.push({type:"Feature",properties:{guideType:"editHandle",editHandleType:"intermediate",featureIndex:featureAsPick.index,positionIndexes:[].concat(_toConsumableArray(positionIndexPrefix),[index+1])},geometry:{type:"Point",coordinates:position}})}}}return{type:"FeatureCollection",features:handles}}},{key:"getNearestPoint",value:function getNearestPoint(line,inPoint,viewport){if(line.geometry.coordinates.some((function(coord){return coord.length>2}))){if(viewport)return(0,_utils.nearestPointOnProjectedLine)(line,inPoint,viewport);console.log("Editing 3D point but modeConfig.viewport not provided. Falling back to 2D logic.")}return(0,_utils.nearestPointOnLine)(line,inPoint,viewport)}},{key:"handleClick",value:function handleClick(event,props){var pickedExistingHandle=(0,_utils.getPickedExistingEditHandle)(event.picks),pickedIntermediateHandle=(0,_utils.getPickedIntermediateEditHandle)(event.picks);if(pickedExistingHandle){var updatedData,_pickedExistingHandle=pickedExistingHandle.properties,featureIndex=_pickedExistingHandle.featureIndex,positionIndexes=_pickedExistingHandle.positionIndexes;try{updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data).removePosition(featureIndex,positionIndexes).getObject()}catch(ignored){}updatedData&&props.onEdit({updatedData:updatedData,editType:"removePosition",editContext:{featureIndexes:[featureIndex],positionIndexes:positionIndexes,position:pickedExistingHandle.geometry.coordinates}})}else if(pickedIntermediateHandle){var _props$modeConfig2,_pickedIntermediateHa=pickedIntermediateHandle.properties,_featureIndex=_pickedIntermediateHa.featureIndex,_positionIndexes=_pickedIntermediateHa.positionIndexes,feature=props.data.features[_featureIndex];if(!((null===(_props$modeConfig2=props.modeConfig)||void 0===_props$modeConfig2?void 0:_props$modeConfig2.lockRectangles)&&"Rectangle"===(null==feature?void 0:feature.properties.shape))){var _updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data).addPosition(_featureIndex,_positionIndexes,pickedIntermediateHandle.geometry.coordinates).getObject();_updatedData&&props.onEdit({updatedData:_updatedData,editType:"addPosition",editContext:{featureIndexes:[_featureIndex],positionIndexes:_positionIndexes,position:pickedIntermediateHandle.geometry.coordinates}})}}}},{key:"handleDragging",value:function handleDragging(event,props){var editHandle=(0,_utils.getPickedEditHandle)(event.pointerDownPicks);editHandle&&(event.cancelPan(),this._dragEditHandle("movePosition",props,editHandle,event))}},{key:"_dragEditHandle",value:function _dragEditHandle(editType,props,editHandle,event){var _props$modeConfig3,updatedData,editHandleProperties=editHandle.properties,editedFeature=props.data.features[editHandleProperties.featureIndex];if((null===(_props$modeConfig3=props.modeConfig)||void 0===_props$modeConfig3?void 0:_props$modeConfig3.lockRectangles)&&"Rectangle"===editedFeature.properties.shape){var coordinates=(0,_utils.updateRectanglePosition)(editedFeature,editHandleProperties.positionIndexes[1],event.mapCoords);updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data).replaceGeometry(editHandleProperties.featureIndex,{coordinates:coordinates,type:"Polygon"}).getObject()}else updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data).replacePosition(editHandleProperties.featureIndex,editHandleProperties.positionIndexes,event.mapCoords).getObject();props.onEdit({updatedData:updatedData,editType:editType,editContext:{featureIndexes:[editHandleProperties.featureIndex],positionIndexes:editHandleProperties.positionIndexes,position:event.mapCoords}})}},{key:"handlePointerMove",value:function handlePointerMove(event,props){var cursor=this.getCursor(event);props.onUpdateCursor(cursor)}},{key:"handleStartDragging",value:function handleStartDragging(event,props){var selectedFeatureIndexes=props.selectedIndexes,editHandle=(0,_utils.getPickedIntermediateEditHandle)(event.picks);if(selectedFeatureIndexes.length&&editHandle){var editHandleProperties=editHandle.properties,updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data).addPosition(editHandleProperties.featureIndex,editHandleProperties.positionIndexes,event.mapCoords).getObject();props.onEdit({updatedData:updatedData,editType:"addPosition",editContext:{featureIndexes:[editHandleProperties.featureIndex],positionIndexes:editHandleProperties.positionIndexes,position:event.mapCoords}})}}},{key:"handleStopDragging",value:function handleStopDragging(event,props){var selectedFeatureIndexes=props.selectedIndexes,editHandle=(0,_utils.getPickedEditHandle)(event.picks);selectedFeatureIndexes.length&&editHandle&&this._dragEditHandle("finishMovePosition",props,editHandle,event)}},{key:"getCursor",value:function getCursor(event){var picks=event&&event.picks||[];return(0,_utils.getPickedEditHandles)(picks).length?"cell":null}}]),ModifyMode}(_geojsonEditMode.GeoJsonEditMode);exports.ModifyMode=ModifyMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/resize-circle-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResizeCircleMode=void 0;var _nearestPointOnLine=_interopRequireDefault(__webpack_require__("./node_modules/@turf/nearest-point-on-line/dist/js/index.js")),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_circle=_interopRequireDefault(__webpack_require__("./node_modules/@turf/circle/dist/js/index.js")),_distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),_center=_interopRequireDefault(__webpack_require__("./node_modules/@turf/center/dist/js/index.js")),_utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js"),_geojsonEditMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js"),_immutableFeatureCollection=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/immutable-feature-collection.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return _assertThisInitialized(self)}(this,result)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ResizeCircleMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ResizeCircleMode,_GeoJsonEditMode);var _super=_createSuper(ResizeCircleMode);function ResizeCircleMode(){var _this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ResizeCircleMode);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"_selectedEditHandle",void 0),_defineProperty(_assertThisInitialized(_this),"_isResizing",!1),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ResizeCircleMode,[{key:"getGuides",value:function getGuides(props){var _this2=this,handles=[],selectedFeatureIndexes=props.selectedIndexes,lastPointerMoveEvent=props.lastPointerMoveEvent,picks=lastPointerMoveEvent&&lastPointerMoveEvent.picks,mapCoords=lastPointerMoveEvent&&lastPointerMoveEvent.mapCoords;if(picks&&picks.length&&mapCoords&&1===selectedFeatureIndexes.length&&!this._isResizing){var featureAsPick=picks.find((function(pick){return!pick.isGuide}));if(featureAsPick&&featureAsPick.object.properties.shape&&featureAsPick.object.properties.shape.includes("Circle")&&props.selectedIndexes.includes(featureAsPick.index)){var intermediatePoint=null,positionIndexPrefix=[],referencePoint=(0,_helpers.point)(mapCoords);if((0,_utils.recursivelyTraverseNestedArrays)(featureAsPick.object.geometry.coordinates,[],(function(lineString,prefix){var lineStringFeature=(0,_helpers.lineString)(lineString),candidateIntermediatePoint=_this2.getNearestPoint(lineStringFeature,referencePoint,props.modeConfig&&props.modeConfig.viewport);(!intermediatePoint||candidateIntermediatePoint.properties.dist<intermediatePoint.properties.dist)&&(intermediatePoint=candidateIntermediatePoint,positionIndexPrefix=prefix)})),intermediatePoint){var _intermediatePoint=intermediatePoint,position=_intermediatePoint.geometry.coordinates,index=_intermediatePoint.properties.index;handles.push({type:"Feature",properties:{guideType:"editHandle",editHandleType:"intermediate",featureIndex:featureAsPick.index,positionIndexes:[].concat(_toConsumableArray(positionIndexPrefix),[index+1])},geometry:{type:"Point",coordinates:position}})}}}return{type:"FeatureCollection",features:handles}}},{key:"getNearestPoint",value:function getNearestPoint(line,inPoint,viewport){if(line.geometry.coordinates.some((function(coord){return coord.length>2}))){if(viewport)return(0,_utils.nearestPointOnProjectedLine)(line,inPoint,viewport);console.log("Editing 3D point but modeConfig.viewport not provided. Falling back to 2D logic.")}return(0,_nearestPointOnLine.default)(line,inPoint)}},{key:"handleDragging",value:function handleDragging(event,props){var editHandle=(0,_utils.getPickedEditHandle)(event.pointerDownPicks);if(editHandle){event.cancelPan();var editHandleProperties=editHandle.properties,feature=this.getSelectedFeature(props),center=(0,_center.default)(feature).geometry.coordinates,numberOfSteps=Object.entries(feature.geometry.coordinates[0]).length-1,radius=Math.max((0,_distance.default)(center,event.mapCoords),.001),_ref$steps={}.steps,options={steps:void 0===_ref$steps?numberOfSteps:_ref$steps},geometry=(0,_circle.default)(center,radius,options).geometry,updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data).replaceGeometry(editHandleProperties.featureIndex,geometry).getObject();props.onEdit({updatedData:updatedData,editType:"unionGeometry",editContext:{featureIndexes:[editHandleProperties.featureIndex]}})}}},{key:"handlePointerMove",value:function handlePointerMove(event,props){if(!this._isResizing){var selectedEditHandle=(0,_utils.getPickedEditHandle)(event.picks);this._selectedEditHandle=selectedEditHandle&&"intermediate"===selectedEditHandle.properties.editHandleType?selectedEditHandle:null}var cursor=this.getCursor(event);props.onUpdateCursor(cursor)}},{key:"handleStartDragging",value:function handleStartDragging(event,props){this._selectedEditHandle&&(this._isResizing=!0)}},{key:"handleStopDragging",value:function handleStopDragging(event,props){this._isResizing&&(this._selectedEditHandle=null,this._isResizing=!1)}},{key:"getCursor",value:function getCursor(event){var picks=event&&event.picks||[];return(0,_utils.getPickedEditHandles)(picks).length?"cell":null}}]),ResizeCircleMode}(_geojsonEditMode.GeoJsonEditMode);exports.ResizeCircleMode=ResizeCircleMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/rotate-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RotateMode=void 0;var _bbox=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bbox/dist/js/index.js")),_centroid=_interopRequireDefault(__webpack_require__("./node_modules/@turf/centroid/dist/js/index.js")),_bearing=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js")),_bboxPolygon=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bbox-polygon/dist/js/index.js")),_distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),_meta=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),_invariant=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js"),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_transformRotate=_interopRequireDefault(__webpack_require__("./node_modules/@turf/transform-rotate/dist/js/index.js")),_polygonToLine=_interopRequireDefault(__webpack_require__("./node_modules/@turf/polygon-to-line/dist/js/index.js")),_utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js"),_geojsonEditMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js"),_immutableFeatureCollection=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/immutable-feature-collection.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return _assertThisInitialized(self)}(this,result)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var RotateMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(RotateMode,_GeoJsonEditMode);var _super=_createSuper(RotateMode);function RotateMode(){var _this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RotateMode);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"_selectedEditHandle",void 0),_defineProperty(_assertThisInitialized(_this),"_geometryBeingRotated",void 0),_defineProperty(_assertThisInitialized(_this),"_isRotating",!1),_defineProperty(_assertThisInitialized(_this),"_isSinglePointGeometrySelected",(function(geometry){var features=(geometry||{}).features;return!(!Array.isArray(features)||1!==features.length)&&"Point"===(0,_invariant.getGeom)(features[0]).type})),_defineProperty(_assertThisInitialized(_this),"getIsRotating",(function(){return _this._isRotating})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(RotateMode,[{key:"getGuides",value:function getGuides(props){var selectedGeometry=this._geometryBeingRotated||this.getSelectedFeaturesAsFeatureCollection(props);if(this._isSinglePointGeometrySelected(selectedGeometry))return{type:"FeatureCollection",features:[]};if(this._isRotating)return(0,_helpers.featureCollection)([(0,_centroid.default)(selectedGeometry)]);var boundingBox=(0,_bboxPolygon.default)((0,_bbox.default)(selectedGeometry)),previousCoord=null,topEdgeMidpointCoords=null,longestEdgeLength=0;(0,_meta.coordEach)(boundingBox,(function(coord){if(previousCoord){var edgeMidpoint=(0,_geojsonEditMode.getIntermediatePosition)(coord,previousCoord);(!topEdgeMidpointCoords||edgeMidpoint[1]>topEdgeMidpointCoords[1])&&(topEdgeMidpointCoords=edgeMidpoint);var edgeDistance=(0,_distance.default)(coord,previousCoord);longestEdgeLength=Math.max(longestEdgeLength,edgeDistance)}previousCoord=coord}));var rotateHandleCoords=topEdgeMidpointCoords&&[topEdgeMidpointCoords[0],topEdgeMidpointCoords[1]+longestEdgeLength/1e3],lineFromEnvelopeToRotateHandle=(0,_helpers.lineString)([topEdgeMidpointCoords,rotateHandleCoords]),rotateHandle=(0,_helpers.point)(rotateHandleCoords,{guideType:"editHandle",editHandleType:"rotate"});return(0,_helpers.featureCollection)([(0,_polygonToLine.default)(boundingBox),rotateHandle,lineFromEnvelopeToRotateHandle])}},{key:"handleDragging",value:function handleDragging(event,props){if(this._isRotating){var rotateAction=this.getRotateAction(event.pointerDownMapCoords,event.mapCoords,"rotating",props);rotateAction&&props.onEdit(rotateAction),event.cancelPan()}}},{key:"handlePointerMove",value:function handlePointerMove(event,props){if(!this._isRotating){var selectedEditHandle=(0,_utils.getPickedEditHandle)(event.picks);this._selectedEditHandle=selectedEditHandle&&"rotate"===selectedEditHandle.properties.editHandleType?selectedEditHandle:null}this.updateCursor(props)}},{key:"handleStartDragging",value:function handleStartDragging(event,props){this._selectedEditHandle&&(this._isRotating=!0,this._geometryBeingRotated=this.getSelectedFeaturesAsFeatureCollection(props))}},{key:"handleStopDragging",value:function handleStopDragging(event,props){if(this._isRotating){var rotateAction=this.getRotateAction(event.pointerDownMapCoords,event.mapCoords,"rotated",props);rotateAction&&props.onEdit(rotateAction),this._geometryBeingRotated=null,this._selectedEditHandle=null,this._isRotating=!1}}},{key:"updateCursor",value:function updateCursor(props){this._selectedEditHandle?props.onUpdateCursor("crosshair"):props.onUpdateCursor(null)}},{key:"getRotateAction",value:function getRotateAction(startDragPoint,currentPoint,editType,props){if(!this._geometryBeingRotated)return null;for(var centroid=(0,_centroid.default)(this._geometryBeingRotated),angle=function getRotationAngle(centroid,startDragPoint,currentPoint){var bearing1=(0,_bearing.default)(centroid,startDragPoint),bearing2=(0,_bearing.default)(centroid,currentPoint);return bearing2-bearing1}(centroid,startDragPoint,currentPoint),rotatedFeatures=(0,_transformRotate.default)(this._geometryBeingRotated,angle,{pivot:centroid}),updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data),selectedIndexes=props.selectedIndexes,i=0;i<selectedIndexes.length;i++){var selectedIndex=selectedIndexes[i],movedFeature=rotatedFeatures.features[i];updatedData=updatedData.replaceGeometry(selectedIndex,movedFeature.geometry)}return{updatedData:updatedData.getObject(),editType:editType,editContext:{featureIndexes:selectedIndexes}}}}]),RotateMode}(_geojsonEditMode.GeoJsonEditMode);exports.RotateMode=RotateMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/scale-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScaleMode=void 0;var _bbox=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bbox/dist/js/index.js")),_centroid=_interopRequireDefault(__webpack_require__("./node_modules/@turf/centroid/dist/js/index.js")),_bearing=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js")),_bboxPolygon=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bbox-polygon/dist/js/index.js")),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_polygonToLine=_interopRequireDefault(__webpack_require__("./node_modules/@turf/polygon-to-line/dist/js/index.js")),_meta=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),_distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),_transformScale=_interopRequireDefault(__webpack_require__("./node_modules/@turf/transform-scale/dist/js/index.js")),_invariant=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js"),_utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js"),_geojsonEditMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js"),_immutableFeatureCollection=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/immutable-feature-collection.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return _assertThisInitialized(self)}(this,result)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ScaleMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ScaleMode,_GeoJsonEditMode);var _super=_createSuper(ScaleMode);function ScaleMode(){var _this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ScaleMode);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"_geometryBeingScaled",void 0),_defineProperty(_assertThisInitialized(_this),"_selectedEditHandle",void 0),_defineProperty(_assertThisInitialized(_this),"_cornerGuidePoints",void 0),_defineProperty(_assertThisInitialized(_this),"_cursor",void 0),_defineProperty(_assertThisInitialized(_this),"_isScaling",!1),_defineProperty(_assertThisInitialized(_this),"_isSinglePointGeometrySelected",(function(geometry){var features=(geometry||{}).features;return!(!Array.isArray(features)||1!==features.length)&&"Point"===(0,_invariant.getGeom)(features[0]).type})),_defineProperty(_assertThisInitialized(_this),"_getOppositeScaleHandle",(function(selectedHandle){var selectedHandleIndex=selectedHandle&&selectedHandle.properties&&Array.isArray(selectedHandle.properties.positionIndexes)&&selectedHandle.properties.positionIndexes[0];if("number"!=typeof selectedHandleIndex)return null;var guidePointCount=_this._cornerGuidePoints.length,oppositeIndex=(selectedHandleIndex+guidePointCount/2)%guidePointCount;return _this._cornerGuidePoints.find((function(p){return!!Array.isArray(p.properties.positionIndexes)&&p.properties.positionIndexes[0]===oppositeIndex}))})),_defineProperty(_assertThisInitialized(_this),"_getUpdatedData",(function(props,editedData){for(var updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data),selectedIndexes=props.selectedIndexes,i=0;i<selectedIndexes.length;i++){var selectedIndex=selectedIndexes[i],movedFeature=editedData.features[i];updatedData=updatedData.replaceGeometry(selectedIndex,movedFeature.geometry)}return updatedData.getObject()})),_defineProperty(_assertThisInitialized(_this),"isEditHandleSelected",(function(){return Boolean(_this._selectedEditHandle)})),_defineProperty(_assertThisInitialized(_this),"getScaleAction",(function(startDragPoint,currentPoint,editType,props){if(!_this._selectedEditHandle)return null;var oppositeHandle=_this._getOppositeScaleHandle(_this._selectedEditHandle),origin=(0,_invariant.getCoord)(oppositeHandle),scaleFactor=function getScaleFactor(centroid,startDragPoint,currentPoint){var startDistance=(0,_distance.default)(centroid,startDragPoint),endDistance=(0,_distance.default)(centroid,currentPoint);return endDistance/startDistance}(origin,startDragPoint,currentPoint),scaledFeatures=(0,_transformScale.default)(_this._geometryBeingScaled,scaleFactor,{origin:origin});return{updatedData:_this._getUpdatedData(props,scaledFeatures),editType:editType,editContext:{featureIndexes:props.selectedIndexes}}})),_defineProperty(_assertThisInitialized(_this),"updateCursor",(function(props){if(_this._selectedEditHandle){_this._cursor&&props.onUpdateCursor(_this._cursor);var cursorGeometry=_this.getSelectedFeaturesAsFeatureCollection(props),centroid=(0,_centroid.default)(cursorGeometry),bearing=(0,_bearing.default)(centroid,_this._selectedEditHandle),positiveBearing=bearing<0?bearing+180:bearing;positiveBearing>=0&&positiveBearing<=90||positiveBearing>=180&&positiveBearing<=270?(_this._cursor="nesw-resize",props.onUpdateCursor("nesw-resize")):(_this._cursor="nwse-resize",props.onUpdateCursor("nwse-resize"))}else props.onUpdateCursor(null),_this._cursor=null})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ScaleMode,[{key:"handlePointerMove",value:function handlePointerMove(event,props){if(!this._isScaling){var selectedEditHandle=(0,_utils.getPickedEditHandle)(event.picks);this._selectedEditHandle=selectedEditHandle&&"scale"===selectedEditHandle.properties.editHandleType?selectedEditHandle:null,this.updateCursor(props)}}},{key:"handleStartDragging",value:function handleStartDragging(event,props){this._selectedEditHandle&&(this._isScaling=!0,this._geometryBeingScaled=this.getSelectedFeaturesAsFeatureCollection(props))}},{key:"handleDragging",value:function handleDragging(event,props){if(this._isScaling){props.onUpdateCursor(this._cursor);var scaleAction=this.getScaleAction(event.pointerDownMapCoords,event.mapCoords,"scaling",props);scaleAction&&props.onEdit(scaleAction),event.cancelPan()}}},{key:"handleStopDragging",value:function handleStopDragging(event,props){if(this._isScaling){var scaleAction=this.getScaleAction(event.pointerDownMapCoords,event.mapCoords,"scaled",props);scaleAction&&props.onEdit(scaleAction),props.onUpdateCursor(null),this._geometryBeingScaled=null,this._selectedEditHandle=null,this._cursor=null,this._isScaling=!1}}},{key:"getGuides",value:function getGuides(props){this._cornerGuidePoints=[];var selectedGeometry=this.getSelectedFeaturesAsFeatureCollection(props);if(this._isSinglePointGeometrySelected(selectedGeometry))return{type:"FeatureCollection",features:[]};var boundingBox=(0,_bboxPolygon.default)((0,_bbox.default)(selectedGeometry));boundingBox.properties.mode="scale";var cornerGuidePoints=[];return(0,_meta.coordEach)(boundingBox,(function(coord,coordIndex){if(coordIndex<4){var cornerPoint=(0,_helpers.point)(coord,{guideType:"editHandle",editHandleType:"scale",positionIndexes:[coordIndex]});cornerGuidePoints.push(cornerPoint)}})),this._cornerGuidePoints=cornerGuidePoints,(0,_helpers.featureCollection)([(0,_polygonToLine.default)(boundingBox)].concat(_toConsumableArray(this._cornerGuidePoints)))}}]),ScaleMode}(_geojsonEditMode.GeoJsonEditMode);exports.ScaleMode=ScaleMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/snappable-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnappableMode=void 0;var _utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return _assertThisInitialized(self)}(this,result)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var SnappableMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SnappableMode,_GeoJsonEditMode);var _super=_createSuper(SnappableMode);function SnappableMode(handler){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SnappableMode),_defineProperty(_assertThisInitialized(_this=_super.call(this)),"_handler",void 0),_this._handler=handler,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SnappableMode,[{key:"_getSnappedMouseEvent",value:function _getSnappedMouseEvent(event,snapSource,snapTarget){return Object.assign(event,{mapCoords:snapTarget.geometry.coordinates,pointerDownMapCoords:snapSource&&snapSource.geometry.coordinates})}},{key:"_getPickedSnapTarget",value:function _getPickedSnapTarget(picks){return(0,_utils.getPickedEditHandles)(picks).find((function(handle){return"snap-target"===handle.properties.editHandleType}))}},{key:"_getPickedSnapSource",value:function _getPickedSnapSource(pointerDownPicks){return(0,_utils.getPickedSnapSourceEditHandle)(pointerDownPicks)}},{key:"_getUpdatedSnapSourceHandle",value:function _getUpdatedSnapSourceHandle(snapSourceHandle,data){var _snapSourceHandle$pro=snapSourceHandle.properties,featureIndex=_snapSourceHandle$pro.featureIndex,positionIndexes=_snapSourceHandle$pro.positionIndexes;if(!Array.isArray(positionIndexes))return snapSourceHandle;var snapSourceFeature=data.features[featureIndex];return function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},snapSourceHandle,{geometry:{type:"Point",coordinates:positionIndexes.reduce((function(a,b){return a[b]}),snapSourceFeature.geometry.coordinates)}})}},{key:"_getSnapTargets",value:function _getSnapTargets(props){var additionalSnapTargets=(props.modeConfig||{}).additionalSnapTargets;return additionalSnapTargets=additionalSnapTargets||[],[].concat(_toConsumableArray(props.data.features),_toConsumableArray(additionalSnapTargets))}},{key:"_getSnapTargetHandles",value:function _getSnapTargetHandles(props){for(var handles=[],features=this._getSnapTargets(props),i=0;i<features.length;i++){if(!props.selectedIndexes.includes(i)){var geometry=features[i].geometry;handles.push.apply(handles,_toConsumableArray((0,_utils.getEditHandlesForGeometry)(geometry,i,"snap-target")))}}return handles}},{key:"getGuides",value:function getGuides(props){var modeConfig=props.modeConfig,lastPointerMoveEvent=props.lastPointerMoveEvent,enableSnapping=(modeConfig||{}).enableSnapping,guides={type:"FeatureCollection",features:_toConsumableArray(this._handler.getGuides(props).features)};if(!enableSnapping)return guides;var _guides$features,snapSourceHandle=lastPointerMoveEvent&&this._getPickedSnapSource(lastPointerMoveEvent.pointerDownPicks);if(snapSourceHandle)return(_guides$features=guides.features).push.apply(_guides$features,_toConsumableArray(this._getSnapTargetHandles(props)).concat([this._getUpdatedSnapSourceHandle(snapSourceHandle,props.data)])),guides;var _step,features=props.data.features,_iterator=function _createForOfIteratorHelper(o){if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(o=_unsupportedIterableToArray(o))){var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var it,err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(props.selectedIndexes);try{for(_iterator.s();!(_step=_iterator.n()).done;){var index=_step.value;if(index<features.length){var _guides$features2,geometry=features[index].geometry;(_guides$features2=guides.features).push.apply(_guides$features2,_toConsumableArray((0,_utils.getEditHandlesForGeometry)(geometry,index,"snap-source")))}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return guides}},{key:"_getSnapAwareEvent",value:function _getSnapAwareEvent(event,props){var snapSource=this._getPickedSnapSource(props.lastPointerMoveEvent.pointerDownPicks),snapTarget=this._getPickedSnapTarget(event.picks);return snapSource&&snapTarget?this._getSnappedMouseEvent(event,snapSource,snapTarget):event}},{key:"handleStartDragging",value:function handleStartDragging(event,props){this._handler.handleStartDragging(event,props)}},{key:"handleStopDragging",value:function handleStopDragging(event,props){this._handler.handleStopDragging(this._getSnapAwareEvent(event,props),props)}},{key:"handleDragging",value:function handleDragging(event,props){this._handler.handleDragging(this._getSnapAwareEvent(event,props),props)}},{key:"handlePointerMove",value:function handlePointerMove(event,props){this._handler.handlePointerMove(this._getSnapAwareEvent(event,props),props)}}]),SnappableMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js").GeoJsonEditMode);exports.SnappableMode=SnappableMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/split-polygon-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SplitPolygonMode=void 0;var _booleanPointInPolygon=_interopRequireDefault(__webpack_require__("./node_modules/@turf/boolean-point-in-polygon/dist/js/index.js")),_difference=_interopRequireDefault(__webpack_require__("./node_modules/@turf/difference/dist/js/index.js")),_buffer=_interopRequireDefault(__webpack_require__("./node_modules/@turf/buffer/dist/js/index.js")),_lineIntersect=_interopRequireDefault(__webpack_require__("./node_modules/@turf/line-intersect/dist/js/index.js")),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_bearing=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js")),_distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),_destination=_interopRequireDefault(__webpack_require__("./node_modules/@turf/destination/dist/js/index.js")),_polygonToLine=_interopRequireDefault(__webpack_require__("./node_modules/@turf/polygon-to-line/dist/js/index.js")),_nearestPointOnLine=_interopRequireDefault(__webpack_require__("./node_modules/@turf/nearest-point-on-line/dist/js/index.js")),_utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js"),_geojsonEditMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js"),_immutableFeatureCollection=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/immutable-feature-collection.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var SplitPolygonMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SplitPolygonMode,_GeoJsonEditMode);var _super=_createSuper(SplitPolygonMode);function SplitPolygonMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SplitPolygonMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SplitPolygonMode,[{key:"calculateMapCoords",value:function calculateMapCoords(clickSequence,mapCoords,props){var modeConfig=props.modeConfig;if(!modeConfig||!modeConfig.lock90Degree||!clickSequence.length)return mapCoords;if(1===clickSequence.length){var firstPoint=clickSequence[0],selectedGeometry=this.getSelectedGeometry(props),feature=(0,_polygonToLine.default)(selectedGeometry),lines="FeatureCollection"===feature.type?feature.features:[feature],minDistance=Number.MAX_SAFE_INTEGER,closestPoint=null;if(lines.forEach((function(line){var snapPoint=(0,_nearestPointOnLine.default)(line,firstPoint),distanceFromOrigin=(0,_distance.default)(snapPoint,firstPoint);minDistance>distanceFromOrigin&&(minDistance=distanceFromOrigin,closestPoint=snapPoint)})),closestPoint){var lastBearing=(0,_bearing.default)(firstPoint,closestPoint),currentDistance=(0,_distance.default)(firstPoint,mapCoords,{units:"meters"});return(0,_destination.default)(firstPoint,currentDistance,lastBearing,{units:"meters"}).geometry.coordinates}return mapCoords}var lastPoint=clickSequence[clickSequence.length-1],approximatePoint=_slicedToArray((0,_utils.generatePointsParallelToLinePoints)(clickSequence[clickSequence.length-2],lastPoint,mapCoords),1)[0];return(0,_nearestPointOnLine.default)((0,_helpers.lineString)([lastPoint,approximatePoint]),mapCoords).geometry.coordinates}},{key:"getGuides",value:function getGuides(props){var clickSequence=this.getClickSequence(),guides={type:"FeatureCollection",features:[]};if(0===clickSequence.length||!props.lastPointerMoveEvent)return guides;var mapCoords=props.lastPointerMoveEvent.mapCoords;return guides.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[].concat(_toConsumableArray(clickSequence),[this.calculateMapCoords(clickSequence,mapCoords,props)])}}),guides}},{key:"handleClick",value:function handleClick(event,props){var tentativeFeature=this.getTentativeGuide(props),selectedGeometry=this.getSelectedGeometry(props);if(selectedGeometry){var clickSequence=this.getClickSequence();tentativeFeature&&"LineString"===tentativeFeature.geometry.type?clickSequence.push(tentativeFeature.geometry.coordinates[tentativeFeature.geometry.coordinates.length-1]):this.addClickSequence(event);var pt={type:"Point",coordinates:clickSequence[clickSequence.length-1]},isPointInPolygon=(0,_booleanPointInPolygon.default)(pt,selectedGeometry);if(clickSequence.length>1&&tentativeFeature&&!isPointInPolygon){if(this.resetClickSequence(),0===(0,_lineIntersect.default)(tentativeFeature,selectedGeometry).features.length)return;var editAction=this.splitPolygon(tentativeFeature,props);editAction&&props.onEdit(editAction)}}else console.warn("A polygon must be selected for splitting")}},{key:"handlePointerMove",value:function handlePointerMove(event,props){props.onUpdateCursor("cell")}},{key:"splitPolygon",value:function splitPolygon(tentativeFeature,props){var selectedGeometry=this.getSelectedGeometry(props),featureIndex=props.selectedIndexes[0],modeConfig=props.modeConfig||{},_modeConfig$gap=modeConfig.gap,gap=void 0===_modeConfig$gap?.1:_modeConfig$gap,_modeConfig$units=modeConfig.units,units=void 0===_modeConfig$units?"centimeters":_modeConfig$units;0===gap&&(gap=.1,units="centimeters");var buffer=(0,_buffer.default)(tentativeFeature,gap,{units:units}),updatedGeometry=(0,_difference.default)(selectedGeometry,buffer);if(!updatedGeometry)return console.warn("Canceling edit. Split Polygon erased"),null;var _updatedGeometry$geom=updatedGeometry.geometry,type=_updatedGeometry$geom.type,coordinates=_updatedGeometry$geom.coordinates,updatedCoordinates=[];return updatedCoordinates="Polygon"===type?coordinates.map((function(c){return[c]})):coordinates.reduce((function(agg,prev){return prev.forEach((function(p){agg.push([p])})),agg}),[]),{updatedData:new _immutableFeatureCollection.ImmutableFeatureCollection(props.data).replaceGeometry(featureIndex,{type:"MultiPolygon",coordinates:updatedCoordinates}).getObject(),editType:"split",editContext:{featureIndexes:[featureIndex]}}}}]),SplitPolygonMode}(_geojsonEditMode.GeoJsonEditMode);exports.SplitPolygonMode=SplitPolygonMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/three-click-polygon-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ThreeClickPolygonMode=void 0;var ThreeClickPolygonMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ThreeClickPolygonMode,_GeoJsonEditMode);var _super=_createSuper(ThreeClickPolygonMode);function ThreeClickPolygonMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ThreeClickPolygonMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ThreeClickPolygonMode,[{key:"handleClick",value:function handleClick(event,props){this.addClickSequence(event);var clickSequence=this.getClickSequence(),tentativeFeature=this.getTentativeGuide(props);if(clickSequence.length>2&&tentativeFeature&&"Polygon"===tentativeFeature.geometry.type){var editAction=this.getAddFeatureOrBooleanPolygonAction(tentativeFeature.geometry,props);this.resetClickSequence(),editAction&&props.onEdit(editAction)}}},{key:"getGuides",value:function getGuides(props){var lastPointerMoveEvent=props.lastPointerMoveEvent,modeConfig=props.modeConfig,clickSequence=this.getClickSequence(),guides={type:"FeatureCollection",features:[]};if(0===clickSequence.length)return guides;var hoveredCoord=lastPointerMoveEvent.mapCoords;if(1===clickSequence.length)guides.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:{type:"LineString",coordinates:[clickSequence[0],hoveredCoord]}});else{var polygon=this.getThreeClickPolygon(clickSequence[0],clickSequence[1],hoveredCoord,modeConfig);polygon&&guides.features.push({type:"Feature",properties:{guideType:"tentative"},geometry:polygon.geometry})}return guides}},{key:"getThreeClickPolygon",value:function getThreeClickPolygon(coord1,coord2,coord3,modeConfig){return null}},{key:"handlePointerMove",value:function handlePointerMove(event,props){props.onUpdateCursor("cell"),_get(_getPrototypeOf(ThreeClickPolygonMode.prototype),"handlePointerMove",this).call(this,event,props)}},{key:"createTentativeFeature",value:function createTentativeFeature(props){var tentativeFeature,lastPointerMoveEvent=props.lastPointerMoveEvent,clickSequence=this.getClickSequence(),lastCoords=lastPointerMoveEvent?[lastPointerMoveEvent.mapCoords]:[];return 2===clickSequence.length&&(tentativeFeature=this.getThreeClickPolygon(clickSequence[0],clickSequence[1],lastCoords[0],props.modeConfig)),tentativeFeature}}]),ThreeClickPolygonMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js").GeoJsonEditMode);exports.ThreeClickPolygonMode=ThreeClickPolygonMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/transform-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TransformMode=void 0;var _helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_translateMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/translate-mode.js"),_scaleMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/scale-mode.js"),_rotateMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/rotate-mode.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var TransformMode=function(_CompositeMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(TransformMode,_CompositeMode);var _super=_createSuper(TransformMode);function TransformMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TransformMode),_super.call(this,[new _translateMode.TranslateMode,new _scaleMode.ScaleMode,new _rotateMode.RotateMode])}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TransformMode,[{key:"handlePointerMove",value:function handlePointerMove(event,props){var updatedCursor=null;_get(_getPrototypeOf(TransformMode.prototype),"handlePointerMove",this).call(this,event,function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},props,{onUpdateCursor:function onUpdateCursor(cursor){updatedCursor=cursor||updatedCursor}})),props.onUpdateCursor(updatedCursor)}},{key:"handleStartDragging",value:function handleStartDragging(event,props){var scaleMode=null,translateMode=null,filteredModes=[];this._modes.forEach((function(mode){mode instanceof _translateMode.TranslateMode?translateMode=mode:(mode instanceof _scaleMode.ScaleMode&&(scaleMode=mode),filteredModes.push(mode))})),scaleMode instanceof _scaleMode.ScaleMode&&!scaleMode.isEditHandleSelected()&&filteredModes.push(translateMode),filteredModes.filter(Boolean).forEach((function(mode){return mode.handleStartDragging(event,props)}))}},{key:"getGuides",value:function getGuides(props){var compositeGuides=_get(_getPrototypeOf(TransformMode.prototype),"getGuides",this).call(this,props),rotateMode=(this._modes||[]).find((function(mode){return mode instanceof _rotateMode.RotateMode}));if(rotateMode instanceof _rotateMode.RotateMode){var nonEnvelopeGuides=compositeGuides.features.filter((function(guide){var _ref=guide.properties||{},editHandleType=_ref.editHandleType,guidesToFilterOut=[_ref.mode];return rotateMode.getIsRotating()&&guidesToFilterOut.push(editHandleType),!guidesToFilterOut.includes("scale")}));compositeGuides=(0,_helpers.featureCollection)(nonEnvelopeGuides)}return compositeGuides}}]),TransformMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/composite-mode.js").CompositeMode);exports.TransformMode=TransformMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/translate-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TranslateMode=void 0;var _bearing=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js")),_distance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),_transformTranslate=_interopRequireDefault(__webpack_require__("./node_modules/@turf/transform-translate/dist/js/index.js")),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_viewportMercatorProject=_interopRequireDefault(__webpack_require__("./node_modules/viewport-mercator-project/module.js")),_utils=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js"),_geojsonEditMode=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js"),_immutableFeatureCollection=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/immutable-feature-collection.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return _assertThisInitialized(self)}(this,result)}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var TranslateMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(TranslateMode,_GeoJsonEditMode);var _super=_createSuper(TranslateMode);function TranslateMode(){var _this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TranslateMode);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"_geometryBeforeTranslate",void 0),_defineProperty(_assertThisInitialized(_this),"_isTranslatable",void 0),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TranslateMode,[{key:"handleDragging",value:function handleDragging(event,props){if(this._isTranslatable){if(this._geometryBeforeTranslate){var editAction=this.getTranslateAction(event.pointerDownMapCoords,event.mapCoords,"translating",props);editAction&&props.onEdit(editAction)}event.cancelPan()}}},{key:"handlePointerMove",value:function handlePointerMove(event,props){this._isTranslatable=this.isSelectionPicked(event.pointerDownPicks||event.picks,props),this.updateCursor(props)}},{key:"handleStartDragging",value:function handleStartDragging(event,props){this._isTranslatable&&(this._geometryBeforeTranslate=this.getSelectedFeaturesAsFeatureCollection(props))}},{key:"handleStopDragging",value:function handleStopDragging(event,props){if(this._geometryBeforeTranslate){var editAction=this.getTranslateAction(event.pointerDownMapCoords,event.mapCoords,"translated",props);editAction&&props.onEdit(editAction),this._geometryBeforeTranslate=null}}},{key:"updateCursor",value:function updateCursor(props){this._isTranslatable?props.onUpdateCursor("move"):props.onUpdateCursor(null)}},{key:"getTranslateAction",value:function getTranslateAction(startDragPoint,currentPoint,editType,props){var _this2=this;if(!this._geometryBeforeTranslate)return null;var updatedData=new _immutableFeatureCollection.ImmutableFeatureCollection(props.data),selectedIndexes=props.selectedIndexes,_ref=props.modeConfig||{},viewportDesc=_ref.viewport,screenSpace=_ref.screenSpace;if(viewportDesc&&screenSpace)!function(){for(var viewport=viewportDesc.project?viewportDesc:new _viewportMercatorProject.default(viewportDesc),from=viewport.project(startDragPoint),to=viewport.project(currentPoint),dx=to[0]-from[0],dy=to[1]-from[1],i=0;i<selectedIndexes.length;i++){var selectedIndex=selectedIndexes[i],feature=_this2._geometryBeforeTranslate.features[i],coordinates=feature.geometry.coordinates;coordinates&&(coordinates=(0,_utils.mapCoords)(coordinates,(function(coord){var pixels=viewport.project(coord);return pixels?(pixels[0]+=dx,pixels[1]+=dy,viewport.unproject(pixels)):null})),updatedData=updatedData.replaceGeometry(selectedIndex,{type:feature.geometry.type,coordinates:coordinates}))}}();else for(var p1=(0,_helpers.point)(startDragPoint),p2=(0,_helpers.point)(currentPoint),distanceMoved=(0,_distance.default)(p1,p2),direction=(0,_bearing.default)(p1,p2),movedFeatures=(0,_transformTranslate.default)(this._geometryBeforeTranslate,distanceMoved,direction),i=0;i<selectedIndexes.length;i++){var selectedIndex=selectedIndexes[i],movedFeature=movedFeatures.features[i];updatedData=updatedData.replaceGeometry(selectedIndex,movedFeature.geometry)}return{updatedData:updatedData.getObject(),editType:editType,editContext:{featureIndexes:selectedIndexes}}}}]),TranslateMode}(_geojsonEditMode.GeoJsonEditMode);exports.TranslateMode=TranslateMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/two-click-polygon-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TwoClickPolygonMode=void 0;var TwoClickPolygonMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(TwoClickPolygonMode,_GeoJsonEditMode);var _super=_createSuper(TwoClickPolygonMode);function TwoClickPolygonMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TwoClickPolygonMode),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TwoClickPolygonMode,[{key:"handleClick",value:function handleClick(event,props){props.modeConfig&&props.modeConfig.dragToDraw||(this.addClickSequence(event),this.checkAndFinishPolygon(props))}},{key:"handleStartDragging",value:function handleStartDragging(event,props){props.modeConfig&&props.modeConfig.dragToDraw&&(this.addClickSequence(event),event.cancelPan())}},{key:"handleStopDragging",value:function handleStopDragging(event,props){props.modeConfig&&props.modeConfig.dragToDraw&&(this.addClickSequence(event),this.checkAndFinishPolygon(props))}},{key:"checkAndFinishPolygon",value:function checkAndFinishPolygon(props){var clickSequence=this.getClickSequence(),tentativeFeature=this.getTentativeGuide(props);if(clickSequence.length>1&&tentativeFeature&&"Polygon"===tentativeFeature.geometry.type){var feature={type:"Feature",properties:{shape:tentativeFeature.properties.shape},geometry:{type:"Polygon",coordinates:tentativeFeature.geometry.coordinates}},editAction=this.getAddFeatureOrBooleanPolygonAction(feature,props);this.resetClickSequence(),editAction&&props.onEdit(editAction)}}},{key:"getGuides",value:function getGuides(props){var lastPointerMoveEvent=props.lastPointerMoveEvent,modeConfig=props.modeConfig,clickSequence=this.getClickSequence(),guides={type:"FeatureCollection",features:[]};if(0===clickSequence.length)return guides;var corner1=clickSequence[0],corner2=lastPointerMoveEvent.mapCoords,polygon=this.getTwoClickPolygon(corner1,corner2,modeConfig);return polygon&&guides.features.push({type:"Feature",properties:{shape:polygon.properties&&polygon.properties.shape,guideType:"tentative"},geometry:polygon.geometry}),guides}},{key:"getTwoClickPolygon",value:function getTwoClickPolygon(coord1,coord2,modeConfig){return null}},{key:"handlePointerMove",value:function handlePointerMove(event,props){props.onUpdateCursor("cell"),_get(_getPrototypeOf(TwoClickPolygonMode.prototype),"handlePointerMove",this).call(this,event,props)}},{key:"createTentativeFeature",value:function createTentativeFeature(props){var tentativeFeature,lastPointerMoveEvent=props.lastPointerMoveEvent,clickSequence=this.getClickSequence(),lastCoords=lastPointerMoveEvent?[lastPointerMoveEvent.mapCoords]:[];return 1===clickSequence.length&&(tentativeFeature=this.getTwoClickPolygon(clickSequence[0],lastCoords[0],props.modeConfig)),tentativeFeature}}]),TwoClickPolygonMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js").GeoJsonEditMode);exports.TwoClickPolygonMode=TwoClickPolygonMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/lib/view-mode.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ViewMode=void 0;var ViewMode=function(_GeoJsonEditMode){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ViewMode,_GeoJsonEditMode);var _super=_createSuper(ViewMode);function ViewMode(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ViewMode),_super.apply(this,arguments)}return ViewMode}(__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/lib/geojson-edit-mode.js").GeoJsonEditMode);exports.ViewMode=ViewMode},"./node_modules/@nebula.gl/edit-modes/dist-es6/memoize.js":function(__unused_webpack_module,exports){"use strict";function isEqual(a,b){if(a===b)return!0;if(Array.isArray(a)){var len=a.length;if(!b||b.length!==len)return!1;for(var i=0;i<len;i++)if(a[i]!==b[i])return!1;return!0}return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function memoize(compute){var cachedResult,cachedArgs={};return function(args){for(var key in args)if(!isEqual(args[key],cachedArgs[key])){cachedResult=compute(args),cachedArgs=args;break}return cachedResult}}},"./node_modules/@nebula.gl/edit-modes/dist-es6/utils.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toDeckColor=function toDeckColor(color){var defaultColor=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[255,0,0,255];if(!Array.isArray(color))return defaultColor;return[255*color[0],255*color[1],255*color[2],255*color[3]]},exports.recursivelyTraverseNestedArrays=function recursivelyTraverseNestedArrays(array,prefix,fn){if(!Array.isArray(array[0]))return!0;for(var i=0;i<array.length;i++)if(recursivelyTraverseNestedArrays(array[i],[].concat(_toConsumableArray(prefix),[i]),fn)){fn(array,prefix);break}return!1},exports.generatePointsParallelToLinePoints=function generatePointsParallelToLinePoints(p1,p2,mapCoords){var lineString={type:"LineString",coordinates:[p1,p2]},pt=(0,_helpers.point)(mapCoords),ddistance=(0,_pointToLineDistance.default)(pt,lineString),lineBearing=(0,_bearing.default)(p1,p2),isPointToLeftOfLine=(mapCoords[0]-p1[0])*(p2[1]-p1[1])-(mapCoords[1]-p1[1])*(p2[0]-p1[0]),orthogonalBearing=isPointToLeftOfLine<0?lineBearing-90:lineBearing-270,p3=(0,_destination.default)(p2,ddistance,orthogonalBearing),p4=(0,_destination.default)(p1,ddistance,orthogonalBearing);return[p3.geometry.coordinates,p4.geometry.coordinates]},exports.distance2d=distance2d,exports.mix=mix,exports.nearestPointOnProjectedLine=function nearestPointOnProjectedLine(line,inPoint,viewport){var wmViewport=new _viewportMercatorProject.default(viewport),projectedCoords=line.geometry.coordinates.map((function(_ref){var _ref2=_slicedToArray(_ref,3),x=_ref2[0],y=_ref2[1],_ref2$=_ref2[2],z=void 0===_ref2$?0:_ref2$;return wmViewport.project([x,y,z])})),_wmViewport$project2=_slicedToArray(wmViewport.project(inPoint.geometry.coordinates),2),x=_wmViewport$project2[0],y=_wmViewport$project2[1],minDistance=1/0,minPointInfo={};projectedCoords.forEach((function(_ref3,index){var _ref4=_slicedToArray(_ref3,2),x2=_ref4[0],y2=_ref4[1];if(0!==index){var _projectedCoords=_slicedToArray(projectedCoords[index-1],2),x1=_projectedCoords[0],y1=_projectedCoords[1],A=y1-y2,B=x2-x1,C=x1*y2-x2*y1,div=A*A+B*B,distance=Math.abs(A*x+B*y+C)/Math.sqrt(div);distance<minDistance&&(minDistance=distance,minPointInfo={index:index,x0:(B*(B*x-A*y)-A*C)/div,y0:(A*(-B*x+A*y)-B*C)/div})}}));var _minPointInfo=minPointInfo,index=_minPointInfo.index,x0=_minPointInfo.x0,y0=_minPointInfo.y0,_projectedCoords2=_slicedToArray(projectedCoords[index-1],3),x1=_projectedCoords2[0],y1=_projectedCoords2[1],_projectedCoords2$=_projectedCoords2[2],z1=void 0===_projectedCoords2$?0:_projectedCoords2$,_projectedCoords$inde=_slicedToArray(projectedCoords[index],3),x2=_projectedCoords$inde[0],y2=_projectedCoords$inde[1],_projectedCoords$inde2=_projectedCoords$inde[2],z2=void 0===_projectedCoords$inde2?0:_projectedCoords$inde2,lineLength=distance2d(x1,y1,x2,y2),startToPointLength=distance2d(x1,y1,x0,y0),z0=mix(z1,z2,startToPointLength/lineLength);return{type:"Feature",geometry:{type:"Point",coordinates:wmViewport.unproject([x0,y0,z0])},properties:{dist:minDistance,index:index-1}}},exports.nearestPointOnLine=function nearestPointOnLine(lines,inPoint,viewport){var _lines$geometry,_lines$geometry2,mercator;viewport&&(mercator=new _viewportMercatorProject.default(viewport));var closestPoint=(0,_helpers.point)([1/0,1/0],{dist:1/0});if(!(null===(_lines$geometry=lines.geometry)||void 0===_lines$geometry?void 0:_lines$geometry.coordinates.length)||(null===(_lines$geometry2=lines.geometry)||void 0===_lines$geometry2?void 0:_lines$geometry2.coordinates.length)<2)return closestPoint;return(0,_meta.flattenEach)(lines,(function(line){var minDist,to,from,x,y,segmentIdx,dist,coords=(0,_invariant.getCoords)(line),pointCoords=(0,_invariant.getCoords)(inPoint);if(coords.length>1&&pointCoords.length){var lineCoordinates,pointCoordinate;mercator?(lineCoordinates=coords.map((function(lineCoordinate){return mercator.project(lineCoordinate)})),pointCoordinate=mercator.project(pointCoords)):(lineCoordinates=coords,pointCoordinate=pointCoords);for(var n=1;n<lineCoordinates.length;n++){if(lineCoordinates[n][0]!==lineCoordinates[n-1][0]){var slope=(lineCoordinates[n][1]-lineCoordinates[n-1][1])/(lineCoordinates[n][0]-lineCoordinates[n-1][0]),inverseSlope=lineCoordinates[n][1]-slope*lineCoordinates[n][0];dist=Math.abs(slope*pointCoordinate[0]+inverseSlope-pointCoordinate[1])/Math.sqrt(slope*slope+1)}else dist=Math.abs(pointCoordinate[0]-lineCoordinates[n][0]);var rl2=Math.pow(lineCoordinates[n][1]-lineCoordinates[n-1][1],2)+Math.pow(lineCoordinates[n][0]-lineCoordinates[n-1][0],2),ln2=Math.pow(lineCoordinates[n][1]-pointCoordinate[1],2)+Math.pow(lineCoordinates[n][0]-pointCoordinate[0],2),lnm12=Math.pow(lineCoordinates[n-1][1]-pointCoordinate[1],2)+Math.pow(lineCoordinates[n-1][0]-pointCoordinate[0],2),dist2=Math.pow(dist,2),calcrl2=ln2-dist2+lnm12-dist2;calcrl2>rl2&&(dist=Math.sqrt(Math.min(ln2,lnm12))),(null==minDist||minDist>dist)&&(calcrl2>rl2?lnm12<ln2?(to=0,from=1):(from=0,to=1):(to=Math.sqrt(lnm12-dist2)/Math.sqrt(rl2),from=Math.sqrt(ln2-dist2)/Math.sqrt(rl2)),minDist=dist,segmentIdx=n)}var dx=lineCoordinates[segmentIdx-1][0]-lineCoordinates[segmentIdx][0],dy=lineCoordinates[segmentIdx-1][1]-lineCoordinates[segmentIdx][1];x=lineCoordinates[segmentIdx-1][0]-dx*to,y=lineCoordinates[segmentIdx-1][1]-dy*to}var snapPoint={x:x,y:y,idx:segmentIdx-1,to:to,from:from};if(mercator){var pixelToLatLong=mercator.unproject([snapPoint.x,snapPoint.y]);snapPoint={x:pixelToLatLong[0],y:pixelToLatLong[1],idx:segmentIdx-1,to:to,from:from}}closestPoint=(0,_helpers.point)([snapPoint.x,snapPoint.y],{dist:Math.abs(snapPoint.from-snapPoint.to),index:snapPoint.idx})})),closestPoint},exports.getPickedEditHandle=function getPickedEditHandle(picks){var handles=getPickedEditHandles(picks);return handles.length?handles[0]:null},exports.getPickedSnapSourceEditHandle=function getPickedSnapSourceEditHandle(picks){return getPickedEditHandles(picks).find((function(handle){return"snap-source"===handle.properties.editHandleType}))},exports.getNonGuidePicks=function getNonGuidePicks(picks){return picks&&picks.filter((function(pick){return!pick.isGuide}))},exports.getPickedExistingEditHandle=function getPickedExistingEditHandle(picks){return getPickedEditHandles(picks).find((function(_ref5){var properties=_ref5.properties;return properties.featureIndex>=0&&"existing"===properties.editHandleType}))},exports.getPickedIntermediateEditHandle=function getPickedIntermediateEditHandle(picks){return getPickedEditHandles(picks).find((function(_ref6){var properties=_ref6.properties;return properties.featureIndex>=0&&"intermediate"===properties.editHandleType}))},exports.getPickedEditHandles=getPickedEditHandles,exports.getEditHandlesForGeometry=function getEditHandlesForGeometry(geometry,featureIndex){var editHandleType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"existing",handles=[];switch(geometry.type){case"Point":handles=[{type:"Feature",properties:{guideType:"editHandle",editHandleType:editHandleType,positionIndexes:[],featureIndex:featureIndex},geometry:{type:"Point",coordinates:geometry.coordinates}}];break;case"MultiPoint":case"LineString":handles=handles.concat(getEditHandlesForCoordinates(geometry.coordinates,[],featureIndex,editHandleType));break;case"Polygon":case"MultiLineString":for(var a=0;a<geometry.coordinates.length;a++)handles=handles.concat(getEditHandlesForCoordinates(geometry.coordinates[a],[a],featureIndex,editHandleType)),"Polygon"===geometry.type&&(handles=handles.slice(0,-1));break;case"MultiPolygon":for(var _a=0;_a<geometry.coordinates.length;_a++)for(var b=0;b<geometry.coordinates[_a].length;b++)handles=(handles=handles.concat(getEditHandlesForCoordinates(geometry.coordinates[_a][b],[_a,b],featureIndex,editHandleType))).slice(0,-1);break;default:throw Error("Unhandled geometry type: ".concat(geometry.type))}return handles},exports.updateRectanglePosition=function updateRectanglePosition(feature,editHandleIndex,mapCoords){var coordinates=feature.geometry.coordinates;if(!coordinates)return null;var points=coordinates[0].slice(0,4);points[editHandleIndex%4]=mapCoords;var p0=points[(editHandleIndex+2)%4],p2=points[editHandleIndex%4];return points[(editHandleIndex+1)%4]=[p2[0],p0[1]],points[(editHandleIndex+3)%4]=[p0[0],p2[1]],[[].concat(_toConsumableArray(points),[points[0]])]},exports.mapCoords=function mapCoords(coords,callback){if("number"==typeof coords[0])return!isNaN(coords[0])&&isFinite(coords[0])?callback(coords):coords;return coords.map((function(coord){return mapCoords(coord,callback)})).filter(Boolean)};var _destination=_interopRequireDefault(__webpack_require__("./node_modules/@turf/destination/dist/js/index.js")),_bearing=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js")),_pointToLineDistance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/point-to-line-distance/dist/js/index.js")),_meta=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_invariant=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js"),_viewportMercatorProject=_interopRequireDefault(__webpack_require__("./node_modules/viewport-mercator-project/module.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function distance2d(x1,y1,x2,y2){var dx=x1-x2,dy=y1-y2;return Math.sqrt(dx*dx+dy*dy)}function mix(a,b,ratio){return b*ratio+a*(1-ratio)}function getPickedEditHandles(picks){return picks&&picks.filter((function(pick){return pick.isGuide&&"editHandle"===pick.object.properties.guideType})).map((function(pick){return pick.object}))||[]}function getEditHandlesForCoordinates(coordinates,positionIndexPrefix,featureIndex){for(var editHandleType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"existing",editHandles=[],i=0;i<coordinates.length;i++){var position=coordinates[i];editHandles.push({type:"Feature",properties:{guideType:"editHandle",positionIndexes:[].concat(_toConsumableArray(positionIndexPrefix),[i]),featureIndex:featureIndex,editHandleType:editHandleType},geometry:{type:"Point",coordinates:position}})}return editHandles}},"./node_modules/@nebula.gl/layers/dist-es6/constants.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UNIT=exports.PROJECTED_PIXEL_SIZE_MULTIPLIER=void 0;exports.PROJECTED_PIXEL_SIZE_MULTIPLIER=2/3;exports.UNIT={common:0,meters:1,pixels:2}},"./node_modules/@nebula.gl/layers/dist-es6/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"nk",{enumerable:!0,get:function get(){return _editableGeojsonLayer.default}}),Object.defineProperty(exports,"Xr",{enumerable:!0,get:function get(){return _selectionLayer.default}});var _style=__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/style.js"),_editableGeojsonLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/editable-geojson-layer.js")),_editableH3ClusterLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/editable-h3-cluster-layer.js")),_selectionLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/selection-layer.js")),_elevatedEditHandleLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/elevated-edit-handle-layer.js")),_pathOutlineLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/path-outline-layer/path-outline-layer.js")),_pathMarkerLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/path-marker-layer/path-marker-layer.js")),_junctionScatterplotLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/junction-scatterplot-layer.js")),_utils=__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/utils.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},"./node_modules/@nebula.gl/layers/dist-es6/layers/editable-geojson-layer.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _layers=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/index.js"),_editModes=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/index.js"),_constants=__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/constants.js"),_editableLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/editable-layer.js")),_editablePathLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/editable-path-layer.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _createForOfIteratorHelper(o){if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(o=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))){var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var it,err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DEFAULT_LINE_COLOR=[0,0,0,153],DEFAULT_FILL_COLOR=[0,0,0,144],DEFAULT_SELECTED_LINE_COLOR=[0,0,0,255],DEFAULT_SELECTED_FILL_COLOR=[0,0,144,144],DEFAULT_TENTATIVE_LINE_COLOR=[144,144,144,255],DEFAULT_TENTATIVE_FILL_COLOR=[144,144,144,144],DEFAULT_EDITING_EXISTING_POINT_COLOR=[192,0,0,255],DEFAULT_EDITING_INTERMEDIATE_POINT_COLOR=[0,0,0,128],DEFAULT_EDITING_SNAP_POINT_COLOR=[124,0,192,255],DEFAULT_EDITING_POINT_OUTLINE_COLOR=[255,255,255,255],DEFAULT_TOOLTIP_FONT_SIZE=32*_constants.PROJECTED_PIXEL_SIZE_MULTIPLIER,DEFAULT_EDIT_MODE=_editModes.DrawPolygonMode;function guideAccessor(accessor){return accessor&&"function"==typeof accessor?function(guideMaybeWrapped){return accessor(function unwrapGuide(guideMaybeWrapped){if(guideMaybeWrapped.__source)return guideMaybeWrapped.__source.object;if(guideMaybeWrapped.sourceFeature)return guideMaybeWrapped.sourceFeature.feature;return guideMaybeWrapped}(guideMaybeWrapped))}:accessor}function getEditHandleColor(handle){switch(handle.properties.editHandleType){case"existing":return DEFAULT_EDITING_EXISTING_POINT_COLOR;case"snap-source":return DEFAULT_EDITING_SNAP_POINT_COLOR;default:return DEFAULT_EDITING_INTERMEDIATE_POINT_COLOR}}var defaultProps={mode:DEFAULT_EDIT_MODE,onEdit:function onEdit(){},pickable:!0,pickingRadius:10,pickingDepth:5,fp64:!1,filled:!0,stroked:!0,lineWidthScale:_constants.PROJECTED_PIXEL_SIZE_MULTIPLIER,lineWidthMinPixels:1,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,pickingLineWidthExtraPixels:0,lineWidthUnits:"pixels",lineJointRounded:!1,lineCapRounded:!1,lineMiterLimit:4,pointRadiusScale:1,pointRadiusMinPixels:2,pointRadiusMaxPixels:Number.MAX_SAFE_INTEGER,getLineColor:function getLineColor(feature,isSelected,mode){return isSelected?DEFAULT_SELECTED_LINE_COLOR:DEFAULT_LINE_COLOR},getFillColor:function getFillColor(feature,isSelected,mode){return isSelected?DEFAULT_SELECTED_FILL_COLOR:DEFAULT_FILL_COLOR},getRadius:function getRadius(f){return f&&f.properties&&f.properties.radius||f&&f.properties&&f.properties.size||1},getLineWidth:function getLineWidth(f){return f&&f.properties&&f.properties.lineWidth||3},getTentativeLineColor:function getTentativeLineColor(f){return DEFAULT_TENTATIVE_LINE_COLOR},getTentativeFillColor:function getTentativeFillColor(f){return DEFAULT_TENTATIVE_FILL_COLOR},getTentativeLineWidth:function getTentativeLineWidth(f){return f&&f.properties&&f.properties.lineWidth||3},editHandleType:"point",editHandlePointRadiusScale:1,editHandlePointOutline:!0,editHandlePointStrokeWidth:2,editHandlePointRadiusUnits:"pixels",editHandlePointRadiusMinPixels:4,editHandlePointRadiusMaxPixels:8,getEditHandlePointColor:getEditHandleColor,getEditHandlePointOutlineColor:function getEditHandleOutlineColor(handle){return DEFAULT_EDITING_POINT_OUTLINE_COLOR},getEditHandlePointRadius:function getEditHandleRadius(handle){switch(handle.properties.editHandleType){case"existing":return 5;case"snap":return 7;default:return 3}},editHandleIconAtlas:null,editHandleIconMapping:null,editHandleIconSizeScale:1,editHandleIconSizeUnits:"pixels",getEditHandleIcon:function getEditHandleIcon(handle){return handle.properties.editHandleType},getEditHandleIconSize:10,getEditHandleIconColor:getEditHandleColor,getEditHandleIconAngle:0,billboard:!0},modeNameMapping={view:_editModes.ViewMode,modify:_editModes.ModifyMode,translate:new _editModes.SnappableMode(new _editModes.TranslateMode),transform:new _editModes.SnappableMode(new _editModes.TransformMode),scale:_editModes.ScaleMode,rotate:_editModes.RotateMode,duplicate:_editModes.DuplicateMode,split:_editModes.SplitPolygonMode,extrude:_editModes.ExtrudeMode,elevation:_editModes.ElevationMode,drawPoint:_editModes.DrawPointMode,drawLineString:_editModes.DrawLineStringMode,drawPolygon:_editModes.DrawPolygonMode,drawRectangle:_editModes.DrawRectangleMode,drawSquare:_editModes.DrawSquareMode,drawRectangleFromCenter:_editModes.DrawRectangleFromCenterMode,drawSquareFromCenter:_editModes.DrawSquareFromCenterMode,drawCircleFromCenter:_editModes.DrawCircleFromCenterMode,drawCircleByBoundingBox:_editModes.DrawCircleByDiameterMode,drawEllipseByBoundingBox:_editModes.DrawEllipseByBoundingBoxMode,drawRectangleUsing3Points:_editModes.DrawRectangleUsingThreePointsMode,drawEllipseUsing3Points:_editModes.DrawEllipseUsingThreePointsMode,draw90DegreePolygon:_editModes.Draw90DegreePolygonMode,drawPolygonByDragging:_editModes.DrawPolygonByDraggingMode},EditableGeoJsonLayer=function(_EditableLayer){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(EditableGeoJsonLayer,_EditableLayer);var _super=_createSuper(EditableGeoJsonLayer);function EditableGeoJsonLayer(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EditableGeoJsonLayer),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EditableGeoJsonLayer,[{key:"renderLayers",value:function renderLayers(){var subLayerProps=this.getSubLayerProps({id:"geojson",data:this.props.data,fp64:this.props.fp64,filled:this.props.filled,stroked:this.props.stroked,lineWidthScale:this.props.lineWidthScale,lineWidthMinPixels:this.props.lineWidthMinPixels,lineWidthMaxPixels:this.props.lineWidthMaxPixels,lineWidthUnits:this.props.lineWidthUnits,lineJointRounded:this.props.lineJointRounded,lineCapRounded:this.props.lineCapRounded,lineMiterLimit:this.props.lineMiterLimit,pointRadiusScale:this.props.pointRadiusScale,pointRadiusMinPixels:this.props.pointRadiusMinPixels,pointRadiusMaxPixels:this.props.pointRadiusMaxPixels,getLineColor:this.selectionAwareAccessor(this.props.getLineColor),getFillColor:this.selectionAwareAccessor(this.props.getFillColor),getPointRadius:this.selectionAwareAccessor(this.props.getRadius),getLineWidth:this.selectionAwareAccessor(this.props.getLineWidth),_subLayerProps:{linestrings:{billboard:this.props.billboard,updateTriggers:{all:[this.props.selectedFeatureIndexes,this.props.mode]}},"polygons-stroke":{billboard:this.props.billboard,pickingLineWidthExtraPixels:this.props.pickingLineWidthExtraPixels,type:_editablePathLayer.default,updateTriggers:{all:[this.props.selectedFeatureIndexes,this.props.mode]}}},updateTriggers:{getLineColor:[this.props.selectedFeatureIndexes,this.props.mode],getFillColor:[this.props.selectedFeatureIndexes,this.props.mode],getPointRadius:[this.props.selectedFeatureIndexes,this.props.mode],getLineWidth:[this.props.selectedFeatureIndexes,this.props.mode]}}),layers=[new _layers.GeoJsonLayer(subLayerProps)];return layers=layers.concat(this.createGuidesLayers(),this.createTooltipsLayers())}},{key:"initializeState",value:function initializeState(){_get(_getPrototypeOf(EditableGeoJsonLayer.prototype),"initializeState",this).call(this),this.setState({selectedFeatures:[],editHandles:[]})}},{key:"shouldUpdateState",value:function shouldUpdateState(opts){return _get(_getPrototypeOf(EditableGeoJsonLayer.prototype),"shouldUpdateState",this).call(this,opts)||opts.changeFlags.stateChanged}},{key:"updateState",value:function updateState(_ref){var props=_ref.props,oldProps=_ref.oldProps,changeFlags=_ref.changeFlags,context=_ref.context;if((_get(_getPrototypeOf(EditableGeoJsonLayer.prototype),"updateState",this).call(this,{oldProps:oldProps,props:props,changeFlags:changeFlags,context:context}),changeFlags.propsOrDataChanged)&&(0===Object.keys(oldProps).length||props.mode!==oldProps.mode)){var _mode;if("function"==typeof props.mode)_mode=new(0,props.mode);else"string"==typeof props.mode?(_mode=modeNameMapping[props.mode],console.warn("Deprecated use of passing `mode` as a string. Pass the mode's class constructor instead.")):_mode=props.mode;_mode||(console.warn("No mode configured for ".concat(String(props.mode))),_mode=new DEFAULT_EDIT_MODE),_mode!==this.state.mode&&this.setState({mode:_mode,cursor:null})}var selectedFeatures=[];Array.isArray(props.selectedFeatureIndexes)&&(selectedFeatures=props.selectedFeatureIndexes.map((function(elem){return props.data.features[elem]}))),this.setState({selectedFeatures:selectedFeatures})}},{key:"getModeProps",value:function getModeProps(props){var _this=this;return{modeConfig:props.modeConfig,data:props.data,selectedIndexes:props.selectedFeatureIndexes,lastPointerMoveEvent:this.state.lastPointerMoveEvent,cursor:this.state.cursor,onEdit:function onEdit(editAction){_this.setNeedsUpdate(),props.onEdit(editAction)},onUpdateCursor:function onUpdateCursor(cursor){_this.setState({cursor:cursor})}}}},{key:"selectionAwareAccessor",value:function selectionAwareAccessor(accessor){var _this2=this;return"function"!=typeof accessor?accessor:function(feature){return accessor(feature,_this2.isFeatureSelected(feature),_this2.props.mode)}}},{key:"isFeatureSelected",value:function isFeatureSelected(feature){if(!this.props.data||!this.props.selectedFeatureIndexes)return!1;if(!this.props.selectedFeatureIndexes.length)return!1;var featureIndex=this.props.data.features.indexOf(feature);return this.props.selectedFeatureIndexes.includes(featureIndex)}},{key:"getPickingInfo",value:function getPickingInfo(_ref2){var info=_ref2.info;return _ref2.sourceLayer.id.endsWith("guides")&&(info.isGuide=!0),info}},{key:"_updateAutoHighlight",value:function _updateAutoHighlight(info){if(null==info?void 0:info.sourceLayer)if(info.isGuide){var _step,_iterator=_createForOfIteratorHelper(info.sourceLayer.getSubLayers());try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.updateAutoHighlight(info)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}else info.sourceLayer.updateAutoHighlight(info)}},{key:"createGuidesLayers",value:function createGuidesLayers(){var guides=this.getActiveMode().getGuides(this.getModeProps(this.props));if(!guides||!guides.features.length)return[];var subLayerProps={linestrings:{billboard:this.props.billboard,autoHighlight:!1},"polygons-fill":{autoHighlight:!1},"polygons-stroke":{billboard:this.props.billboard}};return"icon"===this.props.editHandleType?subLayerProps["points-icon"]={type:_layers.IconLayer,iconAtlas:this.props.editHandleIconAtlas,iconMapping:this.props.editHandleIconMapping,sizeUnits:this.props.editHandleIconSizeUnits,sizeScale:this.props.editHandleIconSizeScale,getIcon:guideAccessor(this.props.getEditHandleIcon),getSize:guideAccessor(this.props.getEditHandleIconSize),getColor:guideAccessor(this.props.getEditHandleIconColor),getAngle:guideAccessor(this.props.getEditHandleIconAngle)}:subLayerProps["points-circle"]={type:_layers.ScatterplotLayer,radiusScale:this.props.editHandlePointRadiusScale,stroked:this.props.editHandlePointOutline,getLineWidth:this.props.editHandlePointStrokeWidth,radiusUnits:this.props.editHandlePointRadiusUnits,radiusMinPixels:this.props.editHandlePointRadiusMinPixels,radiusMaxPixels:this.props.editHandlePointRadiusMaxPixels,getRadius:guideAccessor(this.props.getEditHandlePointRadius),getFillColor:guideAccessor(this.props.getEditHandlePointColor),getLineColor:guideAccessor(this.props.getEditHandlePointOutlineColor)},[new _layers.GeoJsonLayer(this.getSubLayerProps({id:"guides",data:guides,fp64:this.props.fp64,_subLayerProps:subLayerProps,lineWidthScale:this.props.lineWidthScale,lineWidthMinPixels:this.props.lineWidthMinPixels,lineWidthMaxPixels:this.props.lineWidthMaxPixels,lineWidthUnits:this.props.lineWidthUnits,lineJointRounded:this.props.lineJointRounded,lineCapRounded:this.props.lineCapRounded,lineMiterLimit:this.props.lineMiterLimit,getLineColor:guideAccessor(this.props.getTentativeLineColor),getLineWidth:guideAccessor(this.props.getTentativeLineWidth),getFillColor:guideAccessor(this.props.getTentativeFillColor),pointType:"icon"===this.props.editHandleType?"icon":"circle",iconAtlas:this.props.editHandleIconAtlas}))]}},{key:"createTooltipsLayers",value:function createTooltipsLayers(){var tooltips=this.getActiveMode().getTooltips(this.getModeProps(this.props)),layer=new _layers.TextLayer(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({getSize:DEFAULT_TOOLTIP_FONT_SIZE},this.getSubLayerProps({id:"tooltips",data:tooltips})));return[layer]}},{key:"onLayerClick",value:function onLayerClick(event){this.getActiveMode().handleClick(event,this.getModeProps(this.props))}},{key:"onLayerKeyUp",value:function onLayerKeyUp(event){this.getActiveMode().handleKeyUp(event,this.getModeProps(this.props))}},{key:"onStartDragging",value:function onStartDragging(event){this.getActiveMode().handleStartDragging(event,this.getModeProps(this.props))}},{key:"onDragging",value:function onDragging(event){this.getActiveMode().handleDragging(event,this.getModeProps(this.props))}},{key:"onStopDragging",value:function onStopDragging(event){this.getActiveMode().handleStopDragging(event,this.getModeProps(this.props))}},{key:"onPointerMove",value:function onPointerMove(event){this.setState({lastPointerMoveEvent:event}),this.getActiveMode().handlePointerMove(event,this.getModeProps(this.props))}},{key:"getCursor",value:function getCursor(_ref3){var isDragging=_ref3.isDragging;if(null===this.state||void 0===this.state)return null;var cursor=this.state.cursor;return cursor||(cursor=isDragging?"grabbing":"grab"),cursor}},{key:"getActiveMode",value:function getActiveMode(){return this.state.mode}}]),EditableGeoJsonLayer}(_editableLayer.default);exports.default=EditableGeoJsonLayer,_defineProperty(EditableGeoJsonLayer,"layerName","EditableGeoJsonLayer"),_defineProperty(EditableGeoJsonLayer,"defaultProps",defaultProps)},"./node_modules/@nebula.gl/layers/dist-es6/layers/editable-h3-cluster-layer.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _geoLayers=__webpack_require__("./node_modules/@deck.gl/geo-layers/dist/esm/index.js"),_editModes=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/index.js"),_h3Js=__webpack_require__("./node_modules/h3-js/dist/browser/h3-js.es.js"),_constants=__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/constants.js"),_editableGeojsonLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/editable-geojson-layer.js")),_editableLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/editable-layer.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DEFAULT_EDIT_MODE=_editModes.ViewMode,EMPTY_FEATURE_COLLECTION={type:"FeatureCollection",features:[]},defaultProps=_objectSpread({mode:DEFAULT_EDIT_MODE},_editableGeojsonLayer.default.defaultProps,{data:[],selectedIndexes:[],filled:!1,stroked:!0,lineWidthScale:_constants.PROJECTED_PIXEL_SIZE_MULTIPLIER,lineWidthMinPixels:1,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineWidthUnits:"pixels",getHexagons:function getHexagons(d){return d.hexIds},getEditedCluster:function getEditedCluster(updatedHexagons,existingCluster){return existingCluster?_objectSpread({},existingCluster,{hexIds:updatedHexagons}):{hexIds:updatedHexagons}},resolution:9}),EditableH3ClusterLayer=function(_EditableLayer){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(EditableH3ClusterLayer,_EditableLayer);var _super=_createSuper(EditableH3ClusterLayer);function EditableH3ClusterLayer(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EditableH3ClusterLayer),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EditableH3ClusterLayer,[{key:"initializeState",value:function initializeState(){_get(_getPrototypeOf(EditableH3ClusterLayer.prototype),"initializeState",this).call(this),this.setState({tentativeHexagonIDs:[]})}},{key:"getDerivedHexagonIDs",value:function getDerivedHexagonIDs(coords){return(0,_h3Js.polyfill)(coords,this.props.resolution,!0)}},{key:"getDerivedHexagonID",value:function getDerivedHexagonID(coords){return(0,_h3Js.geoToH3)(coords[1],coords[0],this.props.resolution)}},{key:"renderLayers",value:function renderLayers(){var _this=this;return[new _editableGeojsonLayer.default(this.getSubLayerProps({id:"editable-geojson",mode:this.props.mode,data:EMPTY_FEATURE_COLLECTION,selectedFeatureIndexes:[],onEdit:function onEdit(editAction){var editType=editAction.editType,editContext=editAction.editContext;switch(editType){case"updateTentativeFeature":if("Polygon"===editContext.feature.geometry.type){var coords=editContext.feature.geometry.coordinates,hexIDs=_this.getDerivedHexagonIDs(coords);_this.setState({tentativeHexagonIDs:hexIDs})}else if("Point"===editContext.feature.geometry.type){var _coords=editContext.feature.geometry.coordinates,hexID=_this.getDerivedHexagonID(_coords);_this.setState({tentativeHexagonIDs:[hexID]})}break;case"addFeature":var _updatedData=_toConsumableArray(_this.props.data),modeConfig=_this.props.modeConfig;if(modeConfig&&modeConfig.booleanOperation)if(1!==_this.props.selectedIndexes.length)console.warn("booleanOperation only supported for single cluster selection");else{var finalHexagonIDs,committedHexagonIDs=new Set(_this.getSelectedHexIDs()),tentativeHexagonIDs=new Set(_this.state.tentativeHexagonIDs);switch(modeConfig.booleanOperation){case"union":default:finalHexagonIDs=_toConsumableArray(new Set([].concat(_toConsumableArray(committedHexagonIDs),_toConsumableArray(tentativeHexagonIDs))));break;case"intersection":finalHexagonIDs=_toConsumableArray(committedHexagonIDs).filter((function(hexID){return tentativeHexagonIDs.has(hexID)}));break;case"difference":finalHexagonIDs=_toConsumableArray(committedHexagonIDs).filter((function(hexID){return!tentativeHexagonIDs.has(hexID)}))}var selectedIndex=_this.props.selectedIndexes[0],_existingCluster=_this.props.data[selectedIndex];_updatedData[selectedIndex]=_this.props.getEditedCluster(finalHexagonIDs,_existingCluster)}else _updatedData.push(_this.props.getEditedCluster(_this.state.tentativeHexagonIDs,null));_this.setState({tentativeHexagonIDs:[]}),_this.props.onEdit({updatedData:_updatedData})}}})),new _geoLayers.H3ClusterLayer(this.getSubLayerProps({id:"hexagons",data:this.props.data,getHexagons:this.props.getHexagons})),new _geoLayers.H3ClusterLayer(this.getSubLayerProps({id:"tentative-hexagons",data:[{hexIds:this.state.tentativeHexagonIDs}],getHexagons:function getHexagons(d){return d.hexIds}}))]}},{key:"getSelectedHexIDs",value:function getSelectedHexIDs(){var _this2=this,cumulativeHexIDs=[];return this.props.selectedIndexes.forEach((function(index){var selectedCluster=_this2.props.data[index],hexIDs=_this2.props.getHexagons(selectedCluster);cumulativeHexIDs=cumulativeHexIDs.concat(hexIDs)})),cumulativeHexIDs}},{key:"getCursor",value:function getCursor(_ref){var isDragging=_ref.isDragging,cursor=(this.state||{}).cursor;return cursor||(cursor=isDragging?"grabbing":"grab"),cursor}}]),EditableH3ClusterLayer}(_editableLayer.default);exports.default=EditableH3ClusterLayer,_defineProperty(EditableH3ClusterLayer,"layerName","EditableH3ClusterLayer"),_defineProperty(EditableH3ClusterLayer,"defaultProps",defaultProps)},"./node_modules/@nebula.gl/layers/dist-es6/layers/editable-layer.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _core=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/index.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _createForOfIteratorHelper(o){if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(o=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))){var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var it,err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var EVENT_TYPES=["anyclick","pointermove","panstart","panmove","panend","keyup"],EditableLayer=function(_CompositeLayer){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(EditableLayer,_CompositeLayer);var _super=_createSuper(EditableLayer);function EditableLayer(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EditableLayer),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EditableLayer,[{key:"onLayerClick",value:function onLayerClick(event){}},{key:"onStartDragging",value:function onStartDragging(event){}},{key:"onStopDragging",value:function onStopDragging(event){}},{key:"onDragging",value:function onDragging(event){}},{key:"onPointerMove",value:function onPointerMove(event){}},{key:"onLayerKeyUp",value:function onLayerKeyUp(event){}},{key:"initializeState",value:function initializeState(){this.setState({_editableLayerState:{pointerDownPicks:null,pointerDownScreenCoords:null,pointerDownMapCoords:null,eventHandler:this._forwardEventToCurrentLayer.bind(this)}}),this._addEventHandlers()}},{key:"finalizeState",value:function finalizeState(){this._removeEventHandlers()}},{key:"_addEventHandlers",value:function _addEventHandlers(){var _step,eventManager=this.context.deck.eventManager,eventHandler=this.state._editableLayerState.eventHandler,_iterator=_createForOfIteratorHelper(EVENT_TYPES);try{for(_iterator.s();!(_step=_iterator.n()).done;){var eventType=_step.value;eventManager.on(eventType,eventHandler,{priority:100})}}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"_removeEventHandlers",value:function _removeEventHandlers(){var _step2,eventManager=this.context.deck.eventManager,eventHandler=this.state._editableLayerState.eventHandler,_iterator2=_createForOfIteratorHelper(EVENT_TYPES);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var eventType=_step2.value;eventManager.off(eventType,eventHandler)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}},{key:"_forwardEventToCurrentLayer",value:function _forwardEventToCurrentLayer(event){var currentLayer=this.getCurrentLayer(),func=currentLayer["_on".concat(event.type)].bind(currentLayer);func?func(event):console.warn("no handler for mjolnir.js event ".concat(event.type))}},{key:"_onanyclick",value:function _onanyclick(_ref){var srcEvent=_ref.srcEvent,screenCoords=this.getScreenCoords(srcEvent),mapCoords=this.getMapCoords(screenCoords),picks=this.getPicks(screenCoords);this.onLayerClick({mapCoords:mapCoords,screenCoords:screenCoords,picks:picks,sourceEvent:srcEvent})}},{key:"_onkeyup",value:function _onkeyup(_ref2){var srcEvent=_ref2.srcEvent;this.onLayerKeyUp(srcEvent)}},{key:"_onpanstart",value:function _onpanstart(event){var screenCoords=this.getScreenCoords(event.srcEvent),mapCoords=this.getMapCoords(screenCoords),picks=this.getPicks(screenCoords);this.setState({_editableLayerState:_objectSpread({},this.state._editableLayerState,{pointerDownScreenCoords:screenCoords,pointerDownMapCoords:mapCoords,pointerDownPicks:picks})}),this.onStartDragging({picks:picks,screenCoords:screenCoords,mapCoords:mapCoords,pointerDownScreenCoords:screenCoords,pointerDownMapCoords:mapCoords,cancelPan:event.stopImmediatePropagation,sourceEvent:event.srcEvent})}},{key:"_onpanmove",value:function _onpanmove(event){var srcEvent=event.srcEvent,screenCoords=this.getScreenCoords(srcEvent),mapCoords=this.getMapCoords(screenCoords),_this$state$_editable=this.state._editableLayerState,pointerDownPicks=_this$state$_editable.pointerDownPicks,pointerDownScreenCoords=_this$state$_editable.pointerDownScreenCoords,pointerDownMapCoords=_this$state$_editable.pointerDownMapCoords,picks=this.getPicks(screenCoords);this.onDragging({screenCoords:screenCoords,mapCoords:mapCoords,picks:picks,pointerDownPicks:pointerDownPicks,pointerDownScreenCoords:pointerDownScreenCoords,pointerDownMapCoords:pointerDownMapCoords,sourceEvent:srcEvent,cancelPan:event.stopImmediatePropagation})}},{key:"_onpanend",value:function _onpanend(_ref3){var srcEvent=_ref3.srcEvent,screenCoords=this.getScreenCoords(srcEvent),mapCoords=this.getMapCoords(screenCoords),_this$state$_editable2=this.state._editableLayerState,pointerDownPicks=_this$state$_editable2.pointerDownPicks,pointerDownScreenCoords=_this$state$_editable2.pointerDownScreenCoords,pointerDownMapCoords=_this$state$_editable2.pointerDownMapCoords,picks=this.getPicks(screenCoords);this.onStopDragging({picks:picks,screenCoords:screenCoords,mapCoords:mapCoords,pointerDownPicks:pointerDownPicks,pointerDownScreenCoords:pointerDownScreenCoords,pointerDownMapCoords:pointerDownMapCoords,sourceEvent:srcEvent}),this.setState({_editableLayerState:_objectSpread({},this.state._editableLayerState,{pointerDownScreenCoords:null,pointerDownMapCoords:null,pointerDownPicks:null})})}},{key:"_onpointermove",value:function _onpointermove(event){var srcEvent=event.srcEvent,screenCoords=this.getScreenCoords(srcEvent),mapCoords=this.getMapCoords(screenCoords),_this$state$_editable3=this.state._editableLayerState,pointerDownPicks=_this$state$_editable3.pointerDownPicks,pointerDownScreenCoords=_this$state$_editable3.pointerDownScreenCoords,pointerDownMapCoords=_this$state$_editable3.pointerDownMapCoords,picks=this.getPicks(screenCoords);this.onPointerMove({screenCoords:screenCoords,mapCoords:mapCoords,picks:picks,pointerDownPicks:pointerDownPicks,pointerDownScreenCoords:pointerDownScreenCoords,pointerDownMapCoords:pointerDownMapCoords,sourceEvent:srcEvent})}},{key:"getPicks",value:function getPicks(screenCoords){return this.context.deck.pickMultipleObjects({x:screenCoords[0],y:screenCoords[1],layerIds:[this.props.id],radius:this.props.pickingRadius,depth:this.props.pickingDepth})}},{key:"getScreenCoords",value:function getScreenCoords(pointerEvent){return[pointerEvent.clientX-this.context.gl.canvas.getBoundingClientRect().left,pointerEvent.clientY-this.context.gl.canvas.getBoundingClientRect().top]}},{key:"getMapCoords",value:function getMapCoords(screenCoords){return this.context.viewport.unproject([screenCoords[0],screenCoords[1]])}}]),EditableLayer}(_core.CompositeLayer);exports.default=EditableLayer,_defineProperty(EditableLayer,"layerName","EditableLayer")},"./node_modules/@nebula.gl/layers/dist-es6/layers/editable-path-layer.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _layers=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/index.js"),_utils=__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/utils.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var defaultProps=_objectSpread({},_layers.PathLayer.defaultProps,{pickingLineWidthExtraPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER}}),EditablePathLayer=function(_PathLayer){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(EditablePathLayer,_PathLayer);var _super=_createSuper(EditablePathLayer);function EditablePathLayer(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EditablePathLayer),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EditablePathLayer,[{key:"getShaders",value:function getShaders(){var _shaders$inject,shaders=_get(_getPrototypeOf(EditablePathLayer.prototype),"getShaders",this).call(this);return shaders.vs=(0,_utils.insertBefore)(shaders.vs,"vec3 width;","\n       if(picking_uActive){\n        widthPixels.xy += pickingLineWidthExtraPixels;\n       }\n      "),_objectSpread({},shaders,{inject:_objectSpread({},shaders.inject||{},{"vs:#decl":((null===(_shaders$inject=shaders.inject)||void 0===_shaders$inject?void 0:_shaders$inject["vs:#decl"])||"").concat("uniform float pickingLineWidthExtraPixels;")})})}},{key:"draw",value:function draw(props){_get(_getPrototypeOf(EditablePathLayer.prototype),"draw",this).call(this,_objectSpread({},props,{uniforms:_objectSpread({},props.uniforms,{pickingLineWidthExtraPixels:this.props.pickingLineWidthExtraPixels})}))}}]),EditablePathLayer}(_layers.PathLayer);exports.default=EditablePathLayer,EditablePathLayer.defaultProps=defaultProps,EditablePathLayer.layerName="EditablePathLayer"},"./node_modules/@nebula.gl/layers/dist-es6/layers/elevated-edit-handle-layer.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _core=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/index.js"),_layers=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/index.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ElevatedEditHandleLayer=function(_CompositeLayer){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ElevatedEditHandleLayer,_CompositeLayer);var _super=_createSuper(ElevatedEditHandleLayer);function ElevatedEditHandleLayer(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ElevatedEditHandleLayer),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ElevatedEditHandleLayer,[{key:"renderLayers",value:function renderLayers(){return[new _layers.ScatterplotLayer(Object.assign({},this.props,{id:"".concat(this.props.id,"-ScatterplotLayer"),data:this.props.data})),new _layers.LineLayer(Object.assign({},this.props,{id:"".concat(this.props.id,"-LineLayer"),data:this.props.data,pickable:!1,getSourcePosition:function getSourcePosition(_ref){var position=_ref.position;return[position[0],position[1],0]},getTargetPosition:function getTargetPosition(_ref2){var position=_ref2.position;return[position[0],position[1],position[2]||0]},getColor:[150,150,150,200],getStrokeWidth:3}))]}}]),ElevatedEditHandleLayer}(_core.CompositeLayer);exports.default=ElevatedEditHandleLayer,_defineProperty(ElevatedEditHandleLayer,"layerName","ElevatedEditHandleLayer"),_defineProperty(ElevatedEditHandleLayer,"defaultProps",{})},"./node_modules/@nebula.gl/layers/dist-es6/layers/junction-scatterplot-layer.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _core=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/index.js"),_layers=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/index.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var JunctionScatterplotLayer=function(_CompositeLayer){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(JunctionScatterplotLayer,_CompositeLayer);var _super=_createSuper(JunctionScatterplotLayer);function JunctionScatterplotLayer(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,JunctionScatterplotLayer),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(JunctionScatterplotLayer,[{key:"renderLayers",value:function renderLayers(){var _this$props=this.props,id=_this$props.id,getFillColor=_this$props.getFillColor,getStrokeColor=_this$props.getStrokeColor,getInnerRadius=_this$props.getInnerRadius,updateTriggers=_this$props.updateTriggers;return[new _layers.ScatterplotLayer(_objectSpread({},this.props,{id:"".concat(id,"-full"),data:this.props.data,getLineColor:getStrokeColor,updateTriggers:_objectSpread({},updateTriggers,{getStrokeColor:updateTriggers.getStrokeColor})})),new _layers.ScatterplotLayer(_objectSpread({},this.props,{id:"".concat(id,"-inner"),data:this.props.data,getFillColor:getFillColor,getRadius:getInnerRadius,pickable:!1,updateTriggers:_objectSpread({},updateTriggers,{getFillColor:updateTriggers.getFillColor,getRadius:updateTriggers.getInnerRadius})}))]}}]),JunctionScatterplotLayer}(_core.CompositeLayer);exports.default=JunctionScatterplotLayer,_defineProperty(JunctionScatterplotLayer,"layerName","JunctionScatterplotLayer"),_defineProperty(JunctionScatterplotLayer,"defaultProps",_objectSpread({},_layers.ScatterplotLayer.defaultProps,{getFillColor:function getFillColor(d){return[0,0,0,255]},getStrokeColor:function getStrokeColor(d){return[255,255,255,255]},getInnerRadius:function getInnerRadius(d){return 1}}))},"./node_modules/@nebula.gl/layers/dist-es6/layers/path-marker-layer/arrow-2d-geometry.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Arrow2DGeometry=function(_Geometry){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Arrow2DGeometry,_Geometry);var _super=_createSuper(Arrow2DGeometry);function Arrow2DGeometry(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Arrow2DGeometry),_super.call(this,Object.assign({},opts,{attributes:getArrowAttributes(opts)}))}return Arrow2DGeometry}(__webpack_require__("./node_modules/@luma.gl/core/dist/esm/index.js").Geometry);function getArrowAttributes(_ref){for(var _ref$length=_ref.length,length=void 0===_ref$length?1:_ref$length,_ref$headSize=_ref.headSize,headSize=void 0===_ref$headSize?.2:_ref$headSize,_ref$tailWidth=_ref.tailWidth,tailWidth=void 0===_ref$tailWidth?.05:_ref$tailWidth,_ref$tailStart=_ref.tailStart,tailStart=void 0===_ref$tailStart?.05:_ref$tailStart,texCoords=[.5,1,0,.5-headSize/2,1-headSize,0,.5+headSize/2,1-headSize,0,.5-tailWidth/2,tailStart,0,.5+tailWidth/2,1-headSize,0,.5+tailWidth/2,tailStart,0,.5-tailWidth/2,tailStart,0,.5-tailWidth/2,1-headSize,0,.5+tailWidth/2,1-headSize,0],positions=new Array(texCoords.length),i=0;i<texCoords.length/3;i++){var i3=3*i;positions[i3+0]=(texCoords[i3+0]-.5)*length,positions[i3+1]=(texCoords[i3+1]-.5)*length,positions[i3+2]=0}return{positions:new Float32Array(positions),normals:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1]),texCoords:new Float32Array(texCoords)}}exports.default=Arrow2DGeometry},"./node_modules/@nebula.gl/layers/dist-es6/layers/path-marker-layer/create-path-markers.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function createPathMarkers(_ref){var _step,data=_ref.data,_ref$getPath=_ref.getPath,getPath=void 0===_ref$getPath?function(x){return x.path}:_ref$getPath,_ref$getDirection=_ref.getDirection,getDirection=void 0===_ref$getDirection?function(x){return x.direction}:_ref$getDirection,_ref$getColor=_ref.getColor,getColor=void 0===_ref$getColor?function(x){return DEFAULT_COLOR}:_ref$getColor,_ref$getMarkerPercent=_ref.getMarkerPercentages,getMarkerPercentages=void 0===_ref$getMarkerPercent?function(x,info){return[.5]}:_ref$getMarkerPercent,projectFlat=_ref.projectFlat,markers=[],_iterator=_createForOfIteratorHelper(data);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,object=_step.value,path=getPath(object),direction=getDirection(object)||DEFAULT_DIRECTION,color=getColor(object),vPoints=path.map((function(p){return new _math.Vector2(p)})),vPointsReverse=vPoints.slice(0).reverse(),lineLength=getLineLength(vPoints),_iterator2=_createForOfIteratorHelper(getMarkerPercentages(object,{lineLength:lineLength}));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var percentage=_step2.value;if(direction.forward){var marker=createMarkerAlongPath({path:vPoints,percentage:percentage,lineLength:lineLength,color:color,object:object,projectFlat:projectFlat});markers.push(marker)}if(direction.backward){var _marker=createMarkerAlongPath({path:vPointsReverse,percentage:percentage,lineLength:lineLength,color:color,object:object,projectFlat:projectFlat});markers.push(_marker)}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return markers};var _math=__webpack_require__("./node_modules/math.gl/dist/esm/index.js");function _createForOfIteratorHelper(o){if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(o=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))){var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var it,err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getLineLength(vPoints){for(var lineLength=0,i=0;i<vPoints.length-1;i++)lineLength+=vPoints[i].distance(vPoints[i+1]);return lineLength}var DEFAULT_COLOR=[0,0,0,255],DEFAULT_DIRECTION={forward:!0,backward:!1};function createMarkerAlongPath(_ref2){var path=_ref2.path,percentage=_ref2.percentage,lineLength=_ref2.lineLength,color=_ref2.color,object=_ref2.object,projectFlat=_ref2.projectFlat,distanceAlong=lineLength*percentage,currentDistance=0,previousDistance=0,i=0;for(i=0;i<path.length-1&&!((currentDistance+=path[i].distance(path[i+1]))>distanceAlong);i++)previousDistance=currentDistance;i===path.length-1&&(i-=1);var along=distanceAlong-previousDistance,vCenter=path[i+1].clone().subtract(path[i]).normalize().clone().multiply(new _math.Vector2(along,along)).add(path[i]),angle=180*new _math.Vector2(projectFlat(path[i+1])).subtract(projectFlat(path[i])).verticalAngle()/Math.PI;return{position:[vCenter.x,vCenter.y,0],angle:angle,color:color,object:object}}},"./node_modules/@nebula.gl/layers/dist-es6/layers/path-marker-layer/path-marker-layer.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _core=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/index.js"),_layers=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/index.js"),_meshLayers=__webpack_require__("./node_modules/@deck.gl/mesh-layers/dist/esm/index.js"),_pathOutlineLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/path-outline-layer/path-outline-layer.js")),_arrow2dGeometry=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/path-marker-layer/arrow-2d-geometry.js")),_createPathMarkers=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/path-marker-layer/create-path-markers.js")),_polyline=__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/path-marker-layer/polyline.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DEFAULT_MARKER_LAYER=_meshLayers.SimpleMeshLayer,DEFAULT_MARKER_LAYER_PROPS={mesh:new _arrow2dGeometry.default({headSize:.2,tailWidth:.05})},defaultProps=Object.assign({},_pathOutlineLayer.default.defaultProps,{MarkerLayer:DEFAULT_MARKER_LAYER,markerLayerProps:DEFAULT_MARKER_LAYER_PROPS,sizeScale:100,fp64:!1,highlightIndex:-1,highlightPoint:null,getPath:function getPath(x){return x.path},getColor:function getColor(x){return x.color},getMarkerColor:function getMarkerColor(x){return[0,0,0,255]},getDirection:function getDirection(x){return x.direction},getMarkerPercentages:function getMarkerPercentages(object,_ref){return _ref.lineLength>.1?[.25,.5,.75]:[.5]}}),PathMarkerLayer=function(_CompositeLayer){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PathMarkerLayer,_CompositeLayer);var _super=_createSuper(PathMarkerLayer);function PathMarkerLayer(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PathMarkerLayer),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PathMarkerLayer,[{key:"initializeState",value:function initializeState(){this.state={markers:[],mesh:new _arrow2dGeometry.default({headSize:.2,tailWidth:.05}),closestPoint:null}}},{key:"projectFlat",value:function projectFlat(xyz,viewport,coordinateSystem,coordinateOrigin){if(coordinateSystem===_core.COORDINATE_SYSTEM.METER_OFFSETS){var _viewport$metersToLng2=_slicedToArray(viewport.metersToLngLatDelta(xyz),2),dx=_viewport$metersToLng2[0],dy=_viewport$metersToLng2[1],_coordinateOrigin=_slicedToArray(coordinateOrigin,2),_x=_coordinateOrigin[0],y=_coordinateOrigin[1];return viewport.projectFlat([_x+dx,dy+y])}if(coordinateSystem===_core.COORDINATE_SYSTEM.LNGLAT_OFFSETS){var _xyz=_slicedToArray(xyz,2),_dx=_xyz[0],_dy=_xyz[1],_coordinateOrigin2=_slicedToArray(coordinateOrigin,2),_x2=_coordinateOrigin2[0],_y=_coordinateOrigin2[1];return viewport.projectFlat([_x2+_dx,_dy+_y])}return viewport.projectFlat(xyz)}},{key:"updateState",value:function updateState(_ref2){var _this=this,props=_ref2.props,oldProps=_ref2.oldProps,changeFlags=_ref2.changeFlags;if(changeFlags.dataChanged||changeFlags.updateTriggersChanged){var _this$props=this.props,data=_this$props.data,getPath=_this$props.getPath,getDirection=_this$props.getDirection,getMarkerColor=_this$props.getMarkerColor,getMarkerPercentages=_this$props.getMarkerPercentages,coordinateSystem=_this$props.coordinateSystem,coordinateOrigin=_this$props.coordinateOrigin,viewport=this.context.viewport;this.state.markers=(0,_createPathMarkers.default)({data:data,getPath:getPath,getDirection:getDirection,getColor:getMarkerColor,getMarkerPercentages:getMarkerPercentages,projectFlat:function projectFlat(o){return _this.projectFlat(o,viewport,coordinateSystem,coordinateOrigin)}}),this._recalculateClosestPoint()}changeFlags.propsChanged&&props.point!==oldProps.point&&this._recalculateClosestPoint()}},{key:"_recalculateClosestPoint",value:function _recalculateClosestPoint(){var _this$props2=this.props,highlightPoint=_this$props2.highlightPoint,highlightIndex=_this$props2.highlightIndex;if(highlightPoint&&highlightIndex>=0){var object=this.props.data[highlightIndex],points=this.props.getPath(object),point=(0,_polyline.getClosestPointOnPolyline)({points:points,p:highlightPoint}).point;this.state.closestPoints=[{position:point}]}else this.state.closestPoints=[]}},{key:"getPickingInfo",value:function getPickingInfo(_ref3){var info=_ref3.info;return Object.assign(info,{object:info.object&&info.object.path||info.object})}},{key:"renderLayers",value:function renderLayers(){return[new _pathOutlineLayer.default(this.props,this.getSubLayerProps({id:"paths",data:this.props.data})),new this.props.MarkerLayer(this.getSubLayerProps(Object.assign({},this.props.markerLayerProps,{id:"markers",data:this.state.markers,getOrientation:function getOrientation(x){return[0,-x.angle,0]},getColor:function getColor(x){return x.color},sizeScale:this.props.sizeScale,fp64:this.props.fp64,pickable:!1,parameters:{blend:!1,depthTest:!1}}))),this.state.closestPoints&&new _layers.ScatterplotLayer({id:"".concat(this.props.id,"-highlight"),data:this.state.closestPoints,fp64:this.props.fp64})]}}]),PathMarkerLayer}(_core.CompositeLayer);exports.default=PathMarkerLayer,_defineProperty(PathMarkerLayer,"layerName","PathMarkerLayer"),_defineProperty(PathMarkerLayer,"defaultProps",defaultProps)},"./node_modules/@nebula.gl/layers/dist-es6/layers/path-marker-layer/polyline.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getClosestPointOnLine=getClosestPointOnLine,exports.getClosestPointOnPolyline=function getClosestPointOnPolyline(_ref2){var p=_ref2.p,points=_ref2.points;p=new _math.Vector3(p);for(var pClosest=null,distanceSquared=1/0,index=-1,i=0;i<points.length-1;++i){var pClosestOnLine=getClosestPointOnLine({p:p,p1:points[i],p2:points[i+1]}),distanceToLineSquared=p.distanceSquared(pClosestOnLine);distanceToLineSquared<distanceSquared&&(distanceSquared=distanceToLineSquared,pClosest=pClosestOnLine,index=i)}return{point:pClosest,index:index,p1:points[index],p2:points[index+1],distanceSquared:distanceSquared,distance:Math.sqrt(distanceSquared)}};var _math=__webpack_require__("./node_modules/math.gl/dist/esm/index.js");function getClosestPointOnLine(_ref){var p=_ref.p,p1=_ref.p1,p2=_ref.p2,_ref$clampToLine=_ref.clampToLine,clampToLine=void 0===_ref$clampToLine||_ref$clampToLine,lineVector=new _math.Vector3(p2).subtract(p1),pointVector=new _math.Vector3(p).subtract(p1),dotProduct=lineVector.dot(pointVector);return clampToLine&&(dotProduct=(0,_math.clamp)(dotProduct,0,1)),lineVector.lerp(dotProduct)}},"./node_modules/@nebula.gl/layers/dist-es6/layers/path-outline-layer/path-outline-layer.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _layers=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/index.js"),_constants=_interopRequireDefault(__webpack_require__("./node_modules/@luma.gl/constants/dist/esm/index.js")),_core=__webpack_require__("./node_modules/@luma.gl/core/dist/esm/index.js"),_outline=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/shaderlib/outline/outline.js")),_constants2=__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/constants.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function injectShaderCode(_ref){var source=_ref.source,_ref$code=_ref.code,code=void 0===_ref$code?"":_ref$code;return source.replace(/}[^{}]*$/,code.concat("\n}\n"))}var PathOutlineLayer=function(_PathLayer){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PathOutlineLayer,_PathLayer);var _super=_createSuper(PathOutlineLayer);function PathOutlineLayer(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PathOutlineLayer),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PathOutlineLayer,[{key:"getShaders",value:function getShaders(){var shaders=_get(_getPrototypeOf(PathOutlineLayer.prototype),"getShaders",this).call(this);return Object.assign({},shaders,{modules:shaders.modules.concat([_outline.default]),vs:injectShaderCode({source:shaders.vs,code:"  outline_setUV(gl_Position);\n  outline_setZLevel(instanceZLevel);\n"}),fs:injectShaderCode({source:shaders.fs,code:"  gl_FragColor = outline_filterColor(gl_FragColor);\n"})})}},{key:"initializeState",value:function initializeState(context){_get(_getPrototypeOf(PathOutlineLayer.prototype),"initializeState",this).call(this,context),this.setState({outlineFramebuffer:new _core.Framebuffer(context.gl),dummyTexture:new _core.Texture2D(context.gl)}),this.state.attributeManager.addInstanced({instanceZLevel:{size:1,type:_constants.default.UNSIGNED_BYTE,accessor:"getZLevel"}})}},{key:"draw",value:function draw(_ref2){_ref2.moduleParameters,_ref2.parameters;var uniforms=_ref2.uniforms,_this$props=(_ref2.context,this.props),jointRounded=_this$props.jointRounded,capRounded=_this$props.capRounded,billboard=_this$props.billboard,miterLimit=_this$props.miterLimit,widthUnits=_this$props.widthUnits,widthScale=_this$props.widthScale,widthMinPixels=_this$props.widthMinPixels,widthMaxPixels=_this$props.widthMaxPixels;uniforms=Object.assign({},uniforms,{jointType:Number(jointRounded),capType:Number(capRounded),billboard:billboard,widthUnits:_constants2.UNIT[widthUnits],widthScale:widthScale,miterLimit:miterLimit,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels});var _this$state=this.state,outlineFramebuffer=_this$state.outlineFramebuffer,dummyTexture=_this$state.dummyTexture;outlineFramebuffer.resize(),outlineFramebuffer.clear({color:!0,depth:!0}),this.state.model.updateModuleSettings({outlineEnabled:!0,outlineRenderShadowmap:!0,outlineShadowmap:dummyTexture}),this.state.model.draw({uniforms:Object.assign({},uniforms,{jointType:0,widthScale:1.3*this.props.widthScale}),parameters:{depthTest:!1,blendEquation:_constants.default.MAX},framebuffer:outlineFramebuffer}),this.state.model.updateModuleSettings({outlineEnabled:!0,outlineRenderShadowmap:!1,outlineShadowmap:outlineFramebuffer}),this.state.model.draw({uniforms:Object.assign({},uniforms,{jointType:Number(jointRounded),capType:Number(capRounded),widthScale:this.props.widthScale}),parameters:{depthTest:!1}})}}]),PathOutlineLayer}(_layers.PathLayer);exports.default=PathOutlineLayer,_defineProperty(PathOutlineLayer,"layerName","PathOutlineLayer"),_defineProperty(PathOutlineLayer,"defaultProps",{getZLevel:function getZLevel(){return 0}})},"./node_modules/@nebula.gl/layers/dist-es6/layers/selection-layer.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.SELECTION_TYPE=void 0;var _MODE_MAP,_core=__webpack_require__("./node_modules/@deck.gl/core/dist/esm/index.js"),_layers=__webpack_require__("./node_modules/@deck.gl/layers/dist/esm/index.js"),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_buffer=_interopRequireDefault(__webpack_require__("./node_modules/@turf/buffer/dist/js/index.js")),_difference=_interopRequireDefault(__webpack_require__("./node_modules/@turf/difference/dist/js/index.js")),_editModes=__webpack_require__("./node_modules/@nebula.gl/edit-modes/dist-es6/index.js"),_editableGeojsonLayer=_interopRequireDefault(__webpack_require__("./node_modules/@nebula.gl/layers/dist-es6/layers/editable-geojson-layer.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createSuper(Derived){return function(){var result,Super=_getPrototypeOf(Derived);if(function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}(this,result)}}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var SELECTION_TYPE={NONE:null,RECTANGLE:"rectangle",POLYGON:"polygon"};exports.SELECTION_TYPE=SELECTION_TYPE;var MODE_MAP=(_defineProperty(_MODE_MAP={},SELECTION_TYPE.RECTANGLE,_editModes.DrawRectangleMode),_defineProperty(_MODE_MAP,SELECTION_TYPE.POLYGON,_editModes.DrawPolygonMode),_MODE_MAP),MODE_CONFIG_MAP=_defineProperty({},SELECTION_TYPE.RECTANGLE,{dragToDraw:!0}),defaultProps={selectionType:SELECTION_TYPE.RECTANGLE,layerIds:[],onSelect:function onSelect(){}},EMPTY_DATA={type:"FeatureCollection",features:[]},PASS_THROUGH_PROPS=["lineWidthScale","lineWidthMinPixels","lineWidthMaxPixels","lineWidthUnits","lineJointRounded","lineCapRounded","lineMiterLimit","pointRadiusScale","pointRadiusMinPixels","pointRadiusMaxPixels","lineDashJustified","getLineColor","getFillColor","getRadius","getLineWidth","getLineDashArray","getTentativeLineDashArray","getTentativeLineColor","getTentativeFillColor","getTentativeLineWidth"],SelectionLayer=function(_CompositeLayer){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SelectionLayer,_CompositeLayer);var _super=_createSuper(SelectionLayer);function SelectionLayer(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SelectionLayer),_super.apply(this,arguments)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SelectionLayer,[{key:"_selectRectangleObjects",value:function _selectRectangleObjects(coordinates){var _this$props=this.props,layerIds=_this$props.layerIds,onSelect=_this$props.onSelect,_this$context$viewpor2=_slicedToArray(this.context.viewport.project(coordinates[0][0]),2),x1=_this$context$viewpor2[0],y1=_this$context$viewpor2[1],_this$context$viewpor4=_slicedToArray(this.context.viewport.project(coordinates[0][2]),2),x2=_this$context$viewpor4[0],y2=_this$context$viewpor4[1];onSelect({pickingInfos:this.context.deck.pickObjects({x:Math.min(x1,x2),y:Math.min(y1,y2),width:Math.abs(x2-x1),height:Math.abs(y2-y1),layerIds:layerIds})})}},{key:"_selectPolygonObjects",value:function _selectPolygonObjects(coordinates){var bigPolygon,_this=this,_this$props2=this.props,layerIds=_this$props2.layerIds,onSelect=_this$props2.onSelect,mousePoints=coordinates[0].map((function(c){return _this.context.viewport.project(c)})),allX=mousePoints.map((function(mousePoint){return mousePoint[0]})),allY=mousePoints.map((function(mousePoint){return mousePoint[1]})),x=Math.min.apply(Math,_toConsumableArray(allX)),y=Math.min.apply(Math,_toConsumableArray(allY)),maxX=Math.max.apply(Math,_toConsumableArray(allX)),maxY=Math.max.apply(Math,_toConsumableArray(allY)),landPointsPoly=(0,_helpers.polygon)(coordinates),bigBuffer=(0,_buffer.default)(landPointsPoly,50);try{bigPolygon=(0,_difference.default)(bigBuffer,landPointsPoly)}catch(e){return void console.log("turfDifference() error",e)}this.setState({pendingPolygonSelection:{bigPolygon:bigPolygon}});var blockerId="".concat(this.props.id,"-").concat("selection-blocker");setTimeout((function(){var pickingInfos=_this.context.deck.pickObjects({x:x,y:y,width:maxX-x,height:maxY-y,layerIds:[blockerId].concat(_toConsumableArray(layerIds))});onSelect({pickingInfos:pickingInfos.filter((function(item){return item.layer.id!==_this.props.id}))})}),250)}},{key:"renderLayers",value:function renderLayers(){var _this2=this,pendingPolygonSelection=this.state.pendingPolygonSelection,mode=MODE_MAP[this.props.selectionType]||_editModes.ViewMode,modeConfig=MODE_CONFIG_MAP[this.props.selectionType],inheritedProps={};PASS_THROUGH_PROPS.forEach((function(p){void 0!==_this2.props[p]&&(inheritedProps[p]=_this2.props[p])}));var layers=[new _editableGeojsonLayer.default(this.getSubLayerProps(_objectSpread({id:"selection-geojson",pickable:!0,mode:mode,modeConfig:modeConfig,selectedFeatureIndexes:[],data:EMPTY_DATA,onEdit:function onEdit(_ref){var updatedData=_ref.updatedData;if("addFeature"===_ref.editType){var coordinates=updatedData.features[0].geometry.coordinates;_this2.props.selectionType===SELECTION_TYPE.RECTANGLE?_this2._selectRectangleObjects(coordinates):_this2.props.selectionType===SELECTION_TYPE.POLYGON&&_this2._selectPolygonObjects(coordinates)}}},inheritedProps)))];if(pendingPolygonSelection){var bigPolygon=pendingPolygonSelection.bigPolygon;layers.push(new _layers.PolygonLayer(this.getSubLayerProps({id:"selection-blocker",pickable:!0,stroked:!1,opacity:1,data:[bigPolygon],getLineColor:function getLineColor(obj){return[0,0,0,1]},getFillColor:function getFillColor(obj){return[0,0,0,1]},getPolygon:function getPolygon(o){return o.geometry.coordinates}})))}return layers}},{key:"shouldUpdateState",value:function shouldUpdateState(_ref2){var _ref2$changeFlags=_ref2.changeFlags,stateChanged=_ref2$changeFlags.stateChanged,propsOrDataChanged=_ref2$changeFlags.propsOrDataChanged;return stateChanged||propsOrDataChanged}}]),SelectionLayer}(_core.CompositeLayer);exports.default=SelectionLayer,_defineProperty(SelectionLayer,"layerName","SelectionLayer"),_defineProperty(SelectionLayer,"defaultProps",defaultProps)},"./node_modules/@nebula.gl/layers/dist-es6/shaderlib/outline/outline.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var INITIAL_STATE={outlineEnabled:!1,outlineRenderShadowmap:!1,outlineShadowmap:null};var _default={name:"outline",vs:"attribute float instanceZLevel;\nvarying float outline_vzLevel;\nvarying vec4 outline_vPosition;\n\n// Set the z level for the outline shadowmap rendering\nvoid outline_setZLevel(float zLevel) {\n  outline_vzLevel = zLevel;\n}\n\n// Store an adjusted position for texture2DProj\nvoid outline_setUV(vec4 position) {\n  // mat4(\n  //   0.5, 0.0, 0.0, 0.0,\n  //   0.0, 0.5, 0.0, 0.0,\n  //   0.0, 0.0, 0.5, 0.0,\n  //   0.5, 0.5, 0.5, 1.0\n  // ) * position;\n  outline_vPosition = vec4(position.xyz * 0.5 + position.w * 0.5, position.w);\n}\n",fs:"uniform bool outline_uEnabled;\nuniform bool outline_uRenderOutlines;\nuniform sampler2D outline_uShadowmap;\n\nvarying float outline_vzLevel;\n// varying vec2 outline_vUV;\nvarying vec4 outline_vPosition;\n\nconst float OUTLINE_Z_LEVEL_ERROR = 0.01;\n\n// Return a darker color in shadowmap\nvec4 outline_filterShadowColor(vec4 color) {\n  return vec4(outline_vzLevel / 255., outline_vzLevel / 255., outline_vzLevel / 255., 1.);\n}\n\n// Return a darker color if in shadowmap\nvec4 outline_filterDarkenColor(vec4 color) {\n  if (outline_uEnabled) {\n    float maxZLevel;\n    if (outline_vPosition.q > 0.0) {\n      maxZLevel = texture2DProj(outline_uShadowmap, outline_vPosition).r * 255.;\n    } else {\n      discard;\n    }\n    if (maxZLevel < outline_vzLevel + OUTLINE_Z_LEVEL_ERROR) {\n      vec4(color.rgb * 0.5, color.a);\n    } else {\n      discard;\n    }\n  }\n  return color;\n}\n\n// if enabled and rendering outlines - Render depth to shadowmap\n// if enabled and rendering colors - Return a darker color if in shadowmap\n// if disabled, just return color\nvec4 outline_filterColor(vec4 color) {\n  if (outline_uEnabled) {\n    return outline_uRenderOutlines ?\n      outline_filterShadowColor(color) :\n      outline_filterDarkenColor(color);\n  }\n  return color;\n}\n",getUniforms:function getUniforms(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:INITIAL_STATE,outlineEnabled=_ref.outlineEnabled,outlineRenderShadowmap=_ref.outlineRenderShadowmap,outlineShadowmap=_ref.outlineShadowmap,uniforms={};return void 0!==outlineEnabled&&(uniforms.outline_uEnabled=outlineEnabled),void 0!==outlineRenderShadowmap&&(uniforms.outline_uRenderOutlines=outlineRenderShadowmap),void 0!==outlineShadowmap&&(uniforms.outline_uShadowmap=outlineShadowmap),uniforms}};exports.default=_default},"./node_modules/@nebula.gl/layers/dist-es6/style.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MAX_ARROWS=exports.DEFAULT_ARROWS=exports.ArrowStyles=void 0;exports.ArrowStyles={NONE:0,FORWARD:1,BACKWARD:2,BOTH:3};exports.DEFAULT_ARROWS=1;exports.MAX_ARROWS=3},"./node_modules/@nebula.gl/layers/dist-es6/utils.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toDeckColor=function toDeckColor(color){var defaultColor=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[255,0,0,255];if(!Array.isArray(color))return defaultColor;return[255*color[0],255*color[1],255*color[2],255*color[3]]},exports.recursivelyTraverseNestedArrays=function recursivelyTraverseNestedArrays(array,prefix,fn){if(!Array.isArray(array[0]))return!0;for(var i=0;i<array.length;i++)if(recursivelyTraverseNestedArrays(array[i],[].concat(function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr=prefix)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[i]),fn)){fn(array,prefix);break}var arr;return!1},exports.generatePointsParallelToLinePoints=function generatePointsParallelToLinePoints(p1,p2,groundCoords){var lineString={type:"LineString",coordinates:[p1,p2]},pt=(0,_helpers.point)(groundCoords),ddistance=(0,_pointToLineDistance.default)(pt,lineString),lineBearing=(0,_bearing.default)(p1,p2),orthogonalBearing=(groundCoords[0]-p1[0])*(p2[1]-p1[1])-(groundCoords[1]-p1[1])*(p2[0]-p1[0])<0?lineBearing-90:lineBearing-270,p3=(0,_destination.default)(p2,ddistance,orthogonalBearing),p4=(0,_destination.default)(p1,ddistance,orthogonalBearing);return[p3.geometry.coordinates,p4.geometry.coordinates]},exports.distance2d=distance2d,exports.mix=mix,exports.nearestPointOnProjectedLine=function nearestPointOnProjectedLine(line,inPoint,viewport){var wmViewport=new _viewportMercatorProject.default(viewport),projectedCoords=line.geometry.coordinates.map((function(_ref){var _ref2=_slicedToArray(_ref,3),x=_ref2[0],y=_ref2[1],_ref2$=_ref2[2],z=void 0===_ref2$?0:_ref2$;return wmViewport.project([x,y,z])})),_wmViewport$project2=_slicedToArray(wmViewport.project(inPoint.geometry.coordinates),2),x=_wmViewport$project2[0],y=_wmViewport$project2[1],minDistance=1/0,minPointInfo={};projectedCoords.forEach((function(_ref3,index){var _ref4=_slicedToArray(_ref3,2),x2=_ref4[0],y2=_ref4[1];if(0!==index){var _projectedCoords=_slicedToArray(projectedCoords[index-1],2),x1=_projectedCoords[0],y1=_projectedCoords[1],A=y1-y2,B=x2-x1,C=x1*y2-x2*y1,div=A*A+B*B,distance=Math.abs(A*x+B*y+C)/Math.sqrt(div);distance<minDistance&&(minDistance=distance,minPointInfo={index:index,x0:(B*(B*x-A*y)-A*C)/div,y0:(A*(-B*x+A*y)-B*C)/div})}}));var _minPointInfo=minPointInfo,index=_minPointInfo.index,x0=_minPointInfo.x0,y0=_minPointInfo.y0,_projectedCoords2=_slicedToArray(projectedCoords[index-1],3),x1=_projectedCoords2[0],y1=_projectedCoords2[1],_projectedCoords2$=_projectedCoords2[2],z1=void 0===_projectedCoords2$?0:_projectedCoords2$,_projectedCoords$inde=_slicedToArray(projectedCoords[index],3),x2=_projectedCoords$inde[0],y2=_projectedCoords$inde[1],_projectedCoords$inde2=_projectedCoords$inde[2],z2=void 0===_projectedCoords$inde2?0:_projectedCoords$inde2,lineLength=distance2d(x1,y1,x2,y2),startToPointLength=distance2d(x1,y1,x0,y0),z0=mix(z1,z2,startToPointLength/lineLength);return{type:"Feature",geometry:{type:"Point",coordinates:wmViewport.unproject([x0,y0,z0])},properties:{dist:minDistance,index:index-1}}},exports.insertBefore=function insertBefore(base,insertBefore,toInsert){var at=base.indexOf(insertBefore);if(at<0)return base;return base.slice(0,at)+toInsert+base.slice(at)};var _destination=_interopRequireDefault(__webpack_require__("./node_modules/@turf/destination/dist/js/index.js")),_bearing=_interopRequireDefault(__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js")),_pointToLineDistance=_interopRequireDefault(__webpack_require__("./node_modules/@turf/point-to-line-distance/dist/js/index.js")),_helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),_viewportMercatorProject=_interopRequireDefault(__webpack_require__("./node_modules/viewport-mercator-project/module.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function distance2d(x1,y1,x2,y2){var dx=x1-x2,dy=y1-y2;return Math.sqrt(dx*dx+dy*dy)}function mix(a,b,ratio){return b*ratio+a*(1-ratio)}},"./node_modules/@turf/along/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var bearing_1=__importDefault(__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js")),destination_1=__importDefault(__webpack_require__("./node_modules/@turf/destination/dist/js/index.js")),distance_1=__importDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");exports.default=function along(line,distance,options){void 0===options&&(options={});for(var coords=invariant_1.getGeom(line).coordinates,travelled=0,i=0;i<coords.length&&!(distance>=travelled&&i===coords.length-1);i++){if(travelled>=distance){var overshot=distance-travelled;if(overshot){var direction=bearing_1.default(coords[i],coords[i-1])-180;return destination_1.default(coords[i],overshot,direction,options)}return helpers_1.point(coords[i])}travelled+=distance_1.default(coords[i],coords[i+1],options)}return helpers_1.point(coords[coords.length-1])}},"./node_modules/@turf/area/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var meta_1=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),RADIUS=6378137;function polygonArea(coords){var total=0;if(coords&&coords.length>0){total+=Math.abs(ringArea(coords[0]));for(var i=1;i<coords.length;i++)total-=Math.abs(ringArea(coords[i]))}return total}function ringArea(coords){var p1,p2,lowerIndex,middleIndex,upperIndex,i,total=0,coordsLength=coords.length;if(coordsLength>2){for(i=0;i<coordsLength;i++)i===coordsLength-2?(lowerIndex=coordsLength-2,middleIndex=coordsLength-1,upperIndex=0):i===coordsLength-1?(lowerIndex=coordsLength-1,middleIndex=0,upperIndex=1):(lowerIndex=i,middleIndex=i+1,upperIndex=i+2),p1=coords[lowerIndex],p2=coords[middleIndex],total+=(rad(coords[upperIndex][0])-rad(p1[0]))*Math.sin(rad(p2[1]));total=total*RADIUS*RADIUS/2}return total}function rad(num){return num*Math.PI/180}exports.default=function area(geojson){return meta_1.geomReduce(geojson,(function(value,geom){return value+function calculateArea(geom){var i,total=0;switch(geom.type){case"Polygon":return polygonArea(geom.coordinates);case"MultiPolygon":for(i=0;i<geom.coordinates.length;i++)total+=polygonArea(geom.coordinates[i]);return total;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(geom)}),0)}},"./node_modules/@turf/bbox-polygon/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");exports.default=function bboxPolygon(bbox,options){void 0===options&&(options={});var west=Number(bbox[0]),south=Number(bbox[1]),east=Number(bbox[2]),north=Number(bbox[3]);if(6===bbox.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var lowLeft=[west,south],topLeft=[west,north],topRight=[east,north],lowRight=[east,south];return helpers_1.polygon([[lowLeft,lowRight,topRight,topLeft,lowLeft]],options.properties,{bbox:bbox,id:options.id})}},"./node_modules/@turf/bbox/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var meta_1=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js");function bbox(geojson){var result=[1/0,1/0,-1/0,-1/0];return meta_1.coordEach(geojson,(function(coord){result[0]>coord[0]&&(result[0]=coord[0]),result[1]>coord[1]&&(result[1]=coord[1]),result[2]<coord[0]&&(result[2]=coord[0]),result[3]<coord[1]&&(result[3]=coord[1])})),result}bbox.default=bbox,exports.default=bbox},"./node_modules/@turf/bearing/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");function bearing(start,end,options){if(void 0===options&&(options={}),!0===options.final)return function calculateFinalBearing(start,end){var bear=bearing(end,start);return bear=(bear+180)%360}(start,end);var coordinates1=invariant_1.getCoord(start),coordinates2=invariant_1.getCoord(end),lon1=helpers_1.degreesToRadians(coordinates1[0]),lon2=helpers_1.degreesToRadians(coordinates2[0]),lat1=helpers_1.degreesToRadians(coordinates1[1]),lat2=helpers_1.degreesToRadians(coordinates2[1]),a=Math.sin(lon2-lon1)*Math.cos(lat2),b=Math.cos(lat1)*Math.sin(lat2)-Math.sin(lat1)*Math.cos(lat2)*Math.cos(lon2-lon1);return helpers_1.radiansToDegrees(Math.atan2(a,b))}exports.default=bearing},"./node_modules/@turf/boolean-clockwise/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");exports.default=function booleanClockwise(line){for(var prev,cur,ring=invariant_1.getCoords(line),sum=0,i=1;i<ring.length;)prev=cur||ring[0],sum+=((cur=ring[i])[0]-prev[0])*(cur[1]+prev[1]),i++;return sum>0}},"./node_modules/@turf/boolean-point-in-polygon/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");function inRing(pt,ring,ignoreBoundary){var isInside=!1;ring[0][0]===ring[ring.length-1][0]&&ring[0][1]===ring[ring.length-1][1]&&(ring=ring.slice(0,ring.length-1));for(var i=0,j=ring.length-1;i<ring.length;j=i++){var xi=ring[i][0],yi=ring[i][1],xj=ring[j][0],yj=ring[j][1];if(pt[1]*(xi-xj)+yi*(xj-pt[0])+yj*(pt[0]-xi)==0&&(xi-pt[0])*(xj-pt[0])<=0&&(yi-pt[1])*(yj-pt[1])<=0)return!ignoreBoundary;yi>pt[1]!=yj>pt[1]&&pt[0]<(xj-xi)*(pt[1]-yi)/(yj-yi)+xi&&(isInside=!isInside)}return isInside}exports.default=function booleanPointInPolygon(point,polygon,options){if(void 0===options&&(options={}),!point)throw new Error("point is required");if(!polygon)throw new Error("polygon is required");var pt=invariant_1.getCoord(point),geom=invariant_1.getGeom(polygon),type=geom.type,bbox=polygon.bbox,polys=geom.coordinates;if(bbox&&!1===function inBBox(pt,bbox){return bbox[0]<=pt[0]&&bbox[1]<=pt[1]&&bbox[2]>=pt[0]&&bbox[3]>=pt[1]}(pt,bbox))return!1;"Polygon"===type&&(polys=[polys]);for(var insidePoly=!1,i=0;i<polys.length&&!insidePoly;i++)if(inRing(pt,polys[i][0],options.ignoreBoundary)){for(var inHole=!1,k=1;k<polys[i].length&&!inHole;)inRing(pt,polys[i][k],!options.ignoreBoundary)&&(inHole=!0),k++;inHole||(insidePoly=!0)}return insidePoly}},"./node_modules/@turf/buffer/dist/js/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var center=__webpack_require__("./node_modules/@turf/center/dist/js/index.js"),turfJsts=__webpack_require__("./node_modules/turf-jsts/jsts.min.js"),meta=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),d3Geo=__webpack_require__("./node_modules/@turf/buffer/node_modules/d3-geo/index.js"),helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var center__default=_interopDefaultLegacy(center);function buffer(geojson,radius,options){var units=(options=options||{}).units||"kilometers",steps=options.steps||8;if(!geojson)throw new Error("geojson is required");if("object"!=typeof options)throw new Error("options must be an object");if("number"!=typeof steps)throw new Error("steps must be an number");if(void 0===radius)throw new Error("radius is required");if(steps<=0)throw new Error("steps must be greater than 0");var results=[];switch(geojson.type){case"GeometryCollection":return meta.geomEach(geojson,(function(geometry){var buffered=bufferFeature(geometry,radius,units,steps);buffered&&results.push(buffered)})),helpers.featureCollection(results);case"FeatureCollection":return meta.featureEach(geojson,(function(feature){var multiBuffered=bufferFeature(feature,radius,units,steps);multiBuffered&&meta.featureEach(multiBuffered,(function(buffered){buffered&&results.push(buffered)}))})),helpers.featureCollection(results)}return bufferFeature(geojson,radius,units,steps)}function bufferFeature(geojson,radius,units,steps){var properties=geojson.properties||{},geometry="Feature"===geojson.type?geojson.geometry:geojson;if("GeometryCollection"===geometry.type){var results=[];return meta.geomEach(geojson,(function(geometry){var buffered=bufferFeature(geometry,radius,units,steps);buffered&&results.push(buffered)})),helpers.featureCollection(results)}var projection=function defineProjection(geojson){var coords=center__default.default(geojson).geometry.coordinates,rotation=[-coords[0],-coords[1]];return d3Geo.geoAzimuthalEquidistant().rotate(rotation).scale(helpers.earthRadius)}(geometry),projected={type:geometry.type,coordinates:projectCoords(geometry.coordinates,projection)},geom=(new turfJsts.GeoJSONReader).read(projected),distance=helpers.radiansToLength(helpers.lengthToRadians(radius,units),"meters"),buffered=turfJsts.BufferOp.bufferOp(geom,distance,steps);if(!coordsIsNaN((buffered=(new turfJsts.GeoJSONWriter).write(buffered)).coordinates)){var result={type:buffered.type,coordinates:unprojectCoords(buffered.coordinates,projection)};return helpers.feature(result,properties)}}function coordsIsNaN(coords){return Array.isArray(coords[0])?coordsIsNaN(coords[0]):isNaN(coords[0])}function projectCoords(coords,proj){return"object"!=typeof coords[0]?proj(coords):coords.map((function(coord){return projectCoords(coord,proj)}))}function unprojectCoords(coords,proj){return"object"!=typeof coords[0]?proj.invert(coords):coords.map((function(coord){return unprojectCoords(coord,proj)}))}module.exports=buffer,module.exports.default=buffer},"./node_modules/@turf/buffer/node_modules/d3-geo/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function adder(){return new Adder}function Adder(){this.reset()}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{geoAlbers:function(){return albers},geoAlbersUsa:function(){return albersUsa},geoArea:function(){return src_area},geoAzimuthalEqualArea:function(){return azimuthalEqualArea},geoAzimuthalEqualAreaRaw:function(){return azimuthalEqualAreaRaw},geoAzimuthalEquidistant:function(){return azimuthalEquidistant},geoAzimuthalEquidistantRaw:function(){return azimuthalEquidistantRaw},geoBounds:function(){return bounds},geoCentroid:function(){return centroid},geoCircle:function(){return circle},geoClipExtent:function(){return clip_extent},geoConicConformal:function(){return conicConformal},geoConicConformalRaw:function(){return conicConformalRaw},geoConicEqualArea:function(){return conicEqualArea},geoConicEqualAreaRaw:function(){return conicEqualAreaRaw},geoConicEquidistant:function(){return conicEquidistant},geoConicEquidistantRaw:function(){return conicEquidistantRaw},geoContains:function(){return contains},geoDistance:function(){return distance},geoEquirectangular:function(){return equirectangular},geoEquirectangularRaw:function(){return equirectangularRaw},geoGnomonic:function(){return gnomonic},geoGnomonicRaw:function(){return gnomonicRaw},geoGraticule:function(){return graticule},geoGraticule10:function(){return graticule10},geoIdentity:function(){return projection_identity},geoInterpolate:function(){return interpolate},geoLength:function(){return src_length},geoMercator:function(){return mercator},geoMercatorRaw:function(){return mercatorRaw},geoNaturalEarth1:function(){return naturalEarth1},geoNaturalEarth1Raw:function(){return naturalEarth1Raw},geoOrthographic:function(){return orthographic},geoOrthographicRaw:function(){return orthographicRaw},geoPath:function(){return path},geoProjection:function(){return projection},geoProjectionMutator:function(){return projectionMutator},geoRotation:function(){return rotation},geoStereographic:function(){return stereographic},geoStereographicRaw:function(){return stereographicRaw},geoStream:function(){return stream},geoTransform:function(){return transform},geoTransverseMercator:function(){return transverseMercator},geoTransverseMercatorRaw:function(){return transverseMercatorRaw}}),Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(y){add(temp,y,this.t),add(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add(adder,a,b){var x=adder.s=a+b,bv=x-a,av=x-bv;adder.t=a-av+(b-bv)}var epsilon=1e-6,epsilon2=1e-12,pi=Math.PI,halfPi=pi/2,quarterPi=pi/4,tau=2*pi,degrees=180/pi,radians=pi/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos=Math.cos,ceil=Math.ceil,exp=Math.exp,log=(Math.floor,Math.log),pow=Math.pow,sin=Math.sin,sign=Math.sign||function(x){return x>0?1:x<0?-1:0},sqrt=Math.sqrt,tan=Math.tan;function acos(x){return x>1?0:x<-1?pi:Math.acos(x)}function asin(x){return x>1?halfPi:x<-1?-halfPi:Math.asin(x)}function haversin(x){return(x=sin(x/2))*x}function noop(){}function streamGeometry(geometry,stream){geometry&&streamGeometryType.hasOwnProperty(geometry.type)&&streamGeometryType[geometry.type](geometry,stream)}var streamObjectType={Feature:function(object,stream){streamGeometry(object.geometry,stream)},FeatureCollection:function(object,stream){for(var features=object.features,i=-1,n=features.length;++i<n;)streamGeometry(features[i].geometry,stream)}},streamGeometryType={Sphere:function(object,stream){stream.sphere()},Point:function(object,stream){object=object.coordinates,stream.point(object[0],object[1],object[2])},MultiPoint:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)object=coordinates[i],stream.point(object[0],object[1],object[2])},LineString:function(object,stream){streamLine(object.coordinates,stream,0)},MultiLineString:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamLine(coordinates[i],stream,0)},Polygon:function(object,stream){streamPolygon(object.coordinates,stream)},MultiPolygon:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamPolygon(coordinates[i],stream)},GeometryCollection:function(object,stream){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)streamGeometry(geometries[i],stream)}};function streamLine(coordinates,stream,closed){var coordinate,i=-1,n=coordinates.length-closed;for(stream.lineStart();++i<n;)coordinate=coordinates[i],stream.point(coordinate[0],coordinate[1],coordinate[2]);stream.lineEnd()}function streamPolygon(coordinates,stream){var i=-1,n=coordinates.length;for(stream.polygonStart();++i<n;)streamLine(coordinates[i],stream,1);stream.polygonEnd()}function stream(object,stream){object&&streamObjectType.hasOwnProperty(object.type)?streamObjectType[object.type](object,stream):streamGeometry(object,stream)}var lambda00,phi00,lambda0,cosPhi0,sinPhi0,areaRingSum=adder(),areaSum=adder(),areaStream={point:noop,lineStart:noop,lineEnd:noop,polygonStart:function(){areaRingSum.reset(),areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){var areaRing=+areaRingSum;areaSum.add(areaRing<0?tau+areaRing:areaRing),this.lineStart=this.lineEnd=this.point=noop},sphere:function(){areaSum.add(tau)}};function areaRingStart(){areaStream.point=areaPointFirst}function areaRingEnd(){areaPoint(lambda00,phi00)}function areaPointFirst(lambda,phi){areaStream.point=areaPoint,lambda00=lambda,phi00=phi,lambda0=lambda*=radians,cosPhi0=cos(phi=(phi*=radians)/2+quarterPi),sinPhi0=sin(phi)}function areaPoint(lambda,phi){var dLambda=(lambda*=radians)-lambda0,sdLambda=dLambda>=0?1:-1,adLambda=sdLambda*dLambda,cosPhi=cos(phi=(phi*=radians)/2+quarterPi),sinPhi=sin(phi),k=sinPhi0*sinPhi,u=cosPhi0*cosPhi+k*cos(adLambda),v=k*sdLambda*sin(adLambda);areaRingSum.add(atan2(v,u)),lambda0=lambda,cosPhi0=cosPhi,sinPhi0=sinPhi}function src_area(object){return areaSum.reset(),stream(object,areaStream),2*areaSum}function spherical(cartesian){return[atan2(cartesian[1],cartesian[0]),asin(cartesian[2])]}function cartesian(spherical){var lambda=spherical[0],phi=spherical[1],cosPhi=cos(phi);return[cosPhi*cos(lambda),cosPhi*sin(lambda),sin(phi)]}function cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function cartesianAddInPlace(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function cartesianNormalizeInPlace(d){var l=sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}var bounds_lambda0,phi0,lambda1,phi1,lambda2,bounds_lambda00,bounds_phi00,p0,ranges,bounds_range,W0,W1,X0,Y0,Z0,X1,Y1,Z1,X2,Y2,Z2,centroid_lambda00,centroid_phi00,x0,y0,z0,deltaSum=adder(),boundsStream={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream.point=boundsRingPoint,boundsStream.lineStart=boundsRingStart,boundsStream.lineEnd=boundsRingEnd,deltaSum.reset(),areaStream.polygonStart()},polygonEnd:function(){areaStream.polygonEnd(),boundsStream.point=boundsPoint,boundsStream.lineStart=boundsLineStart,boundsStream.lineEnd=boundsLineEnd,areaRingSum<0?(bounds_lambda0=-(lambda1=180),phi0=-(phi1=90)):deltaSum>epsilon?phi1=90:deltaSum<-epsilon&&(phi0=-90),bounds_range[0]=bounds_lambda0,bounds_range[1]=lambda1}};function boundsPoint(lambda,phi){ranges.push(bounds_range=[bounds_lambda0=lambda,lambda1=lambda]),phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi)}function linePoint(lambda,phi){var p=cartesian([lambda*radians,phi*radians]);if(p0){var normal=cartesianCross(p0,p),inflection=cartesianCross([normal[1],-normal[0],0],normal);cartesianNormalizeInPlace(inflection),inflection=spherical(inflection);var phii,delta=lambda-lambda2,sign=delta>0?1:-1,lambdai=inflection[0]*degrees*sign,antimeridian=abs(delta)>180;antimeridian^(sign*lambda2<lambdai&&lambdai<sign*lambda)?(phii=inflection[1]*degrees)>phi1&&(phi1=phii):antimeridian^(sign*lambda2<(lambdai=(lambdai+360)%360-180)&&lambdai<sign*lambda)?(phii=-inflection[1]*degrees)<phi0&&(phi0=phii):(phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi)),antimeridian?lambda<lambda2?angle(bounds_lambda0,lambda)>angle(bounds_lambda0,lambda1)&&(lambda1=lambda):angle(lambda,lambda1)>angle(bounds_lambda0,lambda1)&&(bounds_lambda0=lambda):lambda1>=bounds_lambda0?(lambda<bounds_lambda0&&(bounds_lambda0=lambda),lambda>lambda1&&(lambda1=lambda)):lambda>lambda2?angle(bounds_lambda0,lambda)>angle(bounds_lambda0,lambda1)&&(lambda1=lambda):angle(lambda,lambda1)>angle(bounds_lambda0,lambda1)&&(bounds_lambda0=lambda)}else ranges.push(bounds_range=[bounds_lambda0=lambda,lambda1=lambda]);phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi),p0=p,lambda2=lambda}function boundsLineStart(){boundsStream.point=linePoint}function boundsLineEnd(){bounds_range[0]=bounds_lambda0,bounds_range[1]=lambda1,boundsStream.point=boundsPoint,p0=null}function boundsRingPoint(lambda,phi){if(p0){var delta=lambda-lambda2;deltaSum.add(abs(delta)>180?delta+(delta>0?360:-360):delta)}else bounds_lambda00=lambda,bounds_phi00=phi;areaStream.point(lambda,phi),linePoint(lambda,phi)}function boundsRingStart(){areaStream.lineStart()}function boundsRingEnd(){boundsRingPoint(bounds_lambda00,bounds_phi00),areaStream.lineEnd(),abs(deltaSum)>epsilon&&(bounds_lambda0=-(lambda1=180)),bounds_range[0]=bounds_lambda0,bounds_range[1]=lambda1,p0=null}function angle(lambda0,lambda1){return(lambda1-=lambda0)<0?lambda1+360:lambda1}function rangeCompare(a,b){return a[0]-b[0]}function rangeContains(range,x){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}function bounds(feature){var i,n,a,b,merged,deltaMax,delta;if(phi1=lambda1=-(bounds_lambda0=phi0=1/0),ranges=[],stream(feature,boundsStream),n=ranges.length){for(ranges.sort(rangeCompare),i=1,merged=[a=ranges[0]];i<n;++i)rangeContains(a,(b=ranges[i])[0])||rangeContains(a,b[1])?(angle(a[0],b[1])>angle(a[0],a[1])&&(a[1]=b[1]),angle(b[0],a[1])>angle(a[0],a[1])&&(a[0]=b[0])):merged.push(a=b);for(deltaMax=-1/0,i=0,a=merged[n=merged.length-1];i<=n;a=b,++i)b=merged[i],(delta=angle(a[1],b[0]))>deltaMax&&(deltaMax=delta,bounds_lambda0=b[0],lambda1=a[1])}return ranges=bounds_range=null,bounds_lambda0===1/0||phi0===1/0?[[NaN,NaN],[NaN,NaN]]:[[bounds_lambda0,phi0],[lambda1,phi1]]}var centroidStream={sphere:noop,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd}};function centroidPoint(lambda,phi){lambda*=radians;var cosPhi=cos(phi*=radians);centroidPointCartesian(cosPhi*cos(lambda),cosPhi*sin(lambda),sin(phi))}function centroidPointCartesian(x,y,z){++W0,X0+=(x-X0)/W0,Y0+=(y-Y0)/W0,Z0+=(z-Z0)/W0}function centroidLineStart(){centroidStream.point=centroidLinePointFirst}function centroidLinePointFirst(lambda,phi){lambda*=radians;var cosPhi=cos(phi*=radians);x0=cosPhi*cos(lambda),y0=cosPhi*sin(lambda),z0=sin(phi),centroidStream.point=centroidLinePoint,centroidPointCartesian(x0,y0,z0)}function centroidLinePoint(lambda,phi){lambda*=radians;var cosPhi=cos(phi*=radians),x=cosPhi*cos(lambda),y=cosPhi*sin(lambda),z=sin(phi),w=atan2(sqrt((w=y0*z-z0*y)*w+(w=z0*x-x0*z)*w+(w=x0*y-y0*x)*w),x0*x+y0*y+z0*z);W1+=w,X1+=w*(x0+(x0=x)),Y1+=w*(y0+(y0=y)),Z1+=w*(z0+(z0=z)),centroidPointCartesian(x0,y0,z0)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(centroid_lambda00,centroid_phi00),centroidStream.point=centroidPoint}function centroidRingPointFirst(lambda,phi){centroid_lambda00=lambda,centroid_phi00=phi,lambda*=radians,phi*=radians,centroidStream.point=centroidRingPoint;var cosPhi=cos(phi);x0=cosPhi*cos(lambda),y0=cosPhi*sin(lambda),z0=sin(phi),centroidPointCartesian(x0,y0,z0)}function centroidRingPoint(lambda,phi){lambda*=radians;var cosPhi=cos(phi*=radians),x=cosPhi*cos(lambda),y=cosPhi*sin(lambda),z=sin(phi),cx=y0*z-z0*y,cy=z0*x-x0*z,cz=x0*y-y0*x,m=sqrt(cx*cx+cy*cy+cz*cz),w=asin(m),v=m&&-w/m;X2+=v*cx,Y2+=v*cy,Z2+=v*cz,W1+=w,X1+=w*(x0+(x0=x)),Y1+=w*(y0+(y0=y)),Z1+=w*(z0+(z0=z)),centroidPointCartesian(x0,y0,z0)}function centroid(object){W0=W1=X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,stream(object,centroidStream);var x=X2,y=Y2,z=Z2,m=x*x+y*y+z*z;return m<epsilon2&&(x=X1,y=Y1,z=Z1,W1<epsilon&&(x=X0,y=Y0,z=Z0),(m=x*x+y*y+z*z)<epsilon2)?[NaN,NaN]:[atan2(y,x)*degrees,asin(z/sqrt(m))*degrees]}function src_constant(x){return function(){return x}}function compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}return a.invert&&b.invert&&(compose.invert=function(x,y){return(x=b.invert(x,y))&&a.invert(x[0],x[1])}),compose}function rotationIdentity(lambda,phi){return[lambda>pi?lambda-tau:lambda<-pi?lambda+tau:lambda,phi]}function rotateRadians(deltaLambda,deltaPhi,deltaGamma){return(deltaLambda%=tau)?deltaPhi||deltaGamma?compose(rotationLambda(deltaLambda),rotationPhiGamma(deltaPhi,deltaGamma)):rotationLambda(deltaLambda):deltaPhi||deltaGamma?rotationPhiGamma(deltaPhi,deltaGamma):rotationIdentity}function forwardRotationLambda(deltaLambda){return function(lambda,phi){return[(lambda+=deltaLambda)>pi?lambda-tau:lambda<-pi?lambda+tau:lambda,phi]}}function rotationLambda(deltaLambda){var rotation=forwardRotationLambda(deltaLambda);return rotation.invert=forwardRotationLambda(-deltaLambda),rotation}function rotationPhiGamma(deltaPhi,deltaGamma){var cosDeltaPhi=cos(deltaPhi),sinDeltaPhi=sin(deltaPhi),cosDeltaGamma=cos(deltaGamma),sinDeltaGamma=sin(deltaGamma);function rotation(lambda,phi){var cosPhi=cos(phi),x=cos(lambda)*cosPhi,y=sin(lambda)*cosPhi,z=sin(phi),k=z*cosDeltaPhi+x*sinDeltaPhi;return[atan2(y*cosDeltaGamma-k*sinDeltaGamma,x*cosDeltaPhi-z*sinDeltaPhi),asin(k*cosDeltaGamma+y*sinDeltaGamma)]}return rotation.invert=function(lambda,phi){var cosPhi=cos(phi),x=cos(lambda)*cosPhi,y=sin(lambda)*cosPhi,z=sin(phi),k=z*cosDeltaGamma-y*sinDeltaGamma;return[atan2(y*cosDeltaGamma+z*sinDeltaGamma,x*cosDeltaPhi+k*sinDeltaPhi),asin(k*cosDeltaPhi-x*sinDeltaPhi)]},rotation}function rotation(rotate){function forward(coordinates){return(coordinates=rotate(coordinates[0]*radians,coordinates[1]*radians))[0]*=degrees,coordinates[1]*=degrees,coordinates}return rotate=rotateRadians(rotate[0]*radians,rotate[1]*radians,rotate.length>2?rotate[2]*radians:0),forward.invert=function(coordinates){return(coordinates=rotate.invert(coordinates[0]*radians,coordinates[1]*radians))[0]*=degrees,coordinates[1]*=degrees,coordinates},forward}function circleStream(stream,radius,delta,direction,t0,t1){if(delta){var cosRadius=cos(radius),sinRadius=sin(radius),step=direction*delta;null==t0?(t0=radius+direction*tau,t1=radius-step/2):(t0=circleRadius(cosRadius,t0),t1=circleRadius(cosRadius,t1),(direction>0?t0<t1:t0>t1)&&(t0+=direction*tau));for(var point,t=t0;direction>0?t>t1:t<t1;t-=step)point=spherical([cosRadius,-sinRadius*cos(t),-sinRadius*sin(t)]),stream.point(point[0],point[1])}}function circleRadius(cosRadius,point){(point=cartesian(point))[0]-=cosRadius,cartesianNormalizeInPlace(point);var radius=acos(-point[1]);return((-point[2]<0?-radius:radius)+tau-epsilon)%tau}function circle(){var ring,rotate,center=src_constant([0,0]),radius=src_constant(90),precision=src_constant(6),stream={point:function point(x,y){ring.push(x=rotate(x,y)),x[0]*=degrees,x[1]*=degrees}};function circle(){var c=center.apply(this,arguments),r=radius.apply(this,arguments)*radians,p=precision.apply(this,arguments)*radians;return ring=[],rotate=rotateRadians(-c[0]*radians,-c[1]*radians,0).invert,circleStream(stream,r,p,1),c={type:"Polygon",coordinates:[ring]},ring=rotate=null,c}return circle.center=function(_){return arguments.length?(center="function"==typeof _?_:src_constant([+_[0],+_[1]]),circle):center},circle.radius=function(_){return arguments.length?(radius="function"==typeof _?_:src_constant(+_),circle):radius},circle.precision=function(_){return arguments.length?(precision="function"==typeof _?_:src_constant(+_),circle):precision},circle}function buffer(){var line,lines=[];return{point:function(x,y){line.push([x,y])},lineStart:function(){lines.push(line=[])},lineEnd:noop,rejoin:function(){lines.length>1&&lines.push(lines.pop().concat(lines.shift()))},result:function(){var result=lines;return lines=[],line=null,result}}}function pointEqual(a,b){return abs(a[0]-b[0])<epsilon&&abs(a[1]-b[1])<epsilon}function Intersection(point,points,other,entry){this.x=point,this.z=points,this.o=other,this.e=entry,this.v=!1,this.n=this.p=null}function clip_polygon(segments,compareIntersection,startInside,interpolate,stream){var i,n,subject=[],clip=[];if(segments.forEach((function(segment){if(!((n=segment.length-1)<=0)){var n,x,p0=segment[0],p1=segment[n];if(pointEqual(p0,p1)){for(stream.lineStart(),i=0;i<n;++i)stream.point((p0=segment[i])[0],p0[1]);stream.lineEnd()}else subject.push(x=new Intersection(p0,segment,null,!0)),clip.push(x.o=new Intersection(p0,null,x,!1)),subject.push(x=new Intersection(p1,segment,null,!1)),clip.push(x.o=new Intersection(p1,null,x,!0))}})),subject.length){for(clip.sort(compareIntersection),polygon_link(subject),polygon_link(clip),i=0,n=clip.length;i<n;++i)clip[i].e=startInside=!startInside;for(var points,point,start=subject[0];;){for(var current=start,isSubject=!0;current.v;)if((current=current.n)===start)return;points=current.z,stream.lineStart();do{if(current.v=current.o.v=!0,current.e){if(isSubject)for(i=0,n=points.length;i<n;++i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.n.x,1,stream);current=current.n}else{if(isSubject)for(points=current.p.z,i=points.length-1;i>=0;--i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.p.x,-1,stream);current=current.p}points=(current=current.o).z,isSubject=!isSubject}while(!current.v);stream.lineEnd()}}}function polygon_link(array){if(n=array.length){for(var n,b,i=0,a=array[0];++i<n;)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0],b.p=a}}function src_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}rotationIdentity.invert=rotationIdentity;var ascendingBisect=function bisector(compare){return 1===compare.length&&(compare=function ascendingComparator(f){return function(d,x){return src_ascending(f(d),x)}}(compare)),{left:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}(src_ascending),array=(ascendingBisect.right,ascendingBisect.left,Array.prototype);array.slice,array.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function merge(arrays){for(var m,merged,array,n=arrays.length,i=-1,j=0;++i<n;)j+=arrays[i].length;for(merged=new Array(j);--n>=0;)for(m=(array=arrays[n]).length;--m>=0;)merged[--j]=array[m];return merged}function src_range(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range}var clipMax=1e9,clipMin=-clipMax;function clipExtent(x0,y0,x1,y1){function visible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function interpolate(from,to,direction,stream){var a=0,a1=0;if(null==from||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoint(from,to)<0^direction>0)do{stream.point(0===a||3===a?x0:x1,a>1?y1:y0)}while((a=(a+direction+4)%4)!==a1);else stream.point(to[0],to[1])}function corner(p,direction){return abs(p[0]-x0)<epsilon?direction>0?0:3:abs(p[0]-x1)<epsilon?direction>0?2:1:abs(p[1]-y0)<epsilon?direction>0?1:0:direction>0?3:2}function compareIntersection(a,b){return comparePoint(a.x,b.x)}function comparePoint(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:0===ca?b[1]-a[1]:1===ca?a[0]-b[0]:2===ca?a[1]-b[1]:b[0]-a[0]}return function(stream){var segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean,activeStream=stream,bufferStream=buffer(),clipStream={point:point,lineStart:function lineStart(){clipStream.point=linePoint,polygon&&polygon.push(ring=[]);first=!0,v_=!1,x_=y_=NaN},lineEnd:function lineEnd(){segments&&(linePoint(x__,y__),v__&&v_&&bufferStream.rejoin(),segments.push(bufferStream.result()));clipStream.point=point,v_&&activeStream.lineEnd()},polygonStart:function polygonStart(){activeStream=bufferStream,segments=[],polygon=[],clean=!0},polygonEnd:function polygonEnd(){var startInside=function polygonInside(){for(var winding=0,i=0,n=polygon.length;i<n;++i)for(var a0,a1,ring=polygon[i],j=1,m=ring.length,point=ring[0],b0=point[0],b1=point[1];j<m;++j)a0=b0,a1=b1,b0=(point=ring[j])[0],b1=point[1],a1<=y1?b1>y1&&(b0-a0)*(y1-a1)>(b1-a1)*(x0-a0)&&++winding:b1<=y1&&(b0-a0)*(y1-a1)<(b1-a1)*(x0-a0)&&--winding;return winding}(),cleanInside=clean&&startInside,visible=(segments=merge(segments)).length;(cleanInside||visible)&&(stream.polygonStart(),cleanInside&&(stream.lineStart(),interpolate(null,null,1,stream),stream.lineEnd()),visible&&clip_polygon(segments,compareIntersection,startInside,interpolate,stream),stream.polygonEnd());activeStream=stream,segments=polygon=ring=null}};function point(x,y){visible(x,y)&&activeStream.point(x,y)}function linePoint(x,y){var v=visible(x,y);if(polygon&&ring.push([x,y]),first)x__=x,y__=y,v__=v,first=!1,v&&(activeStream.lineStart(),activeStream.point(x,y));else if(v&&v_)activeStream.point(x,y);else{var a=[x_=Math.max(clipMin,Math.min(clipMax,x_)),y_=Math.max(clipMin,Math.min(clipMax,y_))],b=[x=Math.max(clipMin,Math.min(clipMax,x)),y=Math.max(clipMin,Math.min(clipMax,y))];!function line(a,b,x0,y0,x1,y1){var r,ax=a[0],ay=a[1],t0=0,t1=1,dx=b[0]-ax,dy=b[1]-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(r<0)){if(r/=dx,dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(r<0)){if(r/=dy,dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return t0>0&&(a[0]=ax+t0*dx,a[1]=ay+t0*dy),t1<1&&(b[0]=ax+t1*dx,b[1]=ay+t1*dy),!0}}}}}(a,b,x0,y0,x1,y1)?v&&(activeStream.lineStart(),activeStream.point(x,y),clean=!1):(v_||(activeStream.lineStart(),activeStream.point(a[0],a[1])),activeStream.point(b[0],b[1]),v||activeStream.lineEnd(),clean=!1)}x_=x,y_=y,v_=v}return clipStream}}function clip_extent(){var cache,cacheStream,clip,x0=0,y0=0,x1=960,y1=500;return clip={stream:function(stream){return cache&&cacheStream===stream?cache:cache=clipExtent(x0,y0,x1,y1)(cacheStream=stream)},extent:function(_){return arguments.length?(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1],cache=cacheStream=null,clip):[[x0,y0],[x1,y1]]}}}var sum=adder();function polygonContains(polygon,point){var lambda=point[0],phi=point[1],normal=[sin(lambda),-cos(lambda),0],angle=0,winding=0;sum.reset();for(var i=0,n=polygon.length;i<n;++i)if(m=(ring=polygon[i]).length)for(var ring,m,point0=ring[m-1],lambda0=point0[0],phi0=point0[1]/2+quarterPi,sinPhi0=sin(phi0),cosPhi0=cos(phi0),j=0;j<m;++j,lambda0=lambda1,sinPhi0=sinPhi1,cosPhi0=cosPhi1,point0=point1){var point1=ring[j],lambda1=point1[0],phi1=point1[1]/2+quarterPi,sinPhi1=sin(phi1),cosPhi1=cos(phi1),delta=lambda1-lambda0,sign=delta>=0?1:-1,absDelta=sign*delta,antimeridian=absDelta>pi,k=sinPhi0*sinPhi1;if(sum.add(atan2(k*sign*sin(absDelta),cosPhi0*cosPhi1+k*cos(absDelta))),angle+=antimeridian?delta+sign*tau:delta,antimeridian^lambda0>=lambda^lambda1>=lambda){var arc=cartesianCross(cartesian(point0),cartesian(point1));cartesianNormalizeInPlace(arc);var intersection=cartesianCross(normal,arc);cartesianNormalizeInPlace(intersection);var phiArc=(antimeridian^delta>=0?-1:1)*asin(intersection[2]);(phi>phiArc||phi===phiArc&&(arc[0]||arc[1]))&&(winding+=antimeridian^delta>=0?1:-1)}}return(angle<-epsilon||angle<epsilon&&sum<-epsilon)^1&winding}var length_lambda0,length_sinPhi0,length_cosPhi0,lengthSum=adder(),lengthStream={sphere:noop,point:noop,lineStart:function lengthLineStart(){lengthStream.point=lengthPointFirst,lengthStream.lineEnd=lengthLineEnd},lineEnd:noop,polygonStart:noop,polygonEnd:noop};function lengthLineEnd(){lengthStream.point=lengthStream.lineEnd=noop}function lengthPointFirst(lambda,phi){length_lambda0=lambda*=radians,length_sinPhi0=sin(phi*=radians),length_cosPhi0=cos(phi),lengthStream.point=lengthPoint}function lengthPoint(lambda,phi){lambda*=radians;var sinPhi=sin(phi*=radians),cosPhi=cos(phi),delta=abs(lambda-length_lambda0),cosDelta=cos(delta),x=cosPhi*sin(delta),y=length_cosPhi0*sinPhi-length_sinPhi0*cosPhi*cosDelta,z=length_sinPhi0*sinPhi+length_cosPhi0*cosPhi*cosDelta;lengthSum.add(atan2(sqrt(x*x+y*y),z)),length_lambda0=lambda,length_sinPhi0=sinPhi,length_cosPhi0=cosPhi}function src_length(object){return lengthSum.reset(),stream(object,lengthStream),+lengthSum}var coordinates=[null,null],object={type:"LineString",coordinates:coordinates};function distance(a,b){return coordinates[0]=a,coordinates[1]=b,src_length(object)}var containsObjectType={Feature:function(object,point){return containsGeometry(object.geometry,point)},FeatureCollection:function(object,point){for(var features=object.features,i=-1,n=features.length;++i<n;)if(containsGeometry(features[i].geometry,point))return!0;return!1}},containsGeometryType={Sphere:function(){return!0},Point:function(object,point){return containsPoint(object.coordinates,point)},MultiPoint:function(object,point){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)if(containsPoint(coordinates[i],point))return!0;return!1},LineString:function(object,point){return containsLine(object.coordinates,point)},MultiLineString:function(object,point){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)if(containsLine(coordinates[i],point))return!0;return!1},Polygon:function(object,point){return containsPolygon(object.coordinates,point)},MultiPolygon:function(object,point){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)if(containsPolygon(coordinates[i],point))return!0;return!1},GeometryCollection:function(object,point){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)if(containsGeometry(geometries[i],point))return!0;return!1}};function containsGeometry(geometry,point){return!(!geometry||!containsGeometryType.hasOwnProperty(geometry.type))&&containsGeometryType[geometry.type](geometry,point)}function containsPoint(coordinates,point){return 0===distance(coordinates,point)}function containsLine(coordinates,point){var ab=distance(coordinates[0],coordinates[1]);return distance(coordinates[0],point)+distance(point,coordinates[1])<=ab+epsilon}function containsPolygon(coordinates,point){return!!polygonContains(coordinates.map(ringRadians),pointRadians(point))}function ringRadians(ring){return(ring=ring.map(pointRadians)).pop(),ring}function pointRadians(point){return[point[0]*radians,point[1]*radians]}function contains(object,point){return(object&&containsObjectType.hasOwnProperty(object.type)?containsObjectType[object.type]:containsGeometry)(object,point)}function graticuleX(y0,y1,dy){var y=src_range(y0,y1-epsilon,dy).concat(y1);return function(x){return y.map((function(y){return[x,y]}))}}function graticuleY(x0,x1,dx){var x=src_range(x0,x1-epsilon,dx).concat(x1);return function(y){return x.map((function(x){return[x,y]}))}}function graticule(){var x1,x0,X1,X0,y1,y0,Y1,Y0,x,y,X,Y,dx=10,dy=dx,DX=90,DY=360,precision=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return src_range(ceil(X0/DX)*DX,X1,DX).map(X).concat(src_range(ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(src_range(ceil(x0/dx)*dx,x1,dx).filter((function(x){return abs(x%DX)>epsilon})).map(x)).concat(src_range(ceil(y0/dy)*dy,y1,dy).filter((function(y){return abs(y%DY)>epsilon})).map(y))}return graticule.lines=function(){return lines().map((function(coordinates){return{type:"LineString",coordinates:coordinates}}))},graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}},graticule.extent=function(_){return arguments.length?graticule.extentMajor(_).extentMinor(_):graticule.extentMinor()},graticule.extentMajor=function(_){return arguments.length?(X0=+_[0][0],X1=+_[1][0],Y0=+_[0][1],Y1=+_[1][1],X0>X1&&(_=X0,X0=X1,X1=_),Y0>Y1&&(_=Y0,Y0=Y1,Y1=_),graticule.precision(precision)):[[X0,Y0],[X1,Y1]]},graticule.extentMinor=function(_){return arguments.length?(x0=+_[0][0],x1=+_[1][0],y0=+_[0][1],y1=+_[1][1],x0>x1&&(_=x0,x0=x1,x1=_),y0>y1&&(_=y0,y0=y1,y1=_),graticule.precision(precision)):[[x0,y0],[x1,y1]]},graticule.step=function(_){return arguments.length?graticule.stepMajor(_).stepMinor(_):graticule.stepMinor()},graticule.stepMajor=function(_){return arguments.length?(DX=+_[0],DY=+_[1],graticule):[DX,DY]},graticule.stepMinor=function(_){return arguments.length?(dx=+_[0],dy=+_[1],graticule):[dx,dy]},graticule.precision=function(_){return arguments.length?(precision=+_,x=graticuleX(y0,y1,90),y=graticuleY(x0,x1,precision),X=graticuleX(Y0,Y1,90),Y=graticuleY(X0,X1,precision),graticule):precision},graticule.extentMajor([[-180,-90+epsilon],[180,90-epsilon]]).extentMinor([[-180,-80-epsilon],[180,80+epsilon]])}function graticule10(){return graticule()()}function interpolate(a,b){var x0=a[0]*radians,y0=a[1]*radians,x1=b[0]*radians,y1=b[1]*radians,cy0=cos(y0),sy0=sin(y0),cy1=cos(y1),sy1=sin(y1),kx0=cy0*cos(x0),ky0=cy0*sin(x0),kx1=cy1*cos(x1),ky1=cy1*sin(x1),d=2*asin(sqrt(haversin(y1-y0)+cy0*cy1*haversin(x1-x0))),k=sin(d),interpolate=d?function(t){var B=sin(t*=d)/k,A=sin(d-t)/k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[atan2(y,x)*degrees,atan2(z,sqrt(x*x+y*y))*degrees]}:function(){return[x0*degrees,y0*degrees]};return interpolate.distance=d,interpolate}function src_identity(x){return x}var x00,y00,area_x0,area_y0,area_areaSum=adder(),area_areaRingSum=adder(),area_areaStream={point:noop,lineStart:noop,lineEnd:noop,polygonStart:function(){area_areaStream.lineStart=area_areaRingStart,area_areaStream.lineEnd=area_areaRingEnd},polygonEnd:function(){area_areaStream.lineStart=area_areaStream.lineEnd=area_areaStream.point=noop,area_areaSum.add(abs(area_areaRingSum)),area_areaRingSum.reset()},result:function(){var area=area_areaSum/2;return area_areaSum.reset(),area}};function area_areaRingStart(){area_areaStream.point=area_areaPointFirst}function area_areaPointFirst(x,y){area_areaStream.point=area_areaPoint,x00=area_x0=x,y00=area_y0=y}function area_areaPoint(x,y){area_areaRingSum.add(area_y0*x-area_x0*y),area_x0=x,area_y0=y}function area_areaRingEnd(){area_areaPoint(x00,y00)}var path_area=area_areaStream,bounds_x0=1/0,bounds_y0=bounds_x0,x1=-bounds_x0,y1=x1,bounds_boundsStream={point:function bounds_boundsPoint(x,y){x<bounds_x0&&(bounds_x0=x);x>x1&&(x1=x);y<bounds_y0&&(bounds_y0=y);y>y1&&(y1=y)},lineStart:noop,lineEnd:noop,polygonStart:noop,polygonEnd:noop,result:function(){var bounds=[[bounds_x0,bounds_y0],[x1,y1]];return x1=y1=-(bounds_y0=bounds_x0=1/0),bounds}};var centroid_x00,centroid_y00,centroid_x0,centroid_y0,path_bounds=bounds_boundsStream,centroid_X0=0,centroid_Y0=0,centroid_Z0=0,centroid_X1=0,centroid_Y1=0,centroid_Z1=0,centroid_X2=0,centroid_Y2=0,centroid_Z2=0,centroid_centroidStream={point:centroid_centroidPoint,lineStart:centroid_centroidLineStart,lineEnd:centroid_centroidLineEnd,polygonStart:function(){centroid_centroidStream.lineStart=centroid_centroidRingStart,centroid_centroidStream.lineEnd=centroid_centroidRingEnd},polygonEnd:function(){centroid_centroidStream.point=centroid_centroidPoint,centroid_centroidStream.lineStart=centroid_centroidLineStart,centroid_centroidStream.lineEnd=centroid_centroidLineEnd},result:function(){var centroid=centroid_Z2?[centroid_X2/centroid_Z2,centroid_Y2/centroid_Z2]:centroid_Z1?[centroid_X1/centroid_Z1,centroid_Y1/centroid_Z1]:centroid_Z0?[centroid_X0/centroid_Z0,centroid_Y0/centroid_Z0]:[NaN,NaN];return centroid_X0=centroid_Y0=centroid_Z0=centroid_X1=centroid_Y1=centroid_Z1=centroid_X2=centroid_Y2=centroid_Z2=0,centroid}};function centroid_centroidPoint(x,y){centroid_X0+=x,centroid_Y0+=y,++centroid_Z0}function centroid_centroidLineStart(){centroid_centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(x,y){centroid_centroidStream.point=centroidPointLine,centroid_centroidPoint(centroid_x0=x,centroid_y0=y)}function centroidPointLine(x,y){var dx=x-centroid_x0,dy=y-centroid_y0,z=sqrt(dx*dx+dy*dy);centroid_X1+=z*(centroid_x0+x)/2,centroid_Y1+=z*(centroid_y0+y)/2,centroid_Z1+=z,centroid_centroidPoint(centroid_x0=x,centroid_y0=y)}function centroid_centroidLineEnd(){centroid_centroidStream.point=centroid_centroidPoint}function centroid_centroidRingStart(){centroid_centroidStream.point=centroidPointFirstRing}function centroid_centroidRingEnd(){centroidPointRing(centroid_x00,centroid_y00)}function centroidPointFirstRing(x,y){centroid_centroidStream.point=centroidPointRing,centroid_centroidPoint(centroid_x00=centroid_x0=x,centroid_y00=centroid_y0=y)}function centroidPointRing(x,y){var dx=x-centroid_x0,dy=y-centroid_y0,z=sqrt(dx*dx+dy*dy);centroid_X1+=z*(centroid_x0+x)/2,centroid_Y1+=z*(centroid_y0+y)/2,centroid_Z1+=z,centroid_X2+=(z=centroid_y0*x-centroid_x0*y)*(centroid_x0+x),centroid_Y2+=z*(centroid_y0+y),centroid_Z2+=3*z,centroid_centroidPoint(centroid_x0=x,centroid_y0=y)}var path_centroid=centroid_centroidStream;function PathContext(context){this._context=context}PathContext.prototype={_radius:4.5,pointRadius:function(_){return this._radius=_,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(x,y){switch(this._point){case 0:this._context.moveTo(x,y),this._point=1;break;case 1:this._context.lineTo(x,y);break;default:this._context.moveTo(x+this._radius,y),this._context.arc(x,y,this._radius,0,tau)}},result:noop};var lengthRing,measure_x00,measure_y00,measure_x0,measure_y0,measure_lengthSum=adder(),measure_lengthStream={point:noop,lineStart:function(){measure_lengthStream.point=measure_lengthPointFirst},lineEnd:function(){lengthRing&&measure_lengthPoint(measure_x00,measure_y00),measure_lengthStream.point=noop},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var length=+measure_lengthSum;return measure_lengthSum.reset(),length}};function measure_lengthPointFirst(x,y){measure_lengthStream.point=measure_lengthPoint,measure_x00=measure_x0=x,measure_y00=measure_y0=y}function measure_lengthPoint(x,y){measure_x0-=x,measure_y0-=y,measure_lengthSum.add(sqrt(measure_x0*measure_x0+measure_y0*measure_y0)),measure_x0=x,measure_y0=y}var measure=measure_lengthStream;function PathString(){this._string=[]}function string_circle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}function path(projection,context){var projectionStream,contextStream,pointRadius=4.5;function path(object){return object&&("function"==typeof pointRadius&&contextStream.pointRadius(+pointRadius.apply(this,arguments)),stream(object,projectionStream(contextStream))),contextStream.result()}return path.area=function(object){return stream(object,projectionStream(path_area)),path_area.result()},path.measure=function(object){return stream(object,projectionStream(measure)),measure.result()},path.bounds=function(object){return stream(object,projectionStream(path_bounds)),path_bounds.result()},path.centroid=function(object){return stream(object,projectionStream(path_centroid)),path_centroid.result()},path.projection=function(_){return arguments.length?(projectionStream=null==_?(projection=null,src_identity):(projection=_).stream,path):projection},path.context=function(_){return arguments.length?(contextStream=null==_?(context=null,new PathString):new PathContext(context=_),"function"!=typeof pointRadius&&contextStream.pointRadius(pointRadius),path):context},path.pointRadius=function(_){return arguments.length?(pointRadius="function"==typeof _?_:(contextStream.pointRadius(+_),+_),path):pointRadius},path.projection(projection).context(context)}function clip(pointVisible,clipLine,interpolate,start){return function(rotate,sink){var polygon,segments,ring,line=clipLine(sink),rotatedStart=rotate.invert(start[0],start[1]),ringBuffer=buffer(),ringSink=clipLine(ringBuffer),polygonStarted=!1,clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing,clip.lineStart=ringStart,clip.lineEnd=ringEnd,segments=[],polygon=[]},polygonEnd:function(){clip.point=point,clip.lineStart=lineStart,clip.lineEnd=lineEnd,segments=merge(segments);var startInside=polygonContains(polygon,rotatedStart);segments.length?(polygonStarted||(sink.polygonStart(),polygonStarted=!0),clip_polygon(segments,compareIntersection,startInside,interpolate,sink)):startInside&&(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd()),polygonStarted&&(sink.polygonEnd(),polygonStarted=!1),segments=polygon=null},sphere:function(){sink.polygonStart(),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd(),sink.polygonEnd()}};function point(lambda,phi){var point=rotate(lambda,phi);pointVisible(lambda=point[0],phi=point[1])&&sink.point(lambda,phi)}function pointLine(lambda,phi){var point=rotate(lambda,phi);line.point(point[0],point[1])}function lineStart(){clip.point=pointLine,line.lineStart()}function lineEnd(){clip.point=point,line.lineEnd()}function pointRing(lambda,phi){ring.push([lambda,phi]);var point=rotate(lambda,phi);ringSink.point(point[0],point[1])}function ringStart(){ringSink.lineStart(),ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]),ringSink.lineEnd();var i,m,segment,point,clean=ringSink.clean(),ringSegments=ringBuffer.result(),n=ringSegments.length;if(ring.pop(),polygon.push(ring),ring=null,n)if(1&clean){if((m=(segment=ringSegments[0]).length-1)>0){for(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),i=0;i<m;++i)sink.point((point=segment[i])[0],point[1]);sink.lineEnd()}}else n>1&&2&clean&&ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(validSegment))}return clip}}function validSegment(segment){return segment.length>1}function compareIntersection(a,b){return((a=a.x)[0]<0?a[1]-halfPi-epsilon:halfPi-a[1])-((b=b.x)[0]<0?b[1]-halfPi-epsilon:halfPi-b[1])}PathString.prototype={_radius:4.5,_circle:string_circle(4.5),pointRadius:function(_){return(_=+_)!==this._radius&&(this._radius=_,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(x,y){switch(this._point){case 0:this._string.push("M",x,",",y),this._point=1;break;case 1:this._string.push("L",x,",",y);break;default:null==this._circle&&(this._circle=string_circle(this._radius)),this._string.push("M",x,",",y,this._circle)}},result:function(){if(this._string.length){var result=this._string.join("");return this._string=[],result}return null}};var antimeridian=clip((function(){return!0}),(function clipAntimeridianLine(stream){var clean,lambda0=NaN,phi0=NaN,sign0=NaN;return{lineStart:function(){stream.lineStart(),clean=1},point:function(lambda1,phi1){var sign1=lambda1>0?pi:-pi,delta=abs(lambda1-lambda0);abs(delta-pi)<epsilon?(stream.point(lambda0,phi0=(phi0+phi1)/2>0?halfPi:-halfPi),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),stream.point(lambda1,phi0),clean=0):sign0!==sign1&&delta>=pi&&(abs(lambda0-sign0)<epsilon&&(lambda0-=sign0*epsilon),abs(lambda1-sign1)<epsilon&&(lambda1-=sign1*epsilon),phi0=function clipAntimeridianIntersect(lambda0,phi0,lambda1,phi1){var cosPhi0,cosPhi1,sinLambda0Lambda1=sin(lambda0-lambda1);return abs(sinLambda0Lambda1)>epsilon?atan((sin(phi0)*(cosPhi1=cos(phi1))*sin(lambda1)-sin(phi1)*(cosPhi0=cos(phi0))*sin(lambda0))/(cosPhi0*cosPhi1*sinLambda0Lambda1)):(phi0+phi1)/2}(lambda0,phi0,lambda1,phi1),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),clean=0),stream.point(lambda0=lambda1,phi0=phi1),sign0=sign1},lineEnd:function(){stream.lineEnd(),lambda0=phi0=NaN},clean:function(){return 2-clean}}}),(function clipAntimeridianInterpolate(from,to,direction,stream){var phi;if(null==from)phi=direction*halfPi,stream.point(-pi,phi),stream.point(0,phi),stream.point(pi,phi),stream.point(pi,0),stream.point(pi,-phi),stream.point(0,-phi),stream.point(-pi,-phi),stream.point(-pi,0),stream.point(-pi,phi);else if(abs(from[0]-to[0])>epsilon){var lambda=from[0]<to[0]?pi:-pi;phi=direction*lambda/2,stream.point(-lambda,phi),stream.point(0,phi),stream.point(lambda,phi)}else stream.point(to[0],to[1])}),[-pi,-halfPi]);function transform(methods){return{stream:transformer(methods)}}function transformer(methods){return function(stream){var s=new TransformStream;for(var key in methods)s[key]=methods[key];return s.stream=stream,s}}function TransformStream(){}function fitExtent(projection,extent,object){var w=extent[1][0]-extent[0][0],h=extent[1][1]-extent[0][1],clip=projection.clipExtent&&projection.clipExtent();projection.scale(150).translate([0,0]),null!=clip&&projection.clipExtent(null),stream(object,projection.stream(path_bounds));var b=path_bounds.result(),k=Math.min(w/(b[1][0]-b[0][0]),h/(b[1][1]-b[0][1])),x=+extent[0][0]+(w-k*(b[1][0]+b[0][0]))/2,y=+extent[0][1]+(h-k*(b[1][1]+b[0][1]))/2;return null!=clip&&projection.clipExtent(clip),projection.scale(150*k).translate([x,y])}function fitSize(projection,size,object){return fitExtent(projection,[[0,0],size],object)}TransformStream.prototype={constructor:TransformStream,point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var maxDepth=16,cosMinDistance=cos(30*radians);function resample(project,delta2){return+delta2?function resample_resample(project,delta2){function resampleLineTo(x0,y0,lambda0,a0,b0,c0,x1,y1,lambda1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*delta2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=sqrt(a*a+b*b+c*c),phi2=asin(c/=m),lambda2=abs(abs(c)-1)<epsilon||abs(lambda0-lambda1)<epsilon?(lambda0+lambda1)/2:atan2(b,a),p=project(lambda2,phi2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;(dz*dz/d2>delta2||abs((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance)&&(resampleLineTo(x0,y0,lambda0,a0,b0,c0,x2,y2,lambda2,a/=m,b/=m,c,depth,stream),stream.point(x2,y2),resampleLineTo(x2,y2,lambda2,a,b,c,x1,y1,lambda1,a1,b1,c1,depth,stream))}}return function(stream){var lambda00,x00,y00,a00,b00,c00,lambda0,x0,y0,a0,b0,c0,resampleStream={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart(),resampleStream.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd(),resampleStream.lineStart=lineStart}};function point(x,y){x=project(x,y),stream.point(x[0],x[1])}function lineStart(){x0=NaN,resampleStream.point=linePoint,stream.lineStart()}function linePoint(lambda,phi){var c=cartesian([lambda,phi]),p=project(lambda,phi);resampleLineTo(x0,y0,lambda0,a0,b0,c0,x0=p[0],y0=p[1],lambda0=lambda,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream),stream.point(x0,y0)}function lineEnd(){resampleStream.point=point,stream.lineEnd()}function ringStart(){lineStart(),resampleStream.point=ringPoint,resampleStream.lineEnd=ringEnd}function ringPoint(lambda,phi){linePoint(lambda00=lambda,phi),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0,resampleStream.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,lambda0,a0,b0,c0,x00,y00,lambda00,a00,b00,c00,maxDepth,stream),resampleStream.lineEnd=lineEnd,lineEnd()}return resampleStream}}(project,delta2):function resampleNone(project){return transformer({point:function(x,y){x=project(x,y),this.stream.point(x[0],x[1])}})}(project)}var transformRadians=transformer({point:function(x,y){this.stream.point(x*radians,y*radians)}});function projection(project){return projectionMutator((function(){return project}))()}function projectionMutator(projectAt){var project,dx,dy,rotate,projectRotate,y0,x1,y1,cache,cacheStream,k=150,x=480,y=250,lambda=0,phi=0,deltaLambda=0,deltaPhi=0,deltaGamma=0,theta=null,preclip=antimeridian,x0=null,postclip=src_identity,delta2=.5,projectResample=resample(projectTransform,delta2);function projection(point){return[(point=projectRotate(point[0]*radians,point[1]*radians))[0]*k+dx,dy-point[1]*k]}function invert(point){return(point=projectRotate.invert((point[0]-dx)/k,(dy-point[1])/k))&&[point[0]*degrees,point[1]*degrees]}function projectTransform(x,y){return[(x=project(x,y))[0]*k+dx,dy-x[1]*k]}function recenter(){projectRotate=compose(rotate=rotateRadians(deltaLambda,deltaPhi,deltaGamma),project);var center=project(lambda,phi);return dx=x-center[0]*k,dy=y+center[1]*k,reset()}function reset(){return cache=cacheStream=null,projection}return projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transformRadians(preclip(rotate,projectResample(postclip(cacheStream=stream))))},projection.clipAngle=function(_){return arguments.length?(preclip=+_?function clip_circle(radius,delta){var cr=cos(radius),smallRadius=cr>0,notHemisphere=abs(cr)>epsilon;function visible(lambda,phi){return cos(lambda)*cos(phi)>cr}function intersect(a,b,two){var n1=[1,0,0],n2=cartesianCross(cartesian(a),cartesian(b)),n2n2=cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=cartesianCross(n1,n2),A=cartesianScale(n1,c1);cartesianAddInPlace(A,cartesianScale(n2,c2));var u=n1xn2,w=cartesianDot(A,u),uu=cartesianDot(u,u),t2=w*w-uu*(cartesianDot(A,A)-1);if(!(t2<0)){var t=sqrt(t2),q=cartesianScale(u,(-w-t)/uu);if(cartesianAddInPlace(q,A),q=spherical(q),!two)return q;var z,lambda0=a[0],lambda1=b[0],phi0=a[1],phi1=b[1];lambda1<lambda0&&(z=lambda0,lambda0=lambda1,lambda1=z);var delta=lambda1-lambda0,polar=abs(delta-pi)<epsilon;if(!polar&&phi1<phi0&&(z=phi0,phi0=phi1,phi1=z),polar||delta<epsilon?polar?phi0+phi1>0^q[1]<(abs(q[0]-lambda0)<epsilon?phi0:phi1):phi0<=q[1]&&q[1]<=phi1:delta>pi^(lambda0<=q[0]&&q[0]<=lambda1)){var q1=cartesianScale(u,(-w+t)/uu);return cartesianAddInPlace(q1,A),[q,spherical(q1)]}}}function code(lambda,phi){var r=smallRadius?radius:pi-radius,code=0;return lambda<-r?code|=1:lambda>r&&(code|=2),phi<-r?code|=4:phi>r&&(code|=8),code}return clip(visible,(function clipLine(stream){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=!1,clean=1},point:function(lambda,phi){var point2,point1=[lambda,phi],v=visible(lambda,phi),c=smallRadius?v?0:code(lambda,phi):v?code(lambda+(lambda<0?pi:-pi),phi):0;if(!point0&&(v00=v0=v)&&stream.lineStart(),v!==v0&&(!(point2=intersect(point0,point1))||pointEqual(point0,point2)||pointEqual(point1,point2))&&(point1[0]+=epsilon,point1[1]+=epsilon,v=visible(point1[0],point1[1])),v!==v0)clean=0,v?(stream.lineStart(),point2=intersect(point1,point0),stream.point(point2[0],point2[1])):(point2=intersect(point0,point1),stream.point(point2[0],point2[1]),stream.lineEnd()),point0=point2;else if(notHemisphere&&point0&&smallRadius^v){var t;c&c0||!(t=intersect(point1,point0,!0))||(clean=0,smallRadius?(stream.lineStart(),stream.point(t[0][0],t[0][1]),stream.point(t[1][0],t[1][1]),stream.lineEnd()):(stream.point(t[1][0],t[1][1]),stream.lineEnd(),stream.lineStart(),stream.point(t[0][0],t[0][1])))}!v||point0&&pointEqual(point0,point1)||stream.point(point1[0],point1[1]),point0=point1,v0=v,c0=c},lineEnd:function(){v0&&stream.lineEnd(),point0=null},clean:function(){return clean|(v00&&v0)<<1}}}),(function interpolate(from,to,direction,stream){circleStream(stream,radius,delta,direction,from,to)}),smallRadius?[0,-radius]:[-pi,radius-pi])}(theta=_*radians,6*radians):(theta=null,antimeridian),reset()):theta*degrees},projection.clipExtent=function(_){return arguments.length?(postclip=null==_?(x0=y0=x1=y1=null,src_identity):clipExtent(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):null==x0?null:[[x0,y0],[x1,y1]]},projection.scale=function(_){return arguments.length?(k=+_,recenter()):k},projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],recenter()):[x,y]},projection.center=function(_){return arguments.length?(lambda=_[0]%360*radians,phi=_[1]%360*radians,recenter()):[lambda*degrees,phi*degrees]},projection.rotate=function(_){return arguments.length?(deltaLambda=_[0]%360*radians,deltaPhi=_[1]%360*radians,deltaGamma=_.length>2?_[2]%360*radians:0,recenter()):[deltaLambda*degrees,deltaPhi*degrees,deltaGamma*degrees]},projection.precision=function(_){return arguments.length?(projectResample=resample(projectTransform,delta2=_*_),reset()):sqrt(delta2)},projection.fitExtent=function(extent,object){return fitExtent(projection,extent,object)},projection.fitSize=function(size,object){return fitSize(projection,size,object)},function(){return project=projectAt.apply(this,arguments),projection.invert=project.invert&&invert,recenter()}}function conicProjection(projectAt){var phi0=0,phi1=pi/3,m=projectionMutator(projectAt),p=m(phi0,phi1);return p.parallels=function(_){return arguments.length?m(phi0=_[0]*radians,phi1=_[1]*radians):[phi0*degrees,phi1*degrees]},p}function conicEqualAreaRaw(y0,y1){var sy0=sin(y0),n=(sy0+sin(y1))/2;if(abs(n)<epsilon)return function cylindricalEqualAreaRaw(phi0){var cosPhi0=cos(phi0);function forward(lambda,phi){return[lambda*cosPhi0,sin(phi)/cosPhi0]}return forward.invert=function(x,y){return[x/cosPhi0,asin(y*cosPhi0)]},forward}(y0);var c=1+sy0*(2*n-sy0),r0=sqrt(c)/n;function project(x,y){var r=sqrt(c-2*n*sin(y))/n;return[r*sin(x*=n),r0-r*cos(x)]}return project.invert=function(x,y){var r0y=r0-y;return[atan2(x,abs(r0y))/n*sign(r0y),asin((c-(x*x+r0y*r0y)*n*n)/(2*n))]},project}function conicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function albers(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function albersUsa(){var cache,cacheStream,lower48Point,alaskaPoint,hawaiiPoint,point,lower48=albers(),alaska=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hawaii=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),pointStream={point:function(x,y){point=[x,y]}};function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,lower48Point.point(x,y),point||(alaskaPoint.point(x,y),point)||(hawaiiPoint.point(x,y),point)}function reset(){return cache=cacheStream=null,albersUsa}return albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?alaska:y>=.166&&y<.234&&x>=-.214&&x<-.115?hawaii:lower48).invert(coordinates)},albersUsa.stream=function(stream){return cache&&cacheStream===stream?cache:cache=function multiplex(streams){var n=streams.length;return{point:function(x,y){for(var i=-1;++i<n;)streams[i].point(x,y)},sphere:function(){for(var i=-1;++i<n;)streams[i].sphere()},lineStart:function(){for(var i=-1;++i<n;)streams[i].lineStart()},lineEnd:function(){for(var i=-1;++i<n;)streams[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<n;)streams[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<n;)streams[i].polygonEnd()}}}([lower48.stream(cacheStream=stream),alaska.stream(stream),hawaii.stream(stream)])},albersUsa.precision=function(_){return arguments.length?(lower48.precision(_),alaska.precision(_),hawaii.precision(_),reset()):lower48.precision()},albersUsa.scale=function(_){return arguments.length?(lower48.scale(_),alaska.scale(.35*_),hawaii.scale(_),albersUsa.translate(lower48.translate())):lower48.scale()},albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];return lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream),alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+epsilon,y+.12*k+epsilon],[x-.214*k-epsilon,y+.234*k-epsilon]]).stream(pointStream),hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+epsilon,y+.166*k+epsilon],[x-.115*k-epsilon,y+.234*k-epsilon]]).stream(pointStream),reset()},albersUsa.fitExtent=function(extent,object){return fitExtent(albersUsa,extent,object)},albersUsa.fitSize=function(size,object){return fitSize(albersUsa,size,object)},albersUsa.scale(1070)}function azimuthalRaw(scale){return function(x,y){var cx=cos(x),cy=cos(y),k=scale(cx*cy);return[k*cy*sin(x),k*sin(y)]}}function azimuthalInvert(angle){return function(x,y){var z=sqrt(x*x+y*y),c=angle(z),sc=sin(c),cc=cos(c);return[atan2(x*sc,z*cc),asin(z&&y*sc/z)]}}var azimuthalEqualAreaRaw=azimuthalRaw((function(cxcy){return sqrt(2/(1+cxcy))}));function azimuthalEqualArea(){return projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)}azimuthalEqualAreaRaw.invert=azimuthalInvert((function(z){return 2*asin(z/2)}));var azimuthalEquidistantRaw=azimuthalRaw((function(c){return(c=acos(c))&&c/sin(c)}));function azimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}function mercatorRaw(lambda,phi){return[lambda,log(tan((halfPi+phi)/2))]}function mercator(){return mercatorProjection(mercatorRaw).scale(961/tau)}function mercatorProjection(project){var y0,x1,y1,m=projection(project),center=m.center,scale=m.scale,translate=m.translate,clipExtent=m.clipExtent,x0=null;function reclip(){var k=pi*scale(),t=m(rotation(m.rotate()).invert([0,0]));return clipExtent(null==x0?[[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]]:project===mercatorRaw?[[Math.max(t[0]-k,x0),y0],[Math.min(t[0]+k,x1),y1]]:[[x0,Math.max(t[1]-k,y0)],[x1,Math.min(t[1]+k,y1)]])}return m.scale=function(_){return arguments.length?(scale(_),reclip()):scale()},m.translate=function(_){return arguments.length?(translate(_),reclip()):translate()},m.center=function(_){return arguments.length?(center(_),reclip()):center()},m.clipExtent=function(_){return arguments.length?(null==_?x0=y0=x1=y1=null:(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reclip()):null==x0?null:[[x0,y0],[x1,y1]]},reclip()}function tany(y){return tan((halfPi+y)/2)}function conicConformalRaw(y0,y1){var cy0=cos(y0),n=y0===y1?sin(y0):log(cy0/cos(y1))/log(tany(y1)/tany(y0)),f=cy0*pow(tany(y0),n)/n;if(!n)return mercatorRaw;function project(x,y){f>0?y<-halfPi+epsilon&&(y=-halfPi+epsilon):y>halfPi-epsilon&&(y=halfPi-epsilon);var r=f/pow(tany(y),n);return[r*sin(n*x),f-r*cos(n*x)]}return project.invert=function(x,y){var fy=f-y,r=sign(n)*sqrt(x*x+fy*fy);return[atan2(x,abs(fy))/n*sign(fy),2*atan(pow(f/r,1/n))-halfPi]},project}function conicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(lambda,phi){return[lambda,phi]}function equirectangular(){return projection(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(y0,y1){var cy0=cos(y0),n=y0===y1?sin(y0):(cy0-cos(y1))/(y1-y0),g=cy0/n+y0;if(abs(n)<epsilon)return equirectangularRaw;function project(x,y){var gy=g-y,nx=n*x;return[gy*sin(nx),g-gy*cos(nx)]}return project.invert=function(x,y){var gy=g-y;return[atan2(x,abs(gy))/n*sign(gy),g-sign(n)*sqrt(x*x+gy*gy)]},project}function conicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}function gnomonicRaw(x,y){var cy=cos(y),k=cos(x)*cy;return[cy*sin(x)/k,sin(y)/k]}function gnomonic(){return projection(gnomonicRaw).scale(144.049).clipAngle(60)}function scaleTranslate(kx,ky,tx,ty){return 1===kx&&1===ky&&0===tx&&0===ty?src_identity:transformer({point:function(x,y){this.stream.point(x*kx+tx,y*ky+ty)}})}function projection_identity(){var y0,x1,y1,cache,cacheStream,projection,k=1,tx=0,ty=0,sx=1,sy=1,transform=src_identity,x0=null,clip=src_identity;function reset(){return cache=cacheStream=null,projection}return projection={stream:function(stream){return cache&&cacheStream===stream?cache:cache=transform(clip(cacheStream=stream))},clipExtent:function(_){return arguments.length?(clip=null==_?(x0=y0=x1=y1=null,src_identity):clipExtent(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):null==x0?null:[[x0,y0],[x1,y1]]},scale:function(_){return arguments.length?(transform=scaleTranslate((k=+_)*sx,k*sy,tx,ty),reset()):k},translate:function(_){return arguments.length?(transform=scaleTranslate(k*sx,k*sy,tx=+_[0],ty=+_[1]),reset()):[tx,ty]},reflectX:function(_){return arguments.length?(transform=scaleTranslate(k*(sx=_?-1:1),k*sy,tx,ty),reset()):sx<0},reflectY:function(_){return arguments.length?(transform=scaleTranslate(k*sx,k*(sy=_?-1:1),tx,ty),reset()):sy<0},fitExtent:function(extent,object){return fitExtent(projection,extent,object)},fitSize:function(size,object){return fitSize(projection,size,object)}}}function naturalEarth1Raw(lambda,phi){var phi2=phi*phi,phi4=phi2*phi2;return[lambda*(.8707-.131979*phi2+phi4*(phi4*(.003971*phi2-.001529*phi4)-.013791)),phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))]}function naturalEarth1(){return projection(naturalEarth1Raw).scale(175.295)}function orthographicRaw(x,y){return[cos(y)*sin(x),sin(y)]}function orthographic(){return projection(orthographicRaw).scale(249.5).clipAngle(90+epsilon)}function stereographicRaw(x,y){var cy=cos(y),k=1+cos(x)*cy;return[cy*sin(x)/k,sin(y)/k]}function stereographic(){return projection(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(lambda,phi){return[log(tan((halfPi+phi)/2)),-lambda]}function transverseMercator(){var m=mercatorProjection(transverseMercatorRaw),center=m.center,rotate=m.rotate;return m.center=function(_){return arguments.length?center([-_[1],_[0]]):[(_=center())[1],-_[0]]},m.rotate=function(_){return arguments.length?rotate([_[0],_[1],_.length>2?_[2]+90:90]):[(_=rotate())[0],_[1],_[2]-90]},rotate([0,0,90]).scale(159.155)}azimuthalEquidistantRaw.invert=azimuthalInvert((function(z){return z})),mercatorRaw.invert=function(x,y){return[x,2*atan(exp(y))-halfPi]},equirectangularRaw.invert=equirectangularRaw,gnomonicRaw.invert=azimuthalInvert(atan),naturalEarth1Raw.invert=function(x,y){var delta,phi=y,i=25;do{var phi2=phi*phi,phi4=phi2*phi2;phi-=delta=(phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))-y)/(1.007226+phi2*(.045255+phi4*(.259866*phi2-.311325-.005916*11*phi4)))}while(abs(delta)>epsilon&&--i>0);return[x/(.8707+(phi2=phi*phi)*(phi2*(phi2*phi2*phi2*(.003971-.001529*phi2)-.013791)-.131979)),phi]},orthographicRaw.invert=azimuthalInvert(asin),stereographicRaw.invert=azimuthalInvert((function(z){return 2*atan(z)})),transverseMercatorRaw.invert=function(x,y){return[-y,2*atan(exp(x))-halfPi]}},"./node_modules/@turf/center/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var bbox_1=__importDefault(__webpack_require__("./node_modules/@turf/bbox/dist/js/index.js")),helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");exports.default=function center(geojson,options){void 0===options&&(options={});var ext=bbox_1.default(geojson),x=(ext[0]+ext[2])/2,y=(ext[1]+ext[3])/2;return helpers_1.point([x,y],options.properties,options)}},"./node_modules/@turf/centroid/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var meta_1=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");exports.default=function centroid(geojson,options){void 0===options&&(options={});var xSum=0,ySum=0,len=0;return meta_1.coordEach(geojson,(function(coord){xSum+=coord[0],ySum+=coord[1],len++}),!0),helpers_1.point([xSum/len,ySum/len],options.properties)}},"./node_modules/@turf/circle/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var destination_1=__importDefault(__webpack_require__("./node_modules/@turf/destination/dist/js/index.js")),helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");exports.default=function circle(center,radius,options){void 0===options&&(options={});for(var steps=options.steps||64,properties=options.properties?options.properties:!Array.isArray(center)&&"Feature"===center.type&&center.properties?center.properties:{},coordinates=[],i=0;i<steps;i++)coordinates.push(destination_1.default(center,radius,-360*i/steps,options).geometry.coordinates);return coordinates.push(coordinates[0]),helpers_1.polygon([coordinates],properties)}},"./node_modules/@turf/clone/dist/js/index.js":function(__unused_webpack_module,exports){"use strict";function cloneFeature(geojson){var cloned={type:"Feature"};return Object.keys(geojson).forEach((function(key){switch(key){case"type":case"properties":case"geometry":return;default:cloned[key]=geojson[key]}})),cloned.properties=cloneProperties(geojson.properties),cloned.geometry=cloneGeometry(geojson.geometry),cloned}function cloneProperties(properties){var cloned={};return properties?(Object.keys(properties).forEach((function(key){var value=properties[key];"object"==typeof value?null===value?cloned[key]=null:Array.isArray(value)?cloned[key]=value.map((function(item){return item})):cloned[key]=cloneProperties(value):cloned[key]=value})),cloned):cloned}function cloneGeometry(geometry){var geom={type:geometry.type};return geometry.bbox&&(geom.bbox=geometry.bbox),"GeometryCollection"===geometry.type?(geom.geometries=geometry.geometries.map((function(g){return cloneGeometry(g)})),geom):(geom.coordinates=deepSlice(geometry.coordinates),geom)}function deepSlice(coords){var cloned=coords;return"object"!=typeof cloned[0]?cloned.slice():cloned.map((function(coord){return deepSlice(coord)}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function clone(geojson){if(!geojson)throw new Error("geojson is required");switch(geojson.type){case"Feature":return cloneFeature(geojson);case"FeatureCollection":return function cloneFeatureCollection(geojson){var cloned={type:"FeatureCollection"};return Object.keys(geojson).forEach((function(key){switch(key){case"type":case"features":return;default:cloned[key]=geojson[key]}})),cloned.features=geojson.features.map((function(feature){return cloneFeature(feature)})),cloned}(geojson);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return cloneGeometry(geojson);default:throw new Error("unknown GeoJSON type")}}},"./node_modules/@turf/destination/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");exports.default=function destination(origin,distance,bearing,options){void 0===options&&(options={});var coordinates1=invariant_1.getCoord(origin),longitude1=helpers_1.degreesToRadians(coordinates1[0]),latitude1=helpers_1.degreesToRadians(coordinates1[1]),bearingRad=helpers_1.degreesToRadians(bearing),radians=helpers_1.lengthToRadians(distance,options.units),latitude2=Math.asin(Math.sin(latitude1)*Math.cos(radians)+Math.cos(latitude1)*Math.sin(radians)*Math.cos(bearingRad)),longitude2=longitude1+Math.atan2(Math.sin(bearingRad)*Math.sin(radians)*Math.cos(latitude1),Math.cos(radians)-Math.sin(latitude1)*Math.sin(latitude2)),lng=helpers_1.radiansToDegrees(longitude2),lat=helpers_1.radiansToDegrees(latitude2);return helpers_1.point([lng,lat],options.properties)}},"./node_modules/@turf/difference/dist/js/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var polygonClipping=__webpack_require__("./node_modules/polygon-clipping/dist/polygon-clipping.umd.js"),helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var polygonClipping__default=_interopDefaultLegacy(polygonClipping);function difference(polygon1,polygon2){var geom1=invariant.getGeom(polygon1),geom2=invariant.getGeom(polygon2),properties=polygon1.properties||{},differenced=polygonClipping__default.default.difference(geom1.coordinates,geom2.coordinates);return 0===differenced.length?null:1===differenced.length?helpers.polygon(differenced[0],properties):helpers.multiPolygon(differenced,properties)}module.exports=difference,module.exports.default=difference},"./node_modules/@turf/distance/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js"),helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");exports.default=function distance(from,to,options){void 0===options&&(options={});var coordinates1=invariant_1.getCoord(from),coordinates2=invariant_1.getCoord(to),dLat=helpers_1.degreesToRadians(coordinates2[1]-coordinates1[1]),dLon=helpers_1.degreesToRadians(coordinates2[0]-coordinates1[0]),lat1=helpers_1.degreesToRadians(coordinates1[1]),lat2=helpers_1.degreesToRadians(coordinates2[1]),a=Math.pow(Math.sin(dLat/2),2)+Math.pow(Math.sin(dLon/2),2)*Math.cos(lat1)*Math.cos(lat2);return helpers_1.radiansToLength(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),options.units)}},"./node_modules/@turf/ellipse/dist/js/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),rhumbDestination=__webpack_require__("./node_modules/@turf/rhumb-destination/dist/js/index.js"),transformRotate=__webpack_require__("./node_modules/@turf/transform-rotate/dist/js/index.js"),invariant=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var rhumbDestination__default=_interopDefaultLegacy(rhumbDestination),transformRotate__default=_interopDefaultLegacy(transformRotate);function ellipse(center,xSemiAxis,ySemiAxis,options){var steps=(options=options||{}).steps||64,units=options.units||"kilometers",angle=options.angle||0,pivot=options.pivot||center,properties=options.properties||center.properties||{};if(!center)throw new Error("center is required");if(!xSemiAxis)throw new Error("xSemiAxis is required");if(!ySemiAxis)throw new Error("ySemiAxis is required");if(!helpers.isObject(options))throw new Error("options must be an object");if(!helpers.isNumber(steps))throw new Error("steps must be a number");if(!helpers.isNumber(angle))throw new Error("angle must be a number");var centerCoords=invariant.getCoord(center);if("degrees"===units)var angleRad=helpers.degreesToRadians(angle);else xSemiAxis=rhumbDestination__default.default(center,xSemiAxis,90,{units:units}),ySemiAxis=rhumbDestination__default.default(center,ySemiAxis,0,{units:units}),xSemiAxis=invariant.getCoord(xSemiAxis)[0]-centerCoords[0],ySemiAxis=invariant.getCoord(ySemiAxis)[1]-centerCoords[1];for(var coordinates=[],i=0;i<steps;i+=1){var stepAngle=-360*i/steps,x=xSemiAxis*ySemiAxis/Math.sqrt(Math.pow(ySemiAxis,2)+Math.pow(xSemiAxis,2)*Math.pow(getTanDeg(stepAngle),2)),y=xSemiAxis*ySemiAxis/Math.sqrt(Math.pow(xSemiAxis,2)+Math.pow(ySemiAxis,2)/Math.pow(getTanDeg(stepAngle),2));if(stepAngle<-90&&stepAngle>=-270&&(x=-x),stepAngle<-180&&stepAngle>=-360&&(y=-y),"degrees"===units){var newx=x*Math.cos(angleRad)+y*Math.sin(angleRad),newy=y*Math.cos(angleRad)-x*Math.sin(angleRad);x=newx,y=newy}coordinates.push([x+centerCoords[0],y+centerCoords[1]])}return coordinates.push(coordinates[0]),"degrees"===units?helpers.polygon([coordinates],properties):transformRotate__default.default(helpers.polygon([coordinates],properties),angle,{pivot:pivot})}function getTanDeg(deg){var rad=deg*Math.PI/180;return Math.tan(rad)}module.exports=ellipse,module.exports.default=ellipse},"./node_modules/@turf/helpers/dist/js/index.js":function(__unused_webpack_module,exports){"use strict";function feature(geom,properties,options){void 0===options&&(options={});var feat={type:"Feature"};return(0===options.id||options.id)&&(feat.id=options.id),options.bbox&&(feat.bbox=options.bbox),feat.properties=properties||{},feat.geometry=geom,feat}function point(coordinates,properties,options){if(void 0===options&&(options={}),!coordinates)throw new Error("coordinates is required");if(!Array.isArray(coordinates))throw new Error("coordinates must be an Array");if(coordinates.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!isNumber(coordinates[0])||!isNumber(coordinates[1]))throw new Error("coordinates must contain numbers");return feature({type:"Point",coordinates:coordinates},properties,options)}function polygon(coordinates,properties,options){void 0===options&&(options={});for(var _i=0,coordinates_1=coordinates;_i<coordinates_1.length;_i++){var ring=coordinates_1[_i];if(ring.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var j=0;j<ring[ring.length-1].length;j++)if(ring[ring.length-1][j]!==ring[0][j])throw new Error("First and last Position are not equivalent.")}return feature({type:"Polygon",coordinates:coordinates},properties,options)}function lineString(coordinates,properties,options){if(void 0===options&&(options={}),coordinates.length<2)throw new Error("coordinates must be an array of two or more positions");return feature({type:"LineString",coordinates:coordinates},properties,options)}function featureCollection(features,options){void 0===options&&(options={});var fc={type:"FeatureCollection"};return options.id&&(fc.id=options.id),options.bbox&&(fc.bbox=options.bbox),fc.features=features,fc}function multiLineString(coordinates,properties,options){return void 0===options&&(options={}),feature({type:"MultiLineString",coordinates:coordinates},properties,options)}function multiPoint(coordinates,properties,options){return void 0===options&&(options={}),feature({type:"MultiPoint",coordinates:coordinates},properties,options)}function multiPolygon(coordinates,properties,options){return void 0===options&&(options={}),feature({type:"MultiPolygon",coordinates:coordinates},properties,options)}function radiansToLength(radians,units){void 0===units&&(units="kilometers");var factor=exports.factors[units];if(!factor)throw new Error(units+" units is invalid");return radians*factor}function lengthToRadians(distance,units){void 0===units&&(units="kilometers");var factor=exports.factors[units];if(!factor)throw new Error(units+" units is invalid");return distance/factor}function radiansToDegrees(radians){return 180*(radians%(2*Math.PI))/Math.PI}function isNumber(num){return!isNaN(num)&&null!==num&&!Array.isArray(num)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.earthRadius=6371008.8,exports.factors={centimeters:100*exports.earthRadius,centimetres:100*exports.earthRadius,degrees:exports.earthRadius/111325,feet:3.28084*exports.earthRadius,inches:39.37*exports.earthRadius,kilometers:exports.earthRadius/1e3,kilometres:exports.earthRadius/1e3,meters:exports.earthRadius,metres:exports.earthRadius,miles:exports.earthRadius/1609.344,millimeters:1e3*exports.earthRadius,millimetres:1e3*exports.earthRadius,nauticalmiles:exports.earthRadius/1852,radians:1,yards:1.0936*exports.earthRadius},exports.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/exports.earthRadius,yards:1.0936133},exports.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},exports.feature=feature,exports.geometry=function geometry(type,coordinates,_options){switch(void 0===_options&&(_options={}),type){case"Point":return point(coordinates).geometry;case"LineString":return lineString(coordinates).geometry;case"Polygon":return polygon(coordinates).geometry;case"MultiPoint":return multiPoint(coordinates).geometry;case"MultiLineString":return multiLineString(coordinates).geometry;case"MultiPolygon":return multiPolygon(coordinates).geometry;default:throw new Error(type+" is invalid")}},exports.point=point,exports.points=function points(coordinates,properties,options){return void 0===options&&(options={}),featureCollection(coordinates.map((function(coords){return point(coords,properties)})),options)},exports.polygon=polygon,exports.polygons=function polygons(coordinates,properties,options){return void 0===options&&(options={}),featureCollection(coordinates.map((function(coords){return polygon(coords,properties)})),options)},exports.lineString=lineString,exports.lineStrings=function lineStrings(coordinates,properties,options){return void 0===options&&(options={}),featureCollection(coordinates.map((function(coords){return lineString(coords,properties)})),options)},exports.featureCollection=featureCollection,exports.multiLineString=multiLineString,exports.multiPoint=multiPoint,exports.multiPolygon=multiPolygon,exports.geometryCollection=function geometryCollection(geometries,properties,options){return void 0===options&&(options={}),feature({type:"GeometryCollection",geometries:geometries},properties,options)},exports.round=function round(num,precision){if(void 0===precision&&(precision=0),precision&&!(precision>=0))throw new Error("precision must be a positive number");var multiplier=Math.pow(10,precision||0);return Math.round(num*multiplier)/multiplier},exports.radiansToLength=radiansToLength,exports.lengthToRadians=lengthToRadians,exports.lengthToDegrees=function lengthToDegrees(distance,units){return radiansToDegrees(lengthToRadians(distance,units))},exports.bearingToAzimuth=function bearingToAzimuth(bearing){var angle=bearing%360;return angle<0&&(angle+=360),angle},exports.radiansToDegrees=radiansToDegrees,exports.degreesToRadians=function degreesToRadians(degrees){return degrees%360*Math.PI/180},exports.convertLength=function convertLength(length,originalUnit,finalUnit){if(void 0===originalUnit&&(originalUnit="kilometers"),void 0===finalUnit&&(finalUnit="kilometers"),!(length>=0))throw new Error("length must be a positive number");return radiansToLength(lengthToRadians(length,originalUnit),finalUnit)},exports.convertArea=function convertArea(area,originalUnit,finalUnit){if(void 0===originalUnit&&(originalUnit="meters"),void 0===finalUnit&&(finalUnit="kilometers"),!(area>=0))throw new Error("area must be a positive number");var startFactor=exports.areaFactors[originalUnit];if(!startFactor)throw new Error("invalid original units");var finalFactor=exports.areaFactors[finalUnit];if(!finalFactor)throw new Error("invalid final units");return area/startFactor*finalFactor},exports.isNumber=isNumber,exports.isObject=function isObject(input){return!!input&&input.constructor===Object},exports.validateBBox=function validateBBox(bbox){if(!bbox)throw new Error("bbox is required");if(!Array.isArray(bbox))throw new Error("bbox must be an Array");if(4!==bbox.length&&6!==bbox.length)throw new Error("bbox must be an Array of 4 or 6 numbers");bbox.forEach((function(num){if(!isNumber(num))throw new Error("bbox must only contain numbers")}))},exports.validateId=function validateId(id){if(!id)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof id))throw new Error("id must be a number or a string")}},"./node_modules/@turf/intersect/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js"),polygon_clipping_1=__importDefault(__webpack_require__("./node_modules/polygon-clipping/dist/polygon-clipping.umd.js"));exports.default=function intersect(poly1,poly2,options){void 0===options&&(options={});var geom1=invariant_1.getGeom(poly1),geom2=invariant_1.getGeom(poly2),intersection=polygon_clipping_1.default.intersection(geom1.coordinates,geom2.coordinates);return 0===intersection.length?null:1===intersection.length?helpers_1.polygon(intersection[0],options.properties):helpers_1.multiPolygon(intersection,options.properties)}},"./node_modules/@turf/invariant/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");exports.getCoord=function getCoord(coord){if(!coord)throw new Error("coord is required");if(!Array.isArray(coord)){if("Feature"===coord.type&&null!==coord.geometry&&"Point"===coord.geometry.type)return coord.geometry.coordinates;if("Point"===coord.type)return coord.coordinates}if(Array.isArray(coord)&&coord.length>=2&&!Array.isArray(coord[0])&&!Array.isArray(coord[1]))return coord;throw new Error("coord must be GeoJSON Point or an Array of numbers")},exports.getCoords=function getCoords(coords){if(Array.isArray(coords))return coords;if("Feature"===coords.type){if(null!==coords.geometry)return coords.geometry.coordinates}else if(coords.coordinates)return coords.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},exports.containsNumber=function containsNumber(coordinates){if(coordinates.length>1&&helpers_1.isNumber(coordinates[0])&&helpers_1.isNumber(coordinates[1]))return!0;if(Array.isArray(coordinates[0])&&coordinates[0].length)return containsNumber(coordinates[0]);throw new Error("coordinates must only contain numbers")},exports.geojsonType=function geojsonType(value,type,name){if(!type||!name)throw new Error("type and name required");if(!value||value.type!==type)throw new Error("Invalid input to "+name+": must be a "+type+", given "+value.type)},exports.featureOf=function featureOf(feature,type,name){if(!feature)throw new Error("No feature passed");if(!name)throw new Error(".featureOf() requires a name");if(!feature||"Feature"!==feature.type||!feature.geometry)throw new Error("Invalid input to "+name+", Feature with geometry required");if(!feature.geometry||feature.geometry.type!==type)throw new Error("Invalid input to "+name+": must be a "+type+", given "+feature.geometry.type)},exports.collectionOf=function collectionOf(featureCollection,type,name){if(!featureCollection)throw new Error("No featureCollection passed");if(!name)throw new Error(".collectionOf() requires a name");if(!featureCollection||"FeatureCollection"!==featureCollection.type)throw new Error("Invalid input to "+name+", FeatureCollection required");for(var _i=0,_a=featureCollection.features;_i<_a.length;_i++){var feature=_a[_i];if(!feature||"Feature"!==feature.type||!feature.geometry)throw new Error("Invalid input to "+name+", Feature with geometry required");if(!feature.geometry||feature.geometry.type!==type)throw new Error("Invalid input to "+name+": must be a "+type+", given "+feature.geometry.type)}},exports.getGeom=function getGeom(geojson){return"Feature"===geojson.type?geojson.geometry:geojson},exports.getType=function getType(geojson,_name){return"FeatureCollection"===geojson.type?"FeatureCollection":"GeometryCollection"===geojson.type?"GeometryCollection":"Feature"===geojson.type&&null!==geojson.geometry?geojson.geometry.type:geojson.type}},"./node_modules/@turf/line-intersect/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js"),line_segment_1=__importDefault(__webpack_require__("./node_modules/@turf/line-segment/dist/js/index.js")),meta_1=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),geojson_rbush_1=__importDefault(__webpack_require__("./node_modules/geojson-rbush/index.js"));function intersects(line1,line2){var coords1=invariant_1.getCoords(line1),coords2=invariant_1.getCoords(line2);if(2!==coords1.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==coords2.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var x1=coords1[0][0],y1=coords1[0][1],x2=coords1[1][0],y2=coords1[1][1],x3=coords2[0][0],y3=coords2[0][1],x4=coords2[1][0],y4=coords2[1][1],denom=(y4-y3)*(x2-x1)-(x4-x3)*(y2-y1),numeA=(x4-x3)*(y1-y3)-(y4-y3)*(x1-x3),numeB=(x2-x1)*(y1-y3)-(y2-y1)*(x1-x3);if(0===denom)return null;var uA=numeA/denom,uB=numeB/denom;if(uA>=0&&uA<=1&&uB>=0&&uB<=1){var x=x1+uA*(x2-x1),y=y1+uA*(y2-y1);return helpers_1.point([x,y])}return null}exports.default=function lineIntersect(line1,line2){var unique={},results=[];if("LineString"===line1.type&&(line1=helpers_1.feature(line1)),"LineString"===line2.type&&(line2=helpers_1.feature(line2)),"Feature"===line1.type&&"Feature"===line2.type&&null!==line1.geometry&&null!==line2.geometry&&"LineString"===line1.geometry.type&&"LineString"===line2.geometry.type&&2===line1.geometry.coordinates.length&&2===line2.geometry.coordinates.length){var intersect=intersects(line1,line2);return intersect&&results.push(intersect),helpers_1.featureCollection(results)}var tree=geojson_rbush_1.default();return tree.load(line_segment_1.default(line2)),meta_1.featureEach(line_segment_1.default(line1),(function(segment){meta_1.featureEach(tree.search(segment),(function(match){var intersect=intersects(segment,match);if(intersect){var key=invariant_1.getCoords(intersect).join(",");unique[key]||(unique[key]=!0,results.push(intersect))}}))})),helpers_1.featureCollection(results)}},"./node_modules/@turf/line-segment/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js"),meta_1=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js");exports.default=function lineSegment(geojson){if(!geojson)throw new Error("geojson is required");var results=[];return meta_1.flattenEach(geojson,(function(feature){!function lineSegmentFeature(geojson,results){var coords=[],geometry=geojson.geometry;if(null!==geometry){switch(geometry.type){case"Polygon":coords=invariant_1.getCoords(geometry);break;case"LineString":coords=[invariant_1.getCoords(geometry)]}coords.forEach((function(coord){var segments=function createSegments(coords,properties){var segments=[];return coords.reduce((function(previousCoords,currentCoords){var segment=helpers_1.lineString([previousCoords,currentCoords],properties);return segment.bbox=function bbox(coords1,coords2){var x1=coords1[0],y1=coords1[1],x2=coords2[0],y2=coords2[1];return[x1<x2?x1:x2,y1<y2?y1:y2,x1>x2?x1:x2,y1>y2?y1:y2]}(previousCoords,currentCoords),segments.push(segment),currentCoords})),segments}(coord,geojson.properties);segments.forEach((function(segment){segment.id=results.length,results.push(segment)}))}))}}(feature,results)})),helpers_1.featureCollection(results)}},"./node_modules/@turf/meta/dist/es/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{mm:function(){return geomReduce},hE:function(){return segmentReduce}});function feature(geom,properties,options){void 0===options&&(options={});var feat={type:"Feature"};return(0===options.id||options.id)&&(feat.id=options.id),options.bbox&&(feat.bbox=options.bbox),feat.properties=properties||{},feat.geometry=geom,feat}function es_lineString(coordinates,properties,options){if(void 0===options&&(options={}),coordinates.length<2)throw new Error("coordinates must be an array of two or more positions");return feature({type:"LineString",coordinates:coordinates},properties,options)}function coordEach(geojson,callback,excludeWrapCoord){if(null!==geojson)for(var j,k,l,geometry,stopG,coords,geometryMaybeCollection,isGeometryCollection,wrapShrink=0,coordIndex=0,type=geojson.type,isFeatureCollection="FeatureCollection"===type,isFeature="Feature"===type,stop=isFeatureCollection?geojson.features.length:1,featureIndex=0;featureIndex<stop;featureIndex++){stopG=(isGeometryCollection=!!(geometryMaybeCollection=isFeatureCollection?geojson.features[featureIndex].geometry:isFeature?geojson.geometry:geojson)&&"GeometryCollection"===geometryMaybeCollection.type)?geometryMaybeCollection.geometries.length:1;for(var geomIndex=0;geomIndex<stopG;geomIndex++){var multiFeatureIndex=0,geometryIndex=0;if(null!==(geometry=isGeometryCollection?geometryMaybeCollection.geometries[geomIndex]:geometryMaybeCollection)){coords=geometry.coordinates;var geomType=geometry.type;switch(wrapShrink=!excludeWrapCoord||"Polygon"!==geomType&&"MultiPolygon"!==geomType?0:1,geomType){case null:break;case"Point":if(!1===callback(coords,coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++,multiFeatureIndex++;break;case"LineString":case"MultiPoint":for(j=0;j<coords.length;j++){if(!1===callback(coords[j],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++,"MultiPoint"===geomType&&multiFeatureIndex++}"LineString"===geomType&&multiFeatureIndex++;break;case"Polygon":case"MultiLineString":for(j=0;j<coords.length;j++){for(k=0;k<coords[j].length-wrapShrink;k++){if(!1===callback(coords[j][k],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++}"MultiLineString"===geomType&&multiFeatureIndex++,"Polygon"===geomType&&geometryIndex++}"Polygon"===geomType&&multiFeatureIndex++;break;case"MultiPolygon":for(j=0;j<coords.length;j++){for(geometryIndex=0,k=0;k<coords[j].length;k++){for(l=0;l<coords[j][k].length-wrapShrink;l++){if(!1===callback(coords[j][k][l],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++}geometryIndex++}multiFeatureIndex++}break;case"GeometryCollection":for(j=0;j<geometry.geometries.length;j++)if(!1===coordEach(geometry.geometries[j],callback,excludeWrapCoord))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function geomEach(geojson,callback){var i,j,g,geometry,stopG,geometryMaybeCollection,isGeometryCollection,featureProperties,featureBBox,featureId,featureIndex=0,isFeatureCollection="FeatureCollection"===geojson.type,isFeature="Feature"===geojson.type,stop=isFeatureCollection?geojson.features.length:1;for(i=0;i<stop;i++){for(geometryMaybeCollection=isFeatureCollection?geojson.features[i].geometry:isFeature?geojson.geometry:geojson,featureProperties=isFeatureCollection?geojson.features[i].properties:isFeature?geojson.properties:{},featureBBox=isFeatureCollection?geojson.features[i].bbox:isFeature?geojson.bbox:void 0,featureId=isFeatureCollection?geojson.features[i].id:isFeature?geojson.id:void 0,stopG=(isGeometryCollection=!!geometryMaybeCollection&&"GeometryCollection"===geometryMaybeCollection.type)?geometryMaybeCollection.geometries.length:1,g=0;g<stopG;g++)if(null!==(geometry=isGeometryCollection?geometryMaybeCollection.geometries[g]:geometryMaybeCollection))switch(geometry.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===callback(geometry,featureIndex,featureProperties,featureBBox,featureId))return!1;break;case"GeometryCollection":for(j=0;j<geometry.geometries.length;j++)if(!1===callback(geometry.geometries[j],featureIndex,featureProperties,featureBBox,featureId))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===callback(null,featureIndex,featureProperties,featureBBox,featureId))return!1;featureIndex++}}function geomReduce(geojson,callback,initialValue){var previousValue=initialValue;return geomEach(geojson,(function(currentGeometry,featureIndex,featureProperties,featureBBox,featureId){previousValue=0===featureIndex&&void 0===initialValue?currentGeometry:callback(previousValue,currentGeometry,featureIndex,featureProperties,featureBBox,featureId)})),previousValue}function flattenEach(geojson,callback){geomEach(geojson,(function(geometry,featureIndex,properties,bbox,id){var geomType,type=null===geometry?null:geometry.type;switch(type){case null:case"Point":case"LineString":case"Polygon":return!1!==callback(feature(geometry,properties,{bbox:bbox,id:id}),featureIndex,0)&&void 0}switch(type){case"MultiPoint":geomType="Point";break;case"MultiLineString":geomType="LineString";break;case"MultiPolygon":geomType="Polygon"}for(var multiFeatureIndex=0;multiFeatureIndex<geometry.coordinates.length;multiFeatureIndex++){var coordinate=geometry.coordinates[multiFeatureIndex];if(!1===callback(feature({type:geomType,coordinates:coordinate},properties),featureIndex,multiFeatureIndex))return!1}}))}function segmentReduce(geojson,callback,initialValue){var previousValue=initialValue,started=!1;return function segmentEach(geojson,callback){flattenEach(geojson,(function(feature,featureIndex,multiFeatureIndex){var segmentIndex=0;if(feature.geometry){var type=feature.geometry.type;if("Point"!==type&&"MultiPoint"!==type){var previousCoords,previousFeatureIndex=0,previousMultiIndex=0,prevGeomIndex=0;return!1!==coordEach(feature,(function(currentCoord,coordIndex,featureIndexCoord,multiPartIndexCoord,geometryIndex){if(void 0===previousCoords||featureIndex>previousFeatureIndex||multiPartIndexCoord>previousMultiIndex||geometryIndex>prevGeomIndex)return previousCoords=currentCoord,previousFeatureIndex=featureIndex,previousMultiIndex=multiPartIndexCoord,prevGeomIndex=geometryIndex,void(segmentIndex=0);var currentSegment=es_lineString([previousCoords,currentCoord],feature.properties);if(!1===callback(currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex))return!1;segmentIndex++,previousCoords=currentCoord}))&&void 0}}}))}(geojson,(function(currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex){previousValue=!1===started&&void 0===initialValue?currentSegment:callback(previousValue,currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex),started=!0})),previousValue}},"./node_modules/@turf/meta/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");function coordEach(geojson,callback,excludeWrapCoord){if(null!==geojson)for(var j,k,l,geometry,stopG,coords,geometryMaybeCollection,isGeometryCollection,wrapShrink=0,coordIndex=0,type=geojson.type,isFeatureCollection="FeatureCollection"===type,isFeature="Feature"===type,stop=isFeatureCollection?geojson.features.length:1,featureIndex=0;featureIndex<stop;featureIndex++){stopG=(isGeometryCollection=!!(geometryMaybeCollection=isFeatureCollection?geojson.features[featureIndex].geometry:isFeature?geojson.geometry:geojson)&&"GeometryCollection"===geometryMaybeCollection.type)?geometryMaybeCollection.geometries.length:1;for(var geomIndex=0;geomIndex<stopG;geomIndex++){var multiFeatureIndex=0,geometryIndex=0;if(null!==(geometry=isGeometryCollection?geometryMaybeCollection.geometries[geomIndex]:geometryMaybeCollection)){coords=geometry.coordinates;var geomType=geometry.type;switch(wrapShrink=!excludeWrapCoord||"Polygon"!==geomType&&"MultiPolygon"!==geomType?0:1,geomType){case null:break;case"Point":if(!1===callback(coords,coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++,multiFeatureIndex++;break;case"LineString":case"MultiPoint":for(j=0;j<coords.length;j++){if(!1===callback(coords[j],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++,"MultiPoint"===geomType&&multiFeatureIndex++}"LineString"===geomType&&multiFeatureIndex++;break;case"Polygon":case"MultiLineString":for(j=0;j<coords.length;j++){for(k=0;k<coords[j].length-wrapShrink;k++){if(!1===callback(coords[j][k],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++}"MultiLineString"===geomType&&multiFeatureIndex++,"Polygon"===geomType&&geometryIndex++}"Polygon"===geomType&&multiFeatureIndex++;break;case"MultiPolygon":for(j=0;j<coords.length;j++){for(geometryIndex=0,k=0;k<coords[j].length;k++){for(l=0;l<coords[j][k].length-wrapShrink;l++){if(!1===callback(coords[j][k][l],coordIndex,featureIndex,multiFeatureIndex,geometryIndex))return!1;coordIndex++}geometryIndex++}multiFeatureIndex++}break;case"GeometryCollection":for(j=0;j<geometry.geometries.length;j++)if(!1===coordEach(geometry.geometries[j],callback,excludeWrapCoord))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function propEach(geojson,callback){var i;switch(geojson.type){case"FeatureCollection":for(i=0;i<geojson.features.length&&!1!==callback(geojson.features[i].properties,i);i++);break;case"Feature":callback(geojson.properties,0)}}function featureEach(geojson,callback){if("Feature"===geojson.type)callback(geojson,0);else if("FeatureCollection"===geojson.type)for(var i=0;i<geojson.features.length&&!1!==callback(geojson.features[i],i);i++);}function geomEach(geojson,callback){var i,j,g,geometry,stopG,geometryMaybeCollection,isGeometryCollection,featureProperties,featureBBox,featureId,featureIndex=0,isFeatureCollection="FeatureCollection"===geojson.type,isFeature="Feature"===geojson.type,stop=isFeatureCollection?geojson.features.length:1;for(i=0;i<stop;i++){for(geometryMaybeCollection=isFeatureCollection?geojson.features[i].geometry:isFeature?geojson.geometry:geojson,featureProperties=isFeatureCollection?geojson.features[i].properties:isFeature?geojson.properties:{},featureBBox=isFeatureCollection?geojson.features[i].bbox:isFeature?geojson.bbox:void 0,featureId=isFeatureCollection?geojson.features[i].id:isFeature?geojson.id:void 0,stopG=(isGeometryCollection=!!geometryMaybeCollection&&"GeometryCollection"===geometryMaybeCollection.type)?geometryMaybeCollection.geometries.length:1,g=0;g<stopG;g++)if(null!==(geometry=isGeometryCollection?geometryMaybeCollection.geometries[g]:geometryMaybeCollection))switch(geometry.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===callback(geometry,featureIndex,featureProperties,featureBBox,featureId))return!1;break;case"GeometryCollection":for(j=0;j<geometry.geometries.length;j++)if(!1===callback(geometry.geometries[j],featureIndex,featureProperties,featureBBox,featureId))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===callback(null,featureIndex,featureProperties,featureBBox,featureId))return!1;featureIndex++}}function flattenEach(geojson,callback){geomEach(geojson,(function(geometry,featureIndex,properties,bbox,id){var geomType,type=null===geometry?null:geometry.type;switch(type){case null:case"Point":case"LineString":case"Polygon":return!1!==callback(helpers.feature(geometry,properties,{bbox:bbox,id:id}),featureIndex,0)&&void 0}switch(type){case"MultiPoint":geomType="Point";break;case"MultiLineString":geomType="LineString";break;case"MultiPolygon":geomType="Polygon"}for(var multiFeatureIndex=0;multiFeatureIndex<geometry.coordinates.length;multiFeatureIndex++){var geom={type:geomType,coordinates:geometry.coordinates[multiFeatureIndex]};if(!1===callback(helpers.feature(geom,properties),featureIndex,multiFeatureIndex))return!1}}))}function segmentEach(geojson,callback){flattenEach(geojson,(function(feature,featureIndex,multiFeatureIndex){var segmentIndex=0;if(feature.geometry){var type=feature.geometry.type;if("Point"!==type&&"MultiPoint"!==type){var previousCoords,previousFeatureIndex=0,previousMultiIndex=0,prevGeomIndex=0;return!1!==coordEach(feature,(function(currentCoord,coordIndex,featureIndexCoord,multiPartIndexCoord,geometryIndex){if(void 0===previousCoords||featureIndex>previousFeatureIndex||multiPartIndexCoord>previousMultiIndex||geometryIndex>prevGeomIndex)return previousCoords=currentCoord,previousFeatureIndex=featureIndex,previousMultiIndex=multiPartIndexCoord,prevGeomIndex=geometryIndex,void(segmentIndex=0);var currentSegment=helpers.lineString([previousCoords,currentCoord],feature.properties);if(!1===callback(currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex))return!1;segmentIndex++,previousCoords=currentCoord}))&&void 0}}}))}function lineEach(geojson,callback){if(!geojson)throw new Error("geojson is required");flattenEach(geojson,(function(feature,featureIndex,multiFeatureIndex){if(null!==feature.geometry){var type=feature.geometry.type,coords=feature.geometry.coordinates;switch(type){case"LineString":if(!1===callback(feature,featureIndex,multiFeatureIndex,0,0))return!1;break;case"Polygon":for(var geometryIndex=0;geometryIndex<coords.length;geometryIndex++)if(!1===callback(helpers.lineString(coords[geometryIndex],feature.properties),featureIndex,multiFeatureIndex,geometryIndex))return!1}}}))}exports.coordAll=function coordAll(geojson){var coords=[];return coordEach(geojson,(function(coord){coords.push(coord)})),coords},exports.coordEach=coordEach,exports.coordReduce=function coordReduce(geojson,callback,initialValue,excludeWrapCoord){var previousValue=initialValue;return coordEach(geojson,(function(currentCoord,coordIndex,featureIndex,multiFeatureIndex,geometryIndex){previousValue=0===coordIndex&&void 0===initialValue?currentCoord:callback(previousValue,currentCoord,coordIndex,featureIndex,multiFeatureIndex,geometryIndex)}),excludeWrapCoord),previousValue},exports.featureEach=featureEach,exports.featureReduce=function featureReduce(geojson,callback,initialValue){var previousValue=initialValue;return featureEach(geojson,(function(currentFeature,featureIndex){previousValue=0===featureIndex&&void 0===initialValue?currentFeature:callback(previousValue,currentFeature,featureIndex)})),previousValue},exports.findPoint=function findPoint(geojson,options){if(options=options||{},!helpers.isObject(options))throw new Error("options is invalid");var geometry,featureIndex=options.featureIndex||0,multiFeatureIndex=options.multiFeatureIndex||0,geometryIndex=options.geometryIndex||0,coordIndex=options.coordIndex||0,properties=options.properties;switch(geojson.type){case"FeatureCollection":featureIndex<0&&(featureIndex=geojson.features.length+featureIndex),properties=properties||geojson.features[featureIndex].properties,geometry=geojson.features[featureIndex].geometry;break;case"Feature":properties=properties||geojson.properties,geometry=geojson.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":geometry=geojson;break;default:throw new Error("geojson is invalid")}if(null===geometry)return null;var coords=geometry.coordinates;switch(geometry.type){case"Point":return helpers.point(coords,properties,options);case"MultiPoint":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),helpers.point(coords[multiFeatureIndex],properties,options);case"LineString":return coordIndex<0&&(coordIndex=coords.length+coordIndex),helpers.point(coords[coordIndex],properties,options);case"Polygon":return geometryIndex<0&&(geometryIndex=coords.length+geometryIndex),coordIndex<0&&(coordIndex=coords[geometryIndex].length+coordIndex),helpers.point(coords[geometryIndex][coordIndex],properties,options);case"MultiLineString":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),coordIndex<0&&(coordIndex=coords[multiFeatureIndex].length+coordIndex),helpers.point(coords[multiFeatureIndex][coordIndex],properties,options);case"MultiPolygon":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),geometryIndex<0&&(geometryIndex=coords[multiFeatureIndex].length+geometryIndex),coordIndex<0&&(coordIndex=coords[multiFeatureIndex][geometryIndex].length-coordIndex),helpers.point(coords[multiFeatureIndex][geometryIndex][coordIndex],properties,options)}throw new Error("geojson is invalid")},exports.findSegment=function findSegment(geojson,options){if(options=options||{},!helpers.isObject(options))throw new Error("options is invalid");var geometry,featureIndex=options.featureIndex||0,multiFeatureIndex=options.multiFeatureIndex||0,geometryIndex=options.geometryIndex||0,segmentIndex=options.segmentIndex||0,properties=options.properties;switch(geojson.type){case"FeatureCollection":featureIndex<0&&(featureIndex=geojson.features.length+featureIndex),properties=properties||geojson.features[featureIndex].properties,geometry=geojson.features[featureIndex].geometry;break;case"Feature":properties=properties||geojson.properties,geometry=geojson.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":geometry=geojson;break;default:throw new Error("geojson is invalid")}if(null===geometry)return null;var coords=geometry.coordinates;switch(geometry.type){case"Point":case"MultiPoint":return null;case"LineString":return segmentIndex<0&&(segmentIndex=coords.length+segmentIndex-1),helpers.lineString([coords[segmentIndex],coords[segmentIndex+1]],properties,options);case"Polygon":return geometryIndex<0&&(geometryIndex=coords.length+geometryIndex),segmentIndex<0&&(segmentIndex=coords[geometryIndex].length+segmentIndex-1),helpers.lineString([coords[geometryIndex][segmentIndex],coords[geometryIndex][segmentIndex+1]],properties,options);case"MultiLineString":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),segmentIndex<0&&(segmentIndex=coords[multiFeatureIndex].length+segmentIndex-1),helpers.lineString([coords[multiFeatureIndex][segmentIndex],coords[multiFeatureIndex][segmentIndex+1]],properties,options);case"MultiPolygon":return multiFeatureIndex<0&&(multiFeatureIndex=coords.length+multiFeatureIndex),geometryIndex<0&&(geometryIndex=coords[multiFeatureIndex].length+geometryIndex),segmentIndex<0&&(segmentIndex=coords[multiFeatureIndex][geometryIndex].length-segmentIndex-1),helpers.lineString([coords[multiFeatureIndex][geometryIndex][segmentIndex],coords[multiFeatureIndex][geometryIndex][segmentIndex+1]],properties,options)}throw new Error("geojson is invalid")},exports.flattenEach=flattenEach,exports.flattenReduce=function flattenReduce(geojson,callback,initialValue){var previousValue=initialValue;return flattenEach(geojson,(function(currentFeature,featureIndex,multiFeatureIndex){previousValue=0===featureIndex&&0===multiFeatureIndex&&void 0===initialValue?currentFeature:callback(previousValue,currentFeature,featureIndex,multiFeatureIndex)})),previousValue},exports.geomEach=geomEach,exports.geomReduce=function geomReduce(geojson,callback,initialValue){var previousValue=initialValue;return geomEach(geojson,(function(currentGeometry,featureIndex,featureProperties,featureBBox,featureId){previousValue=0===featureIndex&&void 0===initialValue?currentGeometry:callback(previousValue,currentGeometry,featureIndex,featureProperties,featureBBox,featureId)})),previousValue},exports.lineEach=lineEach,exports.lineReduce=function lineReduce(geojson,callback,initialValue){var previousValue=initialValue;return lineEach(geojson,(function(currentLine,featureIndex,multiFeatureIndex,geometryIndex){previousValue=0===featureIndex&&void 0===initialValue?currentLine:callback(previousValue,currentLine,featureIndex,multiFeatureIndex,geometryIndex)})),previousValue},exports.propEach=propEach,exports.propReduce=function propReduce(geojson,callback,initialValue){var previousValue=initialValue;return propEach(geojson,(function(currentProperties,featureIndex){previousValue=0===featureIndex&&void 0===initialValue?currentProperties:callback(previousValue,currentProperties,featureIndex)})),previousValue},exports.segmentEach=segmentEach,exports.segmentReduce=function segmentReduce(geojson,callback,initialValue){var previousValue=initialValue,started=!1;return segmentEach(geojson,(function(currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex){previousValue=!1===started&&void 0===initialValue?currentSegment:callback(previousValue,currentSegment,featureIndex,multiFeatureIndex,geometryIndex,segmentIndex),started=!0})),previousValue}},"./node_modules/@turf/midpoint/dist/js/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var bearing=__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js"),destination=__webpack_require__("./node_modules/@turf/destination/dist/js/index.js"),distance=__webpack_require__("./node_modules/@turf/distance/dist/js/index.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var bearing__default=_interopDefaultLegacy(bearing),destination__default=_interopDefaultLegacy(destination),distance__default=_interopDefaultLegacy(distance);function midpoint(point1,point2){var dist=distance__default.default(point1,point2),heading=bearing__default.default(point1,point2);return destination__default.default(point1,dist/2,heading)}module.exports=midpoint,module.exports.default=midpoint},"./node_modules/@turf/nearest-point-on-line/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var bearing_1=__importDefault(__webpack_require__("./node_modules/@turf/bearing/dist/js/index.js")),distance_1=__importDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),destination_1=__importDefault(__webpack_require__("./node_modules/@turf/destination/dist/js/index.js")),line_intersect_1=__importDefault(__webpack_require__("./node_modules/@turf/line-intersect/dist/js/index.js")),meta_1=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");exports.default=function nearestPointOnLine(lines,pt,options){void 0===options&&(options={});var closestPt=helpers_1.point([1/0,1/0],{dist:1/0}),length=0;return meta_1.flattenEach(lines,(function(line){for(var coords=invariant_1.getCoords(line),i=0;i<coords.length-1;i++){var start=helpers_1.point(coords[i]);start.properties.dist=distance_1.default(pt,start,options);var stop_1=helpers_1.point(coords[i+1]);stop_1.properties.dist=distance_1.default(pt,stop_1,options);var sectionLength=distance_1.default(start,stop_1,options),heightDistance=Math.max(start.properties.dist,stop_1.properties.dist),direction=bearing_1.default(start,stop_1),perpendicularPt1=destination_1.default(pt,heightDistance,direction+90,options),perpendicularPt2=destination_1.default(pt,heightDistance,direction-90,options),intersect=line_intersect_1.default(helpers_1.lineString([perpendicularPt1.geometry.coordinates,perpendicularPt2.geometry.coordinates]),helpers_1.lineString([start.geometry.coordinates,stop_1.geometry.coordinates])),intersectPt=null;intersect.features.length>0&&((intersectPt=intersect.features[0]).properties.dist=distance_1.default(pt,intersectPt,options),intersectPt.properties.location=length+distance_1.default(start,intersectPt,options)),start.properties.dist<closestPt.properties.dist&&((closestPt=start).properties.index=i,closestPt.properties.location=length),stop_1.properties.dist<closestPt.properties.dist&&((closestPt=stop_1).properties.index=i+1,closestPt.properties.location=length+sectionLength),intersectPt&&intersectPt.properties.dist<closestPt.properties.dist&&((closestPt=intersectPt).properties.index=i),length+=sectionLength}})),closestPt}},"./node_modules/@turf/point-to-line-distance/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var distance_1=__importDefault(__webpack_require__("./node_modules/@turf/distance/dist/js/index.js")),helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js"),meta_1=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),rhumb_distance_1=__importDefault(__webpack_require__("./node_modules/@turf/rhumb-distance/dist/js/index.js"));function dot(u,v){return u[0]*v[0]+u[1]*v[1]}function calcDistance(a,b,options){return"planar"===options.method?rhumb_distance_1.default(a,b,options):distance_1.default(a,b,options)}exports.default=function pointToLineDistance(pt,line,options){if(void 0===options&&(options={}),options.method||(options.method="geodesic"),options.units||(options.units="kilometers"),!pt)throw new Error("pt is required");if(Array.isArray(pt)?pt=helpers_1.point(pt):"Point"===pt.type?pt=helpers_1.feature(pt):invariant_1.featureOf(pt,"Point","point"),!line)throw new Error("line is required");Array.isArray(line)?line=helpers_1.lineString(line):"LineString"===line.type?line=helpers_1.feature(line):invariant_1.featureOf(line,"LineString","line");var distance=1/0,p=pt.geometry.coordinates;return meta_1.segmentEach(line,(function(segment){var a=segment.geometry.coordinates[0],b=segment.geometry.coordinates[1],d=function distanceToSegment(p,a,b,options){var v=[b[0]-a[0],b[1]-a[1]],w=[p[0]-a[0],p[1]-a[1]],c1=dot(w,v);if(c1<=0)return calcDistance(p,a,{method:options.method,units:"degrees"});var c2=dot(v,v);if(c2<=c1)return calcDistance(p,b,{method:options.method,units:"degrees"});var b2=c1/c2,Pb=[a[0]+b2*v[0],a[1]+b2*v[1]];return calcDistance(p,Pb,{method:options.method,units:"degrees"})}(p,a,b,options);d<distance&&(distance=d)})),helpers_1.convertLength(distance,"degrees",options.units)}},"./node_modules/@turf/polygon-to-line/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");function polygonToLine(poly,options){return void 0===options&&(options={}),coordsToLine(invariant_1.getGeom(poly).coordinates,options.properties?options.properties:"Feature"===poly.type?poly.properties:{})}function multiPolygonToLine(multiPoly,options){void 0===options&&(options={});var coords=invariant_1.getGeom(multiPoly).coordinates,properties=options.properties?options.properties:"Feature"===multiPoly.type?multiPoly.properties:{},lines=[];return coords.forEach((function(coord){lines.push(coordsToLine(coord,properties))})),helpers_1.featureCollection(lines)}function coordsToLine(coords,properties){return coords.length>1?helpers_1.multiLineString(coords,properties):helpers_1.lineString(coords[0],properties)}exports.default=function default_1(poly,options){void 0===options&&(options={});var geom=invariant_1.getGeom(poly);switch(options.properties||"Feature"!==poly.type||(options.properties=poly.properties),geom.type){case"Polygon":return polygonToLine(geom,options);case"MultiPolygon":return multiPolygonToLine(geom,options);default:throw new Error("invalid poly")}},exports.polygonToLine=polygonToLine,exports.multiPolygonToLine=multiPolygonToLine,exports.coordsToLine=coordsToLine},"./node_modules/@turf/rewind/dist/js/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var clone=__webpack_require__("./node_modules/@turf/clone/dist/js/index.js"),booleanClockwise=__webpack_require__("./node_modules/@turf/boolean-clockwise/dist/js/index.js"),meta=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),invariant=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js"),helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var clone__default=_interopDefaultLegacy(clone),booleanClockwise__default=_interopDefaultLegacy(booleanClockwise);function rewind(geojson,options){if(options=options||{},!helpers.isObject(options))throw new Error("options is invalid");var reverse=options.reverse||!1,mutate=options.mutate||!1;if(!geojson)throw new Error("<geojson> is required");if("boolean"!=typeof reverse)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof mutate)throw new Error("<mutate> must be a boolean");!1===mutate&&(geojson=clone__default.default(geojson));var results=[];switch(geojson.type){case"GeometryCollection":return meta.geomEach(geojson,(function(geometry){rewindFeature(geometry,reverse)})),geojson;case"FeatureCollection":return meta.featureEach(geojson,(function(feature){meta.featureEach(rewindFeature(feature,reverse),(function(result){results.push(result)}))})),helpers.featureCollection(results)}return rewindFeature(geojson,reverse)}function rewindFeature(geojson,reverse){switch("Feature"===geojson.type?geojson.geometry.type:geojson.type){case"GeometryCollection":return meta.geomEach(geojson,(function(geometry){rewindFeature(geometry,reverse)})),geojson;case"LineString":return rewindLineString(invariant.getCoords(geojson),reverse),geojson;case"Polygon":return rewindPolygon(invariant.getCoords(geojson),reverse),geojson;case"MultiLineString":return invariant.getCoords(geojson).forEach((function(lineCoords){rewindLineString(lineCoords,reverse)})),geojson;case"MultiPolygon":return invariant.getCoords(geojson).forEach((function(lineCoords){rewindPolygon(lineCoords,reverse)})),geojson;case"Point":case"MultiPoint":return geojson}}function rewindLineString(coords,reverse){booleanClockwise__default.default(coords)===reverse&&coords.reverse()}function rewindPolygon(coords,reverse){booleanClockwise__default.default(coords[0])!==reverse&&coords[0].reverse();for(var i=1;i<coords.length;i++)booleanClockwise__default.default(coords[i])===reverse&&coords[i].reverse()}module.exports=rewind,module.exports.default=rewind},"./node_modules/@turf/rhumb-bearing/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");function calculateRhumbBearing(from,to){var phi1=helpers_1.degreesToRadians(from[1]),phi2=helpers_1.degreesToRadians(to[1]),deltaLambda=helpers_1.degreesToRadians(to[0]-from[0]);deltaLambda>Math.PI&&(deltaLambda-=2*Math.PI),deltaLambda<-Math.PI&&(deltaLambda+=2*Math.PI);var deltaPsi=Math.log(Math.tan(phi2/2+Math.PI/4)/Math.tan(phi1/2+Math.PI/4)),theta=Math.atan2(deltaLambda,deltaPsi);return(helpers_1.radiansToDegrees(theta)+360)%360}exports.default=function rhumbBearing(start,end,options){var bear360;return void 0===options&&(options={}),(bear360=options.final?calculateRhumbBearing(invariant_1.getCoord(end),invariant_1.getCoord(start)):calculateRhumbBearing(invariant_1.getCoord(start),invariant_1.getCoord(end)))>180?-(360-bear360):bear360}},"./node_modules/@turf/rhumb-destination/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");exports.default=function rhumbDestination(origin,distance,bearing,options){void 0===options&&(options={});var wasNegativeDistance=distance<0,distanceInMeters=helpers_1.convertLength(Math.abs(distance),options.units,"meters");wasNegativeDistance&&(distanceInMeters=-Math.abs(distanceInMeters));var coords=invariant_1.getCoord(origin),destination=function calculateRhumbDestination(origin,distance,bearing,radius){radius=void 0===radius?helpers_1.earthRadius:Number(radius);var delta=distance/radius,lambda1=origin[0]*Math.PI/180,phi1=helpers_1.degreesToRadians(origin[1]),theta=helpers_1.degreesToRadians(bearing),DeltaPhi=delta*Math.cos(theta),phi2=phi1+DeltaPhi;Math.abs(phi2)>Math.PI/2&&(phi2=phi2>0?Math.PI-phi2:-Math.PI-phi2);var DeltaPsi=Math.log(Math.tan(phi2/2+Math.PI/4)/Math.tan(phi1/2+Math.PI/4)),q=Math.abs(DeltaPsi)>1e-11?DeltaPhi/DeltaPsi:Math.cos(phi1),DeltaLambda=delta*Math.sin(theta)/q;return[(180*(lambda1+DeltaLambda)/Math.PI+540)%360-180,180*phi2/Math.PI]}(coords,distanceInMeters,bearing);return destination[0]+=destination[0]-coords[0]>180?-360:coords[0]-destination[0]>180?360:0,helpers_1.point(destination,options.properties)}},"./node_modules/@turf/rhumb-distance/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");exports.default=function rhumbDistance(from,to,options){void 0===options&&(options={});var origin=invariant_1.getCoord(from),destination=invariant_1.getCoord(to);destination[0]+=destination[0]-origin[0]>180?-360:origin[0]-destination[0]>180?360:0;var distanceInMeters=function calculateRhumbDistance(origin,destination,radius){var R=radius=void 0===radius?helpers_1.earthRadius:Number(radius),phi1=origin[1]*Math.PI/180,phi2=destination[1]*Math.PI/180,DeltaPhi=phi2-phi1,DeltaLambda=Math.abs(destination[0]-origin[0])*Math.PI/180;DeltaLambda>Math.PI&&(DeltaLambda-=2*Math.PI);var DeltaPsi=Math.log(Math.tan(phi2/2+Math.PI/4)/Math.tan(phi1/2+Math.PI/4)),q=Math.abs(DeltaPsi)>1e-11?DeltaPhi/DeltaPsi:Math.cos(phi1);return Math.sqrt(DeltaPhi*DeltaPhi+q*q*DeltaLambda*DeltaLambda)*R}(origin,destination);return helpers_1.convertLength(distanceInMeters,"meters",options.units)}},"./node_modules/@turf/transform-rotate/dist/js/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var centroid=__webpack_require__("./node_modules/@turf/centroid/dist/js/index.js"),rhumbBearing=__webpack_require__("./node_modules/@turf/rhumb-bearing/dist/js/index.js"),rhumbDistance=__webpack_require__("./node_modules/@turf/rhumb-distance/dist/js/index.js"),rhumbDestination=__webpack_require__("./node_modules/@turf/rhumb-destination/dist/js/index.js"),clone=__webpack_require__("./node_modules/@turf/clone/dist/js/index.js"),meta=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),invariant=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js"),helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var centroid__default=_interopDefaultLegacy(centroid),rhumbBearing__default=_interopDefaultLegacy(rhumbBearing),rhumbDistance__default=_interopDefaultLegacy(rhumbDistance),rhumbDestination__default=_interopDefaultLegacy(rhumbDestination),clone__default=_interopDefaultLegacy(clone);function transformRotate(geojson,angle,options){if(options=options||{},!helpers.isObject(options))throw new Error("options is invalid");var pivot=options.pivot,mutate=options.mutate;if(!geojson)throw new Error("geojson is required");if(null==angle||isNaN(angle))throw new Error("angle is required");return 0===angle||(pivot||(pivot=centroid__default.default(geojson)),!1!==mutate&&void 0!==mutate||(geojson=clone__default.default(geojson)),meta.coordEach(geojson,(function(pointCoords){var finalAngle=rhumbBearing__default.default(pivot,pointCoords)+angle,distance=rhumbDistance__default.default(pivot,pointCoords),newCoords=invariant.getCoords(rhumbDestination__default.default(pivot,distance,finalAngle));pointCoords[0]=newCoords[0],pointCoords[1]=newCoords[1]}))),geojson}module.exports=transformRotate,module.exports.default=transformRotate},"./node_modules/@turf/transform-scale/dist/js/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var clone=__webpack_require__("./node_modules/@turf/clone/dist/js/index.js"),center=__webpack_require__("./node_modules/@turf/center/dist/js/index.js"),centroid=__webpack_require__("./node_modules/@turf/centroid/dist/js/index.js"),turfBBox=__webpack_require__("./node_modules/@turf/bbox/dist/js/index.js"),rhumbBearing=__webpack_require__("./node_modules/@turf/rhumb-bearing/dist/js/index.js"),rhumbDistance=__webpack_require__("./node_modules/@turf/rhumb-distance/dist/js/index.js"),rhumbDestination=__webpack_require__("./node_modules/@turf/rhumb-destination/dist/js/index.js"),meta=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var clone__default=_interopDefaultLegacy(clone),center__default=_interopDefaultLegacy(center),centroid__default=_interopDefaultLegacy(centroid),turfBBox__default=_interopDefaultLegacy(turfBBox),rhumbBearing__default=_interopDefaultLegacy(rhumbBearing),rhumbDistance__default=_interopDefaultLegacy(rhumbDistance),rhumbDestination__default=_interopDefaultLegacy(rhumbDestination);function transformScale(geojson,factor,options){if(options=options||{},!helpers.isObject(options))throw new Error("options is invalid");var origin=options.origin,mutate=options.mutate;if(!geojson)throw new Error("geojson required");if("number"!=typeof factor||0===factor)throw new Error("invalid factor");var originIsPoint=Array.isArray(origin)||"object"==typeof origin;return!0!==mutate&&(geojson=clone__default.default(geojson)),"FeatureCollection"!==geojson.type||originIsPoint?scale(geojson,factor,origin):(meta.featureEach(geojson,(function(feature,index){geojson.features[index]=scale(feature,factor,origin)})),geojson)}function scale(feature,factor,origin){var isPoint="Point"===invariant.getType(feature);return origin=function defineOrigin(geojson,origin){null==origin&&(origin="centroid");if(Array.isArray(origin)||"object"==typeof origin)return invariant.getCoord(origin);var bbox=geojson.bbox?geojson.bbox:turfBBox__default.default(geojson),west=bbox[0],south=bbox[1],east=bbox[2],north=bbox[3];switch(origin){case"sw":case"southwest":case"westsouth":case"bottomleft":return helpers.point([west,south]);case"se":case"southeast":case"eastsouth":case"bottomright":return helpers.point([east,south]);case"nw":case"northwest":case"westnorth":case"topleft":return helpers.point([west,north]);case"ne":case"northeast":case"eastnorth":case"topright":return helpers.point([east,north]);case"center":return center__default.default(geojson);case void 0:case null:case"centroid":return centroid__default.default(geojson);default:throw new Error("invalid origin")}}(feature,origin),1===factor||isPoint||meta.coordEach(feature,(function(coord){var originalDistance=rhumbDistance__default.default(origin,coord),bearing=rhumbBearing__default.default(origin,coord),newDistance=originalDistance*factor,newCoord=invariant.getCoords(rhumbDestination__default.default(origin,newDistance,bearing));coord[0]=newCoord[0],coord[1]=newCoord[1],3===coord.length&&(coord[2]*=factor)})),feature}module.exports=transformScale,module.exports.default=transformScale},"./node_modules/@turf/transform-translate/dist/js/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var meta=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),invariant=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js"),clone=__webpack_require__("./node_modules/@turf/clone/dist/js/index.js"),rhumbDestination=__webpack_require__("./node_modules/@turf/rhumb-destination/dist/js/index.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var clone__default=_interopDefaultLegacy(clone),rhumbDestination__default=_interopDefaultLegacy(rhumbDestination);function transformTranslate(geojson,distance,direction,options){if(options=options||{},!helpers.isObject(options))throw new Error("options is invalid");var units=options.units,zTranslation=options.zTranslation,mutate=options.mutate;if(!geojson)throw new Error("geojson is required");if(null==distance||isNaN(distance))throw new Error("distance is required");if(zTranslation&&"number"!=typeof zTranslation&&isNaN(zTranslation))throw new Error("zTranslation is not a number");if(zTranslation=void 0!==zTranslation?zTranslation:0,0===distance&&0===zTranslation)return geojson;if(null==direction||isNaN(direction))throw new Error("direction is required");return distance<0&&(distance=-distance,direction+=180),!1!==mutate&&void 0!==mutate||(geojson=clone__default.default(geojson)),meta.coordEach(geojson,(function(pointCoords){var newCoords=invariant.getCoords(rhumbDestination__default.default(pointCoords,distance,direction,{units:units}));pointCoords[0]=newCoords[0],pointCoords[1]=newCoords[1],zTranslation&&3===pointCoords.length&&(pointCoords[2]+=zTranslation)})),geojson}module.exports=transformTranslate,module.exports.default=transformTranslate},"./node_modules/@turf/union/dist/js/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var polygon_clipping_1=__importDefault(__webpack_require__("./node_modules/polygon-clipping/dist/polygon-clipping.umd.js")),invariant_1=__webpack_require__("./node_modules/@turf/invariant/dist/js/index.js"),helpers_1=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js");exports.default=function union(poly1,poly2,options){void 0===options&&(options={});var geom1=invariant_1.getGeom(poly1),geom2=invariant_1.getGeom(poly2),unioned=polygon_clipping_1.default.union(geom1.coordinates,geom2.coordinates);return 0===unioned.length?null:1===unioned.length?helpers_1.polygon(unioned[0],options.properties):helpers_1.multiPolygon(unioned,options.properties)}},"./node_modules/@vivaxy/png/lib/decode/decode-idat.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pako=__webpack_require__("./node_modules/pako/index.js"),color_types_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/color-types.js"),filters_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/filters.js"),rescale_sample_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/rescale-sample.js"),channels_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/channels.js"),interlace_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/interlace.js");exports.default=function decodeIDAT(deflatedData,interlace,colorType,width,height,depth,palette,transparent){let pixels=[];const inflatedData=pako.inflate(deflatedData),images=interlace_1.buildImages(interlace,width,height),bitPerPixel=color_types_1.COLOR_TYPES_TO_CHANNEL_PER_PIXEL[colorType]*depth,bytePerPixel=bitPerPixel>>3||1;let dataIndex=0,prevUnfilteredLine=new Uint8Array;for(let imageIndex=0;imageIndex<images.length;imageIndex++){const{passWidth:passWidth,passHeight:passHeight,passIndex:passIndex}=images[imageIndex];for(let heightIndex=0;heightIndex<passHeight;heightIndex++){const scanlineWidth=(passWidth*bitPerPixel+7>>3)+filters_1.FILTER_LENGTH,filterType=inflatedData[dataIndex];if(!(filterType in filters_1.FILTER_TYPES))throw new Error("Unsupported filter type: "+filterType);const unfilteredLine=(0,filters_1.unfilters[filterType])(inflatedData.slice(dataIndex+1,dataIndex+scanlineWidth),bytePerPixel,prevUnfilteredLine);prevUnfilteredLine=unfilteredLine;let channelIndex=0;const channels=channels_1.typedArrayToChannels(unfilteredLine,depth);function getPixelFromChannels(){if(colorType===color_types_1.COLOR_TYPES.GRAYSCALE){const color=rescale_sample_1.default(channels[channelIndex++],depth,8);return[color,color,color,255]}if(colorType===color_types_1.COLOR_TYPES.TRUE_COLOR)return[rescale_sample_1.default(channels[channelIndex++],depth,8),rescale_sample_1.default(channels[channelIndex++],depth,8),rescale_sample_1.default(channels[channelIndex++],depth,8),255];if(colorType===color_types_1.COLOR_TYPES.PALETTE){const paletteIndex=channels[channelIndex++];if(!palette)throw new Error("Mising chunk: PLTE");return palette[paletteIndex]}if(colorType===color_types_1.COLOR_TYPES.GRAYSCALE_WITH_ALPHA){const color=rescale_sample_1.default(channels[channelIndex++],depth,8);return[color,color,color,rescale_sample_1.default(channels[channelIndex++],depth,8)]}if(colorType===color_types_1.COLOR_TYPES.TRUE_COLOR_WITH_ALPHA)return[rescale_sample_1.default(channels[channelIndex++],depth,8),rescale_sample_1.default(channels[channelIndex++],depth,8),rescale_sample_1.default(channels[channelIndex++],depth,8),rescale_sample_1.default(channels[channelIndex++],depth,8)];throw new Error("Unsupported color type: "+colorType)}for(let widthIndex=0;widthIndex<passWidth;widthIndex++){const pixel=getPixelFromChannels();transparent&&pixel[0]===transparent[0]&&pixel[1]===transparent[1]&&pixel[2]===transparent[2]&&(pixel[3]=0);const pixelIndex=interlace_1.getPixelIndex(interlace,width,passIndex,widthIndex,heightIndex);for(let i=0;i<pixel.length;i++)pixels[pixelIndex+i]=pixel[i]}dataIndex+=scanlineWidth}}return pixels}},"./node_modules/@vivaxy/png/lib/decode/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pako=__webpack_require__("./node_modules/pako/index.js"),crc32_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/crc32.js"),decode_idat_1=__webpack_require__("./node_modules/@vivaxy/png/lib/decode/decode-idat.js"),signature_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/signature.js"),gamma_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/gamma.js"),color_types_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/color-types.js"),rescale_sample_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/rescale-sample.js"),utf8_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/utf8.js"),typed_array_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/typed-array.js"),chromaticities_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/chromaticities.js");exports.default=function decode(arrayBuffer){const typedArray=new Uint8Array(arrayBuffer);let idatUint8Array=new Uint8Array;const metadata={width:0,height:0,depth:0,colorType:0,compression:0,interlace:0,filter:0,data:[]};let index=0;function readUInt32BE(){return typedArray[index++]<<24|typedArray[index++]<<16|typedArray[index++]<<8|typedArray[index++]}function readUInt16BE(){return typedArray[index++]<<8|typedArray[index++]}function readUInt8(){return typedArray[index++]}function readStringBeforeNull(maxLength){const maxIndex=index+maxLength;let result="";for(;index<maxIndex;){const byte=readUInt8();if(0===byte)break;result+=String.fromCharCode(byte)}return result}function readCompressedData(endIndex){const compressedData=typedArray.slice(index,endIndex);return index=endIndex,pako.inflate(compressedData)}for(;index<signature_1.default.length;index++)if(typedArray[index]!==signature_1.default[index])throw new Error(`Invalid file signature, at position ${index}: ${typedArray[index]} !== ${signature_1.default[index]}`);const chunkHandlers={IHDR:function parseIHDR(){metadata.width=readUInt32BE(),metadata.height=readUInt32BE(),metadata.depth=readUInt8();const colorType=readUInt8();if(!(colorType in color_types_1.COLOR_TYPES))throw new Error("Unsupported color type: "+colorType);metadata.colorType=colorType,metadata.compression=readUInt8(),metadata.filter=readUInt8(),metadata.interlace=readUInt8()},PLTE:function parsePLTE(length){const palette=[];for(let i=0;i<length;i+=3)palette.push([typedArray[index++],typedArray[index++],typedArray[index++],255]);metadata.palette=palette},IDAT:function parseIDAT(length){idatUint8Array=typed_array_1.concatUInt8Array(idatUint8Array,typedArray.slice(index,index+length)),index+=length},IEND:function parseIEND(length){index+=length},tRNS:function parseTRNS(length){if(metadata.colorType===color_types_1.COLOR_TYPES.GRAYSCALE){const color=rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8);metadata.transparent=[color,color,color,255]}else if(metadata.colorType===color_types_1.COLOR_TYPES.TRUE_COLOR)metadata.transparent=[rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8),rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8),rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8),255];else if(metadata.colorType===color_types_1.COLOR_TYPES.PALETTE){if(!metadata.palette)throw new Error("Missing chunk: PLTE");for(let i=0;i<length;i++)metadata.palette[i][3]=typedArray[index++]}},cHRM:function parseCHRM(){metadata.chromaticities={white:{x:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION,y:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION},red:{x:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION,y:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION},green:{x:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION,y:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION},blue:{x:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION,y:readUInt32BE()/chromaticities_1.CHROMATICITIES_DIVISION}}},gAMA:function parseGAMA(){metadata.gamma=readUInt32BE()/gamma_1.GAMMA_DIVISION},iCCP:function parseICCP(length){const endIndex=index+length,profileName=readStringBeforeNull(80);readUInt8();const profile=readCompressedData(endIndex);metadata.icc={name:profileName,profile:Array.from(profile)}},sBIT:function parseSBIT(){if(metadata.colorType===color_types_1.COLOR_TYPES.GRAYSCALE){const sBit=readUInt8();metadata.significantBits=[sBit,sBit,sBit,metadata.depth]}else if(metadata.colorType===color_types_1.COLOR_TYPES.TRUE_COLOR||metadata.colorType===color_types_1.COLOR_TYPES.PALETTE)metadata.significantBits=[readUInt8(),readUInt8(),readUInt8(),metadata.depth];else if(metadata.colorType===color_types_1.COLOR_TYPES.GRAYSCALE_WITH_ALPHA){const sBit=readUInt8();metadata.significantBits=[sBit,sBit,sBit,readUInt8()]}else metadata.colorType===color_types_1.COLOR_TYPES.TRUE_COLOR_WITH_ALPHA&&(metadata.significantBits=[readUInt8(),readUInt8(),readUInt8(),readUInt8()])},sRGB:function parseSRGB(){metadata.sRGB=readUInt8()},tEXt:function parseTEXT(length){const endIndex=index+length,keyword=readStringBeforeNull(80),value=function readStringBeforeEnd(endIndex){let result="";for(;index<endIndex;){const byte=readUInt8();result+=String.fromCharCode(byte)}return result}(endIndex);metadata.text||(metadata.text={});metadata.text[keyword]=value},zTXt:function parseZTXT(length){const endIndex=index+length,keyword=readStringBeforeNull(80);readUInt8();const data=readCompressedData(endIndex);let value="";for(let i=0;i<data.length;i++)value+=String.fromCharCode(data[i]);metadata.compressedText||(metadata.compressedText={});metadata.compressedText[keyword]=value},iTXt:function parseITXT(length){const endIndex=index+length,keyword=readStringBeforeNull(80),compressionFlag=readUInt8(),languageTag=(readUInt8(),readStringBeforeNull(1/0)),translatedKeyword=utf8_1.decode(function readBytesBeforeNull(){const results=[];let byte=0;for(;0!==(byte=typedArray[index++]);)results.push(byte);return new Uint8Array(results)}());let text="";if(0===compressionFlag)text=utf8_1.decode(typedArray.slice(index,endIndex)),index=endIndex;else{const data=readCompressedData(endIndex);text=utf8_1.decode(data)}metadata.internationalText||(metadata.internationalText={});metadata.internationalText[keyword]={languageTag:languageTag,translatedKeyword:translatedKeyword,text:text}},bKGD:function parseBKGD(){if((3&metadata.colorType)===color_types_1.COLOR_TYPES.GRAYSCALE){const color=rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8);metadata.background=[color,color,color,255]}else if((3&metadata.colorType)===color_types_1.COLOR_TYPES.TRUE_COLOR)metadata.background=[rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8),rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8),rescale_sample_1.default(typedArray[index++]<<8|typedArray[index++],metadata.depth,8),255];else if(metadata.colorType===color_types_1.COLOR_TYPES.PALETTE){if(!metadata.palette)throw new Error("Missing chunk: PLTE");metadata.background=metadata.palette[typedArray[index++]]}},hIST:function parseHIST(length){const endIndex=index+length,histogram=[];for(;index<endIndex;)histogram.push(readUInt16BE());metadata.histogram=histogram},pHYs:function parsePHYS(){const pixelPerUnitX=readUInt32BE(),pixelPerUnitY=readUInt32BE(),unit=readUInt8();metadata.physicalDimensions={pixelPerUnitX:pixelPerUnitX,pixelPerUnitY:pixelPerUnitY,unit:unit}},sPLT:function parseSPLT(length){const endIndex=index+length,name=readStringBeforeNull(80),depth=readUInt8(),palette=[];if(8===depth)for(;index<endIndex;)palette.push([readUInt8(),readUInt8(),readUInt8(),readUInt8(),readUInt16BE()]);else if(16===depth)for(;index<endIndex;)palette.push([readUInt16BE(),readUInt16BE(),readUInt16BE(),readUInt16BE(),readUInt16BE()]);metadata.suggestedPalette={name:name,depth:depth,palette:palette}},tIME:function parseTIME(){const year=readUInt16BE(),month=readUInt8(),day=readUInt8(),hour=readUInt8(),minute=readUInt8(),second=readUInt8();metadata.lastModificationTime=Date.UTC(year,month-1,day,hour,minute,second)}};function parseChunkBegin(){const startIndex=index,length=readUInt32BE(),type=function readChunkType(){let name="";for(const end=index+4;index<end;index++)name+=String.fromCharCode(typedArray[index]);return name}();if(chunkHandlers[type])chunkHandlers[type](length);else{Boolean(32&type.charCodeAt(0));index+=length}!function parseChunkEnd(startIndex,length){const fileCrc32=readUInt32BE(),calculatedCrc32=crc32_1.default(typedArray.slice(startIndex+4,startIndex+8+length));if(fileCrc32!==calculatedCrc32)throw new Error("Crc32 error: calculated "+calculatedCrc32+", expected "+fileCrc32);index<typedArray.length&&parseChunkBegin()}(startIndex,length)}return parseChunkBegin(),metadata.data=decode_idat_1.default(idatUint8Array,metadata.interlace,metadata.colorType,metadata.width,metadata.height,metadata.depth,metadata.palette,metadata.transparent),metadata}},"./node_modules/@vivaxy/png/lib/encode/encode-idat.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pako=__webpack_require__("./node_modules/pako/index.js"),rescale_sample_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/rescale-sample.js"),typed_array_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/typed-array.js"),channels_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/channels.js"),interlace_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/interlace.js"),filters_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/filters.js"),color_types_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/color-types.js");exports.default=function encodeIDAT(data,width,height,colorType,depth,interlace,palette){let typedArray=new Uint8Array;const channelPerPixel=color_types_1.COLOR_TYPES_TO_CHANNEL_PER_PIXEL[colorType],bytePerPixel=channelPerPixel*depth>>3||1,images=interlace_1.buildImages(interlace,width,height);for(let imageIndex=0;imageIndex<images.length;imageIndex++){let prevUnfilteredLine=new Uint8Array;const{passWidth:passWidth,passHeight:passHeight,passIndex:passIndex}=images[imageIndex],scanlineWidth=(passWidth*channelPerPixel*depth+7>>3)+filters_1.FILTER_LENGTH;for(let heightIndex=0;heightIndex<passHeight;heightIndex++){const channels=[];for(let widthIndex=0;widthIndex<passWidth;widthIndex++){const pixelIndex=interlace_1.getPixelIndex(interlace,width,passIndex,widthIndex,heightIndex),pixel=data.slice(pixelIndex,pixelIndex+4);if(colorType===color_types_1.COLOR_TYPES.GRAYSCALE)channels.push(rescale_sample_1.default(pixel[0],8,depth));else if(colorType===color_types_1.COLOR_TYPES.TRUE_COLOR)channels.push(rescale_sample_1.default(pixel[0],8,depth),rescale_sample_1.default(pixel[1],8,depth),rescale_sample_1.default(pixel[2],8,depth));else if(colorType===color_types_1.COLOR_TYPES.PALETTE){if(!palette)throw new Error("Palette is required");let paletteIndex=-1;for(let i=0;i<palette.length;i++){const paletteColor=palette[i];paletteColor[0]===pixel[0]&&paletteColor[1]===pixel[1]&&paletteColor[2]==pixel[2]&&paletteColor[3]===pixel[3]&&(paletteIndex=i)}if(-1===paletteIndex)throw new Error("Invalid palette. Color ("+pixel.join(", ")+") is not in palette");channels.push(paletteIndex)}else colorType===color_types_1.COLOR_TYPES.GRAYSCALE_WITH_ALPHA?channels.push(rescale_sample_1.default(pixel[0],8,depth),rescale_sample_1.default(pixel[3],8,depth)):colorType===color_types_1.COLOR_TYPES.TRUE_COLOR_WITH_ALPHA&&channels.push(rescale_sample_1.default(pixel[0],8,depth),rescale_sample_1.default(pixel[1],8,depth),rescale_sample_1.default(pixel[2],8,depth),rescale_sample_1.default(pixel[3],8,depth))}const unfilteredLine=channels_1.channelsToTypedArray(channels,depth,scanlineWidth-filters_1.FILTER_LENGTH);let minFilterSum=1/0,filteredLine=new Uint8Array,filterType=0;const filterTypes=[filters_1.FILTER_TYPES.NONE,filters_1.FILTER_TYPES.SUB,filters_1.FILTER_TYPES.UP,filters_1.FILTER_TYPES.AVERAGE,filters_1.FILTER_TYPES.PAETH];for(let filterIndex=0;filterIndex<filterTypes.length;filterIndex++){const currentFilterType=filterTypes[filterIndex],{sum:sum,filtered:filtered}=filters_1.filters[currentFilterType](unfilteredLine,bytePerPixel,prevUnfilteredLine);sum<minFilterSum&&(minFilterSum=sum,filteredLine=filtered,filterType=currentFilterType)}prevUnfilteredLine=unfilteredLine,typedArray=typed_array_1.concatUInt8Array(typedArray,typed_array_1.concatUInt8Array(new Uint8Array([filterType]),filteredLine))}}return pako.deflate(typedArray)}},"./node_modules/@vivaxy/png/lib/encode/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pako=__webpack_require__("./node_modules/pako/index.js"),crc32_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/crc32.js"),encode_idat_1=__webpack_require__("./node_modules/@vivaxy/png/lib/encode/encode-idat.js"),signature_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/signature.js"),gamma_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/gamma.js"),color_types_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/color-types.js"),rescale_sample_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/rescale-sample.js"),utf8_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/utf8.js"),typed_array_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/typed-array.js"),chromaticities_1=__webpack_require__("./node_modules/@vivaxy/png/lib/helpers/chromaticities.js");exports.default=function encode(metadata){let typedArray=new Uint8Array(signature_1.default);function packUInt32BE(value){return new Uint8Array([value>>24&255,value>>16&255,value>>8&255,255&value])}function packUInt8(value){return new Uint8Array([255&value])}function packString(name){const data=new Uint8Array(name.length);for(let i=0;i<name.length;i++)data[i]=name.charCodeAt(i);return data}const chunkPackers={IHDR:function packIHDR(){let data=new Uint8Array;return data=typed_array_1.concatUInt8Array(data,packUInt32BE(metadata.width)),data=typed_array_1.concatUInt8Array(data,packUInt32BE(metadata.height)),data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.depth)),data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.colorType)),data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.compression)),data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.filter)),data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.interlace)),data},tIME:function packTIME(){if(!metadata.lastModificationTime)return new Uint8Array;const data=new Uint8Array(7),date=new Date(metadata.lastModificationTime),year=date.getUTCFullYear();return data[0]=year>>8&255,data[1]=255&year,data[2]=date.getUTCMonth()+1,data[3]=date.getUTCDate(),data[4]=date.getUTCHours(),data[5]=date.getUTCMinutes(),data[6]=date.getUTCSeconds(),data},sRGB:function packSRGB(){if(void 0!==metadata.sRGB)return packUInt8(metadata.sRGB);return new Uint8Array},pHYs:function packPHYS(){let data=new Uint8Array;metadata.physicalDimensions&&(data=typed_array_1.concatUInt8Array(data,packUInt32BE(metadata.physicalDimensions.pixelPerUnitX)),data=typed_array_1.concatUInt8Array(data,packUInt32BE(metadata.physicalDimensions.pixelPerUnitY)),data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.physicalDimensions.unit)));return data},sPLT:function packSPLT(){if(!metadata.suggestedPalette)return new Uint8Array;let data=typed_array_1.concatUInt8Array(packString(metadata.suggestedPalette.name),packUInt8(0));data=typed_array_1.concatUInt8Array(data,packUInt8(metadata.suggestedPalette.depth));for(let i=0;i<metadata.suggestedPalette.palette.length;i++){const palette=metadata.suggestedPalette.palette[i];if(8===metadata.suggestedPalette.depth){const paletteData=new Uint8Array([palette[0],palette[1],palette[2],palette[3],palette[4]>>8&255,255&palette[4]]);data=typed_array_1.concatUInt8Array(data,paletteData)}else if(16===metadata.suggestedPalette.depth){const paletteData=new Uint8Array(10);for(let i=0;i<5;i++)paletteData[2*i]=palette[i]>>8&255,paletteData[2*i+1]=255&palette[i];data=typed_array_1.concatUInt8Array(data,paletteData)}}return data},iCCP:function packICCP(){if(!metadata.icc)return new Uint8Array;let data=packString(metadata.icc.name);return data=typed_array_1.concatUInt8Array(data,packUInt8(0)),data=typed_array_1.concatUInt8Array(data,packUInt8(0)),data=typed_array_1.concatUInt8Array(data,pako.deflate(metadata.icc.profile)),data},sBIT:function packSBIT(){if(!metadata.significantBits)return new Uint8Array;if(metadata.colorType===color_types_1.COLOR_TYPES.GRAYSCALE)return packUInt8(metadata.significantBits[0]);if(metadata.colorType===color_types_1.COLOR_TYPES.TRUE_COLOR||metadata.colorType===color_types_1.COLOR_TYPES.PALETTE){const data=new Uint8Array(3);for(let i=0;i<3;i++)data[i]=metadata.significantBits[i];return data}if(metadata.colorType===color_types_1.COLOR_TYPES.GRAYSCALE_WITH_ALPHA)return typed_array_1.concatUInt8Array(packUInt8(metadata.significantBits[0]),packUInt8(metadata.significantBits[3]));if(metadata.colorType===color_types_1.COLOR_TYPES.TRUE_COLOR_WITH_ALPHA){const data=new Uint8Array(4);for(let i=0;i<4;i++)data[i]=metadata.significantBits[i];return data}return new Uint8Array},gAMA:function packGAMA(){if(void 0!==metadata.gamma)return packUInt32BE(metadata.gamma*gamma_1.GAMMA_DIVISION);return new Uint8Array},cHRM:function packCHRM(){if(!metadata.chromaticities)return new Uint8Array;const{chromaticities:chromaticities}=metadata;let data=new Uint8Array;return["white","red","green","blue"].forEach((function(color){["x","y"].forEach((function(axis){data=typed_array_1.concatUInt8Array(data,packUInt32BE(chromaticities[color][axis]*chromaticities_1.CHROMATICITIES_DIVISION))}))})),data},PLTE:function packPLTE(){const data=[];if(metadata.palette)for(let i=0;i<metadata.palette.length;i++){const palette=metadata.palette[i];data.push(palette[0],palette[1],palette[2])}return new Uint8Array(data)},tRNS:function packTRNS(){const data=[];if(metadata.colorType===color_types_1.COLOR_TYPES.GRAYSCALE){if(metadata.transparent){const color=rescale_sample_1.default(metadata.transparent[0],8,metadata.depth);data.push(color>>8&255,255&color)}}else if(metadata.colorType===color_types_1.COLOR_TYPES.TRUE_COLOR){if(metadata.transparent)for(let i=0;i<3;i++){const color=rescale_sample_1.default(metadata.transparent[i],8,metadata.depth);data.push(color>>8&255,255&color)}}else if(metadata.colorType===color_types_1.COLOR_TYPES.PALETTE){if(!metadata.palette)throw new Error("Palette is required");const{palette:palette}=metadata;let transparent=!1;for(let i=0;i<palette.length;i++)data.push(palette[i][3]),255!==palette[i][3]&&(transparent=!0);if(!transparent)return new Uint8Array}return new Uint8Array(data)},hIST:function packHIST(){const data=[];metadata.histogram&&metadata.histogram.forEach((function(value){data.push(value>>8&255,255&value)}));return new Uint8Array},bKGD:function packBKGD(){if(!metadata.background)return new Uint8Array;if((3&metadata.colorType)===color_types_1.COLOR_TYPES.GRAYSCALE){return function packUInt16BE(value){return new Uint8Array([value>>8&255,255&value])}(rescale_sample_1.default(metadata.background[0],8,metadata.depth))}if((3&metadata.colorType)===color_types_1.COLOR_TYPES.TRUE_COLOR){const data=new Uint8Array(6);for(let i=0;i<3;i++){const color=rescale_sample_1.default(metadata.background[i],8,metadata.depth);data[2*i]=color>>8&255,data[2*i+1]=255&color}return data}if(metadata.colorType===color_types_1.COLOR_TYPES.PALETTE){if(!metadata.palette)throw new Error("Missing chunk: PLTE");let index=-1;for(let paletteIndex=0;paletteIndex<metadata.palette.length;paletteIndex++)for(let i=0;i<4;i++)if(metadata.palette[paletteIndex][i]===metadata.background[i]){index=paletteIndex;break}if(-1===index)throw new Error("Background not in palette");return packUInt8(index)}return new Uint8Array},IDAT:function packIDAT(){return encode_idat_1.default(metadata.data,metadata.width,metadata.height,metadata.colorType,metadata.depth,metadata.interlace,metadata.palette)},IEND:function packIEND(){return new Uint8Array}};function addChunk(chunkName,data){const nameData=packString(chunkName),lengthData=packUInt32BE(data.length),typeAndData=typed_array_1.concatUInt8Array(nameData,data),endData=packUInt32BE(crc32_1.default(typeAndData)),chunkData=typed_array_1.concatUInt8Array(typed_array_1.concatUInt8Array(lengthData,typeAndData),endData);typedArray=typed_array_1.concatUInt8Array(typedArray,chunkData)}return metadata.text&&Object.keys(metadata.text).forEach((function(keyword){let data=typed_array_1.concatUInt8Array(packString(keyword),packUInt8(0));data=typed_array_1.concatUInt8Array(data,packString(metadata.text[keyword])),addChunk("tEXt",data)})),metadata.compressedText&&Object.keys(metadata.compressedText).forEach((function(keyword){let data=typed_array_1.concatUInt8Array(packString(keyword),packUInt8(0));data=typed_array_1.concatUInt8Array(data,packUInt8(0)),data=typed_array_1.concatUInt8Array(data,pako.deflate(packString(metadata.compressedText[keyword]))),addChunk("zTXt",data)})),metadata.internationalText&&Object.keys(metadata.internationalText).forEach((function(keyword){const{languageTag:languageTag,translatedKeyword:translatedKeyword,text:text}=metadata.internationalText[keyword],textData=utf8_1.encode(text),compressedTextData=pako.deflate(textData),compressionFlag=compressedTextData.length<textData.length?1:0;let data=typed_array_1.concatUInt8Array(packString(keyword),packUInt8(0));data=typed_array_1.concatUInt8Array(data,packUInt8(compressionFlag)),data=typed_array_1.concatUInt8Array(data,packUInt8(0)),data=typed_array_1.concatUInt8Array(data,packString(languageTag)),data=typed_array_1.concatUInt8Array(data,packUInt8(0)),data=typed_array_1.concatUInt8Array(data,utf8_1.encode(translatedKeyword)),data=typed_array_1.concatUInt8Array(data,packUInt8(0)),data=typed_array_1.concatUInt8Array(data,compressionFlag?compressedTextData:textData),addChunk("iTXt",data)})),Object.keys(chunkPackers).forEach((function(chunkName){const data=chunkPackers[chunkName]();(data.length>0||"IEND"===chunkName)&&addChunk(chunkName,data)})),typedArray}},"./node_modules/@vivaxy/png/lib/helpers/channels.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.typedArrayToChannels=function typedArrayToChannels(typedArray,depth){const channels=[];let typedArrayIndex=0;for(;typedArrayIndex<typedArray.length;)if(1===depth){const uint8=typedArray[typedArrayIndex++];channels.push(uint8>>7&1,uint8>>6&1,uint8>>5&1,uint8>>4&1,uint8>>3&1,uint8>>2&1,uint8>>1&1,1&uint8)}else if(2===depth){const uint8=typedArray[typedArrayIndex++];channels.push(uint8>>6&3,uint8>>4&3,uint8>>2&3,3&uint8)}else if(4===depth){const uint8=typedArray[typedArrayIndex++];channels.push(uint8>>4&15,15&uint8)}else if(8===depth){const uint8=typedArray[typedArrayIndex++];channels.push(uint8)}else{if(16!==depth)throw new Error("Unsupported depth: "+depth);channels.push(typedArray[typedArrayIndex++]<<8|typedArray[typedArrayIndex++])}return channels},exports.channelsToTypedArray=function channelsToTypedArray(channels,depth,dataLength){const typedArray=new Uint8Array(dataLength);let typedArrayIndex=0,channelIndex=0;for(;channelIndex<channels.length;)if(1===depth)typedArray[typedArrayIndex++]=(1&channels[channelIndex++])<<7|(1&channels[channelIndex++])<<6|(1&channels[channelIndex++])<<5|(1&channels[channelIndex++])<<4|(1&channels[channelIndex++])<<3|(1&channels[channelIndex++])<<2|(1&channels[channelIndex++])<<1|1&channels[channelIndex++];else if(2===depth)typedArray[typedArrayIndex++]=(3&channels[channelIndex++])<<6|(3&channels[channelIndex++])<<4|(3&channels[channelIndex++])<<2|3&channels[channelIndex++];else if(4===depth)typedArray[typedArrayIndex++]=(15&channels[channelIndex++])<<4|15&channels[channelIndex++];else if(8===depth)typedArray[typedArrayIndex++]=channels[channelIndex++];else{if(16!==depth)throw new Error("Unsupported depth: "+depth);{const channel=channels[channelIndex++];typedArray[typedArrayIndex++]=channel>>8&255,typedArray[typedArrayIndex++]=255&channel}}return typedArray}},"./node_modules/@vivaxy/png/lib/helpers/chromaticities.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CHROMATICITIES_DIVISION=1e5},"./node_modules/@vivaxy/png/lib/helpers/color-types.js":function(__unused_webpack_module,exports){"use strict";var COLOR_TYPES;Object.defineProperty(exports,"__esModule",{value:!0}),function(COLOR_TYPES){COLOR_TYPES[COLOR_TYPES.GRAYSCALE=0]="GRAYSCALE",COLOR_TYPES[COLOR_TYPES.TRUE_COLOR=2]="TRUE_COLOR",COLOR_TYPES[COLOR_TYPES.PALETTE=3]="PALETTE",COLOR_TYPES[COLOR_TYPES.GRAYSCALE_WITH_ALPHA=4]="GRAYSCALE_WITH_ALPHA",COLOR_TYPES[COLOR_TYPES.TRUE_COLOR_WITH_ALPHA=6]="TRUE_COLOR_WITH_ALPHA"}(COLOR_TYPES=exports.COLOR_TYPES||(exports.COLOR_TYPES={})),exports.COLOR_TYPES_TO_CHANNEL_PER_PIXEL={[COLOR_TYPES.GRAYSCALE]:1,[COLOR_TYPES.TRUE_COLOR]:3,[COLOR_TYPES.PALETTE]:1,[COLOR_TYPES.GRAYSCALE_WITH_ALPHA]:2,[COLOR_TYPES.TRUE_COLOR_WITH_ALPHA]:4}},"./node_modules/@vivaxy/png/lib/helpers/crc32.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const crcTable=[];for(let i=0;i<256;i++){let currentCrc=i;for(let j=0;j<8;j++)1&currentCrc?currentCrc=3988292384^currentCrc>>>1:currentCrc>>>=1;crcTable[i]=currentCrc}exports.default=function crc32(buf){let crc=-1;for(let i=0;i<buf.length;i++)crc=crcTable[255&(crc^buf[i])]^crc>>>8;return-1^crc}},"./node_modules/@vivaxy/png/lib/helpers/filters.js":function(__unused_webpack_module,exports){"use strict";var FILTER_TYPES;function paeth(left,above,upperLeft){const p=left+above-upperLeft,pa=Math.abs(p-left),pb=Math.abs(p-above),pc=Math.abs(p-upperLeft);return pa<=pb&&pa<=pc?left:pb<=pc?above:upperLeft}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FILTER_LENGTH=1,function(FILTER_TYPES){FILTER_TYPES[FILTER_TYPES.NONE=0]="NONE",FILTER_TYPES[FILTER_TYPES.SUB=1]="SUB",FILTER_TYPES[FILTER_TYPES.UP=2]="UP",FILTER_TYPES[FILTER_TYPES.AVERAGE=3]="AVERAGE",FILTER_TYPES[FILTER_TYPES.PAETH=4]="PAETH"}(FILTER_TYPES=exports.FILTER_TYPES||(exports.FILTER_TYPES={})),exports.unfilters={[FILTER_TYPES.NONE](data){return data},[FILTER_TYPES.SUB](data,bytePerPixel){const unfiltered=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const left=unfiltered[i-bytePerPixel]||0;unfiltered[i]=data[i]+left}return unfiltered},[FILTER_TYPES.UP](data,bytePerPixel,prevUnfilteredLine){const unfilteredLine=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const up=prevUnfilteredLine[i]||0;unfilteredLine[i]=up+data[i]}return unfilteredLine},[FILTER_TYPES.AVERAGE](data,bytePerPixel,prevUnfilteredLine){const unfilteredLine=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const avg=(unfilteredLine[i-bytePerPixel]||0)+(prevUnfilteredLine[i]||0)>>1;unfilteredLine[i]=data[i]+avg}return unfilteredLine},[FILTER_TYPES.PAETH](data,bytePerPixel,prevUnfilteredLine){const unfilteredLine=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const p=paeth(unfilteredLine[i-bytePerPixel]||0,prevUnfilteredLine[i],prevUnfilteredLine[i-bytePerPixel]||0);unfilteredLine[i]=data[i]+p}return unfilteredLine}},exports.filters={[FILTER_TYPES.NONE](data){let sum=0;for(let i=0;i<data.length;i++)sum+=data[i];return{sum:sum,filtered:data}},[FILTER_TYPES.SUB](data,bytePerPixel){let sum=0;const filtered=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const left=data[i-bytePerPixel]||0;filtered[i]=data[i]-left,sum+=filtered[i]}return{sum:sum,filtered:filtered}},[FILTER_TYPES.UP](data,bytePerPixel,prevUnfilteredLine){let sum=0;const filtered=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const up=prevUnfilteredLine[i]||0;filtered[i]=data[i]-up,sum+=filtered[i]}return{sum:sum,filtered:filtered}},[FILTER_TYPES.AVERAGE](data,bytePerPixel,prevUnfilteredLine){let sum=0;const filtered=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const avg=(data[i-bytePerPixel]||0)+(prevUnfilteredLine[i]||0)>>1;filtered[i]=data[i]-avg,sum+=filtered[i]}return{sum:sum,filtered:filtered}},[FILTER_TYPES.PAETH](data,bytePerPixel,prevUnfilteredLine){let sum=0;const filtered=new Uint8Array(data.length);for(let i=0;i<data.length;i++){const p=paeth(data[i-bytePerPixel]||0,prevUnfilteredLine[i]||0,prevUnfilteredLine[i-bytePerPixel]||0);filtered[i]=data[i]-p,sum+=filtered[i]}return{sum:sum,filtered:filtered}}}},"./node_modules/@vivaxy/png/lib/helpers/gamma.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GAMMA_DIVISION=1e5},"./node_modules/@vivaxy/png/lib/helpers/interlace.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const ADAM7_PASSES=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];exports.buildImages=function buildImages(interlace,width,height){if(!interlace)return[{passWidth:width,passHeight:height,passIndex:0}];const images=[];return ADAM7_PASSES.forEach((function({x:x,y:y},passIndex){const remainingX=width%8,remainingY=height%8,repeatY=height-remainingY>>3;let passWidth=(width-remainingX>>3)*x.length;for(let i=0;i<x.length&&x[i]<remainingX;i++)passWidth++;let passHeight=repeatY*y.length;for(let i=0;i<y.length&&y[i]<remainingY;i++)passHeight++;passWidth&&passHeight&&images.push({passWidth:passWidth,passHeight:passHeight,passIndex:passIndex})})),images},exports.getPixelIndex=function getPixelIndex(interlace,width,passIndex,widthIndex,heightIndex){if(!interlace)return width*heightIndex+widthIndex<<2;const pass=ADAM7_PASSES[passIndex],remainingX=widthIndex%pass.x.length,remainingY=heightIndex%pass.y.length,repeatX=(widthIndex-remainingX)/pass.x.length,repeatY=(heightIndex-remainingY)/pass.y.length,offsetX=pass.x[remainingX];return width*((repeatY<<3)+pass.y[remainingY])+(repeatX<<3)+offsetX<<2}},"./node_modules/@vivaxy/png/lib/helpers/rescale-sample.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function rescaleSample(value,depthIn,depthOut){if(depthIn===depthOut)return value;const maxSampleIn=2**depthIn-1,maxSampleOut=2**depthOut-1;return Math.round(value*maxSampleOut/maxSampleIn)}},"./node_modules/@vivaxy/png/lib/helpers/signature.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=[137,80,78,71,13,10,26,10]},"./node_modules/@vivaxy/png/lib/helpers/typed-array.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concatUInt8Array=function concatUInt8Array(a,b){const concated=new Uint8Array(a.length+b.length);return concated.set(a),concated.set(b,a.length),concated}},"./node_modules/@vivaxy/png/lib/helpers/utf8.js":function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.encode=function encode(string){let i=0,bytes=new Uint8Array(4*string.length);for(let ci=0;ci!=string.length;ci++){let c=string.charCodeAt(ci);if(c<128)bytes[i++]=c;else{if(c<2048)bytes[i++]=c>>6|192;else{if(c>55295&&c<56320){if(++ci>=string.length)throw new Error("UTF-8 encode: incomplete surrogate pair");const c2=string.charCodeAt(ci);if(c2<56320||c2>57343)throw new Error("UTF-8 encode: second surrogate character 0x"+c2.toString(16)+" at index "+ci+" out of range");c=65536+((1023&c)<<10)+(1023&c2),bytes[i++]=c>>18|240,bytes[i++]=c>>12&63|128}else bytes[i++]=c>>12|224;bytes[i++]=c>>6&63|128}bytes[i++]=63&c|128}}return bytes.subarray(0,i)},exports.decode=function decode(bytes){let i=0,s="";for(;i<bytes.length;){let c=bytes[i++];if(c>127)if(c>191&&c<224){if(i>=bytes.length)throw new Error("UTF-8 decode: incomplete 2-byte sequence");c=(31&c)<<6|63&bytes[i++]}else if(c>223&&c<240){if(i+1>=bytes.length)throw new Error("UTF-8 decode: incomplete 3-byte sequence");c=(15&c)<<12|(63&bytes[i++])<<6|63&bytes[i++]}else{if(!(c>239&&c<248))throw new Error("UTF-8 decode: unknown multibyte start 0x"+c.toString(16)+" at index "+(i-1));if(i+2>=bytes.length)throw new Error("UTF-8 decode: incomplete 4-byte sequence");c=(7&c)<<18|(63&bytes[i++])<<12|(63&bytes[i++])<<6|63&bytes[i++]}if(c<=65535)s+=String.fromCharCode(c);else{if(!(c<=1114111))throw new Error("UTF-8 decode: code point 0x"+c.toString(16)+" exceeds UTF-16 reach");c-=65536,s+=String.fromCharCode(c>>10|55296),s+=String.fromCharCode(1023&c|56320)}}return s}},"./node_modules/@vivaxy/png/lib/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";const decode_1=__webpack_require__("./node_modules/@vivaxy/png/lib/decode/index.js");exports.Jx=decode_1.default;__webpack_require__("./node_modules/@vivaxy/png/lib/encode/index.js").default},"./node_modules/complex.js/complex.js":function(module,exports){var __WEBPACK_AMD_DEFINE_RESULT__;!function(root){"use strict";var cosh=Math.cosh||function(x){return Math.abs(x)<1e-9?1-x:.5*(Math.exp(x)+Math.exp(-x))},sinh=Math.sinh||function(x){return Math.abs(x)<1e-9?x:.5*(Math.exp(x)-Math.exp(-x))},parser_exit=function(){throw SyntaxError("Invalid Param")};function logHypot(a,b){var _a=Math.abs(a),_b=Math.abs(b);return 0===a?Math.log(_b):0===b?Math.log(_a):_a<3e3&&_b<3e3?.5*Math.log(a*a+b*b):(a/=2,b/=2,.5*Math.log(a*a+b*b)+Math.LN2)}function Complex(a,b){if(!(this instanceof Complex))return new Complex(a,b);var z=function(a,b){var z={re:0,im:0};if(null==a)z.re=z.im=0;else if(void 0!==b)z.re=a,z.im=b;else switch(typeof a){case"object":if("im"in a&&"re"in a)z.re=a.re,z.im=a.im;else if("abs"in a&&"arg"in a){if(!Number.isFinite(a.abs)&&Number.isFinite(a.arg))return Complex.INFINITY;z.re=a.abs*Math.cos(a.arg),z.im=a.abs*Math.sin(a.arg)}else if("r"in a&&"phi"in a){if(!Number.isFinite(a.r)&&Number.isFinite(a.phi))return Complex.INFINITY;z.re=a.r*Math.cos(a.phi),z.im=a.r*Math.sin(a.phi)}else 2===a.length?(z.re=a[0],z.im=a[1]):parser_exit();break;case"string":z.im=z.re=0;var tokens=a.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),plus=1,minus=0;null===tokens&&parser_exit();for(var i=0;i<tokens.length;i++){var c=tokens[i];" "===c||"\t"===c||"\n"===c||("+"===c?plus++:"-"===c?minus++:"i"===c||"I"===c?(plus+minus===0&&parser_exit()," "===tokens[i+1]||isNaN(tokens[i+1])?z.im+=parseFloat((minus%2?"-":"")+"1"):(z.im+=parseFloat((minus%2?"-":"")+tokens[i+1]),i++),plus=minus=0):((plus+minus===0||isNaN(c))&&parser_exit(),"i"===tokens[i+1]||"I"===tokens[i+1]?(z.im+=parseFloat((minus%2?"-":"")+c),i++):z.re+=parseFloat((minus%2?"-":"")+c),plus=minus=0))}plus+minus>0&&parser_exit();break;case"number":z.im=0,z.re=a;break;default:parser_exit()}return isNaN(z.re)||isNaN(z.im),z}(a,b);this.re=z.re,this.im=z.im}Complex.prototype={re:0,im:0,sign:function(){var abs=this.abs();return new Complex(this.re/abs,this.im/abs)},add:function(a,b){var z=new Complex(a,b);return this.isInfinite()&&z.isInfinite()?Complex.NAN:this.isInfinite()||z.isInfinite()?Complex.INFINITY:new Complex(this.re+z.re,this.im+z.im)},sub:function(a,b){var z=new Complex(a,b);return this.isInfinite()&&z.isInfinite()?Complex.NAN:this.isInfinite()||z.isInfinite()?Complex.INFINITY:new Complex(this.re-z.re,this.im-z.im)},mul:function(a,b){var z=new Complex(a,b);return this.isInfinite()&&z.isZero()||this.isZero()&&z.isInfinite()?Complex.NAN:this.isInfinite()||z.isInfinite()?Complex.INFINITY:0===z.im&&0===this.im?new Complex(this.re*z.re,0):new Complex(this.re*z.re-this.im*z.im,this.re*z.im+this.im*z.re)},div:function(a,b){var z=new Complex(a,b);if(this.isZero()&&z.isZero()||this.isInfinite()&&z.isInfinite())return Complex.NAN;if(this.isInfinite()||z.isZero())return Complex.INFINITY;if(this.isZero()||z.isInfinite())return Complex.ZERO;a=this.re,b=this.im;var t,x,c=z.re,d=z.im;return 0===d?new Complex(a/c,b/c):Math.abs(c)<Math.abs(d)?new Complex((a*(x=c/d)+b)/(t=c*x+d),(b*x-a)/t):new Complex((a+b*(x=d/c))/(t=d*x+c),(b-a*x)/t)},pow:function(a,b){var z=new Complex(a,b);if(a=this.re,b=this.im,z.isZero())return Complex.ONE;if(0===z.im){if(0===b&&a>0)return new Complex(Math.pow(a,z.re),0);if(0===a)switch((z.re%4+4)%4){case 0:return new Complex(Math.pow(b,z.re),0);case 1:return new Complex(0,Math.pow(b,z.re));case 2:return new Complex(-Math.pow(b,z.re),0);case 3:return new Complex(0,-Math.pow(b,z.re))}}if(0===a&&0===b&&z.re>0&&z.im>=0)return Complex.ZERO;var arg=Math.atan2(b,a),loh=logHypot(a,b);return a=Math.exp(z.re*loh-z.im*arg),b=z.im*loh+z.re*arg,new Complex(a*Math.cos(b),a*Math.sin(b))},sqrt:function(){var re,im,a=this.re,b=this.im,r=this.abs();if(a>=0){if(0===b)return new Complex(Math.sqrt(a),0);re=.5*Math.sqrt(2*(r+a))}else re=Math.abs(b)/Math.sqrt(2*(r-a));return im=a<=0?.5*Math.sqrt(2*(r-a)):Math.abs(b)/Math.sqrt(2*(r+a)),new Complex(re,b<0?-im:im)},exp:function(){var tmp=Math.exp(this.re);return this.im,new Complex(tmp*Math.cos(this.im),tmp*Math.sin(this.im))},expm1:function(){var a=this.re,b=this.im;return new Complex(Math.expm1(a)*Math.cos(b)+function(x){var b=Math.PI/4;if(-b>x||x>b)return Math.cos(x)-1;var xx=x*x;return xx*(xx*(xx*(xx*(xx*(xx*(xx*(xx/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(b),Math.exp(a)*Math.sin(b))},log:function(){var a=this.re,b=this.im;return new Complex(logHypot(a,b),Math.atan2(b,a))},abs:function(){return x=this.re,y=this.im,a=Math.abs(x),b=Math.abs(y),a<3e3&&b<3e3?Math.sqrt(a*a+b*b):(a<b?(a=b,b=x/y):b=y/x,a*Math.sqrt(1+b*b));var x,y,a,b},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var a=this.re,b=this.im;return new Complex(Math.sin(a)*cosh(b),Math.cos(a)*sinh(b))},cos:function(){var a=this.re,b=this.im;return new Complex(Math.cos(a)*cosh(b),-Math.sin(a)*sinh(b))},tan:function(){var a=2*this.re,b=2*this.im,d=Math.cos(a)+cosh(b);return new Complex(Math.sin(a)/d,sinh(b)/d)},cot:function(){var a=2*this.re,b=2*this.im,d=Math.cos(a)-cosh(b);return new Complex(-Math.sin(a)/d,sinh(b)/d)},sec:function(){var a=this.re,b=this.im,d=.5*cosh(2*b)+.5*Math.cos(2*a);return new Complex(Math.cos(a)*cosh(b)/d,Math.sin(a)*sinh(b)/d)},csc:function(){var a=this.re,b=this.im,d=.5*cosh(2*b)-.5*Math.cos(2*a);return new Complex(Math.sin(a)*cosh(b)/d,-Math.cos(a)*sinh(b)/d)},asin:function(){var a=this.re,b=this.im,t1=new Complex(b*b-a*a+1,-2*a*b).sqrt(),t2=new Complex(t1.re-b,t1.im+a).log();return new Complex(t2.im,-t2.re)},acos:function(){var a=this.re,b=this.im,t1=new Complex(b*b-a*a+1,-2*a*b).sqrt(),t2=new Complex(t1.re-b,t1.im+a).log();return new Complex(Math.PI/2-t2.im,t2.re)},atan:function(){var a=this.re,b=this.im;if(0===a){if(1===b)return new Complex(0,1/0);if(-1===b)return new Complex(0,-1/0)}var d=a*a+(1-b)*(1-b),t1=new Complex((1-b*b-a*a)/d,-2*a/d).log();return new Complex(-.5*t1.im,.5*t1.re)},acot:function(){var a=this.re,b=this.im;if(0===b)return new Complex(Math.atan2(1,a),0);var d=a*a+b*b;return 0!==d?new Complex(a/d,-b/d).atan():new Complex(0!==a?a/0:0,0!==b?-b/0:0).atan()},asec:function(){var a=this.re,b=this.im;if(0===a&&0===b)return new Complex(0,1/0);var d=a*a+b*b;return 0!==d?new Complex(a/d,-b/d).acos():new Complex(0!==a?a/0:0,0!==b?-b/0:0).acos()},acsc:function(){var a=this.re,b=this.im;if(0===a&&0===b)return new Complex(Math.PI/2,1/0);var d=a*a+b*b;return 0!==d?new Complex(a/d,-b/d).asin():new Complex(0!==a?a/0:0,0!==b?-b/0:0).asin()},sinh:function(){var a=this.re,b=this.im;return new Complex(sinh(a)*Math.cos(b),cosh(a)*Math.sin(b))},cosh:function(){var a=this.re,b=this.im;return new Complex(cosh(a)*Math.cos(b),sinh(a)*Math.sin(b))},tanh:function(){var a=2*this.re,b=2*this.im,d=cosh(a)+Math.cos(b);return new Complex(sinh(a)/d,Math.sin(b)/d)},coth:function(){var a=2*this.re,b=2*this.im,d=cosh(a)-Math.cos(b);return new Complex(sinh(a)/d,-Math.sin(b)/d)},csch:function(){var a=this.re,b=this.im,d=Math.cos(2*b)-cosh(2*a);return new Complex(-2*sinh(a)*Math.cos(b)/d,2*cosh(a)*Math.sin(b)/d)},sech:function(){var a=this.re,b=this.im,d=Math.cos(2*b)+cosh(2*a);return new Complex(2*cosh(a)*Math.cos(b)/d,-2*sinh(a)*Math.sin(b)/d)},asinh:function(){var tmp=this.im;this.im=-this.re,this.re=tmp;var res=this.asin();return this.re=-this.im,this.im=tmp,tmp=res.re,res.re=-res.im,res.im=tmp,res},acosh:function(){var res=this.acos();if(res.im<=0){var tmp=res.re;res.re=-res.im,res.im=tmp}else{tmp=res.im;res.im=-res.re,res.re=tmp}return res},atanh:function(){var a=this.re,b=this.im,noIM=a>1&&0===b,oneMinus=1-a,onePlus=1+a,d=oneMinus*oneMinus+b*b,x=0!==d?new Complex((onePlus*oneMinus-b*b)/d,(b*oneMinus+onePlus*b)/d):new Complex(-1!==a?a/0:0,0!==b?b/0:0),temp=x.re;return x.re=logHypot(x.re,x.im)/2,x.im=Math.atan2(x.im,temp)/2,noIM&&(x.im=-x.im),x},acoth:function(){var a=this.re,b=this.im;if(0===a&&0===b)return new Complex(0,Math.PI/2);var d=a*a+b*b;return 0!==d?new Complex(a/d,-b/d).atanh():new Complex(0!==a?a/0:0,0!==b?-b/0:0).atanh()},acsch:function(){var a=this.re,b=this.im;if(0===b)return new Complex(0!==a?Math.log(a+Math.sqrt(a*a+1)):1/0,0);var d=a*a+b*b;return 0!==d?new Complex(a/d,-b/d).asinh():new Complex(0!==a?a/0:0,0!==b?-b/0:0).asinh()},asech:function(){var a=this.re,b=this.im;if(this.isZero())return Complex.INFINITY;var d=a*a+b*b;return 0!==d?new Complex(a/d,-b/d).acosh():new Complex(0!==a?a/0:0,0!==b?-b/0:0).acosh()},inverse:function(){if(this.isZero())return Complex.INFINITY;if(this.isInfinite())return Complex.ZERO;var a=this.re,b=this.im,d=a*a+b*b;return new Complex(a/d,-b/d)},conjugate:function(){return new Complex(this.re,-this.im)},neg:function(){return new Complex(-this.re,-this.im)},ceil:function(places){return places=Math.pow(10,places||0),new Complex(Math.ceil(this.re*places)/places,Math.ceil(this.im*places)/places)},floor:function(places){return places=Math.pow(10,places||0),new Complex(Math.floor(this.re*places)/places,Math.floor(this.im*places)/places)},round:function(places){return places=Math.pow(10,places||0),new Complex(Math.round(this.re*places)/places,Math.round(this.im*places)/places)},equals:function(a,b){var z=new Complex(a,b);return Math.abs(z.re-this.re)<=Complex.EPSILON&&Math.abs(z.im-this.im)<=Complex.EPSILON},clone:function(){return new Complex(this.re,this.im)},toString:function(){var a=this.re,b=this.im,ret="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(a)<Complex.EPSILON&&(a=0),Math.abs(b)<Complex.EPSILON&&(b=0),0===b?ret+a:(0!==a?(ret+=a,ret+=" ",b<0?(b=-b,ret+="-"):ret+="+",ret+=" "):b<0&&(b=-b,ret+="-"),1!==b&&(ret+=b),ret+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},Complex.ZERO=new Complex(0,0),Complex.ONE=new Complex(1,0),Complex.I=new Complex(0,1),Complex.PI=new Complex(Math.PI,0),Complex.E=new Complex(Math.E,0),Complex.INFINITY=new Complex(1/0,1/0),Complex.NAN=new Complex(NaN,NaN),Complex.EPSILON=1e-15,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Complex}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/decimal.js/decimal.mjs":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var inexact,quadrant,EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P={toStringTag:tag};function digitsToString(d){var i,k,ws,indexOfLastWord=d.length-1,str="",w=d[0];if(indexOfLastWord>0){for(str+=w,i=1;i<indexOfLastWord;i++)ws=d[i]+"",(k=LOG_BASE-ws.length)&&(str+=getZeroString(k)),str+=ws;w=d[i],(k=LOG_BASE-(ws=w+"").length)&&(str+=getZeroString(k))}else if(0===w)return"0";for(;w%10==0;)w/=10;return str+w}function checkInt32(i,min,max){if(i!==~~i||i<min||i>max)throw Error(invalidArgument+i)}function checkRoundingDigits(d,i,rm,repeating){var di,k,r,rd;for(k=d[0];k>=10;k/=10)--i;return--i<0?(i+=LOG_BASE,di=0):(di=Math.ceil((i+1)/LOG_BASE),i%=LOG_BASE),k=mathpow(10,LOG_BASE-i),rd=d[di]%k|0,null==repeating?i<3?(0==i?rd=rd/100|0:1==i&&(rd=rd/10|0),r=rm<4&&99999==rd||rm>3&&49999==rd||5e4==rd||0==rd):r=(rm<4&&rd+1==k||rm>3&&rd+1==k/2)&&(d[di+1]/k/100|0)==mathpow(10,i-2)-1||(rd==k/2||0==rd)&&0==(d[di+1]/k/100|0):i<4?(0==i?rd=rd/1e3|0:1==i?rd=rd/100|0:2==i&&(rd=rd/10|0),r=(repeating||rm<4)&&9999==rd||!repeating&&rm>3&&4999==rd):r=((repeating||rm<4)&&rd+1==k||!repeating&&rm>3&&rd+1==k/2)&&(d[di+1]/k/1e3|0)==mathpow(10,i-3)-1,r}function convertBase(str,baseIn,baseOut){for(var j,arrL,arr=[0],i=0,strL=str.length;i<strL;){for(arrL=arr.length;arrL--;)arr[arrL]*=baseIn;for(arr[0]+=NUMERALS.indexOf(str.charAt(i++)),j=0;j<arr.length;j++)arr[j]>baseOut-1&&(void 0===arr[j+1]&&(arr[j+1]=0),arr[j+1]+=arr[j]/baseOut|0,arr[j]%=baseOut)}return arr.reverse()}P.absoluteValue=P.abs=function(){var x=new this.constructor(this);return x.s<0&&(x.s=1),finalise(x)},P.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},P.clampedTo=P.clamp=function(min,max){var x=this,Ctor=x.constructor;if(min=new Ctor(min),max=new Ctor(max),!min.s||!max.s)return new Ctor(NaN);if(min.gt(max))throw Error(invalidArgument+max);return x.cmp(min)<0?min:x.cmp(max)>0?max:new Ctor(x)},P.comparedTo=P.cmp=function(y){var i,j,xdL,ydL,x=this,xd=x.d,yd=(y=new x.constructor(y)).d,xs=x.s,ys=y.s;if(!xd||!yd)return xs&&ys?xs!==ys?xs:xd===yd?0:!xd^xs<0?1:-1:NaN;if(!xd[0]||!yd[0])return xd[0]?xs:yd[0]?-ys:0;if(xs!==ys)return xs;if(x.e!==y.e)return x.e>y.e^xs<0?1:-1;for(i=0,j=(xdL=xd.length)<(ydL=yd.length)?xdL:ydL;i<j;++i)if(xd[i]!==yd[i])return xd[i]>yd[i]^xs<0?1:-1;return xdL===ydL?0:xdL>ydL^xs<0?1:-1},P.cosine=P.cos=function(){var pr,rm,x=this,Ctor=x.constructor;return x.d?x.d[0]?(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+LOG_BASE,Ctor.rounding=1,x=function cosine(Ctor,x){var k,len,y;if(x.isZero())return x;len=x.d.length,len<32?y=(1/tinyPow(4,k=Math.ceil(len/3))).toString():(k=16,y="2.3283064365386962890625e-10");Ctor.precision+=k,x=taylorSeries(Ctor,1,x.times(y),new Ctor(1));for(var i=k;i--;){var cos2x=x.times(x);x=cos2x.times(cos2x).minus(cos2x).times(8).plus(1)}return Ctor.precision-=k,x}(Ctor,toLessThanHalfPi(Ctor,x)),Ctor.precision=pr,Ctor.rounding=rm,finalise(2==quadrant||3==quadrant?x.neg():x,pr,rm,!0)):new Ctor(1):new Ctor(NaN)},P.cubeRoot=P.cbrt=function(){var e,m,n,r,rep,s,sd,t,t3,t3plusx,x=this,Ctor=x.constructor;if(!x.isFinite()||x.isZero())return new Ctor(x);for(external=!1,(s=x.s*mathpow(x.s*x,1/3))&&Math.abs(s)!=1/0?r=new Ctor(s.toString()):(n=digitsToString(x.d),(s=((e=x.e)-n.length+1)%3)&&(n+=1==s||-2==s?"0":"00"),s=mathpow(n,1/3),e=mathfloor((e+1)/3)-(e%3==(e<0?-1:2)),(r=new Ctor(n=s==1/0?"5e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=x.s),sd=(e=Ctor.precision)+3;;)if(t3plusx=(t3=(t=r).times(t).times(t)).plus(x),r=divide(t3plusx.plus(x).times(t),t3plusx.plus(t3),sd+2,1),digitsToString(t.d).slice(0,sd)===(n=digitsToString(r.d)).slice(0,sd)){if("9999"!=(n=n.slice(sd-3,sd+1))&&(rep||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(finalise(r,e+1,1),m=!r.times(r).times(r).eq(x));break}if(!rep&&(finalise(t,e+1,0),t.times(t).times(t).eq(x))){r=t;break}sd+=4,rep=1}return external=!0,finalise(r,e,Ctor.rounding,m)},P.decimalPlaces=P.dp=function(){var w,d=this.d,n=NaN;if(d){if(n=((w=d.length-1)-mathfloor(this.e/LOG_BASE))*LOG_BASE,w=d[w])for(;w%10==0;w/=10)n--;n<0&&(n=0)}return n},P.dividedBy=P.div=function(y){return divide(this,new this.constructor(y))},P.dividedToIntegerBy=P.divToInt=function(y){var Ctor=this.constructor;return finalise(divide(this,new Ctor(y),0,1,1),Ctor.precision,Ctor.rounding)},P.equals=P.eq=function(y){return 0===this.cmp(y)},P.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},P.greaterThan=P.gt=function(y){return this.cmp(y)>0},P.greaterThanOrEqualTo=P.gte=function(y){var k=this.cmp(y);return 1==k||0===k},P.hyperbolicCosine=P.cosh=function(){var k,n,pr,rm,len,x=this,Ctor=x.constructor,one=new Ctor(1);if(!x.isFinite())return new Ctor(x.s?1/0:NaN);if(x.isZero())return one;pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+4,Ctor.rounding=1,(len=x.d.length)<32?n=(1/tinyPow(4,k=Math.ceil(len/3))).toString():(k=16,n="2.3283064365386962890625e-10"),x=taylorSeries(Ctor,1,x.times(n),new Ctor(1),!0);for(var cosh2_x,i=k,d8=new Ctor(8);i--;)cosh2_x=x.times(x),x=one.minus(cosh2_x.times(d8.minus(cosh2_x.times(d8))));return finalise(x,Ctor.precision=pr,Ctor.rounding=rm,!0)},P.hyperbolicSine=P.sinh=function(){var k,pr,rm,len,x=this,Ctor=x.constructor;if(!x.isFinite()||x.isZero())return new Ctor(x);if(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+4,Ctor.rounding=1,(len=x.d.length)<3)x=taylorSeries(Ctor,2,x,x,!0);else{k=(k=1.4*Math.sqrt(len))>16?16:0|k,x=taylorSeries(Ctor,2,x=x.times(1/tinyPow(5,k)),x,!0);for(var sinh2_x,d5=new Ctor(5),d16=new Ctor(16),d20=new Ctor(20);k--;)sinh2_x=x.times(x),x=x.times(d5.plus(sinh2_x.times(d16.times(sinh2_x).plus(d20))))}return Ctor.precision=pr,Ctor.rounding=rm,finalise(x,pr,rm,!0)},P.hyperbolicTangent=P.tanh=function(){var pr,rm,x=this,Ctor=x.constructor;return x.isFinite()?x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+7,Ctor.rounding=1,divide(x.sinh(),x.cosh(),Ctor.precision=pr,Ctor.rounding=rm)):new Ctor(x.s)},P.inverseCosine=P.acos=function(){var halfPi,x=this,Ctor=x.constructor,k=x.abs().cmp(1),pr=Ctor.precision,rm=Ctor.rounding;return-1!==k?0===k?x.isNeg()?getPi(Ctor,pr,rm):new Ctor(0):new Ctor(NaN):x.isZero()?getPi(Ctor,pr+4,rm).times(.5):(Ctor.precision=pr+6,Ctor.rounding=1,x=x.asin(),halfPi=getPi(Ctor,pr+4,rm).times(.5),Ctor.precision=pr,Ctor.rounding=rm,halfPi.minus(x))},P.inverseHyperbolicCosine=P.acosh=function(){var pr,rm,x=this,Ctor=x.constructor;return x.lte(1)?new Ctor(x.eq(1)?0:NaN):x.isFinite()?(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(Math.abs(x.e),x.sd())+4,Ctor.rounding=1,external=!1,x=x.times(x).minus(1).sqrt().plus(x),external=!0,Ctor.precision=pr,Ctor.rounding=rm,x.ln()):new Ctor(x)},P.inverseHyperbolicSine=P.asinh=function(){var pr,rm,x=this,Ctor=x.constructor;return!x.isFinite()||x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+2*Math.max(Math.abs(x.e),x.sd())+6,Ctor.rounding=1,external=!1,x=x.times(x).plus(1).sqrt().plus(x),external=!0,Ctor.precision=pr,Ctor.rounding=rm,x.ln())},P.inverseHyperbolicTangent=P.atanh=function(){var pr,rm,wpr,xsd,x=this,Ctor=x.constructor;return x.isFinite()?x.e>=0?new Ctor(x.abs().eq(1)?x.s/0:x.isZero()?x:NaN):(pr=Ctor.precision,rm=Ctor.rounding,xsd=x.sd(),Math.max(xsd,pr)<2*-x.e-1?finalise(new Ctor(x),pr,rm,!0):(Ctor.precision=wpr=xsd-x.e,x=divide(x.plus(1),new Ctor(1).minus(x),wpr+pr,1),Ctor.precision=pr+4,Ctor.rounding=1,x=x.ln(),Ctor.precision=pr,Ctor.rounding=rm,x.times(.5))):new Ctor(NaN)},P.inverseSine=P.asin=function(){var halfPi,k,pr,rm,x=this,Ctor=x.constructor;return x.isZero()?new Ctor(x):(k=x.abs().cmp(1),pr=Ctor.precision,rm=Ctor.rounding,-1!==k?0===k?((halfPi=getPi(Ctor,pr+4,rm).times(.5)).s=x.s,halfPi):new Ctor(NaN):(Ctor.precision=pr+6,Ctor.rounding=1,x=x.div(new Ctor(1).minus(x.times(x)).sqrt().plus(1)).atan(),Ctor.precision=pr,Ctor.rounding=rm,x.times(2)))},P.inverseTangent=P.atan=function(){var i,j,k,n,px,t,r,wpr,x2,x=this,Ctor=x.constructor,pr=Ctor.precision,rm=Ctor.rounding;if(x.isFinite()){if(x.isZero())return new Ctor(x);if(x.abs().eq(1)&&pr+4<=PI_PRECISION)return(r=getPi(Ctor,pr+4,rm).times(.25)).s=x.s,r}else{if(!x.s)return new Ctor(NaN);if(pr+4<=PI_PRECISION)return(r=getPi(Ctor,pr+4,rm).times(.5)).s=x.s,r}for(Ctor.precision=wpr=pr+10,Ctor.rounding=1,i=k=Math.min(28,wpr/LOG_BASE+2|0);i;--i)x=x.div(x.times(x).plus(1).sqrt().plus(1));for(external=!1,j=Math.ceil(wpr/LOG_BASE),n=1,x2=x.times(x),r=new Ctor(x),px=x;-1!==i;)if(px=px.times(x2),t=r.minus(px.div(n+=2)),px=px.times(x2),void 0!==(r=t.plus(px.div(n+=2))).d[j])for(i=j;r.d[i]===t.d[i]&&i--;);return k&&(r=r.times(2<<k-1)),external=!0,finalise(r,Ctor.precision=pr,Ctor.rounding=rm,!0)},P.isFinite=function(){return!!this.d},P.isInteger=P.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2},P.isNaN=function(){return!this.s},P.isNegative=P.isNeg=function(){return this.s<0},P.isPositive=P.isPos=function(){return this.s>0},P.isZero=function(){return!!this.d&&0===this.d[0]},P.lessThan=P.lt=function(y){return this.cmp(y)<0},P.lessThanOrEqualTo=P.lte=function(y){return this.cmp(y)<1},P.logarithm=P.log=function(base){var isBase10,d,denominator,k,inf,num,sd,r,Ctor=this.constructor,pr=Ctor.precision,rm=Ctor.rounding;if(null==base)base=new Ctor(10),isBase10=!0;else{if(d=(base=new Ctor(base)).d,base.s<0||!d||!d[0]||base.eq(1))return new Ctor(NaN);isBase10=base.eq(10)}if(d=this.d,this.s<0||!d||!d[0]||this.eq(1))return new Ctor(d&&!d[0]?-1/0:1!=this.s?NaN:d?0:1/0);if(isBase10)if(d.length>1)inf=!0;else{for(k=d[0];k%10==0;)k/=10;inf=1!==k}if(external=!1,num=naturalLogarithm(this,sd=pr+5),denominator=isBase10?getLn10(Ctor,sd+10):naturalLogarithm(base,sd),checkRoundingDigits((r=divide(num,denominator,sd,1)).d,k=pr,rm))do{if(num=naturalLogarithm(this,sd+=10),denominator=isBase10?getLn10(Ctor,sd+10):naturalLogarithm(base,sd),r=divide(num,denominator,sd,1),!inf){+digitsToString(r.d).slice(k+1,k+15)+1==1e14&&(r=finalise(r,pr+1,0));break}}while(checkRoundingDigits(r.d,k+=10,rm));return external=!0,finalise(r,pr,rm)},P.minus=P.sub=function(y){var d,e,i,j,k,len,pr,rm,xd,xe,xLTy,yd,x=this,Ctor=x.constructor;if(y=new Ctor(y),!x.d||!y.d)return x.s&&y.s?x.d?y.s=-y.s:y=new Ctor(y.d||x.s!==y.s?x:NaN):y=new Ctor(NaN),y;if(x.s!=y.s)return y.s=-y.s,x.plus(y);if(xd=x.d,yd=y.d,pr=Ctor.precision,rm=Ctor.rounding,!xd[0]||!yd[0]){if(yd[0])y.s=-y.s;else{if(!xd[0])return new Ctor(3===rm?-0:0);y=new Ctor(x)}return external?finalise(y,pr,rm):y}if(e=mathfloor(y.e/LOG_BASE),xe=mathfloor(x.e/LOG_BASE),xd=xd.slice(),k=xe-e){for((xLTy=k<0)?(d=xd,k=-k,len=yd.length):(d=yd,e=xe,len=xd.length),k>(i=Math.max(Math.ceil(pr/LOG_BASE),len)+2)&&(k=i,d.length=1),d.reverse(),i=k;i--;)d.push(0);d.reverse()}else{for((xLTy=(i=xd.length)<(len=yd.length))&&(len=i),i=0;i<len;i++)if(xd[i]!=yd[i]){xLTy=xd[i]<yd[i];break}k=0}for(xLTy&&(d=xd,xd=yd,yd=d,y.s=-y.s),len=xd.length,i=yd.length-len;i>0;--i)xd[len++]=0;for(i=yd.length;i>k;){if(xd[--i]<yd[i]){for(j=i;j&&0===xd[--j];)xd[j]=BASE-1;--xd[j],xd[i]+=BASE}xd[i]-=yd[i]}for(;0===xd[--len];)xd.pop();for(;0===xd[0];xd.shift())--e;return xd[0]?(y.d=xd,y.e=getBase10Exponent(xd,e),external?finalise(y,pr,rm):y):new Ctor(3===rm?-0:0)},P.modulo=P.mod=function(y){var q,x=this,Ctor=x.constructor;return y=new Ctor(y),!x.d||!y.s||y.d&&!y.d[0]?new Ctor(NaN):!y.d||x.d&&!x.d[0]?finalise(new Ctor(x),Ctor.precision,Ctor.rounding):(external=!1,9==Ctor.modulo?(q=divide(x,y.abs(),0,3,1)).s*=y.s:q=divide(x,y,0,Ctor.modulo,1),q=q.times(y),external=!0,x.minus(q))},P.naturalExponential=P.exp=function(){return naturalExponential(this)},P.naturalLogarithm=P.ln=function(){return naturalLogarithm(this)},P.negated=P.neg=function(){var x=new this.constructor(this);return x.s=-x.s,finalise(x)},P.plus=P.add=function(y){var carry,d,e,i,k,len,pr,rm,xd,yd,x=this,Ctor=x.constructor;if(y=new Ctor(y),!x.d||!y.d)return x.s&&y.s?x.d||(y=new Ctor(y.d||x.s===y.s?x:NaN)):y=new Ctor(NaN),y;if(x.s!=y.s)return y.s=-y.s,x.minus(y);if(xd=x.d,yd=y.d,pr=Ctor.precision,rm=Ctor.rounding,!xd[0]||!yd[0])return yd[0]||(y=new Ctor(x)),external?finalise(y,pr,rm):y;if(k=mathfloor(x.e/LOG_BASE),e=mathfloor(y.e/LOG_BASE),xd=xd.slice(),i=k-e){for(i<0?(d=xd,i=-i,len=yd.length):(d=yd,e=k,len=xd.length),i>(len=(k=Math.ceil(pr/LOG_BASE))>len?k+1:len+1)&&(i=len,d.length=1),d.reverse();i--;)d.push(0);d.reverse()}for((len=xd.length)-(i=yd.length)<0&&(i=len,d=yd,yd=xd,xd=d),carry=0;i;)carry=(xd[--i]=xd[i]+yd[i]+carry)/BASE|0,xd[i]%=BASE;for(carry&&(xd.unshift(carry),++e),len=xd.length;0==xd[--len];)xd.pop();return y.d=xd,y.e=getBase10Exponent(xd,e),external?finalise(y,pr,rm):y},P.precision=P.sd=function(z){var k,x=this;if(void 0!==z&&z!==!!z&&1!==z&&0!==z)throw Error(invalidArgument+z);return x.d?(k=getPrecision(x.d),z&&x.e+1>k&&(k=x.e+1)):k=NaN,k},P.round=function(){var x=this,Ctor=x.constructor;return finalise(new Ctor(x),x.e+1,Ctor.rounding)},P.sine=P.sin=function(){var pr,rm,x=this,Ctor=x.constructor;return x.isFinite()?x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+LOG_BASE,Ctor.rounding=1,x=function sine(Ctor,x){var k,len=x.d.length;if(len<3)return x.isZero()?x:taylorSeries(Ctor,2,x,x);k=(k=1.4*Math.sqrt(len))>16?16:0|k,x=x.times(1/tinyPow(5,k)),x=taylorSeries(Ctor,2,x,x);for(var sin2_x,d5=new Ctor(5),d16=new Ctor(16),d20=new Ctor(20);k--;)sin2_x=x.times(x),x=x.times(d5.plus(sin2_x.times(d16.times(sin2_x).minus(d20))));return x}(Ctor,toLessThanHalfPi(Ctor,x)),Ctor.precision=pr,Ctor.rounding=rm,finalise(quadrant>2?x.neg():x,pr,rm,!0)):new Ctor(NaN)},P.squareRoot=P.sqrt=function(){var m,n,sd,r,rep,t,x=this,d=x.d,e=x.e,s=x.s,Ctor=x.constructor;if(1!==s||!d||!d[0])return new Ctor(!s||s<0&&(!d||d[0])?NaN:d?x:1/0);for(external=!1,0==(s=Math.sqrt(+x))||s==1/0?(((n=digitsToString(d)).length+e)%2==0&&(n+="0"),s=Math.sqrt(n),e=mathfloor((e+1)/2)-(e<0||e%2),r=new Ctor(n=s==1/0?"5e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)):r=new Ctor(s.toString()),sd=(e=Ctor.precision)+3;;)if(r=(t=r).plus(divide(x,t,sd+2,1)).times(.5),digitsToString(t.d).slice(0,sd)===(n=digitsToString(r.d)).slice(0,sd)){if("9999"!=(n=n.slice(sd-3,sd+1))&&(rep||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(finalise(r,e+1,1),m=!r.times(r).eq(x));break}if(!rep&&(finalise(t,e+1,0),t.times(t).eq(x))){r=t;break}sd+=4,rep=1}return external=!0,finalise(r,e,Ctor.rounding,m)},P.tangent=P.tan=function(){var pr,rm,x=this,Ctor=x.constructor;return x.isFinite()?x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+10,Ctor.rounding=1,(x=x.sin()).s=1,x=divide(x,new Ctor(1).minus(x.times(x)).sqrt(),pr+10,0),Ctor.precision=pr,Ctor.rounding=rm,finalise(2==quadrant||4==quadrant?x.neg():x,pr,rm,!0)):new Ctor(NaN)},P.times=P.mul=function(y){var carry,e,i,k,r,rL,t,xdL,ydL,x=this,Ctor=x.constructor,xd=x.d,yd=(y=new Ctor(y)).d;if(y.s*=x.s,!(xd&&xd[0]&&yd&&yd[0]))return new Ctor(!y.s||xd&&!xd[0]&&!yd||yd&&!yd[0]&&!xd?NaN:xd&&yd?0*y.s:y.s/0);for(e=mathfloor(x.e/LOG_BASE)+mathfloor(y.e/LOG_BASE),(xdL=xd.length)<(ydL=yd.length)&&(r=xd,xd=yd,yd=r,rL=xdL,xdL=ydL,ydL=rL),r=[],i=rL=xdL+ydL;i--;)r.push(0);for(i=ydL;--i>=0;){for(carry=0,k=xdL+i;k>i;)t=r[k]+yd[i]*xd[k-i-1]+carry,r[k--]=t%BASE|0,carry=t/BASE|0;r[k]=(r[k]+carry)%BASE|0}for(;!r[--rL];)r.pop();return carry?++e:r.shift(),y.d=r,y.e=getBase10Exponent(r,e),external?finalise(y,Ctor.precision,Ctor.rounding):y},P.toBinary=function(sd,rm){return toStringBinary(this,2,sd,rm)},P.toDecimalPlaces=P.toDP=function(dp,rm){var x=this,Ctor=x.constructor;return x=new Ctor(x),void 0===dp?x:(checkInt32(dp,0,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),finalise(x,dp+x.e+1,rm))},P.toExponential=function(dp,rm){var str,x=this,Ctor=x.constructor;return void 0===dp?str=finiteToString(x,!0):(checkInt32(dp,0,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=finiteToString(x=finalise(new Ctor(x),dp+1,rm),!0,dp+1)),x.isNeg()&&!x.isZero()?"-"+str:str},P.toFixed=function(dp,rm){var str,y,x=this,Ctor=x.constructor;return void 0===dp?str=finiteToString(x):(checkInt32(dp,0,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=finiteToString(y=finalise(new Ctor(x),dp+x.e+1,rm),!1,dp+y.e+1)),x.isNeg()&&!x.isZero()?"-"+str:str},P.toFraction=function(maxD){var d,d0,d1,d2,e,k,n,n0,n1,pr,q,r,x=this,xd=x.d,Ctor=x.constructor;if(!xd)return new Ctor(x);if(n1=d0=new Ctor(1),d1=n0=new Ctor(0),k=(e=(d=new Ctor(d1)).e=getPrecision(xd)-x.e-1)%LOG_BASE,d.d[0]=mathpow(10,k<0?LOG_BASE+k:k),null==maxD)maxD=e>0?d:n1;else{if(!(n=new Ctor(maxD)).isInt()||n.lt(n1))throw Error(invalidArgument+n);maxD=n.gt(d)?e>0?d:n1:n}for(external=!1,n=new Ctor(digitsToString(xd)),pr=Ctor.precision,Ctor.precision=e=xd.length*LOG_BASE*2;q=divide(n,d,0,1,1),1!=(d2=d0.plus(q.times(d1))).cmp(maxD);)d0=d1,d1=d2,d2=n1,n1=n0.plus(q.times(d2)),n0=d2,d2=d,d=n.minus(q.times(d2)),n=d2;return d2=divide(maxD.minus(d0),d1,0,1,1),n0=n0.plus(d2.times(n1)),d0=d0.plus(d2.times(d1)),n0.s=n1.s=x.s,r=divide(n1,d1,e,1).minus(x).abs().cmp(divide(n0,d0,e,1).minus(x).abs())<1?[n1,d1]:[n0,d0],Ctor.precision=pr,external=!0,r},P.toHexadecimal=P.toHex=function(sd,rm){return toStringBinary(this,16,sd,rm)},P.toNearest=function(y,rm){var x=this,Ctor=x.constructor;if(x=new Ctor(x),null==y){if(!x.d)return x;y=new Ctor(1),rm=Ctor.rounding}else{if(y=new Ctor(y),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),!x.d)return y.s?x:y;if(!y.d)return y.s&&(y.s=x.s),y}return y.d[0]?(external=!1,x=divide(x,y,0,rm,1).times(y),external=!0,finalise(x)):(y.s=x.s,x=y),x},P.toNumber=function(){return+this},P.toOctal=function(sd,rm){return toStringBinary(this,8,sd,rm)},P.toPower=P.pow=function(y){var e,k,pr,r,rm,s,x=this,Ctor=x.constructor,yn=+(y=new Ctor(y));if(!(x.d&&y.d&&x.d[0]&&y.d[0]))return new Ctor(mathpow(+x,yn));if((x=new Ctor(x)).eq(1))return x;if(pr=Ctor.precision,rm=Ctor.rounding,y.eq(1))return finalise(x,pr,rm);if((e=mathfloor(y.e/LOG_BASE))>=y.d.length-1&&(k=yn<0?-yn:yn)<=9007199254740991)return r=intPow(Ctor,x,k,pr),y.s<0?new Ctor(1).div(r):finalise(r,pr,rm);if((s=x.s)<0){if(e<y.d.length-1)return new Ctor(NaN);if(0==(1&y.d[e])&&(s=1),0==x.e&&1==x.d[0]&&1==x.d.length)return x.s=s,x}return(e=0!=(k=mathpow(+x,yn))&&isFinite(k)?new Ctor(k+"").e:mathfloor(yn*(Math.log("0."+digitsToString(x.d))/Math.LN10+x.e+1)))>Ctor.maxE+1||e<Ctor.minE-1?new Ctor(e>0?s/0:0):(external=!1,Ctor.rounding=x.s=1,k=Math.min(12,(e+"").length),(r=naturalExponential(y.times(naturalLogarithm(x,pr+k)),pr)).d&&checkRoundingDigits((r=finalise(r,pr+5,1)).d,pr,rm)&&(e=pr+10,+digitsToString((r=finalise(naturalExponential(y.times(naturalLogarithm(x,e+k)),e),e+5,1)).d).slice(pr+1,pr+15)+1==1e14&&(r=finalise(r,pr+1,0))),r.s=s,external=!0,Ctor.rounding=rm,finalise(r,pr,rm))},P.toPrecision=function(sd,rm){var str,x=this,Ctor=x.constructor;return void 0===sd?str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos):(checkInt32(sd,1,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=finiteToString(x=finalise(new Ctor(x),sd,rm),sd<=x.e||x.e<=Ctor.toExpNeg,sd)),x.isNeg()&&!x.isZero()?"-"+str:str},P.toSignificantDigits=P.toSD=function(sd,rm){var Ctor=this.constructor;return void 0===sd?(sd=Ctor.precision,rm=Ctor.rounding):(checkInt32(sd,1,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8)),finalise(new Ctor(this),sd,rm)},P.toString=function(){var x=this,Ctor=x.constructor,str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos);return x.isNeg()&&!x.isZero()?"-"+str:str},P.truncated=P.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},P.valueOf=P.toJSON=function(){var x=this,Ctor=x.constructor,str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos);return x.isNeg()?"-"+str:str};var divide=function(){function multiplyInteger(x,k,base){var temp,carry=0,i=x.length;for(x=x.slice();i--;)temp=x[i]*k+carry,x[i]=temp%base|0,carry=temp/base|0;return carry&&x.unshift(carry),x}function compare(a,b,aL,bL){var i,r;if(aL!=bL)r=aL>bL?1:-1;else for(i=r=0;i<aL;i++)if(a[i]!=b[i]){r=a[i]>b[i]?1:-1;break}return r}function subtract(a,b,aL,base){for(var i=0;aL--;)a[aL]-=i,i=a[aL]<b[aL]?1:0,a[aL]=i*base+a[aL]-b[aL];for(;!a[0]&&a.length>1;)a.shift()}return function(x,y,pr,rm,dp,base){var cmp,e,i,k,logBase,more,prod,prodL,q,qd,rem,remL,rem0,sd,t,xi,xL,yd0,yL,yz,Ctor=x.constructor,sign=x.s==y.s?1:-1,xd=x.d,yd=y.d;if(!(xd&&xd[0]&&yd&&yd[0]))return new Ctor(x.s&&y.s&&(xd?!yd||xd[0]!=yd[0]:yd)?xd&&0==xd[0]||!yd?0*sign:sign/0:NaN);for(base?(logBase=1,e=x.e-y.e):(base=BASE,logBase=LOG_BASE,e=mathfloor(x.e/logBase)-mathfloor(y.e/logBase)),yL=yd.length,xL=xd.length,qd=(q=new Ctor(sign)).d=[],i=0;yd[i]==(xd[i]||0);i++);if(yd[i]>(xd[i]||0)&&e--,null==pr?(sd=pr=Ctor.precision,rm=Ctor.rounding):sd=dp?pr+(x.e-y.e)+1:pr,sd<0)qd.push(1),more=!0;else{if(sd=sd/logBase+2|0,i=0,1==yL){for(k=0,yd=yd[0],sd++;(i<xL||k)&&sd--;i++)t=k*base+(xd[i]||0),qd[i]=t/yd|0,k=t%yd|0;more=k||i<xL}else{for((k=base/(yd[0]+1)|0)>1&&(yd=multiplyInteger(yd,k,base),xd=multiplyInteger(xd,k,base),yL=yd.length,xL=xd.length),xi=yL,remL=(rem=xd.slice(0,yL)).length;remL<yL;)rem[remL++]=0;(yz=yd.slice()).unshift(0),yd0=yd[0],yd[1]>=base/2&&++yd0;do{k=0,(cmp=compare(yd,rem,yL,remL))<0?(rem0=rem[0],yL!=remL&&(rem0=rem0*base+(rem[1]||0)),(k=rem0/yd0|0)>1?(k>=base&&(k=base-1),1==(cmp=compare(prod=multiplyInteger(yd,k,base),rem,prodL=prod.length,remL=rem.length))&&(k--,subtract(prod,yL<prodL?yz:yd,prodL,base))):(0==k&&(cmp=k=1),prod=yd.slice()),(prodL=prod.length)<remL&&prod.unshift(0),subtract(rem,prod,remL,base),-1==cmp&&(cmp=compare(yd,rem,yL,remL=rem.length))<1&&(k++,subtract(rem,yL<remL?yz:yd,remL,base)),remL=rem.length):0===cmp&&(k++,rem=[0]),qd[i++]=k,cmp&&rem[0]?rem[remL++]=xd[xi]||0:(rem=[xd[xi]],remL=1)}while((xi++<xL||void 0!==rem[0])&&sd--);more=void 0!==rem[0]}qd[0]||qd.shift()}if(1==logBase)q.e=e,inexact=more;else{for(i=1,k=qd[0];k>=10;k/=10)i++;q.e=i+e*logBase-1,finalise(q,dp?pr+q.e+1:pr,rm,more)}return q}}();function finalise(x,sd,rm,isTruncated){var digits,i,j,k,rd,roundUp,w,xd,xdi,Ctor=x.constructor;out:if(null!=sd){if(!(xd=x.d))return x;for(digits=1,k=xd[0];k>=10;k/=10)digits++;if((i=sd-digits)<0)i+=LOG_BASE,j=sd,rd=(w=xd[xdi=0])/mathpow(10,digits-j-1)%10|0;else if((xdi=Math.ceil((i+1)/LOG_BASE))>=(k=xd.length)){if(!isTruncated)break out;for(;k++<=xdi;)xd.push(0);w=rd=0,digits=1,j=(i%=LOG_BASE)-LOG_BASE+1}else{for(w=k=xd[xdi],digits=1;k>=10;k/=10)digits++;rd=(j=(i%=LOG_BASE)-LOG_BASE+digits)<0?0:w/mathpow(10,digits-j-1)%10|0}if(isTruncated=isTruncated||sd<0||void 0!==xd[xdi+1]||(j<0?w:w%mathpow(10,digits-j-1)),roundUp=rm<4?(rd||isTruncated)&&(0==rm||rm==(x.s<0?3:2)):rd>5||5==rd&&(4==rm||isTruncated||6==rm&&(i>0?j>0?w/mathpow(10,digits-j):0:xd[xdi-1])%10&1||rm==(x.s<0?8:7)),sd<1||!xd[0])return xd.length=0,roundUp?(sd-=x.e+1,xd[0]=mathpow(10,(LOG_BASE-sd%LOG_BASE)%LOG_BASE),x.e=-sd||0):xd[0]=x.e=0,x;if(0==i?(xd.length=xdi,k=1,xdi--):(xd.length=xdi+1,k=mathpow(10,LOG_BASE-i),xd[xdi]=j>0?(w/mathpow(10,digits-j)%mathpow(10,j)|0)*k:0),roundUp)for(;;){if(0==xdi){for(i=1,j=xd[0];j>=10;j/=10)i++;for(j=xd[0]+=k,k=1;j>=10;j/=10)k++;i!=k&&(x.e++,xd[0]==BASE&&(xd[0]=1));break}if(xd[xdi]+=k,xd[xdi]!=BASE)break;xd[xdi--]=0,k=1}for(i=xd.length;0===xd[--i];)xd.pop()}return external&&(x.e>Ctor.maxE?(x.d=null,x.e=NaN):x.e<Ctor.minE&&(x.e=0,x.d=[0])),x}function finiteToString(x,isExp,sd){if(!x.isFinite())return nonFiniteToString(x);var k,e=x.e,str=digitsToString(x.d),len=str.length;return isExp?(sd&&(k=sd-len)>0?str=str.charAt(0)+"."+str.slice(1)+getZeroString(k):len>1&&(str=str.charAt(0)+"."+str.slice(1)),str=str+(x.e<0?"e":"e+")+x.e):e<0?(str="0."+getZeroString(-e-1)+str,sd&&(k=sd-len)>0&&(str+=getZeroString(k))):e>=len?(str+=getZeroString(e+1-len),sd&&(k=sd-e-1)>0&&(str=str+"."+getZeroString(k))):((k=e+1)<len&&(str=str.slice(0,k)+"."+str.slice(k)),sd&&(k=sd-len)>0&&(e+1===len&&(str+="."),str+=getZeroString(k))),str}function getBase10Exponent(digits,e){var w=digits[0];for(e*=LOG_BASE;w>=10;w/=10)e++;return e}function getLn10(Ctor,sd,pr){if(sd>LN10_PRECISION)throw external=!0,pr&&(Ctor.precision=pr),Error(precisionLimitExceeded);return finalise(new Ctor(LN10),sd,1,!0)}function getPi(Ctor,sd,rm){if(sd>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new Ctor(PI),sd,rm,!0)}function getPrecision(digits){var w=digits.length-1,len=w*LOG_BASE+1;if(w=digits[w]){for(;w%10==0;w/=10)len--;for(w=digits[0];w>=10;w/=10)len++}return len}function getZeroString(k){for(var zs="";k--;)zs+="0";return zs}function intPow(Ctor,x,n,pr){var isTruncated,r=new Ctor(1),k=Math.ceil(pr/LOG_BASE+4);for(external=!1;;){if(n%2&&truncate((r=r.times(x)).d,k)&&(isTruncated=!0),0===(n=mathfloor(n/2))){n=r.d.length-1,isTruncated&&0===r.d[n]&&++r.d[n];break}truncate((x=x.times(x)).d,k)}return external=!0,r}function isOdd(n){return 1&n.d[n.d.length-1]}function maxOrMin(Ctor,args,ltgt){for(var y,x=new Ctor(args[0]),i=0;++i<args.length;){if(!(y=new Ctor(args[i])).s){x=y;break}x[ltgt](y)&&(x=y)}return x}function naturalExponential(x,sd){var denominator,guard,j,pow,sum,t,wpr,rep=0,i=0,k=0,Ctor=x.constructor,rm=Ctor.rounding,pr=Ctor.precision;if(!x.d||!x.d[0]||x.e>17)return new Ctor(x.d?x.d[0]?x.s<0?0:1/0:1:x.s?x.s<0?0:x:NaN);for(null==sd?(external=!1,wpr=pr):wpr=sd,t=new Ctor(.03125);x.e>-2;)x=x.times(t),k+=5;for(wpr+=guard=Math.log(mathpow(2,k))/Math.LN10*2+5|0,denominator=pow=sum=new Ctor(1),Ctor.precision=wpr;;){if(pow=finalise(pow.times(x),wpr,1),denominator=denominator.times(++i),digitsToString((t=sum.plus(divide(pow,denominator,wpr,1))).d).slice(0,wpr)===digitsToString(sum.d).slice(0,wpr)){for(j=k;j--;)sum=finalise(sum.times(sum),wpr,1);if(null!=sd)return Ctor.precision=pr,sum;if(!(rep<3&&checkRoundingDigits(sum.d,wpr-guard,rm,rep)))return finalise(sum,Ctor.precision=pr,rm,external=!0);Ctor.precision=wpr+=10,denominator=pow=t=new Ctor(1),i=0,rep++}sum=t}}function naturalLogarithm(y,sd){var c,c0,denominator,e,numerator,rep,sum,t,wpr,x1,x2,n=1,x=y,xd=x.d,Ctor=x.constructor,rm=Ctor.rounding,pr=Ctor.precision;if(x.s<0||!xd||!xd[0]||!x.e&&1==xd[0]&&1==xd.length)return new Ctor(xd&&!xd[0]?-1/0:1!=x.s?NaN:xd?0:x);if(null==sd?(external=!1,wpr=pr):wpr=sd,Ctor.precision=wpr+=10,c0=(c=digitsToString(xd)).charAt(0),!(Math.abs(e=x.e)<15e14))return t=getLn10(Ctor,wpr+2,pr).times(e+""),x=naturalLogarithm(new Ctor(c0+"."+c.slice(1)),wpr-10).plus(t),Ctor.precision=pr,null==sd?finalise(x,pr,rm,external=!0):x;for(;c0<7&&1!=c0||1==c0&&c.charAt(1)>3;)c0=(c=digitsToString((x=x.times(y)).d)).charAt(0),n++;for(e=x.e,c0>1?(x=new Ctor("0."+c),e++):x=new Ctor(c0+"."+c.slice(1)),x1=x,sum=numerator=x=divide(x.minus(1),x.plus(1),wpr,1),x2=finalise(x.times(x),wpr,1),denominator=3;;){if(numerator=finalise(numerator.times(x2),wpr,1),digitsToString((t=sum.plus(divide(numerator,new Ctor(denominator),wpr,1))).d).slice(0,wpr)===digitsToString(sum.d).slice(0,wpr)){if(sum=sum.times(2),0!==e&&(sum=sum.plus(getLn10(Ctor,wpr+2,pr).times(e+""))),sum=divide(sum,new Ctor(n),wpr,1),null!=sd)return Ctor.precision=pr,sum;if(!checkRoundingDigits(sum.d,wpr-10,rm,rep))return finalise(sum,Ctor.precision=pr,rm,external=!0);Ctor.precision=wpr+=10,t=numerator=x=divide(x1.minus(1),x1.plus(1),wpr,1),x2=finalise(x.times(x),wpr,1),denominator=rep=1}sum=t,denominator+=2}}function nonFiniteToString(x){return String(x.s*x.s/0)}function parseDecimal(x,str){var e,i,len;for((e=str.indexOf("."))>-1&&(str=str.replace(".","")),(i=str.search(/e/i))>0?(e<0&&(e=i),e+=+str.slice(i+1),str=str.substring(0,i)):e<0&&(e=str.length),i=0;48===str.charCodeAt(i);i++);for(len=str.length;48===str.charCodeAt(len-1);--len);if(str=str.slice(i,len)){if(len-=i,x.e=e=e-i-1,x.d=[],i=(e+1)%LOG_BASE,e<0&&(i+=LOG_BASE),i<len){for(i&&x.d.push(+str.slice(0,i)),len-=LOG_BASE;i<len;)x.d.push(+str.slice(i,i+=LOG_BASE));str=str.slice(i),i=LOG_BASE-str.length}else i-=len;for(;i--;)str+="0";x.d.push(+str),external&&(x.e>x.constructor.maxE?(x.d=null,x.e=NaN):x.e<x.constructor.minE&&(x.e=0,x.d=[0]))}else x.e=0,x.d=[0];return x}function parseOther(x,str){var base,Ctor,divisor,i,isFloat,len,p,xd,xe;if(str.indexOf("_")>-1){if(str=str.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(str))return parseDecimal(x,str)}else if("Infinity"===str||"NaN"===str)return+str||(x.s=NaN),x.e=NaN,x.d=null,x;if(isHex.test(str))base=16,str=str.toLowerCase();else if(isBinary.test(str))base=2;else{if(!isOctal.test(str))throw Error(invalidArgument+str);base=8}for((i=str.search(/p/i))>0?(p=+str.slice(i+1),str=str.substring(2,i)):str=str.slice(2),isFloat=(i=str.indexOf("."))>=0,Ctor=x.constructor,isFloat&&(i=(len=(str=str.replace(".","")).length)-i,divisor=intPow(Ctor,new Ctor(base),i,2*i)),i=xe=(xd=convertBase(str,base,BASE)).length-1;0===xd[i];--i)xd.pop();return i<0?new Ctor(0*x.s):(x.e=getBase10Exponent(xd,xe),x.d=xd,external=!1,isFloat&&(x=divide(x,divisor,4*len)),p&&(x=x.times(Math.abs(p)<54?mathpow(2,p):Decimal.pow(2,p))),external=!0,x)}function taylorSeries(Ctor,n,x,y,isHyperbolic){var j,t,u,x2,pr=Ctor.precision,k=Math.ceil(pr/LOG_BASE);for(external=!1,x2=x.times(x),u=new Ctor(y);;){if(t=divide(u.times(x2),new Ctor(n++*n++),pr,1),u=isHyperbolic?y.plus(t):y.minus(t),y=divide(t.times(x2),new Ctor(n++*n++),pr,1),void 0!==(t=u.plus(y)).d[k]){for(j=k;t.d[j]===u.d[j]&&j--;);if(-1==j)break}j=u,u=y,y=t,t=j}return external=!0,t.d.length=k+1,t}function tinyPow(b,e){for(var n=b;--e;)n*=b;return n}function toLessThanHalfPi(Ctor,x){var t,isNeg=x.s<0,pi=getPi(Ctor,Ctor.precision,1),halfPi=pi.times(.5);if((x=x.abs()).lte(halfPi))return quadrant=isNeg?4:1,x;if((t=x.divToInt(pi)).isZero())quadrant=isNeg?3:2;else{if((x=x.minus(t.times(pi))).lte(halfPi))return quadrant=isOdd(t)?isNeg?2:3:isNeg?4:1,x;quadrant=isOdd(t)?isNeg?1:4:isNeg?3:2}return x.minus(pi).abs()}function toStringBinary(x,baseOut,sd,rm){var base,e,i,k,len,roundUp,str,xd,y,Ctor=x.constructor,isExp=void 0!==sd;if(isExp?(checkInt32(sd,1,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8)):(sd=Ctor.precision,rm=Ctor.rounding),x.isFinite()){for(isExp?(base=2,16==baseOut?sd=4*sd-3:8==baseOut&&(sd=3*sd-2)):base=baseOut,(i=(str=finiteToString(x)).indexOf("."))>=0&&(str=str.replace(".",""),(y=new Ctor(1)).e=str.length-i,y.d=convertBase(finiteToString(y),10,base),y.e=y.d.length),e=len=(xd=convertBase(str,10,base)).length;0==xd[--len];)xd.pop();if(xd[0]){if(i<0?e--:((x=new Ctor(x)).d=xd,x.e=e,xd=(x=divide(x,y,sd,rm,0,base)).d,e=x.e,roundUp=inexact),i=xd[sd],k=base/2,roundUp=roundUp||void 0!==xd[sd+1],roundUp=rm<4?(void 0!==i||roundUp)&&(0===rm||rm===(x.s<0?3:2)):i>k||i===k&&(4===rm||roundUp||6===rm&&1&xd[sd-1]||rm===(x.s<0?8:7)),xd.length=sd,roundUp)for(;++xd[--sd]>base-1;)xd[sd]=0,sd||(++e,xd.unshift(1));for(len=xd.length;!xd[len-1];--len);for(i=0,str="";i<len;i++)str+=NUMERALS.charAt(xd[i]);if(isExp){if(len>1)if(16==baseOut||8==baseOut){for(i=16==baseOut?4:3,--len;len%i;len++)str+="0";for(len=(xd=convertBase(str,base,baseOut)).length;!xd[len-1];--len);for(i=1,str="1.";i<len;i++)str+=NUMERALS.charAt(xd[i])}else str=str.charAt(0)+"."+str.slice(1);str=str+(e<0?"p":"p+")+e}else if(e<0){for(;++e;)str="0"+str;str="0."+str}else if(++e>len)for(e-=len;e--;)str+="0";else e<len&&(str=str.slice(0,e)+"."+str.slice(e))}else str=isExp?"0p+0":"0";str=(16==baseOut?"0x":2==baseOut?"0b":8==baseOut?"0o":"")+str}else str=nonFiniteToString(x);return x.s<0?"-"+str:str}function truncate(arr,len){if(arr.length>len)return arr.length=len,!0}function abs(x){return new this(x).abs()}function acos(x){return new this(x).acos()}function acosh(x){return new this(x).acosh()}function add(x,y){return new this(x).plus(y)}function asin(x){return new this(x).asin()}function asinh(x){return new this(x).asinh()}function atan(x){return new this(x).atan()}function atanh(x){return new this(x).atanh()}function atan2(y,x){y=new this(y),x=new this(x);var r,pr=this.precision,rm=this.rounding,wpr=pr+4;return y.s&&x.s?y.d||x.d?!x.d||y.isZero()?(r=x.s<0?getPi(this,pr,rm):new this(0)).s=y.s:!y.d||x.isZero()?(r=getPi(this,wpr,1).times(.5)).s=y.s:x.s<0?(this.precision=wpr,this.rounding=1,r=this.atan(divide(y,x,wpr,1)),x=getPi(this,wpr,1),this.precision=pr,this.rounding=rm,r=y.s<0?r.minus(x):r.plus(x)):r=this.atan(divide(y,x,wpr,1)):(r=getPi(this,wpr,1).times(x.s>0?.25:.75)).s=y.s:r=new this(NaN),r}function cbrt(x){return new this(x).cbrt()}function ceil(x){return finalise(x=new this(x),x.e+1,2)}function clamp(x,min,max){return new this(x).clamp(min,max)}function config(obj){if(!obj||"object"!=typeof obj)throw Error(decimalError+"Object expected");var i,p,v,useDefaults=!0===obj.defaults,ps=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(i=0;i<ps.length;i+=3)if(p=ps[i],useDefaults&&(this[p]=DEFAULTS[p]),void 0!==(v=obj[p])){if(!(mathfloor(v)===v&&v>=ps[i+1]&&v<=ps[i+2]))throw Error(invalidArgument+p+": "+v);this[p]=v}if(p="crypto",useDefaults&&(this[p]=DEFAULTS[p]),void 0!==(v=obj[p])){if(!0!==v&&!1!==v&&0!==v&&1!==v)throw Error(invalidArgument+p+": "+v);if(v){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(cryptoUnavailable);this[p]=!0}else this[p]=!1}return this}function cos(x){return new this(x).cos()}function cosh(x){return new this(x).cosh()}function div(x,y){return new this(x).div(y)}function exp(x){return new this(x).exp()}function floor(x){return finalise(x=new this(x),x.e+1,3)}function hypot(){var i,n,t=new this(0);for(external=!1,i=0;i<arguments.length;)if((n=new this(arguments[i++])).d)t.d&&(t=t.plus(n.times(n)));else{if(n.s)return external=!0,new this(1/0);t=n}return external=!0,t.sqrt()}function isDecimalInstance(obj){return obj instanceof Decimal||obj&&obj.toStringTag===tag||!1}function ln(x){return new this(x).ln()}function log(x,y){return new this(x).log(y)}function log2(x){return new this(x).log(2)}function log10(x){return new this(x).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(x,y){return new this(x).mod(y)}function mul(x,y){return new this(x).mul(y)}function pow(x,y){return new this(x).pow(y)}function random(sd){var d,e,k,n,i=0,r=new this(1),rd=[];if(void 0===sd?sd=this.precision:checkInt32(sd,1,MAX_DIGITS),k=Math.ceil(sd/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(d=crypto.getRandomValues(new Uint32Array(k));i<k;)(n=d[i])>=429e7?d[i]=crypto.getRandomValues(new Uint32Array(1))[0]:rd[i++]=n%1e7;else{if(!crypto.randomBytes)throw Error(cryptoUnavailable);for(d=crypto.randomBytes(k*=4);i<k;)(n=d[i]+(d[i+1]<<8)+(d[i+2]<<16)+((127&d[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(d,i):(rd.push(n%1e7),i+=4);i=k/4}else for(;i<k;)rd[i++]=1e7*Math.random()|0;for(k=rd[--i],sd%=LOG_BASE,k&&sd&&(n=mathpow(10,LOG_BASE-sd),rd[i]=(k/n|0)*n);0===rd[i];i--)rd.pop();if(i<0)e=0,rd=[0];else{for(e=-1;0===rd[0];e-=LOG_BASE)rd.shift();for(k=1,n=rd[0];n>=10;n/=10)k++;k<LOG_BASE&&(e-=LOG_BASE-k)}return r.e=e,r.d=rd,r}function round(x){return finalise(x=new this(x),x.e+1,this.rounding)}function sign(x){return(x=new this(x)).d?x.d[0]?x.s:0*x.s:x.s||NaN}function sin(x){return new this(x).sin()}function sinh(x){return new this(x).sinh()}function sqrt(x){return new this(x).sqrt()}function sub(x,y){return new this(x).sub(y)}function sum(){var i=0,args=arguments,x=new this(args[i]);for(external=!1;x.s&&++i<args.length;)x=x.plus(args[i]);return external=!0,finalise(x,this.precision,this.rounding)}function tan(x){return new this(x).tan()}function tanh(x){return new this(x).tanh()}function trunc(x){return finalise(x=new this(x),x.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString,P[Symbol.toStringTag]="Decimal";var Decimal=P.constructor=function clone(obj){var i,p,ps;function Decimal(v){var e,i,t,x=this;if(!(x instanceof Decimal))return new Decimal(v);if(x.constructor=Decimal,isDecimalInstance(v))return x.s=v.s,void(external?!v.d||v.e>Decimal.maxE?(x.e=NaN,x.d=null):v.e<Decimal.minE?(x.e=0,x.d=[0]):(x.e=v.e,x.d=v.d.slice()):(x.e=v.e,x.d=v.d?v.d.slice():v.d));if("number"===(t=typeof v)){if(0===v)return x.s=1/v<0?-1:1,x.e=0,void(x.d=[0]);if(v<0?(v=-v,x.s=-1):x.s=1,v===~~v&&v<1e7){for(e=0,i=v;i>=10;i/=10)e++;return void(external?e>Decimal.maxE?(x.e=NaN,x.d=null):e<Decimal.minE?(x.e=0,x.d=[0]):(x.e=e,x.d=[v]):(x.e=e,x.d=[v]))}return 0*v!=0?(v||(x.s=NaN),x.e=NaN,void(x.d=null)):parseDecimal(x,v.toString())}if("string"!==t)throw Error(invalidArgument+v);return 45===(i=v.charCodeAt(0))?(v=v.slice(1),x.s=-1):(43===i&&(v=v.slice(1)),x.s=1),isDecimal.test(v)?parseDecimal(x,v):parseOther(x,v)}if(Decimal.prototype=P,Decimal.ROUND_UP=0,Decimal.ROUND_DOWN=1,Decimal.ROUND_CEIL=2,Decimal.ROUND_FLOOR=3,Decimal.ROUND_HALF_UP=4,Decimal.ROUND_HALF_DOWN=5,Decimal.ROUND_HALF_EVEN=6,Decimal.ROUND_HALF_CEIL=7,Decimal.ROUND_HALF_FLOOR=8,Decimal.EUCLID=9,Decimal.config=Decimal.set=config,Decimal.clone=clone,Decimal.isDecimal=isDecimalInstance,Decimal.abs=abs,Decimal.acos=acos,Decimal.acosh=acosh,Decimal.add=add,Decimal.asin=asin,Decimal.asinh=asinh,Decimal.atan=atan,Decimal.atanh=atanh,Decimal.atan2=atan2,Decimal.cbrt=cbrt,Decimal.ceil=ceil,Decimal.clamp=clamp,Decimal.cos=cos,Decimal.cosh=cosh,Decimal.div=div,Decimal.exp=exp,Decimal.floor=floor,Decimal.hypot=hypot,Decimal.ln=ln,Decimal.log=log,Decimal.log10=log10,Decimal.log2=log2,Decimal.max=max,Decimal.min=min,Decimal.mod=mod,Decimal.mul=mul,Decimal.pow=pow,Decimal.random=random,Decimal.round=round,Decimal.sign=sign,Decimal.sin=sin,Decimal.sinh=sinh,Decimal.sqrt=sqrt,Decimal.sub=sub,Decimal.sum=sum,Decimal.tan=tan,Decimal.tanh=tanh,Decimal.trunc=trunc,void 0===obj&&(obj={}),obj&&!0!==obj.defaults)for(ps=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],i=0;i<ps.length;)obj.hasOwnProperty(p=ps[i++])||(obj[p]=this[p]);return Decimal.config(obj),Decimal}(DEFAULTS);LN10=new Decimal(LN10),PI=new Decimal(PI),__webpack_exports__.Z=Decimal},"./node_modules/earcut/src/earcut.js":function(module){"use strict";function earcut(data,holeIndices,dim){dim=dim||2;var minX,minY,maxX,maxY,x,y,invSize,hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,outerNode=linkedList(data,0,outerLen,dim,!0),triangles=[];if(!outerNode||outerNode.next===outerNode.prev)return triangles;if(hasHoles&&(outerNode=function eliminateHoles(data,holeIndices,outerNode,dim){var i,len,list,queue=[];for(i=0,len=holeIndices.length;i<len;i++)(list=linkedList(data,holeIndices[i]*dim,i<len-1?holeIndices[i+1]*dim:data.length,dim,!1))===list.next&&(list.steiner=!0),queue.push(getLeftmost(list));for(queue.sort(compareX),i=0;i<queue.length;i++)outerNode=eliminateHole(queue[i],outerNode);return outerNode}(data,holeIndices,outerNode,dim)),data.length>80*dim){minX=maxX=data[0],minY=maxY=data[1];for(var i=dim;i<outerLen;i+=dim)(x=data[i])<minX&&(minX=x),(y=data[i+1])<minY&&(minY=y),x>maxX&&(maxX=x),y>maxY&&(maxY=y);invSize=0!==(invSize=Math.max(maxX-minX,maxY-minY))?32767/invSize:0}return earcutLinked(outerNode,triangles,dim,minX,minY,invSize,0),triangles}function linkedList(data,start,end,dim,clockwise){var i,last;if(clockwise===signedArea(data,start,end,dim)>0)for(i=start;i<end;i+=dim)last=insertNode(i,data[i],data[i+1],last);else for(i=end-dim;i>=start;i-=dim)last=insertNode(i,data[i],data[i+1],last);return last&&equals(last,last.next)&&(removeNode(last),last=last.next),last}function filterPoints(start,end){if(!start)return start;end||(end=start);var again,p=start;do{if(again=!1,p.steiner||!equals(p,p.next)&&0!==area(p.prev,p,p.next))p=p.next;else{if(removeNode(p),(p=end=p.prev)===p.next)break;again=!0}}while(again||p!==end);return end}function earcutLinked(ear,triangles,dim,minX,minY,invSize,pass){if(ear){!pass&&invSize&&function indexCurve(start,minX,minY,invSize){var p=start;do{0===p.z&&(p.z=zOrder(p.x,p.y,minX,minY,invSize)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==start);p.prevZ.nextZ=null,p.prevZ=null,function sortLinked(list){var i,p,q,e,tail,numMerges,pSize,qSize,inSize=1;do{for(p=list,list=null,tail=null,numMerges=0;p;){for(numMerges++,q=p,pSize=0,i=0;i<inSize&&(pSize++,q=q.nextZ);i++);for(qSize=inSize;pSize>0||qSize>0&&q;)0!==pSize&&(0===qSize||!q||p.z<=q.z)?(e=p,p=p.nextZ,pSize--):(e=q,q=q.nextZ,qSize--),tail?tail.nextZ=e:list=e,e.prevZ=tail,tail=e;p=q}tail.nextZ=null,inSize*=2}while(numMerges>1);return list}(p)}(ear,minX,minY,invSize);for(var prev,next,stop=ear;ear.prev!==ear.next;)if(prev=ear.prev,next=ear.next,invSize?isEarHashed(ear,minX,minY,invSize):isEar(ear))triangles.push(prev.i/dim|0),triangles.push(ear.i/dim|0),triangles.push(next.i/dim|0),removeNode(ear),ear=next.next,stop=next.next;else if((ear=next)===stop){pass?1===pass?earcutLinked(ear=cureLocalIntersections(filterPoints(ear),triangles,dim),triangles,dim,minX,minY,invSize,2):2===pass&&splitEarcut(ear,triangles,dim,minX,minY,invSize):earcutLinked(filterPoints(ear),triangles,dim,minX,minY,invSize,1);break}}}function isEar(ear){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return!1;for(var ax=a.x,bx=b.x,cx=c.x,ay=a.y,by=b.y,cy=c.y,x0=ax<bx?ax<cx?ax:cx:bx<cx?bx:cx,y0=ay<by?ay<cy?ay:cy:by<cy?by:cy,x1=ax>bx?ax>cx?ax:cx:bx>cx?bx:cx,y1=ay>by?ay>cy?ay:cy:by>cy?by:cy,p=c.next;p!==a;){if(p.x>=x0&&p.x<=x1&&p.y>=y0&&p.y<=y1&&pointInTriangle(ax,ay,bx,by,cx,cy,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function isEarHashed(ear,minX,minY,invSize){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return!1;for(var ax=a.x,bx=b.x,cx=c.x,ay=a.y,by=b.y,cy=c.y,x0=ax<bx?ax<cx?ax:cx:bx<cx?bx:cx,y0=ay<by?ay<cy?ay:cy:by<cy?by:cy,x1=ax>bx?ax>cx?ax:cx:bx>cx?bx:cx,y1=ay>by?ay>cy?ay:cy:by>cy?by:cy,minZ=zOrder(x0,y0,minX,minY,invSize),maxZ=zOrder(x1,y1,minX,minY,invSize),p=ear.prevZ,n=ear.nextZ;p&&p.z>=minZ&&n&&n.z<=maxZ;){if(p.x>=x0&&p.x<=x1&&p.y>=y0&&p.y<=y1&&p!==a&&p!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,n.x>=x0&&n.x<=x1&&n.y>=y0&&n.y<=y1&&n!==a&&n!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,n.x,n.y)&&area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}for(;p&&p.z>=minZ;){if(p.x>=x0&&p.x<=x1&&p.y>=y0&&p.y<=y1&&p!==a&&p!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;n&&n.z<=maxZ;){if(n.x>=x0&&n.x<=x1&&n.y>=y0&&n.y<=y1&&n!==a&&n!==c&&pointInTriangle(ax,ay,bx,by,cx,cy,n.x,n.y)&&area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}return!0}function cureLocalIntersections(start,triangles,dim){var p=start;do{var a=p.prev,b=p.next.next;!equals(a,b)&&intersects(a,p,p.next,b)&&locallyInside(a,b)&&locallyInside(b,a)&&(triangles.push(a.i/dim|0),triangles.push(p.i/dim|0),triangles.push(b.i/dim|0),removeNode(p),removeNode(p.next),p=start=b),p=p.next}while(p!==start);return filterPoints(p)}function splitEarcut(start,triangles,dim,minX,minY,invSize){var a=start;do{for(var b=a.next.next;b!==a.prev;){if(a.i!==b.i&&isValidDiagonal(a,b)){var c=splitPolygon(a,b);return a=filterPoints(a,a.next),c=filterPoints(c,c.next),earcutLinked(a,triangles,dim,minX,minY,invSize,0),void earcutLinked(c,triangles,dim,minX,minY,invSize,0)}b=b.next}a=a.next}while(a!==start)}function compareX(a,b){return a.x-b.x}function eliminateHole(hole,outerNode){var bridge=function findHoleBridge(hole,outerNode){var m,p=outerNode,hx=hole.x,hy=hole.y,qx=-1/0;do{if(hy<=p.y&&hy>=p.next.y&&p.next.y!==p.y){var x=p.x+(hy-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(x<=hx&&x>qx&&(qx=x,m=p.x<p.next.x?p:p.next,x===hx))return m}p=p.next}while(p!==outerNode);if(!m)return null;var tan,stop=m,mx=m.x,my=m.y,tanMin=1/0;p=m;do{hx>=p.x&&p.x>=mx&&hx!==p.x&&pointInTriangle(hy<my?hx:qx,hy,mx,my,hy<my?qx:hx,hy,p.x,p.y)&&(tan=Math.abs(hy-p.y)/(hx-p.x),locallyInside(p,hole)&&(tan<tanMin||tan===tanMin&&(p.x>m.x||p.x===m.x&&sectorContainsSector(m,p)))&&(m=p,tanMin=tan)),p=p.next}while(p!==stop);return m}(hole,outerNode);if(!bridge)return outerNode;var bridgeReverse=splitPolygon(bridge,hole);return filterPoints(bridgeReverse,bridgeReverse.next),filterPoints(bridge,bridge.next)}function sectorContainsSector(m,p){return area(m.prev,m,p.prev)<0&&area(p.next,m,m.next)<0}function zOrder(x,y,minX,minY,invSize){return(x=1431655765&((x=858993459&((x=252645135&((x=16711935&((x=(x-minX)*invSize|0)|x<<8))|x<<4))|x<<2))|x<<1))|(y=1431655765&((y=858993459&((y=252645135&((y=16711935&((y=(y-minY)*invSize|0)|y<<8))|y<<4))|y<<2))|y<<1))<<1}function getLeftmost(start){var p=start,leftmost=start;do{(p.x<leftmost.x||p.x===leftmost.x&&p.y<leftmost.y)&&(leftmost=p),p=p.next}while(p!==start);return leftmost}function pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return(cx-px)*(ay-py)>=(ax-px)*(cy-py)&&(ax-px)*(by-py)>=(bx-px)*(ay-py)&&(bx-px)*(cy-py)>=(cx-px)*(by-py)}function isValidDiagonal(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function intersectsPolygon(a,b){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&intersects(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}(a,b)&&(locallyInside(a,b)&&locallyInside(b,a)&&function middleInside(a,b){var p=a,inside=!1,px=(a.x+b.x)/2,py=(a.y+b.y)/2;do{p.y>py!=p.next.y>py&&p.next.y!==p.y&&px<(p.next.x-p.x)*(py-p.y)/(p.next.y-p.y)+p.x&&(inside=!inside),p=p.next}while(p!==a);return inside}(a,b)&&(area(a.prev,a,b.prev)||area(a,b.prev,b))||equals(a,b)&&area(a.prev,a,a.next)>0&&area(b.prev,b,b.next)>0)}function area(p,q,r){return(q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y)}function equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y}function intersects(p1,q1,p2,q2){var o1=sign(area(p1,q1,p2)),o2=sign(area(p1,q1,q2)),o3=sign(area(p2,q2,p1)),o4=sign(area(p2,q2,q1));return o1!==o2&&o3!==o4||(!(0!==o1||!onSegment(p1,p2,q1))||(!(0!==o2||!onSegment(p1,q2,q1))||(!(0!==o3||!onSegment(p2,p1,q2))||!(0!==o4||!onSegment(p2,q1,q2)))))}function onSegment(p,q,r){return q.x<=Math.max(p.x,r.x)&&q.x>=Math.min(p.x,r.x)&&q.y<=Math.max(p.y,r.y)&&q.y>=Math.min(p.y,r.y)}function sign(num){return num>0?1:num<0?-1:0}function locallyInside(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0}function splitPolygon(a,b){var a2=new Node(a.i,a.x,a.y),b2=new Node(b.i,b.x,b.y),an=a.next,bp=b.prev;return a.next=b,b.prev=a,a2.next=an,an.prev=a2,b2.next=a2,a2.prev=b2,bp.next=b2,b2.prev=bp,b2}function insertNode(i,x,y,last){var p=new Node(i,x,y);return last?(p.next=last.next,p.prev=last,last.next.prev=p,last.next=p):(p.prev=p,p.next=p),p}function removeNode(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function Node(i,x,y){this.i=i,this.x=x,this.y=y,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(data,start,end,dim){for(var sum=0,i=start,j=end-dim;i<end;i+=dim)sum+=(data[j]-data[i])*(data[i+1]+data[j+1]),j=i;return sum}module.exports=earcut,module.exports.default=earcut,earcut.deviation=function(data,holeIndices,dim,triangles){var hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,polygonArea=Math.abs(signedArea(data,0,outerLen,dim));if(hasHoles)for(var i=0,len=holeIndices.length;i<len;i++){var start=holeIndices[i]*dim,end=i<len-1?holeIndices[i+1]*dim:data.length;polygonArea-=Math.abs(signedArea(data,start,end,dim))}var trianglesArea=0;for(i=0;i<triangles.length;i+=3){var a=triangles[i]*dim,b=triangles[i+1]*dim,c=triangles[i+2]*dim;trianglesArea+=Math.abs((data[a]-data[c])*(data[b+1]-data[a+1])-(data[a]-data[b])*(data[c+1]-data[a+1]))}return 0===polygonArea&&0===trianglesArea?0:Math.abs((trianglesArea-polygonArea)/polygonArea)},earcut.flatten=function(data){for(var dim=data[0][0].length,result={vertices:[],holes:[],dimensions:dim},holeIndex=0,i=0;i<data.length;i++){for(var j=0;j<data[i].length;j++)for(var d=0;d<dim;d++)result.vertices.push(data[i][j][d]);i>0&&(holeIndex+=data[i-1].length,result.holes.push(holeIndex))}return result}},"./node_modules/expression-eval/index.js":function(module,__unused_webpack_exports,__webpack_require__){const jsep=__webpack_require__("./node_modules/jsep/build/jsep.js"),binops={"||":function(a,b){return a||b},"&&":function(a,b){return a&&b},"|":function(a,b){return a|b},"^":function(a,b){return a^b},"&":function(a,b){return a&b},"==":function(a,b){return a==b},"!=":function(a,b){return a!=b},"===":function(a,b){return a===b},"!==":function(a,b){return a!==b},"<":function(a,b){return a<b},">":function(a,b){return a>b},"<=":function(a,b){return a<=b},">=":function(a,b){return a>=b},"<<":function(a,b){return a<<b},">>":function(a,b){return a>>b},">>>":function(a,b){return a>>>b},"+":function(a,b){return a+b},"-":function(a,b){return a-b},"*":function(a,b){return a*b},"/":function(a,b){return a/b},"%":function(a,b){return a%b}},unops={"-":function(a){return-a},"+":function(a){return+a},"~":function(a){return~a},"!":function(a){return!a}};function evaluateArray(list,context){return list.map((function(v){return evaluate(v,context)}))}async function evaluateArrayAsync(list,context){return await Promise.all(list.map((v=>evaluateAsync(v,context))))}function evaluateMember(node,context){const object=evaluate(node.object,context);return node.computed?[object,object[evaluate(node.property,context)]]:[object,object[node.property.name]]}async function evaluateMemberAsync(node,context){const object=await evaluateAsync(node.object,context);return node.computed?[object,object[await evaluateAsync(node.property,context)]]:[object,object[node.property.name]]}function evaluate(node,context){switch(node.type){case"ArrayExpression":return evaluateArray(node.elements,context);case"BinaryExpression":return binops[node.operator](evaluate(node.left,context),evaluate(node.right,context));case"CallExpression":let caller,fn,assign;if("MemberExpression"===node.callee.type?(assign=evaluateMember(node.callee,context),caller=assign[0],fn=assign[1]):fn=evaluate(node.callee,context),"function"!=typeof fn)return;return fn.apply(caller,evaluateArray(node.arguments,context));case"ConditionalExpression":return evaluate(node.test,context)?evaluate(node.consequent,context):evaluate(node.alternate,context);case"Identifier":return context[node.name];case"Literal":return node.value;case"LogicalExpression":return"||"===node.operator?evaluate(node.left,context)||evaluate(node.right,context):"&&"===node.operator?evaluate(node.left,context)&&evaluate(node.right,context):binops[node.operator](evaluate(node.left,context),evaluate(node.right,context));case"MemberExpression":return evaluateMember(node,context)[1];case"ThisExpression":return context;case"UnaryExpression":return unops[node.operator](evaluate(node.argument,context));default:return}}async function evaluateAsync(node,context){switch(node.type){case"ArrayExpression":return await evaluateArrayAsync(node.elements,context);case"BinaryExpression":{const[left,right]=await Promise.all([evaluateAsync(node.left,context),evaluateAsync(node.right,context)]);return binops[node.operator](left,right)}case"CallExpression":let caller,fn,assign;if("MemberExpression"===node.callee.type?(assign=await evaluateMemberAsync(node.callee,context),caller=assign[0],fn=assign[1]):fn=await evaluateAsync(node.callee,context),"function"!=typeof fn)return;return await fn.apply(caller,await evaluateArrayAsync(node.arguments,context));case"ConditionalExpression":return await evaluateAsync(node.test,context)?await evaluateAsync(node.consequent,context):await evaluateAsync(node.alternate,context);case"Identifier":return context[node.name];case"Literal":return node.value;case"LogicalExpression":{if("||"===node.operator)return await evaluateAsync(node.left,context)||await evaluateAsync(node.right,context);if("&&"===node.operator)return await evaluateAsync(node.left,context)&&await evaluateAsync(node.right,context);const[left,right]=await Promise.all([evaluateAsync(node.left,context),evaluateAsync(node.right,context)]);return binops[node.operator](left,right)}case"MemberExpression":return(await evaluateMemberAsync(node,context))[1];case"ThisExpression":return context;case"UnaryExpression":return unops[node.operator](await evaluateAsync(node.argument,context));default:return}}module.exports={parse:jsep,eval:evaluate,evalAsync:evaluateAsync,compile:function compile(expression){return evaluate.bind(null,jsep(expression))},compileAsync:function compileAsync(expression){return evaluateAsync.bind(null,jsep(expression))}}},"./node_modules/fast-xml-parser/src/fxp.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";const validator=__webpack_require__("./node_modules/fast-xml-parser/src/validator.js"),XMLParser=__webpack_require__("./node_modules/fast-xml-parser/src/xmlparser/XMLParser.js"),XMLBuilder=__webpack_require__("./node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js");module.exports={XMLParser:XMLParser,XMLValidator:validator,XMLBuilder:XMLBuilder}},"./node_modules/fast-xml-parser/src/util.js":function(__unused_webpack_module,exports){"use strict";const nameStartChar=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",nameRegexp="["+nameStartChar+"]["+(nameStartChar+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*",regexName=new RegExp("^"+nameRegexp+"$");exports.isExist=function(v){return void 0!==v},exports.isEmptyObject=function(obj){return 0===Object.keys(obj).length},exports.merge=function(target,a,arrayMode){if(a){const keys=Object.keys(a),len=keys.length;for(let i=0;i<len;i++)target[keys[i]]="strict"===arrayMode?[a[keys[i]]]:a[keys[i]]}},exports.getValue=function(v){return exports.isExist(v)?v:""},exports.isName=function(string){const match=regexName.exec(string);return!(null==match)},exports.getAllMatches=function(string,regex){const matches=[];let match=regex.exec(string);for(;match;){const allmatches=[];allmatches.startIndex=regex.lastIndex-match[0].length;const len=match.length;for(let index=0;index<len;index++)allmatches.push(match[index]);matches.push(allmatches),match=regex.exec(string)}return matches},exports.nameRegexp=nameRegexp},"./node_modules/fast-xml-parser/src/validator.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";const util=__webpack_require__("./node_modules/fast-xml-parser/src/util.js"),defaultOptions={allowBooleanAttributes:!1,unpairedTags:[]};function isWhiteSpace(char){return" "===char||"\t"===char||"\n"===char||"\r"===char}function readPI(xmlData,i){const start=i;for(;i<xmlData.length;i++)if("?"!=xmlData[i]&&" "!=xmlData[i]);else{const tagname=xmlData.substr(start,i-start);if(i>5&&"xml"===tagname)return getErrorObject("InvalidXml","XML declaration allowed only at the start of the document.",getLineNumberForPosition(xmlData,i));if("?"==xmlData[i]&&">"==xmlData[i+1]){i++;break}}return i}function readCommentAndCDATA(xmlData,i){if(xmlData.length>i+5&&"-"===xmlData[i+1]&&"-"===xmlData[i+2]){for(i+=3;i<xmlData.length;i++)if("-"===xmlData[i]&&"-"===xmlData[i+1]&&">"===xmlData[i+2]){i+=2;break}}else if(xmlData.length>i+8&&"D"===xmlData[i+1]&&"O"===xmlData[i+2]&&"C"===xmlData[i+3]&&"T"===xmlData[i+4]&&"Y"===xmlData[i+5]&&"P"===xmlData[i+6]&&"E"===xmlData[i+7]){let angleBracketsCount=1;for(i+=8;i<xmlData.length;i++)if("<"===xmlData[i])angleBracketsCount++;else if(">"===xmlData[i]&&(angleBracketsCount--,0===angleBracketsCount))break}else if(xmlData.length>i+9&&"["===xmlData[i+1]&&"C"===xmlData[i+2]&&"D"===xmlData[i+3]&&"A"===xmlData[i+4]&&"T"===xmlData[i+5]&&"A"===xmlData[i+6]&&"["===xmlData[i+7])for(i+=8;i<xmlData.length;i++)if("]"===xmlData[i]&&"]"===xmlData[i+1]&&">"===xmlData[i+2]){i+=2;break}return i}exports.validate=function(xmlData,options){options=Object.assign({},defaultOptions,options);const tags=[];let tagFound=!1,reachedRoot=!1;"\ufeff"===xmlData[0]&&(xmlData=xmlData.substr(1));for(let i=0;i<xmlData.length;i++)if("<"===xmlData[i]&&"?"===xmlData[i+1]){if(i+=2,i=readPI(xmlData,i),i.err)return i}else{if("<"!==xmlData[i]){if(isWhiteSpace(xmlData[i]))continue;return getErrorObject("InvalidChar","char '"+xmlData[i]+"' is not expected.",getLineNumberForPosition(xmlData,i))}{let tagStartPos=i;if(i++,"!"===xmlData[i]){i=readCommentAndCDATA(xmlData,i);continue}{let closingTag=!1;"/"===xmlData[i]&&(closingTag=!0,i++);let tagName="";for(;i<xmlData.length&&">"!==xmlData[i]&&" "!==xmlData[i]&&"\t"!==xmlData[i]&&"\n"!==xmlData[i]&&"\r"!==xmlData[i];i++)tagName+=xmlData[i];if(tagName=tagName.trim(),"/"===tagName[tagName.length-1]&&(tagName=tagName.substring(0,tagName.length-1),i--),tagname=tagName,!util.isName(tagname)){let msg;return msg=0===tagName.trim().length?"Invalid space after '<'.":"Tag '"+tagName+"' is an invalid name.",getErrorObject("InvalidTag",msg,getLineNumberForPosition(xmlData,i))}const result=readAttributeStr(xmlData,i);if(!1===result)return getErrorObject("InvalidAttr","Attributes for '"+tagName+"' have open quote.",getLineNumberForPosition(xmlData,i));let attrStr=result.value;if(i=result.index,"/"===attrStr[attrStr.length-1]){const attrStrStart=i-attrStr.length;attrStr=attrStr.substring(0,attrStr.length-1);const isValid=validateAttributeString(attrStr,options);if(!0!==isValid)return getErrorObject(isValid.err.code,isValid.err.msg,getLineNumberForPosition(xmlData,attrStrStart+isValid.err.line));tagFound=!0}else if(closingTag){if(!result.tagClosed)return getErrorObject("InvalidTag","Closing tag '"+tagName+"' doesn't have proper closing.",getLineNumberForPosition(xmlData,i));if(attrStr.trim().length>0)return getErrorObject("InvalidTag","Closing tag '"+tagName+"' can't have attributes or invalid starting.",getLineNumberForPosition(xmlData,tagStartPos));{const otg=tags.pop();if(tagName!==otg.tagName){let openPos=getLineNumberForPosition(xmlData,otg.tagStartPos);return getErrorObject("InvalidTag","Expected closing tag '"+otg.tagName+"' (opened in line "+openPos.line+", col "+openPos.col+") instead of closing tag '"+tagName+"'.",getLineNumberForPosition(xmlData,tagStartPos))}0==tags.length&&(reachedRoot=!0)}}else{const isValid=validateAttributeString(attrStr,options);if(!0!==isValid)return getErrorObject(isValid.err.code,isValid.err.msg,getLineNumberForPosition(xmlData,i-attrStr.length+isValid.err.line));if(!0===reachedRoot)return getErrorObject("InvalidXml","Multiple possible root nodes found.",getLineNumberForPosition(xmlData,i));-1!==options.unpairedTags.indexOf(tagName)||tags.push({tagName:tagName,tagStartPos:tagStartPos}),tagFound=!0}for(i++;i<xmlData.length;i++)if("<"===xmlData[i]){if("!"===xmlData[i+1]){i++,i=readCommentAndCDATA(xmlData,i);continue}if("?"!==xmlData[i+1])break;if(i=readPI(xmlData,++i),i.err)return i}else if("&"===xmlData[i]){const afterAmp=validateAmpersand(xmlData,i);if(-1==afterAmp)return getErrorObject("InvalidChar","char '&' is not expected.",getLineNumberForPosition(xmlData,i));i=afterAmp}else if(!0===reachedRoot&&!isWhiteSpace(xmlData[i]))return getErrorObject("InvalidXml","Extra text at the end",getLineNumberForPosition(xmlData,i));"<"===xmlData[i]&&i--}}}var tagname;return tagFound?1==tags.length?getErrorObject("InvalidTag","Unclosed tag '"+tags[0].tagName+"'.",getLineNumberForPosition(xmlData,tags[0].tagStartPos)):!(tags.length>0)||getErrorObject("InvalidXml","Invalid '"+JSON.stringify(tags.map((t=>t.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):getErrorObject("InvalidXml","Start tag expected.",1)};const doubleQuote='"',singleQuote="'";function readAttributeStr(xmlData,i){let attrStr="",startChar="",tagClosed=!1;for(;i<xmlData.length;i++){if(xmlData[i]===doubleQuote||xmlData[i]===singleQuote)""===startChar?startChar=xmlData[i]:startChar!==xmlData[i]||(startChar="");else if(">"===xmlData[i]&&""===startChar){tagClosed=!0;break}attrStr+=xmlData[i]}return""===startChar&&{value:attrStr,index:i,tagClosed:tagClosed}}const validAttrStrRegxp=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function validateAttributeString(attrStr,options){const matches=util.getAllMatches(attrStr,validAttrStrRegxp),attrNames={};for(let i=0;i<matches.length;i++){if(0===matches[i][1].length)return getErrorObject("InvalidAttr","Attribute '"+matches[i][2]+"' has no space in starting.",getPositionFromMatch(matches[i]));if(void 0!==matches[i][3]&&void 0===matches[i][4])return getErrorObject("InvalidAttr","Attribute '"+matches[i][2]+"' is without value.",getPositionFromMatch(matches[i]));if(void 0===matches[i][3]&&!options.allowBooleanAttributes)return getErrorObject("InvalidAttr","boolean attribute '"+matches[i][2]+"' is not allowed.",getPositionFromMatch(matches[i]));const attrName=matches[i][2];if(!validateAttrName(attrName))return getErrorObject("InvalidAttr","Attribute '"+attrName+"' is an invalid name.",getPositionFromMatch(matches[i]));if(attrNames.hasOwnProperty(attrName))return getErrorObject("InvalidAttr","Attribute '"+attrName+"' is repeated.",getPositionFromMatch(matches[i]));attrNames[attrName]=1}return!0}function validateAmpersand(xmlData,i){if(";"===xmlData[++i])return-1;if("#"===xmlData[i])return function validateNumberAmpersand(xmlData,i){let re=/\d/;for("x"===xmlData[i]&&(i++,re=/[\da-fA-F]/);i<xmlData.length;i++){if(";"===xmlData[i])return i;if(!xmlData[i].match(re))break}return-1}(xmlData,++i);let count=0;for(;i<xmlData.length;i++,count++)if(!(xmlData[i].match(/\w/)&&count<20)){if(";"===xmlData[i])break;return-1}return i}function getErrorObject(code,message,lineNumber){return{err:{code:code,msg:message,line:lineNumber.line||lineNumber,col:lineNumber.col}}}function validateAttrName(attrName){return util.isName(attrName)}function getLineNumberForPosition(xmlData,index){const lines=xmlData.substring(0,index).split(/\r?\n/);return{line:lines.length,col:lines[lines.length-1].length+1}}function getPositionFromMatch(match){return match.startIndex+match[1].length}},"./node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";const buildFromOrderedJs=__webpack_require__("./node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js"),defaultOptions={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(key,a){return a},attributeValueProcessor:function(attrName,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Builder(options){this.options=Object.assign({},defaultOptions,options),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=isAttribute),this.processTextOrObjNode=processTextOrObjNode,this.options.format?(this.indentate=indentate,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function processTextOrObjNode(object,key,level){const result=this.j2x(object,level+1);return void 0!==object[this.options.textNodeName]&&1===Object.keys(object).length?this.buildTextValNode(object[this.options.textNodeName],key,result.attrStr,level):this.buildObjectNode(result.val,key,result.attrStr,level)}function indentate(level){return this.options.indentBy.repeat(level)}function isAttribute(name){return!!name.startsWith(this.options.attributeNamePrefix)&&name.substr(this.attrPrefixLen)}Builder.prototype.build=function(jObj){return this.options.preserveOrder?buildFromOrderedJs(jObj,this.options):(Array.isArray(jObj)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(jObj={[this.options.arrayNodeName]:jObj}),this.j2x(jObj,0).val)},Builder.prototype.j2x=function(jObj,level){let attrStr="",val="";for(let key in jObj)if(void 0===jObj[key]);else if(null===jObj[key])"?"===key[0]?val+=this.indentate(level)+"<"+key+"?"+this.tagEndChar:val+=this.indentate(level)+"<"+key+"/"+this.tagEndChar;else if(jObj[key]instanceof Date)val+=this.buildTextValNode(jObj[key],key,"",level);else if("object"!=typeof jObj[key]){const attr=this.isAttribute(key);if(attr)attrStr+=this.buildAttrPairStr(attr,""+jObj[key]);else if(key===this.options.textNodeName){let newval=this.options.tagValueProcessor(key,""+jObj[key]);val+=this.replaceEntitiesValue(newval)}else val+=this.buildTextValNode(jObj[key],key,"",level)}else if(Array.isArray(jObj[key])){const arrLen=jObj[key].length;let listTagVal="";for(let j=0;j<arrLen;j++){const item=jObj[key][j];void 0===item||(null===item?"?"===key[0]?val+=this.indentate(level)+"<"+key+"?"+this.tagEndChar:val+=this.indentate(level)+"<"+key+"/"+this.tagEndChar:"object"==typeof item?this.options.oneListGroup?listTagVal+=this.j2x(item,level+1).val:listTagVal+=this.processTextOrObjNode(item,key,level):listTagVal+=this.buildTextValNode(item,key,"",level))}this.options.oneListGroup&&(listTagVal=this.buildObjectNode(listTagVal,key,"",level)),val+=listTagVal}else if(this.options.attributesGroupName&&key===this.options.attributesGroupName){const Ks=Object.keys(jObj[key]),L=Ks.length;for(let j=0;j<L;j++)attrStr+=this.buildAttrPairStr(Ks[j],""+jObj[key][Ks[j]])}else val+=this.processTextOrObjNode(jObj[key],key,level);return{attrStr:attrStr,val:val}},Builder.prototype.buildAttrPairStr=function(attrName,val){return val=this.options.attributeValueProcessor(attrName,""+val),val=this.replaceEntitiesValue(val),this.options.suppressBooleanAttributes&&"true"===val?" "+attrName:" "+attrName+'="'+val+'"'},Builder.prototype.buildObjectNode=function(val,key,attrStr,level){if(""===val)return"?"===key[0]?this.indentate(level)+"<"+key+attrStr+"?"+this.tagEndChar:this.indentate(level)+"<"+key+attrStr+this.closeTag(key)+this.tagEndChar;{let tagEndExp="</"+key+this.tagEndChar,piClosingChar="";return"?"===key[0]&&(piClosingChar="?",tagEndExp=""),attrStr&&-1===val.indexOf("<")?this.indentate(level)+"<"+key+attrStr+piClosingChar+">"+val+tagEndExp:!1!==this.options.commentPropName&&key===this.options.commentPropName&&0===piClosingChar.length?this.indentate(level)+`\x3c!--${val}--\x3e`+this.newLine:this.indentate(level)+"<"+key+attrStr+piClosingChar+this.tagEndChar+val+this.indentate(level)+tagEndExp}},Builder.prototype.closeTag=function(key){let closeTag="";return-1!==this.options.unpairedTags.indexOf(key)?this.options.suppressUnpairedNode||(closeTag="/"):closeTag=this.options.suppressEmptyNode?"/":`></${key}`,closeTag},Builder.prototype.buildTextValNode=function(val,key,attrStr,level){if(!1!==this.options.cdataPropName&&key===this.options.cdataPropName)return this.indentate(level)+`<![CDATA[${val}]]>`+this.newLine;if(!1!==this.options.commentPropName&&key===this.options.commentPropName)return this.indentate(level)+`\x3c!--${val}--\x3e`+this.newLine;if("?"===key[0])return this.indentate(level)+"<"+key+attrStr+"?"+this.tagEndChar;{let textValue=this.options.tagValueProcessor(key,val);return textValue=this.replaceEntitiesValue(textValue),""===textValue?this.indentate(level)+"<"+key+attrStr+this.closeTag(key)+this.tagEndChar:this.indentate(level)+"<"+key+attrStr+">"+textValue+"</"+key+this.tagEndChar}},Builder.prototype.replaceEntitiesValue=function(textValue){if(textValue&&textValue.length>0&&this.options.processEntities)for(let i=0;i<this.options.entities.length;i++){const entity=this.options.entities[i];textValue=textValue.replace(entity.regex,entity.val)}return textValue},module.exports=Builder},"./node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js":function(module){function arrToStr(arr,options,jPath,indentation){let xmlStr="",isPreviousElementTag=!1;for(let i=0;i<arr.length;i++){const tagObj=arr[i],tagName=propName(tagObj);let newJPath="";if(newJPath=0===jPath.length?tagName:`${jPath}.${tagName}`,tagName===options.textNodeName){let tagText=tagObj[tagName];isStopNode(newJPath,options)||(tagText=options.tagValueProcessor(tagName,tagText),tagText=replaceEntitiesValue(tagText,options)),isPreviousElementTag&&(xmlStr+=indentation),xmlStr+=tagText,isPreviousElementTag=!1;continue}if(tagName===options.cdataPropName){isPreviousElementTag&&(xmlStr+=indentation),xmlStr+=`<![CDATA[${tagObj[tagName][0][options.textNodeName]}]]>`,isPreviousElementTag=!1;continue}if(tagName===options.commentPropName){xmlStr+=indentation+`\x3c!--${tagObj[tagName][0][options.textNodeName]}--\x3e`,isPreviousElementTag=!0;continue}if("?"===tagName[0]){const attStr=attr_to_str(tagObj[":@"],options),tempInd="?xml"===tagName?"":indentation;let piTextNodeName=tagObj[tagName][0][options.textNodeName];piTextNodeName=0!==piTextNodeName.length?" "+piTextNodeName:"",xmlStr+=tempInd+`<${tagName}${piTextNodeName}${attStr}?>`,isPreviousElementTag=!0;continue}let newIdentation=indentation;""!==newIdentation&&(newIdentation+=options.indentBy);const tagStart=indentation+`<${tagName}${attr_to_str(tagObj[":@"],options)}`,tagValue=arrToStr(tagObj[tagName],options,newJPath,newIdentation);-1!==options.unpairedTags.indexOf(tagName)?options.suppressUnpairedNode?xmlStr+=tagStart+">":xmlStr+=tagStart+"/>":tagValue&&0!==tagValue.length||!options.suppressEmptyNode?tagValue&&tagValue.endsWith(">")?xmlStr+=tagStart+`>${tagValue}${indentation}</${tagName}>`:(xmlStr+=tagStart+">",tagValue&&""!==indentation&&(tagValue.includes("/>")||tagValue.includes("</"))?xmlStr+=indentation+options.indentBy+tagValue+indentation:xmlStr+=tagValue,xmlStr+=`</${tagName}>`):xmlStr+=tagStart+"/>",isPreviousElementTag=!0}return xmlStr}function propName(obj){const keys=Object.keys(obj);for(let i=0;i<keys.length;i++){const key=keys[i];if(":@"!==key)return key}}function attr_to_str(attrMap,options){let attrStr="";if(attrMap&&!options.ignoreAttributes)for(let attr in attrMap){let attrVal=options.attributeValueProcessor(attr,attrMap[attr]);attrVal=replaceEntitiesValue(attrVal,options),!0===attrVal&&options.suppressBooleanAttributes?attrStr+=` ${attr.substr(options.attributeNamePrefix.length)}`:attrStr+=` ${attr.substr(options.attributeNamePrefix.length)}="${attrVal}"`}return attrStr}function isStopNode(jPath,options){let tagName=(jPath=jPath.substr(0,jPath.length-options.textNodeName.length-1)).substr(jPath.lastIndexOf(".")+1);for(let index in options.stopNodes)if(options.stopNodes[index]===jPath||options.stopNodes[index]==="*."+tagName)return!0;return!1}function replaceEntitiesValue(textValue,options){if(textValue&&textValue.length>0&&options.processEntities)for(let i=0;i<options.entities.length;i++){const entity=options.entities[i];textValue=textValue.replace(entity.regex,entity.val)}return textValue}module.exports=function toXml(jArray,options){let indentation="";return options.format&&options.indentBy.length>0&&(indentation="\n"),arrToStr(jArray,options,"",indentation)}},"./node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js":function(module,__unused_webpack_exports,__webpack_require__){const util=__webpack_require__("./node_modules/fast-xml-parser/src/util.js");function readEntityExp(xmlData,i){let entityName="";for(;i<xmlData.length&&"'"!==xmlData[i]&&'"'!==xmlData[i];i++)entityName+=xmlData[i];if(entityName=entityName.trim(),-1!==entityName.indexOf(" "))throw new Error("External entites are not supported");const startChar=xmlData[i++];let val="";for(;i<xmlData.length&&xmlData[i]!==startChar;i++)val+=xmlData[i];return[entityName,val,i]}function isComment(xmlData,i){return"!"===xmlData[i+1]&&"-"===xmlData[i+2]&&"-"===xmlData[i+3]}function isEntity(xmlData,i){return"!"===xmlData[i+1]&&"E"===xmlData[i+2]&&"N"===xmlData[i+3]&&"T"===xmlData[i+4]&&"I"===xmlData[i+5]&&"T"===xmlData[i+6]&&"Y"===xmlData[i+7]}function isElement(xmlData,i){return"!"===xmlData[i+1]&&"E"===xmlData[i+2]&&"L"===xmlData[i+3]&&"E"===xmlData[i+4]&&"M"===xmlData[i+5]&&"E"===xmlData[i+6]&&"N"===xmlData[i+7]&&"T"===xmlData[i+8]}function isAttlist(xmlData,i){return"!"===xmlData[i+1]&&"A"===xmlData[i+2]&&"T"===xmlData[i+3]&&"T"===xmlData[i+4]&&"L"===xmlData[i+5]&&"I"===xmlData[i+6]&&"S"===xmlData[i+7]&&"T"===xmlData[i+8]}function isNotation(xmlData,i){return"!"===xmlData[i+1]&&"N"===xmlData[i+2]&&"O"===xmlData[i+3]&&"T"===xmlData[i+4]&&"A"===xmlData[i+5]&&"T"===xmlData[i+6]&&"I"===xmlData[i+7]&&"O"===xmlData[i+8]&&"N"===xmlData[i+9]}function validateEntityName(name){if(util.isName(name))return name;throw new Error(`Invalid entity name ${name}`)}module.exports=function readDocType(xmlData,i){const entities={};if("O"!==xmlData[i+3]||"C"!==xmlData[i+4]||"T"!==xmlData[i+5]||"Y"!==xmlData[i+6]||"P"!==xmlData[i+7]||"E"!==xmlData[i+8])throw new Error("Invalid Tag instead of DOCTYPE");{i+=9;let angleBracketsCount=1,hasBody=!1,comment=!1,exp="";for(;i<xmlData.length;i++)if("<"!==xmlData[i]||comment)if(">"===xmlData[i]){if(comment?"-"===xmlData[i-1]&&"-"===xmlData[i-2]&&(comment=!1,angleBracketsCount--):angleBracketsCount--,0===angleBracketsCount)break}else"["===xmlData[i]?hasBody=!0:exp+=xmlData[i];else{if(hasBody&&isEntity(xmlData,i))i+=7,[entityName,val,i]=readEntityExp(xmlData,i+1),-1===val.indexOf("&")&&(entities[validateEntityName(entityName)]={regx:RegExp(`&${entityName};`,"g"),val:val});else if(hasBody&&isElement(xmlData,i))i+=8;else if(hasBody&&isAttlist(xmlData,i))i+=8;else if(hasBody&&isNotation(xmlData,i))i+=9;else{if(!isComment)throw new Error("Invalid DOCTYPE");comment=!0}angleBracketsCount++,exp=""}if(0!==angleBracketsCount)throw new Error("Unclosed DOCTYPE")}return{entities:entities,i:i}}},"./node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js":function(__unused_webpack_module,exports){const defaultOptions={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(tagName,val){return val},attributeValueProcessor:function(attrName,val){return val},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(tagName,jPath,attrs){return tagName}};exports.buildOptions=function(options){return Object.assign({},defaultOptions,options)},exports.defaultOptions=defaultOptions},"./node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";const util=__webpack_require__("./node_modules/fast-xml-parser/src/util.js"),xmlNode=__webpack_require__("./node_modules/fast-xml-parser/src/xmlparser/xmlNode.js"),readDocType=__webpack_require__("./node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js"),toNumber=__webpack_require__("./node_modules/strnum/strnum.js");"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,util.nameRegexp);function addExternalEntities(externalEntities){const entKeys=Object.keys(externalEntities);for(let i=0;i<entKeys.length;i++){const ent=entKeys[i];this.lastEntities[ent]={regex:new RegExp("&"+ent+";","g"),val:externalEntities[ent]}}}function parseTextData(val,tagName,jPath,dontTrim,hasAttributes,isLeafNode,escapeEntities){if(void 0!==val&&(this.options.trimValues&&!dontTrim&&(val=val.trim()),val.length>0)){escapeEntities||(val=this.replaceEntitiesValue(val));const newval=this.options.tagValueProcessor(tagName,val,jPath,hasAttributes,isLeafNode);if(null==newval)return val;if(typeof newval!=typeof val||newval!==val)return newval;if(this.options.trimValues)return parseValue(val,this.options.parseTagValue,this.options.numberParseOptions);return val.trim()===val?parseValue(val,this.options.parseTagValue,this.options.numberParseOptions):val}}function resolveNameSpace(tagname){if(this.options.removeNSPrefix){const tags=tagname.split(":"),prefix="/"===tagname.charAt(0)?"/":"";if("xmlns"===tags[0])return"";2===tags.length&&(tagname=prefix+tags[1])}return tagname}const attrsRegx=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function buildAttributesMap(attrStr,jPath,tagName){if(!this.options.ignoreAttributes&&"string"==typeof attrStr){const matches=util.getAllMatches(attrStr,attrsRegx),len=matches.length,attrs={};for(let i=0;i<len;i++){const attrName=this.resolveNameSpace(matches[i][1]);let oldVal=matches[i][4],aName=this.options.attributeNamePrefix+attrName;if(attrName.length)if(this.options.transformAttributeName&&(aName=this.options.transformAttributeName(aName)),"__proto__"===aName&&(aName="#__proto__"),void 0!==oldVal){this.options.trimValues&&(oldVal=oldVal.trim()),oldVal=this.replaceEntitiesValue(oldVal);const newVal=this.options.attributeValueProcessor(attrName,oldVal,jPath);attrs[aName]=null==newVal?oldVal:typeof newVal!=typeof oldVal||newVal!==oldVal?newVal:parseValue(oldVal,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(attrs[aName]=!0)}if(!Object.keys(attrs).length)return;if(this.options.attributesGroupName){const attrCollection={};return attrCollection[this.options.attributesGroupName]=attrs,attrCollection}return attrs}}const parseXml=function(xmlData){xmlData=xmlData.replace(/\r\n?/g,"\n");const xmlObj=new xmlNode("!xml");let currentNode=xmlObj,textData="",jPath="";for(let i=0;i<xmlData.length;i++){if("<"===xmlData[i])if("/"===xmlData[i+1]){const closeIndex=findClosingIndex(xmlData,">",i,"Closing Tag is not closed.");let tagName=xmlData.substring(i+2,closeIndex).trim();if(this.options.removeNSPrefix){const colonIndex=tagName.indexOf(":");-1!==colonIndex&&(tagName=tagName.substr(colonIndex+1))}this.options.transformTagName&&(tagName=this.options.transformTagName(tagName)),currentNode&&(textData=this.saveTextToParentTag(textData,currentNode,jPath));const lastTagName=jPath.substring(jPath.lastIndexOf(".")+1);if(tagName&&-1!==this.options.unpairedTags.indexOf(tagName))throw new Error(`Unpaired tag can not be used as closing tag: </${tagName}>`);let propIndex=0;lastTagName&&-1!==this.options.unpairedTags.indexOf(lastTagName)?(propIndex=jPath.lastIndexOf(".",jPath.lastIndexOf(".")-1),this.tagsNodeStack.pop()):propIndex=jPath.lastIndexOf("."),jPath=jPath.substring(0,propIndex),currentNode=this.tagsNodeStack.pop(),textData="",i=closeIndex}else if("?"===xmlData[i+1]){let tagData=readTagExp(xmlData,i,!1,"?>");if(!tagData)throw new Error("Pi Tag is not closed.");if(textData=this.saveTextToParentTag(textData,currentNode,jPath),this.options.ignoreDeclaration&&"?xml"===tagData.tagName||this.options.ignorePiTags);else{const childNode=new xmlNode(tagData.tagName);childNode.add(this.options.textNodeName,""),tagData.tagName!==tagData.tagExp&&tagData.attrExpPresent&&(childNode[":@"]=this.buildAttributesMap(tagData.tagExp,jPath,tagData.tagName)),this.addChild(currentNode,childNode,jPath)}i=tagData.closeIndex+1}else if("!--"===xmlData.substr(i+1,3)){const endIndex=findClosingIndex(xmlData,"--\x3e",i+4,"Comment is not closed.");if(this.options.commentPropName){const comment=xmlData.substring(i+4,endIndex-2);textData=this.saveTextToParentTag(textData,currentNode,jPath),currentNode.add(this.options.commentPropName,[{[this.options.textNodeName]:comment}])}i=endIndex}else if("!D"===xmlData.substr(i+1,2)){const result=readDocType(xmlData,i);this.docTypeEntities=result.entities,i=result.i}else if("!["===xmlData.substr(i+1,2)){const closeIndex=findClosingIndex(xmlData,"]]>",i,"CDATA is not closed.")-2,tagExp=xmlData.substring(i+9,closeIndex);if(textData=this.saveTextToParentTag(textData,currentNode,jPath),this.options.cdataPropName)currentNode.add(this.options.cdataPropName,[{[this.options.textNodeName]:tagExp}]);else{let val=this.parseTextData(tagExp,currentNode.tagname,jPath,!0,!1,!0);null==val&&(val=""),currentNode.add(this.options.textNodeName,val)}i=closeIndex+2}else{let result=readTagExp(xmlData,i,this.options.removeNSPrefix),tagName=result.tagName,tagExp=result.tagExp,attrExpPresent=result.attrExpPresent,closeIndex=result.closeIndex;this.options.transformTagName&&(tagName=this.options.transformTagName(tagName)),currentNode&&textData&&"!xml"!==currentNode.tagname&&(textData=this.saveTextToParentTag(textData,currentNode,jPath,!1));const lastTag=currentNode;if(lastTag&&-1!==this.options.unpairedTags.indexOf(lastTag.tagname)&&(currentNode=this.tagsNodeStack.pop(),jPath=jPath.substring(0,jPath.lastIndexOf("."))),tagName!==xmlObj.tagname&&(jPath+=jPath?"."+tagName:tagName),this.isItStopNode(this.options.stopNodes,jPath,tagName)){let tagContent="";if(tagExp.length>0&&tagExp.lastIndexOf("/")===tagExp.length-1)i=result.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(tagName))i=result.closeIndex;else{const result=this.readStopNodeData(xmlData,tagName,closeIndex+1);if(!result)throw new Error(`Unexpected end of ${tagName}`);i=result.i,tagContent=result.tagContent}const childNode=new xmlNode(tagName);tagName!==tagExp&&attrExpPresent&&(childNode[":@"]=this.buildAttributesMap(tagExp,jPath,tagName)),tagContent&&(tagContent=this.parseTextData(tagContent,tagName,jPath,!0,attrExpPresent,!0,!0)),jPath=jPath.substr(0,jPath.lastIndexOf(".")),childNode.add(this.options.textNodeName,tagContent),this.addChild(currentNode,childNode,jPath)}else{if(tagExp.length>0&&tagExp.lastIndexOf("/")===tagExp.length-1){"/"===tagName[tagName.length-1]?(tagName=tagName.substr(0,tagName.length-1),tagExp=tagName):tagExp=tagExp.substr(0,tagExp.length-1),this.options.transformTagName&&(tagName=this.options.transformTagName(tagName));const childNode=new xmlNode(tagName);tagName!==tagExp&&attrExpPresent&&(childNode[":@"]=this.buildAttributesMap(tagExp,jPath,tagName)),this.addChild(currentNode,childNode,jPath),jPath=jPath.substr(0,jPath.lastIndexOf("."))}else{const childNode=new xmlNode(tagName);this.tagsNodeStack.push(currentNode),tagName!==tagExp&&attrExpPresent&&(childNode[":@"]=this.buildAttributesMap(tagExp,jPath,tagName)),this.addChild(currentNode,childNode,jPath),currentNode=childNode}textData="",i=closeIndex}}else textData+=xmlData[i]}return xmlObj.child};function addChild(currentNode,childNode,jPath){const result=this.options.updateTag(childNode.tagname,jPath,childNode[":@"]);!1===result||("string"==typeof result?(childNode.tagname=result,currentNode.addChild(childNode)):currentNode.addChild(childNode))}const replaceEntitiesValue=function(val){if(this.options.processEntities){for(let entityName in this.docTypeEntities){const entity=this.docTypeEntities[entityName];val=val.replace(entity.regx,entity.val)}for(let entityName in this.lastEntities){const entity=this.lastEntities[entityName];val=val.replace(entity.regex,entity.val)}if(this.options.htmlEntities)for(let entityName in this.htmlEntities){const entity=this.htmlEntities[entityName];val=val.replace(entity.regex,entity.val)}val=val.replace(this.ampEntity.regex,this.ampEntity.val)}return val};function saveTextToParentTag(textData,currentNode,jPath,isLeafNode){return textData&&(void 0===isLeafNode&&(isLeafNode=0===Object.keys(currentNode.child).length),void 0!==(textData=this.parseTextData(textData,currentNode.tagname,jPath,!1,!!currentNode[":@"]&&0!==Object.keys(currentNode[":@"]).length,isLeafNode))&&""!==textData&&currentNode.add(this.options.textNodeName,textData),textData=""),textData}function isItStopNode(stopNodes,jPath,currentTagName){const allNodesExp="*."+currentTagName;for(const stopNodePath in stopNodes){const stopNodeExp=stopNodes[stopNodePath];if(allNodesExp===stopNodeExp||jPath===stopNodeExp)return!0}return!1}function findClosingIndex(xmlData,str,i,errMsg){const closingIndex=xmlData.indexOf(str,i);if(-1===closingIndex)throw new Error(errMsg);return closingIndex+str.length-1}function readTagExp(xmlData,i,removeNSPrefix,closingChar=">"){const result=function tagExpWithClosingIndex(xmlData,i,closingChar=">"){let attrBoundary,tagExp="";for(let index=i;index<xmlData.length;index++){let ch=xmlData[index];if(attrBoundary)ch===attrBoundary&&(attrBoundary="");else if('"'===ch||"'"===ch)attrBoundary=ch;else if(ch===closingChar[0]){if(!closingChar[1])return{data:tagExp,index:index};if(xmlData[index+1]===closingChar[1])return{data:tagExp,index:index}}else"\t"===ch&&(ch=" ");tagExp+=ch}}(xmlData,i+1,closingChar);if(!result)return;let tagExp=result.data;const closeIndex=result.index,separatorIndex=tagExp.search(/\s/);let tagName=tagExp,attrExpPresent=!0;if(-1!==separatorIndex&&(tagName=tagExp.substr(0,separatorIndex).replace(/\s\s*$/,""),tagExp=tagExp.substr(separatorIndex+1)),removeNSPrefix){const colonIndex=tagName.indexOf(":");-1!==colonIndex&&(tagName=tagName.substr(colonIndex+1),attrExpPresent=tagName!==result.data.substr(colonIndex+1))}return{tagName:tagName,tagExp:tagExp,closeIndex:closeIndex,attrExpPresent:attrExpPresent}}function readStopNodeData(xmlData,tagName,i){const startIndex=i;let openTagCount=1;for(;i<xmlData.length;i++)if("<"===xmlData[i])if("/"===xmlData[i+1]){const closeIndex=findClosingIndex(xmlData,">",i,`${tagName} is not closed`);if(xmlData.substring(i+2,closeIndex).trim()===tagName&&(openTagCount--,0===openTagCount))return{tagContent:xmlData.substring(startIndex,i),i:closeIndex};i=closeIndex}else if("?"===xmlData[i+1]){i=findClosingIndex(xmlData,"?>",i+1,"StopNode is not closed.")}else if("!--"===xmlData.substr(i+1,3)){i=findClosingIndex(xmlData,"--\x3e",i+3,"StopNode is not closed.")}else if("!["===xmlData.substr(i+1,2)){i=findClosingIndex(xmlData,"]]>",i,"StopNode is not closed.")-2}else{const tagData=readTagExp(xmlData,i,">");if(tagData){(tagData&&tagData.tagName)===tagName&&"/"!==tagData.tagExp[tagData.tagExp.length-1]&&openTagCount++,i=tagData.closeIndex}}}function parseValue(val,shouldParse,options){if(shouldParse&&"string"==typeof val){const newval=val.trim();return"true"===newval||"false"!==newval&&toNumber(val,options)}return util.isExist(val)?val:""}module.exports=class OrderedObjParser{constructor(options){this.options=options,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""}},this.addExternalEntities=addExternalEntities,this.parseXml=parseXml,this.parseTextData=parseTextData,this.resolveNameSpace=resolveNameSpace,this.buildAttributesMap=buildAttributesMap,this.isItStopNode=isItStopNode,this.replaceEntitiesValue=replaceEntitiesValue,this.readStopNodeData=readStopNodeData,this.saveTextToParentTag=saveTextToParentTag,this.addChild=addChild}}},"./node_modules/fast-xml-parser/src/xmlparser/XMLParser.js":function(module,__unused_webpack_exports,__webpack_require__){const{buildOptions:buildOptions}=__webpack_require__("./node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js"),OrderedObjParser=__webpack_require__("./node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js"),{prettify:prettify}=__webpack_require__("./node_modules/fast-xml-parser/src/xmlparser/node2json.js"),validator=__webpack_require__("./node_modules/fast-xml-parser/src/validator.js");module.exports=class XMLParser{constructor(options){this.externalEntities={},this.options=buildOptions(options)}parse(xmlData,validationOption){if("string"==typeof xmlData);else{if(!xmlData.toString)throw new Error("XML data is accepted in String or Bytes[] form.");xmlData=xmlData.toString()}if(validationOption){!0===validationOption&&(validationOption={});const result=validator.validate(xmlData,validationOption);if(!0!==result)throw Error(`${result.err.msg}:${result.err.line}:${result.err.col}`)}const orderedObjParser=new OrderedObjParser(this.options);orderedObjParser.addExternalEntities(this.externalEntities);const orderedResult=orderedObjParser.parseXml(xmlData);return this.options.preserveOrder||void 0===orderedResult?orderedResult:prettify(orderedResult,this.options)}addEntity(key,value){if(-1!==value.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==key.indexOf("&")||-1!==key.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===value)throw new Error("An entity with value '&' is not permitted");this.externalEntities[key]=value}}},"./node_modules/fast-xml-parser/src/xmlparser/node2json.js":function(__unused_webpack_module,exports){"use strict";function compress(arr,options,jPath){let text;const compressedObj={};for(let i=0;i<arr.length;i++){const tagObj=arr[i],property=propName(tagObj);let newJpath="";if(newJpath=void 0===jPath?property:jPath+"."+property,property===options.textNodeName)void 0===text?text=tagObj[property]:text+=""+tagObj[property];else{if(void 0===property)continue;if(tagObj[property]){let val=compress(tagObj[property],options,newJpath);const isLeaf=isLeafTag(val,options);tagObj[":@"]?assignAttributes(val,tagObj[":@"],newJpath,options):1!==Object.keys(val).length||void 0===val[options.textNodeName]||options.alwaysCreateTextNode?0===Object.keys(val).length&&(options.alwaysCreateTextNode?val[options.textNodeName]="":val=""):val=val[options.textNodeName],void 0!==compressedObj[property]&&compressedObj.hasOwnProperty(property)?(Array.isArray(compressedObj[property])||(compressedObj[property]=[compressedObj[property]]),compressedObj[property].push(val)):options.isArray(property,newJpath,isLeaf)?compressedObj[property]=[val]:compressedObj[property]=val}}}return"string"==typeof text?text.length>0&&(compressedObj[options.textNodeName]=text):void 0!==text&&(compressedObj[options.textNodeName]=text),compressedObj}function propName(obj){const keys=Object.keys(obj);for(let i=0;i<keys.length;i++){const key=keys[i];if(":@"!==key)return key}}function assignAttributes(obj,attrMap,jpath,options){if(attrMap){const keys=Object.keys(attrMap),len=keys.length;for(let i=0;i<len;i++){const atrrName=keys[i];options.isArray(atrrName,jpath+"."+atrrName,!0,!0)?obj[atrrName]=[attrMap[atrrName]]:obj[atrrName]=attrMap[atrrName]}}}function isLeafTag(obj,options){const{textNodeName:textNodeName}=options,propCount=Object.keys(obj).length;return 0===propCount||!(1!==propCount||!obj[textNodeName]&&"boolean"!=typeof obj[textNodeName]&&0!==obj[textNodeName])}exports.prettify=function prettify(node,options){return compress(node,options)}},"./node_modules/fast-xml-parser/src/xmlparser/xmlNode.js":function(module){"use strict";module.exports=class XmlNode{constructor(tagname){this.tagname=tagname,this.child=[],this[":@"]={}}add(key,val){"__proto__"===key&&(key="#__proto__"),this.child.push({[key]:val})}addChild(node){"__proto__"===node.tagname&&(node.tagname="#__proto__"),node[":@"]&&Object.keys(node[":@"]).length>0?this.child.push({[node.tagname]:node.child,":@":node[":@"]}):this.child.push({[node.tagname]:node.child})}}},"./node_modules/fraction.js/fraction.js":function(module,exports){var __WEBPACK_AMD_DEFINE_RESULT__;!function(root){"use strict";var P={s:1,n:0,d:1};function assign(n,s){if(isNaN(n=parseInt(n,10)))throw Fraction.InvalidParameter;return n*s}function newFraction(n,d){if(0===d)throw Fraction.DivisionByZero;var f=Object.create(Fraction.prototype);f.s=n<0?-1:1;var a=gcd(n=n<0?-n:n,d);return f.n=n/a,f.d=d/a,f}function factorize(num){for(var factors={},n=num,i=2,s=4;s<=n;){for(;n%i==0;)n/=i,factors[i]=(factors[i]||0)+1;s+=1+2*i++}return n!==num?n>1&&(factors[n]=(factors[n]||0)+1):factors[num]=(factors[num]||0)+1,factors}var parse=function(p1,p2){var M,n=0,d=1,s=1,v=0,w=0,x=0,y=1,z=1,A=0,B=1,C=1,D=1,N=1e7;if(null==p1);else if(void 0!==p2){if(s=(n=p1)*(d=p2),n%1!=0||d%1!=0)throw Fraction.NonIntegerParameter}else switch(typeof p1){case"object":if("d"in p1&&"n"in p1)n=p1.n,d=p1.d,"s"in p1&&(n*=p1.s);else{if(!(0 in p1))throw Fraction.InvalidParameter;n=p1[0],1 in p1&&(d=p1[1])}s=n*d;break;case"number":if(p1<0&&(s=p1,p1=-p1),p1%1==0)n=p1;else if(p1>0){for(p1>=1&&(p1/=z=Math.pow(10,Math.floor(1+Math.log(p1)/Math.LN10)));B<=N&&D<=N;){if(p1===(M=(A+C)/(B+D))){B+D<=N?(n=A+C,d=B+D):D>B?(n=C,d=D):(n=A,d=B);break}p1>M?(A+=C,B+=D):(C+=A,D+=B),B>N?(n=C,d=D):(n=A,d=B)}n*=z}else(isNaN(p1)||isNaN(p2))&&(d=n=NaN);break;case"string":if(null===(B=p1.match(/\d+|./g)))throw Fraction.InvalidParameter;if("-"===B[A]?(s=-1,A++):"+"===B[A]&&A++,B.length===A+1?w=assign(B[A++],s):"."===B[A+1]||"."===B[A]?("."!==B[A]&&(v=assign(B[A++],s)),(++A+1===B.length||"("===B[A+1]&&")"===B[A+3]||"'"===B[A+1]&&"'"===B[A+3])&&(w=assign(B[A],s),y=Math.pow(10,B[A].length),A++),("("===B[A]&&")"===B[A+2]||"'"===B[A]&&"'"===B[A+2])&&(x=assign(B[A+1],s),z=Math.pow(10,B[A+1].length)-1,A+=3)):"/"===B[A+1]||":"===B[A+1]?(w=assign(B[A],s),y=assign(B[A+2],1),A+=3):"/"===B[A+3]&&" "===B[A+1]&&(v=assign(B[A],s),w=assign(B[A+2],s),y=assign(B[A+4],1),A+=5),B.length<=A){s=n=x+(d=y*z)*v+z*w;break}default:throw Fraction.InvalidParameter}if(0===d)throw Fraction.DivisionByZero;P.s=s<0?-1:1,P.n=Math.abs(n),P.d=Math.abs(d)};function gcd(a,b){if(!a)return b;if(!b)return a;for(;;){if(!(a%=b))return b;if(!(b%=a))return a}}function Fraction(a,b){if(parse(a,b),!(this instanceof Fraction))return newFraction(P.s*P.n,P.d);a=gcd(P.d,P.n),this.s=P.s,this.n=P.n/a,this.d=P.d/a}Fraction.DivisionByZero=new Error("Division by Zero"),Fraction.InvalidParameter=new Error("Invalid argument"),Fraction.NonIntegerParameter=new Error("Parameters must be integer"),Fraction.prototype={s:1,n:0,d:1,abs:function(){return newFraction(this.n,this.d)},neg:function(){return newFraction(-this.s*this.n,this.d)},add:function(a,b){return parse(a,b),newFraction(this.s*this.n*P.d+P.s*this.d*P.n,this.d*P.d)},sub:function(a,b){return parse(a,b),newFraction(this.s*this.n*P.d-P.s*this.d*P.n,this.d*P.d)},mul:function(a,b){return parse(a,b),newFraction(this.s*P.s*this.n*P.n,this.d*P.d)},div:function(a,b){return parse(a,b),newFraction(this.s*P.s*this.n*P.d,this.d*P.n)},clone:function(){return newFraction(this.s*this.n,this.d)},mod:function(a,b){if(isNaN(this.n)||isNaN(this.d))return new Fraction(NaN);if(void 0===a)return newFraction(this.s*this.n%this.d,1);if(parse(a,b),0===P.n&&0===this.d)throw Fraction.DivisionByZero;return newFraction(this.s*(P.d*this.n)%(P.n*this.d),P.d*this.d)},gcd:function(a,b){return parse(a,b),newFraction(gcd(P.n,this.n)*gcd(P.d,this.d),P.d*this.d)},lcm:function(a,b){return parse(a,b),0===P.n&&0===this.n?newFraction(0,1):newFraction(P.n*this.n,gcd(P.n,this.n)*gcd(P.d,this.d))},ceil:function(places){return places=Math.pow(10,places||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):newFraction(Math.ceil(places*this.s*this.n/this.d),places)},floor:function(places){return places=Math.pow(10,places||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):newFraction(Math.floor(places*this.s*this.n/this.d),places)},round:function(places){return places=Math.pow(10,places||0),isNaN(this.n)||isNaN(this.d)?new Fraction(NaN):newFraction(Math.round(places*this.s*this.n/this.d),places)},inverse:function(){return newFraction(this.s*this.d,this.n)},pow:function(a,b){if(parse(a,b),1===P.d)return P.s<0?newFraction(Math.pow(this.s*this.d,P.n),Math.pow(this.n,P.n)):newFraction(Math.pow(this.s*this.n,P.n),Math.pow(this.d,P.n));if(this.s<0)return null;var N=factorize(this.n),D=factorize(this.d),n=1,d=1;for(var k in N)if("1"!==k){if("0"===k){n=0;break}if(N[k]*=P.n,N[k]%P.d!=0)return null;N[k]/=P.d,n*=Math.pow(k,N[k])}for(var k in D)if("1"!==k){if(D[k]*=P.n,D[k]%P.d!=0)return null;D[k]/=P.d,d*=Math.pow(k,D[k])}return P.s<0?newFraction(d,n):newFraction(n,d)},equals:function(a,b){return parse(a,b),this.s*this.n*P.d==P.s*P.n*this.d},compare:function(a,b){parse(a,b);var t=this.s*this.n*P.d-P.s*P.n*this.d;return(0<t)-(t<0)},simplify:function(eps){if(isNaN(this.n)||isNaN(this.d))return this;eps=eps||.001;for(var thisABS=this.abs(),cont=thisABS.toContinued(),i=1;i<cont.length;i++){for(var s=newFraction(cont[i-1],1),k=i-2;k>=0;k--)s=s.inverse().add(cont[k]);if(s.sub(thisABS).abs().valueOf()<eps)return s.mul(this.s)}return this},divisible:function(a,b){return parse(a,b),!(!(P.n*this.d)||this.n*P.d%(P.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(excludeWhole){var whole,str="",n=this.n,d=this.d;return this.s<0&&(str+="-"),1===d?str+=n:(excludeWhole&&(whole=Math.floor(n/d))>0&&(str+=whole,str+=" ",n%=d),str+=n,str+="/",str+=d),str},toLatex:function(excludeWhole){var whole,str="",n=this.n,d=this.d;return this.s<0&&(str+="-"),1===d?str+=n:(excludeWhole&&(whole=Math.floor(n/d))>0&&(str+=whole,n%=d),str+="\\frac{",str+=n,str+="}{",str+=d,str+="}"),str},toContinued:function(){var t,a=this.n,b=this.d,res=[];if(isNaN(a)||isNaN(b))return res;do{res.push(Math.floor(a/b)),t=a%b,a=b,b=t}while(1!==a);return res},toString:function(dec){var N=this.n,D=this.d;if(isNaN(N)||isNaN(D))return"NaN";dec=dec||15;var cycLen=function cycleLen(n,d){for(;d%2==0;d/=2);for(;d%5==0;d/=5);if(1===d)return 0;for(var rem=10%d,t=1;1!==rem;t++)if(rem=10*rem%d,t>2e3)return 0;return t}(0,D),cycOff=function cycleStart(n,d,len){for(var rem1=1,rem2=function modpow(b,e,m){for(var r=1;e>0;b=b*b%m,e>>=1)1&e&&(r=r*b%m);return r}(10,len,d),t=0;t<300;t++){if(rem1===rem2)return t;rem1=10*rem1%d,rem2=10*rem2%d}return 0}(0,D,cycLen),str=this.s<0?"-":"";if(str+=N/D|0,N%=D,(N*=10)&&(str+="."),cycLen){for(var i=cycOff;i--;)str+=N/D|0,N%=D,N*=10;str+="(";for(i=cycLen;i--;)str+=N/D|0,N%=D,N*=10;str+=")"}else for(i=dec;N&&i--;)str+=N/D|0,N%=D,N*=10;return str}},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Fraction}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/geojson-rbush/index.js":function(module,__unused_webpack_exports,__webpack_require__){var rbush=__webpack_require__("./node_modules/rbush/rbush.min.js"),helpers=__webpack_require__("./node_modules/@turf/helpers/dist/js/index.js"),meta=__webpack_require__("./node_modules/@turf/meta/dist/js/index.js"),turfBBox=__webpack_require__("./node_modules/@turf/bbox/dist/js/index.js").default,featureEach=meta.featureEach,featureCollection=(meta.coordEach,helpers.polygon,helpers.featureCollection);function geojsonRbush(maxEntries){var tree=new rbush(maxEntries);return tree.insert=function(feature){if("Feature"!==feature.type)throw new Error("invalid feature");return feature.bbox=feature.bbox?feature.bbox:turfBBox(feature),rbush.prototype.insert.call(this,feature)},tree.load=function(features){var load=[];return Array.isArray(features)?features.forEach((function(feature){if("Feature"!==feature.type)throw new Error("invalid features");feature.bbox=feature.bbox?feature.bbox:turfBBox(feature),load.push(feature)})):featureEach(features,(function(feature){if("Feature"!==feature.type)throw new Error("invalid features");feature.bbox=feature.bbox?feature.bbox:turfBBox(feature),load.push(feature)})),rbush.prototype.load.call(this,load)},tree.remove=function(feature,equals){if("Feature"!==feature.type)throw new Error("invalid feature");return feature.bbox=feature.bbox?feature.bbox:turfBBox(feature),rbush.prototype.remove.call(this,feature,equals)},tree.clear=function(){return rbush.prototype.clear.call(this)},tree.search=function(geojson){var features=rbush.prototype.search.call(this,this.toBBox(geojson));return featureCollection(features)},tree.collides=function(geojson){return rbush.prototype.collides.call(this,this.toBBox(geojson))},tree.all=function(){var features=rbush.prototype.all.call(this);return featureCollection(features)},tree.toJSON=function(){return rbush.prototype.toJSON.call(this)},tree.fromJSON=function(json){return rbush.prototype.fromJSON.call(this,json)},tree.toBBox=function(geojson){var bbox;if(geojson.bbox)bbox=geojson.bbox;else if(Array.isArray(geojson)&&4===geojson.length)bbox=geojson;else if(Array.isArray(geojson)&&6===geojson.length)bbox=[geojson[0],geojson[1],geojson[3],geojson[4]];else if("Feature"===geojson.type)bbox=turfBBox(geojson);else{if("FeatureCollection"!==geojson.type)throw new Error("invalid geojson");bbox=turfBBox(geojson)}return{minX:bbox[0],minY:bbox[1],maxX:bbox[2],maxY:bbox[3]}},tree}module.exports=geojsonRbush,module.exports.default=geojsonRbush},"./node_modules/gl-matrix/esm/mat3.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{GH:function(){return determinant},Iu:function(){return translate},Jp:function(){return multiply},U1:function(){return rotate},U_:function(){return invert},Ue:function(){return create},bA:function(){return scale},en:function(){return fromQuat},p4:function(){return transpose}});var _common_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/gl-matrix/esm/common.js");function create(){var out=new _common_js__WEBPACK_IMPORTED_MODULE_0__.WT(9);return _common_js__WEBPACK_IMPORTED_MODULE_0__.WT!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[5]=0,out[6]=0,out[7]=0),out[0]=1,out[4]=1,out[8]=1,out}function transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a12=a[5];out[1]=a[3],out[2]=a[6],out[3]=a01,out[5]=a[7],out[6]=a02,out[7]=a12}else out[0]=a[0],out[1]=a[3],out[2]=a[6],out[3]=a[1],out[4]=a[4],out[5]=a[7],out[6]=a[2],out[7]=a[5],out[8]=a[8];return out}function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;return det?(det=1/det,out[0]=b01*det,out[1]=(-a22*a01+a02*a21)*det,out[2]=(a12*a01-a02*a11)*det,out[3]=b11*det,out[4]=(a22*a00-a02*a20)*det,out[5]=(-a12*a00+a02*a10)*det,out[6]=b21*det,out[7]=(-a21*a00+a01*a20)*det,out[8]=(a11*a00-a01*a10)*det,out):null}function determinant(a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a00*(a22*a11-a12*a21)+a01*(-a22*a10+a12*a20)+a02*(a21*a10-a11*a20)}function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return out[0]=b00*a00+b01*a10+b02*a20,out[1]=b00*a01+b01*a11+b02*a21,out[2]=b00*a02+b01*a12+b02*a22,out[3]=b10*a00+b11*a10+b12*a20,out[4]=b10*a01+b11*a11+b12*a21,out[5]=b10*a02+b11*a12+b12*a22,out[6]=b20*a00+b21*a10+b22*a20,out[7]=b20*a01+b21*a11+b22*a21,out[8]=b20*a02+b21*a12+b22*a22,out}function translate(out,a,v){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],x=v[0],y=v[1];return out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a10,out[4]=a11,out[5]=a12,out[6]=x*a00+y*a10+a20,out[7]=x*a01+y*a11+a21,out[8]=x*a02+y*a12+a22,out}function rotate(out,a,rad){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],s=Math.sin(rad),c=Math.cos(rad);return out[0]=c*a00+s*a10,out[1]=c*a01+s*a11,out[2]=c*a02+s*a12,out[3]=c*a10-s*a00,out[4]=c*a11-s*a01,out[5]=c*a12-s*a02,out[6]=a20,out[7]=a21,out[8]=a22,out}function scale(out,a,v){var x=v[0],y=v[1];return out[0]=x*a[0],out[1]=x*a[1],out[2]=x*a[2],out[3]=y*a[3],out[4]=y*a[4],out[5]=y*a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[3]=yx-wz,out[6]=zx+wy,out[1]=yx+wz,out[4]=1-xx-zz,out[7]=zy-wx,out[2]=zx-wy,out[5]=zy+wx,out[8]=1-xx-yy,out}},"./node_modules/h3-js/dist/browser/h3-js.es.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UNITS:function(){return UNITS},cellArea:function(){return cellArea},compact:function(){return compact},degsToRads:function(){return degsToRads},edgeLength:function(){return edgeLength},exactEdgeLength:function(){return exactEdgeLength},experimentalH3ToLocalIj:function(){return experimentalH3ToLocalIj},experimentalLocalIjToH3:function(){return experimentalLocalIjToH3},geoToH3:function(){return geoToH3},getDestinationH3IndexFromUnidirectionalEdge:function(){return getDestinationH3IndexFromUnidirectionalEdge},getH3IndexesFromUnidirectionalEdge:function(){return getH3IndexesFromUnidirectionalEdge},getH3UnidirectionalEdge:function(){return getH3UnidirectionalEdge},getH3UnidirectionalEdgeBoundary:function(){return getH3UnidirectionalEdgeBoundary},getH3UnidirectionalEdgesFromHexagon:function(){return getH3UnidirectionalEdgesFromHexagon},getOriginH3IndexFromUnidirectionalEdge:function(){return getOriginH3IndexFromUnidirectionalEdge},getPentagonIndexes:function(){return getPentagonIndexes},getRes0Indexes:function(){return getRes0Indexes},h3Distance:function(){return h3Distance},h3GetBaseCell:function(){return h3GetBaseCell},h3GetFaces:function(){return h3GetFaces},h3GetResolution:function(){return h3GetResolution},h3IndexToSplitLong:function(){return h3IndexToSplitLong},h3IndexesAreNeighbors:function(){return h3IndexesAreNeighbors},h3IsPentagon:function(){return h3IsPentagon},h3IsResClassIII:function(){return h3IsResClassIII},h3IsValid:function(){return h3IsValid},h3Line:function(){return h3Line},h3SetToMultiPolygon:function(){return h3SetToMultiPolygon},h3ToCenterChild:function(){return h3ToCenterChild},h3ToChildren:function(){return h3ToChildren},h3ToGeo:function(){return h3ToGeo},h3ToGeoBoundary:function(){return h3ToGeoBoundary},h3ToParent:function(){return h3ToParent},h3UnidirectionalEdgeIsValid:function(){return h3UnidirectionalEdgeIsValid},hexArea:function(){return hexArea},hexRing:function(){return hexRing},kRing:function(){return kRing},kRingDistances:function(){return kRingDistances},numHexagons:function(){return numHexagons},pointDist:function(){return pointDist},polyfill:function(){return polyfill},radsToDegs:function(){return radsToDegs},splitLongToh3Index:function(){return splitLongToh3Index},uncompact:function(){return uncompact}});var libh3=function(libh3){var key,Module=void 0!==(libh3=libh3||{})?libh3:{},moduleOverrides={};for(key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var readAsync,arguments_=[],scriptDirectory="";document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=0!==scriptDirectory.indexOf("blob:")?scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1):"",readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.responseType="arraybuffer",xhr.onload=function xhr_onload(){if(200==xhr.status||0==xhr.status&&xhr.response)onload(xhr.response);else{var data=tryParseAsDataURI(url);data?onload(data.buffer):onerror()}},xhr.onerror=onerror,xhr.send(null)};var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);for(key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments);var tempRet0=0,getTempRet0=function(){return tempRet0};var ABORT=!1;function getCFunc(ident){var func=Module["_"+ident];return function assert(condition,text){condition||abort("Assertion failed: "+text)}(func,"Cannot call unknown function "+ident+", make sure it is exported"),func}function ccall(ident,returnType,argTypes,args,opts){var toC={string:function(str){var ret=0;if(null!=str&&0!==str){var len=1+(str.length<<2);(function stringToUTF8(str,outPtr,maxBytesToWrite){return function stringToUTF8Array(str,outU8Array,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;for(var startIdx=outIdx,endIdx=outIdx+maxBytesToWrite-1,i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((1023&u)<<10)|1023&str.charCodeAt(++i);if(u<=127){if(outIdx>=endIdx)break;outU8Array[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;outU8Array[outIdx++]=192|u>>6,outU8Array[outIdx++]=128|63&u}else if(u<=65535){if(outIdx+2>=endIdx)break;outU8Array[outIdx++]=224|u>>12,outU8Array[outIdx++]=128|u>>6&63,outU8Array[outIdx++]=128|63&u}else{if(outIdx+3>=endIdx)break;outU8Array[outIdx++]=240|u>>18,outU8Array[outIdx++]=128|u>>12&63,outU8Array[outIdx++]=128|u>>6&63,outU8Array[outIdx++]=128|63&u}}return outU8Array[outIdx]=0,outIdx-startIdx}(str,HEAPU8,outPtr,maxBytesToWrite)})(str,ret=stackAlloc(len),len)}return ret},array:function(arr){var ret=stackAlloc(arr.length);return function writeArrayToMemory(array,buffer){HEAP8.set(array,buffer)}(arr,ret),ret}};var func=getCFunc(ident),cArgs=[],stack=0;if(args)for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];converter?(0===stack&&(stack=stackSave()),cArgs[i]=converter(args[i])):cArgs[i]=args[i]}var ret=func.apply(null,cArgs);return ret=function convertReturnValue(ret){return"string"===returnType?UTF8ToString(ret):"boolean"===returnType?Boolean(ret):ret}(ret),0!==stack&&stackRestore(stack),ret}var UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function UTF8ToString(ptr,maxBytesToRead){return ptr?function UTF8ArrayToString(u8Array,idx,maxBytesToRead){for(var endIdx=idx+maxBytesToRead,endPtr=idx;u8Array[endPtr]&&!(endPtr>=endIdx);)++endPtr;if(endPtr-idx>16&&u8Array.subarray&&UTF8Decoder)return UTF8Decoder.decode(u8Array.subarray(idx,endPtr));for(var str="";idx<endPtr;){var u0=u8Array[idx++];if(128&u0){var u1=63&u8Array[idx++];if(192!=(224&u0)){var u2=63&u8Array[idx++];if((u0=224==(240&u0)?(15&u0)<<12|u1<<6|u2:(7&u0)<<18|u1<<12|u2<<6|63&u8Array[idx++])<65536)str+=String.fromCharCode(u0);else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|1023&ch)}}else str+=String.fromCharCode((31&u0)<<6|u1)}else str+=String.fromCharCode(u0)}return str}(HEAPU8,ptr,maxBytesToRead):""}var buffer,HEAP8,HEAPU8,HEAP16,HEAP32,HEAPF32,HEAPF64;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function alignUp(x,multiple){return x%multiple>0&&(x+=multiple-x%multiple),x}function updateGlobalBufferAndViews(buf){buffer=buf,Module.HEAP8=HEAP8=new Int8Array(buf),Module.HEAP16=HEAP16=new Int16Array(buf),Module.HEAP32=HEAP32=new Int32Array(buf),Module.HEAPU8=HEAPU8=new Uint8Array(buf),Module.HEAPU16=new Uint16Array(buf),Module.HEAPU32=new Uint32Array(buf),Module.HEAPF32=HEAPF32=new Float32Array(buf),Module.HEAPF64=HEAPF64=new Float64Array(buf)}var INITIAL_TOTAL_MEMORY=Module.TOTAL_MEMORY||33554432;function callRuntimeCallbacks(callbacks){for(;callbacks.length>0;){var callback=callbacks.shift();if("function"!=typeof callback){var func=callback.func;"number"==typeof func?void 0===callback.arg?Module.dynCall_v(func):Module.dynCall_vi(func,callback.arg):func(void 0===callback.arg?null:callback.arg)}else callback()}}INITIAL_TOTAL_MEMORY=(buffer=Module.buffer?Module.buffer:new ArrayBuffer(INITIAL_TOTAL_MEMORY)).byteLength,updateGlobalBufferAndViews(buffer),HEAP32[6004]=5266928;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[];var Math_abs=Math.abs,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_min=Math.min,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;Module.preloadedImages={},Module.preloadedAudios={};var tempDouble,tempI64,memoryInitializer=null,dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return String.prototype.startsWith?filename.startsWith(dataURIPrefix):0===filename.indexOf(dataURIPrefix)}memoryInitializer="data:application/octet-stream;base64,AAAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAABAAAAAMAAAAGAAAABQAAAAIAAAAAAAAAAgAAAAMAAAABAAAABAAAAAYAAAAAAAAABQAAAAMAAAAGAAAABAAAAAUAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAABAAAABQAAAAIAAAAAAAAAAQAAAAMAAAAGAAAABAAAAAYAAAAAAAAABQAAAAIAAAABAAAABAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAgAAAAMAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAABgAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAABgAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAwAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAQAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAFAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABgAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAAAAAAABgAAAAAAAAADAAAAAgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAUAAAAEAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAEAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAUAAAACAAAABAAAAAMAAAAIAAAAAQAAAAcAAAAGAAAACQAAAAAAAAADAAAAAgAAAAIAAAAGAAAACgAAAAsAAAAAAAAAAQAAAAUAAAADAAAADQAAAAEAAAAHAAAABAAAAAwAAAAAAAAABAAAAH8AAAAPAAAACAAAAAMAAAAAAAAADAAAAAUAAAACAAAAEgAAAAoAAAAIAAAAAAAAABAAAAAGAAAADgAAAAsAAAARAAAAAQAAAAkAAAACAAAABwAAABUAAAAJAAAAEwAAAAMAAAANAAAAAQAAAAgAAAAFAAAAFgAAABAAAAAEAAAAAAAAAA8AAAAJAAAAEwAAAA4AAAAUAAAAAQAAAAcAAAAGAAAACgAAAAsAAAAYAAAAFwAAAAUAAAACAAAAEgAAAAsAAAARAAAAFwAAABkAAAACAAAABgAAAAoAAAAMAAAAHAAAAA0AAAAaAAAABAAAAA8AAAADAAAADQAAABoAAAAVAAAAHQAAAAMAAAAMAAAABwAAAA4AAAB/AAAAEQAAABsAAAAJAAAAFAAAAAYAAAAPAAAAFgAAABwAAAAfAAAABAAAAAgAAAAMAAAAEAAAABIAAAAhAAAAHgAAAAgAAAAFAAAAFgAAABEAAAALAAAADgAAAAYAAAAjAAAAGQAAABsAAAASAAAAGAAAAB4AAAAgAAAABQAAAAoAAAAQAAAAEwAAACIAAAAUAAAAJAAAAAcAAAAVAAAACQAAABQAAAAOAAAAEwAAAAkAAAAoAAAAGwAAACQAAAAVAAAAJgAAABMAAAAiAAAADQAAAB0AAAAHAAAAFgAAABAAAAApAAAAIQAAAA8AAAAIAAAAHwAAABcAAAAYAAAACwAAAAoAAAAnAAAAJQAAABkAAAAYAAAAfwAAACAAAAAlAAAACgAAABcAAAASAAAAGQAAABcAAAARAAAACwAAAC0AAAAnAAAAIwAAABoAAAAqAAAAHQAAACsAAAAMAAAAHAAAAA0AAAAbAAAAKAAAACMAAAAuAAAADgAAABQAAAARAAAAHAAAAB8AAAAqAAAALAAAAAwAAAAPAAAAGgAAAB0AAAArAAAAJgAAAC8AAAANAAAAGgAAABUAAAAeAAAAIAAAADAAAAAyAAAAEAAAABIAAAAhAAAAHwAAACkAAAAsAAAANQAAAA8AAAAWAAAAHAAAACAAAAAeAAAAGAAAABIAAAA0AAAAMgAAACUAAAAhAAAAHgAAADEAAAAwAAAAFgAAABAAAAApAAAAIgAAABMAAAAmAAAAFQAAADYAAAAkAAAAMwAAACMAAAAuAAAALQAAADgAAAARAAAAGwAAABkAAAAkAAAAFAAAACIAAAATAAAANwAAACgAAAA2AAAAJQAAACcAAAA0AAAAOQAAABgAAAAXAAAAIAAAACYAAAB/AAAAIgAAADMAAAAdAAAALwAAABUAAAAnAAAAJQAAABkAAAAXAAAAOwAAADkAAAAtAAAAKAAAABsAAAAkAAAAFAAAADwAAAAuAAAANwAAACkAAAAxAAAANQAAAD0AAAAWAAAAIQAAAB8AAAAqAAAAOgAAACsAAAA+AAAAHAAAACwAAAAaAAAAKwAAAD4AAAAvAAAAQAAAABoAAAAqAAAAHQAAACwAAAA1AAAAOgAAAEEAAAAcAAAAHwAAACoAAAAtAAAAJwAAACMAAAAZAAAAPwAAADsAAAA4AAAALgAAADwAAAA4AAAARAAAABsAAAAoAAAAIwAAAC8AAAAmAAAAKwAAAB0AAABFAAAAMwAAAEAAAAAwAAAAMQAAAB4AAAAhAAAAQwAAAEIAAAAyAAAAMQAAAH8AAAA9AAAAQgAAACEAAAAwAAAAKQAAADIAAAAwAAAAIAAAAB4AAABGAAAAQwAAADQAAAAzAAAARQAAADYAAABHAAAAJgAAAC8AAAAiAAAANAAAADkAAABGAAAASgAAACAAAAAlAAAAMgAAADUAAAA9AAAAQQAAAEsAAAAfAAAAKQAAACwAAAA2AAAARwAAADcAAABJAAAAIgAAADMAAAAkAAAANwAAACgAAAA2AAAAJAAAAEgAAAA8AAAASQAAADgAAABEAAAAPwAAAE0AAAAjAAAALgAAAC0AAAA5AAAAOwAAAEoAAABOAAAAJQAAACcAAAA0AAAAOgAAAH8AAAA+AAAATAAAACwAAABBAAAAKgAAADsAAAA/AAAATgAAAE8AAAAnAAAALQAAADkAAAA8AAAASAAAAEQAAABQAAAAKAAAADcAAAAuAAAAPQAAADUAAAAxAAAAKQAAAFEAAABLAAAAQgAAAD4AAAArAAAAOgAAACoAAABSAAAAQAAAAEwAAAA/AAAAfwAAADgAAAAtAAAATwAAADsAAABNAAAAQAAAAC8AAAA+AAAAKwAAAFQAAABFAAAAUgAAAEEAAAA6AAAANQAAACwAAABWAAAATAAAAEsAAABCAAAAQwAAAFEAAABVAAAAMQAAADAAAAA9AAAAQwAAAEIAAAAyAAAAMAAAAFcAAABVAAAARgAAAEQAAAA4AAAAPAAAAC4AAABaAAAATQAAAFAAAABFAAAAMwAAAEAAAAAvAAAAWQAAAEcAAABUAAAARgAAAEMAAAA0AAAAMgAAAFMAAABXAAAASgAAAEcAAABZAAAASQAAAFsAAAAzAAAARQAAADYAAABIAAAAfwAAAEkAAAA3AAAAUAAAADwAAABYAAAASQAAAFsAAABIAAAAWAAAADYAAABHAAAANwAAAEoAAABOAAAAUwAAAFwAAAA0AAAAOQAAAEYAAABLAAAAQQAAAD0AAAA1AAAAXgAAAFYAAABRAAAATAAAAFYAAABSAAAAYAAAADoAAABBAAAAPgAAAE0AAAA/AAAARAAAADgAAABdAAAATwAAAFoAAABOAAAASgAAADsAAAA5AAAAXwAAAFwAAABPAAAATwAAAE4AAAA/AAAAOwAAAF0AAABfAAAATQAAAFAAAABEAAAASAAAADwAAABjAAAAWgAAAFgAAABRAAAAVQAAAF4AAABlAAAAPQAAAEIAAABLAAAAUgAAAGAAAABUAAAAYgAAAD4AAABMAAAAQAAAAFMAAAB/AAAASgAAAEYAAABkAAAAVwAAAFwAAABUAAAARQAAAFIAAABAAAAAYQAAAFkAAABiAAAAVQAAAFcAAABlAAAAZgAAAEIAAABDAAAAUQAAAFYAAABMAAAASwAAAEEAAABoAAAAYAAAAF4AAABXAAAAUwAAAGYAAABkAAAAQwAAAEYAAABVAAAAWAAAAEgAAABbAAAASQAAAGMAAABQAAAAaQAAAFkAAABhAAAAWwAAAGcAAABFAAAAVAAAAEcAAABaAAAATQAAAFAAAABEAAAAagAAAF0AAABjAAAAWwAAAEkAAABZAAAARwAAAGkAAABYAAAAZwAAAFwAAABTAAAATgAAAEoAAABsAAAAZAAAAF8AAABdAAAATwAAAFoAAABNAAAAbQAAAF8AAABqAAAAXgAAAFYAAABRAAAASwAAAGsAAABoAAAAZQAAAF8AAABcAAAATwAAAE4AAABtAAAAbAAAAF0AAABgAAAAaAAAAGIAAABuAAAATAAAAFYAAABSAAAAYQAAAH8AAABiAAAAVAAAAGcAAABZAAAAbwAAAGIAAABuAAAAYQAAAG8AAABSAAAAYAAAAFQAAABjAAAAUAAAAGkAAABYAAAAagAAAFoAAABxAAAAZAAAAGYAAABTAAAAVwAAAGwAAAByAAAAXAAAAGUAAABmAAAAawAAAHAAAABRAAAAVQAAAF4AAABmAAAAZQAAAFcAAABVAAAAcgAAAHAAAABkAAAAZwAAAFsAAABhAAAAWQAAAHQAAABpAAAAbwAAAGgAAABrAAAAbgAAAHMAAABWAAAAXgAAAGAAAABpAAAAWAAAAGcAAABbAAAAcQAAAGMAAAB0AAAAagAAAF0AAABjAAAAWgAAAHUAAABtAAAAcQAAAGsAAAB/AAAAZQAAAF4AAABzAAAAaAAAAHAAAABsAAAAZAAAAF8AAABcAAAAdgAAAHIAAABtAAAAbQAAAGwAAABdAAAAXwAAAHUAAAB2AAAAagAAAG4AAABiAAAAaAAAAGAAAAB3AAAAbwAAAHMAAABvAAAAYQAAAG4AAABiAAAAdAAAAGcAAAB3AAAAcAAAAGsAAABmAAAAZQAAAHgAAABzAAAAcgAAAHEAAABjAAAAdAAAAGkAAAB1AAAAagAAAHkAAAByAAAAcAAAAGQAAABmAAAAdgAAAHgAAABsAAAAcwAAAG4AAABrAAAAaAAAAHgAAAB3AAAAcAAAAHQAAABnAAAAdwAAAG8AAABxAAAAaQAAAHkAAAB1AAAAfwAAAG0AAAB2AAAAcQAAAHkAAABqAAAAdgAAAHgAAABsAAAAcgAAAHUAAAB5AAAAbQAAAHcAAABvAAAAcwAAAG4AAAB5AAAAdAAAAHgAAAB4AAAAcwAAAHIAAABwAAAAeQAAAHcAAAB2AAAAeQAAAHQAAAB4AAAAdwAAAHUAAABxAAAAdgAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAADAAAABQAAAAEAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAgAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAABQAAAAUAAAAAAAAAAAAAAP////8BAAAAAAAAAAMAAAAEAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAQAAAP//////////AQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAIAAAAAAAAAAAAAAAEAAAACAAAABgAAAAQAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAoAAAACAAAAAAAAAAAAAAABAAAAAQAAAAUAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAAAAAAAAAAAAAEAAAADAAAABwAAAAYAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAJAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAAAAAAAAAAAAQAAAAQAAAAIAAAACgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAAAAAAAAAAABAAAACwAAAA8AAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAgAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAAAAAAAAAAABAAAADAAAABAAAAAMAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAEAAAAKAAAAEwAAAAgAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAgAAAAAAAAAAAAAAAQAAAA0AAAARAAAADQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAAAAAAAAAAAAAEAAAAOAAAAEgAAAA8AAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAAAAAABAAAA//////////8TAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABIAAAAAAAAAGAAAAAAAAAAhAAAAAAAAAB4AAAAAAAAAIAAAAAMAAAAxAAAAAQAAADAAAAADAAAAMgAAAAMAAAAIAAAAAAAAAAUAAAAFAAAACgAAAAUAAAAWAAAAAAAAABAAAAAAAAAAEgAAAAAAAAApAAAAAQAAACEAAAAAAAAAHgAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAgAAAAUAAAAPAAAAAQAAAAgAAAAAAAAABQAAAAUAAAAfAAAAAQAAABYAAAAAAAAAEAAAAAAAAAACAAAAAAAAAAYAAAAAAAAADgAAAAAAAAAKAAAAAAAAAAsAAAAAAAAAEQAAAAMAAAAYAAAAAQAAABcAAAADAAAAGQAAAAMAAAAAAAAAAAAAAAEAAAAFAAAACQAAAAUAAAAFAAAAAAAAAAIAAAAAAAAABgAAAAAAAAASAAAAAQAAAAoAAAAAAAAACwAAAAAAAAAEAAAAAQAAAAMAAAAFAAAABwAAAAUAAAAIAAAAAQAAAAAAAAAAAAAAAQAAAAUAAAAQAAAAAQAAAAUAAAAAAAAAAgAAAAAAAAAHAAAAAAAAABUAAAAAAAAAJgAAAAAAAAAJAAAAAAAAABMAAAAAAAAAIgAAAAMAAAAOAAAAAQAAABQAAAADAAAAJAAAAAMAAAADAAAAAAAAAA0AAAAFAAAAHQAAAAUAAAABAAAAAAAAAAcAAAAAAAAAFQAAAAAAAAAGAAAAAQAAAAkAAAAAAAAAEwAAAAAAAAAEAAAAAgAAAAwAAAAFAAAAGgAAAAUAAAAAAAAAAQAAAAMAAAAAAAAADQAAAAUAAAACAAAAAQAAAAEAAAAAAAAABwAAAAAAAAAaAAAAAAAAACoAAAAAAAAAOgAAAAAAAAAdAAAAAAAAACsAAAAAAAAAPgAAAAMAAAAmAAAAAQAAAC8AAAADAAAAQAAAAAMAAAAMAAAAAAAAABwAAAAFAAAALAAAAAUAAAANAAAAAAAAABoAAAAAAAAAKgAAAAAAAAAVAAAAAQAAAB0AAAAAAAAAKwAAAAAAAAAEAAAAAwAAAA8AAAAFAAAAHwAAAAUAAAADAAAAAQAAAAwAAAAAAAAAHAAAAAUAAAAHAAAAAQAAAA0AAAAAAAAAGgAAAAAAAAAfAAAAAAAAACkAAAAAAAAAMQAAAAAAAAAsAAAAAAAAADUAAAAAAAAAPQAAAAMAAAA6AAAAAQAAAEEAAAADAAAASwAAAAMAAAAPAAAAAAAAABYAAAAFAAAAIQAAAAUAAAAcAAAAAAAAAB8AAAAAAAAAKQAAAAAAAAAqAAAAAQAAACwAAAAAAAAANQAAAAAAAAAEAAAABAAAAAgAAAAFAAAAEAAAAAUAAAAMAAAAAQAAAA8AAAAAAAAAFgAAAAUAAAAaAAAAAQAAABwAAAAAAAAAHwAAAAAAAAAyAAAAAAAAADAAAAAAAAAAMQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAIQAAAAMAAAAYAAAAAwAAABIAAAADAAAAEAAAAAMAAABGAAAAAAAAAEMAAAAAAAAAQgAAAAMAAAA0AAAAAwAAADIAAAAAAAAAMAAAAAAAAAAlAAAAAwAAACAAAAAAAAAAHgAAAAMAAABTAAAAAAAAAFcAAAADAAAAVQAAAAMAAABKAAAAAwAAAEYAAAAAAAAAQwAAAAAAAAA5AAAAAQAAADQAAAADAAAAMgAAAAAAAAAZAAAAAAAAABcAAAAAAAAAGAAAAAMAAAARAAAAAAAAAAsAAAADAAAACgAAAAMAAAAOAAAAAwAAAAYAAAADAAAAAgAAAAMAAAAtAAAAAAAAACcAAAAAAAAAJQAAAAMAAAAjAAAAAwAAABkAAAAAAAAAFwAAAAAAAAAbAAAAAwAAABEAAAAAAAAACwAAAAMAAAA/AAAAAAAAADsAAAADAAAAOQAAAAMAAAA4AAAAAwAAAC0AAAAAAAAAJwAAAAAAAAAuAAAAAwAAACMAAAADAAAAGQAAAAAAAAAkAAAAAAAAABQAAAAAAAAADgAAAAMAAAAiAAAAAAAAABMAAAADAAAACQAAAAMAAAAmAAAAAwAAABUAAAADAAAABwAAAAMAAAA3AAAAAAAAACgAAAAAAAAAGwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAFAAAAAAAAAAzAAAAAwAAACIAAAAAAAAAEwAAAAMAAABIAAAAAAAAADwAAAADAAAALgAAAAMAAABJAAAAAwAAADcAAAAAAAAAKAAAAAAAAABHAAAAAwAAADYAAAADAAAAJAAAAAAAAABAAAAAAAAAAC8AAAAAAAAAJgAAAAMAAAA+AAAAAAAAACsAAAADAAAAHQAAAAMAAAA6AAAAAwAAACoAAAADAAAAGgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAMwAAAAMAAABSAAAAAwAAAEAAAAAAAAAALwAAAAAAAABMAAAAAwAAAD4AAAAAAAAAKwAAAAMAAABhAAAAAAAAAFkAAAADAAAARwAAAAMAAABiAAAAAwAAAFQAAAAAAAAARQAAAAAAAABgAAAAAwAAAFIAAAADAAAAQAAAAAAAAABLAAAAAAAAAEEAAAAAAAAAOgAAAAMAAAA9AAAAAAAAADUAAAADAAAALAAAAAMAAAAxAAAAAwAAACkAAAADAAAAHwAAAAMAAABeAAAAAAAAAFYAAAAAAAAATAAAAAMAAABRAAAAAwAAAEsAAAAAAAAAQQAAAAAAAABCAAAAAwAAAD0AAAAAAAAANQAAAAMAAABrAAAAAAAAAGgAAAADAAAAYAAAAAMAAABlAAAAAwAAAF4AAAAAAAAAVgAAAAAAAABVAAAAAwAAAFEAAAADAAAASwAAAAAAAAA5AAAAAAAAADsAAAAAAAAAPwAAAAMAAABKAAAAAAAAAE4AAAADAAAATwAAAAMAAABTAAAAAwAAAFwAAAADAAAAXwAAAAMAAAAlAAAAAAAAACcAAAADAAAALQAAAAMAAAA0AAAAAAAAADkAAAAAAAAAOwAAAAAAAABGAAAAAwAAAEoAAAAAAAAATgAAAAMAAAAYAAAAAAAAABcAAAADAAAAGQAAAAMAAAAgAAAAAwAAACUAAAAAAAAAJwAAAAMAAAAyAAAAAwAAADQAAAAAAAAAOQAAAAAAAAAuAAAAAAAAADwAAAAAAAAASAAAAAMAAAA4AAAAAAAAAEQAAAADAAAAUAAAAAMAAAA/AAAAAwAAAE0AAAADAAAAWgAAAAMAAAAbAAAAAAAAACgAAAADAAAANwAAAAMAAAAjAAAAAAAAAC4AAAAAAAAAPAAAAAAAAAAtAAAAAwAAADgAAAAAAAAARAAAAAMAAAAOAAAAAAAAABQAAAADAAAAJAAAAAMAAAARAAAAAwAAABsAAAAAAAAAKAAAAAMAAAAZAAAAAwAAACMAAAAAAAAALgAAAAAAAABHAAAAAAAAAFkAAAAAAAAAYQAAAAMAAABJAAAAAAAAAFsAAAADAAAAZwAAAAMAAABIAAAAAwAAAFgAAAADAAAAaQAAAAMAAAAzAAAAAAAAAEUAAAADAAAAVAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAWQAAAAAAAAA3AAAAAwAAAEkAAAAAAAAAWwAAAAMAAAAmAAAAAAAAAC8AAAADAAAAQAAAAAMAAAAiAAAAAwAAADMAAAAAAAAARQAAAAMAAAAkAAAAAwAAADYAAAAAAAAARwAAAAAAAABgAAAAAAAAAGgAAAAAAAAAawAAAAMAAABiAAAAAAAAAG4AAAADAAAAcwAAAAMAAABhAAAAAwAAAG8AAAADAAAAdwAAAAMAAABMAAAAAAAAAFYAAAADAAAAXgAAAAMAAABSAAAAAAAAAGAAAAAAAAAAaAAAAAAAAABUAAAAAwAAAGIAAAAAAAAAbgAAAAMAAAA6AAAAAAAAAEEAAAADAAAASwAAAAMAAAA+AAAAAwAAAEwAAAAAAAAAVgAAAAMAAABAAAAAAwAAAFIAAAAAAAAAYAAAAAAAAABVAAAAAAAAAFcAAAAAAAAAUwAAAAMAAABlAAAAAAAAAGYAAAADAAAAZAAAAAMAAABrAAAAAwAAAHAAAAADAAAAcgAAAAMAAABCAAAAAAAAAEMAAAADAAAARgAAAAMAAABRAAAAAAAAAFUAAAAAAAAAVwAAAAAAAABeAAAAAwAAAGUAAAAAAAAAZgAAAAMAAAAxAAAAAAAAADAAAAADAAAAMgAAAAMAAAA9AAAAAwAAAEIAAAAAAAAAQwAAAAMAAABLAAAAAwAAAFEAAAAAAAAAVQAAAAAAAABfAAAAAAAAAFwAAAAAAAAAUwAAAAAAAABPAAAAAAAAAE4AAAAAAAAASgAAAAMAAAA/AAAAAQAAADsAAAADAAAAOQAAAAMAAABtAAAAAAAAAGwAAAAAAAAAZAAAAAUAAABdAAAAAQAAAF8AAAAAAAAAXAAAAAAAAABNAAAAAQAAAE8AAAAAAAAATgAAAAAAAAB1AAAABAAAAHYAAAAFAAAAcgAAAAUAAABqAAAAAQAAAG0AAAAAAAAAbAAAAAAAAABaAAAAAQAAAF0AAAABAAAAXwAAAAAAAABaAAAAAAAAAE0AAAAAAAAAPwAAAAAAAABQAAAAAAAAAEQAAAAAAAAAOAAAAAMAAABIAAAAAQAAADwAAAADAAAALgAAAAMAAABqAAAAAAAAAF0AAAAAAAAATwAAAAUAAABjAAAAAQAAAFoAAAAAAAAATQAAAAAAAABYAAAAAQAAAFAAAAAAAAAARAAAAAAAAAB1AAAAAwAAAG0AAAAFAAAAXwAAAAUAAABxAAAAAQAAAGoAAAAAAAAAXQAAAAAAAABpAAAAAQAAAGMAAAABAAAAWgAAAAAAAABpAAAAAAAAAFgAAAAAAAAASAAAAAAAAABnAAAAAAAAAFsAAAAAAAAASQAAAAMAAABhAAAAAQAAAFkAAAADAAAARwAAAAMAAABxAAAAAAAAAGMAAAAAAAAAUAAAAAUAAAB0AAAAAQAAAGkAAAAAAAAAWAAAAAAAAABvAAAAAQAAAGcAAAAAAAAAWwAAAAAAAAB1AAAAAgAAAGoAAAAFAAAAWgAAAAUAAAB5AAAAAQAAAHEAAAAAAAAAYwAAAAAAAAB3AAAAAQAAAHQAAAABAAAAaQAAAAAAAAB3AAAAAAAAAG8AAAAAAAAAYQAAAAAAAABzAAAAAAAAAG4AAAAAAAAAYgAAAAMAAABrAAAAAQAAAGgAAAADAAAAYAAAAAMAAAB5AAAAAAAAAHQAAAAAAAAAZwAAAAUAAAB4AAAAAQAAAHcAAAAAAAAAbwAAAAAAAABwAAAAAQAAAHMAAAAAAAAAbgAAAAAAAAB1AAAAAQAAAHEAAAAFAAAAaQAAAAUAAAB2AAAAAQAAAHkAAAAAAAAAdAAAAAAAAAByAAAAAQAAAHgAAAABAAAAdwAAAAAAAAByAAAAAAAAAHAAAAAAAAAAawAAAAAAAABkAAAAAAAAAGYAAAAAAAAAZQAAAAMAAABTAAAAAQAAAFcAAAADAAAAVQAAAAMAAAB2AAAAAAAAAHgAAAAAAAAAcwAAAAUAAABsAAAAAQAAAHIAAAAAAAAAcAAAAAAAAABcAAAAAQAAAGQAAAAAAAAAZgAAAAAAAAB1AAAAAAAAAHkAAAAFAAAAdwAAAAUAAABtAAAAAQAAAHYAAAAAAAAAeAAAAAAAAABfAAAAAQAAAGwAAAABAAAAcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAB+ogX28rbpPxqumpJv+fM/165tC4ns9D+XaEnTqUsEQFrOtNlC4PA/3U+0XG6P9b9TdUUBxTTjP4PUp8ex1ty/B1rD/EN43z+lcDi6LLrZP/a45NWEHMY/oJ5ijLDZ+j/xw3rjxWPjP2B8A46ioQdAotff3wla2z+FMSpA1jj+v6b5Y1mtPbS/cIu8K0F457/2esiyJpDNv98k5Ts2NeA/pvljWa09tD88ClUJ60MDQPZ6yLImkM0/4ONKxa0UBcD2uOTVhBzGv5G7JRxGave/8cN648Vj47+HCwtkjAXIv6LX398JWtu/qyheaCAL9D9TdUUBxTTjv4gyTxslhwVAB1rD/EN4378EH/28teoFwH6iBfbytum/F6ztFYdK/r/Xrm0Liez0vwcS6wNGWeO/Ws602ULg8L9TCtRLiLT8P8pi5RexJsw/BlIKPVwR5T95Wyu0/QjnP5PjoT7YYcu/mBhKZ6zrwj8wRYS7NebuP3qW6geh+Ls/SLrixebL3r+pcyymN9XrPwmkNHp7xec/GWNMZVAA17+82s+x2BLiPwn2ytbJ9ek/LgEH1sMS1j8yp/2LhTfeP+SnWwtQBbu/d38gkp5X7z8ytsuHaADGPzUYObdf1+m/7IauECWhwz+cjSACjzniP76Z+wUhN9K/1+GEKzup67+/GYr/04baPw6idWOvsuc/ZedTWsRa5b/EJQOuRzi0v/OncYhHPes/h49PixY53j+i8wWfC03Nvw2idWOvsue/ZedTWsRa5T/EJQOuRzi0P/KncYhHPeu/iY9PixY53r+i8wWfC03NP9anWwtQBbs/d38gkp5X778ytsuHaADGvzUYObdf1+k/74auECWhw7+cjSACjzniv8CZ+wUhN9I/1uGEKzup6z+/GYr/04bavwmkNHp7xee/F2NMZVAA1z+82s+x2BLivwr2ytbJ9em/KwEH1sMS1r8yp/2LhTfev81i5RexJsy/BlIKPVwR5b95Wyu0/Qjnv5DjoT7YYcs/nBhKZ6zrwr8wRYS7Nebuv3OW6geh+Lu/SLrixebL3j+pcyymN9Xrv8rHIFfWehZAMBwUdlo0DECTUc17EOb2PxpVB1SWChdAzjbhb9pTDUDQhmdvECX5P9FlMKCC9+g/IIAzjELgE0DajDngMv8GQFhWDmDPjNs/y1guLh96EkAxPi8k7DIEQJCc4URlhRhA3eLKKLwkEECqpNAyTBD/P6xpjXcDiwVAFtl//cQm4z+Ibt3XKiYTQM7mCLUb3QdAoM1t8yVv7D8aLZv2Nk8UQEAJPV5nQwxAtSsfTCoE9z9TPjXLXIIWQBVanC5W9AtAYM3d7Adm9j++5mQz1FoWQBUThyaVBghAwH5muQsV7T89Q1qv82MUQJoWGOfNuBdAzrkClkmwDkDQjKq77t37Py+g0dtitsE/ZwAMTwVPEUBojepluNwBQGYbtuW+t9w/HNWIJs6MEkDTNuQUSlgEQKxktPP5TcQ/ixbLB8JjEUCwuWjXMQYCQAS/R09FkRdAowpiZjhhDkB7LmlczD/7P01iQmhhsAVAnrtTwDy84z/Z6jfQ2TgTQChOCXMnWwpAhrW3daoz8z/HYJvVPI4VQLT3ik5FcA5Angi7LOZd+z+NNVzDy5gXQBXdvVTFUA1AYNMgOeYe+T8+qHXGCwkXQKQTOKwa5AJA8gFVoEMW0T+FwzJyttIRQAEAAAD/////BwAAAP////8xAAAA/////1cBAAD/////YQkAAP////+nQQAA/////5HLAQD/////95AMAP/////B9lcAAAAAAAAAAAAAAAAAAgAAAP////8OAAAA/////2IAAAD/////rgIAAP/////CEgAA/////06DAAD/////IpcDAP/////uIRkA/////4LtrwAAAAAAAAAAAAAAAAAAAAAAAgAAAP//////////AQAAAAMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////////////////////wEAAAAAAAAAAgAAAP///////////////wMAAAD//////////////////////////////////////////////////////////wIAAAD//////////wEAAAAAAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA/////////////////////wEAAAD///////////////8CAAAA////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAA////////////////AgAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AQAAAAIAAAD///////////////8AAAAA/////////////////////wMAAAD///////////////////////////////8CAAAA////////////////AQAAAP////////////////////8AAAAA/////////////////////wMAAAD/////////////////////////////////////////////////////AwAAAP////////////////////8AAAAAAQAAAP//////////AgAAAP//////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAP///////////////wIAAAAAAAAAAQAAAP//////////////////////////////////////////////////////////////////////////AwAAAAEAAAD//////////wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAgAAAAAAAAACAAAAAQAAAAEAAAACAAAAAgAAAAAAAAAFAAAABQAAAAAAAAACAAAAAgAAAAMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAIAAAABAAAAAgAAAAIAAAACAAAAAAAAAAUAAAAGAAAAAAAAAAIAAAACAAAAAwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAAAAAAAAgAAAAEAAAADAAAAAgAAAAIAAAAAAAAABQAAAAcAAAAAAAAAAgAAAAIAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAgAAAAAAAAACAAAAAQAAAAQAAAACAAAAAgAAAAAAAAAFAAAACAAAAAAAAAACAAAAAgAAAAMAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAACAAAAAAAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAUAAAAJAAAAAAAAAAIAAAACAAAAAwAAAAUAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAIAAAACAAAAAAAAAAMAAAAOAAAAAgAAAAAAAAACAAAAAwAAAAAAAAAAAAAAAgAAAAIAAAADAAAABgAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAgAAAAIAAAAAAAAAAwAAAAoAAAACAAAAAAAAAAIAAAADAAAAAQAAAAAAAAACAAAAAgAAAAMAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAgAAAAAAAAADAAAACwAAAAIAAAAAAAAAAgAAAAMAAAACAAAAAAAAAAIAAAACAAAAAwAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAACAAAAAAAAAAMAAAAMAAAAAgAAAAAAAAACAAAAAwAAAAMAAAAAAAAAAgAAAAIAAAADAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAgAAAAIAAAAAAAAAAwAAAA0AAAACAAAAAAAAAAIAAAADAAAABAAAAAAAAAACAAAAAgAAAAMAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAgAAAAAAAAADAAAABgAAAAIAAAAAAAAAAgAAAAMAAAAPAAAAAAAAAAIAAAACAAAAAwAAAAsAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAIAAAACAAAAAAAAAAMAAAAHAAAAAgAAAAAAAAACAAAAAwAAABAAAAAAAAAAAgAAAAIAAAADAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAIAAAAAAAAAAwAAAAgAAAACAAAAAAAAAAIAAAADAAAAEQAAAAAAAAACAAAAAgAAAAMAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAACAAAAAgAAAAAAAAADAAAACQAAAAIAAAAAAAAAAgAAAAMAAAASAAAAAAAAAAIAAAACAAAAAwAAAA4AAAAAAAAAAAAAAAAAAAAAAAAACQAAAAIAAAACAAAAAAAAAAMAAAAFAAAAAgAAAAAAAAACAAAAAwAAABMAAAAAAAAAAgAAAAIAAAADAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAgAAAAAAAAACAAAAAQAAABMAAAACAAAAAgAAAAAAAAAFAAAACgAAAAAAAAACAAAAAgAAAAMAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABEAAAACAAAAAAAAAAIAAAABAAAADwAAAAIAAAACAAAAAAAAAAUAAAALAAAAAAAAAAIAAAACAAAAAwAAABEAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAIAAAAAAAAAAgAAAAEAAAAQAAAAAgAAAAIAAAAAAAAABQAAAAwAAAAAAAAAAgAAAAIAAAADAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAACAAAAAQAAABEAAAACAAAAAgAAAAAAAAAFAAAADQAAAAAAAAACAAAAAgAAAAMAAAATAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAACAAAAAAAAAAIAAAABAAAAEgAAAAIAAAACAAAAAAAAAAUAAAAOAAAAAAAAAAIAAAACAAAAAwAAAAIAAAABAAAAAAAAAAEAAAACAAAAAAAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAEAAAAAAAAAAgAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAgAAAAAAAAABAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAAAAAAAAAAABQAAAAQAAAAAAAAAAQAAAAUAAAAEAAAAAAAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAMuhRbbsNlBBYqHW9OmHIkF9XBuqnS31QAK37uYhNMhAOSo3UUupm0DC+6pc6JxvQHV9eseEEEJAzURsCyqlFEB8BQ4NMJjnPyy3tBoS97o/xawXQznRjj89J2K2CZxhP6vX43RIIDQ/S8isgygEBz+LvFHQkmzaPjFFFO7wMq4+AADMLkTtjkIAAOgkJqxhQgAAU7B0MjRCAADwpBcVB0IAAACYP2HaQQAAAIn/Ja5BzczM4Eg6gUHNzMxMU7BTQTMzMzNfgCZBAAAAAEi3+UAAAAAAwGPNQDMzMzMzy6BAmpmZmZkxc0AzMzMzM/NFQDMzMzMzMxlAzczMzMzM7D+ygXSx2U6RQKimJOvQKnpA23hmONTHY0A/AGcxyudNQNb3K647mzZA+S56rrwWIUAm4kUQ+9UJQKre9hGzh/M/BLvoy9WG3T+LmqMf8VHGP2m3nYNV37A/gbFHcyeCmT+cBPWBckiDP61tZACjKW0/q2RbYVUYVj8uDypVyLNAP6jGS5cA5zBBwcqhBdCNGUEGEhQ/JVEDQT6WPnRbNO1AB/AWSJgT1kDfUWNCNLDAQNk+5C33OqlAchWL34QSk0DKvtDIrNV8QNF0G3kFzGVASSeWhBl6UED+/0mNGuk4QGjA/dm/1CJALPLPMql6DEDSHoDrwpP1P2jouzWST+A/egAAAAAAAABKAwAAAAAAAPoWAAAAAAAAyqAAAAAAAAB6ZQQAAAAAAErGHgAAAAAA+mvXAAAAAADK8+MFAAAAAHqqOykAAAAASqmhIAEAAAD6oGvkBwAAAMpm8T43AAAAes+ZuIIBAABKrDQMkwoAAPq1cFUFSgAAyvkUViUGAgAAAAAAAwAAAAYAAAACAAAABQAAAAEAAAAEAAAAAAAAAAAAAAAFAAAAAwAAAAEAAAAGAAAABAAAAAIAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAA/////wAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAABAAAAAAAAAAAAAAD/////AAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAABAAEAAAEBAAAAAAABAAAAAQAAAAEAAQAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAHAAAABwAAAAEAAAACAAAABAAAAAMAAAAAAAAAAAAAAAcAAAADAAAAAQAAAAIAAAAFAAAABAAAAAAAAAAAAAAAYWxnb3MuYwBfcG9seWZpbGxJbnRlcm5hbABhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0dlb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9HZW9Cb3VuZGFyeQBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGgzVG9Mb2NhbElqawBiYXNlQ2VsbCAhPSBvcmlnaW5CYXNlQ2VsbAAhKG9yaWdpbk9uUGVudCAmJiBpbmRleE9uUGVudCkAcGVudGFnb25Sb3RhdGlvbnMgPj0gMABkaXJlY3Rpb25Sb3RhdGlvbnMgPj0gMABiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvSDMAIV9pc0Jhc2VDZWxsUGVudGFnb24oYmFzZUNlbGwpAGJhc2VDZWxsUm90YXRpb25zID49IDAAd2l0aGluUGVudGFnb25Sb3RhdGlvbnMgPj0gMABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";function demangle(func){return func}function demangleAll(text){return text.replace(/\b__Z[\w\d_]+/g,(function(x){return x===x?x:x+" ["+x+"]"}))}function jsStackTrace(){var err=new Error;if(!err.stack){try{throw new Error(0)}catch(e){err=e}if(!err.stack)return"(no stack trace available)"}return err.stack.toString()}function _emscripten_get_heap_size(){return HEAP8.length}function emscripten_realloc_buffer(size){try{var newBuffer=new ArrayBuffer(size);if(newBuffer.byteLength!=size)return;return new Int8Array(newBuffer).set(HEAP8),_emscripten_replace_memory(newBuffer),updateGlobalBufferAndViews(newBuffer),1}catch(e){}}var decodeBase64="function"==typeof atob?atob:function(input){var chr1,chr2,chr3,enc2,enc3,enc4,keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",output="",i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{chr1=keyStr.indexOf(input.charAt(i++))<<2|(enc2=keyStr.indexOf(input.charAt(i++)))>>4,chr2=(15&enc2)<<4|(enc3=keyStr.indexOf(input.charAt(i++)))>>2,chr3=(3&enc3)<<6|(enc4=keyStr.indexOf(input.charAt(i++))),output+=String.fromCharCode(chr1),64!==enc3&&(output+=String.fromCharCode(chr2)),64!==enc4&&(output+=String.fromCharCode(chr3))}while(i<input.length);return output};function tryParseAsDataURI(filename){if(isDataURI(filename))return function intArrayFromBase64(s){try{for(var decoded=decodeBase64(s),bytes=new Uint8Array(decoded.length),i=0;i<decoded.length;++i)bytes[i]=decoded.charCodeAt(i);return bytes}catch(_){throw new Error("Converting base64 string to bytes failed.")}}(filename.slice(dataURIPrefix.length))}var calledRun,asm=function(global,env,buffer){var a=new global.Int8Array(buffer),b=new global.Int32Array(buffer),e=(new global.Uint8Array(buffer),new global.Float32Array(buffer),new global.Float64Array(buffer)),g=0|env.p,p=global.Math.floor,q=global.Math.abs,r=global.Math.sqrt,s=global.Math.pow,t=global.Math.cos,u=global.Math.sin,v=global.Math.tan,w=global.Math.acos,x=global.Math.asin,y=global.Math.atan,z=global.Math.atan2,A=global.Math.ceil,B=global.Math.imul,C=global.Math.min,D=global.Math.clz32,F=env.b,G=env.c,H=env.d,I=env.e,J=env.f,K=env.g,L=env.h,M=env.i,S=24048;function $(a,b,c,d){var e,f;0|ba(a|=0,b|=0,c|=0,d|=0,0)&&(hd(0|d,0,(f=1+(0|B(3*c|0,c+1|0))|0)<<3|0),(e=0|Yc(f,4))&&(ca(a,b,c,d,e,f,0),Xc(e)))}function ba(a,c,d,e,f){a|=0,c|=0,d|=0,f|=0;var o,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0;if(o=S,S=S+16|0,n=o,b[(g=e|=0)>>2]=a,b[g+4>>2]=c,(g=0!=(0|f))&&(b[f>>2]=0),0|Fb(a,c))return S=o,0|(n=1);b[n>>2]=0;a:do{if((0|d)>=1)if(g)for(k=0,l=1,m=1,h=0,g=a;;){if(!(h|k)){if(0==(0|(g=0|da(g,c,4,n)))&0==(0|(c=0|G()))){g=2;break a}if(0|Fb(g,c)){g=1;break a}}if(0==(0|(g=0|da(g,c,0|b[16+(k<<2)>>2],n)))&0==(0|(c=0|G()))){g=2;break a}if(b[(a=e+(m<<3)|0)>>2]=g,b[a+4>>2]=c,b[f+(m<<2)>>2]=l,a=(0|(h=h+1|0))==(0|l),j=6==(0|(i=k+1|0)),0|Fb(g,c)){g=1;break a}if((0|(l=l+(j&a&1)|0))>(0|d)){g=0;break}k=a?j?0:i:k,m=m+1|0,h=a?0:h}else for(k=0,l=1,m=1,h=0,g=a;;){if(!(h|k)){if(0==(0|(g=0|da(g,c,4,n)))&0==(0|(c=0|G()))){g=2;break a}if(0|Fb(g,c)){g=1;break a}}if(0==(0|(g=0|da(g,c,0|b[16+(k<<2)>>2],n)))&0==(0|(c=0|G()))){g=2;break a}if(b[(a=e+(m<<3)|0)>>2]=g,b[a+4>>2]=c,a=(0|(h=h+1|0))==(0|l),j=6==(0|(i=k+1|0)),0|Fb(g,c)){g=1;break a}if((0|(l=l+(j&a&1)|0))>(0|d)){g=0;break}k=a?j?0:i:k,m=m+1|0,h=a?0:h}else g=0}while(0);return S=o,0|(n=g)}function ca(a,c,d,e,f,g,h){d|=0,e|=0,f|=0,g|=0,h|=0;var l,m,i=0,j=0,k=0,n=0,o=0;if(m=S,S=S+16|0,l=m,0==(0|(a|=0))&0==(0|(c|=0)))S=m;else{if(i=0|bd(0|a,0|c,0|g,((0|g)<0)<<31>>31|0),G(),!(0==(0|(o=0|b[(n=j=e+(i<<3)|0)>>2]))&0==(0|(n=0|b[n+4>>2]))|(k=(0|o)==(0|a)&(0|n)==(0|c))))do{k=(0|(n=0|b[(o=j=e+((i=(i+1|0)%(0|g)|0)<<3)|0)>>2]))==(0|a)&(0|(o=0|b[o+4>>2]))==(0|c)}while(!(0==(0|n)&0==(0|o)|k));i=f+(i<<2)|0,k&&(0|b[i>>2])<=(0|h)||(b[(o=j)>>2]=a,b[o+4>>2]=c,b[i>>2]=h,(0|h)>=(0|d)||(o=h+1|0,b[l>>2]=0,ca(n=0|da(a,c,2,l),0|G(),d,e,f,g,o),b[l>>2]=0,ca(n=0|da(a,c,3,l),0|G(),d,e,f,g,o),b[l>>2]=0,ca(n=0|da(a,c,1,l),0|G(),d,e,f,g,o),b[l>>2]=0,ca(n=0|da(a,c,5,l),0|G(),d,e,f,g,o),b[l>>2]=0,ca(n=0|da(a,c,4,l),0|G(),d,e,f,g,o),b[l>>2]=0,ca(n=0|da(a,c,6,l),0|G(),d,e,f,g,o))),S=m}}function da(a,c,d,e){a|=0,c|=0,d|=0;var i,j,f=0,g=0,h=0,l=0,m=0,n=0,o=0;if((0|b[(e|=0)>>2])>0){f=0;do{d=0|Pa(d),f=f+1|0}while((0|f)<(0|b[e>>2]))}i=0|cd(0|a,0|c,45),G(),j=127&i,g=0|Lb(a,c),f=0|cd(0|a,0|c,52),G(),f&=15;a:do{if(f)for(;;){if(n=0|cd(0|a,0|c,0|(m=3*(15-f|0)|0)),G(),n&=7,o=0==(0|Rb(f)),f=f+-1|0,l=0|dd(7,0,0|m),c&=~(0|G()),a=(m=0|dd(0|b[(o?464:48)+(28*n|0)+(d<<2)>>2],0,0|m))|a&~l,c|=0|G(),!(d=0|b[(o?672:256)+(28*n|0)+(d<<2)>>2])){d=0;break a}if(!f){h=6;break}}else h=6}while(0);6==(0|h)&&(a|=n=0|dd(0|(o=0|b[880+(28*j|0)+(d<<2)>>2]),0,45),c=0|G()|-1040385&c,d=0|b[4304+(28*j|0)+(d<<2)>>2],127==(127&o|0)&&(o=0|dd(0|b[880+(28*j|0)+20>>2],0,45),c=0|G()|-1040385&c,d=0|b[4304+(28*j|0)+20>>2],a=0|Nb(o|a,c),c=0|G(),b[e>>2]=1+(0|b[e>>2]))),h=0|cd(0|a,0|c,45),G(),h&=127;b:do{if(0|la(h)){c:do{if(1==(0|Lb(a,c))){if((0|j)!=(0|h)){if(0|ra(h,0|b[7728+(28*j|0)>>2])){a=0|Pb(a,c),g=1,c=0|G();break}a=0|Nb(a,c),g=1,c=0|G();break}switch(0|g){case 5:a=0|Pb(a,c),c=0|G(),b[e>>2]=5+(0|b[e>>2]),g=0;break c;case 3:a=0|Nb(a,c),c=0|G(),b[e>>2]=1+(0|b[e>>2]),g=0;break c;default:return o=0,F(0|(n=0)),0|o}}else g=0}while(0);if((0|d)>0){f=0;do{a=0|Mb(a,c),c=0|G(),f=f+1|0}while((0|f)!=(0|d))}if((0|j)!=(0|h)){if(!(0|ma(h))){if(0!=(0|g)|5!=(0|Lb(a,c)))break;b[e>>2]=1+(0|b[e>>2]);break}switch(127&i){case 8:case 118:break b}3!=(0|Lb(a,c))&&(b[e>>2]=1+(0|b[e>>2]))}}else if((0|d)>0){f=0;do{a=0|Nb(a,c),c=0|G(),f=f+1|0}while((0|f)!=(0|d))}}while(0);return b[e>>2]=((0|b[e>>2])+d|0)%6|0,o=a,F(0|(n=c)),0|o}function ia(a,c,d,f,g,h){c|=0,d|=0,f|=0,g|=0,h|=0;var t,u,v,w,x,y,z,A,C,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,B=0,D=0,E=0;if(C=S,S=S+48|0,y=C+32|0,z=C+16|0,A=C,(0|(i=0|b[(a|=0)>>2]))<=0)return S=C,0|(B=0);t=a+4|0,u=y+8|0,v=z+8|0,w=A+8|0,x=((0|c)<0)<<31>>31,s=0;a:for(;;){q=(j=0|b[t>>2])+(s<<4)|0,b[y>>2]=b[q>>2],b[y+4>>2]=b[q+4>>2],b[y+8>>2]=b[q+8>>2],b[y+12>>2]=b[q+12>>2],(0|s)==(i+-1|0)?(b[z>>2]=b[j>>2],b[z+4>>2]=b[j+4>>2],b[z+8>>2]=b[j+8>>2],b[z+12>>2]=b[j+12>>2]):(q=j+(s+1<<4)|0,b[z>>2]=b[q>>2],b[z+4>>2]=b[q+4>>2],b[z+8>>2]=b[q+8>>2],b[z+12>>2]=b[q+12>>2]),q=0|za(y,z,d);b:do{if((0|q)>0){r=+(0|q),p=0;c:for(;;){E=+(q-p|0),D=+(0|p),e[A>>3]=+e[y>>3]*E/r+ +e[z>>3]*D/r,e[w>>3]=+e[u>>3]*E/r+ +e[v>>3]*D/r,j=0|bd(0|(n=0|Sb(A,d)),0|(o=0|G()),0|c,0|x),G(),l=0|b[(k=i=h+(j<<3)|0)>>2],k=0|b[k+4>>2];d:do{if(0==(0|l)&0==(0|k))B=14;else for(m=0;;){if((0|m)>(0|c)){i=1;break d}if((0|l)==(0|n)&(0|k)==(0|o)){i=7;break d}if(0==(0|(l=0|b[(k=i=h+((j=(j+1|0)%(0|c)|0)<<3)|0)>>2]))&0==(0|(k=0|b[k+4>>2]))){B=14;break}m=m+1|0}}while(0);switch(14==(0|B)&&(B=0,0==(0|n)&0==(0|o)?i=7:(b[i>>2]=n,b[i+4>>2]=o,i=0|b[f>>2],b[(m=g+(i<<3)|0)>>2]=n,b[m+4>>2]=o,b[f>>2]=i+1,i=0)),7&i){case 7:case 0:break;default:break c}if((0|q)<=(0|(p=p+1|0))){B=8;break b}}if(0|i){i=-1,B=20;break a}}else B=8}while(0);if(8==(0|B)&&(B=0),(0|(s=s+1|0))>=(0|(i=0|b[a>>2]))){i=0,B=20;break}}return 20==(0|B)?(S=C,0|i):0}function la(a){return 0|b[7728+(28*(a|=0)|0)+16>>2]}function ma(a){return 4==(0|(a|=0))|117==(0|a)|0}function na(a){return 0|b[11152+(216*(0|b[(a|=0)>>2])|0)+(72*(0|b[a+4>>2])|0)+(24*(0|b[a+8>>2])|0)+(b[a+12>>2]<<3)>>2]}function oa(a){return 0|b[11152+(216*(0|b[(a|=0)>>2])|0)+(72*(0|b[a+4>>2])|0)+(24*(0|b[a+8>>2])|0)+(b[a+12>>2]<<3)+4>>2]}function ra(a,c){return c|=0,(0|b[7728+(28*(a|=0)|0)+20>>2])==(0|c)?0|(c=1):0|(c=(0|b[7728+(28*a|0)+24>>2])==(0|c))}function sa(a,c){return 0|b[880+(28*(a|=0)|0)+((c|=0)<<2)>>2]}function ta(a,c){return c|=0,(0|b[880+(28*(a|=0)|0)>>2])==(0|c)?0|(c=0):(0|b[880+(28*a|0)+4>>2])==(0|c)?0|(c=1):(0|b[880+(28*a|0)+8>>2])==(0|c)?0|(c=2):(0|b[880+(28*a|0)+12>>2])==(0|c)?0|(c=3):(0|b[880+(28*a|0)+16>>2])==(0|c)?0|(c=4):(0|b[880+(28*a|0)+20>>2])==(0|c)?0|(c=5):0|((0|b[880+(28*a|0)+24>>2])==(0|c)?6:7)}function wa(a){return+e[(a|=0)+16>>3]<+e[a+24>>3]|0}function xa(a,b){a|=0;var d,f,c=0;return(c=+e[(b|=0)>>3])>=+e[a+8>>3]&&c<=+e[a>>3]?(d=+e[a+16>>3],c=+e[a+24>>3],b=(f=+e[b+8>>3])>=c,a=f<=d&1,d<c?b&&(a=1):b||(a=0),0|(b=0!=(0|a))):0|(b=0)}function ya(a,c){a|=0,c|=0;var d,f,g,i,k,l,h=0,j=0;i=S,S=S+288|0,d=i+264|0,f=i+96|0,j=(h=g=i)+96|0;do{b[h>>2]=0,h=h+4|0}while((0|h)<(0|j));return _b(c,g),Vb(j=0|b[(h=g)>>2],h=0|b[h+4>>2],d),Wb(j,h,f),k=+jb(d,f+8|0),e[d>>3]=+e[a>>3],e[(h=d+8|0)>>3]=+e[a+16>>3],e[f>>3]=+e[a+8>>3],e[(j=f+8|0)>>3]=+e[a+24>>3],l=+jb(d,f),j=~~+A(+l*l/+ed(+ +q(+(+e[h>>3]-+e[j>>3])/(+e[d>>3]-+e[f>>3])),3)/(k*(2.59807621135*k)*.8)),S=i,0|(0==(0|j)?1:j)}function za(a,c,d){a|=0,c|=0,d|=0;var e,f,g,i,k,h=0,j=0;i=S,S=S+288|0,e=i+264|0,f=i+96|0,j=(h=g=i)+96|0;do{b[h>>2]=0,h=h+4|0}while((0|h)<(0|j));return _b(d,g),Vb(h=0|b[(j=g)>>2],j=0|b[j+4>>2],e),Wb(h,j,f),k=+jb(e,f+8|0),j=~~+A(+ +jb(a,c)/(2*k)),S=i,0|(0==(0|j)?1:j)}function Aa(a,c,d,e){c|=0,d|=0,e|=0,b[(a|=0)>>2]=c,b[a+4>>2]=d,b[a+8>>2]=e}function Ba(a,c){a|=0;var h,k,l,n,d=0,f=0,g=0,i=0,j=0,m=0,o=0;b[(n=(c|=0)+8|0)>>2]=0,k=+e[a>>3],i=+q(+k),l=+e[a+8>>3],i+=.5*(j=+q(+l)/.8660254037844386),i-=+(0|(d=~~i)),j-=+(0|(a=~~j));do{if(i<.5){if(i<.3333333333333333){if(b[c>>2]=d,j<.5*(i+1)){b[c+4>>2]=a;break}a=a+1|0,b[c+4>>2]=a;break}if(a=(1&!(j<(o=1-i)))+a|0,b[c+4>>2]=a,o<=j&j<2*i){d=d+1|0,b[c>>2]=d;break}b[c>>2]=d;break}if(!(i<.6666666666666666)){if(d=d+1|0,b[c>>2]=d,j<.5*i){b[c+4>>2]=a;break}a=a+1|0,b[c+4>>2]=a;break}if(j<1-i){if(b[c+4>>2]=a,2*i-1<j){b[c>>2]=d;break}}else a=a+1|0,b[c+4>>2]=a;d=d+1|0,b[c>>2]=d}while(0);do{if(k<0){if(1&a){d=~~(+(0|d)-(2*(+((m=0|_c(0|d,((0|d)<0)<<31>>31|0,0|(m=(a+1|0)/2|0),((0|m)<0)<<31>>31|0))>>>0)+4294967296*+(0|G()))+1)),b[c>>2]=d;break}d=~~(+(0|d)-2*(+((m=0|_c(0|d,((0|d)<0)<<31>>31|0,0|(m=(0|a)/2|0),((0|m)<0)<<31>>31|0))>>>0)+4294967296*+(0|G()))),b[c>>2]=d;break}}while(0);m=c+4|0,l<0&&(d=d-((1|a<<1)/2|0)|0,b[c>>2]=d,a=0-a|0,b[m>>2]=a),f=a-d|0,(0|d)<0?(g=0-d|0,b[m>>2]=f,b[n>>2]=g,b[c>>2]=0,a=f,d=0):g=0,(0|a)<0&&(d=d-a|0,b[c>>2]=d,g=g-a|0,b[n>>2]=g,b[m>>2]=0,a=0),h=d-g|0,f=a-g|0,(0|g)<0&&(b[c>>2]=h,b[m>>2]=f,b[n>>2]=0,a=f,d=h,g=0),(0|(f=(0|g)<(0|(f=(0|a)<(0|d)?a:d))?g:f))<=0||(b[c>>2]=d-f,b[m>>2]=a-f,b[n>>2]=g-f)}function Ca(a){var h,c=0,d=0,e=0,f=0,g=0;c=0|b[(a|=0)>>2],d=0|b[(h=a+4|0)>>2],(0|c)<0&&(d=d-c|0,b[h>>2]=d,b[(g=a+8|0)>>2]=(0|b[g>>2])-c,b[a>>2]=0,c=0),(0|d)<0?(c=c-d|0,b[a>>2]=c,f=(0|b[(g=a+8|0)>>2])-d|0,b[g>>2]=f,b[h>>2]=0,d=0):(g=f=a+8|0,f=0|b[f>>2]),(0|f)<0&&(c=c-f|0,b[a>>2]=c,d=d-f|0,b[h>>2]=d,b[g>>2]=0,f=0),(0|(e=(0|f)<(0|(e=(0|d)<(0|c)?d:c))?f:e))<=0||(b[a>>2]=c-e,b[h>>2]=d-e,b[g>>2]=f-e)}function Da(a,c){c|=0;var d,f;f=0|b[(a|=0)+8>>2],d=+((0|b[a+4>>2])-f|0),e[c>>3]=+((0|b[a>>2])-f|0)-.5*d,e[c+8>>3]=.8660254037844386*d}function Ea(a,c,d){a|=0,c|=0,b[(d|=0)>>2]=(0|b[c>>2])+(0|b[a>>2]),b[d+4>>2]=(0|b[c+4>>2])+(0|b[a+4>>2]),b[d+8>>2]=(0|b[c+8>>2])+(0|b[a+8>>2])}function Fa(a,c,d){a|=0,c|=0,b[(d|=0)>>2]=(0|b[a>>2])-(0|b[c>>2]),b[d+4>>2]=(0|b[a+4>>2])-(0|b[c+4>>2]),b[d+8>>2]=(0|b[a+8>>2])-(0|b[c+8>>2])}function Ga(a,c){c|=0;var e,d=0;d=0|B(0|b[(a|=0)>>2],c),b[a>>2]=d,e=0|B(0|b[(d=a+4|0)>>2],c),b[d>>2]=e,c=0|B(0|b[(a=a+8|0)>>2],c),b[a>>2]=c}function Ha(a){var g,h,c=0,d=0,e=0,f=0,i=0;i=(0|(h=0|b[(a|=0)>>2]))<0,a=(a=(d=(0|(f=((g=(0|(e=(0|b[a+4>>2])-(i?h:0)|0))<0)?0-e|0:0)+((0|b[a+8>>2])-(i?h:0))|0))<0)?0:f)-((e=(0|(d=(0|a)<(0|(d=(0|(c=(g?0:e)-(d?f:0)|0))<(0|(f=(i?0:h)-(g?e:0)-(d?f:0)|0))?c:f))?a:d))>0)?d:0)|0,c=c-(e?d:0)|0;a:do{switch(f-(e?d:0)|0){case 0:switch(0|c){case 0:return 0|(i=0==(0|a)?0:1==(0|a)?1:7);case 1:return 0|(i=0==(0|a)?2:1==(0|a)?3:7);default:break a}case 1:switch(0|c){case 0:return 0|(i=0==(0|a)?4:1==(0|a)?5:7);case 1:if(a)break a;return 0|(a=6);default:break a}}}while(0);return 0|(i=7)}function Ia(a){var h,i,c=0,d=0,e=0,f=0,g=0;d=0|b[(h=(a|=0)+8|0)>>2],e=0|Vc(+((3*(c=(0|b[a>>2])-d|0)|0)-(d=(0|b[(i=a+4|0)>>2])-d|0)|0)/7),b[a>>2]=e,c=0|Vc(+((d<<1)+c|0)/7),b[i>>2]=c,b[h>>2]=0,d=c-e|0,(0|e)<0?(g=0-e|0,b[i>>2]=d,b[h>>2]=g,b[a>>2]=0,c=d,e=0,d=g):d=0,(0|c)<0&&(e=e-c|0,b[a>>2]=e,d=d-c|0,b[h>>2]=d,b[i>>2]=0,c=0),g=e-d|0,f=c-d|0,(0|d)<0?(b[a>>2]=g,b[i>>2]=f,b[h>>2]=0,c=f,f=g,d=0):f=e,(0|(e=(0|d)<(0|(e=(0|c)<(0|f)?c:f))?d:e))<=0||(b[a>>2]=f-e,b[i>>2]=c-e,b[h>>2]=d-e)}function Ja(a){var h,i,c=0,d=0,e=0,f=0,g=0;d=0|b[(h=(a|=0)+8|0)>>2],e=0|Vc(+(((c=(0|b[a>>2])-d|0)<<1)+(d=(0|b[(i=a+4|0)>>2])-d|0)|0)/7),b[a>>2]=e,c=0|Vc(+((3*d|0)-c|0)/7),b[i>>2]=c,b[h>>2]=0,d=c-e|0,(0|e)<0?(g=0-e|0,b[i>>2]=d,b[h>>2]=g,b[a>>2]=0,c=d,e=0,d=g):d=0,(0|c)<0&&(e=e-c|0,b[a>>2]=e,d=d-c|0,b[h>>2]=d,b[i>>2]=0,c=0),g=e-d|0,f=c-d|0,(0|d)<0?(b[a>>2]=g,b[i>>2]=f,b[h>>2]=0,c=f,f=g,d=0):f=e,(0|(e=(0|d)<(0|(e=(0|c)<(0|f)?c:f))?d:e))<=0||(b[a>>2]=f-e,b[i>>2]=c-e,b[h>>2]=d-e)}function Ka(a){var g,h,i,c=0,d=0,e=0,f=0;c=0|b[(a|=0)>>2],d=0|b[(h=a+4|0)>>2],e=0|b[(i=a+8|0)>>2],f=d+(3*c|0)|0,b[a>>2]=f,d=e+(3*d|0)|0,b[h>>2]=d,c=(3*e|0)+c|0,b[i>>2]=c,e=d-f|0,(0|f)<0?(c=c-f|0,b[h>>2]=e,b[i>>2]=c,b[a>>2]=0,d=e,e=0):e=f,(0|d)<0&&(e=e-d|0,b[a>>2]=e,c=c-d|0,b[i>>2]=c,b[h>>2]=0,d=0),g=e-c|0,f=d-c|0,(0|c)<0?(b[a>>2]=g,b[h>>2]=f,b[i>>2]=0,e=g,c=0):f=d,(0|(d=(0|c)<(0|(d=(0|f)<(0|e)?f:e))?c:d))<=0||(b[a>>2]=e-d,b[h>>2]=f-d,b[i>>2]=c-d)}function La(a){var g,h,i,c=0,d=0,e=0,f=0;f=0|b[(a|=0)>>2],e=(3*(c=0|b[(h=a+4|0)>>2])|0)+f|0,f=(d=0|b[(i=a+8|0)>>2])+(3*f|0)|0,b[a>>2]=f,b[h>>2]=e,c=(3*d|0)+c|0,b[i>>2]=c,d=e-f|0,(0|f)<0?(c=c-f|0,b[h>>2]=d,b[i>>2]=c,b[a>>2]=0,f=0):d=e,(0|d)<0&&(f=f-d|0,b[a>>2]=f,c=c-d|0,b[i>>2]=c,b[h>>2]=0,d=0),g=f-c|0,e=d-c|0,(0|c)<0?(b[a>>2]=g,b[h>>2]=e,b[i>>2]=0,f=g,c=0):e=d,(0|(d=(0|c)<(0|(d=(0|e)<(0|f)?e:f))?c:d))<=0||(b[a>>2]=f-d,b[h>>2]=e-d,b[i>>2]=c-d)}function Ma(a,c){a|=0;var g,h,i,d=0,e=0,f=0;((c|=0)+-1|0)>>>0>=6||(f=(0|b[15472+(12*c|0)>>2])+(0|b[a>>2])|0,b[a>>2]=f,i=a+4|0,e=(0|b[15472+(12*c|0)+4>>2])+(0|b[i>>2])|0,b[i>>2]=e,h=a+8|0,c=(0|b[15472+(12*c|0)+8>>2])+(0|b[h>>2])|0,b[h>>2]=c,d=e-f|0,(0|f)<0?(c=c-f|0,b[i>>2]=d,b[h>>2]=c,b[a>>2]=0,e=0):(d=e,e=f),(0|d)<0&&(e=e-d|0,b[a>>2]=e,c=c-d|0,b[h>>2]=c,b[i>>2]=0,d=0),g=e-c|0,f=d-c|0,(0|c)<0?(b[a>>2]=g,b[i>>2]=f,b[h>>2]=0,e=g,c=0):f=d,(0|(d=(0|c)<(0|(d=(0|f)<(0|e)?f:e))?c:d))<=0||(b[a>>2]=e-d,b[i>>2]=f-d,b[h>>2]=c-d))}function Na(a){var g,h,i,c=0,d=0,e=0,f=0;f=0|b[(a|=0)>>2],e=(c=0|b[(h=a+4|0)>>2])+f|0,f=(d=0|b[(i=a+8|0)>>2])+f|0,b[a>>2]=f,b[h>>2]=e,c=d+c|0,b[i>>2]=c,d=e-f|0,(0|f)<0?(c=c-f|0,b[h>>2]=d,b[i>>2]=c,b[a>>2]=0,e=0):(d=e,e=f),(0|d)<0&&(e=e-d|0,b[a>>2]=e,c=c-d|0,b[i>>2]=c,b[h>>2]=0,d=0),g=e-c|0,f=d-c|0,(0|c)<0?(b[a>>2]=g,b[h>>2]=f,b[i>>2]=0,e=g,c=0):f=d,(0|(d=(0|c)<(0|(d=(0|f)<(0|e)?f:e))?c:d))<=0||(b[a>>2]=e-d,b[h>>2]=f-d,b[i>>2]=c-d)}function Oa(a){var g,h,i,c=0,d=0,e=0,f=0;c=0|b[(a|=0)>>2],e=0|b[(h=a+4|0)>>2],d=0|b[(i=a+8|0)>>2],f=e+c|0,b[a>>2]=f,e=d+e|0,b[h>>2]=e,c=d+c|0,b[i>>2]=c,d=e-f|0,(0|f)<0?(c=c-f|0,b[h>>2]=d,b[i>>2]=c,b[a>>2]=0,e=0):(d=e,e=f),(0|d)<0&&(e=e-d|0,b[a>>2]=e,c=c-d|0,b[i>>2]=c,b[h>>2]=0,d=0),g=e-c|0,f=d-c|0,(0|c)<0?(b[a>>2]=g,b[h>>2]=f,b[i>>2]=0,e=g,c=0):f=d,(0|(d=(0|c)<(0|(d=(0|f)<(0|e)?f:e))?c:d))<=0||(b[a>>2]=e-d,b[h>>2]=f-d,b[i>>2]=c-d)}function Pa(a){switch(0|(a|=0)){case 1:a=5;break;case 5:a=4;break;case 4:a=6;break;case 6:a=2;break;case 2:a=3;break;case 3:a=1}return 0|a}function Qa(a){switch(0|(a|=0)){case 1:a=3;break;case 3:a=2;break;case 2:a=6;break;case 6:a=4;break;case 4:a=5;break;case 5:a=1}return 0|a}function Ra(a){var g,h,i,c=0,d=0,e=0,f=0;c=0|b[(a|=0)>>2],d=0|b[(h=a+4|0)>>2],e=0|b[(i=a+8|0)>>2],f=d+(c<<1)|0,b[a>>2]=f,d=e+(d<<1)|0,b[h>>2]=d,c=(e<<1)+c|0,b[i>>2]=c,e=d-f|0,(0|f)<0?(c=c-f|0,b[h>>2]=e,b[i>>2]=c,b[a>>2]=0,d=e,e=0):e=f,(0|d)<0&&(e=e-d|0,b[a>>2]=e,c=c-d|0,b[i>>2]=c,b[h>>2]=0,d=0),g=e-c|0,f=d-c|0,(0|c)<0?(b[a>>2]=g,b[h>>2]=f,b[i>>2]=0,e=g,c=0):f=d,(0|(d=(0|c)<(0|(d=(0|f)<(0|e)?f:e))?c:d))<=0||(b[a>>2]=e-d,b[h>>2]=f-d,b[i>>2]=c-d)}function Sa(a){var g,h,i,c=0,d=0,e=0,f=0;f=0|b[(a|=0)>>2],e=((c=0|b[(h=a+4|0)>>2])<<1)+f|0,f=(d=0|b[(i=a+8|0)>>2])+(f<<1)|0,b[a>>2]=f,b[h>>2]=e,c=(d<<1)+c|0,b[i>>2]=c,d=e-f|0,(0|f)<0?(c=c-f|0,b[h>>2]=d,b[i>>2]=c,b[a>>2]=0,f=0):d=e,(0|d)<0&&(f=f-d|0,b[a>>2]=f,c=c-d|0,b[i>>2]=c,b[h>>2]=0,d=0),g=f-c|0,e=d-c|0,(0|c)<0?(b[a>>2]=g,b[h>>2]=e,b[i>>2]=0,f=g,c=0):e=d,(0|(d=(0|c)<(0|(d=(0|e)<(0|f)?e:f))?c:d))<=0||(b[a>>2]=f-d,b[h>>2]=e-d,b[i>>2]=c-d)}function Ta(a,c){c|=0;var g,h,i,d=0,e=0,f=0;return i=(0|(h=(0|b[(a|=0)>>2])-(0|b[c>>2])|0))<0,g=(0|(e=(0|b[a+4>>2])-(0|b[c+4>>2])-(i?h:0)|0))<0,c=(c=(a=(0|(f=(i?0-h|0:0)+(0|b[a+8>>2])-(0|b[c+8>>2])+(g?0-e|0:0)|0))<0)?0:f)-((e=(0|(a=(0|c)<(0|(a=(0|(d=(g?0:e)-(a?f:0)|0))<(0|(f=(i?0:h)-(g?e:0)-(a?f:0)|0))?d:f))?c:a))>0)?a:0)|0,d=d-(e?a:0)|0,0|((0|(a=(0|(a=f-(e?a:0)|0))>-1?a:0-a|0))>(0|(c=(0|(d=(0|d)>-1?d:0-d|0))>(0|(c=(0|c)>-1?c:0-c|0))?d:c))?a:c)}function Ua(a,c){c|=0;var d;d=0|b[(a|=0)+8>>2],b[c>>2]=(0|b[a>>2])-d,b[c+4>>2]=(0|b[a+4>>2])-d}function Va(a,c){c|=0;var g,h,i,d=0,e=0,f=0;e=0|b[(a|=0)>>2],b[c>>2]=e,a=0|b[a+4>>2],b[(h=c+4|0)>>2]=a,b[(i=c+8|0)>>2]=0,d=a-e|0,(0|e)<0?(a=0-e|0,b[h>>2]=d,b[i>>2]=a,b[c>>2]=0,e=0):(d=a,a=0),(0|d)<0&&(e=e-d|0,b[c>>2]=e,a=a-d|0,b[i>>2]=a,b[h>>2]=0,d=0),g=e-a|0,f=d-a|0,(0|a)<0?(b[c>>2]=g,b[h>>2]=f,b[i>>2]=0,d=f,f=g,a=0):f=e,(0|(e=(0|a)<(0|(e=(0|d)<(0|f)?d:f))?a:e))<=0||(b[c>>2]=f-e,b[h>>2]=d-e,b[i>>2]=a-e)}function Wa(a){var c,d,e,f;d=(f=0|b[(c=(a|=0)+8|0)>>2])-(0|b[a>>2])|0,b[a>>2]=d,a=(0|b[(e=a+4|0)>>2])-f|0,b[e>>2]=a,b[c>>2]=0-(a+d)}function Xa(a){var h,i,c=0,d=0,e=0,f=0,g=0;c=0-(d=0|b[(a|=0)>>2])|0,b[a>>2]=c,b[(h=a+8|0)>>2]=0,f=(e=0|b[(i=a+4|0)>>2])+d|0,(0|d)>0?(b[i>>2]=f,b[h>>2]=d,b[a>>2]=0,c=0,e=f):d=0,(0|e)<0?(g=c-e|0,b[a>>2]=g,d=d-e|0,b[h>>2]=d,b[i>>2]=0,f=g-d|0,c=0-d|0,(0|d)<0?(b[a>>2]=f,b[i>>2]=c,b[h>>2]=0,e=c,d=0):(e=0,f=g)):f=c,(0|(c=(0|d)<(0|(c=(0|e)<(0|f)?e:f))?d:c))<=0||(b[a>>2]=f-c,b[i>>2]=e-c,b[h>>2]=d-c)}function Za(a,c,d,f){c|=0,d|=0,f|=0;var k,g=0,h=0,i=0,j=0;if(k=S,S=S+32|0,function Jc(a,b){a|=0,b|=0;var c=0,d=0,f=0;return c=+e[a>>3],d=+t(+c),c=+u(+c),e[b+16>>3]=c,c=+e[a+8>>3],f=d*+t(+c),e[b>>3]=f,c=d*+u(+c),void(e[b+8>>3]=c)}(a|=0,h=k),b[d>>2]=0,g=+Ic(15888,h),(i=+Ic(15912,h))<g&&(b[d>>2]=1,g=i),(i=+Ic(15936,h))<g&&(b[d>>2]=2,g=i),(i=+Ic(15960,h))<g&&(b[d>>2]=3,g=i),(i=+Ic(15984,h))<g&&(b[d>>2]=4,g=i),(i=+Ic(16008,h))<g&&(b[d>>2]=5,g=i),(i=+Ic(16032,h))<g&&(b[d>>2]=6,g=i),(i=+Ic(16056,h))<g&&(b[d>>2]=7,g=i),(i=+Ic(16080,h))<g&&(b[d>>2]=8,g=i),(i=+Ic(16104,h))<g&&(b[d>>2]=9,g=i),(i=+Ic(16128,h))<g&&(b[d>>2]=10,g=i),(i=+Ic(16152,h))<g&&(b[d>>2]=11,g=i),(i=+Ic(16176,h))<g&&(b[d>>2]=12,g=i),(i=+Ic(16200,h))<g&&(b[d>>2]=13,g=i),(i=+Ic(16224,h))<g&&(b[d>>2]=14,g=i),(i=+Ic(16248,h))<g&&(b[d>>2]=15,g=i),(i=+Ic(16272,h))<g&&(b[d>>2]=16,g=i),(i=+Ic(16296,h))<g&&(b[d>>2]=17,g=i),(i=+Ic(16320,h))<g&&(b[d>>2]=18,g=i),(i=+Ic(16344,h))<g&&(b[d>>2]=19,g=i),(i=+w(+(1-.5*g)))<1e-16)return b[f>>2]=0,b[f+4>>2]=0,b[f+8>>2]=0,b[f+12>>2]=0,void(S=k);if(d=0|b[d>>2],g=+gb((g=+e[16368+(24*d|0)>>3])-+gb(+function lb(a,b){a|=0,b|=0;var c=0,d=0,f=0,g=0,h=0;return g=+e[b>>3],d=+t(+g),f=+e[b+8>>3]-+e[a+8>>3],h=d*+u(+f),c=+e[a>>3],+ +z(+h,+(+u(+g)*+t(+c)-+t(+f)*(d*+u(+c))))}(15568+(d<<4)|0,a))),j=0|Rb(c)?+gb(g+-.3334731722518321):g,g=+v(+i)/.381966011250105,(0|c)>0){h=0;do{g*=2.6457513110645907,h=h+1|0}while((0|h)!=(0|c))}i=+t(+j)*g,e[f>>3]=i,j=+u(+j)*g,e[f+8>>3]=j,S=k}function _a(a,c,d,f,g){c|=0,d|=0,f|=0,g|=0;var h=0,i=0;if(h=+function Fc(a){a|=0;var b=0,c=0;return c=+e[a>>3],b=+e[a+8>>3],+ +r(+(c*c+b*b))}(a|=0),h<1e-16)return c=15568+(c<<4)|0,b[g>>2]=b[c>>2],b[g+4>>2]=b[c+4>>2],b[g+8>>2]=b[c+8>>2],void(b[g+12>>2]=b[c+12>>2]);if(i=+z(+ +e[a+8>>3],+ +e[a>>3]),(0|d)>0){a=0;do{h/=2.6457513110645907,a=a+1|0}while((0|a)!=(0|d))}f?(h/=3,d=0==(0|Rb(d)),h=+y(.381966011250105*(d?h:h/2.6457513110645907))):(h=+y(.381966011250105*h),0|Rb(d)&&(i=+gb(i+.3334731722518321))),function mb(a,c,d,f){a|=0,c=+c,d=+d,f|=0;var g=0,h=0,i=0,j=0;if(d<1e-16)return b[f>>2]=b[a>>2],b[f+4>>2]=b[a+4>>2],b[f+8>>2]=b[a+8>>2],void(b[f+12>>2]=b[a+12>>2]);h=c<0?c+6.283185307179586:c,h=c>=6.283185307179586?h+-6.283185307179586:h;do{if(!(h<1e-16)){if(g=+q(+(h+-3.141592653589793))<1e-16,c=+e[a>>3],g){c-=d,e[f>>3]=c,g=f;break}if(i=+t(+d),d=+u(+d),c=i*+u(+c)+ +t(+h)*(d*+t(+c)),c=+x(+((c=c>1?1:c)<-1?-1:c)),e[f>>3]=c,+q(+(c+-1.5707963267948966))<1e-16)return e[f>>3]=1.5707963267948966,void(e[f+8>>3]=0);if(+q(+(c+1.5707963267948966))<1e-16)return e[f>>3]=-1.5707963267948966,void(e[f+8>>3]=0);if(j=+t(+c),h=d*+u(+h)/j,d=+e[a>>3],c=(i-+u(+c)*+u(+d))/+t(+d)/j,i=h>1?1:h,c=c>1?1:c,(c=+e[a+8>>3]+ +z(+(i<-1?-1:i),+(c<-1?-1:c)))>3.141592653589793)do{c+=-6.283185307179586}while(c>3.141592653589793);if(c<-3.141592653589793)do{c+=6.283185307179586}while(c<-3.141592653589793);return void(e[f+8>>3]=c)}c=+e[a>>3]+d,e[f>>3]=c,g=f}while(0);if(+q(+(c+-1.5707963267948966))<1e-16)return e[g>>3]=1.5707963267948966,void(e[f+8>>3]=0);if(+q(+(c+1.5707963267948966))<1e-16)return e[g>>3]=-1.5707963267948966,void(e[f+8>>3]=0);if(c=+e[a+8>>3],c>3.141592653589793)do{c+=-6.283185307179586}while(c>3.141592653589793);if(c<-3.141592653589793)do{c+=6.283185307179586}while(c<-3.141592653589793);return void(e[f+8>>3]=c)}(15568+(c<<4)|0,+gb(+e[16368+(24*c|0)>>3]-i),h,g)}function $a(a,c,d){c|=0,d|=0;var e,f;e=S,S=S+16|0,Da((a|=0)+4|0,f=e),_a(f,0|b[a>>2],c,0,d),S=e}function ab(a,c,d,f,g){a|=0,c|=0,d|=0,f|=0,g|=0;var k,l,m,n,o,p,q,r,s,t,v,w,x,y,z,A,B,C,D,E,F,G,h=0,i=0,j=0,u=0,I=0,J=0;if(G=S,S=S+272|0,u=G+240|0,D=G,E=G+224|0,F=G+208|0,v=G+176|0,w=G+160|0,x=G+192|0,y=G+144|0,z=G+128|0,A=G+112|0,B=G+96|0,C=G+80|0,b[(h=G+256|0)>>2]=c,b[u>>2]=b[a>>2],b[u+4>>2]=b[a+4>>2],b[u+8>>2]=b[a+8>>2],b[u+12>>2]=b[a+12>>2],bb(u,h,D),b[g>>2]=0,(0|(u=f+d+(5==(0|f)&1)|0))<=(0|d))S=G;else{l=E+4|0,m=v+4|0,n=d+5|0,o=16848+((k=0|b[h>>2])<<2)|0,p=16928+(k<<2)|0,q=z+8|0,r=A+8|0,s=B+8|0,t=F+4|0,j=d;a:for(;;){i=D+(((0|j)%5|0)<<4)|0,b[F>>2]=b[i>>2],b[F+4>>2]=b[i+4>>2],b[F+8>>2]=b[i+8>>2],b[F+12>>2]=b[i+12>>2];do{}while(2==(0|cb(F,k,0,1)));if((0|j)>(0|d)&0!=(0|Rb(c))){if(b[v>>2]=b[F>>2],b[v+4>>2]=b[F+4>>2],b[v+8>>2]=b[F+8>>2],b[v+12>>2]=b[F+12>>2],Da(l,w),f=0|b[v>>2],h=0|b[17008+(80*f|0)+(b[E>>2]<<2)>>2],b[v>>2]=b[18608+(80*f|0)+(20*h|0)>>2],(0|(i=0|b[18608+(80*f|0)+(20*h|0)+16>>2]))>0){a=0;do{Na(m),a=a+1|0}while((0|a)<(0|i))}switch(i=18608+(80*f|0)+(20*h|0)+4|0,b[x>>2]=b[i>>2],b[x+4>>2]=b[i+4>>2],b[x+8>>2]=b[i+8>>2],Ga(x,3*(0|b[o>>2])|0),Ea(m,x,m),Ca(m),Da(m,y),I=+(0|b[p>>2]),e[z>>3]=3*I,e[q>>3]=0,J=-1.5*I,e[A>>3]=J,e[r>>3]=2.598076211353316*I,e[B>>3]=J,e[s>>3]=-2.598076211353316*I,0|b[17008+(80*(0|b[v>>2])|0)+(b[F>>2]<<2)>>2]){case 1:a=A,f=z;break;case 3:a=B,f=A;break;case 2:a=z,f=B;break;default:a=12;break a}Gc(w,y,f,a,C),_a(C,0|b[v>>2],k,1,g+8+(b[g>>2]<<4)|0),b[g>>2]=1+(0|b[g>>2])}if((0|j)<(0|n)&&(Da(t,v),_a(v,0|b[F>>2],k,1,g+8+(b[g>>2]<<4)|0),b[g>>2]=1+(0|b[g>>2])),b[E>>2]=b[F>>2],b[E+4>>2]=b[F+4>>2],b[E+8>>2]=b[F+8>>2],b[E+12>>2]=b[F+12>>2],(0|(j=j+1|0))>=(0|u)){a=3;break}}3!=(0|a)?12==(0|a)&&H(22474,22521,581,22531):S=G}}function bb(a,c,d){a|=0,c|=0,d|=0;var j,e=0,f=0,g=0,h=0,i=0;j=S,S=S+128|0,f=j,h=20208,i=(g=e=j+64|0)+60|0;do{b[g>>2]=b[h>>2],g=g+4|0,h=h+4|0}while((0|g)<(0|i));h=20272,i=(g=f)+60|0;do{b[g>>2]=b[h>>2],g=g+4|0,h=h+4|0}while((0|g)<(0|i));e=(i=0==(0|Rb(0|b[c>>2])))?e:f,Ra(f=a+4|0),Sa(f),0|Rb(0|b[c>>2])&&(La(f),b[c>>2]=1+(0|b[c>>2])),b[d>>2]=b[a>>2],Ea(f,e,c=d+4|0),Ca(c),b[d+16>>2]=b[a>>2],Ea(f,e+12|0,c=d+20|0),Ca(c),b[d+32>>2]=b[a>>2],Ea(f,e+24|0,c=d+36|0),Ca(c),b[d+48>>2]=b[a>>2],Ea(f,e+36|0,c=d+52|0),Ca(c),b[d+64>>2]=b[a>>2],Ea(f,e+48|0,d=d+68|0),Ca(d),S=j}function cb(a,c,d,e){d|=0,e|=0;var h,i,k,l,n,p,f=0,g=0,j=0,m=0,o=0;if(p=S,S=S+32|0,n=p+12|0,i=p,o=(a|=0)+4|0,m=0|b[16928+((c|=0)<<2)>>2],m=(l=0!=(0|e))?3*m|0:m,f=0|b[o>>2],h=0|b[(k=a+8|0)>>2],l){if((0|(f=h+f+(e=0|b[(g=a+12|0)>>2])|0))==(0|m))return S=p,0|(o=1);j=g}else f=h+f+(e=0|b[(j=a+12|0)>>2])|0;if((0|f)<=(0|m))return S=p,0|(o=0);do{if((0|e)>0){if(e=0|b[a>>2],(0|h)>0){g=18608+(80*e|0)+60|0,e=a;break}e=18608+(80*e|0)+40|0,d?(Aa(n,m,0,0),Fa(o,n,i),Oa(i),Ea(i,n,o),g=e,e=a):(g=e,e=a)}else g=18608+(80*(0|b[a>>2])|0)+20|0,e=a}while(0);if(b[e>>2]=b[g>>2],(0|b[(f=g+16|0)>>2])>0){e=0;do{Na(o),e=e+1|0}while((0|e)<(0|b[f>>2]))}return a=g+4|0,b[n>>2]=b[a>>2],b[n+4>>2]=b[a+4>>2],b[n+8>>2]=b[a+8>>2],c=0|b[16848+(c<<2)>>2],Ga(n,l?3*c|0:c),Ea(o,n,o),Ca(o),e=l&&((0|b[k>>2])+(0|b[o>>2])+(0|b[j>>2])|0)==(0|m)?1:2,S=p,0|(o=e)}function db(a,b){a|=0,b|=0;var c=0;do{c=0|cb(a,b,0,1)}while(2==(0|c));return 0|c}function eb(a,c,d,f,g){a|=0,c|=0,d|=0,f|=0,g|=0;var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,h=0,i=0,j=0,C=0,D=0;if(B=S,S=S+240|0,x=B+208|0,y=B,z=B+192|0,A=B+176|0,s=B+160|0,t=B+144|0,u=B+128|0,v=B+112|0,w=B+96|0,b[(h=B+224|0)>>2]=c,b[x>>2]=b[a>>2],b[x+4>>2]=b[a+4>>2],b[x+8>>2]=b[a+8>>2],b[x+12>>2]=b[a+12>>2],fb(x,h,y),b[g>>2]=0,(0|(r=f+d+(6==(0|f)&1)|0))<=(0|d))S=B;else{l=d+6|0,m=16928+((k=0|b[h>>2])<<2)|0,n=t+8|0,o=u+8|0,p=v+8|0,q=z+4|0,i=0,j=d,f=-1;a:for(;;){if(a=y+((h=(0|j)%6|0)<<4)|0,b[z>>2]=b[a>>2],b[z+4>>2]=b[a+4>>2],b[z+8>>2]=b[a+8>>2],b[z+12>>2]=b[a+12>>2],a=i,i=0|cb(z,k,0,1),(0|j)>(0|d)&0!=(0|Rb(c))&&(1!=(0|a)&&(0|b[z>>2])!=(0|f))){switch(Da(y+(((h+5|0)%6|0)<<4)+4|0,A),Da(y+(h<<4)+4|0,s),C=+(0|b[m>>2]),e[t>>3]=3*C,e[n>>3]=0,D=-1.5*C,e[u>>3]=D,e[o>>3]=2.598076211353316*C,e[v>>3]=D,e[p>>3]=-2.598076211353316*C,h=0|b[x>>2],0|b[17008+(80*h|0)+(((0|f)==(0|h)?0|b[z>>2]:f)<<2)>>2]){case 1:a=u,f=t;break;case 3:a=v,f=u;break;case 2:a=t,f=v;break;default:a=8;break a}Gc(A,s,f,a,w),0|Hc(A,w)||0|Hc(s,w)||(_a(w,0|b[x>>2],k,1,g+8+(b[g>>2]<<4)|0),b[g>>2]=1+(0|b[g>>2]))}if((0|j)<(0|l)&&(Da(q,A),_a(A,0|b[z>>2],k,1,g+8+(b[g>>2]<<4)|0),b[g>>2]=1+(0|b[g>>2])),(0|(j=j+1|0))>=(0|r)){a=3;break}f=0|b[z>>2]}3!=(0|a)?8==(0|a)&&H(22557,22521,746,22602):S=B}}function fb(a,c,d){a|=0,c|=0,d|=0;var j,e=0,f=0,g=0,h=0,i=0;j=S,S=S+160|0,f=j,h=20336,i=(g=e=j+80|0)+72|0;do{b[g>>2]=b[h>>2],g=g+4|0,h=h+4|0}while((0|g)<(0|i));h=20416,i=(g=f)+72|0;do{b[g>>2]=b[h>>2],g=g+4|0,h=h+4|0}while((0|g)<(0|i));e=(i=0==(0|Rb(0|b[c>>2])))?e:f,Ra(f=a+4|0),Sa(f),0|Rb(0|b[c>>2])&&(La(f),b[c>>2]=1+(0|b[c>>2])),b[d>>2]=b[a>>2],Ea(f,e,c=d+4|0),Ca(c),b[d+16>>2]=b[a>>2],Ea(f,e+12|0,c=d+20|0),Ca(c),b[d+32>>2]=b[a>>2],Ea(f,e+24|0,c=d+36|0),Ca(c),b[d+48>>2]=b[a>>2],Ea(f,e+36|0,c=d+52|0),Ca(c),b[d+64>>2]=b[a>>2],Ea(f,e+48|0,c=d+68|0),Ca(c),b[d+80>>2]=b[a>>2],Ea(f,e+60|0,d=d+84|0),Ca(d),S=j}function gb(a){var b;return b=(a=+a)<0?a+6.283185307179586:a,+(a>=6.283185307179586?b+-6.283185307179586:b)}function hb(a,b){return b|=0,+q(+(+e[(a|=0)>>3]-+e[b>>3]))<17453292519943298e-27?0|(b=+q(+(+e[a+8>>3]-+e[b+8>>3]))<17453292519943298e-27):0|(b=0)}function jb(a,b){a|=0;var d,f,g,c=0;return f=+e[(b|=0)>>3],d=+e[a>>3],c=(g=+u(.5*(f-d)))*g+(c=+u(.5*(+e[b+8>>3]-+e[a+8>>3])))*(+t(+f)*+t(+d)*c),2*+z(+ +r(+c),+ +r(+(1-c)))*6371.007180918475}function sb(a,b,c){a|=0,c|=0;var i,k,l,m,d=0,f=0,g=0,h=0,j=0,n=0;return n=+e[(b|=0)>>3],l=+e[a>>3],j=+u(.5*(n-l)),g=+e[b+8>>3],k=+e[a+8>>3],h=+u(.5*(g-k)),i=+t(+l),m=+t(+n),h=2*+z(+ +r(+(h=j*j+h*(m*i*h))),+ +r(+(1-h))),j=+e[c>>3],n=+u(.5*(j-n)),d=+e[c+8>>3],g=+u(.5*(d-g)),f=+t(+j),g=2*+z(+ +r(+(g=n*n+g*(m*f*g))),+ +r(+(1-g))),j=+u(.5*(l-j)),d=+u(.5*(k-d)),d=2*+z(+ +r(+(d=j*j+d*(i*f*d))),+ +r(+(1-d))),4*+y(+ +r(+ +v(.5*(f=.5*(h+g+d)))*+v(.5*(f-h))*+v(.5*(f-g))*+v(.5*(f-d))))}function Ab(a,b){return b=0|cd(0|(a|=0),0|(b|=0),45),G(),127&b|0}function Bb(a,b){var c=0,d=0,e=0,f=0,g=0,h=0;if(!(!0&134217728==(-16777216&(b|=0)|0)))return 0|(b=0);if(g=0|cd(0|(a|=0),0|b,45),G(),(g&=127)>>>0>121)return 0|(b=0);c=0|cd(0|a,0|b,52),G(),c&=15;do{if(0|c){for(e=1,d=0;;){if(f=0|cd(0|a,0|b,3*(15-e|0)|0),G(),0!=(0|(f&=7))&(1^d)){if(1==(0|f)&0!=(0|la(g))){h=0,d=13;break}d=1}if(7==(0|f)){h=0,d=13;break}if(!(e>>>0<c>>>0)){d=9;break}e=e+1|0}if(9==(0|d)){if(15!=(0|c))break;return 0|(h=1)}if(13==(0|d))return 0|h}}while(0);for(;;){if(h=0|cd(0|a,0|b,3*(14-c|0)|0),G(),!(7==(7&h|0)&!0)){h=0,d=13;break}if(!(c>>>0<14)){h=1,d=13;break}c=c+1|0}return 13==(0|d)?0|h:0}function Cb(a,b,c){c|=0;var d=0,e=0;if(d=0|cd(0|(a|=0),0|(b|=0),52),G(),(0|(d&=15))>=(0|c)){if((0|d)!=(0|c))if(c>>>0<=15){if(a|=e=0|dd(0|c,0,52),b=0|G()|-15728641&b,(0|d)>(0|c))do{e=0|dd(7,0,3*(14-c|0)|0),c=c+1|0,a|=e,b=0|G()|b}while((0|c)<(0|d))}else b=0,a=0}else b=0,a=0;return F(0|b),0|a}function Eb(a,c,d,e){d|=0,e|=0;var k,f=0,g=0,h=0,i=0,j=0,l=0;if(h=0|cd(0|(a|=0),0|(c|=0),52),G(),(0|d)<16&(0|(h&=15))<=(0|d)){if((0|h)==(0|d))return b[(d=e)>>2]=a,void(b[d+4>>2]=c);if(k=(0|(j=0|tc(7,d-h|0)))/7|0,i=0|cd(0|a,0|c,45),G(),0|la(127&i)){a:do{if(h)for(g=1;;){if(f=0|cd(0|a,0|c,3*(15-g|0)|0),G(),0|(f&=7))break a;if(!(g>>>0<h>>>0)){f=0;break}g=g+1|0}else f=0}while(0);g=0==(0|f)}else g=0;if(l=0|dd(h+1|0,0,52),f=0|G()|-15728641&c,Eb(c=(l|a)&~(c=0|dd(7,0,0|(i=3*(14-h|0)|0))),h=f&~(0|G()),d,e),f=e+(k<<3)|0,!g)return Eb((l=0|dd(1,0,0|i))|c,0|G()|h,d,f),l=f+(k<<3)|0,Eb((j=0|dd(2,0,0|i))|c,0|G()|h,d,l),l=l+(k<<3)|0,Eb((j=0|dd(3,0,0|i))|c,0|G()|h,d,l),l=l+(k<<3)|0,Eb((j=0|dd(4,0,0|i))|c,0|G()|h,d,l),l=l+(k<<3)|0,Eb((j=0|dd(5,0,0|i))|c,0|G()|h,d,l),void Eb((j=0|dd(6,0,0|i))|c,0|G()|h,d,l+(k<<3)|0);g=f+(k<<3)|0,(0|j)>6&&(hd(0|f,0,(l=(g>>>0>(j=f+8|0)>>>0?g:j)+-1+(0-f)|0)+8&-8|0),f=j+(l>>>3<<3)|0),Eb((l=0|dd(2,0,0|i))|c,0|G()|h,d,f),l=f+(k<<3)|0,Eb((j=0|dd(3,0,0|i))|c,0|G()|h,d,l),l=l+(k<<3)|0,Eb((j=0|dd(4,0,0|i))|c,0|G()|h,d,l),l=l+(k<<3)|0,Eb((j=0|dd(5,0,0|i))|c,0|G()|h,d,l),Eb((j=0|dd(6,0,0|i))|c,0|G()|h,d,l+(k<<3)|0)}}function Fb(a,b){var c=0,d=0,e=0;if(e=0|cd(0|(a|=0),0|(b|=0),45),G(),!(0|la(127&e)))return 0|(e=0);e=0|cd(0|a,0|b,52),G(),e&=15;a:do{if(e)for(d=1;;){if(c=0|cd(0|a,0|b,3*(15-d|0)|0),G(),0|(c&=7))break a;if(!(d>>>0<e>>>0)){c=0;break}d=d+1|0}else c=0}while(0);return 0|(e=0==(0|c)&1)}function Lb(a,b){var c=0,d=0,e=0;if(e=0|cd(0|(a|=0),0|(b|=0),52),G(),!(e&=15))return 0|(e=0);for(d=1;;){if(c=0|cd(0|a,0|b,3*(15-d|0)|0),G(),0|(c&=7)){d=5;break}if(!(d>>>0<e>>>0)){c=0,d=5;break}d=d+1|0}return 5==(0|d)?0|c:0}function Mb(a,b){var c=0,d=0,e=0,f=0,g=0,h=0,i=0;if(i=0|cd(0|(a|=0),0|(b|=0),52),G(),!(i&=15))return i=a,F(0|(h=b)),0|i;for(h=1,c=0;;){d=0|dd(7,0,0|(f=3*(15-h|0)|0)),e=0|G(),g=0|cd(0|a,0|b,0|f),G(),a=(f=0|dd(0|Pa(7&g),0,0|f))|a&~d,b=(g=0|G())|b&~e;a:do{if(!c)if(0==(f&d|0)&0==(g&e|0))c=0;else if(d=0|cd(0|a,0|b,52),G(),d&=15){c=1;b:for(;;){switch(g=0|cd(0|a,0|b,3*(15-c|0)|0),G(),7&g){case 1:break b;case 0:break;default:c=1;break a}if(!(c>>>0<d>>>0)){c=1;break a}c=c+1|0}for(c=1;;){if(e=0|cd(0|a,0|b,0|(g=3*(15-c|0)|0)),G(),f=0|dd(7,0,0|g),b&=~(0|G()),a=a&~f|(g=0|dd(0|Pa(7&e),0,0|g)),b=0|b|G(),!(c>>>0<d>>>0)){c=1;break}c=c+1|0}}else c=1}while(0);if(!(h>>>0<i>>>0))break;h=h+1|0}return F(0|b),0|a}function Nb(a,b){var c=0,d=0,e=0,f=0,g=0;if(d=0|cd(0|(a|=0),0|(b|=0),52),G(),!(d&=15))return d=a,F(0|(c=b)),0|d;for(c=1;g=0|cd(0|a,0|b,0|(f=3*(15-c|0)|0)),G(),e=0|dd(7,0,0|f),b&=~(0|G()),a=(f=0|dd(0|Pa(7&g),0,0|f))|a&~e,b=0|G()|b,c>>>0<d>>>0;)c=c+1|0;return F(0|b),0|a}function Ob(a,b){var c=0,d=0,e=0,f=0,g=0,h=0,i=0;if(i=0|cd(0|(a|=0),0|(b|=0),52),G(),!(i&=15))return i=a,F(0|(h=b)),0|i;for(h=1,c=0;;){d=0|dd(7,0,0|(f=3*(15-h|0)|0)),e=0|G(),g=0|cd(0|a,0|b,0|f),G(),a=(f=0|dd(0|Qa(7&g),0,0|f))|a&~d,b=(g=0|G())|b&~e;a:do{if(!c)if(0==(f&d|0)&0==(g&e|0))c=0;else if(d=0|cd(0|a,0|b,52),G(),d&=15){c=1;b:for(;;){switch(g=0|cd(0|a,0|b,3*(15-c|0)|0),G(),7&g){case 1:break b;case 0:break;default:c=1;break a}if(!(c>>>0<d>>>0)){c=1;break a}c=c+1|0}for(c=1;;){if(f=0|dd(7,0,0|(e=3*(15-c|0)|0)),g=b&~(0|G()),b=0|cd(0|a,0|b,0|e),G(),a=a&~f|(b=0|dd(0|Qa(7&b),0,0|e)),b=0|g|G(),!(c>>>0<d>>>0)){c=1;break}c=c+1|0}}else c=1}while(0);if(!(h>>>0<i>>>0))break;h=h+1|0}return F(0|b),0|a}function Pb(a,b){var c=0,d=0,e=0,f=0,g=0;if(d=0|cd(0|(a|=0),0|(b|=0),52),G(),!(d&=15))return d=a,F(0|(c=b)),0|d;for(c=1;f=0|dd(7,0,0|(g=3*(15-c|0)|0)),e=b&~(0|G()),b=0|cd(0|a,0|b,0|g),G(),a=(b=0|dd(0|Qa(7&b),0,0|g))|a&~f,b=0|G()|e,c>>>0<d>>>0;)c=c+1|0;return F(0|b),0|a}function Rb(a){return 0|(0|(a|=0))%2}function Sb(a,c){a|=0;var d,e;return e=S,S=S+16|0,d=e,(c|=0)>>>0<=15&&2146435072!=(2146435072&b[a+4>>2]|0)&&2146435072!=(2146435072&b[a+8+4>>2]|0)?(!function Ya(a,b,c){var d,e;d=S,S=S+16|0,Za(a|=0,b|=0,c|=0,e=d),Ba(e,c+4|0),S=d}(a,c,d),c=0|function Qb(a,c){a|=0;var j,d=0,e=0,f=0,g=0,h=0,i=0,k=0,l=0;if(j=S,S=S+64|0,i=j+40|0,e=j+24|0,f=j+12|0,g=j,dd(0|(c|=0),0,52),d=134225919|G(),!c)return(0|b[a+4>>2])>2||(0|b[a+8>>2])>2||(0|b[a+12>>2])>2?(i=0,F(0|(h=0)),S=j,0|i):(dd(0|na(a),0,45),h=0|G()|d,i=-1,F(0|h),S=j,0|i);if(b[i>>2]=b[a>>2],b[i+4>>2]=b[a+4>>2],b[i+8>>2]=b[a+8>>2],b[i+12>>2]=b[a+12>>2],h=i+4|0,(0|c)>0)for(a=-1;b[e>>2]=b[h>>2],b[e+4>>2]=b[h+4>>2],b[e+8>>2]=b[h+8>>2],1&c?(Ia(h),b[f>>2]=b[h>>2],b[f+4>>2]=b[h+4>>2],b[f+8>>2]=b[h+8>>2],Ka(f)):(Ja(h),b[f>>2]=b[h>>2],b[f+4>>2]=b[h+4>>2],b[f+8>>2]=b[h+8>>2],La(f)),Fa(e,f,g),Ca(g),k=0|dd(7,0,0|(l=3*(15-c|0)|0)),d&=~(0|G()),a=(l=0|dd(0|Ha(g),0,0|l))|a&~k,d=0|G()|d,(0|c)>1;)c=c+-1|0;else a=-1;a:do{if((0|b[h>>2])<=2&&(0|b[i+8>>2])<=2&&(0|b[i+12>>2])<=2){if(c=0|dd(0|(e=0|na(i)),0,45),c|=a,a=0|G()|-1040385&d,g=0|oa(i),!(0|la(e))){if((0|g)<=0)break;for(f=0;;){if(e=0|cd(0|c,0|a,52),G(),e&=15)for(d=1;i=0|cd(0|c,0|a,0|(l=3*(15-d|0)|0)),G(),k=0|dd(7,0,0|l),a&=~(0|G()),c=c&~k|(l=0|dd(0|Pa(7&i),0,0|l)),a=0|a|G(),d>>>0<e>>>0;)d=d+1|0;if((0|(f=f+1|0))==(0|g))break a}}f=0|cd(0|c,0|a,52),G(),f&=15;b:do{if(f){d=1;c:for(;;){switch(l=0|cd(0|c,0|a,3*(15-d|0)|0),G(),7&l){case 1:break c;case 0:break;default:break b}if(!(d>>>0<f>>>0))break b;d=d+1|0}if(0|ra(e,0|b[i>>2]))for(d=1;k=0|dd(7,0,0|(i=3*(15-d|0)|0)),l=a&~(0|G()),a=0|cd(0|c,0|a,0|i),G(),c=c&~k|(a=0|dd(0|Qa(7&a),0,0|i)),a=0|l|G(),d>>>0<f>>>0;)d=d+1|0;else for(d=1;i=0|cd(0|c,0|a,0|(l=3*(15-d|0)|0)),G(),k=0|dd(7,0,0|l),a&=~(0|G()),c=c&~k|(l=0|dd(0|Pa(7&i),0,0|l)),a=0|a|G(),d>>>0<f>>>0;)d=d+1|0}}while(0);if((0|g)>0){d=0;do{c=0|Mb(c,a),a=0|G(),d=d+1|0}while((0|d)!=(0|g))}}else c=0,a=0}while(0);return l=c,F(0|(k=a)),S=j,0|l}(d,c),a=0|G()):(a=0,c=0),F(0|a),S=e,0|c}function Tb(a,c,d){var f,e=0,g=0,h=0;if(f=(d|=0)+4|0,g=0|cd(0|(a|=0),0|(c|=0),52),G(),g&=15,h=0|cd(0|a,0|c,45),G(),e=0==(0|g),0|la(127&h)){if(e)return 0|(h=1);e=1}else{if(e)return 0|(h=0);e=0==(0|b[f>>2])&&0==(0|b[d+8>>2])?0!=(0|b[d+12>>2])&1:1}for(d=1;1&d?Ka(f):La(f),h=0|cd(0|a,0|c,3*(15-d|0)|0),G(),Ma(f,7&h),d>>>0<g>>>0;)d=d+1|0;return 0|e}function Ub(a,c,d){d|=0;var j,l,e=0,f=0,g=0,h=0,i=0,k=0;l=S,S=S+16|0,j=l,k=0|cd(0|(a|=0),0|(c|=0),45),G(),k&=127;a:do{if(0!=(0|la(k))&&(g=0|cd(0|a,0|c,52),G(),0!=(0|(g&=15)))){e=1;b:for(;;){switch(i=0|cd(0|a,0|c,3*(15-e|0)|0),G(),7&i){case 5:break b;case 0:break;default:e=c;break a}if(!(e>>>0<g>>>0)){e=c;break a}e=e+1|0}for(f=1,e=c;h=0|dd(7,0,0|(c=3*(15-f|0)|0)),i=e&~(0|G()),e=0|cd(0|a,0|e,0|c),G(),a=a&~h|(e=0|dd(0|Qa(7&e),0,0|c)),e=0|i|G(),f>>>0<g>>>0;)f=f+1|0}else e=c}while(0);if(i=7728+(28*k|0)|0,b[d>>2]=b[i>>2],b[d+4>>2]=b[i+4>>2],b[d+8>>2]=b[i+8>>2],b[d+12>>2]=b[i+12>>2],0|Tb(a,e,d)){if(h=d+4|0,b[j>>2]=b[h>>2],b[j+4>>2]=b[h+4>>2],b[j+8>>2]=b[h+8>>2],g=0|cd(0|a,0|e,52),G(),i=15&g,1&g?(La(h),g=i+1|0):g=i,0|la(k)){c:do{if(i)for(c=1;;){if(f=0|cd(0|a,0|e,3*(15-c|0)|0),G(),0|(f&=7)){e=f;break c}if(!(c>>>0<i>>>0)){e=0;break}c=c+1|0}else e=0}while(0);e=4==(0|e)&1}else e=0;if(0|cb(d,g,e,0)){if(0|la(k))do{}while(0!=(0|cb(d,g,0,0)));(0|g)!=(0|i)&&Ja(h)}else(0|g)!=(0|i)&&(b[h>>2]=b[j>>2],b[h+4>>2]=b[j+4>>2],b[h+8>>2]=b[j+8>>2]);S=l}else S=l}function Vb(a,b,c){c|=0;var d,e;d=S,S=S+16|0,Ub(a|=0,b|=0,e=d),b=0|cd(0|a,0|b,52),G(),$a(e,15&b,c),S=d}function Wb(a,b,c){c|=0;var f,g,d=0,e=0;g=S,S=S+16|0,Ub(a|=0,b|=0,f=g),d=0|cd(0|a,0|b,45),G(),d=0==(0|la(127&d)),e=0|cd(0|a,0|b,52),G(),e&=15;a:do{if(!d){if(0|e)for(d=1;;){if(!(0==((0|dd(7,0,3*(15-d|0)|0))&a|0)&0==((0|G())&b|0)))break a;if(!(d>>>0<e>>>0))break;d=d+1|0}return ab(f,e,0,5,c),void(S=g)}}while(0);eb(f,e,0,6,c),S=g}function _b(a,c){c|=0;var i,d=0,e=0,f=0,g=0,h=0,j=0;if(dd(0|(a|=0),0,52),i=134225919|G(),(0|a)<1){e=0,d=0;do{0|la(e)&&(dd(0|e,0,45),h=0|i|G(),b[(a=c+(d<<3)|0)>>2]=-1,b[a+4>>2]=h,d=d+1|0),e=e+1|0}while(122!=(0|e))}else{h=0,d=0;do{if(0|la(h)){for(dd(0|h,0,45),e=1,f=-1,g=0|i|G();f&=~(j=0|dd(7,0,3*(15-e|0)|0)),g&=~(0|G()),(0|e)!=(0|a);)e=e+1|0;b[(j=c+(d<<3)|0)>>2]=f,b[j+4>>2]=g,d=d+1|0}h=h+1|0}while(122!=(0|h))}}function $b(a,c,d,e){var i,f=0,g=0,h=0,j=0,k=0;if(i=S,S=S+64|0,h=i,(0|(a|=0))==(0|(d|=0))&(0|(c|=0))==(0|(e|=0))|!1|134217728!=(2013265920&c|0)|!1|134217728!=(2013265920&e|0))return S=i,0|(h=0);if(f=0|cd(0|a,0|c,52),G(),f&=15,g=0|cd(0|d,0|e,52),G(),(0|f)!=(15&g|0))return S=i,0|(h=0);if(g=f+-1|0,f>>>0>1&&(k=0|Cb(a,c,g),j=0|G(),(0|k)==(0|(g=0|Cb(d,e,g)))&(0|j)==(0|G()))){if(f=0|cd(0|a,0|c,0|(g=3*(15^f)|0)),G(),f&=7,g=0|cd(0|d,0|e,0|g),G(),0==(0|f)|0==(0|(g&=7)))return S=i,0|(k=1);if((0|b[21136+(f<<2)>>2])==(0|g))return S=i,0|(k=1);if((0|b[21168+(f<<2)>>2])==(0|g))return S=i,0|(k=1)}g=(f=h)+56|0;do{b[f>>2]=0,f=f+4|0}while((0|f)<(0|g));return $(a,c,1,h),f=(0|b[(k=h)>>2])==(0|d)&&(0|b[k+4>>2])==(0|e)||(0|b[(k=h+8|0)>>2])==(0|d)&&(0|b[k+4>>2])==(0|e)||(0|b[(k=h+16|0)>>2])==(0|d)&&(0|b[k+4>>2])==(0|e)||(0|b[(k=h+24|0)>>2])==(0|d)&&(0|b[k+4>>2])==(0|e)||(0|b[(k=h+32|0)>>2])==(0|d)&&(0|b[k+4>>2])==(0|e)||(0|b[(k=h+40|0)>>2])==(0|d)&&(0|b[k+4>>2])==(0|e)?1:1&((0|b[(f=h+48|0)>>2])==(0|d)?(0|b[f+4>>2])==(0|e):0),S=i,0|(k=f)}function gc(a,c,d){d|=0;var f,g,h,i,e=0;if(h=S,S=S+16|0,g=h,e=0|cd(0|(a|=0),0|(c|=0),56),G(),c=0|function Lc(a,c,d){a|=0,c|=0,d|=0;var e=0,f=0;if(e=0|Fb(a,c),(d+-1|0)>>>0>5)return 0|(d=-1);if(f=0!=(0|e),1==(0|d)&f)return 0|(d=-1);return e=0|function Kc(a,c){a|=0,c|=0;var d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0;if(k=S,S=S+32|0,f=k+16|0,g=k,Ub(a,c,f),h=0|Ab(a,c),j=0|Lb(a,c),function pa(a,c){a=7728+(28*(a|=0)|0)|0,b[(c|=0)>>2]=b[a>>2],b[c+4>>2]=b[a+4>>2],b[c+8>>2]=b[a+8>>2],b[c+12>>2]=b[a+12>>2]}(h,g),c=0|function qa(a,c){a|=0;var d=0,e=0;if((c|=0)>>>0>20)return-1;do{if((0|b[11152+(216*c|0)>>2])!=(0|a))if((0|b[11152+(216*c|0)+8>>2])!=(0|a))if((0|b[11152+(216*c|0)+16>>2])!=(0|a))if((0|b[11152+(216*c|0)+24>>2])!=(0|a))if((0|b[11152+(216*c|0)+32>>2])!=(0|a))if((0|b[11152+(216*c|0)+40>>2])!=(0|a))if((0|b[11152+(216*c|0)+48>>2])!=(0|a))if((0|b[11152+(216*c|0)+56>>2])!=(0|a))if((0|b[11152+(216*c|0)+64>>2])!=(0|a))if((0|b[11152+(216*c|0)+72>>2])!=(0|a))if((0|b[11152+(216*c|0)+80>>2])!=(0|a))if((0|b[11152+(216*c|0)+88>>2])!=(0|a))if((0|b[11152+(216*c|0)+96>>2])!=(0|a))if((0|b[11152+(216*c|0)+104>>2])!=(0|a))if((0|b[11152+(216*c|0)+112>>2])!=(0|a))if((0|b[11152+(216*c|0)+120>>2])!=(0|a))if((0|b[11152+(216*c|0)+128>>2])!=(0|a)){if((0|b[11152+(216*c|0)+136>>2])!=(0|a)){if((0|b[11152+(216*c|0)+144>>2])==(0|a)){a=0,d=2,e=0;break}if((0|b[11152+(216*c|0)+152>>2])==(0|a)){a=0,d=2,e=1;break}if((0|b[11152+(216*c|0)+160>>2])==(0|a)){a=0,d=2,e=2;break}if((0|b[11152+(216*c|0)+168>>2])==(0|a)){a=1,d=2,e=0;break}if((0|b[11152+(216*c|0)+176>>2])==(0|a)){a=1,d=2,e=1;break}if((0|b[11152+(216*c|0)+184>>2])==(0|a)){a=1,d=2,e=2;break}if((0|b[11152+(216*c|0)+192>>2])==(0|a)){a=2,d=2,e=0;break}if((0|b[11152+(216*c|0)+200>>2])==(0|a)){a=2,d=2,e=1;break}if((0|b[11152+(216*c|0)+208>>2])==(0|a)){a=2,d=2,e=2;break}return-1}a=2,d=1,e=2}else a=2,d=1,e=1;else a=2,d=1,e=0;else a=1,d=1,e=2;else a=1,d=1,e=1;else a=1,d=1,e=0;else a=0,d=1,e=2;else a=0,d=1,e=1;else a=0,d=1,e=0;else a=2,d=0,e=2;else a=2,d=0,e=1;else a=2,d=0,e=0;else a=1,d=0,e=2;else a=1,d=0,e=1;else a=1,d=0,e=0;else a=0,d=0,e=2;else a=0,d=0,e=1;else a=0,d=0,e=0}while(0);return 0|b[11152+(216*c|0)+(72*d|0)+(24*a|0)+(e<<3)+4>>2]}(h,0|b[f>>2]),!(0|la(h)))return S=k,0|(j=c);switch(0|h){case 4:a=0,d=14;break;case 14:a=1,d=14;break;case 24:a=2,d=14;break;case 38:a=3,d=14;break;case 49:a=4,d=14;break;case 58:a=5,d=14;break;case 63:a=6,d=14;break;case 72:a=7,d=14;break;case 83:a=8,d=14;break;case 97:a=9,d=14;break;case 107:a=10,d=14;break;case 117:a=11,d=14;break;default:i=0,e=0}14==(0|d)&&(i=0|b[22096+(24*a|0)+8>>2],e=0|b[22096+(24*a|0)+16>>2]);a=0|b[f>>2],(0|a)!=(0|b[g>>2])&&(h=0|ma(h))|(0|(a=0|b[f>>2]))==(0|e)&&(c=(c+1|0)%6|0);if(3==(0|j)&(0|a)==(0|e))return S=k,0|(j=(c+5|0)%6|0);if(!(5==(0|j)&(0|a)==(0|i)))return S=k,0|(j=c);return j=(c+1|0)%6|0,S=k,0|j}(a,c),f?0|(d=(5-e+(0|b[22384+(d<<2)>>2])|0)%5|0):0|(d=(6-e+(0|b[22416+(d<<2)>>2])|0)%6|0)}(f=(i=!0&268435456==(2013265920&c|0))?a:0,a=i?-2130706433&c|134217728:0,7&e),-1==(0|c))return b[d>>2]=0,void(S=h);Ub(f,a,g),e=0|cd(0|f,0|a,52),G(),e&=15,0|Fb(f,a)?ab(g,e,c,2,d):eb(g,e,c,2,d),S=h}function hc(a){a|=0;var c,d,e=0;return(c=0|Yc(1,12))||H(22691,22646,49,22704),0|(e=0|b[(d=a+4|0)>>2])?(b[(e=e+8|0)>>2]=c,b[d>>2]=c,0|c):(0|b[a>>2]&&H(22721,22646,61,22744),b[(e=a)>>2]=c,b[d>>2]=c,0|c)}function ic(a,c){a|=0,c|=0;var d,e;return(e=0|Wc(24))||H(22758,22646,78,22772),b[e>>2]=b[c>>2],b[e+4>>2]=b[c+4>>2],b[e+8>>2]=b[c+8>>2],b[e+12>>2]=b[c+12>>2],b[e+16>>2]=0,0|(d=0|b[(c=a+4|0)>>2])?(b[d+16>>2]=e,b[c>>2]=e,0|e):(0|b[a>>2]&&H(22787,22646,82,22772),b[a>>2]=e,b[c>>2]=e,0|e)}function kc(a){var G,I,c=0,d=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,J=0,K=0;if(0|b[(g=(a|=0)+8|0)>>2])return 0|(K=1);if(!(f=0|b[a>>2]))return 0|(K=0);c=f,d=0;do{d=d+1|0,c=0|b[c+8>>2]}while(0!=(0|c));if(d>>>0<2)return 0|(K=0);(I=0|Wc(d<<2))||H(22807,22646,317,22826),(G=0|Wc(d<<5))||H(22848,22646,321,22826),b[a>>2]=0,b[(z=a+4|0)>>2]=0,b[g>>2]=0,d=0,F=0,y=0,n=0;a:for(;;){if(m=0|b[f>>2]){h=0,i=m;do{if(k=+e[i+8>>3],c=i,i=0|b[i+16>>2],j=+e[(g=(l=0==(0|i))?m:i)+8>>3],+q(+(k-j))>3.141592653589793){K=14;break}h+=(j-k)*(+e[c>>3]+ +e[g>>3])}while(!l);if(14==(0|K)){K=0,h=0,c=m;do{x=+e[c+8>>3],D=0|b[(E=c+16|0)>>2],w=+e[(D=0==(0|D)?m:D)+8>>3],h+=(+e[c>>3]+ +e[D>>3])*((w<0?w+6.283185307179586:w)-(x<0?x+6.283185307179586:x)),c=0|b[(0==(0|c)?f:E)>>2]}while(0!=(0|c))}h>0?(b[I+(F<<2)>>2]=f,F=F+1|0,g=y,c=n):K=19}else K=19;if(19==(0|K)){K=0;do{if(!d){if(n){g=z,i=n+8|0,c=f,d=a;break}if(0|b[a>>2]){K=27;break a}g=z,i=a,c=f,d=a;break}if(0|b[(c=d+8|0)>>2]){K=21;break a}if(!(d=0|Yc(1,12))){K=23;break a}b[c>>2]=d,g=d+4|0,i=d,c=n}while(0);if(b[i>>2]=f,b[g>>2]=f,i=G+(y<<5)|0,l=0|b[f>>2]){for(e[(m=G+(y<<5)+8|0)>>3]=17976931348623157e292,e[(n=G+(y<<5)+24|0)>>3]=17976931348623157e292,e[i>>3]=-17976931348623157e292,e[(o=G+(y<<5)+16|0)>>3]=-17976931348623157e292,u=17976931348623157e292,v=-17976931348623157e292,g=0,p=l,k=17976931348623157e292,s=17976931348623157e292,t=-17976931348623157e292,j=-17976931348623157e292;h=+e[p>>3],x=+e[p+8>>3],p=0|b[p+16>>2],w=+e[((r=0==(0|p))?l:p)+8>>3],h<k&&(e[m>>3]=h,k=h),x<s&&(e[n>>3]=x,s=x),h>t?e[i>>3]=h:h=t,x>j&&(e[o>>3]=x,j=x),u=x>0&x<u?x:u,v=x<0&x>v?x:v,g|=+q(+(x-w))>3.141592653589793,!r;)t=h;g&&(e[o>>3]=v,e[n>>3]=u)}else b[i>>2]=0,b[i+4>>2]=0,b[i+8>>2]=0,b[i+12>>2]=0,b[i+16>>2]=0,b[i+20>>2]=0,b[i+24>>2]=0,b[i+28>>2]=0;g=y+1|0}if(f=0|b[(E=f+8|0)>>2],b[E>>2]=0,!f){K=45;break}y=g,n=c}if(21==(0|K))H(22624,22646,35,22658);else if(23==(0|K))H(22678,22646,37,22658);else if(27==(0|K))H(22721,22646,61,22744);else if(45==(0|K)){b:do{if((0|F)>0){for(E=0==(0|g),C=g<<2,D=0==(0|a),B=0,c=0;;){if(A=0|b[I+(B<<2)>>2],E)K=73;else{if(!(y=0|Wc(C))){K=50;break}if(!(z=0|Wc(C))){K=52;break}c:do{if(D)d=0;else{for(g=0,d=0,i=a;f=G+(g<<5)|0,0|lc(0|b[i>>2],f,0|b[A>>2])?(b[y+(d<<2)>>2]=i,b[z+(d<<2)>>2]=f,r=d+1|0):r=d,i=0|b[i+8>>2];)g=g+1|0,d=r;if((0|r)>0)if(f=0|b[y>>2],1==(0|r))d=f;else for(o=0,p=-1,d=f,n=f;;){for(l=0|b[n>>2],f=0,i=0;m=(0|(g=0|b[b[y+(i<<2)>>2]>>2]))==(0|l)?f:f+(1&(0|lc(g,0|b[z+(i<<2)>>2],0|b[l>>2])))|0,(0|(i=i+1|0))!=(0|r);)f=m;if(d=(g=(0|m)>(0|p))?n:d,(0|(f=o+1|0))==(0|r))break c;o=f,p=g?m:p,n=0|b[y+(f<<2)>>2]}else d=0}}while(0);if(Xc(y),Xc(z),d){if(f=0|b[(g=d+4|0)>>2])d=f+8|0;else if(0|b[d>>2]){K=70;break}b[d>>2]=A,b[g>>2]=A}else K=73}if(73==(0|K)){if(K=0,0|(c=0|b[A>>2]))do{z=c,c=0|b[c+16>>2],Xc(z)}while(0!=(0|c));Xc(A),c=2}if((0|(B=B+1|0))>=(0|F)){J=c;break b}}50==(0|K)?H(22863,22646,249,22882):52==(0|K)?H(22901,22646,252,22882):70==(0|K)&&H(22721,22646,61,22744)}else J=0}while(0);return Xc(I),Xc(G),0|(K=J)}return 0}function lc(a,c,d){a|=0;var l,f=0,g=0,h=0,i=0,j=0,k=0,m=0;if(!(0|xa(c|=0,d|=0)))return 0|(a=0);if(c=0|wa(c),l=+e[d>>3],f=c&(f=+e[d+8>>3])<0?f+6.283185307179586:f,!(a=0|b[a>>2]))return 0|(a=0);if(c){c=0,d=a;a:for(;;){for(;i=+e[d>>3],k=+e[d+8>>3],m=0|b[(d=d+16|0)>>2],h=+e[(m=0==(0|m)?a:m)>>3],g=+e[m+8>>3],i>h?(j=i,i=k):(j=h,h=i,i=g,g=k),l<h|l>j;)if(!(d=0|b[d>>2])){d=22;break a}if(f=(i=i<0?i+6.283185307179586:i)==f|(k=g<0?g+6.283185307179586:g)==f?f+-2220446049250313e-31:f,((k+=(l-h)/(j-h)*(i-k))<0?k+6.283185307179586:k)>f&&(c^=1),!(d=0|b[d>>2])){d=22;break}}if(22==(0|d))return 0|c}else{c=0,d=a;b:for(;;){for(;i=+e[d>>3],k=+e[d+8>>3],m=0|b[(d=d+16|0)>>2],h=+e[(m=0==(0|m)?a:m)>>3],g=+e[m+8>>3],i>h?(j=i,i=k):(j=h,h=i,i=g,g=k),l<h|l>j;)if(!(d=0|b[d>>2])){d=22;break b}if(g+(l-h)/(j-h)*(i-g)>(f=i==f|g==f?f+-2220446049250313e-31:f)&&(c^=1),!(d=0|b[d>>2])){d=22;break}}if(22==(0|d))return 0|c}return 0}function mc(c,d,e,f,g){e|=0,f|=0,g|=0;var n,o,s,u,h=0,i=0,j=0,k=0,l=0,m=0,p=0,q=0,r=0,t=0;if(u=S,S=S+32|0,t=u+16|0,s=u,h=0|cd(0|(c|=0),0|(d|=0),52),G(),h&=15,p=0|cd(0|e,0|f,52),G(),(0|h)!=(15&p|0))return S=u,0|(t=1);if(l=0|cd(0|c,0|d,45),G(),l&=127,m=0|cd(0|e,0|f,45),G(),p=(0|l)!=(0|(m&=127))){if(7==(0|(j=0|ta(l,m))))return S=u,0|(t=2);7==(0|(k=0|ta(m,l)))?H(22925,22949,151,22959):(q=j,i=k)}else q=0,i=0;n=0|la(l),o=0|la(m),b[t>>2]=0,b[t+4>>2]=0,b[t+8>>2]=0,b[t+12>>2]=0;do{if(q){if(j=(0|(m=0|b[4304+(28*l|0)+(q<<2)>>2]))>0,o)if(j){l=0,k=e,j=f;do{k=0|Ob(k,j),j=0|G(),1==(0|(i=0|Qa(i)))&&(i=0|Qa(1)),l=l+1|0}while((0|l)!=(0|m));m=i,l=k,k=j}else m=i,l=e,k=f;else if(j){l=0,k=e,j=f;do{k=0|Pb(k,j),j=0|G(),i=0|Qa(i),l=l+1|0}while((0|l)!=(0|m));m=i,l=k,k=j}else m=i,l=e,k=f;if(Tb(l,k,t),p||H(22972,22949,181,22959),(j=0!=(0|n))&(i=0!=(0|o))&&H(22999,22949,182,22959),j){if(i=0|Lb(c,d),0|a[22032+(7*i|0)+q>>0]){h=3;break}l=k=0|b[21200+(28*i|0)+(q<<2)>>2],r=26}else if(i){if(i=0|Lb(l,k),0|a[22032+(7*i|0)+m>>0]){h=4;break}l=0,k=0|b[21200+(28*m|0)+(i<<2)>>2],r=26}else i=0;if(26==(0|r))if((0|k)<=-1&&H(23030,22949,212,22959),(0|l)<=-1&&H(23053,22949,213,22959),(0|k)>0){j=t+4|0,i=0;do{Oa(j),i=i+1|0}while((0|i)!=(0|k));i=l}else i=l;if(b[s>>2]=0,b[s+4>>2]=0,b[s+8>>2]=0,Ma(s,q),0|h)for(;0|Rb(h)?Ka(s):La(s),(0|h)>1;)h=h+-1|0;if((0|i)>0){h=0;do{Oa(s),h=h+1|0}while((0|h)!=(0|i))}Ea(r=t+4|0,s,r),Ca(r),r=50}else if(Tb(e,f,t),0!=(0|n)&0!=(0|o))if((0|m)!=(0|l)&&H(23077,22949,243,22959),i=0|Lb(c,d),h=0|Lb(e,f),0|a[22032+(7*i|0)+h>>0])h=5;else if((0|(i=0|b[21200+(28*i|0)+(h<<2)>>2]))>0){j=t+4|0,h=0;do{Oa(j),h=h+1|0}while((0|h)!=(0|i));r=50}else r=50;else r=50}while(0);return 50==(0|r)&&(h=t+4|0,b[g>>2]=b[h>>2],b[g+4>>2]=b[h+4>>2],b[g+8>>2]=b[h+8>>2],h=0),S=u,0|(t=h)}function nc(a,c,d,e){d|=0,e|=0;var l,p,f=0,g=0,h=0,i=0,j=0,k=0,m=0,n=0,o=0,q=0,r=0,s=0,t=0;if(p=S,S=S+48|0,h=p+36|0,i=p+24|0,j=p+12|0,k=p,g=0|cd(0|(a|=0),0|(c|=0),52),G(),g&=15,n=0|cd(0|a,0|c,45),G(),l=0|la(n&=127),dd(0|g,0,52),r=134225919|G(),b[(q=e)>>2]=-1,b[q+4>>2]=r,!g)return(0|b[d>>2])>1||(0|b[d+4>>2])>1||(0|b[d+8>>2])>1||127==(0|(f=0|sa(n,0|Ha(d))))?(S=p,0|(r=1)):(o=0|dd(0|f,0,45),q=0|G(),q=-1040385&b[(n=e)+4>>2]|q,b[(r=e)>>2]=b[n>>2]|o,b[r+4>>2]=q,S=p,0|(r=0));for(b[h>>2]=b[d>>2],b[h+4>>2]=b[d+4>>2],b[h+8>>2]=b[d+8>>2];b[i>>2]=b[h>>2],b[i+4>>2]=b[h+4>>2],b[i+8>>2]=b[h+8>>2],0|Rb(g)?(Ia(h),b[j>>2]=b[h>>2],b[j+4>>2]=b[h+4>>2],b[j+8>>2]=b[h+8>>2],Ka(j)):(Ja(h),b[j>>2]=b[h>>2],b[j+4>>2]=b[h+4>>2],b[j+8>>2]=b[h+8>>2],La(j)),Fa(i,j,k),Ca(k),s=0|b[(q=e)>>2],q=0|b[q+4>>2],d=0|dd(7,0,0|(t=3*(15-g|0)|0)),q&=~(0|G()),t=0|dd(0|Ha(k),0,0|t),q=0|G()|q,b[(r=e)>>2]=t|s&~d,b[r+4>>2]=q,(0|g)>1;)g=g+-1|0;a:do{if((0|b[h>>2])<=1&&(0|b[h+4>>2])<=1&&(0|b[h+8>>2])<=1){k=127==(0|(i=0|sa(n,g=0|Ha(h))))?0:0|la(i);b:do{if(g){if(l){if(h=21408+(28*(0|Lb(a,c))|0)+(g<<2)|0,(0|(h=0|b[h>>2]))>0){d=0;do{g=0|Pa(g),d=d+1|0}while((0|d)!=(0|h))}if(1==(0|g)){f=3;break a}127==(0|(d=0|sa(n,g)))&&H(23104,22949,376,23134),0|la(d)?H(23147,22949,377,23134):(o=h,m=g,f=d)}else o=0,m=g,f=i;if((0|(j=0|b[4304+(28*n|0)+(m<<2)>>2]))<=-1&&H(23178,22949,384,23134),!k){if((0|o)<=-1&&H(23030,22949,417,23134),0|o){g=0,d=0|b[(h=e)>>2],h=0|b[h+4>>2];do{d=0|Nb(d,h),h=0|G(),b[(t=e)>>2]=d,b[t+4>>2]=h,g=g+1|0}while((0|g)<(0|o))}if((0|j)<=0){g=54;break}for(g=0,d=0|b[(h=e)>>2],h=0|b[h+4>>2];;)if(d=0|Nb(d,h),h=0|G(),b[(t=e)>>2]=d,b[t+4>>2]=h,(0|(g=g+1|0))==(0|j)){g=54;break b}}if(7==(0|(i=0|ta(f,n)))&&H(22925,22949,393,23134),d=0|b[(g=e)>>2],g=0|b[g+4>>2],(0|j)>0){h=0;do{d=0|Nb(d,g),g=0|G(),b[(t=e)>>2]=d,b[t+4>>2]=g,h=h+1|0}while((0|h)!=(0|j))}if(d=0|Lb(d,g),t=0|ma(f),(0|(d=0|b[(t?21824:21616)+(28*i|0)+(d<<2)>>2]))<=-1&&H(23030,22949,412,23134),d){g=0,h=0|b[(i=e)>>2],i=0|b[i+4>>2];do{h=0|Mb(h,i),i=0|G(),b[(t=e)>>2]=h,b[t+4>>2]=i,g=g+1|0}while((0|g)<(0|d));g=54}else g=54}else if(0!=(0|l)&0!=(0|k))if(g=21408+(28*(t=0|Lb(a,c))|0)+((0|Lb(0|b[(g=e)>>2],0|b[g+4>>2]))<<2)|0,(0|(g=0|b[g>>2]))<=-1&&H(23201,22949,433,23134),g){f=0,d=0|b[(h=e)>>2],h=0|b[h+4>>2];do{d=0|Nb(d,h),h=0|G(),b[(t=e)>>2]=d,b[t+4>>2]=h,f=f+1|0}while((0|f)<(0|g));f=i,g=54}else f=i,g=55;else f=i,g=54}while(0);if(54==(0|g)&&k&&(g=55),55==(0|g)&&1==(0|Lb(0|b[(t=e)>>2],0|b[t+4>>2]))){f=4;break}r=0|b[(t=e)>>2],t=-1040385&b[t+4>>2],s=0|dd(0|f,0,45),t=0|t|G(),b[(f=e)>>2]=r|s,b[f+4>>2]=t,f=0}else f=2}while(0);return S=p,0|(t=f)}function tc(a,b){var c=0;if(!(b|=0))return 0|(c=1);c=a|=0,a=1;do{a=0|B(0==(1&b|0)?1:c,a),b>>=1,c=0|B(c,c)}while(0!=(0|b));return 0|a}function uc(a,c,d){a|=0;var m,o,f=0,g=0,h=0,i=0,j=0,k=0,l=0,n=0;if(!(0|xa(c|=0,d|=0)))return 0|(n=0);if(c=0|wa(c),o=+e[d>>3],f=c&(f=+e[d+8>>3])<0?f+6.283185307179586:f,(0|(n=0|b[a>>2]))<=0)return 0|(n=0);if(m=0|b[a+4>>2],c){c=0,d=-1,a=0;a:for(;;){for(l=a;i=+e[m+(l<<4)>>3],k=+e[m+(l<<4)+8>>3],h=+e[m+((a=(d+2|0)%(0|n)|0)<<4)>>3],g=+e[m+(a<<4)+8>>3],i>h?(j=i,i=k):(j=h,h=i,i=g,g=k),o<h|o>j;){if(!((0|(d=l+1|0))<(0|n))){d=22;break a}a=l,l=d,d=a}if(f=(i=i<0?i+6.283185307179586:i)==f|(k=g<0?g+6.283185307179586:g)==f?f+-2220446049250313e-31:f,((k+=(o-h)/(j-h)*(i-k))<0?k+6.283185307179586:k)>f&&(c^=1),(0|(a=l+1|0))>=(0|n)){d=22;break}d=l}if(22==(0|d))return 0|c}else{c=0,d=-1,a=0;b:for(;;){for(l=a;i=+e[m+(l<<4)>>3],k=+e[m+(l<<4)+8>>3],h=+e[m+((a=(d+2|0)%(0|n)|0)<<4)>>3],g=+e[m+(a<<4)+8>>3],i>h?(j=i,i=k):(j=h,h=i,i=g,g=k),o<h|o>j;){if(!((0|(d=l+1|0))<(0|n))){d=22;break b}a=l,l=d,d=a}if(g+(o-h)/(j-h)*(i-g)>(f=i==f|g==f?f+-2220446049250313e-31:f)&&(c^=1),(0|(a=l+1|0))>=(0|n)){d=22;break}d=l}if(22==(0|d))return 0|c}return 0}function vc(a,c){c|=0;var o,r,s,t,u,d=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,p=0,v=0;if(!(r=0|b[(a|=0)>>2]))return b[c>>2]=0,b[c+4>>2]=0,b[c+8>>2]=0,b[c+12>>2]=0,b[c+16>>2]=0,b[c+20>>2]=0,b[c+24>>2]=0,void(b[c+28>>2]=0);if(e[(s=c+8|0)>>3]=17976931348623157e292,e[(t=c+24|0)>>3]=17976931348623157e292,e[c>>3]=-17976931348623157e292,e[(u=c+16|0)>>3]=-17976931348623157e292,!((0|r)<=0)){for(o=0|b[a+4>>2],l=17976931348623157e292,m=-17976931348623157e292,n=0,a=-1,h=17976931348623157e292,i=17976931348623157e292,k=-17976931348623157e292,f=-17976931348623157e292,p=0;d=+e[o+(p<<4)>>3],j=+e[o+(p<<4)+8>>3],g=+e[o+(((0|(a=a+2|0))==(0|r)?0:a)<<4)+8>>3],d<h&&(e[s>>3]=d,h=d),j<i&&(e[t>>3]=j,i=j),d>k?e[c>>3]=d:d=k,j>f&&(e[u>>3]=j,f=j),l=j>0&j<l?j:l,m=j<0&j>m?j:m,n|=+q(+(j-g))>3.141592653589793,(0|(a=p+1|0))!=(0|r);)v=p,k=d,p=a,a=v;n&&(e[u>>3]=m,e[t>>3]=l)}}function wc(a,c){c|=0;var y,d=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,z=0,A=0;if(r=0|b[(a|=0)>>2]){if(e[(s=c+8|0)>>3]=17976931348623157e292,e[(t=c+24|0)>>3]=17976931348623157e292,e[c>>3]=-17976931348623157e292,e[(u=c+16|0)>>3]=-17976931348623157e292,(0|r)>0){for(g=0|b[a+4>>2],o=17976931348623157e292,p=-17976931348623157e292,f=0,d=-1,k=17976931348623157e292,l=17976931348623157e292,n=-17976931348623157e292,i=-17976931348623157e292,v=0;h=+e[g+(v<<4)>>3],m=+e[g+(v<<4)+8>>3],j=+e[g+(((0|(z=d+2|0))==(0|r)?0:z)<<4)+8>>3],h<k&&(e[s>>3]=h,k=h),m<l&&(e[t>>3]=m,l=m),h>n?e[c>>3]=h:h=n,m>i&&(e[u>>3]=m,i=m),o=m>0&m<o?m:o,p=m<0&m>p?m:p,f|=+q(+(m-j))>3.141592653589793,(0|(d=v+1|0))!=(0|r);)z=v,n=h,v=d,d=z;f&&(e[u>>3]=p,e[t>>3]=o)}}else b[c>>2]=0,b[c+4>>2]=0,b[c+8>>2]=0,b[c+12>>2]=0,b[c+16>>2]=0,b[c+20>>2]=0,b[c+24>>2]=0,b[c+28>>2]=0;if(!((0|(d=0|b[(z=a+8|0)>>2]))<=0)){y=a+12|0,x=0;do{if(g=0|b[y>>2],f=x,t=c+((x=x+1|0)<<5)|0,u=0|b[g+(f<<3)>>2]){if(e[(v=c+(x<<5)+8|0)>>3]=17976931348623157e292,e[(a=c+(x<<5)+24|0)>>3]=17976931348623157e292,e[t>>3]=-17976931348623157e292,e[(w=c+(x<<5)+16|0)>>3]=-17976931348623157e292,(0|u)>0){for(r=0|b[g+(f<<3)+4>>2],o=17976931348623157e292,p=-17976931348623157e292,g=0,f=-1,s=0,k=17976931348623157e292,l=17976931348623157e292,m=-17976931348623157e292,i=-17976931348623157e292;h=+e[r+(s<<4)>>3],n=+e[r+(s<<4)+8>>3],j=+e[r+(((0|(f=f+2|0))==(0|u)?0:f)<<4)+8>>3],h<k&&(e[v>>3]=h,k=h),n<l&&(e[a>>3]=n,l=n),h>m?e[t>>3]=h:h=m,n>i&&(e[w>>3]=n,i=n),o=n>0&n<o?n:o,p=n<0&n>p?n:p,g|=+q(+(n-j))>3.141592653589793,(0|(f=s+1|0))!=(0|u);)A=s,s=f,m=h,f=A;g&&(e[w>>3]=p,e[a>>3]=o)}}else b[t>>2]=0,b[t+4>>2]=0,b[t+8>>2]=0,b[t+12>>2]=0,b[t+16>>2]=0,b[t+20>>2]=0,b[t+24>>2]=0,b[t+28>>2]=0,d=0|b[z>>2]}while((0|x)<(0|d))}}function xc(a,c,d){var e=0,f=0,g=0;if(!(0|uc(a|=0,c|=0,d|=0)))return 0|(f=0);if((0|b[(f=a+8|0)>>2])<=0)return 0|(f=1);for(e=a+12|0,a=0;;){if(g=a,a=a+1|0,0|uc((0|b[e>>2])+(g<<3)|0,c+(a<<5)|0,d)){a=0,e=6;break}if((0|a)>=(0|b[f>>2])){a=1,e=6;break}}return 6==(0|e)?0|a:0}function Gc(a,b,c,d,f){b|=0,c|=0,d|=0,f|=0;var h,i,j,k,l,m,n,g=0;k=+e[(a|=0)>>3],j=+e[b>>3]-k,i=+e[a+8>>3],h=+e[b+8>>3]-i,m=+e[c>>3],g=((g=+e[d>>3]-m)*(i-(n=+e[c+8>>3]))-(k-m)*(l=+e[d+8>>3]-n))/(j*l-h*g),e[f>>3]=k+j*g,e[f+8>>3]=i+h*g}function Hc(a,b){return b|=0,+e[(a|=0)>>3]!=+e[b>>3]?0|(b=0):0|(b=+e[a+8>>3]==+e[b+8>>3])}function Ic(a,b){b|=0;var c,d,f;return+((f=+e[(a|=0)>>3]-+e[b>>3])*f+(d=+e[a+8>>3]-+e[b+8>>3])*d+(c=+e[a+16>>3]-+e[b+16>>3])*c)}function Mc(a,c,d){a|=0,d|=0;var e=0;(0|(c|=0))>0?(e=0|Yc(c,4),b[a>>2]=e,e||H(23230,23253,40,23267)):b[a>>2]=0,b[a+4>>2]=c,b[a+8>>2]=0,b[a+12>>2]=d}function Nc(a){var g,h,i,c=0,d=0,f=0,j=0;g=(a|=0)+4|0,h=a+12|0,i=a+8|0;a:for(;;){for(d=0|b[g>>2],c=0;;){if((0|c)>=(0|d))break a;if(f=0|b[a>>2],j=0|b[f+(c<<2)>>2])break;c=c+1|0}c=f+(~~(+q(+ +s(10,+ +(15-(0|b[h>>2])|0))*(+e[j>>3]+ +e[j+8>>3]))%+(0|d))>>>0<<2)|0,d=0|b[c>>2];b:do{if(0|d){if(f=j+32|0,(0|d)==(0|j))b[c>>2]=b[f>>2];else{if(!(c=0|b[(d=d+32|0)>>2]))break;for(;(0|c)!=(0|j);)if(!(c=0|b[(d=c+32|0)>>2]))break b;b[d>>2]=b[f>>2]}Xc(j),b[i>>2]=(0|b[i>>2])-1}}while(0)}Xc(0|b[a>>2])}function Oc(a){var e,c=0,d=0;for(e=0|b[(a|=0)+4>>2],d=0;;){if((0|d)>=(0|e)){c=0,d=4;break}if(c=0|b[(0|b[a>>2])+(d<<2)>>2]){d=4;break}d=d+1|0}return 4==(0|d)?0|c:0}function Pc(a,c){c|=0;var d=0,f=0,g=0,h=0;if(d=~~(+q(+ +s(10,+ +(15-(0|b[(a|=0)+12>>2])|0))*(+e[c>>3]+ +e[c+8>>3]))%+(0|b[a+4>>2]))>>>0,d=(0|b[a>>2])+(d<<2)|0,!(f=0|b[d>>2]))return 0|(h=1);h=c+32|0;do{if((0|f)!=(0|c)){if(!(d=0|b[f+32>>2]))return 0|(h=1);for(g=d;;){if((0|g)==(0|c)){g=8;break}if(!(d=0|b[g+32>>2])){d=1,g=10;break}f=g,g=d}if(8==(0|g)){b[f+32>>2]=b[h>>2];break}if(10==(0|g))return 0|d}else b[d>>2]=b[h>>2]}while(0);return Xc(c),b[(h=a+8|0)>>2]=(0|b[h>>2])-1,0|(h=0)}function Qc(a,c,d){a|=0,c|=0,d|=0;var h,f=0,g=0,i=0;(h=0|Wc(40))||H(23283,23253,98,23296),b[h>>2]=b[c>>2],b[h+4>>2]=b[c+4>>2],b[h+8>>2]=b[c+8>>2],b[h+12>>2]=b[c+12>>2],b[(g=h+16|0)>>2]=b[d>>2],b[g+4>>2]=b[d+4>>2],b[g+8>>2]=b[d+8>>2],b[g+12>>2]=b[d+12>>2],b[h+32>>2]=0,g=~~(+q(+ +s(10,+ +(15-(0|b[a+12>>2])|0))*(+e[c>>3]+ +e[c+8>>3]))%+(0|b[a+4>>2]))>>>0,g=(0|b[a>>2])+(g<<2)|0,f=0|b[g>>2];do{if(f){for(;!(0|hb(f,c)&&0|hb(f+16|0,d));)if(g=0|b[f+32>>2],!(0|b[(f=0==(0|g)?f:g)+32>>2])){i=10;break}if(10==(0|i)){b[f+32>>2]=h;break}return Xc(h),0|(i=f)}b[g>>2]=h}while(0);return b[(i=a+8|0)>>2]=1+(0|b[i>>2]),0|(i=h)}function Rc(a,c,d){c|=0,d|=0;var f=0,g=0;if(g=~~(+q(+ +s(10,+ +(15-(0|b[(a|=0)+12>>2])|0))*(+e[c>>3]+ +e[c+8>>3]))%+(0|b[a+4>>2]))>>>0,!(g=0|b[(0|b[a>>2])+(g<<2)>>2]))return 0|(d=0);if(!d){for(a=g;;){if(0|hb(a,c)){f=10;break}if(!(a=0|b[a+32>>2])){a=0,f=10;break}}if(10==(0|f))return 0|a}for(a=g;;){if(0|hb(a,c)&&0|hb(a+16|0,d)){f=10;break}if(!(a=0|b[a+32>>2])){a=0,f=10;break}}return 10==(0|f)?0|a:0}function Sc(a,c){c|=0;var d=0;if(d=~~(+q(+ +s(10,+ +(15-(0|b[(a|=0)+12>>2])|0))*(+e[c>>3]+ +e[c+8>>3]))%+(0|b[a+4>>2]))>>>0,!(a=0|b[(0|b[a>>2])+(d<<2)>>2]))return 0|(d=0);for(;;){if(0|hb(a,c)){c=5;break}if(!(a=0|b[a+32>>2])){a=0,c=5;break}}return 5==(0|c)?0|a:0}function Vc(a){return 0|~~+function Uc(a){return+ +id(+(a=+a))}(a=+a)}function Wc(a){a|=0;var w,c=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0;w=S,S=S+16|0,n=w;do{if(a>>>0<245){if(a=(k=a>>>0<11?16:a+11&-8)>>>3,3&(d=(m=0|b[5829])>>>a)|0)return e=0|b[(d=(a=23356+((c=(1&d^1)+a|0)<<1<<2)|0)+8|0)>>2],(0|(g=0|b[(f=e+8|0)>>2]))==(0|a)?b[5829]=m&~(1<<c):(b[g+12>>2]=a,b[d>>2]=g),v=c<<3,b[e+4>>2]=3|v,b[(v=e+v+4|0)>>2]=1|b[v>>2],S=w,0|(v=f);if(k>>>0>(l=0|b[5831])>>>0){if(0|d)return c=((c=d<<a&((c=2<<a)|0-c))&0-c)-1|0,g=0|b[(a=(c=23356+((e=((d=(c>>>=i=c>>>12&16)>>>5&8)|i|(g=(c>>>=d)>>>2&4)|(a=(c>>>=g)>>>1&2)|(e=(c>>>=a)>>>1&1))+(c>>>e)|0)<<1<<2)|0)+8|0)>>2],(0|(d=0|b[(i=g+8|0)>>2]))==(0|c)?(a=m&~(1<<e),b[5829]=a):(b[d+12>>2]=c,b[a>>2]=d,a=m),h=(v=e<<3)-k|0,b[g+4>>2]=3|k,b[(f=g+k|0)+4>>2]=1|h,b[g+v>>2]=h,0|l&&(e=0|b[5834],d=23356+((c=l>>>3)<<1<<2)|0,a&(c=1<<c)?c=0|b[(a=d+8|0)>>2]:(b[5829]=a|c,c=d,a=d+8|0),b[a>>2]=e,b[c+12>>2]=e,b[e+8>>2]=c,b[e+12>>2]=d),b[5831]=h,b[5834]=f,S=w,0|(v=i);if(g=0|b[5830]){for(d=(g&0-g)-1|0,d=j=0|b[23620+(((e=(d>>>=f=d>>>12&16)>>>5&8)|f|(h=(d>>>=e)>>>2&4)|(i=(d>>>=h)>>>1&2)|(j=(d>>>=i)>>>1&1))+(d>>>j)<<2)>>2],i=j,j=(-8&b[j+4>>2])-k|0;(a=0|b[d+16>>2])||(a=0|b[d+20>>2]);)d=a,i=(f=(h=(-8&b[a+4>>2])-k|0)>>>0<j>>>0)?a:i,j=f?h:j;if((h=i+k|0)>>>0>i>>>0){f=0|b[i+24>>2],c=0|b[i+12>>2];do{if((0|c)==(0|i)){if(!(c=0|b[(a=i+20|0)>>2])&&!(c=0|b[(a=i+16|0)>>2])){d=0;break}for(;;)if(d=0|b[(e=c+20|0)>>2])c=d,a=e;else{if(!(d=0|b[(e=c+16|0)>>2]))break;c=d,a=e}b[a>>2]=0,d=c}else d=0|b[i+8>>2],b[d+12>>2]=c,b[c+8>>2]=d,d=c}while(0);do{if(0|f){if(c=0|b[i+28>>2],(0|i)==(0|b[(a=23620+(c<<2)|0)>>2])){if(b[a>>2]=d,!d){b[5830]=g&~(1<<c);break}}else if(b[((0|b[(v=f+16|0)>>2])==(0|i)?v:f+20|0)>>2]=d,!d)break;b[d+24>>2]=f,0|(c=0|b[i+16>>2])&&(b[d+16>>2]=c,b[c+24>>2]=d),0|(c=0|b[i+20>>2])&&(b[d+20>>2]=c,b[c+24>>2]=d)}}while(0);return j>>>0<16?(v=j+k|0,b[i+4>>2]=3|v,b[(v=i+v+4|0)>>2]=1|b[v>>2]):(b[i+4>>2]=3|k,b[h+4>>2]=1|j,b[h+j>>2]=j,0|l&&(e=0|b[5834],d=23356+((c=l>>>3)<<1<<2)|0,(c=1<<c)&m?c=0|b[(a=d+8|0)>>2]:(b[5829]=c|m,c=d,a=d+8|0),b[a>>2]=e,b[c+12>>2]=e,b[e+8>>2]=c,b[e+12>>2]=d),b[5831]=j,b[5834]=h),S=w,0|(v=i+8|0)}m=k}else m=k}else m=k}else if(a>>>0<=4294967231)if(k=-8&(a=a+11|0),e=0|b[5830]){f=0-k|0,j=(a>>>=8)?k>>>0>16777215?31:k>>>((j=14-((i=((q=a<<(m=(a+1048320|0)>>>16&8))+520192|0)>>>16&4)|m|(j=((q<<=i)+245760|0)>>>16&2))+(q<<j>>>15)|0)+7|0)&1|j<<1:0,d=0|b[23620+(j<<2)>>2];a:do{if(d)for(a=0,i=k<<(31==(0|j)?0:25-(j>>>1)|0),g=0;;){if((h=(-8&b[d+4>>2])-k|0)>>>0<f>>>0){if(!h){a=d,f=0,q=65;break a}a=d,f=h}if(g=0==(0|(q=0|b[d+20>>2]))|(0|q)==(0|(d=0|b[d+16+(i>>>31<<2)>>2]))?g:q,!d){d=g,q=61;break}i<<=1}else d=0,a=0,q=61}while(0);if(61==(0|q)){if(0==(0|d)&0==(0|a)){if(!(a=((a=2<<j)|0-a)&e)){m=k;break}m=(a&0-a)-1|0,a=0,d=0|b[23620+(((g=(m>>>=h=m>>>12&16)>>>5&8)|h|(i=(m>>>=g)>>>2&4)|(j=(m>>>=i)>>>1&2)|(d=(m>>>=j)>>>1&1))+(m>>>d)<<2)>>2]}d?q=65:(i=a,h=f)}if(65==(0|q))for(g=d;;){if(f=(d=(m=(-8&b[g+4>>2])-k|0)>>>0<f>>>0)?m:f,a=d?g:a,(d=0|b[g+16>>2])||(d=0|b[g+20>>2]),!d){i=a,h=f;break}g=d}if(0!=(0|i)&&h>>>0<((0|b[5831])-k|0)>>>0&&(l=i+k|0)>>>0>i>>>0){g=0|b[i+24>>2],c=0|b[i+12>>2];do{if((0|c)==(0|i)){if(!(c=0|b[(a=i+20|0)>>2])&&!(c=0|b[(a=i+16|0)>>2])){c=0;break}for(;;)if(d=0|b[(f=c+20|0)>>2])c=d,a=f;else{if(!(d=0|b[(f=c+16|0)>>2]))break;c=d,a=f}b[a>>2]=0}else v=0|b[i+8>>2],b[v+12>>2]=c,b[c+8>>2]=v}while(0);do{if(g){if(a=0|b[i+28>>2],(0|i)==(0|b[(d=23620+(a<<2)|0)>>2])){if(b[d>>2]=c,!c){e&=~(1<<a),b[5830]=e;break}}else if(b[((0|b[(v=g+16|0)>>2])==(0|i)?v:g+20|0)>>2]=c,!c)break;b[c+24>>2]=g,0|(a=0|b[i+16>>2])&&(b[c+16>>2]=a,b[a+24>>2]=c),(a=0|b[i+20>>2])&&(b[c+20>>2]=a,b[a+24>>2]=c)}}while(0);b:do{if(h>>>0<16)v=h+k|0,b[i+4>>2]=3|v,b[(v=i+v+4|0)>>2]=1|b[v>>2];else{if(b[i+4>>2]=3|k,b[l+4>>2]=1|h,b[l+h>>2]=h,c=h>>>3,h>>>0<256){d=23356+(c<<1<<2)|0,(a=0|b[5829])&(c=1<<c)?c=0|b[(a=d+8|0)>>2]:(b[5829]=a|c,c=d,a=d+8|0),b[a>>2]=l,b[c+12>>2]=l,b[l+8>>2]=c,b[l+12>>2]=d;break}if(c=23620+((d=(c=h>>>8)?h>>>0>16777215?31:h>>>((d=14-((t=((v=c<<(u=(c+1048320|0)>>>16&8))+520192|0)>>>16&4)|u|(d=((v<<=t)+245760|0)>>>16&2))+(v<<d>>>15)|0)+7|0)&1|d<<1:0)<<2)|0,b[l+28>>2]=d,b[(a=l+16|0)+4>>2]=0,b[a>>2]=0,!(e&(a=1<<d))){b[5830]=e|a,b[c>>2]=l,b[l+24>>2]=c,b[l+12>>2]=l,b[l+8>>2]=l;break}c=0|b[c>>2];c:do{if((-8&b[c+4>>2]|0)!=(0|h)){for(e=h<<(31==(0|d)?0:25-(d>>>1)|0);a=0|b[(d=c+16+(e>>>31<<2)|0)>>2];){if((-8&b[a+4>>2]|0)==(0|h)){c=a;break c}e<<=1,c=a}b[d>>2]=l,b[l+24>>2]=c,b[l+12>>2]=l,b[l+8>>2]=l;break b}}while(0);v=0|b[(u=c+8|0)>>2],b[v+12>>2]=l,b[u>>2]=l,b[l+8>>2]=v,b[l+12>>2]=c,b[l+24>>2]=0}}while(0);return S=w,0|(v=i+8|0)}m=k}else m=k;else m=-1}while(0);if((d=0|b[5831])>>>0>=m>>>0)return c=d-m|0,a=0|b[5834],c>>>0>15?(v=a+m|0,b[5834]=v,b[5831]=c,b[v+4>>2]=1|c,b[a+d>>2]=c,b[a+4>>2]=3|m):(b[5831]=0,b[5834]=0,b[a+4>>2]=3|d,b[(v=a+d+4|0)>>2]=1|b[v>>2]),S=w,0|(v=a+8|0);if((h=0|b[5832])>>>0>m>>>0)return t=h-m|0,b[5832]=t,u=(v=0|b[5835])+m|0,b[5835]=u,b[u+4>>2]=1|t,b[v+4>>2]=3|m,S=w,0|(v=v+8|0);if(0|b[5947]?a=0|b[5949]:(b[5949]=4096,b[5948]=4096,b[5950]=-1,b[5951]=-1,b[5952]=0,b[5940]=0,b[5947]=-16&n^1431655768,a=4096),i=m+48|0,(k=(g=a+(j=m+47|0)|0)&(f=0-a|0))>>>0<=m>>>0)return S=w,0|(v=0);if(0|(a=0|b[5939])&&(n=(l=0|b[5937])+k|0)>>>0<=l>>>0|n>>>0>a>>>0)return S=w,0|(v=0);d:do{if(4&b[5940])c=0,q=143;else{d=0|b[5835];e:do{if(d){for(e=23764;!((n=0|b[e>>2])>>>0<=d>>>0&&(n+(0|b[e+4>>2])|0)>>>0>d>>>0);){if(!(a=0|b[e+8>>2])){q=128;break e}e=a}if((c=g-h&f)>>>0<2147483647)if((0|(a=0|jd(0|c)))==((0|b[e>>2])+(0|b[e+4>>2])|0)){if(-1!=(0|a)){h=c,g=a,q=145;break d}}else e=a,q=136;else c=0}else q=128}while(0);do{if(128==(0|q))if(-1!=(0|(d=0|jd(0)))&&(c=d,p=(c=(0==((p=(o=0|b[5948])+-1|0)&c|0)?0:(p+c&0-o)-c|0)+k|0)+(o=0|b[5937])|0,c>>>0>m>>>0&c>>>0<2147483647)){if(0|(n=0|b[5939])&&p>>>0<=o>>>0|p>>>0>n>>>0){c=0;break}if((0|(a=0|jd(0|c)))==(0|d)){h=c,g=d,q=145;break d}e=a,q=136}else c=0}while(0);do{if(136==(0|q)){if(d=0-c|0,!(i>>>0>c>>>0&c>>>0<2147483647&-1!=(0|e))){if(-1==(0|e)){c=0;break}h=c,g=e,q=145;break d}if((a=j-c+(a=0|b[5949])&0-a)>>>0>=2147483647){h=c,g=e,q=145;break d}if(-1==(0|jd(0|a))){jd(0|d),c=0;break}h=a+c|0,g=e,q=145;break d}}while(0);b[5940]=4|b[5940],q=143}}while(0);if(143==(0|q)&&k>>>0<2147483647&&!(-1==(0|(t=0|jd(0|k)))|1^(s=(r=(p=0|jd(0))-t|0)>>>0>(m+40|0)>>>0)|t>>>0<p>>>0&-1!=(0|t)&-1!=(0|p)^1)&&(h=s?r:c,g=t,q=145),145==(0|q)){c=(0|b[5937])+h|0,b[5937]=c,c>>>0>(0|b[5938])>>>0&&(b[5938]=c),j=0|b[5835];f:do{if(j){for(c=23764;;){if((0|g)==((a=0|b[c>>2])+(d=0|b[c+4>>2])|0)){q=154;break}if(!(e=0|b[c+8>>2]))break;c=e}if(154==(0|q)&&(u=c+4|0,0==(8&b[c+12>>2]|0))&&g>>>0>j>>>0&a>>>0<=j>>>0){b[u>>2]=d+h,u=j+(t=0==(7&(t=j+8|0)|0)?0:0-t&7)|0,t=(v=(0|b[5832])+h|0)-t|0,b[5835]=u,b[5832]=t,b[u+4>>2]=1|t,b[j+v+4>>2]=40,b[5836]=b[5951];break}for(g>>>0<(0|b[5833])>>>0&&(b[5833]=g),d=g+h|0,c=23764;;){if((0|b[c>>2])==(0|d)){q=162;break}if(!(a=0|b[c+8>>2]))break;c=a}if(162==(0|q)&&0==(8&b[c+12>>2]|0)){b[c>>2]=g,b[(l=c+4|0)>>2]=(0|b[l>>2])+h,k=(l=g+(0==(7&(l=g+8|0)|0)?0:0-l&7)|0)+m|0,i=(c=d+(0==(7&(c=d+8|0)|0)?0:0-c&7)|0)-l-m|0,b[l+4>>2]=3|m;g:do{if((0|j)==(0|c))v=(0|b[5832])+i|0,b[5832]=v,b[5835]=k,b[k+4>>2]=1|v;else{if((0|b[5834])==(0|c)){v=(0|b[5831])+i|0,b[5831]=v,b[5834]=k,b[k+4>>2]=1|v,b[k+v>>2]=v;break}if(1==(3&(a=0|b[c+4>>2])|0)){h=-8&a,e=a>>>3;h:do{if(a>>>0<256){if(a=0|b[c+8>>2],(0|(d=0|b[c+12>>2]))==(0|a)){b[5829]=b[5829]&~(1<<e);break}b[a+12>>2]=d,b[d+8>>2]=a;break}g=0|b[c+24>>2],a=0|b[c+12>>2];do{if((0|a)==(0|c)){if(a=0|b[(e=(d=c+16|0)+4|0)>>2])d=e;else if(!(a=0|b[d>>2])){a=0;break}for(;;)if(e=0|b[(f=a+20|0)>>2])a=e,d=f;else{if(!(e=0|b[(f=a+16|0)>>2]))break;a=e,d=f}b[d>>2]=0}else v=0|b[c+8>>2],b[v+12>>2]=a,b[a+8>>2]=v}while(0);if(!g)break;e=23620+((d=0|b[c+28>>2])<<2)|0;do{if((0|b[e>>2])==(0|c)){if(b[e>>2]=a,0|a)break;b[5830]=b[5830]&~(1<<d);break h}if(b[((0|b[(v=g+16|0)>>2])==(0|c)?v:g+20|0)>>2]=a,!a)break h}while(0);if(b[a+24>>2]=g,0|(e=0|b[(d=c+16|0)>>2])&&(b[a+16>>2]=e,b[e+24>>2]=a),!(d=0|b[d+4>>2]))break;b[a+20>>2]=d,b[d+24>>2]=a}while(0);c=c+h|0,f=h+i|0}else f=i;if(b[(c=c+4|0)>>2]=-2&b[c>>2],b[k+4>>2]=1|f,b[k+f>>2]=f,c=f>>>3,f>>>0<256){d=23356+(c<<1<<2)|0,(a=0|b[5829])&(c=1<<c)?c=0|b[(a=d+8|0)>>2]:(b[5829]=a|c,c=d,a=d+8|0),b[a>>2]=k,b[c+12>>2]=k,b[k+8>>2]=c,b[k+12>>2]=d;break}c=f>>>8;do{if(c){if(f>>>0>16777215){e=31;break}e=f>>>((e=14-((t=((v=c<<(u=(c+1048320|0)>>>16&8))+520192|0)>>>16&4)|u|(e=((v<<=t)+245760|0)>>>16&2))+(v<<e>>>15)|0)+7|0)&1|e<<1}else e=0}while(0);if(c=23620+(e<<2)|0,b[k+28>>2]=e,b[(a=k+16|0)+4>>2]=0,b[a>>2]=0,!((a=0|b[5830])&(d=1<<e))){b[5830]=a|d,b[c>>2]=k,b[k+24>>2]=c,b[k+12>>2]=k,b[k+8>>2]=k;break}c=0|b[c>>2];i:do{if((-8&b[c+4>>2]|0)!=(0|f)){for(e=f<<(31==(0|e)?0:25-(e>>>1)|0);a=0|b[(d=c+16+(e>>>31<<2)|0)>>2];){if((-8&b[a+4>>2]|0)==(0|f)){c=a;break i}e<<=1,c=a}b[d>>2]=k,b[k+24>>2]=c,b[k+12>>2]=k,b[k+8>>2]=k;break g}}while(0);v=0|b[(u=c+8|0)>>2],b[v+12>>2]=k,b[u>>2]=k,b[k+8>>2]=v,b[k+12>>2]=c,b[k+24>>2]=0}}while(0);return S=w,0|(v=l+8|0)}for(c=23764;!((a=0|b[c>>2])>>>0<=j>>>0&&(v=a+(0|b[c+4>>2])|0)>>>0>j>>>0);)c=0|b[c+8>>2];c=(a=(a=(f=v+-47|0)+(0==(7&(a=f+8|0)|0)?0:0-a&7)|0)>>>0<(f=j+16|0)>>>0?j:a)+8|0,u=g+(t=0==(7&(t=g+8|0)|0)?0:0-t&7)|0,t=(d=h+-40|0)-t|0,b[5835]=u,b[5832]=t,b[u+4>>2]=1|t,b[g+d+4>>2]=40,b[5836]=b[5951],b[(d=a+4|0)>>2]=27,b[c>>2]=b[5941],b[c+4>>2]=b[5942],b[c+8>>2]=b[5943],b[c+12>>2]=b[5944],b[5941]=g,b[5942]=h,b[5944]=0,b[5943]=c,c=a+24|0;do{u=c,b[(c=c+4|0)>>2]=7}while((u+8|0)>>>0<v>>>0);if((0|a)!=(0|j)){if(g=a-j|0,b[d>>2]=-2&b[d>>2],b[j+4>>2]=1|g,b[a>>2]=g,c=g>>>3,g>>>0<256){d=23356+(c<<1<<2)|0,(a=0|b[5829])&(c=1<<c)?c=0|b[(a=d+8|0)>>2]:(b[5829]=a|c,c=d,a=d+8|0),b[a>>2]=j,b[c+12>>2]=j,b[j+8>>2]=c,b[j+12>>2]=d;break}if(d=23620+((e=(c=g>>>8)?g>>>0>16777215?31:g>>>((e=14-((t=((v=c<<(u=(c+1048320|0)>>>16&8))+520192|0)>>>16&4)|u|(e=((v<<=t)+245760|0)>>>16&2))+(v<<e>>>15)|0)+7|0)&1|e<<1:0)<<2)|0,b[j+28>>2]=e,b[j+20>>2]=0,b[f>>2]=0,!((c=0|b[5830])&(a=1<<e))){b[5830]=c|a,b[d>>2]=j,b[j+24>>2]=d,b[j+12>>2]=j,b[j+8>>2]=j;break}c=0|b[d>>2];j:do{if((-8&b[c+4>>2]|0)!=(0|g)){for(e=g<<(31==(0|e)?0:25-(e>>>1)|0);a=0|b[(d=c+16+(e>>>31<<2)|0)>>2];){if((-8&b[a+4>>2]|0)==(0|g)){c=a;break j}e<<=1,c=a}b[d>>2]=j,b[j+24>>2]=c,b[j+12>>2]=j,b[j+8>>2]=j;break f}}while(0);v=0|b[(u=c+8|0)>>2],b[v+12>>2]=j,b[u>>2]=j,b[j+8>>2]=v,b[j+12>>2]=c,b[j+24>>2]=0}}else 0==(0|(v=0|b[5833]))|g>>>0<v>>>0&&(b[5833]=g),b[5941]=g,b[5942]=h,b[5944]=0,b[5838]=b[5947],b[5837]=-1,b[5842]=23356,b[5841]=23356,b[5844]=23364,b[5843]=23364,b[5846]=23372,b[5845]=23372,b[5848]=23380,b[5847]=23380,b[5850]=23388,b[5849]=23388,b[5852]=23396,b[5851]=23396,b[5854]=23404,b[5853]=23404,b[5856]=23412,b[5855]=23412,b[5858]=23420,b[5857]=23420,b[5860]=23428,b[5859]=23428,b[5862]=23436,b[5861]=23436,b[5864]=23444,b[5863]=23444,b[5866]=23452,b[5865]=23452,b[5868]=23460,b[5867]=23460,b[5870]=23468,b[5869]=23468,b[5872]=23476,b[5871]=23476,b[5874]=23484,b[5873]=23484,b[5876]=23492,b[5875]=23492,b[5878]=23500,b[5877]=23500,b[5880]=23508,b[5879]=23508,b[5882]=23516,b[5881]=23516,b[5884]=23524,b[5883]=23524,b[5886]=23532,b[5885]=23532,b[5888]=23540,b[5887]=23540,b[5890]=23548,b[5889]=23548,b[5892]=23556,b[5891]=23556,b[5894]=23564,b[5893]=23564,b[5896]=23572,b[5895]=23572,b[5898]=23580,b[5897]=23580,b[5900]=23588,b[5899]=23588,b[5902]=23596,b[5901]=23596,b[5904]=23604,b[5903]=23604,u=g+(t=0==(7&(t=g+8|0)|0)?0:0-t&7)|0,t=(v=h+-40|0)-t|0,b[5835]=u,b[5832]=t,b[u+4>>2]=1|t,b[g+v+4>>2]=40,b[5836]=b[5951]}while(0);if((c=0|b[5832])>>>0>m>>>0)return t=c-m|0,b[5832]=t,u=(v=0|b[5835])+m|0,b[5835]=u,b[u+4>>2]=1|t,b[v+4>>2]=3|m,S=w,0|(v=v+8|0)}return b[(v=23312)>>2]=12,S=w,0|(v=0)}function Xc(a){var c=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0;if(a|=0){d=a+-8|0,f=0|b[5833],j=d+(c=-8&(a=0|b[a+-4>>2]))|0;do{if(1&a)i=d,h=d;else{if(e=0|b[d>>2],!(3&a))return;if(g=e+c|0,(h=d+(0-e)|0)>>>0<f>>>0)return;if((0|b[5834])==(0|h)){if(3!=(3&(c=0|b[(a=j+4|0)>>2])|0)){i=h,c=g;break}return b[5831]=g,b[a>>2]=-2&c,b[h+4>>2]=1|g,void(b[h+g>>2]=g)}if(d=e>>>3,e>>>0<256){if(a=0|b[h+8>>2],(0|(c=0|b[h+12>>2]))==(0|a)){b[5829]=b[5829]&~(1<<d),i=h,c=g;break}b[a+12>>2]=c,b[c+8>>2]=a,i=h,c=g;break}f=0|b[h+24>>2],a=0|b[h+12>>2];do{if((0|a)==(0|h)){if(a=0|b[(d=(c=h+16|0)+4|0)>>2])c=d;else if(!(a=0|b[c>>2])){a=0;break}for(;;)if(d=0|b[(e=a+20|0)>>2])a=d,c=e;else{if(!(d=0|b[(e=a+16|0)>>2]))break;a=d,c=e}b[c>>2]=0}else i=0|b[h+8>>2],b[i+12>>2]=a,b[a+8>>2]=i}while(0);if(f){if(c=0|b[h+28>>2],(0|b[(d=23620+(c<<2)|0)>>2])==(0|h)){if(b[d>>2]=a,!a){b[5830]=b[5830]&~(1<<c),i=h,c=g;break}}else if(b[((0|b[(i=f+16|0)>>2])==(0|h)?i:f+20|0)>>2]=a,!a){i=h,c=g;break}b[a+24>>2]=f,0|(d=0|b[(c=h+16|0)>>2])&&(b[a+16>>2]=d,b[d+24>>2]=a),(c=0|b[c+4>>2])?(b[a+20>>2]=c,b[c+24>>2]=a,i=h,c=g):(i=h,c=g)}else i=h,c=g}}while(0);if(!(h>>>0>=j>>>0)&&1&(e=0|b[(a=j+4|0)>>2])){if(2&e)b[a>>2]=-2&e,b[i+4>>2]=1|c,b[h+c>>2]=c,f=c;else{if((0|b[5835])==(0|j)){if(j=(0|b[5832])+c|0,b[5832]=j,b[5835]=i,b[i+4>>2]=1|j,(0|i)!=(0|b[5834]))return;return b[5834]=0,void(b[5831]=0)}if((0|b[5834])==(0|j))return j=(0|b[5831])+c|0,b[5831]=j,b[5834]=h,b[i+4>>2]=1|j,void(b[h+j>>2]=j);f=(-8&e)+c|0,d=e>>>3;do{if(e>>>0<256){if(c=0|b[j+8>>2],(0|(a=0|b[j+12>>2]))==(0|c)){b[5829]=b[5829]&~(1<<d);break}b[c+12>>2]=a,b[a+8>>2]=c;break}g=0|b[j+24>>2],a=0|b[j+12>>2];do{if((0|a)==(0|j)){if(a=0|b[(d=(c=j+16|0)+4|0)>>2])c=d;else if(!(a=0|b[c>>2])){d=0;break}for(;;)if(d=0|b[(e=a+20|0)>>2])a=d,c=e;else{if(!(d=0|b[(e=a+16|0)>>2]))break;a=d,c=e}b[c>>2]=0,d=a}else d=0|b[j+8>>2],b[d+12>>2]=a,b[a+8>>2]=d,d=a}while(0);if(0|g){if(a=0|b[j+28>>2],(0|b[(c=23620+(a<<2)|0)>>2])==(0|j)){if(b[c>>2]=d,!d){b[5830]=b[5830]&~(1<<a);break}}else if(b[((0|b[(e=g+16|0)>>2])==(0|j)?e:g+20|0)>>2]=d,!d)break;b[d+24>>2]=g,0|(c=0|b[(a=j+16|0)>>2])&&(b[d+16>>2]=c,b[c+24>>2]=d),0|(a=0|b[a+4>>2])&&(b[d+20>>2]=a,b[a+24>>2]=d)}}while(0);if(b[i+4>>2]=1|f,b[h+f>>2]=f,(0|i)==(0|b[5834]))return void(b[5831]=f)}if(a=f>>>3,f>>>0<256)return d=23356+(a<<1<<2)|0,(c=0|b[5829])&(a=1<<a)?a=0|b[(c=d+8|0)>>2]:(b[5829]=c|a,a=d,c=d+8|0),b[c>>2]=i,b[a+12>>2]=i,b[i+8>>2]=a,void(b[i+12>>2]=d);a=23620+((e=(a=f>>>8)?f>>>0>16777215?31:f>>>((e=14-((g=((j=a<<(h=(a+1048320|0)>>>16&8))+520192|0)>>>16&4)|h|(e=((j<<=g)+245760|0)>>>16&2))+(j<<e>>>15)|0)+7|0)&1|e<<1:0)<<2)|0,b[i+28>>2]=e,b[i+20>>2]=0,b[i+16>>2]=0,c=0|b[5830],d=1<<e;a:do{if(c&d){a=0|b[a>>2];b:do{if((-8&b[a+4>>2]|0)!=(0|f)){for(e=f<<(31==(0|e)?0:25-(e>>>1)|0);c=0|b[(d=a+16+(e>>>31<<2)|0)>>2];){if((-8&b[c+4>>2]|0)==(0|f)){a=c;break b}e<<=1,a=c}b[d>>2]=i,b[i+24>>2]=a,b[i+12>>2]=i,b[i+8>>2]=i;break a}}while(0);j=0|b[(h=a+8|0)>>2],b[j+12>>2]=i,b[h>>2]=i,b[i+8>>2]=j,b[i+12>>2]=a,b[i+24>>2]=0}else b[5830]=c|d,b[a>>2]=i,b[i+24>>2]=a,b[i+12>>2]=i,b[i+8>>2]=i}while(0);if(j=(0|b[5837])-1|0,b[5837]=j,!(0|j)){for(a=23772;a=0|b[a>>2];)a=a+8|0;b[5837]=-1}}}}function Yc(a,c){c|=0;var d=0;return(a|=0)?(d=0|B(c,a),(c|a)>>>0>65535&&(d=(0|(d>>>0)/(a>>>0))==(0|c)?d:-1)):d=0,(a=0|Wc(d))&&3&b[a+-4>>2]?(hd(0|a,0,0|d),0|a):0|a}function _c(a,b,c,d){return 0|(F(0|(d=(b|=0)-(d|=0)-((c|=0)>>>0>(a|=0)>>>0|0)>>>0)),a-c>>>0|0)}function $c(a){return 0|((a|=0)?31-(0|D(a^a-1))|0:32)}function ad(a,c,d,e,f){f|=0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;if(l=a|=0,h=d|=0,i=n=e|=0,!(k=j=c|=0))return g=0!=(0|f),i?g?(b[f>>2]=0|a,b[f+4>>2]=0&c,f=0,0|(F(0|(n=0)),f)):(f=0,0|(F(0|(n=0)),f)):(g&&(b[f>>2]=(l>>>0)%(h>>>0),b[f+4>>2]=0),f=(l>>>0)/(h>>>0)>>>0,0|(F(0|(n=0)),f));g=0==(0|i);do{if(h){if(!g){if((g=(0|D(0|i))-(0|D(0|k))|0)>>>0<=31){h=m=g+1|0,a=l>>>(m>>>0)&(c=g-31>>31)|k<<(i=31-g|0),c&=k>>>(m>>>0),g=0,i=l<<i;break}return f?(b[f>>2]=0|a,b[f+4>>2]=j|0&c,f=0,0|(F(0|(n=0)),f)):(f=0,0|(F(0|(n=0)),f))}if((g=h-1|0)&h|0){h=i=33+(0|D(0|h))-(0|D(0|k))|0,a=(m=32-i|0)-1>>31&k>>>((o=i-32|0)>>>0)|(k<<m|l>>>(i>>>0))&(c=o>>31),c&=k>>>(i>>>0),g=l<<(p=64-i|0)&(j=m>>31),i=(k<<p|l>>>(o>>>0))&j|l<<m&i-33>>31;break}return 0|f&&(b[f>>2]=g&l,b[f+4>>2]=0),1==(0|h)?(p=0|a,0|(F(0|(o=j|0&c)),p)):(o=k>>>((p=0|$c(0|h))>>>0)|0,p=k<<32-p|l>>>(p>>>0)|0,0|(F(0|o),p))}if(g)return 0|f&&(b[f>>2]=(k>>>0)%(h>>>0),b[f+4>>2]=0),p=(k>>>0)/(h>>>0)>>>0,0|(F(0|(o=0)),p);if(!l)return 0|f&&(b[f>>2]=0,b[f+4>>2]=(k>>>0)%(i>>>0)),p=(k>>>0)/(i>>>0)>>>0,0|(F(0|(o=0)),p);if(!((g=i-1|0)&i))return 0|f&&(b[f>>2]=0|a,b[f+4>>2]=g&k|0&c),o=0,p=k>>>((0|$c(0|i))>>>0),0|(F(0|o),p);if((g=(0|D(0|i))-(0|D(0|k))|0)>>>0<=30){h=c=g+1|0,a=k<<(i=31-g|0)|l>>>(c>>>0),c=k>>>(c>>>0),g=0,i=l<<i;break}return f?(b[f>>2]=0|a,b[f+4>>2]=j|0&c,p=0,0|(F(0|(o=0)),p)):(p=0,0|(F(0|(o=0)),p))}while(0);if(h){k=0|function Zc(a,b,c,d){return 0|(F((b|=0)+(d|=0)+((c=(a|=0)+(c|=0)>>>0)>>>0<a>>>0|0)>>>0|0),0|c)}(0|(m=0|d),0|(l=n|0&e),-1,-1),d=0|G(),j=i,i=0;do{e=j,j=g>>>31|j<<1,g=i|g<<1,_c(0|k,0|d,0|(e=a<<1|e>>>31|0),0|(n=a>>>31|c<<1|0)),i=1&(o=(p=0|G())>>31|((0|p)<0?-1:0)<<1),a=0|_c(0|e,0|n,o&m|0,(((0|p)<0?-1:0)>>31|((0|p)<0?-1:0)<<1)&l|0),c=0|G(),h=h-1|0}while(0!=(0|h));k=j,j=0}else k=i,j=0,i=0;return h=0,0|f&&(b[f>>2]=a,b[f+4>>2]=c),p=-2&(g<<1|0)|i,0|(F(0|(o=(0|g)>>>31|(k|h)<<1|0&(h<<1|g>>>31)|j)),p)}function bd(a,c,d,e){var f,g;return g=S,S=S+16|0,ad(a|=0,c|=0,d|=0,e|=0,f=0|g),S=g,0|(F(0|b[f+4>>2]),0|b[f>>2])}function cd(a,b,c){return a|=0,b|=0,(0|(c|=0))<32?(F(b>>>c|0),a>>>c|(b&(1<<c)-1)<<32-c):(F(0),b>>>c-32|0)}function dd(a,b,c){return a|=0,b|=0,(0|(c|=0))<32?(F(b<<c|(a&(1<<c)-1<<32-c)>>>32-c|0),a<<c):(F(a<<c-32|0),0)}function ed(a,b){return b=+b,(a=+a)!=a?+b:b!=b?+a:+C(+a,+b)}function fd(a){return(a=+a)>=0?+p(a+.5):+A(a-.5)}function gd(c,d,e){c|=0,d|=0;var g,h,f=0;if((0|(e|=0))>=8192)return K(0|c,0|d,0|e),0|c;if(h=0|c,g=c+e|0,(3&c)==(3&d)){for(;3&c;){if(!e)return 0|h;a[c>>0]=0|a[d>>0],c=c+1|0,d=d+1|0,e=e-1|0}for(f=(e=-4&g|0)-64|0;(0|c)<=(0|f);)b[c>>2]=b[d>>2],b[c+4>>2]=b[d+4>>2],b[c+8>>2]=b[d+8>>2],b[c+12>>2]=b[d+12>>2],b[c+16>>2]=b[d+16>>2],b[c+20>>2]=b[d+20>>2],b[c+24>>2]=b[d+24>>2],b[c+28>>2]=b[d+28>>2],b[c+32>>2]=b[d+32>>2],b[c+36>>2]=b[d+36>>2],b[c+40>>2]=b[d+40>>2],b[c+44>>2]=b[d+44>>2],b[c+48>>2]=b[d+48>>2],b[c+52>>2]=b[d+52>>2],b[c+56>>2]=b[d+56>>2],b[c+60>>2]=b[d+60>>2],c=c+64|0,d=d+64|0;for(;(0|c)<(0|e);)b[c>>2]=b[d>>2],c=c+4|0,d=d+4|0}else for(e=g-4|0;(0|c)<(0|e);)a[c>>0]=0|a[d>>0],a[c+1>>0]=0|a[d+1>>0],a[c+2>>0]=0|a[d+2>>0],a[c+3>>0]=0|a[d+3>>0],c=c+4|0,d=d+4|0;for(;(0|c)<(0|g);)a[c>>0]=0|a[d>>0],c=c+1|0,d=d+1|0;return 0|h}function hd(c,d,e){d|=0;var h,f=0,g=0,i=0;if(h=(c|=0)+(e|=0)|0,d&=255,(0|e)>=67){for(;3&c;)a[c>>0]=d,c=c+1|0;for(i=d|d<<8|d<<16|d<<24,g=(f=-4&h|0)-64|0;(0|c)<=(0|g);)b[c>>2]=i,b[c+4>>2]=i,b[c+8>>2]=i,b[c+12>>2]=i,b[c+16>>2]=i,b[c+20>>2]=i,b[c+24>>2]=i,b[c+28>>2]=i,b[c+32>>2]=i,b[c+36>>2]=i,b[c+40>>2]=i,b[c+44>>2]=i,b[c+48>>2]=i,b[c+52>>2]=i,b[c+56>>2]=i,b[c+60>>2]=i,c=c+64|0;for(;(0|c)<(0|f);)b[c>>2]=i,c=c+4|0}for(;(0|c)<(0|h);)a[c>>0]=d,c=c+1|0;return h-e|0}function id(a){return(a=+a)>=0?+p(a+.5):+A(a-.5)}function jd(a){a|=0;var c,d,e;return e=0|J(),(0|a)>0&(0|(c=(d=0|b[g>>2])+a|0))<(0|d)|(0|c)<0?(M(0|c),I(12),-1):(0|c)>(0|e)&&!(0|L(0|c))?(I(12),-1):(b[g>>2]=c,0|d)}return{___uremdi3:bd,_bitshift64Lshr:cd,_bitshift64Shl:dd,_calloc:Yc,_cellAreaKm2:function ub(a,c){var e,f,g,d=0;if(g=S,S=S+192|0,f=g,Vb(a|=0,c|=0,e=g+168|0),Wb(a,c,f),(0|(c=0|b[f>>2]))>0){if(d=+sb(f+8|0,f+8+((1!=(0|c)&1)<<4)|0,e)+0,1!=(0|c)){a=1;do{d+=+sb(f+8+(a<<4)|0,f+8+(((0|(a=a+1|0))%(0|c)|0)<<4)|0,e)}while((0|a)<(0|c))}}else d=0;return S=g,6371.007180918475*d*6371.007180918475},_cellAreaM2:function vb(a,c){var e,f,g,d=0;if(g=S,S=S+192|0,f=g,Vb(a|=0,c|=0,e=g+168|0),Wb(a,c,f),(0|(c=0|b[f>>2]))>0){if(d=+sb(f+8|0,f+8+((1!=(0|c)&1)<<4)|0,e)+0,1!=(0|c)){a=1;do{d+=+sb(f+8+(a<<4)|0,f+8+(((0|(a=a+1|0))%(0|c)|0)<<4)|0,e)}while((0|a)<(0|c))}}else d=0;return S=g,6371.007180918475*d*6371.007180918475*1e3*1e3},_cellAreaRads2:function tb(a,c){var e,f,g,d=0;if(g=S,S=S+192|0,f=g,Vb(a|=0,c|=0,e=g+168|0),Wb(a,c,f),(0|(c=0|b[f>>2]))<=0)return S=g,+(d=0);if(d=+sb(f+8|0,f+8+((1!=(0|c)&1)<<4)|0,e)+0,1==(0|c))return S=g,+d;a=1;do{d+=+sb(f+8+(a<<4)|0,f+8+(((0|(a=a+1|0))%(0|c)|0)<<4)|0,e)}while((0|a)<(0|c));return S=g,+d},_compact:function Hb(a,c,d){c|=0;var v,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,w=0,x=0,y=0,z=0;if(!(d|=0))return 0|(y=0);if(e=0|b[(f=a|=0)>>2],!0&0==(15728640&(f=0|b[f+4>>2])|0)){if((0|d)<=0)return 0|(y=0);if(b[(y=c)>>2]=e,b[y+4>>2]=f,1==(0|d))return 0|(y=0);e=1;do{x=0|b[(w=a+(e<<3)|0)+4>>2],b[(y=c+(e<<3)|0)>>2]=b[w>>2],b[y+4>>2]=x,e=e+1|0}while((0|e)!=(0|d));return 0|(e=0)}if(!(x=0|Wc(w=d<<3)))return 0|(y=-3);if(gd(0|x,0|a,0|w),!(v=0|Yc(d,8)))return Xc(x),0|(y=-3);e=d;a:for(;;){t=0|cd(0|(l=0|b[(h=x)>>2]),0|(h=0|b[h+4>>2]),52),G(),u=(t&=15)+-1|0,s=(0|e)>0;b:do{if(s){if(r=((0|e)<0)<<31>>31,p=0|dd(0|u,0,52),q=0|G(),u>>>0>15)for(f=0,a=l,d=h;;){if(!(0==(0|a)&0==(0|d))){if(g=0|cd(0|a,0|d,52),G(),i=(0|(g&=15))<(0|u),g=(0|g)==(0|u),d=0|bd(0|(k=i?0:g?a:0),0|(a=i?0:g?d:0),0|e,0|r),G(),0==(0|(j=0|b[(i=g=v+(d<<3)|0)>>2]))&0==(0|(i=0|b[i+4>>2])))d=k;else for(p=0,o=d,n=i,d=k;;){if((0|p)>(0|e)){y=41;break a}if((0|j)==(0|d)&(-117440513&n|0)==(0|a)){k=0|cd(0|j,0|n,56),G(),m=(k&=7)+1|0,q=0|cd(0|j,0|n,45),G();c:do{if(0|la(127&q)){if(j=0|cd(0|j,0|n,52),G(),!(j&=15)){i=6;break}for(i=1;;){if(!(0==((q=0|dd(7,0,3*(15-i|0)|0))&d|0)&0==((0|G())&a|0))){i=7;break c}if(!(i>>>0<j>>>0)){i=6;break}i=i+1|0}}else i=7}while(0);if((k+2|0)>>>0>i>>>0){y=51;break a}q=0|dd(0|m,0,56),a=0|G()|-117440513&a,b[(i=g)>>2]=0,b[i+4>>2]=0,i=o,d|=q}else i=(o+1|0)%(0|e)|0;if(0==(0|(j=0|b[(n=g=v+(i<<3)|0)>>2]))&0==(0|(n=0|b[n+4>>2])))break;p=p+1|0,o=i}b[(q=g)>>2]=d,b[q+4>>2]=a}if((0|(f=f+1|0))>=(0|e))break b;a=0|b[(d=x+(f<<3)|0)>>2],d=0|b[d+4>>2]}for(f=0,a=l,d=h;;){if(!(0==(0|a)&0==(0|d))){if(i=0|cd(0|a,0|d,52),G(),(0|(i&=15))>=(0|u)){if((0|i)!=(0|u)&&(a|=p,d=-15728641&d|q,i>>>0>=t>>>0)){g=u;do{o=0|dd(7,0,3*(14-g|0)|0),g=g+1|0,a|=o,d=0|G()|d}while(g>>>0<i>>>0)}}else a=0,d=0;if(i=0|bd(0|a,0|d,0|e,0|r),G(),!(0==(0|(k=0|b[(j=g=v+(i<<3)|0)>>2]))&0==(0|(j=0|b[j+4>>2]))))for(o=0;;){if((0|o)>(0|e)){y=41;break a}if((0|k)==(0|a)&(-117440513&j|0)==(0|d)){m=0|cd(0|k,0|j,56),G(),n=(m&=7)+1|0,z=0|cd(0|k,0|j,45),G();d:do{if(0|la(127&z)){if(k=0|cd(0|k,0|j,52),G(),!(k&=15)){j=6;break}for(j=1;;){if(!(0==((z=0|dd(7,0,3*(15-j|0)|0))&a|0)&0==((0|G())&d|0))){j=7;break d}if(!(j>>>0<k>>>0)){j=6;break}j=j+1|0}}else j=7}while(0);if((m+2|0)>>>0>j>>>0){y=51;break a}z=0|dd(0|n,0,56),d=0|G()|-117440513&d,b[(n=g)>>2]=0,b[n+4>>2]=0,a|=z}else i=(i+1|0)%(0|e)|0;if(0==(0|(k=0|b[(j=g=v+(i<<3)|0)>>2]))&0==(0|(j=0|b[j+4>>2])))break;o=o+1|0}b[(z=g)>>2]=a,b[z+4>>2]=d}if((0|(f=f+1|0))>=(0|e))break b;a=0|b[(d=x+(f<<3)|0)>>2],d=0|b[d+4>>2]}}}while(0);if((e+5|0)>>>0<11){y=99;break}if(!(q=0|Yc((0|e)/6|0,8))){y=58;break}e:do{if(s){o=0,n=0;do{if(!(0==(0|(f=0|b[(a=i=v+(o<<3)|0)>>2]))&0==(0|(a=0|b[a+4>>2])))){j=0|cd(0|f,0|a,56),G(),d=(j&=7)+1|0,k=-117440513&a,z=0|cd(0|f,0|a,45),G();f:do{if(0|la(127&z)){if(m=0|cd(0|f,0|a,52),G(),0|(m&=15))for(g=1;;){if(!(0==(f&(z=0|dd(7,0,3*(15-g|0)|0))|0)&0==(k&(0|G())|0)))break f;if(!(g>>>0<m>>>0))break;g=g+1|0}f|=a=0|dd(0|d,0,56),a=0|G()|k,b[(d=i)>>2]=f,b[d+4>>2]=a,d=j+2|0}}while(0);7==(0|d)&&(b[(z=q+(n<<3)|0)>>2]=f,b[z+4>>2]=-117440513&a,n=n+1|0)}o=o+1|0}while((0|o)!=(0|e));if(s){if(p=((0|e)<0)<<31>>31,m=0|dd(0|u,0,52),o=0|G(),u>>>0>15)for(a=0,f=0;;){do{if(!(0==(0|l)&0==(0|h))){for(j=0|cd(0|l,0|h,52),G(),g=(0|(j&=15))<(0|u),j=(0|j)==(0|u),g=0|bd(0|(i=g?0:j?l:0),0|(j=g?0:j?h:0),0|e,0|p),G(),d=0;;){if((0|d)>(0|e)){y=98;break a}if((-117440513&(k=0|b[(z=v+(g<<3)|0)+4>>2])|0)==(0|j)&&(0|b[z>>2])==(0|i)){y=70;break}if((0|b[(z=v+((g=(g+1|0)%(0|e)|0)<<3)|0)>>2])==(0|i)&&(0|b[z+4>>2])==(0|j))break;d=d+1|0}if(70==(0|y)&&(y=0,!0&100663296==(117440512&k|0)))break;b[(z=c+(f<<3)|0)>>2]=l,b[z+4>>2]=h,f=f+1|0}}while(0);if((0|(a=a+1|0))>=(0|e)){e=n;break e}l=0|b[(h=x+(a<<3)|0)>>2],h=0|b[h+4>>2]}for(a=0,f=0;;){do{if(!(0==(0|l)&0==(0|h))){if(j=0|cd(0|l,0|h,52),G(),(0|(j&=15))>=(0|u))if((0|j)!=(0|u))if(d=l|m,g=-15728641&h|o,j>>>0<t>>>0)j=g;else{i=u;do{z=0|dd(7,0,3*(14-i|0)|0),i=i+1|0,d|=z,g=0|G()|g}while(i>>>0<j>>>0);j=g}else d=l,j=h;else d=0,j=0;for(i=0|bd(0|d,0|j,0|e,0|p),G(),g=0;;){if((0|g)>(0|e)){y=98;break a}if((-117440513&(k=0|b[(z=v+(i<<3)|0)+4>>2])|0)==(0|j)&&(0|b[z>>2])==(0|d)){y=93;break}if((0|b[(z=v+((i=(i+1|0)%(0|e)|0)<<3)|0)>>2])==(0|d)&&(0|b[z+4>>2])==(0|j))break;g=g+1|0}if(93==(0|y)&&(y=0,!0&100663296==(117440512&k|0)))break;b[(z=c+(f<<3)|0)>>2]=l,b[z+4>>2]=h,f=f+1|0}}while(0);if((0|(a=a+1|0))>=(0|e)){e=n;break e}l=0|b[(h=x+(a<<3)|0)>>2],h=0|b[h+4>>2]}}else f=0,e=n}else f=0,e=0}while(0);if(hd(0|v,0,0|w),gd(0|x,0|q,e<<3|0),Xc(q),!e)break;c=c+(f<<3)|0}return 41==(0|y)?(Xc(x),Xc(v),0|(z=-1)):51==(0|y)?(Xc(x),Xc(v),0|(z=-2)):58==(0|y)?(Xc(x),Xc(v),0|(z=-3)):98==(0|y)?(Xc(q),Xc(x),Xc(v),0|(z=-1)):(99==(0|y)&&gd(0|c,0|x,e<<3|0),Xc(x),Xc(v),0|(z=0))},_destroyLinkedPolygon:function jc(a){var c=0,d=0,e=0,f=0;if(a|=0)for(e=1;;){if(0|(c=0|b[a>>2]))do{if(0|(d=0|b[c>>2]))do{f=d,d=0|b[d+16>>2],Xc(f)}while(0!=(0|d));f=c,c=0|b[c+8>>2],Xc(f)}while(0!=(0|c));if(c=a,a=0|b[a+8>>2],e||Xc(c),!a)break;e=0}},_edgeLengthKm:function pb(a){return+ +e[20752+((a|=0)<<3)>>3]},_edgeLengthM:function qb(a){return+ +e[20880+((a|=0)<<3)>>3]},_emscripten_replace_memory:function V(newBuffer){return a=new Int8Array(newBuffer),new Uint8Array(newBuffer),b=new Int32Array(newBuffer),new Float32Array(newBuffer),e=new Float64Array(newBuffer),buffer=newBuffer,!0},_exactEdgeLengthKm:function xb(a,c){var h,i,d=0,f=0,g=0,j=0,k=0,l=0;if(i=S,S=S+176|0,gc(a|=0,c|=0,h=i),(0|(a=0|b[h>>2]))<=1)return S=i,+(g=0);c=a+-1|0,a=0,d=0,f=+e[h+8>>3],g=+e[h+16>>3];do{k=f,f=+e[h+8+((a=a+1|0)<<4)>>3],l=+u(.5*(f-k)),j=g,g=+e[h+8+(a<<4)+8>>3],j=l*l+(j=+u(.5*(g-j)))*(+t(+k)*+t(+f)*j),d+=2*+z(+ +r(+j),+ +r(+(1-j)))}while((0|a)!=(0|c));return S=i,+(l=6371.007180918475*d)},_exactEdgeLengthM:function yb(a,c){var h,i,d=0,f=0,g=0,j=0,k=0,l=0;if(i=S,S=S+176|0,gc(a|=0,c|=0,h=i),(0|(a=0|b[h>>2]))<=1)return S=i,+(g=0);c=a+-1|0,a=0,d=0,f=+e[h+8>>3],g=+e[h+16>>3];do{k=f,f=+e[h+8+((a=a+1|0)<<4)>>3],l=+u(.5*(f-k)),j=g,g=+e[h+8+(a<<4)+8>>3],j=l*l+(j=+u(.5*(g-j)))*(+t(+k)*+t(+f)*j),d+=2*+z(+ +r(+j),+ +r(+(1-j)))}while((0|a)!=(0|c));return S=i,+(l=6371.007180918475*d*1e3)},_exactEdgeLengthRads:function wb(a,c){var h,i,d=0,f=0,g=0,j=0,k=0,l=0;if(i=S,S=S+176|0,gc(a|=0,c|=0,h=i),(0|(a=0|b[h>>2]))<=1)return S=i,+(g=0);c=a+-1|0,a=0,d=0,f=+e[h+8>>3],g=+e[h+16>>3];do{k=f,f=+e[h+8+((a=a+1|0)<<4)>>3],l=+u(.5*(f-k)),j=g,g=+e[h+8+(a<<4)+8>>3],j=l*l+(j=+u(.5*(g-j)))*(+t(+f)*+t(+k)*j),d+=2*+z(+ +r(+j),+ +r(+(1-j)))}while((0|a)<(0|c));return S=i,+d},_experimentalH3ToLocalIj:function oc(a,b,c,d,e){var f,g;return e|=0,g=S,S=S+16|0,(a=0|mc(a|=0,b|=0,c|=0,d|=0,f=g))||(Ua(f,e),a=0),S=g,0|a},_experimentalLocalIjToH3:function pc(a,b,c,d){var e,f;return a|=0,b|=0,d|=0,e=S,S=S+16|0,Va(c|=0,f=e),d=0|nc(a,b,f,d),S=e,0|d},_free:Xc,_geoToH3:Sb,_getDestinationH3IndexFromUnidirectionalEdge:function cc(a,c){a|=0;var e,f,d=0;return e=S,S=S+16|0,d=e,!0&268435456==(2013265920&(c|=0)|0)?(f=0|cd(0|a,0|c,56),G(),b[d>>2]=0,d=0|da(a,-2130706433&c|134217728,7&f,d),c=0|G(),F(0|c),S=e,0|d):(d=0,F(0|(c=0)),S=e,0|d)},_getH3IndexesFromUnidirectionalEdge:function ec(a,c,d){a|=0;var e,f,g,h,i=0;g=S,S=S+16|0,e=g,h=!0&268435456==(2013265920&(c|=0)|0),f=-2130706433&c|134217728,b[(i=d|=0)>>2]=h?a:0,b[i+4>>2]=h?f:0,h?(c=0|cd(0|a,0|c,56),G(),b[e>>2]=0,a=0|da(a,f,7&c,e),c=0|G()):(a=0,c=0),b[(i=d+8|0)>>2]=a,b[i+4>>2]=c,S=g},_getH3UnidirectionalEdge:function ac(a,c,d,e){var h,k,f=0,g=0,i=0,j=0,l=0;if(k=S,S=S+16|0,h=k,!(0|$b(a|=0,c|=0,d|=0,e|=0)))return j=0,F(0|(i=0)),S=k,0|j;for(i=-2130706433&c,f=(f=0==(0|Fb(a,c)))?1:2;b[h>>2]=0,g=f+1|0,!((0|(l=0|da(a,c,f,h)))==(0|d)&(0|G())==(0|e));){if(!(g>>>0<7)){f=0,a=0,j=6;break}f=g}return 6==(0|j)?(F(0|f),S=k,0|a):(l=0|dd(0|f,0,56),j=0|i|G()|268435456,l|=a,F(0|j),S=k,0|l)},_getH3UnidirectionalEdgeBoundary:gc,_getH3UnidirectionalEdgesFromHexagon:function fc(a,c,d){d|=0;var f,e=0;f=0==(0|Fb(a|=0,c|=0)),c&=-2130706433,b[(e=d)>>2]=f?a:0,b[e+4>>2]=f?285212672|c:0,b[(e=d+8|0)>>2]=a,b[e+4>>2]=301989888|c,b[(e=d+16|0)>>2]=a,b[e+4>>2]=318767104|c,b[(e=d+24|0)>>2]=a,b[e+4>>2]=335544320|c,b[(e=d+32|0)>>2]=a,b[e+4>>2]=352321536|c,b[(d=d+40|0)>>2]=a,b[d+4>>2]=369098752|c},_getOriginH3IndexFromUnidirectionalEdge:function bc(a,b){var c;return a|=0,F(0|((c=!0&268435456==(2013265920&(b|=0)|0))?-2130706433&b|134217728:0)),0|(c?a:0)},_getPentagonIndexes:_b,_getRes0Indexes:function va(a){a|=0;var c=0,d=0,e=0;c=0;do{dd(0|c,0,45),e=134225919|G(),b[(d=a+(c<<3)|0)>>2]=-1,b[d+4>>2]=e,c=c+1|0}while(122!=(0|c))},_h3Distance:function qc(a,b,c,d){var e,f,g;return c|=0,d|=0,g=S,S=S+32|0,f=g,a=0==(0|mc(a|=0,b|=0,a,b,e=g+12|0))&&0==(0|mc(a,b,c,d,f))?0|Ta(e,f):-1,S=g,0|a},_h3GetBaseCell:Ab,_h3GetFaces:function Yb(a,c,d){d|=0;var m,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0;m=S,S=S+128|0,k=m+112|0,g=m+96|0,l=m,f=0|cd(0|(a|=0),0|(c|=0),52),G(),i=15&f,b[k>>2]=i,h=0|cd(0|a,0|c,45),G(),h&=127;a:do{if(0|la(h)){if(0|i)for(e=1;;){if(!(0==((j=0|dd(7,0,3*(15-e|0)|0))&a|0)&0==((0|G())&c|0))){f=0;break a}if(!(e>>>0<i>>>0))break;e=e+1|0}if(!(1&f))return j=0|dd(i+1|0,0,52),l=0|G()|-15728641&c,Yb((j|a)&~(k=0|dd(7,0,3*(14-i|0)|0)),l&~(0|G()),d),void(S=m);f=1}else f=0}while(0);Ub(a,c,g),f?(bb(g,k,l),j=5):(fb(g,k,l),j=6);b:do{if(0|la(h))if(i)for(e=1;;){if(!(0==((h=0|dd(7,0,3*(15-e|0)|0))&a|0)&0==((0|G())&c|0))){e=8;break b}if(!(e>>>0<i>>>0)){e=20;break}e=e+1|0}else e=20;else e=8}while(0);if(hd(0|d,-1,0|e),f){f=0;do{for(db(g=l+(f<<4)|0,0|b[k>>2]),g=0|b[g>>2],e=0;!(-1==(0|(i=0|b[(h=d+(e<<2)|0)>>2]))|(0|i)==(0|g));)e=e+1|0;b[h>>2]=g,f=f+1|0}while((0|f)!=(0|j))}else{f=0;do{for(cb(g=l+(f<<4)|0,0|b[k>>2],0,1),g=0|b[g>>2],e=0;!(-1==(0|(i=0|b[(h=d+(e<<2)|0)>>2]))|(0|i)==(0|g));)e=e+1|0;b[h>>2]=g,f=f+1|0}while((0|f)!=(0|j))}S=m},_h3GetResolution:function zb(a,b){return b=0|cd(0|(a|=0),0|(b|=0),52),G(),15&b|0},_h3IndexesAreNeighbors:$b,_h3IsPentagon:Fb,_h3IsResClassIII:function Kb(a,b){return b=0|cd(0|(a|=0),0|(b|=0),52),G(),1&b|0},_h3IsValid:Bb,_h3Line:function sc(a,c,d,e,f){d|=0,e|=0,f|=0;var x,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,r=0,s=0,t=0,u=0,v=0,w=0,y=0;if(x=S,S=S+48|0,h=x+12|0,w=x,0==(0|mc(a|=0,c|=0,a,c,g=x+24|0))&&0==(0|mc(a,c,d,e,h))){if((0|(v=0|Ta(g,h)))<0)return S=x,0|(w=v);for(b[g>>2]=0,b[g+4>>2]=0,b[g+8>>2]=0,b[h>>2]=0,b[h+4>>2]=0,b[h+8>>2]=0,mc(a,c,a,c,g),mc(a,c,d,e,h),Wa(g),Wa(h),v?(o=+(0|v),u=g,d=l=0|b[g>>2],e=m=0|b[(s=g+4|0)>>2],g=n=0|b[(t=g+8|0)>>2],p=+((0|b[h>>2])-l|0)/o,r=+((0|b[h+4>>2])-m|0)/o,o=+((0|b[h+8>>2])-n|0)/o):(s=e=g+4|0,t=n=g+8|0,u=g,d=0|b[g>>2],e=0|b[e>>2],g=0|b[n>>2],p=0,r=0,o=0),b[w>>2]=d,b[(n=w+4|0)>>2]=e,b[(m=w+8|0)>>2]=g,l=0;;){y=p*(j=+(0|l))+ +(0|d),i=r*j+ +(0|b[s>>2]),j=o*j+ +(0|b[t>>2]),e=~~+fd(+y),h=~~+fd(+i),d=~~+fd(+j),y=+q(+(+(0|e)-y)),i=+q(+(+(0|h)-i)),j=+q(+(+(0|d)-j));do{if(!(y>i&y>j)){if(k=0-e|0,i>j){g=k-d|0;break}g=h,d=k-h|0;break}e=0-(h+d)|0,g=h}while(0);if(b[w>>2]=e,b[n>>2]=g,b[m>>2]=d,Xa(w),nc(a,c,w,f+(l<<3)|0),(0|l)==(0|v))break;l=l+1|0,d=0|b[u>>2]}return S=x,0|(w=0)}return S=x,0|(w=-1)},_h3LineSize:function rc(a,b,c,d){var e,f,g;return c|=0,d|=0,g=S,S=S+32|0,f=g,a=0==(0|mc(a|=0,b|=0,a,b,e=g+12|0))&&0==(0|mc(a,b,c,d,f))?0|Ta(e,f):-1,S=g,(a>>>31^1)+a|0},_h3SetToLinkedGeo:function ka(a,c,d){d|=0;var e,f,g,h=0;if(g=S,S=S+32|0,e=g,function ja(a,c,d){a|=0,d|=0;var j,k,e=0,f=0,g=0,h=0,i=0;if(k=S,S=S+176|0,j=k,(0|(c|=0))<1)return Mc(d,0,0),void(S=k);h=0|cd(0|b[(h=a)>>2],0|b[h+4>>2],52),G(),Mc(d,(0|c)>6?c:6,15&h),h=0;do{if(Wb(0|b[(e=a+(h<<3)|0)>>2],0|b[e+4>>2],j),(0|(e=0|b[j>>2]))>0){i=0;do{g=j+8+(i<<4)|0,(f=0|Rc(d,e=j+8+(((0|(i=i+1|0))%(0|e)|0)<<4)|0,g))?Pc(d,f):Qc(d,g,e),e=0|b[j>>2]}while((0|i)<(0|e))}h=h+1|0}while((0|h)!=(0|c));S=k}(a|=0,c|=0,f=g+16|0),b[d>>2]=0,b[d+4>>2]=0,b[d+8>>2]=0,!(a=0|Oc(f)))return kc(d),Nc(f),void(S=g);do{c=0|hc(d);do{ic(c,a),h=a+16|0,b[e>>2]=b[h>>2],b[e+4>>2]=b[h+4>>2],b[e+8>>2]=b[h+8>>2],b[e+12>>2]=b[h+12>>2],Pc(f,a),a=0|Sc(f,e)}while(0!=(0|a));a=0|Oc(f)}while(0!=(0|a));kc(d),Nc(f),S=g},_h3ToCenterChild:function Gb(a,b,c){c|=0;var d=0,e=0;if(d=0|cd(0|(a|=0),0|(b|=0),52),G(),(0|c)<16&(0|(d&=15))<=(0|c)){if((0|d)!=(0|c)&&(a|=e=0|dd(0|c,0,52),b=0|G()|-15728641&b,(0|d)<(0|c)))do{e=0|dd(7,0,3*(14-d|0)|0),d=d+1|0,a&=~e,b&=~(0|G())}while((0|d)<(0|c))}else b=0,a=0;return F(0|b),0|a},_h3ToChildren:Eb,_h3ToGeo:Vb,_h3ToGeoBoundary:Wb,_h3ToParent:Cb,_h3UnidirectionalEdgeIsValid:function dc(a,b){var c=0;if(!(!0&268435456==(2013265920&(b|=0)|0)))return 0|(c=0);switch(c=0|cd(0|(a|=0),0|b,56),G(),7&c){case 0:case 7:return 0|(c=0)}return!0&16777216==(117440512&b|0)&0!=(0|Fb(a,c=-2130706433&b|134217728))?0|(c=0):0|(c=0|Bb(a,c))},_hexAreaKm2:function nb(a){return+ +e[20496+((a|=0)<<3)>>3]},_hexAreaM2:function ob(a){return+ +e[20624+((a|=0)<<3)>>3]},_hexRing:function ea(a,c,d,e){a|=0,c|=0,e|=0;var m,f=0,g=0,h=0,i=0,j=0,k=0,l=0;if(m=S,S=S+16|0,l=m,!(d|=0))return b[(l=e)>>2]=a,b[l+4>>2]=c,S=m,0|(l=0);b[l>>2]=0;a:do{if(0|Fb(a,c))a=1;else{if(g=(0|d)>0){f=0,k=a;do{if(0==(0|(k=0|da(k,c,4,l)))&0==(0|(c=0|G()))){a=2;break a}if(f=f+1|0,0|Fb(k,c)){a=1;break a}}while((0|f)<(0|d));if(b[(j=e)>>2]=k,b[j+4>>2]=c,j=d+-1|0,g){g=0,h=1,f=k,a=c;do{if(0==(0|(f=0|da(f,a,2,l)))&0==(0|(a=0|G()))){a=2;break a}if(b[(i=e+(h<<3)|0)>>2]=f,b[i+4>>2]=a,h=h+1|0,0|Fb(f,a)){a=1;break a}g=g+1|0}while((0|g)<(0|d));i=0,g=h;do{if(0==(0|(f=0|da(f,a,3,l)))&0==(0|(a=0|G()))){a=2;break a}if(b[(h=e+(g<<3)|0)>>2]=f,b[h+4>>2]=a,g=g+1|0,0|Fb(f,a)){a=1;break a}i=i+1|0}while((0|i)<(0|d));h=0;do{if(0==(0|(f=0|da(f,a,1,l)))&0==(0|(a=0|G()))){a=2;break a}if(b[(i=e+(g<<3)|0)>>2]=f,b[i+4>>2]=a,g=g+1|0,0|Fb(f,a)){a=1;break a}h=h+1|0}while((0|h)<(0|d));h=0;do{if(0==(0|(f=0|da(f,a,5,l)))&0==(0|(a=0|G()))){a=2;break a}if(b[(i=e+(g<<3)|0)>>2]=f,b[i+4>>2]=a,g=g+1|0,0|Fb(f,a)){a=1;break a}h=h+1|0}while((0|h)<(0|d));h=0;do{if(0==(0|(f=0|da(f,a,4,l)))&0==(0|(a=0|G()))){a=2;break a}if(b[(i=e+(g<<3)|0)>>2]=f,b[i+4>>2]=a,g=g+1|0,0|Fb(f,a)){a=1;break a}h=h+1|0}while((0|h)<(0|d));for(h=0;;){if(0==(0|(f=0|da(f,a,6,l)))&0==(0|(a=0|G()))){a=2;break a}if((0|h)!=(0|j)){if(b[(i=e+(g<<3)|0)>>2]=f,b[i+4>>2]=a,0|Fb(f,a)){a=1;break a}g=g+1|0}if((0|(h=h+1|0))>=(0|d)){h=k,g=c;break}}}else h=k,f=k,g=c,a=c}else b[(h=e)>>2]=a,b[h+4>>2]=c,h=a,f=a,g=c,a=c;a=1&((0|h)!=(0|f)|(0|g)!=(0|a))}}while(0);return S=m,0|(l=a)},_i64Subtract:_c,_kRing:$,_kRingDistances:function aa(a,b,c,d,e){var f;if(0|ba(a|=0,b|=0,c|=0,d|=0,e|=0)){if(hd(0|d,0,(f=1+(0|B(3*c|0,c+1|0))|0)<<3|0),0|e)return hd(0|e,0,f<<2|0),void ca(a,b,c,d,e,f,0);(e=0|Yc(f,4))&&(ca(a,b,c,d,e,f,0),Xc(e))}},_llvm_minnum_f64:ed,_llvm_round_f64:fd,_malloc:Wc,_maxFaceCount:function Xb(a,b){var c=0,d=0;if(d=0|cd(0|(a|=0),0|(b|=0),45),G(),!(0|la(127&d)))return 0|(d=2);if(d=0|cd(0|a,0|b,52),G(),!(d&=15))return 0|(d=5);for(c=1;;){if(!(0==((0|dd(7,0,3*(15-c|0)|0))&a|0)&0==((0|G())&b|0))){c=2,a=6;break}if(!(c>>>0<d>>>0)){c=5,a=6;break}c=c+1|0}return 6==(0|a)?0|c:0},_maxH3ToChildrenSize:function Db(a,b,c){return c|=0,a=0|cd(0|(a|=0),0|(b|=0),52),G(),(0|c)<16&(0|(a&=15))<=(0|c)?0|(c=0|tc(7,c-a|0)):0|(c=0)},_maxKringSize:function _(a){return 1+(0|B(3*(a|=0)|0,a+1|0))|0},_maxPolyfillSize:function fa(a,c){c|=0;var g,d=0,e=0,f=0,h=0,i=0;if(g=S,S=S+48|0,f=g+8|0,e=g,h=0|b[(i=a|=0)+4>>2],b[(d=e)>>2]=b[i>>2],b[d+4>>2]=h,vc(e,f),f=0|ya(f,c),c=0|b[e>>2],(0|(e=0|b[a+8>>2]))<=0)return S=g,0|(i=(i=(h=(0|f)<(0|(i=c)))?i:f)+12|0);d=0|b[a+12>>2],a=0;do{c=(0|b[d+(a<<3)>>2])+c|0,a=a+1|0}while((0|a)<(0|e));return S=g,0|(i=(i=(i=(0|f)<(0|c))?c:f)+12|0)},_maxUncompactSize:function Jb(a,c,d){a|=0,d|=0;var e=0,f=0,g=0,h=0;if((0|(c|=0))<=0)return 0|(d=0);if((0|d)>=16){for(e=0;;){if(!(0==(0|b[(h=a+(e<<3)|0)>>2])&0==(0|b[h+4>>2]))){e=-1,f=13;break}if((0|(e=e+1|0))>=(0|c)){e=0,f=13;break}}if(13==(0|f))return 0|e}e=0,h=0;a:for(;;){g=0|b[(f=a+(h<<3)|0)>>2],f=0|b[f+4>>2];do{if(!(0==(0|g)&0==(0|f))){if(f=0|cd(0|g,0|f,52),G(),(0|(f&=15))>(0|d)){e=-1,f=13;break a}if((0|f)==(0|d)){e=e+1|0;break}e=(0|tc(7,d-f|0))+e|0;break}}while(0);if((0|(h=h+1|0))>=(0|c)){f=13;break}}return 13==(0|f)?0|e:0},_memcpy:gd,_memset:hd,_numHexagons:function rb(a){var c;return a=0|b[(c=21008+((a|=0)<<3)|0)>>2],F(0|b[c+4>>2]),0|a},_pentagonIndexCount:function Zb(){return 12},_pointDistKm:jb,_pointDistM:function kb(a,b){a|=0;var d,f,g,c=0;return f=+e[(b|=0)>>3],d=+e[a>>3],c=(g=+u(.5*(f-d)))*g+(c=+u(.5*(+e[b+8>>3]-+e[a+8>>3])))*(+t(+f)*+t(+d)*c),2*+z(+ +r(+c),+ +r(+(1-c)))*6371.007180918475*1e3},_pointDistRads:function ib(a,b){a|=0;var d,f,g,c=0;return f=+e[(b|=0)>>3],d=+e[a>>3],c=(g=+u(.5*(f-d)))*g+(c=+u(.5*(+e[b+8>>3]-+e[a+8>>3])))*(+t(+f)*+t(+d)*c),2*+z(+ +r(+c),+ +r(+(1-c)))},_polyfill:function ga(a,c,d){var i,e=0,f=0,g=0,h=0,j=0;if(i=S,S=S+48|0,e=i+8|0,f=i,0|function ha(a,c,d){a|=0,c|=0,d|=0;var e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,I=0,J=0;J=S,S=S+112|0,D=J+80|0,j=J+72|0,E=J,F=J+56|0,k=a+8|0,I=0|Wc(32+(b[k>>2]<<5)|0),I||H(22848,22448,800,22456);if(wc(a,I),g=a,e=0|b[g+4>>2],i=j,b[i>>2]=b[g>>2],b[i+4>>2]=e,vc(j,D),i=0|ya(D,c),e=0|b[j>>2],g=0|b[k>>2],(0|g)>0){h=0|b[a+12>>2],f=0;do{e=(0|b[h+(f<<3)>>2])+e|0,f=f+1|0}while((0|f)!=(0|g))}if(i=(0|i)<(0|e)?e:i,C=i+12|0,f=0|Yc(C,8),l=0|Yc(C,8),b[D>>2]=0,A=a,B=0|b[A+4>>2],e=j,b[e>>2]=b[A>>2],b[e+4>>2]=B,e=0|ia(j,C,c,D,f,l),0|e)return Xc(f),Xc(l),Xc(I),S=J,0|(I=e);a:do{if((0|b[k>>2])>0){for(g=a+12|0,e=0;h=0|ia((0|b[g>>2])+(e<<3)|0,C,c,D,f,l),e=e+1|0,!(0|h);)if((0|e)>=(0|b[k>>2]))break a;return Xc(f),Xc(l),Xc(I),S=J,0|(I=h)}}while(0);(0|i)>-12&&hd(0|l,0,((0|C)>1?C:1)<<3|0);b:do{if((0|b[D>>2])>0){B=((0|C)<0)<<31>>31,v=f,w=l,x=f,y=f,z=l,A=f,e=f,r=f,s=l,t=l,u=l,f=l;c:for(;;){for(q=0|b[D>>2],o=0,p=0,g=0;;){i=(h=E)+56|0;do{b[h>>2]=0,h=h+4|0}while((0|h)<(0|i));if(0|ba(j=0|b[(c=v+(o<<3)|0)>>2],c=0|b[c+4>>2],1,E,0)){i=(h=E)+56|0;do{b[h>>2]=0,h=h+4|0}while((0|h)<(0|i));0|(h=0|Yc(7,4))&&(ca(j,c,1,E,h,7,0),Xc(h))}n=0;do{l=0|b[(m=E+(n<<3)|0)>>2],m=0|b[m+4>>2];d:do{if(!(0==(0|l)&0==(0|m))){if(j=0|bd(0|l,0|m,0|C,0|B),G(),!(0==(0|(c=0|b[(i=h=d+(j<<3)|0)>>2]))&0==(0|(i=0|b[i+4>>2]))))for(k=0;;){if((0|k)>(0|C))break c;if((0|c)==(0|l)&(0|i)==(0|m))break d;if(0==(0|(c=0|b[(i=h=d+((j=(j+1|0)%(0|C)|0)<<3)|0)>>2]))&0==(0|(i=0|b[i+4>>2])))break;k=k+1|0}0==(0|l)&0==(0|m)||(Vb(l,m,F),0|xc(a,I,F)&&(b[(k=h)>>2]=l,b[k+4>>2]=m,b[(k=w+(g<<3)|0)>>2]=l,b[k+4>>2]=m,g=g+1|0))}}while(0);n=n+1|0}while(n>>>0<7);if((0|(p=p+1|0))>=(0|q))break;o=o+1|0}if((0|q)>0&&hd(0|x,0,q<<3|0),b[D>>2]=g,!((0|g)>0))break b;l=f,m=u,n=A,o=t,p=s,q=w,f=r,u=e,t=y,s=x,r=l,e=m,A=z,z=n,y=o,x=p,w=v,v=q}return Xc(y),Xc(z),Xc(I),S=J,0|(I=-1)}e=l}while(0);return Xc(I),Xc(f),Xc(e),I=0,S=J,0|I}(a|=0,c|=0,d|=0)){if(g=0|b[(j=a)+4>>2],b[(h=f)>>2]=b[j>>2],b[h+4>>2]=g,vc(f,e),h=0|ya(e,c),c=0|b[f>>2],(0|(g=0|b[a+8>>2]))>0){f=0|b[a+12>>2],e=0;do{c=(0|b[f+(e<<3)>>2])+c|0,e=e+1|0}while((0|e)!=(0|g))}(0|(c=(0|h)<(0|c)?c:h))<=-12||hd(0|d,0,8+(((0|(j=c+11|0))>0?j:0)<<3)|0),S=i}else S=i},_res0IndexCount:function ua(){return 122},_round:id,_sbrk:jd,_sizeOfCoordIJ:function Ec(){return 8},_sizeOfGeoBoundary:function Ac(){return 168},_sizeOfGeoCoord:function zc(){return 16},_sizeOfGeoPolygon:function Cc(){return 16},_sizeOfGeofence:function Bc(){return 8},_sizeOfH3Index:function yc(){return 8},_sizeOfLinkedGeoPolygon:function Dc(){return 12},_uncompact:function Ib(a,c,d,e,f){a|=0,d|=0,e|=0,f|=0;var g=0,h=0,i=0,j=0,k=0,l=0;if((0|(c|=0))<=0)return 0|(f=0);if((0|f)>=16){for(g=0;;){if(!(0==(0|b[(l=a+(g<<3)|0)>>2])&0==(0|b[l+4>>2]))){g=14;break}if((0|(g=g+1|0))>=(0|c)){h=0,g=16;break}}if(14==(0|g))return 0|((0|e)>0?-2:-1);if(16==(0|g))return 0|h}g=0,l=0;a:for(;;){h=0|b[(i=k=a+(l<<3)|0)>>2],i=0|b[i+4>>2];do{if(!(0==(0|h)&0==(0|i))){if((0|g)>=(0|e)){h=-1,g=16;break a}if(j=0|cd(0|h,0|i,52),G(),(0|(j&=15))>(0|f)){h=-2,g=16;break a}if((0|j)==(0|f)){b[(k=d+(g<<3)|0)>>2]=h,b[k+4>>2]=i,g=g+1|0;break}if((0|(h=(0|tc(7,f-j|0))+g|0))>(0|e)){h=-1,g=16;break a}Eb(0|b[k>>2],0|b[k+4>>2],f,d+(g<<3)|0),g=h}}while(0);if((0|(l=l+1|0))>=(0|c)){h=0,g=16;break}}return 16==(0|g)?0|h:0},establishStackSpace:function Z(a,b){S=a|=0},stackAlloc:function W(a){var b;return b=S,S=(S=S+(a|=0)|0)+15&-16,0|b},stackRestore:function Y(a){S=a|=0},stackSave:function X(){return 0|S}}}({Math:Math,Int8Array:Int8Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Float32Array:Float32Array,Float64Array:Float64Array},{a:abort,b:function(value){tempRet0=value},c:getTempRet0,d:function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"])},e:function ___setErrNo(value){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=value),value},f:_emscripten_get_heap_size,g:function _emscripten_memcpy_big(dest,src,num){HEAPU8.set(HEAPU8.subarray(src,src+num),dest)},h:function _emscripten_resize_heap(requestedSize){var oldSize=_emscripten_get_heap_size();if(requestedSize>2130706432)return!1;for(var newSize=Math.max(oldSize,16777216);newSize<requestedSize;)newSize=newSize<=536870912?alignUp(2*newSize,16777216):Math.min(alignUp((3*newSize+2147483648)/4,16777216),2130706432);return!!emscripten_realloc_buffer(newSize)},i:function abortOnCannotGrowMemory(requestedSize){abort("OOM")},j:demangle,k:demangleAll,l:emscripten_realloc_buffer,m:jsStackTrace,n:function stackTrace(){var js=jsStackTrace();return Module.extraStackTrace&&(js+="\n"+Module.extraStackTrace()),demangleAll(js)},o:24032,p:24016},buffer),_emscripten_replace_memory=(Module.___uremdi3=asm.___uremdi3,Module._bitshift64Lshr=asm._bitshift64Lshr,Module._bitshift64Shl=asm._bitshift64Shl,Module._calloc=asm._calloc,Module._cellAreaKm2=asm._cellAreaKm2,Module._cellAreaM2=asm._cellAreaM2,Module._cellAreaRads2=asm._cellAreaRads2,Module._compact=asm._compact,Module._destroyLinkedPolygon=asm._destroyLinkedPolygon,Module._edgeLengthKm=asm._edgeLengthKm,Module._edgeLengthM=asm._edgeLengthM,Module._emscripten_replace_memory=asm._emscripten_replace_memory),stackAlloc=(Module._exactEdgeLengthKm=asm._exactEdgeLengthKm,Module._exactEdgeLengthM=asm._exactEdgeLengthM,Module._exactEdgeLengthRads=asm._exactEdgeLengthRads,Module._experimentalH3ToLocalIj=asm._experimentalH3ToLocalIj,Module._experimentalLocalIjToH3=asm._experimentalLocalIjToH3,Module._free=asm._free,Module._geoToH3=asm._geoToH3,Module._getDestinationH3IndexFromUnidirectionalEdge=asm._getDestinationH3IndexFromUnidirectionalEdge,Module._getH3IndexesFromUnidirectionalEdge=asm._getH3IndexesFromUnidirectionalEdge,Module._getH3UnidirectionalEdge=asm._getH3UnidirectionalEdge,Module._getH3UnidirectionalEdgeBoundary=asm._getH3UnidirectionalEdgeBoundary,Module._getH3UnidirectionalEdgesFromHexagon=asm._getH3UnidirectionalEdgesFromHexagon,Module._getOriginH3IndexFromUnidirectionalEdge=asm._getOriginH3IndexFromUnidirectionalEdge,Module._getPentagonIndexes=asm._getPentagonIndexes,Module._getRes0Indexes=asm._getRes0Indexes,Module._h3Distance=asm._h3Distance,Module._h3GetBaseCell=asm._h3GetBaseCell,Module._h3GetFaces=asm._h3GetFaces,Module._h3GetResolution=asm._h3GetResolution,Module._h3IndexesAreNeighbors=asm._h3IndexesAreNeighbors,Module._h3IsPentagon=asm._h3IsPentagon,Module._h3IsResClassIII=asm._h3IsResClassIII,Module._h3IsValid=asm._h3IsValid,Module._h3Line=asm._h3Line,Module._h3LineSize=asm._h3LineSize,Module._h3SetToLinkedGeo=asm._h3SetToLinkedGeo,Module._h3ToCenterChild=asm._h3ToCenterChild,Module._h3ToChildren=asm._h3ToChildren,Module._h3ToGeo=asm._h3ToGeo,Module._h3ToGeoBoundary=asm._h3ToGeoBoundary,Module._h3ToParent=asm._h3ToParent,Module._h3UnidirectionalEdgeIsValid=asm._h3UnidirectionalEdgeIsValid,Module._hexAreaKm2=asm._hexAreaKm2,Module._hexAreaM2=asm._hexAreaM2,Module._hexRing=asm._hexRing,Module._i64Subtract=asm._i64Subtract,Module._kRing=asm._kRing,Module._kRingDistances=asm._kRingDistances,Module._llvm_minnum_f64=asm._llvm_minnum_f64,Module._llvm_round_f64=asm._llvm_round_f64,Module._malloc=asm._malloc,Module._maxFaceCount=asm._maxFaceCount,Module._maxH3ToChildrenSize=asm._maxH3ToChildrenSize,Module._maxKringSize=asm._maxKringSize,Module._maxPolyfillSize=asm._maxPolyfillSize,Module._maxUncompactSize=asm._maxUncompactSize,Module._memcpy=asm._memcpy,Module._memset=asm._memset,Module._numHexagons=asm._numHexagons,Module._pentagonIndexCount=asm._pentagonIndexCount,Module._pointDistKm=asm._pointDistKm,Module._pointDistM=asm._pointDistM,Module._pointDistRads=asm._pointDistRads,Module._polyfill=asm._polyfill,Module._res0IndexCount=asm._res0IndexCount,Module._round=asm._round,Module._sbrk=asm._sbrk,Module._sizeOfCoordIJ=asm._sizeOfCoordIJ,Module._sizeOfGeoBoundary=asm._sizeOfGeoBoundary,Module._sizeOfGeoCoord=asm._sizeOfGeoCoord,Module._sizeOfGeoPolygon=asm._sizeOfGeoPolygon,Module._sizeOfGeofence=asm._sizeOfGeofence,Module._sizeOfH3Index=asm._sizeOfH3Index,Module._sizeOfLinkedGeoPolygon=asm._sizeOfLinkedGeoPolygon,Module._uncompact=asm._uncompact,Module.establishStackSpace=asm.establishStackSpace,Module.stackAlloc=asm.stackAlloc),stackRestore=Module.stackRestore=asm.stackRestore,stackSave=Module.stackSave=asm.stackSave;if(Module.asm=asm,Module.cwrap=function cwrap(ident,returnType,argTypes,opts){var numericArgs=(argTypes=argTypes||[]).every((function(type){return"number"===type}));return"string"!==returnType&&numericArgs&&!opts?getCFunc(ident):function(){return ccall(ident,returnType,argTypes,arguments)}},Module.setValue=function setValue(ptr,value,type,noSafe){switch("*"===(type=type||"i8").charAt(type.length-1)&&(type="i32"),type){case"i1":case"i8":HEAP8[ptr>>0]=value;break;case"i16":HEAP16[ptr>>1]=value;break;case"i32":HEAP32[ptr>>2]=value;break;case"i64":tempI64=[value>>>0,(tempDouble=value,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[ptr>>2]=tempI64[0],HEAP32[ptr+4>>2]=tempI64[1];break;case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;default:abort("invalid type for setValue: "+type)}},Module.getValue=function getValue(ptr,type,noSafe){switch("*"===(type=type||"i8").charAt(type.length-1)&&(type="i32"),type){case"i1":case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":case"i64":return HEAP32[ptr>>2];case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];default:abort("invalid type for getValue: "+type)}return null},Module.getTempRet0=getTempRet0,memoryInitializer){isDataURI(memoryInitializer)||(memoryInitializer=function locateFile(path){return Module.locateFile?Module.locateFile(path,scriptDirectory):scriptDirectory+path}(memoryInitializer)),function addRunDependency(id){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}();var applyMemoryInitializer=function(data){data.byteLength&&(data=new Uint8Array(data)),HEAPU8.set(data,8),Module.memoryInitializerRequest&&delete Module.memoryInitializerRequest.response,function removeRunDependency(id){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var callback=dependenciesFulfilled;dependenciesFulfilled=null,callback()}}()},doBrowserLoad=function(){readAsync(memoryInitializer,applyMemoryInitializer,(function(){throw"could not load memory initializer "+memoryInitializer}))},memoryInitializerBytes=tryParseAsDataURI(memoryInitializer);if(memoryInitializerBytes)applyMemoryInitializer(memoryInitializerBytes.buffer);else if(Module.memoryInitializerRequest){var useRequest=function(){var request=Module.memoryInitializerRequest,response=request.response;if(200!==request.status&&0!==request.status){var data=tryParseAsDataURI(Module.memoryInitializerRequestURL);if(!data)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+request.status+", retrying "+memoryInitializer),void doBrowserLoad();response=data.buffer}applyMemoryInitializer(response)};Module.memoryInitializerRequest.response?setTimeout(useRequest,0):Module.memoryInitializerRequest.addEventListener("load",useRequest)}else doBrowserLoad()}function run(args){function doRun(){calledRun||(calledRun=!0,ABORT||(!function initRuntime(){callRuntimeCallbacks(__ATINIT__)}(),function preMain(){callRuntimeCallbacks(__ATMAIN__)}(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)cb=Module.postRun.shift(),__ATPOSTRUN__.unshift(cb);var cb;callRuntimeCallbacks(__ATPOSTRUN__)}()))}args=args||arguments_,runDependencies>0||(!function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)cb=Module.preRun.shift(),__ATPRERUN__.unshift(cb);var cb;callRuntimeCallbacks(__ATPRERUN__)}(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Module.setStatus("")}),1),doRun()}),1)):doRun()))}function abort(what){throw Module.onAbort&&Module.onAbort(what),out(what+=""),err(what),ABORT=!0,"abort("+what+"). Build with -s ASSERTIONS=1 for more info."}if(dependenciesFulfilled=function runCaller(){calledRun||run(),calledRun||(dependenciesFulfilled=runCaller)},Module.run=run,Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();return run(),libh3}("object"==typeof libh3?libh3:{}),NUMBER="number",H3={};[["sizeOfH3Index",NUMBER],["sizeOfGeoCoord",NUMBER],["sizeOfGeoBoundary",NUMBER],["sizeOfGeoPolygon",NUMBER],["sizeOfGeofence",NUMBER],["sizeOfLinkedGeoPolygon",NUMBER],["sizeOfCoordIJ",NUMBER],["h3IsValid",NUMBER,[NUMBER,NUMBER]],["geoToH3",NUMBER,[NUMBER,NUMBER,NUMBER]],["h3ToGeo",null,[NUMBER,NUMBER,NUMBER]],["h3ToGeoBoundary",null,[NUMBER,NUMBER,NUMBER]],["maxKringSize",NUMBER,[NUMBER]],["kRing",null,[NUMBER,NUMBER,NUMBER,NUMBER]],["kRingDistances",null,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["hexRing",null,[NUMBER,NUMBER,NUMBER,NUMBER]],["maxPolyfillSize",NUMBER,[NUMBER,NUMBER]],["polyfill",null,[NUMBER,NUMBER,NUMBER]],["h3SetToLinkedGeo",null,[NUMBER,NUMBER,NUMBER]],["destroyLinkedPolygon",null,[NUMBER]],["compact",NUMBER,[NUMBER,NUMBER,NUMBER]],["uncompact",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["maxUncompactSize",NUMBER,[NUMBER,NUMBER,NUMBER]],["h3IsPentagon",NUMBER,[NUMBER,NUMBER]],["h3IsResClassIII",NUMBER,[NUMBER,NUMBER]],["h3GetBaseCell",NUMBER,[NUMBER,NUMBER]],["h3GetResolution",NUMBER,[NUMBER,NUMBER]],["maxFaceCount",NUMBER,[NUMBER,NUMBER]],["h3GetFaces",null,[NUMBER,NUMBER,NUMBER]],["h3ToParent",NUMBER,[NUMBER,NUMBER,NUMBER]],["h3ToChildren",null,[NUMBER,NUMBER,NUMBER,NUMBER]],["h3ToCenterChild",NUMBER,[NUMBER,NUMBER,NUMBER]],["maxH3ToChildrenSize",NUMBER,[NUMBER,NUMBER,NUMBER]],["h3IndexesAreNeighbors",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["getH3UnidirectionalEdge",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["getOriginH3IndexFromUnidirectionalEdge",NUMBER,[NUMBER,NUMBER]],["getDestinationH3IndexFromUnidirectionalEdge",NUMBER,[NUMBER,NUMBER]],["h3UnidirectionalEdgeIsValid",NUMBER,[NUMBER,NUMBER]],["getH3IndexesFromUnidirectionalEdge",null,[NUMBER,NUMBER,NUMBER]],["getH3UnidirectionalEdgesFromHexagon",null,[NUMBER,NUMBER,NUMBER]],["getH3UnidirectionalEdgeBoundary",null,[NUMBER,NUMBER,NUMBER]],["h3Distance",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["h3Line",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["h3LineSize",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["experimentalH3ToLocalIj",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER,NUMBER]],["experimentalLocalIjToH3",NUMBER,[NUMBER,NUMBER,NUMBER,NUMBER]],["hexAreaM2",NUMBER,[NUMBER]],["hexAreaKm2",NUMBER,[NUMBER]],["edgeLengthM",NUMBER,[NUMBER]],["edgeLengthKm",NUMBER,[NUMBER]],["pointDistM",NUMBER,[NUMBER,NUMBER]],["pointDistKm",NUMBER,[NUMBER,NUMBER]],["pointDistRads",NUMBER,[NUMBER,NUMBER]],["cellAreaM2",NUMBER,[NUMBER,NUMBER]],["cellAreaKm2",NUMBER,[NUMBER,NUMBER]],["cellAreaRads2",NUMBER,[NUMBER,NUMBER]],["exactEdgeLengthM",NUMBER,[NUMBER,NUMBER]],["exactEdgeLengthKm",NUMBER,[NUMBER,NUMBER]],["exactEdgeLengthRads",NUMBER,[NUMBER,NUMBER]],["numHexagons",NUMBER,[NUMBER]],["getRes0Indexes",null,[NUMBER]],["res0IndexCount",NUMBER],["getPentagonIndexes",null,[NUMBER,NUMBER]],["pentagonIndexCount",NUMBER]].forEach((function bind(def){H3[def[0]]=libh3.cwrap.apply(libh3,def)}));var BASE_16=16,SZ_INT=4,SZ_PTR=4,SZ_DBL=8,SZ_H3INDEX=H3.sizeOfH3Index(),SZ_GEOCOORD=H3.sizeOfGeoCoord(),SZ_GEOBOUNDARY=H3.sizeOfGeoBoundary(),SZ_GEOPOLYGON=H3.sizeOfGeoPolygon(),SZ_GEOFENCE=H3.sizeOfGeofence(),SZ_LINKED_GEOPOLYGON=H3.sizeOfLinkedGeoPolygon(),SZ_COORDIJ=H3.sizeOfCoordIJ(),UNITS={m:"m",m2:"m2",km:"km",km2:"km2",rads:"rads",rads2:"rads2"};function validateRes(res){if("number"!=typeof res||res<0||res>15||Math.floor(res)!==res)throw new Error("Invalid resolution: "+res)}var INVALID_HEXIDECIMAL_CHAR=/[^0-9a-fA-F]/;function h3IndexToSplitLong(h3Index){if(Array.isArray(h3Index)&&2===h3Index.length&&Number.isInteger(h3Index[0])&&Number.isInteger(h3Index[1]))return h3Index;if("string"!=typeof h3Index||INVALID_HEXIDECIMAL_CHAR.test(h3Index))return[0,0];var upper=parseInt(h3Index.substring(0,h3Index.length-8),BASE_16);return[parseInt(h3Index.substring(h3Index.length-8),BASE_16),upper]}function hexFrom32Bit(num){if(num>=0)return num.toString(BASE_16);var tempStr=zeroPad(8,(num&=2147483647).toString(BASE_16));return tempStr=(parseInt(tempStr[0],BASE_16)+8).toString(BASE_16)+tempStr.substring(1)}function splitLongToh3Index(lower,upper){return hexFrom32Bit(upper)+zeroPad(8,hexFrom32Bit(lower))}function zeroPad(fullLen,numStr){for(var numZeroes=fullLen-numStr.length,outStr="",i=0;i<numZeroes;i++)outStr+="0";return outStr+=numStr}function polygonArrayToGeofence(polygonArray,geofence,isGeoJson){for(var numVerts=polygonArray.length,geoCoordArray=libh3._calloc(numVerts,SZ_GEOCOORD),latIndex=isGeoJson?1:0,lngIndex=isGeoJson?0:1,i=0;i<2*numVerts;i+=2)libh3.HEAPF64.set([polygonArray[i/2][latIndex],polygonArray[i/2][lngIndex]].map(degsToRads),geoCoordArray/SZ_DBL+i);return libh3.HEAPU32.set([numVerts,geoCoordArray],geofence/SZ_INT),geofence}function readLong(invocation){return[invocation,libh3.getTempRet0()]}function readH3Index(invocation){var ref=readLong(invocation),lower=ref[0],upper=ref[1];return upper?splitLongToh3Index(lower,upper):null}function readH3IndexFromPointer(cAddress,offset){void 0===offset&&(offset=0);var lower=libh3.getValue(cAddress+SZ_INT*offset*2,"i32"),upper=libh3.getValue(cAddress+SZ_INT*(2*offset+1),"i32");return upper?splitLongToh3Index(lower,upper):null}function storeH3Index(h3Index,cAddress,offset){libh3.HEAPU32.set(h3IndexToSplitLong(h3Index),cAddress/SZ_INT+2*offset)}function readArrayOfHexagons(cAddress,maxCount){for(var out=[],i=0;i<maxCount;i++){var h3Index=readH3IndexFromPointer(cAddress,i);null!==h3Index&&out.push(h3Index)}return out}function storeArrayOfHexagons(cAddress,hexagons){for(var count=hexagons.length,i=0;i<count;i++)storeH3Index(hexagons[i],cAddress,i)}function storeGeoCoord(lat,lng){var geoCoord=libh3._calloc(1,SZ_GEOCOORD);return libh3.HEAPF64.set([lat,lng].map(degsToRads),geoCoord/SZ_DBL),geoCoord}function readSingleCoord(cAddress){return radsToDegs(libh3.getValue(cAddress,"double"))}function readGeoCoord(cAddress){return[readSingleCoord(cAddress),readSingleCoord(cAddress+SZ_DBL)]}function readGeoCoordGeoJson(cAddress){return[readSingleCoord(cAddress+SZ_DBL),readSingleCoord(cAddress)]}function readGeoBoundary(geoBoundary,geoJsonCoords,closedLoop){for(var numVerts=libh3.getValue(geoBoundary,"i32"),vertsPos=geoBoundary+SZ_DBL,out=[],readCoord=geoJsonCoords?readGeoCoordGeoJson:readGeoCoord,i=0;i<2*numVerts;i+=2)out.push(readCoord(vertsPos+SZ_DBL*i));return closedLoop&&out.push(out[0]),out}function h3IsValid(h3Index){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];return Boolean(H3.h3IsValid(lower,upper))}function h3IsPentagon(h3Index){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];return Boolean(H3.h3IsPentagon(lower,upper))}function h3IsResClassIII(h3Index){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];return Boolean(H3.h3IsResClassIII(lower,upper))}function h3GetBaseCell(h3Index){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];return H3.h3GetBaseCell(lower,upper)}function h3GetFaces(h3Index){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1],count=H3.maxFaceCount(lower,upper),faces=libh3._malloc(SZ_INT*count);H3.h3GetFaces(lower,upper,faces);var out=function readArrayOfPositiveIntegers(cAddress,count){for(var out=[],i=0;i<count;i++){var int=libh3.getValue(cAddress+SZ_INT*i,"i32");int>=0&&out.push(int)}return out}(faces,count);return libh3._free(faces),out}function h3GetResolution(h3Index){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];return H3.h3IsValid(lower,upper)?H3.h3GetResolution(lower,upper):-1}function geoToH3(lat,lng,res){var latlng=libh3._malloc(SZ_GEOCOORD);libh3.HEAPF64.set([lat,lng].map(degsToRads),latlng/SZ_DBL);var h3Index=readH3Index(H3.geoToH3(latlng,res));return libh3._free(latlng),h3Index}function h3ToGeo(h3Index){var latlng=libh3._malloc(SZ_GEOCOORD),ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];H3.h3ToGeo(lower,upper,latlng);var out=readGeoCoord(latlng);return libh3._free(latlng),out}function h3ToGeoBoundary(h3Index,formatAsGeoJson){var geoBoundary=libh3._malloc(SZ_GEOBOUNDARY),ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];H3.h3ToGeoBoundary(lower,upper,geoBoundary);var out=readGeoBoundary(geoBoundary,formatAsGeoJson,formatAsGeoJson);return libh3._free(geoBoundary),out}function h3ToParent(h3Index,res){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];return readH3Index(H3.h3ToParent(lower,upper,res))}function h3ToChildren(h3Index,res){if(!h3IsValid(h3Index))return[];var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1],maxCount=H3.maxH3ToChildrenSize(lower,upper,res),hexagons=libh3._calloc(maxCount,SZ_H3INDEX);H3.h3ToChildren(lower,upper,res,hexagons);var out=readArrayOfHexagons(hexagons,maxCount);return libh3._free(hexagons),out}function h3ToCenterChild(h3Index,res){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];return readH3Index(H3.h3ToCenterChild(lower,upper,res))}function kRing(h3Index,ringSize){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1],maxCount=H3.maxKringSize(ringSize),hexagons=libh3._calloc(maxCount,SZ_H3INDEX);H3.kRing(lower,upper,ringSize,hexagons);var out=readArrayOfHexagons(hexagons,maxCount);return libh3._free(hexagons),out}function kRingDistances(h3Index,ringSize){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1],maxCount=H3.maxKringSize(ringSize),kRings=libh3._calloc(maxCount,SZ_H3INDEX),distances=libh3._calloc(maxCount,SZ_INT);H3.kRingDistances(lower,upper,ringSize,kRings,distances);for(var out=[],i=0;i<ringSize+1;i++)out.push([]);for(var i$1=0;i$1<2*maxCount;i$1+=2){var hexLower=libh3.getValue(kRings+SZ_INT*i$1,"i32"),hexUpper=libh3.getValue(kRings+SZ_INT*(i$1+1),"i32"),index=libh3.getValue(distances+SZ_INT*(i$1/2),"i32");0===hexLower&&0===hexUpper||out[index].push(splitLongToh3Index(hexLower,hexUpper))}return libh3._free(kRings),libh3._free(distances),out}function hexRing(h3Index,ringSize){var maxCount=0===ringSize?1:6*ringSize,hexagons=libh3._calloc(maxCount,SZ_H3INDEX);if(0!==H3.hexRing.apply(H3,h3IndexToSplitLong(h3Index).concat([ringSize],[hexagons])))throw libh3._free(hexagons),new Error("Failed to get hexRing (encountered a pentagon?)");var out=readArrayOfHexagons(hexagons,maxCount);return libh3._free(hexagons),out}function polyfill(coordinates,res,isGeoJson){if(validateRes(res),isGeoJson=Boolean(isGeoJson),0===coordinates.length||0===coordinates[0].length)return[];"number"==typeof coordinates[0][0]&&(coordinates=[coordinates]);var geoPolygon=function coordinatesToGeoPolygon(coordinates,isGeoJson){var holes,numHoles=coordinates.length-1,geoPolygon=libh3._calloc(SZ_GEOPOLYGON),numHolesOffset=0+SZ_GEOFENCE,holesOffset=numHolesOffset+SZ_INT;if(polygonArrayToGeofence(coordinates[0],geoPolygon+0,isGeoJson),numHoles>0){holes=libh3._calloc(numHoles,SZ_GEOFENCE);for(var i=0;i<numHoles;i++)polygonArrayToGeofence(coordinates[i+1],holes+SZ_GEOFENCE*i,isGeoJson)}return libh3.setValue(geoPolygon+numHolesOffset,numHoles,"i32"),libh3.setValue(geoPolygon+holesOffset,holes,"i32"),geoPolygon}(coordinates,isGeoJson),arrayLen=H3.maxPolyfillSize(geoPolygon,res),hexagons=libh3._calloc(arrayLen,SZ_H3INDEX);H3.polyfill(geoPolygon,res,hexagons);var out=readArrayOfHexagons(hexagons,arrayLen);return libh3._free(hexagons),function destroyGeoPolygon(geoPolygon){var numHolesOffset=0+SZ_GEOFENCE,holesOffset=numHolesOffset+SZ_INT,geofenceArrayOffset=SZ_INT;libh3._free(libh3.getValue(geoPolygon+0+geofenceArrayOffset,"i8*"));var numHoles=libh3.getValue(geoPolygon+numHolesOffset,"i32");if(numHoles>0){for(var holes=libh3.getValue(geoPolygon+holesOffset,"i32"),i=0;i<numHoles;i++)libh3._free(libh3.getValue(holes+SZ_GEOFENCE*i+geofenceArrayOffset,"i8*"));libh3._free(holes)}libh3._free(geoPolygon)}(geoPolygon),out}function h3SetToMultiPolygon(h3Indexes,formatAsGeoJson){if(!h3Indexes||!h3Indexes.length)return[];var indexCount=h3Indexes.length,set=libh3._calloc(indexCount,SZ_H3INDEX);storeArrayOfHexagons(set,h3Indexes);var polygon=libh3._calloc(SZ_LINKED_GEOPOLYGON),originalPolygon=polygon;H3.h3SetToLinkedGeo(set,indexCount,polygon);var multiPolygon=function readMultiPolygon(polygon,formatAsGeoJson){for(var loops,loop,coords,coord,output=[],readCoord=formatAsGeoJson?readGeoCoordGeoJson:readGeoCoord;polygon;){for(output.push(loops=[]),loop=libh3.getValue(polygon,"i8*");loop;){for(loops.push(coords=[]),coord=libh3.getValue(loop,"i8*");coord;)coords.push(readCoord(coord)),coord=libh3.getValue(coord+2*SZ_DBL,"i8*");formatAsGeoJson&&coords.push(coords[0]),loop=libh3.getValue(loop+2*SZ_PTR,"i8*")}polygon=libh3.getValue(polygon+2*SZ_PTR,"i8*")}return output}(polygon,formatAsGeoJson);return H3.destroyLinkedPolygon(originalPolygon),libh3._free(originalPolygon),libh3._free(set),multiPolygon}function compact(h3Set){if(!h3Set||!h3Set.length)return[];var count=h3Set.length,set=libh3._calloc(count,SZ_H3INDEX);storeArrayOfHexagons(set,h3Set);var compactedSet=libh3._calloc(count,SZ_H3INDEX);if(0!==H3.compact(set,compactedSet,count))throw libh3._free(set),libh3._free(compactedSet),new Error("Failed to compact, malformed input data (duplicate hexagons?)");var out=readArrayOfHexagons(compactedSet,count);return libh3._free(set),libh3._free(compactedSet),out}function uncompact(compactedSet,res){if(validateRes(res),!compactedSet||!compactedSet.length)return[];var count=compactedSet.length,set=libh3._calloc(count,SZ_H3INDEX);storeArrayOfHexagons(set,compactedSet);var maxUncompactedNum=H3.maxUncompactSize(set,count,res),uncompactedSet=libh3._calloc(maxUncompactedNum,SZ_H3INDEX);if(0!==H3.uncompact(set,count,uncompactedSet,maxUncompactedNum,res))throw libh3._free(set),libh3._free(uncompactedSet),new Error("Failed to uncompact (bad resolution?)");var out=readArrayOfHexagons(uncompactedSet,maxUncompactedNum);return libh3._free(set),libh3._free(uncompactedSet),out}function h3IndexesAreNeighbors(origin,destination){var ref=h3IndexToSplitLong(origin),oLower=ref[0],oUpper=ref[1],ref$1=h3IndexToSplitLong(destination),dLower=ref$1[0],dUpper=ref$1[1];return Boolean(H3.h3IndexesAreNeighbors(oLower,oUpper,dLower,dUpper))}function getH3UnidirectionalEdge(origin,destination){var ref=h3IndexToSplitLong(origin),oLower=ref[0],oUpper=ref[1],ref$1=h3IndexToSplitLong(destination),dLower=ref$1[0],dUpper=ref$1[1];return readH3Index(H3.getH3UnidirectionalEdge(oLower,oUpper,dLower,dUpper))}function getOriginH3IndexFromUnidirectionalEdge(edgeIndex){var ref=h3IndexToSplitLong(edgeIndex),lower=ref[0],upper=ref[1];return readH3Index(H3.getOriginH3IndexFromUnidirectionalEdge(lower,upper))}function getDestinationH3IndexFromUnidirectionalEdge(edgeIndex){var ref=h3IndexToSplitLong(edgeIndex),lower=ref[0],upper=ref[1];return readH3Index(H3.getDestinationH3IndexFromUnidirectionalEdge(lower,upper))}function h3UnidirectionalEdgeIsValid(edgeIndex){var ref=h3IndexToSplitLong(edgeIndex),lower=ref[0],upper=ref[1];return Boolean(H3.h3UnidirectionalEdgeIsValid(lower,upper))}function getH3IndexesFromUnidirectionalEdge(edgeIndex){var ref=h3IndexToSplitLong(edgeIndex),lower=ref[0],upper=ref[1],hexagons=libh3._calloc(2,SZ_H3INDEX);H3.getH3IndexesFromUnidirectionalEdge(lower,upper,hexagons);var out=readArrayOfHexagons(hexagons,2);return libh3._free(hexagons),out}function getH3UnidirectionalEdgesFromHexagon(h3Index){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1],edges=libh3._calloc(6,SZ_H3INDEX);H3.getH3UnidirectionalEdgesFromHexagon(lower,upper,edges);var out=readArrayOfHexagons(edges,6);return libh3._free(edges),out}function getH3UnidirectionalEdgeBoundary(edgeIndex,formatAsGeoJson){var geoBoundary=libh3._malloc(SZ_GEOBOUNDARY),ref=h3IndexToSplitLong(edgeIndex),lower=ref[0],upper=ref[1];H3.getH3UnidirectionalEdgeBoundary(lower,upper,geoBoundary);var out=readGeoBoundary(geoBoundary,formatAsGeoJson);return libh3._free(geoBoundary),out}function h3Distance(origin,destination){var ref=h3IndexToSplitLong(origin),oLower=ref[0],oUpper=ref[1],ref$1=h3IndexToSplitLong(destination),dLower=ref$1[0],dUpper=ref$1[1];return H3.h3Distance(oLower,oUpper,dLower,dUpper)}function h3Line(origin,destination){var ref=h3IndexToSplitLong(origin),oLower=ref[0],oUpper=ref[1],ref$1=h3IndexToSplitLong(destination),dLower=ref$1[0],dUpper=ref$1[1],count=H3.h3LineSize(oLower,oUpper,dLower,dUpper);if(count<0)throw new Error("Line cannot be calculated");var hexagons=libh3._calloc(count,SZ_H3INDEX);H3.h3Line(oLower,oUpper,dLower,dUpper,hexagons);var out=readArrayOfHexagons(hexagons,count);return libh3._free(hexagons),out}function experimentalH3ToLocalIj(origin,destination){var ij=libh3._malloc(SZ_COORDIJ),retVal=H3.experimentalH3ToLocalIj.apply(H3,h3IndexToSplitLong(origin).concat(h3IndexToSplitLong(destination),[ij])),coords=function readCoordIJ(cAddress){return{i:libh3.getValue(cAddress,"i32"),j:libh3.getValue(cAddress+SZ_INT,"i32")}}(ij);switch(libh3._free(ij),retVal){case 0:return coords;case 1:throw new Error("Incompatible origin and index.");case 2:default:throw new Error("Local IJ coordinates undefined for this origin and index pair. The index may be too far from the origin.");case 3:case 4:case 5:throw new Error("Encountered possible pentagon distortion")}}function experimentalLocalIjToH3(origin,coords){if(!coords||"number"!=typeof coords.i||"number"!=typeof coords.j)throw new Error("Coordinates must be provided as an {i, j} object");var ij=libh3._malloc(SZ_COORDIJ),out=libh3._malloc(SZ_H3INDEX);!function storeCoordIJ(cAddress,ref){var i=ref.i,j=ref.j;libh3.setValue(cAddress,i,"i32"),libh3.setValue(cAddress+SZ_INT,j,"i32")}(ij,coords);var retVal=H3.experimentalLocalIjToH3.apply(H3,h3IndexToSplitLong(origin).concat([ij],[out])),h3Index=readH3IndexFromPointer(out);if(libh3._free(ij),libh3._free(out),0!==retVal)throw new Error("Index not defined for this origin and IJ coordinates pair. IJ coordinates may be too far from origin, or a pentagon distortion was encountered.");return h3Index}function pointDist(latlng1,latlng2,unit){var result,coord1=storeGeoCoord(latlng1[0],latlng1[1]),coord2=storeGeoCoord(latlng2[0],latlng2[1]);switch(unit){case UNITS.m:result=H3.pointDistM(coord1,coord2);break;case UNITS.km:result=H3.pointDistKm(coord1,coord2);break;case UNITS.rads:result=H3.pointDistRads(coord1,coord2);break;default:result=null}if(libh3._free(coord1),libh3._free(coord2),null===result)throw new Error("Unknown unit: "+unit);return result}function cellArea(h3Index,unit){var ref=h3IndexToSplitLong(h3Index),lower=ref[0],upper=ref[1];switch(unit){case UNITS.m2:return H3.cellAreaM2(lower,upper);case UNITS.km2:return H3.cellAreaKm2(lower,upper);case UNITS.rads2:return H3.cellAreaRads2(lower,upper);default:throw new Error("Unknown unit: "+unit)}}function exactEdgeLength(edge,unit){var ref=h3IndexToSplitLong(edge),lower=ref[0],upper=ref[1];switch(unit){case UNITS.m:return H3.exactEdgeLengthM(lower,upper);case UNITS.km:return H3.exactEdgeLengthKm(lower,upper);case UNITS.rads:return H3.exactEdgeLengthRads(lower,upper);default:throw new Error("Unknown unit: "+unit)}}function hexArea(res,unit){switch(validateRes(res),unit){case UNITS.m2:return H3.hexAreaM2(res);case UNITS.km2:return H3.hexAreaKm2(res);default:throw new Error("Unknown unit: "+unit)}}function edgeLength(res,unit){switch(validateRes(res),unit){case UNITS.m:return H3.edgeLengthM(res);case UNITS.km:return H3.edgeLengthKm(res);default:throw new Error("Unknown unit: "+unit)}}function numHexagons(res){validateRes(res);var ref=readLong(H3.numHexagons(res)),lower=ref[0],upper=ref[1];return upper?upper*Math.pow(2,32)+lower:lower}function getRes0Indexes(){var count=H3.res0IndexCount(),hexagons=libh3._malloc(SZ_H3INDEX*count);H3.getRes0Indexes(hexagons);var out=readArrayOfHexagons(hexagons,count);return libh3._free(hexagons),out}function getPentagonIndexes(res){validateRes(res);var count=H3.pentagonIndexCount(),hexagons=libh3._malloc(SZ_H3INDEX*count);H3.getPentagonIndexes(res,hexagons);var out=readArrayOfHexagons(hexagons,count);return libh3._free(hexagons),out}function degsToRads(deg){return deg*Math.PI/180}function radsToDegs(rad){return 180*rad/Math.PI}},"./node_modules/ieee754/index.js":function(__unused_webpack_module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},"./node_modules/javascript-natural-sort/naturalSort.js":function(module){module.exports=function naturalSort(a,b){"use strict";var oFxNcL,oFyNcL,re=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,sre=/(^[ ]*|[ ]*$)/g,dre=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,hre=/^0x[0-9a-f]+$/i,ore=/^0/,i=function(s){return naturalSort.insensitive&&(""+s).toLowerCase()||""+s},x=i(a).replace(sre,"")||"",y=i(b).replace(sre,"")||"",xN=x.replace(re,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),yN=y.replace(re,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),xD=parseInt(x.match(hre),16)||1!==xN.length&&x.match(dre)&&Date.parse(x),yD=parseInt(y.match(hre),16)||xD&&y.match(dre)&&Date.parse(y)||null;if(yD){if(xD<yD)return-1;if(xD>yD)return 1}for(var cLoc=0,numS=Math.max(xN.length,yN.length);cLoc<numS;cLoc++){if(oFxNcL=!(xN[cLoc]||"").match(ore)&&parseFloat(xN[cLoc])||xN[cLoc]||0,oFyNcL=!(yN[cLoc]||"").match(ore)&&parseFloat(yN[cLoc])||yN[cLoc]||0,isNaN(oFxNcL)!==isNaN(oFyNcL))return isNaN(oFxNcL)?1:-1;if(typeof oFxNcL!=typeof oFyNcL&&(oFxNcL+="",oFyNcL+=""),oFxNcL<oFyNcL)return-1;if(oFxNcL>oFyNcL)return 1}return 0}},"./node_modules/jsep/build/jsep.js":function(module,exports){!function(root){"use strict";var throwError=function(message,index){var error=new Error(message+" at character "+index);throw error.index=index,error.description=message,error},t=!0,unary_ops={"-":t,"!":t,"~":t,"+":t},binary_ops={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},getMaxKeyLen=function(obj){var len,max_len=0;for(var key in obj)(len=key.length)>max_len&&obj.hasOwnProperty(key)&&(max_len=len);return max_len},max_unop_len=getMaxKeyLen(unary_ops),max_binop_len=getMaxKeyLen(binary_ops),literals={true:!0,false:!1,null:null},binaryPrecedence=function(op_val){return binary_ops[op_val]||0},createBinaryExpression=function(operator,left,right){return{type:"||"===operator||"&&"===operator?"LogicalExpression":"BinaryExpression",operator:operator,left:left,right:right}},isDecimalDigit=function(ch){return ch>=48&&ch<=57},isIdentifierStart=function(ch){return 36===ch||95===ch||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=128&&!binary_ops[String.fromCharCode(ch)]},isIdentifierPart=function(ch){return 36===ch||95===ch||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||ch>=128&&!binary_ops[String.fromCharCode(ch)]},jsep=function(expr){for(var ch_i,node,index=0,charAtFunc=expr.charAt,charCodeAtFunc=expr.charCodeAt,exprI=function(i){return charAtFunc.call(expr,i)},exprICode=function(i){return charCodeAtFunc.call(expr,i)},length=expr.length,gobbleSpaces=function(){for(var ch=exprICode(index);32===ch||9===ch||10===ch||13===ch;)ch=exprICode(++index)},gobbleExpression=function(){var consequent,alternate,test=gobbleBinaryExpression();return gobbleSpaces(),63!==exprICode(index)?test:(index++,(consequent=gobbleExpression())||throwError("Expected expression",index),gobbleSpaces(),58===exprICode(index)?(index++,(alternate=gobbleExpression())||throwError("Expected expression",index),{type:"ConditionalExpression",test:test,consequent:consequent,alternate:alternate}):void throwError("Expected :",index))},gobbleBinaryOp=function(){gobbleSpaces();for(var to_check=expr.substr(index,max_binop_len),tc_len=to_check.length;tc_len>0;){if(binary_ops.hasOwnProperty(to_check)&&(!isIdentifierStart(exprICode(index))||index+to_check.length<expr.length&&!isIdentifierPart(exprICode(index+to_check.length))))return index+=tc_len,to_check;to_check=to_check.substr(0,--tc_len)}return!1},gobbleBinaryExpression=function(){var node,biop,prec,stack,biop_info,left,right,i,cur_biop;if(left=gobbleToken(),!(biop=gobbleBinaryOp()))return left;for(biop_info={value:biop,prec:binaryPrecedence(biop)},(right=gobbleToken())||throwError("Expected expression after "+biop,index),stack=[left,biop_info,right];(biop=gobbleBinaryOp())&&0!==(prec=binaryPrecedence(biop));){for(biop_info={value:biop,prec:prec},cur_biop=biop;stack.length>2&&prec<=stack[stack.length-2].prec;)right=stack.pop(),biop=stack.pop().value,left=stack.pop(),node=createBinaryExpression(biop,left,right),stack.push(node);(node=gobbleToken())||throwError("Expected expression after "+cur_biop,index),stack.push(biop_info,node)}for(node=stack[i=stack.length-1];i>1;)node=createBinaryExpression(stack[i-1].value,stack[i-2],node),i-=2;return node},gobbleToken=function(){var ch,to_check,tc_len;if(gobbleSpaces(),ch=exprICode(index),isDecimalDigit(ch)||46===ch)return gobbleNumericLiteral();if(39===ch||34===ch)return gobbleStringLiteral();if(91===ch)return gobbleArray();for(tc_len=(to_check=expr.substr(index,max_unop_len)).length;tc_len>0;){if(unary_ops.hasOwnProperty(to_check)&&(!isIdentifierStart(exprICode(index))||index+to_check.length<expr.length&&!isIdentifierPart(exprICode(index+to_check.length))))return index+=tc_len,{type:"UnaryExpression",operator:to_check,argument:gobbleToken(),prefix:!0};to_check=to_check.substr(0,--tc_len)}return!(!isIdentifierStart(ch)&&40!==ch)&&gobbleVariable()},gobbleNumericLiteral=function(){for(var ch,chCode,number="";isDecimalDigit(exprICode(index));)number+=exprI(index++);if(46===exprICode(index))for(number+=exprI(index++);isDecimalDigit(exprICode(index));)number+=exprI(index++);if("e"===(ch=exprI(index))||"E"===ch){for(number+=exprI(index++),"+"!==(ch=exprI(index))&&"-"!==ch||(number+=exprI(index++));isDecimalDigit(exprICode(index));)number+=exprI(index++);isDecimalDigit(exprICode(index-1))||throwError("Expected exponent ("+number+exprI(index)+")",index)}return chCode=exprICode(index),isIdentifierStart(chCode)?throwError("Variable names cannot start with a number ("+number+exprI(index)+")",index):46===chCode&&throwError("Unexpected period",index),{type:"Literal",value:parseFloat(number),raw:number}},gobbleStringLiteral=function(){for(var ch,str="",quote=exprI(index++),closed=!1;index<length;){if((ch=exprI(index++))===quote){closed=!0;break}if("\\"===ch)switch(ch=exprI(index++)){case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="\t";break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="\v";break;default:str+=ch}else str+=ch}return closed||throwError('Unclosed quote after "'+str+'"',index),{type:"Literal",value:str,raw:quote+str+quote}},gobbleIdentifier=function(){var identifier,ch=exprICode(index),start=index;for(isIdentifierStart(ch)?index++:throwError("Unexpected "+exprI(index),index);index<length&&(ch=exprICode(index),isIdentifierPart(ch));)index++;return identifier=expr.slice(start,index),literals.hasOwnProperty(identifier)?{type:"Literal",value:literals[identifier],raw:identifier}:"this"===identifier?{type:"ThisExpression"}:{type:"Identifier",name:identifier}},gobbleArguments=function(termination){for(var ch_i,node,args=[],closed=!1,separator_count=0;index<length;){if(gobbleSpaces(),(ch_i=exprICode(index))===termination){closed=!0,index++,41===termination&&separator_count&&separator_count>=args.length&&throwError("Unexpected token "+String.fromCharCode(termination),index);break}if(44===ch_i){if(index++,++separator_count!==args.length)if(41===termination)throwError("Unexpected token ,",index);else if(93===termination)for(var arg=args.length;arg<separator_count;arg++)args.push(null)}else(node=gobbleExpression())&&"Compound"!==node.type||throwError("Expected comma",index),args.push(node)}return closed||throwError("Expected "+String.fromCharCode(termination),index),args},gobbleVariable=function(){var ch_i,node;for(node=40===(ch_i=exprICode(index))?gobbleGroup():gobbleIdentifier(),gobbleSpaces(),ch_i=exprICode(index);46===ch_i||91===ch_i||40===ch_i;)index++,46===ch_i?(gobbleSpaces(),node={type:"MemberExpression",computed:!1,object:node,property:gobbleIdentifier()}):91===ch_i?(node={type:"MemberExpression",computed:!0,object:node,property:gobbleExpression()},gobbleSpaces(),93!==(ch_i=exprICode(index))&&throwError("Unclosed [",index),index++):40===ch_i&&(node={type:"CallExpression",arguments:gobbleArguments(41),callee:node}),gobbleSpaces(),ch_i=exprICode(index);return node},gobbleGroup=function(){index++;var node=gobbleExpression();if(gobbleSpaces(),41===exprICode(index))return index++,node;throwError("Unclosed (",index)},gobbleArray=function(){return index++,{type:"ArrayExpression",elements:gobbleArguments(93)}},nodes=[];index<length;)59===(ch_i=exprICode(index))||44===ch_i?index++:(node=gobbleExpression())?nodes.push(node):index<length&&throwError('Unexpected "'+exprI(index)+'"',index);return 1===nodes.length?nodes[0]:{type:"Compound",body:nodes}};jsep.version="0.3.5",jsep.toString=function(){return"JavaScript Expression Parser (JSEP) v"+jsep.version},jsep.addUnaryOp=function(op_name){return max_unop_len=Math.max(op_name.length,max_unop_len),unary_ops[op_name]=t,this},jsep.addBinaryOp=function(op_name,precedence){return max_binop_len=Math.max(op_name.length,max_binop_len),binary_ops[op_name]=precedence,this},jsep.addLiteral=function(literal_name,literal_value){return literals[literal_name]=literal_value,this},jsep.removeUnaryOp=function(op_name){return delete unary_ops[op_name],op_name.length===max_unop_len&&(max_unop_len=getMaxKeyLen(unary_ops)),this},jsep.removeAllUnaryOps=function(){return unary_ops={},max_unop_len=0,this},jsep.removeBinaryOp=function(op_name){return delete binary_ops[op_name],op_name.length===max_binop_len&&(max_binop_len=getMaxKeyLen(binary_ops)),this},jsep.removeAllBinaryOps=function(){return binary_ops={},max_binop_len=0,this},jsep.removeLiteral=function(literal_name){return delete literals[literal_name],this},jsep.removeAllLiterals=function(){return literals={},this},module.exports?exports=module.exports=jsep:exports.parse=jsep}()},"./node_modules/lodash.throttle/index.js":function(module,__unused_webpack_exports,__webpack_require__){var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectToString=Object.prototype.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var result=wait-(time-lastCallTime);return maxing?nativeMin(result,maxWait-(time-lastInvokeTime)):result}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(now())},debounced}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function toNumber(value){if("number"==typeof value)return value;if(function isSymbol(value){return"symbol"==typeof value||function isObjectLike(value){return!!value&&"object"==typeof value}(value)&&objectToString.call(value)==symbolTag}(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}},"./node_modules/long/dist/long.js":function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";function Long(low,high,unsigned){this.low=0|low,this.high=0|high,this.unsigned=!!unsigned}function isLong(obj){return!0===(obj&&obj.__isLong__)}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(value,unsigned){var obj,cachedObj,cache;return unsigned?(cache=0<=(value>>>=0)&&value<256)&&(cachedObj=UINT_CACHE[value])?cachedObj:(obj=fromBits(value,(0|value)<0?-1:0,!0),cache&&(UINT_CACHE[value]=obj),obj):(cache=-128<=(value|=0)&&value<128)&&(cachedObj=INT_CACHE[value])?cachedObj:(obj=fromBits(value,value<0?-1:0,!1),cache&&(INT_CACHE[value]=obj),obj)}function fromNumber(value,unsigned){if(isNaN(value)||!isFinite(value))return unsigned?UZERO:ZERO;if(unsigned){if(value<0)return UZERO;if(value>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(value<=-TWO_PWR_63_DBL)return MIN_VALUE;if(value+1>=TWO_PWR_63_DBL)return MAX_VALUE}return value<0?fromNumber(-value,unsigned).neg():fromBits(value%TWO_PWR_32_DBL|0,value/TWO_PWR_32_DBL|0,unsigned)}function fromBits(lowBits,highBits,unsigned){return new Long(lowBits,highBits,unsigned)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(str,unsigned,radix){if(0===str.length)throw Error("empty string");if("NaN"===str||"Infinity"===str||"+Infinity"===str||"-Infinity"===str)return ZERO;if("number"==typeof unsigned?(radix=unsigned,unsigned=!1):unsigned=!!unsigned,(radix=radix||10)<2||36<radix)throw RangeError("radix");var p;if((p=str.indexOf("-"))>0)throw Error("interior hyphen");if(0===p)return fromString(str.substring(1),unsigned,radix).neg();for(var radixToPower=fromNumber(pow_dbl(radix,8)),result=ZERO,i=0;i<str.length;i+=8){var size=Math.min(8,str.length-i),value=parseInt(str.substring(i,i+size),radix);if(size<8){var power=fromNumber(pow_dbl(radix,size));result=result.mul(power).add(fromNumber(value))}else result=(result=result.mul(radixToPower)).add(fromNumber(value))}return result.unsigned=unsigned,result}function fromValue(val){return val instanceof Long?val:"number"==typeof val?fromNumber(val):"string"==typeof val?fromString(val):fromBits(val.low,val.high,val.unsigned)}Long.fromString=fromString,Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(1<<24),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;return LongPrototype.toInt=function toInt(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function toNumber(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function toString(radix){if((radix=radix||10)<2||36<radix)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var radixLong=fromNumber(radix),div=this.div(radixLong),rem1=div.mul(radixLong).sub(this);return div.toString(radix)+rem1.toInt().toString(radix)}return"-"+this.neg().toString(radix)}for(var radixToPower=fromNumber(pow_dbl(radix,6),this.unsigned),rem=this,result="";;){var remDiv=rem.div(radixToPower),digits=(rem.sub(remDiv.mul(radixToPower)).toInt()>>>0).toString(radix);if((rem=remDiv).isZero())return digits+result;for(;digits.length<6;)digits="0"+digits;result=""+digits+result}},LongPrototype.getHighBits=function getHighBits(){return this.high},LongPrototype.getHighBitsUnsigned=function getHighBitsUnsigned(){return this.high>>>0},LongPrototype.getLowBits=function getLowBits(){return this.low},LongPrototype.getLowBitsUnsigned=function getLowBitsUnsigned(){return this.low>>>0},LongPrototype.getNumBitsAbs=function getNumBitsAbs(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var val=0!=this.high?this.high:this.low,bit=31;bit>0&&0==(val&1<<bit);bit--);return 0!=this.high?bit+33:bit+1},LongPrototype.isZero=function isZero(){return 0===this.high&&0===this.low},LongPrototype.isNegative=function isNegative(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function isPositive(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function isOdd(){return 1==(1&this.low)},LongPrototype.isEven=function isEven(){return 0==(1&this.low)},LongPrototype.equals=function equals(other){return isLong(other)||(other=fromValue(other)),(this.unsigned===other.unsigned||this.high>>>31!=1||other.high>>>31!=1)&&this.high===other.high&&this.low===other.low},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function notEquals(other){return!this.eq(other)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.lessThan=function lessThan(other){return this.comp(other)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function lessThanOrEqual(other){return this.comp(other)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function greaterThan(other){return this.comp(other)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function greaterThanOrEqual(other){return this.comp(other)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function compare(other){if(isLong(other)||(other=fromValue(other)),this.eq(other))return 0;var thisNeg=this.isNegative(),otherNeg=other.isNegative();return thisNeg&&!otherNeg?-1:!thisNeg&&otherNeg?1:this.unsigned?other.high>>>0>this.high>>>0||other.high===this.high&&other.low>>>0>this.low>>>0?-1:1:this.sub(other).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function negate(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function add(addend){isLong(addend)||(addend=fromValue(addend));var a48=this.high>>>16,a32=65535&this.high,a16=this.low>>>16,a00=65535&this.low,b48=addend.high>>>16,b32=65535&addend.high,b16=addend.low>>>16,c48=0,c32=0,c16=0,c00=0;return c16+=(c00+=a00+(65535&addend.low))>>>16,c32+=(c16+=a16+b16)>>>16,c48+=(c32+=a32+b32)>>>16,c48+=a48+b48,fromBits((c16&=65535)<<16|(c00&=65535),(c48&=65535)<<16|(c32&=65535),this.unsigned)},LongPrototype.subtract=function subtract(subtrahend){return isLong(subtrahend)||(subtrahend=fromValue(subtrahend)),this.add(subtrahend.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function multiply(multiplier){if(this.isZero())return ZERO;if(isLong(multiplier)||(multiplier=fromValue(multiplier)),multiplier.isZero())return ZERO;if(this.eq(MIN_VALUE))return multiplier.isOdd()?MIN_VALUE:ZERO;if(multiplier.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return multiplier.isNegative()?this.neg().mul(multiplier.neg()):this.neg().mul(multiplier).neg();if(multiplier.isNegative())return this.mul(multiplier.neg()).neg();if(this.lt(TWO_PWR_24)&&multiplier.lt(TWO_PWR_24))return fromNumber(this.toNumber()*multiplier.toNumber(),this.unsigned);var a48=this.high>>>16,a32=65535&this.high,a16=this.low>>>16,a00=65535&this.low,b48=multiplier.high>>>16,b32=65535&multiplier.high,b16=multiplier.low>>>16,b00=65535&multiplier.low,c48=0,c32=0,c16=0,c00=0;return c16+=(c00+=a00*b00)>>>16,c32+=(c16+=a16*b00)>>>16,c16&=65535,c32+=(c16+=a00*b16)>>>16,c48+=(c32+=a32*b00)>>>16,c32&=65535,c48+=(c32+=a16*b16)>>>16,c32&=65535,c48+=(c32+=a00*b32)>>>16,c48+=a48*b00+a32*b16+a16*b32+a00*b48,fromBits((c16&=65535)<<16|(c00&=65535),(c48&=65535)<<16|(c32&=65535),this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function divide(divisor){if(isLong(divisor)||(divisor=fromValue(divisor)),divisor.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?UZERO:ZERO;var approx,rem,res;if(this.unsigned){if(divisor.unsigned||(divisor=divisor.toUnsigned()),divisor.gt(this))return UZERO;if(divisor.gt(this.shru(1)))return UONE;res=UZERO}else{if(this.eq(MIN_VALUE))return divisor.eq(ONE)||divisor.eq(NEG_ONE)?MIN_VALUE:divisor.eq(MIN_VALUE)?ONE:(approx=this.shr(1).div(divisor).shl(1)).eq(ZERO)?divisor.isNegative()?ONE:NEG_ONE:(rem=this.sub(divisor.mul(approx)),res=approx.add(rem.div(divisor)));if(divisor.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return divisor.isNegative()?this.neg().div(divisor.neg()):this.neg().div(divisor).neg();if(divisor.isNegative())return this.div(divisor.neg()).neg();res=ZERO}for(rem=this;rem.gte(divisor);){approx=Math.max(1,Math.floor(rem.toNumber()/divisor.toNumber()));for(var log2=Math.ceil(Math.log(approx)/Math.LN2),delta=log2<=48?1:pow_dbl(2,log2-48),approxRes=fromNumber(approx),approxRem=approxRes.mul(divisor);approxRem.isNegative()||approxRem.gt(rem);)approxRem=(approxRes=fromNumber(approx-=delta,this.unsigned)).mul(divisor);approxRes.isZero()&&(approxRes=ONE),res=res.add(approxRes),rem=rem.sub(approxRem)}return res},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function modulo(divisor){return isLong(divisor)||(divisor=fromValue(divisor)),this.sub(this.div(divisor).mul(divisor))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.not=function not(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.and=function and(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low&other.low,this.high&other.high,this.unsigned)},LongPrototype.or=function or(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low|other.low,this.high|other.high,this.unsigned)},LongPrototype.xor=function xor(other){return isLong(other)||(other=fromValue(other)),fromBits(this.low^other.low,this.high^other.high,this.unsigned)},LongPrototype.shiftLeft=function shiftLeft(numBits){return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:numBits<32?fromBits(this.low<<numBits,this.high<<numBits|this.low>>>32-numBits,this.unsigned):fromBits(0,this.low<<numBits-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function shiftRight(numBits){return isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63)?this:numBits<32?fromBits(this.low>>>numBits|this.high<<32-numBits,this.high>>numBits,this.unsigned):fromBits(this.high>>numBits-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function shiftRightUnsigned(numBits){if(isLong(numBits)&&(numBits=numBits.toInt()),0==(numBits&=63))return this;var high=this.high;return numBits<32?fromBits(this.low>>>numBits|high<<32-numBits,high>>>numBits,this.unsigned):fromBits(32===numBits?high:high>>>numBits-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.toSigned=function toSigned(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function toUnsigned(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function(le){return le?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function(){var hi=this.high,lo=this.low;return[255&lo,lo>>>8&255,lo>>>16&255,lo>>>24&255,255&hi,hi>>>8&255,hi>>>16&255,hi>>>24&255]},LongPrototype.toBytesBE=function(){var hi=this.high,lo=this.low;return[hi>>>24&255,hi>>>16&255,hi>>>8&255,255&hi,lo>>>24&255,lo>>>16&255,lo>>>8&255,255&lo]},Long})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"./node_modules/math.gl/dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Euler:function(){return Euler},Matrix3:function(){return matrix3.Z},Matrix4:function(){return matrix4.Z},Pose:function(){return Pose},Quaternion:function(){return quaternion.Z},SphericalCoordinates:function(){return spherical_coordinates.Z},Vector2:function(){return vector2.Z},Vector3:function(){return vector3.Z},Vector4:function(){return vector4.Z},_Euler:function(){return Euler},_MathUtils:function(){return math_utils.Z},_Pose:function(){return Pose},_SphericalCoordinates:function(){return spherical_coordinates.Z},acos:function(){return common.Kh},asin:function(){return common.ZR},assert:function(){return assert.Z},atan:function(){return common.z4},clamp:function(){return common.uZ},clone:function(){return common.d9},config:function(){return common.vc},configure:function(){return common.jQ},cos:function(){return common.mC},degrees:function(){return common.RW},equals:function(){return common.fS},exactEquals:function(){return common.I6},formatValue:function(){return common.Bw},isArray:function(){return common.kJ},lerp:function(){return common.t7},radians:function(){return common.uR},sin:function(){return common.O$},tan:function(){return common.OR},toDegrees:function(){return common.Ux},toRadians:function(){return common.Yr},withEpsilon:function(){return common.BJ}});var vector2=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/vector2.js"),vector3=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/vector3.js"),vector4=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/vector4.js"),matrix3=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/matrix3.js"),matrix4=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/matrix4.js"),quaternion=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/quaternion.js"),spherical_coordinates=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/spherical-coordinates.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),math_array=__webpack_require__("./node_modules/@math.gl/core/dist/esm/classes/base/math-array.js"),common=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/common.js"),validators=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/validators.js");const ERR_UNKNOWN_ORDER="Unknown Euler angle order";var RotationOrder;!function(RotationOrder){RotationOrder[RotationOrder.ZYX=0]="ZYX",RotationOrder[RotationOrder.YXZ=1]="YXZ",RotationOrder[RotationOrder.XZY=2]="XZY",RotationOrder[RotationOrder.ZXY=3]="ZXY",RotationOrder[RotationOrder.YZX=4]="YZX",RotationOrder[RotationOrder.XYZ=5]="XYZ"}(RotationOrder||(RotationOrder={}));class Euler extends math_array.Z{static get ZYX(){return RotationOrder.ZYX}static get YXZ(){return RotationOrder.YXZ}static get XZY(){return RotationOrder.XZY}static get ZXY(){return RotationOrder.ZXY}static get YZX(){return RotationOrder.YZX}static get XYZ(){return RotationOrder.XYZ}static get RollPitchYaw(){return RotationOrder.ZYX}static get DefaultOrder(){return RotationOrder.ZYX}static get RotationOrders(){return RotationOrder}static rotationOrder(order){return RotationOrder[order]}get ELEMENTS(){return 4}constructor(x=0,y=0,z=0,order=Euler.DefaultOrder){super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(x,y,z,order)}fromQuaternion(quaternion){const[x,y,z,w]=quaternion,ysqr=y*y,t0=-2*(ysqr+z*z)+1,t1=2*(x*y+w*z);let t2=-2*(x*z-w*y);const t3=2*(y*z+w*x),t4=-2*(x*x+ysqr)+1;t2=t2>1?1:t2,t2=t2<-1?-1:t2;const roll=Math.atan2(t3,t4),pitch=Math.asin(t2),yaw=Math.atan2(t1,t0);return this.set(roll,pitch,yaw,Euler.RollPitchYaw)}fromObject(object){throw new Error("not implemented")}copy(array){return this[0]=array[0],this[1]=array[1],this[2]=array[2],this[3]=Number.isFinite(array[3])||this.order,this.check()}set(x=0,y=0,z=0,order){return this[0]=x,this[1]=y,this[2]=z,this[3]=Number.isFinite(order)?order:this[3],this.check()}validate(){return function validateOrder(value){return value>=0&&value<6}(this[3])&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2])}toArray(array=[],offset=0){return array[offset]=this[0],array[offset+1]=this[1],array[offset+2]=this[2],array}toArray4(array=[],offset=0){return array[offset]=this[0],array[offset+1]=this[1],array[offset+2]=this[2],array[offset+3]=this[3],array}toVector3(result=[-0,-0,-0]){return result[0]=this[0],result[1]=this[1],result[2]=this[2],result}get x(){return this[0]}set x(value){this[0]=(0,validators.u5)(value)}get y(){return this[1]}set y(value){this[1]=(0,validators.u5)(value)}get z(){return this[2]}set z(value){this[2]=(0,validators.u5)(value)}get alpha(){return this[0]}set alpha(value){this[0]=(0,validators.u5)(value)}get beta(){return this[1]}set beta(value){this[1]=(0,validators.u5)(value)}get gamma(){return this[2]}set gamma(value){this[2]=(0,validators.u5)(value)}get phi(){return this[0]}set phi(value){this[0]=(0,validators.u5)(value)}get theta(){return this[1]}set theta(value){this[1]=(0,validators.u5)(value)}get psi(){return this[2]}set psi(value){this[2]=(0,validators.u5)(value)}get roll(){return this[0]}set roll(value){this[0]=(0,validators.u5)(value)}get pitch(){return this[1]}set pitch(value){this[1]=(0,validators.u5)(value)}get yaw(){return this[2]}set yaw(value){this[2]=(0,validators.u5)(value)}get order(){return this[3]}set order(value){this[3]=function checkOrder(value){if(value<0&&value>=6)throw new Error(ERR_UNKNOWN_ORDER);return value}(value)}fromVector3(v,order){return this.set(v[0],v[1],v[2],Number.isFinite(order)?order:this[3])}fromArray(array,offset=0){return this[0]=array[0+offset],this[1]=array[1+offset],this[2]=array[2+offset],void 0!==array[3]&&(this[3]=array[3]),this.check()}fromRollPitchYaw(roll,pitch,yaw){return this.set(roll,pitch,yaw,RotationOrder.ZYX)}fromRotationMatrix(m,order=Euler.DefaultOrder){return this._fromRotationMatrix(m,order),this.check()}getRotationMatrix(m){return this._getRotationMatrix(m)}getQuaternion(){const q=new quaternion.Z;switch(this[4]){case RotationOrder.XYZ:return q.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case RotationOrder.YXZ:return q.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case RotationOrder.ZXY:return q.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case RotationOrder.ZYX:return q.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case RotationOrder.YZX:return q.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case RotationOrder.XZY:return q.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(ERR_UNKNOWN_ORDER)}}_fromRotationMatrix(m,order=Euler.DefaultOrder){const m11=m[0],m12=m[4],m13=m[8],m21=m[1],m22=m[5],m23=m[9],m31=m[2],m32=m[6],m33=m[10];switch(order=order||this[3]){case Euler.XYZ:this[1]=Math.asin((0,common.uZ)(m13,-1,1)),Math.abs(m13)<.99999?(this[0]=Math.atan2(-m23,m33),this[2]=Math.atan2(-m12,m11)):(this[0]=Math.atan2(m32,m22),this[2]=0);break;case Euler.YXZ:this[0]=Math.asin(-(0,common.uZ)(m23,-1,1)),Math.abs(m23)<.99999?(this[1]=Math.atan2(m13,m33),this[2]=Math.atan2(m21,m22)):(this[1]=Math.atan2(-m31,m11),this[2]=0);break;case Euler.ZXY:this[0]=Math.asin((0,common.uZ)(m32,-1,1)),Math.abs(m32)<.99999?(this[1]=Math.atan2(-m31,m33),this[2]=Math.atan2(-m12,m22)):(this[1]=0,this[2]=Math.atan2(m21,m11));break;case Euler.ZYX:this[1]=Math.asin(-(0,common.uZ)(m31,-1,1)),Math.abs(m31)<.99999?(this[0]=Math.atan2(m32,m33),this[2]=Math.atan2(m21,m11)):(this[0]=0,this[2]=Math.atan2(-m12,m22));break;case Euler.YZX:this[2]=Math.asin((0,common.uZ)(m21,-1,1)),Math.abs(m21)<.99999?(this[0]=Math.atan2(-m23,m22),this[1]=Math.atan2(-m31,m11)):(this[0]=0,this[1]=Math.atan2(m13,m33));break;case Euler.XZY:this[2]=Math.asin(-(0,common.uZ)(m12,-1,1)),Math.abs(m12)<.99999?(this[0]=Math.atan2(m32,m22),this[1]=Math.atan2(m13,m11)):(this[0]=Math.atan2(-m23,m33),this[1]=0);break;default:throw new Error(ERR_UNKNOWN_ORDER)}return this[3]=order,this}_getRotationMatrix(result){const te=result||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],x=this.x,y=this.y,z=this.z,a=Math.cos(x),c=Math.cos(y),e=Math.cos(z),b=Math.sin(x),d=Math.sin(y),f=Math.sin(z);switch(this[3]){case Euler.XYZ:{const ae=a*e,af=a*f,be=b*e,bf=b*f;te[0]=c*e,te[4]=-c*f,te[8]=d,te[1]=af+be*d,te[5]=ae-bf*d,te[9]=-b*c,te[2]=bf-ae*d,te[6]=be+af*d,te[10]=a*c;break}case Euler.YXZ:{const ce=c*e,cf=c*f,de=d*e,df=d*f;te[0]=ce+df*b,te[4]=de*b-cf,te[8]=a*d,te[1]=a*f,te[5]=a*e,te[9]=-b,te[2]=cf*b-de,te[6]=df+ce*b,te[10]=a*c;break}case Euler.ZXY:{const ce=c*e,cf=c*f,de=d*e,df=d*f;te[0]=ce-df*b,te[4]=-a*f,te[8]=de+cf*b,te[1]=cf+de*b,te[5]=a*e,te[9]=df-ce*b,te[2]=-a*d,te[6]=b,te[10]=a*c;break}case Euler.ZYX:{const ae=a*e,af=a*f,be=b*e,bf=b*f;te[0]=c*e,te[4]=be*d-af,te[8]=ae*d+bf,te[1]=c*f,te[5]=bf*d+ae,te[9]=af*d-be,te[2]=-d,te[6]=b*c,te[10]=a*c;break}case Euler.YZX:{const ac=a*c,ad=a*d,bc=b*c,bd=b*d;te[0]=c*e,te[4]=bd-ac*f,te[8]=bc*f+ad,te[1]=f,te[5]=a*e,te[9]=-b*e,te[2]=-d*e,te[6]=ad*f+bc,te[10]=ac-bd*f;break}case Euler.XZY:{const ac=a*c,ad=a*d,bc=b*c,bd=b*d;te[0]=c*e,te[4]=-f,te[8]=d*e,te[1]=ac*f+bd,te[5]=a*e,te[9]=ad*f-bc,te[2]=bc*f-ad,te[6]=b*e,te[10]=bd*f+ac;break}default:throw new Error(ERR_UNKNOWN_ORDER)}return te[3]=0,te[7]=0,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,te}toQuaternion(){const cy=Math.cos(.5*this.yaw),sy=Math.sin(.5*this.yaw),cr=Math.cos(.5*this.roll),sr=Math.sin(.5*this.roll),cp=Math.cos(.5*this.pitch),sp=Math.sin(.5*this.pitch),w=cy*cr*cp+sy*sr*sp,x=cy*sr*cp-sy*cr*sp,y=cy*cr*sp+sy*sr*cp,z=sy*cr*cp-cy*sr*sp;return new quaternion.Z(x,y,z,w)}}class Pose{constructor({x:x=0,y:y=0,z:z=0,roll:roll=0,pitch:pitch=0,yaw:yaw=0,position:position,orientation:orientation}={}){(0,defineProperty.Z)(this,"position",void 0),(0,defineProperty.Z)(this,"orientation",void 0),Array.isArray(position)&&3===position.length?this.position=new vector3.Z(position):this.position=new vector3.Z(x,y,z),Array.isArray(orientation)&&4===orientation.length?this.orientation=new Euler(orientation,orientation[3]):this.orientation=new Euler(roll,pitch,yaw,Euler.RollPitchYaw)}get x(){return this.position.x}set x(value){this.position.x=value}get y(){return this.position.y}set y(value){this.position.y=value}get z(){return this.position.z}set z(value){this.position.z=value}get roll(){return this.orientation.roll}set roll(value){this.orientation.roll=value}get pitch(){return this.orientation.pitch}set pitch(value){this.orientation.pitch=value}get yaw(){return this.orientation.yaw}set yaw(value){this.orientation.yaw=value}getPosition(){return this.position}getOrientation(){return this.orientation}equals(pose){return!!pose&&(this.position.equals(pose.position)&&this.orientation.equals(pose.orientation))}exactEquals(pose){return!!pose&&(this.position.exactEquals(pose.position)&&this.orientation.exactEquals(pose.orientation))}getTransformationMatrix(){const sr=Math.sin(this.roll),sp=Math.sin(this.pitch),sw=Math.sin(this.yaw),cr=Math.cos(this.roll),cp=Math.cos(this.pitch),cw=Math.cos(this.yaw);return(new matrix4.Z).setRowMajor(cw*cp,-sw*cr+cw*sp*sr,sw*sr+cw*sp*cr,this.x,sw*cp,cw*cr+sw*sp*sr,-cw*sr+sw*sp*cr,this.y,-sp,cp*sr,cp*cr,this.z,0,0,0,1)}getTransformationMatrixFromPose(pose){return(new matrix4.Z).multiplyRight(this.getTransformationMatrix()).multiplyRight(pose.getTransformationMatrix().invert())}getTransformationMatrixToPose(pose){return(new matrix4.Z).multiplyRight(pose.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}}var math_utils=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/math-utils.js"),assert=__webpack_require__("./node_modules/@math.gl/core/dist/esm/lib/assert.js")},"./node_modules/mathjs/lib/esm/constants.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{IK:function(){return createE},Yb:function(){return createFalse},oL:function(){return createI},Ir:function(){return createInfinity},ur:function(){return createLN10},Cc:function(){return createLN2},q_:function(){return createLOG10E},p9:function(){return createLOG2E},t$:function(){return createNaN},VG:function(){return createNull},Ii:function(){return createPhi},up:function(){return createPi},JE:function(){return createSQRT1_2},rN:function(){return createSQRT2},ci:function(){return createTau},jy:function(){return createTrue},Iu:function(){return createUppercaseE},lO:function(){return createUppercasePi},hT:function(){return createVersion}});var factory=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),constants=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/constants.js"),pi=Math.PI,tau=2*Math.PI,e=Math.E,createTrue=(0,factory.d5)("true",[],(()=>!0)),createFalse=(0,factory.d5)("false",[],(()=>!1)),createNull=(0,factory.d5)("null",[],(()=>null)),createInfinity=recreateFactory("Infinity",["config","?BigNumber"],(_ref=>{var{config:config,BigNumber:BigNumber}=_ref;return"BigNumber"===config.number?new BigNumber(1/0):1/0})),createNaN=recreateFactory("NaN",["config","?BigNumber"],(_ref2=>{var{config:config,BigNumber:BigNumber}=_ref2;return"BigNumber"===config.number?new BigNumber(NaN):NaN})),createPi=recreateFactory("pi",["config","?BigNumber"],(_ref3=>{var{config:config,BigNumber:BigNumber}=_ref3;return"BigNumber"===config.number?(0,constants.wY)(BigNumber):pi})),createTau=recreateFactory("tau",["config","?BigNumber"],(_ref4=>{var{config:config,BigNumber:BigNumber}=_ref4;return"BigNumber"===config.number?(0,constants.j_)(BigNumber):tau})),createE=recreateFactory("e",["config","?BigNumber"],(_ref5=>{var{config:config,BigNumber:BigNumber}=_ref5;return"BigNumber"===config.number?(0,constants.vu)(BigNumber):e})),createPhi=recreateFactory("phi",["config","?BigNumber"],(_ref6=>{var{config:config,BigNumber:BigNumber}=_ref6;return"BigNumber"===config.number?(0,constants.zm)(BigNumber):1.618033988749895})),createLN2=recreateFactory("LN2",["config","?BigNumber"],(_ref7=>{var{config:config,BigNumber:BigNumber}=_ref7;return"BigNumber"===config.number?new BigNumber(2).ln():Math.LN2})),createLN10=recreateFactory("LN10",["config","?BigNumber"],(_ref8=>{var{config:config,BigNumber:BigNumber}=_ref8;return"BigNumber"===config.number?new BigNumber(10).ln():Math.LN10})),createLOG2E=recreateFactory("LOG2E",["config","?BigNumber"],(_ref9=>{var{config:config,BigNumber:BigNumber}=_ref9;return"BigNumber"===config.number?new BigNumber(1).div(new BigNumber(2).ln()):Math.LOG2E})),createLOG10E=recreateFactory("LOG10E",["config","?BigNumber"],(_ref10=>{var{config:config,BigNumber:BigNumber}=_ref10;return"BigNumber"===config.number?new BigNumber(1).div(new BigNumber(10).ln()):Math.LOG10E})),createSQRT1_2=recreateFactory("SQRT1_2",["config","?BigNumber"],(_ref11=>{var{config:config,BigNumber:BigNumber}=_ref11;return"BigNumber"===config.number?new BigNumber("0.5").sqrt():Math.SQRT1_2})),createSQRT2=recreateFactory("SQRT2",["config","?BigNumber"],(_ref12=>{var{config:config,BigNumber:BigNumber}=_ref12;return"BigNumber"===config.number?new BigNumber(2).sqrt():Math.SQRT2})),createI=recreateFactory("i",["Complex"],(_ref13=>{var{Complex:Complex}=_ref13;return Complex.I})),createUppercasePi=(0,factory.d5)("PI",["pi"],(_ref14=>{var{pi:pi}=_ref14;return pi})),createUppercaseE=(0,factory.d5)("E",["e"],(_ref15=>{var{e:e}=_ref15;return e})),createVersion=(0,factory.d5)("version",[],(()=>"9.5.2"));function recreateFactory(name,dependencies,create){return(0,factory.d5)(name,dependencies,create,{recreateOnConfigChange:!0})}},"./node_modules/mathjs/lib/esm/core/config.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{g:function(){return DEFAULT_CONFIG}});var DEFAULT_CONFIG={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null}},"./node_modules/mathjs/lib/esm/core/function/config.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Ll:function(){return configFactory},qK:function(){return MATRIX_OPTIONS},x9:function(){return NUMBER_OPTIONS}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_config_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/core/config.js"),MATRIX_OPTIONS=["Matrix","Array"],NUMBER_OPTIONS=["number","BigNumber","Fraction"];function configFactory(config,emit){function _config(options){if(options){var prev=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.Xc)(config,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.d9);validateOption(options,"matrix",MATRIX_OPTIONS),validateOption(options,"number",NUMBER_OPTIONS),(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.ZB)(config,options);var curr=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.Xc)(config,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.d9),changes=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.Xc)(options,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.d9);return emit("config",curr,prev,changes),curr}return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.Xc)(config,_utils_object_js__WEBPACK_IMPORTED_MODULE_0__.d9)}return _config.MATRIX_OPTIONS=MATRIX_OPTIONS,_config.NUMBER_OPTIONS=NUMBER_OPTIONS,Object.keys(_config_js__WEBPACK_IMPORTED_MODULE_1__.g).forEach((key=>{Object.defineProperty(_config,key,{get:()=>config[key],enumerable:!0,configurable:!0})})),_config}function validateOption(options,name,values){void 0===options[name]||function contains(array,item){return-1!==array.indexOf(item)}(values,options[name])||console.warn('Warning: Unknown value "'+options[name]+'" for configuration option "'+name+'". Available options: '+values.map((value=>JSON.stringify(value))).join(", ")+".")}},"./node_modules/mathjs/lib/esm/core/function/typed.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return createTyped}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),typed_function__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/typed-function/typed-function.js"),typed_function__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(typed_function__WEBPACK_IMPORTED_MODULE_0__),_utils_number_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_map_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/map.js"),_createTyped2=function _createTyped(){return _createTyped2=typed_function__WEBPACK_IMPORTED_MODULE_0___default().create,typed_function__WEBPACK_IMPORTED_MODULE_0___default()},dependencies=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],createTyped=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)("typed",dependencies,(function createTyped(_ref){var{BigNumber:BigNumber,Complex:Complex,DenseMatrix:DenseMatrix,Fraction:Fraction}=_ref,typed=_createTyped2();return typed.types=[{name:"number",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.hj},{name:"Complex",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Mc},{name:"BigNumber",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9},{name:"Fraction",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.yQ},{name:"Unit",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.wr},{name:"string",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.HD},{name:"Chain",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.qg},{name:"Array",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kJ},{name:"Matrix",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW},{name:"DenseMatrix",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.jH},{name:"SparseMatrix",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.sA},{name:"Range",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.bR},{name:"Index",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.dh},{name:"boolean",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.jn},{name:"ResultSet",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.cB},{name:"Help",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.x1},{name:"function",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.mf},{name:"Date",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.J_},{name:"RegExp",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Kj},{name:"null",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Ft},{name:"undefined",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.o8},{name:"AccessorNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Yz},{name:"ArrayNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.j0},{name:"AssignmentNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Bp},{name:"BlockNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.zh},{name:"ConditionalNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.tS},{name:"ConstantNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.nu},{name:"FunctionNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.VO},{name:"FunctionAssignmentNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l7},{name:"IndexNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Cl},{name:"Node",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.UG},{name:"ObjectNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Lr},{name:"OperatorNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.bV},{name:"ParenthesisNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Ig},{name:"RangeNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.ex},{name:"SymbolNode",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.FG},{name:"Map",test:_utils_map_js__WEBPACK_IMPORTED_MODULE_3__._N},{name:"Object",test:_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Kn}],typed.conversions=[{from:"number",to:"BigNumber",convert:function convert(x){if(BigNumber||throwNoBignumber(x),(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_4__.nz)(x)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+x+"). Use function bignumber(x) to convert to BigNumber.");return new BigNumber(x)}},{from:"number",to:"Complex",convert:function convert(x){return Complex||throwNoComplex(x),new Complex(x,0)}},{from:"number",to:"string",convert:function convert(x){return x+""}},{from:"BigNumber",to:"Complex",convert:function convert(x){return Complex||throwNoComplex(x),new Complex(x.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function convert(x){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function convert(x){return Complex||throwNoComplex(x),new Complex(x.valueOf(),0)}},{from:"number",to:"Fraction",convert:function convert(x){Fraction||throwNoFraction(x);var f=new Fraction(x);if(f.valueOf()!==x)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+x+"). Use function fraction(x) to convert to Fraction.");return f}},{from:"string",to:"number",convert:function convert(x){var n=Number(x);if(isNaN(n))throw new Error('Cannot convert "'+x+'" to a number');return n}},{from:"string",to:"BigNumber",convert:function convert(x){BigNumber||throwNoBignumber(x);try{return new BigNumber(x)}catch(err){throw new Error('Cannot convert "'+x+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function convert(x){Fraction||throwNoFraction(x);try{return new Fraction(x)}catch(err){throw new Error('Cannot convert "'+x+'" to Fraction')}}},{from:"string",to:"Complex",convert:function convert(x){Complex||throwNoComplex(x);try{return new Complex(x)}catch(err){throw new Error('Cannot convert "'+x+'" to Complex')}}},{from:"boolean",to:"number",convert:function convert(x){return+x}},{from:"boolean",to:"BigNumber",convert:function convert(x){return BigNumber||throwNoBignumber(x),new BigNumber(+x)}},{from:"boolean",to:"Fraction",convert:function convert(x){return Fraction||throwNoFraction(x),new Fraction(+x)}},{from:"boolean",to:"string",convert:function convert(x){return String(x)}},{from:"Array",to:"Matrix",convert:function convert(array){return DenseMatrix||function throwNoMatrix(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new DenseMatrix(array)}},{from:"Matrix",to:"Array",convert:function convert(matrix){return matrix.valueOf()}}],typed}));function throwNoBignumber(x){throw new Error("Cannot convert value ".concat(x," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(x){throw new Error("Cannot convert value ".concat(x," into a Complex number: no class 'Complex' provided"))}function throwNoFraction(x){throw new Error("Cannot convert value ".concat(x," into a Fraction, no class 'Fraction' provided."))}},"./node_modules/mathjs/lib/esm/entry/pureFunctionsAny.generated.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{TE$:function(){return pureFunctionsAny_generated_distance},AKD:function(){return pureFunctionsAny_generated_dot},$XF:function(){return pureFunctionsAny_generated_subtract}});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),core_config=__webpack_require__("./node_modules/mathjs/lib/esm/core/config.js"),config=__webpack_require__("./node_modules/mathjs/lib/esm/core/function/config.js"),configReadonly_config=function config(options){if(options)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(core_config.g)};(0,esm_extends.Z)(configReadonly_config,core_config.g,{MATRIX_OPTIONS:config.qK,NUMBER_OPTIONS:config.x9});__webpack_require__("./node_modules/mathjs/lib/esm/type/resultset/ResultSet.js");var Complex=__webpack_require__("./node_modules/mathjs/lib/esm/type/complex/Complex.js"),BigNumber=(__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/Range.js"),__webpack_require__("./node_modules/mathjs/lib/esm/constants.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/bignumber/BigNumber.js")),Matrix=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/Matrix.js"),Fraction=(__webpack_require__("./node_modules/mathjs/lib/esm/json/replacer.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/unit/physicalConstants.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/fraction/Fraction.js")),DenseMatrix=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/DenseMatrix.js"),typed=__webpack_require__("./node_modules/mathjs/lib/esm/core/function/typed.js"),equalScalar=(__webpack_require__("./node_modules/mathjs/lib/esm/function/utils/isInteger.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/utils/isNumeric.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/utils/isPositive.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/utils/isNaN.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/relational/equalScalar.js")),number=__webpack_require__("./node_modules/mathjs/lib/esm/type/number.js"),multiplyScalar=(__webpack_require__("./node_modules/mathjs/lib/esm/type/boolean.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/complex/function/complex.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/unit/function/splitUnit.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/unaryPlus.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/apply.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/cube.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/expm1.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/log10.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/multiplyScalar.js")),fraction=(__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/sign.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/square.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/bitwise/bitNot.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/complex/arg.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/complex/im.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/logical/not.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/filter.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/forEach.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/map.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/special/erf.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/string/format.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/string/oct.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/string/print.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/utils/isPrime.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/acos.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/acot.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/acsc.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/asec.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/asin.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/atan.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/atanh.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/cosh.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/coth.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/csch.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/sech.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/sinh.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/tanh.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/combinations.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/pickRandom.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/randomInt.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/utils/clone.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/utils/hasNumericValue.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/utils/typeOf.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/string.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/fraction/function/fraction.js")),unaryMinus=__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/unaryMinus.js"),addScalar=__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/addScalar.js"),sqrt=(__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/exp.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/log2.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/sqrt.js")),conj=__webpack_require__("./node_modules/mathjs/lib/esm/function/complex/conj.js"),SparseMatrix=(__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/getMatrixDataType.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/mode.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/string/bin.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/acosh.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/acsch.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/asinh.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/cos.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/csc.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/sin.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/combinationsWithRep.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/random.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/utils/isNegative.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/SparseMatrix.js")),matrix=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/function/matrix.js"),abs=__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/abs.js"),size=(__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/gcd.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/mod.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/nthRoot.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/xgcd.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/bitwise/bitAnd.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/bitwise/bitXor.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/logical/or.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/concat.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/diag.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/identity.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/ones.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/reshape.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/size.js")),dot=(__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/subset.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/zeros.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/string/hex.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/round.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/bitwise/leftShift.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/bitwise/rightLogShift.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/relational/compare.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/relational/compareText.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/relational/smaller.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/relational/larger.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/relational/unequal.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/ImmutableDenseMatrix.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/FibonacciHeap.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/function/sparse.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/acoth.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/atan2.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/sec.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/add.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/dot.js")),bignumber=(__webpack_require__("./node_modules/mathjs/lib/esm/function/combinatorics/composition.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/utils/isZero.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/matrixFromFunction.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/cbrt.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/floor.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/multiply.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/dotMultiply.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/complex/re.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/flatten.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/resize.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/squeeze.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/unit/to.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/pow.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/dotPow.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/bitwise/rightArithShift.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/relational/compareNatural.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/relational/equalText.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/relational/largerEq.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/partitionSelect.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/MatrixIndex.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/asech.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/tan.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/set/setDifference.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/set/setIntersect.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/set/setMultiplicity.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/set/setSize.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/trace.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/quantileSeq.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/gamma.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/bignumber/function/bignumber.js")),numeric=(__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/matrixFromColumns.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/lcm.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/bitwise/bitOr.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/kron.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/transpose.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/utils/numeric.js")),subtract=(__webpack_require__("./node_modules/mathjs/lib/esm/function/logical/and.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/relational/smallerEq.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/sort.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/min.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/trigonometry/cot.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/set/setDistinct.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/set/setPowerset.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/function/index.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/sum.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/factorial.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/permutations.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/matrixFromRows.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/subtract.js")),divideScalar=(__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/cross.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/range.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/row.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/prod.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/relational/equal.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/max.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/set/setCartesian.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/set/setSymDifference.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/ceil.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/logical/xor.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/count.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/ctranspose.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/relational/deepEqual.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/set/setIsSubset.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/fix.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/diff.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/divideScalar.js")),distance=(__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/nthRoots.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/solver/lsolve.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/solver/lsolveAll.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/Spa.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/set/setUnion.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/decomposition/lup.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/decomposition/slu.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/det.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/geometry/distance.js")),pureFunctionsAny_generated_Complex=(__webpack_require__("./node_modules/mathjs/lib/esm/function/combinatorics/stirlingS2.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/combinatorics/catalan.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/column.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/log.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/dotDivide.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/solver/usolveAll.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/hypot.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/decomposition/qr.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/inv.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/expm.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/divide.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/mean.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/variance.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/kldivergence.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/combinatorics/bellNumbers.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/log1p.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/unit/Unit.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/unit/function/createUnit.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/sqrtm.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/median.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/std.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/solver/usolve.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/solver/lusolve.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/eigs.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/mad.js"),__webpack_require__("./node_modules/mathjs/lib/esm/type/unit/function/unit.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/geometry/intersect.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/arithmetic/norm.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/rotationMatrix.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/matrix/rotate.js"),__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/multinomial.js"),(0,Complex.w)({})),pureFunctionsAny_generated_BigNumber=(0,BigNumber.w)({config:configReadonly_config}),pureFunctionsAny_generated_Matrix=(0,Matrix.K)({}),pureFunctionsAny_generated_Fraction=(0,Fraction.u)({}),pureFunctionsAny_generated_DenseMatrix=(0,DenseMatrix.D)({Matrix:pureFunctionsAny_generated_Matrix}),pureFunctionsAny_generated_typed=(0,typed.d)({BigNumber:pureFunctionsAny_generated_BigNumber,Complex:pureFunctionsAny_generated_Complex,DenseMatrix:pureFunctionsAny_generated_DenseMatrix,Fraction:pureFunctionsAny_generated_Fraction}),pureFunctionsAny_generated_equalScalar=(0,equalScalar.f)({config:configReadonly_config,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_number=(0,number.k)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_multiplyScalar=(0,multiplyScalar.x)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_fraction=(0,fraction.v)({Fraction:pureFunctionsAny_generated_Fraction,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_unaryMinus=(0,unaryMinus.x)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_addScalar=(0,addScalar.A)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_sqrt=(0,sqrt.M)({Complex:pureFunctionsAny_generated_Complex,config:configReadonly_config,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_conj=(0,conj.b)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_SparseMatrix=(0,SparseMatrix.C)({Matrix:pureFunctionsAny_generated_Matrix,equalScalar:pureFunctionsAny_generated_equalScalar,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_matrix=(0,matrix.w)({DenseMatrix:pureFunctionsAny_generated_DenseMatrix,Matrix:pureFunctionsAny_generated_Matrix,SparseMatrix:pureFunctionsAny_generated_SparseMatrix,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_abs=(0,abs.E)({typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_size=(0,size.s)({matrix:pureFunctionsAny_generated_matrix,config:configReadonly_config,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_dot=(0,dot.W)({addScalar:pureFunctionsAny_generated_addScalar,conj:pureFunctionsAny_generated_conj,multiplyScalar:pureFunctionsAny_generated_multiplyScalar,size:pureFunctionsAny_generated_size,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_bignumber=(0,bignumber.p)({BigNumber:pureFunctionsAny_generated_BigNumber,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_numeric=(0,numeric.d)({bignumber:pureFunctionsAny_generated_bignumber,fraction:pureFunctionsAny_generated_fraction,number:pureFunctionsAny_generated_number}),pureFunctionsAny_generated_subtract=(0,subtract.p)({DenseMatrix:pureFunctionsAny_generated_DenseMatrix,addScalar:pureFunctionsAny_generated_addScalar,equalScalar:pureFunctionsAny_generated_equalScalar,matrix:pureFunctionsAny_generated_matrix,typed:pureFunctionsAny_generated_typed,unaryMinus:pureFunctionsAny_generated_unaryMinus}),pureFunctionsAny_generated_divideScalar=(0,divideScalar.L)({numeric:pureFunctionsAny_generated_numeric,typed:pureFunctionsAny_generated_typed}),pureFunctionsAny_generated_distance=(0,distance.v)({abs:pureFunctionsAny_generated_abs,addScalar:pureFunctionsAny_generated_addScalar,divideScalar:pureFunctionsAny_generated_divideScalar,multiplyScalar:pureFunctionsAny_generated_multiplyScalar,sqrt:pureFunctionsAny_generated_sqrt,subtract:pureFunctionsAny_generated_subtract,typed:pureFunctionsAny_generated_typed,unaryMinus:pureFunctionsAny_generated_unaryMinus})},"./node_modules/mathjs/lib/esm/error/ArgumentsError.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function ArgumentsError(fn,count,min,max){if(!(this instanceof ArgumentsError))throw new SyntaxError("Constructor must be called with the new operator");this.fn=fn,this.count=count,this.min=min,this.max=max,this.message="Wrong number of arguments in function "+fn+" ("+count+" provided, "+min+(null!=max?"-"+max:"")+" expected)",this.stack=(new Error).stack}__webpack_require__.d(__webpack_exports__,{u:function(){return ArgumentsError}}),ArgumentsError.prototype=new Error,ArgumentsError.prototype.constructor=Error,ArgumentsError.prototype.name="ArgumentsError",ArgumentsError.prototype.isArgumentsError=!0},"./node_modules/mathjs/lib/esm/error/DimensionError.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function DimensionError(actual,expected,relation){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=actual,this.expected=expected,this.relation=relation,this.message="Dimension mismatch ("+(Array.isArray(actual)?"["+actual.join(", ")+"]":actual)+" "+(this.relation||"!=")+" "+(Array.isArray(expected)?"["+expected.join(", ")+"]":expected)+")",this.stack=(new Error).stack}__webpack_require__.d(__webpack_exports__,{m:function(){return DimensionError}}),DimensionError.prototype=new RangeError,DimensionError.prototype.constructor=RangeError,DimensionError.prototype.name="DimensionError",DimensionError.prototype.isDimensionError=!0},"./node_modules/mathjs/lib/esm/error/IndexError.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function IndexError(index,min,max){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=index,arguments.length<3?(this.min=0,this.max=min):(this.min=min,this.max=max),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}__webpack_require__.d(__webpack_exports__,{c:function(){return IndexError}}),IndexError.prototype=new RangeError,IndexError.prototype.constructor=RangeError,IndexError.prototype.name="IndexError",IndexError.prototype.isIndexError=!0},"./node_modules/mathjs/lib/esm/function/algebra/decomposition/lup.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createLup}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],createLup=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("lup",dependencies,(_ref=>{var{typed:typed,matrix:matrix,abs:abs,addScalar:addScalar,divideScalar:divideScalar,multiplyScalar:multiplyScalar,subtract:subtract,larger:larger,equalScalar:equalScalar,unaryMinus:unaryMinus,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix,Spa:Spa}=_ref;return typed("lup",{DenseMatrix:function DenseMatrix(m){return _denseLUP(m)},SparseMatrix:function SparseMatrix(m){return _sparseLUP(m)},Array:function Array(a){var r=_denseLUP(matrix(a));return{L:r.L.valueOf(),U:r.U.valueOf(),p:r.p}}});function _denseLUP(m){var i,j,k,rows=m._size[0],columns=m._size[1],n=Math.min(rows,columns),data=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(m._data),ldata=[],lsize=[rows,n],udata=[],usize=[n,columns],p=[];for(i=0;i<rows;i++)p[i]=i;for(j=0;j<columns;j++){if(j>0)for(i=0;i<rows;i++){var min=Math.min(i,j),s=0;for(k=0;k<min;k++)s=addScalar(s,multiplyScalar(data[i][k],data[k][j]));data[i][j]=subtract(data[i][j],s)}var pi=j,pabsv=0,vjj=0;for(i=j;i<rows;i++){var v=data[i][j],absv=abs(v);larger(absv,pabsv)&&(pi=i,pabsv=absv,vjj=v)}if(j!==pi&&(p[j]=[p[pi],p[pi]=p[j]][0],DenseMatrix._swapRows(j,pi,data)),j<rows)for(i=j+1;i<rows;i++){var vij=data[i][j];equalScalar(vij,0)||(data[i][j]=divideScalar(data[i][j],vjj))}}for(j=0;j<columns;j++)for(i=0;i<rows;i++)0===j&&(i<columns&&(udata[i]=[]),ldata[i]=[]),i<j?(i<columns&&(udata[i][j]=data[i][j]),j<rows&&(ldata[i][j]=0)):i!==j?(i<columns&&(udata[i][j]=0),j<rows&&(ldata[i][j]=data[i][j])):(i<columns&&(udata[i][j]=data[i][j]),j<rows&&(ldata[i][j]=1));var l=new DenseMatrix({data:ldata,size:lsize}),u=new DenseMatrix({data:udata,size:usize}),pv=[];for(i=0,n=p.length;i<n;i++)pv[p[i]]=i;return{L:l,U:u,p:pv,toString:function toString(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function _sparseLUP(m){var i,j,k,rows=m._size[0],columns=m._size[1],n=Math.min(rows,columns),values=m._values,index=m._index,ptr=m._ptr,lvalues=[],lindex=[],lptr=[],lsize=[rows,n],uvalues=[],uindex=[],uptr=[],usize=[n,columns],pvCo=[],pvOc=[];for(i=0;i<rows;i++)pvCo[i]=i,pvOc[i]=i;var _loop=function _loop(){var spa=new Spa;j<rows&&(lptr.push(lvalues.length),lvalues.push(1),lindex.push(j)),uptr.push(uvalues.length);var k0=ptr[j],k1=ptr[j+1];for(k=k0;k<k1;k++)i=index[k],spa.set(pvCo[i],values[k]);j>0&&spa.forEach(0,j-1,(function(k,vkj){SparseMatrix._forEachRow(k,lvalues,lindex,lptr,(function(i,vik){i>k&&spa.accumulate(i,unaryMinus(multiplyScalar(vik,vkj)))}))}));var pi=j,vjj=spa.get(j),pabsv=abs(vjj);spa.forEach(j+1,rows-1,(function(x,v){var absv=abs(v);larger(absv,pabsv)&&(pi=x,pabsv=absv,vjj=v)})),j!==pi&&(SparseMatrix._swapRows(j,pi,lsize[1],lvalues,lindex,lptr),SparseMatrix._swapRows(j,pi,usize[1],uvalues,uindex,uptr),spa.swap(j,pi),function swapIndeces(x,y){var kx=pvOc[x],ky=pvOc[y];pvCo[kx]=y,pvCo[ky]=x,pvOc[x]=ky,pvOc[y]=kx}(j,pi)),spa.forEach(0,rows-1,(function(x,v){x<=j?(uvalues.push(v),uindex.push(x)):(v=divideScalar(v,vjj),equalScalar(v,0)||(lvalues.push(v),lindex.push(x)))}))};for(j=0;j<columns;j++)_loop();return uptr.push(uvalues.length),lptr.push(lvalues.length),{L:new SparseMatrix({values:lvalues,index:lindex,ptr:lptr,size:lsize}),U:new SparseMatrix({values:uvalues,index:uindex,ptr:uptr,size:usize}),p:pvCo,toString:function toString(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}))},"./node_modules/mathjs/lib/esm/function/algebra/decomposition/qr.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y:function(){return createQr}});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],createQr=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("qr",dependencies,(_ref=>{var{typed:typed,matrix:matrix,zeros:zeros,identity:identity,isZero:isZero,equal:equal,sign:sign,sqrt:sqrt,conj:conj,unaryMinus:unaryMinus,addScalar:addScalar,divideScalar:divideScalar,multiplyScalar:multiplyScalar,subtract:subtract,complex:complex}=_ref;return(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__.Z)(typed("qr",{DenseMatrix:function DenseMatrix(m){return _denseQR(m)},SparseMatrix:function SparseMatrix(m){return function _sparseQR(m){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function Array(a){var r=_denseQR(matrix(a));return{Q:r.Q.valueOf(),R:r.R.valueOf()}}}),{_denseQRimpl:_denseQRimpl});function _denseQRimpl(m){var i,j,k,rows=m._size[0],cols=m._size[1],Q=identity([rows],"dense"),Qdata=Q._data,R=m.clone(),Rdata=R._data,w=zeros([rows],"");for(k=0;k<Math.min(cols,rows);++k){var pivot=Rdata[k][k],sgn=unaryMinus(equal(pivot,0)?1:sign(pivot)),conjSgn=conj(sgn),alphaSquared=0;for(i=k;i<rows;i++)alphaSquared=addScalar(alphaSquared,multiplyScalar(Rdata[i][k],conj(Rdata[i][k])));var alpha=multiplyScalar(sgn,sqrt(alphaSquared));if(!isZero(alpha)){var u1=subtract(pivot,alpha);for(w[k]=1,i=k+1;i<rows;i++)w[i]=divideScalar(Rdata[i][k],u1);var tau=unaryMinus(conj(divideScalar(u1,alpha))),s=void 0;for(j=k;j<cols;j++){for(s=0,i=k;i<rows;i++)s=addScalar(s,multiplyScalar(conj(w[i]),Rdata[i][j]));for(s=multiplyScalar(s,tau),i=k;i<rows;i++)Rdata[i][j]=multiplyScalar(subtract(Rdata[i][j],multiplyScalar(w[i],s)),conjSgn)}for(i=0;i<rows;i++){for(s=0,j=k;j<rows;j++)s=addScalar(s,multiplyScalar(Qdata[i][j],w[j]));for(s=multiplyScalar(s,tau),j=k;j<rows;++j)Qdata[i][j]=divideScalar(subtract(Qdata[i][j],multiplyScalar(s,conj(w[j]))),conjSgn)}}}return{Q:Q,R:R,toString:function toString(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function _denseQR(m){var ret=_denseQRimpl(m),Rdata=ret.R._data;if(m._data.length>0)for(var zero="Complex"===Rdata[0][0].type?complex(0):0,i=0;i<Rdata.length;++i)for(var j=0;j<i&&j<(Rdata[0]||[]).length;++j)Rdata[i][j]=zero;return ret}}))},"./node_modules/mathjs/lib/esm/function/algebra/decomposition/slu.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{p:function(){return createSlu}});var number=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),factory=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js");function csTdfs(j,k,w,head,next,post,stack){var top=0;for(w[stack]=j;top>=0;){var p=w[stack+top],i=w[head+p];-1===i?(top--,post[k++]=p):(w[head+p]=w[next+i],w[stack+ ++top]=i)}return k}function csFlip(i){return-i-2}var dependencies=["add","multiply","transpose"],createCsAmd=(0,factory.d5)("csAmd",dependencies,(_ref=>{var{add:add,multiply:multiply,transpose:transpose}=_ref;return function csAmd(order,a){if(!a||order<=0||order>3)return null;var asize=a._size,m=asize[0],n=asize[1],lemax=0,dense=Math.max(16,10*Math.sqrt(n)),cm=function _createTargetMatrix(order,a,m,n,dense){var at=transpose(a);if(1===order&&n===m)return add(a,at);if(2===order){for(var tindex=at._index,tptr=at._ptr,p2=0,j=0;j<m;j++){var p=tptr[j];if(tptr[j]=p2,!(tptr[j+1]-p>dense))for(var p1=tptr[j+1];p<p1;p++)tindex[p2++]=tindex[p]}return tptr[m]=p2,a=transpose(at),multiply(at,a)}return multiply(at,a)}(order,a,m,n,dense=Math.min(n-2,dense));!function csFkeep(a,callback,other){for(var avalues=a._values,aindex=a._index,aptr=a._ptr,n=a._size[1],nz=0,j=0;j<n;j++){var p=aptr[j];for(aptr[j]=nz;p<aptr[j+1];p++)callback(aindex[p],j,avalues?avalues[p]:1,other)&&(aindex[nz]=aindex[p],avalues&&(avalues[nz]=avalues[p]),nz++)}return aptr[n]=nz,aindex.splice(nz,aindex.length-nz),avalues&&avalues.splice(nz,avalues.length-nz),nz}(cm,_diag,null);for(var i,j,k,k1,k2,e,pj,ln,nvi,pk,eln,p1,p2,pn,h,d,cindex=cm._index,cptr=cm._ptr,cnz=cptr[n],P=[],W=[],nv=n+1,next=2*(n+1),head=3*(n+1),elen=4*(n+1),degree=5*(n+1),w=6*(n+1),hhead=7*(n+1),last=P,mark=function _initializeQuotientGraph(n,cptr,W,len,head,last,next,hhead,nv,w,elen,degree){for(var k=0;k<n;k++)W[len+k]=cptr[k+1]-cptr[k];W[len+n]=0;for(var i=0;i<=n;i++)W[head+i]=-1,last[i]=-1,W[next+i]=-1,W[hhead+i]=-1,W[nv+i]=1,W[w+i]=1,W[elen+i]=0,W[degree+i]=W[len+i];var mark=_wclear(0,0,W,w,n);return W[elen+n]=-2,cptr[n]=-1,W[w+n]=0,mark}(n,cptr,W,0,head,last,next,hhead,nv,w,elen,degree),nel=function _initializeDegreeLists(n,cptr,W,degree,elen,w,dense,nv,head,last,next){for(var nel=0,i=0;i<n;i++){var d=W[degree+i];if(0===d)W[elen+i]=-2,nel++,cptr[i]=-1,W[w+i]=0;else if(d>dense)W[nv+i]=0,W[elen+i]=-1,nel++,cptr[i]=csFlip(n),W[nv+n]++;else{var h=W[head+d];-1!==h&&(last[h]=i),W[next+i]=W[head+d],W[head+d]=i}}return nel}(n,cptr,W,degree,elen,w,dense,nv,head,last,next),mindeg=0;nel<n;){for(k=-1;mindeg<n&&-1===(k=W[head+mindeg]);mindeg++);-1!==W[next+k]&&(last[W[next+k]]=-1),W[head+mindeg]=W[next+k];var elenk=W[elen+k],nvk=W[nv+k];nel+=nvk;var dk=0;W[nv+k]=-nvk;var p=cptr[k],pk1=0===elenk?p:cnz,pk2=pk1;for(k1=1;k1<=elenk+1;k1++){for(k1>elenk?(e=k,pj=p,ln=W[0+k]-elenk):(pj=cptr[e=cindex[p++]],ln=W[0+e]),k2=1;k2<=ln;k2++)(nvi=W[nv+(i=cindex[pj++])])<=0||(dk+=nvi,W[nv+i]=-nvi,cindex[pk2++]=i,-1!==W[next+i]&&(last[W[next+i]]=last[i]),-1!==last[i]?W[next+last[i]]=W[next+i]:W[head+W[degree+i]]=W[next+i]);e!==k&&(cptr[e]=csFlip(k),W[w+e]=0)}for(0!==elenk&&(cnz=pk2),W[degree+k]=dk,cptr[k]=pk1,W[0+k]=pk2-pk1,W[elen+k]=-2,mark=_wclear(mark,lemax,W,w,n),pk=pk1;pk<pk2;pk++)if(!((eln=W[elen+(i=cindex[pk])])<=0)){var wnvi=mark-(nvi=-W[nv+i]);for(p=cptr[i],p1=cptr[i]+eln-1;p<=p1;p++)W[w+(e=cindex[p])]>=mark?W[w+e]-=nvi:0!==W[w+e]&&(W[w+e]=W[degree+e]+wnvi)}for(pk=pk1;pk<pk2;pk++){for(p2=(p1=cptr[i=cindex[pk]])+W[elen+i]-1,pn=p1,h=0,d=0,p=p1;p<=p2;p++)if(0!==W[w+(e=cindex[p])]){var dext=W[w+e]-mark;dext>0?(d+=dext,cindex[pn++]=e,h+=e):(cptr[e]=csFlip(k),W[w+e]=0)}W[elen+i]=pn-p1+1;var p3=pn,p4=p1+W[0+i];for(p=p2+1;p<p4;p++){var nvj=W[nv+(j=cindex[p])];nvj<=0||(d+=nvj,cindex[pn++]=j,h+=j)}0===d?(cptr[i]=csFlip(k),dk-=nvi=-W[nv+i],nvk+=nvi,nel+=nvi,W[nv+i]=0,W[elen+i]=-1):(W[degree+i]=Math.min(W[degree+i],d),cindex[pn]=cindex[p3],cindex[p3]=cindex[p1],cindex[p1]=k,W[0+i]=pn-p1+1,h=(h<0?-h:h)%n,W[next+i]=W[hhead+h],W[hhead+h]=i,last[i]=h)}for(W[degree+k]=dk,mark=_wclear(mark+(lemax=Math.max(lemax,dk)),lemax,W,w,n),pk=pk1;pk<pk2;pk++)if(!(W[nv+(i=cindex[pk])]>=0))for(i=W[hhead+(h=last[i])],W[hhead+h]=-1;-1!==i&&-1!==W[next+i];i=W[next+i],mark++){for(ln=W[0+i],eln=W[elen+i],p=cptr[i]+1;p<=cptr[i]+ln-1;p++)W[w+cindex[p]]=mark;var jlast=i;for(j=W[next+i];-1!==j;){var ok=W[0+j]===ln&&W[elen+j]===eln;for(p=cptr[j]+1;ok&&p<=cptr[j]+ln-1;p++)W[w+cindex[p]]!==mark&&(ok=0);ok?(cptr[j]=csFlip(i),W[nv+i]+=W[nv+j],W[nv+j]=0,W[elen+j]=-1,j=W[next+j],W[next+jlast]=j):(jlast=j,j=W[next+j])}}for(p=pk1,pk=pk1;pk<pk2;pk++)(nvi=-W[nv+(i=cindex[pk])])<=0||(W[nv+i]=nvi,d=W[degree+i]+dk-nvi,-1!==W[head+(d=Math.min(d,n-nel-nvi))]&&(last[W[head+d]]=i),W[next+i]=W[head+d],last[i]=-1,W[head+d]=i,mindeg=Math.min(mindeg,d),W[degree+i]=d,cindex[p++]=i);W[nv+k]=nvk,0==(W[0+k]=p-pk1)&&(cptr[k]=-1,W[w+k]=0),0!==elenk&&(cnz=p)}for(i=0;i<n;i++)cptr[i]=csFlip(cptr[i]);for(j=0;j<=n;j++)W[head+j]=-1;for(j=n;j>=0;j--)W[nv+j]>0||(W[next+j]=W[head+cptr[j]],W[head+cptr[j]]=j);for(e=n;e>=0;e--)W[nv+e]<=0||-1!==cptr[e]&&(W[next+e]=W[head+cptr[e]],W[head+cptr[e]]=e);for(k=0,i=0;i<=n;i++)-1===cptr[i]&&(k=csTdfs(i,k,W,head,next,P,w));return P.splice(P.length-1,1),P};function _wclear(mark,lemax,W,w,n){if(mark<2||mark+lemax<0){for(var k=0;k<n;k++)0!==W[w+k]&&(W[w+k]=1);mark=2}return mark}function _diag(i,j){return i!==j}}));function csLeaf(i,j,w,first,maxfirst,prevleaf,ancestor){var s,sparent,q,jleaf=0;if(i<=j||w[first+j]<=w[maxfirst+i])return-1;w[maxfirst+i]=w[first+j];var jprev=w[prevleaf+i];if(w[prevleaf+i]=j,-1===jprev)jleaf=1,q=i;else{for(jleaf=2,q=jprev;q!==w[ancestor+q];q=w[ancestor+q]);for(s=jprev;s!==q;s=sparent)sparent=w[ancestor+s],w[ancestor+s]=q}return{jleaf:jleaf,q:q}}var csCounts_dependencies=["transpose"],createCsCounts=(0,factory.d5)("csCounts",csCounts_dependencies,(_ref=>{var{transpose:transpose}=_ref;return function(a,parent,post,ata){if(!a||!parent||!post)return null;var i,j,k,J,p,p0,p1,asize=a._size,m=asize[0],n=asize[1],s=4*n+(ata?n+m+1:0),w=[],maxfirst=n,prevleaf=2*n,first=3*n,head=4*n,next=5*n+1;for(k=0;k<s;k++)w[k]=-1;var colcount=[],at=transpose(a),tindex=at._index,tptr=at._ptr;for(k=0;k<n;k++)for(colcount[j=post[k]]=-1===w[first+j]?1:0;-1!==j&&-1===w[first+j];j=parent[j])w[first+j]=k;if(ata){for(k=0;k<n;k++)w[post[k]]=k;for(i=0;i<m;i++){for(k=n,p0=tptr[i],p1=tptr[i+1],p=p0;p<p1;p++)k=Math.min(k,w[tindex[p]]);w[next+i]=w[head+k],w[head+k]=i}}for(i=0;i<n;i++)w[0+i]=i;for(k=0;k<n;k++){for(-1!==parent[j=post[k]]&&colcount[parent[j]]--,J=ata?w[head+k]:j;-1!==J;J=ata?w[next+J]:-1)for(p=tptr[J];p<tptr[J+1];p++){var r=csLeaf(i=tindex[p],j,w,first,maxfirst,prevleaf,0);r.jleaf>=1&&colcount[j]++,2===r.jleaf&&colcount[r.q]--}-1!==parent[j]&&(w[0+j]=parent[j])}for(j=0;j<n;j++)-1!==parent[j]&&(colcount[parent[j]]+=colcount[j]);return colcount}})),csSqr_dependencies=["add","multiply","transpose"],createCsSqr=(0,factory.d5)("csSqr",csSqr_dependencies,(_ref=>{var{add:add,multiply:multiply,transpose:transpose}=_ref,csAmd=createCsAmd({add:add,multiply:multiply,transpose:transpose}),csCounts=createCsCounts({transpose:transpose});return function csSqr(order,a,qr){var k,aptr=a._ptr,n=a._size[1],s={};if(s.q=csAmd(order,a),order&&!s.q)return null;if(qr){var c=order?function csPermute(a,pinv,q,values){for(var avalues=a._values,aindex=a._index,aptr=a._ptr,asize=a._size,adt=a._datatype,m=asize[0],n=asize[1],cvalues=values&&a._values?[]:null,cindex=[],cptr=[],nz=0,k=0;k<n;k++){cptr[k]=nz;for(var j=q?q[k]:k,t0=aptr[j],t1=aptr[j+1],t=t0;t<t1;t++){var r=pinv?pinv[aindex[t]]:aindex[t];cindex[nz]=r,cvalues&&(cvalues[nz]=avalues[t]),nz++}}return cptr[n]=nz,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[m,n],datatype:adt})}(a,null,s.q,0):a;s.parent=function csEtree(a,ata){if(!a)return null;var i,inext,aindex=a._index,aptr=a._ptr,asize=a._size,m=asize[0],n=asize[1],parent=[],w=[],prev=n;if(ata)for(i=0;i<m;i++)w[prev+i]=-1;for(var k=0;k<n;k++){parent[k]=-1,w[0+k]=-1;for(var p0=aptr[k],p1=aptr[k+1],p=p0;p<p1;p++){var r=aindex[p];for(i=ata?w[prev+r]:r;-1!==i&&i<k;i=inext)inext=w[0+i],w[0+i]=k,-1===inext&&(parent[i]=k);ata&&(w[prev+r]=k)}}return parent}(c,1);var post=function csPost(parent,n){if(!parent)return null;var j,k=0,post=[],w=[],next=n,stack=2*n;for(j=0;j<n;j++)w[0+j]=-1;for(j=n-1;j>=0;j--)-1!==parent[j]&&(w[next+j]=w[0+parent[j]],w[0+parent[j]]=j);for(j=0;j<n;j++)-1===parent[j]&&(k=csTdfs(j,k,w,0,next,post,stack));return post}(s.parent,n);if(s.cp=csCounts(c,s.parent,post,1),c&&s.parent&&s.cp&&function _vcount(a,s){var aptr=a._ptr,aindex=a._index,asize=a._size,m=asize[0],n=asize[1];s.pinv=[],s.leftmost=[];var i,k,p,p0,p1,parent=s.parent,pinv=s.pinv,leftmost=s.leftmost,w=[],next=0,head=m,tail=m+n,nque=m+2*n;for(k=0;k<n;k++)w[head+k]=-1,w[tail+k]=-1,w[nque+k]=0;for(i=0;i<m;i++)leftmost[i]=-1;for(k=n-1;k>=0;k--)for(p0=aptr[k],p1=aptr[k+1],p=p0;p<p1;p++)leftmost[aindex[p]]=k;for(i=m-1;i>=0;i--)pinv[i]=-1,-1!==(k=leftmost[i])&&(0==w[nque+k]++&&(w[tail+k]=i),w[next+i]=w[head+k],w[head+k]=i);for(s.lnz=0,s.m2=m,k=0;k<n;k++)if(i=w[head+k],s.lnz++,i<0&&(i=s.m2++),pinv[i]=k,!(--nque[k]<=0)){s.lnz+=w[nque+k];var pa=parent[k];-1!==pa&&(0===w[nque+pa]&&(w[tail+pa]=w[tail+k]),w[next+w[tail+k]]=w[head+pa],w[head+pa]=w[next+i],w[nque+pa]+=w[nque+k])}for(i=0;i<m;i++)pinv[i]<0&&(pinv[i]=k++);return!0}(c,s))for(s.unz=0,k=0;k<n;k++)s.unz+=s.cp[k]}else s.unz=4*aptr[n]+n,s.lnz=s.unz;return s}}));function csMarked(w,j){return w[j]<0}function csMark(w,j){w[j]=csFlip(w[j])}function csUnflip(i){return i<0?csFlip(i):i}function csDfs(j,g,top,xi,pinv){var i,p,p2,index=g._index,ptr=g._ptr,n=g._size[1],head=0;for(xi[0]=j;head>=0;){j=xi[head];var jnew=pinv?pinv[j]:j;csMarked(ptr,j)||(csMark(ptr,j),xi[n+head]=jnew<0?0:csUnflip(ptr[jnew]));var done=1;for(p=xi[n+head],p2=jnew<0?0:csUnflip(ptr[jnew+1]);p<p2;p++)if(!csMarked(ptr,i=index[p])){xi[n+head]=p,xi[++head]=i,done=0;break}done&&(head--,xi[--top]=j)}return top}var csSpsolve_dependencies=["divideScalar","multiply","subtract"],createCsSpsolve=(0,factory.d5)("csSpsolve",csSpsolve_dependencies,(_ref=>{var{divideScalar:divideScalar,multiply:multiply,subtract:subtract}=_ref;return function csSpsolve(g,b,k,xi,x,pinv,lo){var p,p0,p1,q,gvalues=g._values,gindex=g._index,gptr=g._ptr,n=g._size[1],bvalues=b._values,bindex=b._index,bptr=b._ptr,top=function csReach(g,b,k,xi,pinv){var p,p0,p1,gptr=g._ptr,gsize=g._size,bindex=b._index,bptr=b._ptr,n=gsize[1],top=n;for(p0=bptr[k],p1=bptr[k+1],p=p0;p<p1;p++){var i=bindex[p];csMarked(gptr,i)||(top=csDfs(i,g,top,xi,pinv))}for(p=top;p<n;p++)csMark(gptr,xi[p]);return top}(g,b,k,xi,pinv);for(p=top;p<n;p++)x[xi[p]]=0;for(p0=bptr[k],p1=bptr[k+1],p=p0;p<p1;p++)x[bindex[p]]=bvalues[p];for(var px=top;px<n;px++){var j=xi[px],J=pinv?pinv[j]:j;if(!(J<0))for(p0=gptr[J],p1=gptr[J+1],x[j]=divideScalar(x[j],gvalues[lo?p0:p1-1]),p=lo?p0+1:p0,q=lo?p1:p1-1;p<q;p++){var i=gindex[p];x[i]=subtract(x[i],multiply(gvalues[p],x[j]))}}return top}})),csLu_dependencies=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],createCsLu=(0,factory.d5)("csLu",csLu_dependencies,(_ref=>{var{abs:abs,divideScalar:divideScalar,multiply:multiply,subtract:subtract,larger:larger,largerEq:largerEq,SparseMatrix:SparseMatrix}=_ref,csSpsolve=createCsSpsolve({divideScalar:divideScalar,multiply:multiply,subtract:subtract});return function csLu(m,s,tol){if(!m)return null;var q,n=m._size[1],lnz=100,unz=100;s&&(q=s.q,lnz=s.lnz||lnz,unz=s.unz||unz);var i,p,lvalues=[],lindex=[],lptr=[],L=new SparseMatrix({values:lvalues,index:lindex,ptr:lptr,size:[n,n]}),uvalues=[],uindex=[],uptr=[],U=new SparseMatrix({values:uvalues,index:uindex,ptr:uptr,size:[n,n]}),pinv=[],x=[],xi=[];for(i=0;i<n;i++)x[i]=0,pinv[i]=-1,lptr[i+1]=0;lnz=0,unz=0;for(var k=0;k<n;k++){lptr[k]=lnz,uptr[k]=unz;var col=q?q[k]:k,top=csSpsolve(L,m,col,xi,x,pinv,1),ipiv=-1,a=-1;for(p=top;p<n;p++)if(pinv[i=xi[p]]<0){var xabs=abs(x[i]);larger(xabs,a)&&(a=xabs,ipiv=i)}else uindex[unz]=pinv[i],uvalues[unz++]=x[i];if(-1===ipiv||a<=0)return null;pinv[col]<0&&largerEq(abs(x[col]),multiply(a,tol))&&(ipiv=col);var pivot=x[ipiv];for(uindex[unz]=k,uvalues[unz++]=pivot,pinv[ipiv]=k,lindex[lnz]=ipiv,lvalues[lnz++]=1,p=top;p<n;p++)pinv[i=xi[p]]<0&&(lindex[lnz]=i,lvalues[lnz++]=divideScalar(x[i],pivot)),x[i]=0}for(lptr[n]=lnz,uptr[n]=unz,p=0;p<lnz;p++)lindex[p]=pinv[lindex[p]];return lvalues.splice(lnz,lvalues.length-lnz),lindex.splice(lnz,lindex.length-lnz),uvalues.splice(unz,uvalues.length-unz),uindex.splice(unz,uindex.length-unz),{L:L,U:U,pinv:pinv}}})),slu_dependencies=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],createSlu=(0,factory.d5)("slu",slu_dependencies,(_ref=>{var{typed:typed,abs:abs,add:add,multiply:multiply,transpose:transpose,divideScalar:divideScalar,subtract:subtract,larger:larger,largerEq:largerEq,SparseMatrix:SparseMatrix}=_ref,csSqr=createCsSqr({add:add,multiply:multiply,transpose:transpose}),csLu=createCsLu({abs:abs,divideScalar:divideScalar,multiply:multiply,subtract:subtract,larger:larger,largerEq:largerEq,SparseMatrix:SparseMatrix});return typed("slu",{"SparseMatrix, number, number":function SparseMatrixNumberNumber(a,order,threshold){if(!(0,number.U)(order)||order<0||order>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(threshold<0||threshold>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var s=csSqr(order,a,!1),f=csLu(a,s,threshold);return{L:f.L,U:f.U,p:f.pinv,q:s.q,toString:function toString(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}))},"./node_modules/mathjs/lib/esm/function/algebra/solver/lsolve.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createLsolve}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/solver/utils/solveValidation.js"),dependencies=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createLsolve=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("lsolve",dependencies,(_ref=>{var{typed:typed,matrix:matrix,divideScalar:divideScalar,multiplyScalar:multiplyScalar,subtract:subtract,equalScalar:equalScalar,DenseMatrix:DenseMatrix}=_ref,solveValidation=(0,_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__.v)({DenseMatrix:DenseMatrix});return typed("lsolve",{"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(m,b){return function _sparseForwardSubstitution(m,b){for(var bdata=(b=solveValidation(m,b,!0))._data,rows=m._size[0],columns=m._size[1],values=m._values,index=m._index,ptr=m._ptr,x=[],j=0;j<columns;j++){var bj=bdata[j][0]||0;if(equalScalar(bj,0))x[j]=[0];else{for(var vjj=0,jValues=[],jIndices=[],firstIndex=ptr[j],lastIndex=ptr[j+1],k=firstIndex;k<lastIndex;k++){var i=index[k];i===j?vjj=values[k]:i>j&&(jValues.push(values[k]),jIndices.push(i))}if(equalScalar(vjj,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var xj=divideScalar(bj,vjj),_k=0,l=jIndices.length;_k<l;_k++){var _i=jIndices[_k];bdata[_i]=[subtract(bdata[_i][0]||0,multiplyScalar(xj,jValues[_k]))]}x[j]=[xj]}}return new DenseMatrix({data:x,size:[rows,1]})}(m,b)},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(m,b){return _denseForwardSubstitution(m,b)},"Array, Array | Matrix":function ArrayArrayMatrix(a,b){return _denseForwardSubstitution(matrix(a),b).valueOf()}});function _denseForwardSubstitution(m,b){for(var bdata=(b=solveValidation(m,b,!0))._data,rows=m._size[0],columns=m._size[1],x=[],mdata=m._data,j=0;j<columns;j++){var bj=bdata[j][0]||0,xj=void 0;if(equalScalar(bj,0))xj=0;else{var vjj=mdata[j][j];if(equalScalar(vjj,0))throw new Error("Linear system cannot be solved since matrix is singular");xj=divideScalar(bj,vjj);for(var i=j+1;i<rows;i++)bdata[i]=[subtract(bdata[i][0]||0,multiplyScalar(xj,mdata[i][j]))]}x[j]=[xj]}return new DenseMatrix({data:x,size:[rows,1]})}}))},"./node_modules/mathjs/lib/esm/function/algebra/solver/lsolveAll.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{S:function(){return createLsolveAll}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/solver/utils/solveValidation.js"),dependencies=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createLsolveAll=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("lsolveAll",dependencies,(_ref=>{var{typed:typed,matrix:matrix,divideScalar:divideScalar,multiplyScalar:multiplyScalar,subtract:subtract,equalScalar:equalScalar,DenseMatrix:DenseMatrix}=_ref,solveValidation=(0,_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__.v)({DenseMatrix:DenseMatrix});return typed("lsolveAll",{"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(m,b){return function _sparseForwardSubstitution(m,b_){for(var B=[solveValidation(m,b_,!0)._data.map((e=>e[0]))],rows=m._size[0],columns=m._size[1],values=m._values,index=m._index,ptr=m._ptr,i=0;i<columns;i++)for(var L=B.length,k=0;k<L;k++){for(var b=B[k],iValues=[],iIndices=[],firstIndex=ptr[i],lastIndex=ptr[i+1],Mii=0,j=firstIndex;j<lastIndex;j++){var J=index[j];J===i?Mii=values[j]:J>i&&(iValues.push(values[j]),iIndices.push(J))}if(equalScalar(Mii,0))if(equalScalar(b[i],0)){if(0===k){var bNew=[...b];bNew[i]=1;for(var _j3=0,_lastIndex2=iIndices.length;_j3<_lastIndex2;_j3++){var _J2=iIndices[_j3];bNew[_J2]=subtract(bNew[_J2],iValues[_j3])}B.push(bNew)}}else{if(0===k)return[];B.splice(k,1),k-=1,L-=1}else{b[i]=divideScalar(b[i],Mii);for(var _j2=0,_lastIndex=iIndices.length;_j2<_lastIndex;_j2++){var _J=iIndices[_j2];b[_J]=subtract(b[_J],multiplyScalar(b[i],iValues[_j2]))}}}return B.map((x=>new DenseMatrix({data:x.map((e=>[e])),size:[rows,1]})))}(m,b)},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(m,b){return _denseForwardSubstitution(m,b)},"Array, Array | Matrix":function ArrayArrayMatrix(a,b){return _denseForwardSubstitution(matrix(a),b).map((r=>r.valueOf()))}});function _denseForwardSubstitution(m,b_){for(var B=[solveValidation(m,b_,!0)._data.map((e=>e[0]))],M=m._data,rows=m._size[0],columns=m._size[1],i=0;i<columns;i++)for(var L=B.length,k=0;k<L;k++){var b=B[k];if(equalScalar(M[i][i],0))if(equalScalar(b[i],0)){if(0===k){var bNew=[...b];bNew[i]=1;for(var _j=i+1;_j<columns;_j++)bNew[_j]=subtract(bNew[_j],M[_j][i]);B.push(bNew)}}else{if(0===k)return[];B.splice(k,1),k-=1,L-=1}else{b[i]=divideScalar(b[i],M[i][i]);for(var j=i+1;j<columns;j++)b[j]=subtract(b[j],multiplyScalar(b[i],M[j][i]))}}return B.map((x=>new DenseMatrix({data:x.map((e=>[e])),size:[rows,1]})))}}))},"./node_modules/mathjs/lib/esm/function/algebra/solver/lusolve.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return createLusolve}});var is=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),factory=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),utils_solveValidation=__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/solver/utils/solveValidation.js");function csIpvec(p,b){var k,n=b.length,x=[];if(p)for(k=0;k<n;k++)x[p[k]]=b[k];else for(k=0;k<n;k++)x[k]=b[k];return x}var dependencies=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],createLusolve=(0,factory.d5)("lusolve",dependencies,(_ref=>{var{typed:typed,matrix:matrix,lup:lup,slu:slu,usolve:usolve,lsolve:lsolve,DenseMatrix:DenseMatrix}=_ref,solveValidation=(0,utils_solveValidation.v)({DenseMatrix:DenseMatrix});return typed("lusolve",{"Array, Array | Matrix":function ArrayArrayMatrix(a,b){a=matrix(a);var d=lup(a);return _lusolve(d.L,d.U,d.p,null,b).valueOf()},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(a,b){var d=lup(a);return _lusolve(d.L,d.U,d.p,null,b)},"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(a,b){var d=lup(a);return _lusolve(d.L,d.U,d.p,null,b)},"SparseMatrix, Array | Matrix, number, number":function SparseMatrixArrayMatrixNumberNumber(a,b,order,threshold){var d=slu(a,order,threshold);return _lusolve(d.L,d.U,d.p,d.q,b)},"Object, Array | Matrix":function ObjectArrayMatrix(d,b){return _lusolve(d.L,d.U,d.p,d.q,b)}});function _toMatrix(a){if((0,is.SW)(a))return a;if((0,is.kJ)(a))return matrix(a);throw new TypeError("Invalid Matrix LU decomposition")}function _lusolve(l,u,p,q,b){l=_toMatrix(l),u=_toMatrix(u),p&&((b=solveValidation(l,b,!0))._data=csIpvec(p,b._data));var y=lsolve(l,b),x=usolve(u,y);return q&&(x._data=csIpvec(q,x._data)),x}}))},"./node_modules/mathjs/lib/esm/function/algebra/solver/usolve.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createUsolve}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/solver/utils/solveValidation.js"),dependencies=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createUsolve=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("usolve",dependencies,(_ref=>{var{typed:typed,matrix:matrix,divideScalar:divideScalar,multiplyScalar:multiplyScalar,subtract:subtract,equalScalar:equalScalar,DenseMatrix:DenseMatrix}=_ref,solveValidation=(0,_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__.v)({DenseMatrix:DenseMatrix});return typed("usolve",{"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(m,b){return function _sparseBackwardSubstitution(m,b){for(var bdata=(b=solveValidation(m,b,!0))._data,rows=m._size[0],columns=m._size[1],values=m._values,index=m._index,ptr=m._ptr,x=[],j=columns-1;j>=0;j--){var bj=bdata[j][0]||0;if(equalScalar(bj,0))x[j]=[0];else{for(var vjj=0,jValues=[],jIndices=[],firstIndex=ptr[j],k=ptr[j+1]-1;k>=firstIndex;k--){var i=index[k];i===j?vjj=values[k]:i<j&&(jValues.push(values[k]),jIndices.push(i))}if(equalScalar(vjj,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var xj=divideScalar(bj,vjj),_k=0,_lastIndex=jIndices.length;_k<_lastIndex;_k++){var _i=jIndices[_k];bdata[_i]=[subtract(bdata[_i][0],multiplyScalar(xj,jValues[_k]))]}x[j]=[xj]}}return new DenseMatrix({data:x,size:[rows,1]})}(m,b)},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(m,b){return _denseBackwardSubstitution(m,b)},"Array, Array | Matrix":function ArrayArrayMatrix(a,b){return _denseBackwardSubstitution(matrix(a),b).valueOf()}});function _denseBackwardSubstitution(m,b){for(var bdata=(b=solveValidation(m,b,!0))._data,rows=m._size[0],columns=m._size[1],x=[],mdata=m._data,j=columns-1;j>=0;j--){var bj=bdata[j][0]||0,xj=void 0;if(equalScalar(bj,0))xj=0;else{var vjj=mdata[j][j];if(equalScalar(vjj,0))throw new Error("Linear system cannot be solved since matrix is singular");xj=divideScalar(bj,vjj);for(var i=j-1;i>=0;i--)bdata[i]=[subtract(bdata[i][0]||0,multiplyScalar(xj,mdata[i][j]))]}x[j]=[xj]}return new DenseMatrix({data:x,size:[rows,1]})}}))},"./node_modules/mathjs/lib/esm/function/algebra/solver/usolveAll.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return createUsolveAll}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/function/algebra/solver/utils/solveValidation.js"),dependencies=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createUsolveAll=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("usolveAll",dependencies,(_ref=>{var{typed:typed,matrix:matrix,divideScalar:divideScalar,multiplyScalar:multiplyScalar,subtract:subtract,equalScalar:equalScalar,DenseMatrix:DenseMatrix}=_ref,solveValidation=(0,_utils_solveValidation_js__WEBPACK_IMPORTED_MODULE_1__.v)({DenseMatrix:DenseMatrix});return typed("usolveAll",{"SparseMatrix, Array | Matrix":function SparseMatrixArrayMatrix(m,b){return function _sparseBackwardSubstitution(m,b_){for(var B=[solveValidation(m,b_,!0)._data.map((e=>e[0]))],rows=m._size[0],columns=m._size[1],values=m._values,index=m._index,ptr=m._ptr,i=columns-1;i>=0;i--)for(var L=B.length,k=0;k<L;k++){for(var b=B[k],iValues=[],iIndices=[],firstIndex=ptr[i],Mii=0,j=ptr[i+1]-1;j>=firstIndex;j--){var J=index[j];J===i?Mii=values[j]:J<i&&(iValues.push(values[j]),iIndices.push(J))}if(equalScalar(Mii,0))if(equalScalar(b[i],0)){if(0===k){var bNew=[...b];bNew[i]=1;for(var _j3=0,_lastIndex2=iIndices.length;_j3<_lastIndex2;_j3++){var _J2=iIndices[_j3];bNew[_J2]=subtract(bNew[_J2],iValues[_j3])}B.push(bNew)}}else{if(0===k)return[];B.splice(k,1),k-=1,L-=1}else{b[i]=divideScalar(b[i],Mii);for(var _j2=0,_lastIndex=iIndices.length;_j2<_lastIndex;_j2++){var _J=iIndices[_j2];b[_J]=subtract(b[_J],multiplyScalar(b[i],iValues[_j2]))}}}return B.map((x=>new DenseMatrix({data:x.map((e=>[e])),size:[rows,1]})))}(m,b)},"DenseMatrix, Array | Matrix":function DenseMatrixArrayMatrix(m,b){return _denseBackwardSubstitution(m,b)},"Array, Array | Matrix":function ArrayArrayMatrix(a,b){return _denseBackwardSubstitution(matrix(a),b).map((r=>r.valueOf()))}});function _denseBackwardSubstitution(m,b_){for(var B=[solveValidation(m,b_,!0)._data.map((e=>e[0]))],M=m._data,rows=m._size[0],i=m._size[1]-1;i>=0;i--)for(var L=B.length,k=0;k<L;k++){var b=B[k];if(equalScalar(M[i][i],0))if(equalScalar(b[i],0)){if(0===k){var bNew=[...b];bNew[i]=1;for(var _j=i-1;_j>=0;_j--)bNew[_j]=subtract(bNew[_j],M[_j][i]);B.push(bNew)}}else{if(0===k)return[];B.splice(k,1),k-=1,L-=1}else{b[i]=divideScalar(b[i],M[i][i]);for(var j=i-1;j>=0;j--)b[j]=subtract(b[j],multiplyScalar(b[i],M[j][i]))}}return B.map((x=>new DenseMatrix({data:x.map((e=>[e])),size:[rows,1]})))}}))},"./node_modules/mathjs/lib/esm/function/algebra/solver/utils/solveValidation.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createSolveValidation}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js");function createSolveValidation(_ref){var{DenseMatrix:DenseMatrix}=_ref;return function solveValidation(m,b,copy){var mSize=m.size();if(2!==mSize.length)throw new RangeError("Matrix must be two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_0__.WU)(mSize)+")");var rows=mSize[0];if(rows!==mSize[1])throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_0__.WU)(mSize)+")");var data=[];if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(b)){var bSize=b.size(),bdata=b._data;if(1===bSize.length){if(bSize[0]!==rows)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var i=0;i<rows;i++)data[i]=[bdata[i]];return new DenseMatrix({data:data,size:[rows,1],datatype:b._datatype})}if(2===bSize.length){if(bSize[0]!==rows||1!==bSize[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.jH)(b)){if(copy){data=[];for(var _i=0;_i<rows;_i++)data[_i]=[bdata[_i][0]];return new DenseMatrix({data:data,size:[rows,1],datatype:b._datatype})}return b}if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.sA)(b)){for(var _i2=0;_i2<rows;_i2++)data[_i2]=[0];for(var values=b._values,index=b._index,ptr=b._ptr,k1=ptr[1],k=ptr[0];k<k1;k++){data[index[k]][0]=values[k]}return new DenseMatrix({data:data,size:[rows,1],datatype:b._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(b)){var bsize=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.aJ)(b);if(1===bsize.length){if(bsize[0]!==rows)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _i4=0;_i4<rows;_i4++)data[_i4]=[b[_i4]];return new DenseMatrix({data:data,size:[rows,1]})}if(2===bsize.length){if(bsize[0]!==rows||1!==bsize[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _i5=0;_i5<rows;_i5++)data[_i5]=[b[_i5][0]];return new DenseMatrix({data:data,size:[rows,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}},"./node_modules/mathjs/lib/esm/function/arithmetic/abs.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return createAbs}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createAbs=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("abs",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("abs",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Q1,Complex:function Complex(x){return x.abs()},BigNumber:function BigNumber(x){return x.abs()},Fraction:function Fraction(x){return x.abs()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this,!0)},Unit:function Unit(x){return x.abs()}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/add.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:function(){return createAdd}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm01.js"),_type_matrix_utils_algorithm04_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm04.js"),_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm10.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],createAdd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("add",dependencies,(_ref=>{var{typed:typed,matrix:matrix,addScalar:addScalar,equalScalar:equalScalar,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix}=_ref,algorithm01=(0,_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__.A)({typed:typed}),algorithm04=(0,_type_matrix_utils_algorithm04_js__WEBPACK_IMPORTED_MODULE_2__.H)({typed:typed,equalScalar:equalScalar}),algorithm10=(0,_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_3__.q)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed("add",(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_6__.l7)({"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,addScalar)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm01(x,y,addScalar,!1)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm01(y,x,addScalar,!0)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm04(x,y,addScalar)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,addScalar,!1)},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm10(x,y,addScalar,!1)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,addScalar,!0)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm10(y,x,addScalar,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,addScalar,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,addScalar,!0).valueOf()},"any, any":addScalar,"any, any, ...any":function anyAnyAny(x,y,rest){for(var result=this(x,y),i=0;i<rest.length;i++)result=this(result,rest[i]);return result}},addScalar.signatures))}))},"./node_modules/mathjs/lib/esm/function/arithmetic/addScalar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return createAddScalar}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createAddScalar=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("addScalar",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("addScalar",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Ft,"Complex, Complex":function ComplexComplex(x,y){return x.add(y)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.plus(y)},"Fraction, Fraction":function FractionFraction(x,y){return x.add(y)},"Unit, Unit":function UnitUnit(x,y){if(null===x.value||void 0===x.value)throw new Error("Parameter x contains a unit with undefined value");if(null===y.value||void 0===y.value)throw new Error("Parameter y contains a unit with undefined value");if(!x.equalBase(y))throw new Error("Units do not match");var res=x.clone();return res.value=this(res.value,y.value),res.fixPrefix=!1,res}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/cbrt.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{S:function(){return createCbrt}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],createCbrt=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("cbrt",dependencies,(_ref=>{var{config:config,typed:typed,isNegative:isNegative,unaryMinus:unaryMinus,matrix:matrix,Complex:Complex,BigNumber:BigNumber,Fraction:Fraction}=_ref;return typed("cbrt",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.ih,Complex:_cbrtComplex,"Complex, boolean":_cbrtComplex,BigNumber:function BigNumber(x){return x.cbrt()},Unit:function _cbrtUnit(x){if(x.value&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.Mc)(x.value)){var result=x.clone();return result.value=1,(result=result.pow(1/3)).value=_cbrtComplex(x.value),result}var third,negate=isNegative(x.value);negate&&(x.value=unaryMinus(x.value)),third=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.l9)(x.value)?new BigNumber(1).div(3):(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.yQ)(x.value)?new Fraction(1,3):1/3;var _result=x.pow(third);return negate&&(_result.value=unaryMinus(_result.value)),_result},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this,!0)}});function _cbrtComplex(x,allRoots){var arg3=x.arg()/3,abs=x.abs(),principal=new Complex((0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.ih)(abs),0).mul(new Complex(0,arg3).exp());if(allRoots){var all=[principal,new Complex((0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.ih)(abs),0).mul(new Complex(0,arg3+2*Math.PI/3).exp()),new Complex((0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.ih)(abs),0).mul(new Complex(0,arg3-2*Math.PI/3).exp())];return"Array"===config.matrix?all:matrix(all)}return principal}}))},"./node_modules/mathjs/lib/esm/function/arithmetic/ceil.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return createCeil}});var decimal_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/decimal.js/decimal.mjs"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","config","round","matrix","equalScalar"],createCeil=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)("ceil",dependencies,(_ref=>{var{typed:typed,config:config,round:round,matrix:matrix,equalScalar:equalScalar}=_ref,algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_2__.n)({typed:typed,equalScalar:equalScalar}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_3__.X)({typed:typed});return typed("ceil",{number:function number(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_4__.RI)(x,round(x),config.epsilon)?round(x):(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_5__.xx)(x)},"number, number":function numberNumber(x,n){if((0,_utils_number_js__WEBPACK_IMPORTED_MODULE_4__.RI)(x,round(x,n),config.epsilon))return round(x,n);var[number,exponent]="".concat(x,"e").split("e"),result=Math.ceil(Number("".concat(number,"e").concat(Number(exponent)+n)));return[number,exponent]="".concat(result,"e").split("e"),Number("".concat(number,"e").concat(Number(exponent)-n))},Complex:function Complex(x){return x.ceil()},"Complex, number":function ComplexNumber(x,n){return x.ceil(n)},BigNumber:function BigNumber(x){return(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,round(x),config.epsilon)?round(x):x.ceil()},"BigNumber, BigNumber":function BigNumberBigNumber(x,n){return(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_6__.R)(x,round(x,n),config.epsilon)?round(x,n):x.toDecimalPlaces(n.toNumber(),decimal_js__WEBPACK_IMPORTED_MODULE_0__.Z.ROUND_CEIL)},Fraction:function Fraction(x){return x.ceil()},"Fraction, number":function FractionNumber(x,n){return x.ceil(n)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_7__.Fh)(x,this,!0)},"Array | Matrix, number":function ArrayMatrixNumber(x,n){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_7__.Fh)(x,(i=>this(i,n)),!0)},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(x,y){return algorithm11(x,y,this,!1)},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(x,y){return algorithm14(x,y,this,!1)},"number | Complex | BigNumber, Array":function numberComplexBigNumberArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/cube.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return createCube}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createCube=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("cube",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("cube",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Dv,Complex:function Complex(x){return x.mul(x).mul(x)},BigNumber:function BigNumber(x){return x.times(x).times(x)},Fraction:function Fraction(x){return x.pow(3)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this,!0)},Unit:function Unit(x){return x.pow(3)}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/divide.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return createDivide}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","matrix","multiply","equalScalar","divideScalar","inv"],createDivide=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("divide",dependencies,(_ref=>{var{typed:typed,matrix:matrix,multiply:multiply,equalScalar:equalScalar,divideScalar:divideScalar,inv:inv}=_ref,algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_1__.n)({typed:typed,equalScalar:equalScalar}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_2__.X)({typed:typed});return typed("divide",(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.l7)({"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(x,y){return multiply(x,inv(y))},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,divideScalar,!1)},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm11(x,y,divideScalar,!1)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,divideScalar,!1).valueOf()},"any, Array | Matrix":function anyArrayMatrix(x,y){return multiply(x,inv(y))}},divideScalar.signatures))}))},"./node_modules/mathjs/lib/esm/function/arithmetic/divideScalar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{L:function(){return createDivideScalar}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","numeric"],createDivideScalar=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("divideScalar",dependencies,(_ref=>{var{typed:typed,numeric:numeric}=_ref;return typed("divideScalar",{"number, number":function numberNumber(x,y){return x/y},"Complex, Complex":function ComplexComplex(x,y){return x.div(y)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.div(y)},"Fraction, Fraction":function FractionFraction(x,y){return x.div(y)},"Unit, number | Fraction | BigNumber":function UnitNumberFractionBigNumber(x,y){var res=x.clone(),one=numeric(1,(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)(y));return res.value=this(null===res.value?res._normalize(one):res.value,y),res},"number | Fraction | BigNumber, Unit":function numberFractionBigNumberUnit(x,y){var res=y.clone();res=res.pow(-1);var one=numeric(1,(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)(x));return res.value=this(x,null===y.value?y._normalize(one):y.value),res},"Unit, Unit":function UnitUnit(x,y){return x.divide(y)}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/dotDivide.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return createDotDivide}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm02.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm07.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","matrix","equalScalar","divideScalar","DenseMatrix"],createDotDivide=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("dotDivide",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,divideScalar:divideScalar,DenseMatrix:DenseMatrix}=_ref,algorithm02=(0,_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__.h)({typed:typed,equalScalar:equalScalar}),algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_2__.O)({typed:typed}),algorithm07=(0,_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_3__.r)({typed:typed,DenseMatrix:DenseMatrix}),algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_4__.n)({typed:typed,equalScalar:equalScalar}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_5__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_6__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_7__.X)({typed:typed});return typed("dotDivide",{"any, any":divideScalar,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm07(x,y,divideScalar,!1)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm02(y,x,divideScalar,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,divideScalar,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,divideScalar)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm11(x,y,divideScalar,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,divideScalar,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,divideScalar,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,divideScalar,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,divideScalar,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,divideScalar,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/dotMultiply.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:function(){return createDotMultiply}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm02.js"),_type_matrix_utils_algorithm09_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm09.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","matrix","equalScalar","multiplyScalar"],createDotMultiply=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("dotMultiply",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,multiplyScalar:multiplyScalar}=_ref,algorithm02=(0,_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__.h)({typed:typed,equalScalar:equalScalar}),algorithm09=(0,_type_matrix_utils_algorithm09_js__WEBPACK_IMPORTED_MODULE_2__.e)({typed:typed,equalScalar:equalScalar}),algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_3__.n)({typed:typed,equalScalar:equalScalar}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed("dotMultiply",{"any, any":multiplyScalar,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm09(x,y,multiplyScalar,!1)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm02(y,x,multiplyScalar,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm02(x,y,multiplyScalar,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,multiplyScalar)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm11(x,y,multiplyScalar,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,multiplyScalar,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm11(y,x,multiplyScalar,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,multiplyScalar,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,multiplyScalar,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,multiplyScalar,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/dotPow.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createDotPow}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm07.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","equalScalar","matrix","pow","DenseMatrix"],createDotPow=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("dotPow",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar,matrix:matrix,pow:pow,DenseMatrix:DenseMatrix}=_ref,algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__.O)({typed:typed}),algorithm07=(0,_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__.r)({typed:typed,DenseMatrix:DenseMatrix}),algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_3__.n)({typed:typed,equalScalar:equalScalar}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_4__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_5__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_6__.X)({typed:typed});return typed("dotPow",{"any, any":pow,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm07(x,y,pow,!1)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm03(y,x,pow,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,pow,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,pow)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm11(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/exp.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:function(){return createExp}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createExp=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("exp",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("exp",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.qX,Complex:function Complex(x){return x.exp()},BigNumber:function BigNumber(x){return x.exp()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/expm1.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{j:function(){return createExpm1}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","Complex"],createExpm1=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("expm1",dependencies,(_ref=>{var{typed:typed,Complex:_Complex}=_ref;return typed("expm1",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.B,Complex:function Complex(x){var r=Math.exp(x.re);return new _Complex(r*Math.cos(x.im)-1,r*Math.sin(x.im))},BigNumber:function BigNumber(x){return x.exp().minus(1)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/fix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return createFix}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","Complex","matrix","ceil","floor"],createFix=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("fix",dependencies,(_ref=>{var{typed:typed,Complex:_Complex,matrix:matrix,ceil:ceil,floor:floor}=_ref,algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_1__.X)({typed:typed});return typed("fix",{number:function number(x){return x>0?floor(x):ceil(x)},"number, number | BigNumber":function numberNumberBigNumber(x,n){return x>0?floor(x,n):ceil(x,n)},Complex:function Complex(x){return new _Complex(x.re>0?Math.floor(x.re):Math.ceil(x.re),x.im>0?Math.floor(x.im):Math.ceil(x.im))},"Complex, number | BigNumber":function ComplexNumberBigNumber(x,n){return new _Complex(x.re>0?floor(x.re,n):ceil(x.re,n),x.im>0?floor(x.im,n):ceil(x.im,n))},BigNumber:function BigNumber(x){return x.isNegative()?ceil(x):floor(x)},"BigNumber, number | BigNumber":function BigNumberNumberBigNumber(x,n){return x.isNegative()?ceil(x,n):floor(x,n)},Fraction:function Fraction(x){return x.s<0?x.ceil():x.floor()},"Fraction, number | BigNumber":function FractionNumberBigNumber(x,n){return x.s<0?x.ceil(n):x.floor(n)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this,!0)},"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(x,n){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,(i=>this(i,n)),!0)},"number | Complex | BigNumber, Array":function numberComplexBigNumberArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/floor.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createFloor}});var decimal_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/decimal.js/decimal.mjs"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","config","round","matrix","equalScalar"],createFloor=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)("floor",dependencies,(_ref=>{var{typed:typed,config:config,round:round,matrix:matrix,equalScalar:equalScalar}=_ref,algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_2__.n)({typed:typed,equalScalar:equalScalar}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_3__.X)({typed:typed});return typed("floor",{number:function number(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_4__.RI)(x,round(x),config.epsilon)?round(x):Math.floor(x)},"number, number":function numberNumber(x,n){if((0,_utils_number_js__WEBPACK_IMPORTED_MODULE_4__.RI)(x,round(x,n),config.epsilon))return round(x,n);var[number,exponent]="".concat(x,"e").split("e"),result=Math.floor(Number("".concat(number,"e").concat(Number(exponent)+n)));return[number,exponent]="".concat(result,"e").split("e"),Number("".concat(number,"e").concat(Number(exponent)-n))},Complex:function Complex(x){return x.floor()},"Complex, number":function ComplexNumber(x,n){return x.floor(n)},BigNumber:function BigNumber(x){return(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_5__.R)(x,round(x),config.epsilon)?round(x):x.floor()},"BigNumber, BigNumber":function BigNumberBigNumber(x,n){return(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_5__.R)(x,round(x,n),config.epsilon)?round(x,n):x.toDecimalPlaces(n.toNumber(),decimal_js__WEBPACK_IMPORTED_MODULE_0__.Z.ROUND_FLOOR)},Fraction:function Fraction(x){return x.floor()},"Fraction, number":function FractionNumber(x,n){return x.floor(n)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_6__.Fh)(x,this,!0)},"Array | Matrix, number":function ArrayMatrixNumber(x,n){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_6__.Fh)(x,(i=>this(i,n)),!0)},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(x,y){return algorithm11(x,y,this,!1)},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(x,y){return algorithm14(x,y,this,!1)},"number | Complex | BigNumber, Array":function numberComplexBigNumberArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/gcd.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{f:function(){return createGcd}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm01.js"),_type_matrix_utils_algorithm04_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm04.js"),_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm10.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],createGcd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("gcd",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,BigNumber:BigNumber,DenseMatrix:DenseMatrix}=_ref,algorithm01=(0,_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__.A)({typed:typed}),algorithm04=(0,_type_matrix_utils_algorithm04_js__WEBPACK_IMPORTED_MODULE_2__.H)({typed:typed,equalScalar:equalScalar}),algorithm10=(0,_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_3__.q)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed("gcd",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.Vk,"BigNumber, BigNumber":function _gcdBigNumber(a,b){if(!a.isInt()||!b.isInt())throw new Error("Parameters in function gcd must be integer numbers");var zero=new BigNumber(0);for(;!b.isZero();){var r=a.mod(b);a=b,b=r}return a.lt(zero)?a.neg():a},"Fraction, Fraction":function FractionFraction(x,y){return x.gcd(y)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm04(x,y,this)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm01(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm01(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(x,y){return algorithm10(x,y,this,!1)},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(x,y){return algorithm14(x,y,this,!1)},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(x,y){return algorithm10(y,x,this,!0)},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, number | BigNumber":function ArrayNumberBigNumber(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"number | BigNumber, Array":function numberBigNumberArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function ArrayMatrixNumberBigNumberArrayMatrixNumberBigNumberArrayMatrixNumberBigNumber(a,b,args){for(var res=this(a,b),i=0;i<args.length;i++)res=this(res,args[i]);return res}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/hypot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{n:function(){return createHypot}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],createHypot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("hypot",dependencies,(_ref=>{var{typed:typed,abs:abs,addScalar:addScalar,divideScalar:divideScalar,multiplyScalar:multiplyScalar,sqrt:sqrt,smaller:smaller,isPositive:isPositive}=_ref;return typed("hypot",{"... number | BigNumber":function _hypot(args){for(var result=0,largest=0,i=0;i<args.length;i++){var value=abs(args[i]);smaller(largest,value)?(result=multiplyScalar(result,multiplyScalar(divideScalar(largest,value),divideScalar(largest,value))),result=addScalar(result,1),largest=value):result=addScalar(result,isPositive(value)?multiplyScalar(divideScalar(value,largest),divideScalar(value,largest)):value)}return multiplyScalar(largest,sqrt(result))},Array:function Array(x){return this.apply(this,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(x))},Matrix:function Matrix(x){return this.apply(this,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(x.toArray()))}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/lcm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return createLcm}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm02.js"),_type_matrix_utils_algorithm06_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm06.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","matrix","equalScalar"],createLcm=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("lcm",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar}=_ref,algorithm02=(0,_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__.h)({typed:typed,equalScalar:equalScalar}),algorithm06=(0,_type_matrix_utils_algorithm06_js__WEBPACK_IMPORTED_MODULE_2__.Q)({typed:typed,equalScalar:equalScalar}),algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_3__.n)({typed:typed,equalScalar:equalScalar}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed("lcm",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.K4,"BigNumber, BigNumber":function _lcmBigNumber(a,b){if(!a.isInt()||!b.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(a.isZero())return a;if(b.isZero())return b;var prod=a.times(b);for(;!b.isZero();){var t=b;b=a.mod(t),a=t}return prod.div(a).abs()},"Fraction, Fraction":function FractionFraction(x,y){return x.lcm(y)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm06(x,y,this)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm02(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm02(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(x,y){return algorithm11(x,y,this,!1)},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(x,y){return algorithm14(x,y,this,!1)},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(x,y){return algorithm11(y,x,this,!0)},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, number | BigNumber":function ArrayNumberBigNumber(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"number | BigNumber, Array":function numberBigNumberArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function ArrayMatrixNumberBigNumberArrayMatrixNumberBigNumberArrayMatrixNumberBigNumber(a,b,args){for(var res=this(a,b),i=0;i<args.length;i++)res=this(res,args[i]);return res}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/log.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createLog}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["config","typed","divideScalar","Complex"],createLog=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("log",dependencies,(_ref=>{var{typed:typed,config:config,divideScalar:divideScalar,Complex:Complex}=_ref;return typed("log",{number:function number(x){return x>=0||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.OS)(x):new Complex(x,0).log()},Complex:function Complex(x){return x.log()},BigNumber:function BigNumber(x){return!x.isNegative()||config.predictable?x.ln():new Complex(x.toNumber(),0).log()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)},"any, any":function anyAny(x,base){return divideScalar(this(x),this(base))}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/log10.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return createLog10}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","config","Complex"],createLog10=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("log10",dependencies,(_ref=>{var{typed:typed,config:config,Complex:_Complex}=_ref;return typed("log10",{number:function number(x){return x>=0||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.vU)(x):new _Complex(x,0).log().div(Math.LN10)},Complex:function Complex(x){return new _Complex(x).log().div(Math.LN10)},BigNumber:function BigNumber(x){return!x.isNegative()||config.predictable?x.log():new _Complex(x.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/log1p.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return createLog1p}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["typed","config","divideScalar","log","Complex"],createLog1p=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("log1p",dependencies,(_ref=>{var{typed:typed,config:config,divideScalar:divideScalar,log:log,Complex:Complex}=_ref;return typed("log1p",{number:function number(x){return x>=-1||config.predictable?(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.Kr)(x):_log1pComplex(new Complex(x,0))},Complex:_log1pComplex,BigNumber:function BigNumber(x){var y=x.plus(1);return!y.isNegative()||config.predictable?y.ln():_log1pComplex(new Complex(x.toNumber(),0))},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)},"any, any":function anyAny(x,base){return divideScalar(this(x),log(base))}});function _log1pComplex(x){var xRe1p=x.re+1;return new Complex(Math.log(Math.sqrt(xRe1p*xRe1p+x.im*x.im)),Math.atan2(x.im,xRe1p))}}))},"./node_modules/mathjs/lib/esm/function/arithmetic/log2.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return createLog2}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","config","Complex"],createLog2=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("log2",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex}=_ref;return typed("log2",{number:function number(x){return x>=0||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.iO)(x):_log2Complex(new Complex(x,0))},Complex:_log2Complex,BigNumber:function BigNumber(x){return!x.isNegative()||config.predictable?x.log(2):_log2Complex(new Complex(x.toNumber(),0))},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}});function _log2Complex(x){var newX=Math.sqrt(x.re*x.re+x.im*x.im);return new Complex(Math.log2?Math.log2(newX):Math.log(newX)/Math.LN2,Math.atan2(x.im,x.re)/Math.LN2)}}))},"./node_modules/mathjs/lib/esm/function/arithmetic/mod.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J:function(){return createMod}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm02.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm05_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm05.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","matrix","equalScalar","DenseMatrix"],createMod=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("mod",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,DenseMatrix:DenseMatrix}=_ref,algorithm02=(0,_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__.h)({typed:typed,equalScalar:equalScalar}),algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_2__.O)({typed:typed}),algorithm05=(0,_type_matrix_utils_algorithm05_js__WEBPACK_IMPORTED_MODULE_3__.p)({typed:typed,equalScalar:equalScalar}),algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_4__.n)({typed:typed,equalScalar:equalScalar}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_5__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_6__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_7__.X)({typed:typed});return typed("mod",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_8__.nz,"BigNumber, BigNumber":function BigNumberBigNumber(x,y){if(y.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return y.isZero()?x:x.mod(y)},"Fraction, Fraction":function FractionFraction(x,y){if(y.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return x.compare(0)>=0?x.mod(y):x.mod(y).add(y).mod(y)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm05(x,y,this,!1)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm02(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm11(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/multiply.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createMultiply}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],createMultiply=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("multiply",dependencies,(_ref=>{var{typed:typed,matrix:matrix,addScalar:addScalar,multiplyScalar:multiplyScalar,equalScalar:equalScalar,dot:dot}=_ref,algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_1__.n)({typed:typed,equalScalar:equalScalar}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_2__.X)({typed:typed});function _validateMatrixDimensions(size1,size2){switch(size1.length){case 1:switch(size2.length){case 1:if(size1[0]!==size2[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(size1[0]!==size2[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+size1[0]+") must match Matrix rows ("+size2[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+size2.length+" dimensions)")}break;case 2:switch(size2.length){case 1:if(size1[1]!==size2[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+size1[1]+") must match Vector length ("+size2[0]+")");break;case 2:if(size1[1]!==size2[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+size1[1]+") must match Matrix B rows ("+size2[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+size2.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+size1.length+" dimensions)")}}function _multiplyVectorMatrix(a,b){if("dense"!==b.storage())throw new Error("Support for SparseMatrix not implemented");return function _multiplyVectorDenseMatrix(a,b){var dt,adata=a._data,asize=a._size,adt=a._datatype,bdata=b._data,bsize=b._size,bdt=b._datatype,alength=asize[0],bcolumns=bsize[1],af=addScalar,mf=multiplyScalar;adt&&bdt&&adt===bdt&&"string"==typeof adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]));for(var c=[],j=0;j<bcolumns;j++){for(var sum=mf(adata[0],bdata[0][j]),i=1;i<alength;i++)sum=af(sum,mf(adata[i],bdata[i][j]));c[j]=sum}return a.createDenseMatrix({data:c,size:[bcolumns],datatype:dt})}(a,b)}var _multiplyMatrixVector=typed("_multiplyMatrixVector",{"DenseMatrix, any":function _multiplyDenseMatrixVector(a,b){var dt,adata=a._data,asize=a._size,adt=a._datatype,bdata=b._data,bdt=b._datatype,arows=asize[0],acolumns=asize[1],af=addScalar,mf=multiplyScalar;adt&&bdt&&adt===bdt&&"string"==typeof adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]));for(var c=[],i=0;i<arows;i++){for(var row=adata[i],sum=mf(row[0],bdata[0]),j=1;j<acolumns;j++)sum=af(sum,mf(row[j],bdata[j]));c[i]=sum}return a.createDenseMatrix({data:c,size:[arows],datatype:dt})},"SparseMatrix, any":function _multiplySparseMatrixVector(a,b){var avalues=a._values,aindex=a._index,aptr=a._ptr,adt=a._datatype;if(!avalues)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var dt,bdata=b._data,bdt=b._datatype,arows=a._size[0],brows=b._size[0],cvalues=[],cindex=[],cptr=[],af=addScalar,mf=multiplyScalar,eq=equalScalar,zero=0;adt&&bdt&&adt===bdt&&"string"==typeof adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]),eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt));var x=[],w=[];cptr[0]=0;for(var ib=0;ib<brows;ib++){var vbi=bdata[ib];if(!eq(vbi,zero))for(var ka0=aptr[ib],ka1=aptr[ib+1],ka=ka0;ka<ka1;ka++){var ia=aindex[ka];w[ia]?x[ia]=af(x[ia],mf(vbi,avalues[ka])):(w[ia]=!0,cindex.push(ia),x[ia]=mf(vbi,avalues[ka]))}}for(var p1=cindex.length,p=0;p<p1;p++){var ic=cindex[p];cvalues[p]=x[ic]}return cptr[1]=cindex.length,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[arows,1],datatype:dt})}}),_multiplyMatrixMatrix=typed("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function _multiplyDenseMatrixDenseMatrix(a,b){var dt,adata=a._data,asize=a._size,adt=a._datatype,bdata=b._data,bsize=b._size,bdt=b._datatype,arows=asize[0],acolumns=asize[1],bcolumns=bsize[1],af=addScalar,mf=multiplyScalar;adt&&bdt&&adt===bdt&&"string"==typeof adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]));for(var c=[],i=0;i<arows;i++){var row=adata[i];c[i]=[];for(var j=0;j<bcolumns;j++){for(var sum=mf(row[0],bdata[0][j]),x=1;x<acolumns;x++)sum=af(sum,mf(row[x],bdata[x][j]));c[i][j]=sum}}return a.createDenseMatrix({data:c,size:[arows,bcolumns],datatype:dt})},"DenseMatrix, SparseMatrix":function _multiplyDenseMatrixSparseMatrix(a,b){var adata=a._data,asize=a._size,adt=a._datatype,bvalues=b._values,bindex=b._index,bptr=b._ptr,bsize=b._size,bdt=b._datatype;if(!bvalues)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var dt,arows=asize[0],bcolumns=bsize[1],af=addScalar,mf=multiplyScalar,eq=equalScalar,zero=0;adt&&bdt&&adt===bdt&&"string"==typeof adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]),eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt));for(var cvalues=[],cindex=[],cptr=[],c=b.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[arows,bcolumns],datatype:dt}),jb=0;jb<bcolumns;jb++){cptr[jb]=cindex.length;var kb0=bptr[jb],kb1=bptr[jb+1];if(kb1>kb0)for(var last=0,i=0;i<arows;i++){for(var mark=i+1,cij=void 0,kb=kb0;kb<kb1;kb++){var ib=bindex[kb];last!==mark?(cij=mf(adata[i][ib],bvalues[kb]),last=mark):cij=af(cij,mf(adata[i][ib],bvalues[kb]))}last!==mark||eq(cij,zero)||(cindex.push(i),cvalues.push(cij))}}return cptr[bcolumns]=cindex.length,c},"SparseMatrix, DenseMatrix":function _multiplySparseMatrixDenseMatrix(a,b){var avalues=a._values,aindex=a._index,aptr=a._ptr,adt=a._datatype;if(!avalues)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var dt,bdata=b._data,bdt=b._datatype,arows=a._size[0],brows=b._size[0],bcolumns=b._size[1],af=addScalar,mf=multiplyScalar,eq=equalScalar,zero=0;adt&&bdt&&adt===bdt&&"string"==typeof adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]),eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt));for(var cvalues=[],cindex=[],cptr=[],c=a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[arows,bcolumns],datatype:dt}),x=[],w=[],jb=0;jb<bcolumns;jb++){cptr[jb]=cindex.length;for(var mark=jb+1,ib=0;ib<brows;ib++){var vbij=bdata[ib][jb];if(!eq(vbij,zero))for(var ka0=aptr[ib],ka1=aptr[ib+1],ka=ka0;ka<ka1;ka++){var ia=aindex[ka];w[ia]!==mark?(w[ia]=mark,cindex.push(ia),x[ia]=mf(vbij,avalues[ka])):x[ia]=af(x[ia],mf(vbij,avalues[ka]))}}for(var p0=cptr[jb],p1=cindex.length,p=p0;p<p1;p++){var ic=cindex[p];cvalues[p]=x[ic]}}return cptr[bcolumns]=cindex.length,c},"SparseMatrix, SparseMatrix":function _multiplySparseMatrixSparseMatrix(a,b){var dt,avalues=a._values,aindex=a._index,aptr=a._ptr,adt=a._datatype,bvalues=b._values,bindex=b._index,bptr=b._ptr,bdt=b._datatype,arows=a._size[0],bcolumns=b._size[1],values=avalues&&bvalues,af=addScalar,mf=multiplyScalar;adt&&bdt&&adt===bdt&&"string"==typeof adt&&(dt=adt,af=typed.find(addScalar,[dt,dt]),mf=typed.find(multiplyScalar,[dt,dt]));for(var ka,ka0,ka1,kb,kb0,kb1,ia,ib,cvalues=values?[]:void 0,cindex=[],cptr=[],c=a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[arows,bcolumns],datatype:dt}),x=values?[]:void 0,w=[],jb=0;jb<bcolumns;jb++){cptr[jb]=cindex.length;var mark=jb+1;for(kb0=bptr[jb],kb1=bptr[jb+1],kb=kb0;kb<kb1;kb++)if(ib=bindex[kb],values)for(ka0=aptr[ib],ka1=aptr[ib+1],ka=ka0;ka<ka1;ka++)w[ia=aindex[ka]]!==mark?(w[ia]=mark,cindex.push(ia),x[ia]=mf(bvalues[kb],avalues[ka])):x[ia]=af(x[ia],mf(bvalues[kb],avalues[ka]));else for(ka0=aptr[ib],ka1=aptr[ib+1],ka=ka0;ka<ka1;ka++)w[ia=aindex[ka]]!==mark&&(w[ia]=mark,cindex.push(ia));if(values)for(var p0=cptr[jb],p1=cindex.length,p=p0;p<p1;p++){var ic=cindex[p];cvalues[p]=x[ic]}}return cptr[bcolumns]=cindex.length,c}});return typed("multiply",(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.l7)({"Array, Array":function ArrayArray(x,y){_validateMatrixDimensions((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_4__.aJ)(x),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_4__.aJ)(y));var m=this(matrix(x),matrix(y));return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_5__.SW)(m)?m.valueOf():m},"Matrix, Matrix":function MatrixMatrix(x,y){var xsize=x.size(),ysize=y.size();return _validateMatrixDimensions(xsize,ysize),1===xsize.length?1===ysize.length?function _multiplyVectorVector(a,b,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return dot(a,b)}(x,y,xsize[0]):_multiplyVectorMatrix(x,y):1===ysize.length?_multiplyMatrixVector(x,y):_multiplyMatrixMatrix(x,y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x,y.storage()),y)},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm11(x,y,multiplyScalar,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,multiplyScalar,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm11(y,x,multiplyScalar,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,multiplyScalar,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,multiplyScalar,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,multiplyScalar,!0).valueOf()},"any, any":multiplyScalar,"any, any, ...any":function anyAnyAny(x,y,rest){for(var result=this(x,y),i=0;i<rest.length;i++)result=this(result,rest[i]);return result}},multiplyScalar.signatures))}))},"./node_modules/mathjs/lib/esm/function/arithmetic/multiplyScalar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createMultiplyScalar}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createMultiplyScalar=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("multiplyScalar",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("multiplyScalar",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.G6,"Complex, Complex":function ComplexComplex(x,y){return x.mul(y)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.times(y)},"Fraction, Fraction":function FractionFraction(x,y){return x.mul(y)},"number | Fraction | BigNumber | Complex, Unit":function numberFractionBigNumberComplexUnit(x,y){var res=y.clone();return res.value=null===res.value?res._normalize(x):this(res.value,x),res},"Unit, number | Fraction | BigNumber | Complex":function UnitNumberFractionBigNumberComplex(x,y){var res=x.clone();return res.value=null===res.value?res._normalize(y):this(res.value,y),res},"Unit, Unit":function UnitUnit(x,y){return x.multiply(y)}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/norm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return createNorm}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],createNorm=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("norm",dependencies,(_ref=>{var{typed:typed,abs:abs,add:add,pow:pow,conj:conj,sqrt:sqrt,multiply:multiply,equalScalar:equalScalar,larger:larger,smaller:smaller,matrix:matrix,ctranspose:ctranspose,eigs:eigs}=_ref;return typed("norm",{number:Math.abs,Complex:function Complex(x){return x.abs()},BigNumber:function BigNumber(x){return x.abs()},boolean:function boolean(x){return Math.abs(x)},Array:function Array(x){return _norm(matrix(x),2)},Matrix:function Matrix(x){return _norm(x,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function numberComplexBigNumberBooleanNumberBigNumberString(x){return this(x)},"Array, number | BigNumber | string":function ArrayNumberBigNumberString(x,p){return _norm(matrix(x),p)},"Matrix, number | BigNumber | string":function MatrixNumberBigNumberString(x,p){return _norm(x,p)}});function _vectorNorm(x,p){if(p===Number.POSITIVE_INFINITY||"inf"===p)return function _vectorNormPlusInfinity(x){var pinf=0;return x.forEach((function(value){var v=abs(value);larger(v,pinf)&&(pinf=v)}),!0),pinf}(x);if(p===Number.NEGATIVE_INFINITY||"-inf"===p)return function _vectorNormMinusInfinity(x){var ninf;return x.forEach((function(value){var v=abs(value);ninf&&!smaller(v,ninf)||(ninf=v)}),!0),ninf||0}(x);if("fro"===p)return _norm(x,2);if("number"==typeof p&&!isNaN(p)){if(!equalScalar(p,0)){var n=0;return x.forEach((function(value){n=add(pow(abs(value),p),n)}),!0),pow(n,1/p)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function _matrixNorm(x,p){if(1===p)return function _matrixNormOne(x){var c=[],maxc=0;return x.forEach((function(value,index){var j=index[1],cj=add(c[j]||0,abs(value));larger(cj,maxc)&&(maxc=cj),c[j]=cj}),!0),maxc}(x);if(p===Number.POSITIVE_INFINITY||"inf"===p)return function _matrixNormInfinity(x){var r=[],maxr=0;return x.forEach((function(value,index){var i=index[0],ri=add(r[i]||0,abs(value));larger(ri,maxr)&&(maxr=ri),r[i]=ri}),!0),maxr}(x);if("fro"===p)return function _matrixNormFrobenius(x){var fro=0;return x.forEach((function(value,index){fro=add(fro,multiply(value,conj(value)))})),abs(sqrt(fro))}(x);if(2===p)return function _matrixNormTwo(x){var sizeX=x.size();if(sizeX[0]!==sizeX[1])throw new RangeError("Invalid matrix dimensions");var tx=ctranspose(x),squaredX=multiply(tx,x),eigenVals=eigs(squaredX).values.toArray(),rho=eigenVals[eigenVals.length-1];return abs(sqrt(rho))}(x);throw new Error("Unsupported parameter value "+p)}function _norm(x,p){var sizeX=x.size();if(1===sizeX.length)return _vectorNorm(x,p);if(2===sizeX.length){if(sizeX[0]&&sizeX[1])return _matrixNorm(x,p);throw new RangeError("Invalid matrix dimensions")}}}))},"./node_modules/mathjs/lib/esm/function/arithmetic/nthRoot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return createNthRoot}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm01.js"),_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm02.js"),_type_matrix_utils_algorithm06_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm06.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),name="nthRoot",dependencies=["typed","matrix","equalScalar","BigNumber"],createNthRoot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,BigNumber:_BigNumber}=_ref,algorithm01=(0,_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__.A)({typed:typed}),algorithm02=(0,_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_2__.h)({typed:typed,equalScalar:equalScalar}),algorithm06=(0,_type_matrix_utils_algorithm06_js__WEBPACK_IMPORTED_MODULE_3__.Q)({typed:typed,equalScalar:equalScalar}),algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_4__.n)({typed:typed,equalScalar:equalScalar}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_5__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_6__.X)({typed:typed}),complexErr="Complex number not supported in function nthRoot. Use nthRoots instead.";return typed(name,{number:function number(x){return(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_7__.YS)(x,2)},"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_7__.YS,BigNumber:function BigNumber(x){return _bigNthRoot(x,new _BigNumber(2))},Complex:function Complex(x){throw new Error(complexErr)},"Complex, number":function ComplexNumber(x,y){throw new Error(complexErr)},"BigNumber, BigNumber":_bigNthRoot,"Array | Matrix":function ArrayMatrix(x){return this(x,2)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){if(1===y.density())return algorithm06(x,y,this);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm02(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){if(1===y.density())return algorithm01(x,y,this,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(x,y){return algorithm11(x,y,this,!1)},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(x,y){return algorithm14(x,y,this,!1)},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(x,y){if(1===y.density())return algorithm11(y,x,this,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, number | BigNumber":function ArrayNumberBigNumber(x,y){return this(matrix(x),y).valueOf()},"number | BigNumber, Array":function numberBigNumberArray(x,y){return this(x,matrix(y)).valueOf()}});function _bigNthRoot(a,root){var precision=_BigNumber.precision,Big=_BigNumber.clone({precision:precision+2}),zero=new _BigNumber(0),one=new Big(1),inv=root.isNegative();if(inv&&(root=root.neg()),root.isZero())throw new Error("Root must be non-zero");if(a.isNegative()&&!root.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(a.isZero())return inv?new Big(1/0):0;if(!a.isFinite())return inv?zero:a;var x=a.abs().pow(one.div(root));return x=a.isNeg()?x.neg():x,new _BigNumber((inv?one.div(x):x).toPrecision(precision))}}))},"./node_modules/mathjs/lib/esm/function/arithmetic/nthRoots.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{f:function(){return createNthRoots}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["config","typed","divideScalar","Complex"],createNthRoots=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("nthRoots",dependencies,(_ref=>{var{typed:typed,config:config,divideScalar:divideScalar,Complex:Complex}=_ref,_calculateExactResult=[function realPos(val){return new Complex(val,0)},function imagPos(val){return new Complex(0,val)},function realNeg(val){return new Complex(-val,0)},function imagNeg(val){return new Complex(0,-val)}];function _nthComplexRoots(a,root){if(root<0)throw new Error("Root must be greater than zero");if(0===root)throw new Error("Root must be non-zero");if(root%1!=0)throw new Error("Root must be an integer");if(0===a||0===a.abs())return[new Complex(0,0)];var offset,aIsNumeric="number"==typeof a;(aIsNumeric||0===a.re||0===a.im)&&(offset=aIsNumeric?2*+(a<0):0===a.im?2*+(a.re<0):2*+(a.im<0)+1);for(var arg=a.arg(),abs=a.abs(),roots=[],r=Math.pow(abs,1/root),k=0;k<root;k++){var halfPiFactor=(offset+4*k)/root;halfPiFactor!==Math.round(halfPiFactor)?roots.push(new Complex({r:r,phi:(arg+2*Math.PI*k)/root})):roots.push(_calculateExactResult[halfPiFactor%4](r))}return roots}return typed("nthRoots",{Complex:function Complex(x){return _nthComplexRoots(x,2)},"Complex, number":_nthComplexRoots})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/pow.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return createPow}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","config","identity","multiply","matrix","fraction","number","Complex"],createPow=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("pow",dependencies,(_ref=>{var{typed:typed,config:config,identity:identity,multiply:multiply,matrix:matrix,number:number,fraction:fraction,Complex:Complex}=_ref;return typed("pow",{"number, number":_pow,"Complex, Complex":function ComplexComplex(x,y){return x.pow(y)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return y.isInteger()||x>=0||config.predictable?x.pow(y):new Complex(x.toNumber(),0).pow(y.toNumber(),0)},"Fraction, Fraction":function FractionFraction(x,y){var result=x.pow(y);if(null!=result)return result;if(config.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return _pow(x.valueOf(),y.valueOf())},"Array, number":_powArray,"Array, BigNumber":function ArrayBigNumber(x,y){return _powArray(x,y.toNumber())},"Matrix, number":_powMatrix,"Matrix, BigNumber":function MatrixBigNumber(x,y){return _powMatrix(x,y.toNumber())},"Unit, number | BigNumber":function UnitNumberBigNumber(x,y){return x.pow(y)}});function _pow(x,y){if(config.predictable&&!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(y)&&x<0)try{var yFrac=fraction(y),yNum=number(yFrac);if((y===yNum||Math.abs((y-yNum)/y)<1e-14)&&yFrac.d%2==1)return(yFrac.n%2==0?1:-1)*Math.pow(-x,y)}catch(ex){}return config.predictable&&(x<-1&&y===1/0||x>-1&&x<0&&y===-1/0)?NaN:(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(y)||x>=0||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_2__.Ue)(x,y):x*x<1&&y===1/0||x*x>1&&y===-1/0?0:new Complex(x,0).pow(y,0)}function _powArray(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(y)||y<0)throw new TypeError("For A^b, b must be a positive integer (value is "+y+")");var s=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.aJ)(x);if(2!==s.length)throw new Error("For A^b, A must be 2 dimensional (A has "+s.length+" dimensions)");if(s[0]!==s[1])throw new Error("For A^b, A must be square (size is "+s[0]+"x"+s[1]+")");for(var res=identity(s[0]).valueOf(),px=x;y>=1;)1==(1&y)&&(res=multiply(px,res)),y>>=1,px=multiply(px,px);return res}function _powMatrix(x,y){return matrix(_powArray(x.valueOf(),y))}}))},"./node_modules/mathjs/lib/esm/function/arithmetic/round.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{V:function(){return createRound}});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var NO_INT="Number of decimals in function round must be an integer",dependencies=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],createRound=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)("round",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,zeros:zeros,BigNumber:BigNumber,DenseMatrix:DenseMatrix}=_ref,algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_2__.n)({typed:typed,equalScalar:equalScalar}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_4__.X)({typed:typed});return typed("round",_objectSpread(_objectSpread({},roundNumberSignatures),{},{Complex:function Complex(x){return x.round()},"Complex, number":function ComplexNumber(x,n){if(n%1)throw new TypeError(NO_INT);return x.round(n)},"Complex, BigNumber":function ComplexBigNumber(x,n){if(!n.isInteger())throw new TypeError(NO_INT);var _n=n.toNumber();return x.round(_n)},"number, BigNumber":function numberBigNumber(x,n){if(!n.isInteger())throw new TypeError(NO_INT);return new BigNumber(x).toDecimalPlaces(n.toNumber())},BigNumber:function BigNumber(x){return x.toDecimalPlaces(0)},"BigNumber, BigNumber":function BigNumberBigNumber(x,n){if(!n.isInteger())throw new TypeError(NO_INT);return x.toDecimalPlaces(n.toNumber())},Fraction:function Fraction(x){return x.round()},"Fraction, number":function FractionNumber(x,n){if(n%1)throw new TypeError(NO_INT);return x.round(n)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_5__.Fh)(x,this,!0)},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(x,y){return algorithm11(x,y,this,!1)},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(x,y){return algorithm14(x,y,this,!1)},"number | Complex | BigNumber, SparseMatrix":function numberComplexBigNumberSparseMatrix(x,y){return equalScalar(x,0)?zeros(y.size(),y.storage()):algorithm12(y,x,this,!0)},"number | Complex | BigNumber, DenseMatrix":function numberComplexBigNumberDenseMatrix(x,y){return equalScalar(x,0)?zeros(y.size(),y.storage()):algorithm14(y,x,this,!0)},"Array, number | BigNumber":function ArrayNumberBigNumber(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"number | Complex | BigNumber, Array":function numberComplexBigNumberArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}}))})),roundNumberSignatures={number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.QV,"number, number":function numberNumber(x,n){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_7__.U)(n))throw new TypeError(NO_INT);if(n<0||n>15)throw new Error("Number of decimals in function round must be in the range of 0-15");return(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.QV)(x,n)}}},"./node_modules/mathjs/lib/esm/function/arithmetic/sign.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createSign}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","BigNumber","Fraction","complex"],createSign=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sign",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber,complex:complex,Fraction:_Fraction}=_ref;return typed("sign",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.$y,Complex:function Complex(x){return 0===x.im?complex((0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.$y)(x.re)):x.sign()},BigNumber:function BigNumber(x){return new _BigNumber(x.cmp(0))},Fraction:function Fraction(x){return new _Fraction(x.s,1)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this,!0)},Unit:function Unit(x){return this(x.value)}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/sqrt.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createSqrt}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["config","typed","Complex"],createSqrt=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sqrt",dependencies,(_ref=>{var{config:config,typed:typed,Complex:Complex}=_ref;return typed("sqrt",{number:_sqrtNumber,Complex:function Complex(x){return x.sqrt()},BigNumber:function BigNumber(x){return!x.isNegative()||config.predictable?x.sqrt():_sqrtNumber(x.toNumber())},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this,!0)},Unit:function Unit(x){return x.pow(.5)}});function _sqrtNumber(x){return isNaN(x)?NaN:x>=0||config.predictable?Math.sqrt(x):new Complex(x,0).sqrt()}}))},"./node_modules/mathjs/lib/esm/function/arithmetic/square.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y:function(){return createSquare}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createSquare=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("square",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("square",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__._$,Complex:function Complex(x){return x.mul(x)},BigNumber:function BigNumber(x){return x.times(x)},Fraction:function Fraction(x){return x.mul(x)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this,!0)},Unit:function Unit(x){return x.pow(2)}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/subtract.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{p:function(){return createSubtract}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm01.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm05_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm05.js"),_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm10.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],createSubtract=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("subtract",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,addScalar:addScalar,unaryMinus:unaryMinus,DenseMatrix:DenseMatrix}=_ref,algorithm01=(0,_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__.A)({typed:typed}),algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_2__.O)({typed:typed}),algorithm05=(0,_type_matrix_utils_algorithm05_js__WEBPACK_IMPORTED_MODULE_3__.p)({typed:typed,equalScalar:equalScalar}),algorithm10=(0,_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_4__.q)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_5__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_6__.X)({typed:typed});return typed("subtract",{"number, number":function numberNumber(x,y){return x-y},"Complex, Complex":function ComplexComplex(x,y){return x.sub(y)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.minus(y)},"Fraction, Fraction":function FractionFraction(x,y){return x.sub(y)},"Unit, Unit":function UnitUnit(x,y){if(null===x.value)throw new Error("Parameter x contains a unit with undefined value");if(null===y.value)throw new Error("Parameter y contains a unit with undefined value");if(!x.equalBase(y))throw new Error("Units do not match");var res=x.clone();return res.value=this(res.value,y.value),res.fixPrefix=!1,res},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return checkEqualDimensions(x,y),algorithm05(x,y,this)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return checkEqualDimensions(x,y),algorithm03(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return checkEqualDimensions(x,y),algorithm01(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return checkEqualDimensions(x,y),algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm10(x,unaryMinus(y),addScalar)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm10(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}));function checkEqualDimensions(x,y){var xsize=x.size(),ysize=y.size();if(xsize.length!==ysize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_7__.m(xsize.length,ysize.length)}},"./node_modules/mathjs/lib/esm/function/arithmetic/unaryMinus.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createUnaryMinus}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed"],createUnaryMinus=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("unaryMinus",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("unaryMinus",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.GC,Complex:function Complex(x){return x.neg()},BigNumber:function BigNumber(x){return x.neg()},Fraction:function Fraction(x){return x.neg()},Unit:function Unit(x){var res=x.clone();return res.value=this(x.value),res},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this,!0)}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/unaryPlus.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return createUnaryPlus}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","config","BigNumber"],createUnaryPlus=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("unaryPlus",dependencies,(_ref=>{var{typed:typed,config:config,BigNumber:BigNumber}=_ref;return typed("unaryPlus",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.iU,Complex:function Complex(x){return x},BigNumber:function BigNumber(x){return x},Fraction:function Fraction(x){return x},Unit:function Unit(x){return x.clone()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this,!0)},"boolean | string":function booleanString(x){return"BigNumber"===config.number?new BigNumber(+x):+x}})}))},"./node_modules/mathjs/lib/esm/function/arithmetic/xgcd.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createXgcd}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/arithmetic.js"),dependencies=["typed","config","matrix","BigNumber"],createXgcd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("xgcd",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,BigNumber:BigNumber}=_ref;return typed("xgcd",{"number, number":function numberNumber(a,b){var res=(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.y9)(a,b);return"Array"===config.matrix?res:matrix(res)},"BigNumber, BigNumber":function _xgcdBigNumber(a,b){var t,q,r,res,zero=new BigNumber(0),one=new BigNumber(1),x=zero,lastx=one,y=one,lasty=zero;if(!a.isInt()||!b.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!b.isZero();)q=a.div(b).floor(),r=a.mod(b),t=x,x=lastx.minus(q.times(x)),lastx=t,t=y,y=lasty.minus(q.times(y)),lasty=t,a=b,b=r;res=a.lt(zero)?[a.neg(),lastx.neg(),lasty.neg()]:[a,a.isZero()?0:lastx,lasty];return"Array"===config.matrix?res:matrix(res)}})}))},"./node_modules/mathjs/lib/esm/function/bitwise/bitAnd.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return createBitAnd}});var _utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js"),_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm02.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm06_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm06.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/bitwise.js"),dependencies=["typed","matrix","equalScalar"],createBitAnd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bitAnd",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar}=_ref,algorithm02=(0,_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__.h)({typed:typed,equalScalar:equalScalar}),algorithm06=(0,_type_matrix_utils_algorithm06_js__WEBPACK_IMPORTED_MODULE_2__.Q)({typed:typed,equalScalar:equalScalar}),algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_3__.n)({typed:typed,equalScalar:equalScalar}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed("bitAnd",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.qC,"BigNumber, BigNumber":_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_7__.hi,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm06(x,y,this,!1)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm02(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm02(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm11(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm11(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/bitwise/bitNot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:function(){return createBitNot}});var _utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/bitwise.js"),dependencies=["typed"],createBitNot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bitNot",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("bitNot",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.NA,BigNumber:_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_2__.Xc,"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_3__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/bitwise/bitOr.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{j:function(){return createBitOr}});var _utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm10.js"),_type_matrix_utils_algorithm04_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm04.js"),_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm01.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/bitwise.js"),dependencies=["typed","matrix","equalScalar","DenseMatrix"],createBitOr=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bitOr",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,DenseMatrix:DenseMatrix}=_ref,algorithm01=(0,_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__.A)({typed:typed}),algorithm04=(0,_type_matrix_utils_algorithm04_js__WEBPACK_IMPORTED_MODULE_2__.H)({typed:typed,equalScalar:equalScalar}),algorithm10=(0,_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_3__.q)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed("bitOr",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.LE,"BigNumber, BigNumber":_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_7__.Vq,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm04(x,y,this)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm01(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm01(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm10(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm10(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/bitwise/bitXor.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{g:function(){return createBitXor}});var _utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm07.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/bitwise.js"),dependencies=["typed","matrix","DenseMatrix"],createBitXor=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bitXor",dependencies,(_ref=>{var{typed:typed,matrix:matrix,DenseMatrix:DenseMatrix}=_ref,algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__.O)({typed:typed}),algorithm07=(0,_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__.r)({typed:typed,DenseMatrix:DenseMatrix}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed("bitXor",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.xS,"BigNumber, BigNumber":_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_7__.nN,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm07(x,y,this)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm03(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm12(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/bitwise/leftShift.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createLeftShift}});var _type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm02.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm01.js"),_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm10.js"),_type_matrix_utils_algorithm08_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm08.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/bitwise.js"),_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js"),dependencies=["typed","matrix","equalScalar","zeros","DenseMatrix"],createLeftShift=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("leftShift",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,zeros:zeros,DenseMatrix:DenseMatrix}=_ref,algorithm01=(0,_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__.A)({typed:typed}),algorithm02=(0,_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_2__.h)({typed:typed,equalScalar:equalScalar}),algorithm08=(0,_type_matrix_utils_algorithm08_js__WEBPACK_IMPORTED_MODULE_3__.C)({typed:typed,equalScalar:equalScalar}),algorithm10=(0,_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_4__.q)({typed:typed,DenseMatrix:DenseMatrix}),algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_5__.n)({typed:typed,equalScalar:equalScalar}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_6__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_7__.X)({typed:typed});return typed("leftShift",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_8__.ZG,"BigNumber, BigNumber":_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_9__.Mw,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm08(x,y,this,!1)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm02(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm01(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(x,y){return equalScalar(y,0)?x.clone():algorithm11(x,y,this,!1)},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(x,y){return equalScalar(y,0)?x.clone():algorithm14(x,y,this,!1)},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(x,y){return equalScalar(x,0)?zeros(y.size(),y.storage()):algorithm10(y,x,this,!0)},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(x,y){return equalScalar(x,0)?zeros(y.size(),y.storage()):algorithm14(y,x,this,!0)},"Array, number | BigNumber":function ArrayNumberBigNumber(x,y){return this(matrix(x),y).valueOf()},"number | BigNumber, Array":function numberBigNumberArray(x,y){return this(x,matrix(y)).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/bitwise/rightArithShift.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createRightArithShift}});var _utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js"),_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm02.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm01.js"),_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm10.js"),_type_matrix_utils_algorithm08_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm08.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/bitwise.js"),name="rightArithShift",dependencies=["typed","matrix","equalScalar","zeros","DenseMatrix"],createRightArithShift=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,zeros:zeros,DenseMatrix:DenseMatrix}=_ref,algorithm01=(0,_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__.A)({typed:typed}),algorithm02=(0,_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_2__.h)({typed:typed,equalScalar:equalScalar}),algorithm08=(0,_type_matrix_utils_algorithm08_js__WEBPACK_IMPORTED_MODULE_3__.C)({typed:typed,equalScalar:equalScalar}),algorithm10=(0,_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_4__.q)({typed:typed,DenseMatrix:DenseMatrix}),algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_5__.n)({typed:typed,equalScalar:equalScalar}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_6__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_7__.X)({typed:typed});return typed(name,{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_8__.Lz,"BigNumber, BigNumber":_utils_bignumber_bitwise_js__WEBPACK_IMPORTED_MODULE_9__.ti,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm08(x,y,this,!1)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm02(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm01(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(x,y){return equalScalar(y,0)?x.clone():algorithm11(x,y,this,!1)},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(x,y){return equalScalar(y,0)?x.clone():algorithm14(x,y,this,!1)},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(x,y){return equalScalar(x,0)?zeros(y.size(),y.storage()):algorithm10(y,x,this,!0)},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(x,y){return equalScalar(x,0)?zeros(y.size(),y.storage()):algorithm14(y,x,this,!0)},"Array, number | BigNumber":function ArrayNumberBigNumber(x,y){return this(matrix(x),y).valueOf()},"number | BigNumber, Array":function numberBigNumberArray(x,y){return this(x,matrix(y)).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/bitwise/rightLogShift.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createRightLogShift}});var _type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm02.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm01.js"),_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm10.js"),_type_matrix_utils_algorithm08_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm08.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/bitwise.js"),name="rightLogShift",dependencies=["typed","matrix","equalScalar","zeros","DenseMatrix"],createRightLogShift=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,zeros:zeros,DenseMatrix:DenseMatrix}=_ref,algorithm01=(0,_type_matrix_utils_algorithm01_js__WEBPACK_IMPORTED_MODULE_1__.A)({typed:typed}),algorithm02=(0,_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_2__.h)({typed:typed,equalScalar:equalScalar}),algorithm08=(0,_type_matrix_utils_algorithm08_js__WEBPACK_IMPORTED_MODULE_3__.C)({typed:typed,equalScalar:equalScalar}),algorithm10=(0,_type_matrix_utils_algorithm10_js__WEBPACK_IMPORTED_MODULE_4__.q)({typed:typed,DenseMatrix:DenseMatrix}),algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_5__.n)({typed:typed,equalScalar:equalScalar}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_6__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_7__.X)({typed:typed});return typed(name,{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_8__.ji,"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm08(x,y,this,!1)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm02(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm01(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(x,y){return equalScalar(y,0)?x.clone():algorithm11(x,y,this,!1)},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(x,y){return equalScalar(y,0)?x.clone():algorithm14(x,y,this,!1)},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(x,y){return equalScalar(x,0)?zeros(y.size(),y.storage()):algorithm10(y,x,this,!0)},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(x,y){return equalScalar(x,0)?zeros(y.size(),y.storage()):algorithm14(y,x,this,!0)},"Array, number | BigNumber":function ArrayNumberBigNumber(x,y){return this(matrix(x),y).valueOf()},"number | BigNumber, Array":function numberBigNumberArray(x,y){return this(x,matrix(y)).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/combinatorics/bellNumbers.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return createBellNumbers}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","addScalar","isNegative","isInteger","stirlingS2"],createBellNumbers=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bellNumbers",dependencies,(_ref=>{var{typed:typed,addScalar:addScalar,isNegative:isNegative,isInteger:isInteger,stirlingS2:stirlingS2}=_ref;return typed("bellNumbers",{"number | BigNumber":function numberBigNumber(n){if(!isInteger(n)||isNegative(n))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var result=0,i=0;i<=n;i++)result=addScalar(result,stirlingS2(n,i));return result}})}))},"./node_modules/mathjs/lib/esm/function/combinatorics/catalan.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{u:function(){return createCatalan}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],createCatalan=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("catalan",dependencies,(_ref=>{var{typed:typed,addScalar:addScalar,divideScalar:divideScalar,multiplyScalar:multiplyScalar,combinations:combinations,isNegative:isNegative,isInteger:isInteger}=_ref;return typed("catalan",{"number | BigNumber":function numberBigNumber(n){if(!isInteger(n)||isNegative(n))throw new TypeError("Non-negative integer value expected in function catalan");return divideScalar(combinations(multiplyScalar(n,2),n),addScalar(n,1))}})}))},"./node_modules/mathjs/lib/esm/function/combinatorics/composition.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return createComposition}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],createComposition=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("composition",dependencies,(_ref=>{var{typed:typed,addScalar:addScalar,combinations:combinations,isPositive:isPositive,isNegative:isNegative,isInteger:isInteger,larger:larger}=_ref;return typed("composition",{"number | BigNumber, number | BigNumber":function numberBigNumberNumberBigNumber(n,k){if(!(isInteger(n)&&isPositive(n)&&isInteger(k)&&isPositive(k)))throw new TypeError("Positive integer value expected in function composition");if(larger(k,n))throw new TypeError("k must be less than or equal to n in function composition");return combinations(addScalar(n,-1),addScalar(k,-1))}})}))},"./node_modules/mathjs/lib/esm/function/combinatorics/stirlingS2.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createStirlingS2}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],createStirlingS2=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("stirlingS2",dependencies,(_ref=>{var{typed:typed,addScalar:addScalar,subtract:subtract,multiplyScalar:multiplyScalar,divideScalar:divideScalar,pow:pow,factorial:factorial,combinations:combinations,isNegative:isNegative,isInteger:isInteger,larger:larger}=_ref;return typed("stirlingS2",{"number | BigNumber, number | BigNumber":function numberBigNumberNumberBigNumber(n,k){if(!isInteger(n)||isNegative(n)||!isInteger(k)||isNegative(k))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(larger(k,n))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var kFactorial=factorial(k),result=0,i=0;i<=k;i++){var negativeOne=pow(-1,subtract(k,i)),kChooseI=combinations(k,i),iPower=pow(i,n);result=addScalar(result,multiplyScalar(multiplyScalar(kChooseI,iPower),negativeOne))}return divideScalar(result,kFactorial)}})}))},"./node_modules/mathjs/lib/esm/function/complex/arg.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return createArg}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createArg=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("arg",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("arg",{number:function number(x){return Math.atan2(0,x)},BigNumber:function BigNumber(x){return x.constructor.atan2(0,x)},Complex:function Complex(x){return x.arg()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/complex/conj.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return createConj}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createConj=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("conj",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("conj",{number:function number(x){return x},BigNumber:function BigNumber(x){return x},Complex:function Complex(x){return x.conjugate()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/complex/im.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{R:function(){return createIm}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createIm=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("im",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("im",{number:function number(x){return 0},BigNumber:function BigNumber(x){return x.mul(0)},Fraction:function Fraction(x){return x.mul(0)},Complex:function Complex(x){return x.im},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/complex/re.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m:function(){return createRe}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createRe=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("re",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("re",{number:function number(x){return x},BigNumber:function BigNumber(x){return x},Fraction:function Fraction(x){return x},Complex:function Complex(x){return x.re},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/geometry/distance.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createDistance}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],createDistance=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("distance",dependencies,(_ref=>{var{typed:typed,addScalar:addScalar,subtract:subtract,multiplyScalar:multiplyScalar,divideScalar:divideScalar,unaryMinus:unaryMinus,sqrt:sqrt,abs:abs}=_ref;return typed("distance",{"Array, Array, Array":function ArrayArrayArray(x,y,z){if(2===x.length&&2===y.length&&2===z.length){if(!_2d(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_2d(y))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!_2d(z))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var m=divideScalar(subtract(z[1],z[0]),subtract(y[1],y[0])),xCoeff=multiplyScalar(multiplyScalar(m,m),y[0]),yCoeff=unaryMinus(multiplyScalar(m,y[0])),constant=x[1];return _distancePointLine2D(x[0],x[1],xCoeff,yCoeff,constant)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function ObjectObjectObject(x,y,z){if(2===Object.keys(x).length&&2===Object.keys(y).length&&2===Object.keys(z).length){if(!_2d(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!_2d(y))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!_2d(z))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"lineOnePtX"in y&&"lineOnePtY"in y&&"lineTwoPtX"in z&&"lineTwoPtY"in z){var m=divideScalar(subtract(z.lineTwoPtY,z.lineTwoPtX),subtract(y.lineOnePtY,y.lineOnePtX)),xCoeff=multiplyScalar(multiplyScalar(m,m),y.lineOnePtX),yCoeff=unaryMinus(multiplyScalar(m,y.lineOnePtX)),constant=x.pointX;return _distancePointLine2D(x.pointX,x.pointY,xCoeff,yCoeff,constant)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function ArrayArray(x,y){if(2===x.length&&3===y.length){if(!_2d(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_3d(y))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return _distancePointLine2D(x[0],x[1],y[0],y[1],y[2])}if(3===x.length&&6===y.length){if(!_3d(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_parametricLine(y))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return _distancePointLine3D(x[0],x[1],x[2],y[0],y[1],y[2],y[3],y[4],y[5])}if(x.length===y.length&&x.length>0){if(!_containsOnlyNumbers(x))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!_containsOnlyNumbers(y))throw new TypeError("All values of an array should be numbers or BigNumbers");return _euclideanDistance(x,y)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function ObjectObject(x,y){if(2===Object.keys(x).length&&3===Object.keys(y).length){if(!_2d(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!_3d(y))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"xCoeffLine"in y&&"yCoeffLine"in y&&"constant"in y)return _distancePointLine2D(x.pointX,x.pointY,y.xCoeffLine,y.yCoeffLine,y.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(x).length&&6===Object.keys(y).length){if(!_3d(x))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!_parametricLine(y))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"x0"in y&&"y0"in y&&"z0"in y&&"a"in y&&"b"in y&&"c"in y)return _distancePointLine3D(x.pointX,x.pointY,x.pointZ,y.x0,y.y0,y.z0,y.a,y.b,y.c);throw new TypeError("Key names do not match")}if(2===Object.keys(x).length&&2===Object.keys(y).length){if(!_2d(x))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!_2d(y))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointTwoX"in y&&"pointTwoY"in y)return _euclideanDistance([x.pointOneX,x.pointOneY],[y.pointTwoX,y.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(x).length&&3===Object.keys(y).length){if(!_3d(x))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!_3d(y))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointOneZ"in x&&"pointTwoX"in y&&"pointTwoY"in y&&"pointTwoZ"in y)return _euclideanDistance([x.pointOneX,x.pointOneY,x.pointOneZ],[y.pointTwoX,y.pointTwoY,y.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function Array(arr){if(!function _pairwise(a){if(2===a[0].length&&_isNumber(a[0][0])&&_isNumber(a[0][1])){if(a.some((aI=>2!==aI.length||!_isNumber(aI[0])||!_isNumber(aI[1]))))return!1}else{if(!(3===a[0].length&&_isNumber(a[0][0])&&_isNumber(a[0][1])&&_isNumber(a[0][2])))return!1;if(a.some((aI=>3!==aI.length||!_isNumber(aI[0])||!_isNumber(aI[1])||!_isNumber(aI[2]))))return!1}return!0}(arr))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function _distancePairwise(a){for(var result=[],pointA=[],pointB=[],i=0;i<a.length-1;i++)for(var j=i+1;j<a.length;j++)2===a[0].length?(pointA=[a[i][0],a[i][1]],pointB=[a[j][0],a[j][1]]):3===a[0].length&&(pointA=[a[i][0],a[i][1],a[i][2]],pointB=[a[j][0],a[j][1],a[j][2]]),result.push(_euclideanDistance(pointA,pointB));return result}(arr)}});function _isNumber(a){return"number"==typeof a||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(a)}function _2d(a){return a.constructor!==Array&&(a=_objectToArray(a)),_isNumber(a[0])&&_isNumber(a[1])}function _3d(a){return a.constructor!==Array&&(a=_objectToArray(a)),_isNumber(a[0])&&_isNumber(a[1])&&_isNumber(a[2])}function _containsOnlyNumbers(a){return Array.isArray(a)||(a=_objectToArray(a)),a.every(_isNumber)}function _parametricLine(a){return a.constructor!==Array&&(a=_objectToArray(a)),_isNumber(a[0])&&_isNumber(a[1])&&_isNumber(a[2])&&_isNumber(a[3])&&_isNumber(a[4])&&_isNumber(a[5])}function _objectToArray(o){for(var keys=Object.keys(o),a=[],i=0;i<keys.length;i++)a.push(o[keys[i]]);return a}function _distancePointLine2D(x,y,a,b,c){var num=abs(addScalar(addScalar(multiplyScalar(a,x),multiplyScalar(b,y)),c)),den=sqrt(addScalar(multiplyScalar(a,a),multiplyScalar(b,b)));return divideScalar(num,den)}function _distancePointLine3D(x,y,z,x0,y0,z0,a,b,c){var num=[subtract(multiplyScalar(subtract(y0,y),c),multiplyScalar(subtract(z0,z),b)),subtract(multiplyScalar(subtract(z0,z),a),multiplyScalar(subtract(x0,x),c)),subtract(multiplyScalar(subtract(x0,x),b),multiplyScalar(subtract(y0,y),a))];num=sqrt(addScalar(addScalar(multiplyScalar(num[0],num[0]),multiplyScalar(num[1],num[1])),multiplyScalar(num[2],num[2])));var den=sqrt(addScalar(addScalar(multiplyScalar(a,a),multiplyScalar(b,b)),multiplyScalar(c,c)));return divideScalar(num,den)}function _euclideanDistance(x,y){for(var vectorSize=x.length,result=0,diff=0,i=0;i<vectorSize;i++)diff=subtract(x[i],y[i]),result=addScalar(multiplyScalar(diff,diff),result);return sqrt(result)}}))},"./node_modules/mathjs/lib/esm/function/geometry/intersect.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createIntersect}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten"],createIntersect=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("intersect",dependencies,(_ref=>{var{typed:typed,config:config,abs:abs,add:add,addScalar:addScalar,matrix:matrix,multiply:multiply,multiplyScalar:multiplyScalar,divideScalar:divideScalar,subtract:subtract,smaller:smaller,equalScalar:equalScalar,flatten:flatten}=_ref;return typed("intersect",{"Array, Array, Array":_AAA,"Array, Array, Array, Array":_AAAA,"Matrix, Matrix, Matrix":function MatrixMatrixMatrix(x,y,plane){var arr=_AAA(x.valueOf(),y.valueOf(),plane.valueOf());return null===arr?null:matrix(arr)},"Matrix, Matrix, Matrix, Matrix":function MatrixMatrixMatrixMatrix(w,x,y,z){var arr=_AAAA(w.valueOf(),x.valueOf(),y.valueOf(),z.valueOf());return null===arr?null:matrix(arr)}});function _AAA(x,y,plane){if(x=_coerceArr(x),y=_coerceArr(y),plane=_coerceArr(plane),!_3d(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_3d(y))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function _4d(x){return 4===x.length&&_isNumeric(x[0])&&_isNumeric(x[1])&&_isNumeric(x[2])&&_isNumeric(x[3])}(plane))throw new TypeError("Array with 4 numbers expected as third argument");return function _intersectLinePlane(x1,y1,z1,x2,y2,z2,x,y,z,c){var x1x=multiplyScalar(x1,x),x2x=multiplyScalar(x2,x),y1y=multiplyScalar(y1,y),y2y=multiplyScalar(y2,y),z1z=multiplyScalar(z1,z),z2z=multiplyScalar(z2,z),numerator=subtract(subtract(subtract(c,x1x),y1y),z1z),denominator=subtract(subtract(subtract(addScalar(addScalar(x2x,y2y),z2z),x1x),y1y),z1z),t=divideScalar(numerator,denominator),px=addScalar(x1,multiplyScalar(t,subtract(x2,x1))),py=addScalar(y1,multiplyScalar(t,subtract(y2,y1))),pz=addScalar(z1,multiplyScalar(t,subtract(z2,z1)));return[px,py,pz]}(x[0],x[1],x[2],y[0],y[1],y[2],plane[0],plane[1],plane[2],plane[3])}function _AAAA(w,x,y,z){if(w=_coerceArr(w),x=_coerceArr(x),y=_coerceArr(y),z=_coerceArr(z),2===w.length){if(!_2d(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_2d(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!_2d(y))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!_2d(z))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function _intersect2d(p1a,p1b,p2a,p2b){var o1=p1a,o2=p2a,d1=subtract(o1,p1b),d2=subtract(o2,p2b),det=subtract(multiplyScalar(d1[0],d2[1]),multiplyScalar(d2[0],d1[1]));if(smaller(abs(det),config.epsilon))return null;var d20o11=multiplyScalar(d2[0],o1[1]),d21o10=multiplyScalar(d2[1],o1[0]),d20o21=multiplyScalar(d2[0],o2[1]),d21o20=multiplyScalar(d2[1],o2[0]),t=divideScalar(addScalar(subtract(subtract(d20o11,d21o10),d20o21),d21o20),det);return add(multiply(d1,t),o1)}(w,x,y,z)}if(3===w.length){if(!_3d(w))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_3d(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_3d(y))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!_3d(z))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function _intersect3d(x1,y1,z1,x2,y2,z2,x3,y3,z3,x4,y4,z4){var d1343=_intersect3dHelper(x1,x3,x4,x3,y1,y3,y4,y3,z1,z3,z4,z3),d4321=_intersect3dHelper(x4,x3,x2,x1,y4,y3,y2,y1,z4,z3,z2,z1),d1321=_intersect3dHelper(x1,x3,x2,x1,y1,y3,y2,y1,z1,z3,z2,z1),d4343=_intersect3dHelper(x4,x3,x4,x3,y4,y3,y4,y3,z4,z3,z4,z3),d2121=_intersect3dHelper(x2,x1,x2,x1,y2,y1,y2,y1,z2,z1,z2,z1),ta=divideScalar(subtract(multiplyScalar(d1343,d4321),multiplyScalar(d1321,d4343)),subtract(multiplyScalar(d2121,d4343),multiplyScalar(d4321,d4321))),tb=divideScalar(addScalar(d1343,multiplyScalar(ta,d4321)),d4343),pax=addScalar(x1,multiplyScalar(ta,subtract(x2,x1))),pay=addScalar(y1,multiplyScalar(ta,subtract(y2,y1))),paz=addScalar(z1,multiplyScalar(ta,subtract(z2,z1))),pbx=addScalar(x3,multiplyScalar(tb,subtract(x4,x3))),pby=addScalar(y3,multiplyScalar(tb,subtract(y4,y3))),pbz=addScalar(z3,multiplyScalar(tb,subtract(z4,z3)));return equalScalar(pax,pbx)&&equalScalar(pay,pby)&&equalScalar(paz,pbz)?[pax,pay,paz]:null}(w[0],w[1],w[2],x[0],x[1],x[2],y[0],y[1],y[2],z[0],z[1],z[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function _coerceArr(arr){return 1===arr.length?arr[0]:arr.length>1&&Array.isArray(arr[0])&&arr.every((el=>Array.isArray(el)&&1===el.length))?flatten(arr):arr}function _isNumeric(a){return"number"==typeof a||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(a)}function _2d(x){return 2===x.length&&_isNumeric(x[0])&&_isNumeric(x[1])}function _3d(x){return 3===x.length&&_isNumeric(x[0])&&_isNumeric(x[1])&&_isNumeric(x[2])}function _intersect3dHelper(a,b,c,d,e,f,g,h,i,j,k,l){var add1=multiplyScalar(subtract(a,b),subtract(c,d)),add2=multiplyScalar(subtract(e,f),subtract(g,h)),add3=multiplyScalar(subtract(i,j),subtract(k,l));return addScalar(addScalar(add1,add2),add3)}}))},"./node_modules/mathjs/lib/esm/function/logical/and.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{I:function(){return createAnd}});var _type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm02.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm06_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm06.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/logical.js"),dependencies=["typed","matrix","equalScalar","zeros","not"],createAnd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("and",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,zeros:zeros,not:not}=_ref,algorithm02=(0,_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__.h)({typed:typed,equalScalar:equalScalar}),algorithm06=(0,_type_matrix_utils_algorithm06_js__WEBPACK_IMPORTED_MODULE_2__.Q)({typed:typed,equalScalar:equalScalar}),algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_3__.n)({typed:typed,equalScalar:equalScalar}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed("and",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.FO,"Complex, Complex":function ComplexComplex(x,y){return!(0===x.re&&0===x.im||0===y.re&&0===y.im)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return!(x.isZero()||y.isZero()||x.isNaN()||y.isNaN())},"Unit, Unit":function UnitUnit(x,y){return this(x.value||0,y.value||0)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm06(x,y,this,!1)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm02(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm02(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return not(y)?zeros(x.size(),x.storage()):algorithm11(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return not(y)?zeros(x.size(),x.storage()):algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return not(x)?zeros(x.size(),x.storage()):algorithm11(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return not(x)?zeros(x.size(),x.storage()):algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return this(matrix(x),y).valueOf()},"any, Array":function anyArray(x,y){return this(x,matrix(y)).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/logical/not.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return createNot}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/logical.js"),dependencies=["typed"],createNot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("not",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("not",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.xY,Complex:function Complex(x){return 0===x.re&&0===x.im},BigNumber:function BigNumber(x){return x.isZero()||x.isNaN()},Unit:function Unit(x){return null===x.value||this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/logical/or.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return createOr}});var _type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm05_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm05.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/logical.js"),dependencies=["typed","matrix","equalScalar","DenseMatrix"],createOr=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("or",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,DenseMatrix:DenseMatrix}=_ref,algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__.O)({typed:typed}),algorithm05=(0,_type_matrix_utils_algorithm05_js__WEBPACK_IMPORTED_MODULE_2__.p)({typed:typed,equalScalar:equalScalar}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed("or",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.RY,"Complex, Complex":function ComplexComplex(x,y){return 0!==x.re||0!==x.im||0!==y.re||0!==y.im},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return!x.isZero()&&!x.isNaN()||!y.isZero()&&!y.isNaN()},"Unit, Unit":function UnitUnit(x,y){return this(x.value||0,y.value||0)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm05(x,y,this)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm03(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm12(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/logical/xor.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return createXor}});var _type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm07.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/logical.js"),dependencies=["typed","matrix","DenseMatrix"],createXor=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("xor",dependencies,(_ref=>{var{typed:typed,matrix:matrix,DenseMatrix:DenseMatrix}=_ref,algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__.O)({typed:typed}),algorithm07=(0,_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__.r)({typed:typed,DenseMatrix:DenseMatrix}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed("xor",{"number, number":_plain_number_index_js__WEBPACK_IMPORTED_MODULE_6__.kl,"Complex, Complex":function ComplexComplex(x,y){return(0!==x.re||0!==x.im)!=(0!==y.re||0!==y.im)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return(!x.isZero()&&!x.isNaN())!=(!y.isZero()&&!y.isNaN())},"Unit, Unit":function UnitUnit(x,y){return this(x.value||0,y.value||0)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm07(x,y,this)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm03(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm12(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/matrix/apply.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{j:function(){return createApply}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_error_IndexError_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/error/IndexError.js"),dependencies=["typed","isInteger"],createApply=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("apply",dependencies,(_ref=>{var{typed:typed,isInteger:isInteger}=_ref;return typed("apply",{"Array | Matrix, number | BigNumber, function":function ArrayMatrixNumberBigNumberFunction(mat,dim,callback){if(!isInteger(dim))throw new TypeError("Integer number expected for dimension");var size=Array.isArray(mat)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(mat):mat.size();if(dim<0||dim>=size.length)throw new _error_IndexError_js__WEBPACK_IMPORTED_MODULE_2__.c(dim,size.length);return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.SW)(mat)?mat.create(_apply(mat.valueOf(),dim,callback)):_apply(mat,dim,callback)}})}));function _apply(mat,dim,callback){var i,ret,tran;if(dim<=0){if(Array.isArray(mat[0])){for(tran=function _switch(mat){var i,j,I=mat.length,J=mat[0].length,ret=[];for(j=0;j<J;j++){var tmp=[];for(i=0;i<I;i++)tmp.push(mat[i][j]);ret.push(tmp)}return ret}(mat),ret=[],i=0;i<tran.length;i++)ret[i]=_apply(tran[i],dim-1,callback);return ret}return callback(mat)}for(ret=[],i=0;i<mat.length;i++)ret[i]=_apply(mat[i],dim-1,callback);return ret}},"./node_modules/mathjs/lib/esm/function/matrix/column.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createColumn}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["typed","Index","matrix","range"],createColumn=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("column",dependencies,(_ref=>{var{typed:typed,Index:Index,matrix:matrix,range:range}=_ref;return typed("column",{"Matrix, number":_column,"Array, number":function ArrayNumber(value,column){return _column(matrix((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(value)),column).valueOf()}});function _column(value,column){if(2!==value.size().length)throw new Error("Only two dimensional matrix is supported");(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.Ls)(column,value.size()[1]);var rowRange=range(0,value.size()[0]),index=new Index(rowRange,column);return value.subset(index)}}))},"./node_modules/mathjs/lib/esm/function/matrix/concat.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return createConcat}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_error_IndexError_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/error/IndexError.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","isInteger"],createConcat=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("concat",dependencies,(_ref=>{var{typed:typed,matrix:matrix,isInteger:isInteger}=_ref;return typed("concat",{"...Array | Matrix | number | BigNumber":function ArrayMatrixNumberBigNumber(args){var i,prevDim,len=args.length,dim=-1,asMatrix=!1,matrices=[];for(i=0;i<len;i++){var arg=args[i];if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arg)&&(asMatrix=!0),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(arg)||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(arg)){if(i!==len-1)throw new Error("Dimension must be specified as last argument");if(prevDim=dim,dim=arg.valueOf(),!isInteger(dim))throw new TypeError("Integer number expected for dimension");if(dim<0||i>0&&dim>prevDim)throw new _error_IndexError_js__WEBPACK_IMPORTED_MODULE_2__.c(dim,prevDim+1)}else{var m=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.d9)(arg).valueOf(),size=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_4__.aJ)(m);if(matrices[i]=m,prevDim=dim,dim=size.length-1,i>0&&dim!==prevDim)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_5__.m(prevDim+1,dim+1)}}if(0===matrices.length)throw new SyntaxError("At least one matrix expected");for(var res=matrices.shift();matrices.length;)res=_concat(res,matrices.shift(),dim,0);return asMatrix?matrix(res):res},"...string":function string(args){return args.join("")}})}));function _concat(a,b,concatDim,dim){if(dim<concatDim){if(a.length!==b.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_5__.m(a.length,b.length);for(var c=[],i=0;i<a.length;i++)c[i]=_concat(a[i],b[i],concatDim,dim+1);return c}return a.concat(b)}},"./node_modules/mathjs/lib/esm/function/matrix/count.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return createCount}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","prod"],createCount=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("count",dependencies,(_ref=>{var{typed:typed,size:size,prod:prod}=_ref;return typed("count",{string:function string(x){return x.length},"Matrix | Array":function MatrixArray(x){return prod(size(x))}})}))},"./node_modules/mathjs/lib/esm/function/matrix/cross.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return createCross}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","subtract","multiply"],createCross=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("cross",dependencies,(_ref=>{var{typed:typed,matrix:matrix,subtract:subtract,multiply:multiply}=_ref;return typed("cross",{"Matrix, Matrix":function MatrixMatrix(x,y){return matrix(_cross(x.toArray(),y.toArray()))},"Matrix, Array":function MatrixArray(x,y){return matrix(_cross(x.toArray(),y))},"Array, Matrix":function ArrayMatrix(x,y){return matrix(_cross(x,y.toArray()))},"Array, Array":_cross});function _cross(x,y){var highestDimension=Math.max((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x).length,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(y).length);x=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.L9)(x),y=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.L9)(y);var xSize=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),ySize=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(y);if(1!==xSize.length||1!==ySize.length||3!==xSize[0]||3!==ySize[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+xSize.join(", ")+"], B = ["+ySize.join(", ")+"])");var product=[subtract(multiply(x[1],y[2]),multiply(x[2],y[1])),subtract(multiply(x[2],y[0]),multiply(x[0],y[2])),subtract(multiply(x[0],y[1]),multiply(x[1],y[0]))];return highestDimension>1?[product]:product}}))},"./node_modules/mathjs/lib/esm/function/matrix/ctranspose.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{t:function(){return createCtranspose}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","transpose","conj"],createCtranspose=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("ctranspose",dependencies,(_ref=>{var{typed:typed,transpose:transpose,conj:conj}=_ref;return typed("ctranspose",{any:function any(x){return conj(transpose(x))}})}))},"./node_modules/mathjs/lib/esm/function/matrix/det.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{S:function(){return createDet}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","subtract","multiply","unaryMinus","lup"],createDet=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("det",dependencies,(_ref=>{var{typed:typed,matrix:matrix,subtract:subtract,multiply:multiply,unaryMinus:unaryMinus,lup:lup}=_ref;return typed("det",{any:function any(x){return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(x)},"Array | Matrix":function det(x){var size;switch((size=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW)(x)?x.size():Array.isArray(x)?(x=matrix(x)).size():[]).length){case 0:return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(x);case 1:if(1===size[0])return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(x.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")");case 2:var rows=size[0],cols=size[1];if(rows===cols)return function _det(matrix,rows,cols){if(1===rows)return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(matrix[0][0]);if(2===rows)return subtract(multiply(matrix[0][0],matrix[1][1]),multiply(matrix[1][0],matrix[0][1]));for(var decomp=lup(matrix),det=decomp.U[0][0],_i=1;_i<rows;_i++)det=multiply(det,decomp.U[_i][_i]);for(var evenCycles=0,i=0,visited=[];;){for(;visited[i];)i++;if(i>=rows)break;for(var j=i,cycleLen=0;!visited[decomp.p[j]];)visited[decomp.p[j]]=!0,j=decomp.p[j],cycleLen++;cycleLen%2==0&&evenCycles++}return evenCycles%2==0?det:unaryMinus(det)}(x.clone().valueOf(),rows);throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")")}}})}))},"./node_modules/mathjs/lib/esm/function/matrix/diag.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return createDiag}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","DenseMatrix","SparseMatrix"],createDiag=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("diag",dependencies,(_ref=>{var{typed:typed,matrix:matrix,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix}=_ref;return typed("diag",{Array:function Array(x){return _diag(x,0,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),null)},"Array, number":function ArrayNumber(x,k){return _diag(x,k,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),null)},"Array, BigNumber":function ArrayBigNumber(x,k){return _diag(x,k.toNumber(),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),null)},"Array, string":function ArrayString(x,format){return _diag(x,0,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),format)},"Array, number, string":function ArrayNumberString(x,k,format){return _diag(x,k,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),format)},"Array, BigNumber, string":function ArrayBigNumberString(x,k,format){return _diag(x,k.toNumber(),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(x),format)},Matrix:function Matrix(x){return _diag(x,0,x.size(),x.storage())},"Matrix, number":function MatrixNumber(x,k){return _diag(x,k,x.size(),x.storage())},"Matrix, BigNumber":function MatrixBigNumber(x,k){return _diag(x,k.toNumber(),x.size(),x.storage())},"Matrix, string":function MatrixString(x,format){return _diag(x,0,x.size(),format)},"Matrix, number, string":function MatrixNumberString(x,k,format){return _diag(x,k,x.size(),format)},"Matrix, BigNumber, string":function MatrixBigNumberString(x,k,format){return _diag(x,k.toNumber(),x.size(),format)}});function _diag(x,k,size,format){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(k))throw new TypeError("Second parameter in function diag must be an integer");var kSuper=k>0?k:0,kSub=k<0?-k:0;switch(size.length){case 1:return function _createDiagonalMatrix(x,k,format,l,kSub,kSuper){var ms=[l+kSub,l+kSuper];if(format&&"sparse"!==format&&"dense"!==format)throw new TypeError("Unknown matrix type ".concat(format,'"'));var m="sparse"===format?SparseMatrix.diagonal(ms,x,k):DenseMatrix.diagonal(ms,x,k);return null!==format?m:m.valueOf()}(x,k,format,size[0],kSub,kSuper);case 2:return function _getDiagonal(x,k,format,s,kSub,kSuper){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.SW)(x)){var dm=x.diagonal(k);return null!==format?format!==dm.storage()?matrix(dm,format):dm:dm.valueOf()}for(var n=Math.min(s[0]-kSub,s[1]-kSuper),vector=[],i=0;i<n;i++)vector[i]=x[i+kSub][i+kSuper];return null!==format?matrix(vector):vector}(x,k,format,size,kSub,kSuper)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}))},"./node_modules/mathjs/lib/esm/function/matrix/diff.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J:function(){return createDiff}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","matrix","subtract","number"],createDiff=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("diff",dependencies,(_ref=>{var{typed:typed,matrix:matrix,subtract:subtract,number:number}=_ref;return typed("diff",{"Array | Matrix":function ArrayMatrix(arr){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arr)?matrix(_diff(arr.toArray())):_diff(arr)},"Array | Matrix, number":function ArrayMatrixNumber(arr,dim){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(dim))throw new RangeError("Dimension must be a whole number");return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arr)?matrix(_recursive(arr.toArray(),dim)):_recursive(arr,dim)},"Array | Matrix, BigNumber":function ArrayMatrixBigNumber(arr,dim){return this(arr,number(dim))}});function _recursive(arr,dim){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arr)&&(arr=arr.toArray()),!Array.isArray(arr))throw RangeError("Array/Matrix does not have that many dimensions");if(dim>0){var result=[];return arr.forEach((element=>{result.push(_recursive(element,dim-1))})),result}if(0===dim)return _diff(arr);throw RangeError("Cannot have negative dimension")}function _diff(arr){var result=[],size=arr.length;if(size<2)return arr;for(var i=1;i<size;i++)result.push(_ElementDiff(arr[i-1],arr[i]));return result}function _ElementDiff(obj1,obj2){(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(obj1)&&(obj1=obj1.toArray()),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(obj2)&&(obj2=obj2.toArray());var obj1IsArray=Array.isArray(obj1),obj2IsArray=Array.isArray(obj2);if(obj1IsArray&&obj2IsArray)return function _ArrayDiff(arr1,arr2){if(arr1.length!==arr2.length)throw RangeError("Not all sub-arrays have the same length");for(var result=[],size=arr1.length,i=0;i<size;i++)result.push(_ElementDiff(arr1[i],arr2[i]));return result}(obj1,obj2);if(!obj1IsArray&&!obj2IsArray)return subtract(obj2,obj1);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}))},"./node_modules/mathjs/lib/esm/function/matrix/dot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{W:function(){return createDot}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","addScalar","multiplyScalar","conj","size"],createDot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("dot",dependencies,(_ref=>{var{typed:typed,addScalar:addScalar,multiplyScalar:multiplyScalar,conj:conj,size:size}=_ref;return typed("dot",{"Array | DenseMatrix, Array | DenseMatrix":function _denseDot(a,b){var N=_validateDim(a,b),adata=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(a)?a._data:a,adt=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(a)?a._datatype:void 0,bdata=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(b)?b._data:b,bdt=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(b)?b._datatype:void 0,aIsColumn=2===_size(a).length,bIsColumn=2===_size(b).length,add=addScalar,mul=multiplyScalar;if(adt&&bdt&&adt===bdt&&"string"==typeof adt){var dt=adt;add=typed.find(addScalar,[dt,dt]),mul=typed.find(multiplyScalar,[dt,dt])}if(!aIsColumn&&!bIsColumn){for(var c=mul(conj(adata[0]),bdata[0]),i=1;i<N;i++)c=add(c,mul(conj(adata[i]),bdata[i]));return c}if(!aIsColumn&&bIsColumn){for(var _c=mul(conj(adata[0]),bdata[0][0]),_i=1;_i<N;_i++)_c=add(_c,mul(conj(adata[_i]),bdata[_i][0]));return _c}if(aIsColumn&&!bIsColumn){for(var _c2=mul(conj(adata[0][0]),bdata[0]),_i2=1;_i2<N;_i2++)_c2=add(_c2,mul(conj(adata[_i2][0]),bdata[_i2]));return _c2}if(aIsColumn&&bIsColumn){for(var _c3=mul(conj(adata[0][0]),bdata[0][0]),_i3=1;_i3<N;_i3++)_c3=add(_c3,mul(conj(adata[_i3][0]),bdata[_i3][0]));return _c3}},"SparseMatrix, SparseMatrix":function _sparseDot(x,y){_validateDim(x,y);var xindex=x._index,xvalues=x._values,yindex=y._index,yvalues=y._values,c=0,add=addScalar,mul=multiplyScalar,i=0,j=0;for(;i<xindex.length&&j<yindex.length;){var I=xindex[i],J=yindex[j];I<J?i++:I>J?j++:I===J&&(c=add(c,mul(xvalues[i],yvalues[j])),i++,j++)}return c}});function _validateDim(x,y){var xLen,yLen,xSize=_size(x),ySize=_size(y);if(1===xSize.length)xLen=xSize[0];else{if(2!==xSize.length||1!==xSize[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+xSize.join(", ")+")");xLen=xSize[0]}if(1===ySize.length)yLen=ySize[0];else{if(2!==ySize.length||1!==ySize[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+ySize.join(", ")+")");yLen=ySize[0]}if(xLen!==yLen)throw new RangeError("Vectors must have equal length ("+xLen+" != "+yLen+")");if(0===xLen)throw new RangeError("Cannot calculate the dot product of empty vectors");return xLen}function _size(x){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(x)?x.size():size(x)}}))},"./node_modules/mathjs/lib/esm/function/matrix/eigs.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return createEigs}});var factory=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),string=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),object=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js");function createComplexEigs(_ref){var{addScalar:addScalar,subtract:subtract,flatten:flatten,multiply:multiply,multiplyScalar:multiplyScalar,divideScalar:divideScalar,sqrt:sqrt,abs:abs,bignumber:bignumber,diag:diag,inv:inv,qr:qr,usolve:usolve,usolveAll:usolveAll,equal:equal,complex:complex,larger:larger,smaller:smaller,matrixFromColumns:matrixFromColumns,dot:dot}=_ref;function eigenvalues2x2(a,b,c,d){var trA=addScalar(a,d),detA=subtract(multiplyScalar(a,d),multiplyScalar(b,c)),x=multiplyScalar(trA,.5),y=multiplyScalar(sqrt(subtract(multiplyScalar(trA,trA),multiplyScalar(4,detA))),.5);return[addScalar(x,y),subtract(x,y)]}function jordanBase2x2(a,b,c,d,l1,l2,prec,type){var big="BigNumber"===type,cplx="Complex"===type,zero=big?bignumber(0):cplx?complex(0):0,one=big?bignumber(1):cplx?complex(1):1;if(smaller(abs(c),prec))return[[one,zero],[zero,one]];if(larger(abs(subtract(l1,l2)),prec))return[[subtract(l1,d),subtract(l2,d)],[c,c]];var na=subtract(a,l1),nb=subtract(b,l1),nc=subtract(c,l1),nd=subtract(d,l1);return smaller(abs(nb),prec)?[[na,one],[nc,zero]]:[[nb,zero],[nd,one]]}function inflateMatrix(arr,N){for(var i=0;i<arr.length;i++)arr[i].push(...Array(N-arr[i].length).fill(0));for(var _i5=arr.length;_i5<N;_i5++)arr.push(Array(N).fill(0)),arr[_i5][_i5]=1;return arr}function indexOf(arr,el,fn){for(var i=0;i<arr.length;i++)if(fn(arr[i],el))return i;return-1}function inverseIterate(A,N,orthog,prec,type){for(var b,largeNum="BigNumber"===type?bignumber(1e3):1e3,i=0;b=randomOrthogonalVector(N,orthog,type),b=usolve(A,b),!larger(norm(b),largeNum);)if(++i>=5)return null;for(i=0;;){var c=usolve(A,b);if(smaller(norm(orthogonalComplement(b,[c])),prec))break;if(++i>=10)return null;b=normalize(c)}return b}function randomOrthogonalVector(N,orthog,type){var big="BigNumber"===type,cplx="Complex"===type,v=Array(N).fill(0).map((_=>2*Math.random()-1));return big&&(v=v.map((n=>bignumber(n)))),cplx&&(v=v.map((n=>complex(n)))),normalize(v=orthogonalComplement(v,orthog),type)}function orthogonalComplement(v,orthog){for(var w of orthog)v=subtract(v,multiply(divideScalar(dot(w,v),dot(w,w)),w));return v}function norm(v){return abs(sqrt(dot(v,v)))}function normalize(v,type){var cplx="Complex"===type,one="BigNumber"===type?bignumber(1):cplx?complex(1):1;return multiply(divideScalar(one,norm(v)),v)}return function complexEigs(arr,N,prec,type,findVectors){void 0===findVectors&&(findVectors=!0);var R=function balance(arr,N,prec,type,findVectors){var Rdiag,big="BigNumber"===type,cplx="Complex"===type,zero=big?bignumber(0):cplx?complex(0):0,one=big?bignumber(1):cplx?complex(1):1,radix=big?bignumber(10):2,radixSq=multiplyScalar(radix,radix);findVectors&&(Rdiag=Array(N).fill(one));var last=!1;for(;!last;){last=!0;for(var i=0;i<N;i++){for(var colNorm=zero,rowNorm=zero,j=0;j<N;j++)if(i!==j){var c=abs(arr[i][j]);colNorm=addScalar(colNorm,c),rowNorm=addScalar(rowNorm,c)}if(!equal(colNorm,0)&&!equal(rowNorm,0)){for(var f=one,_c=colNorm,rowDivRadix=divideScalar(rowNorm,radix),rowMulRadix=multiplyScalar(rowNorm,radix);smaller(_c,rowDivRadix);)_c=multiplyScalar(_c,radixSq),f=multiplyScalar(f,radix);for(;larger(_c,rowMulRadix);)_c=divideScalar(_c,radixSq),f=divideScalar(f,radix);if(smaller(divideScalar(addScalar(_c,rowNorm),f),multiplyScalar(addScalar(colNorm,rowNorm),.95))){last=!1;for(var g=divideScalar(1,f),_j=0;_j<N;_j++)i!==_j&&(arr[i][_j]=multiplyScalar(arr[i][_j],f),arr[_j][i]=multiplyScalar(arr[_j][i],g));findVectors&&(Rdiag[i]=multiplyScalar(Rdiag[i],f))}}}}return diag(Rdiag)}(arr,N,0,type,findVectors);!function reduceToHessenberg(arr,N,prec,type,findVectors,R){var big="BigNumber"===type,cplx="Complex"===type,zero=big?bignumber(0):cplx?complex(0):0;big&&(prec=bignumber(prec));for(var i=0;i<N-2;i++){for(var maxIndex=0,max=zero,j=i+1;j<N;j++){var el=arr[j][i];smaller(abs(max),abs(el))&&(max=el,maxIndex=j)}if(!smaller(abs(max),prec)){if(maxIndex!==i+1){var tmp1=arr[maxIndex];arr[maxIndex]=arr[i+1],arr[i+1]=tmp1;for(var _j2=0;_j2<N;_j2++){var tmp2=arr[_j2][maxIndex];arr[_j2][maxIndex]=arr[_j2][i+1],arr[_j2][i+1]=tmp2}if(findVectors){var tmp3=R[maxIndex];R[maxIndex]=R[i+1],R[i+1]=tmp3}}for(var _j3=i+2;_j3<N;_j3++){var n=divideScalar(arr[_j3][i],max);if(0!==n){for(var k=0;k<N;k++)arr[_j3][k]=subtract(arr[_j3][k],multiplyScalar(n,arr[i+1][k]));for(var _k=0;_k<N;_k++)arr[_k][i+1]=addScalar(arr[_k][i+1],multiplyScalar(n,arr[_k][_j3]));if(findVectors)for(var _k2=0;_k2<N;_k2++)R[_j3][_k2]=subtract(R[_j3][_k2],multiplyScalar(n,R[i+1][_k2]))}}}}return R}(arr,N,prec,type,findVectors,R);var vectors,{values:values,C:C}=function iterateUntilTriangular(A,N,prec,type,findVectors){var big="BigNumber"===type,cplx="Complex"===type,one=big?bignumber(1):cplx?complex(1):1;big&&(prec=bignumber(prec));var arr=(0,object.d9)(A),lambdas=[],n=N,Sdiag=[],Qtotal=findVectors?diag(Array(N).fill(one)):void 0,Qpartial=findVectors?diag(Array(n).fill(one)):void 0,lastConvergenceBefore=0;for(;lastConvergenceBefore<=100;){lastConvergenceBefore+=1;for(var k=0,i=0;i<n;i++)arr[i][i]=subtract(arr[i][i],k);var{Q:Q,R:R}=qr(arr);arr=multiply(R,Q);for(var _i=0;_i<n;_i++)arr[_i][_i]=addScalar(arr[_i][_i],k);if(findVectors&&(Qpartial=multiply(Qpartial,Q)),1===n||smaller(abs(arr[n-1][n-2]),prec)){lastConvergenceBefore=0,lambdas.push(arr[n-1][n-1]),findVectors&&(Sdiag.unshift([[1]]),inflateMatrix(Qpartial,N),Qtotal=multiply(Qtotal,Qpartial),n>1&&(Qpartial=diag(Array(n-1).fill(one)))),n-=1,arr.pop();for(var _i2=0;_i2<n;_i2++)arr[_i2].pop()}else if(2===n||smaller(abs(arr[n-2][n-3]),prec)){lastConvergenceBefore=0;var ll=eigenvalues2x2(arr[n-2][n-2],arr[n-2][n-1],arr[n-1][n-2],arr[n-1][n-1]);lambdas.push(...ll),findVectors&&(Sdiag.unshift(jordanBase2x2(arr[n-2][n-2],arr[n-2][n-1],arr[n-1][n-2],arr[n-1][n-1],ll[0],ll[1],prec,type)),inflateMatrix(Qpartial,N),Qtotal=multiply(Qtotal,Qpartial),n>2&&(Qpartial=diag(Array(n-2).fill(one)))),n-=2,arr.pop(),arr.pop();for(var _i3=0;_i3<n;_i3++)arr[_i3].pop(),arr[_i3].pop()}if(0===n)break}if(lambdas.sort(((a,b)=>+subtract(abs(a),abs(b)))),lastConvergenceBefore>100){var err=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+lambdas.join(", "));throw err.values=lambdas,err.vectors=[],err}var C=findVectors?multiply(Qtotal,function blockDiag(arr,N){for(var M=[],i=0;i<N;i++)M[i]=Array(N).fill(0);var I=0;for(var sub of arr){for(var n=sub.length,_i6=0;_i6<n;_i6++)for(var j=0;j<n;j++)M[I+_i6][I+j]=sub[_i6][j];I+=n}return M}(Sdiag,N)):void 0;return{values:lambdas,C:C}}(arr,N,prec,type,findVectors);return C=multiply(inv(R),C),findVectors&&(vectors=function findEigenvectors(A,N,C,values,prec,type){var Cinv=inv(C),U=multiply(Cinv,A,C),big="BigNumber"===type,cplx="Complex"===type,zero=big?bignumber(0):cplx?complex(0):0,one=big?bignumber(1):cplx?complex(1):1,uniqueValues=[],multiplicities=[];for(var  of values){var i=indexOf(uniqueValues,,equal);-1===i?(uniqueValues.push(),multiplicities.push(1)):multiplicities[i]+=1}for(var vectors=[],len=uniqueValues.length,b=Array(N).fill(zero),E=diag(Array(N).fill(one)),failedLambdas=[],_i4=0;_i4<len;_i4++){var _=uniqueValues[_i4],_A=subtract(U,multiply(_,E)),solutions=usolveAll(_A,b);for((solutions=solutions.map((v=>multiply(C,v)))).shift();solutions.length<multiplicities[_i4];){var approxVec=inverseIterate(_A,N,solutions,prec,type);if(null==approxVec){failedLambdas.push(_);break}solutions.push(approxVec)}vectors.push(...solutions.map((v=>flatten(v))))}if(0!==failedLambdas.length){var err=new Error("Failed to find eigenvectors for the following eigenvalues: "+failedLambdas.join(", "));throw err.values=values,err.vectors=vectors,err}return vectors}(arr,N,C,values,prec,type),vectors=matrixFromColumns(...vectors)),{values:values,vectors:vectors}}}function createRealSymmetric(_ref){var{config:config,addScalar:addScalar,subtract:subtract,abs:abs,atan:atan,cos:cos,sin:sin,multiplyScalar:multiplyScalar,inv:inv,bignumber:bignumber,multiply:multiply,add:add}=_ref;function getTheta(aii,ajj,aij){var denom=ajj-aii;return Math.abs(denom)<=config.epsilon?Math.PI/4:.5*Math.atan(2*aij/(ajj-aii))}function getThetaBig(aii,ajj,aij){var denom=subtract(ajj,aii);return abs(denom)<=config.epsilon?bignumber(-1).acos().div(4):multiplyScalar(.5,atan(multiply(2,aij,inv(denom))))}function Sij1(Sij,theta,i,j){for(var N=Sij.length,c=Math.cos(theta),s=Math.sin(theta),Ski=createArray(N,0),Skj=createArray(N,0),k=0;k<N;k++)Ski[k]=c*Sij[k][i]-s*Sij[k][j],Skj[k]=s*Sij[k][i]+c*Sij[k][j];for(var _k=0;_k<N;_k++)Sij[_k][i]=Ski[_k],Sij[_k][j]=Skj[_k];return Sij}function Sij1Big(Sij,theta,i,j){for(var N=Sij.length,c=cos(theta),s=sin(theta),Ski=createArray(N,bignumber(0)),Skj=createArray(N,bignumber(0)),k=0;k<N;k++)Ski[k]=subtract(multiplyScalar(c,Sij[k][i]),multiplyScalar(s,Sij[k][j])),Skj[k]=addScalar(multiplyScalar(s,Sij[k][i]),multiplyScalar(c,Sij[k][j]));for(var _k2=0;_k2<N;_k2++)Sij[_k2][i]=Ski[_k2],Sij[_k2][j]=Skj[_k2];return Sij}function x1Big(Hij,theta,i,j){for(var N=Hij.length,c=bignumber(cos(theta)),s=bignumber(sin(theta)),c2=multiplyScalar(c,c),s2=multiplyScalar(s,s),Aki=createArray(N,bignumber(0)),Akj=createArray(N,bignumber(0)),csHij=multiply(bignumber(2),c,s,Hij[i][j]),Aii=addScalar(subtract(multiplyScalar(c2,Hij[i][i]),csHij),multiplyScalar(s2,Hij[j][j])),Ajj=add(multiplyScalar(s2,Hij[i][i]),csHij,multiplyScalar(c2,Hij[j][j])),k=0;k<N;k++)Aki[k]=subtract(multiplyScalar(c,Hij[i][k]),multiplyScalar(s,Hij[j][k])),Akj[k]=addScalar(multiplyScalar(s,Hij[i][k]),multiplyScalar(c,Hij[j][k]));Hij[i][i]=Aii,Hij[j][j]=Ajj,Hij[i][j]=bignumber(0),Hij[j][i]=bignumber(0);for(var _k3=0;_k3<N;_k3++)_k3!==i&&_k3!==j&&(Hij[i][_k3]=Aki[_k3],Hij[_k3][i]=Aki[_k3],Hij[j][_k3]=Akj[_k3],Hij[_k3][j]=Akj[_k3]);return Hij}function x1(Hij,theta,i,j){for(var N=Hij.length,c=Math.cos(theta),s=Math.sin(theta),c2=c*c,s2=s*s,Aki=createArray(N,0),Akj=createArray(N,0),Aii=c2*Hij[i][i]-2*c*s*Hij[i][j]+s2*Hij[j][j],Ajj=s2*Hij[i][i]+2*c*s*Hij[i][j]+c2*Hij[j][j],k=0;k<N;k++)Aki[k]=c*Hij[i][k]-s*Hij[j][k],Akj[k]=s*Hij[i][k]+c*Hij[j][k];Hij[i][i]=Aii,Hij[j][j]=Ajj,Hij[i][j]=0,Hij[j][i]=0;for(var _k4=0;_k4<N;_k4++)_k4!==i&&_k4!==j&&(Hij[i][_k4]=Aki[_k4],Hij[_k4][i]=Aki[_k4],Hij[j][_k4]=Akj[_k4],Hij[_k4][j]=Akj[_k4]);return Hij}function getAij(Mij){for(var N=Mij.length,maxMij=0,maxIJ=[0,1],i=0;i<N;i++)for(var j=i+1;j<N;j++)Math.abs(maxMij)<Math.abs(Mij[i][j])&&(maxMij=Math.abs(Mij[i][j]),maxIJ=[i,j]);return[maxIJ,maxMij]}function getAijBig(Mij){for(var N=Mij.length,maxMij=0,maxIJ=[0,1],i=0;i<N;i++)for(var j=i+1;j<N;j++)abs(maxMij)<abs(Mij[i][j])&&(maxMij=abs(Mij[i][j]),maxIJ=[i,j]);return[maxIJ,maxMij]}function sorting(E,S){for(var N=E.length,values=Array(N),vectors=Array(N),k=0;k<N;k++)vectors[k]=Array(N);for(var i=0;i<N;i++){for(var minID=0,minE=E[0],j=0;j<E.length;j++)abs(E[j])<abs(minE)&&(minE=E[minID=j]);values[i]=E.splice(minID,1)[0];for(var _k5=0;_k5<N;_k5++)vectors[_k5][i]=S[_k5][minID],S[_k5].splice(minID,1)}return{values:values,vectors:vectors}}function createArray(size,value){for(var array=new Array(size),i=0;i<size;i++)array[i]=value;return array}return function main(arr,N){var prec=arguments.length>2&&void 0!==arguments[2]?arguments[2]:config.epsilon,type=arguments.length>3?arguments[3]:void 0;if("number"===type)return function diag(x,precision){for(var psi,N=x.length,e0=Math.abs(precision/N),Sij=new Array(N),i=0;i<N;i++)Sij[i]=createArray(N,0),Sij[i][i]=1;var Vab=getAij(x);for(;Math.abs(Vab[1])>=Math.abs(e0);){var _i=Vab[0][0],j=Vab[0][1];x=x1(x,psi=getTheta(x[_i][_i],x[j][j],x[_i][j]),_i,j),Sij=Sij1(Sij,psi,_i,j),Vab=getAij(x)}for(var Ei=createArray(N,0),_i2=0;_i2<N;_i2++)Ei[_i2]=x[_i2][_i2];return sorting((0,object.d9)(Ei),(0,object.d9)(Sij))}(arr,prec);if("BigNumber"===type)return function diagBig(x,precision){for(var psi,N=x.length,e0=abs(precision/N),Sij=new Array(N),i=0;i<N;i++)Sij[i]=createArray(N,0),Sij[i][i]=1;var Vab=getAijBig(x);for(;abs(Vab[1])>=abs(e0);){var _i3=Vab[0][0],j=Vab[0][1];x=x1Big(x,psi=getThetaBig(x[_i3][_i3],x[j][j],x[_i3][j]),_i3,j),Sij=Sij1Big(Sij,psi,_i3,j),Vab=getAijBig(x)}for(var Ei=createArray(N,0),_i4=0;_i4<N;_i4++)Ei[_i4]=x[_i4][_i4];return sorting((0,object.d9)(Ei),(0,object.d9)(Sij))}(arr,prec);throw TypeError("Unsupported data type: "+type)}}var is=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],createEigs=(0,factory.d5)("eigs",dependencies,(_ref=>{var{config:config,typed:typed,matrix:matrix,addScalar:addScalar,subtract:subtract,equal:equal,abs:abs,atan:atan,cos:cos,sin:sin,multiplyScalar:multiplyScalar,divideScalar:divideScalar,inv:inv,bignumber:bignumber,multiply:multiply,add:add,larger:larger,column:column,flatten:flatten,number:number,complex:complex,sqrt:sqrt,diag:diag,qr:qr,usolve:usolve,usolveAll:usolveAll,im:im,re:re,smaller:smaller,matrixFromColumns:matrixFromColumns,dot:dot}=_ref,doRealSymetric=createRealSymmetric({config:config,addScalar:addScalar,subtract:subtract,column:column,flatten:flatten,equal:equal,abs:abs,atan:atan,cos:cos,sin:sin,multiplyScalar:multiplyScalar,inv:inv,bignumber:bignumber,complex:complex,multiply:multiply,add:add}),doComplexEigs=createComplexEigs({config:config,addScalar:addScalar,subtract:subtract,multiply:multiply,multiplyScalar:multiplyScalar,flatten:flatten,divideScalar:divideScalar,sqrt:sqrt,abs:abs,bignumber:bignumber,diag:diag,qr:qr,inv:inv,usolve:usolve,usolveAll:usolveAll,equal:equal,complex:complex,larger:larger,smaller:smaller,matrixFromColumns:matrixFromColumns,dot:dot});return typed("eigs",{Array:function Array(x){return computeValuesAndVectors(matrix(x))},"Array, number|BigNumber":function ArrayNumberBigNumber(x,prec){return computeValuesAndVectors(matrix(x),prec)},Matrix:function Matrix(mat){var{values:values,vectors:vectors}=computeValuesAndVectors(mat);return{values:matrix(values),vectors:matrix(vectors)}},"Matrix, number|BigNumber":function MatrixNumberBigNumber(mat,prec){var{values:values,vectors:vectors}=computeValuesAndVectors(mat,prec);return{values:matrix(values),vectors:matrix(vectors)}}});function computeValuesAndVectors(mat,prec){void 0===prec&&(prec=config.epsilon);var size=mat.size();if(2!==size.length||size[0]!==size[1])throw new RangeError("Matrix must be square (size: "+(0,string.WU)(size)+")");var arr=mat.toArray(),N=size[0];if(function isReal(arr,N,prec){for(var i=0;i<N;i++)for(var j=0;j<N;j++)if(larger(bignumber(abs(im(arr[i][j]))),prec))return!1;return!0}(arr,N,prec)&&(function coerceReal(arr,N){for(var i=0;i<N;i++)for(var j=0;j<N;j++)arr[i][j]=re(arr[i][j])}(arr,N),function isSymmetric(arr,N,prec){for(var i=0;i<N;i++)for(var j=i;j<N;j++)if(larger(bignumber(abs(subtract(arr[i][j],arr[j][i]))),prec))return!1;return!0}(arr,N,prec))){var _type=coerceTypes(mat,arr,N);return doRealSymetric(arr,N,prec,_type)}var type=coerceTypes(mat,arr,N);return doComplexEigs(arr,N,prec,type)}function coerceTypes(mat,arr,N){var type=mat.datatype();if("number"===type||"BigNumber"===type||"Complex"===type)return type;for(var hasNumber=!1,hasBig=!1,hasComplex=!1,i=0;i<N;i++)for(var j=0;j<N;j++){var el=arr[i][j];if((0,is.hj)(el)||(0,is.yQ)(el))hasNumber=!0;else if((0,is.l9)(el))hasBig=!0;else{if(!(0,is.Mc)(el))throw TypeError("Unsupported type in Matrix: "+(0,is.kM)(el));hasComplex=!0}}if(hasBig&&hasComplex&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),hasComplex){for(var _i=0;_i<N;_i++)for(var _j=0;_j<N;_j++)arr[_i][_j]=complex(arr[_i][_j]);return"Complex"}if(hasBig){for(var _i2=0;_i2<N;_i2++)for(var _j2=0;_j2<N;_j2++)arr[_i2][_j2]=bignumber(arr[_i2][_j2]);return"BigNumber"}if(hasNumber){for(var _i3=0;_i3<N;_i3++)for(var _j3=0;_j3<N;_j3++)arr[_i3][_j3]=number(arr[_i3][_j3]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}))},"./node_modules/mathjs/lib/esm/function/matrix/expm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createExpm}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","abs","add","identity","inv","multiply"],createExpm=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("expm",dependencies,(_ref=>{var{typed:typed,abs:abs,add:add,identity:identity,inv:inv,multiply:multiply}=_ref;return typed("expm",{Matrix:function Matrix(A){var size=A.size();if(2!==size.length||size[0]!==size[1])throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_1__.WU)(size)+")");for(var n=size[0],infNorm=function infinityNorm(A){for(var n=A.size()[0],infNorm=0,i=0;i<n;i++){for(var rowSum=0,j=0;j<n;j++)rowSum+=abs(A.get([i,j]));infNorm=Math.max(rowSum,infNorm)}return infNorm}(A),params=function findParams(infNorm,eps){for(var maxSearchSize=30,k=0;k<maxSearchSize;k++)for(var q=0;q<=k;q++){var j=k-q;if(errorEstimate(infNorm,q,j)<eps)return{q:q,j:j}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(infNorm,1e-15),q=params.q,j=params.j,Apos=multiply(A,Math.pow(2,-j)),N=identity(n),D=identity(n),factor=1,AposToI=Apos,alternate=-1,i=1;i<=q;i++)i>1&&(AposToI=multiply(AposToI,Apos),alternate=-alternate),N=add(N,multiply(factor=factor*(q-i+1)/((2*q-i+1)*i),AposToI)),D=add(D,multiply(factor*alternate,AposToI));for(var R=multiply(inv(D),N),_i=0;_i<j;_i++)R=multiply(R,R);return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.sA)(A)?A.createSparseMatrix(R):R}});function errorEstimate(infNorm,q,j){for(var qfac=1,i=2;i<=q;i++)qfac*=i;for(var twoqfac=qfac,_i2=q+1;_i2<=2*q;_i2++)twoqfac*=_i2;var twoqp1fac=twoqfac*(2*q+1);return 8*Math.pow(infNorm/Math.pow(2,j),2*q)*qfac*qfac/(twoqfac*twoqp1fac)}}))},"./node_modules/mathjs/lib/esm/function/matrix/filter.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createFilter}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_function_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/function.js"),dependencies=["typed"],createFilter=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("filter",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("filter",{"Array, function":_filterCallback,"Matrix, function":function MatrixFunction(x,test){return x.create(_filterCallback(x.toArray(),test))},"Array, RegExp":_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.U_,"Matrix, RegExp":function MatrixRegExp(x,test){return x.create((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.U_)(x.toArray(),test))}})}));function _filterCallback(x,callback){var args=(0,_utils_function_js__WEBPACK_IMPORTED_MODULE_2__.oV)(callback);return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.hX)(x,(function(value,index,array){return 1===args?callback(value):2===args?callback(value,[index]):callback(value,[index],array)}))}},"./node_modules/mathjs/lib/esm/function/matrix/flatten.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createFlatten}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix"],createFlatten=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("flatten",dependencies,(_ref=>{var{typed:typed,matrix:matrix}=_ref;return typed("flatten",{Array:function Array(x){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(x))},Matrix:function Matrix(x){var flat=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(x.toArray()));return matrix(flat)}})}))},"./node_modules/mathjs/lib/esm/function/matrix/forEach.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{I:function(){return createForEach}});var _utils_function_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/function.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createForEach=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("forEach",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("forEach",{"Array, function":_forEach,"Matrix, function":function MatrixFunction(x,callback){return x.forEach(callback)}})}));function _forEach(array,callback){var args=(0,_utils_function_js__WEBPACK_IMPORTED_MODULE_1__.oV)(callback);!function recurse(value,index){Array.isArray(value)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.Ed)(value,(function(child,i){recurse(child,index.concat(i))})):1===args?callback(value):2===args?callback(value,index):callback(value,index,array)}(array,[])}},"./node_modules/mathjs/lib/esm/function/matrix/getMatrixDataType.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return createGetMatrixDataType}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),name="getMatrixDataType",dependencies=["typed"],createGetMatrixDataType=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed}=_ref;return typed(name,{Array:function Array(x){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.$q)(x,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)},Matrix:function Matrix(x){return x.getDataType()}})}))},"./node_modules/mathjs/lib/esm/function/matrix/identity.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return createIdentity}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],createIdentity=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("identity",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,BigNumber:BigNumber,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix}=_ref;return typed("identity",{"":function _(){return"Matrix"===config.matrix?matrix([]):[]},string:function string(format){return matrix(format)},"number | BigNumber":function numberBigNumber(rows){return _identity(rows,rows,"Matrix"===config.matrix?"dense":void 0)},"number | BigNumber, string":function numberBigNumberString(rows,format){return _identity(rows,rows,format)},"number | BigNumber, number | BigNumber":function numberBigNumberNumberBigNumber(rows,cols){return _identity(rows,cols,"Matrix"===config.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function numberBigNumberNumberBigNumberString(rows,cols,format){return _identity(rows,cols,format)},Array:function Array(size){return _identityVector(size)},"Array, string":function ArrayString(size,format){return _identityVector(size,format)},Matrix:function Matrix(size){return _identityVector(size.valueOf(),size.storage())},"Matrix, string":function MatrixString(size,format){return _identityVector(size.valueOf(),format)}});function _identityVector(size,format){switch(size.length){case 0:return format?matrix(format):[];case 1:return _identity(size[0],size[0],format);case 2:return _identity(size[0],size[1],format);default:throw new Error("Vector containing two values expected")}}function _identity(rows,cols,format){var Big=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(rows)||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(cols)?BigNumber:null;if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(rows)&&(rows=rows.toNumber()),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(cols)&&(cols=cols.toNumber()),!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(rows)||rows<1)throw new Error("Parameters in function identity must be positive integers");if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(cols)||cols<1)throw new Error("Parameters in function identity must be positive integers");var one=Big?new BigNumber(1):1,defaultValue=Big?new Big(0):0,size=[rows,cols];if(format){if("sparse"===format)return SparseMatrix.diagonal(size,one,0,defaultValue);if("dense"===format)return DenseMatrix.diagonal(size,one,0,defaultValue);throw new TypeError('Unknown matrix type "'.concat(format,'"'))}for(var res=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.SI)([],size,defaultValue),minimum=rows<cols?rows:cols,d=0;d<minimum;d++)res[d][d]=one;return res}}))},"./node_modules/mathjs/lib/esm/function/matrix/inv.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return createInv}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),dependencies=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],createInv=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("inv",dependencies,(_ref=>{var{typed:typed,matrix:matrix,divideScalar:divideScalar,addScalar:addScalar,multiply:multiply,unaryMinus:unaryMinus,det:det,identity:identity,abs:abs}=_ref;return typed("inv",{"Array | Matrix":function ArrayMatrix(x){var size=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(x)?x.size():(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.aJ)(x);switch(size.length){case 1:if(1===size[0])return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(x)?matrix([divideScalar(1,x.valueOf()[0])]):[divideScalar(1,x[0])];throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")");case 2:var rows=size[0],cols=size[1];if(rows===cols)return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(x)?matrix(_inv(x.valueOf(),rows,cols),x.storage()):_inv(x,rows,cols);throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")")}},any:function any(x){return divideScalar(1,x)}});function _inv(mat,rows,cols){var r,s,f,value,temp;if(1===rows){if(0===(value=mat[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[divideScalar(1,value)]]}if(2===rows){var d=det(mat);if(0===d)throw Error("Cannot calculate inverse, determinant is zero");return[[divideScalar(mat[1][1],d),divideScalar(unaryMinus(mat[0][1]),d)],[divideScalar(unaryMinus(mat[1][0]),d),divideScalar(mat[0][0],d)]]}var A=mat.concat();for(r=0;r<rows;r++)A[r]=A[r].concat();for(var B=identity(rows).valueOf(),c=0;c<cols;c++){var ABig=abs(A[c][c]),rBig=c;for(r=c+1;r<rows;)abs(A[r][c])>ABig&&(ABig=abs(A[r][c]),rBig=r),r++;if(0===ABig)throw Error("Cannot calculate inverse, determinant is zero");(r=rBig)!==c&&(temp=A[c],A[c]=A[r],A[r]=temp,temp=B[c],B[c]=B[r],B[r]=temp);var Ac=A[c],Bc=B[c];for(r=0;r<rows;r++){var Ar=A[r],Br=B[r];if(r!==c){if(0!==Ar[c]){for(f=divideScalar(unaryMinus(Ar[c]),Ac[c]),s=c;s<cols;s++)Ar[s]=addScalar(Ar[s],multiply(f,Ac[s]));for(s=0;s<cols;s++)Br[s]=addScalar(Br[s],multiply(f,Bc[s]))}}else{for(f=Ac[c],s=c;s<cols;s++)Ar[s]=divideScalar(Ar[s],f);for(s=0;s<cols;s++)Br[s]=divideScalar(Br[s],f)}}}return B}}))},"./node_modules/mathjs/lib/esm/function/matrix/kron.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return createKron}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","multiplyScalar"],createKron=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("kron",dependencies,(_ref=>{var{typed:typed,matrix:matrix,multiplyScalar:multiplyScalar}=_ref;return typed("kron",{"Matrix, Matrix":function MatrixMatrix(x,y){return matrix(_kron(x.toArray(),y.toArray()))},"Matrix, Array":function MatrixArray(x,y){return matrix(_kron(x.toArray(),y))},"Array, Matrix":function ArrayMatrix(x,y){return matrix(_kron(x,y.toArray()))},"Array, Array":_kron});function _kron(a,b){if(1===(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(a).length&&(a=[a]),1===(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(b).length&&(b=[b]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(a).length>2||(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(b).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(b.length)+")");var t=[],r=[];return a.map((function(a){return b.map((function(b){return r=[],t.push(r),a.map((function(y){return b.map((function(x){return r.push(multiplyScalar(y,x))}))}))}))}))&&t}}))},"./node_modules/mathjs/lib/esm/function/matrix/map.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return createMap}});var _utils_function_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/function.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createMap=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("map",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("map",{"Array, function":_map,"Matrix, function":function MatrixFunction(x,callback){return x.map(callback)}})}));function _map(array,callback){var args=(0,_utils_function_js__WEBPACK_IMPORTED_MODULE_1__.oV)(callback);return function recurse(value,index){return Array.isArray(value)?value.map((function(child,i){return recurse(child,index.concat(i))})):1===args?callback(value):2===args?callback(value,index):callback(value,index,array)}(array,[])}},"./node_modules/mathjs/lib/esm/function/matrix/matrixFromColumns.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{u:function(){return createMatrixFromColumns}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),name="matrixFromColumns",dependencies=["typed","matrix","flatten","size"],createMatrixFromColumns=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,flatten:flatten,size:size}=_ref;return typed(name,{"...Array":function Array(arr){return _createArray(arr)},"...Matrix":function Matrix(arr){return matrix(_createArray(arr.map((m=>m.toArray()))))}});function _createArray(arr){if(0===arr.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var N=checkVectorTypeAndReturnLength(arr[0]),result=[],i=0;i<N;i++)result[i]=[];for(var col of arr){var colLength=checkVectorTypeAndReturnLength(col);if(colLength!==N)throw new TypeError("The vectors had different length: "+(0|N)+"  "+(0|colLength));for(var f=flatten(col),_i=0;_i<N;_i++)result[_i].push(f[_i])}return result}function checkVectorTypeAndReturnLength(vec){var s=size(vec);if(1===s.length)return s[0];if(2===s.length){if(1===s[0])return s[1];if(1===s[1])return s[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}))},"./node_modules/mathjs/lib/esm/function/matrix/matrixFromFunction.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{p:function(){return createMatrixFromFunction}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),name="matrixFromFunction",dependencies=["typed","matrix","isZero"],createMatrixFromFunction=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,isZero:isZero}=_ref;return typed(name,{"Array | Matrix, function, string, string":function ArrayMatrixFunctionStringString(size,fn,format,datatype){return _create(size,fn,format,datatype)},"Array | Matrix, function, string":function ArrayMatrixFunctionString(size,fn,format){return _create(size,fn,format)},"Matrix, function":function MatrixFunction(size,fn){return _create(size,fn,"dense")},"Array, function":function ArrayFunction(size,fn){return _create(size,fn,"dense").toArray()},"Array | Matrix, string, function":function ArrayMatrixStringFunction(size,format,fn){return _create(size,fn,format)},"Array | Matrix, string, string, function":function ArrayMatrixStringStringFunction(size,format,datatype,fn){return _create(size,fn,format,datatype)}});function _create(size,fn,format,datatype){var m;return(m=void 0!==datatype?matrix(format,datatype):matrix(format)).resize(size),m.forEach((function(_,index){var val=fn(index);isZero(val)||m.set(index,val)})),m}}))},"./node_modules/mathjs/lib/esm/function/matrix/matrixFromRows.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return createMatrixFromRows}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),name="matrixFromRows",dependencies=["typed","matrix","flatten","size"],createMatrixFromRows=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix,flatten:flatten,size:size}=_ref;return typed(name,{"...Array":function Array(arr){return _createArray(arr)},"...Matrix":function Matrix(arr){return matrix(_createArray(arr.map((m=>m.toArray()))))}});function _createArray(arr){if(0===arr.length)throw new TypeError("At least one row is needed to construct a matrix.");var N=checkVectorTypeAndReturnLength(arr[0]),result=[];for(var row of arr){var rowLength=checkVectorTypeAndReturnLength(row);if(rowLength!==N)throw new TypeError("The vectors had different length: "+(0|N)+"  "+(0|rowLength));result.push(flatten(row))}return result}function checkVectorTypeAndReturnLength(vec){var s=size(vec);if(1===s.length)return s[0];if(2===s.length){if(1===s[0])return s[1];if(1===s[1])return s[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}))},"./node_modules/mathjs/lib/esm/function/matrix/ones.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createOnes}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["typed","config","matrix","BigNumber"],createOnes=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("ones",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,BigNumber:BigNumber}=_ref;return typed("ones",{"":function _(){return"Array"===config.matrix?_ones([]):_ones([],"default")},"...number | BigNumber | string":function numberBigNumberString(size){if("string"==typeof size[size.length-1]){var format=size.pop();return _ones(size,format)}return"Array"===config.matrix?_ones(size):_ones(size,"default")},Array:_ones,Matrix:function Matrix(size){var format=size.storage();return _ones(size.valueOf(),format)},"Array | Matrix, string":function ArrayMatrixString(size,format){return _ones(size.valueOf(),format)}});function _ones(size,format){var hasBigNumbers=function _normalize(size){var hasBigNumbers=!1;return size.forEach((function(value,index,arr){(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9)(value)&&(hasBigNumbers=!0,arr[index]=value.toNumber())})),hasBigNumbers}(size),defaultValue=hasBigNumbers?new BigNumber(1):1;if(function _validate(size){size.forEach((function(value){if("number"!=typeof value||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_3__.U)(value)||value<0)throw new Error("Parameters in function ones must be positive integers")}))}(size),format){var m=matrix(format);return size.length>0?m.resize(size,defaultValue):m}var arr=[];return size.length>0?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.SI)(arr,size,defaultValue):arr}}))},"./node_modules/mathjs/lib/esm/function/matrix/partitionSelect.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createPartitionSelect}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),name="partitionSelect",dependencies=["typed","isNumeric","isNaN","compare"],createPartitionSelect=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,isNumeric:isNumeric,isNaN:isNaN,compare:compare}=_ref,asc=compare,desc=(a,b)=>-compare(a,b);return typed(name,{"Array | Matrix, number":function ArrayMatrixNumber(x,k){return _partitionSelect(x,k,asc)},"Array | Matrix, number, string":function ArrayMatrixNumberString(x,k,compare){if("asc"===compare)return _partitionSelect(x,k,asc);if("desc"===compare)return _partitionSelect(x,k,desc);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":_partitionSelect});function _partitionSelect(x,k,compare){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(k)||k<0)throw new Error("k must be a non-negative integer");if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW)(x)){if(x.size().length>1)throw new Error("Only one dimensional matrices supported");return quickSelect(x.valueOf(),k,compare)}if(Array.isArray(x))return quickSelect(x,k,compare)}function quickSelect(arr,k,compare){if(k>=arr.length)throw new Error("k out of bounds");for(var i=0;i<arr.length;i++)if(isNumeric(arr[i])&&isNaN(arr[i]))return arr[i];for(var from=0,to=arr.length-1;from<to;){for(var r=from,w=to,pivot=arr[Math.floor(Math.random()*(to-from+1))+from];r<w;)if(compare(arr[r],pivot)>=0){var tmp=arr[w];arr[w]=arr[r],arr[r]=tmp,--w}else++r;compare(arr[r],pivot)>0&&--r,k<=r?to=r:from=r+1}return arr[k]}}))},"./node_modules/mathjs/lib/esm/function/matrix/range.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createRange}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_noop_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/noop.js"),dependencies=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],createRange=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("range",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,bignumber:bignumber,smaller:smaller,smallerEq:smallerEq,larger:larger,largerEq:largerEq}=_ref;return typed("range",{string:_strRange,"string, boolean":_strRange,"number, number":function numberNumber(start,end){return _out(_rangeEx(start,end,1))},"number, number, number":function numberNumberNumber(start,end,step){return _out(_rangeEx(start,end,step))},"number, number, boolean":function numberNumberBoolean(start,end,includeEnd){return _out(includeEnd?_rangeInc(start,end,1):_rangeEx(start,end,1))},"number, number, number, boolean":function numberNumberNumberBoolean(start,end,step,includeEnd){return _out(includeEnd?_rangeInc(start,end,step):_rangeEx(start,end,step))},"BigNumber, BigNumber":function BigNumberBigNumber(start,end){return _out(_bigRangeEx(start,end,new(0,start.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function BigNumberBigNumberBigNumber(start,end,step){return _out(_bigRangeEx(start,end,step))},"BigNumber, BigNumber, boolean":function BigNumberBigNumberBoolean(start,end,includeEnd){var BigNumber=start.constructor;return _out(includeEnd?_bigRangeInc(start,end,new BigNumber(1)):_bigRangeEx(start,end,new BigNumber(1)))},"BigNumber, BigNumber, BigNumber, boolean":function BigNumberBigNumberBigNumberBoolean(start,end,step,includeEnd){return _out(includeEnd?_bigRangeInc(start,end,step):_bigRangeEx(start,end,step))}});function _out(arr){return"Matrix"===config.matrix?matrix?matrix(arr):(0,_utils_noop_js__WEBPACK_IMPORTED_MODULE_1__.kX)():arr}function _strRange(str,includeEnd){var r=function _parse(str){var args=str.split(":"),nums=args.map((function(arg){return Number(arg)}));if(nums.some((function(num){return isNaN(num)})))return null;switch(nums.length){case 2:return{start:nums[0],end:nums[1],step:1};case 3:return{start:nums[0],end:nums[2],step:nums[1]};default:return null}}(str);if(!r)throw new SyntaxError('String "'+str+'" is no valid range');return"BigNumber"===config.number?(void 0===bignumber&&(0,_utils_noop_js__WEBPACK_IMPORTED_MODULE_1__.R3)(),_out((includeEnd?_bigRangeInc:_bigRangeEx)(bignumber(r.start),bignumber(r.end),bignumber(r.step)))):_out((includeEnd?_rangeInc:_rangeEx)(r.start,r.end,r.step))}function _rangeEx(start,end,step){var array=[],x=start;if(step>0)for(;smaller(x,end);)array.push(x),x+=step;else if(step<0)for(;larger(x,end);)array.push(x),x+=step;return array}function _rangeInc(start,end,step){var array=[],x=start;if(step>0)for(;smallerEq(x,end);)array.push(x),x+=step;else if(step<0)for(;largerEq(x,end);)array.push(x),x+=step;return array}function _bigRangeEx(start,end,step){var zero=bignumber(0),array=[],x=start;if(step.gt(zero))for(;smaller(x,end);)array.push(x),x=x.plus(step);else if(step.lt(zero))for(;larger(x,end);)array.push(x),x=x.plus(step);return array}function _bigRangeInc(start,end,step){var zero=bignumber(0),array=[],x=start;if(step.gt(zero))for(;smallerEq(x,end);)array.push(x),x=x.plus(step);else if(step.lt(zero))for(;largerEq(x,end);)array.push(x),x=x.plus(step);return array}}))},"./node_modules/mathjs/lib/esm/function/matrix/reshape.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return createReshape}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","isInteger","matrix"],createReshape=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("reshape",dependencies,(_ref=>{var{typed:typed,isInteger:isInteger}=_ref;return typed("reshape",{"Matrix, Array":function MatrixArray(x,sizes){return x.reshape(sizes)},"Array, Array":function ArrayArray(x,sizes){return sizes.forEach((function(size){if(!isInteger(size))throw new TypeError("Invalid size for dimension: "+size)})),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.XL)(x,sizes)}})}))},"./node_modules/mathjs/lib/esm/function/matrix/resize.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y:function(){return createResize}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),_error_ArgumentsError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/error/ArgumentsError.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["config","matrix"],createResize=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("resize",dependencies,(_ref=>{var{config:config,matrix:matrix}=_ref;return function resize(x,size,defaultValue){if(2!==arguments.length&&3!==arguments.length)throw new _error_ArgumentsError_js__WEBPACK_IMPORTED_MODULE_1__.u("resize",arguments.length,2,3);if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW)(size)&&(size=size.valueOf()),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9)(size[0])&&(size=size.map((function(value){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9)(value)?value.toNumber():value}))),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW)(x))return x.resize(size,defaultValue,!0);if("string"==typeof x)return function _resizeString(str,size,defaultChar){if(void 0!==defaultChar){if("string"!=typeof defaultChar||1!==defaultChar.length)throw new TypeError("Single character expected as defaultValue")}else defaultChar=" ";if(1!==size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_5__.m(size.length,1);var len=size[0];if("number"!=typeof len||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_6__.U)(len))throw new TypeError("Invalid size, must contain positive integers (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_7__.WU)(size)+")");if(str.length>len)return str.substring(0,len);if(str.length<len){for(var res=str,i=0,ii=len-str.length;i<ii;i++)res+=defaultChar;return res}return str}(x,size,defaultValue);var asMatrix=!Array.isArray(x)&&"Array"!==config.matrix;if(0===size.length){for(;Array.isArray(x);)x=x[0];return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.d9)(x)}Array.isArray(x)||(x=[x]),x=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.d9)(x);var res=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_4__.SI)(x,size,defaultValue);return asMatrix?matrix(res):res}}))},"./node_modules/mathjs/lib/esm/function/matrix/rotate.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{g:function(){return createRotate}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["typed","multiply","rotationMatrix"],createRotate=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("rotate",dependencies,(_ref=>{var{typed:typed,multiply:multiply,rotationMatrix:rotationMatrix}=_ref;return typed("rotate",{"Array , number | BigNumber | Complex | Unit":function ArrayNumberBigNumberComplexUnit(w,theta){return _validateSize(w,2),multiply(rotationMatrix(theta),w).toArray()},"Matrix , number | BigNumber | Complex | Unit":function MatrixNumberBigNumberComplexUnit(w,theta){return _validateSize(w,2),multiply(rotationMatrix(theta),w)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function ArrayNumberBigNumberComplexUnitArrayMatrix(w,theta,v){return _validateSize(w,3),multiply(rotationMatrix(theta,v),w)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function MatrixNumberBigNumberComplexUnitArrayMatrix(w,theta,v){return _validateSize(w,3),multiply(rotationMatrix(theta,v),w)}});function _validateSize(v,expectedSize){var actualSize=Array.isArray(v)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(v):v.size();if(actualSize.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(expectedSize));if(2===actualSize.length&&1!==actualSize[1])throw new RangeError("Vector must be of dimensions 1x".concat(expectedSize));if(actualSize[0]!==expectedSize)throw new RangeError("Vector must be of dimensions 1x".concat(expectedSize))}}))},"./node_modules/mathjs/lib/esm/function/matrix/rotationMatrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{F:function(){return createRotationMatrix}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),name="rotationMatrix",dependencies=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],createRotationMatrix=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,multiplyScalar:multiplyScalar,addScalar:addScalar,unaryMinus:unaryMinus,norm:norm,BigNumber:BigNumber,matrix:matrix,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix,cos:cos,sin:sin}=_ref;return typed(name,{"":function _(){return"Matrix"===config.matrix?matrix([]):[]},string:function string(format){return matrix(format)},"number | BigNumber | Complex | Unit":function numberBigNumberComplexUnit(theta){return _rotationMatrix2x2(theta,"Matrix"===config.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function numberBigNumberComplexUnitString(theta,format){return _rotationMatrix2x2(theta,format)},"number | BigNumber | Complex | Unit, Array":function numberBigNumberComplexUnitArray(theta,v){var matrixV=matrix(v);return _validateVector(matrixV),_rotationMatrix3x3(theta,matrixV,void 0)},"number | BigNumber | Complex | Unit, Matrix":function numberBigNumberComplexUnitMatrix(theta,v){_validateVector(v);var storageType=v.storage()||("Matrix"===config.matrix?"dense":void 0);return _rotationMatrix3x3(theta,v,storageType)},"number | BigNumber | Complex | Unit, Array, string":function numberBigNumberComplexUnitArrayString(theta,v,format){var matrixV=matrix(v);return _validateVector(matrixV),_rotationMatrix3x3(theta,matrixV,format)},"number | BigNumber | Complex | Unit, Matrix, string":function numberBigNumberComplexUnitMatrixString(theta,v,format){return _validateVector(v),_rotationMatrix3x3(theta,v,format)}});function _rotationMatrix2x2(theta,format){var minusOne=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(theta)?new BigNumber(-1):-1,cosTheta=cos(theta),sinTheta=sin(theta);return _convertToFormat([[cosTheta,multiplyScalar(minusOne,sinTheta)],[sinTheta,cosTheta]],format)}function _validateVector(v){var size=v.size();if(size.length<1||3!==size[0])throw new RangeError("Vector must be of dimensions 1x3")}function _mul(array){return array.reduce(((p,curr)=>multiplyScalar(p,curr)))}function _convertToFormat(data,format){if(format){if("sparse"===format)return new SparseMatrix(data);if("dense"===format)return new DenseMatrix(data);throw new TypeError('Unknown matrix type "'.concat(format,'"'))}return data}function _rotationMatrix3x3(theta,v,format){var normV=norm(v);if(0===normV)throw new RangeError("Rotation around zero vector");var Big=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(theta)?BigNumber:null,one=Big?new Big(1):1,minusOne=Big?new Big(-1):-1,vx=Big?new Big(v.get([0])/normV):v.get([0])/normV,vy=Big?new Big(v.get([1])/normV):v.get([1])/normV,vz=Big?new Big(v.get([2])/normV):v.get([2])/normV,c=cos(theta),oneMinusC=addScalar(one,unaryMinus(c)),s=sin(theta);return _convertToFormat([[addScalar(c,_mul([vx,vx,oneMinusC])),addScalar(_mul([vx,vy,oneMinusC]),_mul([minusOne,vz,s])),addScalar(_mul([vx,vz,oneMinusC]),_mul([vy,s]))],[addScalar(_mul([vx,vy,oneMinusC]),_mul([vz,s])),addScalar(c,_mul([vy,vy,oneMinusC])),addScalar(_mul([vy,vz,oneMinusC]),_mul([minusOne,vx,s]))],[addScalar(_mul([vx,vz,oneMinusC]),_mul([minusOne,vy,s])),addScalar(_mul([vy,vz,oneMinusC]),_mul([vx,s])),addScalar(c,_mul([vz,vz,oneMinusC]))]],format)}}))},"./node_modules/mathjs/lib/esm/function/matrix/row.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createRow}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["typed","Index","matrix","range"],createRow=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("row",dependencies,(_ref=>{var{typed:typed,Index:Index,matrix:matrix,range:range}=_ref;return typed("row",{"Matrix, number":_row,"Array, number":function ArrayNumber(value,row){return _row(matrix((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(value)),row).valueOf()}});function _row(value,row){if(2!==value.size().length)throw new Error("Only two dimensional matrix is supported");(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.Ls)(row,value.size()[0]);var columnRange=range(0,value.size()[1]),index=new Index(row,columnRange);return value.subset(index)}}))},"./node_modules/mathjs/lib/esm/function/matrix/size.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return createSize}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_noop_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/noop.js"),dependencies=["typed","config","?matrix"],createSize=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("size",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix}=_ref;return typed("size",{Matrix:function Matrix(x){return x.create(x.size())},Array:_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ,string:function string(x){return"Array"===config.matrix?[x.length]:matrix([x.length])},"number | Complex | BigNumber | Unit | boolean | null":function numberComplexBigNumberUnitBooleanNull(x){return"Array"===config.matrix?[]:matrix?matrix([]):(0,_utils_noop_js__WEBPACK_IMPORTED_MODULE_2__.kX)()}})}))},"./node_modules/mathjs/lib/esm/function/matrix/sort.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return createSort}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","compare","compareNatural"],createSort=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sort",dependencies,(_ref=>{var{typed:typed,matrix:matrix,compare:compare,compareNatural:compareNatural}=_ref,compareAsc=compare,compareDesc=(a,b)=>-compare(a,b);return typed("sort",{Array:function Array(x){return _arrayIsVector(x),x.sort(compareAsc)},Matrix:function Matrix(x){return _matrixIsVector(x),matrix(x.toArray().sort(compareAsc),x.storage())},"Array, function":function ArrayFunction(x,_comparator){return _arrayIsVector(x),x.sort(_comparator)},"Matrix, function":function MatrixFunction(x,_comparator){return _matrixIsVector(x),matrix(x.toArray().sort(_comparator),x.storage())},"Array, string":function ArrayString(x,order){return _arrayIsVector(x),x.sort(_comparator(order))},"Matrix, string":function MatrixString(x,order){return _matrixIsVector(x),matrix(x.toArray().sort(_comparator(order)),x.storage())}});function _comparator(order){if("asc"===order)return compareAsc;if("desc"===order)return compareDesc;if("natural"===order)return compareNatural;throw new Error('String "asc", "desc", or "natural" expected')}function _arrayIsVector(array){if(1!==(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(array).length)throw new Error("One dimensional array expected")}function _matrixIsVector(matrix){if(1!==matrix.size().length)throw new Error("One dimensional matrix expected")}}))},"./node_modules/mathjs/lib/esm/function/matrix/sqrtm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m:function(){return createSqrtm}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],createSqrtm=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sqrtm",dependencies,(_ref=>{var{typed:typed,abs:abs,add:add,multiply:multiply,sqrt:sqrt,subtract:subtract,inv:inv,size:size,max:max,identity:identity}=_ref;function _denmanBeavers(A){var error,iterations=0,Y=A,Z=identity(size(A));do{var Yk=Y;if(Y=multiply(.5,add(Yk,inv(Z))),Z=multiply(.5,add(Z,inv(Yk))),(error=max(abs(subtract(Y,Yk))))>1e-6&&++iterations>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(error>1e-6);return Y}return typed("sqrtm",{"Array | Matrix":function ArrayMatrix(A){var size=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(A)?A.size():(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.aJ)(A);switch(size.length){case 1:if(1===size[0])return sqrt(A);throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")");case 2:if(size[0]===size[1])return _denmanBeavers(A);throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.WU)(size)+")")}}})}))},"./node_modules/mathjs/lib/esm/function/matrix/squeeze.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{a:function(){return createSqueeze}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix"],createSqueeze=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("squeeze",dependencies,(_ref=>{var{typed:typed,matrix:matrix}=_ref;return typed("squeeze",{Array:function Array(x){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.L9)((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(x))},Matrix:function Matrix(x){var res=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.L9)(x.toArray());return Array.isArray(res)?matrix(res):res},any:function any(x){return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(x)}})}))},"./node_modules/mathjs/lib/esm/function/matrix/subset.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return createSubset}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_customs_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/customs.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix"],createSubset=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("subset",dependencies,(_ref=>{var{typed:typed,matrix:matrix}=_ref;return typed("subset",{"Array, Index":function ArrayIndex(value,index){var subset=matrix(value).subset(index);return index.isScalar()?subset:subset.valueOf()},"Matrix, Index":function MatrixIndex(value,index){return value.subset(index)},"Object, Index":_getObjectProperty,"string, Index":_getSubstring,"Array, Index, any":function ArrayIndexAny(value,index,replacement){return matrix((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(value)).subset(index,replacement,void 0).valueOf()},"Array, Index, any, any":function ArrayIndexAnyAny(value,index,replacement,defaultValue){return matrix((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(value)).subset(index,replacement,defaultValue).valueOf()},"Matrix, Index, any":function MatrixIndexAny(value,index,replacement){return value.clone().subset(index,replacement)},"Matrix, Index, any, any":function MatrixIndexAnyAny(value,index,replacement,defaultValue){return value.clone().subset(index,replacement,defaultValue)},"string, Index, string":_setSubstring,"string, Index, string, string":_setSubstring,"Object, Index, any":_setObjectProperty})}));function _getSubstring(str,index){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.dh)(index))throw new TypeError("Index expected");if(1!==index.size().length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_3__.m(index.size().length,1);var strLen=str.length;(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_4__.Ls)(index.min()[0],strLen),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_4__.Ls)(index.max()[0],strLen);var range=index.dimension(0),substr="";return range.forEach((function(v){substr+=str.charAt(v)})),substr}function _setSubstring(str,index,replacement,defaultValue){if(!index||!0!==index.isIndex)throw new TypeError("Index expected");if(1!==index.size().length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_3__.m(index.size().length,1);if(void 0!==defaultValue){if("string"!=typeof defaultValue||1!==defaultValue.length)throw new TypeError("Single character expected as defaultValue")}else defaultValue=" ";var range=index.dimension(0);if(range.size()[0]!==replacement.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_3__.m(range.size()[0],replacement.length);var strLen=str.length;(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_4__.Ls)(index.min()[0]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_4__.Ls)(index.max()[0]);for(var chars=[],i=0;i<strLen;i++)chars[i]=str.charAt(i);if(range.forEach((function(v,i){chars[v]=replacement.charAt(i[0])})),chars.length>strLen)for(var _i=strLen-1,_len=chars.length;_i<_len;_i++)chars[_i]||(chars[_i]=defaultValue);return chars.join("")}function _getObjectProperty(object,index){if(1!==index.size().length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_3__.m(index.size(),1);var key=index.dimension(0);if("string"!=typeof key)throw new TypeError("String expected as index to retrieve an object property");return(0,_utils_customs_js__WEBPACK_IMPORTED_MODULE_5__.YF)(object,key)}function _setObjectProperty(object,index,replacement){if(1!==index.size().length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_3__.m(index.size(),1);var key=index.dimension(0);if("string"!=typeof key)throw new TypeError("String expected as index to retrieve an object property");var updated=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(object);return(0,_utils_customs_js__WEBPACK_IMPORTED_MODULE_5__.nI)(updated,key,replacement),updated}},"./node_modules/mathjs/lib/esm/function/matrix/trace.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J:function(){return createTrace}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),dependencies=["typed","matrix","add"],createTrace=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("trace",dependencies,(_ref=>{var{typed:typed,matrix:matrix,add:add}=_ref;return typed("trace",{Array:function _arrayTrace(x){return _denseTrace(matrix(x))},SparseMatrix:function _sparseTrace(m){var values=m._values,index=m._index,ptr=m._ptr,size=m._size,rows=size[0],columns=size[1];if(rows===columns){var sum=0;if(values.length>0)for(var j=0;j<columns;j++)for(var k0=ptr[j],k1=ptr[j+1],k=k0;k<k1;k++){var i=index[k];if(i===j){sum=add(sum,values[k]);break}if(i>j)break}return sum}throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_2__.WU)(size)+")")},DenseMatrix:_denseTrace,any:_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9});function _denseTrace(m){var size=m._size,data=m._data;switch(size.length){case 1:if(1===size[0])return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(data[0]);throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_2__.WU)(size)+")");case 2:var rows=size[0];if(rows===size[1]){for(var sum=0,i=0;i<rows;i++)sum=add(sum,data[i][i]);return sum}throw new RangeError("Matrix must be square (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_2__.WU)(size)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_2__.WU)(size)+")")}}}))},"./node_modules/mathjs/lib/esm/function/matrix/transpose.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createTranspose}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),dependencies=["typed","matrix"],createTranspose=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("transpose",dependencies,(_ref=>{var{typed:typed,matrix:matrix}=_ref;return typed("transpose",{Array:function Array(x){return this(matrix(x)).valueOf()},Matrix:function Matrix(x){var c,size=x.size();switch(size.length){case 1:c=x.clone();break;case 2:var rows=size[0],columns=size[1];if(0===columns)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_1__.WU)(size)+")");switch(x.storage()){case"dense":c=function _denseTranspose(m,rows,columns){for(var transposedRow,data=m._data,transposed=[],j=0;j<columns;j++){transposedRow=transposed[j]=[];for(var i=0;i<rows;i++)transposedRow[i]=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(data[i][j])}return m.createDenseMatrix({data:transposed,size:[columns,rows],datatype:m._datatype})}(x,rows,columns);break;case"sparse":c=function _sparseTranspose(m,rows,columns){for(var p,l,j,values=m._values,index=m._index,ptr=m._ptr,cvalues=values?[]:void 0,cindex=[],cptr=[],w=[],x=0;x<rows;x++)w[x]=0;for(p=0,l=index.length;p<l;p++)w[index[p]]++;for(var sum=0,i=0;i<rows;i++)cptr.push(sum),sum+=w[i],w[i]=cptr[i];for(cptr.push(sum),j=0;j<columns;j++)for(var k0=ptr[j],k1=ptr[j+1],k=k0;k<k1;k++){var q=w[index[k]]++;cindex[q]=j,values&&(cvalues[q]=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(values[k]))}return m.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[columns,rows],datatype:m._datatype})}(x,rows,columns)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_1__.WU)(this._size)+")")}return c},any:function any(x){return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(x)}})}))},"./node_modules/mathjs/lib/esm/function/matrix/zeros.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{T:function(){return createZeros}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","config","matrix","BigNumber"],createZeros=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("zeros",dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,BigNumber:BigNumber}=_ref;return typed("zeros",{"":function _(){return"Array"===config.matrix?_zeros([]):_zeros([],"default")},"...number | BigNumber | string":function numberBigNumberString(size){if("string"==typeof size[size.length-1]){var format=size.pop();return _zeros(size,format)}return"Array"===config.matrix?_zeros(size):_zeros(size,"default")},Array:_zeros,Matrix:function Matrix(size){var format=size.storage();return _zeros(size.valueOf(),format)},"Array | Matrix, string":function ArrayMatrixString(size,format){return _zeros(size.valueOf(),format)}});function _zeros(size,format){var hasBigNumbers=function _normalize(size){var hasBigNumbers=!1;return size.forEach((function(value,index,arr){(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.l9)(value)&&(hasBigNumbers=!0,arr[index]=value.toNumber())})),hasBigNumbers}(size),defaultValue=hasBigNumbers?new BigNumber(0):0;if(function _validate(size){size.forEach((function(value){if("number"!=typeof value||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_3__.U)(value)||value<0)throw new Error("Parameters in function zeros must be positive integers")}))}(size),format){var m=matrix(format);return size.length>0?m.resize(size,defaultValue):m}var arr=[];return size.length>0?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.SI)(arr,size,defaultValue):arr}}))},"./node_modules/mathjs/lib/esm/function/probability/combinations.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:function(){return createCombinations}});var factory=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),number=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),product=__webpack_require__("./node_modules/mathjs/lib/esm/utils/product.js");function combinationsNumber(n,k){if(!(0,number.U)(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!(0,number.U)(k)||k<0)throw new TypeError("Positive integer value expected in function combinations");if(k>n)throw new TypeError("k must be less than or equal to n");var nMinusk=n-k;return k<nMinusk?(0,product.O)(nMinusk+1,n)/(0,product.O)(1,k):(0,product.O)(k+1,n)/(0,product.O)(1,nMinusk)}combinationsNumber.signature="number, number";var dependencies=["typed"],createCombinations=(0,factory.d5)("combinations",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("combinations",{"number, number":combinationsNumber,"BigNumber, BigNumber":function BigNumberBigNumber(n,k){var result,i,BigNumber=n.constructor,nMinusk=n.minus(k),one=new BigNumber(1);if(!isPositiveInteger(n)||!isPositiveInteger(k))throw new TypeError("Positive integer value expected in function combinations");if(k.gt(n))throw new TypeError("k must be less than n in function combinations");if(result=one,k.lt(nMinusk))for(i=one;i.lte(nMinusk);i=i.plus(one))result=result.times(k.plus(i)).dividedBy(i);else for(i=one;i.lte(k);i=i.plus(one))result=result.times(nMinusk.plus(i)).dividedBy(i);return result}})}));function isPositiveInteger(n){return n.isInteger()&&n.gte(0)}},"./node_modules/mathjs/lib/esm/function/probability/combinationsWithRep.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return createCombinationsWithRep}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_product_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/product.js"),name="combinationsWithRep",dependencies=["typed"],createCombinationsWithRep=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed}=_ref;return typed(name,{"number, number":function numberNumber(n,k){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(k)||k<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");return k<n-1?(0,_utils_product_js__WEBPACK_IMPORTED_MODULE_2__.O)(n,n+k-1)/(0,_utils_product_js__WEBPACK_IMPORTED_MODULE_2__.O)(1,k):(0,_utils_product_js__WEBPACK_IMPORTED_MODULE_2__.O)(k+1,n+k-1)/(0,_utils_product_js__WEBPACK_IMPORTED_MODULE_2__.O)(1,n-1)},"BigNumber, BigNumber":function BigNumberBigNumber(n,k){var result,i,one=new(0,n.constructor)(1),nMinusOne=n.minus(one);if(!isPositiveInteger(n)||!isPositiveInteger(k))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(one))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(result=one,k.lt(nMinusOne))for(i=one;i.lte(nMinusOne);i=i.plus(one))result=result.times(k.plus(i)).dividedBy(i);else for(i=one;i.lte(k);i=i.plus(one))result=result.times(nMinusOne.plus(i)).dividedBy(i);return result}})}));function isPositiveInteger(n){return n.isInteger()&&n.gte(0)}},"./node_modules/mathjs/lib/esm/function/probability/factorial.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return createFactorial}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","gamma"],createFactorial=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("factorial",dependencies,(_ref=>{var{typed:typed,gamma:gamma}=_ref;return typed("factorial",{number:function number(n){if(n<0)throw new Error("Value must be non-negative");return gamma(n+1)},BigNumber:function BigNumber(n){if(n.isNegative())throw new Error("Value must be non-negative");return gamma(n.plus(1))},"Array | Matrix":function ArrayMatrix(n){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(n,this)}})}))},"./node_modules/mathjs/lib/esm/function/probability/gamma.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J:function(){return createGamma}});var collection=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),factory=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),number=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),product=__webpack_require__("./node_modules/mathjs/lib/esm/utils/product.js");function gammaNumber(n){var x;if((0,number.U)(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:(0,product.O)(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*gammaNumber(1-n));if(n>=171.35)return 1/0;if(n>85){var twoN=n*n,threeN=twoN*n,fourN=threeN*n,fiveN=fourN*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*twoN)-139/(51840*threeN)-571/(2488320*fourN)+163879/(209018880*fiveN)+5246819/(75246796800*fiveN*n))}--n,x=gammaP[0];for(var i=1;i<gammaP.length;++i)x+=gammaP[i]/(n+i);var t=n+gammaG+.5;return Math.sqrt(2*Math.PI)*Math.pow(t,n+.5)*Math.exp(-t)*x}gammaNumber.signature="number";var gammaG=4.7421875,gammaP=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],dependencies=["typed","config","multiplyScalar","pow","BigNumber","Complex"],createGamma=(0,factory.d5)("gamma",dependencies,(_ref=>{var{typed:typed,config:config,multiplyScalar:multiplyScalar,pow:pow,BigNumber:_BigNumber,Complex:_Complex}=_ref;return typed("gamma",{number:gammaNumber,Complex:function Complex(n){if(0===n.im)return this(n.re);n=new _Complex(n.re-1,n.im);for(var x=new _Complex(gammaP[0],0),i=1;i<gammaP.length;++i){var real=n.re+i,den=real*real+n.im*n.im;0!==den?(x.re+=gammaP[i]*real/den,x.im+=-gammaP[i]*n.im/den):x.re=gammaP[i]<0?-1/0:1/0}var t=new _Complex(n.re+gammaG+.5,n.im),twoPiSqrt=Math.sqrt(2*Math.PI);n.re+=.5;var result=pow(t,n);0===result.im?result.re*=twoPiSqrt:(0===result.re||(result.re*=twoPiSqrt),result.im*=twoPiSqrt);var r=Math.exp(-t.re);return t.re=r*Math.cos(-t.im),t.im=r*Math.sin(-t.im),multiplyScalar(multiplyScalar(result,t),x)},BigNumber:function BigNumber(n){if(n.isInteger())return n.isNegative()||n.isZero()?new _BigNumber(1/0):bigFactorial(n.minus(1));if(!n.isFinite())return new _BigNumber(n.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function ArrayMatrix(n){return(0,collection.Fh)(n,this)}});function bigFactorial(n){if(n<8)return new _BigNumber([1,1,2,6,24,120,720,5040][n]);var precision=config.precision+(0|Math.log(n.toNumber())),Big=_BigNumber.clone({precision:precision});if(n%2==1)return n.times(bigFactorial(new _BigNumber(n-1)));for(var p=n,prod=new Big(n),sum=n.toNumber();p>2;)sum+=p-=2,prod=prod.times(sum);return new _BigNumber(prod.toPrecision(_BigNumber.precision))}}))},"./node_modules/mathjs/lib/esm/function/probability/kldivergence.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return createKldivergence}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],createKldivergence=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("kldivergence",dependencies,(_ref=>{var{typed:typed,matrix:matrix,divide:divide,sum:sum,multiply:multiply,dotDivide:dotDivide,log:log,isNumeric:isNumeric}=_ref;return typed("kldivergence",{"Array, Array":function ArrayArray(q,p){return _kldiv(matrix(q),matrix(p))},"Matrix, Array":function MatrixArray(q,p){return _kldiv(q,matrix(p))},"Array, Matrix":function ArrayMatrix(q,p){return _kldiv(matrix(q),p)},"Matrix, Matrix":function MatrixMatrix(q,p){return _kldiv(q,p)}});function _kldiv(q,p){var plength=p.size().length,qlength=q.size().length;if(plength>1)throw new Error("first object must be one dimensional");if(qlength>1)throw new Error("second object must be one dimensional");if(plength!==qlength)throw new Error("Length of two vectors must be equal");if(0===sum(q))throw new Error("Sum of elements in first object must be non zero");if(0===sum(p))throw new Error("Sum of elements in second object must be non zero");var qnorm=divide(q,sum(q)),pnorm=divide(p,sum(p)),result=sum(multiply(qnorm,log(dotDivide(qnorm,pnorm))));return isNumeric(result)?result:Number.NaN}}))},"./node_modules/mathjs/lib/esm/function/probability/multinomial.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return createMultinomial}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","add","divide","multiply","factorial","isInteger","isPositive"],createMultinomial=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("multinomial",dependencies,(_ref=>{var{typed:typed,add:add,divide:divide,multiply:multiply,factorial:factorial,isInteger:isInteger,isPositive:isPositive}=_ref;return typed("multinomial",{"Array | Matrix":function ArrayMatrix(a){var sum=0,denom=1;return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(a,(function(ai){if(!isInteger(ai)||!isPositive(ai))throw new TypeError("Positive integer value expected in function multinomial");sum=add(sum,ai),denom=multiply(denom,factorial(ai))})),divide(factorial(sum),denom)}})}))},"./node_modules/mathjs/lib/esm/function/probability/permutations.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return createPermutations}});var _utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_product_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/product.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","factorial"],createPermutations=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("permutations",dependencies,(_ref=>{var{typed:typed,factorial:factorial}=_ref;return typed("permutations",{"number | BigNumber":factorial,"number, number":function numberNumber(n,k){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(n)||n<0)throw new TypeError("Positive integer value expected in function permutations");if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U)(k)||k<0)throw new TypeError("Positive integer value expected in function permutations");if(k>n)throw new TypeError("second argument k must be less than or equal to first argument n");return(0,_utils_product_js__WEBPACK_IMPORTED_MODULE_2__.O)(n-k+1,n)},"BigNumber, BigNumber":function BigNumberBigNumber(n,k){var result,i;if(!isPositiveInteger(n)||!isPositiveInteger(k))throw new TypeError("Positive integer value expected in function permutations");if(k.gt(n))throw new TypeError("second argument k must be less than or equal to first argument n");for(result=n.mul(0).add(1),i=n.minus(k).plus(1);i.lte(n);i=i.plus(1))result=result.times(i);return result}})}));function isPositiveInteger(n){return n.isInteger()&&n.gte(0)}},"./node_modules/mathjs/lib/esm/function/probability/pickRandom.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return createPickRandom}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/util/seededRNG.js"),dependencies=["typed","config","?on"],createPickRandom=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("pickRandom",dependencies,(_ref=>{var{typed:typed,config:config,on:on}=_ref,rng=(0,_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__.l)(config.randomSeed);return on&&on("config",(function(curr,prev){curr.randomSeed!==prev.randomSeed&&(rng=(0,_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__.l)(curr.randomSeed))})),typed("pickRandom",{"Array | Matrix":function ArrayMatrix(possibles){return _pickRandom(possibles,{})},"Array | Matrix, Object":function ArrayMatrixObject(possibles,options){return _pickRandom(possibles,options)},"Array | Matrix, number":function ArrayMatrixNumber(possibles,number){return _pickRandom(possibles,{number:number})},"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(possibles,weights){return _pickRandom(possibles,{weights:weights})},"Array | Matrix, Array | Matrix, number":function ArrayMatrixArrayMatrixNumber(possibles,weights,number){return _pickRandom(possibles,{number:number,weights:weights})},"Array | Matrix, number, Array | Matrix":function ArrayMatrixNumberArrayMatrix(possibles,number,weights){return _pickRandom(possibles,{number:number,weights:weights})}});function _pickRandom(possibles,_ref2){var{number:number,weights:weights,elementWise:elementWise=!0}=_ref2,single=void 0===number;single&&(number=1);var createMatrix=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW)(possibles)?possibles.create:(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.SW)(weights)?weights.create:null;possibles=possibles.valueOf(),weights&&(weights=weights.valueOf()),!0===elementWise&&(possibles=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.xH)(possibles),weights=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.xH)(weights));var totalWeights=0;if(void 0!==weights){if(weights.length!==possibles.length)throw new Error("Weights must have the same length as possibles");for(var i=0,len=weights.length;i<len;i++){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.hj)(weights[i])||weights[i]<0)throw new Error("Weights must be an array of positive numbers");totalWeights+=weights[i]}}for(var pick,length=possibles.length,result=[];result.length<number;){if(void 0===weights)pick=possibles[Math.floor(rng()*length)];else for(var randKey=rng()*totalWeights,_i=0,_len=possibles.length;_i<_len;_i++)if((randKey-=weights[_i])<0){pick=possibles[_i];break}result.push(pick)}return single?result[0]:createMatrix?createMatrix(result):result}}))},"./node_modules/mathjs/lib/esm/function/probability/random.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createRandom}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/util/seededRNG.js"),_util_randomMatrix_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/util/randomMatrix.js"),name="random",dependencies=["typed","config","?on"],createRandom=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,on:on}=_ref,rng=(0,_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__.l)(config.randomSeed);return on&&on("config",(function(curr,prev){curr.randomSeed!==prev.randomSeed&&(rng=(0,_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__.l)(curr.randomSeed))})),typed(name,{"":()=>_random(0,1),number:max=>_random(0,max),"number, number":(min,max)=>_random(min,max),"Array | Matrix":size=>_randomMatrix(size,0,1),"Array | Matrix, number":(size,max)=>_randomMatrix(size,0,max),"Array | Matrix, number, number":(size,min,max)=>_randomMatrix(size,min,max)});function _randomMatrix(size,min,max){var res=(0,_util_randomMatrix_js__WEBPACK_IMPORTED_MODULE_2__.A)(size.valueOf(),(()=>_random(min,max)));return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.SW)(size)?size.create(res):res}function _random(min,max){return min+rng()*(max-min)}}))},"./node_modules/mathjs/lib/esm/function/probability/randomInt.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return createRandomInt}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_util_randomMatrix_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/util/randomMatrix.js"),_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/function/probability/util/seededRNG.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","config","?on"],createRandomInt=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("randomInt",dependencies,(_ref=>{var{typed:typed,config:config,on:on}=_ref,rng=(0,_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__.l)(config.randomSeed);return on&&on("config",(function(curr,prev){curr.randomSeed!==prev.randomSeed&&(rng=(0,_util_seededRNG_js__WEBPACK_IMPORTED_MODULE_1__.l)(curr.randomSeed))})),typed("randomInt",{"":()=>_randomInt(0,1),number:max=>_randomInt(0,max),"number, number":(min,max)=>_randomInt(min,max),"Array | Matrix":size=>_randomIntMatrix(size,0,1),"Array | Matrix, number":(size,max)=>_randomIntMatrix(size,0,max),"Array | Matrix, number, number":(size,min,max)=>_randomIntMatrix(size,min,max)});function _randomIntMatrix(size,min,max){var res=(0,_util_randomMatrix_js__WEBPACK_IMPORTED_MODULE_2__.A)(size.valueOf(),(()=>_randomInt(min,max)));return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.SW)(size)?size.create(res):res}function _randomInt(min,max){return Math.floor(min+rng()*(max-min))}}))},"./node_modules/mathjs/lib/esm/function/probability/util/randomMatrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function randomMatrix(size,random){var data=[];if((size=size.slice(0)).length>1)for(var i=0,length=size.shift();i<length;i++)data.push(randomMatrix(size,random));else for(var _i=0,_length=size.shift();_i<_length;_i++)data.push(random());return data}__webpack_require__.d(__webpack_exports__,{A:function(){return randomMatrix}})},"./node_modules/mathjs/lib/esm/function/probability/util/seededRNG.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return createRng}});var seedrandom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/seedrandom/index.js"),seedrandom__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(seedrandom__WEBPACK_IMPORTED_MODULE_0__),singletonRandom=seedrandom__WEBPACK_IMPORTED_MODULE_0___default()(Date.now());function createRng(randomSeed){var random;return function setSeed(seed){random=null===seed?singletonRandom:seedrandom__WEBPACK_IMPORTED_MODULE_0___default()(String(seed))}(randomSeed),function rng(){return random()}}},"./node_modules/mathjs/lib/esm/function/relational/compare.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return createCompare}});var _utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm05_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm05.js"),name="compare",dependencies=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],createCompare=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,equalScalar:equalScalar,matrix:matrix,BigNumber:BigNumber,Fraction:Fraction,DenseMatrix:DenseMatrix}=_ref,algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__.O)({typed:typed}),algorithm05=(0,_type_matrix_utils_algorithm05_js__WEBPACK_IMPORTED_MODULE_2__.p)({typed:typed,equalScalar:equalScalar}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed(name,{"boolean, boolean":function booleanBoolean(x,y){return x===y?0:x>y?1:-1},"number, number":function numberNumber(x,y){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_6__.RI)(x,y,config.epsilon)?0:x>y?1:-1},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_7__.R)(x,y,config.epsilon)?new BigNumber(0):new BigNumber(x.cmp(y))},"Fraction, Fraction":function FractionFraction(x,y){return new Fraction(x.compare(y))},"Complex, Complex":function ComplexComplex(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function UnitUnit(x,y){if(!x.equalBase(y))throw new Error("Cannot compare units with different base");return this(x.value,y.value)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm05(x,y,this)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm03(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm12(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/relational/compareNatural.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return createCompareNatural}});var javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/javascript-natural-sort/naturalSort.js"),javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0__),_utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),name="compareNatural",dependencies=["typed","compare"],createCompareNatural=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)(name,dependencies,(_ref=>{var{typed:typed,compare:compare}=_ref,compareBooleans=compare.signatures["boolean,boolean"];return typed(name,{"any, any":function anyAny(x,y){var c,typeX=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(x),typeY=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(y);if(!("number"!==typeX&&"BigNumber"!==typeX&&"Fraction"!==typeX||"number"!==typeY&&"BigNumber"!==typeY&&"Fraction"!==typeY))return"0"!==(c=compare(x,y)).toString()?c>0?1:-1:javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default()(typeX,typeY);if("Array"===typeX||"Matrix"===typeX||"Array"===typeY||"Matrix"===typeY)return 0!==(c=compareMatricesAndArrays(this,x,y))?c:javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default()(typeX,typeY);if(typeX!==typeY)return javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default()(typeX,typeY);if("Complex"===typeX)return function compareComplexNumbers(x,y){if(x.re>y.re)return 1;if(x.re<y.re)return-1;if(x.im>y.im)return 1;if(x.im<y.im)return-1;return 0}(x,y);if("Unit"===typeX)return x.equalBase(y)?this(x.value,y.value):compareArrays(this,x.formatUnits(),y.formatUnits());if("boolean"===typeX)return compareBooleans(x,y);if("string"===typeX)return javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default()(x,y);if("Object"===typeX)return function compareObjects(compareNatural,x,y){var keysX=Object.keys(x),keysY=Object.keys(y);keysX.sort(javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default()),keysY.sort(javascript_natural_sort__WEBPACK_IMPORTED_MODULE_0___default());var c=compareArrays(compareNatural,keysX,keysY);if(0!==c)return c;for(var i=0;i<keysX.length;i++){var v=compareNatural(x[keysX[i]],y[keysY[i]]);if(0!==v)return v}return 0}(this,x,y);if("null"===typeX)return 0;if("undefined"===typeX)return 0;throw new TypeError('Unsupported type of value "'+typeX+'"')}});function compareMatricesAndArrays(compareNatural,x,y){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.sA)(x)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.sA)(y)?compareArrays(compareNatural,x.toJSON().values,y.toJSON().values):(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.sA)(x)?compareMatricesAndArrays(compareNatural,x.toArray(),y):(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.sA)(y)?compareMatricesAndArrays(compareNatural,x,y.toArray()):(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.jH)(x)?compareMatricesAndArrays(compareNatural,x.toJSON().data,y):(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.jH)(y)?compareMatricesAndArrays(compareNatural,x,y.toJSON().data):Array.isArray(x)?Array.isArray(y)?compareArrays(compareNatural,x,y):compareMatricesAndArrays(compareNatural,x,[y]):compareMatricesAndArrays(compareNatural,[x],y)}function compareArrays(compareNatural,x,y){for(var i=0,ii=Math.min(x.length,y.length);i<ii;i++){var v=compareNatural(x[i],y[i]);if(0!==v)return v}return x.length>y.length?1:x.length<y.length?-1:0}}))},"./node_modules/mathjs/lib/esm/function/relational/compareText.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{f:function(){return createCompareText}});var _utils_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),name="compareText",dependencies=["typed","matrix"],createCompareText=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,matrix:matrix}=_ref,algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_1__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_2__.X)({typed:typed});return typed(name,{"any, any":_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.cd,"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.cd)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.cd,!1)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.cd,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.cd,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,_utils_string_js__WEBPACK_IMPORTED_MODULE_3__.cd,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/relational/deepEqual.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return createDeepEqual}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","equal"],createDeepEqual=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("deepEqual",dependencies,(_ref=>{var{typed:typed,equal:equal}=_ref;return typed("deepEqual",{"any, any":function anyAny(x,y){return _deepEqual(x.valueOf(),y.valueOf())}});function _deepEqual(x,y){if(Array.isArray(x)){if(Array.isArray(y)){var len=x.length;if(len!==y.length)return!1;for(var i=0;i<len;i++)if(!_deepEqual(x[i],y[i]))return!1;return!0}return!1}return!Array.isArray(y)&&equal(x,y)}}))},"./node_modules/mathjs/lib/esm/function/relational/equal.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return createEqual}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm07.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","matrix","equalScalar","DenseMatrix"],createEqual=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("equal",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,DenseMatrix:DenseMatrix}=_ref,algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__.O)({typed:typed}),algorithm07=(0,_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__.r)({typed:typed,DenseMatrix:DenseMatrix}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed("equal",{"any, any":function anyAny(x,y){return null===x?null===y:null===y?null===x:void 0===x?void 0===y:void 0===y?void 0===x:equalScalar(x,y)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm07(x,y,equalScalar)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm03(y,x,equalScalar,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,equalScalar,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,equalScalar)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm12(x,y,equalScalar,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,equalScalar,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,equalScalar,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,equalScalar,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,equalScalar,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,equalScalar,!0).valueOf()}})}));(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("equal",["typed","equalScalar"],(_ref2=>{var{typed:typed,equalScalar:equalScalar}=_ref2;return typed("equal",{"any, any":function anyAny(x,y){return null===x?null===y:null===y?null===x:void 0===x?void 0===y:void 0===y?void 0===x:equalScalar(x,y)}})}))},"./node_modules/mathjs/lib/esm/function/relational/equalScalar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{f:function(){return createEqualScalar}});var nearlyEqual=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),number=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),factory=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js");var dependencies=["typed","config"],createEqualScalar=(0,factory.d5)("equalScalar",dependencies,(_ref=>{var{typed:typed,config:config}=_ref;return typed("equalScalar",{"boolean, boolean":function booleanBoolean(x,y){return x===y},"number, number":function numberNumber(x,y){return(0,number.RI)(x,y,config.epsilon)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.eq(y)||(0,nearlyEqual.R)(x,y,config.epsilon)},"Fraction, Fraction":function FractionFraction(x,y){return x.equals(y)},"Complex, Complex":function ComplexComplex(x,y){return function complexEquals(x,y,epsilon){return(0,number.RI)(x.re,y.re,epsilon)&&(0,number.RI)(x.im,y.im,epsilon)}(x,y,config.epsilon)},"Unit, Unit":function UnitUnit(x,y){if(!x.equalBase(y))throw new Error("Cannot compare units with different base");return this(x.value,y.value)}})}));(0,factory.d5)("equalScalar",["typed","config"],(_ref2=>{var{typed:typed,config:config}=_ref2;return typed("equalScalar",{"number, number":function numberNumber(x,y){return(0,number.RI)(x,y,config.epsilon)}})}))},"./node_modules/mathjs/lib/esm/function/relational/equalText.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return createEqualText}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","compareText","isZero"],createEqualText=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("equalText",dependencies,(_ref=>{var{typed:typed,compareText:compareText,isZero:isZero}=_ref;return typed("equalText",{"any, any":function anyAny(x,y){return isZero(compareText(x,y))}})}))},"./node_modules/mathjs/lib/esm/function/relational/larger.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return createLarger}});var _utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm07.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),name="larger",dependencies=["typed","config","matrix","DenseMatrix"],createLarger=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,DenseMatrix:DenseMatrix}=_ref,algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__.O)({typed:typed}),algorithm07=(0,_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__.r)({typed:typed,DenseMatrix:DenseMatrix}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed(name,{"boolean, boolean":function booleanBoolean(x,y){return x>y},"number, number":function numberNumber(x,y){return x>y&&!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_6__.RI)(x,y,config.epsilon)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.gt(y)&&!(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_7__.R)(x,y,config.epsilon)},"Fraction, Fraction":function FractionFraction(x,y){return 1===x.compare(y)},"Complex, Complex":function ComplexComplex(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function UnitUnit(x,y){if(!x.equalBase(y))throw new Error("Cannot compare units with different base");return this(x.value,y.value)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm07(x,y,this)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm03(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm12(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/relational/largerEq.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return createLargerEq}});var _utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm07.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),name="largerEq",dependencies=["typed","config","matrix","DenseMatrix"],createLargerEq=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,DenseMatrix:DenseMatrix}=_ref,algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__.O)({typed:typed}),algorithm07=(0,_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__.r)({typed:typed,DenseMatrix:DenseMatrix}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed(name,{"boolean, boolean":function booleanBoolean(x,y){return x>=y},"number, number":function numberNumber(x,y){return x>=y||(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_6__.RI)(x,y,config.epsilon)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.gte(y)||(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_7__.R)(x,y,config.epsilon)},"Fraction, Fraction":function FractionFraction(x,y){return-1!==x.compare(y)},"Complex, Complex":function ComplexComplex(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function UnitUnit(x,y){if(!x.equalBase(y))throw new Error("Cannot compare units with different base");return this(x.value,y.value)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm07(x,y,this)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm03(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm12(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/relational/smaller.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{r:function(){return createSmaller}});var _utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm07.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),name="smaller",dependencies=["typed","config","matrix","DenseMatrix"],createSmaller=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,DenseMatrix:DenseMatrix}=_ref,algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__.O)({typed:typed}),algorithm07=(0,_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__.r)({typed:typed,DenseMatrix:DenseMatrix}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed(name,{"boolean, boolean":function booleanBoolean(x,y){return x<y},"number, number":function numberNumber(x,y){return x<y&&!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_6__.RI)(x,y,config.epsilon)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.lt(y)&&!(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_7__.R)(x,y,config.epsilon)},"Fraction, Fraction":function FractionFraction(x,y){return-1===x.compare(y)},"Complex, Complex":function ComplexComplex(x,y){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function UnitUnit(x,y){if(!x.equalBase(y))throw new Error("Cannot compare units with different base");return this(x.value,y.value)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm07(x,y,this)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm03(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm12(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/relational/smallerEq.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createSmallerEq}});var _utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm07.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),name="smallerEq",dependencies=["typed","config","matrix","DenseMatrix"],createSmallerEq=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,config:config,matrix:matrix,DenseMatrix:DenseMatrix}=_ref,algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__.O)({typed:typed}),algorithm07=(0,_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__.r)({typed:typed,DenseMatrix:DenseMatrix}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed(name,{"boolean, boolean":function booleanBoolean(x,y){return x<=y},"number, number":function numberNumber(x,y){return x<=y||(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_6__.RI)(x,y,config.epsilon)},"BigNumber, BigNumber":function BigNumberBigNumber(x,y){return x.lte(y)||(0,_utils_bignumber_nearlyEqual_js__WEBPACK_IMPORTED_MODULE_7__.R)(x,y,config.epsilon)},"Fraction, Fraction":function FractionFraction(x,y){return 1!==x.compare(y)},"Complex, Complex":function ComplexComplex(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function UnitUnit(x,y){if(!x.equalBase(y))throw new Error("Cannot compare units with different base");return this(x.value,y.value)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm07(x,y,this)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm03(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm12(x,y,this,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,this,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/relational/unequal.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{I:function(){return createUnequal}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm07.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),dependencies=["typed","config","equalScalar","matrix","DenseMatrix"],createUnequal=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("unequal",dependencies,(_ref=>{var{typed:typed,config:config,equalScalar:equalScalar,matrix:matrix,DenseMatrix:DenseMatrix}=_ref,algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_1__.O)({typed:typed}),algorithm07=(0,_type_matrix_utils_algorithm07_js__WEBPACK_IMPORTED_MODULE_2__.r)({typed:typed,DenseMatrix:DenseMatrix}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_3__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_4__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_5__.X)({typed:typed});return typed("unequal",{"any, any":function anyAny(x,y){return null===x?null!==y:null===y?null!==x:void 0===x?void 0!==y:void 0===y?void 0!==x:_unequal(x,y)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm07(x,y,_unequal)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm03(y,x,_unequal,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,_unequal,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,_unequal)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, any":function SparseMatrixAny(x,y){return algorithm12(x,y,_unequal,!1)},"DenseMatrix, any":function DenseMatrixAny(x,y){return algorithm14(x,y,_unequal,!1)},"any, SparseMatrix":function anySparseMatrix(x,y){return algorithm12(y,x,_unequal,!0)},"any, DenseMatrix":function anyDenseMatrix(x,y){return algorithm14(y,x,_unequal,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,_unequal,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,_unequal,!0).valueOf()}});function _unequal(x,y){return!equalScalar(x,y)}}));(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("unequal",["typed","equalScalar"],(_ref2=>{var{typed:typed,equalScalar:equalScalar}=_ref2;return typed("unequal",{"any, any":function anyAny(x,y){return null===x?null!==y:null===y?null!==x:void 0===x?void 0!==y:void 0===y?void 0!==x:!equalScalar(x,y)}})}))},"./node_modules/mathjs/lib/esm/function/set/setCartesian.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return createSetCartesian}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetCartesian=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setCartesian",dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index,DenseMatrix:DenseMatrix}=_ref;return typed("setCartesian",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(a1,a2){var result=[];if(0!==subset(size(a1),new Index(0))&&0!==subset(size(a2),new Index(0))){var b1=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a1)?a1:a1.toArray()).sort(compareNatural),b2=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a2)?a2:a2.toArray()).sort(compareNatural);result=[];for(var i=0;i<b1.length;i++)for(var j=0;j<b2.length;j++)result.push([b1[i],b2[j]])}return Array.isArray(a1)&&Array.isArray(a2)?result:new DenseMatrix(result)}})}))},"./node_modules/mathjs/lib/esm/function/set/setDifference.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{L:function(){return createSetDifference}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),name="setDifference",dependencies=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetDifference=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index,DenseMatrix:DenseMatrix}=_ref;return typed(name,{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(a1,a2){var result;if(0===subset(size(a1),new Index(0)))result=[];else{if(0===subset(size(a2),new Index(0)))return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a1.toArray());var inb2,b1=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.yV)((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a1)?a1:a1.toArray()).sort(compareNatural)),b2=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.yV)((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a2)?a2:a2.toArray()).sort(compareNatural));result=[];for(var i=0;i<b1.length;i++){inb2=!1;for(var j=0;j<b2.length;j++)if(0===compareNatural(b1[i].value,b2[j].value)&&b1[i].identifier===b2[j].identifier){inb2=!0;break}inb2||result.push(b1[i])}}return Array.isArray(a1)&&Array.isArray(a2)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.D$)(result):new DenseMatrix((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.D$)(result))}})}))},"./node_modules/mathjs/lib/esm/function/set/setDistinct.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createSetDistinct}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetDistinct=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setDistinct",dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index,DenseMatrix:DenseMatrix}=_ref;return typed("setDistinct",{"Array | Matrix":function ArrayMatrix(a){var result;if(0===subset(size(a),new Index(0)))result=[];else{var b=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a)?a:a.toArray()).sort(compareNatural);(result=[]).push(b[0]);for(var i=1;i<b.length;i++)0!==compareNatural(b[i],b[i-1])&&result.push(b[i])}return Array.isArray(a)?result:new DenseMatrix(result)}})}))},"./node_modules/mathjs/lib/esm/function/set/setIntersect.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{h:function(){return createSetIntersect}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetIntersect=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setIntersect",dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index,DenseMatrix:DenseMatrix}=_ref;return typed("setIntersect",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(a1,a2){var result;if(0===subset(size(a1),new Index(0))||0===subset(size(a2),new Index(0)))result=[];else{var b1=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.yV)((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a1)?a1:a1.toArray()).sort(compareNatural)),b2=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.yV)((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a2)?a2:a2.toArray()).sort(compareNatural));result=[];for(var i=0;i<b1.length;i++)for(var j=0;j<b2.length;j++)if(0===compareNatural(b1[i].value,b2[j].value)&&b1[i].identifier===b2[j].identifier){result.push(b1[i]);break}}return Array.isArray(a1)&&Array.isArray(a2)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.D$)(result):new DenseMatrix((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.D$)(result))}})}))},"./node_modules/mathjs/lib/esm/function/set/setIsSubset.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return createSetIsSubset}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","subset","compareNatural","Index"],createSetIsSubset=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setIsSubset",dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index}=_ref;return typed("setIsSubset",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(a1,a2){if(0===subset(size(a1),new Index(0)))return!0;if(0===subset(size(a2),new Index(0)))return!1;for(var inb2,b1=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.yV)((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a1)?a1:a1.toArray()).sort(compareNatural)),b2=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.yV)((0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a2)?a2:a2.toArray()).sort(compareNatural)),i=0;i<b1.length;i++){inb2=!1;for(var j=0;j<b2.length;j++)if(0===compareNatural(b1[i].value,b2[j].value)&&b1[i].identifier===b2[j].identifier){inb2=!0;break}if(!1===inb2)return!1}return!0}})}))},"./node_modules/mathjs/lib/esm/function/set/setMultiplicity.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m:function(){return createSetMultiplicity}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),name="setMultiplicity",dependencies=["typed","size","subset","compareNatural","Index"],createSetMultiplicity=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index}=_ref;return typed(name,{"number | BigNumber | Fraction | Complex, Array | Matrix":function numberBigNumberFractionComplexArrayMatrix(e,a){if(0===subset(size(a),new Index(0)))return 0;for(var b=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a)?a:a.toArray()),count=0,i=0;i<b.length;i++)0===compareNatural(b[i],e)&&count++;return count}})}))},"./node_modules/mathjs/lib/esm/function/set/setPowerset.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createSetPowerset}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","subset","compareNatural","Index"],createSetPowerset=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setPowerset",dependencies,(_ref=>{var{typed:typed,size:size,subset:subset,compareNatural:compareNatural,Index:Index}=_ref;return typed("setPowerset",{"Array | Matrix":function ArrayMatrix(a){if(0===subset(size(a),new Index(0)))return[];for(var b=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a)?a:a.toArray()).sort(compareNatural),result=[],number=0;number.toString(2).length<=b.length;)result.push(_subset(b,number.toString(2).split("").reverse())),number++;return function _sort(array){for(var temp=[],i=array.length-1;i>0;i--)for(var j=0;j<i;j++)array[j].length>array[j+1].length&&(temp=array[j],array[j]=array[j+1],array[j+1]=temp);return array}(result)}});function _subset(array,bitarray){for(var result=[],i=0;i<bitarray.length;i++)"1"===bitarray[i]&&result.push(array[i]);return result}}))},"./node_modules/mathjs/lib/esm/function/set/setSize.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createSetSize}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","compareNatural"],createSetSize=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setSize",dependencies,(_ref=>{var{typed:typed,compareNatural:compareNatural}=_ref;return typed("setSize",{"Array | Matrix":function ArrayMatrix(a){return Array.isArray(a)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a).length:(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a.toArray()).length},"Array | Matrix, boolean":function ArrayMatrixBoolean(a,unique){if(!1===unique||0===a.length)return Array.isArray(a)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a).length:(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a.toArray()).length;for(var b=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(Array.isArray(a)?a:a.toArray()).sort(compareNatural),count=1,i=1;i<b.length;i++)0!==compareNatural(b[i],b[i-1])&&count++;return count}})}))},"./node_modules/mathjs/lib/esm/function/set/setSymDifference.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createSetSymDifference}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),name="setSymDifference",dependencies=["typed","size","concat","subset","setDifference","Index"],createSetSymDifference=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,size:size,concat:concat,subset:subset,setDifference:setDifference,Index:Index}=_ref;return typed(name,{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(a1,a2){if(0===subset(size(a1),new Index(0)))return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a2);if(0===subset(size(a2),new Index(0)))return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a1);var b1=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a1),b2=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a2);return concat(setDifference(b1,b2),setDifference(b2,b1))}})}))},"./node_modules/mathjs/lib/esm/function/set/setUnion.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{r:function(){return createSetUnion}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],createSetUnion=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("setUnion",dependencies,(_ref=>{var{typed:typed,size:size,concat:concat,subset:subset,setIntersect:setIntersect,setSymDifference:setSymDifference,Index:Index}=_ref;return typed("setUnion",{"Array | Matrix, Array | Matrix":function ArrayMatrixArrayMatrix(a1,a2){if(0===subset(size(a1),new Index(0)))return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a2);if(0===subset(size(a2),new Index(0)))return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a1);var b1=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a1),b2=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(a2);return concat(setSymDifference(b1,b2),setIntersect(b1,b2))}})}))},"./node_modules/mathjs/lib/esm/function/special/erf.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return createErf}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["typed"],createErf=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("erf",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("name",{number:function number(x){var y=Math.abs(x);return y>=MAX_NUM?(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.Xx)(x):y<=THRESH?(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.Xx)(x)*function erf1(y){var i,ysq=y*y,xnum=P[0][4]*ysq,xden=ysq;for(i=0;i<3;i+=1)xnum=(xnum+P[0][i])*ysq,xden=(xden+Q[0][i])*ysq;return y*(xnum+P[0][3])/(xden+Q[0][3])}(y):y<=4?(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.Xx)(x)*(1-function erfc2(y){var i,xnum=P[1][8]*y,xden=y;for(i=0;i<7;i+=1)xnum=(xnum+P[1][i])*y,xden=(xden+Q[1][i])*y;var result=(xnum+P[1][7])/(xden+Q[1][7]),ysq=parseInt(16*y)/16,del=(y-ysq)*(y+ysq);return Math.exp(-ysq*ysq)*Math.exp(-del)*result}(y)):(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.Xx)(x)*(1-function erfc3(y){var i,ysq=1/(y*y),xnum=P[2][5]*ysq,xden=ysq;for(i=0;i<4;i+=1)xnum=(xnum+P[2][i])*ysq,xden=(xden+Q[2][i])*ysq;var result=ysq*(xnum+P[2][4])/(xden+Q[2][4]);result=(SQRPI-result)/y,ysq=parseInt(16*y)/16;var del=(y-ysq)*(y+ysq);return Math.exp(-ysq*ysq)*Math.exp(-del)*result}(y))},"Array | Matrix":function ArrayMatrix(n){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(n,this)}})})),THRESH=.46875,SQRPI=.5641895835477563,P=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Q=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],MAX_NUM=Math.pow(2,53)},"./node_modules/mathjs/lib/esm/function/statistics/mad.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createMad}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","abs","map","median","subtract"],createMad=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("mad",dependencies,(_ref=>{var{typed:typed,abs:abs,map:map,median:median,subtract:subtract}=_ref;return typed("mad",{"Array | Matrix":_mad,"...":function _(args){return _mad(args)}});function _mad(array){if(0===(array=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(array.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var med=median(array);return median(map(array,(function(value){return abs(subtract(value,med))})))}catch(err){throw err instanceof TypeError&&-1!==err.message.indexOf("median")?new TypeError(err.message.replace("median","mad")):(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"mad")}}}))},"./node_modules/mathjs/lib/esm/function/statistics/max.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J:function(){return createMax}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","config","numeric","larger"],createMax=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("max",dependencies,(_ref=>{var{typed:typed,config:config,numeric:numeric,larger:larger}=_ref;return typed("max",{"Array | Matrix":_max,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(array,dim){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.u4)(array,dim.valueOf(),_largest)},"...":function _(args){if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.CQ)(args))throw new TypeError("Scalar values expected in function max");return _max(args)}});function _largest(x,y){try{return larger(x,y)?x:y}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"max",y)}}function _max(array){var res;if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){try{isNaN(value)&&"number"==typeof value?res=NaN:(void 0===res||larger(value,res))&&(res=value)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"max",value)}})),void 0===res)throw new Error("Cannot calculate max of an empty array");return"string"==typeof res&&(res=numeric(res,config.number)),res}}))},"./node_modules/mathjs/lib/esm/function/statistics/mean.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return createMean}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","add","divide"],createMean=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("mean",dependencies,(_ref=>{var{typed:typed,add:add,divide:divide}=_ref;return typed("mean",{"Array | Matrix":_mean,"Array | Matrix, number | BigNumber":function _nmeanDim(array,dim){try{var sum=(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.u4)(array,dim,add),s=Array.isArray(array)?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_2__.aJ)(array):array.size();return divide(sum,s[dim])}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_3__.x)(err,"mean")}},"...":function _(args){if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.CQ)(args))throw new TypeError("Scalar values expected in function mean");return _mean(args)}});function _mean(array){var sum,num=0;if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){try{sum=void 0===sum?value:add(sum,value),num++}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_3__.x)(err,"mean",value)}})),0===num)throw new Error("Cannot calculate the mean of an empty array");return divide(sum,num)}}))},"./node_modules/mathjs/lib/esm/function/statistics/median.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return createMedian}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","add","divide","compare","partitionSelect"],createMedian=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("median",dependencies,(_ref=>{var{typed:typed,add:add,divide:divide,compare:compare,partitionSelect:partitionSelect}=_ref;function _median(array){try{var num=(array=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(array.valueOf())).length;if(0===num)throw new Error("Cannot calculate median of an empty array");if(num%2==0){for(var mid=num/2-1,right=partitionSelect(array,mid+1),left=array[mid],i=0;i<mid;++i)compare(array[i],left)>0&&(left=array[i]);return middle2(left,right)}var m=partitionSelect(array,(num-1)/2);return middle(m)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"median")}}var middle=typed({"number | BigNumber | Complex | Unit":function numberBigNumberComplexUnit(value){return value}}),middle2=typed({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function numberBigNumberComplexUnitNumberBigNumberComplexUnit(left,right){return divide(add(left,right),2)}});return typed("median",{"Array | Matrix":_median,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(array,dim){throw new Error("median(A, dim) is not yet supported")},"...":function _(args){if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_3__.CQ)(args))throw new TypeError("Scalar values expected in function median");return _median(args)}})}))},"./node_modules/mathjs/lib/esm/function/statistics/min.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return createMin}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","config","numeric","smaller"],createMin=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("min",dependencies,(_ref=>{var{typed:typed,config:config,numeric:numeric,smaller:smaller}=_ref;return typed("min",{"Array | Matrix":_min,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(array,dim){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.u4)(array,dim.valueOf(),_smallest)},"...":function _(args){if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.CQ)(args))throw new TypeError("Scalar values expected in function min");return _min(args)}});function _smallest(x,y){try{return smaller(x,y)?x:y}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"min",y)}}function _min(array){var min;if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){try{isNaN(value)&&"number"==typeof value?min=NaN:(void 0===min||smaller(value,min))&&(min=value)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"min",value)}})),void 0===min)throw new Error("Cannot calculate min of an empty array");return"string"==typeof min&&(min=numeric(min,config.number)),min}}))},"./node_modules/mathjs/lib/esm/function/statistics/mode.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createMode}});var _utils_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","isNaN","isNumeric"],createMode=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("mode",dependencies,(_ref=>{var{typed:typed,isNaN:isNaN,isNumeric:isNumeric}=_ref;return typed("mode",{"Array | Matrix":_mode,"...":function _(args){return _mode(args)}});function _mode(values){if(0===(values=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_1__.xH)(values.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var count={},mode=[],max=0,i=0;i<values.length;i++){var value=values[i];if(isNumeric(value)&&isNaN(value))throw new Error("Cannot calculate mode of an array containing NaN values");value in count||(count[value]=0),count[value]++,count[value]===max?mode.push(value):count[value]>max&&(max=count[value],mode=[value])}return mode}}))},"./node_modules/mathjs/lib/esm/function/statistics/prod.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createProd}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","config","multiplyScalar","numeric"],createProd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("prod",dependencies,(_ref=>{var{typed:typed,config:config,multiplyScalar:multiplyScalar,numeric:numeric}=_ref;return typed("prod",{"Array | Matrix":_prod,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(array,dim){throw new Error("prod(A, dim) is not yet supported")},"...":function _(args){return _prod(args)}});function _prod(array){var prod;if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){try{prod=void 0===prod?value:multiplyScalar(prod,value)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"prod",value)}})),"string"==typeof prod&&(prod=numeric(prod,config.number)),void 0===prod)throw new Error("Cannot calculate prod of an empty array");return prod}}))},"./node_modules/mathjs/lib/esm/function/statistics/quantileSeq.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y:function(){return createQuantileSeq}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),dependencies=["typed","add","multiply","partitionSelect","compare"],createQuantileSeq=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("quantileSeq",dependencies,(_ref=>{var{typed:typed,add:add,multiply:multiply,partitionSelect:partitionSelect,compare:compare}=_ref;function _quantileSeq(array,prob,sorted){var flat=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.xH)(array),len=flat.length;if(0===len)throw new Error("Cannot calculate quantile of an empty sequence");if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(prob)){var _index=prob*(len-1),_fracPart=_index%1;if(0===_fracPart){var value=sorted?flat[_index]:partitionSelect(flat,_index);return validate(value),value}var _left,_right,_integerPart=Math.floor(_index);if(sorted)_left=flat[_integerPart],_right=flat[_integerPart+1];else{_right=partitionSelect(flat,_integerPart+1),_left=flat[_integerPart];for(var i=0;i<_integerPart;++i)compare(flat[i],_left)>0&&(_left=flat[i])}return validate(_left),validate(_right),add(multiply(_left,1-_fracPart),multiply(_right,_fracPart))}var index=prob.times(len-1);if(index.isInteger()){index=index.toNumber();var _value=sorted?flat[index]:partitionSelect(flat,index);return validate(_value),_value}var left,right,integerPart=index.floor(),fracPart=index.minus(integerPart),integerPartNumber=integerPart.toNumber();if(sorted)left=flat[integerPartNumber],right=flat[integerPartNumber+1];else{right=partitionSelect(flat,integerPartNumber+1),left=flat[integerPartNumber];for(var _i3=0;_i3<integerPartNumber;++_i3)compare(flat[_i3],left)>0&&(left=flat[_i3])}validate(left),validate(right);var one=new fracPart.constructor(1);return add(multiply(left,one.minus(fracPart)),multiply(right,fracPart))}var validate=typed({"number | BigNumber | Unit":function numberBigNumberUnit(x){return x}});return function quantileSeq(data,probOrN,sorted){var probArr,dataArr,one;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(data)){if("boolean"==typeof(sorted=sorted||!1)){if(dataArr=data.valueOf(),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(probOrN)){if(probOrN<0)throw new Error("N/prob must be non-negative");if(probOrN<=1)return _quantileSeq(dataArr,probOrN,sorted);if(probOrN>1){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(probOrN))throw new Error("N must be a positive integer");var nPlusOne=probOrN+1;probArr=new Array(probOrN);for(var i=0;i<probOrN;)probArr[i]=_quantileSeq(dataArr,++i/nPlusOne,sorted);return probArr}}if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(probOrN)){var BigNumber=probOrN.constructor;if(probOrN.isNegative())throw new Error("N/prob must be non-negative");if(one=new BigNumber(1),probOrN.lte(one))return new BigNumber(_quantileSeq(dataArr,probOrN,sorted));if(probOrN.gt(one)){if(!probOrN.isInteger())throw new Error("N must be a positive integer");var intN=probOrN.toNumber();if(intN>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var _nPlusOne=new BigNumber(intN+1);probArr=new Array(intN);for(var _i=0;_i<intN;)probArr[_i]=new BigNumber(_quantileSeq(dataArr,new BigNumber(++_i).div(_nPlusOne),sorted));return probArr}}if(Array.isArray(probOrN)){probArr=new Array(probOrN.length);for(var _i2=0;_i2<probArr.length;++_i2){var currProb=probOrN[_i2];if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(currProb)){if(currProb<0||currProb>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(currProb))throw new TypeError("Unexpected type of argument in function quantileSeq");if(one=new currProb.constructor(1),currProb.isNegative()||currProb.gt(one))throw new Error("Probability must be between 0 and 1, inclusive")}probArr[_i2]=_quantileSeq(dataArr,currProb,sorted)}return probArr}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}))},"./node_modules/mathjs/lib/esm/function/statistics/std.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return createStd}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","sqrt","variance"],createStd=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("std",dependencies,(_ref=>{var{typed:typed,sqrt:sqrt,variance:variance}=_ref;return typed("std",{"Array | Matrix":_std,"Array | Matrix, string":_std,"Array | Matrix, number | BigNumber":_std,"Array | Matrix, number | BigNumber, string":_std,"...":function _(args){return _std(args)}});function _std(array,normalization){if(0===array.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return sqrt(variance.apply(null,arguments))}catch(err){throw err instanceof TypeError&&-1!==err.message.indexOf(" variance")?new TypeError(err.message.replace(" variance"," std")):err}}}))},"./node_modules/mathjs/lib/esm/function/statistics/sum.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return createSum}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","config","add","numeric"],createSum=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sum",dependencies,(_ref=>{var{typed:typed,config:config,add:add,numeric:numeric}=_ref;return typed("sum",{"Array | Matrix":_sum,"Array | Matrix, number | BigNumber":function _nsumDim(array,dim){try{return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.u4)(array,dim,add)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"sum")}},"...":function _(args){if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.CQ)(args))throw new TypeError("Scalar values expected in function sum");return _sum(args)}});function _sum(array){var sum;return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){try{sum=void 0===sum?value:add(sum,value)}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"sum",value)}})),void 0===sum&&(sum=numeric(0,config.number)),"string"==typeof sum&&(sum=numeric(sum,config.number)),sum}}))},"./node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return improveErrorMessage}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js");function improveErrorMessage(err,fnName,value){var details;return-1!==String(err).indexOf("Unexpected type")?(details=arguments.length>2?" (type: "+(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_0__.kM)(value)+", value: "+JSON.stringify(value)+")":" (type: "+err.data.actual+")",new TypeError("Cannot calculate "+fnName+", unexpected type of argument"+details)):-1!==String(err).indexOf("complex numbers")?(details=arguments.length>2?" (type: "+(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_0__.kM)(value)+", value: "+JSON.stringify(value)+")":"",new TypeError("Cannot calculate "+fnName+", no ordering relation is defined for complex numbers"+details)):err}},"./node_modules/mathjs/lib/esm/function/statistics/variance.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{F:function(){return createVariance}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/function/statistics/utils/improveErrorMessage.js"),dependencies=["typed","add","subtract","multiply","divide","apply","isNaN"],createVariance=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("variance",dependencies,(_ref=>{var{typed:typed,add:add,subtract:subtract,multiply:multiply,divide:divide,apply:apply,isNaN:isNaN}=_ref;return typed("variance",{"Array | Matrix":function ArrayMatrix(array){return _var(array,"unbiased")},"Array | Matrix, string":_var,"Array | Matrix, number | BigNumber":function ArrayMatrixNumberBigNumber(array,dim){return _varDim(array,dim,"unbiased")},"Array | Matrix, number | BigNumber, string":_varDim,"...":function _(args){return _var(args,"unbiased")}});function _var(array,normalization){var sum,num=0;if(0===array.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){try{sum=void 0===sum?value:add(sum,value),num++}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"variance",value)}})),0===num)throw new Error("Cannot calculate variance of an empty array");var mean=divide(sum,num);if(sum=void 0,(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Et)(array,(function(value){var diff=subtract(value,mean);sum=void 0===sum?multiply(diff,diff):add(sum,multiply(diff,diff))})),isNaN(sum))return sum;switch(normalization){case"uncorrected":return divide(sum,num);case"biased":return divide(sum,num+1);case"unbiased":var zero=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.l9)(sum)?sum.mul(0):0;return 1===num?zero:divide(sum,num-1);default:throw new Error('Unknown normalization "'+normalization+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function _varDim(array,dim,normalization){try{if(0===array.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return apply(array,dim,(x=>_var(x,normalization)))}catch(err){throw(0,_utils_improveErrorMessage_js__WEBPACK_IMPORTED_MODULE_2__.x)(err,"variance")}}}))},"./node_modules/mathjs/lib/esm/function/string/bin.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return createBin}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),createBin=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bin",["typed","format"],(_ref=>{var{typed:typed,format:format}=_ref;return typed("bin",{"number | BigNumber":function numberBigNumber(n){return format(n,{notation:"bin"})},"number | BigNumber, number":function numberBigNumberNumber(n,wordSize){return format(n,{notation:"bin",wordSize:wordSize})}})}))},"./node_modules/mathjs/lib/esm/function/string/format.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{l:function(){return createFormat}});var _utils_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createFormat=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("format",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("format",{any:_utils_string_js__WEBPACK_IMPORTED_MODULE_1__.WU,"any, Object | function | number":_utils_string_js__WEBPACK_IMPORTED_MODULE_1__.WU})}))},"./node_modules/mathjs/lib/esm/function/string/hex.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return createHex}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),createHex=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("hex",["typed","format"],(_ref=>{var{typed:typed,format:format}=_ref;return typed("hex",{"number | BigNumber":function numberBigNumber(n){return format(n,{notation:"hex"})},"number | BigNumber, number":function numberBigNumberNumber(n,wordSize){return format(n,{notation:"hex",wordSize:wordSize})}})}))},"./node_modules/mathjs/lib/esm/function/string/oct.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{L:function(){return createOct}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),createOct=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("oct",["typed","format"],(_ref=>{var{typed:typed,format:format}=_ref;return typed("oct",{"number | BigNumber":function numberBigNumber(n){return format(n,{notation:"oct"})},"number | BigNumber, number":function numberBigNumberNumber(n,wordSize){return format(n,{notation:"oct",wordSize:wordSize})}})}))},"./node_modules/mathjs/lib/esm/function/string/print.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return createPrint}});var _utils_string_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createPrint=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("print",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("print",{"string, Object | Array":_print,"string, Object | Array, number | Object":_print})}));function _print(template,values,options){return template.replace(/\$([\w.]+)/g,(function(original,key){for(var keys=key.split("."),value=values[keys.shift()];keys.length&&void 0!==value;){var k=keys.shift();value=k?value[k]:value+"."}return void 0!==value?(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(value)?value:(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_2__.WU)(value,options):original}))}},"./node_modules/mathjs/lib/esm/function/trigonometry/acos.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{L:function(){return createAcos}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed","config","Complex"],createAcos=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("acos",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex}=_ref;return typed("acos",{number:function number(x){return x>=-1&&x<=1||config.predictable?Math.acos(x):new Complex(x,0).acos()},Complex:function Complex(x){return x.acos()},BigNumber:function BigNumber(x){return x.acos()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/acosh.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{H:function(){return createAcosh}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","config","Complex"],createAcosh=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("acosh",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex}=_ref;return typed("acosh",{number:function number(x){return x>=1||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.cw)(x):x<=-1?new Complex(Math.log(Math.sqrt(x*x-1)-x),Math.PI):new Complex(x,0).acosh()},Complex:function Complex(x){return x.acosh()},BigNumber:function BigNumber(x){return x.acosh()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/acot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return createAcot}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createAcot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("acot",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("acot",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.y,Complex:function Complex(x){return x.acot()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x).atan()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/acoth.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createAcoth}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","config","Complex","BigNumber"],createAcoth=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("acoth",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex,BigNumber:_BigNumber}=_ref;return typed("acoth",{number:function number(x){return x>=1||x<=-1||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.LJ)(x):new Complex(x,0).acoth()},Complex:function Complex(x){return x.acoth()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x).atanh()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/acsc.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createAcsc}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","config","Complex","BigNumber"],createAcsc=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("acsc",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex,BigNumber:_BigNumber}=_ref;return typed("acsc",{number:function number(x){return x<=-1||x>=1||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.VL)(x):new Complex(x,0).acsc()},Complex:function Complex(x){return x.acsc()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x).asin()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/acsch.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return createAcsch}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createAcsch=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("acsch",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("acsch",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.F4,Complex:function Complex(x){return x.acsch()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x).asinh()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/asec.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return createAsec}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","config","Complex","BigNumber"],createAsec=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("asec",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex,BigNumber:_BigNumber}=_ref;return typed("asec",{number:function number(x){return x<=-1||x>=1||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.zq)(x):new Complex(x,0).asec()},Complex:function Complex(x){return x.asec()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x).acos()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/asech.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return createAsech}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","config","Complex","BigNumber"],createAsech=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("asech",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex,BigNumber:_BigNumber}=_ref;return typed("asech",{number:function number(x){if(x<=1&&x>=-1||config.predictable){var xInv=1/x;if(xInv>0||config.predictable)return(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Pe)(x);var ret=Math.sqrt(xInv*xInv-1);return new Complex(Math.log(ret-xInv),Math.PI)}return new Complex(x,0).asech()},Complex:function Complex(x){return x.asech()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x).acosh()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/asin.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{K:function(){return createAsin}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed","config","Complex"],createAsin=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("asin",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex}=_ref;return typed("asin",{number:function number(x){return x>=-1&&x<=1||config.predictable?Math.asin(x):new Complex(x,0).asin()},Complex:function Complex(x){return x.asin()},BigNumber:function BigNumber(x){return x.asin()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this,!0)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/asinh.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createAsinh}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed"],createAsinh=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("asinh",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("asinh",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Rm,Complex:function Complex(x){return x.asinh()},BigNumber:function BigNumber(x){return x.asinh()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this,!0)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/atan.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{a:function(){return createAtan}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createAtan=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("atan",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("atan",{number:function number(x){return Math.atan(x)},Complex:function Complex(x){return x.atan()},BigNumber:function BigNumber(x){return x.atan()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this,!0)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/atan2.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createAtan2}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm02.js"),_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js"),_type_matrix_utils_algorithm09_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm09.js"),_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js"),_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],createAtan2=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("atan2",dependencies,(_ref=>{var{typed:typed,matrix:matrix,equalScalar:equalScalar,BigNumber:BigNumber,DenseMatrix:DenseMatrix}=_ref,algorithm02=(0,_type_matrix_utils_algorithm02_js__WEBPACK_IMPORTED_MODULE_1__.h)({typed:typed,equalScalar:equalScalar}),algorithm03=(0,_type_matrix_utils_algorithm03_js__WEBPACK_IMPORTED_MODULE_2__.O)({typed:typed}),algorithm09=(0,_type_matrix_utils_algorithm09_js__WEBPACK_IMPORTED_MODULE_3__.e)({typed:typed,equalScalar:equalScalar}),algorithm11=(0,_type_matrix_utils_algorithm11_js__WEBPACK_IMPORTED_MODULE_4__.n)({typed:typed,equalScalar:equalScalar}),algorithm12=(0,_type_matrix_utils_algorithm12_js__WEBPACK_IMPORTED_MODULE_5__.R)({typed:typed,DenseMatrix:DenseMatrix}),algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_6__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_7__.X)({typed:typed});return typed("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function BigNumberBigNumber(y,x){return BigNumber.atan2(y,x)},"SparseMatrix, SparseMatrix":function SparseMatrixSparseMatrix(x,y){return algorithm09(x,y,this,!1)},"SparseMatrix, DenseMatrix":function SparseMatrixDenseMatrix(x,y){return algorithm02(y,x,this,!0)},"DenseMatrix, SparseMatrix":function DenseMatrixSparseMatrix(x,y){return algorithm03(x,y,this,!1)},"DenseMatrix, DenseMatrix":function DenseMatrixDenseMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"SparseMatrix, number | BigNumber":function SparseMatrixNumberBigNumber(x,y){return algorithm11(x,y,this,!1)},"DenseMatrix, number | BigNumber":function DenseMatrixNumberBigNumber(x,y){return algorithm14(x,y,this,!1)},"number | BigNumber, SparseMatrix":function numberBigNumberSparseMatrix(x,y){return algorithm12(y,x,this,!0)},"number | BigNumber, DenseMatrix":function numberBigNumberDenseMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, number | BigNumber":function ArrayNumberBigNumber(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"number | BigNumber, Array":function numberBigNumberArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/atanh.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m:function(){return createAtanh}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","config","Complex"],createAtanh=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("atanh",dependencies,(_ref=>{var{typed:typed,config:config,Complex:Complex}=_ref;return typed("atanh",{number:function number(x){return x<=1&&x>=-1||config.predictable?(0,_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Sz)(x):new Complex(x,0).atanh()},Complex:function Complex(x){return x.atanh()},BigNumber:function BigNumber(x){return x.atanh()},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this,!0)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/cos.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return createCos}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createCos=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("cos",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("cos",{number:Math.cos,Complex:function Complex(x){return x.cos()},BigNumber:function BigNumber(x){return x.cos()},Unit:function Unit(x){if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/cosh.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createCosh}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["typed"],createCosh=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("cosh",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("cosh",{number:_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.f9,Complex:function Complex(x){return x.cosh()},BigNumber:function BigNumber(x){return x.cosh()},Unit:function Unit(x){if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/cot.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{j:function(){return createCot}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createCot=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("cot",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("cot",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Nw,Complex:function Complex(x){return x.cot()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x.tan())},Unit:function Unit(x){if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/coth.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return createCoth}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createCoth=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("coth",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("coth",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.ws,Complex:function Complex(x){return x.coth()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x.tanh())},Unit:function Unit(x){if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/csc.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createCsc}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createCsc=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("csc",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("csc",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.c$,Complex:function Complex(x){return x.csc()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x.sin())},Unit:function Unit(x){if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/csch.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return createCsch}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createCsch=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("csch",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("csch",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.zr,Complex:function Complex(x){return x.csch()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x.sinh())},Unit:function Unit(x){if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/sec.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return createSec}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createSec=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sec",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("sec",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.wX,Complex:function Complex(x){return x.sec()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x.cos())},Unit:function Unit(x){if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/sech.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{g:function(){return createSech}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed","BigNumber"],createSech=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sech",dependencies,(_ref=>{var{typed:typed,BigNumber:_BigNumber}=_ref;return typed("sech",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.pL,Complex:function Complex(x){return x.sech()},BigNumber:function BigNumber(x){return new _BigNumber(1).div(x.cosh())},Unit:function Unit(x){if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/sin.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createSin}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createSin=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sin",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("sin",{number:Math.sin,Complex:function Complex(x){return x.sin()},BigNumber:function BigNumber(x){return x.sin()},Unit:function Unit(x){if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this,!0)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/sinh.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return createSinh}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/trigonometry.js"),dependencies=["typed"],createSinh=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sinh",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("sinh",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.T$,Complex:function Complex(x){return x.sinh()},BigNumber:function BigNumber(x){return x.sinh()},Unit:function Unit(x){if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this,!0)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/tan.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return createTan}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createTan=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("tan",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("tan",{number:Math.tan,Complex:function Complex(x){return x.tan()},BigNumber:function BigNumber(x){return x.tan()},Unit:function Unit(x){if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this,!0)}})}))},"./node_modules/mathjs/lib/esm/function/trigonometry/tanh.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:function(){return createTanh}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["typed"],createTanh=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("tanh",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("tanh",{number:_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.AE,Complex:function Complex(x){return x.tanh()},BigNumber:function BigNumber(x){return x.tanh()},Unit:function Unit(x){if(!x.hasBase(x.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this,!0)}})}))},"./node_modules/mathjs/lib/esm/function/unit/to.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createTo}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js"),_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js"),dependencies=["typed","matrix"],createTo=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("to",dependencies,(_ref=>{var{typed:typed,matrix:matrix}=_ref,algorithm13=(0,_type_matrix_utils_algorithm13_js__WEBPACK_IMPORTED_MODULE_1__.x)({typed:typed}),algorithm14=(0,_type_matrix_utils_algorithm14_js__WEBPACK_IMPORTED_MODULE_2__.X)({typed:typed});return typed("to",{"Unit, Unit | string":function UnitUnitString(x,unit){return x.to(unit)},"Matrix, Matrix":function MatrixMatrix(x,y){return algorithm13(x,y,this)},"Array, Array":function ArrayArray(x,y){return this(matrix(x),matrix(y)).valueOf()},"Array, Matrix":function ArrayMatrix(x,y){return this(matrix(x),y)},"Matrix, Array":function MatrixArray(x,y){return this(x,matrix(y))},"Matrix, any":function MatrixAny(x,y){return algorithm14(x,y,this,!1)},"any, Matrix":function anyMatrix(x,y){return algorithm14(y,x,this,!0)},"Array, any":function ArrayAny(x,y){return algorithm14(matrix(x),y,this,!1).valueOf()},"any, Array":function anyArray(x,y){return algorithm14(matrix(y),x,this,!0).valueOf()}})}))},"./node_modules/mathjs/lib/esm/function/utils/clone.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createClone}});var _utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createClone=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("clone",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("clone",{any:_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9})}))},"./node_modules/mathjs/lib/esm/function/utils/hasNumericValue.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return createHasNumericValue}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),name="hasNumericValue",dependencies=["typed","isNumeric"],createHasNumericValue=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,dependencies,(_ref=>{var{typed:typed,isNumeric:isNumeric}=_ref;return typed(name,{string:function string(x){return x.trim().length>0&&!isNaN(Number(x))},any:function any(x){return isNumeric(x)}})}))},"./node_modules/mathjs/lib/esm/function/utils/isInteger.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{u:function(){return createIsInteger}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createIsInteger=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isInteger",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isInteger",{number:_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.U,BigNumber:function BigNumber(x){return x.isInt()},Fraction:function Fraction(x){return 1===x.d&&isFinite(x.n)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/utils/isNaN.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{n:function(){return createIsNaN}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/utils.js"),dependencies=["typed"],createIsNaN=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isNaN",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isNaN",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.kU,BigNumber:function BigNumber(x){return x.isNaN()},Fraction:function Fraction(x){return!1},Complex:function Complex(x){return x.isNaN()},Unit:function Unit(x){return Number.isNaN(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,Number.isNaN)}})}))},"./node_modules/mathjs/lib/esm/function/utils/isNegative.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return createIsNegative}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/utils.js"),dependencies=["typed"],createIsNegative=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isNegative",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isNegative",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.Tk,BigNumber:function BigNumber(x){return x.isNeg()&&!x.isZero()&&!x.isNaN()},Fraction:function Fraction(x){return x.s<0},Unit:function Unit(x){return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/utils/isNumeric.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{L:function(){return createIsNumeric}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createIsNumeric=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isNumeric",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isNumeric",{"number | BigNumber | Fraction | boolean":function numberBigNumberFractionBoolean(){return!0},"Complex | Unit | string | null | undefined | Node":function ComplexUnitStringNullUndefinedNode(){return!1},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/utils/isPositive.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return createIsPositive}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/utils.js"),dependencies=["typed"],createIsPositive=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isPositive",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isPositive",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.r,BigNumber:function BigNumber(x){return!x.isNeg()&&!x.isZero()&&!x.isNaN()},Fraction:function Fraction(x){return x.s>0&&x.n>0},Unit:function Unit(x){return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/utils/isPrime.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:function(){return createIsPrime}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createIsPrime=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isPrime",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isPrime",{number:function number(x){if(0*x!=0)return!1;if(x<=3)return x>1;if(x%2==0||x%3==0)return!1;for(var i=5;i*i<=x;i+=6)if(x%i==0||x%(i+2)==0)return!1;return!0},BigNumber:function BigNumber(n){if(0*n.toNumber()!=0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var x=n.toNumber(),i=5;i*i<=x;i+=6)if(x%i==0||x%(i+2)==0)return!1;return!0}function modPow(base,exponent,modulus){for(var accumulator=1;!exponent.eq(0);)exponent.mod(2).eq(0)?(exponent=exponent.div(2),base=base.mul(base).mod(modulus)):(exponent=exponent.sub(1),accumulator=base.mul(accumulator).mod(modulus));return accumulator}for(var Decimal=n.constructor.clone({precision:2*n.toFixed(0).length}),r=0,d=(n=new Decimal(n)).sub(1);d.mod(2).eq(0);)d=d.div(2),r+=1;var bases=null;if(n.lt("3317044064679887385961981"))bases=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter((x=>x<n));else{var max=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));bases=[];for(var _i=2;_i<=max;_i+=1)bases.push(max)}for(var _i2=0;_i2<bases.length;_i2+=1){var a=bases[_i2],adn=modPow(n.sub(n).add(a),d,n);if(!adn.eq(1))for(var _i3=0,_x=adn;!_x.eq(n.sub(1));_i3+=1,_x=_x.mul(_x).mod(n))if(_i3===r-1)return!1}return!0},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/utils/isZero.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{t:function(){return createIsZero}});var _utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/plain/number/utils.js"),dependencies=["typed"],createIsZero=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("isZero",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("isZero",{number:_plain_number_index_js__WEBPACK_IMPORTED_MODULE_1__.hG,BigNumber:function BigNumber(x){return x.isZero()},Complex:function Complex(x){return 0===x.re&&0===x.im},Fraction:function Fraction(x){return 1===x.d&&0===x.n},Unit:function Unit(x){return this(x.value)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/function/utils/numeric.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{d:function(){return createNumeric}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_noop_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/noop.js"),dependencies=["number","?bignumber","?fraction"],createNumeric=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("numeric",dependencies,(_ref=>{var{number:_number,bignumber:bignumber,fraction:fraction}=_ref,validInputTypes={string:!0,number:!0,BigNumber:!0,Fraction:!0},validOutputTypes={number:x=>_number(x),BigNumber:bignumber?x=>bignumber(x):_utils_noop_js__WEBPACK_IMPORTED_MODULE_1__.R3,Fraction:fraction?x=>fraction(x):_utils_noop_js__WEBPACK_IMPORTED_MODULE_1__.nG};return function numeric(value,outputType){var inputType=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(value);if(!(inputType in validInputTypes))throw new TypeError("Cannot convert "+value+' of type "'+inputType+'"; valid input types are '+Object.keys(validInputTypes).join(", "));if(!(outputType in validOutputTypes))throw new TypeError("Cannot convert "+value+' to type "'+outputType+'"; valid output types are '+Object.keys(validOutputTypes).join(", "));return outputType===inputType?value:validOutputTypes[outputType](value)}}))},"./node_modules/mathjs/lib/esm/function/utils/typeOf.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return createTypeOf}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed"],createTypeOf=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("typeOf",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("typeOf",{any:_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM})}))},"./node_modules/mathjs/lib/esm/json/replacer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return createReplacer}});var dependencies=[],createReplacer=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("replacer",dependencies,(()=>function replacer(key,value){return"number"!=typeof value||isFinite(value)&&!isNaN(value)?value:{mathjs:"number",value:String(value)}}))},"./node_modules/mathjs/lib/esm/plain/number/arithmetic.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$y:function(){return signNumber},B:function(){return expm1Number},Dv:function(){return cubeNumber},Ft:function(){return addNumber},G6:function(){return multiplyNumber},GC:function(){return unaryMinusNumber},K4:function(){return lcmNumber},OS:function(){return logNumber},Q1:function(){return absNumber},QV:function(){return roundNumber},Ue:function(){return powNumber},Vk:function(){return gcdNumber},YS:function(){return nthRootNumber},_$:function(){return squareNumber},iO:function(){return log2Number},iU:function(){return unaryPlusNumber},ih:function(){return cbrtNumber},nz:function(){return modNumber},qX:function(){return expNumber},vU:function(){return log10Number},xx:function(){return ceilNumber},y9:function(){return xgcdNumber}});var _utils_number_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),n1="number",n2="number, number";function absNumber(a){return Math.abs(a)}function addNumber(a,b){return a+b}function multiplyNumber(a,b){return a*b}function unaryMinusNumber(x){return-x}function unaryPlusNumber(x){return x}function cbrtNumber(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.eK)(x)}function ceilNumber(x){return Math.ceil(x)}function cubeNumber(x){return x*x*x}function expNumber(x){return Math.exp(x)}function expm1Number(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.t$)(x)}function gcdNumber(a,b){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(a)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(b))throw new Error("Parameters in function gcd must be integer numbers");for(var r;0!==b;)r=a%b,a=b,b=r;return a<0?-a:a}function lcmNumber(a,b){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(a)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(b))throw new Error("Parameters in function lcm must be integer numbers");if(0===a||0===b)return 0;for(var t,prod=a*b;0!==b;)b=a%(t=b),a=t;return Math.abs(prod/a)}function logNumber(x){return Math.log(x)}function log10Number(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.mv)(x)}function log2Number(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.k3)(x)}function modNumber(x,y){if(y>0)return x-y*Math.floor(x/y);if(0===y)return x;throw new Error("Cannot calculate mod for a negative divisor")}function nthRootNumber(a,root){var inv=root<0;if(inv&&(root=-root),0===root)throw new Error("Root must be non-zero");if(a<0&&Math.abs(root)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===a)return inv?1/0:0;if(!isFinite(a))return inv?0:a;var x=Math.pow(Math.abs(a),1/root);return x=a<0?-x:x,inv?1/x:x}function signNumber(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.Xx)(x)}function squareNumber(x){return x*x}function xgcdNumber(a,b){var t,q,r,x=0,lastx=1,y=1,lasty=0;if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(a)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(b))throw new Error("Parameters in function xgcd must be integer numbers");for(;b;)r=a-(q=Math.floor(a/b))*b,t=x,x=lastx-q*x,lastx=t,t=y,y=lasty-q*y,lasty=t,a=b,b=r;return a<0?[-a,-lastx,-lasty]:[a,a?lastx:0,lasty]}function powNumber(x,y){return x*x<1&&y===1/0||x*x>1&&y===-1/0?0:Math.pow(x,y)}function roundNumber(value){var decimals=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat((0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.FH)(value,decimals))}absNumber.signature=n1,addNumber.signature=n2,multiplyNumber.signature=n2,unaryMinusNumber.signature=n1,unaryPlusNumber.signature=n1,cbrtNumber.signature=n1,ceilNumber.signature=n1,cubeNumber.signature=n1,expNumber.signature=n1,expm1Number.signature=n1,gcdNumber.signature=n2,lcmNumber.signature=n2,logNumber.signature=n1,log10Number.signature=n1,log2Number.signature=n1,modNumber.signature=n2,nthRootNumber.signature=n2,signNumber.signature=n1,squareNumber.signature=n1,xgcdNumber.signature=n2,powNumber.signature=n2,roundNumber.signature=n2},"./node_modules/mathjs/lib/esm/plain/number/bitwise.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{LE:function(){return bitOrNumber},Lz:function(){return rightArithShiftNumber},NA:function(){return bitNotNumber},ZG:function(){return leftShiftNumber},ji:function(){return rightLogShiftNumber},qC:function(){return bitAndNumber},xS:function(){return bitXorNumber}});var _utils_number_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),n2="number, number";function bitAndNumber(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(y))throw new Error("Integers expected in function bitAnd");return x&y}function bitNotNumber(x){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x))throw new Error("Integer expected in function bitNot");return~x}function bitOrNumber(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(y))throw new Error("Integers expected in function bitOr");return x|y}function bitXorNumber(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(y))throw new Error("Integers expected in function bitXor");return x^y}function leftShiftNumber(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(y))throw new Error("Integers expected in function leftShift");return x<<y}function rightArithShiftNumber(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(y))throw new Error("Integers expected in function rightArithShift");return x>>y}function rightLogShiftNumber(x,y){if(!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(x)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.U)(y))throw new Error("Integers expected in function rightLogShift");return x>>>y}bitAndNumber.signature=n2,bitNotNumber.signature="number",bitOrNumber.signature=n2,bitXorNumber.signature=n2,leftShiftNumber.signature=n2,rightArithShiftNumber.signature=n2,rightLogShiftNumber.signature=n2},"./node_modules/mathjs/lib/esm/plain/number/logical.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{FO:function(){return andNumber},RY:function(){return orNumber},kl:function(){return xorNumber},xY:function(){return notNumber}});var n2="number, number";function notNumber(x){return!x}function orNumber(x,y){return!(!x&&!y)}function xorNumber(x,y){return!!x!=!!y}function andNumber(x,y){return!(!x||!y)}notNumber.signature="number",orNumber.signature=n2,xorNumber.signature=n2,andNumber.signature=n2},"./node_modules/mathjs/lib/esm/plain/number/trigonometry.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{F4:function(){return acschNumber},LJ:function(){return acothNumber},Nw:function(){return cotNumber},Pe:function(){return asechNumber},Rm:function(){return asinhNumber},Sz:function(){return atanhNumber},T$:function(){return sinhNumber},VL:function(){return acscNumber},c$:function(){return cscNumber},cw:function(){return acoshNumber},pL:function(){return sechNumber},wX:function(){return secNumber},ws:function(){return cothNumber},y:function(){return acotNumber},zq:function(){return asecNumber},zr:function(){return cschNumber}});var _utils_number_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),n1="number";function acoshNumber(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.__)(x)}function acotNumber(x){return Math.atan(1/x)}function acothNumber(x){return isFinite(x)?(Math.log((x+1)/x)+Math.log(x/(x-1)))/2:0}function acscNumber(x){return Math.asin(1/x)}function acschNumber(x){var xInv=1/x;return Math.log(xInv+Math.sqrt(xInv*xInv+1))}function asecNumber(x){return Math.acos(1/x)}function asechNumber(x){var xInv=1/x,ret=Math.sqrt(xInv*xInv-1);return Math.log(ret+xInv)}function asinhNumber(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.Vf)(x)}function atanhNumber(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.C8)(x)}function cotNumber(x){return 1/Math.tan(x)}function cothNumber(x){var e=Math.exp(2*x);return(e+1)/(e-1)}function cscNumber(x){return 1/Math.sin(x)}function cschNumber(x){return 0===x?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(x)-Math.exp(-x)))*(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.Xx)(x)}function secNumber(x){return 1/Math.cos(x)}function sechNumber(x){return 2/(Math.exp(x)+Math.exp(-x))}function sinhNumber(x){return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_0__.R_)(x)}acoshNumber.signature=n1,acotNumber.signature=n1,acothNumber.signature=n1,acscNumber.signature=n1,acschNumber.signature=n1,asecNumber.signature=n1,asechNumber.signature=n1,asinhNumber.signature=n1,atanhNumber.signature=n1,cotNumber.signature=n1,cothNumber.signature=n1,cscNumber.signature=n1,cschNumber.signature=n1,secNumber.signature=n1,sechNumber.signature=n1,sinhNumber.signature=n1},"./node_modules/mathjs/lib/esm/plain/number/utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Tk:function(){return isNegativeNumber},hG:function(){return isZeroNumber},kU:function(){return isNaNNumber},r:function(){return isPositiveNumber}});__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js");var n1="number";function isNegativeNumber(x){return x<0}function isPositiveNumber(x){return x>0}function isZeroNumber(x){return 0===x}function isNaNNumber(x){return Number.isNaN(x)}isNegativeNumber.signature=n1,isPositiveNumber.signature=n1,isZeroNumber.signature=n1,isNaNNumber.signature=n1},"./node_modules/mathjs/lib/esm/type/bignumber/BigNumber.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createBigNumberClass}});var decimal_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/decimal.js/decimal.mjs"),dependencies=["?on","config"],createBigNumberClass=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("BigNumber",dependencies,(_ref=>{var{on:on,config:config}=_ref,BigNumber=decimal_js__WEBPACK_IMPORTED_MODULE_0__.Z.clone({precision:config.precision,modulo:decimal_js__WEBPACK_IMPORTED_MODULE_0__.Z.EUCLID});return BigNumber.prototype=Object.create(BigNumber.prototype),BigNumber.prototype.type="BigNumber",BigNumber.prototype.isBigNumber=!0,BigNumber.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},BigNumber.fromJSON=function(json){return new BigNumber(json.value)},on&&on("config",(function(curr,prev){curr.precision!==prev.precision&&BigNumber.config({precision:curr.precision})})),BigNumber}),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/bignumber/function/bignumber.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{p:function(){return createBignumber}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed","BigNumber"],createBignumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("bignumber",dependencies,(_ref=>{var{typed:typed,BigNumber:BigNumber}=_ref;return typed("bignumber",{"":function _(){return new BigNumber(0)},number:function number(x){return new BigNumber(x+"")},string:function string(x){var wordSizeSuffixMatch=x.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(wordSizeSuffixMatch){var size=wordSizeSuffixMatch[2],n=BigNumber(wordSizeSuffixMatch[1]),twoPowSize=new BigNumber(2).pow(Number(size));if(n.gt(twoPowSize.sub(1)))throw new SyntaxError('String "'.concat(x,'" is out of range'));var twoPowSizeSubOne=new BigNumber(2).pow(Number(size)-1);return n.gte(twoPowSizeSubOne)?n.sub(twoPowSize):n}return new BigNumber(x)},BigNumber:function BigNumber(x){return x},Fraction:function Fraction(x){return new BigNumber(x.n).div(x.d).times(x.s)},null:function _null(x){return new BigNumber(0)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/type/boolean.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return createBoolean}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"],createBoolean=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("boolean",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("boolean",{"":function _(){return!1},boolean:function boolean(x){return x},number:function number(x){return!!x},null:function _null(x){return!1},BigNumber:function BigNumber(x){return!x.isZero()},string:function string(x){var lcase=x.toLowerCase();if("true"===lcase)return!0;if("false"===lcase)return!1;var num=Number(x);if(""!==x&&!isNaN(num))return!!num;throw new Error('Cannot convert "'+x+'" to a boolean')},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/type/complex/Complex.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createComplexClass}});var complex_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/complex.js/complex.js"),complex_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(complex_js__WEBPACK_IMPORTED_MODULE_0__),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),dependencies=[],createComplexClass=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("Complex",dependencies,(()=>(complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.type="Complex",complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.isComplex=!0,complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.format=function(options){var im=this.im,re=this.re,strRe=(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.WU)(this.re,options),strIm=(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.WU)(this.im,options),precision=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.hj)(options)?options:options?options.precision:null;if(null!==precision){var epsilon=Math.pow(10,-precision);Math.abs(re/im)<epsilon&&(re=0),Math.abs(im/re)<epsilon&&(im=0)}return 0===im?strRe:0===re?1===im?"i":-1===im?"-i":strIm+"i":im<0?-1===im?strRe+" - i":strRe+" - "+strIm.substring(1)+"i":1===im?strRe+" + i":strRe+" + "+strIm+"i"},complex_js__WEBPACK_IMPORTED_MODULE_0___default().fromPolar=function(args){switch(arguments.length){case 1:var arg=arguments[0];if("object"==typeof arg)return complex_js__WEBPACK_IMPORTED_MODULE_0___default()(arg);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],phi=arguments[1];if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.hj)(r)){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.wr)(phi)&&phi.hasBase("ANGLE")&&(phi=phi.toNumber("rad")),(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_3__.hj)(phi))return new(complex_js__WEBPACK_IMPORTED_MODULE_0___default())({r:r,phi:phi});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.valueOf=complex_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.toString,complex_js__WEBPACK_IMPORTED_MODULE_0___default().fromJSON=function(json){return new(complex_js__WEBPACK_IMPORTED_MODULE_0___default())(json)},complex_js__WEBPACK_IMPORTED_MODULE_0___default().compare=function(a,b){return a.re>b.re?1:a.re<b.re?-1:a.im>b.im?1:a.im<b.im?-1:0},complex_js__WEBPACK_IMPORTED_MODULE_0___default())),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/complex/function/complex.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createComplex}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed","Complex"],createComplex=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("complex",dependencies,(_ref=>{var{typed:typed,Complex:Complex}=_ref;return typed("complex",{"":function _(){return Complex.ZERO},number:function number(x){return new Complex(x,0)},"number, number":function numberNumber(re,im){return new Complex(re,im)},"BigNumber, BigNumber":function BigNumberBigNumber(re,im){return new Complex(re.toNumber(),im.toNumber())},Fraction:function Fraction(x){return new Complex(x.valueOf(),0)},Complex:function Complex(x){return x.clone()},string:function string(x){return Complex(x)},null:function _null(x){return Complex(0)},Object:function Object(x){if("re"in x&&"im"in x)return new Complex(x.re,x.im);if("r"in x&&"phi"in x||"abs"in x&&"arg"in x)return new Complex(x);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/type/fraction/Fraction.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{u:function(){return createFractionClass}});var fraction_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/fraction.js/fraction.js"),fraction_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(fraction_js__WEBPACK_IMPORTED_MODULE_0__),dependencies=[],createFractionClass=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("Fraction",dependencies,(()=>(fraction_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.type="Fraction",fraction_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.isFraction=!0,fraction_js__WEBPACK_IMPORTED_MODULE_0___default().prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},fraction_js__WEBPACK_IMPORTED_MODULE_0___default().fromJSON=function(json){return new(fraction_js__WEBPACK_IMPORTED_MODULE_0___default())(json)},fraction_js__WEBPACK_IMPORTED_MODULE_0___default())),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/fraction/function/fraction.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{v:function(){return createFraction}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed","Fraction"],createFraction=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("fraction",dependencies,(_ref=>{var{typed:typed,Fraction:Fraction}=_ref;return typed("fraction",{number:function number(x){if(!isFinite(x)||isNaN(x))throw new Error(x+" cannot be represented as a fraction");return new Fraction(x)},string:function string(x){return new Fraction(x)},"number, number":function numberNumber(numerator,denominator){return new Fraction(numerator,denominator)},null:function _null(x){return new Fraction(0)},BigNumber:function BigNumber(x){return new Fraction(x.toString())},Fraction:function Fraction(x){return x},Object:function Object(x){return new Fraction(x)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/type/matrix/DenseMatrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return createDenseMatrixClass}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["Matrix"],createDenseMatrixClass=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("DenseMatrix",dependencies,(_ref=>{var{Matrix:Matrix}=_ref;function DenseMatrix(data,datatype){if(!(this instanceof DenseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(datatype&&!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(datatype))throw new Error("Invalid datatype: "+datatype);if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(data))"DenseMatrix"===data.type?(this._data=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(data._data),this._size=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(data._size),this._datatype=datatype||data._datatype):(this._data=data.toArray(),this._size=data.size(),this._datatype=datatype||data._datatype);else if(data&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.data)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.size))this._data=data.data,this._size=data.size,(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Gu)(this._data,this._size),this._datatype=datatype||data.datatype;else if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data))this._data=preprocess(data),this._size=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.aJ)(this._data),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Gu)(this._data,this._size),this._datatype=datatype;else{if(data)throw new TypeError("Unsupported type of data ("+(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)(data)+")");this._data=[],this._size=[0],this._datatype=datatype}}function _getSubmatrix(data,index,dims,dim){var last=dim===dims-1,range=index.dimension(dim);return last?range.map((function(i){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(i,data.length),data[i]})).valueOf():range.map((function(i){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(i,data.length),_getSubmatrix(data[i],index,dims,dim+1)})).valueOf()}function _setSubmatrix(data,index,submatrix,dims,dim){var last=dim===dims-1,range=index.dimension(dim);last?range.forEach((function(dataIndex,subIndex){(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(dataIndex),data[dataIndex]=submatrix[subIndex[0]]})):range.forEach((function(dataIndex,subIndex){(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(dataIndex),_setSubmatrix(data[dataIndex],index,submatrix[subIndex[0]],dims,dim+1)}))}function _resize(matrix,size,defaultValue){if(0===size.length){for(var v=matrix._data;(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(v);)v=v[0];return v}return matrix._size=size.slice(0),matrix._data=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.SI)(matrix._data,matrix._size,defaultValue),matrix}function _fit(matrix,size,defaultValue){for(var newSize=matrix._size.slice(0),changed=!1;newSize.length<size.length;)newSize.push(0),changed=!0;for(var i=0,ii=size.length;i<ii;i++)size[i]>newSize[i]&&(newSize[i]=size[i],changed=!0);changed&&_resize(matrix,newSize,defaultValue)}function preprocess(data){for(var i=0,ii=data.length;i<ii;i++){var elem=data[i];(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(elem)?data[i]=preprocess(elem):elem&&!0===elem.isMatrix&&(data[i]=preprocess(elem.valueOf()))}return data}return DenseMatrix.prototype=new Matrix,DenseMatrix.prototype.createDenseMatrix=function(data,datatype){return new DenseMatrix(data,datatype)},DenseMatrix.prototype.type="DenseMatrix",DenseMatrix.prototype.isDenseMatrix=!0,DenseMatrix.prototype.getDataType=function(){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.$q)(this._data,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)},DenseMatrix.prototype.storage=function(){return"dense"},DenseMatrix.prototype.datatype=function(){return this._datatype},DenseMatrix.prototype.create=function(data,datatype){return new DenseMatrix(data,datatype)},DenseMatrix.prototype.subset=function(index,replacement,defaultValue){switch(arguments.length){case 1:return function _get(matrix,index){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.dh)(index))throw new TypeError("Invalid index");var isScalar=index.isScalar();if(isScalar)return matrix.get(index.min());var size=index.size();if(size.length!==matrix._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(size.length,matrix._size.length);for(var min=index.min(),max=index.max(),i=0,ii=matrix._size.length;i<ii;i++)(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(min[i],matrix._size[i]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(max[i],matrix._size[i]);return new DenseMatrix(_getSubmatrix(matrix._data,index,size.length,0),matrix._datatype)}(this,index);case 2:case 3:return function _set(matrix,index,submatrix,defaultValue){if(!index||!0!==index.isIndex)throw new TypeError("Invalid index");var sSize,iSize=index.size(),isScalar=index.isScalar();(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(submatrix)?(sSize=submatrix.size(),submatrix=submatrix.valueOf()):sSize=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.aJ)(submatrix);if(isScalar){if(0!==sSize.length)throw new TypeError("Scalar expected");matrix.set(index.min(),submatrix,defaultValue)}else{if(iSize.length<matrix._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(iSize.length,matrix._size.length,"<");if(sSize.length<iSize.length){for(var i=0,outer=0;1===iSize[i]&&1===sSize[i];)i++;for(;1===iSize[i];)outer++,i++;submatrix=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.f4)(submatrix,iSize.length,outer,sSize)}if(!(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.J5)(iSize,sSize))throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(iSize,sSize,">");var size=index.max().map((function(i){return i+1}));_fit(matrix,size,defaultValue);var dims=iSize.length,dim=0;_setSubmatrix(matrix._data,index,submatrix,dims,dim)}return matrix}(this,index,replacement,defaultValue);default:throw new SyntaxError("Wrong number of arguments")}},DenseMatrix.prototype.get=function(index){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(index))throw new TypeError("Array expected");if(index.length!==this._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(index.length,this._size.length);for(var x=0;x<index.length;x++)(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(index[x],this._size[x]);for(var data=this._data,i=0,ii=index.length;i<ii;i++){var indexI=index[i];(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(indexI,data.length),data=data[indexI]}return data},DenseMatrix.prototype.set=function(index,value,defaultValue){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(index))throw new TypeError("Array expected");if(index.length<this._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(index.length,this._size.length,"<");var i,ii,indexI,size=index.map((function(i){return i+1}));_fit(this,size,defaultValue);var data=this._data;for(i=0,ii=index.length-1;i<ii;i++)indexI=index[i],(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(indexI,data.length),data=data[indexI];return indexI=index[index.length-1],(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(indexI,data.length),data[indexI]=value,this},DenseMatrix.prototype.resize=function(size,defaultValue,copy){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(size))throw new TypeError("Array or Matrix expected");var sizeArray=size.valueOf().map((value=>Array.isArray(value)&&1===value.length?value[0]:value));return _resize(copy?this.clone():this,sizeArray,defaultValue)},DenseMatrix.prototype.reshape=function(size,copy){var m=copy?this.clone():this;m._data=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.XL)(m._data,size);var currentLength=m._size.reduce(((length,size)=>length*size));return m._size=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.eu)(size,currentLength),m},DenseMatrix.prototype.clone=function(){return new DenseMatrix({data:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._data),size:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._size),datatype:this._datatype})},DenseMatrix.prototype.size=function(){return this._size.slice(0)},DenseMatrix.prototype.map=function(callback){var me=this,data=function recurse(value,index){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(value)?value.map((function(child,i){return recurse(child,index.concat(i))})):callback(value,index,me)}(this._data,[]);return new DenseMatrix(data,void 0!==this._datatype?(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.$q)(data,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM):void 0)},DenseMatrix.prototype.forEach=function(callback){var me=this;!function recurse(value,index){(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(value)?value.forEach((function(child,i){recurse(child,index.concat(i))})):callback(value,index,me)}(this._data,[])},DenseMatrix.prototype[Symbol.iterator]=function*(){yield*function*recurse(value,index){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(value))for(var i=0;i<value.length;i++)yield*recurse(value[i],index.concat(i));else yield{value:value,index:index}}(this._data,[])},DenseMatrix.prototype.rows=function(){var result=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var data=this._data;for(var row of data)result.push(new DenseMatrix([row],this._datatype));return result},DenseMatrix.prototype.columns=function(){var _this=this,result=[],s=this.size();if(2!==s.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var data=this._data,_loop=function _loop(i){var col=data.map((row=>[row[i]]));result.push(new DenseMatrix(col,_this._datatype))},i=0;i<s[1];i++)_loop(i);return result},DenseMatrix.prototype.toArray=function(){return(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._data)},DenseMatrix.prototype.valueOf=function(){return this._data},DenseMatrix.prototype.format=function(options){return(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_5__.WU)(this._data,options)},DenseMatrix.prototype.toString=function(){return(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_5__.WU)(this._data)},DenseMatrix.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},DenseMatrix.prototype.diagonal=function(k){if(k){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(k)&&(k=k.toNumber()),!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(k)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_6__.U)(k))throw new TypeError("The parameter k must be an integer number")}else k=0;for(var kSuper=k>0?k:0,kSub=k<0?-k:0,rows=this._size[0],columns=this._size[1],n=Math.min(rows-kSub,columns-kSuper),data=[],i=0;i<n;i++)data[i]=this._data[i+kSub][i+kSuper];return new DenseMatrix({data:data,size:[n],datatype:this._datatype})},DenseMatrix.diagonal=function(size,value,k,defaultValue){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(size))throw new TypeError("Array expected, size parameter");if(2!==size.length)throw new Error("Only two dimensions matrix are supported");if(size=size.map((function(s){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(s)&&(s=s.toNumber()),!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(s)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_6__.U)(s)||s<1)throw new Error("Size values must be positive integers");return s})),k){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(k)&&(k=k.toNumber()),!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(k)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_6__.U)(k))throw new TypeError("The parameter k must be an integer number")}else k=0;var _value,kSuper=k>0?k:0,kSub=k<0?-k:0,rows=size[0],columns=size[1],n=Math.min(rows-kSub,columns-kSuper);if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(value)){if(value.length!==n)throw new Error("Invalid value array length");_value=function _value(i){return value[i]}}else if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(value)){var ms=value.size();if(1!==ms.length||ms[0]!==n)throw new Error("Invalid matrix length");_value=function _value(i){return value.get([i])}}else _value=function _value(){return value};defaultValue||(defaultValue=(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(_value(0))?_value(0).mul(0):0);var data=[];if(size.length>0){data=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.SI)(data,size,defaultValue);for(var d=0;d<n;d++)data[d+kSub][d+kSuper]=_value(d)}return new DenseMatrix({data:data,size:[rows,columns]})},DenseMatrix.fromJSON=function(json){return new DenseMatrix(json)},DenseMatrix.prototype.swapRows=function(i,j){if(!((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(i)&&(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_6__.U)(i)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(j)&&(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_6__.U)(j)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(i,this._size[0]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(j,this._size[0]),DenseMatrix._swapRows(i,j,this._data),this},DenseMatrix._swapRows=function(i,j,data){var vi=data[i];data[i]=data[j],data[j]=vi},DenseMatrix}),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/matrix/FibonacciHeap.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{b:function(){return createFibonacciHeapClass}});var dependencies=["smaller","larger"],createFibonacciHeapClass=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("FibonacciHeap",dependencies,(_ref=>{var{smaller:smaller,larger:larger}=_ref,oneOverLogPhi=1/Math.log((1+Math.sqrt(5))/2);function FibonacciHeap(){if(!(this instanceof FibonacciHeap))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function _cut(minimum,node,parent){node.left.right=node.right,node.right.left=node.left,parent.degree--,parent.child===node&&(parent.child=node.right),0===parent.degree&&(parent.child=null),node.left=minimum,node.right=minimum.right,minimum.right=node,node.right.left=node,node.parent=null,node.mark=!1}function _cascadingCut(minimum,node){var parent=node.parent;parent&&(node.mark?(_cut(minimum,node,parent),_cascadingCut(parent)):node.mark=!0)}FibonacciHeap.prototype.type="FibonacciHeap",FibonacciHeap.prototype.isFibonacciHeap=!0,FibonacciHeap.prototype.insert=function(key,value){var node={key:key,value:value,degree:0};if(this._minimum){var minimum=this._minimum;node.left=minimum,node.right=minimum.right,minimum.right=node,node.right.left=node,smaller(key,minimum.key)&&(this._minimum=node)}else node.left=node,node.right=node,this._minimum=node;return this._size++,node},FibonacciHeap.prototype.size=function(){return this._size},FibonacciHeap.prototype.clear=function(){this._minimum=null,this._size=0},FibonacciHeap.prototype.isEmpty=function(){return 0===this._size},FibonacciHeap.prototype.extractMinimum=function(){var node=this._minimum;if(null===node)return node;for(var minimum=this._minimum,numberOfChildren=node.degree,x=node.child;numberOfChildren>0;){var tempRight=x.right;x.left.right=x.right,x.right.left=x.left,x.left=minimum,x.right=minimum.right,minimum.right=x,x.right.left=x,x.parent=null,x=tempRight,numberOfChildren--}return node.left.right=node.right,node.right.left=node.left,minimum=node===node.right?null:function _findMinimumNode(minimum,size){var y,arraySize=Math.floor(Math.log(size)*oneOverLogPhi)+1,array=new Array(arraySize),numRoots=0,x=minimum;if(x)for(numRoots++,x=x.right;x!==minimum;)numRoots++,x=x.right;for(;numRoots>0;){for(var d=x.degree,next=x.right;y=array[d];){if(larger(x.key,y.key)){var temp=y;y=x,x=temp}_linkNodes(y,x),array[d]=null,d++}array[d]=x,x=next,numRoots--}minimum=null;for(var i=0;i<arraySize;i++)(y=array[i])&&(minimum?(y.left.right=y.right,y.right.left=y.left,y.left=minimum,y.right=minimum.right,minimum.right=y,y.right.left=y,smaller(y.key,minimum.key)&&(minimum=y)):minimum=y);return minimum}(minimum=node.right,this._size),this._size--,this._minimum=minimum,node},FibonacciHeap.prototype.remove=function(node){this._minimum=function _decreaseKey(minimum,node,key){node.key=key;var parent=node.parent;parent&&smaller(node.key,parent.key)&&(_cut(minimum,node,parent),_cascadingCut(minimum,parent));smaller(node.key,minimum.key)&&(minimum=node);return minimum}(this._minimum,node,-1),this.extractMinimum()};var _linkNodes=function _linkNodes(node,parent){node.left.right=node.right,node.right.left=node.left,node.parent=parent,parent.child?(node.left=parent.child,node.right=parent.child.right,parent.child.right=node,node.right.left=node):(parent.child=node,node.right=node,node.left=node),parent.degree++,node.mark=!1};return FibonacciHeap}),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/matrix/ImmutableDenseMatrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{H:function(){return createImmutableDenseMatrixClass}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),dependencies=["smaller","DenseMatrix"],createImmutableDenseMatrixClass=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("ImmutableDenseMatrix",dependencies,(_ref=>{var{smaller:smaller,DenseMatrix:DenseMatrix}=_ref;function ImmutableDenseMatrix(data,datatype){if(!(this instanceof ImmutableDenseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(datatype&&!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(datatype))throw new Error("Invalid datatype: "+datatype);if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(data)||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data)){var matrix=new DenseMatrix(data,datatype);this._data=matrix._data,this._size=matrix._size,this._datatype=matrix._datatype,this._min=null,this._max=null}else if(data&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.data)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.size))this._data=data.data,this._size=data.size,this._datatype=data.datatype,this._min=void 0!==data.min?data.min:null,this._max=void 0!==data.max?data.max:null;else{if(data)throw new TypeError("Unsupported type of data ("+(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)(data)+")");this._data=[],this._size=[0],this._datatype=datatype,this._min=null,this._max=null}}return ImmutableDenseMatrix.prototype=new DenseMatrix,ImmutableDenseMatrix.prototype.type="ImmutableDenseMatrix",ImmutableDenseMatrix.prototype.isImmutableDenseMatrix=!0,ImmutableDenseMatrix.prototype.subset=function(index){switch(arguments.length){case 1:var m=DenseMatrix.prototype.subset.call(this,index);return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(m)?new ImmutableDenseMatrix({data:m._data,size:m._size,datatype:m._datatype}):m;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},ImmutableDenseMatrix.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.clone=function(){return new ImmutableDenseMatrix({data:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._data),size:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._size),datatype:this._datatype})},ImmutableDenseMatrix.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},ImmutableDenseMatrix.fromJSON=function(json){return new ImmutableDenseMatrix(json)},ImmutableDenseMatrix.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.min=function(){if(null===this._min){var m=null;this.forEach((function(v){(null===m||smaller(v,m))&&(m=v)})),this._min=null!==m?m:void 0}return this._min},ImmutableDenseMatrix.prototype.max=function(){if(null===this._max){var m=null;this.forEach((function(v){(null===m||smaller(m,v))&&(m=v)})),this._max=null!==m?m:void 0}return this._max},ImmutableDenseMatrix}),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/matrix/Matrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{K:function(){return createMatrixClass}});var dependencies=[],createMatrixClass=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("Matrix",dependencies,(()=>{function Matrix(){if(!(this instanceof Matrix))throw new SyntaxError("Constructor must be called with the new operator")}return Matrix.prototype.type="Matrix",Matrix.prototype.isMatrix=!0,Matrix.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},Matrix.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},Matrix.prototype.create=function(data,datatype){throw new Error("Cannot invoke create on a Matrix interface")},Matrix.prototype.subset=function(index,replacement,defaultValue){throw new Error("Cannot invoke subset on a Matrix interface")},Matrix.prototype.get=function(index){throw new Error("Cannot invoke get on a Matrix interface")},Matrix.prototype.set=function(index,value,defaultValue){throw new Error("Cannot invoke set on a Matrix interface")},Matrix.prototype.resize=function(size,defaultValue){throw new Error("Cannot invoke resize on a Matrix interface")},Matrix.prototype.reshape=function(size,defaultValue){throw new Error("Cannot invoke reshape on a Matrix interface")},Matrix.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},Matrix.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},Matrix.prototype.map=function(callback,skipZeros){throw new Error("Cannot invoke map on a Matrix interface")},Matrix.prototype.forEach=function(callback){throw new Error("Cannot invoke forEach on a Matrix interface")},Matrix.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},Matrix.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},Matrix.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},Matrix.prototype.format=function(options){throw new Error("Cannot invoke format on a Matrix interface")},Matrix.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},Matrix}),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/matrix/MatrixIndex.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createIndexClass}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["ImmutableDenseMatrix"],createIndexClass=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("Index",dependencies,(_ref=>{var{ImmutableDenseMatrix:ImmutableDenseMatrix}=_ref;function Index(ranges){if(!(this instanceof Index))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var i=0,ii=arguments.length;i<ii;i++){var arg=arguments[i];if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.bR)(arg))this._dimensions.push(arg),this._isScalar=!1;else if(Array.isArray(arg)||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arg)){var m=_createImmutableMatrix(arg.valueOf());this._dimensions.push(m);var size=m.size();1===size.length&&1===size[0]||(this._isScalar=!1)}else if("number"==typeof arg)this._dimensions.push(_createImmutableMatrix([arg]));else{if("string"!=typeof arg)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(arg)}}}function _createImmutableMatrix(arg){for(var i=0,l=arg.length;i<l;i++)if("number"!=typeof arg[i]||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(arg[i]))throw new TypeError("Index parameters must be positive integer numbers");return new ImmutableDenseMatrix(arg)}return Index.prototype.type="Index",Index.prototype.isIndex=!0,Index.prototype.clone=function(){var index=new Index;return index._dimensions=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.d9)(this._dimensions),index._isScalar=this._isScalar,index},Index.create=function(ranges){var index=new Index;return Index.apply(index,ranges),index},Index.prototype.size=function(){for(var size=[],i=0,ii=this._dimensions.length;i<ii;i++){var d=this._dimensions[i];size[i]="string"==typeof d?1:d.size()[0]}return size},Index.prototype.max=function(){for(var values=[],i=0,ii=this._dimensions.length;i<ii;i++){var range=this._dimensions[i];values[i]="string"==typeof range?range:range.max()}return values},Index.prototype.min=function(){for(var values=[],i=0,ii=this._dimensions.length;i<ii;i++){var range=this._dimensions[i];values[i]="string"==typeof range?range:range.min()}return values},Index.prototype.forEach=function(callback){for(var i=0,ii=this._dimensions.length;i<ii;i++)callback(this._dimensions[i],i,this)},Index.prototype.dimension=function(dim){return this._dimensions[dim]||null},Index.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},Index.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},Index.prototype.isScalar=function(){return this._isScalar},Index.prototype.toArray=function(){for(var array=[],i=0,ii=this._dimensions.length;i<ii;i++){var dimension=this._dimensions[i];array.push("string"==typeof dimension?dimension:dimension.toArray())}return array},Index.prototype.valueOf=Index.prototype.toArray,Index.prototype.toString=function(){for(var strings=[],i=0,ii=this._dimensions.length;i<ii;i++){var dimension=this._dimensions[i];"string"==typeof dimension?strings.push(JSON.stringify(dimension)):strings.push(dimension.toString())}return"["+strings.join(", ")+"]"},Index.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},Index.fromJSON=function(json){return Index.create(json.dimensions)},Index}),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/matrix/Range.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return createRangeClass}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),dependencies=[],createRangeClass=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("Range",dependencies,(()=>{function Range(start,end,step){if(!(this instanceof Range))throw new SyntaxError("Constructor must be called with the new operator");var hasStart=null!=start,hasEnd=null!=end,hasStep=null!=step;if(hasStart)if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(start))start=start.toNumber();else if("number"!=typeof start)throw new TypeError("Parameter start must be a number");if(hasEnd)if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(end))end=end.toNumber();else if("number"!=typeof end)throw new TypeError("Parameter end must be a number");if(hasStep)if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(step))step=step.toNumber();else if("number"!=typeof step)throw new TypeError("Parameter step must be a number");this.start=hasStart?parseFloat(start):0,this.end=hasEnd?parseFloat(end):0,this.step=hasStep?parseFloat(step):1}return Range.prototype.type="Range",Range.prototype.isRange=!0,Range.parse=function(str){if("string"!=typeof str)return null;var nums=str.split(":").map((function(arg){return parseFloat(arg)}));if(nums.some((function(num){return isNaN(num)})))return null;switch(nums.length){case 2:return new Range(nums[0],nums[1]);case 3:return new Range(nums[0],nums[2],nums[1]);default:return null}},Range.prototype.clone=function(){return new Range(this.start,this.end,this.step)},Range.prototype.size=function(){var len=0,start=this.start,step=this.step,diff=this.end-start;return(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.Xx)(step)===(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.Xx)(diff)?len=Math.ceil(diff/step):0===diff&&(len=0),isNaN(len)&&(len=0),[len]},Range.prototype.min=function(){var size=this.size()[0];return size>0?this.step>0?this.start:this.start+(size-1)*this.step:void 0},Range.prototype.max=function(){var size=this.size()[0];return size>0?this.step>0?this.start+(size-1)*this.step:this.start:void 0},Range.prototype.forEach=function(callback){var x=this.start,step=this.step,end=this.end,i=0;if(step>0)for(;x<end;)callback(x,[i],this),x+=step,i++;else if(step<0)for(;x>end;)callback(x,[i],this),x+=step,i++},Range.prototype.map=function(callback){var array=[];return this.forEach((function(value,index,obj){array[index[0]]=callback(value,index,obj)})),array},Range.prototype.toArray=function(){var array=[];return this.forEach((function(value,index){array[index[0]]=value})),array},Range.prototype.valueOf=function(){return this.toArray()},Range.prototype.format=function(options){var str=(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.WU)(this.start,options);return 1!==this.step&&(str+=":"+(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.WU)(this.step,options)),str+=":"+(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_2__.WU)(this.end,options)},Range.prototype.toString=function(){return this.format()},Range.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},Range.fromJSON=function(json){return new Range(json.start,json.end,json.step)},Range}),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/matrix/Spa.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{W:function(){return createSpaClass}});var dependencies=["addScalar","equalScalar","FibonacciHeap"],createSpaClass=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("Spa",dependencies,(_ref=>{var{addScalar:addScalar,equalScalar:equalScalar,FibonacciHeap:FibonacciHeap}=_ref;function Spa(){if(!(this instanceof Spa))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new FibonacciHeap}return Spa.prototype.type="Spa",Spa.prototype.isSpa=!0,Spa.prototype.set=function(i,v){if(this._values[i])this._values[i].value=v;else{var node=this._heap.insert(i,v);this._values[i]=node}},Spa.prototype.get=function(i){var node=this._values[i];return node?node.value:0},Spa.prototype.accumulate=function(i,v){var node=this._values[i];node?node.value=addScalar(node.value,v):(node=this._heap.insert(i,v),this._values[i]=node)},Spa.prototype.forEach=function(from,to,callback){var heap=this._heap,values=this._values,nodes=[],node=heap.extractMinimum();for(node&&nodes.push(node);node&&node.key<=to;)node.key>=from&&(equalScalar(node.value,0)||callback(node.key,node.value,this)),(node=heap.extractMinimum())&&nodes.push(node);for(var i=0;i<nodes.length;i++){var n=nodes[i];values[(node=heap.insert(n.key,n.value)).key]=node}},Spa.prototype.swap=function(i,j){var nodei=this._values[i],nodej=this._values[j];if(!nodei&&nodej)nodei=this._heap.insert(i,nodej.value),this._heap.remove(nodej),this._values[i]=nodei,this._values[j]=void 0;else if(nodei&&!nodej)nodej=this._heap.insert(j,nodei.value),this._heap.remove(nodei),this._values[j]=nodej,this._values[i]=void 0;else if(nodei&&nodej){var v=nodei.value;nodei.value=nodej.value,nodej.value=v}},Spa}),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/matrix/SparseMatrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:function(){return createSparseMatrixClass}});var _utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_array_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","equalScalar","Matrix"],createSparseMatrixClass=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("SparseMatrix",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar,Matrix:Matrix}=_ref;function SparseMatrix(data,datatype){if(!(this instanceof SparseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(datatype&&!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(datatype))throw new Error("Invalid datatype: "+datatype);if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(data))!function _createFromMatrix(matrix,source,datatype){"SparseMatrix"===source.type?(matrix._values=source._values?(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(source._values):void 0,matrix._index=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(source._index),matrix._ptr=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(source._ptr),matrix._size=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(source._size),matrix._datatype=datatype||source._datatype):_createFromArray(matrix,source.valueOf(),datatype||source._datatype)}(this,data,datatype);else if(data&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.index)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.ptr)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data.size))this._values=data.values,this._index=data.index,this._ptr=data.ptr,this._size=data.size,this._datatype=datatype||data.datatype;else if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(data))_createFromArray(this,data,datatype);else{if(data)throw new TypeError("Unsupported type of data ("+(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)(data)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=datatype}}function _createFromArray(matrix,data,datatype){matrix._values=[],matrix._index=[],matrix._ptr=[],matrix._datatype=datatype;var rows=data.length,columns=0,eq=equalScalar,zero=0;if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(datatype)&&(eq=typed.find(equalScalar,[datatype,datatype])||equalScalar,zero=typed.convert(0,datatype)),rows>0){var j=0;do{matrix._ptr.push(matrix._index.length);for(var i=0;i<rows;i++){var row=data[i];if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(row)){if(0===j&&columns<row.length&&(columns=row.length),j<row.length){var v=row[j];eq(v,zero)||(matrix._values.push(v),matrix._index.push(i))}}else 0===j&&columns<1&&(columns=1),eq(row,zero)||(matrix._values.push(row),matrix._index.push(i))}j++}while(j<columns)}matrix._ptr.push(matrix._index.length),matrix._size=[rows,columns]}function _getValueIndex(i,top,bottom,index){if(bottom-top==0)return bottom;for(var r=top;r<bottom;r++)if(index[r]===i)return r;return top}function _insert(k,i,j,v,values,index,ptr){values.splice(k,0,v),index.splice(k,0,i);for(var x=j+1;x<ptr.length;x++)ptr[x]++}function _resize(matrix,rows,columns,defaultValue){var value=defaultValue||0,eq=equalScalar,zero=0;(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(matrix._datatype)&&(eq=typed.find(equalScalar,[matrix._datatype,matrix._datatype])||equalScalar,zero=typed.convert(0,matrix._datatype),value=typed.convert(value,matrix._datatype));var i,j,k,ins=!eq(value,zero),r=matrix._size[0],c=matrix._size[1];if(columns>c){for(j=c;j<columns;j++)if(matrix._ptr[j]=matrix._values.length,ins)for(i=0;i<r;i++)matrix._values.push(value),matrix._index.push(i);matrix._ptr[columns]=matrix._values.length}else columns<c&&(matrix._ptr.splice(columns+1,c-columns),matrix._values.splice(matrix._ptr[columns],matrix._values.length),matrix._index.splice(matrix._ptr[columns],matrix._index.length));if(c=columns,rows>r){if(ins){var n=0;for(j=0;j<c;j++){matrix._ptr[j]=matrix._ptr[j]+n,k=matrix._ptr[j+1]+n;var p=0;for(i=r;i<rows;i++,p++)matrix._values.splice(k+p,0,value),matrix._index.splice(k+p,0,i),n++}matrix._ptr[c]=matrix._values.length}}else if(rows<r){var d=0;for(j=0;j<c;j++){matrix._ptr[j]=matrix._ptr[j]-d;var k0=matrix._ptr[j],k1=matrix._ptr[j+1]-d;for(k=k0;k<k1;k++)(i=matrix._index[k])>rows-1&&(matrix._values.splice(k,1),matrix._index.splice(k,1),d++)}matrix._ptr[j]=matrix._values.length}return matrix._size[0]=rows,matrix._size[1]=columns,matrix}function _toArray(values,index,ptr,size,copy){var i,j,rows=size[0],columns=size[1],a=[];for(i=0;i<rows;i++)for(a[i]=[],j=0;j<columns;j++)a[i][j]=0;for(j=0;j<columns;j++)for(var k0=ptr[j],k1=ptr[j+1],k=k0;k<k1;k++)a[i=index[k]][j]=values?copy?(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(values[k]):values[k]:1;return a}return SparseMatrix.prototype=new Matrix,SparseMatrix.prototype.createSparseMatrix=function(data,datatype){return new SparseMatrix(data,datatype)},SparseMatrix.prototype.type="SparseMatrix",SparseMatrix.prototype.isSparseMatrix=!0,SparseMatrix.prototype.getDataType=function(){return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.$q)(this._values,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kM)},SparseMatrix.prototype.storage=function(){return"sparse"},SparseMatrix.prototype.datatype=function(){return this._datatype},SparseMatrix.prototype.create=function(data,datatype){return new SparseMatrix(data,datatype)},SparseMatrix.prototype.density=function(){var rows=this._size[0],columns=this._size[1];return 0!==rows&&0!==columns?this._index.length/(rows*columns):0},SparseMatrix.prototype.subset=function(index,replacement,defaultValue){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function _getsubset(matrix,idx){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.dh)(idx))throw new TypeError("Invalid index");if(idx.isScalar())return matrix.get(idx.min());var i,ii,k,kk,size=idx.size();if(size.length!==matrix._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(size.length,matrix._size.length);var min=idx.min(),max=idx.max();for(i=0,ii=matrix._size.length;i<ii;i++)(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(min[i],matrix._size[i]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(max[i],matrix._size[i]);var mvalues=matrix._values,mindex=matrix._index,mptr=matrix._ptr,rows=idx.dimension(0),columns=idx.dimension(1),w=[],pv=[];rows.forEach((function(i,r){pv[i]=r[0],w[i]=!0}));var values=mvalues?[]:void 0,index=[],ptr=[];return columns.forEach((function(j){for(ptr.push(index.length),k=mptr[j],kk=mptr[j+1];k<kk;k++)i=mindex[k],!0===w[i]&&(index.push(pv[i]),values&&values.push(mvalues[k]))})),ptr.push(index.length),new SparseMatrix({values:values,index:index,ptr:ptr,size:size,datatype:matrix._datatype})}(this,index);case 2:case 3:return function _setsubset(matrix,index,submatrix,defaultValue){if(!index||!0!==index.isIndex)throw new TypeError("Invalid index");var sSize,iSize=index.size(),isScalar=index.isScalar();(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(submatrix)?(sSize=submatrix.size(),submatrix=submatrix.toArray()):sSize=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.aJ)(submatrix);if(isScalar){if(0!==sSize.length)throw new TypeError("Scalar expected");matrix.set(index.min(),submatrix,defaultValue)}else{if(1!==iSize.length&&2!==iSize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(iSize.length,matrix._size.length,"<");if(sSize.length<iSize.length){for(var i=0,outer=0;1===iSize[i]&&1===sSize[i];)i++;for(;1===iSize[i];)outer++,i++;submatrix=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.f4)(submatrix,iSize.length,outer,sSize)}if(!(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.J5)(iSize,sSize))throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(iSize,sSize,">");for(var x0=index.min()[0],y0=index.min()[1],m=sSize[0],n=sSize[1],x=0;x<m;x++)for(var y=0;y<n;y++){var v=submatrix[x][y];matrix.set([x+x0,y+y0],v,defaultValue)}}return matrix}(this,index,replacement,defaultValue);default:throw new SyntaxError("Wrong number of arguments")}},SparseMatrix.prototype.get=function(index){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(index))throw new TypeError("Array expected");if(index.length!==this._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(index.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var i=index[0],j=index[1];(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(i,this._size[0]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(j,this._size[1]);var k=_getValueIndex(i,this._ptr[j],this._ptr[j+1],this._index);return k<this._ptr[j+1]&&this._index[k]===i?this._values[k]:0},SparseMatrix.prototype.set=function(index,v,defaultValue){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(index))throw new TypeError("Array expected");if(index.length!==this._size.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_4__.m(index.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var i=index[0],j=index[1],rows=this._size[0],columns=this._size[1],eq=equalScalar,zero=0;(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(this._datatype)&&(eq=typed.find(equalScalar,[this._datatype,this._datatype])||equalScalar,zero=typed.convert(0,this._datatype)),(i>rows-1||j>columns-1)&&(_resize(this,Math.max(i+1,rows),Math.max(j+1,columns),defaultValue),rows=this._size[0],columns=this._size[1]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(i,rows),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(j,columns);var k=_getValueIndex(i,this._ptr[j],this._ptr[j+1],this._index);return k<this._ptr[j+1]&&this._index[k]===i?eq(v,zero)?function _remove(k,j,values,index,ptr){values.splice(k,1),index.splice(k,1);for(var x=j+1;x<ptr.length;x++)ptr[x]--}(k,j,this._values,this._index,this._ptr):this._values[k]=v:_insert(k,i,j,v,this._values,this._index,this._ptr),this},SparseMatrix.prototype.resize=function(size,defaultValue,copy){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.uZ)(size))throw new TypeError("Array or Matrix expected");var sizeArray=size.valueOf().map((value=>Array.isArray(value)&&1===value.length?value[0]:value));if(2!==sizeArray.length)throw new Error("Only two dimensions matrix are supported");return sizeArray.forEach((function(value){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(value)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(value)||value<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(sizeArray)+")")})),_resize(copy?this.clone():this,sizeArray[0],sizeArray[1],defaultValue)},SparseMatrix.prototype.reshape=function(sizes,copy){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(sizes))throw new TypeError("Array expected");if(2!==sizes.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");sizes.forEach((function(value){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(value)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(value)||value<=-2||0===value)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(sizes)+")")}));var currentLength=this._size[0]*this._size[1];if(currentLength!==(sizes=(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.eu)(sizes,currentLength))[0]*sizes[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var m=copy?this.clone():this;if(this._size[0]===sizes[0]&&this._size[1]===sizes[1])return m;for(var colIndex=[],i=0;i<m._ptr.length;i++)for(var j=0;j<m._ptr[i+1]-m._ptr[i];j++)colIndex.push(i);for(var values=m._values.slice(),rowIndex=m._index.slice(),_i=0;_i<m._index.length;_i++){var r1=rowIndex[_i],c1=colIndex[_i],flat=r1*m._size[1]+c1;colIndex[_i]=flat%sizes[1],rowIndex[_i]=Math.floor(flat/sizes[1])}m._values.length=0,m._index.length=0,m._ptr.length=sizes[1]+1,m._size=sizes.slice();for(var _i2=0;_i2<m._ptr.length;_i2++)m._ptr[_i2]=0;for(var h=0;h<values.length;h++){var _i3=rowIndex[h],_j=colIndex[h],v=values[h];_insert(_getValueIndex(_i3,m._ptr[_j],m._ptr[_j+1],m._index),_i3,_j,v,m._values,m._index,m._ptr)}return m},SparseMatrix.prototype.clone=function(){return new SparseMatrix({values:this._values?(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._values):void 0,index:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._index),ptr:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._ptr),size:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_2__.d9)(this._size),datatype:this._datatype})},SparseMatrix.prototype.size=function(){return this._size.slice(0)},SparseMatrix.prototype.map=function(callback,skipZeros){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var me=this;return function _map(matrix,minRow,maxRow,minColumn,maxColumn,callback,skipZeros){var values=[],index=[],ptr=[],eq=equalScalar,zero=0;(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(matrix._datatype)&&(eq=typed.find(equalScalar,[matrix._datatype,matrix._datatype])||equalScalar,zero=typed.convert(0,matrix._datatype));for(var invoke=function invoke(v,x,y){v=callback(v,x,y),eq(v,zero)||(values.push(v),index.push(x))},j=minColumn;j<=maxColumn;j++){ptr.push(values.length);var k0=matrix._ptr[j],k1=matrix._ptr[j+1];if(skipZeros)for(var k=k0;k<k1;k++){var i=matrix._index[k];i>=minRow&&i<=maxRow&&invoke(matrix._values[k],i-minRow,j-minColumn)}else{for(var _values={},_k=k0;_k<k1;_k++){_values[matrix._index[_k]]=matrix._values[_k]}for(var _i5=minRow;_i5<=maxRow;_i5++){invoke(_i5 in _values?_values[_i5]:0,_i5-minRow,j-minColumn)}}}return ptr.push(values.length),new SparseMatrix({values:values,index:index,ptr:ptr,size:[maxRow-minRow+1,maxColumn-minColumn+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function invoke(v,i,j){return callback(v,[i,j],me)}),skipZeros)},SparseMatrix.prototype.forEach=function(callback,skipZeros){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var rows=this._size[0],columns=this._size[1],j=0;j<columns;j++){var k0=this._ptr[j],k1=this._ptr[j+1];if(skipZeros)for(var k=k0;k<k1;k++){var i=this._index[k];callback(this._values[k],[i,j],this)}else{for(var values={},_k2=k0;_k2<k1;_k2++){values[this._index[_k2]]=this._values[_k2]}for(var _i7=0;_i7<rows;_i7++){callback(_i7 in values?values[_i7]:0,[_i7,j],this)}}}},SparseMatrix.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var columns=this._size[1],j=0;j<columns;j++)for(var k0=this._ptr[j],k1=this._ptr[j+1],k=k0;k<k1;k++){var i=this._index[k];yield{value:this._values[k],index:[i,j]}}},SparseMatrix.prototype.toArray=function(){return _toArray(this._values,this._index,this._ptr,this._size,!0)},SparseMatrix.prototype.valueOf=function(){return _toArray(this._values,this._index,this._ptr,this._size,!1)},SparseMatrix.prototype.format=function(options){for(var rows=this._size[0],columns=this._size[1],density=this.density(),str="Sparse Matrix ["+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(rows,options)+" x "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(columns,options)+"] density: "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(density,options)+"\n",j=0;j<columns;j++)for(var k0=this._ptr[j],k1=this._ptr[j+1],k=k0;k<k1;k++){var i=this._index[k];str+="\n    ("+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(i,options)+", "+(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(j,options)+") ==> "+(this._values?(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(this._values[k],options):"X")}return str},SparseMatrix.prototype.toString=function(){return(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_6__.WU)(this.toArray())},SparseMatrix.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},SparseMatrix.prototype.diagonal=function(k){if(k){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(k)&&(k=k.toNumber()),!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(k)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(k))throw new TypeError("The parameter k must be an integer number")}else k=0;var kSuper=k>0?k:0,kSub=k<0?-k:0,rows=this._size[0],columns=this._size[1],n=Math.min(rows-kSub,columns-kSuper),values=[],index=[],ptr=[];ptr[0]=0;for(var j=kSuper;j<columns&&values.length<n;j++)for(var k0=this._ptr[j],k1=this._ptr[j+1],x=k0;x<k1;x++){var i=this._index[x];if(i===j-kSuper+kSub){values.push(this._values[x]),index[values.length-1]=i-kSub;break}}return ptr.push(values.length),new SparseMatrix({values:values,index:index,ptr:ptr,size:[n,1]})},SparseMatrix.fromJSON=function(json){return new SparseMatrix(json)},SparseMatrix.diagonal=function(size,value,k,defaultValue,datatype){if(!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(size))throw new TypeError("Array expected, size parameter");if(2!==size.length)throw new Error("Only two dimensions matrix are supported");if(size=size.map((function(s){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(s)&&(s=s.toNumber()),!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(s)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(s)||s<1)throw new Error("Size values must be positive integers");return s})),k){if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(k)&&(k=k.toNumber()),!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(k)||!(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(k))throw new TypeError("The parameter k must be an integer number")}else k=0;var eq=equalScalar,zero=0;(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.HD)(datatype)&&(eq=typed.find(equalScalar,[datatype,datatype])||equalScalar,zero=typed.convert(0,datatype));var _value,kSuper=k>0?k:0,kSub=k<0?-k:0,rows=size[0],columns=size[1],n=Math.min(rows-kSub,columns-kSuper);if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.kJ)(value)){if(value.length!==n)throw new Error("Invalid value array length");_value=function _value(i){return value[i]}}else if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(value)){var ms=value.size();if(1!==ms.length||ms[0]!==n)throw new Error("Invalid matrix length");_value=function _value(i){return value.get([i])}}else _value=function _value(){return value};for(var values=[],index=[],ptr=[],j=0;j<columns;j++){ptr.push(values.length);var i=j-kSuper;if(i>=0&&i<n){var v=_value(i);eq(v,zero)||(index.push(i+kSub),values.push(v))}}return ptr.push(values.length),new SparseMatrix({values:values,index:index,ptr:ptr,size:[rows,columns]})},SparseMatrix.prototype.swapRows=function(i,j){if(!((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(i)&&(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(i)&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(j)&&(0,_utils_number_js__WEBPACK_IMPORTED_MODULE_5__.U)(j)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(i,this._size[0]),(0,_utils_array_js__WEBPACK_IMPORTED_MODULE_3__.Ls)(j,this._size[0]),SparseMatrix._swapRows(i,j,this._size[1],this._values,this._index,this._ptr),this},SparseMatrix._forEachRow=function(j,values,index,ptr,callback){for(var k0=ptr[j],k1=ptr[j+1],k=k0;k<k1;k++)callback(index[k],values[k])},SparseMatrix._swapRows=function(x,y,columns,values,index,ptr){for(var j=0;j<columns;j++){var k0=ptr[j],k1=ptr[j+1],kx=_getValueIndex(x,k0,k1,index),ky=_getValueIndex(y,k0,k1,index);if(kx<k1&&ky<k1&&index[kx]===x&&index[ky]===y){if(values){var v=values[kx];values[kx]=values[ky],values[ky]=v}}else if(kx<k1&&index[kx]===x&&(ky>=k1||index[ky]!==y)){var vx=values?values[kx]:void 0;index.splice(ky,0,y),values&&values.splice(ky,0,vx),index.splice(ky<=kx?kx+1:kx,1),values&&values.splice(ky<=kx?kx+1:kx,1)}else if(ky<k1&&index[ky]===y&&(kx>=k1||index[kx]!==x)){var vy=values?values[ky]:void 0;index.splice(kx,0,x),values&&values.splice(kx,0,vy),index.splice(kx<=ky?ky+1:ky,1),values&&values.splice(kx<=ky?ky+1:ky,1)}}},SparseMatrix}),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/matrix/function/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return createIndex}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),dependencies=["typed","Index"],createIndex=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("index",dependencies,(_ref=>{var{typed:typed,Index:Index}=_ref;return typed("index",{"...number | string | BigNumber | Range | Array | Matrix":function numberStringBigNumberRangeArrayMatrix(args){var ranges=args.map((function(arg){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(arg)?arg.toNumber():Array.isArray(arg)||(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.SW)(arg)?arg.map((function(elem){return(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_1__.l9)(elem)?elem.toNumber():elem})):arg})),res=new Index;return Index.apply(res,ranges),res}})}))},"./node_modules/mathjs/lib/esm/type/matrix/function/matrix.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createMatrix}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","Matrix","DenseMatrix","SparseMatrix"],createMatrix=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("matrix",dependencies,(_ref=>{var{typed:typed,Matrix:Matrix,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix}=_ref;return typed("matrix",{"":function _(){return _create([])},string:function string(format){return _create([],format)},"string, string":function stringString(format,datatype){return _create([],format,datatype)},Array:function Array(data){return _create(data)},Matrix:function Matrix(data){return _create(data,data.storage())},"Array | Matrix, string":_create,"Array | Matrix, string, string":_create});function _create(data,format,datatype){if("dense"===format||"default"===format||void 0===format)return new DenseMatrix(data,datatype);if("sparse"===format)return new SparseMatrix(data,datatype);throw new TypeError("Unknown matrix type "+JSON.stringify(format)+".")}}))},"./node_modules/mathjs/lib/esm/type/matrix/function/sparse.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return createSparse}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","SparseMatrix"],createSparse=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("sparse",dependencies,(_ref=>{var{typed:typed,SparseMatrix:SparseMatrix}=_ref;return typed("sparse",{"":function _(){return new SparseMatrix([])},string:function string(datatype){return new SparseMatrix([],datatype)},"Array | Matrix":function ArrayMatrix(data){return new SparseMatrix(data)},"Array | Matrix, string":function ArrayMatrixString(data,datatype){return new SparseMatrix(data,datatype)}})}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm01.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return createAlgorithm01}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed"],createAlgorithm01=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("algorithm01",dependencies,(_ref=>{var{typed:typed}=_ref;return function algorithm1(denseMatrix,sparseMatrix,callback,inverse){var adata=denseMatrix._data,asize=denseMatrix._size,adt=denseMatrix._datatype,bvalues=sparseMatrix._values,bindex=sparseMatrix._index,bptr=sparseMatrix._ptr,bsize=sparseMatrix._size,bdt=sparseMatrix._datatype;if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");if(!bvalues)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var i,j,rows=asize[0],columns=asize[1],dt="string"==typeof adt&&adt===bdt?adt:void 0,cf=dt?typed.find(callback,[dt,dt]):callback,cdata=[];for(i=0;i<rows;i++)cdata[i]=[];var x=[],w=[];for(j=0;j<columns;j++){for(var mark=j+1,k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++)x[i=bindex[k]]=inverse?cf(bvalues[k],adata[i][j]):cf(adata[i][j],bvalues[k]),w[i]=mark;for(i=0;i<rows;i++)w[i]===mark?cdata[i][j]=x[i]:cdata[i][j]=adata[i][j]}return denseMatrix.createDenseMatrix({data:cdata,size:[rows,columns],datatype:dt})}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm02.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{h:function(){return createAlgorithm02}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","equalScalar"],createAlgorithm02=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("algorithm02",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function algorithm02(denseMatrix,sparseMatrix,callback,inverse){var adata=denseMatrix._data,asize=denseMatrix._size,adt=denseMatrix._datatype,bvalues=sparseMatrix._values,bindex=sparseMatrix._index,bptr=sparseMatrix._ptr,bsize=sparseMatrix._size,bdt=sparseMatrix._datatype;if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");if(!bvalues)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));for(var cvalues=[],cindex=[],cptr=[],j=0;j<columns;j++){cptr[j]=cindex.length;for(var k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++){var i=bindex[k],cij=inverse?cf(bvalues[k],adata[i][j]):cf(adata[i][j],bvalues[k]);eq(cij,zero)||(cindex.push(i),cvalues.push(cij))}}return cptr[columns]=cindex.length,sparseMatrix.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt})}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm03.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return createAlgorithm03}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed"],createAlgorithm03=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("algorithm03",dependencies,(_ref=>{var{typed:typed}=_ref;return function algorithm03(denseMatrix,sparseMatrix,callback,inverse){var adata=denseMatrix._data,asize=denseMatrix._size,adt=denseMatrix._datatype,bvalues=sparseMatrix._values,bindex=sparseMatrix._index,bptr=sparseMatrix._ptr,bsize=sparseMatrix._size,bdt=sparseMatrix._datatype;if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");if(!bvalues)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var dt,rows=asize[0],columns=asize[1],zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&(dt=adt,zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));for(var cdata=[],z=0;z<rows;z++)cdata[z]=[];for(var x=[],w=[],j=0;j<columns;j++){for(var mark=j+1,k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++){var i=bindex[k];x[i]=inverse?cf(bvalues[k],adata[i][j]):cf(adata[i][j],bvalues[k]),w[i]=mark}for(var y=0;y<rows;y++)w[y]===mark?cdata[y][j]=x[y]:cdata[y][j]=inverse?cf(zero,adata[y][j]):cf(adata[y][j],zero)}return denseMatrix.createDenseMatrix({data:cdata,size:[rows,columns],datatype:dt})}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm04.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{H:function(){return createAlgorithm04}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","equalScalar"],createAlgorithm04=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("algorithm04",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function algorithm04(a,b,callback){var avalues=a._values,aindex=a._index,aptr=a._ptr,asize=a._size,adt=a._datatype,bvalues=b._values,bindex=b._index,bptr=b._ptr,bsize=b._size,bdt=b._datatype;if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));var i,j,k,k0,k1,cvalues=avalues&&bvalues?[]:void 0,cindex=[],cptr=[],xa=avalues&&bvalues?[]:void 0,xb=avalues&&bvalues?[]:void 0,wa=[],wb=[];for(j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++)i=aindex[k],cindex.push(i),wa[i]=mark,xa&&(xa[i]=avalues[k]);for(k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++)if(wa[i=bindex[k]]===mark){if(xa){var v=cf(xa[i],bvalues[k]);eq(v,zero)?wa[i]=null:xa[i]=v}}else cindex.push(i),wb[i]=mark,xb&&(xb[i]=bvalues[k]);if(xa&&xb)for(k=cptr[j];k<cindex.length;)wa[i=cindex[k]]===mark?(cvalues[k]=xa[i],k++):wb[i]===mark?(cvalues[k]=xb[i],k++):cindex.splice(k,1)}return cptr[columns]=cindex.length,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt})}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm05.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{p:function(){return createAlgorithm05}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","equalScalar"],createAlgorithm05=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("algorithm05",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function algorithm05(a,b,callback){var avalues=a._values,aindex=a._index,aptr=a._ptr,asize=a._size,adt=a._datatype,bvalues=b._values,bindex=b._index,bptr=b._ptr,bsize=b._size,bdt=b._datatype;if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));var i,j,k,k1,cvalues=avalues&&bvalues?[]:void 0,cindex=[],cptr=[],xa=cvalues?[]:void 0,xb=cvalues?[]:void 0,wa=[],wb=[];for(j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;for(k=aptr[j],k1=aptr[j+1];k<k1;k++)i=aindex[k],cindex.push(i),wa[i]=mark,xa&&(xa[i]=avalues[k]);for(k=bptr[j],k1=bptr[j+1];k<k1;k++)wa[i=bindex[k]]!==mark&&cindex.push(i),wb[i]=mark,xb&&(xb[i]=bvalues[k]);if(cvalues)for(k=cptr[j];k<cindex.length;){var wai=wa[i=cindex[k]],wbi=wb[i];if(wai===mark||wbi===mark){var vc=cf(wai===mark?xa[i]:zero,wbi===mark?xb[i]:zero);eq(vc,zero)?cindex.splice(k,1):(cvalues.push(vc),k++)}}}return cptr[columns]=cindex.length,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt})}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm06.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return createAlgorithm06}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed","equalScalar"],createAlgorithm06=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("algorithm06",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function algorithm06(a,b,callback){var avalues=a._values,asize=a._size,adt=a._datatype,bvalues=b._values,bsize=b._size,bdt=b._datatype;if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));for(var cvalues=avalues&&bvalues?[]:void 0,cindex=[],cptr=[],x=cvalues?[]:void 0,w=[],u=[],j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;if((0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.U6)(a,j,w,x,u,mark,cindex,cf),(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.U6)(b,j,w,x,u,mark,cindex,cf),x)for(var k=cptr[j];k<cindex.length;){var i=cindex[k];if(u[i]===mark){var v=x[i];eq(v,zero)?cindex.splice(k,1):(cvalues.push(v),k++)}else cindex.splice(k,1)}else for(var p=cptr[j];p<cindex.length;){u[cindex[p]]!==mark?cindex.splice(p,1):p++}}return cptr[columns]=cindex.length,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt})}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm07.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{r:function(){return createAlgorithm07}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","DenseMatrix"],createAlgorithm07=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("algorithm07",dependencies,(_ref=>{var{typed:typed,DenseMatrix:DenseMatrix}=_ref;return function algorithm07(a,b,callback){var asize=a._size,adt=a._datatype,bsize=b._size,bdt=b._datatype;if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");var dt,i,j,rows=asize[0],columns=asize[1],zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&(dt=adt,zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));var cdata=[];for(i=0;i<rows;i++)cdata[i]=[];var xa=[],xb=[],wa=[],wb=[];for(j=0;j<columns;j++){var mark=j+1;for(_scatter(a,j,wa,xa,mark),_scatter(b,j,wb,xb,mark),i=0;i<rows;i++){var va=wa[i]===mark?xa[i]:zero,vb=wb[i]===mark?xb[i]:zero;cdata[i][j]=cf(va,vb)}}return new DenseMatrix({data:cdata,size:[rows,columns],datatype:dt})};function _scatter(m,j,w,x,mark){for(var values=m._values,index=m._index,ptr=m._ptr,k=ptr[j],k1=ptr[j+1];k<k1;k++){var i=index[k];w[i]=mark,x[i]=values[k]}}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm08.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:function(){return createAlgorithm08}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","equalScalar"],createAlgorithm08=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("algorithm08",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function algorithm08(a,b,callback){var avalues=a._values,aindex=a._index,aptr=a._ptr,asize=a._size,adt=a._datatype,bvalues=b._values,bindex=b._index,bptr=b._ptr,bsize=b._size,bdt=b._datatype;if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");if(!avalues||!bvalues)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));for(var k,k0,k1,i,cvalues=[],cindex=[],cptr=[],x=[],w=[],j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++)w[i=aindex[k]]=mark,x[i]=avalues[k],cindex.push(i);for(k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++)w[i=bindex[k]]===mark&&(x[i]=cf(x[i],bvalues[k]));for(k=cptr[j];k<cindex.length;){var v=x[i=cindex[k]];eq(v,zero)?cindex.splice(k,1):(cvalues.push(v),k++)}}return cptr[columns]=cindex.length,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt})}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm09.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:function(){return createAlgorithm09}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed","equalScalar"],createAlgorithm09=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("algorithm09",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function algorithm09(a,b,callback){var avalues=a._values,aindex=a._index,aptr=a._ptr,asize=a._size,adt=a._datatype,bvalues=b._values,bindex=b._index,bptr=b._ptr,bsize=b._size,bdt=b._datatype;if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&adt===bdt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),cf=typed.find(callback,[dt,dt]));var i,j,k,k0,k1,cvalues=avalues&&bvalues?[]:void 0,cindex=[],cptr=[],x=cvalues?[]:void 0,w=[];for(j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;if(x)for(k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++)w[i=bindex[k]]=mark,x[i]=bvalues[k];for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++)if(i=aindex[k],x){var vb=w[i]===mark?x[i]:zero,vc=cf(avalues[k],vb);eq(vc,zero)||(cindex.push(i),cvalues.push(vc))}else cindex.push(i)}return cptr[columns]=cindex.length,a.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt})}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm10.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{q:function(){return createAlgorithm10}});var dependencies=["typed","DenseMatrix"],createAlgorithm10=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("algorithm10",dependencies,(_ref=>{var{typed:typed,DenseMatrix:DenseMatrix}=_ref;return function algorithm10(s,b,callback,inverse){var avalues=s._values,aindex=s._index,aptr=s._ptr,asize=s._size,adt=s._datatype;if(!avalues)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var dt,rows=asize[0],columns=asize[1],cf=callback;"string"==typeof adt&&(dt=adt,b=typed.convert(b,dt),cf=typed.find(callback,[dt,dt]));for(var cdata=[],x=[],w=[],j=0;j<columns;j++){for(var mark=j+1,k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){var r=aindex[k];x[r]=avalues[k],w[r]=mark}for(var i=0;i<rows;i++)0===j&&(cdata[i]=[]),w[i]===mark?cdata[i][j]=inverse?cf(b,x[i]):cf(x[i],b):cdata[i][j]=b}return new DenseMatrix({data:cdata,size:[rows,columns],datatype:dt})}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm11.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{n:function(){return createAlgorithm11}});var dependencies=["typed","equalScalar"],createAlgorithm11=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("algorithm11",dependencies,(_ref=>{var{typed:typed,equalScalar:equalScalar}=_ref;return function algorithm11(s,b,callback,inverse){var avalues=s._values,aindex=s._index,aptr=s._ptr,asize=s._size,adt=s._datatype;if(!avalues)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var dt,rows=asize[0],columns=asize[1],eq=equalScalar,zero=0,cf=callback;"string"==typeof adt&&(dt=adt,eq=typed.find(equalScalar,[dt,dt]),zero=typed.convert(0,dt),b=typed.convert(b,dt),cf=typed.find(callback,[dt,dt]));for(var cvalues=[],cindex=[],cptr=[],j=0;j<columns;j++){cptr[j]=cindex.length;for(var k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){var i=aindex[k],v=inverse?cf(b,avalues[k]):cf(avalues[k],b);eq(v,zero)||(cindex.push(i),cvalues.push(v))}}return cptr[columns]=cindex.length,s.createSparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt})}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm12.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{R:function(){return createAlgorithm12}});var dependencies=["typed","DenseMatrix"],createAlgorithm12=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("algorithm12",dependencies,(_ref=>{var{typed:typed,DenseMatrix:DenseMatrix}=_ref;return function algorithm12(s,b,callback,inverse){var avalues=s._values,aindex=s._index,aptr=s._ptr,asize=s._size,adt=s._datatype;if(!avalues)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var dt,rows=asize[0],columns=asize[1],cf=callback;"string"==typeof adt&&(dt=adt,b=typed.convert(b,dt),cf=typed.find(callback,[dt,dt]));for(var cdata=[],x=[],w=[],j=0;j<columns;j++){for(var mark=j+1,k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){var r=aindex[k];x[r]=avalues[k],w[r]=mark}for(var i=0;i<rows;i++)0===j&&(cdata[i]=[]),w[i]===mark?cdata[i][j]=inverse?cf(b,x[i]):cf(x[i],b):cdata[i][j]=inverse?cf(b,0):cf(0,b)}return new DenseMatrix({data:cdata,size:[rows,columns],datatype:dt})}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm13.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:function(){return createAlgorithm13}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),dependencies=["typed"],createAlgorithm13=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("algorithm13",dependencies,(_ref=>{var{typed:typed}=_ref;return function algorithm13(a,b,callback){var dt,adata=a._data,asize=a._size,adt=a._datatype,bdata=b._data,bsize=b._size,bdt=b._datatype,csize=[];if(asize.length!==bsize.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_1__.m(asize.length,bsize.length);for(var s=0;s<asize.length;s++){if(asize[s]!==bsize[s])throw new RangeError("Dimension mismatch. Matrix A ("+asize+") must match Matrix B ("+bsize+")");csize[s]=asize[s]}var cf=callback;"string"==typeof adt&&adt===bdt&&(dt=adt,cf=typed.find(callback,[dt,dt]));var cdata=csize.length>0?_iterate(cf,0,csize,csize[0],adata,bdata):[];return a.createDenseMatrix({data:cdata,size:csize,datatype:dt})};function _iterate(f,level,s,n,av,bv){var cv=[];if(level===s.length-1)for(var i=0;i<n;i++)cv[i]=f(av[i],bv[i]);else for(var j=0;j<n;j++)cv[j]=_iterate(f,level+1,s,s[level+1],av[j],bv[j]);return cv}}))},"./node_modules/mathjs/lib/esm/type/matrix/utils/algorithm14.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return createAlgorithm14}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),dependencies=["typed"],createAlgorithm14=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("algorithm14",dependencies,(_ref=>{var{typed:typed}=_ref;return function algorithm14(a,b,callback,inverse){var dt,adata=a._data,asize=a._size,adt=a._datatype,cf=callback;"string"==typeof adt&&(dt=adt,b=typed.convert(b,dt),cf=typed.find(callback,[dt,dt]));var cdata=asize.length>0?_iterate(cf,0,asize,asize[0],adata,b,inverse):[];return a.createDenseMatrix({data:cdata,size:(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_1__.d9)(asize),datatype:dt})};function _iterate(f,level,s,n,av,bv,inverse){var cv=[];if(level===s.length-1)for(var i=0;i<n;i++)cv[i]=inverse?f(bv,av[i]):f(av[i],bv);else for(var j=0;j<n;j++)cv[j]=_iterate(f,level+1,s,s[level+1],av[j],bv,inverse);return cv}}))},"./node_modules/mathjs/lib/esm/type/number.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return createNumber}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed"];var createNumber=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("number",dependencies,(_ref=>{var{typed:typed}=_ref,number=typed("number",{"":function _(){return 0},number:function number(x){return x},string:function string(x){if("NaN"===x)return NaN;var nonDecimalNumberParts=function getNonDecimalNumberParts(input){var nonDecimalWithRadixMatch=input.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return nonDecimalWithRadixMatch?{input:input,radix:{"0b":2,"0o":8,"0x":16}[nonDecimalWithRadixMatch[1]],integerPart:nonDecimalWithRadixMatch[2],fractionalPart:nonDecimalWithRadixMatch[3]}:null}(x);if(nonDecimalNumberParts)return function makeNumberFromNonDecimalParts(parts){for(var n=parseInt(parts.integerPart,parts.radix),f=0,i=0;i<parts.fractionalPart.length;i++)f+=parseInt(parts.fractionalPart[i],parts.radix)/Math.pow(parts.radix,i+1);var result=n+f;if(isNaN(result))throw new SyntaxError('String "'+parts.input+'" is no valid number');return result}(nonDecimalNumberParts);var size=0,wordSizeSuffixMatch=x.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);wordSizeSuffixMatch&&(size=Number(wordSizeSuffixMatch[2]),x=wordSizeSuffixMatch[1]);var num=Number(x);if(isNaN(num))throw new SyntaxError('String "'+x+'" is no valid number');if(wordSizeSuffixMatch){if(num>2**size-1)throw new SyntaxError('String "'.concat(x,'" is out of range'));num>=2**(size-1)&&(num-=2**size)}return num},BigNumber:function BigNumber(x){return x.toNumber()},Fraction:function Fraction(x){return x.valueOf()},Unit:function Unit(x){throw new Error("Second argument with valueless unit expected")},null:function _null(x){return 0},"Unit, string | Unit":function UnitStringUnit(unit,valuelessUnit){return unit.toNumber(valuelessUnit)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}});return number.fromJSON=function(json){return parseFloat(json.value)},number}))},"./node_modules/mathjs/lib/esm/type/resultset/ResultSet.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{R:function(){return createResultSet}});var dependencies=[],createResultSet=(0,__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js").d5)("ResultSet",dependencies,(()=>{function ResultSet(entries){if(!(this instanceof ResultSet))throw new SyntaxError("Constructor must be called with the new operator");this.entries=entries||[]}return ResultSet.prototype.type="ResultSet",ResultSet.prototype.isResultSet=!0,ResultSet.prototype.valueOf=function(){return this.entries},ResultSet.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},ResultSet.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},ResultSet.fromJSON=function(json){return new ResultSet(json.entries)},ResultSet}),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/string.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return createString}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),_utils_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),dependencies=["typed"],createString=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("string",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("string",{"":function _(){return""},number:_utils_number_js__WEBPACK_IMPORTED_MODULE_1__.WU,null:function _null(x){return"null"},boolean:function boolean(x){return x+""},string:function string(x){return x},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_2__.Fh)(x,this)},any:function any(x){return String(x)}})}))},"./node_modules/mathjs/lib/esm/type/unit/Unit.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{w:function(){return createUnitClass}});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_utils_is_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_function_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/function.js"),_utils_string_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),_utils_object_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js"),_utils_bignumber_constants_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/bignumber/constants.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var dependencies=["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],createUnitClass=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_1__.d5)("Unit",dependencies,(_ref=>{var text,index,c,{on:on,config:config,addScalar:addScalar,subtract:subtract,multiplyScalar:multiplyScalar,divideScalar:divideScalar,pow:pow,abs:abs,fix:fix,round:round,equal:equal,isNumeric:isNumeric,format:format,number:number,Complex:Complex,BigNumber:_BigNumber,Fraction:_Fraction}=_ref,toNumber=number;function Unit(value,name){if(!(this instanceof Unit))throw new Error("Constructor must be called with the new operator");if(null!=value&&!isNumeric(value)&&!(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Mc)(value))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==name&&("string"!=typeof name||""===name))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==name){var u=Unit.parse(name);this.units=u.units,this.dimensions=u.dimensions}else{this.units=[{unit:UNIT_NONE,prefix:PREFIXES.NONE,power:0}],this.dimensions=[];for(var i=0;i<BASE_DIMENSIONS.length;i++)this.dimensions[i]=0}this.value=null!=value?this._normalize(value):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function skipWhitespace(){for(;" "===c||"\t"===c;)next()}function isDigit(c){return c>="0"&&c<="9"}function next(){index++,c=text.charAt(index)}function revert(oldIndex){index=oldIndex,c=text.charAt(index)}function parseNumber(){var number="",oldIndex=index;if("+"===c?next():"-"===c&&(number+=c,next()),!function isDigitDot(c){return c>="0"&&c<="9"||"."===c}(c))return revert(oldIndex),null;if("."===c){if(number+=c,next(),!isDigit(c))return revert(oldIndex),null}else{for(;isDigit(c);)number+=c,next();"."===c&&(number+=c,next())}for(;isDigit(c);)number+=c,next();if("E"===c||"e"===c){var tentativeNumber="",tentativeIndex=index;if(tentativeNumber+=c,next(),"+"!==c&&"-"!==c||(tentativeNumber+=c,next()),!isDigit(c))return revert(tentativeIndex),number;for(number+=tentativeNumber;isDigit(c);)number+=c,next()}return number}function parseUnit(){for(var unitName="";isDigit(c)||Unit.isValidAlpha(c);)unitName+=c,next();var firstC=unitName.charAt(0);return Unit.isValidAlpha(firstC)?unitName:null}function parseCharacter(toFind){return c===toFind?(next(),toFind):null}Unit.prototype.type="Unit",Unit.prototype.isUnit=!0,Unit.parse=function(str,options){if(options=options||{},index=-1,c="","string"!=typeof(text=str))throw new TypeError("Invalid argument in Unit.parse, string expected");var unit=new Unit;unit.units=[];var powerMultiplierCurrent=1,expectingUnit=!1;next(),skipWhitespace();var valueStr=parseNumber(),value=null;if(valueStr){if("BigNumber"===config.number)value=new _BigNumber(valueStr);else if("Fraction"===config.number)try{value=new _Fraction(valueStr)}catch(err){value=parseFloat(valueStr)}else value=parseFloat(valueStr);skipWhitespace(),parseCharacter("*")?(powerMultiplierCurrent=1,expectingUnit=!0):parseCharacter("/")&&(powerMultiplierCurrent=-1,expectingUnit=!0)}for(var powerMultiplierStack=[],powerMultiplierStackProduct=1;;){for(skipWhitespace();"("===c;)powerMultiplierStack.push(powerMultiplierCurrent),powerMultiplierStackProduct*=powerMultiplierCurrent,powerMultiplierCurrent=1,next(),skipWhitespace();var uStr=void 0;if(!c)break;var oldC=c;if(null===(uStr=parseUnit()))throw new SyntaxError('Unexpected "'+oldC+'" in "'+text+'" at index '+index.toString());var res=_findUnit(uStr);if(null===res)throw new SyntaxError('Unit "'+uStr+'" not found.');var power=powerMultiplierCurrent*powerMultiplierStackProduct;if(skipWhitespace(),parseCharacter("^")){skipWhitespace();var p=parseNumber();if(null===p)throw new SyntaxError('In "'+str+'", "^" must be followed by a floating-point number');power*=p}unit.units.push({unit:res.unit,prefix:res.prefix,power:power});for(var i=0;i<BASE_DIMENSIONS.length;i++)unit.dimensions[i]+=(res.unit.dimensions[i]||0)*power;for(skipWhitespace();")"===c;){if(0===powerMultiplierStack.length)throw new SyntaxError('Unmatched ")" in "'+text+'" at index '+index.toString());powerMultiplierStackProduct/=powerMultiplierStack.pop(),next(),skipWhitespace()}if(expectingUnit=!1,parseCharacter("*")?(powerMultiplierCurrent=1,expectingUnit=!0):parseCharacter("/")?(powerMultiplierCurrent=-1,expectingUnit=!0):powerMultiplierCurrent=1,res.unit.base){var baseDim=res.unit.base.key;UNIT_SYSTEMS.auto[baseDim]={unit:res.unit,prefix:res.prefix}}}if(skipWhitespace(),c)throw new SyntaxError('Could not parse: "'+str+'"');if(expectingUnit)throw new SyntaxError('Trailing characters: "'+str+'"');if(0!==powerMultiplierStack.length)throw new SyntaxError('Unmatched "(" in "'+text+'"');if(0===unit.units.length&&!options.allowNoUnits)throw new SyntaxError('"'+str+'" contains no units');return unit.value=void 0!==value?unit._normalize(value):null,unit},Unit.prototype.clone=function(){var unit=new Unit;unit.fixPrefix=this.fixPrefix,unit.skipAutomaticSimplification=this.skipAutomaticSimplification,unit.value=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.d9)(this.value),unit.dimensions=this.dimensions.slice(0),unit.units=[];for(var i=0;i<this.units.length;i++)for(var p in unit.units[i]={},this.units[i])(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(this.units[i],p)&&(unit.units[i][p]=this.units[i][p]);return unit},Unit.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},Unit.prototype._normalize=function(value){var unitValue,unitOffset,unitPower,unitPrefixValue,convert;if(null==value||0===this.units.length)return value;if(this._isDerived()){var res=value;convert=Unit._getNumberConverter((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(value));for(var i=0;i<this.units.length;i++)unitValue=convert(this.units[i].unit.value),unitPrefixValue=convert(this.units[i].prefix.value),unitPower=convert(this.units[i].power),res=multiplyScalar(res,pow(multiplyScalar(unitValue,unitPrefixValue),unitPower));return res}return unitValue=(convert=Unit._getNumberConverter((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(value)))(this.units[0].unit.value),unitOffset=convert(this.units[0].unit.offset),unitPrefixValue=convert(this.units[0].prefix.value),multiplyScalar(addScalar(value,unitOffset),multiplyScalar(unitValue,unitPrefixValue))},Unit.prototype._denormalize=function(value,prefixValue){var unitValue,unitOffset,unitPower,unitPrefixValue,convert;if(null==value||0===this.units.length)return value;if(this._isDerived()){var res=value;convert=Unit._getNumberConverter((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(value));for(var i=0;i<this.units.length;i++)unitValue=convert(this.units[i].unit.value),unitPrefixValue=convert(this.units[i].prefix.value),unitPower=convert(this.units[i].power),res=divideScalar(res,pow(multiplyScalar(unitValue,unitPrefixValue),unitPower));return res}return unitValue=(convert=Unit._getNumberConverter((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.kM)(value)))(this.units[0].unit.value),unitPrefixValue=convert(this.units[0].prefix.value),unitOffset=convert(this.units[0].unit.offset),subtract(divideScalar(divideScalar(value,unitValue),null==prefixValue?unitPrefixValue:prefixValue),unitOffset)};var _findUnit=(0,_utils_function_js__WEBPACK_IMPORTED_MODULE_4__.HP)((str=>{if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(UNITS,str)){var unit=UNITS[str];return{unit:unit,prefix:unit.prefixes[""]}}for(var _name in UNITS)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(UNITS,_name)&&(0,_utils_string_js__WEBPACK_IMPORTED_MODULE_5__.pn)(str,_name)){var _unit=UNITS[_name],prefixLen=str.length-_name.length,prefixName=str.substring(0,prefixLen),_prefix=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(_unit.prefixes,prefixName)?_unit.prefixes[prefixName]:void 0;if(void 0!==_prefix)return{unit:_unit,prefix:_prefix}}return null}),{hasher:args=>args[0],limit:100});function getNumericIfUnitless(unit){return unit.equalBase(BASE_UNITS.NONE)&&null!==unit.value&&!config.predictable?unit.value:unit}Unit.isValuelessUnit=function(name){return null!==_findUnit(name)},Unit.prototype.hasBase=function(base){if("string"==typeof base&&(base=BASE_UNITS[base]),!base)return!1;for(var i=0;i<BASE_DIMENSIONS.length;i++)if(Math.abs((this.dimensions[i]||0)-(base.dimensions[i]||0))>1e-12)return!1;return!0},Unit.prototype.equalBase=function(other){for(var i=0;i<BASE_DIMENSIONS.length;i++)if(Math.abs((this.dimensions[i]||0)-(other.dimensions[i]||0))>1e-12)return!1;return!0},Unit.prototype.equals=function(other){return this.equalBase(other)&&equal(this.value,other.value)},Unit.prototype.multiply=function(other){for(var res=this.clone(),i=0;i<BASE_DIMENSIONS.length;i++)res.dimensions[i]=(this.dimensions[i]||0)+(other.dimensions[i]||0);for(var _i=0;_i<other.units.length;_i++){var inverted=_objectSpread({},other.units[_i]);res.units.push(inverted)}if(null!==this.value||null!==other.value){var valThis=null===this.value?this._normalize(1):this.value,valOther=null===other.value?other._normalize(1):other.value;res.value=multiplyScalar(valThis,valOther)}else res.value=null;return res.skipAutomaticSimplification=!1,getNumericIfUnitless(res)},Unit.prototype.divide=function(other){for(var res=this.clone(),i=0;i<BASE_DIMENSIONS.length;i++)res.dimensions[i]=(this.dimensions[i]||0)-(other.dimensions[i]||0);for(var _i2=0;_i2<other.units.length;_i2++){var inverted=_objectSpread(_objectSpread({},other.units[_i2]),{},{power:-other.units[_i2].power});res.units.push(inverted)}if(null!==this.value||null!==other.value){var valThis=null===this.value?this._normalize(1):this.value,valOther=null===other.value?other._normalize(1):other.value;res.value=divideScalar(valThis,valOther)}else res.value=null;return res.skipAutomaticSimplification=!1,getNumericIfUnitless(res)},Unit.prototype.pow=function(p){for(var res=this.clone(),i=0;i<BASE_DIMENSIONS.length;i++)res.dimensions[i]=(this.dimensions[i]||0)*p;for(var _i3=0;_i3<res.units.length;_i3++)res.units[_i3].power*=p;return null!==res.value?res.value=pow(res.value,p):res.value=null,res.skipAutomaticSimplification=!1,getNumericIfUnitless(res)},Unit.prototype.abs=function(){var ret=this.clone();for(var i in ret.value=null!==ret.value?abs(ret.value):null,ret.units)"VA"!==ret.units[i].unit.name&&"VAR"!==ret.units[i].unit.name||(ret.units[i].unit=UNITS.W);return ret},Unit.prototype.to=function(valuelessUnit){var other,value=null===this.value?this._normalize(1):this.value;if("string"==typeof valuelessUnit){if(other=Unit.parse(valuelessUnit),!this.equalBase(other))throw new Error("Units do not match ('".concat(other.toString(),"' != '").concat(this.toString(),"')"));if(null!==other.value)throw new Error("Cannot convert to a unit with a value");return other.value=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.d9)(value),other.fixPrefix=!0,other.skipAutomaticSimplification=!0,other}if((0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.wr)(valuelessUnit)){if(!this.equalBase(valuelessUnit))throw new Error("Units do not match ('".concat(valuelessUnit.toString(),"' != '").concat(this.toString(),"')"));if(null!==valuelessUnit.value)throw new Error("Cannot convert to a unit with a value");return(other=valuelessUnit.clone()).value=(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.d9)(value),other.fixPrefix=!0,other.skipAutomaticSimplification=!0,other}throw new Error("String or Unit expected as parameter")},Unit.prototype.toNumber=function(valuelessUnit){return toNumber(this.toNumeric(valuelessUnit))},Unit.prototype.toNumeric=function(valuelessUnit){var other;return(other=valuelessUnit?this.to(valuelessUnit):this.clone())._isDerived()||0===other.units.length?other._denormalize(other.value):other._denormalize(other.value,other.units[0].prefix.value)},Unit.prototype.toString=function(){return this.format()},Unit.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},Unit.fromJSON=function(json){var unit=new Unit(json.value,json.unit);return unit.fixPrefix=json.fixPrefix||!1,unit},Unit.prototype.valueOf=Unit.prototype.toString,Unit.prototype.simplify=function(){var matchingBase,matchingUnit,ret=this.clone(),proposedUnitList=[];for(var key in currentUnitSystem)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(currentUnitSystem,key)&&ret.hasBase(BASE_UNITS[key])){matchingBase=key;break}if("NONE"===matchingBase)ret.units=[];else if(matchingBase&&(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(currentUnitSystem,matchingBase)&&(matchingUnit=currentUnitSystem[matchingBase]),matchingUnit)ret.units=[{unit:matchingUnit.unit,prefix:matchingUnit.prefix,power:1}];else{for(var missingBaseDim=!1,i=0;i<BASE_DIMENSIONS.length;i++){var baseDim=BASE_DIMENSIONS[i];Math.abs(ret.dimensions[i]||0)>1e-12&&((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(currentUnitSystem,baseDim)?proposedUnitList.push({unit:currentUnitSystem[baseDim].unit,prefix:currentUnitSystem[baseDim].prefix,power:ret.dimensions[i]||0}):missingBaseDim=!0)}proposedUnitList.length<ret.units.length&&!missingBaseDim&&(ret.units=proposedUnitList)}return ret},Unit.prototype.toSI=function(){for(var ret=this.clone(),proposedUnitList=[],i=0;i<BASE_DIMENSIONS.length;i++){var baseDim=BASE_DIMENSIONS[i];if(Math.abs(ret.dimensions[i]||0)>1e-12){if(!(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(UNIT_SYSTEMS.si,baseDim))throw new Error("Cannot express custom unit "+baseDim+" in SI units");proposedUnitList.push({unit:UNIT_SYSTEMS.si[baseDim].unit,prefix:UNIT_SYSTEMS.si[baseDim].prefix,power:ret.dimensions[i]||0})}}return ret.units=proposedUnitList,ret.fixPrefix=!0,ret.skipAutomaticSimplification=!0,ret},Unit.prototype.formatUnits=function(){for(var strNum="",strDen="",nNum=0,nDen=0,i=0;i<this.units.length;i++)this.units[i].power>0?(nNum++,strNum+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(strNum+="^"+this.units[i].power)):this.units[i].power<0&&nDen++;if(nDen>0)for(var _i4=0;_i4<this.units.length;_i4++)this.units[_i4].power<0&&(nNum>0?(strDen+=" "+this.units[_i4].prefix.name+this.units[_i4].unit.name,Math.abs(this.units[_i4].power+1)>1e-15&&(strDen+="^"+-this.units[_i4].power)):(strDen+=" "+this.units[_i4].prefix.name+this.units[_i4].unit.name,strDen+="^"+this.units[_i4].power));strNum=strNum.substr(1),strDen=strDen.substr(1),nNum>1&&nDen>0&&(strNum="("+strNum+")"),nDen>1&&nNum>0&&(strDen="("+strDen+")");var str=strNum;return nNum>0&&nDen>0&&(str+=" / "),str+=strDen},Unit.prototype.format=function(options){var simp=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),isImaginary=!1;for(var i in void 0!==simp.value&&null!==simp.value&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Mc)(simp.value)&&(isImaginary=Math.abs(simp.value.re)<1e-14),simp.units)(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(simp.units,i)&&simp.units[i].unit&&("VA"===simp.units[i].unit.name&&isImaginary?simp.units[i].unit=UNITS.VAR:"VAR"!==simp.units[i].unit.name||isImaginary||(simp.units[i].unit=UNITS.VA));1!==simp.units.length||simp.fixPrefix||Math.abs(simp.units[0].power-Math.round(simp.units[0].power))<1e-14&&(simp.units[0].prefix=simp._bestPrefix());var value=simp._denormalize(simp.value),str=null!==simp.value?format(value,options||{}):"",unitStr=simp.formatUnits();return simp.value&&(0,_utils_is_js__WEBPACK_IMPORTED_MODULE_2__.Mc)(simp.value)&&(str="("+str+")"),unitStr.length>0&&str.length>0&&(str+=" "),str+=unitStr},Unit.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var absValue=null!==this.value?abs(this.value):0,absUnitValue=abs(this.units[0].unit.value),bestPrefix=this.units[0].prefix;if(0===absValue)return bestPrefix;var power=this.units[0].power,bestDiff=Math.log(absValue/Math.pow(bestPrefix.value*absUnitValue,power))/Math.LN10-1.2;if(bestDiff>-2.200001&&bestDiff<1.800001)return bestPrefix;bestDiff=Math.abs(bestDiff);var prefixes=this.units[0].unit.prefixes;for(var p in prefixes)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(prefixes,p)){var prefix=prefixes[p];if(prefix.scientific){var diff=Math.abs(Math.log(absValue/Math.pow(prefix.value*absUnitValue,power))/Math.LN10-1.2);(diff<bestDiff||diff===bestDiff&&prefix.name.length<bestPrefix.name.length)&&(bestPrefix=prefix,bestDiff=diff)}}return bestPrefix},Unit.prototype.splitUnit=function(parts){for(var x=this.clone(),ret=[],i=0;i<parts.length&&(x=x.to(parts[i]),i!==parts.length-1);i++){var xNumeric=x.toNumeric(),xRounded=round(xNumeric),y=new Unit(equal(xRounded,xNumeric)?xRounded:fix(x.toNumeric()),parts[i].toString());ret.push(y),x=subtract(x,y)}for(var testSum=0,_i5=0;_i5<ret.length;_i5++)testSum=addScalar(testSum,ret[_i5].value);return equal(testSum,this.value)&&(x.value=0),ret.push(x),ret};var PREFIXES={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};PREFIXES.SHORTLONG=(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},PREFIXES.SHORT,PREFIXES.LONG),PREFIXES.BINARY_SHORT=(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},PREFIXES.BINARY_SHORT_SI,PREFIXES.BINARY_SHORT_IEC),PREFIXES.BINARY_LONG=(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},PREFIXES.BINARY_LONG_SI,PREFIXES.BINARY_LONG_IEC);var BASE_DIMENSIONS=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],BASE_UNITS={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var key in BASE_UNITS)(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(BASE_UNITS,key)&&(BASE_UNITS[key].key=key);var UNIT_NONE={name:"",base:{},value:1,offset:0,dimensions:BASE_DIMENSIONS.map((x=>0))},UNITS={meter:{name:"meter",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.LONG,value:1,offset:0},inch:{name:"inch",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.0254,offset:0},foot:{name:"foot",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.3048,offset:0},yard:{name:"yard",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.9144,offset:0},mile:{name:"mile",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:1609.344,offset:0},link:{name:"link",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.201168,offset:0},rod:{name:"rod",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:5.0292,offset:0},chain:{name:"chain",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:1e-10,offset:0},m:{name:"m",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.SHORT,value:1,offset:0},in:{name:"in",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.0254,offset:0},ft:{name:"ft",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.3048,offset:0},yd:{name:"yd",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.9144,offset:0},mi:{name:"mi",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:1609.344,offset:0},li:{name:"li",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:.201168,offset:0},rd:{name:"rd",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:5.02921,offset:0},ch:{name:"ch",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:20.1168,offset:0},mil:{name:"mil",base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:254e-7,offset:0},m2:{name:"m2",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:1e4,offset:0},m3:{name:"m3",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.CUBIC,value:1,offset:0},L:{name:"L",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.SHORT,value:.001,offset:0},l:{name:"l",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.SHORT,value:.001,offset:0},litre:{name:"litre",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.LONG,value:.001,offset:0},cuin:{name:"cuin",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:15e-6,offset:0},drop:{name:"drop",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:5e-8,offset:0},minim:{name:"minim",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:1e-6,offset:0},cup:{name:"cup",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.1173478,offset:0},obl:{name:"obl",base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:.1589873,offset:0},g:{name:"g",base:BASE_UNITS.MASS,prefixes:PREFIXES.SHORT,value:.001,offset:0},gram:{name:"gram",base:BASE_UNITS.MASS,prefixes:PREFIXES.LONG,value:.001,offset:0},ton:{name:"ton",base:BASE_UNITS.MASS,prefixes:PREFIXES.SHORT,value:907.18474,offset:0},t:{name:"t",base:BASE_UNITS.MASS,prefixes:PREFIXES.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:BASE_UNITS.MASS,prefixes:PREFIXES.LONG,value:1e3,offset:0},grain:{name:"grain",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:45.359237,offset:0},stick:{name:"stick",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.115,offset:0},stone:{name:"stone",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:45.359237,offset:0},s:{name:"s",base:BASE_UNITS.TIME,prefixes:PREFIXES.SHORT,value:1,offset:0},min:{name:"min",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:60,offset:0},h:{name:"h",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:3600,offset:0},second:{name:"second",base:BASE_UNITS.TIME,prefixes:PREFIXES.LONG,value:1,offset:0},sec:{name:"sec",base:BASE_UNITS.TIME,prefixes:PREFIXES.LONG,value:1,offset:0},minute:{name:"minute",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:60,offset:0},hour:{name:"hour",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:3600,offset:0},day:{name:"day",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:86400,offset:0},week:{name:"week",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:604800,offset:0},month:{name:"month",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:2629800,offset:0},year:{name:"year",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:31557600,offset:0},decade:{name:"decade",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:315576e3,offset:0},century:{name:"century",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:BASE_UNITS.FREQUENCY,prefixes:PREFIXES.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:BASE_UNITS.FREQUENCY,prefixes:PREFIXES.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.SHORT,value:1,offset:0},radian:{name:"radian",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.LONG,value:1,offset:0},deg:{name:"deg",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.SHORT,value:null,offset:0},degree:{name:"degree",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.LONG,value:null,offset:0},grad:{name:"grad",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.SHORT,value:null,offset:0},gradian:{name:"gradian",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.LONG,value:null,offset:0},cycle:{name:"cycle",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:BASE_UNITS.ANGLE,prefixes:PREFIXES.NONE,value:null,offset:0},A:{name:"A",base:BASE_UNITS.CURRENT,prefixes:PREFIXES.SHORT,value:1,offset:0},ampere:{name:"ampere",base:BASE_UNITS.CURRENT,prefixes:PREFIXES.LONG,value:1,offset:0},K:{name:"K",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1,offset:0},degC:{name:"degC",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1,offset:273.15},degF:{name:"degF",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1,offset:0},celsius:{name:"celsius",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:BASE_UNITS.AMOUNT_OF_SUBSTANCE,prefixes:PREFIXES.SHORT,value:1,offset:0},mole:{name:"mole",base:BASE_UNITS.AMOUNT_OF_SUBSTANCE,prefixes:PREFIXES.LONG,value:1,offset:0},cd:{name:"cd",base:BASE_UNITS.LUMINOUS_INTENSITY,prefixes:PREFIXES.SHORT,value:1,offset:0},candela:{name:"candela",base:BASE_UNITS.LUMINOUS_INTENSITY,prefixes:PREFIXES.LONG,value:1,offset:0},N:{name:"N",base:BASE_UNITS.FORCE,prefixes:PREFIXES.SHORT,value:1,offset:0},newton:{name:"newton",base:BASE_UNITS.FORCE,prefixes:PREFIXES.LONG,value:1,offset:0},dyn:{name:"dyn",base:BASE_UNITS.FORCE,prefixes:PREFIXES.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:BASE_UNITS.FORCE,prefixes:PREFIXES.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:BASE_UNITS.FORCE,prefixes:PREFIXES.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:BASE_UNITS.FORCE,prefixes:PREFIXES.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:BASE_UNITS.FORCE,prefixes:PREFIXES.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:BASE_UNITS.FORCE,prefixes:PREFIXES.NONE,value:9.80665,offset:0},J:{name:"J",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.SHORT,value:1,offset:0},joule:{name:"joule",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.SHORT,value:1,offset:0},erg:{name:"erg",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:BASE_UNITS.ENERGY,prefixes:PREFIXES.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:BASE_UNITS.POWER,prefixes:PREFIXES.SHORT,value:1,offset:0},watt:{name:"watt",base:BASE_UNITS.POWER,prefixes:PREFIXES.LONG,value:1,offset:0},hp:{name:"hp",base:BASE_UNITS.POWER,prefixes:PREFIXES.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:BASE_UNITS.POWER,prefixes:PREFIXES.SHORT,value:Complex.I,offset:0},VA:{name:"VA",base:BASE_UNITS.POWER,prefixes:PREFIXES.SHORT,value:1,offset:0},Pa:{name:"Pa",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.SHORT,value:1,offset:0},psi:{name:"psi",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:101325,offset:0},bar:{name:"bar",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:BASE_UNITS.ELECTRIC_CHARGE,prefixes:PREFIXES.LONG,value:1,offset:0},C:{name:"C",base:BASE_UNITS.ELECTRIC_CHARGE,prefixes:PREFIXES.SHORT,value:1,offset:0},farad:{name:"farad",base:BASE_UNITS.ELECTRIC_CAPACITANCE,prefixes:PREFIXES.LONG,value:1,offset:0},F:{name:"F",base:BASE_UNITS.ELECTRIC_CAPACITANCE,prefixes:PREFIXES.SHORT,value:1,offset:0},volt:{name:"volt",base:BASE_UNITS.ELECTRIC_POTENTIAL,prefixes:PREFIXES.LONG,value:1,offset:0},V:{name:"V",base:BASE_UNITS.ELECTRIC_POTENTIAL,prefixes:PREFIXES.SHORT,value:1,offset:0},ohm:{name:"ohm",base:BASE_UNITS.ELECTRIC_RESISTANCE,prefixes:PREFIXES.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:BASE_UNITS.ELECTRIC_INDUCTANCE,prefixes:PREFIXES.LONG,value:1,offset:0},H:{name:"H",base:BASE_UNITS.ELECTRIC_INDUCTANCE,prefixes:PREFIXES.SHORT,value:1,offset:0},siemens:{name:"siemens",base:BASE_UNITS.ELECTRIC_CONDUCTANCE,prefixes:PREFIXES.LONG,value:1,offset:0},S:{name:"S",base:BASE_UNITS.ELECTRIC_CONDUCTANCE,prefixes:PREFIXES.SHORT,value:1,offset:0},weber:{name:"weber",base:BASE_UNITS.MAGNETIC_FLUX,prefixes:PREFIXES.LONG,value:1,offset:0},Wb:{name:"Wb",base:BASE_UNITS.MAGNETIC_FLUX,prefixes:PREFIXES.SHORT,value:1,offset:0},tesla:{name:"tesla",base:BASE_UNITS.MAGNETIC_FLUX_DENSITY,prefixes:PREFIXES.LONG,value:1,offset:0},T:{name:"T",base:BASE_UNITS.MAGNETIC_FLUX_DENSITY,prefixes:PREFIXES.SHORT,value:1,offset:0},b:{name:"b",base:BASE_UNITS.BIT,prefixes:PREFIXES.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:BASE_UNITS.BIT,prefixes:PREFIXES.BINARY_LONG,value:1,offset:0},B:{name:"B",base:BASE_UNITS.BIT,prefixes:PREFIXES.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:BASE_UNITS.BIT,prefixes:PREFIXES.BINARY_LONG,value:8,offset:0}},ALIASES={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function calculateAngleValues(config){if("BigNumber"===config.number){var pi=(0,_utils_bignumber_constants_js__WEBPACK_IMPORTED_MODULE_7__.wY)(_BigNumber);UNITS.rad.value=new _BigNumber(1),UNITS.deg.value=pi.div(180),UNITS.grad.value=pi.div(200),UNITS.cycle.value=pi.times(2),UNITS.arcsec.value=pi.div(648e3),UNITS.arcmin.value=pi.div(10800)}else UNITS.rad.value=1,UNITS.deg.value=Math.PI/180,UNITS.grad.value=Math.PI/200,UNITS.cycle.value=2*Math.PI,UNITS.arcsec.value=Math.PI/648e3,UNITS.arcmin.value=Math.PI/10800;UNITS.radian.value=UNITS.rad.value,UNITS.degree.value=UNITS.deg.value,UNITS.gradian.value=UNITS.grad.value}calculateAngleValues(config),on&&on("config",(function(curr,prev){curr.number!==prev.number&&calculateAngleValues(curr)}));var UNIT_SYSTEMS={si:{NONE:{unit:UNIT_NONE,prefix:PREFIXES.NONE[""]},LENGTH:{unit:UNITS.m,prefix:PREFIXES.SHORT[""]},MASS:{unit:UNITS.g,prefix:PREFIXES.SHORT.k},TIME:{unit:UNITS.s,prefix:PREFIXES.SHORT[""]},CURRENT:{unit:UNITS.A,prefix:PREFIXES.SHORT[""]},TEMPERATURE:{unit:UNITS.K,prefix:PREFIXES.SHORT[""]},LUMINOUS_INTENSITY:{unit:UNITS.cd,prefix:PREFIXES.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:UNITS.mol,prefix:PREFIXES.SHORT[""]},ANGLE:{unit:UNITS.rad,prefix:PREFIXES.SHORT[""]},BIT:{unit:UNITS.bits,prefix:PREFIXES.SHORT[""]},FORCE:{unit:UNITS.N,prefix:PREFIXES.SHORT[""]},ENERGY:{unit:UNITS.J,prefix:PREFIXES.SHORT[""]},POWER:{unit:UNITS.W,prefix:PREFIXES.SHORT[""]},PRESSURE:{unit:UNITS.Pa,prefix:PREFIXES.SHORT[""]},ELECTRIC_CHARGE:{unit:UNITS.C,prefix:PREFIXES.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:UNITS.F,prefix:PREFIXES.SHORT[""]},ELECTRIC_POTENTIAL:{unit:UNITS.V,prefix:PREFIXES.SHORT[""]},ELECTRIC_RESISTANCE:{unit:UNITS.ohm,prefix:PREFIXES.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:UNITS.H,prefix:PREFIXES.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:UNITS.S,prefix:PREFIXES.SHORT[""]},MAGNETIC_FLUX:{unit:UNITS.Wb,prefix:PREFIXES.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:UNITS.T,prefix:PREFIXES.SHORT[""]},FREQUENCY:{unit:UNITS.Hz,prefix:PREFIXES.SHORT[""]}}};UNIT_SYSTEMS.cgs=JSON.parse(JSON.stringify(UNIT_SYSTEMS.si)),UNIT_SYSTEMS.cgs.LENGTH={unit:UNITS.m,prefix:PREFIXES.SHORT.c},UNIT_SYSTEMS.cgs.MASS={unit:UNITS.g,prefix:PREFIXES.SHORT[""]},UNIT_SYSTEMS.cgs.FORCE={unit:UNITS.dyn,prefix:PREFIXES.SHORT[""]},UNIT_SYSTEMS.cgs.ENERGY={unit:UNITS.erg,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.us=JSON.parse(JSON.stringify(UNIT_SYSTEMS.si)),UNIT_SYSTEMS.us.LENGTH={unit:UNITS.ft,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.us.MASS={unit:UNITS.lbm,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.us.TEMPERATURE={unit:UNITS.degF,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.us.FORCE={unit:UNITS.lbf,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.us.ENERGY={unit:UNITS.BTU,prefix:PREFIXES.BTU[""]},UNIT_SYSTEMS.us.POWER={unit:UNITS.hp,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.us.PRESSURE={unit:UNITS.psi,prefix:PREFIXES.NONE[""]},UNIT_SYSTEMS.auto=JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));var currentUnitSystem=UNIT_SYSTEMS.auto;for(var _key2 in Unit.setUnitSystem=function(name){if(!(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(UNIT_SYSTEMS,name))throw new Error("Unit system "+name+" does not exist. Choices are: "+Object.keys(UNIT_SYSTEMS).join(", "));currentUnitSystem=UNIT_SYSTEMS[name]},Unit.getUnitSystem=function(){for(var _key in UNIT_SYSTEMS)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(UNIT_SYSTEMS,_key)&&UNIT_SYSTEMS[_key]===currentUnitSystem)return _key},Unit.typeConverters={BigNumber:function BigNumber(x){return new _BigNumber(x+"")},Fraction:function Fraction(x){return new _Fraction(x)},Complex:function Complex(x){return x},number:function number(x){return x}},Unit._getNumberConverter=function(type){if(!Unit.typeConverters[type])throw new TypeError('Unsupported type "'+type+'"');return Unit.typeConverters[type]},UNITS)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(UNITS,_key2)){var unit=UNITS[_key2];unit.dimensions=unit.base.dimensions}for(var _name2 in ALIASES)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(ALIASES,_name2)){var _unit2=UNITS[ALIASES[_name2]],alias={};for(var _key3 in _unit2)(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(_unit2,_key3)&&(alias[_key3]=_unit2[_key3]);alias.name=_name2,UNITS[_name2]=alias}return Unit.isValidAlpha=function isValidAlpha(c){return/^[a-zA-Z]$/.test(c)},Unit.createUnit=function(obj,options){if("object"!=typeof obj)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(options&&options.override)for(var _key4 in obj)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(obj,_key4)&&Unit.deleteUnit(_key4),obj[_key4].aliases)for(var i=0;i<obj[_key4].aliases.length;i++)Unit.deleteUnit(obj[_key4].aliases[i]);var lastUnit;for(var _key5 in obj)(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(obj,_key5)&&(lastUnit=Unit.createUnitSingle(_key5,obj[_key5]));return lastUnit},Unit.createUnitSingle=function(name,obj,options){if(null==obj&&(obj={}),"string"!=typeof name)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(UNITS,name))throw new Error('Cannot create unit "'+name+'": a unit with that name already exists');!function assertUnitNameIsValid(name){for(var i=0;i<name.length;i++){if(c=name.charAt(i),0===i&&!Unit.isValidAlpha(c))throw new Error('Invalid unit name (must begin with alpha character): "'+name+'"');if(i>0&&!Unit.isValidAlpha(c)&&!isDigit(c))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+name+'"')}}(name);var definition,prefixes,baseName,defUnit=null,aliases=[],offset=0;if(obj&&"Unit"===obj.type)defUnit=obj.clone();else if("string"==typeof obj)""!==obj&&(definition=obj);else{if("object"!=typeof obj)throw new TypeError('Cannot create unit "'+name+'" from "'+obj.toString()+'": expecting "string" or "Unit" or "Object"');definition=obj.definition,prefixes=obj.prefixes,offset=obj.offset,baseName=obj.baseName,obj.aliases&&(aliases=obj.aliases.valueOf())}if(aliases)for(var i=0;i<aliases.length;i++)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(UNITS,aliases[i]))throw new Error('Cannot create alias "'+aliases[i]+'": a unit with that name already exists');if(definition&&"string"==typeof definition&&!defUnit)try{defUnit=Unit.parse(definition,{allowNoUnits:!0})}catch(ex){throw ex.message='Could not create unit "'+name+'" from "'+definition+'": '+ex.message,ex}else definition&&"Unit"===definition.type&&(defUnit=definition.clone());aliases=aliases||[],offset=offset||0,prefixes=prefixes&&prefixes.toUpperCase&&PREFIXES[prefixes.toUpperCase()]||PREFIXES.NONE;var newUnit={};if(defUnit){newUnit={name:name,value:defUnit.value,dimensions:defUnit.dimensions.slice(0),prefixes:prefixes,offset:offset};var anyMatch=!1;for(var _i7 in BASE_UNITS)if((0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(BASE_UNITS,_i7)){for(var match=!0,j=0;j<BASE_DIMENSIONS.length;j++)if(Math.abs((newUnit.dimensions[j]||0)-(BASE_UNITS[_i7].dimensions[j]||0))>1e-12){match=!1;break}if(match){anyMatch=!0,newUnit.base=BASE_UNITS[_i7];break}}if(!anyMatch){baseName=baseName||name+"_STUFF";var _newBaseUnit={dimensions:defUnit.dimensions.slice(0)};_newBaseUnit.key=baseName,BASE_UNITS[baseName]=_newBaseUnit,currentUnitSystem[baseName]={unit:newUnit,prefix:PREFIXES.NONE[""]},newUnit.base=BASE_UNITS[baseName]}}else{if(baseName=baseName||name+"_STUFF",BASE_DIMENSIONS.indexOf(baseName)>=0)throw new Error('Cannot create new base unit "'+name+'": a base unit with that name already exists (and cannot be overridden)');for(var b in BASE_DIMENSIONS.push(baseName),BASE_UNITS)(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(BASE_UNITS,b)&&(BASE_UNITS[b].dimensions[BASE_DIMENSIONS.length-1]=0);for(var newBaseUnit={dimensions:[]},_i6=0;_i6<BASE_DIMENSIONS.length;_i6++)newBaseUnit.dimensions[_i6]=0;newBaseUnit.dimensions[BASE_DIMENSIONS.length-1]=1,newBaseUnit.key=baseName,BASE_UNITS[baseName]=newBaseUnit,newUnit={name:name,value:1,dimensions:BASE_UNITS[baseName].dimensions.slice(0),prefixes:prefixes,offset:offset,base:BASE_UNITS[baseName]},currentUnitSystem[baseName]={unit:newUnit,prefix:PREFIXES.NONE[""]}}Unit.UNITS[name]=newUnit;for(var _i8=0;_i8<aliases.length;_i8++){var aliasName=aliases[_i8],_alias={};for(var _key6 in newUnit)(0,_utils_object_js__WEBPACK_IMPORTED_MODULE_3__.nr)(newUnit,_key6)&&(_alias[_key6]=newUnit[_key6]);_alias.name=aliasName,Unit.UNITS[aliasName]=_alias}return delete _findUnit.cache,new Unit(null,name)},Unit.deleteUnit=function(name){delete Unit.UNITS[name]},Unit.PREFIXES=PREFIXES,Unit.BASE_DIMENSIONS=BASE_DIMENSIONS,Unit.BASE_UNITS=BASE_UNITS,Unit.UNIT_SYSTEMS=UNIT_SYSTEMS,Unit.UNITS=UNITS,Unit}),{isClass:!0})},"./node_modules/mathjs/lib/esm/type/unit/function/createUnit.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return createCreateUnit}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed","Unit"],createCreateUnit=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("createUnit",dependencies,(_ref=>{var{typed:typed,Unit:Unit}=_ref;return typed("createUnit",{"Object, Object":function ObjectObject(obj,options){return Unit.createUnit(obj,options)},Object:function Object(obj){return Unit.createUnit(obj,{})},"string, Unit | string | Object, Object":function stringUnitStringObjectObject(name,def,options){var obj={};return obj[name]=def,Unit.createUnit(obj,options)},"string, Unit | string | Object":function stringUnitStringObject(name,def){var obj={};return obj[name]=def,Unit.createUnit(obj,{})},string:function string(name){var obj={};return obj[name]={},Unit.createUnit(obj,{})}})}))},"./node_modules/mathjs/lib/esm/type/unit/function/splitUnit.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return createSplitUnit}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),dependencies=["typed"],createSplitUnit=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("splitUnit",dependencies,(_ref=>{var{typed:typed}=_ref;return typed("splitUnit",{"Unit, Array":function UnitArray(unit,parts){return unit.splitUnit(parts)}})}))},"./node_modules/mathjs/lib/esm/type/unit/function/unit.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return createUnitFunction}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/collection.js"),dependencies=["typed","Unit"],createUnitFunction=(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)("unit",dependencies,(_ref=>{var{typed:typed,Unit:Unit}=_ref;return typed("unit",{Unit:function Unit(x){return x.clone()},string:function string(x){return Unit.isValuelessUnit(x)?new Unit(null,x):Unit.parse(x,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function numberBigNumberFractionComplexString(value,unit){return new Unit(value,unit)},"Array | Matrix":function ArrayMatrix(x){return(0,_utils_collection_js__WEBPACK_IMPORTED_MODULE_1__.Fh)(x,this)}})}))},"./node_modules/mathjs/lib/esm/type/unit/physicalConstants.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$M:function(){return createPlanckConstant},A0:function(){return createRydberg},B7:function(){return createPlanckCharge},BL:function(){return createProtonMass},CQ:function(){return createGravity},Dg:function(){return createWeakMixingAngle},GI:function(){return createSecondRadiation},Go:function(){return createFaraday},Gw:function(){return createBoltzmann},IW:function(){return createElementaryCharge},JS:function(){return createElectricConstant},Km:function(){return createInverseConductanceQuantum},Oz:function(){return createPlanckTemperature},Ps:function(){return createPlanckLength},Qr:function(){return createMolarMassC12},RZ:function(){return createMagneticFluxQuantum},Rw:function(){return createFineStructure},Uu:function(){return createFirstRadiation},V9:function(){return createThomsonCrossSection},VL:function(){return createKlitzing},Vv:function(){return createGasConstant},W5:function(){return createWienDisplacement},Yv:function(){return createReducedPlanckConstant},Zu:function(){return createFermiCoupling},_C:function(){return createAtomicMass},ax:function(){return createMagneticConstant},c0:function(){return createHartreeEnergy},cn:function(){return createMolarPlanckConstant},d:function(){return createNuclearMagneton},ir:function(){return createCoulomb},j5:function(){return createNeutronMass},jp:function(){return createClassicalElectronRadius},kL:function(){return createQuantumOfCirculation},lR:function(){return createMolarVolume},lr:function(){return createSackurTetrode},nH:function(){return createGravitationConstant},o8:function(){return createElectronMass},of:function(){return createPlanckTime},pz:function(){return createBohrRadius},rK:function(){return createAvogadro},ri:function(){return createBohrMagneton},sD:function(){return createLoschmidt},sW:function(){return createEfimovFactor},ss:function(){return createSpeedOfLight},u1:function(){return createConductanceQuantum},v0:function(){return createPlanckMass},xt:function(){return createMolarMass},xx:function(){return createVacuumImpedance},zP:function(){return createDeuteronMass},zt:function(){return createStefanBoltzmann}});var _utils_factory_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/factory.js"),createSpeedOfLight=unitFactory("speedOfLight","299792458","m s^-1"),createGravitationConstant=unitFactory("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),createPlanckConstant=unitFactory("planckConstant","6.62607015e-34","J s"),createReducedPlanckConstant=unitFactory("reducedPlanckConstant","1.0545718176461565e-34","J s"),createMagneticConstant=unitFactory("magneticConstant","1.25663706212e-6","N A^-2"),createElectricConstant=unitFactory("electricConstant","8.8541878128e-12","F m^-1"),createVacuumImpedance=unitFactory("vacuumImpedance","376.730313667","ohm"),createCoulomb=unitFactory("coulomb","8.987551792261171e9","N m^2 C^-2"),createElementaryCharge=unitFactory("elementaryCharge","1.602176634e-19","C"),createBohrMagneton=unitFactory("bohrMagneton","9.2740100783e-24","J T^-1"),createConductanceQuantum=unitFactory("conductanceQuantum","7.748091729863649e-5","S"),createInverseConductanceQuantum=unitFactory("inverseConductanceQuantum","12906.403729652257","ohm"),createMagneticFluxQuantum=unitFactory("magneticFluxQuantum","2.0678338484619295e-15","Wb"),createNuclearMagneton=unitFactory("nuclearMagneton","5.0507837461e-27","J T^-1"),createKlitzing=unitFactory("klitzing","25812.807459304513","ohm"),createBohrRadius=unitFactory("bohrRadius","5.29177210903e-11","m"),createClassicalElectronRadius=unitFactory("classicalElectronRadius","2.8179403262e-15","m"),createElectronMass=unitFactory("electronMass","9.1093837015e-31","kg"),createFermiCoupling=unitFactory("fermiCoupling","1.1663787e-5","GeV^-2"),createFineStructure=numberFactory("fineStructure",.0072973525693),createHartreeEnergy=unitFactory("hartreeEnergy","4.3597447222071e-18","J"),createProtonMass=unitFactory("protonMass","1.67262192369e-27","kg"),createDeuteronMass=unitFactory("deuteronMass","3.3435830926e-27","kg"),createNeutronMass=unitFactory("neutronMass","1.6749271613e-27","kg"),createQuantumOfCirculation=unitFactory("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),createRydberg=unitFactory("rydberg","10973731.568160","m^-1"),createThomsonCrossSection=unitFactory("thomsonCrossSection","6.6524587321e-29","m^2"),createWeakMixingAngle=numberFactory("weakMixingAngle",.2229),createEfimovFactor=numberFactory("efimovFactor",22.7),createAtomicMass=unitFactory("atomicMass","1.66053906660e-27","kg"),createAvogadro=unitFactory("avogadro","6.02214076e23","mol^-1"),createBoltzmann=unitFactory("boltzmann","1.380649e-23","J K^-1"),createFaraday=unitFactory("faraday","96485.33212331001","C mol^-1"),createFirstRadiation=unitFactory("firstRadiation","3.7417718521927573e-16","W m^2"),createLoschmidt=unitFactory("loschmidt","2.686780111798444e25","m^-3"),createGasConstant=unitFactory("gasConstant","8.31446261815324","J K^-1 mol^-1"),createMolarPlanckConstant=unitFactory("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),createMolarVolume=unitFactory("molarVolume","0.022413969545014137","m^3 mol^-1"),createSackurTetrode=numberFactory("sackurTetrode",-1.16487052358),createSecondRadiation=unitFactory("secondRadiation","0.014387768775039337","m K"),createStefanBoltzmann=unitFactory("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),createWienDisplacement=unitFactory("wienDisplacement","2.897771955e-3","m K"),createMolarMass=unitFactory("molarMass","0.99999999965e-3","kg mol^-1"),createMolarMassC12=unitFactory("molarMassC12","11.9999999958e-3","kg mol^-1"),createGravity=unitFactory("gravity","9.80665","m s^-2"),createPlanckLength=unitFactory("planckLength","1.616255e-35","m"),createPlanckMass=unitFactory("planckMass","2.176435e-8","kg"),createPlanckTime=unitFactory("planckTime","5.391245e-44","s"),createPlanckCharge=unitFactory("planckCharge","1.87554603778e-18","C"),createPlanckTemperature=unitFactory("planckTemperature","1.416785e+32","K");function unitFactory(name,valueStr,unitStr){return(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,["config","Unit","BigNumber"],(_ref=>{var{config:config,Unit:Unit,BigNumber:BigNumber}=_ref,unit=new Unit("BigNumber"===config.number?new BigNumber(valueStr):parseFloat(valueStr),unitStr);return unit.fixPrefix=!0,unit}))}function numberFactory(name,value){return(0,_utils_factory_js__WEBPACK_IMPORTED_MODULE_0__.d5)(name,["config","BigNumber"],(_ref2=>{var{config:config,BigNumber:BigNumber}=_ref2;return"BigNumber"===config.number?new BigNumber(value):value}))}},"./node_modules/mathjs/lib/esm/utils/array.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$q:function(){return getArrayDataType},D$:function(){return generalize},Ed:function(){return forEach},Gu:function(){return validate},L9:function(){return squeeze},Ls:function(){return validateIndex},SI:function(){return resize},UI:function(){return map},U_:function(){return filterRegExp},XL:function(){return reshape},aJ:function(){return arraySize},eu:function(){return processSizesWildcard},f4:function(){return unsqueeze},hX:function(){return filter},r3:function(){return contains},v_:function(){return join},xH:function(){return flatten},yV:function(){return identify}});var _number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js"),_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_string_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/string.js"),_error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/error/DimensionError.js"),_error_IndexError_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mathjs/lib/esm/error/IndexError.js");function arraySize(x){for(var s=[];Array.isArray(x);)s.push(x.length),x=x[0];return s}function _validate(array,size,dim){var i,len=array.length;if(len!==size[dim])throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(len,size[dim]);if(dim<size.length-1){var dimNext=dim+1;for(i=0;i<len;i++){var child=array[i];if(!Array.isArray(child))throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(size.length-1,size.length,"<");_validate(array[i],size,dimNext)}}else for(i=0;i<len;i++)if(Array.isArray(array[i]))throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(size.length+1,size.length,">")}function validate(array,size){if(0===size.length){if(Array.isArray(array))throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(array.length,0)}else _validate(array,size,0)}function validateIndex(index,length){if(!(0,_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(index)||!(0,_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(index))throw new TypeError("Index must be an integer (value: "+index+")");if(index<0||"number"==typeof length&&index>=length)throw new _error_IndexError_js__WEBPACK_IMPORTED_MODULE_3__.c(index,length)}function resize(array,size,defaultValue){if(!Array.isArray(array)||!Array.isArray(size))throw new TypeError("Array expected");if(0===size.length)throw new Error("Resizing to scalar is not supported");return size.forEach((function(value){if(!(0,_is_js__WEBPACK_IMPORTED_MODULE_1__.hj)(value)||!(0,_number_js__WEBPACK_IMPORTED_MODULE_2__.U)(value)||value<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,_string_js__WEBPACK_IMPORTED_MODULE_4__.WU)(size)+")")})),_resize(array,size,0,void 0!==defaultValue?defaultValue:0),array}function _resize(array,size,dim,defaultValue){var i,elem,oldLen=array.length,newLen=size[dim],minLen=Math.min(oldLen,newLen);if(array.length=newLen,dim<size.length-1){var dimNext=dim+1;for(i=0;i<minLen;i++)elem=array[i],Array.isArray(elem)||(elem=[elem],array[i]=elem),_resize(elem,size,dimNext,defaultValue);for(i=minLen;i<newLen;i++)elem=[],array[i]=elem,_resize(elem,size,dimNext,defaultValue)}else{for(i=0;i<minLen;i++)for(;Array.isArray(array[i]);)array[i]=array[i][0];for(i=minLen;i<newLen;i++)array[i]=defaultValue}}function reshape(array,sizes){var flatArray=flatten(array),currentLength=flatArray.length;if(!Array.isArray(array)||!Array.isArray(sizes))throw new TypeError("Array expected");if(0===sizes.length)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(0,currentLength,"!=");var newLength=product(sizes=processSizesWildcard(sizes,currentLength));if(currentLength!==newLength)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(newLength,currentLength,"!=");try{return function _reshape(array,sizes){for(var tmpArray2,tmpArray=array,sizeIndex=sizes.length-1;sizeIndex>0;sizeIndex--){var size=sizes[sizeIndex];tmpArray2=[];for(var length=tmpArray.length/size,i=0;i<length;i++)tmpArray2.push(tmpArray.slice(i*size,(i+1)*size));tmpArray=tmpArray2}return tmpArray}(flatArray,sizes)}catch(e){if(e instanceof _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m)throw new _error_DimensionError_js__WEBPACK_IMPORTED_MODULE_0__.m(newLength,currentLength,"!=");throw e}}function processSizesWildcard(sizes,currentLength){var newLength=product(sizes),processedSizes=sizes.slice(),wildCardIndex=sizes.indexOf(-1);if(sizes.indexOf(-1,wildCardIndex+1)>=0)throw new Error("More than one wildcard in sizes");if(wildCardIndex>=0){if(!(currentLength%newLength==0))throw new Error("Could not replace wildcard, since "+currentLength+" is no multiple of "+-newLength);processedSizes[wildCardIndex]=-currentLength/newLength}return processedSizes}function product(array){return array.reduce(((prev,curr)=>prev*curr),1)}function squeeze(array,size){for(var s=size||arraySize(array);Array.isArray(array)&&1===array.length;)array=array[0],s.shift();for(var dims=s.length;1===s[dims-1];)dims--;return dims<s.length&&(array=_squeeze(array,dims,0),s.length=dims),array}function _squeeze(array,dims,dim){var i,ii;if(dim<dims){var next=dim+1;for(i=0,ii=array.length;i<ii;i++)array[i]=_squeeze(array[i],dims,next)}else for(;Array.isArray(array);)array=array[0];return array}function unsqueeze(array,dims,outer,size){var s=size||arraySize(array);if(outer)for(var i=0;i<outer;i++)array=[array],s.unshift(1);for(array=_unsqueeze(array,dims,0);s.length<dims;)s.push(1);return array}function _unsqueeze(array,dims,dim){var i,ii;if(Array.isArray(array)){var next=dim+1;for(i=0,ii=array.length;i<ii;i++)array[i]=_unsqueeze(array[i],dims,next)}else for(var d=dim;d<dims;d++)array=[array];return array}function flatten(array){if(!Array.isArray(array))return array;var flat=[];return array.forEach((function callback(value){Array.isArray(value)?value.forEach(callback):flat.push(value)})),flat}function map(array,callback){return Array.prototype.map.call(array,callback)}function forEach(array,callback){Array.prototype.forEach.call(array,callback)}function filter(array,callback){if(1!==arraySize(array).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(array,callback)}function filterRegExp(array,regexp){if(1!==arraySize(array).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(array,(entry=>regexp.test(entry)))}function join(array,separator){return Array.prototype.join.call(array,separator)}function identify(a){if(!Array.isArray(a))throw new TypeError("Array input expected");if(0===a.length)return a;var b=[],count=0;b[0]={value:a[0],identifier:0};for(var i=1;i<a.length;i++)a[i]===a[i-1]?count++:count=0,b.push({value:a[i],identifier:count});return b}function generalize(a){if(!Array.isArray(a))throw new TypeError("Array input expected");if(0===a.length)return a;for(var b=[],i=0;i<a.length;i++)b.push(a[i].value);return b}function getArrayDataType(array,typeOf){for(var type,length=0,i=0;i<array.length;i++){var item=array[i],isArray=Array.isArray(item);if(0===i&&isArray&&(length=item.length),isArray&&item.length!==length)return;var itemType=isArray?getArrayDataType(item,typeOf):typeOf(item);if(void 0===type)type=itemType;else if(type!==itemType)return"mixed"}return type}function contains(array,item){return-1!==array.indexOf(item)}},"./node_modules/mathjs/lib/esm/utils/bignumber/bitwise.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function bitAndBigNumber(x,y){if(x.isFinite()&&!x.isInteger()||y.isFinite()&&!y.isInteger())throw new Error("Integers expected in function bitAnd");var BigNumber=x.constructor;if(x.isNaN()||y.isNaN())return new BigNumber(NaN);if(x.isZero()||y.eq(-1)||x.eq(y))return x;if(y.isZero()||x.eq(-1))return y;if(!x.isFinite()||!y.isFinite()){if(!x.isFinite()&&!y.isFinite())return x.isNegative()===y.isNegative()?x:new BigNumber(0);if(!x.isFinite())return y.isNegative()?x:x.isNegative()?new BigNumber(0):y;if(!y.isFinite())return x.isNegative()?y:y.isNegative()?new BigNumber(0):x}return bitwise(x,y,(function(a,b){return a&b}))}function bitNotBigNumber(x){if(x.isFinite()&&!x.isInteger())throw new Error("Integer expected in function bitNot");var BigNumber=x.constructor,prevPrec=BigNumber.precision;BigNumber.config({precision:1e9});var result=x.plus(new BigNumber(1));return result.s=-result.s||null,BigNumber.config({precision:prevPrec}),result}function bitOrBigNumber(x,y){if(x.isFinite()&&!x.isInteger()||y.isFinite()&&!y.isInteger())throw new Error("Integers expected in function bitOr");var BigNumber=x.constructor;if(x.isNaN()||y.isNaN())return new BigNumber(NaN);var negOne=new BigNumber(-1);return x.isZero()||y.eq(negOne)||x.eq(y)?y:y.isZero()||x.eq(negOne)?x:x.isFinite()&&y.isFinite()?bitwise(x,y,(function(a,b){return a|b})):!x.isFinite()&&!x.isNegative()&&y.isNegative()||x.isNegative()&&!y.isNegative()&&!y.isFinite()?negOne:x.isNegative()&&y.isNegative()?x.isFinite()?x:y:x.isFinite()?y:x}function bitwise(x,y,func){var xBits,yBits,minBits,maxBits,minSign,BigNumber=x.constructor,xSign=+(x.s<0),ySign=+(y.s<0);if(xSign){xBits=decCoefficientToBinaryString(bitNotBigNumber(x));for(var i=0;i<xBits.length;++i)xBits[i]^=1}else xBits=decCoefficientToBinaryString(x);if(ySign){yBits=decCoefficientToBinaryString(bitNotBigNumber(y));for(var _i=0;_i<yBits.length;++_i)yBits[_i]^=1}else yBits=decCoefficientToBinaryString(y);xBits.length<=yBits.length?(minBits=xBits,maxBits=yBits,minSign=xSign):(minBits=yBits,maxBits=xBits,minSign=ySign);var shortLen=minBits.length,longLen=maxBits.length,expFuncVal=1^func(xSign,ySign),outVal=new BigNumber(1^expFuncVal),twoPower=new BigNumber(1),two=new BigNumber(2),prevPrec=BigNumber.precision;for(BigNumber.config({precision:1e9});shortLen>0;)func(minBits[--shortLen],maxBits[--longLen])===expFuncVal&&(outVal=outVal.plus(twoPower)),twoPower=twoPower.times(two);for(;longLen>0;)func(minSign,maxBits[--longLen])===expFuncVal&&(outVal=outVal.plus(twoPower)),twoPower=twoPower.times(two);return BigNumber.config({precision:prevPrec}),0===expFuncVal&&(outVal.s=-outVal.s),outVal}function decCoefficientToBinaryString(x){for(var a=x.d,r=a[0]+"",i=1;i<a.length;++i){for(var s=a[i]+"",z=7-s.length;z--;)s="0"+s;r+=s}for(var j=r.length;"0"===r.charAt(j);)j--;var xe=x.e,str=r.slice(0,j+1||1),strL=str.length;if(xe>0)if(++xe>strL)for(xe-=strL;xe--;)str+="0";else xe<strL&&(str=str.slice(0,xe)+"."+str.slice(xe));for(var arr=[0],_i2=0;_i2<str.length;){for(var arrL=arr.length;arrL--;)arr[arrL]*=10;arr[0]+=parseInt(str.charAt(_i2++));for(var _j=0;_j<arr.length;++_j)arr[_j]>1&&(null!==arr[_j+1]&&void 0!==arr[_j+1]||(arr[_j+1]=0),arr[_j+1]+=arr[_j]>>1,arr[_j]&=1)}return arr.reverse()}function bitXor(x,y){if(x.isFinite()&&!x.isInteger()||y.isFinite()&&!y.isInteger())throw new Error("Integers expected in function bitXor");var BigNumber=x.constructor;if(x.isNaN()||y.isNaN())return new BigNumber(NaN);if(x.isZero())return y;if(y.isZero())return x;if(x.eq(y))return new BigNumber(0);var negOne=new BigNumber(-1);return x.eq(negOne)?bitNotBigNumber(y):y.eq(negOne)?bitNotBigNumber(x):x.isFinite()&&y.isFinite()?bitwise(x,y,(function(a,b){return a^b})):x.isFinite()||y.isFinite()?new BigNumber(x.isNegative()===y.isNegative()?1/0:-1/0):negOne}function leftShiftBigNumber(x,y){if(x.isFinite()&&!x.isInteger()||y.isFinite()&&!y.isInteger())throw new Error("Integers expected in function leftShift");var BigNumber=x.constructor;return x.isNaN()||y.isNaN()||y.isNegative()&&!y.isZero()?new BigNumber(NaN):x.isZero()||y.isZero()?x:x.isFinite()||y.isFinite()?y.lt(55)?x.times(Math.pow(2,y.toNumber())+""):x.times(new BigNumber(2).pow(y)):new BigNumber(NaN)}function rightArithShiftBigNumber(x,y){if(x.isFinite()&&!x.isInteger()||y.isFinite()&&!y.isInteger())throw new Error("Integers expected in function rightArithShift");var BigNumber=x.constructor;return x.isNaN()||y.isNaN()||y.isNegative()&&!y.isZero()?new BigNumber(NaN):x.isZero()||y.isZero()?x:y.isFinite()?y.lt(55)?x.div(Math.pow(2,y.toNumber())+"").floor():x.div(new BigNumber(2).pow(y)).floor():x.isNegative()?new BigNumber(-1):x.isFinite()?new BigNumber(0):new BigNumber(NaN)}__webpack_require__.d(__webpack_exports__,{Mw:function(){return leftShiftBigNumber},Vq:function(){return bitOrBigNumber},Xc:function(){return bitNotBigNumber},hi:function(){return bitAndBigNumber},nN:function(){return bitXor},ti:function(){return rightArithShiftBigNumber}})},"./node_modules/mathjs/lib/esm/utils/bignumber/constants.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{j_:function(){return createBigNumberTau},vu:function(){return createBigNumberE},wY:function(){return createBigNumberPi},zm:function(){return createBigNumberPhi}});var _function_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/function.js"),createBigNumberE=(0,_function_js__WEBPACK_IMPORTED_MODULE_0__.HP)((function(BigNumber){return new BigNumber(1).exp()}),{hasher:hasher}),createBigNumberPhi=(0,_function_js__WEBPACK_IMPORTED_MODULE_0__.HP)((function(BigNumber){return new BigNumber(1).plus(new BigNumber(5).sqrt()).div(2)}),{hasher:hasher}),createBigNumberPi=(0,_function_js__WEBPACK_IMPORTED_MODULE_0__.HP)((function(BigNumber){return BigNumber.acos(-1)}),{hasher:hasher}),createBigNumberTau=(0,_function_js__WEBPACK_IMPORTED_MODULE_0__.HP)((function(BigNumber){return createBigNumberPi(BigNumber).times(2)}),{hasher:hasher});function hasher(args){return args[0].precision}},"./node_modules/mathjs/lib/esm/utils/bignumber/nearlyEqual.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function nearlyEqual(x,y,epsilon){if(null==epsilon)return x.eq(y);if(x.eq(y))return!0;if(x.isNaN()||y.isNaN())return!1;if(x.isFinite()&&y.isFinite()){var diff=x.minus(y).abs();if(diff.isZero())return!0;var max=x.constructor.max(x.abs(),y.abs());return diff.lte(max.times(epsilon))}return!1}__webpack_require__.d(__webpack_exports__,{R:function(){return nearlyEqual}})},"./node_modules/mathjs/lib/esm/utils/collection.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{CQ:function(){return containsCollections},Et:function(){return deepForEach},Fh:function(){return deepMap},U6:function(){return scatter},u4:function(){return reduce}});var _is_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),_error_IndexError_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mathjs/lib/esm/error/IndexError.js"),_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/array.js");function containsCollections(array){for(var i=0;i<array.length;i++)if((0,_is_js__WEBPACK_IMPORTED_MODULE_0__.uZ)(array[i]))return!0;return!1}function deepForEach(array,callback){(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.SW)(array)&&(array=array.valueOf());for(var i=0,ii=array.length;i<ii;i++){var value=array[i];Array.isArray(value)?deepForEach(value,callback):callback(value)}}function deepMap(array,callback,skipZeros){return array&&"function"==typeof array.map?array.map((function(x){return deepMap(x,callback,skipZeros)})):callback(array)}function reduce(mat,dim,callback){var size=Array.isArray(mat)?(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.aJ)(mat):mat.size();if(dim<0||dim>=size.length)throw new _error_IndexError_js__WEBPACK_IMPORTED_MODULE_2__.c(dim,size.length);return(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.SW)(mat)?mat.create(_reduce(mat.valueOf(),dim,callback)):_reduce(mat,dim,callback)}function _reduce(mat,dim,callback){var i,ret,val,tran;if(dim<=0){if(Array.isArray(mat[0])){for(tran=function _switch(mat){var i,j,I=mat.length,J=mat[0].length,ret=[];for(j=0;j<J;j++){var tmp=[];for(i=0;i<I;i++)tmp.push(mat[i][j]);ret.push(tmp)}return ret}(mat),ret=[],i=0;i<tran.length;i++)ret[i]=_reduce(tran[i],dim-1,callback);return ret}for(val=mat[0],i=1;i<mat.length;i++)val=callback(val,mat[i]);return val}for(ret=[],i=0;i<mat.length;i++)ret[i]=_reduce(mat[i],dim-1,callback);return ret}function scatter(a,j,w,x,u,mark,cindex,f,inverse,update,value){var k,k0,k1,i,avalues=a._values,aindex=a._index,aptr=a._ptr;if(x)for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++)w[i=aindex[k]]!==mark?(w[i]=mark,cindex.push(i),update?(x[i]=inverse?f(avalues[k],value):f(value,avalues[k]),u[i]=mark):x[i]=avalues[k]):(x[i]=inverse?f(avalues[k],x[i]):f(x[i],avalues[k]),u[i]=mark);else for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++)w[i=aindex[k]]!==mark?(w[i]=mark,cindex.push(i)):u[i]=mark}},"./node_modules/mathjs/lib/esm/utils/customs.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{OJ:function(){return isSafeMethod},YF:function(){return getSafeProperty},Z8:function(){return hasSafeProperty},nI:function(){return setSafeProperty},np:function(){return validateSafeMethod},pp:function(){return isSafeProperty}});var _object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js");function getSafeProperty(object,prop){if(isPlainObject(object)&&isSafeProperty(object,prop))return object[prop];if("function"==typeof object[prop]&&isSafeMethod(object,prop))throw new Error('Cannot access method "'+prop+'" as a property');throw new Error('No access to property "'+prop+'"')}function setSafeProperty(object,prop,value){if(isPlainObject(object)&&isSafeProperty(object,prop))return object[prop]=value,value;throw new Error('No access to property "'+prop+'"')}function hasSafeProperty(object,prop){return prop in object}function isSafeProperty(object,prop){return!(!object||"object"!=typeof object)&&(!!(0,_object_js__WEBPACK_IMPORTED_MODULE_0__.nr)(safeNativeProperties,prop)||!(prop in Object.prototype)&&!(prop in Function.prototype))}function validateSafeMethod(object,method){if(!isSafeMethod(object,method))throw new Error('No access to method "'+method+'"')}function isSafeMethod(object,method){return null!=object&&"function"==typeof object[method]&&(!((0,_object_js__WEBPACK_IMPORTED_MODULE_0__.nr)(object,method)&&Object.getPrototypeOf&&method in Object.getPrototypeOf(object))&&(!!(0,_object_js__WEBPACK_IMPORTED_MODULE_0__.nr)(safeNativeMethods,method)||!(method in Object.prototype)&&!(method in Function.prototype)))}function isPlainObject(object){return"object"==typeof object&&object&&object.constructor===Object}var safeNativeProperties={length:!0,name:!0},safeNativeMethods={toString:!0,valueOf:!0,toLocaleString:!0}},"./node_modules/mathjs/lib/esm/utils/factory.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{PI:function(){return stripOptionalNotation},d5:function(){return factory},gS:function(){return isFactory}});var _object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/object.js");function factory(name,dependencies,create,meta){function assertAndCreate(scope){var deps=(0,_object_js__WEBPACK_IMPORTED_MODULE_0__.W6)(scope,dependencies.map(stripOptionalNotation));return function assertDependencies(name,dependencies,scope){var allDefined=dependencies.filter((dependency=>!function isOptionalDependency(dependency){return dependency&&"?"===dependency[0]}(dependency))).every((dependency=>void 0!==scope[dependency]));if(!allDefined){var missingDependencies=dependencies.filter((dependency=>void 0===scope[dependency]));throw new Error('Cannot create function "'.concat(name,'", ')+"some dependencies are missing: ".concat(missingDependencies.map((d=>'"'.concat(d,'"'))).join(", "),"."))}}(name,dependencies,scope),create(deps)}return assertAndCreate.isFactory=!0,assertAndCreate.fn=name,assertAndCreate.dependencies=dependencies.slice().sort(),meta&&(assertAndCreate.meta=meta),assertAndCreate}function isFactory(obj){return"function"==typeof obj&&"string"==typeof obj.fn&&Array.isArray(obj.dependencies)}function stripOptionalNotation(dependency){return dependency&&"?"===dependency[0]?dependency.slice(1):dependency}},"./node_modules/mathjs/lib/esm/utils/function.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function lruQueue(limit){var size=0,base=1,queue=Object.create(null),map=Object.create(null),index=0,del=function del(id){var oldIndex=map[id];if(oldIndex&&(delete queue[oldIndex],delete map[id],--size,base===oldIndex)){if(!size)return index=0,void(base=1);for(;!hasOwnProperty.call(queue,++base););}};return limit=Math.abs(limit),{hit:function hit(id){var oldIndex=map[id],nuIndex=++index;if(queue[nuIndex]=id,map[id]=nuIndex,!oldIndex){if(++size<=limit)return;return id=queue[base],del(id),id}if(delete queue[oldIndex],base===oldIndex)for(;!hasOwnProperty.call(queue,++base););},delete:del,clear:function clear(){size=index=0,base=1,queue=Object.create(null),map=Object.create(null)}}}function memoize(fn){var{hasher:hasher,limit:limit}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return limit=null==limit?Number.POSITIVE_INFINITY:limit,hasher=null==hasher?JSON.stringify:hasher,function memoize(){"object"!=typeof memoize.cache&&(memoize.cache={values:new Map,lru:lruQueue(limit||Number.POSITIVE_INFINITY)});for(var args=[],i=0;i<arguments.length;i++)args[i]=arguments[i];var hash=hasher(args);if(memoize.cache.values.has(hash))return memoize.cache.lru.hit(hash),memoize.cache.values.get(hash);var newVal=fn.apply(fn,args);return memoize.cache.values.set(hash,newVal),memoize.cache.values.delete(memoize.cache.lru.hit(hash)),newVal}}function maxArgumentCount(fn){return Object.keys(fn.signatures||{}).reduce((function(args,signature){var count=(signature.match(/,/g)||[]).length+1;return Math.max(args,count)}),-1)}__webpack_require__.d(__webpack_exports__,{oV:function(){return maxArgumentCount},HP:function(){return memoize}})},"./node_modules/mathjs/lib/esm/utils/is.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function isNumber(x){return"number"==typeof x}function isBigNumber(x){return!(!x||"object"!=typeof x||"function"!=typeof x.constructor)&&(!0===x.isBigNumber&&"object"==typeof x.constructor.prototype&&!0===x.constructor.prototype.isBigNumber||"function"==typeof x.constructor.isDecimal&&!0===x.constructor.isDecimal(x))}function isComplex(x){return x&&"object"==typeof x&&!0===Object.getPrototypeOf(x).isComplex||!1}function isFraction(x){return x&&"object"==typeof x&&!0===Object.getPrototypeOf(x).isFraction||!1}function isUnit(x){return x&&!0===x.constructor.prototype.isUnit||!1}function isString(x){return"string"==typeof x}__webpack_require__.d(__webpack_exports__,{Bp:function(){return isAssignmentNode},Cl:function(){return isIndexNode},FG:function(){return isSymbolNode},Ft:function(){return isNull},HD:function(){return isString},Ig:function(){return isParenthesisNode},J_:function(){return isDate},Kj:function(){return isRegExp},Kn:function(){return isObject},Lr:function(){return isObjectNode},Mc:function(){return isComplex},SW:function(){return isMatrix},UG:function(){return isNode},VO:function(){return isFunctionNode},Yz:function(){return isAccessorNode},bR:function(){return isRange},bV:function(){return isOperatorNode},cB:function(){return isResultSet},dh:function(){return isIndex},ex:function(){return isRangeNode},hj:function(){return isNumber},j0:function(){return isArrayNode},jH:function(){return isDenseMatrix},jn:function(){return isBoolean},kJ:function(){return isArray},kM:function(){return typeOf},l7:function(){return isFunctionAssignmentNode},l9:function(){return isBigNumber},mf:function(){return isFunction},nu:function(){return isConstantNode},o8:function(){return isUndefined},qg:function(){return isChain},sA:function(){return isSparseMatrix},tS:function(){return isConditionalNode},uZ:function(){return isCollection},wr:function(){return isUnit},x1:function(){return isHelp},yQ:function(){return isFraction},zh:function(){return isBlockNode}});var isArray=Array.isArray;function isMatrix(x){return x&&!0===x.constructor.prototype.isMatrix||!1}function isCollection(x){return Array.isArray(x)||isMatrix(x)}function isDenseMatrix(x){return x&&x.isDenseMatrix&&!0===x.constructor.prototype.isMatrix||!1}function isSparseMatrix(x){return x&&x.isSparseMatrix&&!0===x.constructor.prototype.isMatrix||!1}function isRange(x){return x&&!0===x.constructor.prototype.isRange||!1}function isIndex(x){return x&&!0===x.constructor.prototype.isIndex||!1}function isBoolean(x){return"boolean"==typeof x}function isResultSet(x){return x&&!0===x.constructor.prototype.isResultSet||!1}function isHelp(x){return x&&!0===x.constructor.prototype.isHelp||!1}function isFunction(x){return"function"==typeof x}function isDate(x){return x instanceof Date}function isRegExp(x){return x instanceof RegExp}function isObject(x){return!(!x||"object"!=typeof x||x.constructor!==Object||isComplex(x)||isFraction(x))}function isNull(x){return null===x}function isUndefined(x){return void 0===x}function isAccessorNode(x){return x&&!0===x.isAccessorNode&&!0===x.constructor.prototype.isNode||!1}function isArrayNode(x){return x&&!0===x.isArrayNode&&!0===x.constructor.prototype.isNode||!1}function isAssignmentNode(x){return x&&!0===x.isAssignmentNode&&!0===x.constructor.prototype.isNode||!1}function isBlockNode(x){return x&&!0===x.isBlockNode&&!0===x.constructor.prototype.isNode||!1}function isConditionalNode(x){return x&&!0===x.isConditionalNode&&!0===x.constructor.prototype.isNode||!1}function isConstantNode(x){return x&&!0===x.isConstantNode&&!0===x.constructor.prototype.isNode||!1}function isFunctionAssignmentNode(x){return x&&!0===x.isFunctionAssignmentNode&&!0===x.constructor.prototype.isNode||!1}function isFunctionNode(x){return x&&!0===x.isFunctionNode&&!0===x.constructor.prototype.isNode||!1}function isIndexNode(x){return x&&!0===x.isIndexNode&&!0===x.constructor.prototype.isNode||!1}function isNode(x){return x&&!0===x.isNode&&!0===x.constructor.prototype.isNode||!1}function isObjectNode(x){return x&&!0===x.isObjectNode&&!0===x.constructor.prototype.isNode||!1}function isOperatorNode(x){return x&&!0===x.isOperatorNode&&!0===x.constructor.prototype.isNode||!1}function isParenthesisNode(x){return x&&!0===x.isParenthesisNode&&!0===x.constructor.prototype.isNode||!1}function isRangeNode(x){return x&&!0===x.isRangeNode&&!0===x.constructor.prototype.isNode||!1}function isSymbolNode(x){return x&&!0===x.isSymbolNode&&!0===x.constructor.prototype.isNode||!1}function isChain(x){return x&&!0===x.constructor.prototype.isChain||!1}function typeOf(x){var t=typeof x;return"object"===t?null===x?"null":Array.isArray(x)?"Array":x instanceof Date?"Date":x instanceof RegExp?"RegExp":isBigNumber(x)?"BigNumber":isComplex(x)?"Complex":isFraction(x)?"Fraction":isMatrix(x)?"Matrix":isUnit(x)?"Unit":isIndex(x)?"Index":isRange(x)?"Range":isResultSet(x)?"ResultSet":isNode(x)?x.type:isChain(x)?"Chain":isHelp(x)?"Help":"Object":"function"===t?"Function":t}},"./node_modules/mathjs/lib/esm/utils/map.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_N:function(){return isMap},df:function(){return createMap},dg:function(){return createEmptyMap},f0:function(){return assign},ru:function(){return toObject}});var _customs_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/customs.js"),_is_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js");class ObjectWrappingMap{constructor(object){this.wrappedObject=object}keys(){return Object.keys(this.wrappedObject)}get(key){return(0,_customs_js__WEBPACK_IMPORTED_MODULE_0__.YF)(this.wrappedObject,key)}set(key,value){return(0,_customs_js__WEBPACK_IMPORTED_MODULE_0__.nI)(this.wrappedObject,key,value),this}has(key){return(0,_customs_js__WEBPACK_IMPORTED_MODULE_0__.Z8)(this.wrappedObject,key)}}function createEmptyMap(){return new Map}function createMap(mapOrObject){if(!mapOrObject)return createEmptyMap();if(isMap(mapOrObject))return mapOrObject;if((0,_is_js__WEBPACK_IMPORTED_MODULE_1__.Kn)(mapOrObject))return new ObjectWrappingMap(mapOrObject);throw new Error("createMap can create maps from objects or Maps")}function toObject(map){if(map instanceof ObjectWrappingMap)return map.wrappedObject;var object={};for(var key of map.keys()){var value=map.get(key);(0,_customs_js__WEBPACK_IMPORTED_MODULE_0__.nI)(object,key,value)}return object}function isMap(object){return!!object&&(object instanceof Map||object instanceof ObjectWrappingMap||"function"==typeof object.set&&"function"==typeof object.get&&"function"==typeof object.keys&&"function"==typeof object.has)}function assign(map){for(var _len=arguments.length,objects=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)objects[_key-1]=arguments[_key];for(var args of objects)if(args)if(isMap(args))for(var key of args.keys())map.set(key,args.get(key));else if((0,_is_js__WEBPACK_IMPORTED_MODULE_1__.Kn)(args))for(var _key2 of Object.keys(args))map.set(_key2,args[_key2]);return map}},"./node_modules/mathjs/lib/esm/utils/noop.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function noBignumber(){throw new Error('No "bignumber" implementation available')}function noFraction(){throw new Error('No "fraction" implementation available')}function noMatrix(){throw new Error('No "matrix" implementation available')}__webpack_require__.d(__webpack_exports__,{R3:function(){return noBignumber},kX:function(){return noMatrix},nG:function(){return noFraction}})},"./node_modules/mathjs/lib/esm/utils/number.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{AE:function(){return tanh},C8:function(){return atanh},FH:function(){return toFixed},Kr:function(){return log1p},RI:function(){return nearlyEqual},R_:function(){return sinh},U:function(){return isInteger},Vf:function(){return asinh},WU:function(){return format},Xx:function(){return sign},__:function(){return acosh},eK:function(){return cbrt},f9:function(){return cosh},k3:function(){return log2},mv:function(){return log10},nz:function(){return digits},t$:function(){return expm1}});var _is_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js");function isInteger(value){return"boolean"==typeof value||!!isFinite(value)&&value===Math.round(value)}var sign=Math.sign||function(x){return x>0?1:x<0?-1:0},log2=Math.log2||function log2(x){return Math.log(x)/Math.LN2},log10=Math.log10||function log10(x){return Math.log(x)/Math.LN10},log1p=Math.log1p||function(x){return Math.log(x+1)},cbrt=Math.cbrt||function cbrt(x){if(0===x)return x;var result,negate=x<0;return negate&&(x=-x),result=isFinite(x)?(x/((result=Math.exp(Math.log(x)/3))*result)+2*result)/3:x,negate?-result:result},expm1=Math.expm1||function expm1(x){return x>=2e-4||x<=-2e-4?Math.exp(x)-1:x+x*x/2+x*x*x/6};function formatNumberToBase(n,base,size){var prefix={2:"0b",8:"0o",16:"0x"}[base],suffix="";if(size){if(size<1)throw new Error("size must be in greater than 0");if(!isInteger(size))throw new Error("size must be an integer");if(n>2**(size-1)-1||n<-(2**(size-1)))throw new Error("Value must be in range [-2^".concat(size-1,", 2^").concat(size-1,"-1]"));if(!isInteger(n))throw new Error("Value must be an integer");n<0&&(n+=2**size),suffix="i".concat(size)}var sign="";return n<0&&(n=-n,sign="-"),"".concat(sign).concat(prefix).concat(n.toString(base)).concat(suffix)}function format(value,options){if("function"==typeof options)return options(value);if(value===1/0)return"Infinity";if(value===-1/0)return"-Infinity";if(isNaN(value))return"NaN";var precision,wordSize,notation="auto";if(options&&(options.notation&&(notation=options.notation),(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.hj)(options)?precision=options:(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.hj)(options.precision)&&(precision=options.precision),options.wordSize&&"number"!=typeof(wordSize=options.wordSize)))throw new Error('Option "wordSize" must be a number');switch(notation){case"fixed":return toFixed(value,precision);case"exponential":return toExponential(value,precision);case"engineering":return function toEngineering(value,precision){if(isNaN(value)||!isFinite(value))return String(value);var split=splitNumber(value),rounded=roundDigits(split,precision),e=rounded.exponent,c=rounded.coefficients,newExp=e%3==0?e:e<0?e-3-e%3:e-e%3;if((0,_is_js__WEBPACK_IMPORTED_MODULE_0__.hj)(precision))for(;precision>c.length||e-newExp+1>c.length;)c.push(0);else for(var missingZeros=Math.abs(e-newExp)-(c.length-1),i=0;i<missingZeros;i++)c.push(0);var expDiff=Math.abs(e-newExp),decimalIdx=1;for(;expDiff>0;)decimalIdx++,expDiff--;var decimals=c.slice(decimalIdx).join(""),decimalVal=(0,_is_js__WEBPACK_IMPORTED_MODULE_0__.hj)(precision)&&decimals.length||decimals.match(/[1-9]/)?"."+decimals:"",str=c.slice(0,decimalIdx).join("")+decimalVal+"e"+(e>=0?"+":"")+newExp.toString();return rounded.sign+str}(value,precision);case"bin":return formatNumberToBase(value,2,wordSize);case"oct":return formatNumberToBase(value,8,wordSize);case"hex":return formatNumberToBase(value,16,wordSize);case"auto":return function toPrecision(value,precision,options){if(isNaN(value)||!isFinite(value))return String(value);var lowerExp=options&&void 0!==options.lowerExp?options.lowerExp:-3,upperExp=options&&void 0!==options.upperExp?options.upperExp:5,split=splitNumber(value),rounded=precision?roundDigits(split,precision):split;if(rounded.exponent<lowerExp||rounded.exponent>=upperExp)return toExponential(value,precision);var c=rounded.coefficients,e=rounded.exponent;c.length<precision&&(c=c.concat(zeros(precision-c.length))),c=c.concat(zeros(e-c.length+1+(c.length<precision?precision-c.length:0)));var dot=e>0?e:0;return dot<(c=zeros(-e).concat(c)).length-1&&c.splice(dot+1,0,"."),rounded.sign+c.join("")}(value,precision,options&&options).replace(/((\.\d*?)(0+))($|e)/,(function(){var digits=arguments[2],e=arguments[4];return"."!==digits?digits+e:e}));default:throw new Error('Unknown notation "'+notation+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function splitNumber(value){var match=String(value).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!match)throw new SyntaxError("Invalid number "+value);var sign=match[1],digits=match[2],exponent=parseFloat(match[4]||"0"),dot=digits.indexOf(".");exponent+=-1!==dot?dot-1:digits.length-1;var coefficients=digits.replace(".","").replace(/^0*/,(function(zeros){return exponent-=zeros.length,""})).replace(/0*$/,"").split("").map((function(d){return parseInt(d)}));return 0===coefficients.length&&(coefficients.push(0),exponent++),{sign:sign,coefficients:coefficients,exponent:exponent}}function toFixed(value,precision){if(isNaN(value)||!isFinite(value))return String(value);var splitValue=splitNumber(value),rounded="number"==typeof precision?roundDigits(splitValue,splitValue.exponent+1+precision):splitValue,c=rounded.coefficients,p=rounded.exponent+1,pp=p+(precision||0);return c.length<pp&&(c=c.concat(zeros(pp-c.length))),p<0&&(c=zeros(1-p).concat(c),p=1),p<c.length&&c.splice(p,0,0===p?"0.":"."),rounded.sign+c.join("")}function toExponential(value,precision){if(isNaN(value)||!isFinite(value))return String(value);var split=splitNumber(value),rounded=precision?roundDigits(split,precision):split,c=rounded.coefficients,e=rounded.exponent;c.length<precision&&(c=c.concat(zeros(precision-c.length)));var first=c.shift();return rounded.sign+first+(c.length>0?"."+c.join(""):"")+"e"+(e>=0?"+":"")+e}function roundDigits(split,precision){for(var rounded={sign:split.sign,coefficients:split.coefficients,exponent:split.exponent},c=rounded.coefficients;precision<=0;)c.unshift(0),rounded.exponent++,precision++;if(c.length>precision&&c.splice(precision,c.length-precision)[0]>=5){var i=precision-1;for(c[i]++;10===c[i];)c.pop(),0===i&&(c.unshift(0),rounded.exponent++,i++),c[--i]++}return rounded}function zeros(length){for(var arr=[],i=0;i<length;i++)arr.push(0);return arr}function digits(value){return value.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var DBL_EPSILON=Number.EPSILON||2220446049250313e-31;function nearlyEqual(x,y,epsilon){if(null==epsilon)return x===y;if(x===y)return!0;if(isNaN(x)||isNaN(y))return!1;if(isFinite(x)&&isFinite(y)){var diff=Math.abs(x-y);return diff<DBL_EPSILON||diff<=Math.max(Math.abs(x),Math.abs(y))*epsilon}return!1}var acosh=Math.acosh||function(x){return Math.log(Math.sqrt(x*x-1)+x)},asinh=Math.asinh||function(x){return Math.log(Math.sqrt(x*x+1)+x)},atanh=Math.atanh||function(x){return Math.log((1+x)/(1-x))/2},cosh=Math.cosh||function(x){return(Math.exp(x)+Math.exp(-x))/2},sinh=Math.sinh||function(x){return(Math.exp(x)-Math.exp(-x))/2},tanh=Math.tanh||function(x){var e=Math.exp(2*x);return(e-1)/(e+1)}},"./node_modules/mathjs/lib/esm/utils/object.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J5:function(){return deepStrictEqual},VO:function(){return values},Vo:function(){return lazy},W6:function(){return pickShallow},Xc:function(){return mapObject},Yo:function(){return isLegacyFactory},ZB:function(){return deepExtend},d9:function(){return clone},l7:function(){return extend},nr:function(){return hasOwnProperty},oO:function(){return deepFlatten}});var _is_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js");function clone(x){var type=typeof x;if("number"===type||"string"===type||"boolean"===type||null==x)return x;if("function"==typeof x.clone)return x.clone();if(Array.isArray(x))return x.map((function(value){return clone(value)}));if(x instanceof Date)return new Date(x.valueOf());if((0,_is_js__WEBPACK_IMPORTED_MODULE_0__.l9)(x))return x;if(x instanceof RegExp)throw new TypeError("Cannot clone "+x);return mapObject(x,clone)}function mapObject(object,callback){var clone={};for(var key in object)hasOwnProperty(object,key)&&(clone[key]=callback(object[key]));return clone}function extend(a,b){for(var prop in b)hasOwnProperty(b,prop)&&(a[prop]=b[prop]);return a}function deepExtend(a,b){if(Array.isArray(b))throw new TypeError("Arrays are not supported by deepExtend");for(var prop in b)if(hasOwnProperty(b,prop)&&!(prop in Object.prototype)&&!(prop in Function.prototype))if(b[prop]&&b[prop].constructor===Object)void 0===a[prop]&&(a[prop]={}),a[prop]&&a[prop].constructor===Object?deepExtend(a[prop],b[prop]):a[prop]=b[prop];else{if(Array.isArray(b[prop]))throw new TypeError("Arrays are not supported by deepExtend");a[prop]=b[prop]}return a}function deepStrictEqual(a,b){var prop,i,len;if(Array.isArray(a)){if(!Array.isArray(b))return!1;if(a.length!==b.length)return!1;for(i=0,len=a.length;i<len;i++)if(!deepStrictEqual(a[i],b[i]))return!1;return!0}if("function"==typeof a)return a===b;if(a instanceof Object){if(Array.isArray(b)||!(b instanceof Object))return!1;for(prop in a)if(!(prop in b)||!deepStrictEqual(a[prop],b[prop]))return!1;for(prop in b)if(!(prop in a))return!1;return!0}return a===b}function deepFlatten(nestedObject){var flattenedObject={};return _deepFlatten(nestedObject,flattenedObject),flattenedObject}function _deepFlatten(nestedObject,flattenedObject){for(var prop in nestedObject)if(hasOwnProperty(nestedObject,prop)){var value=nestedObject[prop];"object"==typeof value&&null!==value?_deepFlatten(value,flattenedObject):flattenedObject[prop]=value}}function lazy(object,prop,valueResolver){var _value,_uninitialized=!0;Object.defineProperty(object,prop,{get:function get(){return _uninitialized&&(_value=valueResolver(),_uninitialized=!1),_value},set:function set(value){_value=value,_uninitialized=!1},configurable:!0,enumerable:!0})}function hasOwnProperty(object,property){return object&&Object.hasOwnProperty.call(object,property)}function isLegacyFactory(object){return object&&"function"==typeof object.factory}function pickShallow(object,properties){for(var copy={},i=0;i<properties.length;i++){var key=properties[i],value=object[key];void 0!==value&&(copy[key]=value)}return copy}function values(object){return Object.keys(object).map((key=>object[key]))}},"./node_modules/mathjs/lib/esm/utils/product.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function product(i,n){if(n<i)return 1;if(n===i)return n;var half=n+i>>1;return product(i,half)*product(half+1,n)}__webpack_require__.d(__webpack_exports__,{O:function(){return product}})},"./node_modules/mathjs/lib/esm/utils/string.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{cd:function(){return compareText},pn:function(){return endsWith},YU:function(){return string_escape},WU:function(){return string_format},Pz:function(){return stringify}});var is=__webpack_require__("./node_modules/mathjs/lib/esm/utils/is.js"),number=__webpack_require__("./node_modules/mathjs/lib/esm/utils/number.js");function formatBigNumberToBase(n,base,size){var big2=new(0,n.constructor)(2),suffix="";if(size){if(size<1)throw new Error("size must be in greater than 0");if(!(0,number.U)(size))throw new Error("size must be an integer");if(n.greaterThan(big2.pow(size-1).sub(1))||n.lessThan(big2.pow(size-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(size-1,", 2^").concat(size-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(big2.pow(size))),suffix="i".concat(size)}switch(base){case 2:return"".concat(n.toBinary()).concat(suffix);case 8:return"".concat(n.toOctal()).concat(suffix);case 16:return"".concat(n.toHexadecimal()).concat(suffix);default:throw new Error("Base ".concat(base," not supported "))}}function format(value,options){if("function"==typeof options)return options(value);if(!value.isFinite())return value.isNaN()?"NaN":value.gt(0)?"Infinity":"-Infinity";var precision,wordSize,notation="auto";if(void 0!==options&&(options.notation&&(notation=options.notation),"number"==typeof options?precision=options:options.precision&&(precision=options.precision),options.wordSize&&"number"!=typeof(wordSize=options.wordSize)))throw new Error('Option "wordSize" must be a number');switch(notation){case"fixed":return function toFixed(value,precision){return value.toFixed(precision)}(value,precision);case"exponential":return toExponential(value,precision);case"engineering":return function toEngineering(value,precision){var e=value.e,newExp=e%3==0?e:e<0?e-3-e%3:e-e%3,valueWithoutExp=value.mul(Math.pow(10,-newExp)),valueStr=valueWithoutExp.toPrecision(precision);-1!==valueStr.indexOf("e")&&(valueStr=valueWithoutExp.toString());return valueStr+"e"+(e>=0?"+":"")+newExp.toString()}(value,precision);case"bin":return formatBigNumberToBase(value,2,wordSize);case"oct":return formatBigNumberToBase(value,8,wordSize);case"hex":return formatBigNumberToBase(value,16,wordSize);case"auto":var lowerExp=options&&void 0!==options.lowerExp?options.lowerExp:-3,upperExp=options&&void 0!==options.upperExp?options.upperExp:5;if(value.isZero())return"0";var rounded=value.toSignificantDigits(precision),exp=rounded.e;return(exp>=lowerExp&&exp<upperExp?rounded.toFixed():toExponential(value,precision)).replace(/((\.\d*?)(0+))($|e)/,(function(){var digits=arguments[2],e=arguments[4];return"."!==digits?digits+e:e}));default:throw new Error('Unknown notation "'+notation+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function toExponential(value,precision){return void 0!==precision?value.toExponential(precision-1):value.toExponential()}function endsWith(text,search){var start=text.length-search.length,end=text.length;return text.substring(start,end)===search}function string_format(value,options){return"number"==typeof value?(0,number.WU)(value,options):(0,is.l9)(value)?format(value,options):function looksLikeFraction(value){return value&&"object"==typeof value&&"number"==typeof value.s&&"number"==typeof value.n&&"number"==typeof value.d||!1}(value)?options&&"decimal"===options.fraction?value.toString():value.s*value.n+"/"+value.d:Array.isArray(value)?formatArray(value,options):(0,is.HD)(value)?'"'+value+'"':"function"==typeof value?value.syntax?String(value.syntax):"function":value&&"object"==typeof value?"function"==typeof value.format?value.format(options):value&&value.toString(options)!=={}.toString()?value.toString(options):"{"+Object.keys(value).map((key=>'"'+key+'": '+string_format(value[key],options))).join(", ")+"}":String(value)}function stringify(value){for(var text=String(value),escaped="",i=0;i<text.length;){var c=text.charAt(i);"\\"===c?(escaped+=c,i++,""!==(c=text.charAt(i))&&-1!=='"\\/bfnrtu'.indexOf(c)||(escaped+="\\"),escaped+=c):escaped+='"'===c?'\\"':c,i++}return'"'+escaped+'"'}function string_escape(value){var text=String(value);return text=text.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function formatArray(array,options){if(Array.isArray(array)){for(var str="[",len=array.length,i=0;i<len;i++)0!==i&&(str+=", "),str+=formatArray(array[i],options);return str+="]"}return string_format(array,options)}function compareText(x,y){if(!(0,is.HD)(x))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,is.kM)(x)+", index: 0)");if(!(0,is.HD)(y))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,is.kM)(y)+", index: 1)");return x===y?0:x>y?1:-1}},"./node_modules/pako/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var pako={};(0,__webpack_require__("./node_modules/pako/lib/utils/common.js").assign)(pako,__webpack_require__("./node_modules/pako/lib/deflate.js"),__webpack_require__("./node_modules/pako/lib/inflate.js"),__webpack_require__("./node_modules/pako/lib/zlib/constants.js")),module.exports=pako},"./node_modules/pako/lib/deflate.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var zlib_deflate=__webpack_require__("./node_modules/pako/lib/zlib/deflate.js"),utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),strings=__webpack_require__("./node_modules/pako/lib/utils/strings.js"),msg=__webpack_require__("./node_modules/pako/lib/zlib/messages.js"),ZStream=__webpack_require__("./node_modules/pako/lib/zlib/zstream.js"),toString=Object.prototype.toString,Z_OK=0,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED=8;function Deflate(options){if(!(this instanceof Deflate))return new Deflate(options);this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},options||{});var opt=this.options;opt.raw&&opt.windowBits>0?opt.windowBits=-opt.windowBits:opt.gzip&&opt.windowBits>0&&opt.windowBits<16&&(opt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK)throw new Error(msg[status]);if(opt.header&&zlib_deflate.deflateSetHeader(this.strm,opt.header),opt.dictionary){var dict;if(dict="string"==typeof opt.dictionary?strings.string2buf(opt.dictionary):"[object ArrayBuffer]"===toString.call(opt.dictionary)?new Uint8Array(opt.dictionary):opt.dictionary,(status=zlib_deflate.deflateSetDictionary(this.strm,dict))!==Z_OK)throw new Error(msg[status]);this._dict_set=!0}}function deflate(input,options){var deflator=new Deflate(options);if(deflator.push(input,!0),deflator.err)throw deflator.msg||msg[deflator.err];return deflator.result}Deflate.prototype.push=function(data,mode){var status,_mode,strm=this.strm,chunkSize=this.options.chunkSize;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?4:0,"string"==typeof data?strm.input=strings.string2buf(data):"[object ArrayBuffer]"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),1!==(status=zlib_deflate.deflate(strm,_mode))&&status!==Z_OK)return this.onEnd(status),this.ended=!0,!1;0!==strm.avail_out&&(0!==strm.avail_in||4!==_mode&&2!==_mode)||("string"===this.options.to?this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out))):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))}while((strm.avail_in>0||0===strm.avail_out)&&1!==status);return 4===_mode?(status=zlib_deflate.deflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===Z_OK):2!==_mode||(this.onEnd(Z_OK),strm.avail_out=0,!0)},Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Deflate.prototype.onEnd=function(status){status===Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Deflate=Deflate,exports.deflate=deflate,exports.deflateRaw=function deflateRaw(input,options){return(options=options||{}).raw=!0,deflate(input,options)},exports.gzip=function gzip(input,options){return(options=options||{}).gzip=!0,deflate(input,options)}},"./node_modules/pako/lib/inflate.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var zlib_inflate=__webpack_require__("./node_modules/pako/lib/zlib/inflate.js"),utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),strings=__webpack_require__("./node_modules/pako/lib/utils/strings.js"),c=__webpack_require__("./node_modules/pako/lib/zlib/constants.js"),msg=__webpack_require__("./node_modules/pako/lib/zlib/messages.js"),ZStream=__webpack_require__("./node_modules/pako/lib/zlib/zstream.js"),GZheader=__webpack_require__("./node_modules/pako/lib/zlib/gzheader.js"),toString=Object.prototype.toString;function Inflate(options){if(!(this instanceof Inflate))return new Inflate(options);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},options||{});var opt=this.options;opt.raw&&opt.windowBits>=0&&opt.windowBits<16&&(opt.windowBits=-opt.windowBits,0===opt.windowBits&&(opt.windowBits=-15)),!(opt.windowBits>=0&&opt.windowBits<16)||options&&options.windowBits||(opt.windowBits+=32),opt.windowBits>15&&opt.windowBits<48&&0==(15&opt.windowBits)&&(opt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK)throw new Error(msg[status]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),opt.dictionary&&("string"==typeof opt.dictionary?opt.dictionary=strings.string2buf(opt.dictionary):"[object ArrayBuffer]"===toString.call(opt.dictionary)&&(opt.dictionary=new Uint8Array(opt.dictionary)),opt.raw&&(status=zlib_inflate.inflateSetDictionary(this.strm,opt.dictionary))!==c.Z_OK))throw new Error(msg[status])}function inflate(input,options){var inflator=new Inflate(options);if(inflator.push(input,!0),inflator.err)throw inflator.msg||msg[inflator.err];return inflator.result}Inflate.prototype.push=function(data,mode){var status,_mode,next_out_utf8,tail,utf8str,strm=this.strm,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary,allowBufError=!1;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof data?strm.input=strings.binstring2buf(data):"[object ArrayBuffer]"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),(status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&dictionary&&(status=zlib_inflate.inflateSetDictionary(this.strm,dictionary)),status===c.Z_BUF_ERROR&&!0===allowBufError&&(status=c.Z_OK,allowBufError=!1),status!==c.Z_STREAM_END&&status!==c.Z_OK)return this.onEnd(status),this.ended=!0,!1;strm.next_out&&(0!==strm.avail_out&&status!==c.Z_STREAM_END&&(0!==strm.avail_in||_mode!==c.Z_FINISH&&_mode!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(next_out_utf8=strings.utf8border(strm.output,strm.next_out),tail=strm.next_out-next_out_utf8,utf8str=strings.buf2string(strm.output,next_out_utf8),strm.next_out=tail,strm.avail_out=chunkSize-tail,tail&&utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0),this.onData(utf8str)):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))),0===strm.avail_in&&0===strm.avail_out&&(allowBufError=!0)}while((strm.avail_in>0||0===strm.avail_out)&&status!==c.Z_STREAM_END);return status===c.Z_STREAM_END&&(_mode=c.Z_FINISH),_mode===c.Z_FINISH?(status=zlib_inflate.inflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===c.Z_OK):_mode!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),strm.avail_out=0,!0)},Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Inflate.prototype.onEnd=function(status){status===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Inflate=Inflate,exports.inflate=inflate,exports.inflateRaw=function inflateRaw(input,options){return(options=options||{}).raw=!0,inflate(input,options)},exports.ungzip=inflate},"./node_modules/pako/lib/utils/common.js":function(__unused_webpack_module,exports){"use strict";var TYPED_OK="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function _has(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}exports.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if("object"!=typeof source)throw new TypeError(source+"must be non-object");for(var p in source)_has(source,p)&&(obj[p]=source[p])}}return obj},exports.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray)dest.set(src.subarray(src_offs,src_offs+len),dest_offs);else for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;i<l;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){on?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK)},"./node_modules/pako/lib/utils/strings.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;function buf2binstring(buf,len){if(len<65534&&(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len));for(var result="",i=0;i<len;i++)result+=String.fromCharCode(buf[i]);return result}_utf8len[254]=_utf8len[254]=1,exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=new utils.Buf8(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf},exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)},exports.binstring2buf=function(str){for(var buf=new utils.Buf8(str.length),i=0,len=buf.length;i<len;i++)buf[i]=str.charCodeAt(i);return buf},exports.buf2string=function(buf,max){var i,out,c,c_len,len=max||buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return buf2binstring(utf16buf,out)},exports.utf8border=function(buf,max){var pos;for((max=max||buf.length)>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0||0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}},"./node_modules/pako/lib/zlib/adler32.js":function(module){"use strict";module.exports=function adler32(adler,buf,len,pos){for(var s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;0!==len;){len-=n=len>2e3?2e3:len;do{s2=s2+(s1=s1+buf[pos++]|0)|0}while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}},"./node_modules/pako/lib/zlib/constants.js":function(module){"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/pako/lib/zlib/crc32.js":function(module){"use strict";var crcTable=function makeTable(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}},"./node_modules/pako/lib/zlib/deflate.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var configuration_table,utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),trees=__webpack_require__("./node_modules/pako/lib/zlib/trees.js"),adler32=__webpack_require__("./node_modules/pako/lib/zlib/adler32.js"),crc32=__webpack_require__("./node_modules/pako/lib/zlib/crc32.js"),msg=__webpack_require__("./node_modules/pako/lib/zlib/messages.js"),Z_NO_FLUSH=0,Z_FINISH=4,Z_OK=0,Z_STREAM_ERROR=-2,Z_DEFAULT_COMPRESSION=-1,Z_FIXED=4,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,L_CODES=286,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,INIT_STATE=42,BUSY_STATE=113,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4;function err(strm,errorCode){return strm.msg=msg[errorCode],errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function flush_pending(strm){var s=strm.state,len=s.pending;len>strm.avail_out&&(len=strm.avail_out),0!==len&&(utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,0===s.pending&&(s.pending_out=0))}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=255&b}function longest_match(s,cur_match){var match,len,chain_length=s.max_chain_length,scan=s.strstart,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s.prev_length>=s.good_match&&(chain_length>>=2),nice_match>s.lookahead&&(nice_match=s.lookahead);do{if(_win[(match=cur_match)+best_len]===scan_end&&_win[match+best_len-1]===scan_end1&&_win[match]===_win[scan]&&_win[++match]===_win[scan+1]){scan+=2,match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}}while((cur_match=prev[cur_match&wmask])>limit&&0!=--chain_length);return best_len<=s.lookahead?best_len:s.lookahead}function fill_window(s){var p,n,m,more,str,strm,buf,start,size,len,_w_size=s.w_size;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,p=n=s.hash_size;do{m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0}while(--n);p=n=_w_size;do{m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(0===s.strm.avail_in)break;if(strm=s.strm,buf=s.window,start=s.strstart+s.lookahead,size=more,len=void 0,(len=strm.avail_in)>size&&(len=size),n=0===len?0:(strm.avail_in-=len,utils.arraySet(buf,strm.input,strm.next_in,len,start),1===strm.state.wrap?strm.adler=adler32(strm.adler,buf,len,start):2===strm.state.wrap&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len),s.lookahead+=n,s.lookahead+s.insert>=MIN_MATCH)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&0!==s.strm.avail_in)}function deflate_fast(s,flush){for(var hash_head,bflush;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==hash_head&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head)),s.match_length>=MIN_MATCH)if(bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart}while(0!=--s.match_length);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,flush){for(var hash_head,bflush,max_insert;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(1===s.strategy||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH,bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do{++s.strstart<=max_insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart)}while(0!=--s.prev_length);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}else if(s.match_available){if((bflush=trees._tr_tally(s,0,s.window[s.strstart-1]))&&flush_block_only(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(strm){var s;return strm&&strm.state?(strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN,(s=strm.state).pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?INIT_STATE:BUSY_STATE,strm.adler=2===s.wrap?0:1,s.last_flush=Z_NO_FLUSH,trees._tr_init(s),Z_OK):err(strm,Z_STREAM_ERROR)}function deflateReset(strm){var ret=deflateResetKeep(strm);return ret===Z_OK&&function lm_init(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}(strm.state),ret}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return Z_STREAM_ERROR;var wrap=1;if(level===Z_DEFAULT_COMPRESSION&&(level=6),windowBits<0?(wrap=0,windowBits=-windowBits):windowBits>15&&(wrap=2,windowBits-=16),memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);8===windowBits&&(windowBits=9);var s=new DeflateState;return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new utils.Buf8(2*s.w_size),s.head=new utils.Buf16(s.hash_size),s.prev=new utils.Buf16(s.w_size),s.lit_bufsize=1<<memLevel+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new utils.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)}configuration_table=[new Config(0,0,0,0,(function deflate_stored(s,flush){var max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),0===s.lookahead&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((0===s.strstart||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE;if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out),BS_NEED_MORE)})),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,15,8,0)},exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=function deflateSetHeader(strm,head){return strm&&strm.state?2!==strm.state.wrap?Z_STREAM_ERROR:(strm.state.gzhead=head,Z_OK):Z_STREAM_ERROR},exports.deflate=function deflate(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>5||flush<0)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;if(s=strm.state,!strm.output||!strm.input&&0!==strm.avail_in||666===s.status&&flush!==Z_FINISH)return err(strm,0===strm.avail_out?-5:Z_STREAM_ERROR);if(s.strm=strm,old_flush=s.last_flush,s.last_flush=flush,s.status===INIT_STATE)if(2===s.wrap)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,255&s.gzhead.time),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),put_byte(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,255&s.gzhead.extra.length),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),put_byte(s,3),s.status=BUSY_STATE);else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8;header|=(s.strategy>=2||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(header|=32),header+=31-header%31,s.status=BUSY_STATE,putShortMSB(s,header),0!==s.strstart&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),strm.adler=1}if(69===s.status)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending!==s.pending_buf_size));)put_byte(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),strm.adler=0,s.status=BUSY_STATE)):s.status=BUSY_STATE),0!==s.pending){if(flush_pending(strm),0===strm.avail_out)return s.last_flush=-1,Z_OK}else if(0===strm.avail_in&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH)return err(strm,-5);if(666===s.status&&0!==strm.avail_in)return err(strm,-5);if(0!==strm.avail_in||0!==s.lookahead||flush!==Z_NO_FLUSH&&666!==s.status){var bstate=2===s.strategy?function deflate_huff(s,flush){for(var bflush;;){if(0===s.lookahead&&(fill_window(s),0===s.lookahead)){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}if(s.match_length=0,bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}(s,flush):3===s.strategy?function deflate_rle(s,flush){for(var bflush,prev,scan,strend,_win=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(prev=_win[scan=s.strstart-1])===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}(s,flush):configuration_table[s.level].func(s,flush);if(bstate!==BS_FINISH_STARTED&&bstate!==BS_FINISH_DONE||(s.status=666),bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return 0===strm.avail_out&&(s.last_flush=-1),Z_OK;if(bstate===BS_BLOCK_DONE&&(1===flush?trees._tr_align(s):5!==flush&&(trees._tr_stored_block(s,0,0,!1),3===flush&&(zero(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),0===strm.avail_out))return s.last_flush=-1,Z_OK}return flush!==Z_FINISH?Z_OK:s.wrap<=0?1:(2===s.wrap?(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,255&strm.total_in),put_byte(s,strm.total_in>>8&255),put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),flush_pending(strm),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?Z_OK:1)},exports.deflateEnd=function deflateEnd(strm){var status;return strm&&strm.state?(status=strm.state.status)!==INIT_STATE&&69!==status&&73!==status&&91!==status&&103!==status&&status!==BUSY_STATE&&666!==status?err(strm,Z_STREAM_ERROR):(strm.state=null,status===BUSY_STATE?err(strm,-3):Z_OK):Z_STREAM_ERROR},exports.deflateSetDictionary=function deflateSetDictionary(strm,dictionary){var s,str,n,wrap,avail,next,input,tmpDict,dictLength=dictionary.length;if(!strm||!strm.state)return Z_STREAM_ERROR;if(2===(wrap=(s=strm.state).wrap)||1===wrap&&s.status!==INIT_STATE||s.lookahead)return Z_STREAM_ERROR;for(1===wrap&&(strm.adler=adler32(strm.adler,dictionary,dictLength,0)),s.wrap=0,dictLength>=s.w_size&&(0===wrap&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0),tmpDict=new utils.Buf8(s.w_size),utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0),dictionary=tmpDict,dictLength=s.w_size),avail=strm.avail_in,next=strm.next_in,input=strm.input,strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,fill_window(s);s.lookahead>=MIN_MATCH;){str=s.strstart,n=s.lookahead-(MIN_MATCH-1);do{s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++}while(--n);s.strstart=str,s.lookahead=MIN_MATCH-1,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s.wrap=wrap,Z_OK},exports.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/gzheader.js":function(module){"use strict";module.exports=function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},"./node_modules/pako/lib/zlib/inffast.js":function(module){"use strict";module.exports=function inflate_fast(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(hold>>>=op=here>>>24,bits-=op,0===(op=here>>>16&255))output[_out++]=65535&here;else{if(!(16&op)){if(0==(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}if(32&op){state.mode=12;break top}strm.msg="invalid literal/length code",state.mode=30;break top}len=65535&here,(op&=15)&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(hold>>>=op=here>>>24,bits-=op,!(16&(op=here>>>16&255))){if(0==(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}strm.msg="invalid distance code",state.mode=30;break top}if(dist=65535&here,bits<(op&=15)&&(hold+=input[_in++]<<bits,(bits+=8)<op&&(hold+=input[_in++]<<bits,bits+=8)),(dist+=hold&(1<<op)-1)>dmax){strm.msg="invalid distance too far back",state.mode=30;break top}if(hold>>>=op,bits-=op,dist>(op=_out-beg)){if((op=dist-op)>whave&&state.sane){strm.msg="invalid distance too far back",state.mode=30;break top}if(from=0,from_source=s_window,0===wnext){if(from+=wsize-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,(op-=wnext)<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);if(from=0,wnext<len){len-=op=wnext;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do{output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3}while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}break}}break}}while(_in<last&&_out<end);_in-=len=bits>>3,hold&=(1<<(bits-=len<<3))-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?last-_in+5:5-(_in-last),strm.avail_out=_out<end?end-_out+257:257-(_out-end),state.hold=hold,state.bits=bits}},"./node_modules/pako/lib/zlib/inflate.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),adler32=__webpack_require__("./node_modules/pako/lib/zlib/adler32.js"),crc32=__webpack_require__("./node_modules/pako/lib/zlib/crc32.js"),inflate_fast=__webpack_require__("./node_modules/pako/lib/zlib/inffast.js"),inflate_table=__webpack_require__("./node_modules/pako/lib/zlib/inftrees.js"),LENS=1,DISTS=2,Z_OK=0,Z_STREAM_ERROR=-2,HEAD=1,ENOUGH_LENS=852,ENOUGH_DISTS=592;function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(strm){var state;return strm&&strm.state?(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg="",state.wrap&&(strm.adler=1&state.wrap),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS),state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(strm){var state;return strm&&strm.state?((state=strm.state).wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)):Z_STREAM_ERROR}function inflateReset2(strm,windowBits){var wrap,state;return strm&&strm.state?(state=strm.state,windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=1+(windowBits>>4),windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15)?Z_STREAM_ERROR:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))):Z_STREAM_ERROR}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new InflateState,strm.state=state,state.window=null,(ret=inflateReset2(strm,windowBits))!==Z_OK&&(strm.state=null),ret):Z_STREAM_ERROR}var lenfix,distfix,virgin=!0;function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):((dist=state.wsize-state.wnext)>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),(copy-=dist)?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=function inflateInit(strm){return inflateInit2(strm,15)},exports.inflateInit2=inflateInit2,exports.inflate=function inflate(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,opts,n,here=0,hbuf=new utils.Buf8(4),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return Z_STREAM_ERROR;12===(state=strm.state).mode&&(state.mode=13),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(0===state.wrap){state.mode=13;break}for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=2;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg="incorrect header check",state.mode=30;break}if(8!=(15&hold)){strm.msg="unknown compression method",state.mode=30;break}if(bits-=4,len=8+(15&(hold>>>=4)),0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg="invalid window size",state.mode=30;break}state.dmax=1<<len,strm.adler=state.check=1,state.mode=512&hold?10:12,hold=0,bits=0;break;case 2:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,8!=(255&state.flags)){strm.msg="unknown compression method",state.mode=30;break}if(57344&state.flags){strm.msg="unknown header flags set",state.mode=30;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=3;case 3:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=4;case 4:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=5;case 5:if(1024&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=6;case 6:if(1024&state.flags&&((copy=state.length)>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=7;case 7:if(2048&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=8;case 8:if(4096&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=9;case 9:if(512&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg="header crc mismatch",state.mode=30;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=12;break;case 10:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=11;case 11:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,2;strm.adler=state.check=1,state.mode=12;case 12:if(5===flush||6===flush)break inf_leave;case 13:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=27;break}for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,bits-=1,3&(hold>>>=1)){case 0:state.mode=14;break;case 1:if(fixedtables(state),state.mode=20,6===flush){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=17;break;case 3:strm.msg="invalid block type",state.mode=30}hold>>>=2,bits-=2;break;case 14:for(hold>>>=7&bits,bits-=7&bits;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((65535&hold)!=(hold>>>16^65535)){strm.msg="invalid stored block lengths",state.mode=30;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=15,6===flush)break inf_leave;case 15:state.mode=16;case 16:if(copy=state.length){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=12;break;case 17:for(;bits<14;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=257+(31&hold),hold>>>=5,bits-=5,state.ndist=1+(31&hold),hold>>>=5,bits-=5,state.ncode=4+(15&hold),hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols",state.mode=30;break}state.have=0,state.mode=18;case 18:for(;state.have<state.ncode;){for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(0,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid code lengths set",state.mode=30;break}state.have=0,state.mode=19;case 19:for(;state.have<state.nlen+state.ndist;){for(;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg="invalid bit length repeat",state.mode=30;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2}else if(17===here_val){for(n=here_bits+3;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=3+(7&(hold>>>=here_bits)),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=11+(127&(hold>>>=here_bits)),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat",state.mode=30;break}for(;copy--;)state.lens[state.have++]=len}}if(30===state.mode)break;if(0===state.lens[256]){strm.msg="invalid code -- missing end-of-block",state.mode=30;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid literal/lengths set",state.mode=30;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg="invalid distances set",state.mode=30;break}if(state.mode=20,6===flush)break inf_leave;case 20:state.mode=21;case 21:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,12===state.mode&&(state.back=-1);break}for(state.back=0;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=26;break}if(32&here_op){state.back=-1,state.mode=12;break}if(64&here_op){strm.msg="invalid literal/length code",state.mode=30;break}state.extra=15&here_op,state.mode=22;case 22:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=23;case 23:for(;here_op=(here=state.distcode[hold&(1<<state.distbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,64&here_op){strm.msg="invalid distance code",state.mode=30;break}state.offset=here_val,state.extra=15&here_op,state.mode=24;case 24:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back",state.mode=30;break}state.mode=25;case 25:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if((copy=state.offset-copy)>state.whave&&state.sane){strm.msg="invalid distance too far back",state.mode=30;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);0===state.length&&(state.mode=21);break;case 26:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=21;break;case 27:if(state.wrap){for(;bits<32;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check",state.mode=30;break}hold=0,bits=0}state.mode=28;case 28:if(state.wrap&&state.flags){for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg="incorrect length check",state.mode=30;break}hold=0,bits=0}state.mode=29;case 29:ret=1;break inf_leave;case 30:ret=-3;break inf_leave;case 31:return-4;default:return Z_STREAM_ERROR}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<30&&(state.mode<27||4!==flush))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=31,-4):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(12===state.mode?128:0)+(20===state.mode||15===state.mode?256:0),(0===_in&&0===_out||4===flush)&&ret===Z_OK&&(ret=-5),ret)},exports.inflateEnd=function inflateEnd(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK},exports.inflateGetHeader=function inflateGetHeader(strm,head){var state;return strm&&strm.state?0==(2&(state=strm.state).wrap)?Z_STREAM_ERROR:(state.head=head,head.done=!1,Z_OK):Z_STREAM_ERROR},exports.inflateSetDictionary=function inflateSetDictionary(strm,dictionary){var state,dictLength=dictionary.length;return strm&&strm.state?0!==(state=strm.state).wrap&&11!==state.mode?Z_STREAM_ERROR:11===state.mode&&adler32(1,dictionary,dictLength,0)!==state.check?-3:updatewindow(strm,dictionary,dictLength,dictLength)?(state.mode=31,-4):(state.havedict=1,Z_OK):Z_STREAM_ERROR},exports.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/inftrees.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function inflate_table(type,lens,lens_index,codes,table,table_index,work,opts){var incr,fill,low,mask,next,end,here_bits,here_op,here_val,bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,base=null,base_index=0,count=new utils.Buf16(16),offs=new utils.Buf16(16),extra=null,extra_index=0;for(len=0;len<=15;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=15;max>=1&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;min<max&&0===count[min];min++);for(root<min&&(root=min),left=1,len=1;len<=15;len++)if(left<<=1,(left-=count[len])<0)return-1;if(left>0&&(0===type||1!==max))return-1;for(offs[1]=0,len=1;len<15;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(0===type?(base=extra=work,end=19):1===type?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,mask=(used=1<<root)-1,1===type&&used>852||2===type&&used>592)return 1;for(;;){here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),incr=1<<len-drop,min=fill=1<<curr;do{table[next+(huff>>drop)+(fill-=incr)]=here_bits<<24|here_op<<16|here_val|0}while(0!==fill);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0==--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,left=1<<(curr=len-drop);curr+drop<max&&!((left-=count[curr+drop])<=0);)curr++,left<<=1;if(used+=1<<curr,1===type&&used>852||2===type&&used>592)return 1;table[low=huff&mask]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},"./node_modules/pako/lib/zlib/messages.js":function(module){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/pako/lib/zlib/trees.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var utils=__webpack_require__("./node_modules/pako/lib/utils/common.js"),Z_BINARY=0,Z_TEXT=1;function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}var STORED_BLOCK=0,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(512);zero(_dist_code);var _length_code=new Array(256);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var static_l_desc,static_d_desc,static_bl_desc,base_dist=new Array(D_CODES);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=255&w,s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){s.bi_valid>Buf_size-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>Buf_size-s.bi_valid,s.bi_valid+=length-Buf_size):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)}function send_code(s,c,tree){send_bits(s,tree[2*c],tree[2*c+1])}function bi_reverse(code,len){var res=0;do{res|=1&code,code>>>=1,res<<=1}while(--len>0);return res>>>1}function gen_codes(tree,max_code,bl_count){var bits,n,next_code=new Array(MAX_BITS+1),code=0;for(bits=1;bits<=MAX_BITS;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++){var len=tree[2*n+1];0!==len&&(tree[2*n]=bi_reverse(next_code[len]++,len))}}function init_block(s){var n;for(n=0;n<L_CODES;n++)s.dyn_ltree[2*n]=0;for(n=0;n<D_CODES;n++)s.dyn_dtree[2*n]=0;for(n=0;n<BL_CODES;n++)s.bl_tree[2*n]=0;s.dyn_ltree[2*END_BLOCK]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function smaller(tree,n,m,depth){var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){for(var v=s.heap[k],j=k<<1;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,code,extra,lx=0;if(0!==s.last_lit)do{dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1],lc=s.pending_buf[s.l_buf+lx],lx++,0===dist?send_code(s,lc,ltree):(send_code(s,(code=_length_code[lc])+LITERALS+1,ltree),0!==(extra=extra_lbits[code])&&send_bits(s,lc-=base_length[code],extra),send_code(s,code=d_code(--dist),dtree),0!==(extra=extra_dbits[code])&&send_bits(s,dist-=base_dist[code],extra))}while(lx<s.last_lit);send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var n,m,node,tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,max_code=-1;for(s.heap_len=0,s.heap_max=HEAP_SIZE,n=0;n<elems;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)tree[2*(node=s.heap[++s.heap_len]=max_code<2?++max_code:0)]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[2*node+1]);for(desc.max_code=max_code,n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do{n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],function gen_bitlen(s,desc){var h,n,m,bits,xbits,f,tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,overflow=0;for(bits=0;bits<=MAX_BITS;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;h<HEAP_SIZE;h++)(bits=tree[2*tree[2*(n=s.heap[h])+1]+1]+1)>max_length&&(bits=max_length,overflow++),tree[2*n+1]=bits,n>max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)(m=s.heap[--h])>max_code||(tree[2*m+1]!==bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}}(s,desc),gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],++count<max_count&&curlen===nextlen||(count<min_count?s.bl_tree[2*curlen]+=count:0!==curlen?(curlen!==prevlen&&s.bl_tree[2*curlen]++,s.bl_tree[2*REP_3_6]++):count<=10?s.bl_tree[2*REPZ_3_10]++:s.bl_tree[2*REPZ_11_138]++,count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function send_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count)do{send_code(s,curlen,s.bl_tree)}while(0!=--count);else 0!==curlen?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,count-3,2)):count<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}zero(base_dist);var static_init_done=!1;function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3),function copy_block(s,buf,len,header){bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),utils.arraySet(s.pending_buf,s.window,buf,len,s.pending),s.pending+=len}(s,buf,stored_len,!0)}exports._tr_init=function _tr_init(s){static_init_done||(!function tr_static_init(){var n,bits,length,code,dist,bl_count=new Array(MAX_BITS+1);for(length=0,code=0;code<LENGTH_CODES-1;code++)for(base_length[code]=length,n=0;n<1<<extra_lbits[code];n++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;code<16;code++)for(base_dist[code]=dist,n=0;n<1<<extra_dbits[code];n++)_dist_code[dist++]=code;for(dist>>=7;code<D_CODES;code++)for(base_dist[code]=dist<<7,n=0;n<1<<extra_dbits[code]-7;n++)_dist_code[256+dist++]=code;for(bits=0;bits<=MAX_BITS;bits++)bl_count[bits]=0;for(n=0;n<=143;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(;n<=255;)static_ltree[2*n+1]=9,n++,bl_count[9]++;for(;n<=279;)static_ltree[2*n+1]=7,n++,bl_count[7]++;for(;n<=287;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1,bl_count),n=0;n<D_CODES;n++)static_dtree[2*n+1]=5,static_dtree[2*n]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)},exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;s.level>0?(2===s.strm.data_type&&(s.strm.data_type=function detect_data_type(s){var n,black_mask=4093624447;for(n=0;n<=31;n++,black_mask>>>=1)if(1&black_mask&&0!==s.dyn_ltree[2*n])return Z_BINARY;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return Z_TEXT;for(n=32;n<LITERALS;n++)if(0!==s.dyn_ltree[2*n])return Z_TEXT;return Z_BINARY}(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),max_blindex=function build_bl_tree(s){var max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=BL_CODES-1;max_blindex>=3&&0===s.bl_tree[2*bl_order[max_blindex]+1];max_blindex--);return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}(s),opt_lenb=s.opt_len+3+7>>>3,(static_lenb=s.static_len+3+7>>>3)<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&-1!==buf?_tr_stored_block(s,buf,stored_len,last):4===s.strategy||static_lenb===opt_lenb?(send_bits(s,2+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,4+(last?1:0),3),function send_all_trees(s,lcodes,dcodes,blcodes){var rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(s,s.bl_tree[2*bl_order[rank]+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)}(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)},exports._tr_tally=function _tr_tally(s,dist,lc){return s.pending_buf[s.d_buf+2*s.last_lit]=dist>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist,s.pending_buf[s.l_buf+s.last_lit]=255&lc,s.last_lit++,0===dist?s.dyn_ltree[2*lc]++:(s.matches++,dist--,s.dyn_ltree[2*(_length_code[lc]+LITERALS+1)]++,s.dyn_dtree[2*d_code(dist)]++),s.last_lit===s.lit_bufsize-1},exports._tr_align=function _tr_align(s){send_bits(s,2,3),send_code(s,END_BLOCK,static_ltree),function bi_flush(s){16===s.bi_valid?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)}(s)}},"./node_modules/pako/lib/zlib/zstream.js":function(module){"use strict";module.exports=function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},"./node_modules/pbf/index.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=Pbf;var ieee754=__webpack_require__("./node_modules/ieee754/index.js");function Pbf(buf){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(buf)?buf:new Uint8Array(buf||0),this.pos=0,this.type=0,this.length=this.buf.length}Pbf.Varint=0,Pbf.Fixed64=1,Pbf.Bytes=2,Pbf.Fixed32=5;var utf8TextDecoder="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function readPackedEnd(pbf){return pbf.type===Pbf.Bytes?pbf.readVarint()+pbf.pos:pbf.pos+1}function toNum(low,high,isSigned){return isSigned?4294967296*high+(low>>>0):4294967296*(high>>>0)+(low>>>0)}function makeRoomForExtraLength(startPos,len,pbf){var extraLen=len<=16383?1:len<=2097151?2:len<=268435455?3:Math.floor(Math.log(len)/(7*Math.LN2));pbf.realloc(extraLen);for(var i=pbf.pos-1;i>=startPos;i--)pbf.buf[i+extraLen]=pbf.buf[i]}function writePackedVarint(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeVarint(arr[i])}function writePackedSVarint(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeSVarint(arr[i])}function writePackedFloat(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeFloat(arr[i])}function writePackedDouble(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeDouble(arr[i])}function writePackedBoolean(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeBoolean(arr[i])}function writePackedFixed32(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeFixed32(arr[i])}function writePackedSFixed32(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeSFixed32(arr[i])}function writePackedFixed64(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeFixed64(arr[i])}function writePackedSFixed64(arr,pbf){for(var i=0;i<arr.length;i++)pbf.writeSFixed64(arr[i])}function readUInt32(buf,pos){return(buf[pos]|buf[pos+1]<<8|buf[pos+2]<<16)+16777216*buf[pos+3]}function writeInt32(buf,val,pos){buf[pos]=val,buf[pos+1]=val>>>8,buf[pos+2]=val>>>16,buf[pos+3]=val>>>24}function readInt32(buf,pos){return(buf[pos]|buf[pos+1]<<8|buf[pos+2]<<16)+(buf[pos+3]<<24)}Pbf.prototype={destroy:function(){this.buf=null},readFields:function(readField,result,end){for(end=end||this.length;this.pos<end;){var val=this.readVarint(),tag=val>>3,startPos=this.pos;this.type=7&val,readField(tag,result,this),this.pos===startPos&&this.skip(val)}return result},readMessage:function(readField,result){return this.readFields(readField,result,this.readVarint()+this.pos)},readFixed32:function(){var val=readUInt32(this.buf,this.pos);return this.pos+=4,val},readSFixed32:function(){var val=readInt32(this.buf,this.pos);return this.pos+=4,val},readFixed64:function(){var val=readUInt32(this.buf,this.pos)+4294967296*readUInt32(this.buf,this.pos+4);return this.pos+=8,val},readSFixed64:function(){var val=readUInt32(this.buf,this.pos)+4294967296*readInt32(this.buf,this.pos+4);return this.pos+=8,val},readFloat:function(){var val=ieee754.read(this.buf,this.pos,!0,23,4);return this.pos+=4,val},readDouble:function(){var val=ieee754.read(this.buf,this.pos,!0,52,8);return this.pos+=8,val},readVarint:function(isSigned){var val,b,buf=this.buf;return val=127&(b=buf[this.pos++]),b<128?val:(val|=(127&(b=buf[this.pos++]))<<7,b<128?val:(val|=(127&(b=buf[this.pos++]))<<14,b<128?val:(val|=(127&(b=buf[this.pos++]))<<21,b<128?val:function readVarintRemainder(l,s,p){var h,b,buf=p.buf;if(b=buf[p.pos++],h=(112&b)>>4,b<128)return toNum(l,h,s);if(b=buf[p.pos++],h|=(127&b)<<3,b<128)return toNum(l,h,s);if(b=buf[p.pos++],h|=(127&b)<<10,b<128)return toNum(l,h,s);if(b=buf[p.pos++],h|=(127&b)<<17,b<128)return toNum(l,h,s);if(b=buf[p.pos++],h|=(127&b)<<24,b<128)return toNum(l,h,s);if(b=buf[p.pos++],h|=(1&b)<<31,b<128)return toNum(l,h,s);throw new Error("Expected varint not more than 10 bytes")}(val|=(15&(b=buf[this.pos]))<<28,isSigned,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var num=this.readVarint();return num%2==1?(num+1)/-2:num/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var end=this.readVarint()+this.pos,pos=this.pos;return this.pos=end,end-pos>=12&&utf8TextDecoder?function readUtf8TextDecoder(buf,pos,end){return utf8TextDecoder.decode(buf.subarray(pos,end))}(this.buf,pos,end):function readUtf8(buf,pos,end){var str="",i=pos;for(;i<end;){var b1,b2,b3,b0=buf[i],c=null,bytesPerSequence=b0>239?4:b0>223?3:b0>191?2:1;if(i+bytesPerSequence>end)break;1===bytesPerSequence?b0<128&&(c=b0):2===bytesPerSequence?128==(192&(b1=buf[i+1]))&&(c=(31&b0)<<6|63&b1)<=127&&(c=null):3===bytesPerSequence?(b1=buf[i+1],b2=buf[i+2],128==(192&b1)&&128==(192&b2)&&((c=(15&b0)<<12|(63&b1)<<6|63&b2)<=2047||c>=55296&&c<=57343)&&(c=null)):4===bytesPerSequence&&(b1=buf[i+1],b2=buf[i+2],b3=buf[i+3],128==(192&b1)&&128==(192&b2)&&128==(192&b3)&&((c=(15&b0)<<18|(63&b1)<<12|(63&b2)<<6|63&b3)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,bytesPerSequence=1):c>65535&&(c-=65536,str+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),str+=String.fromCharCode(c),i+=bytesPerSequence}return str}(this.buf,pos,end)},readBytes:function(){var end=this.readVarint()+this.pos,buffer=this.buf.subarray(this.pos,end);return this.pos=end,buffer},readPackedVarint:function(arr,isSigned){if(this.type!==Pbf.Bytes)return arr.push(this.readVarint(isSigned));var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readVarint(isSigned));return arr},readPackedSVarint:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readSVarint());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readSVarint());return arr},readPackedBoolean:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readBoolean());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readBoolean());return arr},readPackedFloat:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readFloat());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readFloat());return arr},readPackedDouble:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readDouble());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readDouble());return arr},readPackedFixed32:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readFixed32());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readFixed32());return arr},readPackedSFixed32:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readSFixed32());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readSFixed32());return arr},readPackedFixed64:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readFixed64());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readFixed64());return arr},readPackedSFixed64:function(arr){if(this.type!==Pbf.Bytes)return arr.push(this.readSFixed64());var end=readPackedEnd(this);for(arr=arr||[];this.pos<end;)arr.push(this.readSFixed64());return arr},skip:function(val){var type=7&val;if(type===Pbf.Varint)for(;this.buf[this.pos++]>127;);else if(type===Pbf.Bytes)this.pos=this.readVarint()+this.pos;else if(type===Pbf.Fixed32)this.pos+=4;else{if(type!==Pbf.Fixed64)throw new Error("Unimplemented type: "+type);this.pos+=8}},writeTag:function(tag,type){this.writeVarint(tag<<3|type)},realloc:function(min){for(var length=this.length||16;length<this.pos+min;)length*=2;if(length!==this.length){var buf=new Uint8Array(length);buf.set(this.buf),this.buf=buf,this.length=length}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(val){this.realloc(4),writeInt32(this.buf,val,this.pos),this.pos+=4},writeSFixed32:function(val){this.realloc(4),writeInt32(this.buf,val,this.pos),this.pos+=4},writeFixed64:function(val){this.realloc(8),writeInt32(this.buf,-1&val,this.pos),writeInt32(this.buf,Math.floor(2.3283064365386963e-10*val),this.pos+4),this.pos+=8},writeSFixed64:function(val){this.realloc(8),writeInt32(this.buf,-1&val,this.pos),writeInt32(this.buf,Math.floor(2.3283064365386963e-10*val),this.pos+4),this.pos+=8},writeVarint:function(val){(val=+val||0)>268435455||val<0?function writeBigVarint(val,pbf){var low,high;val>=0?(low=val%4294967296|0,high=val/4294967296|0):(high=~(-val/4294967296),4294967295^(low=~(-val%4294967296))?low=low+1|0:(low=0,high=high+1|0));if(val>=0x10000000000000000||val<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");pbf.realloc(10),function writeBigVarintLow(low,high,pbf){pbf.buf[pbf.pos++]=127&low|128,low>>>=7,pbf.buf[pbf.pos++]=127&low|128,low>>>=7,pbf.buf[pbf.pos++]=127&low|128,low>>>=7,pbf.buf[pbf.pos++]=127&low|128,low>>>=7,pbf.buf[pbf.pos]=127&low}(low,0,pbf),function writeBigVarintHigh(high,pbf){var lsb=(7&high)<<4;if(pbf.buf[pbf.pos++]|=lsb|((high>>>=3)?128:0),!high)return;if(pbf.buf[pbf.pos++]=127&high|((high>>>=7)?128:0),!high)return;if(pbf.buf[pbf.pos++]=127&high|((high>>>=7)?128:0),!high)return;if(pbf.buf[pbf.pos++]=127&high|((high>>>=7)?128:0),!high)return;if(pbf.buf[pbf.pos++]=127&high|((high>>>=7)?128:0),!high)return;pbf.buf[pbf.pos++]=127&high}(high,pbf)}(val,this):(this.realloc(4),this.buf[this.pos++]=127&val|(val>127?128:0),val<=127||(this.buf[this.pos++]=127&(val>>>=7)|(val>127?128:0),val<=127||(this.buf[this.pos++]=127&(val>>>=7)|(val>127?128:0),val<=127||(this.buf[this.pos++]=val>>>7&127))))},writeSVarint:function(val){this.writeVarint(val<0?2*-val-1:2*val)},writeBoolean:function(val){this.writeVarint(Boolean(val))},writeString:function(str){str=String(str),this.realloc(4*str.length),this.pos++;var startPos=this.pos;this.pos=function writeUtf8(buf,str,pos){for(var c,lead,i=0;i<str.length;i++){if((c=str.charCodeAt(i))>55295&&c<57344){if(!lead){c>56319||i+1===str.length?(buf[pos++]=239,buf[pos++]=191,buf[pos++]=189):lead=c;continue}if(c<56320){buf[pos++]=239,buf[pos++]=191,buf[pos++]=189,lead=c;continue}c=lead-55296<<10|c-56320|65536,lead=null}else lead&&(buf[pos++]=239,buf[pos++]=191,buf[pos++]=189,lead=null);c<128?buf[pos++]=c:(c<2048?buf[pos++]=c>>6|192:(c<65536?buf[pos++]=c>>12|224:(buf[pos++]=c>>18|240,buf[pos++]=c>>12&63|128),buf[pos++]=c>>6&63|128),buf[pos++]=63&c|128)}return pos}(this.buf,str,this.pos);var len=this.pos-startPos;len>=128&&makeRoomForExtraLength(startPos,len,this),this.pos=startPos-1,this.writeVarint(len),this.pos+=len},writeFloat:function(val){this.realloc(4),ieee754.write(this.buf,val,this.pos,!0,23,4),this.pos+=4},writeDouble:function(val){this.realloc(8),ieee754.write(this.buf,val,this.pos,!0,52,8),this.pos+=8},writeBytes:function(buffer){var len=buffer.length;this.writeVarint(len),this.realloc(len);for(var i=0;i<len;i++)this.buf[this.pos++]=buffer[i]},writeRawMessage:function(fn,obj){this.pos++;var startPos=this.pos;fn(obj,this);var len=this.pos-startPos;len>=128&&makeRoomForExtraLength(startPos,len,this),this.pos=startPos-1,this.writeVarint(len),this.pos+=len},writeMessage:function(tag,fn,obj){this.writeTag(tag,Pbf.Bytes),this.writeRawMessage(fn,obj)},writePackedVarint:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedVarint,arr)},writePackedSVarint:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedSVarint,arr)},writePackedBoolean:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedBoolean,arr)},writePackedFloat:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedFloat,arr)},writePackedDouble:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedDouble,arr)},writePackedFixed32:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedFixed32,arr)},writePackedSFixed32:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedSFixed32,arr)},writePackedFixed64:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedFixed64,arr)},writePackedSFixed64:function(tag,arr){arr.length&&this.writeMessage(tag,writePackedSFixed64,arr)},writeBytesField:function(tag,buffer){this.writeTag(tag,Pbf.Bytes),this.writeBytes(buffer)},writeFixed32Field:function(tag,val){this.writeTag(tag,Pbf.Fixed32),this.writeFixed32(val)},writeSFixed32Field:function(tag,val){this.writeTag(tag,Pbf.Fixed32),this.writeSFixed32(val)},writeFixed64Field:function(tag,val){this.writeTag(tag,Pbf.Fixed64),this.writeFixed64(val)},writeSFixed64Field:function(tag,val){this.writeTag(tag,Pbf.Fixed64),this.writeSFixed64(val)},writeVarintField:function(tag,val){this.writeTag(tag,Pbf.Varint),this.writeVarint(val)},writeSVarintField:function(tag,val){this.writeTag(tag,Pbf.Varint),this.writeSVarint(val)},writeStringField:function(tag,str){this.writeTag(tag,Pbf.Bytes),this.writeString(str)},writeFloatField:function(tag,val){this.writeTag(tag,Pbf.Fixed32),this.writeFloat(val)},writeDoubleField:function(tag,val){this.writeTag(tag,Pbf.Fixed64),this.writeDouble(val)},writeBooleanField:function(tag,val){this.writeVarintField(tag,Boolean(val))}}},"./node_modules/polygon-clipping/dist/polygon-clipping.umd.js":function(module,__unused_webpack_exports,__webpack_require__){var process=__webpack_require__("./node_modules/process/browser.js");module.exports=function(){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Node=function(){function Node(key,data){this.next=null,this.key=key,this.data=data,this.left=null,this.right=null}return Node}();function DEFAULT_COMPARE(a,b){return a>b?1:a<b?-1:0}function splay(i,t,comparator){for(var N=new Node(null,null),l=N,r=N;;){var cmp=comparator(i,t.key);if(cmp<0){if(null===t.left)break;if(comparator(i,t.left.key)<0){var y=t.left;if(t.left=y.right,y.right=t,null===(t=y).left)break}r.left=t,r=t,t=t.left}else{if(!(cmp>0))break;if(null===t.right)break;if(comparator(i,t.right.key)>0&&(y=t.right,t.right=y.left,y.left=t,null===(t=y).right))break;l.right=t,l=t,t=t.right}}return l.right=t.left,r.left=t.right,t.left=N.right,t.right=N.left,t}function insert(i,data,t,comparator){var node=new Node(i,data);if(null===t)return node.left=node.right=null,node;var cmp=comparator(i,(t=splay(i,t,comparator)).key);return cmp<0?(node.left=t.left,node.right=t,t.left=null):cmp>=0&&(node.right=t.right,node.left=t,t.right=null),node}function split(key,v,comparator){var left=null,right=null;if(v){var cmp=comparator((v=splay(key,v,comparator)).key,key);0===cmp?(left=v.left,right=v.right):cmp<0?(right=v.right,v.right=null,left=v):(left=v.left,v.left=null,right=v)}return{left:left,right:right}}function merge(left,right,comparator){return null===right?left:(null===left||((right=splay(left.key,right,comparator)).left=left),right)}function printRow(root,prefix,isTail,out,printNode){if(root){out(prefix+(isTail?" ":" ")+printNode(root)+"\n");var indent=prefix+(isTail?"    ":"   ");root.left&&printRow(root.left,indent,!1,out,printNode),root.right&&printRow(root.right,indent,!0,out,printNode)}}var Tree=function(){function Tree(comparator){void 0===comparator&&(comparator=DEFAULT_COMPARE),this._root=null,this._size=0,this._comparator=comparator}return Tree.prototype.insert=function(key,data){return this._size++,this._root=insert(key,data,this._root,this._comparator)},Tree.prototype.add=function(key,data){var node=new Node(key,data);null===this._root&&(node.left=node.right=null,this._size++,this._root=node);var comparator=this._comparator,t=splay(key,this._root,comparator),cmp=comparator(key,t.key);return 0===cmp?this._root=t:(cmp<0?(node.left=t.left,node.right=t,t.left=null):cmp>0&&(node.right=t.right,node.left=t,t.right=null),this._size++,this._root=node),this._root},Tree.prototype.remove=function(key){this._root=this._remove(key,this._root,this._comparator)},Tree.prototype._remove=function(i,t,comparator){var x;return null===t?null:0===comparator(i,(t=splay(i,t,comparator)).key)?(null===t.left?x=t.right:(x=splay(i,t.left,comparator)).right=t.right,this._size--,x):t},Tree.prototype.pop=function(){var node=this._root;if(node){for(;node.left;)node=node.left;return this._root=splay(node.key,this._root,this._comparator),this._root=this._remove(node.key,this._root,this._comparator),{key:node.key,data:node.data}}return null},Tree.prototype.findStatic=function(key){for(var current=this._root,compare=this._comparator;current;){var cmp=compare(key,current.key);if(0===cmp)return current;current=cmp<0?current.left:current.right}return null},Tree.prototype.find=function(key){return this._root&&(this._root=splay(key,this._root,this._comparator),0!==this._comparator(key,this._root.key))?null:this._root},Tree.prototype.contains=function(key){for(var current=this._root,compare=this._comparator;current;){var cmp=compare(key,current.key);if(0===cmp)return!0;current=cmp<0?current.left:current.right}return!1},Tree.prototype.forEach=function(visitor,ctx){for(var current=this._root,Q=[],done=!1;!done;)null!==current?(Q.push(current),current=current.left):0!==Q.length?(current=Q.pop(),visitor.call(ctx,current),current=current.right):done=!0;return this},Tree.prototype.range=function(low,high,fn,ctx){for(var Q=[],compare=this._comparator,node=this._root;0!==Q.length||node;)if(node)Q.push(node),node=node.left;else{if(compare((node=Q.pop()).key,high)>0)break;if(compare(node.key,low)>=0&&fn.call(ctx,node))return this;node=node.right}return this},Tree.prototype.keys=function(){var keys=[];return this.forEach((function(_a){var key=_a.key;return keys.push(key)})),keys},Tree.prototype.values=function(){var values=[];return this.forEach((function(_a){var data=_a.data;return values.push(data)})),values},Tree.prototype.min=function(){return this._root?this.minNode(this._root).key:null},Tree.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},Tree.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},Tree.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},Tree.prototype.at=function(index){for(var current=this._root,done=!1,i=0,Q=[];!done;)if(current)Q.push(current),current=current.left;else if(Q.length>0){if(current=Q.pop(),i===index)return current;i++,current=current.right}else done=!0;return null},Tree.prototype.next=function(d){var root=this._root,successor=null;if(d.right){for(successor=d.right;successor.left;)successor=successor.left;return successor}for(var comparator=this._comparator;root;){var cmp=comparator(d.key,root.key);if(0===cmp)break;cmp<0?(successor=root,root=root.left):root=root.right}return successor},Tree.prototype.prev=function(d){var root=this._root,predecessor=null;if(null!==d.left){for(predecessor=d.left;predecessor.right;)predecessor=predecessor.right;return predecessor}for(var comparator=this._comparator;root;){var cmp=comparator(d.key,root.key);if(0===cmp)break;cmp<0?root=root.left:(predecessor=root,root=root.right)}return predecessor},Tree.prototype.clear=function(){return this._root=null,this._size=0,this},Tree.prototype.toList=function(){return toList(this._root)},Tree.prototype.load=function(keys,values,presort){void 0===values&&(values=[]),void 0===presort&&(presort=!1);var size=keys.length,comparator=this._comparator;if(presort&&sort(keys,values,0,size-1,comparator),null===this._root)this._root=loadRecursive(keys,values,0,size),this._size=size;else{var mergedList=mergeLists(this.toList(),createList(keys,values),comparator);size=this._size+size,this._root=sortedListToBST({head:mergedList},0,size)}return this},Tree.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(Tree.prototype,"size",{get:function get(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(Tree.prototype,"root",{get:function get(){return this._root},enumerable:!0,configurable:!0}),Tree.prototype.toString=function(printNode){void 0===printNode&&(printNode=function printNode(n){return String(n.key)});var out=[];return printRow(this._root,"",!0,(function(v){return out.push(v)}),printNode),out.join("")},Tree.prototype.update=function(key,newKey,newData){var comparator=this._comparator,_a=split(key,this._root,comparator),left=_a.left,right=_a.right;comparator(key,newKey)<0?right=insert(newKey,newData,right,comparator):left=insert(newKey,newData,left,comparator),this._root=merge(left,right,comparator)},Tree.prototype.split=function(key){return split(key,this._root,this._comparator)},Tree}();function loadRecursive(keys,values,start,end){var size=end-start;if(size>0){var middle=start+Math.floor(size/2),key=keys[middle],data=values[middle],node=new Node(key,data);return node.left=loadRecursive(keys,values,start,middle),node.right=loadRecursive(keys,values,middle+1,end),node}return null}function createList(keys,values){for(var head=new Node(null,null),p=head,i=0;i<keys.length;i++)p=p.next=new Node(keys[i],values[i]);return p.next=null,head.next}function toList(root){for(var current=root,Q=[],done=!1,head=new Node(null,null),p=head;!done;)current?(Q.push(current),current=current.left):Q.length>0?current=(current=p=p.next=Q.pop()).right:done=!0;return p.next=null,head.next}function sortedListToBST(list,start,end){var size=end-start;if(size>0){var middle=start+Math.floor(size/2),left=sortedListToBST(list,start,middle),root=list.head;return root.left=left,list.head=list.head.next,root.right=sortedListToBST(list,middle+1,end),root}return null}function mergeLists(l1,l2,compare){for(var head=new Node(null,null),p=head,p1=l1,p2=l2;null!==p1&&null!==p2;)compare(p1.key,p2.key)<0?(p.next=p1,p1=p1.next):(p.next=p2,p2=p2.next),p=p.next;return null!==p1?p.next=p1:null!==p2&&(p.next=p2),head.next}function sort(keys,values,left,right,compare){if(!(left>=right)){for(var pivot=keys[left+right>>1],i=left-1,j=right+1;;){do{i++}while(compare(keys[i],pivot)<0);do{j--}while(compare(keys[j],pivot)>0);if(i>=j)break;var tmp=keys[i];keys[i]=keys[j],keys[j]=tmp,tmp=values[i],values[i]=values[j],values[j]=tmp}sort(keys,values,left,j,compare),sort(keys,values,j+1,right,compare)}}var isInBbox=function isInBbox(bbox,point){return bbox.ll.x<=point.x&&point.x<=bbox.ur.x&&bbox.ll.y<=point.y&&point.y<=bbox.ur.y},getBboxOverlap=function getBboxOverlap(b1,b2){if(b2.ur.x<b1.ll.x||b1.ur.x<b2.ll.x||b2.ur.y<b1.ll.y||b1.ur.y<b2.ll.y)return null;var lowerX=b1.ll.x<b2.ll.x?b2.ll.x:b1.ll.x,upperX=b1.ur.x<b2.ur.x?b1.ur.x:b2.ur.x;return{ll:{x:lowerX,y:b1.ll.y<b2.ll.y?b2.ll.y:b1.ll.y},ur:{x:upperX,y:b1.ur.y<b2.ur.y?b1.ur.y:b2.ur.y}}},epsilon=Number.EPSILON;void 0===epsilon&&(epsilon=Math.pow(2,-52));var EPSILON_SQ=epsilon*epsilon,cmp=function cmp(a,b){if(-epsilon<a&&a<epsilon&&-epsilon<b&&b<epsilon)return 0;var ab=a-b;return ab*ab<EPSILON_SQ*a*b?0:a<b?-1:1},PtRounder=function(){function PtRounder(){_classCallCheck(this,PtRounder),this.reset()}return _createClass(PtRounder,[{key:"reset",value:function reset(){this.xRounder=new CoordRounder,this.yRounder=new CoordRounder}},{key:"round",value:function round(x,y){return{x:this.xRounder.round(x),y:this.yRounder.round(y)}}}]),PtRounder}(),CoordRounder=function(){function CoordRounder(){_classCallCheck(this,CoordRounder),this.tree=new Tree,this.round(0)}return _createClass(CoordRounder,[{key:"round",value:function round(coord){var node=this.tree.add(coord),prevNode=this.tree.prev(node);if(null!==prevNode&&0===cmp(node.key,prevNode.key))return this.tree.remove(coord),prevNode.key;var nextNode=this.tree.next(node);return null!==nextNode&&0===cmp(node.key,nextNode.key)?(this.tree.remove(coord),nextNode.key):coord}}]),CoordRounder}(),rounder=new PtRounder,crossProduct=function crossProduct(a,b){return a.x*b.y-a.y*b.x},dotProduct=function dotProduct(a,b){return a.x*b.x+a.y*b.y},compareVectorAngles=function compareVectorAngles(basePt,endPt1,endPt2){var v1={x:endPt1.x-basePt.x,y:endPt1.y-basePt.y},v2={x:endPt2.x-basePt.x,y:endPt2.y-basePt.y},kross=crossProduct(v1,v2);return cmp(kross,0)},length=function length(v){return Math.sqrt(dotProduct(v,v))},sineOfAngle=function sineOfAngle(pShared,pBase,pAngle){var vBase={x:pBase.x-pShared.x,y:pBase.y-pShared.y},vAngle={x:pAngle.x-pShared.x,y:pAngle.y-pShared.y};return crossProduct(vAngle,vBase)/length(vAngle)/length(vBase)},cosineOfAngle=function cosineOfAngle(pShared,pBase,pAngle){var vBase={x:pBase.x-pShared.x,y:pBase.y-pShared.y},vAngle={x:pAngle.x-pShared.x,y:pAngle.y-pShared.y};return dotProduct(vAngle,vBase)/length(vAngle)/length(vBase)},horizontalIntersection=function horizontalIntersection(pt,v,y){return 0===v.y?null:{x:pt.x+v.x/v.y*(y-pt.y),y:y}},verticalIntersection=function verticalIntersection(pt,v,x){return 0===v.x?null:{x:x,y:pt.y+v.y/v.x*(x-pt.x)}},intersection=function intersection(pt1,v1,pt2,v2){if(0===v1.x)return verticalIntersection(pt2,v2,pt1.x);if(0===v2.x)return verticalIntersection(pt1,v1,pt2.x);if(0===v1.y)return horizontalIntersection(pt2,v2,pt1.y);if(0===v2.y)return horizontalIntersection(pt1,v1,pt2.y);var kross=crossProduct(v1,v2);if(0==kross)return null;var ve={x:pt2.x-pt1.x,y:pt2.y-pt1.y},d1=crossProduct(ve,v1)/kross,d2=crossProduct(ve,v2)/kross;return{x:(pt1.x+d2*v1.x+(pt2.x+d1*v2.x))/2,y:(pt1.y+d2*v1.y+(pt2.y+d1*v2.y))/2}},SweepEvent=function(){function SweepEvent(point,isLeft){_classCallCheck(this,SweepEvent),void 0===point.events?point.events=[this]:point.events.push(this),this.point=point,this.isLeft=isLeft}return _createClass(SweepEvent,null,[{key:"compare",value:function compare(a,b){var ptCmp=SweepEvent.comparePoints(a.point,b.point);return 0!==ptCmp?ptCmp:(a.point!==b.point&&a.link(b),a.isLeft!==b.isLeft?a.isLeft?1:-1:Segment.compare(a.segment,b.segment))}},{key:"comparePoints",value:function comparePoints(aPt,bPt){return aPt.x<bPt.x?-1:aPt.x>bPt.x?1:aPt.y<bPt.y?-1:aPt.y>bPt.y?1:0}}]),_createClass(SweepEvent,[{key:"link",value:function link(other){if(other.point===this.point)throw new Error("Tried to link already linked events");for(var otherEvents=other.point.events,i=0,iMax=otherEvents.length;i<iMax;i++){var evt=otherEvents[i];this.point.events.push(evt),evt.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function checkForConsuming(){for(var numEvents=this.point.events.length,i=0;i<numEvents;i++){var evt1=this.point.events[i];if(void 0===evt1.segment.consumedBy)for(var j=i+1;j<numEvents;j++){var evt2=this.point.events[j];void 0===evt2.consumedBy&&evt1.otherSE.point.events===evt2.otherSE.point.events&&evt1.segment.consume(evt2.segment)}}}},{key:"getAvailableLinkedEvents",value:function getAvailableLinkedEvents(){for(var events=[],i=0,iMax=this.point.events.length;i<iMax;i++){var evt=this.point.events[i];evt!==this&&!evt.segment.ringOut&&evt.segment.isInResult()&&events.push(evt)}return events}},{key:"getLeftmostComparator",value:function getLeftmostComparator(baseEvent){var _this=this,cache=new Map,fillCache=function fillCache(linkedEvent){var nextEvent=linkedEvent.otherSE;cache.set(linkedEvent,{sine:sineOfAngle(_this.point,baseEvent.point,nextEvent.point),cosine:cosineOfAngle(_this.point,baseEvent.point,nextEvent.point)})};return function(a,b){cache.has(a)||fillCache(a),cache.has(b)||fillCache(b);var _cache$get=cache.get(a),asine=_cache$get.sine,acosine=_cache$get.cosine,_cache$get2=cache.get(b),bsine=_cache$get2.sine,bcosine=_cache$get2.cosine;return asine>=0&&bsine>=0?acosine<bcosine?1:acosine>bcosine?-1:0:asine<0&&bsine<0?acosine<bcosine?-1:acosine>bcosine?1:0:bsine<asine?-1:bsine>asine?1:0}}}]),SweepEvent}(),segmentId=0,Segment=function(){function Segment(leftSE,rightSE,rings,windings){_classCallCheck(this,Segment),this.id=++segmentId,this.leftSE=leftSE,leftSE.segment=this,leftSE.otherSE=rightSE,this.rightSE=rightSE,rightSE.segment=this,rightSE.otherSE=leftSE,this.rings=rings,this.windings=windings}return _createClass(Segment,null,[{key:"compare",value:function compare(a,b){var alx=a.leftSE.point.x,blx=b.leftSE.point.x,arx=a.rightSE.point.x,brx=b.rightSE.point.x;if(brx<alx)return 1;if(arx<blx)return-1;var aly=a.leftSE.point.y,bly=b.leftSE.point.y,ary=a.rightSE.point.y,bry=b.rightSE.point.y;if(alx<blx){if(bly<aly&&bly<ary)return 1;if(bly>aly&&bly>ary)return-1;var aCmpBLeft=a.comparePoint(b.leftSE.point);if(aCmpBLeft<0)return 1;if(aCmpBLeft>0)return-1;var bCmpARight=b.comparePoint(a.rightSE.point);return 0!==bCmpARight?bCmpARight:-1}if(alx>blx){if(aly<bly&&aly<bry)return-1;if(aly>bly&&aly>bry)return 1;var bCmpALeft=b.comparePoint(a.leftSE.point);if(0!==bCmpALeft)return bCmpALeft;var aCmpBRight=a.comparePoint(b.rightSE.point);return aCmpBRight<0?1:aCmpBRight>0?-1:1}if(aly<bly)return-1;if(aly>bly)return 1;if(arx<brx){var _bCmpARight=b.comparePoint(a.rightSE.point);if(0!==_bCmpARight)return _bCmpARight}if(arx>brx){var _aCmpBRight=a.comparePoint(b.rightSE.point);if(_aCmpBRight<0)return 1;if(_aCmpBRight>0)return-1}if(arx!==brx){var ay=ary-aly,ax=arx-alx,by=bry-bly,bx=brx-blx;if(ay>ax&&by<bx)return 1;if(ay<ax&&by>bx)return-1}return arx>brx?1:arx<brx||ary<bry?-1:ary>bry?1:a.id<b.id?-1:a.id>b.id?1:0}}]),_createClass(Segment,[{key:"replaceRightSE",value:function replaceRightSE(newRightSE){this.rightSE=newRightSE,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function bbox(){var y1=this.leftSE.point.y,y2=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:y1<y2?y1:y2},ur:{x:this.rightSE.point.x,y:y1>y2?y1:y2}}}},{key:"vector",value:function vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function isAnEndpoint(pt){return pt.x===this.leftSE.point.x&&pt.y===this.leftSE.point.y||pt.x===this.rightSE.point.x&&pt.y===this.rightSE.point.y}},{key:"comparePoint",value:function comparePoint(point){if(this.isAnEndpoint(point))return 0;var lPt=this.leftSE.point,rPt=this.rightSE.point,v=this.vector();if(lPt.x===rPt.x)return point.x===lPt.x?0:point.x<lPt.x?1:-1;var yDist=(point.y-lPt.y)/v.y,xFromYDist=lPt.x+yDist*v.x;if(point.x===xFromYDist)return 0;var xDist=(point.x-lPt.x)/v.x,yFromXDist=lPt.y+xDist*v.y;return point.y===yFromXDist?0:point.y<yFromXDist?-1:1}},{key:"getIntersection",value:function getIntersection(other){var tBbox=this.bbox(),oBbox=other.bbox(),bboxOverlap=getBboxOverlap(tBbox,oBbox);if(null===bboxOverlap)return null;var tlp=this.leftSE.point,trp=this.rightSE.point,olp=other.leftSE.point,orp=other.rightSE.point,touchesOtherLSE=isInBbox(tBbox,olp)&&0===this.comparePoint(olp),touchesThisLSE=isInBbox(oBbox,tlp)&&0===other.comparePoint(tlp),touchesOtherRSE=isInBbox(tBbox,orp)&&0===this.comparePoint(orp),touchesThisRSE=isInBbox(oBbox,trp)&&0===other.comparePoint(trp);if(touchesThisLSE&&touchesOtherLSE)return touchesThisRSE&&!touchesOtherRSE?trp:!touchesThisRSE&&touchesOtherRSE?orp:null;if(touchesThisLSE)return touchesOtherRSE&&tlp.x===orp.x&&tlp.y===orp.y?null:tlp;if(touchesOtherLSE)return touchesThisRSE&&trp.x===olp.x&&trp.y===olp.y?null:olp;if(touchesThisRSE&&touchesOtherRSE)return null;if(touchesThisRSE)return trp;if(touchesOtherRSE)return orp;var pt=intersection(tlp,this.vector(),olp,other.vector());return null===pt?null:isInBbox(bboxOverlap,pt)?rounder.round(pt.x,pt.y):null}},{key:"split",value:function split(point){var newEvents=[],alreadyLinked=void 0!==point.events,newLeftSE=new SweepEvent(point,!0),newRightSE=new SweepEvent(point,!1),oldRightSE=this.rightSE;this.replaceRightSE(newRightSE),newEvents.push(newRightSE),newEvents.push(newLeftSE);var newSeg=new Segment(newLeftSE,oldRightSE,this.rings.slice(),this.windings.slice());return SweepEvent.comparePoints(newSeg.leftSE.point,newSeg.rightSE.point)>0&&newSeg.swapEvents(),SweepEvent.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),alreadyLinked&&(newLeftSE.checkForConsuming(),newRightSE.checkForConsuming()),newEvents}},{key:"swapEvents",value:function swapEvents(){var tmpEvt=this.rightSE;this.rightSE=this.leftSE,this.leftSE=tmpEvt,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var i=0,iMax=this.windings.length;i<iMax;i++)this.windings[i]*=-1}},{key:"consume",value:function consume(other){for(var consumer=this,consumee=other;consumer.consumedBy;)consumer=consumer.consumedBy;for(;consumee.consumedBy;)consumee=consumee.consumedBy;var cmp=Segment.compare(consumer,consumee);if(0!==cmp){if(cmp>0){var tmp=consumer;consumer=consumee,consumee=tmp}if(consumer.prev===consumee){var _tmp=consumer;consumer=consumee,consumee=_tmp}for(var i=0,iMax=consumee.rings.length;i<iMax;i++){var ring=consumee.rings[i],winding=consumee.windings[i],index=consumer.rings.indexOf(ring);-1===index?(consumer.rings.push(ring),consumer.windings.push(winding)):consumer.windings[index]+=winding}consumee.rings=null,consumee.windings=null,consumee.consumedBy=consumer,consumee.leftSE.consumedBy=consumer.leftSE,consumee.rightSE.consumedBy=consumer.rightSE}}},{key:"prevInResult",value:function prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var seg=this.prev.consumedBy||this.prev;this._beforeState=seg.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function afterState(){if(void 0!==this._afterState)return this._afterState;var beforeState=this.beforeState();this._afterState={rings:beforeState.rings.slice(0),windings:beforeState.windings.slice(0),multiPolys:[]};for(var ringsAfter=this._afterState.rings,windingsAfter=this._afterState.windings,mpsAfter=this._afterState.multiPolys,i=0,iMax=this.rings.length;i<iMax;i++){var ring=this.rings[i],winding=this.windings[i],index=ringsAfter.indexOf(ring);-1===index?(ringsAfter.push(ring),windingsAfter.push(winding)):windingsAfter[index]+=winding}for(var polysAfter=[],polysExclude=[],_i=0,_iMax=ringsAfter.length;_i<_iMax;_i++)if(0!==windingsAfter[_i]){var _ring=ringsAfter[_i],poly=_ring.poly;if(-1===polysExclude.indexOf(poly))if(_ring.isExterior)polysAfter.push(poly);else{-1===polysExclude.indexOf(poly)&&polysExclude.push(poly);var _index=polysAfter.indexOf(_ring.poly);-1!==_index&&polysAfter.splice(_index,1)}}for(var _i2=0,_iMax2=polysAfter.length;_i2<_iMax2;_i2++){var mp=polysAfter[_i2].multiPoly;-1===mpsAfter.indexOf(mp)&&mpsAfter.push(mp)}return this._afterState}},{key:"isInResult",value:function isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var mpsBefore=this.beforeState().multiPolys,mpsAfter=this.afterState().multiPolys;switch(operation.type){case"union":var noBefores=0===mpsBefore.length,noAfters=0===mpsAfter.length;this._isInResult=noBefores!==noAfters;break;case"intersection":var least,most;mpsBefore.length<mpsAfter.length?(least=mpsBefore.length,most=mpsAfter.length):(least=mpsAfter.length,most=mpsBefore.length),this._isInResult=most===operation.numMultiPolys&&least<most;break;case"xor":var diff=Math.abs(mpsBefore.length-mpsAfter.length);this._isInResult=diff%2==1;break;case"difference":var isJustSubject=function isJustSubject(mps){return 1===mps.length&&mps[0].isSubject};this._isInResult=isJustSubject(mpsBefore)!==isJustSubject(mpsAfter);break;default:throw new Error("Unrecognized operation type found ".concat(operation.type))}return this._isInResult}}],[{key:"fromRing",value:function fromRing(pt1,pt2,ring){var leftPt,rightPt,winding,cmpPts=SweepEvent.comparePoints(pt1,pt2);if(cmpPts<0)leftPt=pt1,rightPt=pt2,winding=1;else{if(!(cmpPts>0))throw new Error("Tried to create degenerate segment at [".concat(pt1.x,", ").concat(pt1.y,"]"));leftPt=pt2,rightPt=pt1,winding=-1}return new Segment(new SweepEvent(leftPt,!0),new SweepEvent(rightPt,!1),[ring],[winding])}}]),Segment}(),RingIn=function(){function RingIn(geomRing,poly,isExterior){if(_classCallCheck(this,RingIn),!Array.isArray(geomRing)||0===geomRing.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=poly,this.isExterior=isExterior,this.segments=[],"number"!=typeof geomRing[0][0]||"number"!=typeof geomRing[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var firstPoint=rounder.round(geomRing[0][0],geomRing[0][1]);this.bbox={ll:{x:firstPoint.x,y:firstPoint.y},ur:{x:firstPoint.x,y:firstPoint.y}};for(var prevPoint=firstPoint,i=1,iMax=geomRing.length;i<iMax;i++){if("number"!=typeof geomRing[i][0]||"number"!=typeof geomRing[i][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var point=rounder.round(geomRing[i][0],geomRing[i][1]);point.x===prevPoint.x&&point.y===prevPoint.y||(this.segments.push(Segment.fromRing(prevPoint,point,this)),point.x<this.bbox.ll.x&&(this.bbox.ll.x=point.x),point.y<this.bbox.ll.y&&(this.bbox.ll.y=point.y),point.x>this.bbox.ur.x&&(this.bbox.ur.x=point.x),point.y>this.bbox.ur.y&&(this.bbox.ur.y=point.y),prevPoint=point)}firstPoint.x===prevPoint.x&&firstPoint.y===prevPoint.y||this.segments.push(Segment.fromRing(prevPoint,firstPoint,this))}return _createClass(RingIn,[{key:"getSweepEvents",value:function getSweepEvents(){for(var sweepEvents=[],i=0,iMax=this.segments.length;i<iMax;i++){var segment=this.segments[i];sweepEvents.push(segment.leftSE),sweepEvents.push(segment.rightSE)}return sweepEvents}}]),RingIn}(),PolyIn=function(){function PolyIn(geomPoly,multiPoly){if(_classCallCheck(this,PolyIn),!Array.isArray(geomPoly))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new RingIn(geomPoly[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var i=1,iMax=geomPoly.length;i<iMax;i++){var ring=new RingIn(geomPoly[i],this,!1);ring.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=ring.bbox.ll.x),ring.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=ring.bbox.ll.y),ring.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=ring.bbox.ur.x),ring.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=ring.bbox.ur.y),this.interiorRings.push(ring)}this.multiPoly=multiPoly}return _createClass(PolyIn,[{key:"getSweepEvents",value:function getSweepEvents(){for(var sweepEvents=this.exteriorRing.getSweepEvents(),i=0,iMax=this.interiorRings.length;i<iMax;i++)for(var ringSweepEvents=this.interiorRings[i].getSweepEvents(),j=0,jMax=ringSweepEvents.length;j<jMax;j++)sweepEvents.push(ringSweepEvents[j]);return sweepEvents}}]),PolyIn}(),MultiPolyIn=function(){function MultiPolyIn(geom,isSubject){if(_classCallCheck(this,MultiPolyIn),!Array.isArray(geom))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof geom[0][0][0]&&(geom=[geom])}catch(ex){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var i=0,iMax=geom.length;i<iMax;i++){var poly=new PolyIn(geom[i],this);poly.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=poly.bbox.ll.x),poly.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=poly.bbox.ll.y),poly.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=poly.bbox.ur.x),poly.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=poly.bbox.ur.y),this.polys.push(poly)}this.isSubject=isSubject}return _createClass(MultiPolyIn,[{key:"getSweepEvents",value:function getSweepEvents(){for(var sweepEvents=[],i=0,iMax=this.polys.length;i<iMax;i++)for(var polySweepEvents=this.polys[i].getSweepEvents(),j=0,jMax=polySweepEvents.length;j<jMax;j++)sweepEvents.push(polySweepEvents[j]);return sweepEvents}}]),MultiPolyIn}(),RingOut=function(){function RingOut(events){_classCallCheck(this,RingOut),this.events=events;for(var i=0,iMax=events.length;i<iMax;i++)events[i].segment.ringOut=this;this.poly=null}return _createClass(RingOut,null,[{key:"factory",value:function factory(allSegments){for(var ringsOut=[],i=0,iMax=allSegments.length;i<iMax;i++){var segment=allSegments[i];if(segment.isInResult()&&!segment.ringOut){for(var prevEvent=null,event=segment.leftSE,nextEvent=segment.rightSE,events=[event],startingPoint=event.point,intersectionLEs=[];prevEvent=event,event=nextEvent,events.push(event),event.point!==startingPoint;)for(;;){var availableLEs=event.getAvailableLinkedEvents();if(0===availableLEs.length){var firstPt=events[0].point,lastPt=events[events.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(firstPt.x,",")+" ".concat(firstPt.y,"]. Last matching segment found ends at")+" [".concat(lastPt.x,", ").concat(lastPt.y,"]."))}if(1===availableLEs.length){nextEvent=availableLEs[0].otherSE;break}for(var indexLE=null,j=0,jMax=intersectionLEs.length;j<jMax;j++)if(intersectionLEs[j].point===event.point){indexLE=j;break}if(null===indexLE){intersectionLEs.push({index:events.length,point:event.point});var comparator=event.getLeftmostComparator(prevEvent);nextEvent=availableLEs.sort(comparator)[0].otherSE;break}var intersectionLE=intersectionLEs.splice(indexLE)[0],ringEvents=events.splice(intersectionLE.index);ringEvents.unshift(ringEvents[0].otherSE),ringsOut.push(new RingOut(ringEvents.reverse()))}ringsOut.push(new RingOut(events))}}return ringsOut}}]),_createClass(RingOut,[{key:"getGeom",value:function getGeom(){for(var prevPt=this.events[0].point,points=[prevPt],i=1,iMax=this.events.length-1;i<iMax;i++){var _pt=this.events[i].point,_nextPt=this.events[i+1].point;0!==compareVectorAngles(_pt,prevPt,_nextPt)&&(points.push(_pt),prevPt=_pt)}if(1===points.length)return null;var pt=points[0],nextPt=points[1];0===compareVectorAngles(pt,prevPt,nextPt)&&points.shift(),points.push(points[0]);for(var step=this.isExteriorRing()?1:-1,iStart=this.isExteriorRing()?0:points.length-1,iEnd=this.isExteriorRing()?points.length:-1,orderedPoints=[],_i=iStart;_i!=iEnd;_i+=step)orderedPoints.push([points[_i].x,points[_i].y]);return orderedPoints}},{key:"isExteriorRing",value:function isExteriorRing(){if(void 0===this._isExteriorRing){var enclosing=this.enclosingRing();this._isExteriorRing=!enclosing||!enclosing.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function _calcEnclosingRing(){for(var leftMostEvt=this.events[0],i=1,iMax=this.events.length;i<iMax;i++){var evt=this.events[i];SweepEvent.compare(leftMostEvt,evt)>0&&(leftMostEvt=evt)}for(var prevSeg=leftMostEvt.segment.prevInResult(),prevPrevSeg=prevSeg?prevSeg.prevInResult():null;;){if(!prevSeg)return null;if(!prevPrevSeg)return prevSeg.ringOut;if(prevPrevSeg.ringOut!==prevSeg.ringOut)return prevPrevSeg.ringOut.enclosingRing()!==prevSeg.ringOut?prevSeg.ringOut:prevSeg.ringOut.enclosingRing();prevSeg=prevPrevSeg.prevInResult(),prevPrevSeg=prevSeg?prevSeg.prevInResult():null}}}]),RingOut}(),PolyOut=function(){function PolyOut(exteriorRing){_classCallCheck(this,PolyOut),this.exteriorRing=exteriorRing,exteriorRing.poly=this,this.interiorRings=[]}return _createClass(PolyOut,[{key:"addInterior",value:function addInterior(ring){this.interiorRings.push(ring),ring.poly=this}},{key:"getGeom",value:function getGeom(){var geom=[this.exteriorRing.getGeom()];if(null===geom[0])return null;for(var i=0,iMax=this.interiorRings.length;i<iMax;i++){var ringGeom=this.interiorRings[i].getGeom();null!==ringGeom&&geom.push(ringGeom)}return geom}}]),PolyOut}(),MultiPolyOut=function(){function MultiPolyOut(rings){_classCallCheck(this,MultiPolyOut),this.rings=rings,this.polys=this._composePolys(rings)}return _createClass(MultiPolyOut,[{key:"getGeom",value:function getGeom(){for(var geom=[],i=0,iMax=this.polys.length;i<iMax;i++){var polyGeom=this.polys[i].getGeom();null!==polyGeom&&geom.push(polyGeom)}return geom}},{key:"_composePolys",value:function _composePolys(rings){for(var polys=[],i=0,iMax=rings.length;i<iMax;i++){var ring=rings[i];if(!ring.poly)if(ring.isExteriorRing())polys.push(new PolyOut(ring));else{var enclosingRing=ring.enclosingRing();enclosingRing.poly||polys.push(new PolyOut(enclosingRing)),enclosingRing.poly.addInterior(ring)}}return polys}}]),MultiPolyOut}(),SweepLine=function(){function SweepLine(queue){var comparator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Segment.compare;_classCallCheck(this,SweepLine),this.queue=queue,this.tree=new Tree(comparator),this.segments=[]}return _createClass(SweepLine,[{key:"process",value:function process(event){var segment=event.segment,newEvents=[];if(event.consumedBy)return event.isLeft?this.queue.remove(event.otherSE):this.tree.remove(segment),newEvents;var node=event.isLeft?this.tree.insert(segment):this.tree.find(segment);if(!node)throw new Error("Unable to find segment #".concat(segment.id," ")+"[".concat(segment.leftSE.point.x,", ").concat(segment.leftSE.point.y,"] -> ")+"[".concat(segment.rightSE.point.x,", ").concat(segment.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var prevNode=node,nextNode=node,prevSeg=void 0,nextSeg=void 0;void 0===prevSeg;)null===(prevNode=this.tree.prev(prevNode))?prevSeg=null:void 0===prevNode.key.consumedBy&&(prevSeg=prevNode.key);for(;void 0===nextSeg;)null===(nextNode=this.tree.next(nextNode))?nextSeg=null:void 0===nextNode.key.consumedBy&&(nextSeg=nextNode.key);if(event.isLeft){var prevMySplitter=null;if(prevSeg){var prevInter=prevSeg.getIntersection(segment);if(null!==prevInter&&(segment.isAnEndpoint(prevInter)||(prevMySplitter=prevInter),!prevSeg.isAnEndpoint(prevInter)))for(var newEventsFromSplit=this._splitSafely(prevSeg,prevInter),i=0,iMax=newEventsFromSplit.length;i<iMax;i++)newEvents.push(newEventsFromSplit[i])}var nextMySplitter=null;if(nextSeg){var nextInter=nextSeg.getIntersection(segment);if(null!==nextInter&&(segment.isAnEndpoint(nextInter)||(nextMySplitter=nextInter),!nextSeg.isAnEndpoint(nextInter)))for(var _newEventsFromSplit=this._splitSafely(nextSeg,nextInter),_i=0,_iMax=_newEventsFromSplit.length;_i<_iMax;_i++)newEvents.push(_newEventsFromSplit[_i])}if(null!==prevMySplitter||null!==nextMySplitter){var mySplitter=null;mySplitter=null===prevMySplitter?nextMySplitter:null===nextMySplitter||SweepEvent.comparePoints(prevMySplitter,nextMySplitter)<=0?prevMySplitter:nextMySplitter,this.queue.remove(segment.rightSE),newEvents.push(segment.rightSE);for(var _newEventsFromSplit2=segment.split(mySplitter),_i2=0,_iMax2=_newEventsFromSplit2.length;_i2<_iMax2;_i2++)newEvents.push(_newEventsFromSplit2[_i2])}newEvents.length>0?(this.tree.remove(segment),newEvents.push(event)):(this.segments.push(segment),segment.prev=prevSeg)}else{if(prevSeg&&nextSeg){var inter=prevSeg.getIntersection(nextSeg);if(null!==inter){if(!prevSeg.isAnEndpoint(inter))for(var _newEventsFromSplit3=this._splitSafely(prevSeg,inter),_i3=0,_iMax3=_newEventsFromSplit3.length;_i3<_iMax3;_i3++)newEvents.push(_newEventsFromSplit3[_i3]);if(!nextSeg.isAnEndpoint(inter))for(var _newEventsFromSplit4=this._splitSafely(nextSeg,inter),_i4=0,_iMax4=_newEventsFromSplit4.length;_i4<_iMax4;_i4++)newEvents.push(_newEventsFromSplit4[_i4])}}this.tree.remove(segment)}return newEvents}},{key:"_splitSafely",value:function _splitSafely(seg,pt){this.tree.remove(seg);var rightSE=seg.rightSE;this.queue.remove(rightSE);var newEvents=seg.split(pt);return newEvents.push(rightSE),void 0===seg.consumedBy&&this.tree.insert(seg),newEvents}}]),SweepLine}(),POLYGON_CLIPPING_MAX_QUEUE_SIZE=void 0!==process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS=void 0!==process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,operation=new(function(){function Operation(){_classCallCheck(this,Operation)}return _createClass(Operation,[{key:"run",value:function run(type,geom,moreGeoms){operation.type=type,rounder.reset();for(var multipolys=[new MultiPolyIn(geom,!0)],i=0,iMax=moreGeoms.length;i<iMax;i++)multipolys.push(new MultiPolyIn(moreGeoms[i],!1));if(operation.numMultiPolys=multipolys.length,"difference"===operation.type)for(var subject=multipolys[0],_i=1;_i<multipolys.length;)null!==getBboxOverlap(multipolys[_i].bbox,subject.bbox)?_i++:multipolys.splice(_i,1);if("intersection"===operation.type)for(var _i2=0,_iMax=multipolys.length;_i2<_iMax;_i2++)for(var mpA=multipolys[_i2],j=_i2+1,jMax=multipolys.length;j<jMax;j++)if(null===getBboxOverlap(mpA.bbox,multipolys[j].bbox))return[];for(var queue=new Tree(SweepEvent.compare),_i3=0,_iMax2=multipolys.length;_i3<_iMax2;_i3++)for(var sweepEvents=multipolys[_i3].getSweepEvents(),_j=0,_jMax=sweepEvents.length;_j<_jMax;_j++)if(queue.insert(sweepEvents[_j]),queue.size>POLYGON_CLIPPING_MAX_QUEUE_SIZE)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var sweepLine=new SweepLine(queue),prevQueueSize=queue.size,node=queue.pop();node;){var evt=node.key;if(queue.size===prevQueueSize){var seg=evt.segment;throw new Error("Unable to pop() ".concat(evt.isLeft?"left":"right"," SweepEvent ")+"[".concat(evt.point.x,", ").concat(evt.point.y,"] from segment #").concat(seg.id," ")+"[".concat(seg.leftSE.point.x,", ").concat(seg.leftSE.point.y,"] -> ")+"[".concat(seg.rightSE.point.x,", ").concat(seg.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(queue.size>POLYGON_CLIPPING_MAX_QUEUE_SIZE)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(sweepLine.segments.length>POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var newEvents=sweepLine.process(evt),_i4=0,_iMax3=newEvents.length;_i4<_iMax3;_i4++){var _evt=newEvents[_i4];void 0===_evt.consumedBy&&queue.insert(_evt)}prevQueueSize=queue.size,node=queue.pop()}rounder.reset();var ringsOut=RingOut.factory(sweepLine.segments);return new MultiPolyOut(ringsOut).getGeom()}}]),Operation}()),union=function union(geom){for(var _len=arguments.length,moreGeoms=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)moreGeoms[_key-1]=arguments[_key];return operation.run("union",geom,moreGeoms)},intersection$1=function intersection(geom){for(var _len2=arguments.length,moreGeoms=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)moreGeoms[_key2-1]=arguments[_key2];return operation.run("intersection",geom,moreGeoms)},xor=function xor(geom){for(var _len3=arguments.length,moreGeoms=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)moreGeoms[_key3-1]=arguments[_key3];return operation.run("xor",geom,moreGeoms)},difference=function difference(subjectGeom){for(var _len4=arguments.length,clippingGeoms=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++)clippingGeoms[_key4-1]=arguments[_key4];return operation.run("difference",subjectGeom,clippingGeoms)};return{union:union,intersection:intersection$1,xor:xor,difference:difference}}()},"./node_modules/rbush/rbush.min.js":function(module){module.exports=function(){"use strict";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1);t(n,r,Math.max(e,Math.floor(r-s*f/o+u)),Math.min(a,Math.floor(r+(o-s)*f/o+u)),h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r}()},"./node_modules/seedrandom/index.js":function(module,__unused_webpack_exports,__webpack_require__){var alea=__webpack_require__("./node_modules/seedrandom/lib/alea.js"),xor128=__webpack_require__("./node_modules/seedrandom/lib/xor128.js"),xorwow=__webpack_require__("./node_modules/seedrandom/lib/xorwow.js"),xorshift7=__webpack_require__("./node_modules/seedrandom/lib/xorshift7.js"),xor4096=__webpack_require__("./node_modules/seedrandom/lib/xor4096.js"),tychei=__webpack_require__("./node_modules/seedrandom/lib/tychei.js"),sr=__webpack_require__("./node_modules/seedrandom/seedrandom.js");sr.alea=alea,sr.xor128=xor128,sr.xorwow=xorwow,sr.xorshift7=xorshift7,sr.xor4096=xor4096,sr.tychei=tychei,module.exports=sr},"./node_modules/seedrandom/lib/alea.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module,define){function Alea(seed){var me=this,mash=function Mash(){var n=4022871197,mash=function(data){data=String(data);for(var i=0;i<data.length;i++){var h=.02519603282416938*(n+=data.charCodeAt(i));h-=n=h>>>0,n=(h*=n)>>>0,n+=4294967296*(h-=n)}return 2.3283064365386963e-10*(n>>>0)};return mash}();me.next=function(){var t=2091639*me.s0+2.3283064365386963e-10*me.c;return me.s0=me.s1,me.s1=me.s2,me.s2=t-(me.c=0|t)},me.c=1,me.s0=mash(" "),me.s1=mash(" "),me.s2=mash(" "),me.s0-=mash(seed),me.s0<0&&(me.s0+=1),me.s1-=mash(seed),me.s1<0&&(me.s1+=1),me.s2-=mash(seed),me.s2<0&&(me.s2+=1),mash=null}function copy(f,t){return t.c=f.c,t.s0=f.s0,t.s1=f.s1,t.s2=f.s2,t}function impl(seed,opts){var xg=new Alea(seed),state=opts&&opts.state,prng=xg.next;return prng.int32=function(){return 4294967296*xg.next()|0},prng.double=function(){return prng()+11102230246251565e-32*(2097152*prng()|0)},prng.quick=prng,state&&("object"==typeof state&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:__webpack_require__.amdD&&__webpack_require__.amdO?void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return impl}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):this.alea=impl}(0,module=__webpack_require__.nmd(module),__webpack_require__.amdD)},"./node_modules/seedrandom/lib/tychei.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module,define){function XorGen(seed){var me=this,strseed="";me.next=function(){var b=me.b,c=me.c,d=me.d,a=me.a;return b=b<<25^b>>>7^c,c=c-d|0,d=d<<24^d>>>8^a,a=a-b|0,me.b=b=b<<20^b>>>12^c,me.c=c=c-d|0,me.d=d<<16^c>>>16^a,me.a=a-b|0},me.a=0,me.b=0,me.c=-1640531527,me.d=1367130551,seed===Math.floor(seed)?(me.a=seed/4294967296|0,me.b=0|seed):strseed+=seed;for(var k=0;k<strseed.length+20;k++)me.b^=0|strseed.charCodeAt(k),me.next()}function copy(f,t){return t.a=f.a,t.b=f.b,t.c=f.c,t.d=f.d,t}function impl(seed,opts){var xg=new XorGen(seed),state=opts&&opts.state,prng=function(){return(xg.next()>>>0)/4294967296};return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&("object"==typeof state&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:__webpack_require__.amdD&&__webpack_require__.amdO?void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return impl}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):this.tychei=impl}(0,module=__webpack_require__.nmd(module),__webpack_require__.amdD)},"./node_modules/seedrandom/lib/xor128.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module,define){function XorGen(seed){var me=this,strseed="";me.x=0,me.y=0,me.z=0,me.w=0,me.next=function(){var t=me.x^me.x<<11;return me.x=me.y,me.y=me.z,me.z=me.w,me.w^=me.w>>>19^t^t>>>8},seed===(0|seed)?me.x=seed:strseed+=seed;for(var k=0;k<strseed.length+64;k++)me.x^=0|strseed.charCodeAt(k),me.next()}function copy(f,t){return t.x=f.x,t.y=f.y,t.z=f.z,t.w=f.w,t}function impl(seed,opts){var xg=new XorGen(seed),state=opts&&opts.state,prng=function(){return(xg.next()>>>0)/4294967296};return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&("object"==typeof state&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:__webpack_require__.amdD&&__webpack_require__.amdO?void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return impl}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):this.xor128=impl}(0,module=__webpack_require__.nmd(module),__webpack_require__.amdD)},"./node_modules/seedrandom/lib/xor4096.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module,define){function XorGen(seed){var me=this;me.next=function(){var t,v,w=me.w,X=me.X,i=me.i;return me.w=w=w+1640531527|0,v=X[i+34&127],t=X[i=i+1&127],v^=v<<13,t^=t<<17,v^=v>>>15,t^=t>>>12,v=X[i]=v^t,me.i=i,v+(w^w>>>16)|0},function init(me,seed){var t,v,i,j,w,X=[],limit=128;for(seed===(0|seed)?(v=seed,seed=null):(seed+="\0",v=0,limit=Math.max(limit,seed.length)),i=0,j=-32;j<limit;++j)seed&&(v^=seed.charCodeAt((j+32)%seed.length)),0===j&&(w=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,j>=0&&(w=w+1640531527|0,i=0==(t=X[127&j]^=v+w)?i+1:0);for(i>=128&&(X[127&(seed&&seed.length||0)]=-1),i=127,j=512;j>0;--j)v=X[i+34&127],t=X[i=i+1&127],v^=v<<13,t^=t<<17,v^=v>>>15,t^=t>>>12,X[i]=v^t;me.w=w,me.X=X,me.i=i}(me,seed)}function copy(f,t){return t.i=f.i,t.w=f.w,t.X=f.X.slice(),t}function impl(seed,opts){null==seed&&(seed=+new Date);var xg=new XorGen(seed),state=opts&&opts.state,prng=function(){return(xg.next()>>>0)/4294967296};return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&(state.X&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:__webpack_require__.amdD&&__webpack_require__.amdO?void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return impl}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):this.xor4096=impl}(0,module=__webpack_require__.nmd(module),__webpack_require__.amdD)},"./node_modules/seedrandom/lib/xorshift7.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module,define){function XorGen(seed){var me=this;me.next=function(){var t,v,X=me.x,i=me.i;return t=X[i],v=(t^=t>>>7)^t<<24,v^=(t=X[i+1&7])^t>>>10,v^=(t=X[i+3&7])^t>>>3,v^=(t=X[i+4&7])^t<<7,t=X[i+7&7],v^=(t^=t<<13)^t<<9,X[i]=v,me.i=i+1&7,v},function init(me,seed){var j,X=[];if(seed===(0|seed))X[0]=seed;else for(seed=""+seed,j=0;j<seed.length;++j)X[7&j]=X[7&j]<<15^seed.charCodeAt(j)+X[j+1&7]<<13;for(;X.length<8;)X.push(0);for(j=0;j<8&&0===X[j];++j);for(8==j?X[7]=-1:X[j],me.x=X,me.i=0,j=256;j>0;--j)me.next()}(me,seed)}function copy(f,t){return t.x=f.x.slice(),t.i=f.i,t}function impl(seed,opts){null==seed&&(seed=+new Date);var xg=new XorGen(seed),state=opts&&opts.state,prng=function(){return(xg.next()>>>0)/4294967296};return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&(state.x&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:__webpack_require__.amdD&&__webpack_require__.amdO?void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return impl}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):this.xorshift7=impl}(0,module=__webpack_require__.nmd(module),__webpack_require__.amdD)},"./node_modules/seedrandom/lib/xorwow.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module,define){function XorGen(seed){var me=this,strseed="";me.next=function(){var t=me.x^me.x>>>2;return me.x=me.y,me.y=me.z,me.z=me.w,me.w=me.v,(me.d=me.d+362437|0)+(me.v=me.v^me.v<<4^t^t<<1)|0},me.x=0,me.y=0,me.z=0,me.w=0,me.v=0,seed===(0|seed)?me.x=seed:strseed+=seed;for(var k=0;k<strseed.length+64;k++)me.x^=0|strseed.charCodeAt(k),k==strseed.length&&(me.d=me.x<<10^me.x>>>4),me.next()}function copy(f,t){return t.x=f.x,t.y=f.y,t.z=f.z,t.w=f.w,t.v=f.v,t.d=f.d,t}function impl(seed,opts){var xg=new XorGen(seed),state=opts&&opts.state,prng=function(){return(xg.next()>>>0)/4294967296};return prng.double=function(){do{var result=((xg.next()>>>11)+(xg.next()>>>0)/4294967296)/(1<<21)}while(0===result);return result},prng.int32=xg.next,prng.quick=prng,state&&("object"==typeof state&&copy(state,xg),prng.state=function(){return copy(xg,{})}),prng}module&&module.exports?module.exports=impl:__webpack_require__.amdD&&__webpack_require__.amdO?void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return impl}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__):this.xorwow=impl}(0,module=__webpack_require__.nmd(module),__webpack_require__.amdD)},"./node_modules/seedrandom/seedrandom.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,pool,math){var nodecrypto,width=256,startdenom=math.pow(width,6),significance=math.pow(2,52),overflow=2*significance,mask=width-1;function seedrandom(seed,options,callback){var key=[],shortseed=mixkey(flatten((options=1==options?{entropy:!0}:options||{}).entropy?[seed,tostring(pool)]:null==seed?function autoseed(){try{var out;return nodecrypto&&(out=nodecrypto.randomBytes)?out=out(width):(out=new Uint8Array(width),(global.crypto||global.msCrypto).getRandomValues(out)),tostring(out)}catch(e){var browser=global.navigator,plugins=browser&&browser.plugins;return[+new Date,global,plugins,global.screen,tostring(pool)]}}():seed,3),key),arc4=new ARC4(key),prng=function(){for(var n=arc4.g(6),d=startdenom,x=0;n<significance;)n=(n+x)*width,d*=width,x=arc4.g(1);for(;n>=overflow;)n/=2,d/=2,x>>>=1;return(n+x)/d};return prng.int32=function(){return 0|arc4.g(4)},prng.quick=function(){return arc4.g(4)/4294967296},prng.double=prng,mixkey(tostring(arc4.S),pool),(options.pass||callback||function(prng,seed,is_math_call,state){return state&&(state.S&&copy(state,arc4),prng.state=function(){return copy(arc4,{})}),is_math_call?(math.random=prng,seed):prng})(prng,shortseed,"global"in options?options.global:this==math,options.state)}function ARC4(key){var t,keylen=key.length,me=this,i=0,j=me.i=me.j=0,s=me.S=[];for(keylen||(key=[keylen++]);i<width;)s[i]=i++;for(i=0;i<width;i++)s[i]=s[j=mask&j+key[i%keylen]+(t=s[i])],s[j]=t;(me.g=function(count){for(var t,r=0,i=me.i,j=me.j,s=me.S;count--;)t=s[i=mask&i+1],r=r*width+s[mask&(s[i]=s[j=mask&j+t])+(s[j]=t)];return me.i=i,me.j=j,r})(width)}function copy(f,t){return t.i=f.i,t.j=f.j,t.S=f.S.slice(),t}function flatten(obj,depth){var prop,result=[],typ=typeof obj;if(depth&&"object"==typ)for(prop in obj)try{result.push(flatten(obj[prop],depth-1))}catch(e){}return result.length?result:"string"==typ?obj:obj+"\0"}function mixkey(seed,key){for(var smear,stringseed=seed+"",j=0;j<stringseed.length;)key[mask&j]=mask&(smear^=19*key[mask&j])+stringseed.charCodeAt(j++);return tostring(key)}function tostring(a){return String.fromCharCode.apply(0,a)}if(mixkey(math.random(),pool),module.exports){module.exports=seedrandom;try{nodecrypto=__webpack_require__("?d4c0")}catch(ex){}}else void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return seedrandom}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}("undefined"!=typeof self?self:this,[],Math)},"./node_modules/strnum/strnum.js":function(module){const hexRegex=/^[-+]?0x[a-fA-F0-9]+$/,numRegex=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const consider={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};module.exports=function toNumber(str,options={}){if(options=Object.assign({},consider,options),!str||"string"!=typeof str)return str;let trimmedStr=str.trim();if(void 0!==options.skipLike&&options.skipLike.test(trimmedStr))return str;if(options.hex&&hexRegex.test(trimmedStr))return Number.parseInt(trimmedStr,16);{const match=numRegex.exec(trimmedStr);if(match){const sign=match[1],leadingZeros=match[2];let numTrimmedByZeros=function trimZeros(numStr){if(numStr&&-1!==numStr.indexOf("."))return"."===(numStr=numStr.replace(/0+$/,""))?numStr="0":"."===numStr[0]?numStr="0"+numStr:"."===numStr[numStr.length-1]&&(numStr=numStr.substr(0,numStr.length-1)),numStr;return numStr}(match[3]);const eNotation=match[4]||match[6];if(!options.leadingZeros&&leadingZeros.length>0&&sign&&"."!==trimmedStr[2])return str;if(!options.leadingZeros&&leadingZeros.length>0&&!sign&&"."!==trimmedStr[1])return str;{const num=Number(trimmedStr),numStr=""+num;return-1!==numStr.search(/[eE]/)||eNotation?options.eNotation?num:str:-1!==trimmedStr.indexOf(".")?"0"===numStr&&""===numTrimmedByZeros||numStr===numTrimmedByZeros||sign&&numStr==="-"+numTrimmedByZeros?num:str:leadingZeros?numTrimmedByZeros===numStr||sign+numTrimmedByZeros===numStr?num:str:trimmedStr===numStr||trimmedStr===sign+numStr?num:str}}return str}}},"./node_modules/turf-jsts/jsts.min.js":function(__unused_webpack_module,exports){!function(t){"use strict";function e(){}function n(t){this.message=t||""}function i(t){this.message=t||""}function r(t){this.message=t||""}function o(){}function s(t){return null===t?Mt:t.color}function a(t){return null===t?null:t.parent}function u(t,e){null!==t&&(t.color=e)}function l(t){return null===t?null:t.left}function c(t){return null===t?null:t.right}function p(){this.root_=null,this.size_=0}function h(){}function f(){this.array_=[],arguments[0]instanceof It&&this.addAll(arguments[0])}function g(){}function d(t){this.message=t||""}function y(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(n+i,0):Math.min(i,n);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(r=r<0?Math.max(n+arguments[2],0):Math.min(r,n);i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var _=function(){};_.prototype.interfaces_=function(){return[]},_.prototype.getClass=function(){return _},_.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var m=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),v=function(){},I={MAX_VALUE:{configurable:!0}};v.isNaN=function(t){return Number.isNaN(t)},v.doubleToLongBits=function(t){return t},v.longBitsToDouble=function(t){return t},v.isInfinite=function(t){return!Number.isFinite(t)},I.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(v,I);var E=function(){},x=function(){},N=function(){},C=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},S={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};C.prototype.setOrdinate=function(t,e){switch(t){case C.X:this.x=e;break;case C.Y:this.y=e;break;case C.Z:this.z=e;break;default:throw new m("Invalid ordinate index: "+t)}},C.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!_.equalsWithTolerance(this.x,e.x,n)&&!!_.equalsWithTolerance(this.y,e.y,n)}},C.prototype.getOrdinate=function(t){switch(t){case C.X:return this.x;case C.Y:return this.y;case C.Z:return this.z}throw new m("Invalid ordinate index: "+t)},C.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||v.isNaN(this.z))&&v.isNaN(t.z)},C.prototype.equals=function(t){return t instanceof C&&this.equals2D(t)},C.prototype.equalInZ=function(t,e){return _.equalsWithTolerance(this.z,t.z,e)},C.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},C.prototype.clone=function(){},C.prototype.copy=function(){return new C(this)},C.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},C.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},C.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},C.prototype.hashCode=function(){var t=17;return 37*(t=37*t+C.hashCode(this.x))+C.hashCode(this.y)},C.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},C.prototype.interfaces_=function(){return[E,x,e]},C.prototype.getClass=function(){return C},C.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=v.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},S.DimensionalComparator.get=function(){return L},S.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},S.NULL_ORDINATE.get=function(){return v.NaN},S.X.get=function(){return 0},S.Y.get=function(){return 1},S.Z.get=function(){return 2},Object.defineProperties(C,S);var L=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new m("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};L.prototype.compare=function(t,e){var n=t,i=e,r=L.compare(n.x,i.x);if(0!==r)return r;var o=L.compare(n.y,i.y);return 0!==o?o:this._dimensionsToTest<=2?0:L.compare(n.z,i.z)},L.prototype.interfaces_=function(){return[N]},L.prototype.getClass=function(){return L},L.compare=function(t,e){return t<e?-1:t>e?1:v.isNaN(t)?v.isNaN(e)?0:-1:v.isNaN(e)?1:0};var b=function(){};b.prototype.create=function(){},b.prototype.interfaces_=function(){return[]},b.prototype.getClass=function(){return b};var w=function(){},O={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};w.prototype.interfaces_=function(){return[]},w.prototype.getClass=function(){return w},w.toLocationSymbol=function(t){switch(t){case w.EXTERIOR:return"e";case w.BOUNDARY:return"b";case w.INTERIOR:return"i";case w.NONE:return"-"}throw new m("Unknown location value: "+t)},O.INTERIOR.get=function(){return 0},O.BOUNDARY.get=function(){return 1},O.EXTERIOR.get=function(){return 2},O.NONE.get=function(){return-1},Object.defineProperties(w,O);var T=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},R=function(){},P={LOG_10:{configurable:!0}};R.prototype.interfaces_=function(){return[]},R.prototype.getClass=function(){return R},R.log10=function(t){var e=Math.log(t);return v.isInfinite(e)||v.isNaN(e)?e:e/R.LOG_10},R.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},R.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}},R.wrap=function(t,e){return t<0?e- -t%e:t%e},R.max=function(){if(3===arguments.length){var e=arguments[1],n=arguments[2],i=arguments[0];return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[0];return o>u&&(u=o),s>u&&(u=s),a>u&&(u=a),u}},R.average=function(t,e){return(t+e)/2},P.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(R,P);var D=function(t){this.str=t};D.prototype.append=function(t){this.str+=t},D.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},D.prototype.toString=function(t){return this.str};var M=function(t){this.value=t};M.prototype.intValue=function(){return this.value},M.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},M.isNaN=function(t){return Number.isNaN(t)};var A=function(){};A.isWhitespace=function(t){return t<=32&&t>=0||127===t},A.toUpperCase=function(t){return t.toUpperCase()};var F=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length)if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0]));else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}},G={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};F.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},F.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),i=F.magnitude(n._hi),r=F.TEN.pow(i);(n=n.divide(r)).gt(F.TEN)?(n=n.divide(F.TEN),i+=1):n.lt(F.ONE)&&(n=n.multiply(F.TEN),i-=1);for(var o=i+1,s=new D,a=F.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,p=0;l>9?(c=!0,p="9"):p="0"+l,s.append(p),n=n.subtract(F.valueOf(l)).multiply(F.TEN),c&&n.selfAdd(F.TEN);var h=!0,f=F.magnitude(n._hi);if(f<0&&Math.abs(f)>=a-u&&(h=!1),!h)break}return e[0]=i,s.toString()},F.prototype.sqr=function(){return this.multiply(this)},F.prototype.doubleValue=function(){return this._hi+this._lo},F.prototype.subtract=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},F.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},F.prototype.isZero=function(){return 0===this._hi&&0===this._lo},F.prototype.selfSubtract=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},F.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},F.prototype.min=function(t){return this.le(t)?this:t},F.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,l=null,c=null,p=null;return u=this._hi/n,p=(r=(l=F.SPLIT*u)-(r=l-u))*(s=(p=F.SPLIT*n)-(s=p-n))-(c=u*n)+r*(a=n-s)+(o=u-r)*s+o*a,p=u+(l=(this._hi-c-p+this._lo-u*i)/n),this._hi=p,this._lo=u-p+l,this}},F.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},F.prototype.divide=function(){if(arguments[0]instanceof F){var t=arguments[0],e=null,n=null,i=null,r=null,o=null,s=null,a=null,u=null;return n=(o=this._hi/t._hi)-(e=(s=F.SPLIT*o)-(e=s-o)),u=e*(i=(u=F.SPLIT*t._hi)-(i=u-t._hi))-(a=o*t._hi)+e*(r=t._hi-i)+n*i+n*r,s=(this._hi-a-u+this._lo-o*t._lo)/t._hi,new F(u=o+s,o-u+s)}if("number"==typeof arguments[0]){var l=arguments[0];return v.isNaN(l)?F.createNaN():F.copy(this).selfDivide(l,0)}},F.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},F.prototype.pow=function(t){if(0===t)return F.valueOf(1);var e=new F(this),n=F.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},F.prototype.ceil=function(){if(this.isNaN())return F.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new F(t,e)},F.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},F.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},F.prototype.setValue=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},F.prototype.max=function(t){return this.ge(t)?this:t},F.prototype.sqrt=function(){if(this.isZero())return F.valueOf(0);if(this.isNegative())return F.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=F.valueOf(e),i=this.subtract(n.sqr())._hi*(.5*t);return n.add(i)},F.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,s=null,a=null;return o=(r=this._hi+e)-(s=r-this._hi),i=(a=(o=e-s+(this._hi-o))+this._lo)+(r-(n=r+a)),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],c=null,p=null,h=null,f=null,g=null,d=null,y=null;f=this._hi+u,p=this._lo+l,g=f-(d=f-this._hi),h=p-(y=p-this._lo);var _=(c=f+(d=(g=u-d+(this._hi-g))+p))+(d=(h=l-y+(this._lo-h))+(d+(f-c))),m=d+(c-_);return this._hi=_,this._lo=m,this}},F.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,l=null;r=(u=F.SPLIT*this._hi)-this._hi,l=F.SPLIT*n,r=u-r,o=this._hi-r,s=l-n;var c=(u=this._hi*n)+(l=r*(s=l-s)-u+r*(a=n-s)+o*s+o*a+(this._hi*i+this._lo*n)),p=l+(r=u-c);return this._hi=c,this._lo=p,this}},F.prototype.selfSqr=function(){return this.selfMultiply(this)},F.prototype.floor=function(){if(this.isNaN())return F.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new F(t,e)},F.prototype.negate=function(){return this.isNaN()?this:new F(-this._hi,-this._lo)},F.prototype.clone=function(){},F.prototype.multiply=function(){if(arguments[0]instanceof F){var t=arguments[0];return t.isNaN()?F.createNaN():F.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return v.isNaN(e)?F.createNaN():F.copy(this).selfMultiply(e,0)}},F.prototype.isNaN=function(){return v.isNaN(this._hi)},F.prototype.intValue=function(){return Math.trunc(this._hi)},F.prototype.toString=function(){var t=F.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},F.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;if("."===n.charAt(0))r="0"+n;else if(i<0)r="0."+F.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var o=i-n.length;r=n+F.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+r:r},F.prototype.reciprocal=function(){var t=null,e=null,n=null,i=null,r=null,o=null,s=null,a=null;e=(r=1/this._hi)-(t=(o=F.SPLIT*r)-(t=o-r)),n=(a=F.SPLIT*this._hi)-this._hi;var u=r+(o=(1-(s=r*this._hi)-(a=t*(n=a-n)-s+t*(i=this._hi-n)+e*n+e*i)-r*this._lo)/this._hi);return new F(u,r-u+o)},F.prototype.toSciNotation=function(){if(this.isZero())return F.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=F.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},F.prototype.abs=function(){return this.isNaN()?F.NaN:this.isNegative()?this.negate():new F(this)},F.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},F.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},F.prototype.add=function(){if(arguments[0]instanceof F){var t=arguments[0];return F.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return F.copy(this).selfAdd(e)}},F.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof F){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._hi=n,this._lo=i}},F.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},F.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},F.prototype.trunc=function(){return this.isNaN()?F.NaN:this.isPositive()?this.floor():this.ceil()},F.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},F.prototype.interfaces_=function(){return[e,E,x]},F.prototype.getClass=function(){return F},F.sqr=function(t){return F.valueOf(t).selfMultiply(t)},F.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return F.parse(t)}if("number"==typeof arguments[0])return new F(arguments[0])},F.sqrt=function(t){return F.valueOf(t).sqrt()},F.parse=function(t){for(var e=0,n=t.length;A.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var o=new F,s=0,a=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,A.isDigit(l)){var c=l-"0";o.selfMultiply(F.TEN),o.selfAdd(c),s++}else{if("."!==l){if("e"===l||"E"===l){var p=t.substring(e);try{u=M.parseInt(p)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+p+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}a=s}}var h=o,f=s-a-u;if(0===f)h=o;else if(f>0){var g=F.TEN.pow(f);h=o.divide(g)}else if(f<0){var d=F.TEN.pow(-f);h=o.multiply(d)}return i?h.negate():h},F.createNaN=function(){return new F(v.NaN,v.NaN)},F.copy=function(t){return new F(t)},F.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},F.stringOfChar=function(t,e){for(var n=new D,i=0;i<e;i++)n.append(t);return n.toString()},G.PI.get=function(){return new F(3.141592653589793,12246467991473532e-32)},G.TWO_PI.get=function(){return new F(6.283185307179586,24492935982947064e-32)},G.PI_2.get=function(){return new F(1.5707963267948966,6123233995736766e-32)},G.E.get=function(){return new F(2.718281828459045,14456468917292502e-32)},G.NaN.get=function(){return new F(v.NaN,v.NaN)},G.EPS.get=function(){return 123259516440783e-46},G.SPLIT.get=function(){return 134217729},G.MAX_PRINT_DIGITS.get=function(){return 32},G.TEN.get=function(){return F.valueOf(10)},G.ONE.get=function(){return F.valueOf(1)},G.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},G.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(F,G);var q=function(){},B={DP_SAFE_EPSILON:{configurable:!0}};q.prototype.interfaces_=function(){return[]},q.prototype.getClass=function(){return q},q.orientationIndex=function(t,e,n){var i=q.orientationIndexFilter(t,e,n);if(i<=1)return i;var r=F.valueOf(e.x).selfAdd(-t.x),o=F.valueOf(e.y).selfAdd(-t.y),s=F.valueOf(n.x).selfAdd(-e.x),a=F.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},q.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},q.intersection=function(t,e,n,i){var r=F.valueOf(i.y).selfSubtract(n.y).selfMultiply(F.valueOf(e.x).selfSubtract(t.x)),o=F.valueOf(i.x).selfSubtract(n.x).selfMultiply(F.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=F.valueOf(i.x).selfSubtract(n.x).selfMultiply(F.valueOf(t.y).selfSubtract(n.y)),u=F.valueOf(i.y).selfSubtract(n.y).selfMultiply(F.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u).selfDivide(s).doubleValue(),c=F.valueOf(t.x).selfAdd(F.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),p=F.valueOf(e.x).selfSubtract(t.x).selfMultiply(F.valueOf(t.y).selfSubtract(n.y)),h=F.valueOf(e.y).selfSubtract(t.y).selfMultiply(F.valueOf(t.x).selfSubtract(n.x)),f=p.subtract(h).selfDivide(s).doubleValue(),g=F.valueOf(n.y).selfAdd(F.valueOf(i.y).selfSubtract(n.y).selfMultiply(f)).doubleValue();return new C(c,g)},q.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=r-o;if(r>0){if(o<=0)return q.signum(s);i=r+o}else{if(!(r<0))return q.signum(s);if(o>=0)return q.signum(s);i=-r-o}var a=q.DP_SAFE_EPSILON*i;return s>=a||-s>=a?q.signum(s):2},q.signum=function(t){return t>0?1:t<0?-1:0},B.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(q,B);var V=function(){},U={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};U.X.get=function(){return 0},U.Y.get=function(){return 1},U.Z.get=function(){return 2},U.M.get=function(){return 3},V.prototype.setOrdinate=function(t,e,n){},V.prototype.size=function(){},V.prototype.getOrdinate=function(t,e){},V.prototype.getCoordinate=function(){},V.prototype.getCoordinateCopy=function(t){},V.prototype.getDimension=function(){},V.prototype.getX=function(t){},V.prototype.clone=function(){},V.prototype.expandEnvelope=function(t){},V.prototype.copy=function(){},V.prototype.getY=function(t){},V.prototype.toCoordinateArray=function(){},V.prototype.interfaces_=function(){return[x]},V.prototype.getClass=function(){return V},Object.defineProperties(V,U);var z=function(){},X=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(z),Y=function(){};Y.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;s<e+r;s++)n[i+o]=t[s],o++},Y.getProperty=function(t){return{"line.separator":"\n"}[t]};var k=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],o=arguments[1];this.x=r.y*o.w-o.y*r.w,this.y=o.x*r.w-r.x*o.w,this.w=r.x*o.y-o.x*r.y}else if(arguments[0]instanceof C&&arguments[1]instanceof C){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var p=arguments[0],h=arguments[1],f=arguments[2],g=arguments[3],d=p.y-h.y,y=h.x-p.x,_=p.x*h.y-h.x*p.y,m=f.y-g.y,v=g.x-f.x,I=f.x*g.y-g.x*f.y;this.x=y*I-v*_,this.y=m*_-d*I,this.w=d*v-m*y}};k.prototype.getY=function(){var t=this.y/this.w;if(v.isNaN(t)||v.isInfinite(t))throw new X;return t},k.prototype.getX=function(){var t=this.x/this.w;if(v.isNaN(t)||v.isInfinite(t))throw new X;return t},k.prototype.getCoordinate=function(){var t=new C;return t.x=this.getX(),t.y=this.getY(),t},k.prototype.interfaces_=function(){return[]},k.prototype.getClass=function(){return k},k.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-i.y,u=i.x-n.x,l=n.x*i.y-i.x*n.y,c=r*u-a*o,p=(o*l-u*s)/c,h=(a*s-r*l)/c;if(v.isNaN(p)||v.isInfinite(p)||v.isNaN(h)||v.isInfinite(h))throw new X;return new C(p,h)};var j=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof C){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},H={serialVersionUID:{configurable:!0}};j.prototype.getArea=function(){return this.getWidth()*this.getHeight()},j.prototype.equals=function(t){if(!(t instanceof j))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},j.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new j;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,r=this._maxy<t._maxy?this._maxy:t._maxy;return new j(e,i,n,r)},j.prototype.isNull=function(){return this._maxx<this._minx},j.prototype.getMaxX=function(){return this._maxx},j.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof j){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy}},j.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof C){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}},j.prototype.getMinY=function(){return this._miny},j.prototype.getMinX=function(){return this._minx},j.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof j){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},j.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},j.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},j.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},j.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},j.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},j.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},j.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},j.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},j.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},j.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof C){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},j.prototype.centre=function(){return this.isNull()?null:new C((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},j.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof j){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];r<o?(this._minx=r,this._maxx=o):(this._minx=o,this._maxx=r),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},j.prototype.getMaxY=function(){return this._maxy},j.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},j.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+C.hashCode(this._minx))+C.hashCode(this._maxx))+C.hashCode(this._miny))+C.hashCode(this._maxy)},j.prototype.interfaces_=function(){return[E,e]},j.prototype.getClass=function(){return j},j.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(l>u||c<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(i.y,r.y),c=Math.max(i.y,r.y),l>u||c<a))}},H.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(j,H);var W={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},K=function(t){this.geometryFactory=t||new _e};K.prototype.read=function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=W.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=W.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],Q[n]&&(e=Q[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},K.prototype.write=function(t){return this.extractGeometry(t)},K.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!J[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+J[e].apply(this,[t])+")"};var J={coordinate:function(t){return t.x+" "+t.y},point:function(t){return J.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+J.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(J.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(J.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+J.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+J.linestring.apply(this,[t._shell])+")");for(var n=0,i=t._holes.length;n<i;++n)e.push("("+J.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+J.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Q={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(W.spaces);return this.geometryFactory.createPoint(new C(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(W.trimParens,"$1"),i.push(Q.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(W.spaces),i.push(new C(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(W.spaces),i.push(new C(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(W.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(W.trimParens,"$1"),i.push(Q.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(W.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(W.trimParens,"$1"),n=Q.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n._points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(W.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(W.trimParens,"$1"),i.push(Q.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}},Z=function(t){this.parser=new K(t)};Z.prototype.write=function(t){return this.parser.write(t)},Z.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var $=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),tt=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}($),et=function(){};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.shouldNeverReachHere=function(){if(0===arguments.length)et.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new tt("Should never reach here"+(null!==t?": "+t:""))}},et.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],et.isTrue(t,null);else if(2===arguments.length&&(e=arguments[1],!(t=arguments[0])))throw null===e?new tt:new tt(e)},et.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],et.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],n=arguments[2],!(e=arguments[1]).equals(t)))throw new tt("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var nt=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new C,this._intPt[1]=new C,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},it={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};nt.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},nt.prototype.getTopologySummary=function(){var t=new D;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},nt.prototype.computeIntersection=function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},nt.prototype.getIntersectionNum=function(){return this._result},nt.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},nt.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},nt.prototype.setPrecisionModel=function(t){this._precisionModel=t},nt.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},nt.prototype.getIntersection=function(t){return this._intPt[t]},nt.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},nt.prototype.hasIntersection=function(){return this._result!==nt.NO_INTERSECTION},nt.prototype.getEdgeDistance=function(t,e){return nt.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},nt.prototype.isCollinear=function(){return this._result===nt.COLLINEAR_INTERSECTION},nt.prototype.toString=function(){return Z.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Z.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},nt.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},nt.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},nt.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt},nt.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=i>r?s:a)||t.equals(e)||(o=Math.max(s,a))}return et.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},nt.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return et.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},it.DONT_INTERSECT.get=function(){return 0},it.DO_INTERSECT.get=function(){return 1},it.COLLINEAR.get=function(){return 2},it.NO_INTERSECTION.get=function(){return 0},it.POINT_INTERSECTION.get=function(){return 1},it.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(nt,it);var rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new j(this._inputLines[0][0],this._inputLines[0][1]),n=new j(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2];if(this._isProper=!1,j.intersects(n,i,e)&&0===at.orientationIndex(n,i,e)&&0===at.orientationIndex(i,n,e))return this._isProper=!0,(e.equals(n)||e.equals(i))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.safeHCoordinateIntersection=function(t,n,i,r){var o=null;try{o=k.intersection(t,n,i,r)}catch(s){if(!(s instanceof X))throw s;o=e.nearestEndpoint(t,n,i,r)}return o},e.prototype.intersection=function(t,n,i,r){var o=this.intersectionWithNormalization(t,n,i,r);return this.isInSegmentEnvelopes(o)||(o=new C(e.nearestEndpoint(t,n,i,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},e.prototype.checkDD=function(t,e,n,i,r){var o=q.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);Y.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&Y.out.println("Distance = "+r.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,i){var r=new C(t),o=new C(e),s=new C(n),a=new C(i),u=new C;this.normalizeToEnvCentre(r,o,s,a,u);var l=this.safeHCoordinateIntersection(r,o,s,a);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,i,r){var o=j.intersects(e,n,i),s=j.intersects(e,n,r),a=j.intersects(i,r,e),u=j.intersects(i,r,n);return o&&s?(this._intPt[0]=i,this._intPt[1]=r,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,p=n.x>i.x?n.x:i.x,h=n.y>i.y?n.y:i.y,f=((o>l?o:l)+(a<p?a:p))/2,g=((s>c?s:c)+(u<h?u:h))/2;r.x=f,r.y=g,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.computeIntersect=function(e,n,i,r){if(this._isProper=!1,!j.intersects(e,n,i,r))return t.NO_INTERSECTION;var o=at.orientationIndex(e,n,i),s=at.orientationIndex(e,n,r);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=at.orientationIndex(i,r,e),u=at.orientationIndex(i,r,n);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,i,r):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(i)||e.equals2D(r)?this._intPt[0]=e:n.equals2D(i)||n.equals2D(r)?this._intPt[0]=n:0===o?this._intPt[0]=new C(i):0===s?this._intPt[0]=new C(r):0===a?this._intPt[0]=new C(e):0===u&&(this._intPt[0]=new C(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,i,r)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,i){var r=t,o=at.distancePointLine(t,n,i),s=at.distancePointLine(e,n,i);return s<o&&(o=s,r=e),(s=at.distancePointLine(n,t,e))<o&&(o=s,r=n),(s=at.distancePointLine(i,t,e))<o&&(o=s,r=i),r},e}(nt),ot=function(){};ot.prototype.interfaces_=function(){return[]},ot.prototype.getClass=function(){return ot},ot.orientationIndex=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ot.signOfDet2x2(i,r,o,s)},ot.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(e>0?i>0?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):e<=-i?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):i>0?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),t>0){if(!(n>0))return r;if(!(t<=n))return r}else{if(n>0)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if((i-=(s=Math.floor(n/t))*e)<0)return-r;if(i>e)return r;if(t>(n-=s*t)+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if((e-=(s=Math.floor(t/n))*i)<0)return r;if(e>i)return-r;if(n>(t-=s*n)+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}};var st=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};st.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=ot.signOfDet2x2(r,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},st.prototype.isPointInPolygon=function(){return this.getLocation()!==w.EXTERIOR},st.prototype.getLocation=function(){return this._isPointOnSegment?w.BOUNDARY:this._crossingCount%2==1?w.INTERIOR:w.EXTERIOR},st.prototype.isOnSegment=function(){return this._isPointOnSegment},st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.locatePointInRing=function(){if(arguments[0]instanceof C&&T(arguments[1],V)){for(var e=arguments[1],n=new st(arguments[0]),i=new C,r=new C,o=1;o<e.size();o++)if(e.getCoordinate(o,i),e.getCoordinate(o-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof C&&arguments[1]instanceof Array){for(var a=arguments[1],u=new st(arguments[0]),l=1;l<a.length;l++){var c=a[l],p=a[l-1];if(u.countSegment(c,p),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var at=function(){},ut={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.orientationIndex=function(t,e,n){return q.orientationIndex(t,e,n)},at.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y;e+=r*(t[i-1].y-o)}return e/2}if(T(arguments[0],V)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new C,l=new C,c=new C;s.getCoordinate(0,l),s.getCoordinate(1,c);var p=l.x;c.x-=p;for(var h=0,f=1;f<a-1;f++)u.y=l.y,l.x=c.x,l.y=c.y,s.getCoordinate(f+1,c),c.x-=p,h+=l.x*(u.y-c.y);return h/2}},at.distanceLineLine=function(t,e,n,i){if(t.equals(e))return at.distancePointLine(t,n,i);if(n.equals(i))return at.distancePointLine(i,t,e);var r=!1;if(j.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var s=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(r=!0)}}else r=!0;return r?R.min(at.distancePointLine(t,n,i),at.distancePointLine(e,n,i),at.distancePointLine(n,t,e),at.distancePointLine(i,t,e)):0},at.isPointInRing=function(t,e){return at.locatePointInRing(t,e)!==w.EXTERIOR},at.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new C;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,u=i.y,l=a-r,c=u-o;n+=Math.sqrt(l*l+c*c),r=a,o=u}return n},at.isCCW=function(t){var e=t.length-1;if(e<3)throw new m("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,r=1;r<=e;r++){var o=t[r];o.y>n.y&&(n=o,i=r)}var s=i;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==i);var a=i;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==i);var u=t[s],l=t[a];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=at.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},at.locatePointInRing=function(t,e){return st.locatePointInRing(t,e)},at.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},at.computeOrientation=function(t,e,n){return at.orientationIndex(t,e,n)},at.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new m("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var r=at.distancePointLine(t,e[i],e[i+1]);r<n&&(n=r)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(l<=0)return o.distance(s);if(l>=1)return o.distance(a);var c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(c)*Math.sqrt(u)}},at.isOnLine=function(t,e){for(var n=new rt,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},ut.CLOCKWISE.get=function(){return-1},ut.RIGHT.get=function(){return at.CLOCKWISE},ut.COUNTERCLOCKWISE.get=function(){return 1},ut.LEFT.get=function(){return at.COUNTERCLOCKWISE},ut.COLLINEAR.get=function(){return 0},ut.STRAIGHT.get=function(){return at.COLLINEAR},Object.defineProperties(at,ut);var lt=function(){};lt.prototype.filter=function(t){},lt.prototype.interfaces_=function(){return[]},lt.prototype.getClass=function(){return lt};var ct=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},pt={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ct.prototype.isGeometryCollection=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION},ct.prototype.getFactory=function(){return this._factory},ct.prototype.getGeometryN=function(t){return this},ct.prototype.getArea=function(){return 0},ct.prototype.isRectangle=function(){return!1},ct.prototype.equals=function(){if(arguments[0]instanceof ct){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof ct))return!1;var n=e;return this.equalsExact(n)}},ct.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},ct.prototype.geometryChanged=function(){this.apply(ct.geometryChangedFilter)},ct.prototype.geometryChangedAction=function(){this._envelope=null},ct.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},ct.prototype.getLength=function(){return 0},ct.prototype.getNumGeometries=function(){return 1},ct.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,i)}},ct.prototype.getUserData=function(){return this._userData},ct.prototype.getSRID=function(){return this._SRID},ct.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ct.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION)throw new m("This method does not support GeometryCollection arguments")},ct.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},ct.prototype.norm=function(){var t=this.copy();return t.normalize(),t},ct.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ct.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new j(this._envelope)},ct.prototype.setSRID=function(t){this._SRID=t},ct.prototype.setUserData=function(t){this._userData=t},ct.prototype.compare=function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},ct.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ct.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ct.SORTINDEX_MULTIPOINT||this.getSortIndex()===ct.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ct.SORTINDEX_MULTIPOLYGON},ct.prototype.interfaces_=function(){return[x,E,e]},ct.prototype.getClass=function(){return ct},ct.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},ct.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},pt.serialVersionUID.get=function(){return 0x799ea46522854c00},pt.SORTINDEX_POINT.get=function(){return 0},pt.SORTINDEX_MULTIPOINT.get=function(){return 1},pt.SORTINDEX_LINESTRING.get=function(){return 2},pt.SORTINDEX_LINEARRING.get=function(){return 3},pt.SORTINDEX_MULTILINESTRING.get=function(){return 4},pt.SORTINDEX_POLYGON.get=function(){return 5},pt.SORTINDEX_MULTIPOLYGON.get=function(){return 6},pt.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},pt.geometryChangedFilter.get=function(){return ht},Object.defineProperties(ct,pt);var ht=function(){};ht.interfaces_=function(){return[lt]},ht.filter=function(t){t.geometryChangedAction()};var ft=function(){};ft.prototype.filter=function(t){},ft.prototype.interfaces_=function(){return[]},ft.prototype.getClass=function(){return ft};var gt=function(){},dt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};gt.prototype.isInBoundary=function(t){},gt.prototype.interfaces_=function(){return[]},gt.prototype.getClass=function(){return gt},dt.Mod2BoundaryNodeRule.get=function(){return yt},dt.EndPointBoundaryNodeRule.get=function(){return _t},dt.MultiValentEndPointBoundaryNodeRule.get=function(){return mt},dt.MonoValentEndPointBoundaryNodeRule.get=function(){return vt},dt.MOD2_BOUNDARY_RULE.get=function(){return new yt},dt.ENDPOINT_BOUNDARY_RULE.get=function(){return new _t},dt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new mt},dt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vt},dt.OGC_SFS_BOUNDARY_RULE.get=function(){return gt.MOD2_BOUNDARY_RULE},Object.defineProperties(gt,dt);var yt=function(){};yt.prototype.isInBoundary=function(t){return t%2==1},yt.prototype.interfaces_=function(){return[gt]},yt.prototype.getClass=function(){return yt};var _t=function(){};_t.prototype.isInBoundary=function(t){return t>0},_t.prototype.interfaces_=function(){return[gt]},_t.prototype.getClass=function(){return _t};var mt=function(){};mt.prototype.isInBoundary=function(t){return t>1},mt.prototype.interfaces_=function(){return[gt]},mt.prototype.getClass=function(){return mt};var vt=function(){};vt.prototype.isInBoundary=function(t){return 1===t},vt.prototype.interfaces_=function(){return[gt]},vt.prototype.getClass=function(){return vt};var It=function(){};It.prototype.add=function(){},It.prototype.addAll=function(){},It.prototype.isEmpty=function(){},It.prototype.iterator=function(){},It.prototype.size=function(){},It.prototype.toArray=function(){},It.prototype.remove=function(){},(n.prototype=new Error).name="IndexOutOfBoundsException";var Et=function(){};Et.prototype.hasNext=function(){},Et.prototype.next=function(){},Et.prototype.remove=function(){};var xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(It);(i.prototype=new Error).name="NoSuchElementException";var Nt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof It&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,It]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new Ct(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new n;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(xt),Ct=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new i;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Et),St=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.ensureCapacity(n.length),this.add(n,i)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var n=arguments[1],i=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),n),i=!0;return i}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],i=arguments[1];return this.add(n,i,!0),!0}if(arguments[0]instanceof C&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;t.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],u=arguments[1];if(arguments[2])for(var l=0;l<a.length;l++)this.add(a[l],u);else for(var c=a.length-1;c>=0;c--)this.add(a[c],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof C){var p=arguments[0],h=arguments[1];if(!arguments[2]){var f=this.size();if(f>0){if(p>0&&this.get(p-1).equals2D(h))return null;if(p<f&&this.get(p).equals2D(h))return null}}t.prototype.add.call(this,p,h)}}else if(4===arguments.length){var g=arguments[0],d=arguments[1],y=arguments[2],_=arguments[3],m=1;y>_&&(m=-1);for(var v=y;v!==_;v+=m)this.add(g[v],d);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new C(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(Nt),Lt=function(){},bt={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};bt.ForwardComparator.get=function(){return wt},bt.BidirectionalComparator.get=function(){return Ot},bt.coordArrayType.get=function(){return new Array(0).fill(null)},Lt.prototype.interfaces_=function(){return[]},Lt.prototype.getClass=function(){return Lt},Lt.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Lt.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(Lt.indexOf(i,e)<0)return i}return null},Lt.scroll=function(t,e){var n=Lt.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);Y.arraycopy(t,n,i,0,t.length-n),Y.arraycopy(t,0,i,t.length-n,n),Y.arraycopy(i,0,t,0,t.length)},Lt.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++)if(0!==o.compare(i[s],r[s]))return!1;return!0}},Lt.intersection=function(t,e){for(var n=new St,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},Lt.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Lt.removeRepeatedPoints=function(t){return Lt.hasRepeatedPoints(t)?new St(t,!1).toCoordinateArray():t},Lt.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},Lt.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,o=0;o<t.length;o++)null!==t[o]&&(i[r++]=t[o]);return i},Lt.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new C(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new C(i[r+u])},Lt.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},Lt.envelope=function(t){for(var e=new j,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Lt.toCoordinateArray=function(t){return t.toArray(Lt.coordArrayType)},Lt.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Lt.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Lt.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},Lt.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},Lt.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Lt.extract=function(t,e,n){e=R.clamp(e,0,t.length);var i=(n=R.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;s<=n;s++)r[o++]=t[s];return r},Object.defineProperties(Lt,bt);var wt=function(){};wt.prototype.compare=function(t,e){return Lt.compare(t,e)},wt.prototype.interfaces_=function(){return[N]},wt.prototype.getClass=function(){return wt};var Ot=function(){};Ot.prototype.compare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=Lt.compare(n,i);return Lt.isEqualReversed(n,i)?0:r},Ot.prototype.OLDcompare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=Lt.increasingDirection(n),o=Lt.increasingDirection(i),s=r>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(i[a]);if(0!==l)return l;s+=r,a+=o}return 0},Ot.prototype.interfaces_=function(){return[N]},Ot.prototype.getClass=function(){return Ot};var Tt=function(){};Tt.prototype.get=function(){},Tt.prototype.put=function(){},Tt.prototype.size=function(){},Tt.prototype.values=function(){},Tt.prototype.entrySet=function(){};var Rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Tt);(r.prototype=new Error).name="OperationNotSupported",(o.prototype=new It).contains=function(){};var Pt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof It&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Dt(this)},e}(o),Dt=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new i;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new r},e}(Et),Mt=0;(p.prototype=new Rt).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},p.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Mt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:Mt,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},p.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(a(t)===l(a(a(t)))){var e=c(a(a(t)));1===s(e)?(u(a(t),Mt),u(e,Mt),u(a(a(t)),1),t=a(a(t))):(t===c(a(t))&&(t=a(t),this.rotateLeft(t)),u(a(t),Mt),u(a(a(t)),1),this.rotateRight(a(a(t))))}else{var n=l(a(a(t)));1===s(n)?(u(a(t),Mt),u(n,Mt),u(a(a(t)),1),t=a(a(t))):(t===l(a(t))&&(t=a(t),this.rotateRight(t)),u(a(t),Mt),u(a(a(t)),1),this.rotateLeft(a(a(t))))}this.root_.color=Mt},p.prototype.values=function(){var t=new Nt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=p.successor(e));)t.add(e.value);return t},p.prototype.entrySet=function(){var t=new Pt,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=p.successor(e));)t.add(e);return t},p.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},p.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},p.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},p.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,i=t;null!==n&&i===n.right;)i=n,n=n.parent;return n},p.prototype.size=function(){return this.size_};var At=function(){};At.prototype.interfaces_=function(){return[]},At.prototype.getClass=function(){return At},h.prototype=new o,(f.prototype=new h).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},f.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},f.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},f.prototype.remove=function(t){throw new r},f.prototype.size=function(){return this.array_.length},f.prototype.isEmpty=function(){return 0===this.array_.length},f.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},f.prototype.iterator=function(){return new Ft(this)};var Ft=function(t){this.treeSet_=t,this.position_=0};Ft.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new i;return this.treeSet_.array_[this.position_++]},Ft.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Ft.prototype.remove=function(){throw new r};var Gt=function(){};Gt.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)i=function(t,e){return t.compareTo(e)},r.sort(i);else if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])},Gt.asList=function(t){for(var e=new Nt,n=0,i=t.length;n<i;n++)e.add(t[n]);return e};var qt=function(){},Bt={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Bt.P.get=function(){return 0},Bt.L.get=function(){return 1},Bt.A.get=function(){return 2},Bt.FALSE.get=function(){return-1},Bt.TRUE.get=function(){return-2},Bt.DONTCARE.get=function(){return-3},Bt.SYM_FALSE.get=function(){return"F"},Bt.SYM_TRUE.get=function(){return"T"},Bt.SYM_DONTCARE.get=function(){return"*"},Bt.SYM_P.get=function(){return"0"},Bt.SYM_L.get=function(){return"1"},Bt.SYM_A.get=function(){return"2"},qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt},qt.toDimensionSymbol=function(t){switch(t){case qt.FALSE:return qt.SYM_FALSE;case qt.TRUE:return qt.SYM_TRUE;case qt.DONTCARE:return qt.SYM_DONTCARE;case qt.P:return qt.SYM_P;case qt.L:return qt.SYM_L;case qt.A:return qt.SYM_A}throw new m("Unknown dimension value: "+t)},qt.toDimensionValue=function(t){switch(A.toUpperCase(t)){case qt.SYM_FALSE:return qt.FALSE;case qt.SYM_TRUE:return qt.TRUE;case qt.SYM_DONTCARE:return qt.DONTCARE;case qt.SYM_P:return qt.P;case qt.SYM_L:return qt.L;case qt.SYM_A:return qt.A}throw new m("Unknown dimension symbol: "+t)},Object.defineProperties(qt,Bt);var Vt=function(){};Vt.prototype.filter=function(t){},Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt};var Ut=function(){};Ut.prototype.filter=function(t,e){},Ut.prototype.isDone=function(){},Ut.prototype.isGeometryChanged=function(){},Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut};var zt=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new m("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new j,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._geometries.length!==i._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(i._geometries[r],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Gt.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=qt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=qt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new f(Gt.asList(this._geometries)),n=new f(Gt.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[1],o=arguments[0],s=this.getNumGeometries(),a=o.getNumGeometries(),u=0;u<s&&u<a;){var l=this.getGeometryN(u),c=o.getGeometryN(u),p=l.compareToSameClass(c,r);if(0!==p)return p;u++}return u<s?1:u<a?-1:0}},e.prototype.apply=function(){if(T(arguments[0],ft))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(T(arguments[0],Ut)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(T(arguments[0],Vt)){var r=arguments[0];r.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(r)}else if(T(arguments[0],lt)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),et.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(ct),Xt=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?qt.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Yt(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[At]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(zt),Yt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=gt.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=i}};Yt.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Yt.prototype.getBoundary=function(){return this._geom instanceof Kt?this.boundaryLineString(this._geom):this._geom instanceof Xt?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Yt.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Yt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Yt.prototype.computeBoundaryCoordinates=function(t){var e=new Nt;this._endpointMap=new p;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return Lt.toCoordinateArray(e)},Yt.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new kt,this._endpointMap.put(t,e)),e.count++},Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt},Yt.getBoundary=function(){return 1===arguments.length?new Yt(arguments[0]).getBoundary():2===arguments.length?new Yt(arguments[0],arguments[1]).getBoundary():void 0};var kt=function(){this.count=null};kt.prototype.interfaces_=function(){return[]},kt.prototype.getClass=function(){return kt};var jt=function(){},Ht={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt},jt.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return String(n)},jt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o="",s=new function(){}(new function(){}(jt.getStackTrace(i))),a=0;a<r;a++)try{o+=s.readLine()+jt.NEWLINE}catch(t){if(!(t instanceof g))throw t;et.shouldNeverReachHere()}return o}},jt.split=function(t,e){for(var n=e.length,i=new Nt,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);i.add(s),o=(r=r.substring(o+n)).indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},jt.toString=function(){if(1===arguments.length){var t=arguments[0];return jt.SIMPLE_ORDINATE_FORMAT.format(t)}},jt.spaces=function(t){return jt.chars(" ",t)},Ht.NEWLINE.get=function(){return Y.getProperty("line.separator")},Ht.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(jt,Ht);var Wt=function(){};Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt},Wt.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},Wt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,V.X)===t.getOrdinate(e-1,V.X)&&t.getOrdinate(0,V.Y)===t.getOrdinate(e-1,V.Y)},Wt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var s=t.getOrdinate(r,o),a=e.getOrdinate(r,o);if(!(t.getOrdinate(r,o)===e.getOrdinate(r,o)||v.isNaN(s)&&v.isNaN(a)))return!1}return!0},Wt.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(Wt.copy(e,0,i,0,r),r>0)for(var o=r;o<n;o++)Wt.copy(e,r-1,i,o,1);return i},Wt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)Wt.swap(t,i,e-i)},Wt.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},Wt.copy=function(t,e,n,i,r){for(var o=0;o<r;o++)Wt.copyCoord(t,e+o,n,i+o)},Wt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new D;i.append("(");for(var r=0;r<e;r++){r>0&&i.append(" ");for(var o=0;o<n;o++)o>0&&i.append(","),i.append(jt.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},Wt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Wt.createClosedRing(t,e,4):e.getOrdinate(0,V.X)===e.getOrdinate(n-1,V.X)&&e.getOrdinate(0,V.Y)===e.getOrdinate(n-1,V.Y)?e:Wt.createClosedRing(t,e,n+1)},Wt.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();Wt.copy(e,0,i,0,r);for(var o=r;o<n;o++)Wt.copy(e,0,i,o,1);return i};var Kt=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new j:this._points.expandEnvelope(new j)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._points.size()!==i._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),i._points.getCoordinate(r),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Wt.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?qt.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return at.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Wt.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var i=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}},e.prototype.apply=function(){if(T(arguments[0],ft))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(T(arguments[0],Ut)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else(T(arguments[0],Vt)||T(arguments[0],lt))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Yt(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new m("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[At]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(ct),Jt=function(){};Jt.prototype.interfaces_=function(){return[]},Jt.prototype.getClass=function(){return Jt};var Qt=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new j;var t=new j;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return qt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(T(arguments[0],ft)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(T(arguments[0],Ut)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(T(arguments[0],Vt)||T(arguments[0],lt))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),et.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Jt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(ct),Zt=function(){};Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt};var $t=function(t){function e(e,n,i){if(t.call(this,i),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new m("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new m("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(at.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(at.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),l=t.getY(a);if(u!==o==(l!==s))return!1;o=u,s=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e,r=this._shell,o=i._shell;if(!r.equalsExact(o,n))return!1;if(this._holes.length!==i._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(i._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Gt.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);Y.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=Lt.minCoordinate(e.getCoordinates());Lt.scroll(i,r),Y.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],at.isCCW(e.getCoordinates())===n&&Lt.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[1],o=arguments[0],s=this._shell,a=o._shell,u=s.compareToSameClass(a,r);if(0!==u)return u;for(var l=this.getNumInteriorRing(),c=o.getNumInteriorRing(),p=0;p<l&&p<c;){var h=this.getInteriorRingN(p),f=o.getInteriorRingN(p),g=h.compareToSameClass(f,r);if(0!==g)return g;p++}return p<l?1:p<c?-1:0}},e.prototype.apply=function(t){if(T(t,ft)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(T(t,Ut)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(T(t,Vt))t.filter(this);else if(T(t,lt)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)this._holes[i].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),i=0;i<n.length;i++)n[i]=this._holes[i].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(ct),te=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return qt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Jt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(zt),ee=function(t){function e(e,n){e instanceof C&&n instanceof _e&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return qt.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Wt.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new m("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new m("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Kt),ne=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Nt,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(zt),ie=function(t){this._factory=t||null,this._isUserDataCopied=!1},re={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};ie.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},ie.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},ie.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof zt?this.editGeometryCollection(t,e):t instanceof $t?this.editPolygon(t,e):t instanceof Qt||t instanceof Kt?e.edit(t,this._factory):(et.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},ie.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),i=new Nt,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===te?this._factory.createMultiPoint(i.toArray([])):n.getClass()===Xt?this._factory.createMultiLineString(i.toArray([])):n.getClass()===ne?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},ie.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var r=new Nt,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this._factory.createPolygon(i,r.toArray([]))},ie.prototype.interfaces_=function(){return[]},ie.prototype.getClass=function(){return ie},ie.GeometryEditorOperation=function(){},re.NoOpGeometryOperation.get=function(){return oe},re.CoordinateOperation.get=function(){return se},re.CoordinateSequenceOperation.get=function(){return ae},Object.defineProperties(ie,re);var oe=function(){};oe.prototype.edit=function(t,e){return t},oe.prototype.interfaces_=function(){return[ie.GeometryEditorOperation]},oe.prototype.getClass=function(){return oe};var se=function(){};se.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof ee?e.createLinearRing(n):t instanceof Kt?e.createLineString(n):t instanceof Qt?n.length>0?e.createPoint(n[0]):e.createPoint():t},se.prototype.interfaces_=function(){return[ie.GeometryEditorOperation]},se.prototype.getClass=function(){return se};var ae=function(){};ae.prototype.edit=function(t,e){return t instanceof ee?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Kt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Qt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ae.prototype.interfaces_=function(){return[ie.GeometryEditorOperation]},ae.prototype.getClass=function(){return ae};var ue=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new C}else if(T(arguments[0],V)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)this._coordinates[i]=n.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this._coordinates=r,this._dimension=o,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var u=0;u<s;u++)this._coordinates[u]=new C}},le={serialVersionUID:{configurable:!0}};ue.prototype.setOrdinate=function(t,e,n){switch(e){case V.X:this._coordinates[t].x=n;break;case V.Y:this._coordinates[t].y=n;break;case V.Z:this._coordinates[t].z=n;break;default:throw new m("invalid ordinateIndex")}},ue.prototype.size=function(){return this._coordinates.length},ue.prototype.getOrdinate=function(t,e){switch(e){case V.X:return this._coordinates[t].x;case V.Y:return this._coordinates[t].y;case V.Z:return this._coordinates[t].z}return v.NaN},ue.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},ue.prototype.getCoordinateCopy=function(t){return new C(this._coordinates[t])},ue.prototype.getDimension=function(){return this._dimension},ue.prototype.getX=function(t){return this._coordinates[t].x},ue.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new ue(t,this._dimension)},ue.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},ue.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new ue(t,this._dimension)},ue.prototype.toString=function(){if(this._coordinates.length>0){var t=new D(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},ue.prototype.getY=function(t){return this._coordinates[t].y},ue.prototype.toCoordinateArray=function(){return this._coordinates},ue.prototype.interfaces_=function(){return[V,e]},ue.prototype.getClass=function(){return ue},le.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ue,le);var ce=function(){},pe={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ce.prototype.readResolve=function(){return ce.instance()},ce.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new ue(arguments[0]);if(T(arguments[0],V))return new ue(arguments[0])}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new ue(n):new ue(n,i)}},ce.prototype.interfaces_=function(){return[b,e]},ce.prototype.getClass=function(){return ce},ce.instance=function(){return ce.instanceObject},pe.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},pe.instanceObject.get=function(){return new ce},Object.defineProperties(ce,pe);var he=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Nt,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Pt;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(Tt),fe=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof de){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}},ge={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};fe.prototype.equals=function(t){if(!(t instanceof fe))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},fe.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new M(n).compareTo(new M(i))},fe.prototype.getScale=function(){return this._scale},fe.prototype.isFloating=function(){return this._modelType===fe.FLOATING||this._modelType===fe.FLOATING_SINGLE},fe.prototype.getType=function(){return this._modelType},fe.prototype.toString=function(){var t="UNKNOWN";return this._modelType===fe.FLOATING?t="Floating":this._modelType===fe.FLOATING_SINGLE?t="Floating-Single":this._modelType===fe.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},fe.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return v.isNaN(t)||this._modelType===fe.FLOATING_SINGLE?t:this._modelType===fe.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof C){var e=arguments[0];if(this._modelType===fe.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},fe.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===fe.FLOATING?t=16:this._modelType===fe.FLOATING_SINGLE?t=6:this._modelType===fe.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},fe.prototype.setScale=function(t){this._scale=Math.abs(t)},fe.prototype.interfaces_=function(){return[e,E]},fe.prototype.getClass=function(){return fe},fe.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},ge.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},ge.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(fe,ge);var de=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},ye={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};de.prototype.readResolve=function(){return de.nameToTypeMap.get(this._name)},de.prototype.toString=function(){return this._name},de.prototype.interfaces_=function(){return[e]},de.prototype.getClass=function(){return de},ye.serialVersionUID.get=function(){return-552860263173159e4},ye.nameToTypeMap.get=function(){return new he},Object.defineProperties(de,ye),fe.Type=de,fe.FIXED=new de("FIXED"),fe.FLOATING=new de("FLOATING"),fe.FLOATING_SINGLE=new de("FLOATING SINGLE");var _e=function t(){this._precisionModel=new fe,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?T(arguments[0],b)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof fe&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},me={serialVersionUID:{configurable:!0}};_e.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new C(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new C(t.getMinX(),t.getMinY()),new C(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new C(t.getMinX(),t.getMinY()),new C(t.getMinX(),t.getMaxY()),new C(t.getMaxX(),t.getMaxY()),new C(t.getMaxX(),t.getMinY()),new C(t.getMinX(),t.getMinY())]),null)},_e.prototype.createLineString=function(t){return t?t instanceof Array?new Kt(this.getCoordinateSequenceFactory().create(t),this):T(t,V)?new Kt(t,this):void 0:new Kt(this.getCoordinateSequenceFactory().create([]),this)},_e.prototype.createMultiLineString=function(){return 0===arguments.length?new Xt(null,this):1===arguments.length?new Xt(arguments[0],this):void 0},_e.prototype.buildGeometry=function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(_e.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof $t)return this.createMultiPolygon(_e.toPolygonArray(t));if(a instanceof Kt)return this.createMultiLineString(_e.toLineStringArray(t));if(a instanceof Qt)return this.createMultiPoint(_e.toPointArray(t));et.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},_e.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},_e.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(T(arguments[0],V))return new Qt(arguments[0],this)}},_e.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},_e.prototype.createPolygon=function(){if(0===arguments.length)return new $t(null,null,this);if(1===arguments.length){if(T(arguments[0],V)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof ee){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new $t(arguments[0],arguments[1],this)},_e.prototype.getSRID=function(){return this._SRID},_e.prototype.createGeometryCollection=function(){return 0===arguments.length?new zt(null,this):1===arguments.length?new zt(arguments[0],this):void 0},_e.prototype.createGeometry=function(t){return new ie(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},_e.prototype.getPrecisionModel=function(){return this._precisionModel},_e.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(T(arguments[0],V))return new ee(arguments[0],this)}},_e.prototype.createMultiPolygon=function(){return 0===arguments.length?new ne(null,this):1===arguments.length?new ne(arguments[0],this):void 0},_e.prototype.createMultiPoint=function(){if(0===arguments.length)return new te(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new te(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(T(arguments[0],V)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),r=0;r<n.size();r++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Wt.copy(n,r,o,0,1),i[r]=this.createPoint(o)}return this.createMultiPoint(i)}}},_e.prototype.interfaces_=function(){return[e]},_e.prototype.getClass=function(){return _e},_e.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.getDefaultCoordinateSequenceFactory=function(){return ce.instance()},_e.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},_e.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},me.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(_e,me);var ve=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Ie=function(t){this.geometryFactory=t||new _e};Ie.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!Ee[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==ve.indexOf(n)?Ee[n].apply(this,[e.coordinates]):"GeometryCollection"===n?Ee[n].apply(this,[e.geometries]):Ee[n].apply(this,[e])},Ie.prototype.write=function(t){var e=t.getGeometryType();if(!xe[e])throw new Error("Geometry is not supported");return xe[e].apply(this,[t])};var Ee={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!Ee[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Ee.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new C(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new C(t[0],t[1]),new C(t[2],t[1]),new C(t[2],t[3]),new C(t[0],t[3]),new C(t[0],t[1])])},Point:function(t){var e=new C(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Ee.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Ee.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Ee.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Ee.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],s=Ee.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(Ee.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},xe={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:xe.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=xe.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(xe.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=xe.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=xe.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],o=xe.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=xe.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(xe[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}},Ne=function(t){this.geometryFactory=t||new _e,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ie(this.geometryFactory)};Ne.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===fe.FIXED&&this.reducePrecision(e),e},Ne.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Ce=function(){this.parser=new Ie(this.geometryFactory)};Ce.prototype.write=function(t){return this.parser.write(t)};var Se=function(){},Le={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se},Se.opposite=function(t){return t===Se.LEFT?Se.RIGHT:t===Se.RIGHT?Se.LEFT:t},Le.ON.get=function(){return 0},Le.LEFT.get=function(){return 1},Le.RIGHT.get=function(){return 2},Object.defineProperties(Se,Le),(d.prototype=new Error).name="EmptyStackException",(y.prototype=new xt).add=function(t){return this.array_.push(t),!0},y.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},y.prototype.push=function(t){return this.array_.push(t),t},y.prototype.pop=function(t){if(0===this.array_.length)throw new d;return this.array_.pop()},y.prototype.peek=function(){if(0===this.array_.length)throw new d;return this.array_[this.array_.length-1]},y.prototype.empty=function(){return 0===this.array_.length},y.prototype.isEmpty=function(){return this.empty()},y.prototype.search=function(t){return this.array_.indexOf(t)},y.prototype.size=function(){return this.array_.length},y.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var be=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};be.prototype.getCoordinate=function(){return this._minCoord},be.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},be.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();et.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=at.computeOrientation(this._minCoord,n,e),r=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===at.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===at.CLOCKWISE)&&(r=!0),r&&(this._minIndex=this._minIndex-1)},be.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=Se.LEFT;return n[e].y<n[e+1].y&&(i=Se.RIGHT),i},be.prototype.getEdge=function(){return this._orientedDe},be.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},be.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},be.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}et.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Se.LEFT&&(this._orientedDe=this._minDe.getSym())},be.prototype.interfaces_=function(){return[]},be.prototype.getClass=function(){return be};var we=function(t){function e(n,i){t.call(this,e.msgWithCoord(n,i)),this.pt=i?new C(i):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}($),Oe=function(){this.array_=[]};Oe.prototype.addLast=function(t){this.array_.push(t)},Oe.prototype.removeFirst=function(){return this.array_.shift()},Oe.prototype.isEmpty=function(){return 0===this.array_.length};var Te=function(){this._finder=null,this._dirEdgeList=new Nt,this._nodes=new Nt,this._rightMostCoord=null,this._env=null,this._finder=new be};Te.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Te.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Te.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new we("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}},Te.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Se.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Te.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Te.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Se.RIGHT)>=1&&e.getDepth(Se.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Te.prototype.computeDepths=function(t){var e=new Pt,n=new Oe,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Te.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Te.prototype.getEnvelope=function(){if(null===this._env){for(var t=new j,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env},Te.prototype.addReachable=function(t){var e=new y;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Te.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Se.LEFT,t.getDepth(Se.RIGHT)),e.setDepth(Se.RIGHT,t.getDepth(Se.LEFT))},Te.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}},Te.prototype.getNodes=function(){return this._nodes},Te.prototype.getDirectedEdges=function(){return this._dirEdgeList},Te.prototype.interfaces_=function(){return[E]},Te.prototype.getClass=function(){return Te};var Re=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Se.ON]=n}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[Se.ON]=o,this.location[Se.LEFT]=s,this.location[Se.RIGHT]=a}};Re.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Re.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==w.NONE)return!1;return!0},Re.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===w.NONE&&(this.location[e]=t)},Re.prototype.isLine=function(){return 1===this.location.length},Re.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Se.ON]=this.location[Se.ON],e[Se.LEFT]=w.NONE,e[Se.RIGHT]=w.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===w.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Re.prototype.getLocations=function(){return this.location},Re.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Se.LEFT];this.location[Se.LEFT]=this.location[Se.RIGHT],this.location[Se.RIGHT]=t},Re.prototype.toString=function(){var t=new D;return this.location.length>1&&t.append(w.toLocationSymbol(this.location[Se.LEFT])),t.append(w.toLocationSymbol(this.location[Se.ON])),this.location.length>1&&t.append(w.toLocationSymbol(this.location[Se.RIGHT])),t.toString()},Re.prototype.setLocations=function(t,e,n){this.location[Se.ON]=t,this.location[Se.LEFT]=e,this.location[Se.RIGHT]=n},Re.prototype.get=function(t){return t<this.location.length?this.location[t]:w.NONE},Re.prototype.isArea=function(){return this.location.length>1},Re.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===w.NONE)return!0;return!1},Re.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Se.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Re.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(w.NONE)},Re.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Re.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re};var Pe=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Re(e),this.elt[1]=new Re(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Re(n.elt[0]),this.elt[1]=new Re(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new Re(w.NONE),this.elt[1]=new Re(w.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Re(o,s,a),this.elt[1]=new Re(o,s,a)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],p=arguments[3];this.elt[0]=new Re(w.NONE,w.NONE,w.NONE),this.elt[1]=new Re(w.NONE,w.NONE,w.NONE),this.elt[u].setLocations(l,c,p)}};Pe.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Pe.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Pe.prototype.isNull=function(t){return this.elt[t].isNull()},Pe.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Pe.prototype.isLine=function(t){return this.elt[t].isLine()},Pe.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Re(t.elt[e]):this.elt[e].merge(t.elt[e])},Pe.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Pe.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Se.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Pe.prototype.toString=function(){var t=new D;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Pe.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Pe.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Pe.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Se.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},Pe.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Pe.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Pe.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Re(this.elt[t].location[0]))},Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe},Pe.toLineLabel=function(t){for(var e=new Pe(w.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var De=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Nt,this._pts=new Nt,this._label=new Pe(w.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Nt,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};De.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=at.isCCW(this._ring.getCoordinates())},De.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},De.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new we("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new we("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var i=e.getLabel();et.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},De.prototype.getLinearRing=function(){return this._ring},De.prototype.getCoordinate=function(t){return this._pts.get(t)},De.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},De.prototype.addPoints=function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this._pts.add(i[o])}else{var s=i.length-2;n&&(s=i.length-1);for(var a=s;a>=0;a--)this._pts.add(i[a])}},De.prototype.isHole=function(){return this._isHole},De.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},De.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!at.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},De.prototype.addHole=function(t){this._holes.add(t)},De.prototype.isShell=function(){return null===this._shell},De.prototype.getLabel=function(){return this._label},De.prototype.getEdges=function(){return this._edges},De.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},De.prototype.getShell=function(){return this._shell},De.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var n=arguments[1],i=arguments[0].getLocation(n,Se.RIGHT);if(i===w.NONE)return null;if(this._label.getLocation(n)===w.NONE)return this._label.setLocation(n,i),null}},De.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},De.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},De.prototype.interfaces_=function(){return[]},De.prototype.getClass=function(){return De};var Me=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(De),Ae=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Nt,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Me(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(De),Fe=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Fe.prototype.setVisited=function(t){this._isVisited=t},Fe.prototype.setInResult=function(t){this._isInResult=t},Fe.prototype.isCovered=function(){return this._isCovered},Fe.prototype.isCoveredSet=function(){return this._isCoveredSet},Fe.prototype.setLabel=function(t){this._label=t},Fe.prototype.getLabel=function(){return this._label},Fe.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Fe.prototype.updateIM=function(t){et.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Fe.prototype.isInResult=function(){return this._isInResult},Fe.prototype.isVisited=function(){return this._isVisited},Fe.prototype.interfaces_=function(){return[]},Fe.prototype.getClass=function(){return Fe};var Ge=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Pe(0,w.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=w.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==w.BOUNDARY&&(n=i)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Pe(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Pe)for(var n=arguments[0],i=0;i<2;i++){var r=this.computeMergedLocation(n,i);this._label.getLocation(i)===w.NONE&&this._label.setLocation(i,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=w.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case w.BOUNDARY:n=w.INTERIOR;break;case w.INTERIOR:default:n=w.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Fe),qe=function(){this.nodeMap=new p,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};qe.prototype.find=function(t){return this.nodeMap.get(t)},qe.prototype.addNode=function(){if(arguments[0]instanceof C){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Ge){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}},qe.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},qe.prototype.iterator=function(){return this.nodeMap.values().iterator()},qe.prototype.values=function(){return this.nodeMap.values()},qe.prototype.getBoundaryNodes=function(t){for(var e=new Nt,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===w.BOUNDARY&&e.add(i)}return e},qe.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe};var Be=function(){},Ve={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Be.prototype.interfaces_=function(){return[]},Be.prototype.getClass=function(){return Be},Be.isNorthern=function(t){return t===Be.NE||t===Be.NW},Be.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Be.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Be.isInHalfPlane=function(t,e){return e===Be.SE?t===Be.SE||t===Be.SW:t===e||t===e+1},Be.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new m("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Be.NE:Be.SE:e>=0?Be.NW:Be.SW}if(arguments[0]instanceof C&&arguments[1]instanceof C){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new m("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?Be.NE:Be.SE:i.y>=n.y?Be.NW:Be.SW}},Ve.NE.get=function(){return 0},Ve.NW.get=function(){return 1},Ve.SW.get=function(){return 2},Ve.SE.get=function(){return 3},Object.defineProperties(Be,Ve);var Ue=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];this._edge=e,this.init(n,i),this._label=null}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=r,this.init(o,s),this._label=a}};Ue.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:at.computeOrientation(t._p0,t._p1,this._p1)},Ue.prototype.getDy=function(){return this._dy},Ue.prototype.getCoordinate=function(){return this._p0},Ue.prototype.setNode=function(t){this._node=t},Ue.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Ue.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Ue.prototype.getDirectedCoordinate=function(){return this._p1},Ue.prototype.getDx=function(){return this._dx},Ue.prototype.getLabel=function(){return this._label},Ue.prototype.getEdge=function(){return this._edge},Ue.prototype.getQuadrant=function(){return this._quadrant},Ue.prototype.getNode=function(){return this._node},Ue.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Ue.prototype.computeLabel=function(t){},Ue.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Be.quadrant(this._dx,this._dy),et.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Ue.prototype.interfaces_=function(){return[E]},Ue.prototype.getClass=function(){return Ue};var ze=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var i=e.getNumPoints()-1;this.init(e.getCoordinate(i),e.getCoordinate(i-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Pe(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new we("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Se.LEFT)===w.INTERIOR&&this._label.getLocation(e,Se.RIGHT)===w.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Se.LEFT]+"/"+this._depth[Se.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,w.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,w.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===Se.LEFT&&(i=-1);var r=Se.opposite(t),o=e+n*i;this.setDepth(t,e),this.setDepth(r,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===w.EXTERIOR&&e===w.INTERIOR?1:t===w.INTERIOR&&e===w.EXTERIOR?-1:0},e}(Ue),Xe=function(){};Xe.prototype.createNode=function(t){return new Ge(t,null)},Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe};var Ye=function(){if(this._edges=new Nt,this._nodes=null,this._edgeEndList=new Nt,0===arguments.length)this._nodes=new qe(new Xe);else if(1===arguments.length){var t=arguments[0];this._nodes=new qe(t)}};Ye.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Ye.prototype.find=function(t){return this._nodes.find(t)},Ye.prototype.addNode=function(){if(arguments[0]instanceof Ge){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof C){var e=arguments[0];return this._nodes.addNode(e)}},Ye.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ye.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Ye.prototype.debugPrintln=function(t){Y.out.println(t)},Ye.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===w.BOUNDARY},Ye.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Ye.prototype.matchInSameDirection=function(t,e,n,i){return!!t.equals(n)&&at.computeOrientation(t,e,i)===at.COLLINEAR&&Be.quadrant(t,e)===Be.quadrant(n,i)},Ye.prototype.getEdgeEnds=function(){return this._edgeEndList},Ye.prototype.debugPrint=function(t){Y.out.print(t)},Ye.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ye.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},Ye.prototype.insertEdge=function(t){this._edges.add(t)},Ye.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Ye.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new ze(n,!0),r=new ze(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},Ye.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Ye.prototype.getNodes=function(){return this._nodes.values()},Ye.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye},Ye.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var ke=function(){this._geometryFactory=null,this._shellList=new Nt;var t=arguments[0];this._geometryFactory=t};ke.prototype.sortShellsAndHoles=function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},ke.prototype.computePolygons=function(t){for(var e=new Nt,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e},ke.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new we("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},ke.prototype.buildMinimalEdgeRings=function(t,e,n){for(var i=new Nt,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(o)}return i},ke.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},ke.prototype.buildMaximalEdgeRings=function(t){for(var e=new Nt,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new Ae(i,this._geometryFactory);e.add(r),r.setInResult()}}return e},ke.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},ke.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},ke.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var p=!1;c.contains(i)&&at.isPointInRing(r,l.getCoordinates())&&(p=!0),p&&(null===o||s.contains(c))&&(o=u)}return o},ke.prototype.findShell=function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return et.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},ke.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Ye.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new Nt,o=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},ke.prototype.interfaces_=function(){return[]},ke.prototype.getClass=function(){return ke};var je=function(){};je.prototype.getBounds=function(){},je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je};var He=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};He.prototype.getItem=function(){return this._item},He.prototype.getBounds=function(){return this._bounds},He.prototype.interfaces_=function(){return[je,e]},He.prototype.getClass=function(){return He};var We=function(){this._size=null,this._items=null,this._size=0,this._items=new Nt,this._items.add(null)};We.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},We.prototype.size=function(){return this._size},We.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},We.prototype.clear=function(){this._size=0,this._items.clear()},We.prototype.isEmpty=function(){return 0===this._size},We.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},We.prototype.interfaces_=function(){return[]},We.prototype.getClass=function(){return We};var Ke=function(){};Ke.prototype.visitItem=function(t){},Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke};var Je=function(){};Je.prototype.insert=function(t,e){},Je.prototype.remove=function(t,e){},Je.prototype.query=function(){},Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je};var Qe=function(){if(this._childBoundables=new Nt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Ze={serialVersionUID:{configurable:!0}};Qe.prototype.getLevel=function(){return this._level},Qe.prototype.size=function(){return this._childBoundables.size()},Qe.prototype.getChildBoundables=function(){return this._childBoundables},Qe.prototype.addChildBoundable=function(t){et.isTrue(null===this._bounds),this._childBoundables.add(t)},Qe.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Qe.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Qe.prototype.interfaces_=function(){return[je,e]},Qe.prototype.getClass=function(){return Qe},Ze.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Qe,Ze);var $e=function(){};$e.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},$e.min=function(t){return $e.sort(t),t.get(0)},$e.sort=function(t,e){var n=t.toArray();e?Gt.sort(n,e):Gt.sort(n);for(var i=t.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},$e.singletonList=function(t){var e=new Nt;return e.add(t),e};var tn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tn.prototype.expandToQueue=function(t,e){var n=tn.isComposite(this._boundable1),i=tn.isComposite(this._boundable2);if(n&&i)return tn.area(this._boundable1)>tn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new m("neither boundable is composite")},tn.prototype.isLeaves=function(){return!(tn.isComposite(this._boundable1)||tn.isComposite(this._boundable2))},tn.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tn.prototype.expand=function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next(),s=new tn(o,e,this._itemDistance);s.getDistance()<i&&n.add(s)}},tn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tn.prototype.getDistance=function(){return this._distance},tn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tn.prototype.interfaces_=function(){return[E]},tn.prototype.getClass=function(){return tn},tn.area=function(t){return t.getBounds().getArea()},tn.isComposite=function(t){return t instanceof Qe};var en=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Nt,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];et.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(t){return t.get(t.size()-1)},en.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Qe?t+=this.size(n):n instanceof He&&(t+=1)}return t}},en.prototype.removeItem=function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof He&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},en.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Nt:t}if(1===arguments.length){for(var e=arguments[0],n=new Nt,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof Qe){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof He?n.add(r.getItem()):et.shouldNeverReachHere()}return n.size()<=0?null:n}},en.prototype.insert=function(t,e){et.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new He(t,e))},en.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Nt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(et.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Qe?this.boundablesAtLevel(n,s,r):(et.isTrue(s instanceof He),-1===n&&r.add(s))}return null}},en.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Nt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,i)}else if(3===arguments.length)if(T(arguments[2],Ke)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe)for(var r=arguments[0],s=arguments[2],a=arguments[1].getChildBoundables(),u=0;u<a.size();u++){var l=a.get(u);this.getIntersectsOp().intersects(l.getBounds(),r)&&(l instanceof Qe?this.query(r,l,s):l instanceof He?s.visitItem(l.getItem()):et.shouldNeverReachHere())}else if(T(arguments[2],xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe)for(var c=arguments[0],h=arguments[2],f=arguments[1].getChildBoundables(),g=0;g<f.size();g++){var d=f.get(g);this.getIntersectsOp().intersects(d.getBounds(),c)&&(d instanceof Qe?this.query(c,d,h):d instanceof He?h.add(d.getItem()):et.shouldNeverReachHere())}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Qe&&(o=this.remove(n,u,r))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},en.prototype.createHigherLevels=function(t,e){et.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},en.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Qe){var i=this.depth(n);i>t&&(t=i)}}return t+1}},en.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var n=new Nt;n.add(this.createNode(e));var i=new Nt(t);$e.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[e]},en.prototype.getClass=function(){return en},en.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,nn);var rn=function(){},on=function(){};on.prototype.distance=function(t,e){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var sn=function(t){function n(e){e=e||n.DEFAULT_NODE_CAPACITY,t.call(this,e)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var i={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(t,e){et.isTrue(t.length>0);for(var n=new Nt,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},n.prototype.createNode=function(t){return new an(t)},n.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new Nt;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i},n.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];t.prototype.query.call(this,n,i)}else if(3===arguments.length)if(T(arguments[2],Ke)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe){var r=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,r,o,s)}else if(T(arguments[2],xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe){var a=arguments[0],u=arguments[1],l=arguments[2];t.prototype.query.call(this,a,u,l)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},n.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new Nt(t);$e.sort(r,n.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(o,e)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(T(arguments[0],on)){var t=arguments[0],e=new tn(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof tn){var i=arguments[0];return this.nearestNeighbour(i,v.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&T(arguments[1],on)){var r=arguments[0],o=arguments[1],s=new tn(this.getRoot(),r.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof tn&&"number"==typeof arguments[1]){var a=arguments[0],u=arguments[1],l=null,c=new We;for(c.add(a);!c.isEmpty()&&u>0;){var p=c.poll(),h=p.getDistance();if(h>=u)break;p.isLeaves()?(u=h,l=p):p.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[2],y=new He(arguments[0],arguments[1]),_=new tn(this.getRoot(),y,d);return this.nearestNeighbour(_)[0]}},n.prototype.interfaces_=function(){return[Je,e]},n.prototype.getClass=function(){return n},n.centreX=function(t){return n.avg(t.getMinX(),t.getMaxX())},n.avg=function(t,e){return(t+e)/2},n.centreY=function(t){return n.avg(t.getMinY(),t.getMaxY())},i.STRtreeNode.get=function(){return an},i.serialVersionUID.get=function(){return 0x39920f7d5f261e0},i.xComparator.get=function(){return{interfaces_:function(){return[N]},compare:function(e,i){return t.compareDoubles(n.centreX(e.getBounds()),n.centreX(i.getBounds()))}}},i.yComparator.get=function(){return{interfaces_:function(){return[N]},compare:function(e,i){return t.compareDoubles(n.centreY(e.getBounds()),n.centreY(i.getBounds()))}}},i.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},i.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,i),n}(en),an=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new j(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Qe),un=function(){};un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un},un.relativeSign=function(t,e){return t<e?-1:t>e?1:0},un.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=un.relativeSign(e.x,n.x),r=un.relativeSign(e.y,n.y);switch(t){case 0:return un.compareValue(i,r);case 1:return un.compareValue(r,i);case 2:return un.compareValue(r,-i);case 3:return un.compareValue(-i,r);case 4:return un.compareValue(-i,-r);case 5:return un.compareValue(-r,-i);case 6:return un.compareValue(-r,i);case 7:return un.compareValue(i,-r)}return et.shouldNeverReachHere("invalid octant value"),0},un.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var ln=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new C(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))};ln.prototype.getCoordinate=function(){return this.coord},ln.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},ln.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:un.compare(this._segmentOctant,this.coord,e.coord)},ln.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},ln.prototype.isInterior=function(){return this._isInterior},ln.prototype.interfaces_=function(){return[E]},ln.prototype.getClass=function(){return ln};var cn=function(){this._nodeMap=new p,this._edge=null;var t=arguments[0];this._edge=t};cn.prototype.getSplitCoordinates=function(){var t=new St;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},cn.prototype.addCollapsedNodes=function(){var t=new Nt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},cn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},cn.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(new M(e+1))}},cn.prototype.addEdgeCoordinates=function(t,e,n){var i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);n.add(new C(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));r&&n.add(new C(e.coord))},cn.prototype.iterator=function(){return this._nodeMap.values().iterator()},cn.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},cn.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},cn.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new M(e[0])),i=r}},cn.prototype.getEdge=function(){return this._edge},cn.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},cn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new C(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return r&&(o[s]=new C(e.coord)),new gn(o,this._edge.getData())},cn.prototype.add=function(t,e){var n=new ln(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(et.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)},cn.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new $("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new $("bad split edge end point at "+r)},cn.prototype.interfaces_=function(){return[]},cn.prototype.getClass=function(){return cn};var pn=function(){};pn.prototype.interfaces_=function(){return[]},pn.prototype.getClass=function(){return pn},pn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new m("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof C&&arguments[1]instanceof C){var r=arguments[0],o=arguments[1],s=o.x-r.x,a=o.y-r.y;if(0===s&&0===a)throw new m("Cannot compute the octant for two identical points "+r);return pn.octant(s,a)}};var hn=function(){};hn.prototype.getCoordinates=function(){},hn.prototype.size=function(){},hn.prototype.getCoordinate=function(t){},hn.prototype.isClosed=function(){},hn.prototype.setData=function(t){},hn.prototype.getData=function(){},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn};var fn=function(){};fn.prototype.addIntersection=function(t,e){},fn.prototype.interfaces_=function(){return[hn]},fn.prototype.getClass=function(){return fn};var gn=function(){this._nodeList=new cn(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};gn.prototype.getCoordinates=function(){return this._pts},gn.prototype.size=function(){return this._pts.length},gn.prototype.getCoordinate=function(t){return this._pts[t]},gn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},gn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},gn.prototype.setData=function(t){this._data=t},gn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:pn.octant(t,e)},gn.prototype.getData=function(){return this._data},gn.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var i=arguments[1],r=arguments[3],o=new C(arguments[0].getIntersection(r));this.addIntersection(o,i)}},gn.prototype.toString=function(){return Z.toLineString(new ue(this._pts))},gn.prototype.getNodeList=function(){return this._nodeList},gn.prototype.addIntersectionNode=function(t,e){var n=e,i=n+1;if(i<this._pts.length){var r=this._pts[i];t.equals2D(r)&&(n=i)}return this._nodeList.add(t,n)},gn.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},gn.prototype.interfaces_=function(){return[fn]},gn.prototype.getClass=function(){return gn},gn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Nt;return gn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var i=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(i)};var dn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new C,this.p1=new C;else if(1===arguments.length){var t=arguments[0];this.p0=new C(t.p0),this.p1=new C(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];this.p0=new C(e,n),this.p1=new C(i,r)}},yn={serialVersionUID:{configurable:!0}};dn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},dn.prototype.orientationIndex=function(){if(arguments[0]instanceof dn){var t=arguments[0],e=at.orientationIndex(this.p0,this.p1,t.p0),n=at.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof C){var i=arguments[0];return at.orientationIndex(this.p0,this.p1,i)}},dn.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},dn.prototype.isVertical=function(){return this.p0.x===this.p1.x},dn.prototype.equals=function(t){if(!(t instanceof dn))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},dn.prototype.intersection=function(t){var e=new rt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},dn.prototype.project=function(){if(arguments[0]instanceof C){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new C(t);var e=this.projectionFactor(t),n=new C;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof dn){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(r<=0&&o<=0)return null;var s=this.project(i.p0);r<0&&(s=this.p0),r>1&&(s=this.p1);var a=this.project(i.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new dn(s,a)}},dn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},dn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},dn.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},dn.prototype.distancePerpendicular=function(t){return at.distancePointLinePerpendicular(t,this.p0,this.p1)},dn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},dn.prototype.midPoint=function(){return dn.midPoint(this.p0,this.p1)},dn.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?v.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},dn.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=v.MAX_VALUE,r=null,o=this.closestPoint(t.p0);i=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(r=s.distance(t.p1))<i&&(i=r,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(r=u.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=u),n},dn.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},dn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},dn.prototype.getLength=function(){return this.p0.distance(this.p1)},dn.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},dn.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},dn.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},dn.prototype.lineIntersection=function(t){try{return k.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof X))throw t}return null},dn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},dn.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*r/s,u=e*o/s}return new C(n-u,i+a)},dn.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},dn.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||v.isNaN(e))&&(e=1),e},dn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},dn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},dn.prototype.distance=function(){if(arguments[0]instanceof dn){var t=arguments[0];return at.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof C){var e=arguments[0];return at.distancePointLine(e,this.p0,this.p1)}},dn.prototype.pointAlong=function(t){var e=new C;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},dn.prototype.hashCode=function(){var t=v.doubleToLongBits(this.p0.x);t^=31*v.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=v.doubleToLongBits(this.p1.x);return n^=31*v.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},dn.prototype.interfaces_=function(){return[E,e]},dn.prototype.getClass=function(){return dn},dn.midPoint=function(t,e){return new C((t.x+e.x)/2,(t.y+e.y)/2)},yn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(dn,yn);var _n=function(){this.tempEnv1=new j,this.tempEnv2=new j,this._overlapSeg1=new dn,this._overlapSeg2=new dn};_n.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var e=arguments[1],n=arguments[2],i=arguments[3];arguments[0].getLineSegment(e,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n};var mn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i};mn.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},mn.prototype.computeSelect=function(t,e,n,i){var r=this._pts[e],o=this._pts[n];if(i.tempEnv1.init(r,o),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,i),s<n&&this.computeSelect(t,s,n,i)},mn.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},mn.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},mn.prototype.setId=function(t){this._id=t},mn.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},mn.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new j(t,e)}return this._env},mn.prototype.getEndIndex=function(){return this._end},mn.prototype.getStartIndex=function(){return this._start},mn.prototype.getContext=function(){return this._context},mn.prototype.getId=function(){return this._id},mn.prototype.computeOverlapsInternal=function(t,e,n,i,r,o){var s=this._pts[t],a=this._pts[e],u=n._pts[i],l=n._pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),p=Math.trunc((i+r)/2);t<c&&(i<p&&this.computeOverlapsInternal(t,c,n,i,p,o),p<r&&this.computeOverlapsInternal(t,c,n,p,r,o)),c<e&&(i<p&&this.computeOverlapsInternal(c,e,n,i,p,o),p<r&&this.computeOverlapsInternal(c,e,n,p,r,o))},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn};var vn=function(){};vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.getChainStartIndices=function(t){var e=0,n=new Nt;n.add(new M(e));do{var i=vn.findChainEnd(t,e);n.add(new M(i)),e=i}while(e<t.length-1);return vn.toIntArray(n)},vn.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=Be.quadrant(t[n],t[n+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||Be.quadrant(t[r-1],t[r])===i);)r++;return r-1},vn.getChains=function(){if(1===arguments.length){var t=arguments[0];return vn.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new Nt,r=vn.getChainStartIndices(e),o=0;o<r.length-1;o++){var s=new mn(e,r[o],r[o+1],n);i.add(s)}return i}},vn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var In=function(){};In.prototype.computeNodes=function(t){},In.prototype.getNodedSubstrings=function(){},In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In};var En=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};En.prototype.setSegmentIntersector=function(t){this._segInt=t},En.prototype.interfaces_=function(){return[In]},En.prototype.getClass=function(){return En};var xn=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Nt,this._index=new sn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return gn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=vn.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new Nn(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return Nn},Object.defineProperties(e,n),e}(En),Nn=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var n=arguments[1],i=arguments[2],r=arguments[3],o=arguments[0].getContext(),s=i.getContext();this._si.processIntersections(o,n,s,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(_n),Cn=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},Sn={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Cn.prototype.getEndCapStyle=function(){return this._endCapStyle},Cn.prototype.isSingleSided=function(){return this._isSingleSided},Cn.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Cn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Cn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Cn.JOIN_ROUND&&(this._quadrantSegments=Cn.DEFAULT_QUADRANT_SEGMENTS)},Cn.prototype.getJoinStyle=function(){return this._joinStyle},Cn.prototype.setJoinStyle=function(t){this._joinStyle=t},Cn.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Cn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Cn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Cn.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Cn.prototype.getMitreLimit=function(){return this._mitreLimit},Cn.prototype.setMitreLimit=function(t){this._mitreLimit=t},Cn.prototype.setSingleSided=function(t){this._isSingleSided=t},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn},Cn.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Sn.CAP_ROUND.get=function(){return 1},Sn.CAP_FLAT.get=function(){return 2},Sn.CAP_SQUARE.get=function(){return 3},Sn.JOIN_ROUND.get=function(){return 1},Sn.JOIN_MITRE.get=function(){return 2},Sn.JOIN_BEVEL.get=function(){return 3},Sn.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Sn.DEFAULT_MITRE_LIMIT.get=function(){return 5},Sn.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Cn,Sn);var Ln=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=at.COUNTERCLOCKWISE,this._inputLine=t||null},bn={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ln.prototype.isDeletable=function(t,e,n,i){var r=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(r,o,s)&&!!this.isShallow(r,o,s,i)&&this.isShallowSampled(r,o,t,n,i)},Ln.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),i=!1;n<this._inputLine.length;){var r=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Ln.DELETE,r=!0,i=!0),t=r?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},Ln.prototype.isShallowConcavity=function(t,e,n,i){return at.computeOrientation(t,e,n)===this._angleOrientation&&at.distancePointLine(e,t,n)<i},Ln.prototype.isShallowSampled=function(t,e,n,i,r){var o=Math.trunc((i-n)/Ln.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<i;s+=o)if(!this.isShallow(t,e,this._inputLine[s],r))return!1;return!0},Ln.prototype.isConcave=function(t,e,n){return at.computeOrientation(t,e,n)===this._angleOrientation},Ln.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=at.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Ln.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Ln.DELETE;)e++;return e},Ln.prototype.isShallow=function(t,e,n,i){return at.distancePointLine(e,t,n)<i},Ln.prototype.collapseLine=function(){for(var t=new St,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Ln.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln},Ln.simplify=function(t,e){return new Ln(t).simplify(e)},bn.INIT.get=function(){return 0},bn.DELETE.get=function(){return 1},bn.KEEP.get=function(){return 1},bn.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Ln,bn);var wn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Nt},On={COORDINATE_ARRAY_TYPE:{configurable:!0}};wn.prototype.getCoordinates=function(){return this._ptList.toArray(wn.COORDINATE_ARRAY_TYPE)},wn.prototype.setPrecisionModel=function(t){this._precisionModel=t},wn.prototype.addPt=function(t){var e=new C(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},wn.prototype.revere=function(){},wn.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},wn.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},wn.prototype.toString=function(){return(new _e).createLineString(this.getCoordinates()).toString()},wn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new C(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},wn.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},wn.prototype.interfaces_=function(){return[]},wn.prototype.getClass=function(){return wn},On.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(wn,On);var Tn=function(){},Rn={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Tn.toDegrees=function(t){return 180*t/Math.PI},Tn.normalize=function(t){for(;t>Math.PI;)t-=Tn.PI_TIMES_2;for(;t<=-Math.PI;)t+=Tn.PI_TIMES_2;return t},Tn.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},Tn.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0},Tn.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0},Tn.interiorAngle=function(t,e,n){var i=Tn.angle(e,t),r=Tn.angle(e,n);return Math.abs(r-i)},Tn.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Tn.PI_TIMES_2;t>=Tn.PI_TIMES_2&&(t=0)}else{for(;t>=Tn.PI_TIMES_2;)t-=Tn.PI_TIMES_2;t<0&&(t=0)}return t},Tn.angleBetween=function(t,e,n){var i=Tn.angle(e,t),r=Tn.angle(e,n);return Tn.diff(i,r)},Tn.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Tn.toRadians=function(t){return t*Math.PI/180},Tn.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Tn.COUNTERCLOCKWISE:n<0?Tn.CLOCKWISE:Tn.NONE},Tn.angleBetweenOriented=function(t,e,n){var i=Tn.angle(e,t),r=Tn.angle(e,n)-i;return r<=-Math.PI?r+Tn.PI_TIMES_2:r>Math.PI?r-Tn.PI_TIMES_2:r},Rn.PI_TIMES_2.get=function(){return 2*Math.PI},Rn.PI_OVER_2.get=function(){return Math.PI/2},Rn.PI_OVER_4.get=function(){return Math.PI/4},Rn.COUNTERCLOCKWISE.get=function(){return at.COUNTERCLOCKWISE},Rn.CLOCKWISE.get=function(){return at.CLOCKWISE},Rn.NONE.get=function(){return at.COLLINEAR},Object.defineProperties(Tn,Rn);var Pn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new dn,this._seg1=new dn,this._offset0=new dn,this._offset1=new dn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new rt,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Cn.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},Dn={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Pn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=at.computeOrientation(this._s0,this._s1,this._s2),i=n===at.CLOCKWISE&&this._side===Se.LEFT||n===at.COUNTERCLOCKWISE&&this._side===Se.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Pn.prototype.addLineEndCap=function(t,e){var n=new dn(t,e),i=new dn;this.computeOffsetSegment(n,Se.LEFT,this._distance,i);var r=new dn;this.computeOffsetSegment(n,Se.RIGHT,this._distance,r);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case Cn.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,at.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case Cn.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case Cn.CAP_SQUARE:var u=new C;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var l=new C(i.p1.x+u.x,i.p1.y+u.y),c=new C(r.p1.x+u.x,r.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}},Pn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Pn.prototype.addMitreJoin=function(t,e,n,i){var r=!0,o=null;try{o=k.intersection(e.p0,e.p1,n.p0,n.p1),(i<=0?1:o.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof X))throw t;o=new C(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},Pn.prototype.addFilletCorner=function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);i===at.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,i,r),this._segList.addPt(n)},Pn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Pn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Cn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Cn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Pn.prototype.createSquare=function(t){this._segList.addPt(new C(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new C(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new C(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new C(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Pn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Pn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Pn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Pn.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Pn.prototype.addLimitedMitreJoin=function(t,e,n,i){var r=this._seg0.p1,o=Tn.angle(r,this._seg0.p0),s=Tn.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,a=Tn.normalize(o+s),u=Tn.normalize(a+Math.PI),l=i*n,c=n-l*Math.abs(Math.sin(s)),p=r.x+l*Math.cos(u),h=r.y+l*Math.sin(u),f=new C(p,h),g=new dn(r,f),d=g.pointAlongOffset(1,c),y=g.pointAlongOffset(1,-c);this._side===Se.LEFT?(this._segList.addPt(d),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(d))},Pn.prototype.computeOffsetSegment=function(t,e,n,i){var r=e===Se.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=r*n*o/a,l=r*n*s/a;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u},Pn.prototype.addFilletArc=function(t,e,n,i,r){var o=i===at.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,l=0,c=new C;l<s;){var p=e+o*l;c.x=t.x+r*Math.cos(p),c.y=t.y+r*Math.sin(p),this._segList.addPt(c),l+=u}},Pn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Pn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new C((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new C((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Pn.prototype.createCircle=function(t){var e=new C(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Pn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Pn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new wn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Pn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Pn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Cn.JOIN_BEVEL||this._bufParams.getJoinStyle()===Cn.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,at.CLOCKWISE,this._distance))},Pn.prototype.closeRing=function(){this._segList.closeRing()},Pn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Pn.prototype.interfaces_=function(){return[]},Pn.prototype.getClass=function(){return Pn},Dn.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Dn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Dn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Dn.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Pn,Dn);var Mn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Mn.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&Lt.reverse(o),o},Mn.prototype.computeSingleSidedBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=Ln.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],Se.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=Ln.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],Se.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()},Mn.prototype.computeRingBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);e===Se.RIGHT&&(i=-i);var r=Ln.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()},Mn.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),i=Ln.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],Se.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=Ln.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],Se.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},Mn.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Cn.CAP_ROUND:e.createCircle(t);break;case Cn.CAP_SQUARE:e.createSquare(t)}},Mn.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},Mn.prototype.getBufferParameters=function(){return this._bufParams},Mn.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Mn.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Mn.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},Mn.prototype.computeOffsetCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=Ln.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],Se.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=Ln.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],Se.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()},Mn.prototype.getSegGen=function(t){return new Pn(this._precisionModel,this._bufParams,t)},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},Mn.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new C(t[n]);return e};var An=function(){this._subgraphs=null,this._seg=new dn,this._cga=new at;var t=arguments[0];this._subgraphs=t},Fn={DepthSegment:{configurable:!0}};An.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Nt,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(T(arguments[2],xt)&&arguments[0]instanceof C&&arguments[1]instanceof ze){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||at.computeOrientation(this._seg.p0,this._seg.p1,o)===at.RIGHT)){var c=s.getDepth(Se.LEFT);this._seg.p0.equals(u[l])||(c=s.getDepth(Se.RIGHT));var p=new Gn(this._seg,c);a.add(p)}}else if(T(arguments[2],xt)&&arguments[0]instanceof C&&T(arguments[1],xt))for(var h=arguments[0],g=arguments[2],d=arguments[1].iterator();d.hasNext();){var y=d.next();y.isForward()&&this.findStabbedSegments(h,y,g)}},An.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:$e.min(e)._leftDepth},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An},Fn.DepthSegment.get=function(){return Gn},Object.defineProperties(An,Fn);var Gn=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new dn(t),this._leftDepth=e};Gn.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Gn.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Gn.prototype.toString=function(){return this._upwardSeg.toString()},Gn.prototype.interfaces_=function(){return[E]},Gn.prototype.getClass=function(){return Gn};var qn=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};qn.prototype.area=function(){return qn.area(this.p0,this.p1,this.p2)},qn.prototype.signedArea=function(){return qn.signedArea(this.p0,this.p1,this.p2)},qn.prototype.interpolateZ=function(t){if(null===t)throw new m("Supplied point is null.");return qn.interpolateZ(t,this.p0,this.p1,this.p2)},qn.prototype.longestSideLength=function(){return qn.longestSideLength(this.p0,this.p1,this.p2)},qn.prototype.isAcute=function(){return qn.isAcute(this.p0,this.p1,this.p2)},qn.prototype.circumcentre=function(){return qn.circumcentre(this.p0,this.p1,this.p2)},qn.prototype.area3D=function(){return qn.area3D(this.p0,this.p1,this.p2)},qn.prototype.centroid=function(){return qn.centroid(this.p0,this.p1,this.p2)},qn.prototype.inCentre=function(){return qn.inCentre(this.p0,this.p1,this.p2)},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn},qn.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},qn.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},qn.det=function(t,e,n,i){return t*i-e*n},qn.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,u=n.y-o,l=i.y-o,c=s*l-a*u,p=t.x-r,h=t.y-o,f=(l*p-a*h)/c,g=(-u*p+s*h)/c;return e.z+f*(n.z-e.z)+g*(i.z-e.z)},qn.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return r>s&&(s=r),o>s&&(s=o),s},qn.isAcute=function(t,e,n){return!!Tn.isAcute(t,e,n)&&!!Tn.isAcute(e,n,t)&&!!Tn.isAcute(n,t,e)},qn.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,s=t.y-r,a=e.x-i,u=e.y-r,l=2*qn.det(o,s,a,u),c=qn.det(s,o*o+s*s,u,a*a+u*u),p=qn.det(o,o*o+s*s,a,a*a+u*u);return new C(i-c/l,r+p/l)},qn.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new k(t.x+n/2,t.y+i/2,1),o=new k(t.x-i+n/2,t.y+n+i/2,1);return new k(r,o)},qn.angleBisector=function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new C(t.x+r*o,t.y+r*s)},qn.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=r*u-o*a,c=o*s-i*u,p=i*a-r*s,h=l*l+c*c+p*p;return Math.sqrt(h)/2},qn.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new C(i,r)},qn.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),s=i+r+o,a=(i*t.x+r*e.x+o*n.x)/s,u=(i*t.y+r*e.y+o*n.y)/s;return new C(a,u)};var Bn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Nt;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};Bn.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,w.EXTERIOR,w.INTERIOR)},Bn.prototype.addPolygon=function(t){var e=this._distance,n=Se.LEFT;this._distance<0&&(e=-this._distance,n=Se.RIGHT);var i=t.getExteriorRing(),r=Lt.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,w.EXTERIOR,w.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Lt.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,Se.opposite(n),w.INTERIOR,w.EXTERIOR)}},Bn.prototype.isTriangleErodedCompletely=function(t,e){var n=new qn(t[0],t[1],t[2]),i=n.inCentre();return at.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},Bn.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Lt.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,w.EXTERIOR,w.INTERIOR)},Bn.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var i=new gn(t,new Pe(0,w.BOUNDARY,e,n));this._curveList.add(i)},Bn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Bn.prototype.addPolygonRing=function(t,e,n,i,r){if(0===e&&t.length<ee.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=ee.MINIMUM_VALID_SIZE&&at.isCCW(t)&&(o=r,s=i,n=Se.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},Bn.prototype.add=function(t){if(t.isEmpty())return null;t instanceof $t?this.addPolygon(t):t instanceof Kt?this.addLineString(t):t instanceof Qt?this.addPoint(t):(t instanceof te||t instanceof Xt||t instanceof ne||t instanceof zt)&&this.addCollection(t)},Bn.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},Bn.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn};var Vn=function(){};Vn.prototype.locate=function(t){},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn};var Un=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Un.prototype.next=function(){if(this._atStart)return this._atStart=!1,Un.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new i;var t=this._parent.getGeometryN(this._index++);return t instanceof zt?(this._subcollectionIterator=new Un(t),this._subcollectionIterator.next()):t},Un.prototype.remove=function(){throw new Error(this.getClass().getName())},Un.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Un.prototype.interfaces_=function(){return[Et]},Un.prototype.getClass=function(){return Un},Un.isAtomic=function(t){return!(t instanceof zt)};var zn=function(){this._geom=null;var t=arguments[0];this._geom=t};zn.prototype.locate=function(t){return zn.locate(t,this._geom)},zn.prototype.interfaces_=function(){return[Vn]},zn.prototype.getClass=function(){return zn},zn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&at.isPointInRing(t,e.getCoordinates())},zn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!zn.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(zn.isPointInRing(t,r))return!1}return!0},zn.containsPoint=function(t,e){if(e instanceof $t)return zn.containsPointInPolygon(t,e);if(e instanceof zt)for(var n=new Un(e);n.hasNext();){var i=n.next();if(i!==e&&zn.containsPoint(t,i))return!0}return!1},zn.locate=function(t,e){return e.isEmpty()?w.EXTERIOR:zn.containsPoint(t,e)?w.INTERIOR:w.EXTERIOR};var Xn=function(){this._edgeMap=new p,this._edgeList=null,this._ptInAreaLocation=[w.NONE,w.NONE]};Xn.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Xn.prototype.propagateSideLabels=function(t){for(var e=w.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,Se.LEFT)!==w.NONE&&(e=i.getLocation(t,Se.LEFT))}if(e===w.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,Se.ON)===w.NONE&&a.setLocation(t,Se.ON,r),a.isArea(t)){var u=a.getLocation(t,Se.LEFT),l=a.getLocation(t,Se.RIGHT);if(l!==w.NONE){if(l!==r)throw new we("side location conflict",s.getCoordinate());u===w.NONE&&et.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),r=u}else et.isTrue(a.getLocation(t,Se.LEFT)===w.NONE,"found single null side"),a.setLocation(t,Se.RIGHT,r),a.setLocation(t,Se.LEFT,r)}}},Xn.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Xn.prototype.print=function(t){Y.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Xn.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Xn.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,Se.LEFT);et.isTrue(i!==w.NONE,"Found unlabelled area edge");for(var r=i,o=this.iterator();o.hasNext();){var s=o.next().getLabel();et.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Se.LEFT),u=s.getLocation(t,Se.RIGHT);if(a===u)return!1;if(u!==r)return!1;r=a}return!0},Xn.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Xn.prototype.iterator=function(){return this.getEdges().iterator()},Xn.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Nt(this._edgeMap.values())),this._edgeList},Xn.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===w.NONE&&(this._ptInAreaLocation[t]=zn.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Xn.prototype.toString=function(){var t=new D;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Xn.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Xn.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===w.BOUNDARY&&(e[r]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var l=w.NONE;if(e[u])l=w.EXTERIOR;else{var c=s.getCoordinate();l=this.getLocation(u,c,t)}a.setAllLocationsIfNull(u,l)}},Xn.prototype.getDegree=function(){return this._edgeMap.size()},Xn.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn};var Yn=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new we("no outgoing dirEdge found",this.getCoordinate());et.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return Be.isNorthern(r)&&Be.isNorthern(o)?n:Be.isNorthern(r)||Be.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(et.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},e.prototype.print=function(t){Y.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Nt;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Se.LEFT),i=t.getDepth(Se.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new we("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[1],a=arguments[2],u=arguments[0];u<s;u++){var l=this._edgeList.get(u);l.setEdgeDepths(Se.RIGHT,a),a=l.getDepth(Se.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(et.isTrue(null!==e,"found null for first outgoing dirEdge"),et.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=w.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=w.INTERIOR;break}if(i.isInResult()){t=w.EXTERIOR;break}}}if(t===w.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(r===w.INTERIOR):(s.isInResult()&&(r=w.EXTERIOR),a.isInResult()&&(r=w.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Pe(w.NONE);for(var n=this.iterator();n.hasNext();)for(var i=n.next().getEdge().getLabel(),r=0;r<2;r++){var o=i.getLocation(r);o!==w.INTERIOR&&o!==w.BOUNDARY||this._label.setLocation(r,w.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xn),kn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Ge(t,new Yn)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xe),jn=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};jn.prototype.compareTo=function(t){var e=t;return jn.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},jn.prototype.interfaces_=function(){return[E]},jn.prototype.getClass=function(){return jn},jn.orientation=function(t){return 1===Lt.increasingDirection(t)},jn.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var p=(u+=r)===s,h=(l+=o)===a;if(p&&!h)return-1;if(!p&&h)return 1;if(p&&h)return 0}};var Hn=function(){this._edges=new Nt,this._ocaMap=new p};Hn.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},Hn.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Hn.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Hn.prototype.iterator=function(){return this._edges.iterator()},Hn.prototype.getEdges=function(){return this._edges},Hn.prototype.get=function(t){return this._edges.get(t)},Hn.prototype.findEqualEdge=function(t){var e=new jn(t.getCoordinates());return this._ocaMap.get(e)},Hn.prototype.add=function(t){this._edges.add(t);var e=new jn(t.getCoordinates());this._ocaMap.put(e,t)},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn};var Wn=function(){};Wn.prototype.processIntersections=function(t,e,n,i){},Wn.prototype.isDone=function(){},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn};var Kn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Kn.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Kn.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},Kn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Kn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Kn.prototype.getLineIntersector=function(){return this._li},Kn.prototype.hasProperIntersection=function(){return this._hasProper},Kn.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Kn.prototype.hasIntersection=function(){return this._hasIntersection},Kn.prototype.isDone=function(){return!1},Kn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Kn.prototype.interfaces_=function(){return[Wn]},Kn.prototype.getClass=function(){return Kn},Kn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Jn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new C(t),this.segmentIndex=e,this.dist=n};Jn.prototype.getSegmentIndex=function(){return this.segmentIndex},Jn.prototype.getCoordinate=function(){return this.coord},Jn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Jn.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Jn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Jn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Jn.prototype.getDistance=function(){return this.dist},Jn.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Jn.prototype.interfaces_=function(){return[E]},Jn.prototype.getClass=function(){return Jn};var Qn=function(){this._nodeMap=new p,this.edge=null;var t=arguments[0];this.edge=t};Qn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Qn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Qn.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Qn.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Qn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new C(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new ni(o,new Pe(this.edge._label))},Qn.prototype.add=function(t,e,n){var i=new Jn(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)},Qn.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var Zn=function(){};Zn.prototype.getChainStartIndices=function(t){var e=0,n=new Nt;n.add(new M(e));do{var i=this.findChainEnd(t,e);n.add(new M(i)),e=i}while(e<t.length-1);return Zn.toIntArray(n)},Zn.prototype.findChainEnd=function(t,e){for(var n=Be.quadrant(t[e],t[e+1]),i=e+1;i<t.length&&Be.quadrant(t[i-1],t[i])===n;)i++;return i-1},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},Zn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var $n=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new j,this.env2=new j;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Zn;this.startIndex=e.getChainStartIndices(this.pts)};$n.prototype.getCoordinates=function(){return this.pts},$n.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},$n.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},$n.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[r],p=this.pts[o],h=s.pts[a],f=s.pts[u];if(o-r==1&&u-a==1)return l.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(c,p),this.env2.init(h,f),!this.env1.intersects(this.env2))return null;var g=Math.trunc((r+o)/2),d=Math.trunc((a+u)/2);r<g&&(a<d&&this.computeIntersectsForChain(r,g,s,a,d,l),d<u&&this.computeIntersectsForChain(r,g,s,d,u,l)),g<o&&(a<d&&this.computeIntersectsForChain(g,o,s,a,d,l),d<u&&this.computeIntersectsForChain(g,o,s,d,u,l))}},$n.prototype.getStartIndexes=function(){return this.startIndex},$n.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var ti=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},ei={NULL_VALUE:{configurable:!0}};ti.prototype.getDepth=function(t,e){return this._depth[t][e]},ti.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},ti.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==ti.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===ti.NULL_VALUE}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._depth[i][r]===ti.NULL_VALUE}},ti.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}},ti.prototype.getDelta=function(t){return this._depth[t][Se.RIGHT]-this._depth[t][Se.LEFT]},ti.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?w.EXTERIOR:w.INTERIOR},ti.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},ti.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var i=t.getLocation(e,n);i!==w.EXTERIOR&&i!==w.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=ti.depthAtLocation(i):this._depth[e][n]+=ti.depthAtLocation(i))}else if(3===arguments.length){var r=arguments[0],o=arguments[1];arguments[2]===w.INTERIOR&&this._depth[r][o]++}},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ti.depthAtLocation=function(t){return t===w.EXTERIOR?0:t===w.INTERIOR?1:ti.NULL_VALUE},ei.NULL_VALUE.get=function(){return-1},Object.defineProperties(ti,ei);var ni=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Qn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ti,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.pts=i,this._label=r}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Pe.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var i=!0,r=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(i=!1),this.pts[s].equals2D(n.pts[--o])||(r=!1),!i&&!r)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new $n(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new j;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,i){var r=new C(t.getIntersection(i)),o=e,s=t.getEdgeDistance(n,i),a=o+1;if(a<this.pts.length){var u=this.pts[a];r.equals2D(u)&&(o=a,s=0)}this.eiList.add(r,o,s)},e.prototype.toString=function(){var t=new D;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Se.ON),e.getLocation(1,Se.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Se.LEFT),e.getLocation(1,Se.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Se.RIGHT),e.getLocation(1,Se.RIGHT),2))},e}(Fe),ii=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Hn,this._bufParams=t||null};ii.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},ii.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new Pe(t.getLabel())).flip(),n.merge(i);var r=ii.depthDelta(i),o=e.getDepthDelta()+r;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(ii.depthDelta(t.getLabel()))},ii.prototype.buildSubgraphs=function(t,e){for(var n=new Nt,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new An(n).getDepth(o);r.computeDepth(s),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},ii.prototype.createSubgraphs=function(t){for(var e=new Nt,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new Te;r.create(i),e.add(r)}}return $e.sort(e,$e.reverseOrder()),e},ii.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},ii.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new xn,n=new rt;return n.setPrecisionModel(t),e.setSegmentIntersector(new Kn(n)),e},ii.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new Mn(n,this._bufParams),r=new Bn(t,e,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new Ye(new kn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new ke(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},ii.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=r.getData(),a=new ni(r.getCoordinates(),new Pe(s));this.insertUniqueEdge(a)}}},ii.prototype.setNoder=function(t){this._workingNoder=t},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.depthDelta=function(t){var e=t.getLocation(0,Se.LEFT),n=t.getLocation(0,Se.RIGHT);return e===w.INTERIOR&&n===w.EXTERIOR?1:e===w.EXTERIOR&&n===w.INTERIOR?-1:0},ii.convertSegStrings=function(t){for(var e=new _e,n=new Nt;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)};var ri=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=i,this._offsetX=r,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ri.prototype.rescale=function(){if(T(arguments[0],It))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&Y.out.println(n)}},ri.prototype.scale=function(){if(T(arguments[0],It)){for(var t=arguments[0],e=new Nt,n=t.iterator();n.hasNext();){var i=n.next();e.add(new gn(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),s=0;s<r.length;s++)o[s]=new C(Math.round((r[s].x-this._offsetX)*this._scaleFactor),Math.round((r[s].y-this._offsetY)*this._scaleFactor),r[s].z);return Lt.removeRepeatedPoints(o)}},ri.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ri.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ri.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},ri.prototype.interfaces_=function(){return[In]},ri.prototype.getClass=function(){return ri};var oi=function(){this._li=new rt,this._segStrings=null;var t=arguments[0];this._segStrings=t},si={fact:{configurable:!0}};oi.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),o=1;o<r.length-1;o++)if(r[o].equals(n))throw new $("found endpt/interior pt intersection at index "+o+" :pt "+n)},oi.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(r,u,o,l);else if(4===arguments.length){var c=arguments[0],p=arguments[1],h=arguments[2],f=arguments[3];if(c===h&&p===f)return null;var g=c.getCoordinates()[p],d=c.getCoordinates()[p+1],y=h.getCoordinates()[f],_=h.getCoordinates()[f+1];if(this._li.computeIntersection(g,d,y,_),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,d)||this.hasInteriorIntersection(this._li,y,_)))throw new $("found non-noded intersection at "+g+"-"+d+" and "+y+"-"+_)}},oi.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},oi.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])},oi.prototype.hasInteriorIntersection=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},oi.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new $("found non-noded collapse at "+oi.fact.createLineString([t,e,n]))},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},si.fact.get=function(){return new _e},Object.defineProperties(oi,si);var ai=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new m("Scale factor must be non-zero");1!==e&&(this._pt=new C(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new C,this._p1Scaled=new C),this.initCorners(this._pt)},ui={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ai.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return et.isTrue(!(s&&a),"Found bad envelope test"),a},ai.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new C(this._maxx,this._maxy),this._corner[1]=new C(this._minx,this._maxy),this._corner[2]=new C(this._minx,this._miny),this._corner[3]=new C(this._maxx,this._miny)},ai.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ai.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},ai.prototype.getCoordinate=function(){return this._originalPt},ai.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},ai.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=ai.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new j(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},ai.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},ai.prototype.intersectsToleranceSquare=function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&i||t.equals(this._pt)||e.equals(this._pt)))))},ai.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ui.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ai,ui);var li=function(){this.tempEnv1=new j,this.selectedSegment=new dn};li.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var e=arguments[1];arguments[0].getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li};var ci=function(){this._index=null;var t=arguments[0];this._index=t},pi={HotPixelSnapAction:{configurable:!0}};ci.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),o=new hi(e,n,i);return this._index.query(r,{interfaces_:function(){return[Ke]},visitItem:function(t){t.select(r,o)}}),o.isNodeAdded()}},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},pi.HotPixelSnapAction.get=function(){return hi},Object.defineProperties(ci,pi);var hi=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var n=arguments[1],i=arguments[0].getContext();if(null!==this._parentEdge&&i===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(i,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(li),fi=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Nt};fi.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},fi.prototype.isDone=function(){return!1},fi.prototype.getInteriorIntersections=function(){return this._interiorIntersections},fi.prototype.interfaces_=function(){return[Wn]},fi.prototype.getClass=function(){return fi};var gi=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new rt,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};gi.prototype.checkCorrectness=function(t){var e=gn.getNodedSubstrings(t),n=new oi(e);try{n.checkValid()}catch(t){if(!(t instanceof z))throw t;t.printStackTrace()}},gi.prototype.getNodedSubstrings=function(){return gn.getNodedSubstrings(this._nodedSegStrings)},gi.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},gi.prototype.findInteriorIntersections=function(t,e){var n=new fi(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},gi.prototype.computeVertexSnaps=function(){if(T(arguments[0],It))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof gn)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var o=new ai(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,r)&&n.addIntersection(i[r],r)}},gi.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new xn,this._pointSnapper=new ci(this._noder.getIndex()),this.snapRound(t,this._li)},gi.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new ai(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}},gi.prototype.interfaces_=function(){return[In]},gi.prototype.getClass=function(){return gi};var di=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Cn,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},yi={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};di.prototype.bufferFixedPrecision=function(t){var e=new ri(new gi(new fe(1)),t.getScale()),n=new ii(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},di.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=di.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof we))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=di.precisionScaleFactor(this._argGeom,this._distance,n),r=new fe(i);this.bufferFixedPrecision(r)}},di.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===fe.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},di.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},di.prototype.bufferOriginalPrecision=function(){try{var t=new ii(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof $))throw t;this._saveException=t}},di.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},di.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di},di.bufferOp=function(){if(2===arguments.length){var e=arguments[1];return new di(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ct&&"number"==typeof arguments[1]){var i=arguments[1],r=arguments[2],o=new di(arguments[0]);return o.setQuadrantSegments(r),o.getResultGeometry(i)}if(arguments[2]instanceof Cn&&arguments[0]instanceof ct&&"number"==typeof arguments[1]){var a=arguments[1];return new di(arguments[0],arguments[2]).getResultGeometry(a)}}else if(4===arguments.length){var c=arguments[1],p=arguments[2],h=arguments[3],f=new di(arguments[0]);return f.setQuadrantSegments(p),f.setEndCapStyle(h),f.getResultGeometry(c)}},di.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=R.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},yi.CAP_ROUND.get=function(){return Cn.CAP_ROUND},yi.CAP_BUTT.get=function(){return Cn.CAP_FLAT},yi.CAP_FLAT.get=function(){return Cn.CAP_FLAT},yi.CAP_SQUARE.get=function(){return Cn.CAP_SQUARE},yi.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(di,yi);var _i=function(){this._pt=[new C,new C],this._distance=v.NaN,this._isNull=!0};_i.prototype.getCoordinates=function(){return this._pt},_i.prototype.getCoordinate=function(t){return this._pt[t]},_i.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},_i.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},_i.prototype.getDistance=function(){return this._distance},_i.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i};var mi=function(){};mi.prototype.interfaces_=function(){return[]},mi.prototype.getClass=function(){return mi},mi.computeDistance=function(){if(arguments[2]instanceof _i&&arguments[0]instanceof Kt&&arguments[1]instanceof C)for(var e=arguments[1],n=arguments[2],i=arguments[0].getCoordinates(),r=new dn,o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof _i&&arguments[0]instanceof $t&&arguments[1]instanceof C){var a=arguments[0],u=arguments[1],l=arguments[2];mi.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)mi.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof _i&&arguments[0]instanceof ct&&arguments[1]instanceof C){var p=arguments[0],h=arguments[1],f=arguments[2];if(p instanceof Kt)mi.computeDistance(p,h,f);else if(p instanceof $t)mi.computeDistance(p,h,f);else if(p instanceof zt)for(var g=p,d=0;d<g.getNumGeometries();d++){var y=g.getGeometryN(d);mi.computeDistance(y,h,f)}else f.setMinimum(p.getCoordinate(),h)}else if(arguments[2]instanceof _i&&arguments[0]instanceof dn&&arguments[1]instanceof C){var m=arguments[1],v=arguments[2],I=arguments[0].closestPoint(m);v.setMinimum(I,m)}};var vi=function(t){this._maxPtDist=new _i,this._inputGeom=t||null},Ii={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};vi.prototype.computeMaxMidpointDistance=function(t){var e=new xi(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vi.prototype.computeMaxVertexDistance=function(t){var e=new Ei(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vi.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},vi.prototype.getDistancePoints=function(){return this._maxPtDist},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi},Ii.MaxPointDistanceFilter.get=function(){return Ei},Ii.MaxMidpointDistanceFilter.get=function(){return xi},Object.defineProperties(vi,Ii);var Ei=function(t){this._maxPtDist=new _i,this._minPtDist=new _i,this._geom=t||null};Ei.prototype.filter=function(t){this._minPtDist.initialize(),mi.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ei.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ei.prototype.interfaces_=function(){return[ft]},Ei.prototype.getClass=function(){return Ei};var xi=function(t){this._maxPtDist=new _i,this._minPtDist=new _i,this._geom=t||null};xi.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=new C((n.x+i.x)/2,(n.y+i.y)/2);this._minPtDist.initialize(),mi.computeDistance(this._geom,r,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xi.prototype.isDone=function(){return!1},xi.prototype.isGeometryChanged=function(){return!1},xi.prototype.getMaxPointDistance=function(){return this._maxPtDist},xi.prototype.interfaces_=function(){return[Ut]},xi.prototype.getClass=function(){return xi};var Ni=function(t){this._comps=t||null};Ni.prototype.filter=function(t){t instanceof $t&&this._comps.add(t)},Ni.prototype.interfaces_=function(){return[Vt]},Ni.prototype.getClass=function(){return Ni},Ni.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Ni.getPolygons(t,new Nt)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof $t?n.add(e):e instanceof zt&&e.apply(new Ni(n)),n}};var Ci=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Ci.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof ee){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Kt&&this._lines.add(t)},Ci.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Ci.prototype.interfaces_=function(){return[lt]},Ci.prototype.getClass=function(){return Ci},Ci.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Ci.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Ci.getLines(e,n))}},Ci.getLines=function(){if(1===arguments.length){var t=arguments[0];return Ci.getLines(t,!1)}if(2===arguments.length){if(T(arguments[0],It)&&T(arguments[1],It)){for(var n=arguments[1],i=arguments[0].iterator();i.hasNext();){var r=i.next();Ci.getLines(r,n)}return n}if(arguments[0]instanceof ct&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new Nt;return o.apply(new Ci(a,s)),a}if(arguments[0]instanceof ct&&T(arguments[1],It)){var u=arguments[0],l=arguments[1];return u instanceof Kt?l.add(u):u.apply(new Ci(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&T(arguments[0],It)&&T(arguments[1],It)){for(var p=arguments[1],h=arguments[2],f=arguments[0].iterator();f.hasNext();){var g=f.next();Ci.getLines(g,p,h)}return p}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ct&&T(arguments[1],It)){var y=arguments[1],_=arguments[2];return arguments[0].apply(new Ci(y,_)),y}}};var Si=function(){if(this._boundaryRule=gt.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new m("Rule must be non-null");this._boundaryRule=t}};Si.prototype.locateInternal=function(){if(arguments[0]instanceof C&&arguments[1]instanceof $t){var t=arguments[0],e=arguments[1];if(e.isEmpty())return w.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===w.EXTERIOR)return w.EXTERIOR;if(i===w.BOUNDARY)return w.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===w.INTERIOR)return w.EXTERIOR;if(s===w.BOUNDARY)return w.BOUNDARY}return w.INTERIOR}if(arguments[0]instanceof C&&arguments[1]instanceof Kt){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return w.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?at.isOnLine(a,l)?w.INTERIOR:w.EXTERIOR:w.BOUNDARY}if(arguments[0]instanceof C&&arguments[1]instanceof Qt){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?w.INTERIOR:w.EXTERIOR}},Si.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?at.locatePointInRing(t,e.getCoordinates()):w.EXTERIOR},Si.prototype.intersects=function(t,e){return this.locate(t,e)!==w.EXTERIOR},Si.prototype.updateLocationInfo=function(t){t===w.INTERIOR&&(this._isIn=!0),t===w.BOUNDARY&&this._numBoundaries++},Si.prototype.computeLocation=function(t,e){if(e instanceof Qt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Kt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof $t)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Xt)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof ne)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof zt)for(var u=new Un(e);u.hasNext();){var l=u.next();l!==e&&this.computeLocation(t,l)}},Si.prototype.locate=function(t,e){return e.isEmpty()?w.EXTERIOR:e instanceof Kt||e instanceof $t?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?w.BOUNDARY:this._numBoundaries>0||this._isIn?w.INTERIOR:w.EXTERIOR)},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si};var Li=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._component=i,this._segIndex=r,this._pt=o}},bi={INSIDE_AREA:{configurable:!0}};Li.prototype.isInsideArea=function(){return this._segIndex===Li.INSIDE_AREA},Li.prototype.getCoordinate=function(){return this._pt},Li.prototype.getGeometryComponent=function(){return this._component},Li.prototype.getSegmentIndex=function(){return this._segIndex},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},bi.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Li,bi);var wi=function(t){this._pts=t||null};wi.prototype.filter=function(t){t instanceof Qt&&this._pts.add(t)},wi.prototype.interfaces_=function(){return[Vt]},wi.prototype.getClass=function(){return wi},wi.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Qt?$e.singletonList(t):wi.getPoints(t,new Nt)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Qt?n.add(e):e instanceof zt&&e.apply(new wi(n)),n}};var Oi=function(){this._locations=null;var t=arguments[0];this._locations=t};Oi.prototype.filter=function(t){(t instanceof Qt||t instanceof Kt||t instanceof $t)&&this._locations.add(new Li(t,0,t.getCoordinate()))},Oi.prototype.interfaces_=function(){return[Vt]},Oi.prototype.getClass=function(){return Oi},Oi.getLocations=function(t){var e=new Nt;return t.apply(new Oi(e)),e};var Ti=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Si,this._minDistanceLocation=null,this._minDistance=v.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=i,this._terminateDistance=r}};Ti.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=Ni.getPolygons(this._geom[e]);if(r.size()>0){var o=Oi.getLocations(this._geom[i]);if(this.computeContainmentDistance(o,r,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&T(arguments[0],xt)&&T(arguments[1],xt)){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=0;l<s.size();l++)for(var c=s.get(l),p=0;p<a.size();p++)if(this.computeContainmentDistance(c,a.get(p),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Li&&arguments[1]instanceof $t){var h=arguments[0],f=arguments[1],g=arguments[2],d=h.getCoordinate();if(w.EXTERIOR!==this._ptLocator.locate(d,f))return this._minDistance=0,g[0]=h,g[1]=new Li(f,d),null}},Ti.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},Ti.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Ci.getLines(this._geom[0]),n=Ci.getLines(this._geom[1]),i=wi.getPoints(this._geom[0]),r=wi.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},Ti.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Ti.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Ti.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Ti.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Kt&&arguments[1]instanceof Qt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var s=at.distancePointLine(r,i[o],i[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new dn(i[o],i[o+1]).closestPoint(r);n[0]=new Li(t,o,a),n[1]=new Li(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Kt&&arguments[1]instanceof Kt){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var p=u.getCoordinates(),h=l.getCoordinates(),f=0;f<p.length-1;f++)for(var g=0;g<h.length-1;g++){var d=at.distanceLineLine(p[f],p[f+1],h[g],h[g+1]);if(d<this._minDistance){this._minDistance=d;var y=new dn(p[f],p[f+1]),_=new dn(h[g],h[g+1]),m=y.closestPoints(_);c[0]=new Li(u,f,m[0]),c[1]=new Li(l,g,m[1])}if(this._minDistance<=this._terminateDistance)return null}}},Ti.prototype.computeMinDistancePoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new Li(r,0,r.getCoordinate()),n[1]=new Li(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Ti.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new m("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Ti.prototype.computeMinDistanceLines=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.distance=function(t,e){return new Ti(t,e).distance()},Ti.isWithinDistance=function(t,e,n){return new Ti(t,e,n).distance()<=n},Ti.nearestPoints=function(t,e){return new Ti(t,e).nearestPoints()};var Ri=function(){this._pt=[new C,new C],this._distance=v.NaN,this._isNull=!0};Ri.prototype.getCoordinates=function(){return this._pt},Ri.prototype.getCoordinate=function(t){return this._pt[t]},Ri.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},Ri.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},Ri.prototype.toString=function(){return Z.toLineString(this._pt[0],this._pt[1])},Ri.prototype.getDistance=function(){return this._distance},Ri.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri};var Pi=function(){};Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi},Pi.computeDistance=function(){if(arguments[2]instanceof Ri&&arguments[0]instanceof Kt&&arguments[1]instanceof C)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=new dn,r=t.getCoordinates(),o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Ri&&arguments[0]instanceof $t&&arguments[1]instanceof C){var a=arguments[0],u=arguments[1],l=arguments[2];Pi.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)Pi.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Ri&&arguments[0]instanceof ct&&arguments[1]instanceof C){var p=arguments[0],h=arguments[1],f=arguments[2];if(p instanceof Kt)Pi.computeDistance(p,h,f);else if(p instanceof $t)Pi.computeDistance(p,h,f);else if(p instanceof zt)for(var g=p,d=0;d<g.getNumGeometries();d++){var y=g.getGeometryN(d);Pi.computeDistance(y,h,f)}else f.setMinimum(p.getCoordinate(),h)}else if(arguments[2]instanceof Ri&&arguments[0]instanceof dn&&arguments[1]instanceof C){var m=arguments[1],v=arguments[2],I=arguments[0].closestPoint(m);v.setMinimum(I,m)}};var Di=function(){this._g0=null,this._g1=null,this._ptDist=new Ri,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Mi={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Di.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Di.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new m("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Di.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Di.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Di.prototype.computeOrientedDistance=function(t,e,n){var i=new Ai(e);if(t.apply(i),n.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var r=new Fi(e,this._densifyFrac);t.apply(r),n.setMaximum(r.getMaxPointDistance())}},Di.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Di.prototype.interfaces_=function(){return[]},Di.prototype.getClass=function(){return Di},Di.distance=function(){if(2===arguments.length)return new Di(arguments[0],arguments[1]).distance();if(3===arguments.length){var r=arguments[2],o=new Di(arguments[0],arguments[1]);return o.setDensifyFraction(r),o.distance()}},Mi.MaxPointDistanceFilter.get=function(){return Ai},Mi.MaxDensifiedByFractionDistanceFilter.get=function(){return Fi},Object.defineProperties(Di,Mi);var Ai=function(){this._maxPtDist=new Ri,this._minPtDist=new Ri,this._euclideanDist=new Pi,this._geom=null;var t=arguments[0];this._geom=t};Ai.prototype.filter=function(t){this._minPtDist.initialize(),Pi.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ai.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ai.prototype.interfaces_=function(){return[ft]},Ai.prototype.getClass=function(){return Ai};var Fi=function(){this._maxPtDist=new Ri,this._minPtDist=new Ri,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Fi.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=(i.x-n.x)/this._numSubSegs,o=(i.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*r,u=n.y+s*o,l=new C(a,u);this._minPtDist.initialize(),Pi.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Fi.prototype.isDone=function(){return!1},Fi.prototype.isGeometryChanged=function(){return!1},Fi.prototype.getMaxPointDistance=function(){return this._maxPtDist},Fi.prototype.interfaces_=function(){return[Ut]},Fi.prototype.getClass=function(){return Fi};var Gi=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},qi={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Gi.prototype.checkMaximumDistance=function(t,e,n){var i=new Di(e,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var r=i.getCoordinates();this._errorLocation=r[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Z.toLineString(r[0],r[1])+")"}},Gi.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Gi.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Gi.VERBOSE&&Y.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Gi.prototype.checkNegativeValid=function(){if(!(this._input instanceof $t||this._input instanceof ne||this._input instanceof zt))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Gi.prototype.getErrorIndicator=function(){return this._errorIndicator},Gi.prototype.checkMinimumDistance=function(t,e,n){var i=new Ti(t,e,n);if(this._minDistanceFound=i.distance(),this._minDistanceFound<n){this._isValid=!1;var r=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Z.toLineString(r[0],r[1])+" )"}},Gi.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Gi.prototype.getErrorLocation=function(){return this._errorLocation},Gi.prototype.getPolygonLines=function(t){for(var e=new Nt,n=new Ci(e),i=Ni.getPolygons(t).iterator();i.hasNext();)i.next().apply(n);return t.getFactory().buildGeometry(e)},Gi.prototype.getErrorMessage=function(){return this._errMsg},Gi.prototype.interfaces_=function(){return[]},Gi.prototype.getClass=function(){return Gi},qi.VERBOSE.get=function(){return!1},qi.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Gi,qi);var Bi=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Vi={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Bi.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Bi.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Bi.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new j(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new j(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Bi.prototype.checkDistance=function(){var t=new Gi(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Bi.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Bi.prototype.checkPolygonal=function(){this._result instanceof $t||this._result instanceof ne||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Bi.prototype.getErrorIndicator=function(){return this._errorIndicator},Bi.prototype.getErrorLocation=function(){return this._errorLocation},Bi.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Bi.prototype.report=function(t){if(!Bi.VERBOSE)return null;Y.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Bi.prototype.getErrorMessage=function(){return this._errorMsg},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi},Bi.isValidMsg=function(t,e,n){var i=new Bi(t,e,n);return i.isValid()?null:i.getErrorMessage()},Bi.isValid=function(t,e,n){return!!new Bi(t,e,n).isValid()},Vi.VERBOSE.get=function(){return!1},Vi.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Bi,Vi);var Ui=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Ui.prototype.getCoordinates=function(){return this._pts},Ui.prototype.size=function(){return this._pts.length},Ui.prototype.getCoordinate=function(t){return this._pts[t]},Ui.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ui.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:pn.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Ui.prototype.setData=function(t){this._data=t},Ui.prototype.getData=function(){return this._data},Ui.prototype.toString=function(){return Z.toLineString(new ue(this._pts))},Ui.prototype.interfaces_=function(){return[hn]},Ui.prototype.getClass=function(){return Ui};var zi=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Nt,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};zi.prototype.getInteriorIntersection=function(){return this._interiorIntersection},zi.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},zi.prototype.getIntersectionSegments=function(){return this._intSegments},zi.prototype.count=function(){return this._intersectionCount},zi.prototype.getIntersections=function(){return this._intersections},zi.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},zi.prototype.setKeepIntersections=function(t){this._keepIntersections=t},zi.prototype.processIntersections=function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,i))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},zi.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},zi.prototype.hasIntersection=function(){return null!==this._interiorIntersection},zi.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},zi.prototype.interfaces_=function(){return[Wn]},zi.prototype.getClass=function(){return zi},zi.createAllIntersectionsFinder=function(t){var e=new zi(t);return e.setFindAllIntersections(!0),e},zi.createAnyIntersectionFinder=function(t){return new zi(t)},zi.createIntersectionCounter=function(t){var e=new zi(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Xi=function(){this._li=new rt,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Xi.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Xi.prototype.getIntersections=function(){return this._segInt.getIntersections()},Xi.prototype.isValid=function(){return this.execute(),this._isValid},Xi.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Xi.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new zi(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new xn;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Xi.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new we(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Xi.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Z.toLineString(t[0],t[1])+" and "+Z.toLineString(t[2],t[3])},Xi.prototype.interfaces_=function(){return[]},Xi.prototype.getClass=function(){return Xi},Xi.computeIntersections=function(t){var e=new Xi(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Yi=function t(){this._nv=null;var e=arguments[0];this._nv=new Xi(t.toSegmentStrings(e))};Yi.prototype.checkValid=function(){this._nv.checkValid()},Yi.prototype.interfaces_=function(){return[]},Yi.prototype.getClass=function(){return Yi},Yi.toSegmentStrings=function(t){for(var e=new Nt,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Ui(i.getCoordinates(),i))}return e},Yi.checkValid=function(t){new Yi(t).checkValid()};var ki=function(t){this._mapOp=t};ki.prototype.map=function(t){for(var e=new Nt,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(_e.toGeometryArray(e))},ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki},ki.map=function(t,e){return new ki(e).map(t)};var ji=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Nt,this._resultLineList=new Nt;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};ji.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},ji.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},ji.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},ji.prototype.collectLineEdge=function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Lr.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},ji.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this._op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},ji.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},ji.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(i),n.setInResult(!0)}},ji.prototype.collectBoundaryTouchEdge=function(t,e,n){var i=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(et.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Lr.isResultOfOp(i,e)&&e===Lr.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},ji.prototype.interfaces_=function(){return[]},ji.prototype.getClass=function(){return ji};var Hi=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Nt;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Hi.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Hi.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Lr.INTERSECTION)){var i=n.getLabel();Lr.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},Hi.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi};var Wi=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Wi.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Wi.prototype.transformPolygon=function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof ee&&!i.isEmpty()||(n=!1);for(var r=new Nt,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof ee||(n=!1),r.add(s))}if(n)return this._factory.createPolygon(i,r.toArray([]));var a=new Nt;return null!==i&&a.add(i),a.addAll(r),this._factory.buildGeometry(a)},Wi.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Wi.prototype.getInputGeometry=function(){return this._inputGeom},Wi.prototype.transformMultiLineString=function(t,e){for(var n=new Nt,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Wi.prototype.transformCoordinates=function(t,e){return this.copy(t)},Wi.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Wi.prototype.transformMultiPoint=function(t,e){for(var n=new Nt,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Wi.prototype.transformMultiPolygon=function(t,e){for(var n=new Nt,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Wi.prototype.copy=function(t){return t.copy()},Wi.prototype.transformGeometryCollection=function(t,e){for(var n=new Nt,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(_e.toGeometryArray(n)):this._factory.buildGeometry(n)},Wi.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Qt)return this.transformPoint(t,null);if(t instanceof te)return this.transformMultiPoint(t,null);if(t instanceof ee)return this.transformLinearRing(t,null);if(t instanceof Kt)return this.transformLineString(t,null);if(t instanceof Xt)return this.transformMultiLineString(t,null);if(t instanceof $t)return this.transformPolygon(t,null);if(t instanceof ne)return this.transformMultiPolygon(t,null);if(t instanceof zt)return this.transformGeometryCollection(t,null);throw new m("Unknown Geometry subtype: "+t.getClass().getName())},Wi.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Wi.prototype.interfaces_=function(){return[]},Wi.prototype.getClass=function(){return Wi};var Ki=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new dn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Kt&&"number"==typeof arguments[1]){var n=arguments[1];t.call(this,arguments[0].getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var i=arguments[0],r=arguments[1];this._srcPts=i,this._isClosed=t.isClosed(i),this._snapTolerance=r}};Ki.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new C(o)),0===i&&this._isClosed&&t.set(t.size()-1,new C(o)))}},Ki.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Ki.prototype.snapTo=function(t){var e=new St(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Ki.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new C(r),!1)}},Ki.prototype.findSegmentIndexToSnap=function(t,e){for(var n=v.MAX_VALUE,i=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,i=r)}return i},Ki.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Ki.prototype.interfaces_=function(){return[]},Ki.prototype.getClass=function(){return Ki},Ki.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Ji=function(t){this._srcGeom=t||null},Qi={SNAP_PRECISION_FACTOR:{configurable:!0}};Ji.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Zi(e,n).transform(this._srcGeom)},Ji.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new Zi(t,n,!0).transform(this._srcGeom),r=i;return e&&T(r,Zt)&&(r=i.buffer(0)),r},Ji.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Ji.prototype.extractTargetCoordinates=function(t){for(var e=new f,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},Ji.prototype.computeMinimumSegmentLength=function(t){for(var e=v.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji},Ji.snap=function(t,e,n){var i=new Array(2).fill(null),r=new Ji(t);i[0]=r.snapTo(e,n);var o=new Ji(e);return i[1]=o.snapTo(i[0],n),i},Ji.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Ji.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===fe.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min(Ji.computeOverlaySnapTolerance(r),Ji.computeOverlaySnapTolerance(o))}},Ji.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Ji.SNAP_PRECISION_FACTOR},Ji.snapToSelf=function(t,e,n){return new Ji(t).snapToSelf(e,n)},Qi.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Ji,Qi);var Zi=function(t){function e(e,n,i){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==i&&i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Ki(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wi),$i=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};$i.prototype.getCommon=function(){return v.longBitsToDouble(this._commonBits)},$i.prototype.add=function(t){var e=v.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=$i.signExpBits(this._commonBits),this._isFirst=!1,null):$i.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=$i.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=$i.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},$i.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=v.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+v.toBinaryString(t),i=n.substring(n.length-64);return i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+e+" ]"}},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i},$i.getBit=function(t,e){return 0!=(t&1<<e)?1:0},$i.signExpBits=function(t){return t>>52},$i.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},$i.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if($i.getBit(t,i)!==$i.getBit(e,i))return n;n++}return 52};var tr=function(){this._commonCoord=null,this._ccFilter=new nr},er={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};tr.prototype.addCommonBits=function(t){var e=new ir(this._commonCoord);t.apply(e),t.geometryChanged()},tr.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new C(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new ir(e);return t.apply(n),t.geometryChanged(),t},tr.prototype.getCommonCoordinate=function(){return this._commonCoord},tr.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},er.CommonCoordinateFilter.get=function(){return nr},er.Translater.get=function(){return ir},Object.defineProperties(tr,er);var nr=function(){this._commonBitsX=new $i,this._commonBitsY=new $i};nr.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},nr.prototype.getCommonCoordinate=function(){return new C(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},nr.prototype.interfaces_=function(){return[ft]},nr.prototype.getClass=function(){return nr};var ir=function(){this.trans=null;var t=arguments[0];this.trans=t};ir.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},ir.prototype.isDone=function(){return!1},ir.prototype.isGeometryChanged=function(){return!0},ir.prototype.interfaces_=function(){return[Ut]},ir.prototype.getClass=function(){return ir};var rr=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};rr.prototype.selfSnap=function(t){return new Ji(t).snapTo(t,this._snapTolerance)},rr.prototype.removeCommonBits=function(t){this._cbr=new tr,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},rr.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},rr.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Lr.overlayOp(e[0],e[1],t);return this.prepareResult(n)},rr.prototype.checkValid=function(t){t.isValid()||Y.out.println("Snapped geometry is invalid")},rr.prototype.computeSnapTolerance=function(){this._snapTolerance=Ji.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},rr.prototype.snap=function(t){var e=this.removeCommonBits(t);return Ji.snap(e[0],e[1],this._snapTolerance)},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.overlayOp=function(t,e,n){return new rr(t,e).getResultGeometry(n)},rr.union=function(t,e){return rr.overlayOp(t,e,Lr.UNION)},rr.intersection=function(t,e){return rr.overlayOp(t,e,Lr.INTERSECTION)},rr.symDifference=function(t,e){return rr.overlayOp(t,e,Lr.SYMDIFFERENCE)},rr.difference=function(t,e){return rr.overlayOp(t,e,Lr.DIFFERENCE)};var or=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};or.prototype.getResultGeometry=function(t){var e=null,n=!1,i=null;try{e=Lr.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof $))throw t;i=t}if(!n)try{e=rr.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof $?i:t}return e},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},or.overlayOp=function(t,e,n){return new or(t,e).getResultGeometry(n)},or.union=function(t,e){return or.overlayOp(t,e,Lr.UNION)},or.intersection=function(t,e){return or.overlayOp(t,e,Lr.INTERSECTION)},or.symDifference=function(t,e){return or.overlayOp(t,e,Lr.SYMDIFFERENCE)},or.difference=function(t,e){return or.overlayOp(t,e,Lr.DIFFERENCE)};var sr=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};sr.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr};var ar=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=i,this._xValue=r,this._obj=o}},ur={INSERT:{configurable:!0},DELETE:{configurable:!0}};ar.prototype.isDelete=function(){return this._eventType===ar.DELETE},ar.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ar.prototype.getObject=function(){return this._obj},ar.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},ar.prototype.getInsertEvent=function(){return this._insertEvent},ar.prototype.isInsert=function(){return this._eventType===ar.INSERT},ar.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},ar.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ar.prototype.interfaces_=function(){return[E]},ar.prototype.getClass=function(){return ar},ur.INSERT.get=function(){return 1},ur.DELETE.get=function(){return 2},Object.defineProperties(ar,ur);var lr=function(){};lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr};var cr=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};cr.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(cr.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},cr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},cr.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},cr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},cr.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},cr.prototype.hasProperIntersection=function(){return this._hasProper},cr.prototype.hasIntersection=function(){return this._hasIntersection},cr.prototype.isDone=function(){return this._isDone},cr.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},cr.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},cr.prototype.addIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr},cr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var pr=function(t){function e(){t.call(this),this.events=new Nt,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){$e.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof cr&&T(arguments[0],xt)&&T(arguments[1],xt)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&T(arguments[0],xt)&&arguments[1]instanceof cr){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new sr(n,r),s=new ar(e,n.getMinX(r),o);this.events.add(s),this.events.add(new ar(n.getMaxX(r),s))}},e.prototype.processOverlaps=function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(r.computeIntersections(a,i),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var i=arguments[1],r=arguments[0].iterator();r.hasNext();){var o=r.next();this.addEdge(o,i)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(lr),hr=function(){this._min=v.POSITIVE_INFINITY,this._max=v.NEGATIVE_INFINITY},fr={NodeComparator:{configurable:!0}};hr.prototype.getMin=function(){return this._min},hr.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},hr.prototype.getMax=function(){return this._max},hr.prototype.toString=function(){return Z.toLineString(new C(this._min,0),new C(this._max,0))},hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr},fr.NodeComparator.get=function(){return gr},Object.defineProperties(hr,fr);var gr=function(){};gr.prototype.compare=function(t,e){var n=t,i=e,r=(n._min+n._max)/2,o=(i._min+i._max)/2;return r<o?-1:r>o?1:0},gr.prototype.interfaces_=function(){return[N]},gr.prototype.getClass=function(){return gr};var dr=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],i=arguments[2];this._min=e,this._max=n,this._item=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hr),yr=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hr),_r=function(){this._leaves=new Nt,this._root=null,this._level=0};_r.prototype.buildTree=function(){$e.sort(this._leaves,new hr.NodeComparator);for(var t=this._leaves,e=null,n=new Nt;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},_r.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new dr(t,e,n))},_r.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},_r.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},_r.prototype.printNode=function(t){Y.out.println(Z.toLineString(new C(t._min,this._level),new C(t._max,this._level)))},_r.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},_r.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new yr(t.get(n),t.get(n+1));e.add(r)}}},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r};var mr=function(){this._items=new Nt};mr.prototype.visitItem=function(t){this._items.add(t)},mr.prototype.getItems=function(){return this._items},mr.prototype.interfaces_=function(){return[Ke]},mr.prototype.getClass=function(){return mr};var vr=function(){this._index=null;var t=arguments[0];if(!T(t,Zt))throw new m("Argument must be Polygonal");this._index=new xr(t)},Ir={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};vr.prototype.locate=function(t){var e=new st(t),n=new Er(e);return this._index.query(t.y,t.y,n),e.getLocation()},vr.prototype.interfaces_=function(){return[Vn]},vr.prototype.getClass=function(){return vr},Ir.SegmentVisitor.get=function(){return Er},Ir.IntervalIndexedGeometry.get=function(){return xr},Object.defineProperties(vr,Ir);var Er=function(){this._counter=null;var t=arguments[0];this._counter=t};Er.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},Er.prototype.interfaces_=function(){return[Ke]},Er.prototype.getClass=function(){return Er};var xr=function(){this._index=new _r;var t=arguments[0];this.init(t)};xr.prototype.init=function(t){for(var e=Ci.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},xr.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new dn(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this._index.insert(i,r,n)}},xr.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new mr;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._index.query(i,r,o)}},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr};var Nr=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new he,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Si,2===arguments.length){var e=arguments[0],n=arguments[1],i=gt.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=i,null!==n&&this.add(n)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=r,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var i=this._nodes.addNode(n).getLabel(),r=1;w.NONE,i.getLocation(t,Se.ON)===w.BOUNDARY&&r++;var o=e.determineBoundary(this._boundaryNodeRule,r);i.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var i=arguments[1],r=arguments[2],o=new cr(arguments[0],!0,!1);o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof ee||this._parentGeom instanceof $t||this._parentGeom instanceof ne,u=i||!a;return s.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var i=new cr(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Qt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,w.INTERIOR)}else if(arguments[0]instanceof C){var e=arguments[0];this.insertPoint(this._argIndex,e,w.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),w.EXTERIOR,w.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,w.INTERIOR,w.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],w.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],w.BOUNDARY)},e.prototype.addLineString=function(t){var e=Lt.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new ni(e,new Pe(this._argIndex,w.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),et.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===w.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var i=Lt.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var r=e,o=n;at.isCCW(i)&&(r=n,o=e);var s=new ni(i,new Pe(this._argIndex,w.BOUNDARY,r,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,i[0],w.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var i=this._nodes.addNode(e),r=i.getLabel();null===r?i._label=new Pe(t,n):r.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new pr},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof ne&&(this._useBoundaryDeterminationRule=!1),e instanceof $t)this.addPolygon(e);else if(e instanceof Kt)this.addLineString(e);else if(e instanceof Qt)this.addPoint(e);else if(e instanceof te)this.addCollection(e);else if(e instanceof Xt)this.addCollection(e);else if(e instanceof ne)this.addCollection(e);else{if(!(e instanceof zt))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return T(this._parentGeom,Zt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new vr(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?w.BOUNDARY:w.INTERIOR},e}(Ye),Cr=function(){if(this._li=new rt,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Nr(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=gt.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Nr(0,e,i),this._arg[1]=new Nr(1,n,i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];r.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Nr(0,r,s),this._arg[1]=new Nr(1,o,s)}};Cr.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Cr.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr};var Sr=function(){};Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr},Sr.map=function(){if(arguments[0]instanceof ct&&T(arguments[1],Sr.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Nt,i=0;i<t.getNumGeometries();i++){var r=e.map(t.getGeometryN(i));null!==r&&n.add(r)}return t.getFactory().buildGeometry(n)}if(T(arguments[0],It)&&T(arguments[1],Sr.MapOp)){for(var o=arguments[0],s=arguments[1],a=new Nt,u=o.iterator();u.hasNext();){var l=u.next(),c=s.map(l);null!==c&&a.add(c)}return a}},Sr.MapOp=function(){};var Lr=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Si,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Hn,this._resultPolyList=new Nt,this._resultLineList=new Nt,this._resultPointList=new Nt,this._graph=new Ye(new kn),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new Pe(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,i,r){var o=new Nt;return o.addAll(t),o.addAll(n),o.addAll(i),o.isEmpty()?e.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==w.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Nt,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Nt;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Yi.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new ke(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var i=new ji(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var r=new Hi(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea()&&!i.isInteriorAreaEdge()&&e.isResultOfOp(r.getLocation(0,Se.RIGHT),r.getLocation(1,Se.RIGHT),t)&&i.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(et.isTrue(!i.isNull(r,Se.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,Se.LEFT,i.getLocation(r,Se.LEFT)),et.isTrue(!i.isNull(r,Se.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,Se.RIGHT,i.getLocation(r,Se.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Cr);Lr.overlayOp=function(t,e,n){return new Lr(t,e).getResultGeometry(n)},Lr.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Lr.createEmptyResult(Lr.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return ki.map(t,{interfaces_:function(){return[Sr.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Lr.INTERSECTION)},Lr.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Lr.createEmptyResult(Lr.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Lr.SYMDIFFERENCE)},Lr.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case Lr.INTERSECTION:o=Math.min(i,r);break;case Lr.UNION:o=Math.max(i,r);break;case Lr.DIFFERENCE:o=i;break;case Lr.SYMDIFFERENCE:o=Math.max(i,r)}return o},Lr.createEmptyResult=function(t,e,n,i){var r=null;switch(Lr.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},Lr.difference=function(t,e){return t.isEmpty()?Lr.createEmptyResult(Lr.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Lr.DIFFERENCE))},Lr.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return Lr.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];switch(r===w.BOUNDARY&&(r=w.INTERIOR),o===w.BOUNDARY&&(o=w.INTERIOR),s){case Lr.INTERSECTION:return r===w.INTERIOR&&o===w.INTERIOR;case Lr.UNION:return r===w.INTERIOR||o===w.INTERIOR;case Lr.DIFFERENCE:return r===w.INTERIOR&&o!==w.INTERIOR;case Lr.SYMDIFFERENCE:return r===w.INTERIOR&&o!==w.INTERIOR||r!==w.INTERIOR&&o===w.INTERIOR}return!1}},Lr.INTERSECTION=1,Lr.UNION=2,Lr.DIFFERENCE=3,Lr.SYMDIFFERENCE=4;var br=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Si,this._seg=new dn;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};br.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),i=0;i<n.size()-1;i++)if(n.getCoordinate(i,this._seg.p0),n.getCoordinate(i+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},br.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?w.BOUNDARY:this._ptLocator.locate(t,this._g)},br.prototype.extractLinework=function(t){var e=new wr;t.apply(e);var n=e.getLinework(),i=_e.toLineStringArray(n);return t.getFactory().createMultiLineString(i)},br.prototype.interfaces_=function(){return[]},br.prototype.getClass=function(){return br};var wr=function(){this._linework=null,this._linework=new Nt};wr.prototype.getLinework=function(){return this._linework},wr.prototype.filter=function(t){if(t instanceof $t){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},wr.prototype.interfaces_=function(){return[Vt]},wr.prototype.getClass=function(){return wr};var Or=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Or.prototype.extractPoints=function(t,e,n){for(var i=t.getCoordinates(),r=0;r<i.length-1;r++)this.computeOffsetPoints(i[r],i[r+1],e,n)},Or.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Or.prototype.getPoints=function(t){for(var e=new Nt,n=Ci.getLines(this._g).iterator();n.hasNext();){var i=n.next();this.extractPoints(i,t,e)}return e},Or.prototype.computeOffsetPoints=function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,s=Math.sqrt(r*r+o*o),a=n*r/s,u=n*o/s,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var p=new C(l-u,c+a);i.add(p)}if(this._doRight){var h=new C(l+u,c-a);i.add(h)}},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or};var Tr=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Nt;var e=arguments[0],n=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,i],this._locFinder=[new br(this._geom[0],this._boundaryDistanceTolerance),new br(this._geom[1],this._boundaryDistanceTolerance),new br(this._geom[2],this._boundaryDistanceTolerance)]},Rr={TOLERANCE:{configurable:!0}};Tr.prototype.reportResult=function(t,e,n){Y.out.println("Overlay result invalid - A:"+w.toLocationSymbol(e[0])+" B:"+w.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+w.toLocationSymbol(e[2]))},Tr.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Tr.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._location[0]=this._locFinder[0].getLocation(r),this._location[1]=this._locFinder[1].getLocation(r),this._location[2]=this._locFinder[2].getLocation(r),!!Tr.hasLocation(this._location,w.BOUNDARY)||this.isValidResult(i,this._location)}},Tr.prototype.addTestPts=function(t){var e=new Or(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Tr.prototype.isValidResult=function(t,e){var n=Lr.isResultOfOp(e[0],e[1],t),i=!(n^e[2]===w.INTERIOR);return i||this.reportResult(t,e,n),i},Tr.prototype.getInvalidLocation=function(){return this._invalidLocation},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},Tr.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Tr.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Ji.computeSizeBasedSnapTolerance(t),Ji.computeSizeBasedSnapTolerance(e))},Tr.isValid=function(t,e,n,i){return new Tr(t,e,i).isValid(n)},Rr.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Tr,Rr);var Pr=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Pr.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},Pr.prototype.combine=function(){for(var t=new Nt,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Pr.prototype.interfaces_=function(){return[]},Pr.prototype.getClass=function(){return Pr},Pr.combine=function(){if(1===arguments.length)return new Pr(arguments[0]).combine();if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Pr(Pr.createList(e,n)).combine()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];return new Pr(Pr.createList(i,r,o)).combine()}},Pr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Pr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Nt;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=new Nt;return s.add(i),s.add(r),s.add(o),s}};var Dr=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Nt)},Mr={STRTREE_NODE_CAPACITY:{configurable:!0}};Dr.prototype.reduceToGeometries=function(t){for(var e=new Nt,n=t.iterator();n.hasNext();){var i=n.next(),r=null;T(i,xt)?r=this.unionTree(i):i instanceof ct&&(r=i),e.add(r)}return e},Dr.prototype.extractByEnvelope=function(t,e,n){for(var i=new Nt,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this._geomFactory.buildGeometry(i)},Dr.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i))return Pr.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},Dr.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new sn(Dr.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},Dr.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var r=Dr.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(Dr.getGeometry(e,n),Dr.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,i);return this.unionSafe(s,a)}},Dr.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},Dr.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Dr.prototype.unionActual=function(t,e){return Dr.restrictToPolygons(t.union(e))},Dr.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Dr.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var i=new Nt,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);return i.add(s),Pr.combine(i)},Dr.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr},Dr.restrictToPolygons=function(t){if(T(t,Zt))return t;var e=Ni.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(_e.toPolygonArray(e))},Dr.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Dr.union=function(t){return new Dr(t).union()},Mr.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Dr,Mr);var Ar=function(){};Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Lr.createEmptyResult(Lr.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Lr.UNION)},t.GeoJSONReader=Ne,t.GeoJSONWriter=Ce,t.OverlayOp=Lr,t.UnionOp=Ar,t.BufferOp=di,Object.defineProperty(t,"__esModule",{value:!0})}(exports)},"./node_modules/typed-function/typed-function.js":function(module,exports){"use strict";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=function(){function ok(){return!0}function notOk(){return!1}function undef(){}function create(){var _types=[{name:"number",test:function(x){return"number"==typeof x}},{name:"string",test:function(x){return"string"==typeof x}},{name:"boolean",test:function(x){return"boolean"==typeof x}},{name:"Function",test:function(x){return"function"==typeof x}},{name:"Array",test:Array.isArray},{name:"Date",test:function(x){return x instanceof Date}},{name:"RegExp",test:function(x){return x instanceof RegExp}},{name:"Object",test:function(x){return"object"==typeof x&&null!==x&&x.constructor===Object}},{name:"null",test:function(x){return null===x}},{name:"undefined",test:function(x){return void 0===x}}],anyType={name:"any",test:ok},_ignore=[],_conversions=[],typed={types:_types,conversions:_conversions,ignore:_ignore};function findTypeByName(typeName){var entry=findInArray(typed.types,(function(entry){return entry.name===typeName}));if(entry)return entry;if("any"===typeName)return anyType;var hint=findInArray(typed.types,(function(entry){return entry.name.toLowerCase()===typeName.toLowerCase()}));throw new TypeError('Unknown type "'+typeName+'"'+(hint?'. Did you mean "'+hint.name+'"?':""))}function findTypeIndex(type){return type===anyType?999:typed.types.indexOf(type)}function findTypeName(value){var entry=findInArray(typed.types,(function(entry){return entry.test(value)}));if(entry)return entry.name;throw new TypeError("Value has unknown type. Value: "+value)}function find(fn,signature){if(!fn.signatures)throw new TypeError("Function is no typed-function");var arr;if("string"==typeof signature){arr=signature.split(",");for(var i=0;i<arr.length;i++)arr[i]=arr[i].trim()}else{if(!Array.isArray(signature))throw new TypeError("String array or a comma separated string expected");arr=signature}var str=arr.join(","),match=fn.signatures[str];if(match)return match;throw new TypeError("Signature not found (signature: "+(fn.name||"unnamed")+"("+arr.join(", ")+"))")}function convert(value,type){var from=findTypeName(value);if(type===from)return value;for(var i=0;i<typed.conversions.length;i++){var conversion=typed.conversions[i];if(conversion.from===from&&conversion.to===type)return conversion.convert(value)}throw new Error("Cannot convert from "+from+" to "+type)}function stringifyParams(params){return params.map((function(param){var typeNames=param.types.map(getTypeName);return(param.restParam?"...":"")+typeNames.join("|")})).join(",")}function parseParam(param,conversions){var restParam=0===param.indexOf("..."),typeNames=(restParam?param.length>3?param.slice(3):"any":param).split("|").map(trim).filter(notEmpty).filter(notIgnore),matchingConversions=filterConversions(conversions,typeNames),exactTypes=typeNames.map((function(typeName){var type=findTypeByName(typeName);return{name:typeName,typeIndex:findTypeIndex(type),test:type.test,conversion:null,conversionIndex:-1}})),convertibleTypes=matchingConversions.map((function(conversion){var type=findTypeByName(conversion.from);return{name:conversion.from,typeIndex:findTypeIndex(type),test:type.test,conversion:conversion,conversionIndex:conversions.indexOf(conversion)}}));return{types:exactTypes.concat(convertibleTypes),restParam:restParam}}function parseSignature(signature,fn,conversions){var params=[];return""!==signature.trim()&&(params=signature.split(",").map(trim).map((function(param,index,array){var parsedParam=parseParam(param,conversions);if(parsedParam.restParam&&index!==array.length-1)throw new SyntaxError('Unexpected rest parameter "'+param+'": only allowed for the last parameter');return parsedParam}))),params.some(isInvalidParam)?null:{params:params,fn:fn}}function hasRestParam(params){var param=last(params);return!!param&&param.restParam}function hasConversions(param){return param.types.some((function(type){return null!=type.conversion}))}function compileTest(param){if(param&&0!==param.types.length){if(1===param.types.length)return findTypeByName(param.types[0].name).test;if(2===param.types.length){var test0=findTypeByName(param.types[0].name).test,test1=findTypeByName(param.types[1].name).test;return function or(x){return test0(x)||test1(x)}}var tests=param.types.map((function(type){return findTypeByName(type.name).test}));return function or(x){for(var i=0;i<tests.length;i++)if(tests[i](x))return!0;return!1}}return ok}function compileTests(params){var tests,test0,test1;if(hasRestParam(params)){var varIndex=(tests=initial(params).map(compileTest)).length,lastTest=compileTest(last(params)),testRestParam=function(args){for(var i=varIndex;i<args.length;i++)if(!lastTest(args[i]))return!1;return!0};return function testArgs(args){for(var i=0;i<tests.length;i++)if(!tests[i](args[i]))return!1;return testRestParam(args)&&args.length>=varIndex+1}}return 0===params.length?function testArgs(args){return 0===args.length}:1===params.length?(test0=compileTest(params[0]),function testArgs(args){return test0(args[0])&&1===args.length}):2===params.length?(test0=compileTest(params[0]),test1=compileTest(params[1]),function testArgs(args){return test0(args[0])&&test1(args[1])&&2===args.length}):(tests=params.map(compileTest),function testArgs(args){for(var i=0;i<tests.length;i++)if(!tests[i](args[i]))return!1;return args.length===tests.length})}function getParamAtIndex(signature,index){return index<signature.params.length?signature.params[index]:hasRestParam(signature.params)?last(signature.params):null}function getExpectedTypeNames(signature,index,excludeConversions){var param=getParamAtIndex(signature,index);return(param?excludeConversions?param.types.filter(isExactType):param.types:[]).map(getTypeName)}function getTypeName(type){return type.name}function isExactType(type){return null===type.conversion||void 0===type.conversion}function mergeExpectedParams(signatures,index){var typeNames=uniq(flatMap(signatures,(function(signature){return getExpectedTypeNames(signature,index,!1)})));return-1!==typeNames.indexOf("any")?["any"]:typeNames}function createError(name,args,signatures){var err,expected,index,_name=name||"unnamed",matchingSignatures=signatures;for(index=0;index<args.length;index++){var nextMatchingDefs=matchingSignatures.filter((function(signature){var test=compileTest(getParamAtIndex(signature,index));return(index<signature.params.length||hasRestParam(signature.params))&&test(args[index])}));if(0===nextMatchingDefs.length){if((expected=mergeExpectedParams(matchingSignatures,index)).length>0){var actualType=findTypeName(args[index]);return(err=new TypeError("Unexpected type of argument in function "+_name+" (expected: "+expected.join(" or ")+", actual: "+actualType+", index: "+index+")")).data={category:"wrongType",fn:_name,index:index,actual:actualType,expected:expected},err}}else matchingSignatures=nextMatchingDefs}var lengths=matchingSignatures.map((function(signature){return hasRestParam(signature.params)?1/0:signature.params.length}));if(args.length<Math.min.apply(null,lengths))return expected=mergeExpectedParams(matchingSignatures,index),(err=new TypeError("Too few arguments in function "+_name+" (expected: "+expected.join(" or ")+", index: "+args.length+")")).data={category:"tooFewArgs",fn:_name,index:args.length,expected:expected},err;var maxLength=Math.max.apply(null,lengths);return args.length>maxLength?((err=new TypeError("Too many arguments in function "+_name+" (expected: "+maxLength+", actual: "+args.length+")")).data={category:"tooManyArgs",fn:_name,index:args.length,expectedLength:maxLength},err):((err=new TypeError('Arguments of type "'+args.join(", ")+'" do not match any of the defined signatures of function '+_name+".")).data={category:"mismatch",actual:args.map(findTypeName)},err)}function getLowestTypeIndex(param){for(var min=999,i=0;i<param.types.length;i++)isExactType(param.types[i])&&(min=Math.min(min,param.types[i].typeIndex));return min}function getLowestConversionIndex(param){for(var min=999,i=0;i<param.types.length;i++)isExactType(param.types[i])||(min=Math.min(min,param.types[i].conversionIndex));return min}function compareParams(param1,param2){var c;return 0!=(c=param1.restParam-param2.restParam)||0!=(c=hasConversions(param1)-hasConversions(param2))||0!=(c=getLowestTypeIndex(param1)-getLowestTypeIndex(param2))?c:getLowestConversionIndex(param1)-getLowestConversionIndex(param2)}function compareSignatures(signature1,signature2){var i,c,len=Math.min(signature1.params.length,signature2.params.length);if(0!=(c=signature1.params.some(hasConversions)-signature2.params.some(hasConversions)))return c;for(i=0;i<len;i++)if(0!=(c=hasConversions(signature1.params[i])-hasConversions(signature2.params[i])))return c;for(i=0;i<len;i++)if(0!==(c=compareParams(signature1.params[i],signature2.params[i])))return c;return signature1.params.length-signature2.params.length}function filterConversions(conversions,typeNames){var matches={};return conversions.forEach((function(conversion){-1!==typeNames.indexOf(conversion.from)||-1===typeNames.indexOf(conversion.to)||matches[conversion.from]||(matches[conversion.from]=conversion)})),Object.keys(matches).map((function(from){return matches[from]}))}function compileArgsPreprocessing(params,fn){var fnConvert=fn;if(params.some(hasConversions)){var restParam=hasRestParam(params),compiledConversions=params.map(compileArgConversion);fnConvert=function convertArgs(){for(var args=[],last=restParam?arguments.length-1:arguments.length,i=0;i<last;i++)args[i]=compiledConversions[i](arguments[i]);return restParam&&(args[last]=arguments[last].map(compiledConversions[last])),fn.apply(this,args)}}var fnPreprocess=fnConvert;if(hasRestParam(params)){var offset=params.length-1;fnPreprocess=function preprocessRestParams(){return fnConvert.apply(this,slice(arguments,0,offset).concat([slice(arguments,offset)]))}}return fnPreprocess}function compileArgConversion(param){var test0,test1,conversion0,conversion1,tests=[],conversions=[];switch(param.types.forEach((function(type){type.conversion&&(tests.push(findTypeByName(type.conversion.from).test),conversions.push(type.conversion.convert))})),conversions.length){case 0:return function convertArg(arg){return arg};case 1:return test0=tests[0],conversion0=conversions[0],function convertArg(arg){return test0(arg)?conversion0(arg):arg};case 2:return test0=tests[0],test1=tests[1],conversion0=conversions[0],conversion1=conversions[1],function convertArg(arg){return test0(arg)?conversion0(arg):test1(arg)?conversion1(arg):arg};default:return function convertArg(arg){for(var i=0;i<conversions.length;i++)if(tests[i](arg))return conversions[i](arg);return arg}}}function createSignaturesMap(signatures){var signaturesMap={};return signatures.forEach((function(signature){signature.params.some(hasConversions)||splitParams(signature.params,!0).forEach((function(params){signaturesMap[stringifyParams(params)]=signature.fn}))})),signaturesMap}function splitParams(params,ignoreConversionTypes){function _splitParams(params,index,types){if(index<params.length){var typeGroups,param=params[index],filteredTypes=ignoreConversionTypes?param.types.filter(isExactType):param.types;if(param.restParam){var exactTypes=filteredTypes.filter(isExactType);typeGroups=exactTypes.length<filteredTypes.length?[exactTypes,filteredTypes]:[filteredTypes]}else typeGroups=filteredTypes.map((function(type){return[type]}));return flatMap(typeGroups,(function(typeGroup){return _splitParams(params,index+1,types.concat([typeGroup]))}))}return[types.map((function(type,typeIndex){return{types:type,restParam:typeIndex===params.length-1&&hasRestParam(params)}}))]}return _splitParams(params,0,[])}function hasConflictingParams(signature1,signature2){for(var ii=Math.max(signature1.params.length,signature2.params.length),i=0;i<ii;i++)if(!hasOverlap(getExpectedTypeNames(signature1,i,!0),getExpectedTypeNames(signature2,i,!0)))return!1;var len1=signature1.params.length,len2=signature2.params.length,restParam1=hasRestParam(signature1.params),restParam2=hasRestParam(signature2.params);return restParam1?restParam2?len1===len2:len2>=len1:restParam2?len1>=len2:len1===len2}function createTypedFunction(name,signaturesMap){if(0===Object.keys(signaturesMap).length)throw new SyntaxError("No signatures provided");var parsedSignatures=[];Object.keys(signaturesMap).map((function(signature){return parseSignature(signature,signaturesMap[signature],typed.conversions)})).filter(notNull).forEach((function(parsedSignature){var conflictingSignature=findInArray(parsedSignatures,(function(s){return hasConflictingParams(s,parsedSignature)}));if(conflictingSignature)throw new TypeError('Conflicting signatures "'+stringifyParams(conflictingSignature.params)+'" and "'+stringifyParams(parsedSignature.params)+'".');parsedSignatures.push(parsedSignature)}));var signatures=flatMap(parsedSignatures,(function(parsedSignature){return(parsedSignature?splitParams(parsedSignature.params,!1):[]).map((function(params){return{params:params,fn:parsedSignature.fn}}))})).filter(notNull);signatures.sort(compareSignatures);var ok0=signatures[0]&&signatures[0].params.length<=2&&!hasRestParam(signatures[0].params),ok1=signatures[1]&&signatures[1].params.length<=2&&!hasRestParam(signatures[1].params),ok2=signatures[2]&&signatures[2].params.length<=2&&!hasRestParam(signatures[2].params),ok3=signatures[3]&&signatures[3].params.length<=2&&!hasRestParam(signatures[3].params),ok4=signatures[4]&&signatures[4].params.length<=2&&!hasRestParam(signatures[4].params),ok5=signatures[5]&&signatures[5].params.length<=2&&!hasRestParam(signatures[5].params),allOk=ok0&&ok1&&ok2&&ok3&&ok4&&ok5,tests=signatures.map((function(signature){return compileTests(signature.params)})),test00=ok0?compileTest(signatures[0].params[0]):notOk,test10=ok1?compileTest(signatures[1].params[0]):notOk,test20=ok2?compileTest(signatures[2].params[0]):notOk,test30=ok3?compileTest(signatures[3].params[0]):notOk,test40=ok4?compileTest(signatures[4].params[0]):notOk,test50=ok5?compileTest(signatures[5].params[0]):notOk,test01=ok0?compileTest(signatures[0].params[1]):notOk,test11=ok1?compileTest(signatures[1].params[1]):notOk,test21=ok2?compileTest(signatures[2].params[1]):notOk,test31=ok3?compileTest(signatures[3].params[1]):notOk,test41=ok4?compileTest(signatures[4].params[1]):notOk,test51=ok5?compileTest(signatures[5].params[1]):notOk,fns=signatures.map((function(signature){return compileArgsPreprocessing(signature.params,signature.fn)})),fn0=ok0?fns[0]:undef,fn1=ok1?fns[1]:undef,fn2=ok2?fns[2]:undef,fn3=ok3?fns[3]:undef,fn4=ok4?fns[4]:undef,fn5=ok5?fns[5]:undef,len0=ok0?signatures[0].params.length:-1,len1=ok1?signatures[1].params.length:-1,len2=ok2?signatures[2].params.length:-1,len3=ok3?signatures[3].params.length:-1,len4=ok4?signatures[4].params.length:-1,len5=ok5?signatures[5].params.length:-1,iStart=allOk?6:0,iEnd=signatures.length,generic=function generic(){for(var i=iStart;i<iEnd;i++)if(tests[i](arguments))return fns[i].apply(this,arguments);return typed.onMismatch(name,arguments,signatures)},fn=function fn(arg0,arg1){return arguments.length===len0&&test00(arg0)&&test01(arg1)?fn0.apply(fn,arguments):arguments.length===len1&&test10(arg0)&&test11(arg1)?fn1.apply(fn,arguments):arguments.length===len2&&test20(arg0)&&test21(arg1)?fn2.apply(fn,arguments):arguments.length===len3&&test30(arg0)&&test31(arg1)?fn3.apply(fn,arguments):arguments.length===len4&&test40(arg0)&&test41(arg1)?fn4.apply(fn,arguments):arguments.length===len5&&test50(arg0)&&test51(arg1)?fn5.apply(fn,arguments):generic.apply(fn,arguments)};try{Object.defineProperty(fn,"name",{value:name})}catch(err){}return fn.signatures=createSignaturesMap(signatures),fn}function _onMismatch(name,args,signatures){throw createError(name,args,signatures)}function notIgnore(typeName){return-1===typed.ignore.indexOf(typeName)}function trim(str){return str.trim()}function notEmpty(str){return!!str}function notNull(value){return null!==value}function isInvalidParam(param){return 0===param.types.length}function initial(arr){return arr.slice(0,arr.length-1)}function last(arr){return arr[arr.length-1]}function slice(arr,start,end){return Array.prototype.slice.call(arr,start,end)}function contains(array,item){return-1!==array.indexOf(item)}function hasOverlap(array1,array2){for(var i=0;i<array1.length;i++)if(contains(array2,array1[i]))return!0;return!1}function findInArray(arr,test){for(var i=0;i<arr.length;i++)if(test(arr[i]))return arr[i]}function uniq(arr){for(var entries={},i=0;i<arr.length;i++)entries[arr[i]]=!0;return Object.keys(entries)}function flatMap(arr,callback){return Array.prototype.concat.apply([],arr.map(callback))}function getName(fns){for(var name="",i=0;i<fns.length;i++){var fn=fns[i];if(("object"==typeof fn.signatures||"string"==typeof fn.signature)&&""!==fn.name)if(""===name)name=fn.name;else if(name!==fn.name){var err=new Error("Function names do not match (expected: "+name+", actual: "+fn.name+")");throw err.data={actual:fn.name,expected:name},err}}return name}function extractSignatures(fns){var err,signaturesMap={};function validateUnique(_signature,_fn){if(signaturesMap.hasOwnProperty(_signature)&&_fn!==signaturesMap[_signature])throw(err=new Error('Signature "'+_signature+'" is defined twice')).data={signature:_signature},err}for(var i=0;i<fns.length;i++){var fn=fns[i];if("object"==typeof fn.signatures)for(var signature in fn.signatures)fn.signatures.hasOwnProperty(signature)&&(validateUnique(signature,fn.signatures[signature]),signaturesMap[signature]=fn.signatures[signature]);else{if("string"!=typeof fn.signature)throw(err=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},err;validateUnique(fn.signature,fn),signaturesMap[fn.signature]=fn}}return signaturesMap}return(typed=createTypedFunction("typed",{"string, Object":createTypedFunction,Object:function(signaturesMap){var fns=[];for(var signature in signaturesMap)signaturesMap.hasOwnProperty(signature)&&fns.push(signaturesMap[signature]);return createTypedFunction(getName(fns),signaturesMap)},"...Function":function(fns){return createTypedFunction(getName(fns),extractSignatures(fns))},"string, ...Function":function(name,fns){return createTypedFunction(name,extractSignatures(fns))}})).create=create,typed.types=_types,typed.conversions=_conversions,typed.ignore=_ignore,typed.onMismatch=_onMismatch,typed.throwMismatchError=_onMismatch,typed.createError=createError,typed.convert=convert,typed.find=find,typed.addType=function(type,beforeObjectTest){if(!type||"string"!=typeof type.name||"function"!=typeof type.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==beforeObjectTest)for(var i=0;i<typed.types.length;i++)if("Object"===typed.types[i].name)return void typed.types.splice(i,0,type);typed.types.push(type)},typed.addConversion=function(conversion){if(!conversion||"string"!=typeof conversion.from||"string"!=typeof conversion.to||"function"!=typeof conversion.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");typed.conversions.push(conversion)},typed}return create()},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"./node_modules/viewport-mercator-project/module.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MAX_LATITUDE:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.LO},WebMercatorViewport:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.DW},addMetersToLngLat:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.eG},altitudeToFovy:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.Lu},default:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.DW},fitBounds:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.Xg},flyToViewport:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.if},fovyToAltitude:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.sj},getBounds:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.zX},getDistanceScales:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.ro},getFlyToDuration:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.up},getMeterZoom:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.Bf},getProjectionMatrix:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.c7},getProjectionParameters:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.wl},getViewMatrix:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.lf},lngLatToWorld:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.w5},normalizeViewportProps:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.QA},pixelsToWorld:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.CT},scaleToZoom:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.sO},unitsPerMeter:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.NC},worldToLngLat:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.es},worldToPixels:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.aW},zoomToScale:function(){return _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.EO}});var _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@math.gl/web-mercator/dist/esm/index.js")},"./packages/subsurface-viewer/node_modules/@equinor/eds-core-react/dist/esm/components/Progress/Circular/CircularProgress.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return CircularProgress}});var CircularProgress_tokens_namespaceObject={};__webpack_require__.r(CircularProgress_tokens_namespaceObject),__webpack_require__.d(CircularProgress_tokens_namespaceObject,{neutral:function(){return neutral},primary:function(){return primary}});var react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),tokens_umd=__webpack_require__("./packages/subsurface-viewer/node_modules/@equinor/eds-tokens/dist/tokens.umd.js");const{colors:{infographic:{primary__moss_green_13:{rgba:primary13},primary__moss_green_100:{rgba:primary100}},interactive:{icon_on_interactive_colors:{rgba:icon_on_interactive_colors}},ui:{background__semitransparent:{rgba:background__semitransparent}}}}=tokens_umd.tokens,primary={background:primary13,entities:{progress:{background:primary100}}},neutral={background:background__semitransparent,entities:{progress:{background:icon_on_interactive_colors}}};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const indeterminate=(0,styled_components_browser_esm.keyframes)(["100%{transform:rotate(360deg);}"]),Svg=styled_components_browser_esm.default.svg.withConfig({displayName:"CircularProgress__Svg",componentId:"sc-hib054-0"})(["display:inline-block;",";"],(({variant:variant})=>"indeterminate"===variant?(0,styled_components_browser_esm.css)(["animation:"," 1.4s linear infinite;"],indeterminate):(0,styled_components_browser_esm.css)(["transform:rotate(-90deg);"]))),TrackCircle=styled_components_browser_esm.default.circle.withConfig({displayName:"CircularProgress__TrackCircle",componentId:"sc-hib054-1"})([""]),ProgressCircle=styled_components_browser_esm.default.circle.withConfig({displayName:"CircularProgress__ProgressCircle",componentId:"sc-hib054-2"})([""]),CircularProgress=(0,react.forwardRef)((function CircularProgress({variant:variant="indeterminate",value:value=null,size:size=48,color:color="primary",...rest},ref){const progress=Math.round(value),trackStyle={},props={...rest,ref:ref,variant:variant},token=(color=>CircularProgress_tokens_namespaceObject[color]?CircularProgress_tokens_namespaceObject[color]:{background:"transparent",entities:{progress:{background:color}}})(color),circumference=2*Math.PI*22;return"determinate"===variant&&(trackStyle.stroke=circumference.toFixed(3),trackStyle.strokeDashoffset="".concat(((100-progress)/100*circumference).toFixed(3),"px"),props["aria-valuenow"]=progress,void 0!==value&&(props["aria-valuenow"]=progress,props["aria-valuemin"]=0,props["aria-valuemax"]=100)),(0,jsx_runtime.jsxs)(Svg,{...props,viewBox:"24 24 48 48",role:"progressbar",height:size,width:size,preserveAspectRatio:"xMidYMid meet",children:[(0,jsx_runtime.jsx)(TrackCircle,{style:trackStyle,cx:48,cy:48,r:22,fill:"none",strokeWidth:4,stroke:token.background}),(0,jsx_runtime.jsx)(ProgressCircle,{style:trackStyle,cx:48,cy:48,r:22,fill:"none",strokeLinecap:"round",strokeWidth:4,strokeDasharray:"determinate"===variant?circumference:48,stroke:token.entities.progress.background})]})}))}}]);